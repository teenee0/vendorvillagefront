var Sq=Object.defineProperty;var Nq=(e,t,n)=>t in e?Sq(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Pt=(e,t,n)=>Nq(e,typeof t!="symbol"?t+"":t,n);function ZN(e,t){for(var n=0;n<t.length;n++){const a=t[n];if(typeof a!="string"&&!Array.isArray(a)){for(const r in a)if(r!=="default"&&!(r in e)){const i=Object.getOwnPropertyDescriptor(a,r);i&&Object.defineProperty(e,r,i.get?i:{enumerable:!0,get:()=>a[r]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))a(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&a(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function a(r){if(r.ep)return;r.ep=!0;const i=n(r);fetch(r.href,i)}})();var _d=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ti(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function kq(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var n=function a(){return this instanceof a?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(a){var r=Object.getOwnPropertyDescriptor(e,a);Object.defineProperty(n,a,r.get?r:{enumerable:!0,get:function(){return e[a]}})}),n}var Tw={exports:{}},r1={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ck;function Iq(){if(ck)return r1;ck=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(a,r,i){var o=null;if(i!==void 0&&(o=""+i),r.key!==void 0&&(o=""+r.key),"key"in r){i={};for(var c in r)c!=="key"&&(i[c]=r[c])}else i=r;return r=i.ref,{$$typeof:e,type:a,key:o,ref:r!==void 0?r:null,props:i}}return r1.Fragment=t,r1.jsx=n,r1.jsxs=n,r1}var lk;function Eq(){return lk||(lk=1,Tw.exports=Iq()),Tw.exports}var s=Eq(),Dw={exports:{}},ma={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uk;function Tq(){if(uk)return ma;uk=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),o=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),g=Symbol.iterator;function b(A){return A===null||typeof A!="object"?null:(A=g&&A[g]||A["@@iterator"],typeof A=="function"?A:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,S={};function k(A,G,Q){this.props=A,this.context=G,this.refs=S,this.updater=Q||w}k.prototype.isReactComponent={},k.prototype.setState=function(A,G){if(typeof A!="object"&&typeof A!="function"&&A!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,A,G,"setState")},k.prototype.forceUpdate=function(A){this.updater.enqueueForceUpdate(this,A,"forceUpdate")};function E(){}E.prototype=k.prototype;function D(A,G,Q){this.props=A,this.context=G,this.refs=S,this.updater=Q||w}var R=D.prototype=new E;R.constructor=D,C(R,k.prototype),R.isPureReactComponent=!0;var P=Array.isArray,B={H:null,A:null,T:null,S:null,V:null},O=Object.prototype.hasOwnProperty;function $(A,G,Q,Y,ae,ne){return Q=ne.ref,{$$typeof:e,type:A,key:G,ref:Q!==void 0?Q:null,props:ne}}function U(A,G){return $(A.type,G,void 0,void 0,void 0,A.props)}function F(A){return typeof A=="object"&&A!==null&&A.$$typeof===e}function H(A){var G={"=":"=0",":":"=2"};return"$"+A.replace(/[=:]/g,function(Q){return G[Q]})}var se=/\/+/g;function K(A,G){return typeof A=="object"&&A!==null&&A.key!=null?H(""+A.key):G.toString(36)}function te(){}function J(A){switch(A.status){case"fulfilled":return A.value;case"rejected":throw A.reason;default:switch(typeof A.status=="string"?A.then(te,te):(A.status="pending",A.then(function(G){A.status==="pending"&&(A.status="fulfilled",A.value=G)},function(G){A.status==="pending"&&(A.status="rejected",A.reason=G)})),A.status){case"fulfilled":return A.value;case"rejected":throw A.reason}}throw A}function z(A,G,Q,Y,ae){var ne=typeof A;(ne==="undefined"||ne==="boolean")&&(A=null);var re=!1;if(A===null)re=!0;else switch(ne){case"bigint":case"string":case"number":re=!0;break;case"object":switch(A.$$typeof){case e:case t:re=!0;break;case f:return re=A._init,z(re(A._payload),G,Q,Y,ae)}}if(re)return ae=ae(A),re=Y===""?"."+K(A,0):Y,P(ae)?(Q="",re!=null&&(Q=re.replace(se,"$&/")+"/"),z(ae,G,Q,"",function(Ce){return Ce})):ae!=null&&(F(ae)&&(ae=U(ae,Q+(ae.key==null||A&&A.key===ae.key?"":(""+ae.key).replace(se,"$&/")+"/")+re)),G.push(ae)),1;re=0;var oe=Y===""?".":Y+":";if(P(A))for(var me=0;me<A.length;me++)Y=A[me],ne=oe+K(Y,me),re+=z(Y,G,Q,ne,ae);else if(me=b(A),typeof me=="function")for(A=me.call(A),me=0;!(Y=A.next()).done;)Y=Y.value,ne=oe+K(Y,me++),re+=z(Y,G,Q,ne,ae);else if(ne==="object"){if(typeof A.then=="function")return z(J(A),G,Q,Y,ae);throw G=String(A),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(A).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.")}return re}function V(A,G,Q){if(A==null)return A;var Y=[],ae=0;return z(A,Y,"","",function(ne){return G.call(Q,ne,ae++)}),Y}function M(A){if(A._status===-1){var G=A._result;G=G(),G.then(function(Q){(A._status===0||A._status===-1)&&(A._status=1,A._result=Q)},function(Q){(A._status===0||A._status===-1)&&(A._status=2,A._result=Q)}),A._status===-1&&(A._status=0,A._result=G)}if(A._status===1)return A._result.default;throw A._result}var ee=typeof reportError=="function"?reportError:function(A){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var G=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof A=="object"&&A!==null&&typeof A.message=="string"?String(A.message):String(A),error:A});if(!window.dispatchEvent(G))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",A);return}console.error(A)};function Z(){}return ma.Children={map:V,forEach:function(A,G,Q){V(A,function(){G.apply(this,arguments)},Q)},count:function(A){var G=0;return V(A,function(){G++}),G},toArray:function(A){return V(A,function(G){return G})||[]},only:function(A){if(!F(A))throw Error("React.Children.only expected to receive a single React element child.");return A}},ma.Component=k,ma.Fragment=n,ma.Profiler=r,ma.PureComponent=D,ma.StrictMode=a,ma.Suspense=l,ma.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=B,ma.__COMPILER_RUNTIME={__proto__:null,c:function(A){return B.H.useMemoCache(A)}},ma.cache=function(A){return function(){return A.apply(null,arguments)}},ma.cloneElement=function(A,G,Q){if(A==null)throw Error("The argument must be a React element, but you passed "+A+".");var Y=C({},A.props),ae=A.key,ne=void 0;if(G!=null)for(re in G.ref!==void 0&&(ne=void 0),G.key!==void 0&&(ae=""+G.key),G)!O.call(G,re)||re==="key"||re==="__self"||re==="__source"||re==="ref"&&G.ref===void 0||(Y[re]=G[re]);var re=arguments.length-2;if(re===1)Y.children=Q;else if(1<re){for(var oe=Array(re),me=0;me<re;me++)oe[me]=arguments[me+2];Y.children=oe}return $(A.type,ae,void 0,void 0,ne,Y)},ma.createContext=function(A){return A={$$typeof:o,_currentValue:A,_currentValue2:A,_threadCount:0,Provider:null,Consumer:null},A.Provider=A,A.Consumer={$$typeof:i,_context:A},A},ma.createElement=function(A,G,Q){var Y,ae={},ne=null;if(G!=null)for(Y in G.key!==void 0&&(ne=""+G.key),G)O.call(G,Y)&&Y!=="key"&&Y!=="__self"&&Y!=="__source"&&(ae[Y]=G[Y]);var re=arguments.length-2;if(re===1)ae.children=Q;else if(1<re){for(var oe=Array(re),me=0;me<re;me++)oe[me]=arguments[me+2];ae.children=oe}if(A&&A.defaultProps)for(Y in re=A.defaultProps,re)ae[Y]===void 0&&(ae[Y]=re[Y]);return $(A,ne,void 0,void 0,null,ae)},ma.createRef=function(){return{current:null}},ma.forwardRef=function(A){return{$$typeof:c,render:A}},ma.isValidElement=F,ma.lazy=function(A){return{$$typeof:f,_payload:{_status:-1,_result:A},_init:M}},ma.memo=function(A,G){return{$$typeof:d,type:A,compare:G===void 0?null:G}},ma.startTransition=function(A){var G=B.T,Q={};B.T=Q;try{var Y=A(),ae=B.S;ae!==null&&ae(Q,Y),typeof Y=="object"&&Y!==null&&typeof Y.then=="function"&&Y.then(Z,ee)}catch(ne){ee(ne)}finally{B.T=G}},ma.unstable_useCacheRefresh=function(){return B.H.useCacheRefresh()},ma.use=function(A){return B.H.use(A)},ma.useActionState=function(A,G,Q){return B.H.useActionState(A,G,Q)},ma.useCallback=function(A,G){return B.H.useCallback(A,G)},ma.useContext=function(A){return B.H.useContext(A)},ma.useDebugValue=function(){},ma.useDeferredValue=function(A,G){return B.H.useDeferredValue(A,G)},ma.useEffect=function(A,G,Q){var Y=B.H;if(typeof Q=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return Y.useEffect(A,G)},ma.useId=function(){return B.H.useId()},ma.useImperativeHandle=function(A,G,Q){return B.H.useImperativeHandle(A,G,Q)},ma.useInsertionEffect=function(A,G){return B.H.useInsertionEffect(A,G)},ma.useLayoutEffect=function(A,G){return B.H.useLayoutEffect(A,G)},ma.useMemo=function(A,G){return B.H.useMemo(A,G)},ma.useOptimistic=function(A,G){return B.H.useOptimistic(A,G)},ma.useReducer=function(A,G,Q){return B.H.useReducer(A,G,Q)},ma.useRef=function(A){return B.H.useRef(A)},ma.useState=function(A){return B.H.useState(A)},ma.useSyncExternalStore=function(A,G,Q){return B.H.useSyncExternalStore(A,G,Q)},ma.useTransition=function(){return B.H.useTransition()},ma.version="19.1.0",ma}var dk;function ol(){return dk||(dk=1,Dw.exports=Tq()),Dw.exports}var _=ol();const nt=Ti(_),Xm=ZN({__proto__:null,default:nt},[_]);var Aw={exports:{}},i1={},Mw={exports:{}},Rw={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hk;function Dq(){return hk||(hk=1,function(e){function t(V,M){var ee=V.length;V.push(M);e:for(;0<ee;){var Z=ee-1>>>1,A=V[Z];if(0<r(A,M))V[Z]=M,V[ee]=A,ee=Z;else break e}}function n(V){return V.length===0?null:V[0]}function a(V){if(V.length===0)return null;var M=V[0],ee=V.pop();if(ee!==M){V[0]=ee;e:for(var Z=0,A=V.length,G=A>>>1;Z<G;){var Q=2*(Z+1)-1,Y=V[Q],ae=Q+1,ne=V[ae];if(0>r(Y,ee))ae<A&&0>r(ne,Y)?(V[Z]=ne,V[ae]=ee,Z=ae):(V[Z]=Y,V[Q]=ee,Z=Q);else if(ae<A&&0>r(ne,ee))V[Z]=ne,V[ae]=ee,Z=ae;else break e}}return M}function r(V,M){var ee=V.sortIndex-M.sortIndex;return ee!==0?ee:V.id-M.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,c=o.now();e.unstable_now=function(){return o.now()-c}}var l=[],d=[],f=1,g=null,b=3,w=!1,C=!1,S=!1,k=!1,E=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;function P(V){for(var M=n(d);M!==null;){if(M.callback===null)a(d);else if(M.startTime<=V)a(d),M.sortIndex=M.expirationTime,t(l,M);else break;M=n(d)}}function B(V){if(S=!1,P(V),!C)if(n(l)!==null)C=!0,O||(O=!0,K());else{var M=n(d);M!==null&&z(B,M.startTime-V)}}var O=!1,$=-1,U=5,F=-1;function H(){return k?!0:!(e.unstable_now()-F<U)}function se(){if(k=!1,O){var V=e.unstable_now();F=V;var M=!0;try{e:{C=!1,S&&(S=!1,D($),$=-1),w=!0;var ee=b;try{t:{for(P(V),g=n(l);g!==null&&!(g.expirationTime>V&&H());){var Z=g.callback;if(typeof Z=="function"){g.callback=null,b=g.priorityLevel;var A=Z(g.expirationTime<=V);if(V=e.unstable_now(),typeof A=="function"){g.callback=A,P(V),M=!0;break t}g===n(l)&&a(l),P(V)}else a(l);g=n(l)}if(g!==null)M=!0;else{var G=n(d);G!==null&&z(B,G.startTime-V),M=!1}}break e}finally{g=null,b=ee,w=!1}M=void 0}}finally{M?K():O=!1}}}var K;if(typeof R=="function")K=function(){R(se)};else if(typeof MessageChannel<"u"){var te=new MessageChannel,J=te.port2;te.port1.onmessage=se,K=function(){J.postMessage(null)}}else K=function(){E(se,0)};function z(V,M){$=E(function(){V(e.unstable_now())},M)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(V){V.callback=null},e.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<V?Math.floor(1e3/V):5},e.unstable_getCurrentPriorityLevel=function(){return b},e.unstable_next=function(V){switch(b){case 1:case 2:case 3:var M=3;break;default:M=b}var ee=b;b=M;try{return V()}finally{b=ee}},e.unstable_requestPaint=function(){k=!0},e.unstable_runWithPriority=function(V,M){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var ee=b;b=V;try{return M()}finally{b=ee}},e.unstable_scheduleCallback=function(V,M,ee){var Z=e.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?Z+ee:Z):ee=Z,V){case 1:var A=-1;break;case 2:A=250;break;case 5:A=1073741823;break;case 4:A=1e4;break;default:A=5e3}return A=ee+A,V={id:f++,callback:M,priorityLevel:V,startTime:ee,expirationTime:A,sortIndex:-1},ee>Z?(V.sortIndex=ee,t(d,V),n(l)===null&&V===n(d)&&(S?(D($),$=-1):S=!0,z(B,ee-Z))):(V.sortIndex=A,t(l,V),C||w||(C=!0,O||(O=!0,K()))),V},e.unstable_shouldYield=H,e.unstable_wrapCallback=function(V){var M=b;return function(){var ee=b;b=M;try{return V.apply(this,arguments)}finally{b=ee}}}}(Rw)),Rw}var fk;function Aq(){return fk||(fk=1,Mw.exports=Dq()),Mw.exports}var Bw={exports:{}},lo={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mk;function Mq(){if(mk)return lo;mk=1;var e=ol();function t(l){var d="https://react.dev/errors/"+l;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)d+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+l+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var a={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},r=Symbol.for("react.portal");function i(l,d,f){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:g==null?null:""+g,children:l,containerInfo:d,implementation:f}}var o=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(l,d){if(l==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return lo.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,lo.createPortal=function(l,d){var f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(t(299));return i(l,d,null,f)},lo.flushSync=function(l){var d=o.T,f=a.p;try{if(o.T=null,a.p=2,l)return l()}finally{o.T=d,a.p=f,a.d.f()}},lo.preconnect=function(l,d){typeof l=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,a.d.C(l,d))},lo.prefetchDNS=function(l){typeof l=="string"&&a.d.D(l)},lo.preinit=function(l,d){if(typeof l=="string"&&d&&typeof d.as=="string"){var f=d.as,g=c(f,d.crossOrigin),b=typeof d.integrity=="string"?d.integrity:void 0,w=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;f==="style"?a.d.S(l,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:g,integrity:b,fetchPriority:w}):f==="script"&&a.d.X(l,{crossOrigin:g,integrity:b,fetchPriority:w,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},lo.preinitModule=function(l,d){if(typeof l=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var f=c(d.as,d.crossOrigin);a.d.M(l,{crossOrigin:f,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&a.d.M(l)},lo.preload=function(l,d){if(typeof l=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var f=d.as,g=c(f,d.crossOrigin);a.d.L(l,f,{crossOrigin:g,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},lo.preloadModule=function(l,d){if(typeof l=="string")if(d){var f=c(d.as,d.crossOrigin);a.d.m(l,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:f,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else a.d.m(l)},lo.requestFormReset=function(l){a.d.r(l)},lo.unstable_batchedUpdates=function(l,d){return l(d)},lo.useFormState=function(l,d,f){return o.H.useFormState(l,d,f)},lo.useFormStatus=function(){return o.H.useHostTransitionStatus()},lo.version="19.1.0",lo}var pk;function IA(){if(pk)return Bw.exports;pk=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Bw.exports=Mq(),Bw.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gk;function Rq(){if(gk)return i1;gk=1;var e=Aq(),t=ol(),n=IA();function a(u){var m="https://react.dev/errors/"+u;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)m+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+u+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(u){return!(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11)}function i(u){var m=u,x=u;if(u.alternate)for(;m.return;)m=m.return;else{u=m;do m=u,(m.flags&4098)!==0&&(x=m.return),u=m.return;while(u)}return m.tag===3?x:null}function o(u){if(u.tag===13){var m=u.memoizedState;if(m===null&&(u=u.alternate,u!==null&&(m=u.memoizedState)),m!==null)return m.dehydrated}return null}function c(u){if(i(u)!==u)throw Error(a(188))}function l(u){var m=u.alternate;if(!m){if(m=i(u),m===null)throw Error(a(188));return m!==u?null:u}for(var x=u,N=m;;){var L=x.return;if(L===null)break;var W=L.alternate;if(W===null){if(N=L.return,N!==null){x=N;continue}break}if(L.child===W.child){for(W=L.child;W;){if(W===x)return c(L),u;if(W===N)return c(L),m;W=W.sibling}throw Error(a(188))}if(x.return!==N.return)x=L,N=W;else{for(var _e=!1,Me=L.child;Me;){if(Me===x){_e=!0,x=L,N=W;break}if(Me===N){_e=!0,N=L,x=W;break}Me=Me.sibling}if(!_e){for(Me=W.child;Me;){if(Me===x){_e=!0,x=W,N=L;break}if(Me===N){_e=!0,N=W,x=L;break}Me=Me.sibling}if(!_e)throw Error(a(189))}}if(x.alternate!==N)throw Error(a(190))}if(x.tag!==3)throw Error(a(188));return x.stateNode.current===x?u:m}function d(u){var m=u.tag;if(m===5||m===26||m===27||m===6)return u;for(u=u.child;u!==null;){if(m=d(u),m!==null)return m;u=u.sibling}return null}var f=Object.assign,g=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),D=Symbol.for("react.consumer"),R=Symbol.for("react.context"),P=Symbol.for("react.forward_ref"),B=Symbol.for("react.suspense"),O=Symbol.for("react.suspense_list"),$=Symbol.for("react.memo"),U=Symbol.for("react.lazy"),F=Symbol.for("react.activity"),H=Symbol.for("react.memo_cache_sentinel"),se=Symbol.iterator;function K(u){return u===null||typeof u!="object"?null:(u=se&&u[se]||u["@@iterator"],typeof u=="function"?u:null)}var te=Symbol.for("react.client.reference");function J(u){if(u==null)return null;if(typeof u=="function")return u.$$typeof===te?null:u.displayName||u.name||null;if(typeof u=="string")return u;switch(u){case C:return"Fragment";case k:return"Profiler";case S:return"StrictMode";case B:return"Suspense";case O:return"SuspenseList";case F:return"Activity"}if(typeof u=="object")switch(u.$$typeof){case w:return"Portal";case R:return(u.displayName||"Context")+".Provider";case D:return(u._context.displayName||"Context")+".Consumer";case P:var m=u.render;return u=u.displayName,u||(u=m.displayName||m.name||"",u=u!==""?"ForwardRef("+u+")":"ForwardRef"),u;case $:return m=u.displayName||null,m!==null?m:J(u.type)||"Memo";case U:m=u._payload,u=u._init;try{return J(u(m))}catch{}}return null}var z=Array.isArray,V=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,M=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee={pending:!1,data:null,method:null,action:null},Z=[],A=-1;function G(u){return{current:u}}function Q(u){0>A||(u.current=Z[A],Z[A]=null,A--)}function Y(u,m){A++,Z[A]=u.current,u.current=m}var ae=G(null),ne=G(null),re=G(null),oe=G(null);function me(u,m){switch(Y(re,m),Y(ne,u),Y(ae,null),m.nodeType){case 9:case 11:u=(u=m.documentElement)&&(u=u.namespaceURI)?O5(u):0;break;default:if(u=m.tagName,m=m.namespaceURI)m=O5(m),u=L5(m,u);else switch(u){case"svg":u=1;break;case"math":u=2;break;default:u=0}}Q(ae),Y(ae,u)}function Ce(){Q(ae),Q(ne),Q(re)}function Ne(u){u.memoizedState!==null&&Y(oe,u);var m=ae.current,x=L5(m,u.type);m!==x&&(Y(ne,u),Y(ae,x))}function Ee(u){ne.current===u&&(Q(ae),Q(ne)),oe.current===u&&(Q(oe),e1._currentValue=ee)}var ve=Object.prototype.hasOwnProperty,Se=e.unstable_scheduleCallback,fe=e.unstable_cancelCallback,de=e.unstable_shouldYield,pe=e.unstable_requestPaint,ce=e.unstable_now,Re=e.unstable_getCurrentPriorityLevel,Ae=e.unstable_ImmediatePriority,ie=e.unstable_UserBlockingPriority,ge=e.unstable_NormalPriority,be=e.unstable_LowPriority,Fe=e.unstable_IdlePriority,je=e.log,qe=e.unstable_setDisableYieldValue,tt=null,he=null;function Ze(u){if(typeof je=="function"&&qe(u),he&&typeof he.setStrictMode=="function")try{he.setStrictMode(tt,u)}catch{}}var Pe=Math.clz32?Math.clz32:ue,bt=Math.log,Ge=Math.LN2;function ue(u){return u>>>=0,u===0?32:31-(bt(u)/Ge|0)|0}var De=256,xe=4194304;function Ye(u){var m=u&42;if(m!==0)return m;switch(u&-u){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return u&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return u}}function at(u,m,x){var N=u.pendingLanes;if(N===0)return 0;var L=0,W=u.suspendedLanes,_e=u.pingedLanes;u=u.warmLanes;var Me=N&134217727;return Me!==0?(N=Me&~W,N!==0?L=Ye(N):(_e&=Me,_e!==0?L=Ye(_e):x||(x=Me&~u,x!==0&&(L=Ye(x))))):(Me=N&~W,Me!==0?L=Ye(Me):_e!==0?L=Ye(_e):x||(x=N&~u,x!==0&&(L=Ye(x)))),L===0?0:m!==0&&m!==L&&(m&W)===0&&(W=L&-L,x=m&-m,W>=x||W===32&&(x&4194048)!==0)?m:L}function lt(u,m){return(u.pendingLanes&~(u.suspendedLanes&~u.pingedLanes)&m)===0}function Mt(u,m){switch(u){case 1:case 2:case 4:case 8:case 64:return m+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return m+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function pn(){var u=De;return De<<=1,(De&4194048)===0&&(De=256),u}function Qn(){var u=xe;return xe<<=1,(xe&62914560)===0&&(xe=4194304),u}function yt(u){for(var m=[],x=0;31>x;x++)m.push(u);return m}function ln(u,m){u.pendingLanes|=m,m!==268435456&&(u.suspendedLanes=0,u.pingedLanes=0,u.warmLanes=0)}function fn(u,m,x,N,L,W){var _e=u.pendingLanes;u.pendingLanes=x,u.suspendedLanes=0,u.pingedLanes=0,u.warmLanes=0,u.expiredLanes&=x,u.entangledLanes&=x,u.errorRecoveryDisabledLanes&=x,u.shellSuspendCounter=0;var Me=u.entanglements,rt=u.expirationTimes,Et=u.hiddenUpdates;for(x=_e&~x;0<x;){var en=31-Pe(x),un=1<<en;Me[en]=0,rt[en]=-1;var Dt=Et[en];if(Dt!==null)for(Et[en]=null,en=0;en<Dt.length;en++){var $t=Dt[en];$t!==null&&($t.lane&=-536870913)}x&=~un}N!==0&&jn(u,N,0),W!==0&&L===0&&u.tag!==0&&(u.suspendedLanes|=W&~(_e&~m))}function jn(u,m,x){u.pendingLanes|=m,u.suspendedLanes&=~m;var N=31-Pe(m);u.entangledLanes|=m,u.entanglements[N]=u.entanglements[N]|1073741824|x&4194090}function dt(u,m){var x=u.entangledLanes|=m;for(u=u.entanglements;x;){var N=31-Pe(x),L=1<<N;L&m|u[N]&m&&(u[N]|=m),x&=~L}}function It(u){switch(u){case 2:u=1;break;case 8:u=4;break;case 32:u=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:u=128;break;case 268435456:u=134217728;break;default:u=0}return u}function st(u){return u&=-u,2<u?8<u?(u&134217727)!==0?32:268435456:8:2}function Rt(){var u=M.p;return u!==0?u:(u=window.event,u===void 0?32:nk(u.type))}function Lt(u,m){var x=M.p;try{return M.p=u,m()}finally{M.p=x}}var on=Math.random().toString(36).slice(2),vn="__reactFiber$"+on,ss="__reactProps$"+on,hs="__reactContainer$"+on,xs="__reactEvents$"+on,fs="__reactListeners$"+on,Hn="__reactHandles$"+on,Xt="__reactResources$"+on,ia="__reactMarker$"+on;function Ca(u){delete u[vn],delete u[ss],delete u[xs],delete u[fs],delete u[Hn]}function Vn(u){var m=u[vn];if(m)return m;for(var x=u.parentNode;x;){if(m=x[hs]||x[vn]){if(x=m.alternate,m.child!==null||x!==null&&x.child!==null)for(u=H5(u);u!==null;){if(x=u[vn])return x;u=H5(u)}return m}u=x,x=u.parentNode}return null}function Na(u){if(u=u[vn]||u[hs]){var m=u.tag;if(m===5||m===6||m===13||m===26||m===27||m===3)return u}return null}function Qs(u){var m=u.tag;if(m===5||m===26||m===27||m===6)return u.stateNode;throw Error(a(33))}function ta(u){var m=u[Xt];return m||(m=u[Xt]={hoistableStyles:new Map,hoistableScripts:new Map}),m}function vs(u){u[ia]=!0}var za=new Set,ur={};function Us(u,m){Ms(u,m),Ms(u+"Capture",m)}function Ms(u,m){for(ur[u]=m,u=0;u<m.length;u++)za.add(m[u])}var Xs=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Cr={},Ua={};function Qa(u){return ve.call(Ua,u)?!0:ve.call(Cr,u)?!1:Xs.test(u)?Ua[u]=!0:(Cr[u]=!0,!1)}function qt(u,m,x){if(Qa(m))if(x===null)u.removeAttribute(m);else{switch(typeof x){case"undefined":case"function":case"symbol":u.removeAttribute(m);return;case"boolean":var N=m.toLowerCase().slice(0,5);if(N!=="data-"&&N!=="aria-"){u.removeAttribute(m);return}}u.setAttribute(m,""+x)}}function Zn(u,m,x){if(x===null)u.removeAttribute(m);else{switch(typeof x){case"undefined":case"function":case"symbol":case"boolean":u.removeAttribute(m);return}u.setAttribute(m,""+x)}}function Ts(u,m,x,N){if(N===null)u.removeAttribute(x);else{switch(typeof N){case"undefined":case"function":case"symbol":case"boolean":u.removeAttribute(x);return}u.setAttributeNS(m,x,""+N)}}var rr,Ma;function js(u){if(rr===void 0)try{throw Error()}catch(x){var m=x.stack.trim().match(/\n( *(at )?)/);rr=m&&m[1]||"",Ma=-1<x.stack.indexOf(`
    at`)?" (<anonymous>)":-1<x.stack.indexOf("@")?"@unknown:0:0":""}return`
`+rr+u+Ma}var Ds=!1;function cs(u,m){if(!u||Ds)return"";Ds=!0;var x=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var N={DetermineComponentFrameRoot:function(){try{if(m){var un=function(){throw Error()};if(Object.defineProperty(un.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(un,[])}catch($t){var Dt=$t}Reflect.construct(u,[],un)}else{try{un.call()}catch($t){Dt=$t}u.call(un.prototype)}}else{try{throw Error()}catch($t){Dt=$t}(un=u())&&typeof un.catch=="function"&&un.catch(function(){})}}catch($t){if($t&&Dt&&typeof $t.stack=="string")return[$t.stack,Dt.stack]}return[null,null]}};N.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var L=Object.getOwnPropertyDescriptor(N.DetermineComponentFrameRoot,"name");L&&L.configurable&&Object.defineProperty(N.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var W=N.DetermineComponentFrameRoot(),_e=W[0],Me=W[1];if(_e&&Me){var rt=_e.split(`
`),Et=Me.split(`
`);for(L=N=0;N<rt.length&&!rt[N].includes("DetermineComponentFrameRoot");)N++;for(;L<Et.length&&!Et[L].includes("DetermineComponentFrameRoot");)L++;if(N===rt.length||L===Et.length)for(N=rt.length-1,L=Et.length-1;1<=N&&0<=L&&rt[N]!==Et[L];)L--;for(;1<=N&&0<=L;N--,L--)if(rt[N]!==Et[L]){if(N!==1||L!==1)do if(N--,L--,0>L||rt[N]!==Et[L]){var en=`
`+rt[N].replace(" at new "," at ");return u.displayName&&en.includes("<anonymous>")&&(en=en.replace("<anonymous>",u.displayName)),en}while(1<=N&&0<=L);break}}}finally{Ds=!1,Error.prepareStackTrace=x}return(x=u?u.displayName||u.name:"")?js(x):""}function qa(u){switch(u.tag){case 26:case 27:case 5:return js(u.type);case 16:return js("Lazy");case 13:return js("Suspense");case 19:return js("SuspenseList");case 0:case 15:return cs(u.type,!1);case 11:return cs(u.type.render,!1);case 1:return cs(u.type,!0);case 31:return js("Activity");default:return""}}function ls(u){try{var m="";do m+=qa(u),u=u.return;while(u);return m}catch(x){return`
Error generating stack: `+x.message+`
`+x.stack}}function sa(u){switch(typeof u){case"bigint":case"boolean":case"number":case"string":case"undefined":return u;case"object":return u;default:return""}}function Gs(u){var m=u.type;return(u=u.nodeName)&&u.toLowerCase()==="input"&&(m==="checkbox"||m==="radio")}function Ks(u){var m=Gs(u)?"checked":"value",x=Object.getOwnPropertyDescriptor(u.constructor.prototype,m),N=""+u[m];if(!u.hasOwnProperty(m)&&typeof x<"u"&&typeof x.get=="function"&&typeof x.set=="function"){var L=x.get,W=x.set;return Object.defineProperty(u,m,{configurable:!0,get:function(){return L.call(this)},set:function(_e){N=""+_e,W.call(this,_e)}}),Object.defineProperty(u,m,{enumerable:x.enumerable}),{getValue:function(){return N},setValue:function(_e){N=""+_e},stopTracking:function(){u._valueTracker=null,delete u[m]}}}}function vr(u){u._valueTracker||(u._valueTracker=Ks(u))}function Ws(u){if(!u)return!1;var m=u._valueTracker;if(!m)return!0;var x=m.getValue(),N="";return u&&(N=Gs(u)?u.checked?"true":"false":u.value),u=N,u!==x?(m.setValue(u),!0):!1}function Ja(u){if(u=u||(typeof document<"u"?document:void 0),typeof u>"u")return null;try{return u.activeElement||u.body}catch{return u.body}}var ji=/[\n"\\]/g;function aa(u){return u.replace(ji,function(m){return"\\"+m.charCodeAt(0).toString(16)+" "})}function Rs(u,m,x,N,L,W,_e,Me){u.name="",_e!=null&&typeof _e!="function"&&typeof _e!="symbol"&&typeof _e!="boolean"?u.type=_e:u.removeAttribute("type"),m!=null?_e==="number"?(m===0&&u.value===""||u.value!=m)&&(u.value=""+sa(m)):u.value!==""+sa(m)&&(u.value=""+sa(m)):_e!=="submit"&&_e!=="reset"||u.removeAttribute("value"),m!=null?it(u,_e,sa(m)):x!=null?it(u,_e,sa(x)):N!=null&&u.removeAttribute("value"),L==null&&W!=null&&(u.defaultChecked=!!W),L!=null&&(u.checked=L&&typeof L!="function"&&typeof L!="symbol"),Me!=null&&typeof Me!="function"&&typeof Me!="symbol"&&typeof Me!="boolean"?u.name=""+sa(Me):u.removeAttribute("name")}function qn(u,m,x,N,L,W,_e,Me){if(W!=null&&typeof W!="function"&&typeof W!="symbol"&&typeof W!="boolean"&&(u.type=W),m!=null||x!=null){if(!(W!=="submit"&&W!=="reset"||m!=null))return;x=x!=null?""+sa(x):"",m=m!=null?""+sa(m):x,Me||m===u.value||(u.value=m),u.defaultValue=m}N=N??L,N=typeof N!="function"&&typeof N!="symbol"&&!!N,u.checked=Me?u.checked:!!N,u.defaultChecked=!!N,_e!=null&&typeof _e!="function"&&typeof _e!="symbol"&&typeof _e!="boolean"&&(u.name=_e)}function it(u,m,x){m==="number"&&Ja(u.ownerDocument)===u||u.defaultValue===""+x||(u.defaultValue=""+x)}function Le(u,m,x,N){if(u=u.options,m){m={};for(var L=0;L<x.length;L++)m["$"+x[L]]=!0;for(x=0;x<u.length;x++)L=m.hasOwnProperty("$"+u[x].value),u[x].selected!==L&&(u[x].selected=L),L&&N&&(u[x].defaultSelected=!0)}else{for(x=""+sa(x),m=null,L=0;L<u.length;L++){if(u[L].value===x){u[L].selected=!0,N&&(u[L].defaultSelected=!0);return}m!==null||u[L].disabled||(m=u[L])}m!==null&&(m.selected=!0)}}function Qe(u,m,x){if(m!=null&&(m=""+sa(m),m!==u.value&&(u.value=m),x==null)){u.defaultValue!==m&&(u.defaultValue=m);return}u.defaultValue=x!=null?""+sa(x):""}function Tt(u,m,x,N){if(m==null){if(N!=null){if(x!=null)throw Error(a(92));if(z(N)){if(1<N.length)throw Error(a(93));N=N[0]}x=N}x==null&&(x=""),m=x}x=sa(m),u.defaultValue=x,N=u.textContent,N===x&&N!==""&&N!==null&&(u.value=N)}function Wt(u,m){if(m){var x=u.firstChild;if(x&&x===u.lastChild&&x.nodeType===3){x.nodeValue=m;return}}u.textContent=m}var zt=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Xe(u,m,x){var N=m.indexOf("--")===0;x==null||typeof x=="boolean"||x===""?N?u.setProperty(m,""):m==="float"?u.cssFloat="":u[m]="":N?u.setProperty(m,x):typeof x!="number"||x===0||zt.has(m)?m==="float"?u.cssFloat=x:u[m]=(""+x).trim():u[m]=x+"px"}function et(u,m,x){if(m!=null&&typeof m!="object")throw Error(a(62));if(u=u.style,x!=null){for(var N in x)!x.hasOwnProperty(N)||m!=null&&m.hasOwnProperty(N)||(N.indexOf("--")===0?u.setProperty(N,""):N==="float"?u.cssFloat="":u[N]="");for(var L in m)N=m[L],m.hasOwnProperty(L)&&x[L]!==N&&Xe(u,L,N)}else for(var W in m)m.hasOwnProperty(W)&&Xe(u,W,m[W])}function Je(u){if(u.indexOf("-")===-1)return!1;switch(u){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ot=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ut=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ft(u){return Ut.test(""+u)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":u}var In=null;function gn(u){return u=u.target||u.srcElement||window,u.correspondingUseElement&&(u=u.correspondingUseElement),u.nodeType===3?u.parentNode:u}var Xn=null,Gt=null;function Dn(u){var m=Na(u);if(m&&(u=m.stateNode)){var x=u[ss]||null;e:switch(u=m.stateNode,m.type){case"input":if(Rs(u,x.value,x.defaultValue,x.defaultValue,x.checked,x.defaultChecked,x.type,x.name),m=x.name,x.type==="radio"&&m!=null){for(x=u;x.parentNode;)x=x.parentNode;for(x=x.querySelectorAll('input[name="'+aa(""+m)+'"][type="radio"]'),m=0;m<x.length;m++){var N=x[m];if(N!==u&&N.form===u.form){var L=N[ss]||null;if(!L)throw Error(a(90));Rs(N,L.value,L.defaultValue,L.defaultValue,L.checked,L.defaultChecked,L.type,L.name)}}for(m=0;m<x.length;m++)N=x[m],N.form===u.form&&Ws(N)}break e;case"textarea":Qe(u,x.value,x.defaultValue);break e;case"select":m=x.value,m!=null&&Le(u,!!x.multiple,m,!1)}}}var hn=!1;function as(u,m,x){if(hn)return u(m,x);hn=!0;try{var N=u(m);return N}finally{if(hn=!1,(Xn!==null||Gt!==null)&&(y_(),Xn&&(m=Xn,u=Gt,Gt=Xn=null,Dn(m),u)))for(m=0;m<u.length;m++)Dn(u[m])}}function Qt(u,m){var x=u.stateNode;if(x===null)return null;var N=x[ss]||null;if(N===null)return null;x=N[m];e:switch(m){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(N=!N.disabled)||(u=u.type,N=!(u==="button"||u==="input"||u==="select"||u==="textarea")),u=!N;break e;default:u=!1}if(u)return null;if(x&&typeof x!="function")throw Error(a(231,m,typeof x));return x}var ys=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),jt=!1;if(ys)try{var rn={};Object.defineProperty(rn,"passive",{get:function(){jt=!0}}),window.addEventListener("test",rn,rn),window.removeEventListener("test",rn,rn)}catch{jt=!1}var On=null,bs=null,ws=null;function fa(){if(ws)return ws;var u,m=bs,x=m.length,N,L="value"in On?On.value:On.textContent,W=L.length;for(u=0;u<x&&m[u]===L[u];u++);var _e=x-u;for(N=1;N<=_e&&m[x-N]===L[W-N];N++);return ws=L.slice(u,1<N?1-N:void 0)}function ir(u){var m=u.keyCode;return"charCode"in u?(u=u.charCode,u===0&&m===13&&(u=13)):u=m,u===10&&(u=13),32<=u||u===13?u:0}function tr(){return!0}function Di(){return!1}function Tr(u){function m(x,N,L,W,_e){this._reactName=x,this._targetInst=L,this.type=N,this.nativeEvent=W,this.target=_e,this.currentTarget=null;for(var Me in u)u.hasOwnProperty(Me)&&(x=u[Me],this[Me]=x?x(W):W[Me]);return this.isDefaultPrevented=(W.defaultPrevented!=null?W.defaultPrevented:W.returnValue===!1)?tr:Di,this.isPropagationStopped=Di,this}return f(m.prototype,{preventDefault:function(){this.defaultPrevented=!0;var x=this.nativeEvent;x&&(x.preventDefault?x.preventDefault():typeof x.returnValue!="unknown"&&(x.returnValue=!1),this.isDefaultPrevented=tr)},stopPropagation:function(){var x=this.nativeEvent;x&&(x.stopPropagation?x.stopPropagation():typeof x.cancelBubble!="unknown"&&(x.cancelBubble=!0),this.isPropagationStopped=tr)},persist:function(){},isPersistent:tr}),m}var so={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(u){return u.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},He=Tr(so),Ke=f({},so,{view:0,detail:0}),ft=Tr(Ke),wt,En,Yn,Jn=f({},Ke,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ao,button:0,buttons:0,relatedTarget:function(u){return u.relatedTarget===void 0?u.fromElement===u.srcElement?u.toElement:u.fromElement:u.relatedTarget},movementX:function(u){return"movementX"in u?u.movementX:(u!==Yn&&(Yn&&u.type==="mousemove"?(wt=u.screenX-Yn.screenX,En=u.screenY-Yn.screenY):En=wt=0,Yn=u),wt)},movementY:function(u){return"movementY"in u?u.movementY:En}}),Ss=Tr(Jn),Wa=f({},Jn,{dataTransfer:0}),Nn=Tr(Wa),ka=f({},Ke,{relatedTarget:0}),Oe=Tr(ka),Ue=f({},so,{animationName:0,elapsedTime:0,pseudoElement:0}),_t=Tr(Ue),$e=f({},so,{clipboardData:function(u){return"clipboardData"in u?u.clipboardData:window.clipboardData}}),Vt=Tr($e),Mn=f({},so,{data:0}),es=Tr(Mn),Ns={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Dr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Gi={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Zr(u){var m=this.nativeEvent;return m.getModifierState?m.getModifierState(u):(u=Gi[u])?!!m[u]:!1}function ao(){return Zr}var Zs=f({},Ke,{key:function(u){if(u.key){var m=Ns[u.key]||u.key;if(m!=="Unidentified")return m}return u.type==="keypress"?(u=ir(u),u===13?"Enter":String.fromCharCode(u)):u.type==="keydown"||u.type==="keyup"?Dr[u.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ao,charCode:function(u){return u.type==="keypress"?ir(u):0},keyCode:function(u){return u.type==="keydown"||u.type==="keyup"?u.keyCode:0},which:function(u){return u.type==="keypress"?ir(u):u.type==="keydown"||u.type==="keyup"?u.keyCode:0}}),zl=Tr(Zs),Pr=f({},Jn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),qd=Tr(Pr),Ul=f({},Ke,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ao}),dr=Tr(Ul),As=f({},so,{propertyName:0,elapsedTime:0,pseudoElement:0}),Vy=Tr(As),Sr=f({},Jn,{deltaX:function(u){return"deltaX"in u?u.deltaX:"wheelDeltaX"in u?-u.wheelDeltaX:0},deltaY:function(u){return"deltaY"in u?u.deltaY:"wheelDeltaY"in u?-u.wheelDeltaY:"wheelDelta"in u?-u.wheelDelta:0},deltaZ:0,deltaMode:0}),Wl=Tr(Sr),Ru=f({},so,{newState:0,oldState:0}),zy=Tr(Ru),dc=[9,13,27,32],Vd=ys&&"CompositionEvent"in window,Bu=null;ys&&"documentMode"in document&&(Bu=document.documentMode);var _p=ys&&"TextEvent"in window&&!Bu,vp=ys&&(!Vd||Bu&&8<Bu&&11>=Bu),xp=" ",F0=!1;function Yl(u,m){switch(u){case"keyup":return dc.indexOf(m.keyCode)!==-1;case"keydown":return m.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function uf(u){return u=u.detail,typeof u=="object"&&"data"in u?u.data:null}var Ou=!1;function zd(u,m){switch(u){case"compositionend":return uf(m);case"keypress":return m.which!==32?null:(F0=!0,xp);case"textInput":return u=m.data,u===xp&&F0?null:u;default:return null}}function Uy(u,m){if(Ou)return u==="compositionend"||!Vd&&Yl(u,m)?(u=fa(),ws=bs=On=null,Ou=!1,u):null;switch(u){case"paste":return null;case"keypress":if(!(m.ctrlKey||m.altKey||m.metaKey)||m.ctrlKey&&m.altKey){if(m.char&&1<m.char.length)return m.char;if(m.which)return String.fromCharCode(m.which)}return null;case"compositionend":return vp&&m.locale!=="ko"?null:m.data;default:return null}}var dl={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ud(u){var m=u&&u.nodeName&&u.nodeName.toLowerCase();return m==="input"?!!dl[u.type]:m==="textarea"}function yo(u,m,x,N){Xn?Gt?Gt.push(N):Gt=[N]:Xn=N,m=k_(m,"onChange"),0<m.length&&(x=new He("onChange","change",null,x,N),u.push({event:x,listeners:m}))}var Lu=null,ro=null;function Wy(u){D5(u,0)}function $u(u){var m=Qs(u);if(Ws(m))return u}function H0(u,m){if(u==="change")return m}var bp=!1;if(ys){var Eo;if(ys){var yp="oninput"in document;if(!yp){var df=document.createElement("div");df.setAttribute("oninput","return;"),yp=typeof df.oninput=="function"}Eo=yp}else Eo=!1;bp=Eo&&(!document.documentMode||9<document.documentMode)}function Pu(){Lu&&(Lu.detachEvent("onpropertychange",Ra),ro=Lu=null)}function Ra(u){if(u.propertyName==="value"&&$u(ro)){var m=[];yo(m,ro,u,gn(u)),as(Wy,m)}}function hf(u,m,x){u==="focusin"?(Pu(),Lu=m,ro=x,Lu.attachEvent("onpropertychange",Ra)):u==="focusout"&&Pu()}function ye(u){if(u==="selectionchange"||u==="keyup"||u==="keydown")return $u(ro)}function h(u,m){if(u==="click")return $u(m)}function p(u,m){if(u==="input"||u==="change")return $u(m)}function v(u,m){return u===m&&(u!==0||1/u===1/m)||u!==u&&m!==m}var y=typeof Object.is=="function"?Object.is:v;function j(u,m){if(y(u,m))return!0;if(typeof u!="object"||u===null||typeof m!="object"||m===null)return!1;var x=Object.keys(u),N=Object.keys(m);if(x.length!==N.length)return!1;for(N=0;N<x.length;N++){var L=x[N];if(!ve.call(m,L)||!y(u[L],m[L]))return!1}return!0}function I(u){for(;u&&u.firstChild;)u=u.firstChild;return u}function T(u,m){var x=I(u);u=0;for(var N;x;){if(x.nodeType===3){if(N=u+x.textContent.length,u<=m&&N>=m)return{node:x,offset:m-u};u=N}e:{for(;x;){if(x.nextSibling){x=x.nextSibling;break e}x=x.parentNode}x=void 0}x=I(x)}}function q(u,m){return u&&m?u===m?!0:u&&u.nodeType===3?!1:m&&m.nodeType===3?q(u,m.parentNode):"contains"in u?u.contains(m):u.compareDocumentPosition?!!(u.compareDocumentPosition(m)&16):!1:!1}function X(u){u=u!=null&&u.ownerDocument!=null&&u.ownerDocument.defaultView!=null?u.ownerDocument.defaultView:window;for(var m=Ja(u.document);m instanceof u.HTMLIFrameElement;){try{var x=typeof m.contentWindow.location.href=="string"}catch{x=!1}if(x)u=m.contentWindow;else break;m=Ja(u.document)}return m}function le(u){var m=u&&u.nodeName&&u.nodeName.toLowerCase();return m&&(m==="input"&&(u.type==="text"||u.type==="search"||u.type==="tel"||u.type==="url"||u.type==="password")||m==="textarea"||u.contentEditable==="true")}var we=ys&&"documentMode"in document&&11>=document.documentMode,ke=null,We=null,ct=null,ut=!1;function Ct(u,m,x){var N=x.window===x?x.document:x.nodeType===9?x:x.ownerDocument;ut||ke==null||ke!==Ja(N)||(N=ke,"selectionStart"in N&&le(N)?N={start:N.selectionStart,end:N.selectionEnd}:(N=(N.ownerDocument&&N.ownerDocument.defaultView||window).getSelection(),N={anchorNode:N.anchorNode,anchorOffset:N.anchorOffset,focusNode:N.focusNode,focusOffset:N.focusOffset}),ct&&j(ct,N)||(ct=N,N=k_(We,"onSelect"),0<N.length&&(m=new He("onSelect","select",null,m,x),u.push({event:m,listeners:N}),m.target=ke)))}function Ot(u,m){var x={};return x[u.toLowerCase()]=m.toLowerCase(),x["Webkit"+u]="webkit"+m,x["Moz"+u]="moz"+m,x}var Cn={animationend:Ot("Animation","AnimationEnd"),animationiteration:Ot("Animation","AnimationIteration"),animationstart:Ot("Animation","AnimationStart"),transitionrun:Ot("Transition","TransitionRun"),transitionstart:Ot("Transition","TransitionStart"),transitioncancel:Ot("Transition","TransitionCancel"),transitionend:Ot("Transition","TransitionEnd")},Tn={},xn={};ys&&(xn=document.createElement("div").style,"AnimationEvent"in window||(delete Cn.animationend.animation,delete Cn.animationiteration.animation,delete Cn.animationstart.animation),"TransitionEvent"in window||delete Cn.transitionend.transition);function na(u){if(Tn[u])return Tn[u];if(!Cn[u])return u;var m=Cn[u],x;for(x in m)if(m.hasOwnProperty(x)&&x in xn)return Tn[u]=m[x];return u}var Js=na("animationend"),Qi=na("animationiteration"),To=na("animationstart"),io=na("transitionrun"),hr=na("transitionstart"),Ai=na("transitioncancel"),oo=na("transitionend"),Gl=new Map,hl="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");hl.push("scrollEnd");function zo(u,m){Gl.set(u,m),Us(m,[u])}var q0=new WeakMap;function hc(u,m){if(typeof u=="object"&&u!==null){var x=q0.get(u);return x!==void 0?x:(m={value:u,source:m,stack:ls(m)},q0.set(u,m),m)}return{value:u,source:m,stack:ls(m)}}var fc=[],ff=0,Yy=0;function V0(){for(var u=ff,m=Yy=ff=0;m<u;){var x=fc[m];fc[m++]=null;var N=fc[m];fc[m++]=null;var L=fc[m];fc[m++]=null;var W=fc[m];if(fc[m++]=null,N!==null&&L!==null){var _e=N.pending;_e===null?L.next=L:(L.next=_e.next,_e.next=L),N.pending=L}W!==0&&p6(x,L,W)}}function z0(u,m,x,N){fc[ff++]=u,fc[ff++]=m,fc[ff++]=x,fc[ff++]=N,Yy|=N,u.lanes|=N,u=u.alternate,u!==null&&(u.lanes|=N)}function Gy(u,m,x,N){return z0(u,m,x,N),U0(u)}function mf(u,m){return z0(u,null,null,m),U0(u)}function p6(u,m,x){u.lanes|=x;var N=u.alternate;N!==null&&(N.lanes|=x);for(var L=!1,W=u.return;W!==null;)W.childLanes|=x,N=W.alternate,N!==null&&(N.childLanes|=x),W.tag===22&&(u=W.stateNode,u===null||u._visibility&1||(L=!0)),u=W,W=W.return;return u.tag===3?(W=u.stateNode,L&&m!==null&&(L=31-Pe(x),u=W.hiddenUpdates,N=u[L],N===null?u[L]=[m]:N.push(m),m.lane=x|536870912),W):null}function U0(u){if(50<Wp)throw Wp=0,ew=null,Error(a(185));for(var m=u.return;m!==null;)u=m,m=u.return;return u.tag===3?u.stateNode:null}var pf={};function uH(u,m,x,N){this.tag=u,this.key=x,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=m,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=N,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Uo(u,m,x,N){return new uH(u,m,x,N)}function Qy(u){return u=u.prototype,!(!u||!u.isReactComponent)}function Ql(u,m){var x=u.alternate;return x===null?(x=Uo(u.tag,m,u.key,u.mode),x.elementType=u.elementType,x.type=u.type,x.stateNode=u.stateNode,x.alternate=u,u.alternate=x):(x.pendingProps=m,x.type=u.type,x.flags=0,x.subtreeFlags=0,x.deletions=null),x.flags=u.flags&65011712,x.childLanes=u.childLanes,x.lanes=u.lanes,x.child=u.child,x.memoizedProps=u.memoizedProps,x.memoizedState=u.memoizedState,x.updateQueue=u.updateQueue,m=u.dependencies,x.dependencies=m===null?null:{lanes:m.lanes,firstContext:m.firstContext},x.sibling=u.sibling,x.index=u.index,x.ref=u.ref,x.refCleanup=u.refCleanup,x}function g6(u,m){u.flags&=65011714;var x=u.alternate;return x===null?(u.childLanes=0,u.lanes=m,u.child=null,u.subtreeFlags=0,u.memoizedProps=null,u.memoizedState=null,u.updateQueue=null,u.dependencies=null,u.stateNode=null):(u.childLanes=x.childLanes,u.lanes=x.lanes,u.child=x.child,u.subtreeFlags=0,u.deletions=null,u.memoizedProps=x.memoizedProps,u.memoizedState=x.memoizedState,u.updateQueue=x.updateQueue,u.type=x.type,m=x.dependencies,u.dependencies=m===null?null:{lanes:m.lanes,firstContext:m.firstContext}),u}function W0(u,m,x,N,L,W){var _e=0;if(N=u,typeof u=="function")Qy(u)&&(_e=1);else if(typeof u=="string")_e=hq(u,x,ae.current)?26:u==="html"||u==="head"||u==="body"?27:5;else e:switch(u){case F:return u=Uo(31,x,m,L),u.elementType=F,u.lanes=W,u;case C:return Wd(x.children,L,W,m);case S:_e=8,L|=24;break;case k:return u=Uo(12,x,m,L|2),u.elementType=k,u.lanes=W,u;case B:return u=Uo(13,x,m,L),u.elementType=B,u.lanes=W,u;case O:return u=Uo(19,x,m,L),u.elementType=O,u.lanes=W,u;default:if(typeof u=="object"&&u!==null)switch(u.$$typeof){case E:case R:_e=10;break e;case D:_e=9;break e;case P:_e=11;break e;case $:_e=14;break e;case U:_e=16,N=null;break e}_e=29,x=Error(a(130,u===null?"null":typeof u,"")),N=null}return m=Uo(_e,x,m,L),m.elementType=u,m.type=N,m.lanes=W,m}function Wd(u,m,x,N){return u=Uo(7,u,N,m),u.lanes=x,u}function Xy(u,m,x){return u=Uo(6,u,null,m),u.lanes=x,u}function Ky(u,m,x){return m=Uo(4,u.children!==null?u.children:[],u.key,m),m.lanes=x,m.stateNode={containerInfo:u.containerInfo,pendingChildren:null,implementation:u.implementation},m}var gf=[],_f=0,Y0=null,G0=0,mc=[],pc=0,Yd=null,Xl=1,Kl="";function Gd(u,m){gf[_f++]=G0,gf[_f++]=Y0,Y0=u,G0=m}function _6(u,m,x){mc[pc++]=Xl,mc[pc++]=Kl,mc[pc++]=Yd,Yd=u;var N=Xl;u=Kl;var L=32-Pe(N)-1;N&=~(1<<L),x+=1;var W=32-Pe(m)+L;if(30<W){var _e=L-L%5;W=(N&(1<<_e)-1).toString(32),N>>=_e,L-=_e,Xl=1<<32-Pe(m)+L|x<<L|N,Kl=W+u}else Xl=1<<W|x<<L|N,Kl=u}function Zy(u){u.return!==null&&(Gd(u,1),_6(u,1,0))}function Jy(u){for(;u===Y0;)Y0=gf[--_f],gf[_f]=null,G0=gf[--_f],gf[_f]=null;for(;u===Yd;)Yd=mc[--pc],mc[pc]=null,Kl=mc[--pc],mc[pc]=null,Xl=mc[--pc],mc[pc]=null}var wo=null,si=null,nr=!1,Qd=null,fl=!1,e2=Error(a(519));function Xd(u){var m=Error(a(418,""));throw Cp(hc(m,u)),e2}function v6(u){var m=u.stateNode,x=u.type,N=u.memoizedProps;switch(m[vn]=u,m[ss]=N,x){case"dialog":Ea("cancel",m),Ea("close",m);break;case"iframe":case"object":case"embed":Ea("load",m);break;case"video":case"audio":for(x=0;x<Gp.length;x++)Ea(Gp[x],m);break;case"source":Ea("error",m);break;case"img":case"image":case"link":Ea("error",m),Ea("load",m);break;case"details":Ea("toggle",m);break;case"input":Ea("invalid",m),qn(m,N.value,N.defaultValue,N.checked,N.defaultChecked,N.type,N.name,!0),vr(m);break;case"select":Ea("invalid",m);break;case"textarea":Ea("invalid",m),Tt(m,N.value,N.defaultValue,N.children),vr(m)}x=N.children,typeof x!="string"&&typeof x!="number"&&typeof x!="bigint"||m.textContent===""+x||N.suppressHydrationWarning===!0||B5(m.textContent,x)?(N.popover!=null&&(Ea("beforetoggle",m),Ea("toggle",m)),N.onScroll!=null&&Ea("scroll",m),N.onScrollEnd!=null&&Ea("scrollend",m),N.onClick!=null&&(m.onclick=I_),m=!0):m=!1,m||Xd(u)}function x6(u){for(wo=u.return;wo;)switch(wo.tag){case 5:case 13:fl=!1;return;case 27:case 3:fl=!0;return;default:wo=wo.return}}function wp(u){if(u!==wo)return!1;if(!nr)return x6(u),nr=!0,!1;var m=u.tag,x;if((x=m!==3&&m!==27)&&((x=m===5)&&(x=u.type,x=!(x!=="form"&&x!=="button")||gw(u.type,u.memoizedProps)),x=!x),x&&si&&Xd(u),x6(u),m===13){if(u=u.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(a(317));e:{for(u=u.nextSibling,m=0;u;){if(u.nodeType===8)if(x=u.data,x==="/$"){if(m===0){si=Hc(u.nextSibling);break e}m--}else x!=="$"&&x!=="$!"&&x!=="$?"||m++;u=u.nextSibling}si=null}}else m===27?(m=si,td(u.type)?(u=bw,bw=null,si=u):si=m):si=wo?Hc(u.stateNode.nextSibling):null;return!0}function jp(){si=wo=null,nr=!1}function b6(){var u=Qd;return u!==null&&(Mo===null?Mo=u:Mo.push.apply(Mo,u),Qd=null),u}function Cp(u){Qd===null?Qd=[u]:Qd.push(u)}var t2=G(null),Kd=null,Zl=null;function Fu(u,m,x){Y(t2,m._currentValue),m._currentValue=x}function Jl(u){u._currentValue=t2.current,Q(t2)}function n2(u,m,x){for(;u!==null;){var N=u.alternate;if((u.childLanes&m)!==m?(u.childLanes|=m,N!==null&&(N.childLanes|=m)):N!==null&&(N.childLanes&m)!==m&&(N.childLanes|=m),u===x)break;u=u.return}}function s2(u,m,x,N){var L=u.child;for(L!==null&&(L.return=u);L!==null;){var W=L.dependencies;if(W!==null){var _e=L.child;W=W.firstContext;e:for(;W!==null;){var Me=W;W=L;for(var rt=0;rt<m.length;rt++)if(Me.context===m[rt]){W.lanes|=x,Me=W.alternate,Me!==null&&(Me.lanes|=x),n2(W.return,x,u),N||(_e=null);break e}W=Me.next}}else if(L.tag===18){if(_e=L.return,_e===null)throw Error(a(341));_e.lanes|=x,W=_e.alternate,W!==null&&(W.lanes|=x),n2(_e,x,u),_e=null}else _e=L.child;if(_e!==null)_e.return=L;else for(_e=L;_e!==null;){if(_e===u){_e=null;break}if(L=_e.sibling,L!==null){L.return=_e.return,_e=L;break}_e=_e.return}L=_e}}function Sp(u,m,x,N){u=null;for(var L=m,W=!1;L!==null;){if(!W){if((L.flags&524288)!==0)W=!0;else if((L.flags&262144)!==0)break}if(L.tag===10){var _e=L.alternate;if(_e===null)throw Error(a(387));if(_e=_e.memoizedProps,_e!==null){var Me=L.type;y(L.pendingProps.value,_e.value)||(u!==null?u.push(Me):u=[Me])}}else if(L===oe.current){if(_e=L.alternate,_e===null)throw Error(a(387));_e.memoizedState.memoizedState!==L.memoizedState.memoizedState&&(u!==null?u.push(e1):u=[e1])}L=L.return}u!==null&&s2(m,u,x,N),m.flags|=262144}function Q0(u){for(u=u.firstContext;u!==null;){if(!y(u.context._currentValue,u.memoizedValue))return!0;u=u.next}return!1}function Zd(u){Kd=u,Zl=null,u=u.dependencies,u!==null&&(u.firstContext=null)}function co(u){return y6(Kd,u)}function X0(u,m){return Kd===null&&Zd(u),y6(u,m)}function y6(u,m){var x=m._currentValue;if(m={context:m,memoizedValue:x,next:null},Zl===null){if(u===null)throw Error(a(308));Zl=m,u.dependencies={lanes:0,firstContext:m},u.flags|=524288}else Zl=Zl.next=m;return x}var dH=typeof AbortController<"u"?AbortController:function(){var u=[],m=this.signal={aborted:!1,addEventListener:function(x,N){u.push(N)}};this.abort=function(){m.aborted=!0,u.forEach(function(x){return x()})}},hH=e.unstable_scheduleCallback,fH=e.unstable_NormalPriority,Mi={$$typeof:R,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function a2(){return{controller:new dH,data:new Map,refCount:0}}function Np(u){u.refCount--,u.refCount===0&&hH(fH,function(){u.controller.abort()})}var kp=null,r2=0,vf=0,xf=null;function mH(u,m){if(kp===null){var x=kp=[];r2=0,vf=ow(),xf={status:"pending",value:void 0,then:function(N){x.push(N)}}}return r2++,m.then(w6,w6),m}function w6(){if(--r2===0&&kp!==null){xf!==null&&(xf.status="fulfilled");var u=kp;kp=null,vf=0,xf=null;for(var m=0;m<u.length;m++)(0,u[m])()}}function pH(u,m){var x=[],N={status:"pending",value:null,reason:null,then:function(L){x.push(L)}};return u.then(function(){N.status="fulfilled",N.value=m;for(var L=0;L<x.length;L++)(0,x[L])(m)},function(L){for(N.status="rejected",N.reason=L,L=0;L<x.length;L++)(0,x[L])(void 0)}),N}var j6=V.S;V.S=function(u,m){typeof m=="object"&&m!==null&&typeof m.then=="function"&&mH(u,m),j6!==null&&j6(u,m)};var Jd=G(null);function i2(){var u=Jd.current;return u!==null?u:Ar.pooledCache}function K0(u,m){m===null?Y(Jd,Jd.current):Y(Jd,m.pool)}function C6(){var u=i2();return u===null?null:{parent:Mi._currentValue,pool:u}}var Ip=Error(a(460)),S6=Error(a(474)),Z0=Error(a(542)),o2={then:function(){}};function N6(u){return u=u.status,u==="fulfilled"||u==="rejected"}function J0(){}function k6(u,m,x){switch(x=u[x],x===void 0?u.push(m):x!==m&&(m.then(J0,J0),m=x),m.status){case"fulfilled":return m.value;case"rejected":throw u=m.reason,E6(u),u;default:if(typeof m.status=="string")m.then(J0,J0);else{if(u=Ar,u!==null&&100<u.shellSuspendCounter)throw Error(a(482));u=m,u.status="pending",u.then(function(N){if(m.status==="pending"){var L=m;L.status="fulfilled",L.value=N}},function(N){if(m.status==="pending"){var L=m;L.status="rejected",L.reason=N}})}switch(m.status){case"fulfilled":return m.value;case"rejected":throw u=m.reason,E6(u),u}throw Ep=m,Ip}}var Ep=null;function I6(){if(Ep===null)throw Error(a(459));var u=Ep;return Ep=null,u}function E6(u){if(u===Ip||u===Z0)throw Error(a(483))}var Hu=!1;function c2(u){u.updateQueue={baseState:u.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function l2(u,m){u=u.updateQueue,m.updateQueue===u&&(m.updateQueue={baseState:u.baseState,firstBaseUpdate:u.firstBaseUpdate,lastBaseUpdate:u.lastBaseUpdate,shared:u.shared,callbacks:null})}function qu(u){return{lane:u,tag:0,payload:null,callback:null,next:null}}function Vu(u,m,x){var N=u.updateQueue;if(N===null)return null;if(N=N.shared,(fr&2)!==0){var L=N.pending;return L===null?m.next=m:(m.next=L.next,L.next=m),N.pending=m,m=U0(u),p6(u,null,x),m}return z0(u,N,m,x),U0(u)}function Tp(u,m,x){if(m=m.updateQueue,m!==null&&(m=m.shared,(x&4194048)!==0)){var N=m.lanes;N&=u.pendingLanes,x|=N,m.lanes=x,dt(u,x)}}function u2(u,m){var x=u.updateQueue,N=u.alternate;if(N!==null&&(N=N.updateQueue,x===N)){var L=null,W=null;if(x=x.firstBaseUpdate,x!==null){do{var _e={lane:x.lane,tag:x.tag,payload:x.payload,callback:null,next:null};W===null?L=W=_e:W=W.next=_e,x=x.next}while(x!==null);W===null?L=W=m:W=W.next=m}else L=W=m;x={baseState:N.baseState,firstBaseUpdate:L,lastBaseUpdate:W,shared:N.shared,callbacks:N.callbacks},u.updateQueue=x;return}u=x.lastBaseUpdate,u===null?x.firstBaseUpdate=m:u.next=m,x.lastBaseUpdate=m}var d2=!1;function Dp(){if(d2){var u=xf;if(u!==null)throw u}}function Ap(u,m,x,N){d2=!1;var L=u.updateQueue;Hu=!1;var W=L.firstBaseUpdate,_e=L.lastBaseUpdate,Me=L.shared.pending;if(Me!==null){L.shared.pending=null;var rt=Me,Et=rt.next;rt.next=null,_e===null?W=Et:_e.next=Et,_e=rt;var en=u.alternate;en!==null&&(en=en.updateQueue,Me=en.lastBaseUpdate,Me!==_e&&(Me===null?en.firstBaseUpdate=Et:Me.next=Et,en.lastBaseUpdate=rt))}if(W!==null){var un=L.baseState;_e=0,en=Et=rt=null,Me=W;do{var Dt=Me.lane&-536870913,$t=Dt!==Me.lane;if($t?(Ya&Dt)===Dt:(N&Dt)===Dt){Dt!==0&&Dt===vf&&(d2=!0),en!==null&&(en=en.next={lane:0,tag:Me.tag,payload:Me.payload,callback:null,next:null});e:{var Fs=u,Bs=Me;Dt=m;var yr=x;switch(Bs.tag){case 1:if(Fs=Bs.payload,typeof Fs=="function"){un=Fs.call(yr,un,Dt);break e}un=Fs;break e;case 3:Fs.flags=Fs.flags&-65537|128;case 0:if(Fs=Bs.payload,Dt=typeof Fs=="function"?Fs.call(yr,un,Dt):Fs,Dt==null)break e;un=f({},un,Dt);break e;case 2:Hu=!0}}Dt=Me.callback,Dt!==null&&(u.flags|=64,$t&&(u.flags|=8192),$t=L.callbacks,$t===null?L.callbacks=[Dt]:$t.push(Dt))}else $t={lane:Dt,tag:Me.tag,payload:Me.payload,callback:Me.callback,next:null},en===null?(Et=en=$t,rt=un):en=en.next=$t,_e|=Dt;if(Me=Me.next,Me===null){if(Me=L.shared.pending,Me===null)break;$t=Me,Me=$t.next,$t.next=null,L.lastBaseUpdate=$t,L.shared.pending=null}}while(!0);en===null&&(rt=un),L.baseState=rt,L.firstBaseUpdate=Et,L.lastBaseUpdate=en,W===null&&(L.shared.lanes=0),Ku|=_e,u.lanes=_e,u.memoizedState=un}}function T6(u,m){if(typeof u!="function")throw Error(a(191,u));u.call(m)}function D6(u,m){var x=u.callbacks;if(x!==null)for(u.callbacks=null,u=0;u<x.length;u++)T6(x[u],m)}var bf=G(null),e_=G(0);function A6(u,m){u=iu,Y(e_,u),Y(bf,m),iu=u|m.baseLanes}function h2(){Y(e_,iu),Y(bf,bf.current)}function f2(){iu=e_.current,Q(bf),Q(e_)}var zu=0,ba=null,xr=null,Ci=null,t_=!1,yf=!1,eh=!1,n_=0,Mp=0,wf=null,gH=0;function mi(){throw Error(a(321))}function m2(u,m){if(m===null)return!1;for(var x=0;x<m.length&&x<u.length;x++)if(!y(u[x],m[x]))return!1;return!0}function p2(u,m,x,N,L,W){return zu=W,ba=m,m.memoizedState=null,m.updateQueue=null,m.lanes=0,V.H=u===null||u.memoizedState===null?p8:g8,eh=!1,W=x(N,L),eh=!1,yf&&(W=R6(m,x,N,L)),M6(u),W}function M6(u){V.H=c_;var m=xr!==null&&xr.next!==null;if(zu=0,Ci=xr=ba=null,t_=!1,Mp=0,wf=null,m)throw Error(a(300));u===null||Hi||(u=u.dependencies,u!==null&&Q0(u)&&(Hi=!0))}function R6(u,m,x,N){ba=u;var L=0;do{if(yf&&(wf=null),Mp=0,yf=!1,25<=L)throw Error(a(301));if(L+=1,Ci=xr=null,u.updateQueue!=null){var W=u.updateQueue;W.lastEffect=null,W.events=null,W.stores=null,W.memoCache!=null&&(W.memoCache.index=0)}V.H=jH,W=m(x,N)}while(yf);return W}function _H(){var u=V.H,m=u.useState()[0];return m=typeof m.then=="function"?Rp(m):m,u=u.useState()[0],(xr!==null?xr.memoizedState:null)!==u&&(ba.flags|=1024),m}function g2(){var u=n_!==0;return n_=0,u}function _2(u,m,x){m.updateQueue=u.updateQueue,m.flags&=-2053,u.lanes&=~x}function v2(u){if(t_){for(u=u.memoizedState;u!==null;){var m=u.queue;m!==null&&(m.pending=null),u=u.next}t_=!1}zu=0,Ci=xr=ba=null,yf=!1,Mp=n_=0,wf=null}function Do(){var u={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ci===null?ba.memoizedState=Ci=u:Ci=Ci.next=u,Ci}function Si(){if(xr===null){var u=ba.alternate;u=u!==null?u.memoizedState:null}else u=xr.next;var m=Ci===null?ba.memoizedState:Ci.next;if(m!==null)Ci=m,xr=u;else{if(u===null)throw ba.alternate===null?Error(a(467)):Error(a(310));xr=u,u={memoizedState:xr.memoizedState,baseState:xr.baseState,baseQueue:xr.baseQueue,queue:xr.queue,next:null},Ci===null?ba.memoizedState=Ci=u:Ci=Ci.next=u}return Ci}function x2(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Rp(u){var m=Mp;return Mp+=1,wf===null&&(wf=[]),u=k6(wf,u,m),m=ba,(Ci===null?m.memoizedState:Ci.next)===null&&(m=m.alternate,V.H=m===null||m.memoizedState===null?p8:g8),u}function s_(u){if(u!==null&&typeof u=="object"){if(typeof u.then=="function")return Rp(u);if(u.$$typeof===R)return co(u)}throw Error(a(438,String(u)))}function b2(u){var m=null,x=ba.updateQueue;if(x!==null&&(m=x.memoCache),m==null){var N=ba.alternate;N!==null&&(N=N.updateQueue,N!==null&&(N=N.memoCache,N!=null&&(m={data:N.data.map(function(L){return L.slice()}),index:0})))}if(m==null&&(m={data:[],index:0}),x===null&&(x=x2(),ba.updateQueue=x),x.memoCache=m,x=m.data[m.index],x===void 0)for(x=m.data[m.index]=Array(u),N=0;N<u;N++)x[N]=H;return m.index++,x}function eu(u,m){return typeof m=="function"?m(u):m}function a_(u){var m=Si();return y2(m,xr,u)}function y2(u,m,x){var N=u.queue;if(N===null)throw Error(a(311));N.lastRenderedReducer=x;var L=u.baseQueue,W=N.pending;if(W!==null){if(L!==null){var _e=L.next;L.next=W.next,W.next=_e}m.baseQueue=L=W,N.pending=null}if(W=u.baseState,L===null)u.memoizedState=W;else{m=L.next;var Me=_e=null,rt=null,Et=m,en=!1;do{var un=Et.lane&-536870913;if(un!==Et.lane?(Ya&un)===un:(zu&un)===un){var Dt=Et.revertLane;if(Dt===0)rt!==null&&(rt=rt.next={lane:0,revertLane:0,action:Et.action,hasEagerState:Et.hasEagerState,eagerState:Et.eagerState,next:null}),un===vf&&(en=!0);else if((zu&Dt)===Dt){Et=Et.next,Dt===vf&&(en=!0);continue}else un={lane:0,revertLane:Et.revertLane,action:Et.action,hasEagerState:Et.hasEagerState,eagerState:Et.eagerState,next:null},rt===null?(Me=rt=un,_e=W):rt=rt.next=un,ba.lanes|=Dt,Ku|=Dt;un=Et.action,eh&&x(W,un),W=Et.hasEagerState?Et.eagerState:x(W,un)}else Dt={lane:un,revertLane:Et.revertLane,action:Et.action,hasEagerState:Et.hasEagerState,eagerState:Et.eagerState,next:null},rt===null?(Me=rt=Dt,_e=W):rt=rt.next=Dt,ba.lanes|=un,Ku|=un;Et=Et.next}while(Et!==null&&Et!==m);if(rt===null?_e=W:rt.next=Me,!y(W,u.memoizedState)&&(Hi=!0,en&&(x=xf,x!==null)))throw x;u.memoizedState=W,u.baseState=_e,u.baseQueue=rt,N.lastRenderedState=W}return L===null&&(N.lanes=0),[u.memoizedState,N.dispatch]}function w2(u){var m=Si(),x=m.queue;if(x===null)throw Error(a(311));x.lastRenderedReducer=u;var N=x.dispatch,L=x.pending,W=m.memoizedState;if(L!==null){x.pending=null;var _e=L=L.next;do W=u(W,_e.action),_e=_e.next;while(_e!==L);y(W,m.memoizedState)||(Hi=!0),m.memoizedState=W,m.baseQueue===null&&(m.baseState=W),x.lastRenderedState=W}return[W,N]}function B6(u,m,x){var N=ba,L=Si(),W=nr;if(W){if(x===void 0)throw Error(a(407));x=x()}else x=m();var _e=!y((xr||L).memoizedState,x);_e&&(L.memoizedState=x,Hi=!0),L=L.queue;var Me=$6.bind(null,N,L,u);if(Bp(2048,8,Me,[u]),L.getSnapshot!==m||_e||Ci!==null&&Ci.memoizedState.tag&1){if(N.flags|=2048,jf(9,r_(),L6.bind(null,N,L,x,m),null),Ar===null)throw Error(a(349));W||(zu&124)!==0||O6(N,m,x)}return x}function O6(u,m,x){u.flags|=16384,u={getSnapshot:m,value:x},m=ba.updateQueue,m===null?(m=x2(),ba.updateQueue=m,m.stores=[u]):(x=m.stores,x===null?m.stores=[u]:x.push(u))}function L6(u,m,x,N){m.value=x,m.getSnapshot=N,P6(m)&&F6(u)}function $6(u,m,x){return x(function(){P6(m)&&F6(u)})}function P6(u){var m=u.getSnapshot;u=u.value;try{var x=m();return!y(u,x)}catch{return!0}}function F6(u){var m=mf(u,2);m!==null&&Xo(m,u,2)}function j2(u){var m=Do();if(typeof u=="function"){var x=u;if(u=x(),eh){Ze(!0);try{x()}finally{Ze(!1)}}}return m.memoizedState=m.baseState=u,m.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:eu,lastRenderedState:u},m}function H6(u,m,x,N){return u.baseState=x,y2(u,xr,typeof N=="function"?N:eu)}function vH(u,m,x,N,L){if(o_(u))throw Error(a(485));if(u=m.action,u!==null){var W={payload:L,action:u,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_e){W.listeners.push(_e)}};V.T!==null?x(!0):W.isTransition=!1,N(W),x=m.pending,x===null?(W.next=m.pending=W,q6(m,W)):(W.next=x.next,m.pending=x.next=W)}}function q6(u,m){var x=m.action,N=m.payload,L=u.state;if(m.isTransition){var W=V.T,_e={};V.T=_e;try{var Me=x(L,N),rt=V.S;rt!==null&&rt(_e,Me),V6(u,m,Me)}catch(Et){C2(u,m,Et)}finally{V.T=W}}else try{W=x(L,N),V6(u,m,W)}catch(Et){C2(u,m,Et)}}function V6(u,m,x){x!==null&&typeof x=="object"&&typeof x.then=="function"?x.then(function(N){z6(u,m,N)},function(N){return C2(u,m,N)}):z6(u,m,x)}function z6(u,m,x){m.status="fulfilled",m.value=x,U6(m),u.state=x,m=u.pending,m!==null&&(x=m.next,x===m?u.pending=null:(x=x.next,m.next=x,q6(u,x)))}function C2(u,m,x){var N=u.pending;if(u.pending=null,N!==null){N=N.next;do m.status="rejected",m.reason=x,U6(m),m=m.next;while(m!==N)}u.action=null}function U6(u){u=u.listeners;for(var m=0;m<u.length;m++)(0,u[m])()}function W6(u,m){return m}function Y6(u,m){if(nr){var x=Ar.formState;if(x!==null){e:{var N=ba;if(nr){if(si){t:{for(var L=si,W=fl;L.nodeType!==8;){if(!W){L=null;break t}if(L=Hc(L.nextSibling),L===null){L=null;break t}}W=L.data,L=W==="F!"||W==="F"?L:null}if(L){si=Hc(L.nextSibling),N=L.data==="F!";break e}}Xd(N)}N=!1}N&&(m=x[0])}}return x=Do(),x.memoizedState=x.baseState=m,N={pending:null,lanes:0,dispatch:null,lastRenderedReducer:W6,lastRenderedState:m},x.queue=N,x=h8.bind(null,ba,N),N.dispatch=x,N=j2(!1),W=E2.bind(null,ba,!1,N.queue),N=Do(),L={state:m,dispatch:null,action:u,pending:null},N.queue=L,x=vH.bind(null,ba,L,W,x),L.dispatch=x,N.memoizedState=u,[m,x,!1]}function G6(u){var m=Si();return Q6(m,xr,u)}function Q6(u,m,x){if(m=y2(u,m,W6)[0],u=a_(eu)[0],typeof m=="object"&&m!==null&&typeof m.then=="function")try{var N=Rp(m)}catch(_e){throw _e===Ip?Z0:_e}else N=m;m=Si();var L=m.queue,W=L.dispatch;return x!==m.memoizedState&&(ba.flags|=2048,jf(9,r_(),xH.bind(null,L,x),null)),[N,W,u]}function xH(u,m){u.action=m}function X6(u){var m=Si(),x=xr;if(x!==null)return Q6(m,x,u);Si(),m=m.memoizedState,x=Si();var N=x.queue.dispatch;return x.memoizedState=u,[m,N,!1]}function jf(u,m,x,N){return u={tag:u,create:x,deps:N,inst:m,next:null},m=ba.updateQueue,m===null&&(m=x2(),ba.updateQueue=m),x=m.lastEffect,x===null?m.lastEffect=u.next=u:(N=x.next,x.next=u,u.next=N,m.lastEffect=u),u}function r_(){return{destroy:void 0,resource:void 0}}function K6(){return Si().memoizedState}function i_(u,m,x,N){var L=Do();N=N===void 0?null:N,ba.flags|=u,L.memoizedState=jf(1|m,r_(),x,N)}function Bp(u,m,x,N){var L=Si();N=N===void 0?null:N;var W=L.memoizedState.inst;xr!==null&&N!==null&&m2(N,xr.memoizedState.deps)?L.memoizedState=jf(m,W,x,N):(ba.flags|=u,L.memoizedState=jf(1|m,W,x,N))}function Z6(u,m){i_(8390656,8,u,m)}function J6(u,m){Bp(2048,8,u,m)}function e8(u,m){return Bp(4,2,u,m)}function t8(u,m){return Bp(4,4,u,m)}function n8(u,m){if(typeof m=="function"){u=u();var x=m(u);return function(){typeof x=="function"?x():m(null)}}if(m!=null)return u=u(),m.current=u,function(){m.current=null}}function s8(u,m,x){x=x!=null?x.concat([u]):null,Bp(4,4,n8.bind(null,m,u),x)}function S2(){}function a8(u,m){var x=Si();m=m===void 0?null:m;var N=x.memoizedState;return m!==null&&m2(m,N[1])?N[0]:(x.memoizedState=[u,m],u)}function r8(u,m){var x=Si();m=m===void 0?null:m;var N=x.memoizedState;if(m!==null&&m2(m,N[1]))return N[0];if(N=u(),eh){Ze(!0);try{u()}finally{Ze(!1)}}return x.memoizedState=[N,m],N}function N2(u,m,x){return x===void 0||(zu&1073741824)!==0?u.memoizedState=m:(u.memoizedState=x,u=c5(),ba.lanes|=u,Ku|=u,x)}function i8(u,m,x,N){return y(x,m)?x:bf.current!==null?(u=N2(u,x,N),y(u,m)||(Hi=!0),u):(zu&42)===0?(Hi=!0,u.memoizedState=x):(u=c5(),ba.lanes|=u,Ku|=u,m)}function o8(u,m,x,N,L){var W=M.p;M.p=W!==0&&8>W?W:8;var _e=V.T,Me={};V.T=Me,E2(u,!1,m,x);try{var rt=L(),Et=V.S;if(Et!==null&&Et(Me,rt),rt!==null&&typeof rt=="object"&&typeof rt.then=="function"){var en=pH(rt,N);Op(u,m,en,Qo(u))}else Op(u,m,N,Qo(u))}catch(un){Op(u,m,{then:function(){},status:"rejected",reason:un},Qo())}finally{M.p=W,V.T=_e}}function bH(){}function k2(u,m,x,N){if(u.tag!==5)throw Error(a(476));var L=c8(u).queue;o8(u,L,m,ee,x===null?bH:function(){return l8(u),x(N)})}function c8(u){var m=u.memoizedState;if(m!==null)return m;m={memoizedState:ee,baseState:ee,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:eu,lastRenderedState:ee},next:null};var x={};return m.next={memoizedState:x,baseState:x,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:eu,lastRenderedState:x},next:null},u.memoizedState=m,u=u.alternate,u!==null&&(u.memoizedState=m),m}function l8(u){var m=c8(u).next.queue;Op(u,m,{},Qo())}function I2(){return co(e1)}function u8(){return Si().memoizedState}function d8(){return Si().memoizedState}function yH(u){for(var m=u.return;m!==null;){switch(m.tag){case 24:case 3:var x=Qo();u=qu(x);var N=Vu(m,u,x);N!==null&&(Xo(N,m,x),Tp(N,m,x)),m={cache:a2()},u.payload=m;return}m=m.return}}function wH(u,m,x){var N=Qo();x={lane:N,revertLane:0,action:x,hasEagerState:!1,eagerState:null,next:null},o_(u)?f8(m,x):(x=Gy(u,m,x,N),x!==null&&(Xo(x,u,N),m8(x,m,N)))}function h8(u,m,x){var N=Qo();Op(u,m,x,N)}function Op(u,m,x,N){var L={lane:N,revertLane:0,action:x,hasEagerState:!1,eagerState:null,next:null};if(o_(u))f8(m,L);else{var W=u.alternate;if(u.lanes===0&&(W===null||W.lanes===0)&&(W=m.lastRenderedReducer,W!==null))try{var _e=m.lastRenderedState,Me=W(_e,x);if(L.hasEagerState=!0,L.eagerState=Me,y(Me,_e))return z0(u,m,L,0),Ar===null&&V0(),!1}catch{}finally{}if(x=Gy(u,m,L,N),x!==null)return Xo(x,u,N),m8(x,m,N),!0}return!1}function E2(u,m,x,N){if(N={lane:2,revertLane:ow(),action:N,hasEagerState:!1,eagerState:null,next:null},o_(u)){if(m)throw Error(a(479))}else m=Gy(u,x,N,2),m!==null&&Xo(m,u,2)}function o_(u){var m=u.alternate;return u===ba||m!==null&&m===ba}function f8(u,m){yf=t_=!0;var x=u.pending;x===null?m.next=m:(m.next=x.next,x.next=m),u.pending=m}function m8(u,m,x){if((x&4194048)!==0){var N=m.lanes;N&=u.pendingLanes,x|=N,m.lanes=x,dt(u,x)}}var c_={readContext:co,use:s_,useCallback:mi,useContext:mi,useEffect:mi,useImperativeHandle:mi,useLayoutEffect:mi,useInsertionEffect:mi,useMemo:mi,useReducer:mi,useRef:mi,useState:mi,useDebugValue:mi,useDeferredValue:mi,useTransition:mi,useSyncExternalStore:mi,useId:mi,useHostTransitionStatus:mi,useFormState:mi,useActionState:mi,useOptimistic:mi,useMemoCache:mi,useCacheRefresh:mi},p8={readContext:co,use:s_,useCallback:function(u,m){return Do().memoizedState=[u,m===void 0?null:m],u},useContext:co,useEffect:Z6,useImperativeHandle:function(u,m,x){x=x!=null?x.concat([u]):null,i_(4194308,4,n8.bind(null,m,u),x)},useLayoutEffect:function(u,m){return i_(4194308,4,u,m)},useInsertionEffect:function(u,m){i_(4,2,u,m)},useMemo:function(u,m){var x=Do();m=m===void 0?null:m;var N=u();if(eh){Ze(!0);try{u()}finally{Ze(!1)}}return x.memoizedState=[N,m],N},useReducer:function(u,m,x){var N=Do();if(x!==void 0){var L=x(m);if(eh){Ze(!0);try{x(m)}finally{Ze(!1)}}}else L=m;return N.memoizedState=N.baseState=L,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:u,lastRenderedState:L},N.queue=u,u=u.dispatch=wH.bind(null,ba,u),[N.memoizedState,u]},useRef:function(u){var m=Do();return u={current:u},m.memoizedState=u},useState:function(u){u=j2(u);var m=u.queue,x=h8.bind(null,ba,m);return m.dispatch=x,[u.memoizedState,x]},useDebugValue:S2,useDeferredValue:function(u,m){var x=Do();return N2(x,u,m)},useTransition:function(){var u=j2(!1);return u=o8.bind(null,ba,u.queue,!0,!1),Do().memoizedState=u,[!1,u]},useSyncExternalStore:function(u,m,x){var N=ba,L=Do();if(nr){if(x===void 0)throw Error(a(407));x=x()}else{if(x=m(),Ar===null)throw Error(a(349));(Ya&124)!==0||O6(N,m,x)}L.memoizedState=x;var W={value:x,getSnapshot:m};return L.queue=W,Z6($6.bind(null,N,W,u),[u]),N.flags|=2048,jf(9,r_(),L6.bind(null,N,W,x,m),null),x},useId:function(){var u=Do(),m=Ar.identifierPrefix;if(nr){var x=Kl,N=Xl;x=(N&~(1<<32-Pe(N)-1)).toString(32)+x,m=""+m+"R"+x,x=n_++,0<x&&(m+="H"+x.toString(32)),m+=""}else x=gH++,m=""+m+"r"+x.toString(32)+"";return u.memoizedState=m},useHostTransitionStatus:I2,useFormState:Y6,useActionState:Y6,useOptimistic:function(u){var m=Do();m.memoizedState=m.baseState=u;var x={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return m.queue=x,m=E2.bind(null,ba,!0,x),x.dispatch=m,[u,m]},useMemoCache:b2,useCacheRefresh:function(){return Do().memoizedState=yH.bind(null,ba)}},g8={readContext:co,use:s_,useCallback:a8,useContext:co,useEffect:J6,useImperativeHandle:s8,useInsertionEffect:e8,useLayoutEffect:t8,useMemo:r8,useReducer:a_,useRef:K6,useState:function(){return a_(eu)},useDebugValue:S2,useDeferredValue:function(u,m){var x=Si();return i8(x,xr.memoizedState,u,m)},useTransition:function(){var u=a_(eu)[0],m=Si().memoizedState;return[typeof u=="boolean"?u:Rp(u),m]},useSyncExternalStore:B6,useId:u8,useHostTransitionStatus:I2,useFormState:G6,useActionState:G6,useOptimistic:function(u,m){var x=Si();return H6(x,xr,u,m)},useMemoCache:b2,useCacheRefresh:d8},jH={readContext:co,use:s_,useCallback:a8,useContext:co,useEffect:J6,useImperativeHandle:s8,useInsertionEffect:e8,useLayoutEffect:t8,useMemo:r8,useReducer:w2,useRef:K6,useState:function(){return w2(eu)},useDebugValue:S2,useDeferredValue:function(u,m){var x=Si();return xr===null?N2(x,u,m):i8(x,xr.memoizedState,u,m)},useTransition:function(){var u=w2(eu)[0],m=Si().memoizedState;return[typeof u=="boolean"?u:Rp(u),m]},useSyncExternalStore:B6,useId:u8,useHostTransitionStatus:I2,useFormState:X6,useActionState:X6,useOptimistic:function(u,m){var x=Si();return xr!==null?H6(x,xr,u,m):(x.baseState=u,[u,x.queue.dispatch])},useMemoCache:b2,useCacheRefresh:d8},Cf=null,Lp=0;function l_(u){var m=Lp;return Lp+=1,Cf===null&&(Cf=[]),k6(Cf,u,m)}function $p(u,m){m=m.props.ref,u.ref=m!==void 0?m:null}function u_(u,m){throw m.$$typeof===g?Error(a(525)):(u=Object.prototype.toString.call(m),Error(a(31,u==="[object Object]"?"object with keys {"+Object.keys(m).join(", ")+"}":u)))}function _8(u){var m=u._init;return m(u._payload)}function v8(u){function m(xt,ht){if(u){var Nt=xt.deletions;Nt===null?(xt.deletions=[ht],xt.flags|=16):Nt.push(ht)}}function x(xt,ht){if(!u)return null;for(;ht!==null;)m(xt,ht),ht=ht.sibling;return null}function N(xt){for(var ht=new Map;xt!==null;)xt.key!==null?ht.set(xt.key,xt):ht.set(xt.index,xt),xt=xt.sibling;return ht}function L(xt,ht){return xt=Ql(xt,ht),xt.index=0,xt.sibling=null,xt}function W(xt,ht,Nt){return xt.index=Nt,u?(Nt=xt.alternate,Nt!==null?(Nt=Nt.index,Nt<ht?(xt.flags|=67108866,ht):Nt):(xt.flags|=67108866,ht)):(xt.flags|=1048576,ht)}function _e(xt){return u&&xt.alternate===null&&(xt.flags|=67108866),xt}function Me(xt,ht,Nt,sn){return ht===null||ht.tag!==6?(ht=Xy(Nt,xt.mode,sn),ht.return=xt,ht):(ht=L(ht,Nt),ht.return=xt,ht)}function rt(xt,ht,Nt,sn){var gs=Nt.type;return gs===C?en(xt,ht,Nt.props.children,sn,Nt.key):ht!==null&&(ht.elementType===gs||typeof gs=="object"&&gs!==null&&gs.$$typeof===U&&_8(gs)===ht.type)?(ht=L(ht,Nt.props),$p(ht,Nt),ht.return=xt,ht):(ht=W0(Nt.type,Nt.key,Nt.props,null,xt.mode,sn),$p(ht,Nt),ht.return=xt,ht)}function Et(xt,ht,Nt,sn){return ht===null||ht.tag!==4||ht.stateNode.containerInfo!==Nt.containerInfo||ht.stateNode.implementation!==Nt.implementation?(ht=Ky(Nt,xt.mode,sn),ht.return=xt,ht):(ht=L(ht,Nt.children||[]),ht.return=xt,ht)}function en(xt,ht,Nt,sn,gs){return ht===null||ht.tag!==7?(ht=Wd(Nt,xt.mode,sn,gs),ht.return=xt,ht):(ht=L(ht,Nt),ht.return=xt,ht)}function un(xt,ht,Nt){if(typeof ht=="string"&&ht!==""||typeof ht=="number"||typeof ht=="bigint")return ht=Xy(""+ht,xt.mode,Nt),ht.return=xt,ht;if(typeof ht=="object"&&ht!==null){switch(ht.$$typeof){case b:return Nt=W0(ht.type,ht.key,ht.props,null,xt.mode,Nt),$p(Nt,ht),Nt.return=xt,Nt;case w:return ht=Ky(ht,xt.mode,Nt),ht.return=xt,ht;case U:var sn=ht._init;return ht=sn(ht._payload),un(xt,ht,Nt)}if(z(ht)||K(ht))return ht=Wd(ht,xt.mode,Nt,null),ht.return=xt,ht;if(typeof ht.then=="function")return un(xt,l_(ht),Nt);if(ht.$$typeof===R)return un(xt,X0(xt,ht),Nt);u_(xt,ht)}return null}function Dt(xt,ht,Nt,sn){var gs=ht!==null?ht.key:null;if(typeof Nt=="string"&&Nt!==""||typeof Nt=="number"||typeof Nt=="bigint")return gs!==null?null:Me(xt,ht,""+Nt,sn);if(typeof Nt=="object"&&Nt!==null){switch(Nt.$$typeof){case b:return Nt.key===gs?rt(xt,ht,Nt,sn):null;case w:return Nt.key===gs?Et(xt,ht,Nt,sn):null;case U:return gs=Nt._init,Nt=gs(Nt._payload),Dt(xt,ht,Nt,sn)}if(z(Nt)||K(Nt))return gs!==null?null:en(xt,ht,Nt,sn,null);if(typeof Nt.then=="function")return Dt(xt,ht,l_(Nt),sn);if(Nt.$$typeof===R)return Dt(xt,ht,X0(xt,Nt),sn);u_(xt,Nt)}return null}function $t(xt,ht,Nt,sn,gs){if(typeof sn=="string"&&sn!==""||typeof sn=="number"||typeof sn=="bigint")return xt=xt.get(Nt)||null,Me(ht,xt,""+sn,gs);if(typeof sn=="object"&&sn!==null){switch(sn.$$typeof){case b:return xt=xt.get(sn.key===null?Nt:sn.key)||null,rt(ht,xt,sn,gs);case w:return xt=xt.get(sn.key===null?Nt:sn.key)||null,Et(ht,xt,sn,gs);case U:var Sa=sn._init;return sn=Sa(sn._payload),$t(xt,ht,Nt,sn,gs)}if(z(sn)||K(sn))return xt=xt.get(Nt)||null,en(ht,xt,sn,gs,null);if(typeof sn.then=="function")return $t(xt,ht,Nt,l_(sn),gs);if(sn.$$typeof===R)return $t(xt,ht,Nt,X0(ht,sn),gs);u_(ht,sn)}return null}function Fs(xt,ht,Nt,sn){for(var gs=null,Sa=null,ks=ht,Os=ht=0,Vi=null;ks!==null&&Os<Nt.length;Os++){ks.index>Os?(Vi=ks,ks=null):Vi=ks.sibling;var er=Dt(xt,ks,Nt[Os],sn);if(er===null){ks===null&&(ks=Vi);break}u&&ks&&er.alternate===null&&m(xt,ks),ht=W(er,ht,Os),Sa===null?gs=er:Sa.sibling=er,Sa=er,ks=Vi}if(Os===Nt.length)return x(xt,ks),nr&&Gd(xt,Os),gs;if(ks===null){for(;Os<Nt.length;Os++)ks=un(xt,Nt[Os],sn),ks!==null&&(ht=W(ks,ht,Os),Sa===null?gs=ks:Sa.sibling=ks,Sa=ks);return nr&&Gd(xt,Os),gs}for(ks=N(ks);Os<Nt.length;Os++)Vi=$t(ks,xt,Os,Nt[Os],sn),Vi!==null&&(u&&Vi.alternate!==null&&ks.delete(Vi.key===null?Os:Vi.key),ht=W(Vi,ht,Os),Sa===null?gs=Vi:Sa.sibling=Vi,Sa=Vi);return u&&ks.forEach(function(id){return m(xt,id)}),nr&&Gd(xt,Os),gs}function Bs(xt,ht,Nt,sn){if(Nt==null)throw Error(a(151));for(var gs=null,Sa=null,ks=ht,Os=ht=0,Vi=null,er=Nt.next();ks!==null&&!er.done;Os++,er=Nt.next()){ks.index>Os?(Vi=ks,ks=null):Vi=ks.sibling;var id=Dt(xt,ks,er.value,sn);if(id===null){ks===null&&(ks=Vi);break}u&&ks&&id.alternate===null&&m(xt,ks),ht=W(id,ht,Os),Sa===null?gs=id:Sa.sibling=id,Sa=id,ks=Vi}if(er.done)return x(xt,ks),nr&&Gd(xt,Os),gs;if(ks===null){for(;!er.done;Os++,er=Nt.next())er=un(xt,er.value,sn),er!==null&&(ht=W(er,ht,Os),Sa===null?gs=er:Sa.sibling=er,Sa=er);return nr&&Gd(xt,Os),gs}for(ks=N(ks);!er.done;Os++,er=Nt.next())er=$t(ks,xt,Os,er.value,sn),er!==null&&(u&&er.alternate!==null&&ks.delete(er.key===null?Os:er.key),ht=W(er,ht,Os),Sa===null?gs=er:Sa.sibling=er,Sa=er);return u&&ks.forEach(function(Cq){return m(xt,Cq)}),nr&&Gd(xt,Os),gs}function yr(xt,ht,Nt,sn){if(typeof Nt=="object"&&Nt!==null&&Nt.type===C&&Nt.key===null&&(Nt=Nt.props.children),typeof Nt=="object"&&Nt!==null){switch(Nt.$$typeof){case b:e:{for(var gs=Nt.key;ht!==null;){if(ht.key===gs){if(gs=Nt.type,gs===C){if(ht.tag===7){x(xt,ht.sibling),sn=L(ht,Nt.props.children),sn.return=xt,xt=sn;break e}}else if(ht.elementType===gs||typeof gs=="object"&&gs!==null&&gs.$$typeof===U&&_8(gs)===ht.type){x(xt,ht.sibling),sn=L(ht,Nt.props),$p(sn,Nt),sn.return=xt,xt=sn;break e}x(xt,ht);break}else m(xt,ht);ht=ht.sibling}Nt.type===C?(sn=Wd(Nt.props.children,xt.mode,sn,Nt.key),sn.return=xt,xt=sn):(sn=W0(Nt.type,Nt.key,Nt.props,null,xt.mode,sn),$p(sn,Nt),sn.return=xt,xt=sn)}return _e(xt);case w:e:{for(gs=Nt.key;ht!==null;){if(ht.key===gs)if(ht.tag===4&&ht.stateNode.containerInfo===Nt.containerInfo&&ht.stateNode.implementation===Nt.implementation){x(xt,ht.sibling),sn=L(ht,Nt.children||[]),sn.return=xt,xt=sn;break e}else{x(xt,ht);break}else m(xt,ht);ht=ht.sibling}sn=Ky(Nt,xt.mode,sn),sn.return=xt,xt=sn}return _e(xt);case U:return gs=Nt._init,Nt=gs(Nt._payload),yr(xt,ht,Nt,sn)}if(z(Nt))return Fs(xt,ht,Nt,sn);if(K(Nt)){if(gs=K(Nt),typeof gs!="function")throw Error(a(150));return Nt=gs.call(Nt),Bs(xt,ht,Nt,sn)}if(typeof Nt.then=="function")return yr(xt,ht,l_(Nt),sn);if(Nt.$$typeof===R)return yr(xt,ht,X0(xt,Nt),sn);u_(xt,Nt)}return typeof Nt=="string"&&Nt!==""||typeof Nt=="number"||typeof Nt=="bigint"?(Nt=""+Nt,ht!==null&&ht.tag===6?(x(xt,ht.sibling),sn=L(ht,Nt),sn.return=xt,xt=sn):(x(xt,ht),sn=Xy(Nt,xt.mode,sn),sn.return=xt,xt=sn),_e(xt)):x(xt,ht)}return function(xt,ht,Nt,sn){try{Lp=0;var gs=yr(xt,ht,Nt,sn);return Cf=null,gs}catch(ks){if(ks===Ip||ks===Z0)throw ks;var Sa=Uo(29,ks,null,xt.mode);return Sa.lanes=sn,Sa.return=xt,Sa}finally{}}}var Sf=v8(!0),x8=v8(!1),gc=G(null),ml=null;function Uu(u){var m=u.alternate;Y(Ri,Ri.current&1),Y(gc,u),ml===null&&(m===null||bf.current!==null||m.memoizedState!==null)&&(ml=u)}function b8(u){if(u.tag===22){if(Y(Ri,Ri.current),Y(gc,u),ml===null){var m=u.alternate;m!==null&&m.memoizedState!==null&&(ml=u)}}else Wu()}function Wu(){Y(Ri,Ri.current),Y(gc,gc.current)}function tu(u){Q(gc),ml===u&&(ml=null),Q(Ri)}var Ri=G(0);function d_(u){for(var m=u;m!==null;){if(m.tag===13){var x=m.memoizedState;if(x!==null&&(x=x.dehydrated,x===null||x.data==="$?"||xw(x)))return m}else if(m.tag===19&&m.memoizedProps.revealOrder!==void 0){if((m.flags&128)!==0)return m}else if(m.child!==null){m.child.return=m,m=m.child;continue}if(m===u)break;for(;m.sibling===null;){if(m.return===null||m.return===u)return null;m=m.return}m.sibling.return=m.return,m=m.sibling}return null}function T2(u,m,x,N){m=u.memoizedState,x=x(N,m),x=x==null?m:f({},m,x),u.memoizedState=x,u.lanes===0&&(u.updateQueue.baseState=x)}var D2={enqueueSetState:function(u,m,x){u=u._reactInternals;var N=Qo(),L=qu(N);L.payload=m,x!=null&&(L.callback=x),m=Vu(u,L,N),m!==null&&(Xo(m,u,N),Tp(m,u,N))},enqueueReplaceState:function(u,m,x){u=u._reactInternals;var N=Qo(),L=qu(N);L.tag=1,L.payload=m,x!=null&&(L.callback=x),m=Vu(u,L,N),m!==null&&(Xo(m,u,N),Tp(m,u,N))},enqueueForceUpdate:function(u,m){u=u._reactInternals;var x=Qo(),N=qu(x);N.tag=2,m!=null&&(N.callback=m),m=Vu(u,N,x),m!==null&&(Xo(m,u,x),Tp(m,u,x))}};function y8(u,m,x,N,L,W,_e){return u=u.stateNode,typeof u.shouldComponentUpdate=="function"?u.shouldComponentUpdate(N,W,_e):m.prototype&&m.prototype.isPureReactComponent?!j(x,N)||!j(L,W):!0}function w8(u,m,x,N){u=m.state,typeof m.componentWillReceiveProps=="function"&&m.componentWillReceiveProps(x,N),typeof m.UNSAFE_componentWillReceiveProps=="function"&&m.UNSAFE_componentWillReceiveProps(x,N),m.state!==u&&D2.enqueueReplaceState(m,m.state,null)}function th(u,m){var x=m;if("ref"in m){x={};for(var N in m)N!=="ref"&&(x[N]=m[N])}if(u=u.defaultProps){x===m&&(x=f({},x));for(var L in u)x[L]===void 0&&(x[L]=u[L])}return x}var h_=typeof reportError=="function"?reportError:function(u){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var m=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof u=="object"&&u!==null&&typeof u.message=="string"?String(u.message):String(u),error:u});if(!window.dispatchEvent(m))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",u);return}console.error(u)};function j8(u){h_(u)}function C8(u){console.error(u)}function S8(u){h_(u)}function f_(u,m){try{var x=u.onUncaughtError;x(m.value,{componentStack:m.stack})}catch(N){setTimeout(function(){throw N})}}function N8(u,m,x){try{var N=u.onCaughtError;N(x.value,{componentStack:x.stack,errorBoundary:m.tag===1?m.stateNode:null})}catch(L){setTimeout(function(){throw L})}}function A2(u,m,x){return x=qu(x),x.tag=3,x.payload={element:null},x.callback=function(){f_(u,m)},x}function k8(u){return u=qu(u),u.tag=3,u}function I8(u,m,x,N){var L=x.type.getDerivedStateFromError;if(typeof L=="function"){var W=N.value;u.payload=function(){return L(W)},u.callback=function(){N8(m,x,N)}}var _e=x.stateNode;_e!==null&&typeof _e.componentDidCatch=="function"&&(u.callback=function(){N8(m,x,N),typeof L!="function"&&(Zu===null?Zu=new Set([this]):Zu.add(this));var Me=N.stack;this.componentDidCatch(N.value,{componentStack:Me!==null?Me:""})})}function CH(u,m,x,N,L){if(x.flags|=32768,N!==null&&typeof N=="object"&&typeof N.then=="function"){if(m=x.alternate,m!==null&&Sp(m,x,L,!0),x=gc.current,x!==null){switch(x.tag){case 13:return ml===null?nw():x.alternate===null&&ai===0&&(ai=3),x.flags&=-257,x.flags|=65536,x.lanes=L,N===o2?x.flags|=16384:(m=x.updateQueue,m===null?x.updateQueue=new Set([N]):m.add(N),aw(u,N,L)),!1;case 22:return x.flags|=65536,N===o2?x.flags|=16384:(m=x.updateQueue,m===null?(m={transitions:null,markerInstances:null,retryQueue:new Set([N])},x.updateQueue=m):(x=m.retryQueue,x===null?m.retryQueue=new Set([N]):x.add(N)),aw(u,N,L)),!1}throw Error(a(435,x.tag))}return aw(u,N,L),nw(),!1}if(nr)return m=gc.current,m!==null?((m.flags&65536)===0&&(m.flags|=256),m.flags|=65536,m.lanes=L,N!==e2&&(u=Error(a(422),{cause:N}),Cp(hc(u,x)))):(N!==e2&&(m=Error(a(423),{cause:N}),Cp(hc(m,x))),u=u.current.alternate,u.flags|=65536,L&=-L,u.lanes|=L,N=hc(N,x),L=A2(u.stateNode,N,L),u2(u,L),ai!==4&&(ai=2)),!1;var W=Error(a(520),{cause:N});if(W=hc(W,x),Up===null?Up=[W]:Up.push(W),ai!==4&&(ai=2),m===null)return!0;N=hc(N,x),x=m;do{switch(x.tag){case 3:return x.flags|=65536,u=L&-L,x.lanes|=u,u=A2(x.stateNode,N,u),u2(x,u),!1;case 1:if(m=x.type,W=x.stateNode,(x.flags&128)===0&&(typeof m.getDerivedStateFromError=="function"||W!==null&&typeof W.componentDidCatch=="function"&&(Zu===null||!Zu.has(W))))return x.flags|=65536,L&=-L,x.lanes|=L,L=k8(L),I8(L,u,x,N),u2(x,L),!1}x=x.return}while(x!==null);return!1}var E8=Error(a(461)),Hi=!1;function Xi(u,m,x,N){m.child=u===null?x8(m,null,x,N):Sf(m,u.child,x,N)}function T8(u,m,x,N,L){x=x.render;var W=m.ref;if("ref"in N){var _e={};for(var Me in N)Me!=="ref"&&(_e[Me]=N[Me])}else _e=N;return Zd(m),N=p2(u,m,x,_e,W,L),Me=g2(),u!==null&&!Hi?(_2(u,m,L),nu(u,m,L)):(nr&&Me&&Zy(m),m.flags|=1,Xi(u,m,N,L),m.child)}function D8(u,m,x,N,L){if(u===null){var W=x.type;return typeof W=="function"&&!Qy(W)&&W.defaultProps===void 0&&x.compare===null?(m.tag=15,m.type=W,A8(u,m,W,N,L)):(u=W0(x.type,null,N,m,m.mode,L),u.ref=m.ref,u.return=m,m.child=u)}if(W=u.child,!F2(u,L)){var _e=W.memoizedProps;if(x=x.compare,x=x!==null?x:j,x(_e,N)&&u.ref===m.ref)return nu(u,m,L)}return m.flags|=1,u=Ql(W,N),u.ref=m.ref,u.return=m,m.child=u}function A8(u,m,x,N,L){if(u!==null){var W=u.memoizedProps;if(j(W,N)&&u.ref===m.ref)if(Hi=!1,m.pendingProps=N=W,F2(u,L))(u.flags&131072)!==0&&(Hi=!0);else return m.lanes=u.lanes,nu(u,m,L)}return M2(u,m,x,N,L)}function M8(u,m,x){var N=m.pendingProps,L=N.children,W=u!==null?u.memoizedState:null;if(N.mode==="hidden"){if((m.flags&128)!==0){if(N=W!==null?W.baseLanes|x:x,u!==null){for(L=m.child=u.child,W=0;L!==null;)W=W|L.lanes|L.childLanes,L=L.sibling;m.childLanes=W&~N}else m.childLanes=0,m.child=null;return R8(u,m,N,x)}if((x&536870912)!==0)m.memoizedState={baseLanes:0,cachePool:null},u!==null&&K0(m,W!==null?W.cachePool:null),W!==null?A6(m,W):h2(),b8(m);else return m.lanes=m.childLanes=536870912,R8(u,m,W!==null?W.baseLanes|x:x,x)}else W!==null?(K0(m,W.cachePool),A6(m,W),Wu(),m.memoizedState=null):(u!==null&&K0(m,null),h2(),Wu());return Xi(u,m,L,x),m.child}function R8(u,m,x,N){var L=i2();return L=L===null?null:{parent:Mi._currentValue,pool:L},m.memoizedState={baseLanes:x,cachePool:L},u!==null&&K0(m,null),h2(),b8(m),u!==null&&Sp(u,m,N,!0),null}function m_(u,m){var x=m.ref;if(x===null)u!==null&&u.ref!==null&&(m.flags|=4194816);else{if(typeof x!="function"&&typeof x!="object")throw Error(a(284));(u===null||u.ref!==x)&&(m.flags|=4194816)}}function M2(u,m,x,N,L){return Zd(m),x=p2(u,m,x,N,void 0,L),N=g2(),u!==null&&!Hi?(_2(u,m,L),nu(u,m,L)):(nr&&N&&Zy(m),m.flags|=1,Xi(u,m,x,L),m.child)}function B8(u,m,x,N,L,W){return Zd(m),m.updateQueue=null,x=R6(m,N,x,L),M6(u),N=g2(),u!==null&&!Hi?(_2(u,m,W),nu(u,m,W)):(nr&&N&&Zy(m),m.flags|=1,Xi(u,m,x,W),m.child)}function O8(u,m,x,N,L){if(Zd(m),m.stateNode===null){var W=pf,_e=x.contextType;typeof _e=="object"&&_e!==null&&(W=co(_e)),W=new x(N,W),m.memoizedState=W.state!==null&&W.state!==void 0?W.state:null,W.updater=D2,m.stateNode=W,W._reactInternals=m,W=m.stateNode,W.props=N,W.state=m.memoizedState,W.refs={},c2(m),_e=x.contextType,W.context=typeof _e=="object"&&_e!==null?co(_e):pf,W.state=m.memoizedState,_e=x.getDerivedStateFromProps,typeof _e=="function"&&(T2(m,x,_e,N),W.state=m.memoizedState),typeof x.getDerivedStateFromProps=="function"||typeof W.getSnapshotBeforeUpdate=="function"||typeof W.UNSAFE_componentWillMount!="function"&&typeof W.componentWillMount!="function"||(_e=W.state,typeof W.componentWillMount=="function"&&W.componentWillMount(),typeof W.UNSAFE_componentWillMount=="function"&&W.UNSAFE_componentWillMount(),_e!==W.state&&D2.enqueueReplaceState(W,W.state,null),Ap(m,N,W,L),Dp(),W.state=m.memoizedState),typeof W.componentDidMount=="function"&&(m.flags|=4194308),N=!0}else if(u===null){W=m.stateNode;var Me=m.memoizedProps,rt=th(x,Me);W.props=rt;var Et=W.context,en=x.contextType;_e=pf,typeof en=="object"&&en!==null&&(_e=co(en));var un=x.getDerivedStateFromProps;en=typeof un=="function"||typeof W.getSnapshotBeforeUpdate=="function",Me=m.pendingProps!==Me,en||typeof W.UNSAFE_componentWillReceiveProps!="function"&&typeof W.componentWillReceiveProps!="function"||(Me||Et!==_e)&&w8(m,W,N,_e),Hu=!1;var Dt=m.memoizedState;W.state=Dt,Ap(m,N,W,L),Dp(),Et=m.memoizedState,Me||Dt!==Et||Hu?(typeof un=="function"&&(T2(m,x,un,N),Et=m.memoizedState),(rt=Hu||y8(m,x,rt,N,Dt,Et,_e))?(en||typeof W.UNSAFE_componentWillMount!="function"&&typeof W.componentWillMount!="function"||(typeof W.componentWillMount=="function"&&W.componentWillMount(),typeof W.UNSAFE_componentWillMount=="function"&&W.UNSAFE_componentWillMount()),typeof W.componentDidMount=="function"&&(m.flags|=4194308)):(typeof W.componentDidMount=="function"&&(m.flags|=4194308),m.memoizedProps=N,m.memoizedState=Et),W.props=N,W.state=Et,W.context=_e,N=rt):(typeof W.componentDidMount=="function"&&(m.flags|=4194308),N=!1)}else{W=m.stateNode,l2(u,m),_e=m.memoizedProps,en=th(x,_e),W.props=en,un=m.pendingProps,Dt=W.context,Et=x.contextType,rt=pf,typeof Et=="object"&&Et!==null&&(rt=co(Et)),Me=x.getDerivedStateFromProps,(Et=typeof Me=="function"||typeof W.getSnapshotBeforeUpdate=="function")||typeof W.UNSAFE_componentWillReceiveProps!="function"&&typeof W.componentWillReceiveProps!="function"||(_e!==un||Dt!==rt)&&w8(m,W,N,rt),Hu=!1,Dt=m.memoizedState,W.state=Dt,Ap(m,N,W,L),Dp();var $t=m.memoizedState;_e!==un||Dt!==$t||Hu||u!==null&&u.dependencies!==null&&Q0(u.dependencies)?(typeof Me=="function"&&(T2(m,x,Me,N),$t=m.memoizedState),(en=Hu||y8(m,x,en,N,Dt,$t,rt)||u!==null&&u.dependencies!==null&&Q0(u.dependencies))?(Et||typeof W.UNSAFE_componentWillUpdate!="function"&&typeof W.componentWillUpdate!="function"||(typeof W.componentWillUpdate=="function"&&W.componentWillUpdate(N,$t,rt),typeof W.UNSAFE_componentWillUpdate=="function"&&W.UNSAFE_componentWillUpdate(N,$t,rt)),typeof W.componentDidUpdate=="function"&&(m.flags|=4),typeof W.getSnapshotBeforeUpdate=="function"&&(m.flags|=1024)):(typeof W.componentDidUpdate!="function"||_e===u.memoizedProps&&Dt===u.memoizedState||(m.flags|=4),typeof W.getSnapshotBeforeUpdate!="function"||_e===u.memoizedProps&&Dt===u.memoizedState||(m.flags|=1024),m.memoizedProps=N,m.memoizedState=$t),W.props=N,W.state=$t,W.context=rt,N=en):(typeof W.componentDidUpdate!="function"||_e===u.memoizedProps&&Dt===u.memoizedState||(m.flags|=4),typeof W.getSnapshotBeforeUpdate!="function"||_e===u.memoizedProps&&Dt===u.memoizedState||(m.flags|=1024),N=!1)}return W=N,m_(u,m),N=(m.flags&128)!==0,W||N?(W=m.stateNode,x=N&&typeof x.getDerivedStateFromError!="function"?null:W.render(),m.flags|=1,u!==null&&N?(m.child=Sf(m,u.child,null,L),m.child=Sf(m,null,x,L)):Xi(u,m,x,L),m.memoizedState=W.state,u=m.child):u=nu(u,m,L),u}function L8(u,m,x,N){return jp(),m.flags|=256,Xi(u,m,x,N),m.child}var R2={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function B2(u){return{baseLanes:u,cachePool:C6()}}function O2(u,m,x){return u=u!==null?u.childLanes&~x:0,m&&(u|=_c),u}function $8(u,m,x){var N=m.pendingProps,L=!1,W=(m.flags&128)!==0,_e;if((_e=W)||(_e=u!==null&&u.memoizedState===null?!1:(Ri.current&2)!==0),_e&&(L=!0,m.flags&=-129),_e=(m.flags&32)!==0,m.flags&=-33,u===null){if(nr){if(L?Uu(m):Wu(),nr){var Me=si,rt;if(rt=Me){e:{for(rt=Me,Me=fl;rt.nodeType!==8;){if(!Me){Me=null;break e}if(rt=Hc(rt.nextSibling),rt===null){Me=null;break e}}Me=rt}Me!==null?(m.memoizedState={dehydrated:Me,treeContext:Yd!==null?{id:Xl,overflow:Kl}:null,retryLane:536870912,hydrationErrors:null},rt=Uo(18,null,null,0),rt.stateNode=Me,rt.return=m,m.child=rt,wo=m,si=null,rt=!0):rt=!1}rt||Xd(m)}if(Me=m.memoizedState,Me!==null&&(Me=Me.dehydrated,Me!==null))return xw(Me)?m.lanes=32:m.lanes=536870912,null;tu(m)}return Me=N.children,N=N.fallback,L?(Wu(),L=m.mode,Me=p_({mode:"hidden",children:Me},L),N=Wd(N,L,x,null),Me.return=m,N.return=m,Me.sibling=N,m.child=Me,L=m.child,L.memoizedState=B2(x),L.childLanes=O2(u,_e,x),m.memoizedState=R2,N):(Uu(m),L2(m,Me))}if(rt=u.memoizedState,rt!==null&&(Me=rt.dehydrated,Me!==null)){if(W)m.flags&256?(Uu(m),m.flags&=-257,m=$2(u,m,x)):m.memoizedState!==null?(Wu(),m.child=u.child,m.flags|=128,m=null):(Wu(),L=N.fallback,Me=m.mode,N=p_({mode:"visible",children:N.children},Me),L=Wd(L,Me,x,null),L.flags|=2,N.return=m,L.return=m,N.sibling=L,m.child=N,Sf(m,u.child,null,x),N=m.child,N.memoizedState=B2(x),N.childLanes=O2(u,_e,x),m.memoizedState=R2,m=L);else if(Uu(m),xw(Me)){if(_e=Me.nextSibling&&Me.nextSibling.dataset,_e)var Et=_e.dgst;_e=Et,N=Error(a(419)),N.stack="",N.digest=_e,Cp({value:N,source:null,stack:null}),m=$2(u,m,x)}else if(Hi||Sp(u,m,x,!1),_e=(x&u.childLanes)!==0,Hi||_e){if(_e=Ar,_e!==null&&(N=x&-x,N=(N&42)!==0?1:It(N),N=(N&(_e.suspendedLanes|x))!==0?0:N,N!==0&&N!==rt.retryLane))throw rt.retryLane=N,mf(u,N),Xo(_e,u,N),E8;Me.data==="$?"||nw(),m=$2(u,m,x)}else Me.data==="$?"?(m.flags|=192,m.child=u.child,m=null):(u=rt.treeContext,si=Hc(Me.nextSibling),wo=m,nr=!0,Qd=null,fl=!1,u!==null&&(mc[pc++]=Xl,mc[pc++]=Kl,mc[pc++]=Yd,Xl=u.id,Kl=u.overflow,Yd=m),m=L2(m,N.children),m.flags|=4096);return m}return L?(Wu(),L=N.fallback,Me=m.mode,rt=u.child,Et=rt.sibling,N=Ql(rt,{mode:"hidden",children:N.children}),N.subtreeFlags=rt.subtreeFlags&65011712,Et!==null?L=Ql(Et,L):(L=Wd(L,Me,x,null),L.flags|=2),L.return=m,N.return=m,N.sibling=L,m.child=N,N=L,L=m.child,Me=u.child.memoizedState,Me===null?Me=B2(x):(rt=Me.cachePool,rt!==null?(Et=Mi._currentValue,rt=rt.parent!==Et?{parent:Et,pool:Et}:rt):rt=C6(),Me={baseLanes:Me.baseLanes|x,cachePool:rt}),L.memoizedState=Me,L.childLanes=O2(u,_e,x),m.memoizedState=R2,N):(Uu(m),x=u.child,u=x.sibling,x=Ql(x,{mode:"visible",children:N.children}),x.return=m,x.sibling=null,u!==null&&(_e=m.deletions,_e===null?(m.deletions=[u],m.flags|=16):_e.push(u)),m.child=x,m.memoizedState=null,x)}function L2(u,m){return m=p_({mode:"visible",children:m},u.mode),m.return=u,u.child=m}function p_(u,m){return u=Uo(22,u,null,m),u.lanes=0,u.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},u}function $2(u,m,x){return Sf(m,u.child,null,x),u=L2(m,m.pendingProps.children),u.flags|=2,m.memoizedState=null,u}function P8(u,m,x){u.lanes|=m;var N=u.alternate;N!==null&&(N.lanes|=m),n2(u.return,m,x)}function P2(u,m,x,N,L){var W=u.memoizedState;W===null?u.memoizedState={isBackwards:m,rendering:null,renderingStartTime:0,last:N,tail:x,tailMode:L}:(W.isBackwards=m,W.rendering=null,W.renderingStartTime=0,W.last=N,W.tail=x,W.tailMode=L)}function F8(u,m,x){var N=m.pendingProps,L=N.revealOrder,W=N.tail;if(Xi(u,m,N.children,x),N=Ri.current,(N&2)!==0)N=N&1|2,m.flags|=128;else{if(u!==null&&(u.flags&128)!==0)e:for(u=m.child;u!==null;){if(u.tag===13)u.memoizedState!==null&&P8(u,x,m);else if(u.tag===19)P8(u,x,m);else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===m)break e;for(;u.sibling===null;){if(u.return===null||u.return===m)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}N&=1}switch(Y(Ri,N),L){case"forwards":for(x=m.child,L=null;x!==null;)u=x.alternate,u!==null&&d_(u)===null&&(L=x),x=x.sibling;x=L,x===null?(L=m.child,m.child=null):(L=x.sibling,x.sibling=null),P2(m,!1,L,x,W);break;case"backwards":for(x=null,L=m.child,m.child=null;L!==null;){if(u=L.alternate,u!==null&&d_(u)===null){m.child=L;break}u=L.sibling,L.sibling=x,x=L,L=u}P2(m,!0,x,null,W);break;case"together":P2(m,!1,null,null,void 0);break;default:m.memoizedState=null}return m.child}function nu(u,m,x){if(u!==null&&(m.dependencies=u.dependencies),Ku|=m.lanes,(x&m.childLanes)===0)if(u!==null){if(Sp(u,m,x,!1),(x&m.childLanes)===0)return null}else return null;if(u!==null&&m.child!==u.child)throw Error(a(153));if(m.child!==null){for(u=m.child,x=Ql(u,u.pendingProps),m.child=x,x.return=m;u.sibling!==null;)u=u.sibling,x=x.sibling=Ql(u,u.pendingProps),x.return=m;x.sibling=null}return m.child}function F2(u,m){return(u.lanes&m)!==0?!0:(u=u.dependencies,!!(u!==null&&Q0(u)))}function SH(u,m,x){switch(m.tag){case 3:me(m,m.stateNode.containerInfo),Fu(m,Mi,u.memoizedState.cache),jp();break;case 27:case 5:Ne(m);break;case 4:me(m,m.stateNode.containerInfo);break;case 10:Fu(m,m.type,m.memoizedProps.value);break;case 13:var N=m.memoizedState;if(N!==null)return N.dehydrated!==null?(Uu(m),m.flags|=128,null):(x&m.child.childLanes)!==0?$8(u,m,x):(Uu(m),u=nu(u,m,x),u!==null?u.sibling:null);Uu(m);break;case 19:var L=(u.flags&128)!==0;if(N=(x&m.childLanes)!==0,N||(Sp(u,m,x,!1),N=(x&m.childLanes)!==0),L){if(N)return F8(u,m,x);m.flags|=128}if(L=m.memoizedState,L!==null&&(L.rendering=null,L.tail=null,L.lastEffect=null),Y(Ri,Ri.current),N)break;return null;case 22:case 23:return m.lanes=0,M8(u,m,x);case 24:Fu(m,Mi,u.memoizedState.cache)}return nu(u,m,x)}function H8(u,m,x){if(u!==null)if(u.memoizedProps!==m.pendingProps)Hi=!0;else{if(!F2(u,x)&&(m.flags&128)===0)return Hi=!1,SH(u,m,x);Hi=(u.flags&131072)!==0}else Hi=!1,nr&&(m.flags&1048576)!==0&&_6(m,G0,m.index);switch(m.lanes=0,m.tag){case 16:e:{u=m.pendingProps;var N=m.elementType,L=N._init;if(N=L(N._payload),m.type=N,typeof N=="function")Qy(N)?(u=th(N,u),m.tag=1,m=O8(null,m,N,u,x)):(m.tag=0,m=M2(null,m,N,u,x));else{if(N!=null){if(L=N.$$typeof,L===P){m.tag=11,m=T8(null,m,N,u,x);break e}else if(L===$){m.tag=14,m=D8(null,m,N,u,x);break e}}throw m=J(N)||N,Error(a(306,m,""))}}return m;case 0:return M2(u,m,m.type,m.pendingProps,x);case 1:return N=m.type,L=th(N,m.pendingProps),O8(u,m,N,L,x);case 3:e:{if(me(m,m.stateNode.containerInfo),u===null)throw Error(a(387));N=m.pendingProps;var W=m.memoizedState;L=W.element,l2(u,m),Ap(m,N,null,x);var _e=m.memoizedState;if(N=_e.cache,Fu(m,Mi,N),N!==W.cache&&s2(m,[Mi],x,!0),Dp(),N=_e.element,W.isDehydrated)if(W={element:N,isDehydrated:!1,cache:_e.cache},m.updateQueue.baseState=W,m.memoizedState=W,m.flags&256){m=L8(u,m,N,x);break e}else if(N!==L){L=hc(Error(a(424)),m),Cp(L),m=L8(u,m,N,x);break e}else{switch(u=m.stateNode.containerInfo,u.nodeType){case 9:u=u.body;break;default:u=u.nodeName==="HTML"?u.ownerDocument.body:u}for(si=Hc(u.firstChild),wo=m,nr=!0,Qd=null,fl=!0,x=x8(m,null,N,x),m.child=x;x;)x.flags=x.flags&-3|4096,x=x.sibling}else{if(jp(),N===L){m=nu(u,m,x);break e}Xi(u,m,N,x)}m=m.child}return m;case 26:return m_(u,m),u===null?(x=U5(m.type,null,m.pendingProps,null))?m.memoizedState=x:nr||(x=m.type,u=m.pendingProps,N=E_(re.current).createElement(x),N[vn]=m,N[ss]=u,Zi(N,x,u),vs(N),m.stateNode=N):m.memoizedState=U5(m.type,u.memoizedProps,m.pendingProps,u.memoizedState),null;case 27:return Ne(m),u===null&&nr&&(N=m.stateNode=q5(m.type,m.pendingProps,re.current),wo=m,fl=!0,L=si,td(m.type)?(bw=L,si=Hc(N.firstChild)):si=L),Xi(u,m,m.pendingProps.children,x),m_(u,m),u===null&&(m.flags|=4194304),m.child;case 5:return u===null&&nr&&((L=N=si)&&(N=JH(N,m.type,m.pendingProps,fl),N!==null?(m.stateNode=N,wo=m,si=Hc(N.firstChild),fl=!1,L=!0):L=!1),L||Xd(m)),Ne(m),L=m.type,W=m.pendingProps,_e=u!==null?u.memoizedProps:null,N=W.children,gw(L,W)?N=null:_e!==null&&gw(L,_e)&&(m.flags|=32),m.memoizedState!==null&&(L=p2(u,m,_H,null,null,x),e1._currentValue=L),m_(u,m),Xi(u,m,N,x),m.child;case 6:return u===null&&nr&&((u=x=si)&&(x=eq(x,m.pendingProps,fl),x!==null?(m.stateNode=x,wo=m,si=null,u=!0):u=!1),u||Xd(m)),null;case 13:return $8(u,m,x);case 4:return me(m,m.stateNode.containerInfo),N=m.pendingProps,u===null?m.child=Sf(m,null,N,x):Xi(u,m,N,x),m.child;case 11:return T8(u,m,m.type,m.pendingProps,x);case 7:return Xi(u,m,m.pendingProps,x),m.child;case 8:return Xi(u,m,m.pendingProps.children,x),m.child;case 12:return Xi(u,m,m.pendingProps.children,x),m.child;case 10:return N=m.pendingProps,Fu(m,m.type,N.value),Xi(u,m,N.children,x),m.child;case 9:return L=m.type._context,N=m.pendingProps.children,Zd(m),L=co(L),N=N(L),m.flags|=1,Xi(u,m,N,x),m.child;case 14:return D8(u,m,m.type,m.pendingProps,x);case 15:return A8(u,m,m.type,m.pendingProps,x);case 19:return F8(u,m,x);case 31:return N=m.pendingProps,x=m.mode,N={mode:N.mode,children:N.children},u===null?(x=p_(N,x),x.ref=m.ref,m.child=x,x.return=m,m=x):(x=Ql(u.child,N),x.ref=m.ref,m.child=x,x.return=m,m=x),m;case 22:return M8(u,m,x);case 24:return Zd(m),N=co(Mi),u===null?(L=i2(),L===null&&(L=Ar,W=a2(),L.pooledCache=W,W.refCount++,W!==null&&(L.pooledCacheLanes|=x),L=W),m.memoizedState={parent:N,cache:L},c2(m),Fu(m,Mi,L)):((u.lanes&x)!==0&&(l2(u,m),Ap(m,null,null,x),Dp()),L=u.memoizedState,W=m.memoizedState,L.parent!==N?(L={parent:N,cache:N},m.memoizedState=L,m.lanes===0&&(m.memoizedState=m.updateQueue.baseState=L),Fu(m,Mi,N)):(N=W.cache,Fu(m,Mi,N),N!==L.cache&&s2(m,[Mi],x,!0))),Xi(u,m,m.pendingProps.children,x),m.child;case 29:throw m.pendingProps}throw Error(a(156,m.tag))}function su(u){u.flags|=4}function q8(u,m){if(m.type!=="stylesheet"||(m.state.loading&4)!==0)u.flags&=-16777217;else if(u.flags|=16777216,!X5(m)){if(m=gc.current,m!==null&&((Ya&4194048)===Ya?ml!==null:(Ya&62914560)!==Ya&&(Ya&536870912)===0||m!==ml))throw Ep=o2,S6;u.flags|=8192}}function g_(u,m){m!==null&&(u.flags|=4),u.flags&16384&&(m=u.tag!==22?Qn():536870912,u.lanes|=m,Ef|=m)}function Pp(u,m){if(!nr)switch(u.tailMode){case"hidden":m=u.tail;for(var x=null;m!==null;)m.alternate!==null&&(x=m),m=m.sibling;x===null?u.tail=null:x.sibling=null;break;case"collapsed":x=u.tail;for(var N=null;x!==null;)x.alternate!==null&&(N=x),x=x.sibling;N===null?m||u.tail===null?u.tail=null:u.tail.sibling=null:N.sibling=null}}function Jr(u){var m=u.alternate!==null&&u.alternate.child===u.child,x=0,N=0;if(m)for(var L=u.child;L!==null;)x|=L.lanes|L.childLanes,N|=L.subtreeFlags&65011712,N|=L.flags&65011712,L.return=u,L=L.sibling;else for(L=u.child;L!==null;)x|=L.lanes|L.childLanes,N|=L.subtreeFlags,N|=L.flags,L.return=u,L=L.sibling;return u.subtreeFlags|=N,u.childLanes=x,m}function NH(u,m,x){var N=m.pendingProps;switch(Jy(m),m.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Jr(m),null;case 1:return Jr(m),null;case 3:return x=m.stateNode,N=null,u!==null&&(N=u.memoizedState.cache),m.memoizedState.cache!==N&&(m.flags|=2048),Jl(Mi),Ce(),x.pendingContext&&(x.context=x.pendingContext,x.pendingContext=null),(u===null||u.child===null)&&(wp(m)?su(m):u===null||u.memoizedState.isDehydrated&&(m.flags&256)===0||(m.flags|=1024,b6())),Jr(m),null;case 26:return x=m.memoizedState,u===null?(su(m),x!==null?(Jr(m),q8(m,x)):(Jr(m),m.flags&=-16777217)):x?x!==u.memoizedState?(su(m),Jr(m),q8(m,x)):(Jr(m),m.flags&=-16777217):(u.memoizedProps!==N&&su(m),Jr(m),m.flags&=-16777217),null;case 27:Ee(m),x=re.current;var L=m.type;if(u!==null&&m.stateNode!=null)u.memoizedProps!==N&&su(m);else{if(!N){if(m.stateNode===null)throw Error(a(166));return Jr(m),null}u=ae.current,wp(m)?v6(m):(u=q5(L,N,x),m.stateNode=u,su(m))}return Jr(m),null;case 5:if(Ee(m),x=m.type,u!==null&&m.stateNode!=null)u.memoizedProps!==N&&su(m);else{if(!N){if(m.stateNode===null)throw Error(a(166));return Jr(m),null}if(u=ae.current,wp(m))v6(m);else{switch(L=E_(re.current),u){case 1:u=L.createElementNS("http://www.w3.org/2000/svg",x);break;case 2:u=L.createElementNS("http://www.w3.org/1998/Math/MathML",x);break;default:switch(x){case"svg":u=L.createElementNS("http://www.w3.org/2000/svg",x);break;case"math":u=L.createElementNS("http://www.w3.org/1998/Math/MathML",x);break;case"script":u=L.createElement("div"),u.innerHTML="<script><\/script>",u=u.removeChild(u.firstChild);break;case"select":u=typeof N.is=="string"?L.createElement("select",{is:N.is}):L.createElement("select"),N.multiple?u.multiple=!0:N.size&&(u.size=N.size);break;default:u=typeof N.is=="string"?L.createElement(x,{is:N.is}):L.createElement(x)}}u[vn]=m,u[ss]=N;e:for(L=m.child;L!==null;){if(L.tag===5||L.tag===6)u.appendChild(L.stateNode);else if(L.tag!==4&&L.tag!==27&&L.child!==null){L.child.return=L,L=L.child;continue}if(L===m)break e;for(;L.sibling===null;){if(L.return===null||L.return===m)break e;L=L.return}L.sibling.return=L.return,L=L.sibling}m.stateNode=u;e:switch(Zi(u,x,N),x){case"button":case"input":case"select":case"textarea":u=!!N.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&su(m)}}return Jr(m),m.flags&=-16777217,null;case 6:if(u&&m.stateNode!=null)u.memoizedProps!==N&&su(m);else{if(typeof N!="string"&&m.stateNode===null)throw Error(a(166));if(u=re.current,wp(m)){if(u=m.stateNode,x=m.memoizedProps,N=null,L=wo,L!==null)switch(L.tag){case 27:case 5:N=L.memoizedProps}u[vn]=m,u=!!(u.nodeValue===x||N!==null&&N.suppressHydrationWarning===!0||B5(u.nodeValue,x)),u||Xd(m)}else u=E_(u).createTextNode(N),u[vn]=m,m.stateNode=u}return Jr(m),null;case 13:if(N=m.memoizedState,u===null||u.memoizedState!==null&&u.memoizedState.dehydrated!==null){if(L=wp(m),N!==null&&N.dehydrated!==null){if(u===null){if(!L)throw Error(a(318));if(L=m.memoizedState,L=L!==null?L.dehydrated:null,!L)throw Error(a(317));L[vn]=m}else jp(),(m.flags&128)===0&&(m.memoizedState=null),m.flags|=4;Jr(m),L=!1}else L=b6(),u!==null&&u.memoizedState!==null&&(u.memoizedState.hydrationErrors=L),L=!0;if(!L)return m.flags&256?(tu(m),m):(tu(m),null)}if(tu(m),(m.flags&128)!==0)return m.lanes=x,m;if(x=N!==null,u=u!==null&&u.memoizedState!==null,x){N=m.child,L=null,N.alternate!==null&&N.alternate.memoizedState!==null&&N.alternate.memoizedState.cachePool!==null&&(L=N.alternate.memoizedState.cachePool.pool);var W=null;N.memoizedState!==null&&N.memoizedState.cachePool!==null&&(W=N.memoizedState.cachePool.pool),W!==L&&(N.flags|=2048)}return x!==u&&x&&(m.child.flags|=8192),g_(m,m.updateQueue),Jr(m),null;case 4:return Ce(),u===null&&dw(m.stateNode.containerInfo),Jr(m),null;case 10:return Jl(m.type),Jr(m),null;case 19:if(Q(Ri),L=m.memoizedState,L===null)return Jr(m),null;if(N=(m.flags&128)!==0,W=L.rendering,W===null)if(N)Pp(L,!1);else{if(ai!==0||u!==null&&(u.flags&128)!==0)for(u=m.child;u!==null;){if(W=d_(u),W!==null){for(m.flags|=128,Pp(L,!1),u=W.updateQueue,m.updateQueue=u,g_(m,u),m.subtreeFlags=0,u=x,x=m.child;x!==null;)g6(x,u),x=x.sibling;return Y(Ri,Ri.current&1|2),m.child}u=u.sibling}L.tail!==null&&ce()>x_&&(m.flags|=128,N=!0,Pp(L,!1),m.lanes=4194304)}else{if(!N)if(u=d_(W),u!==null){if(m.flags|=128,N=!0,u=u.updateQueue,m.updateQueue=u,g_(m,u),Pp(L,!0),L.tail===null&&L.tailMode==="hidden"&&!W.alternate&&!nr)return Jr(m),null}else 2*ce()-L.renderingStartTime>x_&&x!==536870912&&(m.flags|=128,N=!0,Pp(L,!1),m.lanes=4194304);L.isBackwards?(W.sibling=m.child,m.child=W):(u=L.last,u!==null?u.sibling=W:m.child=W,L.last=W)}return L.tail!==null?(m=L.tail,L.rendering=m,L.tail=m.sibling,L.renderingStartTime=ce(),m.sibling=null,u=Ri.current,Y(Ri,N?u&1|2:u&1),m):(Jr(m),null);case 22:case 23:return tu(m),f2(),N=m.memoizedState!==null,u!==null?u.memoizedState!==null!==N&&(m.flags|=8192):N&&(m.flags|=8192),N?(x&536870912)!==0&&(m.flags&128)===0&&(Jr(m),m.subtreeFlags&6&&(m.flags|=8192)):Jr(m),x=m.updateQueue,x!==null&&g_(m,x.retryQueue),x=null,u!==null&&u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(x=u.memoizedState.cachePool.pool),N=null,m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(N=m.memoizedState.cachePool.pool),N!==x&&(m.flags|=2048),u!==null&&Q(Jd),null;case 24:return x=null,u!==null&&(x=u.memoizedState.cache),m.memoizedState.cache!==x&&(m.flags|=2048),Jl(Mi),Jr(m),null;case 25:return null;case 30:return null}throw Error(a(156,m.tag))}function kH(u,m){switch(Jy(m),m.tag){case 1:return u=m.flags,u&65536?(m.flags=u&-65537|128,m):null;case 3:return Jl(Mi),Ce(),u=m.flags,(u&65536)!==0&&(u&128)===0?(m.flags=u&-65537|128,m):null;case 26:case 27:case 5:return Ee(m),null;case 13:if(tu(m),u=m.memoizedState,u!==null&&u.dehydrated!==null){if(m.alternate===null)throw Error(a(340));jp()}return u=m.flags,u&65536?(m.flags=u&-65537|128,m):null;case 19:return Q(Ri),null;case 4:return Ce(),null;case 10:return Jl(m.type),null;case 22:case 23:return tu(m),f2(),u!==null&&Q(Jd),u=m.flags,u&65536?(m.flags=u&-65537|128,m):null;case 24:return Jl(Mi),null;case 25:return null;default:return null}}function V8(u,m){switch(Jy(m),m.tag){case 3:Jl(Mi),Ce();break;case 26:case 27:case 5:Ee(m);break;case 4:Ce();break;case 13:tu(m);break;case 19:Q(Ri);break;case 10:Jl(m.type);break;case 22:case 23:tu(m),f2(),u!==null&&Q(Jd);break;case 24:Jl(Mi)}}function Fp(u,m){try{var x=m.updateQueue,N=x!==null?x.lastEffect:null;if(N!==null){var L=N.next;x=L;do{if((x.tag&u)===u){N=void 0;var W=x.create,_e=x.inst;N=W(),_e.destroy=N}x=x.next}while(x!==L)}}catch(Me){Nr(m,m.return,Me)}}function Yu(u,m,x){try{var N=m.updateQueue,L=N!==null?N.lastEffect:null;if(L!==null){var W=L.next;N=W;do{if((N.tag&u)===u){var _e=N.inst,Me=_e.destroy;if(Me!==void 0){_e.destroy=void 0,L=m;var rt=x,Et=Me;try{Et()}catch(en){Nr(L,rt,en)}}}N=N.next}while(N!==W)}}catch(en){Nr(m,m.return,en)}}function z8(u){var m=u.updateQueue;if(m!==null){var x=u.stateNode;try{D6(m,x)}catch(N){Nr(u,u.return,N)}}}function U8(u,m,x){x.props=th(u.type,u.memoizedProps),x.state=u.memoizedState;try{x.componentWillUnmount()}catch(N){Nr(u,m,N)}}function Hp(u,m){try{var x=u.ref;if(x!==null){switch(u.tag){case 26:case 27:case 5:var N=u.stateNode;break;case 30:N=u.stateNode;break;default:N=u.stateNode}typeof x=="function"?u.refCleanup=x(N):x.current=N}}catch(L){Nr(u,m,L)}}function pl(u,m){var x=u.ref,N=u.refCleanup;if(x!==null)if(typeof N=="function")try{N()}catch(L){Nr(u,m,L)}finally{u.refCleanup=null,u=u.alternate,u!=null&&(u.refCleanup=null)}else if(typeof x=="function")try{x(null)}catch(L){Nr(u,m,L)}else x.current=null}function W8(u){var m=u.type,x=u.memoizedProps,N=u.stateNode;try{e:switch(m){case"button":case"input":case"select":case"textarea":x.autoFocus&&N.focus();break e;case"img":x.src?N.src=x.src:x.srcSet&&(N.srcset=x.srcSet)}}catch(L){Nr(u,u.return,L)}}function H2(u,m,x){try{var N=u.stateNode;GH(N,u.type,x,m),N[ss]=m}catch(L){Nr(u,u.return,L)}}function Y8(u){return u.tag===5||u.tag===3||u.tag===26||u.tag===27&&td(u.type)||u.tag===4}function q2(u){e:for(;;){for(;u.sibling===null;){if(u.return===null||Y8(u.return))return null;u=u.return}for(u.sibling.return=u.return,u=u.sibling;u.tag!==5&&u.tag!==6&&u.tag!==18;){if(u.tag===27&&td(u.type)||u.flags&2||u.child===null||u.tag===4)continue e;u.child.return=u,u=u.child}if(!(u.flags&2))return u.stateNode}}function V2(u,m,x){var N=u.tag;if(N===5||N===6)u=u.stateNode,m?(x.nodeType===9?x.body:x.nodeName==="HTML"?x.ownerDocument.body:x).insertBefore(u,m):(m=x.nodeType===9?x.body:x.nodeName==="HTML"?x.ownerDocument.body:x,m.appendChild(u),x=x._reactRootContainer,x!=null||m.onclick!==null||(m.onclick=I_));else if(N!==4&&(N===27&&td(u.type)&&(x=u.stateNode,m=null),u=u.child,u!==null))for(V2(u,m,x),u=u.sibling;u!==null;)V2(u,m,x),u=u.sibling}function __(u,m,x){var N=u.tag;if(N===5||N===6)u=u.stateNode,m?x.insertBefore(u,m):x.appendChild(u);else if(N!==4&&(N===27&&td(u.type)&&(x=u.stateNode),u=u.child,u!==null))for(__(u,m,x),u=u.sibling;u!==null;)__(u,m,x),u=u.sibling}function G8(u){var m=u.stateNode,x=u.memoizedProps;try{for(var N=u.type,L=m.attributes;L.length;)m.removeAttributeNode(L[0]);Zi(m,N,x),m[vn]=u,m[ss]=x}catch(W){Nr(u,u.return,W)}}var au=!1,pi=!1,z2=!1,Q8=typeof WeakSet=="function"?WeakSet:Set,qi=null;function IH(u,m){if(u=u.containerInfo,mw=B_,u=X(u),le(u)){if("selectionStart"in u)var x={start:u.selectionStart,end:u.selectionEnd};else e:{x=(x=u.ownerDocument)&&x.defaultView||window;var N=x.getSelection&&x.getSelection();if(N&&N.rangeCount!==0){x=N.anchorNode;var L=N.anchorOffset,W=N.focusNode;N=N.focusOffset;try{x.nodeType,W.nodeType}catch{x=null;break e}var _e=0,Me=-1,rt=-1,Et=0,en=0,un=u,Dt=null;t:for(;;){for(var $t;un!==x||L!==0&&un.nodeType!==3||(Me=_e+L),un!==W||N!==0&&un.nodeType!==3||(rt=_e+N),un.nodeType===3&&(_e+=un.nodeValue.length),($t=un.firstChild)!==null;)Dt=un,un=$t;for(;;){if(un===u)break t;if(Dt===x&&++Et===L&&(Me=_e),Dt===W&&++en===N&&(rt=_e),($t=un.nextSibling)!==null)break;un=Dt,Dt=un.parentNode}un=$t}x=Me===-1||rt===-1?null:{start:Me,end:rt}}else x=null}x=x||{start:0,end:0}}else x=null;for(pw={focusedElem:u,selectionRange:x},B_=!1,qi=m;qi!==null;)if(m=qi,u=m.child,(m.subtreeFlags&1024)!==0&&u!==null)u.return=m,qi=u;else for(;qi!==null;){switch(m=qi,W=m.alternate,u=m.flags,m.tag){case 0:break;case 11:case 15:break;case 1:if((u&1024)!==0&&W!==null){u=void 0,x=m,L=W.memoizedProps,W=W.memoizedState,N=x.stateNode;try{var Fs=th(x.type,L,x.elementType===x.type);u=N.getSnapshotBeforeUpdate(Fs,W),N.__reactInternalSnapshotBeforeUpdate=u}catch(Bs){Nr(x,x.return,Bs)}}break;case 3:if((u&1024)!==0){if(u=m.stateNode.containerInfo,x=u.nodeType,x===9)vw(u);else if(x===1)switch(u.nodeName){case"HEAD":case"HTML":case"BODY":vw(u);break;default:u.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((u&1024)!==0)throw Error(a(163))}if(u=m.sibling,u!==null){u.return=m.return,qi=u;break}qi=m.return}}function X8(u,m,x){var N=x.flags;switch(x.tag){case 0:case 11:case 15:Gu(u,x),N&4&&Fp(5,x);break;case 1:if(Gu(u,x),N&4)if(u=x.stateNode,m===null)try{u.componentDidMount()}catch(_e){Nr(x,x.return,_e)}else{var L=th(x.type,m.memoizedProps);m=m.memoizedState;try{u.componentDidUpdate(L,m,u.__reactInternalSnapshotBeforeUpdate)}catch(_e){Nr(x,x.return,_e)}}N&64&&z8(x),N&512&&Hp(x,x.return);break;case 3:if(Gu(u,x),N&64&&(u=x.updateQueue,u!==null)){if(m=null,x.child!==null)switch(x.child.tag){case 27:case 5:m=x.child.stateNode;break;case 1:m=x.child.stateNode}try{D6(u,m)}catch(_e){Nr(x,x.return,_e)}}break;case 27:m===null&&N&4&&G8(x);case 26:case 5:Gu(u,x),m===null&&N&4&&W8(x),N&512&&Hp(x,x.return);break;case 12:Gu(u,x);break;case 13:Gu(u,x),N&4&&J8(u,x),N&64&&(u=x.memoizedState,u!==null&&(u=u.dehydrated,u!==null&&(x=LH.bind(null,x),tq(u,x))));break;case 22:if(N=x.memoizedState!==null||au,!N){m=m!==null&&m.memoizedState!==null||pi,L=au;var W=pi;au=N,(pi=m)&&!W?Qu(u,x,(x.subtreeFlags&8772)!==0):Gu(u,x),au=L,pi=W}break;case 30:break;default:Gu(u,x)}}function K8(u){var m=u.alternate;m!==null&&(u.alternate=null,K8(m)),u.child=null,u.deletions=null,u.sibling=null,u.tag===5&&(m=u.stateNode,m!==null&&Ca(m)),u.stateNode=null,u.return=null,u.dependencies=null,u.memoizedProps=null,u.memoizedState=null,u.pendingProps=null,u.stateNode=null,u.updateQueue=null}var Fr=null,Ao=!1;function ru(u,m,x){for(x=x.child;x!==null;)Z8(u,m,x),x=x.sibling}function Z8(u,m,x){if(he&&typeof he.onCommitFiberUnmount=="function")try{he.onCommitFiberUnmount(tt,x)}catch{}switch(x.tag){case 26:pi||pl(x,m),ru(u,m,x),x.memoizedState?x.memoizedState.count--:x.stateNode&&(x=x.stateNode,x.parentNode.removeChild(x));break;case 27:pi||pl(x,m);var N=Fr,L=Ao;td(x.type)&&(Fr=x.stateNode,Ao=!1),ru(u,m,x),Xp(x.stateNode),Fr=N,Ao=L;break;case 5:pi||pl(x,m);case 6:if(N=Fr,L=Ao,Fr=null,ru(u,m,x),Fr=N,Ao=L,Fr!==null)if(Ao)try{(Fr.nodeType===9?Fr.body:Fr.nodeName==="HTML"?Fr.ownerDocument.body:Fr).removeChild(x.stateNode)}catch(W){Nr(x,m,W)}else try{Fr.removeChild(x.stateNode)}catch(W){Nr(x,m,W)}break;case 18:Fr!==null&&(Ao?(u=Fr,F5(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,x.stateNode),a1(u)):F5(Fr,x.stateNode));break;case 4:N=Fr,L=Ao,Fr=x.stateNode.containerInfo,Ao=!0,ru(u,m,x),Fr=N,Ao=L;break;case 0:case 11:case 14:case 15:pi||Yu(2,x,m),pi||Yu(4,x,m),ru(u,m,x);break;case 1:pi||(pl(x,m),N=x.stateNode,typeof N.componentWillUnmount=="function"&&U8(x,m,N)),ru(u,m,x);break;case 21:ru(u,m,x);break;case 22:pi=(N=pi)||x.memoizedState!==null,ru(u,m,x),pi=N;break;default:ru(u,m,x)}}function J8(u,m){if(m.memoizedState===null&&(u=m.alternate,u!==null&&(u=u.memoizedState,u!==null&&(u=u.dehydrated,u!==null))))try{a1(u)}catch(x){Nr(m,m.return,x)}}function EH(u){switch(u.tag){case 13:case 19:var m=u.stateNode;return m===null&&(m=u.stateNode=new Q8),m;case 22:return u=u.stateNode,m=u._retryCache,m===null&&(m=u._retryCache=new Q8),m;default:throw Error(a(435,u.tag))}}function U2(u,m){var x=EH(u);m.forEach(function(N){var L=$H.bind(null,u,N);x.has(N)||(x.add(N),N.then(L,L))})}function Wo(u,m){var x=m.deletions;if(x!==null)for(var N=0;N<x.length;N++){var L=x[N],W=u,_e=m,Me=_e;e:for(;Me!==null;){switch(Me.tag){case 27:if(td(Me.type)){Fr=Me.stateNode,Ao=!1;break e}break;case 5:Fr=Me.stateNode,Ao=!1;break e;case 3:case 4:Fr=Me.stateNode.containerInfo,Ao=!0;break e}Me=Me.return}if(Fr===null)throw Error(a(160));Z8(W,_e,L),Fr=null,Ao=!1,W=L.alternate,W!==null&&(W.return=null),L.return=null}if(m.subtreeFlags&13878)for(m=m.child;m!==null;)e5(m,u),m=m.sibling}var Fc=null;function e5(u,m){var x=u.alternate,N=u.flags;switch(u.tag){case 0:case 11:case 14:case 15:Wo(m,u),Yo(u),N&4&&(Yu(3,u,u.return),Fp(3,u),Yu(5,u,u.return));break;case 1:Wo(m,u),Yo(u),N&512&&(pi||x===null||pl(x,x.return)),N&64&&au&&(u=u.updateQueue,u!==null&&(N=u.callbacks,N!==null&&(x=u.shared.hiddenCallbacks,u.shared.hiddenCallbacks=x===null?N:x.concat(N))));break;case 26:var L=Fc;if(Wo(m,u),Yo(u),N&512&&(pi||x===null||pl(x,x.return)),N&4){var W=x!==null?x.memoizedState:null;if(N=u.memoizedState,x===null)if(N===null)if(u.stateNode===null){e:{N=u.type,x=u.memoizedProps,L=L.ownerDocument||L;t:switch(N){case"title":W=L.getElementsByTagName("title")[0],(!W||W[ia]||W[vn]||W.namespaceURI==="http://www.w3.org/2000/svg"||W.hasAttribute("itemprop"))&&(W=L.createElement(N),L.head.insertBefore(W,L.querySelector("head > title"))),Zi(W,N,x),W[vn]=u,vs(W),N=W;break e;case"link":var _e=G5("link","href",L).get(N+(x.href||""));if(_e){for(var Me=0;Me<_e.length;Me++)if(W=_e[Me],W.getAttribute("href")===(x.href==null||x.href===""?null:x.href)&&W.getAttribute("rel")===(x.rel==null?null:x.rel)&&W.getAttribute("title")===(x.title==null?null:x.title)&&W.getAttribute("crossorigin")===(x.crossOrigin==null?null:x.crossOrigin)){_e.splice(Me,1);break t}}W=L.createElement(N),Zi(W,N,x),L.head.appendChild(W);break;case"meta":if(_e=G5("meta","content",L).get(N+(x.content||""))){for(Me=0;Me<_e.length;Me++)if(W=_e[Me],W.getAttribute("content")===(x.content==null?null:""+x.content)&&W.getAttribute("name")===(x.name==null?null:x.name)&&W.getAttribute("property")===(x.property==null?null:x.property)&&W.getAttribute("http-equiv")===(x.httpEquiv==null?null:x.httpEquiv)&&W.getAttribute("charset")===(x.charSet==null?null:x.charSet)){_e.splice(Me,1);break t}}W=L.createElement(N),Zi(W,N,x),L.head.appendChild(W);break;default:throw Error(a(468,N))}W[vn]=u,vs(W),N=W}u.stateNode=N}else Q5(L,u.type,u.stateNode);else u.stateNode=Y5(L,N,u.memoizedProps);else W!==N?(W===null?x.stateNode!==null&&(x=x.stateNode,x.parentNode.removeChild(x)):W.count--,N===null?Q5(L,u.type,u.stateNode):Y5(L,N,u.memoizedProps)):N===null&&u.stateNode!==null&&H2(u,u.memoizedProps,x.memoizedProps)}break;case 27:Wo(m,u),Yo(u),N&512&&(pi||x===null||pl(x,x.return)),x!==null&&N&4&&H2(u,u.memoizedProps,x.memoizedProps);break;case 5:if(Wo(m,u),Yo(u),N&512&&(pi||x===null||pl(x,x.return)),u.flags&32){L=u.stateNode;try{Wt(L,"")}catch($t){Nr(u,u.return,$t)}}N&4&&u.stateNode!=null&&(L=u.memoizedProps,H2(u,L,x!==null?x.memoizedProps:L)),N&1024&&(z2=!0);break;case 6:if(Wo(m,u),Yo(u),N&4){if(u.stateNode===null)throw Error(a(162));N=u.memoizedProps,x=u.stateNode;try{x.nodeValue=N}catch($t){Nr(u,u.return,$t)}}break;case 3:if(A_=null,L=Fc,Fc=T_(m.containerInfo),Wo(m,u),Fc=L,Yo(u),N&4&&x!==null&&x.memoizedState.isDehydrated)try{a1(m.containerInfo)}catch($t){Nr(u,u.return,$t)}z2&&(z2=!1,t5(u));break;case 4:N=Fc,Fc=T_(u.stateNode.containerInfo),Wo(m,u),Yo(u),Fc=N;break;case 12:Wo(m,u),Yo(u);break;case 13:Wo(m,u),Yo(u),u.child.flags&8192&&u.memoizedState!==null!=(x!==null&&x.memoizedState!==null)&&(K2=ce()),N&4&&(N=u.updateQueue,N!==null&&(u.updateQueue=null,U2(u,N)));break;case 22:L=u.memoizedState!==null;var rt=x!==null&&x.memoizedState!==null,Et=au,en=pi;if(au=Et||L,pi=en||rt,Wo(m,u),pi=en,au=Et,Yo(u),N&8192)e:for(m=u.stateNode,m._visibility=L?m._visibility&-2:m._visibility|1,L&&(x===null||rt||au||pi||nh(u)),x=null,m=u;;){if(m.tag===5||m.tag===26){if(x===null){rt=x=m;try{if(W=rt.stateNode,L)_e=W.style,typeof _e.setProperty=="function"?_e.setProperty("display","none","important"):_e.display="none";else{Me=rt.stateNode;var un=rt.memoizedProps.style,Dt=un!=null&&un.hasOwnProperty("display")?un.display:null;Me.style.display=Dt==null||typeof Dt=="boolean"?"":(""+Dt).trim()}}catch($t){Nr(rt,rt.return,$t)}}}else if(m.tag===6){if(x===null){rt=m;try{rt.stateNode.nodeValue=L?"":rt.memoizedProps}catch($t){Nr(rt,rt.return,$t)}}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===u)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===u)break e;for(;m.sibling===null;){if(m.return===null||m.return===u)break e;x===m&&(x=null),m=m.return}x===m&&(x=null),m.sibling.return=m.return,m=m.sibling}N&4&&(N=u.updateQueue,N!==null&&(x=N.retryQueue,x!==null&&(N.retryQueue=null,U2(u,x))));break;case 19:Wo(m,u),Yo(u),N&4&&(N=u.updateQueue,N!==null&&(u.updateQueue=null,U2(u,N)));break;case 30:break;case 21:break;default:Wo(m,u),Yo(u)}}function Yo(u){var m=u.flags;if(m&2){try{for(var x,N=u.return;N!==null;){if(Y8(N)){x=N;break}N=N.return}if(x==null)throw Error(a(160));switch(x.tag){case 27:var L=x.stateNode,W=q2(u);__(u,W,L);break;case 5:var _e=x.stateNode;x.flags&32&&(Wt(_e,""),x.flags&=-33);var Me=q2(u);__(u,Me,_e);break;case 3:case 4:var rt=x.stateNode.containerInfo,Et=q2(u);V2(u,Et,rt);break;default:throw Error(a(161))}}catch(en){Nr(u,u.return,en)}u.flags&=-3}m&4096&&(u.flags&=-4097)}function t5(u){if(u.subtreeFlags&1024)for(u=u.child;u!==null;){var m=u;t5(m),m.tag===5&&m.flags&1024&&m.stateNode.reset(),u=u.sibling}}function Gu(u,m){if(m.subtreeFlags&8772)for(m=m.child;m!==null;)X8(u,m.alternate,m),m=m.sibling}function nh(u){for(u=u.child;u!==null;){var m=u;switch(m.tag){case 0:case 11:case 14:case 15:Yu(4,m,m.return),nh(m);break;case 1:pl(m,m.return);var x=m.stateNode;typeof x.componentWillUnmount=="function"&&U8(m,m.return,x),nh(m);break;case 27:Xp(m.stateNode);case 26:case 5:pl(m,m.return),nh(m);break;case 22:m.memoizedState===null&&nh(m);break;case 30:nh(m);break;default:nh(m)}u=u.sibling}}function Qu(u,m,x){for(x=x&&(m.subtreeFlags&8772)!==0,m=m.child;m!==null;){var N=m.alternate,L=u,W=m,_e=W.flags;switch(W.tag){case 0:case 11:case 15:Qu(L,W,x),Fp(4,W);break;case 1:if(Qu(L,W,x),N=W,L=N.stateNode,typeof L.componentDidMount=="function")try{L.componentDidMount()}catch(Et){Nr(N,N.return,Et)}if(N=W,L=N.updateQueue,L!==null){var Me=N.stateNode;try{var rt=L.shared.hiddenCallbacks;if(rt!==null)for(L.shared.hiddenCallbacks=null,L=0;L<rt.length;L++)T6(rt[L],Me)}catch(Et){Nr(N,N.return,Et)}}x&&_e&64&&z8(W),Hp(W,W.return);break;case 27:G8(W);case 26:case 5:Qu(L,W,x),x&&N===null&&_e&4&&W8(W),Hp(W,W.return);break;case 12:Qu(L,W,x);break;case 13:Qu(L,W,x),x&&_e&4&&J8(L,W);break;case 22:W.memoizedState===null&&Qu(L,W,x),Hp(W,W.return);break;case 30:break;default:Qu(L,W,x)}m=m.sibling}}function W2(u,m){var x=null;u!==null&&u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(x=u.memoizedState.cachePool.pool),u=null,m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(u=m.memoizedState.cachePool.pool),u!==x&&(u!=null&&u.refCount++,x!=null&&Np(x))}function Y2(u,m){u=null,m.alternate!==null&&(u=m.alternate.memoizedState.cache),m=m.memoizedState.cache,m!==u&&(m.refCount++,u!=null&&Np(u))}function gl(u,m,x,N){if(m.subtreeFlags&10256)for(m=m.child;m!==null;)n5(u,m,x,N),m=m.sibling}function n5(u,m,x,N){var L=m.flags;switch(m.tag){case 0:case 11:case 15:gl(u,m,x,N),L&2048&&Fp(9,m);break;case 1:gl(u,m,x,N);break;case 3:gl(u,m,x,N),L&2048&&(u=null,m.alternate!==null&&(u=m.alternate.memoizedState.cache),m=m.memoizedState.cache,m!==u&&(m.refCount++,u!=null&&Np(u)));break;case 12:if(L&2048){gl(u,m,x,N),u=m.stateNode;try{var W=m.memoizedProps,_e=W.id,Me=W.onPostCommit;typeof Me=="function"&&Me(_e,m.alternate===null?"mount":"update",u.passiveEffectDuration,-0)}catch(rt){Nr(m,m.return,rt)}}else gl(u,m,x,N);break;case 13:gl(u,m,x,N);break;case 23:break;case 22:W=m.stateNode,_e=m.alternate,m.memoizedState!==null?W._visibility&2?gl(u,m,x,N):qp(u,m):W._visibility&2?gl(u,m,x,N):(W._visibility|=2,Nf(u,m,x,N,(m.subtreeFlags&10256)!==0)),L&2048&&W2(_e,m);break;case 24:gl(u,m,x,N),L&2048&&Y2(m.alternate,m);break;default:gl(u,m,x,N)}}function Nf(u,m,x,N,L){for(L=L&&(m.subtreeFlags&10256)!==0,m=m.child;m!==null;){var W=u,_e=m,Me=x,rt=N,Et=_e.flags;switch(_e.tag){case 0:case 11:case 15:Nf(W,_e,Me,rt,L),Fp(8,_e);break;case 23:break;case 22:var en=_e.stateNode;_e.memoizedState!==null?en._visibility&2?Nf(W,_e,Me,rt,L):qp(W,_e):(en._visibility|=2,Nf(W,_e,Me,rt,L)),L&&Et&2048&&W2(_e.alternate,_e);break;case 24:Nf(W,_e,Me,rt,L),L&&Et&2048&&Y2(_e.alternate,_e);break;default:Nf(W,_e,Me,rt,L)}m=m.sibling}}function qp(u,m){if(m.subtreeFlags&10256)for(m=m.child;m!==null;){var x=u,N=m,L=N.flags;switch(N.tag){case 22:qp(x,N),L&2048&&W2(N.alternate,N);break;case 24:qp(x,N),L&2048&&Y2(N.alternate,N);break;default:qp(x,N)}m=m.sibling}}var Vp=8192;function kf(u){if(u.subtreeFlags&Vp)for(u=u.child;u!==null;)s5(u),u=u.sibling}function s5(u){switch(u.tag){case 26:kf(u),u.flags&Vp&&u.memoizedState!==null&&mq(Fc,u.memoizedState,u.memoizedProps);break;case 5:kf(u);break;case 3:case 4:var m=Fc;Fc=T_(u.stateNode.containerInfo),kf(u),Fc=m;break;case 22:u.memoizedState===null&&(m=u.alternate,m!==null&&m.memoizedState!==null?(m=Vp,Vp=16777216,kf(u),Vp=m):kf(u));break;default:kf(u)}}function a5(u){var m=u.alternate;if(m!==null&&(u=m.child,u!==null)){m.child=null;do m=u.sibling,u.sibling=null,u=m;while(u!==null)}}function zp(u){var m=u.deletions;if((u.flags&16)!==0){if(m!==null)for(var x=0;x<m.length;x++){var N=m[x];qi=N,i5(N,u)}a5(u)}if(u.subtreeFlags&10256)for(u=u.child;u!==null;)r5(u),u=u.sibling}function r5(u){switch(u.tag){case 0:case 11:case 15:zp(u),u.flags&2048&&Yu(9,u,u.return);break;case 3:zp(u);break;case 12:zp(u);break;case 22:var m=u.stateNode;u.memoizedState!==null&&m._visibility&2&&(u.return===null||u.return.tag!==13)?(m._visibility&=-3,v_(u)):zp(u);break;default:zp(u)}}function v_(u){var m=u.deletions;if((u.flags&16)!==0){if(m!==null)for(var x=0;x<m.length;x++){var N=m[x];qi=N,i5(N,u)}a5(u)}for(u=u.child;u!==null;){switch(m=u,m.tag){case 0:case 11:case 15:Yu(8,m,m.return),v_(m);break;case 22:x=m.stateNode,x._visibility&2&&(x._visibility&=-3,v_(m));break;default:v_(m)}u=u.sibling}}function i5(u,m){for(;qi!==null;){var x=qi;switch(x.tag){case 0:case 11:case 15:Yu(8,x,m);break;case 23:case 22:if(x.memoizedState!==null&&x.memoizedState.cachePool!==null){var N=x.memoizedState.cachePool.pool;N!=null&&N.refCount++}break;case 24:Np(x.memoizedState.cache)}if(N=x.child,N!==null)N.return=x,qi=N;else e:for(x=u;qi!==null;){N=qi;var L=N.sibling,W=N.return;if(K8(N),N===x){qi=null;break e}if(L!==null){L.return=W,qi=L;break e}qi=W}}}var TH={getCacheForType:function(u){var m=co(Mi),x=m.data.get(u);return x===void 0&&(x=u(),m.data.set(u,x)),x}},DH=typeof WeakMap=="function"?WeakMap:Map,fr=0,Ar=null,Ia=null,Ya=0,mr=0,Go=null,Xu=!1,If=!1,G2=!1,iu=0,ai=0,Ku=0,sh=0,Q2=0,_c=0,Ef=0,Up=null,Mo=null,X2=!1,K2=0,x_=1/0,b_=null,Zu=null,Ki=0,Ju=null,Tf=null,Df=0,Z2=0,J2=null,o5=null,Wp=0,ew=null;function Qo(){if((fr&2)!==0&&Ya!==0)return Ya&-Ya;if(V.T!==null){var u=vf;return u!==0?u:ow()}return Rt()}function c5(){_c===0&&(_c=(Ya&536870912)===0||nr?pn():536870912);var u=gc.current;return u!==null&&(u.flags|=32),_c}function Xo(u,m,x){(u===Ar&&(mr===2||mr===9)||u.cancelPendingCommit!==null)&&(Af(u,0),ed(u,Ya,_c,!1)),ln(u,x),((fr&2)===0||u!==Ar)&&(u===Ar&&((fr&2)===0&&(sh|=x),ai===4&&ed(u,Ya,_c,!1)),_l(u))}function l5(u,m,x){if((fr&6)!==0)throw Error(a(327));var N=!x&&(m&124)===0&&(m&u.expiredLanes)===0||lt(u,m),L=N?RH(u,m):sw(u,m,!0),W=N;do{if(L===0){If&&!N&&ed(u,m,0,!1);break}else{if(x=u.current.alternate,W&&!AH(x)){L=sw(u,m,!1),W=!1;continue}if(L===2){if(W=m,u.errorRecoveryDisabledLanes&W)var _e=0;else _e=u.pendingLanes&-536870913,_e=_e!==0?_e:_e&536870912?536870912:0;if(_e!==0){m=_e;e:{var Me=u;L=Up;var rt=Me.current.memoizedState.isDehydrated;if(rt&&(Af(Me,_e).flags|=256),_e=sw(Me,_e,!1),_e!==2){if(G2&&!rt){Me.errorRecoveryDisabledLanes|=W,sh|=W,L=4;break e}W=Mo,Mo=L,W!==null&&(Mo===null?Mo=W:Mo.push.apply(Mo,W))}L=_e}if(W=!1,L!==2)continue}}if(L===1){Af(u,0),ed(u,m,0,!0);break}e:{switch(N=u,W=L,W){case 0:case 1:throw Error(a(345));case 4:if((m&4194048)!==m)break;case 6:ed(N,m,_c,!Xu);break e;case 2:Mo=null;break;case 3:case 5:break;default:throw Error(a(329))}if((m&62914560)===m&&(L=K2+300-ce(),10<L)){if(ed(N,m,_c,!Xu),at(N,0,!0)!==0)break e;N.timeoutHandle=$5(u5.bind(null,N,x,Mo,b_,X2,m,_c,sh,Ef,Xu,W,2,-0,0),L);break e}u5(N,x,Mo,b_,X2,m,_c,sh,Ef,Xu,W,0,-0,0)}}break}while(!0);_l(u)}function u5(u,m,x,N,L,W,_e,Me,rt,Et,en,un,Dt,$t){if(u.timeoutHandle=-1,un=m.subtreeFlags,(un&8192||(un&16785408)===16785408)&&(Jp={stylesheets:null,count:0,unsuspend:fq},s5(m),un=pq(),un!==null)){u.cancelPendingCommit=un(_5.bind(null,u,m,W,x,N,L,_e,Me,rt,en,1,Dt,$t)),ed(u,W,_e,!Et);return}_5(u,m,W,x,N,L,_e,Me,rt)}function AH(u){for(var m=u;;){var x=m.tag;if((x===0||x===11||x===15)&&m.flags&16384&&(x=m.updateQueue,x!==null&&(x=x.stores,x!==null)))for(var N=0;N<x.length;N++){var L=x[N],W=L.getSnapshot;L=L.value;try{if(!y(W(),L))return!1}catch{return!1}}if(x=m.child,m.subtreeFlags&16384&&x!==null)x.return=m,m=x;else{if(m===u)break;for(;m.sibling===null;){if(m.return===null||m.return===u)return!0;m=m.return}m.sibling.return=m.return,m=m.sibling}}return!0}function ed(u,m,x,N){m&=~Q2,m&=~sh,u.suspendedLanes|=m,u.pingedLanes&=~m,N&&(u.warmLanes|=m),N=u.expirationTimes;for(var L=m;0<L;){var W=31-Pe(L),_e=1<<W;N[W]=-1,L&=~_e}x!==0&&jn(u,x,m)}function y_(){return(fr&6)===0?(Yp(0),!1):!0}function tw(){if(Ia!==null){if(mr===0)var u=Ia.return;else u=Ia,Zl=Kd=null,v2(u),Cf=null,Lp=0,u=Ia;for(;u!==null;)V8(u.alternate,u),u=u.return;Ia=null}}function Af(u,m){var x=u.timeoutHandle;x!==-1&&(u.timeoutHandle=-1,XH(x)),x=u.cancelPendingCommit,x!==null&&(u.cancelPendingCommit=null,x()),tw(),Ar=u,Ia=x=Ql(u.current,null),Ya=m,mr=0,Go=null,Xu=!1,If=lt(u,m),G2=!1,Ef=_c=Q2=sh=Ku=ai=0,Mo=Up=null,X2=!1,(m&8)!==0&&(m|=m&32);var N=u.entangledLanes;if(N!==0)for(u=u.entanglements,N&=m;0<N;){var L=31-Pe(N),W=1<<L;m|=u[L],N&=~W}return iu=m,V0(),x}function d5(u,m){ba=null,V.H=c_,m===Ip||m===Z0?(m=I6(),mr=3):m===S6?(m=I6(),mr=4):mr=m===E8?8:m!==null&&typeof m=="object"&&typeof m.then=="function"?6:1,Go=m,Ia===null&&(ai=1,f_(u,hc(m,u.current)))}function h5(){var u=V.H;return V.H=c_,u===null?c_:u}function f5(){var u=V.A;return V.A=TH,u}function nw(){ai=4,Xu||(Ya&4194048)!==Ya&&gc.current!==null||(If=!0),(Ku&134217727)===0&&(sh&134217727)===0||Ar===null||ed(Ar,Ya,_c,!1)}function sw(u,m,x){var N=fr;fr|=2;var L=h5(),W=f5();(Ar!==u||Ya!==m)&&(b_=null,Af(u,m)),m=!1;var _e=ai;e:do try{if(mr!==0&&Ia!==null){var Me=Ia,rt=Go;switch(mr){case 8:tw(),_e=6;break e;case 3:case 2:case 9:case 6:gc.current===null&&(m=!0);var Et=mr;if(mr=0,Go=null,Mf(u,Me,rt,Et),x&&If){_e=0;break e}break;default:Et=mr,mr=0,Go=null,Mf(u,Me,rt,Et)}}MH(),_e=ai;break}catch(en){d5(u,en)}while(!0);return m&&u.shellSuspendCounter++,Zl=Kd=null,fr=N,V.H=L,V.A=W,Ia===null&&(Ar=null,Ya=0,V0()),_e}function MH(){for(;Ia!==null;)m5(Ia)}function RH(u,m){var x=fr;fr|=2;var N=h5(),L=f5();Ar!==u||Ya!==m?(b_=null,x_=ce()+500,Af(u,m)):If=lt(u,m);e:do try{if(mr!==0&&Ia!==null){m=Ia;var W=Go;t:switch(mr){case 1:mr=0,Go=null,Mf(u,m,W,1);break;case 2:case 9:if(N6(W)){mr=0,Go=null,p5(m);break}m=function(){mr!==2&&mr!==9||Ar!==u||(mr=7),_l(u)},W.then(m,m);break e;case 3:mr=7;break e;case 4:mr=5;break e;case 7:N6(W)?(mr=0,Go=null,p5(m)):(mr=0,Go=null,Mf(u,m,W,7));break;case 5:var _e=null;switch(Ia.tag){case 26:_e=Ia.memoizedState;case 5:case 27:var Me=Ia;if(!_e||X5(_e)){mr=0,Go=null;var rt=Me.sibling;if(rt!==null)Ia=rt;else{var Et=Me.return;Et!==null?(Ia=Et,w_(Et)):Ia=null}break t}}mr=0,Go=null,Mf(u,m,W,5);break;case 6:mr=0,Go=null,Mf(u,m,W,6);break;case 8:tw(),ai=6;break e;default:throw Error(a(462))}}BH();break}catch(en){d5(u,en)}while(!0);return Zl=Kd=null,V.H=N,V.A=L,fr=x,Ia!==null?0:(Ar=null,Ya=0,V0(),ai)}function BH(){for(;Ia!==null&&!de();)m5(Ia)}function m5(u){var m=H8(u.alternate,u,iu);u.memoizedProps=u.pendingProps,m===null?w_(u):Ia=m}function p5(u){var m=u,x=m.alternate;switch(m.tag){case 15:case 0:m=B8(x,m,m.pendingProps,m.type,void 0,Ya);break;case 11:m=B8(x,m,m.pendingProps,m.type.render,m.ref,Ya);break;case 5:v2(m);default:V8(x,m),m=Ia=g6(m,iu),m=H8(x,m,iu)}u.memoizedProps=u.pendingProps,m===null?w_(u):Ia=m}function Mf(u,m,x,N){Zl=Kd=null,v2(m),Cf=null,Lp=0;var L=m.return;try{if(CH(u,L,m,x,Ya)){ai=1,f_(u,hc(x,u.current)),Ia=null;return}}catch(W){if(L!==null)throw Ia=L,W;ai=1,f_(u,hc(x,u.current)),Ia=null;return}m.flags&32768?(nr||N===1?u=!0:If||(Ya&536870912)!==0?u=!1:(Xu=u=!0,(N===2||N===9||N===3||N===6)&&(N=gc.current,N!==null&&N.tag===13&&(N.flags|=16384))),g5(m,u)):w_(m)}function w_(u){var m=u;do{if((m.flags&32768)!==0){g5(m,Xu);return}u=m.return;var x=NH(m.alternate,m,iu);if(x!==null){Ia=x;return}if(m=m.sibling,m!==null){Ia=m;return}Ia=m=u}while(m!==null);ai===0&&(ai=5)}function g5(u,m){do{var x=kH(u.alternate,u);if(x!==null){x.flags&=32767,Ia=x;return}if(x=u.return,x!==null&&(x.flags|=32768,x.subtreeFlags=0,x.deletions=null),!m&&(u=u.sibling,u!==null)){Ia=u;return}Ia=u=x}while(u!==null);ai=6,Ia=null}function _5(u,m,x,N,L,W,_e,Me,rt){u.cancelPendingCommit=null;do j_();while(Ki!==0);if((fr&6)!==0)throw Error(a(327));if(m!==null){if(m===u.current)throw Error(a(177));if(W=m.lanes|m.childLanes,W|=Yy,fn(u,x,W,_e,Me,rt),u===Ar&&(Ia=Ar=null,Ya=0),Tf=m,Ju=u,Df=x,Z2=W,J2=L,o5=N,(m.subtreeFlags&10256)!==0||(m.flags&10256)!==0?(u.callbackNode=null,u.callbackPriority=0,PH(ge,function(){return w5(),null})):(u.callbackNode=null,u.callbackPriority=0),N=(m.flags&13878)!==0,(m.subtreeFlags&13878)!==0||N){N=V.T,V.T=null,L=M.p,M.p=2,_e=fr,fr|=4;try{IH(u,m,x)}finally{fr=_e,M.p=L,V.T=N}}Ki=1,v5(),x5(),b5()}}function v5(){if(Ki===1){Ki=0;var u=Ju,m=Tf,x=(m.flags&13878)!==0;if((m.subtreeFlags&13878)!==0||x){x=V.T,V.T=null;var N=M.p;M.p=2;var L=fr;fr|=4;try{e5(m,u);var W=pw,_e=X(u.containerInfo),Me=W.focusedElem,rt=W.selectionRange;if(_e!==Me&&Me&&Me.ownerDocument&&q(Me.ownerDocument.documentElement,Me)){if(rt!==null&&le(Me)){var Et=rt.start,en=rt.end;if(en===void 0&&(en=Et),"selectionStart"in Me)Me.selectionStart=Et,Me.selectionEnd=Math.min(en,Me.value.length);else{var un=Me.ownerDocument||document,Dt=un&&un.defaultView||window;if(Dt.getSelection){var $t=Dt.getSelection(),Fs=Me.textContent.length,Bs=Math.min(rt.start,Fs),yr=rt.end===void 0?Bs:Math.min(rt.end,Fs);!$t.extend&&Bs>yr&&(_e=yr,yr=Bs,Bs=_e);var xt=T(Me,Bs),ht=T(Me,yr);if(xt&&ht&&($t.rangeCount!==1||$t.anchorNode!==xt.node||$t.anchorOffset!==xt.offset||$t.focusNode!==ht.node||$t.focusOffset!==ht.offset)){var Nt=un.createRange();Nt.setStart(xt.node,xt.offset),$t.removeAllRanges(),Bs>yr?($t.addRange(Nt),$t.extend(ht.node,ht.offset)):(Nt.setEnd(ht.node,ht.offset),$t.addRange(Nt))}}}}for(un=[],$t=Me;$t=$t.parentNode;)$t.nodeType===1&&un.push({element:$t,left:$t.scrollLeft,top:$t.scrollTop});for(typeof Me.focus=="function"&&Me.focus(),Me=0;Me<un.length;Me++){var sn=un[Me];sn.element.scrollLeft=sn.left,sn.element.scrollTop=sn.top}}B_=!!mw,pw=mw=null}finally{fr=L,M.p=N,V.T=x}}u.current=m,Ki=2}}function x5(){if(Ki===2){Ki=0;var u=Ju,m=Tf,x=(m.flags&8772)!==0;if((m.subtreeFlags&8772)!==0||x){x=V.T,V.T=null;var N=M.p;M.p=2;var L=fr;fr|=4;try{X8(u,m.alternate,m)}finally{fr=L,M.p=N,V.T=x}}Ki=3}}function b5(){if(Ki===4||Ki===3){Ki=0,pe();var u=Ju,m=Tf,x=Df,N=o5;(m.subtreeFlags&10256)!==0||(m.flags&10256)!==0?Ki=5:(Ki=0,Tf=Ju=null,y5(u,u.pendingLanes));var L=u.pendingLanes;if(L===0&&(Zu=null),st(x),m=m.stateNode,he&&typeof he.onCommitFiberRoot=="function")try{he.onCommitFiberRoot(tt,m,void 0,(m.current.flags&128)===128)}catch{}if(N!==null){m=V.T,L=M.p,M.p=2,V.T=null;try{for(var W=u.onRecoverableError,_e=0;_e<N.length;_e++){var Me=N[_e];W(Me.value,{componentStack:Me.stack})}}finally{V.T=m,M.p=L}}(Df&3)!==0&&j_(),_l(u),L=u.pendingLanes,(x&4194090)!==0&&(L&42)!==0?u===ew?Wp++:(Wp=0,ew=u):Wp=0,Yp(0)}}function y5(u,m){(u.pooledCacheLanes&=m)===0&&(m=u.pooledCache,m!=null&&(u.pooledCache=null,Np(m)))}function j_(u){return v5(),x5(),b5(),w5()}function w5(){if(Ki!==5)return!1;var u=Ju,m=Z2;Z2=0;var x=st(Df),N=V.T,L=M.p;try{M.p=32>x?32:x,V.T=null,x=J2,J2=null;var W=Ju,_e=Df;if(Ki=0,Tf=Ju=null,Df=0,(fr&6)!==0)throw Error(a(331));var Me=fr;if(fr|=4,r5(W.current),n5(W,W.current,_e,x),fr=Me,Yp(0,!1),he&&typeof he.onPostCommitFiberRoot=="function")try{he.onPostCommitFiberRoot(tt,W)}catch{}return!0}finally{M.p=L,V.T=N,y5(u,m)}}function j5(u,m,x){m=hc(x,m),m=A2(u.stateNode,m,2),u=Vu(u,m,2),u!==null&&(ln(u,2),_l(u))}function Nr(u,m,x){if(u.tag===3)j5(u,u,x);else for(;m!==null;){if(m.tag===3){j5(m,u,x);break}else if(m.tag===1){var N=m.stateNode;if(typeof m.type.getDerivedStateFromError=="function"||typeof N.componentDidCatch=="function"&&(Zu===null||!Zu.has(N))){u=hc(x,u),x=k8(2),N=Vu(m,x,2),N!==null&&(I8(x,N,m,u),ln(N,2),_l(N));break}}m=m.return}}function aw(u,m,x){var N=u.pingCache;if(N===null){N=u.pingCache=new DH;var L=new Set;N.set(m,L)}else L=N.get(m),L===void 0&&(L=new Set,N.set(m,L));L.has(x)||(G2=!0,L.add(x),u=OH.bind(null,u,m,x),m.then(u,u))}function OH(u,m,x){var N=u.pingCache;N!==null&&N.delete(m),u.pingedLanes|=u.suspendedLanes&x,u.warmLanes&=~x,Ar===u&&(Ya&x)===x&&(ai===4||ai===3&&(Ya&62914560)===Ya&&300>ce()-K2?(fr&2)===0&&Af(u,0):Q2|=x,Ef===Ya&&(Ef=0)),_l(u)}function C5(u,m){m===0&&(m=Qn()),u=mf(u,m),u!==null&&(ln(u,m),_l(u))}function LH(u){var m=u.memoizedState,x=0;m!==null&&(x=m.retryLane),C5(u,x)}function $H(u,m){var x=0;switch(u.tag){case 13:var N=u.stateNode,L=u.memoizedState;L!==null&&(x=L.retryLane);break;case 19:N=u.stateNode;break;case 22:N=u.stateNode._retryCache;break;default:throw Error(a(314))}N!==null&&N.delete(m),C5(u,x)}function PH(u,m){return Se(u,m)}var C_=null,Rf=null,rw=!1,S_=!1,iw=!1,ah=0;function _l(u){u!==Rf&&u.next===null&&(Rf===null?C_=Rf=u:Rf=Rf.next=u),S_=!0,rw||(rw=!0,HH())}function Yp(u,m){if(!iw&&S_){iw=!0;do for(var x=!1,N=C_;N!==null;){if(u!==0){var L=N.pendingLanes;if(L===0)var W=0;else{var _e=N.suspendedLanes,Me=N.pingedLanes;W=(1<<31-Pe(42|u)+1)-1,W&=L&~(_e&~Me),W=W&201326741?W&201326741|1:W?W|2:0}W!==0&&(x=!0,I5(N,W))}else W=Ya,W=at(N,N===Ar?W:0,N.cancelPendingCommit!==null||N.timeoutHandle!==-1),(W&3)===0||lt(N,W)||(x=!0,I5(N,W));N=N.next}while(x);iw=!1}}function FH(){S5()}function S5(){S_=rw=!1;var u=0;ah!==0&&(QH()&&(u=ah),ah=0);for(var m=ce(),x=null,N=C_;N!==null;){var L=N.next,W=N5(N,m);W===0?(N.next=null,x===null?C_=L:x.next=L,L===null&&(Rf=x)):(x=N,(u!==0||(W&3)!==0)&&(S_=!0)),N=L}Yp(u)}function N5(u,m){for(var x=u.suspendedLanes,N=u.pingedLanes,L=u.expirationTimes,W=u.pendingLanes&-62914561;0<W;){var _e=31-Pe(W),Me=1<<_e,rt=L[_e];rt===-1?((Me&x)===0||(Me&N)!==0)&&(L[_e]=Mt(Me,m)):rt<=m&&(u.expiredLanes|=Me),W&=~Me}if(m=Ar,x=Ya,x=at(u,u===m?x:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),N=u.callbackNode,x===0||u===m&&(mr===2||mr===9)||u.cancelPendingCommit!==null)return N!==null&&N!==null&&fe(N),u.callbackNode=null,u.callbackPriority=0;if((x&3)===0||lt(u,x)){if(m=x&-x,m===u.callbackPriority)return m;switch(N!==null&&fe(N),st(x)){case 2:case 8:x=ie;break;case 32:x=ge;break;case 268435456:x=Fe;break;default:x=ge}return N=k5.bind(null,u),x=Se(x,N),u.callbackPriority=m,u.callbackNode=x,m}return N!==null&&N!==null&&fe(N),u.callbackPriority=2,u.callbackNode=null,2}function k5(u,m){if(Ki!==0&&Ki!==5)return u.callbackNode=null,u.callbackPriority=0,null;var x=u.callbackNode;if(j_()&&u.callbackNode!==x)return null;var N=Ya;return N=at(u,u===Ar?N:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),N===0?null:(l5(u,N,m),N5(u,ce()),u.callbackNode!=null&&u.callbackNode===x?k5.bind(null,u):null)}function I5(u,m){if(j_())return null;l5(u,m,!0)}function HH(){KH(function(){(fr&6)!==0?Se(Ae,FH):S5()})}function ow(){return ah===0&&(ah=pn()),ah}function E5(u){return u==null||typeof u=="symbol"||typeof u=="boolean"?null:typeof u=="function"?u:Ft(""+u)}function T5(u,m){var x=m.ownerDocument.createElement("input");return x.name=m.name,x.value=m.value,u.id&&x.setAttribute("form",u.id),m.parentNode.insertBefore(x,m),u=new FormData(u),x.parentNode.removeChild(x),u}function qH(u,m,x,N,L){if(m==="submit"&&x&&x.stateNode===L){var W=E5((L[ss]||null).action),_e=N.submitter;_e&&(m=(m=_e[ss]||null)?E5(m.formAction):_e.getAttribute("formAction"),m!==null&&(W=m,_e=null));var Me=new He("action","action",null,N,L);u.push({event:Me,listeners:[{instance:null,listener:function(){if(N.defaultPrevented){if(ah!==0){var rt=_e?T5(L,_e):new FormData(L);k2(x,{pending:!0,data:rt,method:L.method,action:W},null,rt)}}else typeof W=="function"&&(Me.preventDefault(),rt=_e?T5(L,_e):new FormData(L),k2(x,{pending:!0,data:rt,method:L.method,action:W},W,rt))},currentTarget:L}]})}}for(var cw=0;cw<hl.length;cw++){var lw=hl[cw],VH=lw.toLowerCase(),zH=lw[0].toUpperCase()+lw.slice(1);zo(VH,"on"+zH)}zo(Js,"onAnimationEnd"),zo(Qi,"onAnimationIteration"),zo(To,"onAnimationStart"),zo("dblclick","onDoubleClick"),zo("focusin","onFocus"),zo("focusout","onBlur"),zo(io,"onTransitionRun"),zo(hr,"onTransitionStart"),zo(Ai,"onTransitionCancel"),zo(oo,"onTransitionEnd"),Ms("onMouseEnter",["mouseout","mouseover"]),Ms("onMouseLeave",["mouseout","mouseover"]),Ms("onPointerEnter",["pointerout","pointerover"]),Ms("onPointerLeave",["pointerout","pointerover"]),Us("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Us("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Us("onBeforeInput",["compositionend","keypress","textInput","paste"]),Us("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Us("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Us("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Gp="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),UH=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Gp));function D5(u,m){m=(m&4)!==0;for(var x=0;x<u.length;x++){var N=u[x],L=N.event;N=N.listeners;e:{var W=void 0;if(m)for(var _e=N.length-1;0<=_e;_e--){var Me=N[_e],rt=Me.instance,Et=Me.currentTarget;if(Me=Me.listener,rt!==W&&L.isPropagationStopped())break e;W=Me,L.currentTarget=Et;try{W(L)}catch(en){h_(en)}L.currentTarget=null,W=rt}else for(_e=0;_e<N.length;_e++){if(Me=N[_e],rt=Me.instance,Et=Me.currentTarget,Me=Me.listener,rt!==W&&L.isPropagationStopped())break e;W=Me,L.currentTarget=Et;try{W(L)}catch(en){h_(en)}L.currentTarget=null,W=rt}}}}function Ea(u,m){var x=m[xs];x===void 0&&(x=m[xs]=new Set);var N=u+"__bubble";x.has(N)||(A5(m,u,2,!1),x.add(N))}function uw(u,m,x){var N=0;m&&(N|=4),A5(x,u,N,m)}var N_="_reactListening"+Math.random().toString(36).slice(2);function dw(u){if(!u[N_]){u[N_]=!0,za.forEach(function(x){x!=="selectionchange"&&(UH.has(x)||uw(x,!1,u),uw(x,!0,u))});var m=u.nodeType===9?u:u.ownerDocument;m===null||m[N_]||(m[N_]=!0,uw("selectionchange",!1,m))}}function A5(u,m,x,N){switch(nk(m)){case 2:var L=vq;break;case 8:L=xq;break;default:L=Sw}x=L.bind(null,m,x,u),L=void 0,!jt||m!=="touchstart"&&m!=="touchmove"&&m!=="wheel"||(L=!0),N?L!==void 0?u.addEventListener(m,x,{capture:!0,passive:L}):u.addEventListener(m,x,!0):L!==void 0?u.addEventListener(m,x,{passive:L}):u.addEventListener(m,x,!1)}function hw(u,m,x,N,L){var W=N;if((m&1)===0&&(m&2)===0&&N!==null)e:for(;;){if(N===null)return;var _e=N.tag;if(_e===3||_e===4){var Me=N.stateNode.containerInfo;if(Me===L)break;if(_e===4)for(_e=N.return;_e!==null;){var rt=_e.tag;if((rt===3||rt===4)&&_e.stateNode.containerInfo===L)return;_e=_e.return}for(;Me!==null;){if(_e=Vn(Me),_e===null)return;if(rt=_e.tag,rt===5||rt===6||rt===26||rt===27){N=W=_e;continue e}Me=Me.parentNode}}N=N.return}as(function(){var Et=W,en=gn(x),un=[];e:{var Dt=Gl.get(u);if(Dt!==void 0){var $t=He,Fs=u;switch(u){case"keypress":if(ir(x)===0)break e;case"keydown":case"keyup":$t=zl;break;case"focusin":Fs="focus",$t=Oe;break;case"focusout":Fs="blur",$t=Oe;break;case"beforeblur":case"afterblur":$t=Oe;break;case"click":if(x.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":$t=Ss;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":$t=Nn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":$t=dr;break;case Js:case Qi:case To:$t=_t;break;case oo:$t=Vy;break;case"scroll":case"scrollend":$t=ft;break;case"wheel":$t=Wl;break;case"copy":case"cut":case"paste":$t=Vt;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":$t=qd;break;case"toggle":case"beforetoggle":$t=zy}var Bs=(m&4)!==0,yr=!Bs&&(u==="scroll"||u==="scrollend"),xt=Bs?Dt!==null?Dt+"Capture":null:Dt;Bs=[];for(var ht=Et,Nt;ht!==null;){var sn=ht;if(Nt=sn.stateNode,sn=sn.tag,sn!==5&&sn!==26&&sn!==27||Nt===null||xt===null||(sn=Qt(ht,xt),sn!=null&&Bs.push(Qp(ht,sn,Nt))),yr)break;ht=ht.return}0<Bs.length&&(Dt=new $t(Dt,Fs,null,x,en),un.push({event:Dt,listeners:Bs}))}}if((m&7)===0){e:{if(Dt=u==="mouseover"||u==="pointerover",$t=u==="mouseout"||u==="pointerout",Dt&&x!==In&&(Fs=x.relatedTarget||x.fromElement)&&(Vn(Fs)||Fs[hs]))break e;if(($t||Dt)&&(Dt=en.window===en?en:(Dt=en.ownerDocument)?Dt.defaultView||Dt.parentWindow:window,$t?(Fs=x.relatedTarget||x.toElement,$t=Et,Fs=Fs?Vn(Fs):null,Fs!==null&&(yr=i(Fs),Bs=Fs.tag,Fs!==yr||Bs!==5&&Bs!==27&&Bs!==6)&&(Fs=null)):($t=null,Fs=Et),$t!==Fs)){if(Bs=Ss,sn="onMouseLeave",xt="onMouseEnter",ht="mouse",(u==="pointerout"||u==="pointerover")&&(Bs=qd,sn="onPointerLeave",xt="onPointerEnter",ht="pointer"),yr=$t==null?Dt:Qs($t),Nt=Fs==null?Dt:Qs(Fs),Dt=new Bs(sn,ht+"leave",$t,x,en),Dt.target=yr,Dt.relatedTarget=Nt,sn=null,Vn(en)===Et&&(Bs=new Bs(xt,ht+"enter",Fs,x,en),Bs.target=Nt,Bs.relatedTarget=yr,sn=Bs),yr=sn,$t&&Fs)t:{for(Bs=$t,xt=Fs,ht=0,Nt=Bs;Nt;Nt=Bf(Nt))ht++;for(Nt=0,sn=xt;sn;sn=Bf(sn))Nt++;for(;0<ht-Nt;)Bs=Bf(Bs),ht--;for(;0<Nt-ht;)xt=Bf(xt),Nt--;for(;ht--;){if(Bs===xt||xt!==null&&Bs===xt.alternate)break t;Bs=Bf(Bs),xt=Bf(xt)}Bs=null}else Bs=null;$t!==null&&M5(un,Dt,$t,Bs,!1),Fs!==null&&yr!==null&&M5(un,yr,Fs,Bs,!0)}}e:{if(Dt=Et?Qs(Et):window,$t=Dt.nodeName&&Dt.nodeName.toLowerCase(),$t==="select"||$t==="input"&&Dt.type==="file")var gs=H0;else if(Ud(Dt))if(bp)gs=p;else{gs=ye;var Sa=hf}else $t=Dt.nodeName,!$t||$t.toLowerCase()!=="input"||Dt.type!=="checkbox"&&Dt.type!=="radio"?Et&&Je(Et.elementType)&&(gs=H0):gs=h;if(gs&&(gs=gs(u,Et))){yo(un,gs,x,en);break e}Sa&&Sa(u,Dt,Et),u==="focusout"&&Et&&Dt.type==="number"&&Et.memoizedProps.value!=null&&it(Dt,"number",Dt.value)}switch(Sa=Et?Qs(Et):window,u){case"focusin":(Ud(Sa)||Sa.contentEditable==="true")&&(ke=Sa,We=Et,ct=null);break;case"focusout":ct=We=ke=null;break;case"mousedown":ut=!0;break;case"contextmenu":case"mouseup":case"dragend":ut=!1,Ct(un,x,en);break;case"selectionchange":if(we)break;case"keydown":case"keyup":Ct(un,x,en)}var ks;if(Vd)e:{switch(u){case"compositionstart":var Os="onCompositionStart";break e;case"compositionend":Os="onCompositionEnd";break e;case"compositionupdate":Os="onCompositionUpdate";break e}Os=void 0}else Ou?Yl(u,x)&&(Os="onCompositionEnd"):u==="keydown"&&x.keyCode===229&&(Os="onCompositionStart");Os&&(vp&&x.locale!=="ko"&&(Ou||Os!=="onCompositionStart"?Os==="onCompositionEnd"&&Ou&&(ks=fa()):(On=en,bs="value"in On?On.value:On.textContent,Ou=!0)),Sa=k_(Et,Os),0<Sa.length&&(Os=new es(Os,u,null,x,en),un.push({event:Os,listeners:Sa}),ks?Os.data=ks:(ks=uf(x),ks!==null&&(Os.data=ks)))),(ks=_p?zd(u,x):Uy(u,x))&&(Os=k_(Et,"onBeforeInput"),0<Os.length&&(Sa=new es("onBeforeInput","beforeinput",null,x,en),un.push({event:Sa,listeners:Os}),Sa.data=ks)),qH(un,u,Et,x,en)}D5(un,m)})}function Qp(u,m,x){return{instance:u,listener:m,currentTarget:x}}function k_(u,m){for(var x=m+"Capture",N=[];u!==null;){var L=u,W=L.stateNode;if(L=L.tag,L!==5&&L!==26&&L!==27||W===null||(L=Qt(u,x),L!=null&&N.unshift(Qp(u,L,W)),L=Qt(u,m),L!=null&&N.push(Qp(u,L,W))),u.tag===3)return N;u=u.return}return[]}function Bf(u){if(u===null)return null;do u=u.return;while(u&&u.tag!==5&&u.tag!==27);return u||null}function M5(u,m,x,N,L){for(var W=m._reactName,_e=[];x!==null&&x!==N;){var Me=x,rt=Me.alternate,Et=Me.stateNode;if(Me=Me.tag,rt!==null&&rt===N)break;Me!==5&&Me!==26&&Me!==27||Et===null||(rt=Et,L?(Et=Qt(x,W),Et!=null&&_e.unshift(Qp(x,Et,rt))):L||(Et=Qt(x,W),Et!=null&&_e.push(Qp(x,Et,rt)))),x=x.return}_e.length!==0&&u.push({event:m,listeners:_e})}var WH=/\r\n?/g,YH=/\u0000|\uFFFD/g;function R5(u){return(typeof u=="string"?u:""+u).replace(WH,`
`).replace(YH,"")}function B5(u,m){return m=R5(m),R5(u)===m}function I_(){}function br(u,m,x,N,L,W){switch(x){case"children":typeof N=="string"?m==="body"||m==="textarea"&&N===""||Wt(u,N):(typeof N=="number"||typeof N=="bigint")&&m!=="body"&&Wt(u,""+N);break;case"className":Zn(u,"class",N);break;case"tabIndex":Zn(u,"tabindex",N);break;case"dir":case"role":case"viewBox":case"width":case"height":Zn(u,x,N);break;case"style":et(u,N,W);break;case"data":if(m!=="object"){Zn(u,"data",N);break}case"src":case"href":if(N===""&&(m!=="a"||x!=="href")){u.removeAttribute(x);break}if(N==null||typeof N=="function"||typeof N=="symbol"||typeof N=="boolean"){u.removeAttribute(x);break}N=Ft(""+N),u.setAttribute(x,N);break;case"action":case"formAction":if(typeof N=="function"){u.setAttribute(x,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof W=="function"&&(x==="formAction"?(m!=="input"&&br(u,m,"name",L.name,L,null),br(u,m,"formEncType",L.formEncType,L,null),br(u,m,"formMethod",L.formMethod,L,null),br(u,m,"formTarget",L.formTarget,L,null)):(br(u,m,"encType",L.encType,L,null),br(u,m,"method",L.method,L,null),br(u,m,"target",L.target,L,null)));if(N==null||typeof N=="symbol"||typeof N=="boolean"){u.removeAttribute(x);break}N=Ft(""+N),u.setAttribute(x,N);break;case"onClick":N!=null&&(u.onclick=I_);break;case"onScroll":N!=null&&Ea("scroll",u);break;case"onScrollEnd":N!=null&&Ea("scrollend",u);break;case"dangerouslySetInnerHTML":if(N!=null){if(typeof N!="object"||!("__html"in N))throw Error(a(61));if(x=N.__html,x!=null){if(L.children!=null)throw Error(a(60));u.innerHTML=x}}break;case"multiple":u.multiple=N&&typeof N!="function"&&typeof N!="symbol";break;case"muted":u.muted=N&&typeof N!="function"&&typeof N!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(N==null||typeof N=="function"||typeof N=="boolean"||typeof N=="symbol"){u.removeAttribute("xlink:href");break}x=Ft(""+N),u.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",x);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":N!=null&&typeof N!="function"&&typeof N!="symbol"?u.setAttribute(x,""+N):u.removeAttribute(x);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":N&&typeof N!="function"&&typeof N!="symbol"?u.setAttribute(x,""):u.removeAttribute(x);break;case"capture":case"download":N===!0?u.setAttribute(x,""):N!==!1&&N!=null&&typeof N!="function"&&typeof N!="symbol"?u.setAttribute(x,N):u.removeAttribute(x);break;case"cols":case"rows":case"size":case"span":N!=null&&typeof N!="function"&&typeof N!="symbol"&&!isNaN(N)&&1<=N?u.setAttribute(x,N):u.removeAttribute(x);break;case"rowSpan":case"start":N==null||typeof N=="function"||typeof N=="symbol"||isNaN(N)?u.removeAttribute(x):u.setAttribute(x,N);break;case"popover":Ea("beforetoggle",u),Ea("toggle",u),qt(u,"popover",N);break;case"xlinkActuate":Ts(u,"http://www.w3.org/1999/xlink","xlink:actuate",N);break;case"xlinkArcrole":Ts(u,"http://www.w3.org/1999/xlink","xlink:arcrole",N);break;case"xlinkRole":Ts(u,"http://www.w3.org/1999/xlink","xlink:role",N);break;case"xlinkShow":Ts(u,"http://www.w3.org/1999/xlink","xlink:show",N);break;case"xlinkTitle":Ts(u,"http://www.w3.org/1999/xlink","xlink:title",N);break;case"xlinkType":Ts(u,"http://www.w3.org/1999/xlink","xlink:type",N);break;case"xmlBase":Ts(u,"http://www.w3.org/XML/1998/namespace","xml:base",N);break;case"xmlLang":Ts(u,"http://www.w3.org/XML/1998/namespace","xml:lang",N);break;case"xmlSpace":Ts(u,"http://www.w3.org/XML/1998/namespace","xml:space",N);break;case"is":qt(u,"is",N);break;case"innerText":case"textContent":break;default:(!(2<x.length)||x[0]!=="o"&&x[0]!=="O"||x[1]!=="n"&&x[1]!=="N")&&(x=ot.get(x)||x,qt(u,x,N))}}function fw(u,m,x,N,L,W){switch(x){case"style":et(u,N,W);break;case"dangerouslySetInnerHTML":if(N!=null){if(typeof N!="object"||!("__html"in N))throw Error(a(61));if(x=N.__html,x!=null){if(L.children!=null)throw Error(a(60));u.innerHTML=x}}break;case"children":typeof N=="string"?Wt(u,N):(typeof N=="number"||typeof N=="bigint")&&Wt(u,""+N);break;case"onScroll":N!=null&&Ea("scroll",u);break;case"onScrollEnd":N!=null&&Ea("scrollend",u);break;case"onClick":N!=null&&(u.onclick=I_);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ur.hasOwnProperty(x))e:{if(x[0]==="o"&&x[1]==="n"&&(L=x.endsWith("Capture"),m=x.slice(2,L?x.length-7:void 0),W=u[ss]||null,W=W!=null?W[x]:null,typeof W=="function"&&u.removeEventListener(m,W,L),typeof N=="function")){typeof W!="function"&&W!==null&&(x in u?u[x]=null:u.hasAttribute(x)&&u.removeAttribute(x)),u.addEventListener(m,N,L);break e}x in u?u[x]=N:N===!0?u.setAttribute(x,""):qt(u,x,N)}}}function Zi(u,m,x){switch(m){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ea("error",u),Ea("load",u);var N=!1,L=!1,W;for(W in x)if(x.hasOwnProperty(W)){var _e=x[W];if(_e!=null)switch(W){case"src":N=!0;break;case"srcSet":L=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,m));default:br(u,m,W,_e,x,null)}}L&&br(u,m,"srcSet",x.srcSet,x,null),N&&br(u,m,"src",x.src,x,null);return;case"input":Ea("invalid",u);var Me=W=_e=L=null,rt=null,Et=null;for(N in x)if(x.hasOwnProperty(N)){var en=x[N];if(en!=null)switch(N){case"name":L=en;break;case"type":_e=en;break;case"checked":rt=en;break;case"defaultChecked":Et=en;break;case"value":W=en;break;case"defaultValue":Me=en;break;case"children":case"dangerouslySetInnerHTML":if(en!=null)throw Error(a(137,m));break;default:br(u,m,N,en,x,null)}}qn(u,W,Me,rt,Et,_e,L,!1),vr(u);return;case"select":Ea("invalid",u),N=_e=W=null;for(L in x)if(x.hasOwnProperty(L)&&(Me=x[L],Me!=null))switch(L){case"value":W=Me;break;case"defaultValue":_e=Me;break;case"multiple":N=Me;default:br(u,m,L,Me,x,null)}m=W,x=_e,u.multiple=!!N,m!=null?Le(u,!!N,m,!1):x!=null&&Le(u,!!N,x,!0);return;case"textarea":Ea("invalid",u),W=L=N=null;for(_e in x)if(x.hasOwnProperty(_e)&&(Me=x[_e],Me!=null))switch(_e){case"value":N=Me;break;case"defaultValue":L=Me;break;case"children":W=Me;break;case"dangerouslySetInnerHTML":if(Me!=null)throw Error(a(91));break;default:br(u,m,_e,Me,x,null)}Tt(u,N,L,W),vr(u);return;case"option":for(rt in x)if(x.hasOwnProperty(rt)&&(N=x[rt],N!=null))switch(rt){case"selected":u.selected=N&&typeof N!="function"&&typeof N!="symbol";break;default:br(u,m,rt,N,x,null)}return;case"dialog":Ea("beforetoggle",u),Ea("toggle",u),Ea("cancel",u),Ea("close",u);break;case"iframe":case"object":Ea("load",u);break;case"video":case"audio":for(N=0;N<Gp.length;N++)Ea(Gp[N],u);break;case"image":Ea("error",u),Ea("load",u);break;case"details":Ea("toggle",u);break;case"embed":case"source":case"link":Ea("error",u),Ea("load",u);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Et in x)if(x.hasOwnProperty(Et)&&(N=x[Et],N!=null))switch(Et){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,m));default:br(u,m,Et,N,x,null)}return;default:if(Je(m)){for(en in x)x.hasOwnProperty(en)&&(N=x[en],N!==void 0&&fw(u,m,en,N,x,void 0));return}}for(Me in x)x.hasOwnProperty(Me)&&(N=x[Me],N!=null&&br(u,m,Me,N,x,null))}function GH(u,m,x,N){switch(m){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var L=null,W=null,_e=null,Me=null,rt=null,Et=null,en=null;for($t in x){var un=x[$t];if(x.hasOwnProperty($t)&&un!=null)switch($t){case"checked":break;case"value":break;case"defaultValue":rt=un;default:N.hasOwnProperty($t)||br(u,m,$t,null,N,un)}}for(var Dt in N){var $t=N[Dt];if(un=x[Dt],N.hasOwnProperty(Dt)&&($t!=null||un!=null))switch(Dt){case"type":W=$t;break;case"name":L=$t;break;case"checked":Et=$t;break;case"defaultChecked":en=$t;break;case"value":_e=$t;break;case"defaultValue":Me=$t;break;case"children":case"dangerouslySetInnerHTML":if($t!=null)throw Error(a(137,m));break;default:$t!==un&&br(u,m,Dt,$t,N,un)}}Rs(u,_e,Me,rt,Et,en,W,L);return;case"select":$t=_e=Me=Dt=null;for(W in x)if(rt=x[W],x.hasOwnProperty(W)&&rt!=null)switch(W){case"value":break;case"multiple":$t=rt;default:N.hasOwnProperty(W)||br(u,m,W,null,N,rt)}for(L in N)if(W=N[L],rt=x[L],N.hasOwnProperty(L)&&(W!=null||rt!=null))switch(L){case"value":Dt=W;break;case"defaultValue":Me=W;break;case"multiple":_e=W;default:W!==rt&&br(u,m,L,W,N,rt)}m=Me,x=_e,N=$t,Dt!=null?Le(u,!!x,Dt,!1):!!N!=!!x&&(m!=null?Le(u,!!x,m,!0):Le(u,!!x,x?[]:"",!1));return;case"textarea":$t=Dt=null;for(Me in x)if(L=x[Me],x.hasOwnProperty(Me)&&L!=null&&!N.hasOwnProperty(Me))switch(Me){case"value":break;case"children":break;default:br(u,m,Me,null,N,L)}for(_e in N)if(L=N[_e],W=x[_e],N.hasOwnProperty(_e)&&(L!=null||W!=null))switch(_e){case"value":Dt=L;break;case"defaultValue":$t=L;break;case"children":break;case"dangerouslySetInnerHTML":if(L!=null)throw Error(a(91));break;default:L!==W&&br(u,m,_e,L,N,W)}Qe(u,Dt,$t);return;case"option":for(var Fs in x)if(Dt=x[Fs],x.hasOwnProperty(Fs)&&Dt!=null&&!N.hasOwnProperty(Fs))switch(Fs){case"selected":u.selected=!1;break;default:br(u,m,Fs,null,N,Dt)}for(rt in N)if(Dt=N[rt],$t=x[rt],N.hasOwnProperty(rt)&&Dt!==$t&&(Dt!=null||$t!=null))switch(rt){case"selected":u.selected=Dt&&typeof Dt!="function"&&typeof Dt!="symbol";break;default:br(u,m,rt,Dt,N,$t)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Bs in x)Dt=x[Bs],x.hasOwnProperty(Bs)&&Dt!=null&&!N.hasOwnProperty(Bs)&&br(u,m,Bs,null,N,Dt);for(Et in N)if(Dt=N[Et],$t=x[Et],N.hasOwnProperty(Et)&&Dt!==$t&&(Dt!=null||$t!=null))switch(Et){case"children":case"dangerouslySetInnerHTML":if(Dt!=null)throw Error(a(137,m));break;default:br(u,m,Et,Dt,N,$t)}return;default:if(Je(m)){for(var yr in x)Dt=x[yr],x.hasOwnProperty(yr)&&Dt!==void 0&&!N.hasOwnProperty(yr)&&fw(u,m,yr,void 0,N,Dt);for(en in N)Dt=N[en],$t=x[en],!N.hasOwnProperty(en)||Dt===$t||Dt===void 0&&$t===void 0||fw(u,m,en,Dt,N,$t);return}}for(var xt in x)Dt=x[xt],x.hasOwnProperty(xt)&&Dt!=null&&!N.hasOwnProperty(xt)&&br(u,m,xt,null,N,Dt);for(un in N)Dt=N[un],$t=x[un],!N.hasOwnProperty(un)||Dt===$t||Dt==null&&$t==null||br(u,m,un,Dt,N,$t)}var mw=null,pw=null;function E_(u){return u.nodeType===9?u:u.ownerDocument}function O5(u){switch(u){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function L5(u,m){if(u===0)switch(m){case"svg":return 1;case"math":return 2;default:return 0}return u===1&&m==="foreignObject"?0:u}function gw(u,m){return u==="textarea"||u==="noscript"||typeof m.children=="string"||typeof m.children=="number"||typeof m.children=="bigint"||typeof m.dangerouslySetInnerHTML=="object"&&m.dangerouslySetInnerHTML!==null&&m.dangerouslySetInnerHTML.__html!=null}var _w=null;function QH(){var u=window.event;return u&&u.type==="popstate"?u===_w?!1:(_w=u,!0):(_w=null,!1)}var $5=typeof setTimeout=="function"?setTimeout:void 0,XH=typeof clearTimeout=="function"?clearTimeout:void 0,P5=typeof Promise=="function"?Promise:void 0,KH=typeof queueMicrotask=="function"?queueMicrotask:typeof P5<"u"?function(u){return P5.resolve(null).then(u).catch(ZH)}:$5;function ZH(u){setTimeout(function(){throw u})}function td(u){return u==="head"}function F5(u,m){var x=m,N=0,L=0;do{var W=x.nextSibling;if(u.removeChild(x),W&&W.nodeType===8)if(x=W.data,x==="/$"){if(0<N&&8>N){x=N;var _e=u.ownerDocument;if(x&1&&Xp(_e.documentElement),x&2&&Xp(_e.body),x&4)for(x=_e.head,Xp(x),_e=x.firstChild;_e;){var Me=_e.nextSibling,rt=_e.nodeName;_e[ia]||rt==="SCRIPT"||rt==="STYLE"||rt==="LINK"&&_e.rel.toLowerCase()==="stylesheet"||x.removeChild(_e),_e=Me}}if(L===0){u.removeChild(W),a1(m);return}L--}else x==="$"||x==="$?"||x==="$!"?L++:N=x.charCodeAt(0)-48;else N=0;x=W}while(x);a1(m)}function vw(u){var m=u.firstChild;for(m&&m.nodeType===10&&(m=m.nextSibling);m;){var x=m;switch(m=m.nextSibling,x.nodeName){case"HTML":case"HEAD":case"BODY":vw(x),Ca(x);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(x.rel.toLowerCase()==="stylesheet")continue}u.removeChild(x)}}function JH(u,m,x,N){for(;u.nodeType===1;){var L=x;if(u.nodeName.toLowerCase()!==m.toLowerCase()){if(!N&&(u.nodeName!=="INPUT"||u.type!=="hidden"))break}else if(N){if(!u[ia])switch(m){case"meta":if(!u.hasAttribute("itemprop"))break;return u;case"link":if(W=u.getAttribute("rel"),W==="stylesheet"&&u.hasAttribute("data-precedence"))break;if(W!==L.rel||u.getAttribute("href")!==(L.href==null||L.href===""?null:L.href)||u.getAttribute("crossorigin")!==(L.crossOrigin==null?null:L.crossOrigin)||u.getAttribute("title")!==(L.title==null?null:L.title))break;return u;case"style":if(u.hasAttribute("data-precedence"))break;return u;case"script":if(W=u.getAttribute("src"),(W!==(L.src==null?null:L.src)||u.getAttribute("type")!==(L.type==null?null:L.type)||u.getAttribute("crossorigin")!==(L.crossOrigin==null?null:L.crossOrigin))&&W&&u.hasAttribute("async")&&!u.hasAttribute("itemprop"))break;return u;default:return u}}else if(m==="input"&&u.type==="hidden"){var W=L.name==null?null:""+L.name;if(L.type==="hidden"&&u.getAttribute("name")===W)return u}else return u;if(u=Hc(u.nextSibling),u===null)break}return null}function eq(u,m,x){if(m==="")return null;for(;u.nodeType!==3;)if((u.nodeType!==1||u.nodeName!=="INPUT"||u.type!=="hidden")&&!x||(u=Hc(u.nextSibling),u===null))return null;return u}function xw(u){return u.data==="$!"||u.data==="$?"&&u.ownerDocument.readyState==="complete"}function tq(u,m){var x=u.ownerDocument;if(u.data!=="$?"||x.readyState==="complete")m();else{var N=function(){m(),x.removeEventListener("DOMContentLoaded",N)};x.addEventListener("DOMContentLoaded",N),u._reactRetry=N}}function Hc(u){for(;u!=null;u=u.nextSibling){var m=u.nodeType;if(m===1||m===3)break;if(m===8){if(m=u.data,m==="$"||m==="$!"||m==="$?"||m==="F!"||m==="F")break;if(m==="/$")return null}}return u}var bw=null;function H5(u){u=u.previousSibling;for(var m=0;u;){if(u.nodeType===8){var x=u.data;if(x==="$"||x==="$!"||x==="$?"){if(m===0)return u;m--}else x==="/$"&&m++}u=u.previousSibling}return null}function q5(u,m,x){switch(m=E_(x),u){case"html":if(u=m.documentElement,!u)throw Error(a(452));return u;case"head":if(u=m.head,!u)throw Error(a(453));return u;case"body":if(u=m.body,!u)throw Error(a(454));return u;default:throw Error(a(451))}}function Xp(u){for(var m=u.attributes;m.length;)u.removeAttributeNode(m[0]);Ca(u)}var vc=new Map,V5=new Set;function T_(u){return typeof u.getRootNode=="function"?u.getRootNode():u.nodeType===9?u:u.ownerDocument}var ou=M.d;M.d={f:nq,r:sq,D:aq,C:rq,L:iq,m:oq,X:lq,S:cq,M:uq};function nq(){var u=ou.f(),m=y_();return u||m}function sq(u){var m=Na(u);m!==null&&m.tag===5&&m.type==="form"?l8(m):ou.r(u)}var Of=typeof document>"u"?null:document;function z5(u,m,x){var N=Of;if(N&&typeof m=="string"&&m){var L=aa(m);L='link[rel="'+u+'"][href="'+L+'"]',typeof x=="string"&&(L+='[crossorigin="'+x+'"]'),V5.has(L)||(V5.add(L),u={rel:u,crossOrigin:x,href:m},N.querySelector(L)===null&&(m=N.createElement("link"),Zi(m,"link",u),vs(m),N.head.appendChild(m)))}}function aq(u){ou.D(u),z5("dns-prefetch",u,null)}function rq(u,m){ou.C(u,m),z5("preconnect",u,m)}function iq(u,m,x){ou.L(u,m,x);var N=Of;if(N&&u&&m){var L='link[rel="preload"][as="'+aa(m)+'"]';m==="image"&&x&&x.imageSrcSet?(L+='[imagesrcset="'+aa(x.imageSrcSet)+'"]',typeof x.imageSizes=="string"&&(L+='[imagesizes="'+aa(x.imageSizes)+'"]')):L+='[href="'+aa(u)+'"]';var W=L;switch(m){case"style":W=Lf(u);break;case"script":W=$f(u)}vc.has(W)||(u=f({rel:"preload",href:m==="image"&&x&&x.imageSrcSet?void 0:u,as:m},x),vc.set(W,u),N.querySelector(L)!==null||m==="style"&&N.querySelector(Kp(W))||m==="script"&&N.querySelector(Zp(W))||(m=N.createElement("link"),Zi(m,"link",u),vs(m),N.head.appendChild(m)))}}function oq(u,m){ou.m(u,m);var x=Of;if(x&&u){var N=m&&typeof m.as=="string"?m.as:"script",L='link[rel="modulepreload"][as="'+aa(N)+'"][href="'+aa(u)+'"]',W=L;switch(N){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":W=$f(u)}if(!vc.has(W)&&(u=f({rel:"modulepreload",href:u},m),vc.set(W,u),x.querySelector(L)===null)){switch(N){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(x.querySelector(Zp(W)))return}N=x.createElement("link"),Zi(N,"link",u),vs(N),x.head.appendChild(N)}}}function cq(u,m,x){ou.S(u,m,x);var N=Of;if(N&&u){var L=ta(N).hoistableStyles,W=Lf(u);m=m||"default";var _e=L.get(W);if(!_e){var Me={loading:0,preload:null};if(_e=N.querySelector(Kp(W)))Me.loading=5;else{u=f({rel:"stylesheet",href:u,"data-precedence":m},x),(x=vc.get(W))&&yw(u,x);var rt=_e=N.createElement("link");vs(rt),Zi(rt,"link",u),rt._p=new Promise(function(Et,en){rt.onload=Et,rt.onerror=en}),rt.addEventListener("load",function(){Me.loading|=1}),rt.addEventListener("error",function(){Me.loading|=2}),Me.loading|=4,D_(_e,m,N)}_e={type:"stylesheet",instance:_e,count:1,state:Me},L.set(W,_e)}}}function lq(u,m){ou.X(u,m);var x=Of;if(x&&u){var N=ta(x).hoistableScripts,L=$f(u),W=N.get(L);W||(W=x.querySelector(Zp(L)),W||(u=f({src:u,async:!0},m),(m=vc.get(L))&&ww(u,m),W=x.createElement("script"),vs(W),Zi(W,"link",u),x.head.appendChild(W)),W={type:"script",instance:W,count:1,state:null},N.set(L,W))}}function uq(u,m){ou.M(u,m);var x=Of;if(x&&u){var N=ta(x).hoistableScripts,L=$f(u),W=N.get(L);W||(W=x.querySelector(Zp(L)),W||(u=f({src:u,async:!0,type:"module"},m),(m=vc.get(L))&&ww(u,m),W=x.createElement("script"),vs(W),Zi(W,"link",u),x.head.appendChild(W)),W={type:"script",instance:W,count:1,state:null},N.set(L,W))}}function U5(u,m,x,N){var L=(L=re.current)?T_(L):null;if(!L)throw Error(a(446));switch(u){case"meta":case"title":return null;case"style":return typeof x.precedence=="string"&&typeof x.href=="string"?(m=Lf(x.href),x=ta(L).hoistableStyles,N=x.get(m),N||(N={type:"style",instance:null,count:0,state:null},x.set(m,N)),N):{type:"void",instance:null,count:0,state:null};case"link":if(x.rel==="stylesheet"&&typeof x.href=="string"&&typeof x.precedence=="string"){u=Lf(x.href);var W=ta(L).hoistableStyles,_e=W.get(u);if(_e||(L=L.ownerDocument||L,_e={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},W.set(u,_e),(W=L.querySelector(Kp(u)))&&!W._p&&(_e.instance=W,_e.state.loading=5),vc.has(u)||(x={rel:"preload",as:"style",href:x.href,crossOrigin:x.crossOrigin,integrity:x.integrity,media:x.media,hrefLang:x.hrefLang,referrerPolicy:x.referrerPolicy},vc.set(u,x),W||dq(L,u,x,_e.state))),m&&N===null)throw Error(a(528,""));return _e}if(m&&N!==null)throw Error(a(529,""));return null;case"script":return m=x.async,x=x.src,typeof x=="string"&&m&&typeof m!="function"&&typeof m!="symbol"?(m=$f(x),x=ta(L).hoistableScripts,N=x.get(m),N||(N={type:"script",instance:null,count:0,state:null},x.set(m,N)),N):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,u))}}function Lf(u){return'href="'+aa(u)+'"'}function Kp(u){return'link[rel="stylesheet"]['+u+"]"}function W5(u){return f({},u,{"data-precedence":u.precedence,precedence:null})}function dq(u,m,x,N){u.querySelector('link[rel="preload"][as="style"]['+m+"]")?N.loading=1:(m=u.createElement("link"),N.preload=m,m.addEventListener("load",function(){return N.loading|=1}),m.addEventListener("error",function(){return N.loading|=2}),Zi(m,"link",x),vs(m),u.head.appendChild(m))}function $f(u){return'[src="'+aa(u)+'"]'}function Zp(u){return"script[async]"+u}function Y5(u,m,x){if(m.count++,m.instance===null)switch(m.type){case"style":var N=u.querySelector('style[data-href~="'+aa(x.href)+'"]');if(N)return m.instance=N,vs(N),N;var L=f({},x,{"data-href":x.href,"data-precedence":x.precedence,href:null,precedence:null});return N=(u.ownerDocument||u).createElement("style"),vs(N),Zi(N,"style",L),D_(N,x.precedence,u),m.instance=N;case"stylesheet":L=Lf(x.href);var W=u.querySelector(Kp(L));if(W)return m.state.loading|=4,m.instance=W,vs(W),W;N=W5(x),(L=vc.get(L))&&yw(N,L),W=(u.ownerDocument||u).createElement("link"),vs(W);var _e=W;return _e._p=new Promise(function(Me,rt){_e.onload=Me,_e.onerror=rt}),Zi(W,"link",N),m.state.loading|=4,D_(W,x.precedence,u),m.instance=W;case"script":return W=$f(x.src),(L=u.querySelector(Zp(W)))?(m.instance=L,vs(L),L):(N=x,(L=vc.get(W))&&(N=f({},x),ww(N,L)),u=u.ownerDocument||u,L=u.createElement("script"),vs(L),Zi(L,"link",N),u.head.appendChild(L),m.instance=L);case"void":return null;default:throw Error(a(443,m.type))}else m.type==="stylesheet"&&(m.state.loading&4)===0&&(N=m.instance,m.state.loading|=4,D_(N,x.precedence,u));return m.instance}function D_(u,m,x){for(var N=x.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),L=N.length?N[N.length-1]:null,W=L,_e=0;_e<N.length;_e++){var Me=N[_e];if(Me.dataset.precedence===m)W=Me;else if(W!==L)break}W?W.parentNode.insertBefore(u,W.nextSibling):(m=x.nodeType===9?x.head:x,m.insertBefore(u,m.firstChild))}function yw(u,m){u.crossOrigin==null&&(u.crossOrigin=m.crossOrigin),u.referrerPolicy==null&&(u.referrerPolicy=m.referrerPolicy),u.title==null&&(u.title=m.title)}function ww(u,m){u.crossOrigin==null&&(u.crossOrigin=m.crossOrigin),u.referrerPolicy==null&&(u.referrerPolicy=m.referrerPolicy),u.integrity==null&&(u.integrity=m.integrity)}var A_=null;function G5(u,m,x){if(A_===null){var N=new Map,L=A_=new Map;L.set(x,N)}else L=A_,N=L.get(x),N||(N=new Map,L.set(x,N));if(N.has(u))return N;for(N.set(u,null),x=x.getElementsByTagName(u),L=0;L<x.length;L++){var W=x[L];if(!(W[ia]||W[vn]||u==="link"&&W.getAttribute("rel")==="stylesheet")&&W.namespaceURI!=="http://www.w3.org/2000/svg"){var _e=W.getAttribute(m)||"";_e=u+_e;var Me=N.get(_e);Me?Me.push(W):N.set(_e,[W])}}return N}function Q5(u,m,x){u=u.ownerDocument||u,u.head.insertBefore(x,m==="title"?u.querySelector("head > title"):null)}function hq(u,m,x){if(x===1||m.itemProp!=null)return!1;switch(u){case"meta":case"title":return!0;case"style":if(typeof m.precedence!="string"||typeof m.href!="string"||m.href==="")break;return!0;case"link":if(typeof m.rel!="string"||typeof m.href!="string"||m.href===""||m.onLoad||m.onError)break;switch(m.rel){case"stylesheet":return u=m.disabled,typeof m.precedence=="string"&&u==null;default:return!0}case"script":if(m.async&&typeof m.async!="function"&&typeof m.async!="symbol"&&!m.onLoad&&!m.onError&&m.src&&typeof m.src=="string")return!0}return!1}function X5(u){return!(u.type==="stylesheet"&&(u.state.loading&3)===0)}var Jp=null;function fq(){}function mq(u,m,x){if(Jp===null)throw Error(a(475));var N=Jp;if(m.type==="stylesheet"&&(typeof x.media!="string"||matchMedia(x.media).matches!==!1)&&(m.state.loading&4)===0){if(m.instance===null){var L=Lf(x.href),W=u.querySelector(Kp(L));if(W){u=W._p,u!==null&&typeof u=="object"&&typeof u.then=="function"&&(N.count++,N=M_.bind(N),u.then(N,N)),m.state.loading|=4,m.instance=W,vs(W);return}W=u.ownerDocument||u,x=W5(x),(L=vc.get(L))&&yw(x,L),W=W.createElement("link"),vs(W);var _e=W;_e._p=new Promise(function(Me,rt){_e.onload=Me,_e.onerror=rt}),Zi(W,"link",x),m.instance=W}N.stylesheets===null&&(N.stylesheets=new Map),N.stylesheets.set(m,u),(u=m.state.preload)&&(m.state.loading&3)===0&&(N.count++,m=M_.bind(N),u.addEventListener("load",m),u.addEventListener("error",m))}}function pq(){if(Jp===null)throw Error(a(475));var u=Jp;return u.stylesheets&&u.count===0&&jw(u,u.stylesheets),0<u.count?function(m){var x=setTimeout(function(){if(u.stylesheets&&jw(u,u.stylesheets),u.unsuspend){var N=u.unsuspend;u.unsuspend=null,N()}},6e4);return u.unsuspend=m,function(){u.unsuspend=null,clearTimeout(x)}}:null}function M_(){if(this.count--,this.count===0){if(this.stylesheets)jw(this,this.stylesheets);else if(this.unsuspend){var u=this.unsuspend;this.unsuspend=null,u()}}}var R_=null;function jw(u,m){u.stylesheets=null,u.unsuspend!==null&&(u.count++,R_=new Map,m.forEach(gq,u),R_=null,M_.call(u))}function gq(u,m){if(!(m.state.loading&4)){var x=R_.get(u);if(x)var N=x.get(null);else{x=new Map,R_.set(u,x);for(var L=u.querySelectorAll("link[data-precedence],style[data-precedence]"),W=0;W<L.length;W++){var _e=L[W];(_e.nodeName==="LINK"||_e.getAttribute("media")!=="not all")&&(x.set(_e.dataset.precedence,_e),N=_e)}N&&x.set(null,N)}L=m.instance,_e=L.getAttribute("data-precedence"),W=x.get(_e)||N,W===N&&x.set(null,L),x.set(_e,L),this.count++,N=M_.bind(this),L.addEventListener("load",N),L.addEventListener("error",N),W?W.parentNode.insertBefore(L,W.nextSibling):(u=u.nodeType===9?u.head:u,u.insertBefore(L,u.firstChild)),m.state.loading|=4}}var e1={$$typeof:R,Provider:null,Consumer:null,_currentValue:ee,_currentValue2:ee,_threadCount:0};function _q(u,m,x,N,L,W,_e,Me){this.tag=1,this.containerInfo=u,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=yt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yt(0),this.hiddenUpdates=yt(null),this.identifierPrefix=N,this.onUncaughtError=L,this.onCaughtError=W,this.onRecoverableError=_e,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Me,this.incompleteTransitions=new Map}function K5(u,m,x,N,L,W,_e,Me,rt,Et,en,un){return u=new _q(u,m,x,_e,Me,rt,Et,un),m=1,W===!0&&(m|=24),W=Uo(3,null,null,m),u.current=W,W.stateNode=u,m=a2(),m.refCount++,u.pooledCache=m,m.refCount++,W.memoizedState={element:N,isDehydrated:x,cache:m},c2(W),u}function Z5(u){return u?(u=pf,u):pf}function J5(u,m,x,N,L,W){L=Z5(L),N.context===null?N.context=L:N.pendingContext=L,N=qu(m),N.payload={element:x},W=W===void 0?null:W,W!==null&&(N.callback=W),x=Vu(u,N,m),x!==null&&(Xo(x,u,m),Tp(x,u,m))}function ek(u,m){if(u=u.memoizedState,u!==null&&u.dehydrated!==null){var x=u.retryLane;u.retryLane=x!==0&&x<m?x:m}}function Cw(u,m){ek(u,m),(u=u.alternate)&&ek(u,m)}function tk(u){if(u.tag===13){var m=mf(u,67108864);m!==null&&Xo(m,u,67108864),Cw(u,67108864)}}var B_=!0;function vq(u,m,x,N){var L=V.T;V.T=null;var W=M.p;try{M.p=2,Sw(u,m,x,N)}finally{M.p=W,V.T=L}}function xq(u,m,x,N){var L=V.T;V.T=null;var W=M.p;try{M.p=8,Sw(u,m,x,N)}finally{M.p=W,V.T=L}}function Sw(u,m,x,N){if(B_){var L=Nw(N);if(L===null)hw(u,m,N,O_,x),sk(u,N);else if(yq(L,u,m,x,N))N.stopPropagation();else if(sk(u,N),m&4&&-1<bq.indexOf(u)){for(;L!==null;){var W=Na(L);if(W!==null)switch(W.tag){case 3:if(W=W.stateNode,W.current.memoizedState.isDehydrated){var _e=Ye(W.pendingLanes);if(_e!==0){var Me=W;for(Me.pendingLanes|=2,Me.entangledLanes|=2;_e;){var rt=1<<31-Pe(_e);Me.entanglements[1]|=rt,_e&=~rt}_l(W),(fr&6)===0&&(x_=ce()+500,Yp(0))}}break;case 13:Me=mf(W,2),Me!==null&&Xo(Me,W,2),y_(),Cw(W,2)}if(W=Nw(N),W===null&&hw(u,m,N,O_,x),W===L)break;L=W}L!==null&&N.stopPropagation()}else hw(u,m,N,null,x)}}function Nw(u){return u=gn(u),kw(u)}var O_=null;function kw(u){if(O_=null,u=Vn(u),u!==null){var m=i(u);if(m===null)u=null;else{var x=m.tag;if(x===13){if(u=o(m),u!==null)return u;u=null}else if(x===3){if(m.stateNode.current.memoizedState.isDehydrated)return m.tag===3?m.stateNode.containerInfo:null;u=null}else m!==u&&(u=null)}}return O_=u,null}function nk(u){switch(u){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Re()){case Ae:return 2;case ie:return 8;case ge:case be:return 32;case Fe:return 268435456;default:return 32}default:return 32}}var Iw=!1,nd=null,sd=null,ad=null,t1=new Map,n1=new Map,rd=[],bq="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function sk(u,m){switch(u){case"focusin":case"focusout":nd=null;break;case"dragenter":case"dragleave":sd=null;break;case"mouseover":case"mouseout":ad=null;break;case"pointerover":case"pointerout":t1.delete(m.pointerId);break;case"gotpointercapture":case"lostpointercapture":n1.delete(m.pointerId)}}function s1(u,m,x,N,L,W){return u===null||u.nativeEvent!==W?(u={blockedOn:m,domEventName:x,eventSystemFlags:N,nativeEvent:W,targetContainers:[L]},m!==null&&(m=Na(m),m!==null&&tk(m)),u):(u.eventSystemFlags|=N,m=u.targetContainers,L!==null&&m.indexOf(L)===-1&&m.push(L),u)}function yq(u,m,x,N,L){switch(m){case"focusin":return nd=s1(nd,u,m,x,N,L),!0;case"dragenter":return sd=s1(sd,u,m,x,N,L),!0;case"mouseover":return ad=s1(ad,u,m,x,N,L),!0;case"pointerover":var W=L.pointerId;return t1.set(W,s1(t1.get(W)||null,u,m,x,N,L)),!0;case"gotpointercapture":return W=L.pointerId,n1.set(W,s1(n1.get(W)||null,u,m,x,N,L)),!0}return!1}function ak(u){var m=Vn(u.target);if(m!==null){var x=i(m);if(x!==null){if(m=x.tag,m===13){if(m=o(x),m!==null){u.blockedOn=m,Lt(u.priority,function(){if(x.tag===13){var N=Qo();N=It(N);var L=mf(x,N);L!==null&&Xo(L,x,N),Cw(x,N)}});return}}else if(m===3&&x.stateNode.current.memoizedState.isDehydrated){u.blockedOn=x.tag===3?x.stateNode.containerInfo:null;return}}}u.blockedOn=null}function L_(u){if(u.blockedOn!==null)return!1;for(var m=u.targetContainers;0<m.length;){var x=Nw(u.nativeEvent);if(x===null){x=u.nativeEvent;var N=new x.constructor(x.type,x);In=N,x.target.dispatchEvent(N),In=null}else return m=Na(x),m!==null&&tk(m),u.blockedOn=x,!1;m.shift()}return!0}function rk(u,m,x){L_(u)&&x.delete(m)}function wq(){Iw=!1,nd!==null&&L_(nd)&&(nd=null),sd!==null&&L_(sd)&&(sd=null),ad!==null&&L_(ad)&&(ad=null),t1.forEach(rk),n1.forEach(rk)}function $_(u,m){u.blockedOn===m&&(u.blockedOn=null,Iw||(Iw=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,wq)))}var P_=null;function ik(u){P_!==u&&(P_=u,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){P_===u&&(P_=null);for(var m=0;m<u.length;m+=3){var x=u[m],N=u[m+1],L=u[m+2];if(typeof N!="function"){if(kw(N||x)===null)continue;break}var W=Na(x);W!==null&&(u.splice(m,3),m-=3,k2(W,{pending:!0,data:L,method:x.method,action:N},N,L))}}))}function a1(u){function m(rt){return $_(rt,u)}nd!==null&&$_(nd,u),sd!==null&&$_(sd,u),ad!==null&&$_(ad,u),t1.forEach(m),n1.forEach(m);for(var x=0;x<rd.length;x++){var N=rd[x];N.blockedOn===u&&(N.blockedOn=null)}for(;0<rd.length&&(x=rd[0],x.blockedOn===null);)ak(x),x.blockedOn===null&&rd.shift();if(x=(u.ownerDocument||u).$$reactFormReplay,x!=null)for(N=0;N<x.length;N+=3){var L=x[N],W=x[N+1],_e=L[ss]||null;if(typeof W=="function")_e||ik(x);else if(_e){var Me=null;if(W&&W.hasAttribute("formAction")){if(L=W,_e=W[ss]||null)Me=_e.formAction;else if(kw(L)!==null)continue}else Me=_e.action;typeof Me=="function"?x[N+1]=Me:(x.splice(N,3),N-=3),ik(x)}}}function Ew(u){this._internalRoot=u}F_.prototype.render=Ew.prototype.render=function(u){var m=this._internalRoot;if(m===null)throw Error(a(409));var x=m.current,N=Qo();J5(x,N,u,m,null,null)},F_.prototype.unmount=Ew.prototype.unmount=function(){var u=this._internalRoot;if(u!==null){this._internalRoot=null;var m=u.containerInfo;J5(u.current,2,null,u,null,null),y_(),m[hs]=null}};function F_(u){this._internalRoot=u}F_.prototype.unstable_scheduleHydration=function(u){if(u){var m=Rt();u={blockedOn:null,target:u,priority:m};for(var x=0;x<rd.length&&m!==0&&m<rd[x].priority;x++);rd.splice(x,0,u),x===0&&ak(u)}};var ok=t.version;if(ok!=="19.1.0")throw Error(a(527,ok,"19.1.0"));M.findDOMNode=function(u){var m=u._reactInternals;if(m===void 0)throw typeof u.render=="function"?Error(a(188)):(u=Object.keys(u).join(","),Error(a(268,u)));return u=l(m),u=u!==null?d(u):null,u=u===null?null:u.stateNode,u};var jq={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:V,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var H_=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!H_.isDisabled&&H_.supportsFiber)try{tt=H_.inject(jq),he=H_}catch{}}return i1.createRoot=function(u,m){if(!r(u))throw Error(a(299));var x=!1,N="",L=j8,W=C8,_e=S8,Me=null;return m!=null&&(m.unstable_strictMode===!0&&(x=!0),m.identifierPrefix!==void 0&&(N=m.identifierPrefix),m.onUncaughtError!==void 0&&(L=m.onUncaughtError),m.onCaughtError!==void 0&&(W=m.onCaughtError),m.onRecoverableError!==void 0&&(_e=m.onRecoverableError),m.unstable_transitionCallbacks!==void 0&&(Me=m.unstable_transitionCallbacks)),m=K5(u,1,!1,null,null,x,N,L,W,_e,Me,null),u[hs]=m.current,dw(u),new Ew(m)},i1.hydrateRoot=function(u,m,x){if(!r(u))throw Error(a(299));var N=!1,L="",W=j8,_e=C8,Me=S8,rt=null,Et=null;return x!=null&&(x.unstable_strictMode===!0&&(N=!0),x.identifierPrefix!==void 0&&(L=x.identifierPrefix),x.onUncaughtError!==void 0&&(W=x.onUncaughtError),x.onCaughtError!==void 0&&(_e=x.onCaughtError),x.onRecoverableError!==void 0&&(Me=x.onRecoverableError),x.unstable_transitionCallbacks!==void 0&&(rt=x.unstable_transitionCallbacks),x.formState!==void 0&&(Et=x.formState)),m=K5(u,1,!0,m,x??null,N,L,W,_e,Me,rt,Et),m.context=Z5(null),x=m.current,N=Qo(),N=It(N),L=qu(N),L.callback=null,Vu(x,L,N),x=N,m.current.lanes=x,ln(m,x),_l(m),u[hs]=m.current,dw(u),new F_(m)},i1.version="19.1.0",i1}var _k;function Bq(){if(_k)return Aw.exports;_k=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Aw.exports=Rq(),Aw.exports}var Oq=Bq(),o1={},vk;function Lq(){if(vk)return o1;vk=1,Object.defineProperty(o1,"__esModule",{value:!0}),o1.parse=o,o1.serialize=d;const e=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,a=/^[\u0020-\u003A\u003D-\u007E]*$/,r=Object.prototype.toString,i=(()=>{const b=function(){};return b.prototype=Object.create(null),b})();function o(b,w){const C=new i,S=b.length;if(S<2)return C;const k=(w==null?void 0:w.decode)||f;let E=0;do{const D=b.indexOf("=",E);if(D===-1)break;const R=b.indexOf(";",E),P=R===-1?S:R;if(D>P){E=b.lastIndexOf(";",D-1)+1;continue}const B=c(b,E,D),O=l(b,D,B),$=b.slice(B,O);if(C[$]===void 0){let U=c(b,D+1,P),F=l(b,P,U);const H=k(b.slice(U,F));C[$]=H}E=P+1}while(E<S);return C}function c(b,w,C){do{const S=b.charCodeAt(w);if(S!==32&&S!==9)return w}while(++w<C);return C}function l(b,w,C){for(;w>C;){const S=b.charCodeAt(--w);if(S!==32&&S!==9)return w+1}return C}function d(b,w,C){const S=(C==null?void 0:C.encode)||encodeURIComponent;if(!e.test(b))throw new TypeError(`argument name is invalid: ${b}`);const k=S(w);if(!t.test(k))throw new TypeError(`argument val is invalid: ${w}`);let E=b+"="+k;if(!C)return E;if(C.maxAge!==void 0){if(!Number.isInteger(C.maxAge))throw new TypeError(`option maxAge is invalid: ${C.maxAge}`);E+="; Max-Age="+C.maxAge}if(C.domain){if(!n.test(C.domain))throw new TypeError(`option domain is invalid: ${C.domain}`);E+="; Domain="+C.domain}if(C.path){if(!a.test(C.path))throw new TypeError(`option path is invalid: ${C.path}`);E+="; Path="+C.path}if(C.expires){if(!g(C.expires)||!Number.isFinite(C.expires.valueOf()))throw new TypeError(`option expires is invalid: ${C.expires}`);E+="; Expires="+C.expires.toUTCString()}if(C.httpOnly&&(E+="; HttpOnly"),C.secure&&(E+="; Secure"),C.partitioned&&(E+="; Partitioned"),C.priority)switch(typeof C.priority=="string"?C.priority.toLowerCase():void 0){case"low":E+="; Priority=Low";break;case"medium":E+="; Priority=Medium";break;case"high":E+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${C.priority}`)}if(C.sameSite)switch(typeof C.sameSite=="string"?C.sameSite.toLowerCase():C.sameSite){case!0:case"strict":E+="; SameSite=Strict";break;case"lax":E+="; SameSite=Lax";break;case"none":E+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${C.sameSite}`)}return E}function f(b){if(b.indexOf("%")===-1)return b;try{return decodeURIComponent(b)}catch{return b}}function g(b){return r.call(b)==="[object Date]"}return o1}Lq();var xk="popstate";function $q(e={}){function t(a,r){let{pathname:i,search:o,hash:c}=a.location;return RC("",{pathname:i,search:o,hash:c},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function n(a,r){return typeof r=="string"?r:Ng(r)}return Fq(t,n,null,e)}function Qr(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Bc(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Pq(){return Math.random().toString(36).substring(2,10)}function bk(e,t){return{usr:e.state,key:e.key,idx:t}}function RC(e,t,n=null,a){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Km(t):t,state:n,key:t&&t.key||a||Pq()}}function Ng({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Km(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let a=e.indexOf("?");a>=0&&(t.search=e.substring(a),e=e.substring(0,a)),e&&(t.pathname=e)}return t}function Fq(e,t,n,a={}){let{window:r=document.defaultView,v5Compat:i=!1}=a,o=r.history,c="POP",l=null,d=f();d==null&&(d=0,o.replaceState({...o.state,idx:d},""));function f(){return(o.state||{idx:null}).idx}function g(){c="POP";let k=f(),E=k==null?null:k-d;d=k,l&&l({action:c,location:S.location,delta:E})}function b(k,E){c="PUSH";let D=RC(S.location,k,E);d=f()+1;let R=bk(D,d),P=S.createHref(D);try{o.pushState(R,"",P)}catch(B){if(B instanceof DOMException&&B.name==="DataCloneError")throw B;r.location.assign(P)}i&&l&&l({action:c,location:S.location,delta:1})}function w(k,E){c="REPLACE";let D=RC(S.location,k,E);d=f();let R=bk(D,d),P=S.createHref(D);o.replaceState(R,"",P),i&&l&&l({action:c,location:S.location,delta:0})}function C(k){let E=r.location.origin!=="null"?r.location.origin:r.location.href,D=typeof k=="string"?k:Ng(k);return D=D.replace(/ $/,"%20"),Qr(E,`No window.location.(origin|href) available to create URL for href: ${D}`),new URL(D,E)}let S={get action(){return c},get location(){return e(r,o)},listen(k){if(l)throw new Error("A history only accepts one active listener");return r.addEventListener(xk,g),l=k,()=>{r.removeEventListener(xk,g),l=null}},createHref(k){return t(r,k)},createURL:C,encodeLocation(k){let E=C(k);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:b,replace:w,go(k){return o.go(k)}};return S}function EA(e,t,n="/"){return Hq(e,t,n,!1)}function Hq(e,t,n,a){let r=typeof t=="string"?Km(t):t,i=Nu(r.pathname||"/",n);if(i==null)return null;let o=TA(e);qq(o);let c=null;for(let l=0;c==null&&l<o.length;++l){let d=Jq(i);c=Kq(o[l],d,a)}return c}function TA(e,t=[],n=[],a=""){let r=(i,o,c)=>{let l={relativePath:c===void 0?i.path||"":c,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(Qr(l.relativePath.startsWith(a),`Absolute route path "${l.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),l.relativePath=l.relativePath.slice(a.length));let d=vu([a,l.relativePath]),f=n.concat(l);i.children&&i.children.length>0&&(Qr(i.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${d}".`),TA(i.children,t,f,d)),!(i.path==null&&!i.index)&&t.push({path:d,score:Qq(d,i.index),routesMeta:f})};return e.forEach((i,o)=>{var c;if(i.path===""||!((c=i.path)!=null&&c.includes("?")))r(i,o);else for(let l of DA(i.path))r(i,o,l)}),t}function DA(e){let t=e.split("/");if(t.length===0)return[];let[n,...a]=t,r=n.endsWith("?"),i=n.replace(/\?$/,"");if(a.length===0)return r?[i,""]:[i];let o=DA(a.join("/")),c=[];return c.push(...o.map(l=>l===""?i:[i,l].join("/"))),r&&c.push(...o),c.map(l=>e.startsWith("/")&&l===""?"/":l)}function qq(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:Xq(t.routesMeta.map(a=>a.childrenIndex),n.routesMeta.map(a=>a.childrenIndex)))}var Vq=/^:[\w-]+$/,zq=3,Uq=2,Wq=1,Yq=10,Gq=-2,yk=e=>e==="*";function Qq(e,t){let n=e.split("/"),a=n.length;return n.some(yk)&&(a+=Gq),t&&(a+=Uq),n.filter(r=>!yk(r)).reduce((r,i)=>r+(Vq.test(i)?zq:i===""?Wq:Yq),a)}function Xq(e,t){return e.length===t.length&&e.slice(0,-1).every((a,r)=>a===t[r])?e[e.length-1]-t[t.length-1]:0}function Kq(e,t,n=!1){let{routesMeta:a}=e,r={},i="/",o=[];for(let c=0;c<a.length;++c){let l=a[c],d=c===a.length-1,f=i==="/"?t:t.slice(i.length)||"/",g=Cx({path:l.relativePath,caseSensitive:l.caseSensitive,end:d},f),b=l.route;if(!g&&d&&n&&!a[a.length-1].route.index&&(g=Cx({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},f)),!g)return null;Object.assign(r,g.params),o.push({params:r,pathname:vu([i,g.pathname]),pathnameBase:sV(vu([i,g.pathnameBase])),route:b}),g.pathnameBase!=="/"&&(i=vu([i,g.pathnameBase]))}return o}function Cx(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,a]=Zq(e.path,e.caseSensitive,e.end),r=t.match(n);if(!r)return null;let i=r[0],o=i.replace(/(.)\/+$/,"$1"),c=r.slice(1);return{params:a.reduce((d,{paramName:f,isOptional:g},b)=>{if(f==="*"){let C=c[b]||"";o=i.slice(0,i.length-C.length).replace(/(.)\/+$/,"$1")}const w=c[b];return g&&!w?d[f]=void 0:d[f]=(w||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:o,pattern:e}}function Zq(e,t=!1,n=!0){Bc(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let a=[],r="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,c,l)=>(a.push({paramName:c,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(a.push({paramName:"*"}),r+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":e!==""&&e!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,t?void 0:"i"),a]}function Jq(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Bc(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Nu(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,a=e.charAt(n);return a&&a!=="/"?null:e.slice(n)||"/"}function eV(e,t="/"){let{pathname:n,search:a="",hash:r=""}=typeof e=="string"?Km(e):e;return{pathname:n?n.startsWith("/")?n:tV(n,t):t,search:aV(a),hash:rV(r)}}function tV(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(r=>{r===".."?n.length>1&&n.pop():r!=="."&&n.push(r)}),n.length>1?n.join("/"):"/"}function Ow(e,t,n,a){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function nV(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function JN(e){let t=nV(e);return t.map((n,a)=>a===t.length-1?n.pathname:n.pathnameBase)}function e3(e,t,n,a=!1){let r;typeof e=="string"?r=Km(e):(r={...e},Qr(!r.pathname||!r.pathname.includes("?"),Ow("?","pathname","search",r)),Qr(!r.pathname||!r.pathname.includes("#"),Ow("#","pathname","hash",r)),Qr(!r.search||!r.search.includes("#"),Ow("#","search","hash",r)));let i=e===""||r.pathname==="",o=i?"/":r.pathname,c;if(o==null)c=n;else{let g=t.length-1;if(!a&&o.startsWith("..")){let b=o.split("/");for(;b[0]==="..";)b.shift(),g-=1;r.pathname=b.join("/")}c=g>=0?t[g]:"/"}let l=eV(r,c),d=o&&o!=="/"&&o.endsWith("/"),f=(i||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(d||f)&&(l.pathname+="/"),l}var vu=e=>e.join("/").replace(/\/\/+/g,"/"),sV=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),aV=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,rV=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function iV(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var AA=["POST","PUT","PATCH","DELETE"];new Set(AA);var oV=["GET",...AA];new Set(oV);var Zm=_.createContext(null);Zm.displayName="DataRouter";var Ab=_.createContext(null);Ab.displayName="DataRouterState";var MA=_.createContext({isTransitioning:!1});MA.displayName="ViewTransition";var cV=_.createContext(new Map);cV.displayName="Fetchers";var lV=_.createContext(null);lV.displayName="Await";var cl=_.createContext(null);cl.displayName="Navigation";var i0=_.createContext(null);i0.displayName="Location";var $c=_.createContext({outlet:null,matches:[],isDataRoute:!1});$c.displayName="Route";var t3=_.createContext(null);t3.displayName="RouteError";function uV(e,{relative:t}={}){Qr(Jm(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:a}=_.useContext(cl),{hash:r,pathname:i,search:o}=o0(e,{relative:t}),c=i;return n!=="/"&&(c=i==="/"?n:vu([n,i])),a.createHref({pathname:c,search:o,hash:r})}function Jm(){return _.useContext(i0)!=null}function Kr(){return Qr(Jm(),"useLocation() may be used only in the context of a <Router> component."),_.useContext(i0).location}var RA="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function BA(e){_.useContext(cl).static||_.useLayoutEffect(e)}function Is(){let{isDataRoute:e}=_.useContext($c);return e?SV():dV()}function dV(){Qr(Jm(),"useNavigate() may be used only in the context of a <Router> component.");let e=_.useContext(Zm),{basename:t,navigator:n}=_.useContext(cl),{matches:a}=_.useContext($c),{pathname:r}=Kr(),i=JSON.stringify(JN(a)),o=_.useRef(!1);return BA(()=>{o.current=!0}),_.useCallback((l,d={})=>{if(Bc(o.current,RA),!o.current)return;if(typeof l=="number"){n.go(l);return}let f=e3(l,JSON.parse(i),r,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:vu([t,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[t,n,i,r,e])}var hV=_.createContext(null);function fV(e){let t=_.useContext($c).outlet;return t&&_.createElement(hV.Provider,{value:e},t)}function ha(){let{matches:e}=_.useContext($c),t=e[e.length-1];return t?t.params:{}}function o0(e,{relative:t}={}){let{matches:n}=_.useContext($c),{pathname:a}=Kr(),r=JSON.stringify(JN(n));return _.useMemo(()=>e3(e,JSON.parse(r),a,t==="path"),[e,r,a,t])}function mV(e,t){return OA(e,t)}function OA(e,t,n,a){var D;Qr(Jm(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:r,static:i}=_.useContext(cl),{matches:o}=_.useContext($c),c=o[o.length-1],l=c?c.params:{},d=c?c.pathname:"/",f=c?c.pathnameBase:"/",g=c&&c.route;{let R=g&&g.path||"";LA(d,!g||R.endsWith("*")||R.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${R}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${R}"> to <Route path="${R==="/"?"*":`${R}/*`}">.`)}let b=Kr(),w;if(t){let R=typeof t=="string"?Km(t):t;Qr(f==="/"||((D=R.pathname)==null?void 0:D.startsWith(f)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${f}" but pathname "${R.pathname}" was given in the \`location\` prop.`),w=R}else w=b;let C=w.pathname||"/",S=C;if(f!=="/"){let R=f.replace(/^\//,"").split("/");S="/"+C.replace(/^\//,"").split("/").slice(R.length).join("/")}let k=!i&&n&&n.matches&&n.matches.length>0?n.matches:EA(e,{pathname:S});Bc(g||k!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),Bc(k==null||k[k.length-1].route.element!==void 0||k[k.length-1].route.Component!==void 0||k[k.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let E=xV(k&&k.map(R=>Object.assign({},R,{params:Object.assign({},l,R.params),pathname:vu([f,r.encodeLocation?r.encodeLocation(R.pathname).pathname:R.pathname]),pathnameBase:R.pathnameBase==="/"?f:vu([f,r.encodeLocation?r.encodeLocation(R.pathnameBase).pathname:R.pathnameBase])})),o,n,a);return t&&E?_.createElement(i0.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...w},navigationType:"POP"}},E):E}function pV(){let e=CV(),t=iV(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,a="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:a},i={padding:"2px 4px",backgroundColor:a},o=null;return console.error("Error handled by React Router default ErrorBoundary:",e),o=_.createElement(_.Fragment,null,_.createElement("p",null," Hey developer "),_.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",_.createElement("code",{style:i},"ErrorBoundary")," or"," ",_.createElement("code",{style:i},"errorElement")," prop on your route.")),_.createElement(_.Fragment,null,_.createElement("h2",null,"Unexpected Application Error!"),_.createElement("h3",{style:{fontStyle:"italic"}},t),n?_.createElement("pre",{style:r},n):null,o)}var gV=_.createElement(pV,null),_V=class extends _.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?_.createElement($c.Provider,{value:this.props.routeContext},_.createElement(t3.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function vV({routeContext:e,match:t,children:n}){let a=_.useContext(Zm);return a&&a.static&&a.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=t.route.id),_.createElement($c.Provider,{value:e},n)}function xV(e,t=[],n=null,a=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let r=e,i=n==null?void 0:n.errors;if(i!=null){let l=r.findIndex(d=>d.route.id&&(i==null?void 0:i[d.route.id])!==void 0);Qr(l>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(i).join(",")}`),r=r.slice(0,Math.min(r.length,l+1))}let o=!1,c=-1;if(n)for(let l=0;l<r.length;l++){let d=r[l];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=l),d.route.id){let{loaderData:f,errors:g}=n,b=d.route.loader&&!f.hasOwnProperty(d.route.id)&&(!g||g[d.route.id]===void 0);if(d.route.lazy||b){o=!0,c>=0?r=r.slice(0,c+1):r=[r[0]];break}}}return r.reduceRight((l,d,f)=>{let g,b=!1,w=null,C=null;n&&(g=i&&d.route.id?i[d.route.id]:void 0,w=d.route.errorElement||gV,o&&(c<0&&f===0?(LA("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,C=null):c===f&&(b=!0,C=d.route.hydrateFallbackElement||null)));let S=t.concat(r.slice(0,f+1)),k=()=>{let E;return g?E=w:b?E=C:d.route.Component?E=_.createElement(d.route.Component,null):d.route.element?E=d.route.element:E=l,_.createElement(vV,{match:d,routeContext:{outlet:l,matches:S,isDataRoute:n!=null},children:E})};return n&&(d.route.ErrorBoundary||d.route.errorElement||f===0)?_.createElement(_V,{location:n.location,revalidation:n.revalidation,component:w,error:g,children:k(),routeContext:{outlet:null,matches:S,isDataRoute:!0}}):k()},null)}function n3(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function bV(e){let t=_.useContext(Zm);return Qr(t,n3(e)),t}function yV(e){let t=_.useContext(Ab);return Qr(t,n3(e)),t}function wV(e){let t=_.useContext($c);return Qr(t,n3(e)),t}function s3(e){let t=wV(e),n=t.matches[t.matches.length-1];return Qr(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function jV(){return s3("useRouteId")}function CV(){var a;let e=_.useContext(t3),t=yV("useRouteError"),n=s3("useRouteError");return e!==void 0?e:(a=t.errors)==null?void 0:a[n]}function SV(){let{router:e}=bV("useNavigate"),t=s3("useNavigate"),n=_.useRef(!1);return BA(()=>{n.current=!0}),_.useCallback(async(r,i={})=>{Bc(n.current,RA),n.current&&(typeof r=="number"?e.navigate(r):await e.navigate(r,{fromRouteId:t,...i}))},[e,t])}var wk={};function LA(e,t,n){!t&&!wk[e]&&(wk[e]=!0,Bc(!1,n))}_.memo(NV);function NV({routes:e,future:t,state:n}){return OA(e,void 0,n,t)}function Sx({to:e,replace:t,state:n,relative:a}){Qr(Jm(),"<Navigate> may be used only in the context of a <Router> component.");let{static:r}=_.useContext(cl);Bc(!r,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:i}=_.useContext($c),{pathname:o}=Kr(),c=Is(),l=e3(e,JN(i),o,a==="path"),d=JSON.stringify(l);return _.useEffect(()=>{c(JSON.parse(d),{replace:t,state:n,relative:a})},[c,d,a,t,n]),null}function kg(e){return fV(e.context)}function $a(e){Qr(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function kV({basename:e="/",children:t=null,location:n,navigationType:a="POP",navigator:r,static:i=!1}){Qr(!Jm(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=e.replace(/^\/*/,"/"),c=_.useMemo(()=>({basename:o,navigator:r,static:i,future:{}}),[o,r,i]);typeof n=="string"&&(n=Km(n));let{pathname:l="/",search:d="",hash:f="",state:g=null,key:b="default"}=n,w=_.useMemo(()=>{let C=Nu(l,o);return C==null?null:{location:{pathname:C,search:d,hash:f,state:g,key:b},navigationType:a}},[o,l,d,f,g,b,a]);return Bc(w!=null,`<Router basename="${o}"> is not able to match the URL "${l}${d}${f}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:_.createElement(cl.Provider,{value:c},_.createElement(i0.Provider,{children:t,value:w}))}function jk({children:e,location:t}){return mV(BC(e),t)}function BC(e,t=[]){let n=[];return _.Children.forEach(e,(a,r)=>{if(!_.isValidElement(a))return;let i=[...t,r];if(a.type===_.Fragment){n.push.apply(n,BC(a.props.children,i));return}Qr(a.type===$a,`[${typeof a.type=="string"?a.type:a.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Qr(!a.props.index||!a.props.children,"An index route cannot have child routes.");let o={id:a.props.id||i.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,hydrateFallbackElement:a.props.hydrateFallbackElement,HydrateFallback:a.props.HydrateFallback,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.hasErrorBoundary===!0||a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(o.children=BC(a.props.children,i)),n.push(o)}),n}var Mv="get",Rv="application/x-www-form-urlencoded";function Mb(e){return e!=null&&typeof e.tagName=="string"}function IV(e){return Mb(e)&&e.tagName.toLowerCase()==="button"}function EV(e){return Mb(e)&&e.tagName.toLowerCase()==="form"}function TV(e){return Mb(e)&&e.tagName.toLowerCase()==="input"}function DV(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function AV(e,t){return e.button===0&&(!t||t==="_self")&&!DV(e)}function OC(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let a=e[n];return t.concat(Array.isArray(a)?a.map(r=>[n,r]):[[n,a]])},[]))}function MV(e,t){let n=OC(e);return t&&t.forEach((a,r)=>{n.has(r)||t.getAll(r).forEach(i=>{n.append(r,i)})}),n}var q_=null;function RV(){if(q_===null)try{new FormData(document.createElement("form"),0),q_=!1}catch{q_=!0}return q_}var BV=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Lw(e){return e!=null&&!BV.has(e)?(Bc(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Rv}"`),null):e}function OV(e,t){let n,a,r,i,o;if(EV(e)){let c=e.getAttribute("action");a=c?Nu(c,t):null,n=e.getAttribute("method")||Mv,r=Lw(e.getAttribute("enctype"))||Rv,i=new FormData(e)}else if(IV(e)||TV(e)&&(e.type==="submit"||e.type==="image")){let c=e.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=e.getAttribute("formaction")||c.getAttribute("action");if(a=l?Nu(l,t):null,n=e.getAttribute("formmethod")||c.getAttribute("method")||Mv,r=Lw(e.getAttribute("formenctype"))||Lw(c.getAttribute("enctype"))||Rv,i=new FormData(c,e),!RV()){let{name:d,type:f,value:g}=e;if(f==="image"){let b=d?`${d}.`:"";i.append(`${b}x`,"0"),i.append(`${b}y`,"0")}else d&&i.append(d,g)}}else{if(Mb(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Mv,a=null,r=Rv,o=e}return i&&r==="text/plain"&&(o=i,i=void 0),{action:a,method:n.toLowerCase(),encType:r,formData:i,body:o}}function a3(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}async function LV(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function $V(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function PV(e,t,n){let a=await Promise.all(e.map(async r=>{let i=t.routes[r.route.id];if(i){let o=await LV(i,n);return o.links?o.links():[]}return[]}));return VV(a.flat(1).filter($V).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function Ck(e,t,n,a,r,i){let o=(l,d)=>n[d]?l.route.id!==n[d].route.id:!0,c=(l,d)=>{var f;return n[d].pathname!==l.pathname||((f=n[d].route.path)==null?void 0:f.endsWith("*"))&&n[d].params["*"]!==l.params["*"]};return i==="assets"?t.filter((l,d)=>o(l,d)||c(l,d)):i==="data"?t.filter((l,d)=>{var g;let f=a.routes[l.route.id];if(!f||!f.hasLoader)return!1;if(o(l,d)||c(l,d))return!0;if(l.route.shouldRevalidate){let b=l.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:((g=n[0])==null?void 0:g.params)||{},nextUrl:new URL(e,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function FV(e,t,{includeHydrateFallback:n}={}){return HV(e.map(a=>{let r=t.routes[a.route.id];if(!r)return[];let i=[r.module];return r.clientActionModule&&(i=i.concat(r.clientActionModule)),r.clientLoaderModule&&(i=i.concat(r.clientLoaderModule)),n&&r.hydrateFallbackModule&&(i=i.concat(r.hydrateFallbackModule)),r.imports&&(i=i.concat(r.imports)),i}).flat(1))}function HV(e){return[...new Set(e)]}function qV(e){let t={},n=Object.keys(e).sort();for(let a of n)t[a]=e[a];return t}function VV(e,t){let n=new Set;return new Set(t),e.reduce((a,r)=>{let i=JSON.stringify(qV(r));return n.has(i)||(n.add(i),a.push({key:i,link:r})),a},[])}var zV=new Set([100,101,204,205]);function UV(e,t){let n=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n.pathname==="/"?n.pathname="_root.data":t&&Nu(n.pathname,t)==="/"?n.pathname=`${t.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function $A(){let e=_.useContext(Zm);return a3(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function WV(){let e=_.useContext(Ab);return a3(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var r3=_.createContext(void 0);r3.displayName="FrameworkContext";function PA(){let e=_.useContext(r3);return a3(e,"You must render this element inside a <HydratedRouter> element"),e}function YV(e,t){let n=_.useContext(r3),[a,r]=_.useState(!1),[i,o]=_.useState(!1),{onFocus:c,onBlur:l,onMouseEnter:d,onMouseLeave:f,onTouchStart:g}=t,b=_.useRef(null);_.useEffect(()=>{if(e==="render"&&o(!0),e==="viewport"){let S=E=>{E.forEach(D=>{o(D.isIntersecting)})},k=new IntersectionObserver(S,{threshold:.5});return b.current&&k.observe(b.current),()=>{k.disconnect()}}},[e]),_.useEffect(()=>{if(a){let S=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(S)}}},[a]);let w=()=>{r(!0)},C=()=>{r(!1),o(!1)};return n?e!=="intent"?[i,b,{}]:[i,b,{onFocus:c1(c,w),onBlur:c1(l,C),onMouseEnter:c1(d,w),onMouseLeave:c1(f,C),onTouchStart:c1(g,w)}]:[!1,b,{}]}function c1(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function GV({page:e,...t}){let{router:n}=$A(),a=_.useMemo(()=>EA(n.routes,e,n.basename),[n.routes,e,n.basename]);return a?_.createElement(XV,{page:e,matches:a,...t}):null}function QV(e){let{manifest:t,routeModules:n}=PA(),[a,r]=_.useState([]);return _.useEffect(()=>{let i=!1;return PV(e,t,n).then(o=>{i||r(o)}),()=>{i=!0}},[e,t,n]),a}function XV({page:e,matches:t,...n}){let a=Kr(),{manifest:r,routeModules:i}=PA(),{basename:o}=$A(),{loaderData:c,matches:l}=WV(),d=_.useMemo(()=>Ck(e,t,l,r,a,"data"),[e,t,l,r,a]),f=_.useMemo(()=>Ck(e,t,l,r,a,"assets"),[e,t,l,r,a]),g=_.useMemo(()=>{if(e===a.pathname+a.search+a.hash)return[];let C=new Set,S=!1;if(t.forEach(E=>{var R;let D=r.routes[E.route.id];!D||!D.hasLoader||(!d.some(P=>P.route.id===E.route.id)&&E.route.id in c&&((R=i[E.route.id])!=null&&R.shouldRevalidate)||D.hasClientLoader?S=!0:C.add(E.route.id))}),C.size===0)return[];let k=UV(e,o);return S&&C.size>0&&k.searchParams.set("_routes",t.filter(E=>C.has(E.route.id)).map(E=>E.route.id).join(",")),[k.pathname+k.search]},[o,c,a,r,d,t,e,i]),b=_.useMemo(()=>FV(f,r),[f,r]),w=QV(f);return _.createElement(_.Fragment,null,g.map(C=>_.createElement("link",{key:C,rel:"prefetch",as:"fetch",href:C,...n})),b.map(C=>_.createElement("link",{key:C,rel:"modulepreload",href:C,...n})),w.map(({key:C,link:S})=>_.createElement("link",{key:C,...S})))}function KV(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var FA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{FA&&(window.__reactRouterVersion="7.5.2")}catch{}function ZV({basename:e,children:t,window:n}){let a=_.useRef();a.current==null&&(a.current=$q({window:n,v5Compat:!0}));let r=a.current,[i,o]=_.useState({action:r.action,location:r.location}),c=_.useCallback(l=>{_.startTransition(()=>o(l))},[o]);return _.useLayoutEffect(()=>r.listen(c),[r,c]),_.createElement(kV,{basename:e,children:t,location:i.location,navigationType:i.action,navigator:r})}var HA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Pa=_.forwardRef(function({onClick:t,discover:n="render",prefetch:a="none",relative:r,reloadDocument:i,replace:o,state:c,target:l,to:d,preventScrollReset:f,viewTransition:g,...b},w){let{basename:C}=_.useContext(cl),S=typeof d=="string"&&HA.test(d),k,E=!1;if(typeof d=="string"&&S&&(k=d,FA))try{let F=new URL(window.location.href),H=d.startsWith("//")?new URL(F.protocol+d):new URL(d),se=Nu(H.pathname,C);H.origin===F.origin&&se!=null?d=se+H.search+H.hash:E=!0}catch{Bc(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let D=uV(d,{relative:r}),[R,P,B]=YV(a,b),O=nz(d,{replace:o,state:c,target:l,preventScrollReset:f,relative:r,viewTransition:g});function $(F){t&&t(F),F.defaultPrevented||O(F)}let U=_.createElement("a",{...b,...B,href:k||D,onClick:E||i?t:$,ref:KV(w,P),target:l,"data-discover":!S&&n==="render"?"true":void 0});return R&&!S?_.createElement(_.Fragment,null,U,_.createElement(GV,{page:D})):U});Pa.displayName="Link";var JV=_.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:a="",end:r=!1,style:i,to:o,viewTransition:c,children:l,...d},f){let g=o0(o,{relative:d.relative}),b=Kr(),w=_.useContext(Ab),{navigator:C,basename:S}=_.useContext(cl),k=w!=null&&oz(g)&&c===!0,E=C.encodeLocation?C.encodeLocation(g).pathname:g.pathname,D=b.pathname,R=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;n||(D=D.toLowerCase(),R=R?R.toLowerCase():null,E=E.toLowerCase()),R&&S&&(R=Nu(R,S)||R);const P=E!=="/"&&E.endsWith("/")?E.length-1:E.length;let B=D===E||!r&&D.startsWith(E)&&D.charAt(P)==="/",O=R!=null&&(R===E||!r&&R.startsWith(E)&&R.charAt(E.length)==="/"),$={isActive:B,isPending:O,isTransitioning:k},U=B?t:void 0,F;typeof a=="function"?F=a($):F=[a,B?"active":null,O?"pending":null,k?"transitioning":null].filter(Boolean).join(" ");let H=typeof i=="function"?i($):i;return _.createElement(Pa,{...d,"aria-current":U,className:F,ref:f,style:H,to:o,viewTransition:c},typeof l=="function"?l($):l)});JV.displayName="NavLink";var ez=_.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:a,replace:r,state:i,method:o=Mv,action:c,onSubmit:l,relative:d,preventScrollReset:f,viewTransition:g,...b},w)=>{let C=rz(),S=iz(c,{relative:d}),k=o.toLowerCase()==="get"?"get":"post",E=typeof c=="string"&&HA.test(c),D=R=>{if(l&&l(R),R.defaultPrevented)return;R.preventDefault();let P=R.nativeEvent.submitter,B=(P==null?void 0:P.getAttribute("formmethod"))||o;C(P||R.currentTarget,{fetcherKey:t,method:B,navigate:n,replace:r,state:i,relative:d,preventScrollReset:f,viewTransition:g})};return _.createElement("form",{ref:w,method:k,action:S,onSubmit:a?l:D,...b,"data-discover":!E&&e==="render"?"true":void 0})});ez.displayName="Form";function tz(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function qA(e){let t=_.useContext(Zm);return Qr(t,tz(e)),t}function nz(e,{target:t,replace:n,state:a,preventScrollReset:r,relative:i,viewTransition:o}={}){let c=Is(),l=Kr(),d=o0(e,{relative:i});return _.useCallback(f=>{if(AV(f,t)){f.preventDefault();let g=n!==void 0?n:Ng(l)===Ng(d);c(e,{replace:g,state:a,preventScrollReset:r,relative:i,viewTransition:o})}},[l,c,d,n,a,t,e,r,i,o])}function ep(e){Bc(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=_.useRef(OC(e)),n=_.useRef(!1),a=Kr(),r=_.useMemo(()=>MV(a.search,n.current?null:t.current),[a.search]),i=Is(),o=_.useCallback((c,l)=>{const d=OC(typeof c=="function"?c(r):c);n.current=!0,i("?"+d,l)},[i,r]);return[r,o]}var sz=0,az=()=>`__${String(++sz)}__`;function rz(){let{router:e}=qA("useSubmit"),{basename:t}=_.useContext(cl),n=jV();return _.useCallback(async(a,r={})=>{let{action:i,method:o,encType:c,formData:l,body:d}=OV(a,t);if(r.navigate===!1){let f=r.fetcherKey||az();await e.fetch(f,n,r.action||i,{preventScrollReset:r.preventScrollReset,formData:l,body:d,formMethod:r.method||o,formEncType:r.encType||c,flushSync:r.flushSync})}else await e.navigate(r.action||i,{preventScrollReset:r.preventScrollReset,formData:l,body:d,formMethod:r.method||o,formEncType:r.encType||c,replace:r.replace,state:r.state,fromRouteId:n,flushSync:r.flushSync,viewTransition:r.viewTransition})},[e,t,n])}function iz(e,{relative:t}={}){let{basename:n}=_.useContext(cl),a=_.useContext($c);Qr(a,"useFormAction must be used inside a RouteContext");let[r]=a.matches.slice(-1),i={...o0(e||".",{relative:t})},o=Kr();if(e==null){i.search=o.search;let c=new URLSearchParams(i.search),l=c.getAll("index");if(l.some(f=>f==="")){c.delete("index"),l.filter(g=>g).forEach(g=>c.append("index",g));let f=c.toString();i.search=f?`?${f}`:""}}return(!e||e===".")&&r.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(i.pathname=i.pathname==="/"?n:vu([n,i.pathname])),Ng(i)}function oz(e,t={}){let n=_.useContext(MA);Qr(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=qA("useViewTransitionState"),r=o0(e,{relative:t.relative});if(!n.isTransitioning)return!1;let i=Nu(n.currentLocation.pathname,a)||n.currentLocation.pathname,o=Nu(n.nextLocation.pathname,a)||n.nextLocation.pathname;return Cx(r.pathname,o)!=null||Cx(r.pathname,i)!=null}new TextEncoder;[...zV];var tp=IA();const Nx=Ti(tp),cz=ZN({__proto__:null,default:Nx},[tp]),i3=_.createContext({});function c0(e){const t=_.useRef(null);return t.current===null&&(t.current=e()),t.current}const o3=typeof window<"u",c3=o3?_.useLayoutEffect:_.useEffect,Rb=_.createContext(null);function l3(e,t){e.indexOf(t)===-1&&e.push(t)}function u3(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const ku=(e,t,n)=>n>t?t:n<e?e:n;let d3=()=>{};const Iu={},VA=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function zA(e){return typeof e=="object"&&e!==null}const UA=e=>/^0[^.\s]+$/u.test(e);function h3(e){let t;return()=>(t===void 0&&(t=e()),t)}const Mc=e=>e,lz=(e,t)=>n=>t(e(n)),l0=(...e)=>e.reduce(lz),Ig=(e,t,n)=>{const a=t-e;return a===0?1:(n-e)/a};class f3{constructor(){this.subscriptions=[]}add(t){return l3(this.subscriptions,t),()=>u3(this.subscriptions,t)}notify(t,n,a){const r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](t,n,a);else for(let i=0;i<r;i++){const o=this.subscriptions[i];o&&o(t,n,a)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Al=e=>e*1e3,Ml=e=>e/1e3;function WA(e,t){return t?e*(1e3/t):0}const YA=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,uz=1e-7,dz=12;function hz(e,t,n,a,r){let i,o,c=0;do o=t+(n-t)/2,i=YA(o,a,r)-e,i>0?n=o:t=o;while(Math.abs(i)>uz&&++c<dz);return o}function u0(e,t,n,a){if(e===t&&n===a)return Mc;const r=i=>hz(i,0,1,e,n);return i=>i===0||i===1?i:YA(r(i),t,a)}const GA=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,QA=e=>t=>1-e(1-t),XA=u0(.33,1.53,.69,.99),m3=QA(XA),KA=GA(m3),ZA=e=>(e*=2)<1?.5*m3(e):.5*(2-Math.pow(2,-10*(e-1))),p3=e=>1-Math.sin(Math.acos(e)),JA=QA(p3),eM=GA(p3),fz=u0(.42,0,1,1),mz=u0(0,0,.58,1),tM=u0(.42,0,.58,1),pz=e=>Array.isArray(e)&&typeof e[0]!="number",nM=e=>Array.isArray(e)&&typeof e[0]=="number",gz={linear:Mc,easeIn:fz,easeInOut:tM,easeOut:mz,circIn:p3,circInOut:eM,circOut:JA,backIn:m3,backInOut:KA,backOut:XA,anticipate:ZA},_z=e=>typeof e=="string",Sk=e=>{if(nM(e)){d3(e.length===4);const[t,n,a,r]=e;return u0(t,n,a,r)}else if(_z(e))return gz[e];return e},V_=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function vz(e,t){let n=new Set,a=new Set,r=!1,i=!1;const o=new WeakSet;let c={delta:0,timestamp:0,isProcessing:!1};function l(f){o.has(f)&&(d.schedule(f),e()),f(c)}const d={schedule:(f,g=!1,b=!1)=>{const C=b&&r?n:a;return g&&o.add(f),C.has(f)||C.add(f),f},cancel:f=>{a.delete(f),o.delete(f)},process:f=>{if(c=f,r){i=!0;return}r=!0,[n,a]=[a,n],n.forEach(l),n.clear(),r=!1,i&&(i=!1,d.process(f))}};return d}const xz=40;function sM(e,t){let n=!1,a=!0;const r={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,o=V_.reduce((R,P)=>(R[P]=vz(i),R),{}),{setup:c,read:l,resolveKeyframes:d,preUpdate:f,update:g,preRender:b,render:w,postRender:C}=o,S=()=>{const R=Iu.useManualTiming?r.timestamp:performance.now();n=!1,Iu.useManualTiming||(r.delta=a?1e3/60:Math.max(Math.min(R-r.timestamp,xz),1)),r.timestamp=R,r.isProcessing=!0,c.process(r),l.process(r),d.process(r),f.process(r),g.process(r),b.process(r),w.process(r),C.process(r),r.isProcessing=!1,n&&t&&(a=!1,e(S))},k=()=>{n=!0,a=!0,r.isProcessing||e(S)};return{schedule:V_.reduce((R,P)=>{const B=o[P];return R[P]=(O,$=!1,U=!1)=>(n||k(),B.schedule(O,$,U)),R},{}),cancel:R=>{for(let P=0;P<V_.length;P++)o[V_[P]].cancel(R)},state:r,steps:o}}const{schedule:Lr,cancel:Eu,state:eo,steps:$w}=sM(typeof requestAnimationFrame<"u"?requestAnimationFrame:Mc,!0);let Bv;function bz(){Bv=void 0}const Lo={now:()=>(Bv===void 0&&Lo.set(eo.isProcessing||Iu.useManualTiming?eo.timestamp:performance.now()),Bv),set:e=>{Bv=e,queueMicrotask(bz)}},aM=e=>t=>typeof t=="string"&&t.startsWith(e),g3=aM("--"),yz=aM("var(--"),_3=e=>yz(e)?wz.test(e.split("/*")[0].trim()):!1,wz=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,np={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Eg={...np,transform:e=>ku(0,1,e)},z_={...np,default:1},rg=e=>Math.round(e*1e5)/1e5,v3=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function jz(e){return e==null}const Cz=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,x3=(e,t)=>n=>!!(typeof n=="string"&&Cz.test(n)&&n.startsWith(e)||t&&!jz(n)&&Object.prototype.hasOwnProperty.call(n,t)),rM=(e,t,n)=>a=>{if(typeof a!="string")return a;const[r,i,o,c]=a.match(v3);return{[e]:parseFloat(r),[t]:parseFloat(i),[n]:parseFloat(o),alpha:c!==void 0?parseFloat(c):1}},Sz=e=>ku(0,255,e),Pw={...np,transform:e=>Math.round(Sz(e))},yh={test:x3("rgb","red"),parse:rM("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:a=1})=>"rgba("+Pw.transform(e)+", "+Pw.transform(t)+", "+Pw.transform(n)+", "+rg(Eg.transform(a))+")"};function Nz(e){let t="",n="",a="",r="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),a=e.substring(5,7),r=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),a=e.substring(3,4),r=e.substring(4,5),t+=t,n+=n,a+=a,r+=r),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(a,16),alpha:r?parseInt(r,16)/255:1}}const LC={test:x3("#"),parse:Nz,transform:yh.transform},d0=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),hd=d0("deg"),Rl=d0("%"),Vs=d0("px"),kz=d0("vh"),Iz=d0("vw"),Nk={...Rl,parse:e=>Rl.parse(e)/100,transform:e=>Rl.transform(e*100)},nm={test:x3("hsl","hue"),parse:rM("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:a=1})=>"hsla("+Math.round(e)+", "+Rl.transform(rg(t))+", "+Rl.transform(rg(n))+", "+rg(Eg.transform(a))+")"},Ii={test:e=>yh.test(e)||LC.test(e)||nm.test(e),parse:e=>yh.test(e)?yh.parse(e):nm.test(e)?nm.parse(e):LC.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?yh.transform(e):nm.transform(e),getAnimatableNone:e=>{const t=Ii.parse(e);return t.alpha=0,Ii.transform(t)}},Ez=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Tz(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(v3))==null?void 0:t.length)||0)+(((n=e.match(Ez))==null?void 0:n.length)||0)>0}const iM="number",oM="color",Dz="var",Az="var(",kk="${}",Mz=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Tg(e){const t=e.toString(),n=[],a={color:[],number:[],var:[]},r=[];let i=0;const c=t.replace(Mz,l=>(Ii.test(l)?(a.color.push(i),r.push(oM),n.push(Ii.parse(l))):l.startsWith(Az)?(a.var.push(i),r.push(Dz),n.push(l)):(a.number.push(i),r.push(iM),n.push(parseFloat(l))),++i,kk)).split(kk);return{values:n,split:c,indexes:a,types:r}}function cM(e){return Tg(e).values}function lM(e){const{split:t,types:n}=Tg(e),a=t.length;return r=>{let i="";for(let o=0;o<a;o++)if(i+=t[o],r[o]!==void 0){const c=n[o];c===iM?i+=rg(r[o]):c===oM?i+=Ii.transform(r[o]):i+=r[o]}return i}}const Rz=e=>typeof e=="number"?0:Ii.test(e)?Ii.getAnimatableNone(e):e;function Bz(e){const t=cM(e);return lM(e)(t.map(Rz))}const Dd={test:Tz,parse:cM,createTransformer:lM,getAnimatableNone:Bz};function Fw(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function Oz({hue:e,saturation:t,lightness:n,alpha:a}){e/=360,t/=100,n/=100;let r=0,i=0,o=0;if(!t)r=i=o=n;else{const c=n<.5?n*(1+t):n+t-n*t,l=2*n-c;r=Fw(l,c,e+1/3),i=Fw(l,c,e),o=Fw(l,c,e-1/3)}return{red:Math.round(r*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:a}}function kx(e,t){return n=>n>0?t:e}const ti=(e,t,n)=>e+(t-e)*n,Hw=(e,t,n)=>{const a=e*e,r=n*(t*t-a)+a;return r<0?0:Math.sqrt(r)},Lz=[LC,yh,nm],$z=e=>Lz.find(t=>t.test(e));function Ik(e){const t=$z(e);if(!t)return!1;let n=t.parse(e);return t===nm&&(n=Oz(n)),n}const Ek=(e,t)=>{const n=Ik(e),a=Ik(t);if(!n||!a)return kx(e,t);const r={...n};return i=>(r.red=Hw(n.red,a.red,i),r.green=Hw(n.green,a.green,i),r.blue=Hw(n.blue,a.blue,i),r.alpha=ti(n.alpha,a.alpha,i),yh.transform(r))},$C=new Set(["none","hidden"]);function Pz(e,t){return $C.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function Fz(e,t){return n=>ti(e,t,n)}function b3(e){return typeof e=="number"?Fz:typeof e=="string"?_3(e)?kx:Ii.test(e)?Ek:Vz:Array.isArray(e)?uM:typeof e=="object"?Ii.test(e)?Ek:Hz:kx}function uM(e,t){const n=[...e],a=n.length,r=e.map((i,o)=>b3(i)(i,t[o]));return i=>{for(let o=0;o<a;o++)n[o]=r[o](i);return n}}function Hz(e,t){const n={...e,...t},a={};for(const r in n)e[r]!==void 0&&t[r]!==void 0&&(a[r]=b3(e[r])(e[r],t[r]));return r=>{for(const i in a)n[i]=a[i](r);return n}}function qz(e,t){const n=[],a={color:0,var:0,number:0};for(let r=0;r<t.values.length;r++){const i=t.types[r],o=e.indexes[i][a[i]],c=e.values[o]??0;n[r]=c,a[i]++}return n}const Vz=(e,t)=>{const n=Dd.createTransformer(t),a=Tg(e),r=Tg(t);return a.indexes.var.length===r.indexes.var.length&&a.indexes.color.length===r.indexes.color.length&&a.indexes.number.length>=r.indexes.number.length?$C.has(e)&&!r.values.length||$C.has(t)&&!a.values.length?Pz(e,t):l0(uM(qz(a,r),r.values),n):kx(e,t)};function dM(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?ti(e,t,n):b3(e)(e,t)}const zz=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>Lr.update(t,n),stop:()=>Eu(t),now:()=>eo.isProcessing?eo.timestamp:Lo.now()}},hM=(e,t,n=10)=>{let a="";const r=Math.max(Math.round(t/n),2);for(let i=0;i<r;i++)a+=Math.round(e(i/(r-1))*1e4)/1e4+", ";return`linear(${a.substring(0,a.length-2)})`},Ix=2e4;function y3(e){let t=0;const n=50;let a=e.next(t);for(;!a.done&&t<Ix;)t+=n,a=e.next(t);return t>=Ix?1/0:t}function Uz(e,t=100,n){const a=n({...e,keyframes:[0,t]}),r=Math.min(y3(a),Ix);return{type:"keyframes",ease:i=>a.next(r*i).value/t,duration:Ml(r)}}const Wz=5;function fM(e,t,n){const a=Math.max(t-Wz,0);return WA(n-e(a),t-a)}const ci={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Tk=.001;function Yz({duration:e=ci.duration,bounce:t=ci.bounce,velocity:n=ci.velocity,mass:a=ci.mass}){let r,i,o=1-t;o=ku(ci.minDamping,ci.maxDamping,o),e=ku(ci.minDuration,ci.maxDuration,Ml(e)),o<1?(r=d=>{const f=d*o,g=f*e,b=f-n,w=PC(d,o),C=Math.exp(-g);return Tk-b/w*C},i=d=>{const g=d*o*e,b=g*n+n,w=Math.pow(o,2)*Math.pow(d,2)*e,C=Math.exp(-g),S=PC(Math.pow(d,2),o);return(-r(d)+Tk>0?-1:1)*((b-w)*C)/S}):(r=d=>{const f=Math.exp(-d*e),g=(d-n)*e+1;return-.001+f*g},i=d=>{const f=Math.exp(-d*e),g=(n-d)*(e*e);return f*g});const c=5/e,l=Qz(r,i,c);if(e=Al(e),isNaN(l))return{stiffness:ci.stiffness,damping:ci.damping,duration:e};{const d=Math.pow(l,2)*a;return{stiffness:d,damping:o*2*Math.sqrt(a*d),duration:e}}}const Gz=12;function Qz(e,t,n){let a=n;for(let r=1;r<Gz;r++)a=a-e(a)/t(a);return a}function PC(e,t){return e*Math.sqrt(1-t*t)}const Xz=["duration","bounce"],Kz=["stiffness","damping","mass"];function Dk(e,t){return t.some(n=>e[n]!==void 0)}function Zz(e){let t={velocity:ci.velocity,stiffness:ci.stiffness,damping:ci.damping,mass:ci.mass,isResolvedFromDuration:!1,...e};if(!Dk(e,Kz)&&Dk(e,Xz))if(e.visualDuration){const n=e.visualDuration,a=2*Math.PI/(n*1.2),r=a*a,i=2*ku(.05,1,1-(e.bounce||0))*Math.sqrt(r);t={...t,mass:ci.mass,stiffness:r,damping:i}}else{const n=Yz(e);t={...t,...n,mass:ci.mass},t.isResolvedFromDuration=!0}return t}function Ex(e=ci.visualDuration,t=ci.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:a,restDelta:r}=n;const i=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],c={done:!1,value:i},{stiffness:l,damping:d,mass:f,duration:g,velocity:b,isResolvedFromDuration:w}=Zz({...n,velocity:-Ml(n.velocity||0)}),C=b||0,S=d/(2*Math.sqrt(l*f)),k=o-i,E=Ml(Math.sqrt(l/f)),D=Math.abs(k)<5;a||(a=D?ci.restSpeed.granular:ci.restSpeed.default),r||(r=D?ci.restDelta.granular:ci.restDelta.default);let R;if(S<1){const B=PC(E,S);R=O=>{const $=Math.exp(-S*E*O);return o-$*((C+S*E*k)/B*Math.sin(B*O)+k*Math.cos(B*O))}}else if(S===1)R=B=>o-Math.exp(-E*B)*(k+(C+E*k)*B);else{const B=E*Math.sqrt(S*S-1);R=O=>{const $=Math.exp(-S*E*O),U=Math.min(B*O,300);return o-$*((C+S*E*k)*Math.sinh(U)+B*k*Math.cosh(U))/B}}const P={calculatedDuration:w&&g||null,next:B=>{const O=R(B);if(w)c.done=B>=g;else{let $=B===0?C:0;S<1&&($=B===0?Al(C):fM(R,B,O));const U=Math.abs($)<=a,F=Math.abs(o-O)<=r;c.done=U&&F}return c.value=c.done?o:O,c},toString:()=>{const B=Math.min(y3(P),Ix),O=hM($=>P.next(B*$).value,B,30);return B+"ms "+O},toTransition:()=>{}};return P}Ex.applyToOptions=e=>{const t=Uz(e,100,Ex);return e.ease=t.ease,e.duration=Al(t.duration),e.type="keyframes",e};function FC({keyframes:e,velocity:t=0,power:n=.8,timeConstant:a=325,bounceDamping:r=10,bounceStiffness:i=500,modifyTarget:o,min:c,max:l,restDelta:d=.5,restSpeed:f}){const g=e[0],b={done:!1,value:g},w=U=>c!==void 0&&U<c||l!==void 0&&U>l,C=U=>c===void 0?l:l===void 0||Math.abs(c-U)<Math.abs(l-U)?c:l;let S=n*t;const k=g+S,E=o===void 0?k:o(k);E!==k&&(S=E-g);const D=U=>-S*Math.exp(-U/a),R=U=>E+D(U),P=U=>{const F=D(U),H=R(U);b.done=Math.abs(F)<=d,b.value=b.done?E:H};let B,O;const $=U=>{w(b.value)&&(B=U,O=Ex({keyframes:[b.value,C(b.value)],velocity:fM(R,U,b.value),damping:r,stiffness:i,restDelta:d,restSpeed:f}))};return $(0),{calculatedDuration:null,next:U=>{let F=!1;return!O&&B===void 0&&(F=!0,P(U),$(U)),B!==void 0&&U>=B?O.next(U-B):(!F&&P(U),b)}}}function Jz(e,t,n){const a=[],r=n||Iu.mix||dM,i=e.length-1;for(let o=0;o<i;o++){let c=r(e[o],e[o+1]);if(t){const l=Array.isArray(t)?t[o]||Mc:t;c=l0(l,c)}a.push(c)}return a}function mM(e,t,{clamp:n=!0,ease:a,mixer:r}={}){const i=e.length;if(d3(i===t.length),i===1)return()=>t[0];if(i===2&&t[0]===t[1])return()=>t[1];const o=e[0]===e[1];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const c=Jz(t,a,r),l=c.length,d=f=>{if(o&&f<e[0])return t[0];let g=0;if(l>1)for(;g<e.length-2&&!(f<e[g+1]);g++);const b=Ig(e[g],e[g+1],f);return c[g](b)};return n?f=>d(ku(e[0],e[i-1],f)):d}function eU(e,t){const n=e[e.length-1];for(let a=1;a<=t;a++){const r=Ig(0,t,a);e.push(ti(n,1,r))}}function tU(e){const t=[0];return eU(t,e.length-1),t}function nU(e,t){return e.map(n=>n*t)}function sU(e,t){return e.map(()=>t||tM).splice(0,e.length-1)}function ig({duration:e=300,keyframes:t,times:n,ease:a="easeInOut"}){const r=pz(a)?a.map(Sk):Sk(a),i={done:!1,value:t[0]},o=nU(n&&n.length===t.length?n:tU(t),e),c=mM(o,t,{ease:Array.isArray(r)?r:sU(t,r)});return{calculatedDuration:e,next:l=>(i.value=c(l),i.done=l>=e,i)}}const aU=e=>e!==null;function w3(e,{repeat:t,repeatType:n="loop"},a,r=1){const i=e.filter(aU),c=r<0||t&&n!=="loop"&&t%2===1?0:i.length-1;return!c||a===void 0?i[c]:a}const rU={decay:FC,inertia:FC,tween:ig,keyframes:ig,spring:Ex};function pM(e){typeof e.type=="string"&&(e.type=rU[e.type])}class j3{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const iU=e=>e/100;class Bb extends j3{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var a,r;const{motionValue:n}=this.options;n&&n.updatedAt!==Lo.now()&&this.tick(Lo.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(r=(a=this.options).onStop)==null||r.call(a))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;pM(t);const{type:n=ig,repeat:a=0,repeatDelay:r=0,repeatType:i,velocity:o=0}=t;let{keyframes:c}=t;const l=n||ig;l!==ig&&typeof c[0]!="number"&&(this.mixKeyframes=l0(iU,dM(c[0],c[1])),c=[0,100]);const d=l({...t,keyframes:c});i==="mirror"&&(this.mirroredGenerator=l({...t,keyframes:[...c].reverse(),velocity:-o})),d.calculatedDuration===null&&(d.calculatedDuration=y3(d));const{calculatedDuration:f}=d;this.calculatedDuration=f,this.resolvedDuration=f+r,this.totalDuration=this.resolvedDuration*(a+1)-r,this.generator=d}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:a,totalDuration:r,mixKeyframes:i,mirroredGenerator:o,resolvedDuration:c,calculatedDuration:l}=this;if(this.startTime===null)return a.next(0);const{delay:d=0,keyframes:f,repeat:g,repeatType:b,repeatDelay:w,type:C,onUpdate:S,finalKeyframe:k}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-r/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const E=this.currentTime-d*(this.playbackSpeed>=0?1:-1),D=this.playbackSpeed>=0?E<0:E>r;this.currentTime=Math.max(E,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=r);let R=this.currentTime,P=a;if(g){const U=Math.min(this.currentTime,r)/c;let F=Math.floor(U),H=U%1;!H&&U>=1&&(H=1),H===1&&F--,F=Math.min(F,g+1),!!(F%2)&&(b==="reverse"?(H=1-H,w&&(H-=w/c)):b==="mirror"&&(P=o)),R=ku(0,1,H)*c}const B=D?{done:!1,value:f[0]}:P.next(R);i&&(B.value=i(B.value));let{done:O}=B;!D&&l!==null&&(O=this.playbackSpeed>=0?this.currentTime>=r:this.currentTime<=0);const $=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&O);return $&&C!==FC&&(B.value=w3(f,this.options,k,this.speed)),S&&S(B.value),$&&this.finish(),B}then(t,n){return this.finished.then(t,n)}get duration(){return Ml(this.calculatedDuration)}get time(){return Ml(this.currentTime)}set time(t){var n;t=Al(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Lo.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=Ml(this.currentTime))}play(){var r,i;if(this.isStopped)return;const{driver:t=zz,startTime:n}=this.options;this.driver||(this.driver=t(o=>this.tick(o))),(i=(r=this.options).onPlay)==null||i.call(r);const a=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=a):this.holdTime!==null?this.startTime=a-this.holdTime:this.startTime||(this.startTime=n??a),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Lo.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(t=this.options).onComplete)==null||n.call(t)}cancel(){var t,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(t=this.options).onCancel)==null||n.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),t.observe(this)}}function oU(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const wh=e=>e*180/Math.PI,HC=e=>{const t=wh(Math.atan2(e[1],e[0]));return qC(t)},cU={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:HC,rotateZ:HC,skewX:e=>wh(Math.atan(e[1])),skewY:e=>wh(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},qC=e=>(e=e%360,e<0&&(e+=360),e),Ak=HC,Mk=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),Rk=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),lU={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Mk,scaleY:Rk,scale:e=>(Mk(e)+Rk(e))/2,rotateX:e=>qC(wh(Math.atan2(e[6],e[5]))),rotateY:e=>qC(wh(Math.atan2(-e[2],e[0]))),rotateZ:Ak,rotate:Ak,skewX:e=>wh(Math.atan(e[4])),skewY:e=>wh(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function VC(e){return e.includes("scale")?1:0}function zC(e,t){if(!e||e==="none")return VC(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let a,r;if(n)a=lU,r=n;else{const c=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);a=cU,r=c}if(!r)return VC(t);const i=a[t],o=r[1].split(",").map(dU);return typeof i=="function"?i(o):o[i]}const uU=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return zC(n,t)};function dU(e){return parseFloat(e.trim())}const sp=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ap=new Set(sp),Bk=e=>e===np||e===Vs,hU=new Set(["x","y","z"]),fU=sp.filter(e=>!hU.has(e));function mU(e){const t=[];return fU.forEach(n=>{const a=e.getValue(n);a!==void 0&&(t.push([n,a.get()]),a.set(n.startsWith("scale")?1:0))}),t}const Ih={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>zC(t,"x"),y:(e,{transform:t})=>zC(t,"y")};Ih.translateX=Ih.x;Ih.translateY=Ih.y;const Eh=new Set;let UC=!1,WC=!1,YC=!1;function gM(){if(WC){const e=Array.from(Eh).filter(a=>a.needsMeasurement),t=new Set(e.map(a=>a.element)),n=new Map;t.forEach(a=>{const r=mU(a);r.length&&(n.set(a,r),a.render())}),e.forEach(a=>a.measureInitialState()),t.forEach(a=>{a.render();const r=n.get(a);r&&r.forEach(([i,o])=>{var c;(c=a.getValue(i))==null||c.set(o)})}),e.forEach(a=>a.measureEndState()),e.forEach(a=>{a.suspendedScrollY!==void 0&&window.scrollTo(0,a.suspendedScrollY)})}WC=!1,UC=!1,Eh.forEach(e=>e.complete(YC)),Eh.clear()}function _M(){Eh.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(WC=!0)})}function pU(){YC=!0,_M(),gM(),YC=!1}class C3{constructor(t,n,a,r,i,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=a,this.motionValue=r,this.element=i,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(Eh.add(this),UC||(UC=!0,Lr.read(_M),Lr.resolveKeyframes(gM))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:a,motionValue:r}=this;if(t[0]===null){const i=r==null?void 0:r.get(),o=t[t.length-1];if(i!==void 0)t[0]=i;else if(a&&n){const c=a.readValue(n,o);c!=null&&(t[0]=c)}t[0]===void 0&&(t[0]=o),r&&i===void 0&&r.set(t[0])}oU(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Eh.delete(this)}cancel(){this.state==="scheduled"&&(Eh.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const gU=e=>e.startsWith("--");function _U(e,t,n){gU(t)?e.style.setProperty(t,n):e.style[t]=n}const vU=h3(()=>window.ScrollTimeline!==void 0),xU={};function bU(e,t){const n=h3(e);return()=>xU[t]??n()}const vM=bU(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),V1=([e,t,n,a])=>`cubic-bezier(${e}, ${t}, ${n}, ${a})`,Ok={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:V1([0,.65,.55,1]),circOut:V1([.55,0,1,.45]),backIn:V1([.31,.01,.66,-.59]),backOut:V1([.33,1.53,.69,.99])};function xM(e,t){if(e)return typeof e=="function"?vM()?hM(e,t):"ease-out":nM(e)?V1(e):Array.isArray(e)?e.map(n=>xM(n,t)||Ok.easeOut):Ok[e]}function yU(e,t,n,{delay:a=0,duration:r=300,repeat:i=0,repeatType:o="loop",ease:c="easeOut",times:l}={},d=void 0){const f={[t]:n};l&&(f.offset=l);const g=xM(c,r);Array.isArray(g)&&(f.easing=g);const b={delay:a,duration:r,easing:Array.isArray(g)?"linear":g,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"};return d&&(b.pseudoElement=d),e.animate(f,b)}function bM(e){return typeof e=="function"&&"applyToOptions"in e}function wU({type:e,...t}){return bM(e)&&vM()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class jU extends j3{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:n,name:a,keyframes:r,pseudoElement:i,allowFlatten:o=!1,finalKeyframe:c,onComplete:l}=t;this.isPseudoElement=!!i,this.allowFlatten=o,this.options=t,d3(typeof t.type!="string");const d=wU(t);this.animation=yU(n,a,r,d,i),d.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const f=w3(r,this.options,c,this.speed);this.updateMotionValue?this.updateMotionValue(f):_U(n,a,f),this.animation.cancel()}l==null||l(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,n;(n=(t=this.animation).finish)==null||n.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,n;this.isPseudoElement||(n=(t=this.animation).commitStyles)==null||n.call(t)}get duration(){var n,a;const t=((a=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:a.call(n).duration)||0;return Ml(Number(t))}get time(){return Ml(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=Al(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){var a;return this.allowFlatten&&((a=this.animation.effect)==null||a.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&vU()?(this.animation.timeline=t,Mc):n(this)}}const yM={anticipate:ZA,backInOut:KA,circInOut:eM};function CU(e){return e in yM}function SU(e){typeof e.ease=="string"&&CU(e.ease)&&(e.ease=yM[e.ease])}const Lk=10;class NU extends jU{constructor(t){SU(t),pM(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:a,onComplete:r,element:i,...o}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const c=new Bb({...o,autoplay:!1}),l=Al(this.finishedTime??this.time);n.setWithVelocity(c.sample(l-Lk).value,c.sample(l).value,Lk),c.stop()}}const $k=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Dd.test(e)||e==="0")&&!e.startsWith("url("));function kU(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function IU(e,t,n,a){const r=e[0];if(r===null)return!1;if(t==="display"||t==="visibility")return!0;const i=e[e.length-1],o=$k(r,t),c=$k(i,t);return!o||!c?!1:kU(e)||(n==="spring"||bM(n))&&a}function S3(e){return zA(e)&&"offsetHeight"in e}const EU=new Set(["opacity","clipPath","filter","transform"]),TU=h3(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function DU(e){var d;const{motionValue:t,name:n,repeatDelay:a,repeatType:r,damping:i,type:o}=e;if(!S3((d=t==null?void 0:t.owner)==null?void 0:d.current))return!1;const{onUpdate:c,transformTemplate:l}=t.owner.getProps();return TU()&&n&&EU.has(n)&&(n!=="transform"||!l)&&!c&&!a&&r!=="mirror"&&i!==0&&o!=="inertia"}const AU=40;class MU extends j3{constructor({autoplay:t=!0,delay:n=0,type:a="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:o="loop",keyframes:c,name:l,motionValue:d,element:f,...g}){var C;super(),this.stop=()=>{var S,k;this._animation&&(this._animation.stop(),(S=this.stopTimeline)==null||S.call(this)),(k=this.keyframeResolver)==null||k.cancel()},this.createdAt=Lo.now();const b={autoplay:t,delay:n,type:a,repeat:r,repeatDelay:i,repeatType:o,name:l,motionValue:d,element:f,...g},w=(f==null?void 0:f.KeyframeResolver)||C3;this.keyframeResolver=new w(c,(S,k,E)=>this.onKeyframesResolved(S,k,b,!E),l,d,f),(C=this.keyframeResolver)==null||C.scheduleResolve()}onKeyframesResolved(t,n,a,r){this.keyframeResolver=void 0;const{name:i,type:o,velocity:c,delay:l,isHandoff:d,onUpdate:f}=a;this.resolvedAt=Lo.now(),IU(t,i,o,c)||((Iu.instantAnimations||!l)&&(f==null||f(w3(t,a,n))),t[0]=t[t.length-1],a.duration=0,a.repeat=0);const b={startTime:r?this.resolvedAt?this.resolvedAt-this.createdAt>AU?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...a,keyframes:t},w=!d&&DU(b)?new NU({...b,element:b.motionValue.owner.current}):new Bb(b);w.finished.then(()=>this.notifyFinished()).catch(Mc),this.pendingTimeline&&(this.stopTimeline=w.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=w}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),pU()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}const RU=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function BU(e){const t=RU.exec(e);if(!t)return[,];const[,n,a,r]=t;return[`--${n??a}`,r]}function wM(e,t,n=1){const[a,r]=BU(e);if(!a)return;const i=window.getComputedStyle(t).getPropertyValue(a);if(i){const o=i.trim();return VA(o)?parseFloat(o):o}return _3(r)?wM(r,t,n+1):r}function N3(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const jM=new Set(["width","height","top","left","right","bottom",...sp]),OU={test:e=>e==="auto",parse:e=>e},CM=e=>t=>t.test(e),SM=[np,Vs,Rl,hd,Iz,kz,OU],Pk=e=>SM.find(CM(e));function LU(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||UA(e):!0}const $U=new Set(["brightness","contrast","saturate","opacity"]);function PU(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[a]=n.match(v3)||[];if(!a)return e;const r=n.replace(a,"");let i=$U.has(t)?1:0;return a!==n&&(i*=100),t+"("+i+r+")"}const FU=/\b([a-z-]*)\(.*?\)/gu,GC={...Dd,getAnimatableNone:e=>{const t=e.match(FU);return t?t.map(PU).join(" "):e}},Fk={...np,transform:Math.round},HU={rotate:hd,rotateX:hd,rotateY:hd,rotateZ:hd,scale:z_,scaleX:z_,scaleY:z_,scaleZ:z_,skew:hd,skewX:hd,skewY:hd,distance:Vs,translateX:Vs,translateY:Vs,translateZ:Vs,x:Vs,y:Vs,z:Vs,perspective:Vs,transformPerspective:Vs,opacity:Eg,originX:Nk,originY:Nk,originZ:Vs},k3={borderWidth:Vs,borderTopWidth:Vs,borderRightWidth:Vs,borderBottomWidth:Vs,borderLeftWidth:Vs,borderRadius:Vs,radius:Vs,borderTopLeftRadius:Vs,borderTopRightRadius:Vs,borderBottomRightRadius:Vs,borderBottomLeftRadius:Vs,width:Vs,maxWidth:Vs,height:Vs,maxHeight:Vs,top:Vs,right:Vs,bottom:Vs,left:Vs,padding:Vs,paddingTop:Vs,paddingRight:Vs,paddingBottom:Vs,paddingLeft:Vs,margin:Vs,marginTop:Vs,marginRight:Vs,marginBottom:Vs,marginLeft:Vs,backgroundPositionX:Vs,backgroundPositionY:Vs,...HU,zIndex:Fk,fillOpacity:Eg,strokeOpacity:Eg,numOctaves:Fk},qU={...k3,color:Ii,backgroundColor:Ii,outlineColor:Ii,fill:Ii,stroke:Ii,borderColor:Ii,borderTopColor:Ii,borderRightColor:Ii,borderBottomColor:Ii,borderLeftColor:Ii,filter:GC,WebkitFilter:GC},NM=e=>qU[e];function kM(e,t){let n=NM(e);return n!==GC&&(n=Dd),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const VU=new Set(["auto","none","0"]);function zU(e,t,n){let a=0,r;for(;a<e.length&&!r;){const i=e[a];typeof i=="string"&&!VU.has(i)&&Tg(i).values.length&&(r=e[a]),a++}if(r&&n)for(const i of t)e[i]=kM(n,r)}class UU extends C3{constructor(t,n,a,r,i){super(t,n,a,r,i,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:a}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<t.length;l++){let d=t[l];if(typeof d=="string"&&(d=d.trim(),_3(d))){const f=wM(d,n.current);f!==void 0&&(t[l]=f),l===t.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!jM.has(a)||t.length!==2)return;const[r,i]=t,o=Pk(r),c=Pk(i);if(o!==c)if(Bk(o)&&Bk(c))for(let l=0;l<t.length;l++){const d=t[l];typeof d=="string"&&(t[l]=parseFloat(d))}else Ih[a]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,a=[];for(let r=0;r<t.length;r++)(t[r]===null||LU(t[r]))&&a.push(r);a.length&&zU(t,a,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:a}=this;if(!t||!t.current)return;a==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ih[a](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const r=n[n.length-1];r!==void 0&&t.getValue(a,r).jump(r,!1)}measureEndState(){var c;const{element:t,name:n,unresolvedKeyframes:a}=this;if(!t||!t.current)return;const r=t.getValue(n);r&&r.jump(this.measuredOrigin,!1);const i=a.length-1,o=a[i];a[i]=Ih[n](t.measureViewportBox(),window.getComputedStyle(t.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(c=this.removedTransforms)!=null&&c.length&&this.removedTransforms.forEach(([l,d])=>{t.getValue(l).set(d)}),this.resolveNoneKeyframes()}}function WU(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let a=document;const r=(n==null?void 0:n[e])??a.querySelectorAll(e);return r?Array.from(r):[]}return Array.from(e)}const IM=(e,t)=>t&&typeof e=="number"?t.transform(e):e,Hk=30,YU=e=>!isNaN(parseFloat(e)),og={current:void 0};class GU{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(a,r=!0)=>{var o,c;const i=Lo.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(a),this.current!==this.prev&&((o=this.events.change)==null||o.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty();r&&((c=this.events.renderRequest)==null||c.notify(this.current))},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=Lo.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=YU(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new f3);const a=this.events[t].add(n);return t==="change"?()=>{a(),Lr.read(()=>{this.events.change.getSize()||this.stop()})}:a}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,a){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-a}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return og.current&&og.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const t=Lo.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>Hk)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,Hk);return WA(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,n;(t=this.dependents)==null||t.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function qh(e,t){return new GU(e,t)}const{schedule:I3}=sM(queueMicrotask,!1),Uc={x:!1,y:!1};function EM(){return Uc.x||Uc.y}function QU(e){return e==="x"||e==="y"?Uc[e]?null:(Uc[e]=!0,()=>{Uc[e]=!1}):Uc.x||Uc.y?null:(Uc.x=Uc.y=!0,()=>{Uc.x=Uc.y=!1})}function TM(e,t){const n=WU(e),a=new AbortController,r={passive:!0,...t,signal:a.signal};return[n,r,()=>a.abort()]}function qk(e){return!(e.pointerType==="touch"||EM())}function XU(e,t,n={}){const[a,r,i]=TM(e,n),o=c=>{if(!qk(c))return;const{target:l}=c,d=t(l,c);if(typeof d!="function"||!l)return;const f=g=>{qk(g)&&(d(g),l.removeEventListener("pointerleave",f))};l.addEventListener("pointerleave",f,r)};return a.forEach(c=>{c.addEventListener("pointerenter",o,r)}),i}const DM=(e,t)=>t?e===t?!0:DM(e,t.parentElement):!1,E3=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,KU=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function ZU(e){return KU.has(e.tagName)||e.tabIndex!==-1}const Ov=new WeakSet;function Vk(e){return t=>{t.key==="Enter"&&e(t)}}function qw(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const JU=(e,t)=>{const n=e.currentTarget;if(!n)return;const a=Vk(()=>{if(Ov.has(n))return;qw(n,"down");const r=Vk(()=>{qw(n,"up")}),i=()=>qw(n,"cancel");n.addEventListener("keyup",r,t),n.addEventListener("blur",i,t)});n.addEventListener("keydown",a,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",a),t)};function zk(e){return E3(e)&&!EM()}function eW(e,t,n={}){const[a,r,i]=TM(e,n),o=c=>{const l=c.currentTarget;if(!zk(c))return;Ov.add(l);const d=t(l,c),f=(w,C)=>{window.removeEventListener("pointerup",g),window.removeEventListener("pointercancel",b),Ov.has(l)&&Ov.delete(l),zk(w)&&typeof d=="function"&&d(w,{success:C})},g=w=>{f(w,l===window||l===document||n.useGlobalTarget||DM(l,w.target))},b=w=>{f(w,!1)};window.addEventListener("pointerup",g,r),window.addEventListener("pointercancel",b,r)};return a.forEach(c=>{(n.useGlobalTarget?window:c).addEventListener("pointerdown",o,r),S3(c)&&(c.addEventListener("focus",d=>JU(d,r)),!ZU(c)&&!c.hasAttribute("tabindex")&&(c.tabIndex=0))}),i}function AM(e){return zA(e)&&"ownerSVGElement"in e}function tW(e){return AM(e)&&e.tagName==="svg"}function nW(...e){const t=!Array.isArray(e[0]),n=t?0:-1,a=e[0+n],r=e[1+n],i=e[2+n],o=e[3+n],c=mM(r,i,o);return t?c(a):c}const Ui=e=>!!(e&&e.getVelocity);function sW(e,t,n){const a=e.get();let r=null,i=a,o;const c=typeof a=="string"?a.replace(/[\d.-]/g,""):void 0,l=()=>{r&&(r.stop(),r=null)},d=()=>{l(),r=new Bb({keyframes:[Wk(e.get()),Wk(i)],velocity:e.getVelocity(),type:"spring",restDelta:.001,restSpeed:.01,...n,onUpdate:o})};e.attach((g,b)=>(i=g,o=w=>b(Uk(w,c)),Lr.postRender(d),e.get()),l);let f;return Ui(t)&&(f=t.on("change",g=>e.set(Uk(g,c))),e.on("destroy",f)),f}function Uk(e,t){return t?e+t:e}function Wk(e){return typeof e=="number"?e:parseFloat(e)}const aW=[...SM,Ii,Dd],rW=e=>aW.find(CM(e)),h0=_.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class iW extends _.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const a=n.offsetParent,r=S3(a)&&a.offsetWidth||0,i=this.props.sizeRef.current;i.height=n.offsetHeight||0,i.width=n.offsetWidth||0,i.top=n.offsetTop,i.left=n.offsetLeft,i.right=r-i.width-i.left}return null}componentDidUpdate(){}render(){return this.props.children}}function oW({children:e,isPresent:t,anchorX:n}){const a=_.useId(),r=_.useRef(null),i=_.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:o}=_.useContext(h0);return _.useInsertionEffect(()=>{const{width:c,height:l,top:d,left:f,right:g}=i.current;if(t||!r.current||!c||!l)return;const b=n==="left"?`left: ${f}`:`right: ${g}`;r.current.dataset.motionPopId=a;const w=document.createElement("style");return o&&(w.nonce=o),document.head.appendChild(w),w.sheet&&w.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${c}px !important;
            height: ${l}px !important;
            ${b}px !important;
            top: ${d}px !important;
          }
        `),()=>{document.head.contains(w)&&document.head.removeChild(w)}},[t]),s.jsx(iW,{isPresent:t,childRef:r,sizeRef:i,children:_.cloneElement(e,{ref:r})})}const cW=({children:e,initial:t,isPresent:n,onExitComplete:a,custom:r,presenceAffectsLayout:i,mode:o,anchorX:c})=>{const l=c0(lW),d=_.useId();let f=!0,g=_.useMemo(()=>(f=!1,{id:d,initial:t,isPresent:n,custom:r,onExitComplete:b=>{l.set(b,!0);for(const w of l.values())if(!w)return;a&&a()},register:b=>(l.set(b,!1),()=>l.delete(b))}),[n,l,a]);return i&&f&&(g={...g}),_.useMemo(()=>{l.forEach((b,w)=>l.set(w,!1))},[n]),_.useEffect(()=>{!n&&!l.size&&a&&a()},[n]),o==="popLayout"&&(e=s.jsx(oW,{isPresent:n,anchorX:c,children:e})),s.jsx(Rb.Provider,{value:g,children:e})};function lW(){return new Map}function MM(e=!0){const t=_.useContext(Rb);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:a,register:r}=t,i=_.useId();_.useEffect(()=>{if(e)return r(i)},[e]);const o=_.useCallback(()=>e&&a&&a(i),[i,a,e]);return!n&&a?[!1,o]:[!0]}const U_=e=>e.key||"";function Yk(e){const t=[];return _.Children.forEach(e,n=>{_.isValidElement(n)&&t.push(n)}),t}const Xc=({children:e,custom:t,initial:n=!0,onExitComplete:a,presenceAffectsLayout:r=!0,mode:i="sync",propagate:o=!1,anchorX:c="left"})=>{const[l,d]=MM(o),f=_.useMemo(()=>Yk(e),[e]),g=o&&!l?[]:f.map(U_),b=_.useRef(!0),w=_.useRef(f),C=c0(()=>new Map),[S,k]=_.useState(f),[E,D]=_.useState(f);c3(()=>{b.current=!1,w.current=f;for(let B=0;B<E.length;B++){const O=U_(E[B]);g.includes(O)?C.delete(O):C.get(O)!==!0&&C.set(O,!1)}},[E,g.length,g.join("-")]);const R=[];if(f!==S){let B=[...f];for(let O=0;O<E.length;O++){const $=E[O],U=U_($);g.includes(U)||(B.splice(O,0,$),R.push($))}return i==="wait"&&R.length&&(B=R),D(Yk(B)),k(f),null}const{forceRender:P}=_.useContext(i3);return s.jsx(s.Fragment,{children:E.map(B=>{const O=U_(B),$=o&&!l?!1:f===E||g.includes(O),U=()=>{if(C.has(O))C.set(O,!0);else return;let F=!0;C.forEach(H=>{H||(F=!1)}),F&&(P==null||P(),D(w.current),o&&(d==null||d()),a&&a())};return s.jsx(cW,{isPresent:$,initial:!b.current||n?void 0:!1,custom:t,presenceAffectsLayout:r,mode:i,onExitComplete:$?void 0:U,anchorX:c,children:B},O)})})},RM=_.createContext({strict:!1}),Gk={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},jm={};for(const e in Gk)jm[e]={isEnabled:t=>Gk[e].some(n=>!!t[n])};function uW(e){for(const t in e)jm[t]={...jm[t],...e[t]}}const dW=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Tx(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||dW.has(e)}let BM=e=>!Tx(e);function hW(e){typeof e=="function"&&(BM=t=>t.startsWith("on")?!Tx(t):e(t))}try{hW(require("@emotion/is-prop-valid").default)}catch{}function fW(e,t,n){const a={};for(const r in e)r==="values"&&typeof e.values=="object"||(BM(r)||n===!0&&Tx(r)||!t&&!Tx(r)||e.draggable&&r.startsWith("onDrag"))&&(a[r]=e[r]);return a}function mW(e){if(typeof Proxy>"u")return e;const t=new Map,n=(...a)=>e(...a);return new Proxy(n,{get:(a,r)=>r==="create"?e:(t.has(r)||t.set(r,e(r)),t.get(r))})}const Ob=_.createContext({});function Lb(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function Dg(e){return typeof e=="string"||Array.isArray(e)}const T3=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],D3=["initial",...T3];function $b(e){return Lb(e.animate)||D3.some(t=>Dg(e[t]))}function OM(e){return!!($b(e)||e.variants)}function pW(e,t){if($b(e)){const{initial:n,animate:a}=e;return{initial:n===!1||Dg(n)?n:void 0,animate:Dg(a)?a:void 0}}return e.inherit!==!1?t:{}}function gW(e){const{initial:t,animate:n}=pW(e,_.useContext(Ob));return _.useMemo(()=>({initial:t,animate:n}),[Qk(t),Qk(n)])}function Qk(e){return Array.isArray(e)?e.join(" "):e}const _W=Symbol.for("motionComponentSymbol");function sm(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function vW(e,t,n){return _.useCallback(a=>{a&&e.onMount&&e.onMount(a),t&&(a?t.mount(a):t.unmount()),n&&(typeof n=="function"?n(a):sm(n)&&(n.current=a))},[t])}const A3=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),xW="framerAppearId",LM="data-"+A3(xW),$M=_.createContext({});function bW(e,t,n,a,r){var S,k;const{visualElement:i}=_.useContext(Ob),o=_.useContext(RM),c=_.useContext(Rb),l=_.useContext(h0).reducedMotion,d=_.useRef(null);a=a||o.renderer,!d.current&&a&&(d.current=a(e,{visualState:t,parent:i,props:n,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:l}));const f=d.current,g=_.useContext($M);f&&!f.projection&&r&&(f.type==="html"||f.type==="svg")&&yW(d.current,n,r,g);const b=_.useRef(!1);_.useInsertionEffect(()=>{f&&b.current&&f.update(n,c)});const w=n[LM],C=_.useRef(!!w&&!((S=window.MotionHandoffIsComplete)!=null&&S.call(window,w))&&((k=window.MotionHasOptimisedAnimation)==null?void 0:k.call(window,w)));return c3(()=>{f&&(b.current=!0,window.MotionIsMounted=!0,f.updateFeatures(),I3.render(f.render),C.current&&f.animationState&&f.animationState.animateChanges())}),_.useEffect(()=>{f&&(!C.current&&f.animationState&&f.animationState.animateChanges(),C.current&&(queueMicrotask(()=>{var E;(E=window.MotionHandoffMarkAsComplete)==null||E.call(window,w)}),C.current=!1))}),f}function yW(e,t,n,a){const{layoutId:r,layout:i,drag:o,dragConstraints:c,layoutScroll:l,layoutRoot:d,layoutCrossfade:f}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:PM(e.parent)),e.projection.setOptions({layoutId:r,layout:i,alwaysMeasureLayout:!!o||c&&sm(c),visualElement:e,animationType:typeof i=="string"?i:"both",initialPromotionConfig:a,crossfade:f,layoutScroll:l,layoutRoot:d})}function PM(e){if(e)return e.options.allowProjection!==!1?e.projection:PM(e.parent)}function wW({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:a,Component:r}){e&&uW(e);function i(c,l){let d;const f={..._.useContext(h0),...c,layoutId:jW(c)},{isStatic:g}=f,b=gW(c),w=a(c,g);if(!g&&o3){CW();const C=SW(f);d=C.MeasureLayout,b.visualElement=bW(r,w,f,t,C.ProjectionNode)}return s.jsxs(Ob.Provider,{value:b,children:[d&&b.visualElement?s.jsx(d,{visualElement:b.visualElement,...f}):null,n(r,c,vW(w,b.visualElement,l),w,g,b.visualElement)]})}i.displayName=`motion.${typeof r=="string"?r:`create(${r.displayName??r.name??""})`}`;const o=_.forwardRef(i);return o[_W]=r,o}function jW({layoutId:e}){const t=_.useContext(i3).id;return t&&e!==void 0?t+"-"+e:e}function CW(e,t){_.useContext(RM).strict}function SW(e){const{drag:t,layout:n}=jm;if(!t&&!n)return{};const a={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?a.MeasureLayout:void 0,ProjectionNode:a.ProjectionNode}}const Ag={};function NW(e){for(const t in e)Ag[t]=e[t],g3(t)&&(Ag[t].isCSSVariable=!0)}function FM(e,{layout:t,layoutId:n}){return ap.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Ag[e]||e==="opacity")}const kW={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},IW=sp.length;function EW(e,t,n){let a="",r=!0;for(let i=0;i<IW;i++){const o=sp[i],c=e[o];if(c===void 0)continue;let l=!0;if(typeof c=="number"?l=c===(o.startsWith("scale")?1:0):l=parseFloat(c)===0,!l||n){const d=IM(c,k3[o]);if(!l){r=!1;const f=kW[o]||o;a+=`${f}(${d}) `}n&&(t[o]=d)}}return a=a.trim(),n?a=n(t,r?"":a):r&&(a="none"),a}function M3(e,t,n){const{style:a,vars:r,transformOrigin:i}=e;let o=!1,c=!1;for(const l in t){const d=t[l];if(ap.has(l)){o=!0;continue}else if(g3(l)){r[l]=d;continue}else{const f=IM(d,k3[l]);l.startsWith("origin")?(c=!0,i[l]=f):a[l]=f}}if(t.transform||(o||n?a.transform=EW(t,e.transform,n):a.transform&&(a.transform="none")),c){const{originX:l="50%",originY:d="50%",originZ:f=0}=i;a.transformOrigin=`${l} ${d} ${f}`}}const R3=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function HM(e,t,n){for(const a in t)!Ui(t[a])&&!FM(a,n)&&(e[a]=t[a])}function TW({transformTemplate:e},t){return _.useMemo(()=>{const n=R3();return M3(n,t,e),Object.assign({},n.vars,n.style)},[t])}function DW(e,t){const n=e.style||{},a={};return HM(a,n,e),Object.assign(a,TW(e,t)),a}function AW(e,t){const n={},a=DW(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,a.userSelect=a.WebkitUserSelect=a.WebkitTouchCallout="none",a.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=a,n}const MW={offset:"stroke-dashoffset",array:"stroke-dasharray"},RW={offset:"strokeDashoffset",array:"strokeDasharray"};function BW(e,t,n=1,a=0,r=!0){e.pathLength=1;const i=r?MW:RW;e[i.offset]=Vs.transform(-a);const o=Vs.transform(t),c=Vs.transform(n);e[i.array]=`${o} ${c}`}function qM(e,{attrX:t,attrY:n,attrScale:a,pathLength:r,pathSpacing:i=1,pathOffset:o=0,...c},l,d,f){if(M3(e,c,d),l){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:g,style:b}=e;g.transform&&(b.transform=g.transform,delete g.transform),(b.transform||g.transformOrigin)&&(b.transformOrigin=g.transformOrigin??"50% 50%",delete g.transformOrigin),b.transform&&(b.transformBox=(f==null?void 0:f.transformBox)??"fill-box",delete g.transformBox),t!==void 0&&(g.x=t),n!==void 0&&(g.y=n),a!==void 0&&(g.scale=a),r!==void 0&&BW(g,r,i,o,!1)}const VM=()=>({...R3(),attrs:{}}),zM=e=>typeof e=="string"&&e.toLowerCase()==="svg";function OW(e,t,n,a){const r=_.useMemo(()=>{const i=VM();return qM(i,t,zM(a),e.transformTemplate,e.style),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};HM(i,e.style,e),r.style={...i,...r.style}}return r}const LW=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function B3(e){return typeof e!="string"||e.includes("-")?!1:!!(LW.indexOf(e)>-1||/[A-Z]/u.test(e))}function $W(e=!1){return(n,a,r,{latestValues:i},o)=>{const l=(B3(n)?OW:AW)(a,i,o,n),d=fW(a,typeof n=="string",e),f=n!==_.Fragment?{...d,...l,ref:r}:{},{children:g}=a,b=_.useMemo(()=>Ui(g)?g.get():g,[g]);return _.createElement(n,{...f,children:b})}}function Xk(e){const t=[{},{}];return e==null||e.values.forEach((n,a)=>{t[0][a]=n.get(),t[1][a]=n.getVelocity()}),t}function O3(e,t,n,a){if(typeof t=="function"){const[r,i]=Xk(a);t=t(n!==void 0?n:e.custom,r,i)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[r,i]=Xk(a);t=t(n!==void 0?n:e.custom,r,i)}return t}function Lv(e){return Ui(e)?e.get():e}function PW({scrapeMotionValuesFromProps:e,createRenderState:t},n,a,r){return{latestValues:FW(n,a,r,e),renderState:t()}}const UM=e=>(t,n)=>{const a=_.useContext(Ob),r=_.useContext(Rb),i=()=>PW(e,t,a,r);return n?i():c0(i)};function FW(e,t,n,a){const r={},i=a(e,{});for(const b in i)r[b]=Lv(i[b]);let{initial:o,animate:c}=e;const l=$b(e),d=OM(e);t&&d&&!l&&e.inherit!==!1&&(o===void 0&&(o=t.initial),c===void 0&&(c=t.animate));let f=n?n.initial===!1:!1;f=f||o===!1;const g=f?c:o;if(g&&typeof g!="boolean"&&!Lb(g)){const b=Array.isArray(g)?g:[g];for(let w=0;w<b.length;w++){const C=O3(e,b[w]);if(C){const{transitionEnd:S,transition:k,...E}=C;for(const D in E){let R=E[D];if(Array.isArray(R)){const P=f?R.length-1:0;R=R[P]}R!==null&&(r[D]=R)}for(const D in S)r[D]=S[D]}}}return r}function L3(e,t,n){var i;const{style:a}=e,r={};for(const o in a)(Ui(a[o])||t.style&&Ui(t.style[o])||FM(o,e)||((i=n==null?void 0:n.getValue(o))==null?void 0:i.liveStyle)!==void 0)&&(r[o]=a[o]);return r}const HW={useVisualState:UM({scrapeMotionValuesFromProps:L3,createRenderState:R3})};function WM(e,t,n){const a=L3(e,t,n);for(const r in e)if(Ui(e[r])||Ui(t[r])){const i=sp.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;a[i]=e[r]}return a}const qW={useVisualState:UM({scrapeMotionValuesFromProps:WM,createRenderState:VM})};function VW(e,t){return function(a,{forwardMotionProps:r}={forwardMotionProps:!1}){const o={...B3(a)?qW:HW,preloadedFeatures:e,useRender:$W(r),createVisualElement:t,Component:a};return wW(o)}}function Mg(e,t,n){const a=e.getProps();return O3(a,t,n!==void 0?n:a.custom,e)}const QC=e=>Array.isArray(e);function zW(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,qh(n))}function UW(e){return QC(e)?e[e.length-1]||0:e}function WW(e,t){const n=Mg(e,t);let{transitionEnd:a={},transition:r={},...i}=n||{};i={...i,...a};for(const o in i){const c=UW(i[o]);zW(e,o,c)}}function YW(e){return!!(Ui(e)&&e.add)}function XC(e,t){const n=e.getValue("willChange");if(YW(n))return n.add(t);if(!n&&Iu.WillChange){const a=new Iu.WillChange("auto");e.addValue("willChange",a),a.add(t)}}function YM(e){return e.props[LM]}const GW=e=>e!==null;function QW(e,{repeat:t,repeatType:n="loop"},a){const r=e.filter(GW),i=t&&n!=="loop"&&t%2===1?0:r.length-1;return r[i]}const XW={type:"spring",stiffness:500,damping:25,restSpeed:10},KW=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),ZW={type:"keyframes",duration:.8},JW={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},eY=(e,{keyframes:t})=>t.length>2?ZW:ap.has(e)?e.startsWith("scale")?KW(t[1]):XW:JW;function tY({when:e,delay:t,delayChildren:n,staggerChildren:a,staggerDirection:r,repeat:i,repeatType:o,repeatDelay:c,from:l,elapsed:d,...f}){return!!Object.keys(f).length}const $3=(e,t,n,a={},r,i)=>o=>{const c=N3(a,e)||{},l=c.delay||a.delay||0;let{elapsed:d=0}=a;d=d-Al(l);const f={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...c,delay:-d,onUpdate:b=>{t.set(b),c.onUpdate&&c.onUpdate(b)},onComplete:()=>{o(),c.onComplete&&c.onComplete()},name:e,motionValue:t,element:i?void 0:r};tY(c)||Object.assign(f,eY(e,f)),f.duration&&(f.duration=Al(f.duration)),f.repeatDelay&&(f.repeatDelay=Al(f.repeatDelay)),f.from!==void 0&&(f.keyframes[0]=f.from);let g=!1;if((f.type===!1||f.duration===0&&!f.repeatDelay)&&(f.duration=0,f.delay===0&&(g=!0)),(Iu.instantAnimations||Iu.skipAnimations)&&(g=!0,f.duration=0,f.delay=0),f.allowFlatten=!c.type&&!c.ease,g&&!i&&t.get()!==void 0){const b=QW(f.keyframes,c);if(b!==void 0){Lr.update(()=>{f.onUpdate(b),f.onComplete()});return}}return c.isSync?new Bb(f):new MU(f)};function nY({protectedKeys:e,needsAnimating:t},n){const a=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,a}function GM(e,t,{delay:n=0,transitionOverride:a,type:r}={}){let{transition:i=e.getDefaultTransition(),transitionEnd:o,...c}=t;a&&(i=a);const l=[],d=r&&e.animationState&&e.animationState.getState()[r];for(const f in c){const g=e.getValue(f,e.latestValues[f]??null),b=c[f];if(b===void 0||d&&nY(d,f))continue;const w={delay:n,...N3(i||{},f)},C=g.get();if(C!==void 0&&!g.isAnimating&&!Array.isArray(b)&&b===C&&!w.velocity)continue;let S=!1;if(window.MotionHandoffAnimation){const E=YM(e);if(E){const D=window.MotionHandoffAnimation(E,f,Lr);D!==null&&(w.startTime=D,S=!0)}}XC(e,f),g.start($3(f,g,b,e.shouldReduceMotion&&jM.has(f)?{type:!1}:w,e,S));const k=g.animation;k&&l.push(k)}return o&&Promise.all(l).then(()=>{Lr.update(()=>{o&&WW(e,o)})}),l}function KC(e,t,n={}){var l;const a=Mg(e,t,n.type==="exit"?(l=e.presenceContext)==null?void 0:l.custom:void 0);let{transition:r=e.getDefaultTransition()||{}}=a||{};n.transitionOverride&&(r=n.transitionOverride);const i=a?()=>Promise.all(GM(e,a,n)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(d=0)=>{const{delayChildren:f=0,staggerChildren:g,staggerDirection:b}=r;return sY(e,t,f+d,g,b,n)}:()=>Promise.resolve(),{when:c}=r;if(c){const[d,f]=c==="beforeChildren"?[i,o]:[o,i];return d().then(()=>f())}else return Promise.all([i(),o(n.delay)])}function sY(e,t,n=0,a=0,r=1,i){const o=[],c=(e.variantChildren.size-1)*a,l=r===1?(d=0)=>d*a:(d=0)=>c-d*a;return Array.from(e.variantChildren).sort(aY).forEach((d,f)=>{d.notify("AnimationStart",t),o.push(KC(d,t,{...i,delay:n+l(f)}).then(()=>d.notify("AnimationComplete",t)))}),Promise.all(o)}function aY(e,t){return e.sortNodePosition(t)}function rY(e,t,n={}){e.notify("AnimationStart",t);let a;if(Array.isArray(t)){const r=t.map(i=>KC(e,i,n));a=Promise.all(r)}else if(typeof t=="string")a=KC(e,t,n);else{const r=typeof t=="function"?Mg(e,t,n.custom):t;a=Promise.all(GM(e,r,n))}return a.then(()=>{e.notify("AnimationComplete",t)})}function QM(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let a=0;a<n;a++)if(t[a]!==e[a])return!1;return!0}const iY=D3.length;function XM(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?XM(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<iY;n++){const a=D3[n],r=e.props[a];(Dg(r)||r===!1)&&(t[a]=r)}return t}const oY=[...T3].reverse(),cY=T3.length;function lY(e){return t=>Promise.all(t.map(({animation:n,options:a})=>rY(e,n,a)))}function uY(e){let t=lY(e),n=Kk(),a=!0;const r=l=>(d,f)=>{var b;const g=Mg(e,f,l==="exit"?(b=e.presenceContext)==null?void 0:b.custom:void 0);if(g){const{transition:w,transitionEnd:C,...S}=g;d={...d,...S,...C}}return d};function i(l){t=l(e)}function o(l){const{props:d}=e,f=XM(e.parent)||{},g=[],b=new Set;let w={},C=1/0;for(let k=0;k<cY;k++){const E=oY[k],D=n[E],R=d[E]!==void 0?d[E]:f[E],P=Dg(R),B=E===l?D.isActive:null;B===!1&&(C=k);let O=R===f[E]&&R!==d[E]&&P;if(O&&a&&e.manuallyAnimateOnMount&&(O=!1),D.protectedKeys={...w},!D.isActive&&B===null||!R&&!D.prevProp||Lb(R)||typeof R=="boolean")continue;const $=dY(D.prevProp,R);let U=$||E===l&&D.isActive&&!O&&P||k>C&&P,F=!1;const H=Array.isArray(R)?R:[R];let se=H.reduce(r(E),{});B===!1&&(se={});const{prevResolvedValues:K={}}=D,te={...K,...se},J=M=>{U=!0,b.has(M)&&(F=!0,b.delete(M)),D.needsAnimating[M]=!0;const ee=e.getValue(M);ee&&(ee.liveStyle=!1)};for(const M in te){const ee=se[M],Z=K[M];if(w.hasOwnProperty(M))continue;let A=!1;QC(ee)&&QC(Z)?A=!QM(ee,Z):A=ee!==Z,A?ee!=null?J(M):b.add(M):ee!==void 0&&b.has(M)?J(M):D.protectedKeys[M]=!0}D.prevProp=R,D.prevResolvedValues=se,D.isActive&&(w={...w,...se}),a&&e.blockInitialAnimation&&(U=!1),U&&(!(O&&$)||F)&&g.push(...H.map(M=>({animation:M,options:{type:E}})))}if(b.size){const k={};if(typeof d.initial!="boolean"){const E=Mg(e,Array.isArray(d.initial)?d.initial[0]:d.initial);E&&E.transition&&(k.transition=E.transition)}b.forEach(E=>{const D=e.getBaseTarget(E),R=e.getValue(E);R&&(R.liveStyle=!0),k[E]=D??null}),g.push({animation:k})}let S=!!g.length;return a&&(d.initial===!1||d.initial===d.animate)&&!e.manuallyAnimateOnMount&&(S=!1),a=!1,S?t(g):Promise.resolve()}function c(l,d){var g;if(n[l].isActive===d)return Promise.resolve();(g=e.variantChildren)==null||g.forEach(b=>{var w;return(w=b.animationState)==null?void 0:w.setActive(l,d)}),n[l].isActive=d;const f=o(l);for(const b in n)n[b].protectedKeys={};return f}return{animateChanges:o,setActive:c,setAnimateFunction:i,getState:()=>n,reset:()=>{n=Kk(),a=!0}}}function dY(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!QM(t,e):!1}function rh(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Kk(){return{animate:rh(!0),whileInView:rh(),whileHover:rh(),whileTap:rh(),whileDrag:rh(),whileFocus:rh(),exit:rh()}}class Ld{constructor(t){this.isMounted=!1,this.node=t}update(){}}class hY extends Ld{constructor(t){super(t),t.animationState||(t.animationState=uY(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Lb(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let fY=0;class mY extends Ld{constructor(){super(...arguments),this.id=fY++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:a}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===a)return;const r=this.node.animationState.setActive("exit",!t);n&&!t&&r.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const pY={animation:{Feature:hY},exit:{Feature:mY}};function Rg(e,t,n,a={passive:!0}){return e.addEventListener(t,n,a),()=>e.removeEventListener(t,n)}function f0(e){return{point:{x:e.pageX,y:e.pageY}}}const gY=e=>t=>E3(t)&&e(t,f0(t));function cg(e,t,n,a){return Rg(e,t,gY(n),a)}function KM({top:e,left:t,right:n,bottom:a}){return{x:{min:t,max:n},y:{min:e,max:a}}}function _Y({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function vY(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),a=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:a.y,right:a.x}}const ZM=1e-4,xY=1-ZM,bY=1+ZM,JM=.01,yY=0-JM,wY=0+JM;function Co(e){return e.max-e.min}function jY(e,t,n){return Math.abs(e-t)<=n}function Zk(e,t,n,a=.5){e.origin=a,e.originPoint=ti(t.min,t.max,e.origin),e.scale=Co(n)/Co(t),e.translate=ti(n.min,n.max,e.origin)-e.originPoint,(e.scale>=xY&&e.scale<=bY||isNaN(e.scale))&&(e.scale=1),(e.translate>=yY&&e.translate<=wY||isNaN(e.translate))&&(e.translate=0)}function lg(e,t,n,a){Zk(e.x,t.x,n.x,a?a.originX:void 0),Zk(e.y,t.y,n.y,a?a.originY:void 0)}function Jk(e,t,n){e.min=n.min+t.min,e.max=e.min+Co(t)}function CY(e,t,n){Jk(e.x,t.x,n.x),Jk(e.y,t.y,n.y)}function eI(e,t,n){e.min=t.min-n.min,e.max=e.min+Co(t)}function ug(e,t,n){eI(e.x,t.x,n.x),eI(e.y,t.y,n.y)}const tI=()=>({translate:0,scale:1,origin:0,originPoint:0}),am=()=>({x:tI(),y:tI()}),nI=()=>({min:0,max:0}),gi=()=>({x:nI(),y:nI()});function kc(e){return[e("x"),e("y")]}function Vw(e){return e===void 0||e===1}function ZC({scale:e,scaleX:t,scaleY:n}){return!Vw(e)||!Vw(t)||!Vw(n)}function mh(e){return ZC(e)||eR(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function eR(e){return sI(e.x)||sI(e.y)}function sI(e){return e&&e!=="0%"}function Dx(e,t,n){const a=e-n,r=t*a;return n+r}function aI(e,t,n,a,r){return r!==void 0&&(e=Dx(e,r,a)),Dx(e,n,a)+t}function JC(e,t=0,n=1,a,r){e.min=aI(e.min,t,n,a,r),e.max=aI(e.max,t,n,a,r)}function tR(e,{x:t,y:n}){JC(e.x,t.translate,t.scale,t.originPoint),JC(e.y,n.translate,n.scale,n.originPoint)}const rI=.999999999999,iI=1.0000000000001;function SY(e,t,n,a=!1){const r=n.length;if(!r)return;t.x=t.y=1;let i,o;for(let c=0;c<r;c++){i=n[c],o=i.projectionDelta;const{visualElement:l}=i.options;l&&l.props.style&&l.props.style.display==="contents"||(a&&i.options.layoutScroll&&i.scroll&&i!==i.root&&im(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,tR(e,o)),a&&mh(i.latestValues)&&im(e,i.latestValues))}t.x<iI&&t.x>rI&&(t.x=1),t.y<iI&&t.y>rI&&(t.y=1)}function rm(e,t){e.min=e.min+t,e.max=e.max+t}function oI(e,t,n,a,r=.5){const i=ti(e.min,e.max,r);JC(e,t,n,i,a)}function im(e,t){oI(e.x,t.x,t.scaleX,t.scale,t.originX),oI(e.y,t.y,t.scaleY,t.scale,t.originY)}function nR(e,t){return KM(vY(e.getBoundingClientRect(),t))}function NY(e,t,n){const a=nR(e,n),{scroll:r}=t;return r&&(rm(a.x,r.offset.x),rm(a.y,r.offset.y)),a}const sR=({current:e})=>e?e.ownerDocument.defaultView:null,cI=(e,t)=>Math.abs(e-t);function kY(e,t){const n=cI(e.x,t.x),a=cI(e.y,t.y);return Math.sqrt(n**2+a**2)}class aR{constructor(t,n,{transformPagePoint:a,contextWindow:r,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const g=Uw(this.lastMoveEventInfo,this.history),b=this.startEvent!==null,w=kY(g.offset,{x:0,y:0})>=3;if(!b&&!w)return;const{point:C}=g,{timestamp:S}=eo;this.history.push({...C,timestamp:S});const{onStart:k,onMove:E}=this.handlers;b||(k&&k(this.lastMoveEvent,g),this.startEvent=this.lastMoveEvent),E&&E(this.lastMoveEvent,g)},this.handlePointerMove=(g,b)=>{this.lastMoveEvent=g,this.lastMoveEventInfo=zw(b,this.transformPagePoint),Lr.update(this.updatePoint,!0)},this.handlePointerUp=(g,b)=>{this.end();const{onEnd:w,onSessionEnd:C,resumeAnimation:S}=this.handlers;if(this.dragSnapToOrigin&&S&&S(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const k=Uw(g.type==="pointercancel"?this.lastMoveEventInfo:zw(b,this.transformPagePoint),this.history);this.startEvent&&w&&w(g,k),C&&C(g,k)},!E3(t))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=a,this.contextWindow=r||window;const o=f0(t),c=zw(o,this.transformPagePoint),{point:l}=c,{timestamp:d}=eo;this.history=[{...l,timestamp:d}];const{onSessionStart:f}=n;f&&f(t,Uw(c,this.history)),this.removeListeners=l0(cg(this.contextWindow,"pointermove",this.handlePointerMove),cg(this.contextWindow,"pointerup",this.handlePointerUp),cg(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Eu(this.updatePoint)}}function zw(e,t){return t?{point:t(e.point)}:e}function lI(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Uw({point:e},t){return{point:e,delta:lI(e,rR(t)),offset:lI(e,IY(t)),velocity:EY(t,.1)}}function IY(e){return e[0]}function rR(e){return e[e.length-1]}function EY(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,a=null;const r=rR(e);for(;n>=0&&(a=e[n],!(r.timestamp-a.timestamp>Al(t)));)n--;if(!a)return{x:0,y:0};const i=Ml(r.timestamp-a.timestamp);if(i===0)return{x:0,y:0};const o={x:(r.x-a.x)/i,y:(r.y-a.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function TY(e,{min:t,max:n},a){return t!==void 0&&e<t?e=a?ti(t,e,a.min):Math.max(e,t):n!==void 0&&e>n&&(e=a?ti(n,e,a.max):Math.min(e,n)),e}function uI(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function DY(e,{top:t,left:n,bottom:a,right:r}){return{x:uI(e.x,n,r),y:uI(e.y,t,a)}}function dI(e,t){let n=t.min-e.min,a=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,a]=[a,n]),{min:n,max:a}}function AY(e,t){return{x:dI(e.x,t.x),y:dI(e.y,t.y)}}function MY(e,t){let n=.5;const a=Co(e),r=Co(t);return r>a?n=Ig(t.min,t.max-a,e.min):a>r&&(n=Ig(e.min,e.max-r,t.min)),ku(0,1,n)}function RY(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const eS=.35;function BY(e=eS){return e===!1?e=0:e===!0&&(e=eS),{x:hI(e,"left","right"),y:hI(e,"top","bottom")}}function hI(e,t,n){return{min:fI(e,t),max:fI(e,n)}}function fI(e,t){return typeof e=="number"?e:e[t]||0}const OY=new WeakMap;class LY{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=gi(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const r=f=>{const{dragSnapToOrigin:g}=this.getProps();g?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(f0(f).point)},i=(f,g)=>{const{drag:b,dragPropagation:w,onDragStart:C}=this.getProps();if(b&&!w&&(this.openDragLock&&this.openDragLock(),this.openDragLock=QU(b),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),kc(k=>{let E=this.getAxisMotionValue(k).get()||0;if(Rl.test(E)){const{projection:D}=this.visualElement;if(D&&D.layout){const R=D.layout.layoutBox[k];R&&(E=Co(R)*(parseFloat(E)/100))}}this.originPoint[k]=E}),C&&Lr.postRender(()=>C(f,g)),XC(this.visualElement,"transform");const{animationState:S}=this.visualElement;S&&S.setActive("whileDrag",!0)},o=(f,g)=>{const{dragPropagation:b,dragDirectionLock:w,onDirectionLock:C,onDrag:S}=this.getProps();if(!b&&!this.openDragLock)return;const{offset:k}=g;if(w&&this.currentDirection===null){this.currentDirection=$Y(k),this.currentDirection!==null&&C&&C(this.currentDirection);return}this.updateAxis("x",g.point,k),this.updateAxis("y",g.point,k),this.visualElement.render(),S&&S(f,g)},c=(f,g)=>this.stop(f,g),l=()=>kc(f=>{var g;return this.getAnimationState(f)==="paused"&&((g=this.getAxisMotionValue(f).animation)==null?void 0:g.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new aR(t,{onSessionStart:r,onStart:i,onMove:o,onSessionEnd:c,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,contextWindow:sR(this.visualElement)})}stop(t,n){const a=this.isDragging;if(this.cancel(),!a)return;const{velocity:r}=n;this.startAnimation(r);const{onDragEnd:i}=this.getProps();i&&Lr.postRender(()=>i(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:a}=this.getProps();!a&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,a){const{drag:r}=this.getProps();if(!a||!W_(t,r,this.currentDirection))return;const i=this.getAxisMotionValue(t);let o=this.originPoint[t]+a[t];this.constraints&&this.constraints[t]&&(o=TY(o,this.constraints[t],this.elastic[t])),i.set(o)}resolveConstraints(){var i;const{dragConstraints:t,dragElastic:n}=this.getProps(),a=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(i=this.visualElement.projection)==null?void 0:i.layout,r=this.constraints;t&&sm(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&a?this.constraints=DY(a.layoutBox,t):this.constraints=!1,this.elastic=BY(n),r!==this.constraints&&a&&this.constraints&&!this.hasMutatedConstraints&&kc(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=RY(a.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!sm(t))return!1;const a=t.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const i=NY(a,r.root,this.visualElement.getTransformPagePoint());let o=AY(r.layout.layoutBox,i);if(n){const c=n(_Y(o));this.hasMutatedConstraints=!!c,c&&(o=KM(c))}return o}startAnimation(t){const{drag:n,dragMomentum:a,dragElastic:r,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:c}=this.getProps(),l=this.constraints||{},d=kc(f=>{if(!W_(f,n,this.currentDirection))return;let g=l&&l[f]||{};o&&(g={min:0,max:0});const b=r?200:1e6,w=r?40:1e7,C={type:"inertia",velocity:a?t[f]:0,bounceStiffness:b,bounceDamping:w,timeConstant:750,restDelta:1,restSpeed:10,...i,...g};return this.startAxisValueAnimation(f,C)});return Promise.all(d).then(c)}startAxisValueAnimation(t,n){const a=this.getAxisMotionValue(t);return XC(this.visualElement,t),a.start($3(t,a,0,n,this.visualElement,!1))}stopAnimation(){kc(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){kc(t=>{var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,a=this.visualElement.getProps(),r=a[n];return r||this.visualElement.getValue(t,(a.initial?a.initial[t]:void 0)||0)}snapToCursor(t){kc(n=>{const{drag:a}=this.getProps();if(!W_(n,a,this.currentDirection))return;const{projection:r}=this.visualElement,i=this.getAxisMotionValue(n);if(r&&r.layout){const{min:o,max:c}=r.layout.layoutBox[n];i.set(t[n]-ti(o,c,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:a}=this.visualElement;if(!sm(n)||!a||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};kc(o=>{const c=this.getAxisMotionValue(o);if(c&&this.constraints!==!1){const l=c.get();r[o]=MY({min:l,max:l},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",a.root&&a.root.updateScroll(),a.updateLayout(),this.resolveConstraints(),kc(o=>{if(!W_(o,t,null))return;const c=this.getAxisMotionValue(o),{min:l,max:d}=this.constraints[o];c.set(ti(l,d,r[o]))})}addListeners(){if(!this.visualElement.current)return;OY.set(this.visualElement,this);const t=this.visualElement.current,n=cg(t,"pointerdown",l=>{const{drag:d,dragListener:f=!0}=this.getProps();d&&f&&this.start(l)}),a=()=>{const{dragConstraints:l}=this.getProps();sm(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,i=r.addEventListener("measure",a);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),Lr.read(a);const o=Rg(window,"resize",()=>this.scalePositionWithinConstraints()),c=r.addEventListener("didUpdate",({delta:l,hasLayoutChanged:d})=>{this.isDragging&&d&&(kc(f=>{const g=this.getAxisMotionValue(f);g&&(this.originPoint[f]+=l[f].translate,g.set(g.get()+l[f].translate))}),this.visualElement.render())});return()=>{o(),n(),i(),c&&c()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:a=!1,dragPropagation:r=!1,dragConstraints:i=!1,dragElastic:o=eS,dragMomentum:c=!0}=t;return{...t,drag:n,dragDirectionLock:a,dragPropagation:r,dragConstraints:i,dragElastic:o,dragMomentum:c}}}function W_(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function $Y(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class PY extends Ld{constructor(t){super(t),this.removeGroupControls=Mc,this.removeListeners=Mc,this.controls=new LY(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Mc}unmount(){this.removeGroupControls(),this.removeListeners()}}const mI=e=>(t,n)=>{e&&Lr.postRender(()=>e(t,n))};class FY extends Ld{constructor(){super(...arguments),this.removePointerDownListener=Mc}onPointerDown(t){this.session=new aR(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:sR(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:a,onPanEnd:r}=this.node.getProps();return{onSessionStart:mI(t),onStart:mI(n),onMove:a,onEnd:(i,o)=>{delete this.session,r&&Lr.postRender(()=>r(i,o))}}}mount(){this.removePointerDownListener=cg(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const $v={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function pI(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const l1={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Vs.test(e))e=parseFloat(e);else return e;const n=pI(e,t.target.x),a=pI(e,t.target.y);return`${n}% ${a}%`}},HY={correct:(e,{treeScale:t,projectionDelta:n})=>{const a=e,r=Dd.parse(e);if(r.length>5)return a;const i=Dd.createTransformer(e),o=typeof r[0]!="number"?1:0,c=n.x.scale*t.x,l=n.y.scale*t.y;r[0+o]/=c,r[1+o]/=l;const d=ti(c,l,.5);return typeof r[2+o]=="number"&&(r[2+o]/=d),typeof r[3+o]=="number"&&(r[3+o]/=d),i(r)}};class qY extends _.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:a,layoutId:r}=this.props,{projection:i}=t;NW(VY),i&&(n.group&&n.group.add(i),a&&a.register&&r&&a.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),$v.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:a,drag:r,isPresent:i}=this.props,{projection:o}=a;return o&&(o.isPresent=i,r||t.layoutDependency!==n||n===void 0||t.isPresent!==i?o.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?o.promote():o.relegate()||Lr.postRender(()=>{const c=o.getStack();(!c||!c.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),I3.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:a}=this.props,{projection:r}=t;r&&(r.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(r),a&&a.deregister&&a.deregister(r))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function iR(e){const[t,n]=MM(),a=_.useContext(i3);return s.jsx(qY,{...e,layoutGroup:a,switchLayoutGroup:_.useContext($M),isPresent:t,safeToRemove:n})}const VY={borderRadius:{...l1,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:l1,borderTopRightRadius:l1,borderBottomLeftRadius:l1,borderBottomRightRadius:l1,boxShadow:HY};function zY(e,t,n){const a=Ui(e)?e:qh(e);return a.start($3("",a,t,n)),a.animation}const UY=(e,t)=>e.depth-t.depth;class WY{constructor(){this.children=[],this.isDirty=!1}add(t){l3(this.children,t),this.isDirty=!0}remove(t){u3(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(UY),this.isDirty=!1,this.children.forEach(t)}}function YY(e,t){const n=Lo.now(),a=({timestamp:r})=>{const i=r-n;i>=t&&(Eu(a),e(i-t))};return Lr.setup(a,!0),()=>Eu(a)}const oR=["TopLeft","TopRight","BottomLeft","BottomRight"],GY=oR.length,gI=e=>typeof e=="string"?parseFloat(e):e,_I=e=>typeof e=="number"||Vs.test(e);function QY(e,t,n,a,r,i){r?(e.opacity=ti(0,n.opacity??1,XY(a)),e.opacityExit=ti(t.opacity??1,0,KY(a))):i&&(e.opacity=ti(t.opacity??1,n.opacity??1,a));for(let o=0;o<GY;o++){const c=`border${oR[o]}Radius`;let l=vI(t,c),d=vI(n,c);if(l===void 0&&d===void 0)continue;l||(l=0),d||(d=0),l===0||d===0||_I(l)===_I(d)?(e[c]=Math.max(ti(gI(l),gI(d),a),0),(Rl.test(d)||Rl.test(l))&&(e[c]+="%")):e[c]=d}(t.rotate||n.rotate)&&(e.rotate=ti(t.rotate||0,n.rotate||0,a))}function vI(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const XY=cR(0,.5,JA),KY=cR(.5,.95,Mc);function cR(e,t,n){return a=>a<e?0:a>t?1:n(Ig(e,t,a))}function xI(e,t){e.min=t.min,e.max=t.max}function xc(e,t){xI(e.x,t.x),xI(e.y,t.y)}function bI(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function yI(e,t,n,a,r){return e-=t,e=Dx(e,1/n,a),r!==void 0&&(e=Dx(e,1/r,a)),e}function ZY(e,t=0,n=1,a=.5,r,i=e,o=e){if(Rl.test(t)&&(t=parseFloat(t),t=ti(o.min,o.max,t/100)-o.min),typeof t!="number")return;let c=ti(i.min,i.max,a);e===i&&(c-=t),e.min=yI(e.min,t,n,c,r),e.max=yI(e.max,t,n,c,r)}function wI(e,t,[n,a,r],i,o){ZY(e,t[n],t[a],t[r],t.scale,i,o)}const JY=["x","scaleX","originX"],eG=["y","scaleY","originY"];function jI(e,t,n,a){wI(e.x,t,JY,n?n.x:void 0,a?a.x:void 0),wI(e.y,t,eG,n?n.y:void 0,a?a.y:void 0)}function CI(e){return e.translate===0&&e.scale===1}function lR(e){return CI(e.x)&&CI(e.y)}function SI(e,t){return e.min===t.min&&e.max===t.max}function tG(e,t){return SI(e.x,t.x)&&SI(e.y,t.y)}function NI(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function uR(e,t){return NI(e.x,t.x)&&NI(e.y,t.y)}function kI(e){return Co(e.x)/Co(e.y)}function II(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class nG{constructor(){this.members=[]}add(t){l3(this.members,t),t.scheduleRender()}remove(t){if(u3(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(r=>t===r);if(n===0)return!1;let a;for(let r=n;r>=0;r--){const i=this.members[r];if(i.isPresent!==!1){a=i;break}}return a?(this.promote(a),!0):!1}promote(t,n){const a=this.lead;if(t!==a&&(this.prevLead=a,this.lead=t,t.show(),a)){a.instance&&a.scheduleRender(),t.scheduleRender(),t.resumeFrom=a,n&&(t.resumeFrom.preserveOpacity=!0),a.snapshot&&(t.snapshot=a.snapshot,t.snapshot.latestValues=a.animationValues||a.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:r}=t.options;r===!1&&a.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:a}=t;n.onExitComplete&&n.onExitComplete(),a&&a.options.onExitComplete&&a.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function sG(e,t,n){let a="";const r=e.x.translate/t.x,i=e.y.translate/t.y,o=(n==null?void 0:n.z)||0;if((r||i||o)&&(a=`translate3d(${r}px, ${i}px, ${o}px) `),(t.x!==1||t.y!==1)&&(a+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:d,rotate:f,rotateX:g,rotateY:b,skewX:w,skewY:C}=n;d&&(a=`perspective(${d}px) ${a}`),f&&(a+=`rotate(${f}deg) `),g&&(a+=`rotateX(${g}deg) `),b&&(a+=`rotateY(${b}deg) `),w&&(a+=`skewX(${w}deg) `),C&&(a+=`skewY(${C}deg) `)}const c=e.x.scale*t.x,l=e.y.scale*t.y;return(c!==1||l!==1)&&(a+=`scale(${c}, ${l})`),a||"none"}const Ww=["","X","Y","Z"],aG={visibility:"hidden"},rG=1e3;let iG=0;function Yw(e,t,n,a){const{latestValues:r}=t;r[e]&&(n[e]=r[e],t.setStaticValue(e,0),a&&(a[e]=0))}function dR(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=YM(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:r,layoutId:i}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",Lr,!(r||i))}const{parent:a}=e;a&&!a.hasCheckedOptimisedAppear&&dR(a)}function hR({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:a,resetTransform:r}){return class{constructor(o={},c=t==null?void 0:t()){this.id=iG++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(lG),this.nodes.forEach(mG),this.nodes.forEach(pG),this.nodes.forEach(uG)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=c?c.root||c:this,this.path=c?[...c.path,c]:[],this.parent=c,this.depth=c?c.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new WY)}addEventListener(o,c){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new f3),this.eventHandlers.get(o).add(c)}notifyListeners(o,...c){const l=this.eventHandlers.get(o);l&&l.notify(...c)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=AM(o)&&!tW(o),this.instance=o;const{layoutId:c,layout:l,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||c)&&(this.isLayoutDirty=!0),e){let f;const g=()=>this.root.updateBlockedByResize=!1;e(o,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=YY(g,250),$v.hasAnimatedSinceResize&&($v.hasAnimatedSinceResize=!1,this.nodes.forEach(TI))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&d&&(c||l)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:g,hasRelativeLayoutChanged:b,layout:w})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const C=this.options.transition||d.getDefaultTransition()||bG,{onLayoutAnimationStart:S,onLayoutAnimationComplete:k}=d.getProps(),E=!this.targetLayout||!uR(this.targetLayout,w),D=!g&&b;if(this.options.layoutRoot||this.resumeFrom||D||g&&(E||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const R={...N3(C,"layout"),onPlay:S,onComplete:k};(d.shouldReduceMotion||this.options.layoutRoot)&&(R.delay=0,R.type=!1),this.startAnimation(R),this.setAnimationOrigin(f,D)}else g||TI(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=w})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Eu(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(gG),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&dR(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let f=0;f<this.path.length;f++){const g=this.path[f];g.shouldResetTransform=!0,g.updateScroll("snapshot"),g.options.layoutRoot&&g.willUpdate(!1)}const{layoutId:c,layout:l}=this.options;if(c===void 0&&!l)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(EI);return}this.isUpdating||this.nodes.forEach(hG),this.isUpdating=!1,this.nodes.forEach(fG),this.nodes.forEach(oG),this.nodes.forEach(cG),this.clearAllSnapshots();const c=Lo.now();eo.delta=ku(0,1e3/60,c-eo.timestamp),eo.timestamp=c,eo.isProcessing=!0,$w.update.process(eo),$w.preRender.process(eo),$w.render.process(eo),eo.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,I3.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(dG),this.sharedNodes.forEach(_G)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Lr.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Lr.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Co(this.snapshot.measuredBox.x)&&!Co(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=gi(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:c}=this.options;c&&c.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let c=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(c=!1),c&&this.instance){const l=a(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!r)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,c=this.projectionDelta&&!lR(this.projectionDelta),l=this.getTransformTemplate(),d=l?l(this.latestValues,""):void 0,f=d!==this.prevTransformTemplateValue;o&&this.instance&&(c||mh(this.latestValues)||f)&&(r(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const c=this.measurePageBox();let l=this.removeElementScroll(c);return o&&(l=this.removeTransform(l)),yG(l),{animationId:this.root.animationId,measuredBox:c,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var d;const{visualElement:o}=this.options;if(!o)return gi();const c=o.measureViewportBox();if(!(((d=this.scroll)==null?void 0:d.wasRoot)||this.path.some(wG))){const{scroll:f}=this.root;f&&(rm(c.x,f.offset.x),rm(c.y,f.offset.y))}return c}removeElementScroll(o){var l;const c=gi();if(xc(c,o),(l=this.scroll)!=null&&l.wasRoot)return c;for(let d=0;d<this.path.length;d++){const f=this.path[d],{scroll:g,options:b}=f;f!==this.root&&g&&b.layoutScroll&&(g.wasRoot&&xc(c,o),rm(c.x,g.offset.x),rm(c.y,g.offset.y))}return c}applyTransform(o,c=!1){const l=gi();xc(l,o);for(let d=0;d<this.path.length;d++){const f=this.path[d];!c&&f.options.layoutScroll&&f.scroll&&f!==f.root&&im(l,{x:-f.scroll.offset.x,y:-f.scroll.offset.y}),mh(f.latestValues)&&im(l,f.latestValues)}return mh(this.latestValues)&&im(l,this.latestValues),l}removeTransform(o){const c=gi();xc(c,o);for(let l=0;l<this.path.length;l++){const d=this.path[l];if(!d.instance||!mh(d.latestValues))continue;ZC(d.latestValues)&&d.updateSnapshot();const f=gi(),g=d.measurePageBox();xc(f,g),jI(c,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,f)}return mh(this.latestValues)&&jI(c,this.latestValues),c}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==eo.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var b;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==c;if(!(o||l&&this.isSharedProjectionDirty||this.isProjectionDirty||(b=this.parent)!=null&&b.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:f,layoutId:g}=this.options;if(!(!this.layout||!(f||g))){if(this.resolvedRelativeTargetAt=eo.timestamp,!this.targetDelta&&!this.relativeTarget){const w=this.getClosestProjectingParent();w&&w.layout&&this.animationProgress!==1?(this.relativeParent=w,this.forceRelativeParentToResolveTarget(),this.relativeTarget=gi(),this.relativeTargetOrigin=gi(),ug(this.relativeTargetOrigin,this.layout.layoutBox,w.layout.layoutBox),xc(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=gi(),this.targetWithTransforms=gi()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),CY(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):xc(this.target,this.layout.layoutBox),tR(this.target,this.targetDelta)):xc(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const w=this.getClosestProjectingParent();w&&!!w.resumingFrom==!!this.resumingFrom&&!w.options.layoutScroll&&w.target&&this.animationProgress!==1?(this.relativeParent=w,this.forceRelativeParentToResolveTarget(),this.relativeTarget=gi(),this.relativeTargetOrigin=gi(),ug(this.relativeTargetOrigin,this.target,w.target),xc(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||ZC(this.parent.latestValues)||eR(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var C;const o=this.getLead(),c=!!this.resumingFrom||this!==o;let l=!0;if((this.isProjectionDirty||(C=this.parent)!=null&&C.isProjectionDirty)&&(l=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===eo.timestamp&&(l=!1),l)return;const{layout:d,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||f))return;xc(this.layoutCorrected,this.layout.layoutBox);const g=this.treeScale.x,b=this.treeScale.y;SY(this.layoutCorrected,this.treeScale,this.path,c),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=gi());const{target:w}=o;if(!w){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(bI(this.prevProjectionDelta.x,this.projectionDelta.x),bI(this.prevProjectionDelta.y,this.projectionDelta.y)),lg(this.projectionDelta,this.layoutCorrected,w,this.latestValues),(this.treeScale.x!==g||this.treeScale.y!==b||!II(this.projectionDelta.x,this.prevProjectionDelta.x)||!II(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",w))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var c;if((c=this.options.visualElement)==null||c.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=am(),this.projectionDelta=am(),this.projectionDeltaWithTransform=am()}setAnimationOrigin(o,c=!1){const l=this.snapshot,d=l?l.latestValues:{},f={...this.latestValues},g=am();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!c;const b=gi(),w=l?l.source:void 0,C=this.layout?this.layout.source:void 0,S=w!==C,k=this.getStack(),E=!k||k.members.length<=1,D=!!(S&&!E&&this.options.crossfade===!0&&!this.path.some(xG));this.animationProgress=0;let R;this.mixTargetDelta=P=>{const B=P/1e3;DI(g.x,o.x,B),DI(g.y,o.y,B),this.setTargetDelta(g),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(ug(b,this.layout.layoutBox,this.relativeParent.layout.layoutBox),vG(this.relativeTarget,this.relativeTargetOrigin,b,B),R&&tG(this.relativeTarget,R)&&(this.isProjectionDirty=!1),R||(R=gi()),xc(R,this.relativeTarget)),S&&(this.animationValues=f,QY(f,d,this.latestValues,B,D,E)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=B},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var c,l,d;this.notifyListeners("animationStart"),(c=this.currentAnimation)==null||c.stop(),(d=(l=this.resumingFrom)==null?void 0:l.currentAnimation)==null||d.stop(),this.pendingAnimation&&(Eu(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Lr.update(()=>{$v.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=qh(0)),this.currentAnimation=zY(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:f=>{this.mixTargetDelta(f),o.onUpdate&&o.onUpdate(f)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(rG),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:c,target:l,layout:d,latestValues:f}=o;if(!(!c||!l||!d)){if(this!==o&&this.layout&&d&&fR(this.options.animationType,this.layout.layoutBox,d.layoutBox)){l=this.target||gi();const g=Co(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+g;const b=Co(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+b}xc(c,l),im(c,f),lg(this.projectionDeltaWithTransform,this.layoutCorrected,c,f)}}registerSharedNode(o,c){this.sharedNodes.has(o)||this.sharedNodes.set(o,new nG),this.sharedNodes.get(o).add(c);const d=c.options.initialPromotionConfig;c.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(c):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var c;const{layoutId:o}=this.options;return o?((c=this.getStack())==null?void 0:c.lead)||this:this}getPrevLead(){var c;const{layoutId:o}=this.options;return o?(c=this.getStack())==null?void 0:c.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:c,preserveFollowOpacity:l}={}){const d=this.getStack();d&&d.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),c&&this.setOptions({transition:c})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let c=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(c=!0),!c)return;const d={};l.z&&Yw("z",o,d,this.animationValues);for(let f=0;f<Ww.length;f++)Yw(`rotate${Ww[f]}`,o,d,this.animationValues),Yw(`skew${Ww[f]}`,o,d,this.animationValues);o.render();for(const f in d)o.setStaticValue(f,d[f]),this.animationValues&&(this.animationValues[f]=d[f]);o.scheduleRender()}getProjectionStyles(o){if(!this.instance||this.isSVG)return;if(!this.isVisible)return aG;const c={visibility:""},l=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=Lv(o==null?void 0:o.pointerEvents)||"",c.transform=l?l(this.latestValues,""):"none",c;const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){const w={};return this.options.layoutId&&(w.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,w.pointerEvents=Lv(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!mh(this.latestValues)&&(w.transform=l?l({},""):"none",this.hasProjected=!1),w}const f=d.animationValues||d.latestValues;this.applyTransformsToTarget(),c.transform=sG(this.projectionDeltaWithTransform,this.treeScale,f),l&&(c.transform=l(f,c.transform));const{x:g,y:b}=this.projectionDelta;c.transformOrigin=`${g.origin*100}% ${b.origin*100}% 0`,d.animationValues?c.opacity=d===this?f.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:c.opacity=d===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const w in Ag){if(f[w]===void 0)continue;const{correct:C,applyTo:S,isCSSVariable:k}=Ag[w],E=c.transform==="none"?f[w]:C(f[w],d);if(S){const D=S.length;for(let R=0;R<D;R++)c[S[R]]=E}else k?this.options.visualElement.renderState.vars[w]=E:c[w]=E}return this.options.layoutId&&(c.pointerEvents=d===this?Lv(o==null?void 0:o.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var c;return(c=o.currentAnimation)==null?void 0:c.stop()}),this.root.nodes.forEach(EI),this.root.sharedNodes.clear()}}}function oG(e){e.updateLayout()}function cG(e){var n;const t=((n=e.resumeFrom)==null?void 0:n.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:a,measuredBox:r}=e.layout,{animationType:i}=e.options,o=t.source!==e.layout.source;i==="size"?kc(g=>{const b=o?t.measuredBox[g]:t.layoutBox[g],w=Co(b);b.min=a[g].min,b.max=b.min+w}):fR(i,t.layoutBox,a)&&kc(g=>{const b=o?t.measuredBox[g]:t.layoutBox[g],w=Co(a[g]);b.max=b.min+w,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[g].max=e.relativeTarget[g].min+w)});const c=am();lg(c,a,t.layoutBox);const l=am();o?lg(l,e.applyTransform(r,!0),t.measuredBox):lg(l,a,t.layoutBox);const d=!lR(c);let f=!1;if(!e.resumeFrom){const g=e.getClosestProjectingParent();if(g&&!g.resumeFrom){const{snapshot:b,layout:w}=g;if(b&&w){const C=gi();ug(C,t.layoutBox,b.layoutBox);const S=gi();ug(S,a,w.layoutBox),uR(C,S)||(f=!0),g.options.layoutRoot&&(e.relativeTarget=S,e.relativeTargetOrigin=C,e.relativeParent=g)}}}e.notifyListeners("didUpdate",{layout:a,snapshot:t,delta:l,layoutDelta:c,hasLayoutChanged:d,hasRelativeLayoutChanged:f})}else if(e.isLead()){const{onExitComplete:a}=e.options;a&&a()}e.options.transition=void 0}function lG(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function uG(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function dG(e){e.clearSnapshot()}function EI(e){e.clearMeasurements()}function hG(e){e.isLayoutDirty=!1}function fG(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function TI(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function mG(e){e.resolveTargetDelta()}function pG(e){e.calcProjection()}function gG(e){e.resetSkewAndRotation()}function _G(e){e.removeLeadSnapshot()}function DI(e,t,n){e.translate=ti(t.translate,0,n),e.scale=ti(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function AI(e,t,n,a){e.min=ti(t.min,n.min,a),e.max=ti(t.max,n.max,a)}function vG(e,t,n,a){AI(e.x,t.x,n.x,a),AI(e.y,t.y,n.y,a)}function xG(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const bG={duration:.45,ease:[.4,0,.1,1]},MI=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),RI=MI("applewebkit/")&&!MI("chrome/")?Math.round:Mc;function BI(e){e.min=RI(e.min),e.max=RI(e.max)}function yG(e){BI(e.x),BI(e.y)}function fR(e,t,n){return e==="position"||e==="preserve-aspect"&&!jY(kI(t),kI(n),.2)}function wG(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const jG=hR({attachResizeListener:(e,t)=>Rg(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Gw={current:void 0},mR=hR({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Gw.current){const e=new jG({});e.mount(window),e.setOptions({layoutScroll:!0}),Gw.current=e}return Gw.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),CG={pan:{Feature:FY},drag:{Feature:PY,ProjectionNode:mR,MeasureLayout:iR}};function OI(e,t,n){const{props:a}=e;e.animationState&&a.whileHover&&e.animationState.setActive("whileHover",n==="Start");const r="onHover"+n,i=a[r];i&&Lr.postRender(()=>i(t,f0(t)))}class SG extends Ld{mount(){const{current:t}=this.node;t&&(this.unmount=XU(t,(n,a)=>(OI(this.node,a,"Start"),r=>OI(this.node,r,"End"))))}unmount(){}}class NG extends Ld{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=l0(Rg(this.node.current,"focus",()=>this.onFocus()),Rg(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function LI(e,t,n){const{props:a}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&a.whileTap&&e.animationState.setActive("whileTap",n==="Start");const r="onTap"+(n==="End"?"":n),i=a[r];i&&Lr.postRender(()=>i(t,f0(t)))}class kG extends Ld{mount(){const{current:t}=this.node;t&&(this.unmount=eW(t,(n,a)=>(LI(this.node,a,"Start"),(r,{success:i})=>LI(this.node,r,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const tS=new WeakMap,Qw=new WeakMap,IG=e=>{const t=tS.get(e.target);t&&t(e)},EG=e=>{e.forEach(IG)};function TG({root:e,...t}){const n=e||document;Qw.has(n)||Qw.set(n,{});const a=Qw.get(n),r=JSON.stringify(t);return a[r]||(a[r]=new IntersectionObserver(EG,{root:e,...t})),a[r]}function DG(e,t,n){const a=TG(t);return tS.set(e,n),a.observe(e),()=>{tS.delete(e),a.unobserve(e)}}const AG={some:0,all:1};class MG extends Ld{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:a,amount:r="some",once:i}=t,o={root:n?n.current:void 0,rootMargin:a,threshold:typeof r=="number"?r:AG[r]},c=l=>{const{isIntersecting:d}=l;if(this.isInView===d||(this.isInView=d,i&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:f,onViewportLeave:g}=this.node.getProps(),b=d?f:g;b&&b(l)};return DG(this.node.current,o,c)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(RG(t,n))&&this.startObserver()}unmount(){}}function RG({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const BG={inView:{Feature:MG},tap:{Feature:kG},focus:{Feature:NG},hover:{Feature:SG}},OG={layout:{ProjectionNode:mR,MeasureLayout:iR}},nS={current:null},pR={current:!1};function LG(){if(pR.current=!0,!!o3)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>nS.current=e.matches;e.addListener(t),t()}else nS.current=!1}const $G=new WeakMap;function PG(e,t,n){for(const a in t){const r=t[a],i=n[a];if(Ui(r))e.addValue(a,r);else if(Ui(i))e.addValue(a,qh(r,{owner:e}));else if(i!==r)if(e.hasValue(a)){const o=e.getValue(a);o.liveStyle===!0?o.jump(r):o.hasAnimated||o.set(r)}else{const o=e.getStaticValue(a);e.addValue(a,qh(o!==void 0?o:r,{owner:e}))}}for(const a in n)t[a]===void 0&&e.removeValue(a);return t}const $I=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class FG{scrapeMotionValuesFromProps(t,n,a){return{}}constructor({parent:t,props:n,presenceContext:a,reducedMotionConfig:r,blockInitialAnimation:i,visualState:o},c={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=C3,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const b=Lo.now();this.renderScheduledAt<b&&(this.renderScheduledAt=b,Lr.render(this.render,!1,!0))};const{latestValues:l,renderState:d}=o;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=d,this.parent=t,this.props=n,this.presenceContext=a,this.depth=t?t.depth+1:0,this.reducedMotionConfig=r,this.options=c,this.blockInitialAnimation=!!i,this.isControllingVariants=$b(n),this.isVariantNode=OM(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:f,...g}=this.scrapeMotionValuesFromProps(n,{},this);for(const b in g){const w=g[b];l[b]!==void 0&&Ui(w)&&w.set(l[b],!1)}}mount(t){this.current=t,$G.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,a)=>this.bindToMotionValue(a,n)),pR.current||LG(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:nS.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Eu(this.notifyUpdate),Eu(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const a=ap.has(t);a&&this.onBindTransform&&this.onBindTransform();const r=n.on("change",c=>{this.latestValues[t]=c,this.props.onUpdate&&Lr.preRender(this.notifyUpdate),a&&this.projection&&(this.projection.isTransformDirty=!0)}),i=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{r(),i(),o&&o(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in jm){const n=jm[t];if(!n)continue;const{isEnabled:a,Feature:r}=n;if(!this.features[t]&&r&&a(this.props)&&(this.features[t]=new r(this)),this.features[t]){const i=this.features[t];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):gi()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let a=0;a<$I.length;a++){const r=$I[a];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);const i="on"+r,o=t[i];o&&(this.propEventSubscriptions[r]=this.on(r,o))}this.prevMotionValues=PG(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const a=this.values.get(t);n!==a&&(a&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let a=this.values.get(t);return a===void 0&&n!==void 0&&(a=qh(n===null?void 0:n,{owner:this}),this.addValue(t,a)),a}readValue(t,n){let a=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return a!=null&&(typeof a=="string"&&(VA(a)||UA(a))?a=parseFloat(a):!rW(a)&&Dd.test(n)&&(a=kM(t,n)),this.setBaseTarget(t,Ui(a)?a.get():a)),Ui(a)?a.get():a}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var i;const{initial:n}=this.props;let a;if(typeof n=="string"||typeof n=="object"){const o=O3(this.props,n,(i=this.presenceContext)==null?void 0:i.custom);o&&(a=o[t])}if(n&&a!==void 0)return a;const r=this.getBaseTargetFromProps(this.props,t);return r!==void 0&&!Ui(r)?r:this.initialValues[t]!==void 0&&a===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new f3),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class gR extends FG{constructor(){super(...arguments),this.KeyframeResolver=UU}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:a}){delete n[t],delete a[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Ui(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function _R(e,{style:t,vars:n},a,r){Object.assign(e.style,t,r&&r.getProjectionStyles(a));for(const i in n)e.style.setProperty(i,n[i])}function HG(e){return window.getComputedStyle(e)}class qG extends gR{constructor(){super(...arguments),this.type="html",this.renderInstance=_R}readValueFromInstance(t,n){var a;if(ap.has(n))return(a=this.projection)!=null&&a.isProjecting?VC(n):uU(t,n);{const r=HG(t),i=(g3(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:n}){return nR(t,n)}build(t,n,a){M3(t,n,a.transformTemplate)}scrapeMotionValuesFromProps(t,n,a){return L3(t,n,a)}}const vR=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function VG(e,t,n,a){_R(e,t,void 0,a);for(const r in t.attrs)e.setAttribute(vR.has(r)?r:A3(r),t.attrs[r])}class zG extends gR{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=gi}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(ap.has(n)){const a=NM(n);return a&&a.default||0}return n=vR.has(n)?n:A3(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,a){return WM(t,n,a)}build(t,n,a){qM(t,n,this.isSVGTag,a.transformTemplate,a.style)}renderInstance(t,n,a,r){VG(t,n,a,r)}mount(t){this.isSVGTag=zM(t.tagName),super.mount(t)}}const UG=(e,t)=>B3(e)?new zG(t):new qG(t,{allowProjection:e!==_.Fragment}),WG=VW({...pY,...BG,...CG,...OG},UG),os=mW(WG);function Bg(e){const t=c0(()=>qh(e)),{isStatic:n}=_.useContext(h0);if(n){const[,a]=_.useState(e);_.useEffect(()=>t.on("change",a),[])}return t}function xR(e,t){const n=Bg(t()),a=()=>n.set(t());return a(),c3(()=>{const r=()=>Lr.preRender(a,!1,!0),i=e.map(o=>o.on("change",r));return()=>{i.forEach(o=>o()),Eu(a)}}),n}function YG(e){og.current=[],e();const t=xR(og.current,e);return og.current=void 0,t}function Ax(e,t,n,a){if(typeof e=="function")return YG(e);const r=typeof t=="function"?t:nW(t,n,a);return Array.isArray(e)?PI(e,r):PI([e],([i])=>r(i))}function PI(e,t){const n=c0(()=>[]);return xR(e,()=>{n.length=0;const a=e.length;for(let r=0;r<a;r++)n[r]=e[r].get();return t(n)})}function bR(e,t={}){const{isStatic:n}=_.useContext(h0),a=()=>Ui(e)?e.get():e;if(n)return Ax(a);const r=Bg(a());return _.useInsertionEffect(()=>sW(r,e,t),[r,JSON.stringify(t)]),r}const ef=(e=768)=>{const[t,n]=_.useState(()=>typeof window<"u"?window.innerWidth<=e:!1);return _.useEffect(()=>{if(typeof window>"u")return;const a=window.matchMedia(`(max-width: ${e}px)`),r=i=>{n(i.matches)};return n(a.matches),a.addEventListener?a.addEventListener("change",r):a.addListener(r),()=>{a.removeEventListener?a.removeEventListener("change",r):a.removeListener(r)}},[e]),t},yR=_.createContext(null),GG=()=>{const e=_.useContext(yR);if(!e)throw new Error("useTooManyRequests must be used within TooManyRequestsProvider");return e},QG=({children:e})=>{const[t,n]=_.useState(!1),[a,r]=_.useState(null),[i,o]=_.useState(null),c=_.useCallback((f=null,g=null)=>{r(f),o(()=>g),n(!0)},[]),l=_.useCallback(()=>{n(!1),r(null),o(null)},[]),d=_.useCallback(async()=>{if(i){l();try{await i()}catch(f){console.error("   :",f)}}},[i,l]);return s.jsx(yR.Provider,{value:{isOpen:t,retryAfter:a,showModal:c,hideModal:l,retryRequest:d},children:e})};var wR={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},FI=nt.createContext&&nt.createContext(wR),XG=["attr","size","title"];function KG(e,t){if(e==null)return{};var n=ZG(e,t),a,r;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)a=i[r],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function ZG(e,t){if(e==null)return{};var n={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;n[a]=e[a]}return n}function Mx(){return Mx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Mx.apply(this,arguments)}function HI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,a)}return n}function Rx(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?HI(Object(n),!0).forEach(function(a){JG(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):HI(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function JG(e,t,n){return t=eQ(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function eQ(e){var t=tQ(e,"string");return typeof t=="symbol"?t:t+""}function tQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function jR(e){return e&&e.map((t,n)=>nt.createElement(t.tag,Rx({key:n},t.attr),jR(t.child)))}function Zt(e){return t=>nt.createElement(nQ,Mx({attr:Rx({},e.attr)},t),jR(e.child))}function nQ(e){var t=n=>{var{attr:a,size:r,title:i}=e,o=KG(e,XG),c=r||n.size||"1em",l;return n.className&&(l=n.className),e.className&&(l=(l?l+" ":"")+e.className),nt.createElement("svg",Mx({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,a,o,{className:l,style:Rx(Rx({color:e.color||n.color},n.style),e.style),height:c,width:c,xmlns:"http://www.w3.org/2000/svg"}),i&&nt.createElement("title",null,i),e.children)};return FI!==void 0?nt.createElement(FI.Consumer,null,n=>t(n)):t(wR)}function sQ(e){return Zt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"},child:[]}]})(e)}function aQ(e){return Zt({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm121.8 169.9l-40.7 191.8c-3 13.6-11.1 16.9-22.4 10.5l-62-45.7-29.9 28.8c-3.3 3.3-6.1 6.1-12.5 6.1l4.4-63.1 114.9-103.8c5-4.4-1.1-6.9-7.7-2.5l-142 89.4-61.2-19.1c-13.3-4.2-13.6-13.3 2.8-19.7l239.1-92.2c11.1-4 20.8 2.7 17.2 19.5z"},child:[]}]})(e)}function qI(e){return Zt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M32 448c0 17.7 14.3 32 32 32h384c17.7 0 32-14.3 32-32V160H32v288zm160-212c0-6.6 5.4-12 12-12h104c6.6 0 12 5.4 12 12v8c0 6.6-5.4 12-12 12H204c-6.6 0-12-5.4-12-12v-8zM480 32H32C14.3 32 0 46.3 0 64v48c0 8.8 7.2 16 16 16h480c8.8 0 16-7.2 16-16V64c0-17.7-14.3-32-32-32z"},child:[]}]})(e)}function m0(e){return Zt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M413.1 222.5l22.2 22.2c9.4 9.4 9.4 24.6 0 33.9L241 473c-9.4 9.4-24.6 9.4-33.9 0L12.7 278.6c-9.4-9.4-9.4-24.6 0-33.9l22.2-22.2c9.5-9.5 25-9.3 34.3.4L184 343.4V56c0-13.3 10.7-24 24-24h32c13.3 0 24 10.7 24 24v287.4l114.8-120.5c9.3-9.8 24.8-10 34.3-.4z"},child:[]}]})(e)}function Cm(e){return Zt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M257.5 445.1l-22.2 22.2c-9.4 9.4-24.6 9.4-33.9 0L7 273c-9.4-9.4-9.4-24.6 0-33.9L201.4 44.7c9.4-9.4 24.6-9.4 33.9 0l22.2 22.2c9.5 9.5 9.3 25-.4 34.3L136.6 216H424c13.3 0 24 10.7 24 24v32c0 13.3-10.7 24-24 24H136.6l120.5 114.8c9.8 9.3 10 24.8.4 34.3z"},child:[]}]})(e)}function Pb(e){return Zt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M190.5 66.9l22.2-22.2c9.4-9.4 24.6-9.4 33.9 0L441 239c9.4 9.4 9.4 24.6 0 33.9L246.6 467.3c-9.4 9.4-24.6 9.4-33.9 0l-22.2-22.2c-9.5-9.5-9.3-25 .4-34.3L311.4 296H24c-13.3 0-24-10.7-24-24v-32c0-13.3 10.7-24 24-24h287.4L190.9 101.2c-9.8-9.3-10-24.8-.4-34.3z"},child:[]}]})(e)}function p0(e){return Zt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M34.9 289.5l-22.2-22.2c-9.4-9.4-9.4-24.6 0-33.9L207 39c9.4-9.4 24.6-9.4 33.9 0l194.3 194.3c9.4 9.4 9.4 24.6 0 33.9L413 289.4c-9.5 9.5-25 9.3-34.3-.4L264 168.6V456c0 13.3-10.7 24-24 24h-32c-13.3 0-24-10.7-24-24V168.6L69.2 289.1c-9.3 9.8-24.8 10-34.3.4z"},child:[]}]})(e)}function rQ(e){return Zt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119.034 8 8 119.033 8 256s111.034 248 248 248 248-111.034 248-248S392.967 8 256 8zm130.108 117.892c65.448 65.448 70 165.481 20.677 235.637L150.47 105.216c70.204-49.356 170.226-44.735 235.638 20.676zM125.892 386.108c-65.448-65.448-70-165.481-20.677-235.637L361.53 406.784c-70.203 49.356-170.226 44.736-235.638-20.676z"},child:[]}]})(e)}function CR(e){return Zt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M0 448V64h18v384H0zm26.857-.273V64H36v383.727h-9.143zm27.143 0V64h8.857v383.727H54zm44.857 0V64h8.857v383.727h-8.857zm36 0V64h17.714v383.727h-17.714zm44.857 0V64h8.857v383.727h-8.857zm18 0V64h8.857v383.727h-8.857zm18 0V64h8.857v383.727h-8.857zm35.715 0V64h18v383.727h-18zm44.857 0V64h18v383.727h-18zm35.999 0V64h18.001v383.727h-18.001zm36.001 0V64h18.001v383.727h-18.001zm26.857 0V64h18v383.727h-18zm45.143 0V64h26.857v383.727h-26.857zm35.714 0V64h9.143v383.727H476zm18 .273V64h18v384h-18z"},child:[]}]})(e)}function iQ(e){return Zt({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M296 160H180.6l42.6-129.8C227.2 15 215.7 0 200 0H56C44 0 33.8 8.9 32.2 20.8l-32 240C-1.7 275.2 9.5 288 24 288h118.7L96.6 482.5c-3.6 15.2 8 29.5 23.3 29.5 8.4 0 16.4-4.4 20.8-12l176-304c9.3-15.9-2.2-36-20.7-36z"},child:[]}]})(e)}function sS(e){return Zt({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M425.7 256c-16.9 0-32.8-9-41.4-23.4L320 126l-64.2 106.6c-8.7 14.5-24.6 23.5-41.5 23.5-4.5 0-9-.6-13.3-1.9L64 215v178c0 14.7 10 27.5 24.2 31l216.2 54.1c10.2 2.5 20.9 2.5 31 0L551.8 424c14.2-3.6 24.2-16.4 24.2-31V215l-137 39.1c-4.3 1.3-8.8 1.9-13.3 1.9zm212.6-112.2L586.8 41c-3.1-6.2-9.8-9.8-16.7-8.9L320 64l91.7 152.1c3.8 6.3 11.4 9.3 18.5 7.3l197.9-56.5c9.9-2.9 14.7-13.9 10.2-23.1zM53.2 41L1.7 143.8c-4.6 9.2.3 20.2 10.1 23l197.9 56.5c7.1 2 14.7-1 18.5-7.3L320 64 69.8 32.1c-6.9-.8-13.5 2.7-16.6 8.9z"},child:[]}]})(e)}function Rc(e){return Zt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M560 288h-80v96l-32-21.3-32 21.3v-96h-80c-8.8 0-16 7.2-16 16v192c0 8.8 7.2 16 16 16h224c8.8 0 16-7.2 16-16V304c0-8.8-7.2-16-16-16zm-384-64h224c8.8 0 16-7.2 16-16V16c0-8.8-7.2-16-16-16h-80v96l-32-21.3L256 96V0h-80c-8.8 0-16 7.2-16 16v192c0 8.8 7.2 16 16 16zm64 64h-80v96l-32-21.3L96 384v-96H16c-8.8 0-16 7.2-16 16v192c0 8.8 7.2 16 16 16h224c8.8 0 16-7.2 16-16V304c0-8.8-7.2-16-16-16z"},child:[]}]})(e)}function Ac(e){return Zt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M436 480h-20V24c0-13.255-10.745-24-24-24H56C42.745 0 32 10.745 32 24v456H12c-6.627 0-12 5.373-12 12v20h448v-20c0-6.627-5.373-12-12-12zM128 76c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12V76zm0 96c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12v-40zm52 148h-40c-6.627 0-12-5.373-12-12v-40c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40c0 6.627-5.373 12-12 12zm76 160h-64v-84c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v84zm64-172c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12v-40c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40zm0-96c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12v-40c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40zm0-96c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12V76c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40z"},child:[]}]})(e)}function Vo(e){return Zt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M0 464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V192H0v272zm320-196c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM192 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM64 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zM400 64h-48V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H160V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H48C21.5 64 0 85.5 0 112v48h448v-48c0-26.5-21.5-48-48-48z"},child:[]}]})(e)}function Sm(e){return Zt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M12 192h424c6.6 0 12 5.4 12 12v260c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V204c0-6.6 5.4-12 12-12zm436-44v-36c0-26.5-21.5-48-48-48h-48V12c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v52H160V12c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v52H48C21.5 64 0 85.5 0 112v36c0 6.6 5.4 12 12 12h424c6.6 0 12-5.4 12-12z"},child:[]}]})(e)}function VI(e){return Zt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M512 144v288c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V144c0-26.5 21.5-48 48-48h88l12.3-32.9c7-18.7 24.9-31.1 44.9-31.1h125.5c20 0 37.9 12.4 44.9 31.1L376 96h88c26.5 0 48 21.5 48 48zM376 288c0-66.2-53.8-120-120-120s-120 53.8-120 120 53.8 120 120 120 120-53.8 120-120zm-32 0c0 48.5-39.5 88-88 88s-88-39.5-88-88 39.5-88 88-88 88 39.5 88 88z"},child:[]}]})(e)}function al(e){return Zt({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M31.3 192h257.3c17.8 0 26.7 21.5 14.1 34.1L174.1 354.8c-7.8 7.8-20.5 7.8-28.3 0L17.2 226.1C4.6 213.5 13.5 192 31.3 192z"},child:[]}]})(e)}function Bx(e){return Zt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M511.1 378.8l-26.7-160c-2.6-15.4-15.9-26.7-31.6-26.7H208v-64h96c8.8 0 16-7.2 16-16V16c0-8.8-7.2-16-16-16H48c-8.8 0-16 7.2-16 16v96c0 8.8 7.2 16 16 16h96v64H59.1c-15.6 0-29 11.3-31.6 26.7L.8 378.7c-.6 3.5-.9 7-.9 10.5V480c0 17.7 14.3 32 32 32h448c17.7 0 32-14.3 32-32v-90.7c.1-3.5-.2-7-.8-10.5zM280 248c0-8.8 7.2-16 16-16h16c8.8 0 16 7.2 16 16v16c0 8.8-7.2 16-16 16h-16c-8.8 0-16-7.2-16-16v-16zm-32 64h16c8.8 0 16 7.2 16 16v16c0 8.8-7.2 16-16 16h-16c-8.8 0-16-7.2-16-16v-16c0-8.8 7.2-16 16-16zm-32-80c8.8 0 16 7.2 16 16v16c0 8.8-7.2 16-16 16h-16c-8.8 0-16-7.2-16-16v-16c0-8.8 7.2-16 16-16h16zM80 80V48h192v32H80zm40 200h-16c-8.8 0-16-7.2-16-16v-16c0-8.8 7.2-16 16-16h16c8.8 0 16 7.2 16 16v16c0 8.8-7.2 16-16 16zm16 64v-16c0-8.8 7.2-16 16-16h16c8.8 0 16 7.2 16 16v16c0 8.8-7.2 16-16 16h-16c-8.8 0-16-7.2-16-16zm216 112c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h176c4.4 0 8 3.6 8 8v16zm24-112c0 8.8-7.2 16-16 16h-16c-8.8 0-16-7.2-16-16v-16c0-8.8 7.2-16 16-16h16c8.8 0 16 7.2 16 16v16zm48-80c0 8.8-7.2 16-16 16h-16c-8.8 0-16-7.2-16-16v-16c0-8.8 7.2-16 16-16h16c8.8 0 16 7.2 16 16v16z"},child:[]}]})(e)}function zI(e){return Zt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M496 384H64V80c0-8.84-7.16-16-16-16H16C7.16 64 0 71.16 0 80v336c0 17.67 14.33 32 32 32h464c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16zM464 96H345.94c-21.38 0-32.09 25.85-16.97 40.97l32.4 32.4L288 242.75l-73.37-73.37c-12.5-12.5-32.76-12.5-45.25 0l-68.69 68.69c-6.25 6.25-6.25 16.38 0 22.63l22.62 22.62c6.25 6.25 16.38 6.25 22.63 0L192 237.25l73.37 73.37c12.5 12.5 32.76 12.5 45.25 0l96-96 32.4 32.4c15.12 15.12 40.97 4.41 40.97-16.97V112c.01-8.84-7.15-16-15.99-16z"},child:[]}]})(e)}function Bl(e){return Zt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"},child:[]}]})(e)}function SR(e){return Zt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 480H48c-26.51 0-48-21.49-48-48V80c0-26.51 21.49-48 48-48h352c26.51 0 48 21.49 48 48v352c0 26.51-21.49 48-48 48zm-204.686-98.059l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.248-16.379-6.249-22.628 0L184 302.745l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.25 16.379 6.25 22.628.001z"},child:[]}]})(e)}function Xr(e){return Zt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"},child:[]}]})(e)}function No(e){return Zt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M207.029 381.476L12.686 187.132c-9.373-9.373-9.373-24.569 0-33.941l22.667-22.667c9.357-9.357 24.522-9.375 33.901-.04L224 284.505l154.745-154.021c9.379-9.335 24.544-9.317 33.901.04l22.667 22.667c9.373 9.373 9.373 24.569 0 33.941L240.971 381.476c-9.373 9.372-24.569 9.372-33.942 0z"},child:[]}]})(e)}function Kc(e){return Zt({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M34.52 239.03L228.87 44.69c9.37-9.37 24.57-9.37 33.94 0l22.67 22.67c9.36 9.36 9.37 24.52.04 33.9L131.49 256l154.02 154.75c9.34 9.38 9.32 24.54-.04 33.9l-22.67 22.67c-9.37 9.37-24.57 9.37-33.94 0L34.52 272.97c-9.37-9.37-9.37-24.57 0-33.94z"},child:[]}]})(e)}function Zc(e){return Zt({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"},child:[]}]})(e)}function ko(e){return Zt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M240.971 130.524l194.343 194.343c9.373 9.373 9.373 24.569 0 33.941l-22.667 22.667c-9.357 9.357-24.522 9.375-33.901.04L224 227.495 69.255 381.516c-9.379 9.335-24.544 9.317-33.901-.04l-22.667-22.667c-9.373-9.373-9.373-24.569 0-33.941L207.03 130.525c9.372-9.373 24.568-9.373 33.941-.001z"},child:[]}]})(e)}function Nm(e){return Zt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256,8C119,8,8,119,8,256S119,504,256,504,504,393,504,256,393,8,256,8Zm92.49,313h0l-20,25a16,16,0,0,1-22.49,2.5h0l-67-49.72a40,40,0,0,1-15-31.23V112a16,16,0,0,1,16-16h32a16,16,0,0,1,16,16V256l58,42.5A16,16,0,0,1,348.49,321Z"},child:[]}]})(e)}function Fb(e){return Zt({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M537.6 226.6c4.1-10.7 6.4-22.4 6.4-34.6 0-53-43-96-96-96-19.7 0-38.1 6-53.3 16.2C367 64.2 315.3 32 256 32c-88.4 0-160 71.6-160 160 0 2.7.1 5.4.2 8.1C40.2 219.8 0 273.2 0 336c0 79.5 64.5 144 144 144h368c70.7 0 128-57.3 128-128 0-61.9-44-113.6-102.4-125.4zM393.4 288H328v112c0 8.8-7.2 16-16 16h-48c-8.8 0-16-7.2-16-16V288h-65.4c-14.3 0-21.4-17.2-11.3-27.3l105.4-105.4c6.2-6.2 16.4-6.2 22.6 0l105.4 105.4c10.1 10.1 2.9 27.3-11.3 27.3z"},child:[]}]})(e)}function NR(e){return Zt({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M278.9 511.5l-61-17.7c-6.4-1.8-10-8.5-8.2-14.9L346.2 8.7c1.8-6.4 8.5-10 14.9-8.2l61 17.7c6.4 1.8 10 8.5 8.2 14.9L293.8 503.3c-1.9 6.4-8.5 10.1-14.9 8.2zm-114-112.2l43.5-46.4c4.6-4.9 4.3-12.7-.8-17.2L117 256l90.6-79.7c5.1-4.5 5.5-12.3.8-17.2l-43.5-46.4c-4.5-4.8-12.1-5.1-17-.5L3.8 247.2c-5.1 4.7-5.1 12.8 0 17.5l144.1 135.1c4.9 4.6 12.5 4.4 17-.5zm327.2.6l144.1-135.1c5.1-4.7 5.1-12.8 0-17.5L492.1 112.1c-4.8-4.5-12.4-4.3-17 .5L431.6 159c-4.6 4.9-4.3 12.7.8 17.2L523 256l-90.6 79.7c-5.1 4.5-5.5 12.3-.8 17.2l43.5 46.4c4.5 4.9 12.1 5.1 17 .6z"},child:[]}]})(e)}function km(e){return Zt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.4 315.7l-42.6-24.6c4.3-23.2 4.3-47 0-70.2l42.6-24.6c4.9-2.8 7.1-8.6 5.5-14-11.1-35.6-30-67.8-54.7-94.6-3.8-4.1-10-5.1-14.8-2.3L380.8 110c-17.9-15.4-38.5-27.3-60.8-35.1V25.8c0-5.6-3.9-10.5-9.4-11.7-36.7-8.2-74.3-7.8-109.2 0-5.5 1.2-9.4 6.1-9.4 11.7V75c-22.2 7.9-42.8 19.8-60.8 35.1L88.7 85.5c-4.9-2.8-11-1.9-14.8 2.3-24.7 26.7-43.6 58.9-54.7 94.6-1.7 5.4.6 11.2 5.5 14L67.3 221c-4.3 23.2-4.3 47 0 70.2l-42.6 24.6c-4.9 2.8-7.1 8.6-5.5 14 11.1 35.6 30 67.8 54.7 94.6 3.8 4.1 10 5.1 14.8 2.3l42.6-24.6c17.9 15.4 38.5 27.3 60.8 35.1v49.2c0 5.6 3.9 10.5 9.4 11.7 36.7 8.2 74.3 7.8 109.2 0 5.5-1.2 9.4-6.1 9.4-11.7v-49.2c22.2-7.9 42.8-19.8 60.8-35.1l42.6 24.6c4.9 2.8 11 1.9 14.8-2.3 24.7-26.7 43.6-58.9 54.7-94.6 1.5-5.5-.7-11.3-5.6-14.1zM256 336c-44.1 0-80-35.9-80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80z"},child:[]}]})(e)}function kR(e){return Zt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M0 405.3V448c0 35.3 86 64 192 64s192-28.7 192-64v-42.7C342.7 434.4 267.2 448 192 448S41.3 434.4 0 405.3zM320 128c106 0 192-28.7 192-64S426 0 320 0 128 28.7 128 64s86 64 192 64zM0 300.4V352c0 35.3 86 64 192 64s192-28.7 192-64v-51.6c-41.3 34-116.9 51.6-192 51.6S41.3 334.4 0 300.4zm416 11c57.3-11.1 96-31.7 96-55.4v-42.7c-23.2 16.4-57.3 27.6-96 34.5v63.6zM192 160C86 160 0 195.8 0 240s86 80 192 80 192-35.8 192-80-86-80-192-80zm219.3 56.3c60-10.8 100.7-32 100.7-56.3v-42.7c-35.5 25.1-96.5 38.6-160.7 41.8 29.5 14.3 51.2 33.5 60 57.2z"},child:[]}]})(e)}function IR(e){return Zt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M416 192c0-88.4-93.1-160-208-160S0 103.6 0 192c0 34.3 14.1 65.9 38 92-13.4 30.2-35.5 54.2-35.8 54.5-2.2 2.3-2.8 5.7-1.5 8.7S4.8 352 8 352c36.6 0 66.9-12.3 88.7-25 32.2 15.7 70.3 25 111.3 25 114.9 0 208-71.6 208-160zm122 220c23.9-26 38-57.7 38-92 0-66.9-53.5-124.2-129.3-148.1.9 6.6 1.3 13.3 1.3 20.1 0 105.9-107.7 192-240 192-10.8 0-21.3-.8-31.7-1.9C207.8 439.6 281.8 480 368 480c41 0 79.1-9.2 111.3-25 21.8 12.7 52.1 25 88.7 25 3.2 0 6.1-1.9 7.3-4.8 1.3-2.9.7-6.3-1.5-8.7-.3-.3-22.4-24.2-35.8-54.5z"},child:[]}]})(e)}function Ad(e){return Zt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M320 448v40c0 13.255-10.745 24-24 24H24c-13.255 0-24-10.745-24-24V120c0-13.255 10.745-24 24-24h72v296c0 30.879 25.121 56 56 56h168zm0-344V0H152c-13.255 0-24 10.745-24 24v368c0 13.255 10.745 24 24 24h272c13.255 0 24-10.745 24-24V128H344c-13.2 0-24-10.8-24-24zm120.971-31.029L375.029 7.029A24 24 0 0 0 358.059 0H352v96h96v-6.059a24 24 0 0 0-7.029-16.97z"},child:[]}]})(e)}function aS(e){return Zt({attr:{viewBox:"0 0 288 512"},child:[{tag:"path",attr:{d:"M209.2 233.4l-108-31.6C88.7 198.2 80 186.5 80 173.5c0-16.3 13.2-29.5 29.5-29.5h66.3c12.2 0 24.2 3.7 34.2 10.5 6.1 4.1 14.3 3.1 19.5-2l34.8-34c7.1-6.9 6.1-18.4-1.8-24.5C238 74.8 207.4 64.1 176 64V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48h-2.5C45.8 64-5.4 118.7.5 183.6c4.2 46.1 39.4 83.6 83.8 96.6l102.5 30c12.5 3.7 21.2 15.3 21.2 28.3 0 16.3-13.2 29.5-29.5 29.5h-66.3C100 368 88 364.3 78 357.5c-6.1-4.1-14.3-3.1-19.5 2l-34.8 34c-7.1 6.9-6.1 18.4 1.8 24.5 24.5 19.2 55.1 29.9 86.5 30v48c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16v-48.2c46.6-.9 90.3-28.6 105.7-72.7 21.5-61.6-14.6-124.8-72.5-141.7z"},child:[]}]})(e)}function Hb(e){return Zt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M216 0h80c13.3 0 24 10.7 24 24v168h87.7c17.8 0 26.7 21.5 14.1 34.1L269.7 378.3c-7.5 7.5-19.8 7.5-27.3 0L90.1 226.1c-12.6-12.6-3.7-34.1 14.1-34.1H192V24c0-13.3 10.7-24 24-24zm296 376v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h146.7l49 49c20.1 20.1 52.5 20.1 72.6 0l49-49H488c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"},child:[]}]})(e)}function rl(e){return Zt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"},child:[]}]})(e)}function Nl(e){return Zt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"},child:[]}]})(e)}function Th(e){return Zt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M0 168v-16c0-13.255 10.745-24 24-24h360V80c0-21.367 25.899-32.042 40.971-16.971l80 80c9.372 9.373 9.372 24.569 0 33.941l-80 80C409.956 271.982 384 261.456 384 240v-48H24c-13.255 0-24-10.745-24-24zm488 152H128v-48c0-21.314-25.862-32.08-40.971-16.971l-80 80c-9.372 9.373-9.372 24.569 0 33.941l80 80C102.057 463.997 128 453.437 128 432v-48h360c13.255 0 24-10.745 24-24v-16c0-13.255-10.745-24-24-24z"},child:[]}]})(e)}function Ox(e){return Zt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zm-248 50c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},child:[]}]})(e)}function Ol(e){return Zt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},child:[]}]})(e)}function ER(e){return Zt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M212.686 315.314L120 408l32.922 31.029c15.12 15.12 4.412 40.971-16.97 40.971h-112C10.697 480 0 469.255 0 456V344c0-21.382 25.803-32.09 40.922-16.971L72 360l92.686-92.686c6.248-6.248 16.379-6.248 22.627 0l25.373 25.373c6.249 6.248 6.249 16.378 0 22.627zm22.628-118.628L328 104l-32.922-31.029C279.958 57.851 290.666 32 312.048 32h112C437.303 32 448 42.745 448 56v112c0 21.382-25.803 32.09-40.922 16.971L376 152l-92.686 92.686c-6.248 6.248-16.379 6.248-22.627 0l-25.373-25.373c-6.249-6.248-6.249-16.378 0-22.627z"},child:[]}]})(e)}function P3(e){return Zt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M432,320H400a16,16,0,0,0-16,16V448H64V128H208a16,16,0,0,0,16-16V80a16,16,0,0,0-16-16H48A48,48,0,0,0,0,112V464a48,48,0,0,0,48,48H400a48,48,0,0,0,48-48V336A16,16,0,0,0,432,320ZM488,0h-128c-21.37,0-32.05,25.91-17,41l35.73,35.73L135,320.37a24,24,0,0,0,0,34L157.67,377a24,24,0,0,0,34,0L435.28,133.32,471,169c15,15,41,4.5,41-17V24A24,24,0,0,0,488,0Z"},child:[]}]})(e)}function gd(e){return Zt({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M320 400c-75.85 0-137.25-58.71-142.9-133.11L72.2 185.82c-13.79 17.3-26.48 35.59-36.72 55.59a32.35 32.35 0 0 0 0 29.19C89.71 376.41 197.07 448 320 448c26.91 0 52.87-4 77.89-10.46L346 397.39a144.13 144.13 0 0 1-26 2.61zm313.82 58.1l-110.55-85.44a331.25 331.25 0 0 0 81.25-102.07 32.35 32.35 0 0 0 0-29.19C550.29 135.59 442.93 64 320 64a308.15 308.15 0 0 0-147.32 37.7L45.46 3.37A16 16 0 0 0 23 6.18L3.37 31.45A16 16 0 0 0 6.18 53.9l588.36 454.73a16 16 0 0 0 22.46-2.81l19.64-25.27a16 16 0 0 0-2.82-22.45zm-183.72-142l-39.3-30.38A94.75 94.75 0 0 0 416 256a94.76 94.76 0 0 0-121.31-92.21A47.65 47.65 0 0 1 304 192a46.64 46.64 0 0 1-1.54 10l-73.61-56.89A142.31 142.31 0 0 1 320 112a143.92 143.92 0 0 1 144 144c0 21.63-5.29 41.79-13.9 60.11z"},child:[]}]})(e)}function fo(e){return Zt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"},child:[]}]})(e)}function xu(e){return Zt({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm64 236c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12v8zm0-64c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12v8zm0-72v8c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12zm96-114.1v6.1H256V0h6.1c6.4 0 12.5 2.5 17 7l97.9 98c4.5 4.5 7 10.6 7 16.9z"},child:[]}]})(e)}function oQ(e){return Zt({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zM64 72c0-4.42 3.58-8 8-8h80c4.42 0 8 3.58 8 8v16c0 4.42-3.58 8-8 8H72c-4.42 0-8-3.58-8-8V72zm0 64c0-4.42 3.58-8 8-8h80c4.42 0 8 3.58 8 8v16c0 4.42-3.58 8-8 8H72c-4.42 0-8-3.58-8-8v-16zm192.81 248H304c8.84 0 16 7.16 16 16s-7.16 16-16 16h-47.19c-16.45 0-31.27-9.14-38.64-23.86-2.95-5.92-8.09-6.52-10.17-6.52s-7.22.59-10.02 6.19l-7.67 15.34a15.986 15.986 0 0 1-14.31 8.84c-.38 0-.75-.02-1.14-.05-6.45-.45-12-4.75-14.03-10.89L144 354.59l-10.61 31.88c-5.89 17.66-22.38 29.53-41 29.53H80c-8.84 0-16-7.16-16-16s7.16-16 16-16h12.39c4.83 0 9.11-3.08 10.64-7.66l18.19-54.64c3.3-9.81 12.44-16.41 22.78-16.41s19.48 6.59 22.77 16.41l13.88 41.64c19.77-16.19 54.05-9.7 66 14.16 2.02 4.06 5.96 6.5 10.16 6.5zM377 105L279.1 7c-4.5-4.5-10.6-7-17-7H256v128h128v-6.1c0-6.3-2.5-12.4-7-16.9z"},child:[]}]})(e)}function Dh(e){return Zt({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm60.1 106.5L224 336l60.1 93.5c5.1 8-.6 18.5-10.1 18.5h-34.9c-4.4 0-8.5-2.4-10.6-6.3C208.9 405.5 192 373 192 373c-6.4 14.8-10 20-36.6 68.8-2.1 3.9-6.1 6.3-10.5 6.3H110c-9.5 0-15.2-10.5-10.1-18.5l60.3-93.5-60.3-93.5c-5.2-8 .6-18.5 10.1-18.5h34.8c4.4 0 8.5 2.4 10.6 6.3 26.1 48.8 20 33.6 36.6 68.5 0 0 6.1-11.7 36.6-68.5 2.1-3.9 6.2-6.3 10.6-6.3H274c9.5-.1 15.2 10.4 10.1 18.4zM384 121.9v6.1H256V0h6.1c6.4 0 12.5 2.5 17 7l97.9 98c4.5 4.5 7 10.6 7 16.9z"},child:[]}]})(e)}function qb(e){return Zt({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M181.9 256.1c-5-16-4.9-46.9-2-46.9 8.4 0 7.6 36.9 2 46.9zm-1.7 47.2c-7.7 20.2-17.3 43.3-28.4 62.7 18.3-7 39-17.2 62.9-21.9-12.7-9.6-24.9-23.4-34.5-40.8zM86.1 428.1c0 .8 13.2-5.4 34.9-40.2-6.7 6.3-29.1 24.5-34.9 40.2zM248 160h136v328c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V24C0 10.7 10.7 0 24 0h200v136c0 13.2 10.8 24 24 24zm-8 171.8c-20-12.2-33.3-29-42.7-53.8 4.5-18.5 11.6-46.6 6.2-64.2-4.7-29.4-42.4-26.5-47.8-6.8-5 18.3-.4 44.1 8.1 77-11.6 27.6-28.7 64.6-40.8 85.8-.1 0-.1.1-.2.1-27.1 13.9-73.6 44.5-54.5 68 5.6 6.9 16 10 21.5 10 17.9 0 35.7-18 61.1-61.8 25.8-8.5 54.1-19.1 79-23.2 21.7 11.8 47.1 19.5 64 19.5 29.2 0 31.2-32 19.7-43.4-13.9-13.6-54.3-9.7-73.6-7.2zM377 105L279 7c-4.5-4.5-10.6-7-17-7h-6v128h128v-6.1c0-6.3-2.5-12.4-7-16.9zm-74.1 255.3c4.1-2.7-2.5-11.9-42.8-9 37.1 15.8 42.8 9 42.8 9z"},child:[]}]})(e)}function Vb(e){return Zt({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm160-14.1v6.1H256V0h6.1c6.4 0 12.5 2.5 17 7l97.9 98c4.5 4.5 7 10.6 7 16.9z"},child:[]}]})(e)}function tf(e){return Zt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.976 0H24.028C2.71 0-8.047 25.866 7.058 40.971L192 225.941V432c0 7.831 3.821 15.17 10.237 19.662l80 55.98C298.02 518.69 320 507.493 320 487.98V225.941l184.947-184.97C520.021 25.896 509.338 0 487.976 0z"},child:[]}]})(e)}function vi(e){return Zt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M32 448c0 17.7 14.3 32 32 32h160V320H32v128zm256 32h160c17.7 0 32-14.3 32-32V320H288v160zm192-320h-42.1c6.2-12.1 10.1-25.5 10.1-40 0-48.5-39.5-88-88-88-41.6 0-68.5 21.3-103 68.3-34.5-47-61.4-68.3-103-68.3-48.5 0-88 39.5-88 88 0 14.5 3.8 27.9 10.1 40H32c-17.7 0-32 14.3-32 32v80c0 8.8 7.2 16 16 16h480c8.8 0 16-7.2 16-16v-80c0-17.7-14.3-32-32-32zm-326.1 0c-22.1 0-40-17.9-40-40s17.9-40 40-40c19.9 0 34.6 3.3 86.1 80h-86.1zm206.1 0h-86.1c51.4-76.5 65.7-80 86.1-80 22.1 0 40 17.9 40 40s-17.9 40-40 40z"},child:[]}]})(e)}function cQ(e){return Zt({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M96 32H32C14.33 32 0 46.33 0 64v64c0 17.67 14.33 32 32 32h64c17.67 0 32-14.33 32-32V64c0-17.67-14.33-32-32-32zm0 160H32c-17.67 0-32 14.33-32 32v64c0 17.67 14.33 32 32 32h64c17.67 0 32-14.33 32-32v-64c0-17.67-14.33-32-32-32zm0 160H32c-17.67 0-32 14.33-32 32v64c0 17.67 14.33 32 32 32h64c17.67 0 32-14.33 32-32v-64c0-17.67-14.33-32-32-32zM288 32h-64c-17.67 0-32 14.33-32 32v64c0 17.67 14.33 32 32 32h64c17.67 0 32-14.33 32-32V64c0-17.67-14.33-32-32-32zm0 160h-64c-17.67 0-32 14.33-32 32v64c0 17.67 14.33 32 32 32h64c17.67 0 32-14.33 32-32v-64c0-17.67-14.33-32-32-32zm0 160h-64c-17.67 0-32 14.33-32 32v64c0 17.67 14.33 32 32 32h64c17.67 0 32-14.33 32-32v-64c0-17.67-14.33-32-32-32z"},child:[]}]})(e)}function rS(e){return Zt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 255.531c.253 136.64-111.18 248.372-247.82 248.468-59.015.042-113.223-20.53-155.822-54.911-11.077-8.94-11.905-25.541-1.839-35.607l11.267-11.267c8.609-8.609 22.353-9.551 31.891-1.984C173.062 425.135 212.781 440 256 440c101.705 0 184-82.311 184-184 0-101.705-82.311-184-184-184-48.814 0-93.149 18.969-126.068 49.932l50.754 50.754c10.08 10.08 2.941 27.314-11.313 27.314H24c-8.837 0-16-7.163-16-16V38.627c0-14.254 17.234-21.393 27.314-11.314l49.372 49.372C129.209 34.136 189.552 8 256 8c136.81 0 247.747 110.78 248 247.531zm-180.912 78.784l9.823-12.63c8.138-10.463 6.253-25.542-4.21-33.679L288 256.349V152c0-13.255-10.745-24-24-24h-16c-13.255 0-24 10.745-24 24v135.651l65.409 50.874c10.463 8.137 25.541 6.253 33.679-4.21z"},child:[]}]})(e)}function kl(e){return Zt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M464 448H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h416c26.51 0 48 21.49 48 48v288c0 26.51-21.49 48-48 48zM112 120c-30.928 0-56 25.072-56 56s25.072 56 56 56 56-25.072 56-56-25.072-56-56-56zM64 384h384V272l-87.515-87.515c-4.686-4.686-12.284-4.686-16.971 0L208 320l-55.515-55.515c-4.686-4.686-12.284-4.686-16.971 0L64 336v48z"},child:[]}]})(e)}function zb(e){return Zt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M480 416v16c0 26.51-21.49 48-48 48H48c-26.51 0-48-21.49-48-48V176c0-26.51 21.49-48 48-48h16v208c0 44.112 35.888 80 80 80h336zm96-80V80c0-26.51-21.49-48-48-48H144c-26.51 0-48 21.49-48 48v256c0 26.51 21.49 48 48 48h384c26.51 0 48-21.49 48-48zM256 128c0 26.51-21.49 48-48 48s-48-21.49-48-48 21.49-48 48-48 48 21.49 48 48zm-96 144l55.515-55.515c4.686-4.686 12.284-4.686 16.971 0L272 256l135.515-135.515c4.686-4.686 12.284-4.686 16.971 0L512 208v112H160v-48z"},child:[]}]})(e)}function li(e){return Zt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 110c23.196 0 42 18.804 42 42s-18.804 42-42 42-42-18.804-42-42 18.804-42 42-42zm56 254c0 6.627-5.373 12-12 12h-88c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h12v-64h-12c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h64c6.627 0 12 5.373 12 12v100h12c6.627 0 12 5.373 12 12v24z"},child:[]}]})(e)}function TR(e){return Zt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M512 176.001C512 273.203 433.202 352 336 352c-11.22 0-22.19-1.062-32.827-3.069l-24.012 27.014A23.999 23.999 0 0 1 261.223 384H224v40c0 13.255-10.745 24-24 24h-40v40c0 13.255-10.745 24-24 24H24c-13.255 0-24-10.745-24-24v-78.059c0-6.365 2.529-12.47 7.029-16.971l161.802-161.802C163.108 213.814 160 195.271 160 176 160 78.798 238.797.001 335.999 0 433.488-.001 512 78.511 512 176.001zM336 128c0 26.51 21.49 48 48 48s48-21.49 48-48-21.49-48-48-48-48 21.49-48 48z"},child:[]}]})(e)}function lQ(e){return Zt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M528 448H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h480c26.51 0 48 21.49 48 48v288c0 26.51-21.49 48-48 48zM128 180v-40c0-6.627-5.373-12-12-12H76c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm96 0v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm96 0v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm96 0v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm96 0v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm-336 96v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm96 0v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm96 0v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm96 0v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm-336 96v-40c0-6.627-5.373-12-12-12H76c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm288 0v-40c0-6.627-5.373-12-12-12H172c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h232c6.627 0 12-5.373 12-12zm96 0v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12z"},child:[]}]})(e)}function Ub(e){return Zt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M48 48a48 48 0 1 0 48 48 48 48 0 0 0-48-48zm0 160a48 48 0 1 0 48 48 48 48 0 0 0-48-48zm0 160a48 48 0 1 0 48 48 48 48 0 0 0-48-48zm448 16H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0-320H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16V80a16 16 0 0 0-16-16zm0 160H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16z"},child:[]}]})(e)}function xh(e){return Zt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 224h-24v-72C376 68.2 307.8 0 224 0S72 68.2 72 152v72H48c-26.5 0-48 21.5-48 48v192c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V272c0-26.5-21.5-48-48-48zm-104 0H152v-72c0-39.7 32.3-72 72-72s72 32.3 72 72v72z"},child:[]}]})(e)}function cr(e){return Zt({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M172.268 501.67C26.97 291.031 0 269.413 0 192 0 85.961 85.961 0 192 0s192 85.961 192 192c0 77.413-26.97 99.031-172.268 309.67-9.535 13.774-29.93 13.773-39.464 0zM192 272c44.183 0 80-35.817 80-80s-35.817-80-80-80-80 35.817-80 80 35.817 80 80 80z"},child:[]}]})(e)}function DR(e){return Zt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h384c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(e)}function uQ(e){return Zt({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M621.16 54.46C582.37 38.19 543.55 32 504.75 32c-123.17-.01-246.33 62.34-369.5 62.34-30.89 0-61.76-3.92-92.65-13.72-3.47-1.1-6.95-1.62-10.35-1.62C15.04 79 0 92.32 0 110.81v317.26c0 12.63 7.23 24.6 18.84 29.46C57.63 473.81 96.45 480 135.25 480c123.17 0 246.34-62.35 369.51-62.35 30.89 0 61.76 3.92 92.65 13.72 3.47 1.1 6.95 1.62 10.35 1.62 17.21 0 32.25-13.32 32.25-31.81V83.93c-.01-12.64-7.24-24.6-18.85-29.47zM48 132.22c20.12 5.04 41.12 7.57 62.72 8.93C104.84 170.54 79 192.69 48 192.69v-60.47zm0 285v-47.78c34.37 0 62.18 27.27 63.71 61.4-22.53-1.81-43.59-6.31-63.71-13.62zM320 352c-44.19 0-80-42.99-80-96 0-53.02 35.82-96 80-96s80 42.98 80 96c0 53.03-35.83 96-80 96zm272 27.78c-17.52-4.39-35.71-6.85-54.32-8.44 5.87-26.08 27.5-45.88 54.32-49.28v57.72zm0-236.11c-30.89-3.91-54.86-29.7-55.81-61.55 19.54 2.17 38.09 6.23 55.81 12.66v48.89z"},child:[]}]})(e)}function AR(e){return Zt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M476 3.2L12.5 270.6c-18.1 10.4-15.8 35.6 2.2 43.2L121 358.4l287.3-253.2c5.5-4.9 13.3 2.6 8.6 8.3L176 407v80.5c0 23.6 28.5 32.9 42.5 15.8L282 426l124.6 52.2c14.2 6 30.4-2.9 33-18.2l72-432C515 7.8 493.3-6.8 476 3.2z"},child:[]}]})(e)}function MR(e){return Zt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M43.246 466.142c-58.43-60.289-57.341-157.511 1.386-217.581L254.392 34c44.316-45.332 116.351-45.336 160.671 0 43.89 44.894 43.943 117.329 0 162.276L232.214 383.128c-29.855 30.537-78.633 30.111-107.982-.998-28.275-29.97-27.368-77.473 1.452-106.953l143.743-146.835c6.182-6.314 16.312-6.422 22.626-.241l22.861 22.379c6.315 6.182 6.422 16.312.241 22.626L171.427 319.927c-4.932 5.045-5.236 13.428-.648 18.292 4.372 4.634 11.245 4.711 15.688.165l182.849-186.851c19.613-20.062 19.613-52.725-.011-72.798-19.189-19.627-49.957-19.637-69.154 0L90.39 293.295c-34.763 35.56-35.299 93.12-1.191 128.313 34.01 35.093 88.985 35.137 123.058.286l172.06-175.999c6.177-6.319 16.307-6.433 22.626-.256l22.877 22.364c6.319 6.177 6.434 16.307.256 22.626l-172.06 175.998c-59.576 60.938-155.943 60.216-214.77-.485z"},child:[]}]})(e)}function iS(e){return Zt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M112 224c61.9 0 112-50.1 112-112S173.9 0 112 0 0 50.1 0 112s50.1 112 112 112zm0-160c26.5 0 48 21.5 48 48s-21.5 48-48 48-48-21.5-48-48 21.5-48 48-48zm224 224c-61.9 0-112 50.1-112 112s50.1 112 112 112 112-50.1 112-112-50.1-112-112-112zm0 160c-26.5 0-48-21.5-48-48s21.5-48 48-48 48 21.5 48 48-21.5 48-48 48zM392.3.2l31.6-.1c19.4-.1 30.9 21.8 19.7 37.8L77.4 501.6a23.95 23.95 0 0 1-19.6 10.2l-33.4.1c-19.5 0-30.9-21.9-19.7-37.8l368-463.7C377.2 4 384.5.2 392.3.2z"},child:[]}]})(e)}function vd(e){return Zt({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M109.25 173.25c24.99-24.99 24.99-65.52 0-90.51-24.99-24.99-65.52-24.99-90.51 0-24.99 24.99-24.99 65.52 0 90.51 25 25 65.52 25 90.51 0zm256 165.49c-24.99-24.99-65.52-24.99-90.51 0-24.99 24.99-24.99 65.52 0 90.51 24.99 24.99 65.52 24.99 90.51 0 25-24.99 25-65.51 0-90.51zm-1.94-231.43l-22.62-22.62c-12.5-12.5-32.76-12.5-45.25 0L20.69 359.44c-12.5 12.5-12.5 32.76 0 45.25l22.62 22.62c12.5 12.5 32.76 12.5 45.25 0l274.75-274.75c12.5-12.49 12.5-32.75 0-45.25z"},child:[]}]})(e)}function RR(e){return Zt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M493.4 24.6l-104-24c-11.3-2.6-22.9 3.3-27.5 13.9l-48 112c-4.2 9.8-1.4 21.3 6.9 28l60.6 49.6c-36 76.7-98.9 140.5-177.2 177.2l-49.6-60.6c-6.8-8.3-18.2-11.1-28-6.9l-112 48C3.9 366.5-2 378.1.6 389.4l24 104C27.1 504.2 36.7 512 48 512c256.1 0 464-207.5 464-464 0-11.2-7.7-20.9-18.6-23.4z"},child:[]}]})(e)}function BR(e){return Zt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M424.4 214.7L72.4 6.6C43.8-10.3 0 6.1 0 47.9V464c0 37.5 40.7 60.1 72.4 41.3l352-208c31.4-18.5 31.5-64.1 0-82.6z"},child:[]}]})(e)}function F3(e){return Zt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm144 276c0 6.6-5.4 12-12 12h-92v92c0 6.6-5.4 12-12 12h-56c-6.6 0-12-5.4-12-12v-92h-92c-6.6 0-12-5.4-12-12v-56c0-6.6 5.4-12 12-12h92v-92c0-6.6 5.4-12 12-12h56c6.6 0 12 5.4 12 12v92h92c6.6 0 12 5.4 12 12v56z"},child:[]}]})(e)}function Va(e){return Zt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(e)}function Vh(e){return Zt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M448 192V77.25c0-8.49-3.37-16.62-9.37-22.63L393.37 9.37c-6-6-14.14-9.37-22.63-9.37H96C78.33 0 64 14.33 64 32v160c-35.35 0-64 28.65-64 64v112c0 8.84 7.16 16 16 16h48v96c0 17.67 14.33 32 32 32h320c17.67 0 32-14.33 32-32v-96h48c8.84 0 16-7.16 16-16V256c0-35.35-28.65-64-64-64zm-64 256H128v-96h256v96zm0-224H128V64h192v48c0 8.84 7.16 16 16 16h48v96zm48 72c-13.25 0-24-10.75-24-24 0-13.26 10.75-24 24-24s24 10.74 24 24c0 13.25-10.75 24-24 24z"},child:[]}]})(e)}function fm(e){return Zt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M0 224h192V32H0v192zM64 96h64v64H64V96zm192-64v192h192V32H256zm128 128h-64V96h64v64zM0 480h192V288H0v192zm64-128h64v64H64v-64zm352-64h32v128h-96v-32h-32v96h-64V288h96v32h64v-32zm0 160h32v32h-32v-32zm-64 0h32v32h-32v-32z"},child:[]}]})(e)}function $o(e){return Zt({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M358.4 3.2L320 48 265.6 3.2a15.9 15.9 0 0 0-19.2 0L192 48 137.6 3.2a15.9 15.9 0 0 0-19.2 0L64 48 25.6 3.2C15-4.7 0 2.8 0 16v480c0 13.2 15 20.7 25.6 12.8L64 464l54.4 44.8a15.9 15.9 0 0 0 19.2 0L192 464l54.4 44.8a15.9 15.9 0 0 0 19.2 0L320 464l38.4 44.8c10.5 7.9 25.6.4 25.6-12.8V16c0-13.2-15-20.7-25.6-12.8zM320 360c0 4.4-3.6 8-8 8H72c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h240c4.4 0 8 3.6 8 8v16zm0-96c0 4.4-3.6 8-8 8H72c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h240c4.4 0 8 3.6 8 8v16zm0-96c0 4.4-3.6 8-8 8H72c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h240c4.4 0 8 3.6 8 8v16z"},child:[]}]})(e)}function dQ(e){return Zt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M500.33 0h-47.41a12 12 0 0 0-12 12.57l4 82.76A247.42 247.42 0 0 0 256 8C119.34 8 7.9 119.53 8 256.19 8.1 393.07 119.1 504 256 504a247.1 247.1 0 0 0 166.18-63.91 12 12 0 0 0 .48-17.43l-34-34a12 12 0 0 0-16.38-.55A176 176 0 1 1 402.1 157.8l-101.53-4.87a12 12 0 0 0-12.57 12v47.41a12 12 0 0 0 12 12h200.33a12 12 0 0 0 12-12V12a12 12 0 0 0-12-12z"},child:[]}]})(e)}function ic(e){return Zt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M433.941 129.941l-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941zM224 416c-35.346 0-64-28.654-64-64 0-35.346 28.654-64 64-64s64 28.654 64 64c0 35.346-28.654 64-64 64zm96-304.52V212c0 6.627-5.373 12-12 12H76c-6.627 0-12-5.373-12-12V108c0-6.627 5.373-12 12-12h228.52c3.183 0 6.235 1.264 8.485 3.515l3.48 3.48A11.996 11.996 0 0 1 320 111.48z"},child:[]}]})(e)}function hi(e){return Zt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"},child:[]}]})(e)}function UI(e){return Zt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M466.5 83.7l-192-80a48.15 48.15 0 0 0-36.9 0l-192 80C27.7 91.1 16 108.6 16 128c0 198.5 114.5 335.7 221.5 380.3 11.8 4.9 25.1 4.9 36.9 0C360.1 472.6 496 349.3 496 128c0-19.4-11.7-36.9-29.5-44.3zM256.1 446.3l-.1-381 175.9 73.3c-3.3 151.4-82.1 261.1-175.8 307.7z"},child:[]}]})(e)}function Ah(e){return Zt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M528.12 301.319l47.273-208C578.806 78.301 567.391 64 551.99 64H159.208l-9.166-44.81C147.758 8.021 137.93 0 126.529 0H24C10.745 0 0 10.745 0 24v16c0 13.255 10.745 24 24 24h69.883l70.248 343.435C147.325 417.1 136 435.222 136 456c0 30.928 25.072 56 56 56s56-25.072 56-56c0-15.674-6.447-29.835-16.824-40h209.647C430.447 426.165 424 440.326 424 456c0 30.928 25.072 56 56 56s56-25.072 56-56c0-22.172-12.888-41.332-31.579-50.405l5.517-24.276c3.413-15.018-8.002-29.319-23.403-29.319H218.117l-6.545-32h293.145c11.206 0 20.92-7.754 23.403-18.681z"},child:[]}]})(e)}function hQ(e){return Zt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M304 416h-64a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h64a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm-128-64h-48V48a16 16 0 0 0-16-16H80a16 16 0 0 0-16 16v304H16c-14.19 0-21.37 17.24-11.29 27.31l80 96a16 16 0 0 0 22.62 0l80-96C197.35 369.26 190.22 352 176 352zm256-192H240a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h192a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm-64 128H240a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h128a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zM496 32H240a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h256a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16z"},child:[]}]})(e)}function fQ(e){return Zt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M304 416h-64a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h64a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zM16 160h48v304a16 16 0 0 0 16 16h32a16 16 0 0 0 16-16V160h48c14.21 0 21.38-17.24 11.31-27.31l-80-96a16 16 0 0 0-22.62 0l-80 96C-5.35 142.74 1.77 160 16 160zm416 0H240a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h192a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm-64 128H240a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h128a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zM496 32H240a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h256a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16z"},child:[]}]})(e)}function Po(e){return Zt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M304 48c0 26.51-21.49 48-48 48s-48-21.49-48-48 21.49-48 48-48 48 21.49 48 48zm-48 368c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zm208-208c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zM96 256c0-26.51-21.49-48-48-48S0 229.49 0 256s21.49 48 48 48 48-21.49 48-48zm12.922 99.078c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.491-48-48-48zm294.156 0c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.49-48-48-48zM108.922 60.922c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.491-48-48-48z"},child:[]}]})(e)}function ph(e){return Zt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"},child:[]}]})(e)}function mm(e){return Zt({attr:{viewBox:"0 0 616 512"},child:[{tag:"path",attr:{d:"M602 118.6L537.1 15C531.3 5.7 521 0 510 0H106C95 0 84.7 5.7 78.9 15L14 118.6c-33.5 53.5-3.8 127.9 58.8 136.4 4.5.6 9.1.9 13.7.9 29.6 0 55.8-13 73.8-33.1 18 20.1 44.3 33.1 73.8 33.1 29.6 0 55.8-13 73.8-33.1 18 20.1 44.3 33.1 73.8 33.1 29.6 0 55.8-13 73.8-33.1 18.1 20.1 44.3 33.1 73.8 33.1 4.7 0 9.2-.3 13.7-.9 62.8-8.4 92.6-82.8 59-136.4zM529.5 288c-10 0-19.9-1.5-29.5-3.8V384H116v-99.8c-9.6 2.2-19.5 3.8-29.5 3.8-6 0-12.1-.4-18-1.2-5.6-.8-11.1-2.1-16.4-3.6V480c0 17.7 14.3 32 32 32h448c17.7 0 32-14.3 32-32V283.2c-5.4 1.6-10.8 2.9-16.4 3.6-6.1.8-12.1 1.2-18.2 1.2z"},child:[]}]})(e)}function mQ(e){return Zt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M370.72 133.28C339.458 104.008 298.888 87.962 255.848 88c-77.458.068-144.328 53.178-162.791 126.85-1.344 5.363-6.122 9.15-11.651 9.15H24.103c-7.498 0-13.194-6.807-11.807-14.176C33.933 94.924 134.813 8 256 8c66.448 0 126.791 26.136 171.315 68.685L463.03 40.97C478.149 25.851 504 36.559 504 57.941V192c0 13.255-10.745 24-24 24H345.941c-21.382 0-32.09-25.851-16.971-40.971l41.75-41.749zM32 296h134.059c21.382 0 32.09 25.851 16.971 40.971l-41.75 41.75c31.262 29.273 71.835 45.319 114.876 45.28 77.418-.07 144.315-53.144 162.787-126.849 1.344-5.363 6.122-9.15 11.651-9.15h57.304c7.498 0 13.194 6.807 11.807 14.176C478.067 417.076 377.187 504 256 504c-66.448 0-126.791-26.136-171.315-68.685L48.97 471.03C33.851 486.149 8 475.441 8 454.059V320c0-13.255 10.745-24 24-24z"},child:[]}]})(e)}function Og(e){return Zt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M440.65 12.57l4 82.77A247.16 247.16 0 0 0 255.83 8C134.73 8 33.91 94.92 12.29 209.82A12 12 0 0 0 24.09 224h49.05a12 12 0 0 0 11.67-9.26 175.91 175.91 0 0 1 317-56.94l-101.46-4.86a12 12 0 0 0-12.57 12v47.41a12 12 0 0 0 12 12H500a12 12 0 0 0 12-12V12a12 12 0 0 0-12-12h-47.37a12 12 0 0 0-11.98 12.57zM255.83 432a175.61 175.61 0 0 1-146-77.8l101.8 4.87a12 12 0 0 0 12.57-12v-47.4a12 12 0 0 0-12-12H12a12 12 0 0 0-12 12V500a12 12 0 0 0 12 12h47.35a12 12 0 0 0 12-12.6l-4.15-82.57A247.17 247.17 0 0 0 255.83 504c121.11 0 221.93-86.92 243.55-201.82a12 12 0 0 0-11.8-14.18h-49.05a12 12 0 0 0-11.67 9.26A175.86 175.86 0 0 1 255.83 432z"},child:[]}]})(e)}function pm(e){return Zt({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M497.941 225.941L286.059 14.059A48 48 0 0 0 252.118 0H48C21.49 0 0 21.49 0 48v204.118a48 48 0 0 0 14.059 33.941l211.882 211.882c18.744 18.745 49.136 18.746 67.882 0l204.118-204.118c18.745-18.745 18.745-49.137 0-67.882zM112 160c-26.51 0-48-21.49-48-48s21.49-48 48-48 48 21.49 48 48-21.49 48-48 48zm513.941 133.823L421.823 497.941c-18.745 18.745-49.137 18.745-67.882 0l-.36-.36L527.64 323.522c16.999-16.999 26.36-39.6 26.36-63.64s-9.362-46.641-26.36-63.64L331.397 0h48.721a48 48 0 0 1 33.941 14.059l211.882 211.882c18.745 18.745 18.745 49.137 0 67.882z"},child:[]}]})(e)}function Wb(e){return Zt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M139.61 35.5a12 12 0 0 0-17 0L58.93 98.81l-22.7-22.12a12 12 0 0 0-17 0L3.53 92.41a12 12 0 0 0 0 17l47.59 47.4a12.78 12.78 0 0 0 17.61 0l15.59-15.62L156.52 69a12.09 12.09 0 0 0 .09-17zm0 159.19a12 12 0 0 0-17 0l-63.68 63.72-22.7-22.1a12 12 0 0 0-17 0L3.53 252a12 12 0 0 0 0 17L51 316.5a12.77 12.77 0 0 0 17.6 0l15.7-15.69 72.2-72.22a12 12 0 0 0 .09-16.9zM64 368c-26.49 0-48.59 21.5-48.59 48S37.53 464 64 464a48 48 0 0 0 0-96zm432 16H208a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h288a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0-320H208a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h288a16 16 0 0 0 16-16V80a16 16 0 0 0-16-16zm0 160H208a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h288a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16z"},child:[]}]})(e)}function pQ(e){return Zt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm121.6 313.1c4.7 4.7 4.7 12.3 0 17L338 377.6c-4.7 4.7-12.3 4.7-17 0L256 312l-65.1 65.6c-4.7 4.7-12.3 4.7-17 0L134.4 338c-4.7-4.7-4.7-12.3 0-17l65.6-65-65.6-65.1c-4.7-4.7-4.7-12.3 0-17l39.6-39.6c4.7-4.7 12.3-4.7 17 0l65 65.7 65.1-65.6c4.7-4.7 12.3-4.7 17 0l39.6 39.6c4.7 4.7 4.7 12.3 0 17L312 256l65.6 65.1z"},child:[]}]})(e)}function da(e){return Zt({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(e)}function Xw(e){return Zt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M384 64H192C85.961 64 0 149.961 0 256s85.961 192 192 192h192c106.039 0 192-85.961 192-192S490.039 64 384 64zM64 256c0-70.741 57.249-128 128-128 70.741 0 128 57.249 128 128 0 70.741-57.249 128-128 128-70.741 0-128-57.249-128-128zm320 128h-48.905c65.217-72.858 65.236-183.12 0-256H384c70.741 0 128 57.249 128 128 0 70.74-57.249 128-128 128z"},child:[]}]})(e)}function Pf(e){return Zt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M384 64H192C86 64 0 150 0 256s86 192 192 192h192c106 0 192-86 192-192S490 64 384 64zm0 320c-70.8 0-128-57.3-128-128 0-70.8 57.3-128 128-128 70.8 0 128 57.3 128 128 0 70.8-57.3 128-128 128z"},child:[]}]})(e)}function zh(e){return Zt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M32 464a48 48 0 0 0 48 48h288a48 48 0 0 0 48-48V128H32zm272-256a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zM432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16z"},child:[]}]})(e)}function Ir(e){return Zt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(e)}function Jc(e){return Zt({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M624 352h-16V243.9c0-12.7-5.1-24.9-14.1-33.9L494 110.1c-9-9-21.2-14.1-33.9-14.1H416V48c0-26.5-21.5-48-48-48H48C21.5 0 0 21.5 0 48v320c0 26.5 21.5 48 48 48h16c0 53 43 96 96 96s96-43 96-96h128c0 53 43 96 96 96s96-43 96-96h48c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zM160 464c-26.5 0-48-21.5-48-48s21.5-48 48-48 48 21.5 48 48-21.5 48-48 48zm320 0c-26.5 0-48-21.5-48-48s21.5-48 48-48 48 21.5 48 48-21.5 48-48 48zm80-208H416V144h44.1l99.9 99.9V256z"},child:[]}]})(e)}function gQ(e){return Zt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M255.545 8c-66.269.119-126.438 26.233-170.86 68.685L48.971 40.971C33.851 25.851 8 36.559 8 57.941V192c0 13.255 10.745 24 24 24h134.059c21.382 0 32.09-25.851 16.971-40.971l-41.75-41.75c30.864-28.899 70.801-44.907 113.23-45.273 92.398-.798 170.283 73.977 169.484 169.442C423.236 348.009 349.816 424 256 424c-41.127 0-79.997-14.678-110.63-41.556-4.743-4.161-11.906-3.908-16.368.553L89.34 422.659c-4.872 4.872-4.631 12.815.482 17.433C133.798 479.813 192.074 504 256 504c136.966 0 247.999-111.033 248-247.998C504.001 119.193 392.354 7.755 255.545 8z"},child:[]}]})(e)}function H3(e){return Zt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M212.333 224.333H12c-6.627 0-12-5.373-12-12V12C0 5.373 5.373 0 12 0h48c6.627 0 12 5.373 12 12v78.112C117.773 39.279 184.26 7.47 258.175 8.007c136.906.994 246.448 111.623 246.157 248.532C504.041 393.258 393.12 504 256.333 504c-64.089 0-122.496-24.313-166.51-64.215-5.099-4.622-5.334-12.554-.467-17.42l33.967-33.967c4.474-4.474 11.662-4.717 16.401-.525C170.76 415.336 211.58 432 256.333 432c97.268 0 176-78.716 176-176 0-97.267-78.716-176-176-176-58.496 0-110.28 28.476-142.274 72.333h98.274c6.627 0 12 5.373 12 12v48c0 6.627-5.373 12-12 12z"},child:[]}]})(e)}function Im(e){return Zt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M296 384h-80c-13.3 0-24-10.7-24-24V192h-87.7c-17.8 0-26.7-21.5-14.1-34.1L242.3 5.7c7.5-7.5 19.8-7.5 27.3 0l152.2 152.2c12.6 12.6 3.7 34.1-14.1 34.1H320v168c0 13.3-10.7 24-24 24zm216-8v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h136v8c0 30.9 25.1 56 56 56h80c30.9 0 56-25.1 56-56v-8h136c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"},child:[]}]})(e)}function dg(e){return Zt({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M610.5 373.3c2.6-14.1 2.6-28.5 0-42.6l25.8-14.9c3-1.7 4.3-5.2 3.3-8.5-6.7-21.6-18.2-41.2-33.2-57.4-2.3-2.5-6-3.1-9-1.4l-25.8 14.9c-10.9-9.3-23.4-16.5-36.9-21.3v-29.8c0-3.4-2.4-6.4-5.7-7.1-22.3-5-45-4.8-66.2 0-3.3.7-5.7 3.7-5.7 7.1v29.8c-13.5 4.8-26 12-36.9 21.3l-25.8-14.9c-2.9-1.7-6.7-1.1-9 1.4-15 16.2-26.5 35.8-33.2 57.4-1 3.3.4 6.8 3.3 8.5l25.8 14.9c-2.6 14.1-2.6 28.5 0 42.6l-25.8 14.9c-3 1.7-4.3 5.2-3.3 8.5 6.7 21.6 18.2 41.1 33.2 57.4 2.3 2.5 6 3.1 9 1.4l25.8-14.9c10.9 9.3 23.4 16.5 36.9 21.3v29.8c0 3.4 2.4 6.4 5.7 7.1 22.3 5 45 4.8 66.2 0 3.3-.7 5.7-3.7 5.7-7.1v-29.8c13.5-4.8 26-12 36.9-21.3l25.8 14.9c2.9 1.7 6.7 1.1 9-1.4 15-16.2 26.5-35.8 33.2-57.4 1-3.3-.4-6.8-3.3-8.5l-25.8-14.9zM496 400.5c-26.8 0-48.5-21.8-48.5-48.5s21.8-48.5 48.5-48.5 48.5 21.8 48.5 48.5-21.7 48.5-48.5 48.5zM224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm201.2 226.5c-2.3-1.2-4.6-2.6-6.8-3.9l-7.9 4.6c-6 3.4-12.8 5.3-19.6 5.3-10.9 0-21.4-4.6-28.9-12.6-18.3-19.8-32.3-43.9-40.2-69.6-5.5-17.7 1.9-36.4 17.9-45.7l7.9-4.6c-.1-2.6-.1-5.2 0-7.8l-7.9-4.6c-16-9.2-23.4-28-17.9-45.7.9-2.9 2.2-5.8 3.2-8.7-3.8-.3-7.5-1.2-11.4-1.2h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c10.1 0 19.5-3.2 27.2-8.5-1.2-3.8-2-7.7-2-11.8v-9.2z"},child:[]}]})(e)}function WI(e){return Zt({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M624 208h-64v-64c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v64h-64c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h64v64c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16v-64h64c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zm-400 48c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(e)}function om(e){return Zt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm95.8 32.6L272 480l-32-136 32-56h-96l32 56-32 136-47.8-191.4C56.9 292 0 350.3 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-72.1-56.9-130.4-128.2-133.8z"},child:[]}]})(e)}function oc(e){return Zt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(e)}function Lg(e){return Zt({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M96 224c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm448 0c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm32 32h-64c-17.6 0-33.5 7.1-45.1 18.6 40.3 22.1 68.9 62 75.1 109.4h66c17.7 0 32-14.3 32-32v-32c0-35.3-28.7-64-64-64zm-256 0c61.9 0 112-50.1 112-112S381.9 32 320 32 208 82.1 208 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C179.6 288 128 339.6 128 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zm-223.7-13.4C161.5 263.1 145.6 256 128 256H64c-35.3 0-64 28.7-64 64v32c0 17.7 14.3 32 32 32h65.9c6.3-47.4 34.9-87.3 75.2-109.4z"},child:[]}]})(e)}function oS(e){return Zt({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M504 352H136.4c-4.4 0-8 3.6-8 8l-.1 48c0 4.4 3.6 8 8 8H504c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8zm0 96H136.1c-4.4 0-8 3.6-8 8l-.1 48c0 4.4 3.6 8 8 8h368c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8zm0-192H136.6c-4.4 0-8 3.6-8 8l-.1 48c0 4.4 3.6 8 8 8H504c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8zm106.5-139L338.4 3.7a48.15 48.15 0 0 0-36.9 0L29.5 117C11.7 124.5 0 141.9 0 161.3V504c0 4.4 3.6 8 8 8h80c4.4 0 8-3.6 8-8V256c0-17.6 14.6-32 32.6-32h382.8c18 0 32.6 14.4 32.6 32v248c0 4.4 3.6 8 8 8h80c4.4 0 8-3.6 8-8V161.3c0-19.4-11.7-36.8-29.5-44.3z"},child:[]}]})(e)}function _Q(e){return Zt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M528.1 171.5L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6zM388.6 312.3l23.7 138.4L288 385.4l-124.3 65.3 23.7-138.4-100.6-98 139-20.2 62.2-126 62.2 126 139 20.2-100.6 98z"},child:[]}]})(e)}const vQ="_overlay_a00m9_3",xQ="_modal_a00m9_28",bQ="_header_a00m9_53",yQ="_title_a00m9_61",wQ="_warningIcon_a00m9_73",jQ="_content_a00m9_91",CQ="_message_a00m9_95",SQ="_clockIcon_a00m9_104",NQ="_retryInfo_a00m9_120",kQ="_retryText_a00m9_128",IQ="_footer_a00m9_143",EQ="_retryButton_a00m9_149",TQ="_spinning_a00m9_182",Ko={overlay:vQ,modal:xQ,header:bQ,title:yQ,warningIcon:wQ,content:jQ,message:CQ,clockIcon:SQ,retryInfo:NQ,retryText:kQ,footer:IQ,retryButton:EQ,spinning:TQ},DQ=({isOpen:e,retryAfter:t,onRetry:n})=>{const[a,r]=_.useState(!1);if(!e)return null;const i=c=>{if(!c||c==="N/A")return" ";const l=parseInt(c);if(isNaN(l))return" ";if(l<60)return`${l} ${l===1?"":l<5?"":""}`;if(l<3600){const d=Math.floor(l/60);return`${d} ${d===1?"":d<5?"":""}`}else{const d=Math.floor(l/3600);return`${d} ${d===1?"":d<5?"":""}`}},o=async()=>{if(n&&!a){r(!0);try{await n()}finally{r(!1)}}};return s.jsx("div",{className:Ko.overlay,children:s.jsxs("div",{className:Ko.modal,children:[s.jsx("div",{className:Ko.header,children:s.jsxs("div",{className:Ko.title,children:[s.jsx(Ol,{className:Ko.warningIcon}),s.jsx("span",{children:"  "})]})}),s.jsxs("div",{className:Ko.content,children:[s.jsxs("div",{className:Ko.message,children:[s.jsx(Nm,{className:Ko.clockIcon}),s.jsx("p",{children:"      . ,   ."})]}),t&&t!=="N/A"&&s.jsx("div",{className:Ko.retryInfo,children:s.jsxs("p",{className:Ko.retryText,children:["   : ",s.jsx("strong",{children:i(t)})]})}),s.jsx("div",{className:Ko.footer,children:s.jsxs("button",{className:Ko.retryButton,onClick:o,disabled:a,children:[s.jsx(dQ,{className:a?Ko.spinning:""}),a?"...":""]})})]})]})})},YI=()=>{const{isOpen:e,retryAfter:t,showModal:n,retryRequest:a}=GG();return _.useEffect(()=>(window.showTooManyRequestsModal=(r,i)=>{n(r,i)},()=>{delete window.showTooManyRequestsModal}),[n]),s.jsx(DQ,{isOpen:e,retryAfter:t,onRetry:a})},AQ="_header_1ucqp_2",MQ="_hidden_1ucqp_14",RQ="_scrolled_1ucqp_33",BQ="_navbar_1ucqp_59",OQ="_container_1ucqp_64",LQ="_brand_1ucqp_74",$Q="_logoIcon_1ucqp_122",PQ="_navbarCollapse_1ucqp_136",FQ="_navbarNav_1ucqp_153",HQ="_navItem_1ucqp_162",qQ="_navLink_1ucqp_166",VQ="_searchForm_1ucqp_223",zQ="_searchInput_1ucqp_232",UQ="_searchButton_1ucqp_254",WQ="_desktopLayout_1ucqp_318",YQ="_mobileLayout_1ucqp_325",GQ="_mobileBrand_1ucqp_511",QQ="_mobileSearchForm_1ucqp_511",XQ="_mobileSearchInput_1ucqp_524",KQ="_mobileSearchButton_1ucqp_554",ZQ="_mobileCityBar_1ucqp_632",JQ="_mobileCityButton_1ucqp_683",eX="_mobileCityText_1ucqp_698",tX="_mobileCitySelectorWrapper_1ucqp_710",Ta={header:AQ,hidden:MQ,scrolled:RQ,navbar:BQ,container:OQ,brand:LQ,logoIcon:$Q,navbarCollapse:PQ,navbarNav:FQ,navItem:HQ,navLink:qQ,searchForm:VQ,searchInput:zQ,searchButton:UQ,desktopLayout:WQ,mobileLayout:YQ,mobileBrand:GQ,mobileSearchForm:QQ,mobileSearchInput:XQ,mobileSearchButton:KQ,mobileCityBar:ZQ,mobileCityButton:JQ,mobileCityText:eX,mobileCitySelectorWrapper:tX},$g="data:image/svg+xml,%3c?xml%20version='1.0'%20standalone='no'?%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%2020010904//EN'%20'http://www.w3.org/TR/2001/REC-SVG-20010904/DTD/svg10.dtd'%3e%3csvg%20version='1.0'%20xmlns='http://www.w3.org/2000/svg'%20width='1024.000000pt'%20height='1024.000000pt'%20viewBox='0%200%201024.000000%201024.000000'%20preserveAspectRatio='xMidYMid%20meet'%3e%3cg%20transform='translate(0.000000,1024.000000)%20scale(0.100000,-0.100000)'%20fill='currentColor'%20stroke='none'%3e%3cpath%20d='M4105%208850%20c-113%20-12%20-183%20-31%20-238%20-64%20-46%20-28%20-57%20-41%20-97%20-121%20-25%20-49%20-60%20-128%20-77%20-175%20-17%20-47%20-74%20-197%20-126%20-335%20-202%20-533%20-591%20-1591%20-973%20-2645%20-176%20-485%20-317%20-870%20-544%20-1490%20-78%20-212%20-175%20-477%20-215%20-590%20-40%20-113%20-93%20-259%20-118%20-325%20-76%20-204%20-187%20-522%20-208%20-592%20-48%20-169%20-10%20-246%20138%20-279%2091%20-21%20814%20-32%20989%20-15%20293%2029%20587%20117%20883%20266%20310%20155%20500%20294%20774%20568%20285%20284%20483%20549%20857%201147%20173%20277%20481%20736%20610%20909%20552%20741%201055%201148%201865%201506%20343%20152%20880%20341%201165%20410%2095%2023%20469%2095%20494%2095%2044%200%20-103%2051%20-289%20100%20-239%2063%20-504%2099%20-795%20107%20-395%2011%20-716%20-34%20-1070%20-149%20-200%20-65%20-290%20-102%20-480%20-198%20-299%20-150%20-572%20-329%20-880%20-578%20-145%20-117%20-566%20-541%20-803%20-809%20-251%20-282%20-437%20-474%20-657%20-677%20-300%20-277%20-452%20-404%20-650%20-544%20-130%20-91%20-343%20-215%20-348%20-202%20-2%205%2062%20188%20142%20407%2079%20219%20198%20547%20264%20728%2066%20182%20127%20348%20136%20370%208%2022%2053%20146%20100%20275%2047%20129%20142%20390%20211%20580%2070%20190%20153%20419%20186%20510%2033%2091%2089%20246%20125%20345%2036%2099%2067%20186%2069%20193%209%2026%2022%209%2044%20-55%2052%20-152%20256%20-736%20296%20-848%2024%20-66%2047%20-133%2050%20-148%204%20-15%2011%20-27%2016%20-27%205%200%2051%2039%20102%2086%20433%20406%201072%20835%201543%201038%20150%2064%20383%20146%20415%20146%2010%200%2021%205%2025%2011%2011%2019%20-441%204%20-621%20-20%20-113%20-15%20-462%20-74%20-558%20-94%20-5%20-1%20-88%20221%20-186%20493%20-97%20272%20-185%20509%20-194%20526%20-45%2086%20-102%20125%20-220%20151%20-59%2013%20-163%2016%20-577%2018%20-278%202%20-537%200%20-575%20-5z'/%3e%3cpath%20d='M6449%205253%20c-424%20-431%20-739%20-851%20-1059%20-1417%20-88%20-155%20-261%20-489%20-256%20-494%202%20-2%2055%2045%20118%20105%20193%20184%20485%20443%20500%20443%206%200%2045%20-113%20211%20-625%20301%20-925%20297%20-912%20338%20-959%2076%20-86%20145%20-96%20709%20-96%20558%200%20629%2011%20704%20103%2029%2037%2031%2044%2031%20120%20-1%2086%20-13%20125%20-158%20527%20-25%2069%20-93%20260%20-152%20425%20-200%20562%20-314%20880%20-390%201090%20-100%20273%20-346%20955%20-352%20978%20-3%209%20-11%2017%20-18%2017%20-6%200%20-108%20-98%20-226%20-217z'/%3e%3c/g%3e%3c/svg%3e";function OR(e,t){return function(){return e.apply(t,arguments)}}const{toString:nX}=Object.prototype,{getPrototypeOf:q3}=Object,{iterator:Yb,toStringTag:LR}=Symbol,Gb=(e=>t=>{const n=nX.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),ll=e=>(e=e.toLowerCase(),t=>Gb(t)===e),Qb=e=>t=>typeof t===e,{isArray:rp}=Array,Em=Qb("undefined");function g0(e){return e!==null&&!Em(e)&&e.constructor!==null&&!Em(e.constructor)&&Fo(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const $R=ll("ArrayBuffer");function sX(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&$R(e.buffer),t}const aX=Qb("string"),Fo=Qb("function"),PR=Qb("number"),_0=e=>e!==null&&typeof e=="object",rX=e=>e===!0||e===!1,Pv=e=>{if(Gb(e)!=="object")return!1;const t=q3(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(LR in e)&&!(Yb in e)},iX=e=>{if(!_0(e)||g0(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},oX=ll("Date"),cX=ll("File"),lX=ll("Blob"),uX=ll("FileList"),dX=e=>_0(e)&&Fo(e.pipe),hX=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Fo(e.append)&&((t=Gb(e))==="formdata"||t==="object"&&Fo(e.toString)&&e.toString()==="[object FormData]"))},fX=ll("URLSearchParams"),[mX,pX,gX,_X]=["ReadableStream","Request","Response","Headers"].map(ll),vX=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function v0(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let a,r;if(typeof e!="object"&&(e=[e]),rp(e))for(a=0,r=e.length;a<r;a++)t.call(null,e[a],a,e);else{if(g0(e))return;const i=n?Object.getOwnPropertyNames(e):Object.keys(e),o=i.length;let c;for(a=0;a<o;a++)c=i[a],t.call(null,e[c],c,e)}}function FR(e,t){if(g0(e))return null;t=t.toLowerCase();const n=Object.keys(e);let a=n.length,r;for(;a-- >0;)if(r=n[a],t===r.toLowerCase())return r;return null}const jh=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,HR=e=>!Em(e)&&e!==jh;function cS(){const{caseless:e,skipUndefined:t}=HR(this)&&this||{},n={},a=(r,i)=>{const o=e&&FR(n,i)||i;Pv(n[o])&&Pv(r)?n[o]=cS(n[o],r):Pv(r)?n[o]=cS({},r):rp(r)?n[o]=r.slice():(!t||!Em(r))&&(n[o]=r)};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&v0(arguments[r],a);return n}const xX=(e,t,n,{allOwnKeys:a}={})=>(v0(t,(r,i)=>{n&&Fo(r)?e[i]=OR(r,n):e[i]=r},{allOwnKeys:a}),e),bX=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),yX=(e,t,n,a)=>{e.prototype=Object.create(t.prototype,a),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},wX=(e,t,n,a)=>{let r,i,o;const c={};if(t=t||{},e==null)return t;do{for(r=Object.getOwnPropertyNames(e),i=r.length;i-- >0;)o=r[i],(!a||a(o,e,t))&&!c[o]&&(t[o]=e[o],c[o]=!0);e=n!==!1&&q3(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},jX=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const a=e.indexOf(t,n);return a!==-1&&a===n},CX=e=>{if(!e)return null;if(rp(e))return e;let t=e.length;if(!PR(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},SX=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&q3(Uint8Array)),NX=(e,t)=>{const a=(e&&e[Yb]).call(e);let r;for(;(r=a.next())&&!r.done;){const i=r.value;t.call(e,i[0],i[1])}},kX=(e,t)=>{let n;const a=[];for(;(n=e.exec(t))!==null;)a.push(n);return a},IX=ll("HTMLFormElement"),EX=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,a,r){return a.toUpperCase()+r}),GI=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),TX=ll("RegExp"),qR=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),a={};v0(n,(r,i)=>{let o;(o=t(r,i,e))!==!1&&(a[i]=o||r)}),Object.defineProperties(e,a)},DX=e=>{qR(e,(t,n)=>{if(Fo(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const a=e[n];if(Fo(a)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},AX=(e,t)=>{const n={},a=r=>{r.forEach(i=>{n[i]=!0})};return rp(e)?a(e):a(String(e).split(t)),n},MX=()=>{},RX=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function BX(e){return!!(e&&Fo(e.append)&&e[LR]==="FormData"&&e[Yb])}const OX=e=>{const t=new Array(10),n=(a,r)=>{if(_0(a)){if(t.indexOf(a)>=0)return;if(g0(a))return a;if(!("toJSON"in a)){t[r]=a;const i=rp(a)?[]:{};return v0(a,(o,c)=>{const l=n(o,r+1);!Em(l)&&(i[c]=l)}),t[r]=void 0,i}}return a};return n(e,0)},LX=ll("AsyncFunction"),$X=e=>e&&(_0(e)||Fo(e))&&Fo(e.then)&&Fo(e.catch),VR=((e,t)=>e?setImmediate:t?((n,a)=>(jh.addEventListener("message",({source:r,data:i})=>{r===jh&&i===n&&a.length&&a.shift()()},!1),r=>{a.push(r),jh.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Fo(jh.postMessage)),PX=typeof queueMicrotask<"u"?queueMicrotask.bind(jh):typeof process<"u"&&process.nextTick||VR,FX=e=>e!=null&&Fo(e[Yb]),Ht={isArray:rp,isArrayBuffer:$R,isBuffer:g0,isFormData:hX,isArrayBufferView:sX,isString:aX,isNumber:PR,isBoolean:rX,isObject:_0,isPlainObject:Pv,isEmptyObject:iX,isReadableStream:mX,isRequest:pX,isResponse:gX,isHeaders:_X,isUndefined:Em,isDate:oX,isFile:cX,isBlob:lX,isRegExp:TX,isFunction:Fo,isStream:dX,isURLSearchParams:fX,isTypedArray:SX,isFileList:uX,forEach:v0,merge:cS,extend:xX,trim:vX,stripBOM:bX,inherits:yX,toFlatObject:wX,kindOf:Gb,kindOfTest:ll,endsWith:jX,toArray:CX,forEachEntry:NX,matchAll:kX,isHTMLForm:IX,hasOwnProperty:GI,hasOwnProp:GI,reduceDescriptors:qR,freezeMethods:DX,toObjectSet:AX,toCamelCase:EX,noop:MX,toFiniteNumber:RX,findKey:FR,global:jh,isContextDefined:HR,isSpecCompliantForm:BX,toJSONObject:OX,isAsyncFn:LX,isThenable:$X,setImmediate:VR,asap:PX,isIterable:FX};function ca(e,t,n,a,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),a&&(this.request=a),r&&(this.response=r,this.status=r.status?r.status:null)}Ht.inherits(ca,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Ht.toJSONObject(this.config),code:this.code,status:this.status}}});const zR=ca.prototype,UR={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{UR[e]={value:e}});Object.defineProperties(ca,UR);Object.defineProperty(zR,"isAxiosError",{value:!0});ca.from=(e,t,n,a,r,i)=>{const o=Object.create(zR);Ht.toFlatObject(e,o,function(f){return f!==Error.prototype},d=>d!=="isAxiosError");const c=e&&e.message?e.message:"Error",l=t==null&&e?e.code:t;return ca.call(o,c,l,n,a,r),e&&o.cause==null&&Object.defineProperty(o,"cause",{value:e,configurable:!0}),o.name=e&&e.name||"Error",i&&Object.assign(o,i),o};const HX=null;function lS(e){return Ht.isPlainObject(e)||Ht.isArray(e)}function WR(e){return Ht.endsWith(e,"[]")?e.slice(0,-2):e}function QI(e,t,n){return e?e.concat(t).map(function(r,i){return r=WR(r),!n&&i?"["+r+"]":r}).join(n?".":""):t}function qX(e){return Ht.isArray(e)&&!e.some(lS)}const VX=Ht.toFlatObject(Ht,{},null,function(t){return/^is[A-Z]/.test(t)});function Xb(e,t,n){if(!Ht.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=Ht.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(S,k){return!Ht.isUndefined(k[S])});const a=n.metaTokens,r=n.visitor||f,i=n.dots,o=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&Ht.isSpecCompliantForm(t);if(!Ht.isFunction(r))throw new TypeError("visitor must be a function");function d(C){if(C===null)return"";if(Ht.isDate(C))return C.toISOString();if(Ht.isBoolean(C))return C.toString();if(!l&&Ht.isBlob(C))throw new ca("Blob is not supported. Use a Buffer instead.");return Ht.isArrayBuffer(C)||Ht.isTypedArray(C)?l&&typeof Blob=="function"?new Blob([C]):Buffer.from(C):C}function f(C,S,k){let E=C;if(C&&!k&&typeof C=="object"){if(Ht.endsWith(S,"{}"))S=a?S:S.slice(0,-2),C=JSON.stringify(C);else if(Ht.isArray(C)&&qX(C)||(Ht.isFileList(C)||Ht.endsWith(S,"[]"))&&(E=Ht.toArray(C)))return S=WR(S),E.forEach(function(R,P){!(Ht.isUndefined(R)||R===null)&&t.append(o===!0?QI([S],P,i):o===null?S:S+"[]",d(R))}),!1}return lS(C)?!0:(t.append(QI(k,S,i),d(C)),!1)}const g=[],b=Object.assign(VX,{defaultVisitor:f,convertValue:d,isVisitable:lS});function w(C,S){if(!Ht.isUndefined(C)){if(g.indexOf(C)!==-1)throw Error("Circular reference detected in "+S.join("."));g.push(C),Ht.forEach(C,function(E,D){(!(Ht.isUndefined(E)||E===null)&&r.call(t,E,Ht.isString(D)?D.trim():D,S,b))===!0&&w(E,S?S.concat(D):[D])}),g.pop()}}if(!Ht.isObject(e))throw new TypeError("data must be an object");return w(e),t}function XI(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(a){return t[a]})}function V3(e,t){this._pairs=[],e&&Xb(e,this,t)}const YR=V3.prototype;YR.append=function(t,n){this._pairs.push([t,n])};YR.toString=function(t){const n=t?function(a){return t.call(this,a,XI)}:XI;return this._pairs.map(function(r){return n(r[0])+"="+n(r[1])},"").join("&")};function zX(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function GR(e,t,n){if(!t)return e;const a=n&&n.encode||zX;Ht.isFunction(n)&&(n={serialize:n});const r=n&&n.serialize;let i;if(r?i=r(t,n):i=Ht.isURLSearchParams(t)?t.toString():new V3(t,n).toString(a),i){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class KI{constructor(){this.handlers=[]}use(t,n,a){return this.handlers.push({fulfilled:t,rejected:n,synchronous:a?a.synchronous:!1,runWhen:a?a.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){Ht.forEach(this.handlers,function(a){a!==null&&t(a)})}}const QR={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},UX=typeof URLSearchParams<"u"?URLSearchParams:V3,WX=typeof FormData<"u"?FormData:null,YX=typeof Blob<"u"?Blob:null,GX={isBrowser:!0,classes:{URLSearchParams:UX,FormData:WX,Blob:YX},protocols:["http","https","file","blob","url","data"]},z3=typeof window<"u"&&typeof document<"u",uS=typeof navigator=="object"&&navigator||void 0,QX=z3&&(!uS||["ReactNative","NativeScript","NS"].indexOf(uS.product)<0),XX=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",KX=z3&&window.location.href||"http://localhost",ZX=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:z3,hasStandardBrowserEnv:QX,hasStandardBrowserWebWorkerEnv:XX,navigator:uS,origin:KX},Symbol.toStringTag,{value:"Module"})),mo={...ZX,...GX};function JX(e,t){return Xb(e,new mo.classes.URLSearchParams,{visitor:function(n,a,r,i){return mo.isNode&&Ht.isBuffer(n)?(this.append(a,n.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...t})}function eK(e){return Ht.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function tK(e){const t={},n=Object.keys(e);let a;const r=n.length;let i;for(a=0;a<r;a++)i=n[a],t[i]=e[i];return t}function XR(e){function t(n,a,r,i){let o=n[i++];if(o==="__proto__")return!0;const c=Number.isFinite(+o),l=i>=n.length;return o=!o&&Ht.isArray(r)?r.length:o,l?(Ht.hasOwnProp(r,o)?r[o]=[r[o],a]:r[o]=a,!c):((!r[o]||!Ht.isObject(r[o]))&&(r[o]=[]),t(n,a,r[o],i)&&Ht.isArray(r[o])&&(r[o]=tK(r[o])),!c)}if(Ht.isFormData(e)&&Ht.isFunction(e.entries)){const n={};return Ht.forEachEntry(e,(a,r)=>{t(eK(a),r,n,0)}),n}return null}function nK(e,t,n){if(Ht.isString(e))try{return(t||JSON.parse)(e),Ht.trim(e)}catch(a){if(a.name!=="SyntaxError")throw a}return(n||JSON.stringify)(e)}const x0={transitional:QR,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const a=n.getContentType()||"",r=a.indexOf("application/json")>-1,i=Ht.isObject(t);if(i&&Ht.isHTMLForm(t)&&(t=new FormData(t)),Ht.isFormData(t))return r?JSON.stringify(XR(t)):t;if(Ht.isArrayBuffer(t)||Ht.isBuffer(t)||Ht.isStream(t)||Ht.isFile(t)||Ht.isBlob(t)||Ht.isReadableStream(t))return t;if(Ht.isArrayBufferView(t))return t.buffer;if(Ht.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let c;if(i){if(a.indexOf("application/x-www-form-urlencoded")>-1)return JX(t,this.formSerializer).toString();if((c=Ht.isFileList(t))||a.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return Xb(c?{"files[]":t}:t,l&&new l,this.formSerializer)}}return i||r?(n.setContentType("application/json",!1),nK(t)):t}],transformResponse:[function(t){const n=this.transitional||x0.transitional,a=n&&n.forcedJSONParsing,r=this.responseType==="json";if(Ht.isResponse(t)||Ht.isReadableStream(t))return t;if(t&&Ht.isString(t)&&(a&&!this.responseType||r)){const o=!(n&&n.silentJSONParsing)&&r;try{return JSON.parse(t,this.parseReviver)}catch(c){if(o)throw c.name==="SyntaxError"?ca.from(c,ca.ERR_BAD_RESPONSE,this,null,this.response):c}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:mo.classes.FormData,Blob:mo.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Ht.forEach(["delete","get","head","post","put","patch"],e=>{x0.headers[e]={}});const sK=Ht.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),aK=e=>{const t={};let n,a,r;return e&&e.split(`
`).forEach(function(o){r=o.indexOf(":"),n=o.substring(0,r).trim().toLowerCase(),a=o.substring(r+1).trim(),!(!n||t[n]&&sK[n])&&(n==="set-cookie"?t[n]?t[n].push(a):t[n]=[a]:t[n]=t[n]?t[n]+", "+a:a)}),t},ZI=Symbol("internals");function u1(e){return e&&String(e).trim().toLowerCase()}function Fv(e){return e===!1||e==null?e:Ht.isArray(e)?e.map(Fv):String(e)}function rK(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let a;for(;a=n.exec(e);)t[a[1]]=a[2];return t}const iK=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Kw(e,t,n,a,r){if(Ht.isFunction(a))return a.call(this,t,n);if(r&&(t=n),!!Ht.isString(t)){if(Ht.isString(a))return t.indexOf(a)!==-1;if(Ht.isRegExp(a))return a.test(t)}}function oK(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,a)=>n.toUpperCase()+a)}function cK(e,t){const n=Ht.toCamelCase(" "+t);["get","set","has"].forEach(a=>{Object.defineProperty(e,a+n,{value:function(r,i,o){return this[a].call(this,t,r,i,o)},configurable:!0})})}let Ho=class{constructor(t){t&&this.set(t)}set(t,n,a){const r=this;function i(c,l,d){const f=u1(l);if(!f)throw new Error("header name must be a non-empty string");const g=Ht.findKey(r,f);(!g||r[g]===void 0||d===!0||d===void 0&&r[g]!==!1)&&(r[g||l]=Fv(c))}const o=(c,l)=>Ht.forEach(c,(d,f)=>i(d,f,l));if(Ht.isPlainObject(t)||t instanceof this.constructor)o(t,n);else if(Ht.isString(t)&&(t=t.trim())&&!iK(t))o(aK(t),n);else if(Ht.isObject(t)&&Ht.isIterable(t)){let c={},l,d;for(const f of t){if(!Ht.isArray(f))throw TypeError("Object iterator must return a key-value pair");c[d=f[0]]=(l=c[d])?Ht.isArray(l)?[...l,f[1]]:[l,f[1]]:f[1]}o(c,n)}else t!=null&&i(n,t,a);return this}get(t,n){if(t=u1(t),t){const a=Ht.findKey(this,t);if(a){const r=this[a];if(!n)return r;if(n===!0)return rK(r);if(Ht.isFunction(n))return n.call(this,r,a);if(Ht.isRegExp(n))return n.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=u1(t),t){const a=Ht.findKey(this,t);return!!(a&&this[a]!==void 0&&(!n||Kw(this,this[a],a,n)))}return!1}delete(t,n){const a=this;let r=!1;function i(o){if(o=u1(o),o){const c=Ht.findKey(a,o);c&&(!n||Kw(a,a[c],c,n))&&(delete a[c],r=!0)}}return Ht.isArray(t)?t.forEach(i):i(t),r}clear(t){const n=Object.keys(this);let a=n.length,r=!1;for(;a--;){const i=n[a];(!t||Kw(this,this[i],i,t,!0))&&(delete this[i],r=!0)}return r}normalize(t){const n=this,a={};return Ht.forEach(this,(r,i)=>{const o=Ht.findKey(a,i);if(o){n[o]=Fv(r),delete n[i];return}const c=t?oK(i):String(i).trim();c!==i&&delete n[i],n[c]=Fv(r),a[c]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return Ht.forEach(this,(a,r)=>{a!=null&&a!==!1&&(n[r]=t&&Ht.isArray(a)?a.join(", "):a)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const a=new this(t);return n.forEach(r=>a.set(r)),a}static accessor(t){const a=(this[ZI]=this[ZI]={accessors:{}}).accessors,r=this.prototype;function i(o){const c=u1(o);a[c]||(cK(r,o),a[c]=!0)}return Ht.isArray(t)?t.forEach(i):i(t),this}};Ho.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Ht.reduceDescriptors(Ho.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(a){this[n]=a}}});Ht.freezeMethods(Ho);function Zw(e,t){const n=this||x0,a=t||n,r=Ho.from(a.headers);let i=a.data;return Ht.forEach(e,function(c){i=c.call(n,i,r.normalize(),t?t.status:void 0)}),r.normalize(),i}function KR(e){return!!(e&&e.__CANCEL__)}function ip(e,t,n){ca.call(this,e??"canceled",ca.ERR_CANCELED,t,n),this.name="CanceledError"}Ht.inherits(ip,ca,{__CANCEL__:!0});function ZR(e,t,n){const a=n.config.validateStatus;!n.status||!a||a(n.status)?e(n):t(new ca("Request failed with status code "+n.status,[ca.ERR_BAD_REQUEST,ca.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function lK(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function uK(e,t){e=e||10;const n=new Array(e),a=new Array(e);let r=0,i=0,o;return t=t!==void 0?t:1e3,function(l){const d=Date.now(),f=a[i];o||(o=d),n[r]=l,a[r]=d;let g=i,b=0;for(;g!==r;)b+=n[g++],g=g%e;if(r=(r+1)%e,r===i&&(i=(i+1)%e),d-o<t)return;const w=f&&d-f;return w?Math.round(b*1e3/w):void 0}}function dK(e,t){let n=0,a=1e3/t,r,i;const o=(d,f=Date.now())=>{n=f,r=null,i&&(clearTimeout(i),i=null),e(...d)};return[(...d)=>{const f=Date.now(),g=f-n;g>=a?o(d,f):(r=d,i||(i=setTimeout(()=>{i=null,o(r)},a-g)))},()=>r&&o(r)]}const Lx=(e,t,n=3)=>{let a=0;const r=uK(50,250);return dK(i=>{const o=i.loaded,c=i.lengthComputable?i.total:void 0,l=o-a,d=r(l),f=o<=c;a=o;const g={loaded:o,total:c,progress:c?o/c:void 0,bytes:l,rate:d||void 0,estimated:d&&c&&f?(c-o)/d:void 0,event:i,lengthComputable:c!=null,[t?"download":"upload"]:!0};e(g)},n)},JI=(e,t)=>{const n=e!=null;return[a=>t[0]({lengthComputable:n,total:e,loaded:a}),t[1]]},eE=e=>(...t)=>Ht.asap(()=>e(...t)),hK=mo.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,mo.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(mo.origin),mo.navigator&&/(msie|trident)/i.test(mo.navigator.userAgent)):()=>!0,fK=mo.hasStandardBrowserEnv?{write(e,t,n,a,r,i){const o=[e+"="+encodeURIComponent(t)];Ht.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),Ht.isString(a)&&o.push("path="+a),Ht.isString(r)&&o.push("domain="+r),i===!0&&o.push("secure"),document.cookie=o.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function mK(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function pK(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function JR(e,t,n){let a=!mK(t);return e&&(a||n==!1)?pK(e,t):t}const tE=e=>e instanceof Ho?{...e}:e;function Uh(e,t){t=t||{};const n={};function a(d,f,g,b){return Ht.isPlainObject(d)&&Ht.isPlainObject(f)?Ht.merge.call({caseless:b},d,f):Ht.isPlainObject(f)?Ht.merge({},f):Ht.isArray(f)?f.slice():f}function r(d,f,g,b){if(Ht.isUndefined(f)){if(!Ht.isUndefined(d))return a(void 0,d,g,b)}else return a(d,f,g,b)}function i(d,f){if(!Ht.isUndefined(f))return a(void 0,f)}function o(d,f){if(Ht.isUndefined(f)){if(!Ht.isUndefined(d))return a(void 0,d)}else return a(void 0,f)}function c(d,f,g){if(g in t)return a(d,f);if(g in e)return a(void 0,d)}const l={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:c,headers:(d,f,g)=>r(tE(d),tE(f),g,!0)};return Ht.forEach(Object.keys({...e,...t}),function(f){const g=l[f]||r,b=g(e[f],t[f],f);Ht.isUndefined(b)&&g!==c||(n[f]=b)}),n}const eB=e=>{const t=Uh({},e);let{data:n,withXSRFToken:a,xsrfHeaderName:r,xsrfCookieName:i,headers:o,auth:c}=t;if(t.headers=o=Ho.from(o),t.url=GR(JR(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),c&&o.set("Authorization","Basic "+btoa((c.username||"")+":"+(c.password?unescape(encodeURIComponent(c.password)):""))),Ht.isFormData(n)){if(mo.hasStandardBrowserEnv||mo.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(Ht.isFunction(n.getHeaders)){const l=n.getHeaders(),d=["content-type","content-length"];Object.entries(l).forEach(([f,g])=>{d.includes(f.toLowerCase())&&o.set(f,g)})}}if(mo.hasStandardBrowserEnv&&(a&&Ht.isFunction(a)&&(a=a(t)),a||a!==!1&&hK(t.url))){const l=r&&i&&fK.read(i);l&&o.set(r,l)}return t},gK=typeof XMLHttpRequest<"u",_K=gK&&function(e){return new Promise(function(n,a){const r=eB(e);let i=r.data;const o=Ho.from(r.headers).normalize();let{responseType:c,onUploadProgress:l,onDownloadProgress:d}=r,f,g,b,w,C;function S(){w&&w(),C&&C(),r.cancelToken&&r.cancelToken.unsubscribe(f),r.signal&&r.signal.removeEventListener("abort",f)}let k=new XMLHttpRequest;k.open(r.method.toUpperCase(),r.url,!0),k.timeout=r.timeout;function E(){if(!k)return;const R=Ho.from("getAllResponseHeaders"in k&&k.getAllResponseHeaders()),B={data:!c||c==="text"||c==="json"?k.responseText:k.response,status:k.status,statusText:k.statusText,headers:R,config:e,request:k};ZR(function($){n($),S()},function($){a($),S()},B),k=null}"onloadend"in k?k.onloadend=E:k.onreadystatechange=function(){!k||k.readyState!==4||k.status===0&&!(k.responseURL&&k.responseURL.indexOf("file:")===0)||setTimeout(E)},k.onabort=function(){k&&(a(new ca("Request aborted",ca.ECONNABORTED,e,k)),k=null)},k.onerror=function(P){const B=P&&P.message?P.message:"Network Error",O=new ca(B,ca.ERR_NETWORK,e,k);O.event=P||null,a(O),k=null},k.ontimeout=function(){let P=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const B=r.transitional||QR;r.timeoutErrorMessage&&(P=r.timeoutErrorMessage),a(new ca(P,B.clarifyTimeoutError?ca.ETIMEDOUT:ca.ECONNABORTED,e,k)),k=null},i===void 0&&o.setContentType(null),"setRequestHeader"in k&&Ht.forEach(o.toJSON(),function(P,B){k.setRequestHeader(B,P)}),Ht.isUndefined(r.withCredentials)||(k.withCredentials=!!r.withCredentials),c&&c!=="json"&&(k.responseType=r.responseType),d&&([b,C]=Lx(d,!0),k.addEventListener("progress",b)),l&&k.upload&&([g,w]=Lx(l),k.upload.addEventListener("progress",g),k.upload.addEventListener("loadend",w)),(r.cancelToken||r.signal)&&(f=R=>{k&&(a(!R||R.type?new ip(null,e,k):R),k.abort(),k=null)},r.cancelToken&&r.cancelToken.subscribe(f),r.signal&&(r.signal.aborted?f():r.signal.addEventListener("abort",f)));const D=lK(r.url);if(D&&mo.protocols.indexOf(D)===-1){a(new ca("Unsupported protocol "+D+":",ca.ERR_BAD_REQUEST,e));return}k.send(i||null)})},vK=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let a=new AbortController,r;const i=function(d){if(!r){r=!0,c();const f=d instanceof Error?d:this.reason;a.abort(f instanceof ca?f:new ip(f instanceof Error?f.message:f))}};let o=t&&setTimeout(()=>{o=null,i(new ca(`timeout ${t} of ms exceeded`,ca.ETIMEDOUT))},t);const c=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(d=>{d.unsubscribe?d.unsubscribe(i):d.removeEventListener("abort",i)}),e=null)};e.forEach(d=>d.addEventListener("abort",i));const{signal:l}=a;return l.unsubscribe=()=>Ht.asap(c),l}},xK=function*(e,t){let n=e.byteLength;if(n<t){yield e;return}let a=0,r;for(;a<n;)r=a+t,yield e.slice(a,r),a=r},bK=async function*(e,t){for await(const n of yK(e))yield*xK(n,t)},yK=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:a}=await t.read();if(n)break;yield a}}finally{await t.cancel()}},nE=(e,t,n,a)=>{const r=bK(e,t);let i=0,o,c=l=>{o||(o=!0,a&&a(l))};return new ReadableStream({async pull(l){try{const{done:d,value:f}=await r.next();if(d){c(),l.close();return}let g=f.byteLength;if(n){let b=i+=g;n(b)}l.enqueue(new Uint8Array(f))}catch(d){throw c(d),d}},cancel(l){return c(l),r.return()}},{highWaterMark:2})},sE=64*1024,{isFunction:Y_}=Ht,wK=(({Request:e,Response:t})=>({Request:e,Response:t}))(Ht.global),{ReadableStream:aE,TextEncoder:rE}=Ht.global,iE=(e,...t)=>{try{return!!e(...t)}catch{return!1}},jK=e=>{e=Ht.merge.call({skipUndefined:!0},wK,e);const{fetch:t,Request:n,Response:a}=e,r=t?Y_(t):typeof fetch=="function",i=Y_(n),o=Y_(a);if(!r)return!1;const c=r&&Y_(aE),l=r&&(typeof rE=="function"?(C=>S=>C.encode(S))(new rE):async C=>new Uint8Array(await new n(C).arrayBuffer())),d=i&&c&&iE(()=>{let C=!1;const S=new n(mo.origin,{body:new aE,method:"POST",get duplex(){return C=!0,"half"}}).headers.has("Content-Type");return C&&!S}),f=o&&c&&iE(()=>Ht.isReadableStream(new a("").body)),g={stream:f&&(C=>C.body)};r&&["text","arrayBuffer","blob","formData","stream"].forEach(C=>{!g[C]&&(g[C]=(S,k)=>{let E=S&&S[C];if(E)return E.call(S);throw new ca(`Response type '${C}' is not supported`,ca.ERR_NOT_SUPPORT,k)})});const b=async C=>{if(C==null)return 0;if(Ht.isBlob(C))return C.size;if(Ht.isSpecCompliantForm(C))return(await new n(mo.origin,{method:"POST",body:C}).arrayBuffer()).byteLength;if(Ht.isArrayBufferView(C)||Ht.isArrayBuffer(C))return C.byteLength;if(Ht.isURLSearchParams(C)&&(C=C+""),Ht.isString(C))return(await l(C)).byteLength},w=async(C,S)=>{const k=Ht.toFiniteNumber(C.getContentLength());return k??b(S)};return async C=>{let{url:S,method:k,data:E,signal:D,cancelToken:R,timeout:P,onDownloadProgress:B,onUploadProgress:O,responseType:$,headers:U,withCredentials:F="same-origin",fetchOptions:H}=eB(C),se=t||fetch;$=$?($+"").toLowerCase():"text";let K=vK([D,R&&R.toAbortSignal()],P),te=null;const J=K&&K.unsubscribe&&(()=>{K.unsubscribe()});let z;try{if(O&&d&&k!=="get"&&k!=="head"&&(z=await w(U,E))!==0){let G=new n(S,{method:"POST",body:E,duplex:"half"}),Q;if(Ht.isFormData(E)&&(Q=G.headers.get("content-type"))&&U.setContentType(Q),G.body){const[Y,ae]=JI(z,Lx(eE(O)));E=nE(G.body,sE,Y,ae)}}Ht.isString(F)||(F=F?"include":"omit");const V=i&&"credentials"in n.prototype,M={...H,signal:K,method:k.toUpperCase(),headers:U.normalize().toJSON(),body:E,duplex:"half",credentials:V?F:void 0};te=i&&new n(S,M);let ee=await(i?se(te,H):se(S,M));const Z=f&&($==="stream"||$==="response");if(f&&(B||Z&&J)){const G={};["status","statusText","headers"].forEach(ne=>{G[ne]=ee[ne]});const Q=Ht.toFiniteNumber(ee.headers.get("content-length")),[Y,ae]=B&&JI(Q,Lx(eE(B),!0))||[];ee=new a(nE(ee.body,sE,Y,()=>{ae&&ae(),J&&J()}),G)}$=$||"text";let A=await g[Ht.findKey(g,$)||"text"](ee,C);return!Z&&J&&J(),await new Promise((G,Q)=>{ZR(G,Q,{data:A,headers:Ho.from(ee.headers),status:ee.status,statusText:ee.statusText,config:C,request:te})})}catch(V){throw J&&J(),V&&V.name==="TypeError"&&/Load failed|fetch/i.test(V.message)?Object.assign(new ca("Network Error",ca.ERR_NETWORK,C,te),{cause:V.cause||V}):ca.from(V,V&&V.code,C,te)}}},CK=new Map,tB=e=>{let t=e?e.env:{};const{fetch:n,Request:a,Response:r}=t,i=[a,r,n];let o=i.length,c=o,l,d,f=CK;for(;c--;)l=i[c],d=f.get(l),d===void 0&&f.set(l,d=c?new Map:jK(t)),f=d;return d};tB();const dS={http:HX,xhr:_K,fetch:{get:tB}};Ht.forEach(dS,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const oE=e=>`- ${e}`,SK=e=>Ht.isFunction(e)||e===null||e===!1,nB={getAdapter:(e,t)=>{e=Ht.isArray(e)?e:[e];const{length:n}=e;let a,r;const i={};for(let o=0;o<n;o++){a=e[o];let c;if(r=a,!SK(a)&&(r=dS[(c=String(a)).toLowerCase()],r===void 0))throw new ca(`Unknown adapter '${c}'`);if(r&&(Ht.isFunction(r)||(r=r.get(t))))break;i[c||"#"+o]=r}if(!r){const o=Object.entries(i).map(([l,d])=>`adapter ${l} `+(d===!1?"is not supported by the environment":"is not available in the build"));let c=n?o.length>1?`since :
`+o.map(oE).join(`
`):" "+oE(o[0]):"as no adapter specified";throw new ca("There is no suitable adapter to dispatch the request "+c,"ERR_NOT_SUPPORT")}return r},adapters:dS};function Jw(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new ip(null,e)}function cE(e){return Jw(e),e.headers=Ho.from(e.headers),e.data=Zw.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),nB.getAdapter(e.adapter||x0.adapter,e)(e).then(function(a){return Jw(e),a.data=Zw.call(e,e.transformResponse,a),a.headers=Ho.from(a.headers),a},function(a){return KR(a)||(Jw(e),a&&a.response&&(a.response.data=Zw.call(e,e.transformResponse,a.response),a.response.headers=Ho.from(a.response.headers))),Promise.reject(a)})}const sB="1.12.2",Kb={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Kb[e]=function(a){return typeof a===e||"a"+(t<1?"n ":" ")+e}});const lE={};Kb.transitional=function(t,n,a){function r(i,o){return"[Axios v"+sB+"] Transitional option '"+i+"'"+o+(a?". "+a:"")}return(i,o,c)=>{if(t===!1)throw new ca(r(o," has been removed"+(n?" in "+n:"")),ca.ERR_DEPRECATED);return n&&!lE[o]&&(lE[o]=!0,console.warn(r(o," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(i,o,c):!0}};Kb.spelling=function(t){return(n,a)=>(console.warn(`${a} is likely a misspelling of ${t}`),!0)};function NK(e,t,n){if(typeof e!="object")throw new ca("options must be an object",ca.ERR_BAD_OPTION_VALUE);const a=Object.keys(e);let r=a.length;for(;r-- >0;){const i=a[r],o=t[i];if(o){const c=e[i],l=c===void 0||o(c,i,e);if(l!==!0)throw new ca("option "+i+" must be "+l,ca.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new ca("Unknown option "+i,ca.ERR_BAD_OPTION)}}const Hv={assertOptions:NK,validators:Kb},vl=Hv.validators;let Mh=class{constructor(t){this.defaults=t||{},this.interceptors={request:new KI,response:new KI}}async request(t,n){try{return await this._request(t,n)}catch(a){if(a instanceof Error){let r={};Error.captureStackTrace?Error.captureStackTrace(r):r=new Error;const i=r.stack?r.stack.replace(/^.+\n/,""):"";try{a.stack?i&&!String(a.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(a.stack+=`
`+i):a.stack=i}catch{}}throw a}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=Uh(this.defaults,n);const{transitional:a,paramsSerializer:r,headers:i}=n;a!==void 0&&Hv.assertOptions(a,{silentJSONParsing:vl.transitional(vl.boolean),forcedJSONParsing:vl.transitional(vl.boolean),clarifyTimeoutError:vl.transitional(vl.boolean)},!1),r!=null&&(Ht.isFunction(r)?n.paramsSerializer={serialize:r}:Hv.assertOptions(r,{encode:vl.function,serialize:vl.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),Hv.assertOptions(n,{baseUrl:vl.spelling("baseURL"),withXsrfToken:vl.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=i&&Ht.merge(i.common,i[n.method]);i&&Ht.forEach(["delete","get","head","post","put","patch","common"],C=>{delete i[C]}),n.headers=Ho.concat(o,i);const c=[];let l=!0;this.interceptors.request.forEach(function(S){typeof S.runWhen=="function"&&S.runWhen(n)===!1||(l=l&&S.synchronous,c.unshift(S.fulfilled,S.rejected))});const d=[];this.interceptors.response.forEach(function(S){d.push(S.fulfilled,S.rejected)});let f,g=0,b;if(!l){const C=[cE.bind(this),void 0];for(C.unshift(...c),C.push(...d),b=C.length,f=Promise.resolve(n);g<b;)f=f.then(C[g++],C[g++]);return f}b=c.length;let w=n;for(;g<b;){const C=c[g++],S=c[g++];try{w=C(w)}catch(k){S.call(this,k);break}}try{f=cE.call(this,w)}catch(C){return Promise.reject(C)}for(g=0,b=d.length;g<b;)f=f.then(d[g++],d[g++]);return f}getUri(t){t=Uh(this.defaults,t);const n=JR(t.baseURL,t.url,t.allowAbsoluteUrls);return GR(n,t.params,t.paramsSerializer)}};Ht.forEach(["delete","get","head","options"],function(t){Mh.prototype[t]=function(n,a){return this.request(Uh(a||{},{method:t,url:n,data:(a||{}).data}))}});Ht.forEach(["post","put","patch"],function(t){function n(a){return function(i,o,c){return this.request(Uh(c||{},{method:t,headers:a?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}Mh.prototype[t]=n(),Mh.prototype[t+"Form"]=n(!0)});let kK=class aB{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(i){n=i});const a=this;this.promise.then(r=>{if(!a._listeners)return;let i=a._listeners.length;for(;i-- >0;)a._listeners[i](r);a._listeners=null}),this.promise.then=r=>{let i;const o=new Promise(c=>{a.subscribe(c),i=c}).then(r);return o.cancel=function(){a.unsubscribe(i)},o},t(function(i,o,c){a.reason||(a.reason=new ip(i,o,c),n(a.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=a=>{t.abort(a)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new aB(function(r){t=r}),cancel:t}}};function IK(e){return function(n){return e.apply(null,n)}}function EK(e){return Ht.isObject(e)&&e.isAxiosError===!0}const hS={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(hS).forEach(([e,t])=>{hS[t]=e});function rB(e){const t=new Mh(e),n=OR(Mh.prototype.request,t);return Ht.extend(n,Mh.prototype,t,{allOwnKeys:!0}),Ht.extend(n,t,null,{allOwnKeys:!0}),n.create=function(r){return rB(Uh(e,r))},n}const wi=rB(x0);wi.Axios=Mh;wi.CanceledError=ip;wi.CancelToken=kK;wi.isCancel=KR;wi.VERSION=sB;wi.toFormData=Xb;wi.AxiosError=ca;wi.Cancel=wi.CanceledError;wi.all=function(t){return Promise.all(t)};wi.spread=IK;wi.isAxiosError=EK;wi.mergeConfig=Uh;wi.AxiosHeaders=Ho;wi.formToJSON=e=>XR(Ht.isHTMLForm(e)?new FormData(e):e);wi.getAdapter=nB.getAdapter;wi.HttpStatusCode=hS;wi.default=wi;const{Axios:Lkt,AxiosError:$kt,CanceledError:Pkt,isCancel:Fkt,CancelToken:Hkt,VERSION:qkt,all:Vkt,Cancel:zkt,isAxiosError:Ukt,spread:Wkt,toFormData:Ykt,AxiosHeaders:Gkt,HttpStatusCode:Qkt,formToJSON:Xkt,getAdapter:Kkt,mergeConfig:Zkt}=wi,TK={development:{API_BASE_URL:"https://api.vendorvillage.store",MEDIA_BASE_URL:"https://api.vendorvillage.store",APP_NAME:"Axione Dev",DEBUG:!0,LOG_LEVEL:"debug"},production:{API_BASE_URL:"https://api.axione.store",MEDIA_BASE_URL:"https://api.axione.store",APP_NAME:"Axione",DEBUG:!1,LOG_LEVEL:"error"}},DK=()=>"production",qv=DK(),AK=TK[qv],op={...AK,ENVIRONMENT:qv,IS_DEVELOPMENT:qv==="development",IS_PRODUCTION:qv==="production"},Vv={debug:(...e)=>{op.DEBUG&&console.log("[DEBUG]",...e)},info:(...e)=>{console.info("[INFO]",...e)},warn:(...e)=>{console.warn("[WARN]",...e)},error:(...e)=>{console.error("[ERROR]",...e)}},iB=op.API_BASE_URL;Vv.debug("API Base URL:",iB);const Be=wi.create({baseURL:iB,withCredentials:!0,timeout:2e4});let ej=!1,fS=[];const uE=(e,t=null)=>{fS.forEach(n=>{e?n.reject(e):n.resolve(t)}),fS=[]};function MK(e){const t=document.cookie.match("(?:^|; )"+e.replace(/([$?*|{}\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)");return t?decodeURIComponent(t[1]):null}Be.interceptors.request.use(e=>{const t=(e.method||"get").toLowerCase();if(["post","put","patch","delete"].includes(t)){const n=MK("csrftoken");n&&(e.headers["X-CSRFToken"]=n)}return e});const RK=["accounts/api/auth/login/","accounts/api/auth/register/","accounts/api/auth/verify-email/","accounts/api/auth/password-reset/","accounts/api/auth/password-reset-confirm/","accounts/api/auth/resend-code/","accounts/api/auth/google/","accounts/api/auth/telegram/","accounts/api/token/refresh/"],BK=e=>e?RK.some(t=>e.includes(t)):!1;Be.interceptors.response.use(e=>e,async e=>{var n,a;const t=e.config;if(((n=e.response)==null?void 0:n.status)===401&&!t._retry&&!BK(t.url)){if(ej)return new Promise((r,i)=>{fS.push({resolve:r,reject:i})}).then(()=>Be(t)).catch(r=>Promise.reject(r));t._retry=!0,ej=!0;try{const r=await Be.post("accounts/api/token/refresh/",{},{withCredentials:!0});if(r.status===200)return uE(null,r.data),Be(t)}catch(r){uE(r,null);const i=["/registration-login","/password-reset","/privacy","/","/marketplace","/business-categories","/invite"],o=window.location.pathname;return i.some(l=>o===l||o.startsWith(l+"/"))||(window.location.href="/registration-login"),Promise.reject(r)}finally{ej=!1}}if(((a=e.response)==null?void 0:a.status)===429){const r=e.response.headers["retry-after"]||e.response.headers["Retry-After"]||null,i=()=>Be(t);window.showTooManyRequestsModal&&window.showTooManyRequestsModal(r,i)}return Promise.reject(e)});const OK="_citySelector_1ml6t_5",LK="_citySelectorButton_1ml6t_15",$K="_cityIcon_1ml6t_73",PK="_citySelectorText_1ml6t_83",FK="_chevronIcon_1ml6t_99",HK="_citySelectorDropdown_1ml6t_113",qK="_citySelectorLoading_1ml6t_167",VK="_citySelectorList_1ml6t_179",zK="_citySelectorItem_1ml6t_193",UK="_selected_1ml6t_241",WK="_citySelectorItemName_1ml6t_253",YK="_citySelectorBadge_1ml6t_263",GK="_checkIcon_1ml6t_285",QK="_mobileOverlay_1ml6t_299",XK="_mobileModal_1ml6t_343",KK="_mobileModalDragHandle_1ml6t_407",ZK="_mobileModalHeader_1ml6t_439",JK="_mobileModalTitle_1ml6t_467",eZ="_mobileModalClose_1ml6t_481",tZ="_mobileModalSearch_1ml6t_537",nZ="_searchIcon_1ml6t_563",sZ="_searchInput_1ml6t_575",aZ="_mobileModalContent_1ml6t_617",rZ="_mobileCityList_1ml6t_631",iZ="_mobileCityItem_1ml6t_645",oZ="_mobileCityInfo_1ml6t_703",cZ="_mobileCityText_1ml6t_719",lZ="_mobileCityIcon_1ml6t_735",uZ="_mobileCityName_1ml6t_747",dZ="_mobileCityBadge_1ml6t_775",hZ="_mobileCheckIcon_1ml6t_799",fZ="_emptyState_1ml6t_811",mZ="_emptyStateIcon_1ml6t_831",pZ="_emptyStateHint_1ml6t_855",ga={citySelector:OK,citySelectorButton:LK,cityIcon:$K,citySelectorText:PK,chevronIcon:FK,citySelectorDropdown:HK,citySelectorLoading:qK,citySelectorList:VK,citySelectorItem:zK,selected:UK,citySelectorItemName:WK,citySelectorBadge:YK,checkIcon:GK,mobileOverlay:QK,mobileModal:XK,mobileModalDragHandle:KK,mobileModalHeader:ZK,mobileModalTitle:JK,mobileModalClose:eZ,mobileModalSearch:tZ,searchIcon:nZ,searchInput:sZ,mobileModalContent:aZ,mobileCityList:rZ,mobileCityItem:iZ,mobileCityInfo:oZ,mobileCityText:cZ,mobileCityIcon:lZ,mobileCityName:uZ,mobileCityBadge:dZ,mobileCheckIcon:hZ,emptyState:fZ,emptyStateIcon:mZ,emptyStateHint:pZ},mS=({selectedCity:e,onSelectCity:t})=>{const n=ef(768),[a,r]=_.useState(!1),[i,o]=_.useState([]),[c,l]=_.useState(!1),[d,f]=_.useState(""),[g,b]=_.useState(0),[w,C]=_.useState(!1),S=_.useRef(null),k=_.useRef(null),E=_.useRef(0);_.useEffect(()=>{a&&(async()=>{try{l(!0);const $=await Be.get("api/countries/");if($.data&&$.data.length>0){const U=$.data[0],F=await Be.get(`api/cities/?country=${U.id}`);o(F.data||[])}l(!1)}catch($){console.error("  :",$),l(!1)}})()},[a]);const D=O=>{if(!n||!a)return;const $=O.target;($.classList.contains(ga.mobileModalDragHandle)||$.closest(`.${ga.mobileModalDragHandle}`)||$.closest(`.${ga.mobileModalHeader}`))&&(C(!0),E.current=O.touches?O.touches[0].clientY:O.clientY,O.preventDefault())};_.useEffect(()=>{if(!n||!a||!w)return;const O=U=>{const H=(U.touches?U.touches[0].clientY:U.clientY)-E.current;H>0&&(b(H),U.preventDefault())},$=()=>{g>100&&(r(!1),f("")),b(0),C(!1)};return document.addEventListener("touchmove",O,{passive:!1}),document.addEventListener("touchend",$),document.addEventListener("mousemove",O),document.addEventListener("mouseup",$),()=>{document.removeEventListener("touchmove",O),document.removeEventListener("touchend",$),document.removeEventListener("mousemove",O),document.removeEventListener("mouseup",$)}},[n,a,w,g]),_.useEffect(()=>{const O=$=>{n?k.current&&!k.current.contains($.target)&&(r(!1),f("")):S.current&&!S.current.contains($.target)&&r(!1)};return a&&!w&&(document.addEventListener("mousedown",O),document.addEventListener("touchstart",O)),()=>{document.removeEventListener("mousedown",O),document.removeEventListener("touchstart",O)}},[a,n,w]),_.useEffect(()=>(n&&a?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow=""}),[n,a]);const R=O=>{t(O),r(!1),f("")},P=i.filter(O=>O.name.toLowerCase().includes(d.toLowerCase())),B=n&&a?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:ga.mobileOverlay,onClick:()=>{r(!1),f("")}}),s.jsxs("div",{className:ga.mobileModal,ref:k,style:{transform:g>0?`translateY(${g}px)`:"translateY(0)",opacity:g>0?Math.max(.3,1-g/300):1},children:[s.jsx("div",{className:ga.mobileModalDragHandle,onTouchStart:D,onMouseDown:D}),s.jsxs("div",{className:ga.mobileModalHeader,onTouchStart:D,onMouseDown:D,children:[s.jsx("h2",{className:ga.mobileModalTitle,children:" "}),s.jsx("button",{className:ga.mobileModalClose,onClick:()=>{r(!1),f("")},"aria-label":"",children:s.jsx(da,{})})]}),s.jsxs("div",{className:ga.mobileModalSearch,children:[s.jsx(hi,{className:ga.searchIcon}),s.jsx("input",{type:"text",placeholder:" ...",value:d,onChange:O=>f(O.target.value),className:ga.searchInput,autoFocus:!0})]}),s.jsx("div",{className:ga.mobileModalContent,children:c?s.jsx("div",{className:ga.citySelectorLoading,children:s.jsx("p",{children:"..."})}):P.length===0?s.jsxs("div",{className:ga.emptyState,children:[s.jsx(cr,{className:ga.emptyStateIcon}),s.jsx("p",{children:"  "}),d&&s.jsx("p",{className:ga.emptyStateHint,children:"  "})]}):s.jsx("div",{className:ga.mobileCityList,children:P.map(O=>s.jsxs("button",{className:`${ga.mobileCityItem} ${(e==null?void 0:e.id)===O.id?ga.selected:""}`,onClick:()=>R(O),children:[s.jsxs("div",{className:ga.mobileCityInfo,children:[s.jsx(cr,{className:ga.mobileCityIcon}),s.jsxs("div",{className:ga.mobileCityText,children:[s.jsx("span",{className:ga.mobileCityName,children:O.name}),O.is_capital&&s.jsx("span",{className:ga.mobileCityBadge,children:""})]})]}),(e==null?void 0:e.id)===O.id&&s.jsx(Xr,{className:ga.mobileCheckIcon})]},O.id))})})]})]}):null;return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:ga.citySelector,ref:S,children:[s.jsxs("button",{className:ga.citySelectorButton,onClick:()=>r(!a),"aria-label":" ",children:[s.jsx(cr,{className:ga.cityIcon}),s.jsx("span",{className:ga.citySelectorText,children:e?e.name:" "}),a?s.jsx(ko,{className:ga.chevronIcon}):s.jsx(No,{className:ga.chevronIcon})]}),!n&&a&&s.jsx("div",{className:ga.citySelectorDropdown,children:c?s.jsx("div",{className:ga.citySelectorLoading,children:s.jsx("p",{children:"..."})}):s.jsx("div",{className:ga.citySelectorList,children:i.map(O=>s.jsxs("button",{className:`${ga.citySelectorItem} ${(e==null?void 0:e.id)===O.id?ga.selected:""}`,onClick:()=>R(O),children:[s.jsx("span",{className:ga.citySelectorItemName,children:O.name}),O.is_capital&&s.jsx("span",{className:ga.citySelectorBadge,children:""}),(e==null?void 0:e.id)===O.id&&s.jsx(Xr,{className:ga.checkIcon})]},O.id))})})]}),typeof document<"u"&&B&&tp.createPortal(B,document.body)]})},d1="selectedCity",U3=()=>{const[e,t]=_.useState(null),[n,a]=_.useState(!0),r=()=>{const o=localStorage.getItem(d1);if(o)try{return JSON.parse(o)}catch(c){return console.error("   :",c),localStorage.removeItem(d1),null}return null};return _.useEffect(()=>{const o=r();t(o),a(!1)},[]),_.useEffect(()=>{const o=l=>{if(l.key===d1||l.key===null){const d=r();t(d)}};window.addEventListener("storage",o);const c=setInterval(()=>{const l=r();!l&&e?t(null):l&&(!e||l.id!==e.id)&&t(l)},1e3);return()=>{window.removeEventListener("storage",o),clearInterval(c)}},[e]),{selectedCity:e,setSelectedCity:o=>{t(o),o?localStorage.setItem(d1,JSON.stringify(o)):localStorage.removeItem(d1)},isLoading:n}},oB=_.createContext(),gZ=()=>{const e=_.useContext(oB);if(!e)throw new Error("useTheme must be used within a ThemeProvider");return e},_Z=({children:e})=>{const t=()=>{const o=localStorage.getItem("theme");return o||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")},[n,a]=_.useState(t);_.useEffect(()=>{const o=document.documentElement;n==="dark"?(o.classList.add("dark-theme"),o.classList.remove("light-theme")):(o.classList.add("light-theme"),o.classList.remove("dark-theme")),localStorage.setItem("theme",n)},[n]),_.useEffect(()=>{const o=window.matchMedia("(prefers-color-scheme: dark)"),c=l=>{localStorage.getItem("theme")||a(l.matches?"dark":"light")};return o.addEventListener("change",c),()=>o.removeEventListener("change",c)},[]);const i={theme:n,toggleTheme:()=>{a(o=>o==="dark"?"light":"dark")},isDark:n==="dark",isLight:n==="light"};return s.jsx(oB.Provider,{value:i,children:e})},cB=()=>{const{theme:e,toggleTheme:t}=gZ();return s.jsx("button",{className:"theme-toggle",onClick:t,"aria-label":`  ${e==="dark"?"":""} `,title:`  ${e==="dark"?"":""} `,children:e==="dark"?s.jsx("i",{className:"fas fa-sun"}):s.jsx("i",{className:"fas fa-moon"})})},lB=_.createContext(),uB=()=>{const e=_.useContext(lB);if(!e)throw new Error("useSnowfall must be used within a SnowfallProvider");return e},tj=()=>{const e=new Date,t=e.getMonth(),n=e.getDate();return t===11&&n>=18||t===0&&n<=14},vZ=({children:e})=>{const t=tj(),n=()=>{if(!t)return localStorage.removeItem("snowfallEnabled"),!1;const d=localStorage.getItem("snowfallEnabled");return d!==null?d==="true":t},[a,r]=_.useState(n),[i,o]=_.useState(()=>t?localStorage.getItem("snowfallEnabled")===null:!0);_.useEffect(()=>{const d=()=>{const S=tj();if(!S){r(!1),o(!0),localStorage.removeItem("snowfallEnabled");return}i&&r(S)};d();const f=new Date,g=new Date(f);g.setDate(g.getDate()+1),g.setHours(0,0,0,0);const b=g.getTime()-f.getTime();let w=null;const C=setTimeout(()=>{d(),w=setInterval(()=>{d()},24*60*60*1e3)},b);return()=>{clearTimeout(C),w&&clearInterval(w)}},[i]);const l={snowfallEnabled:t?a:!1,toggleSnowfall:()=>{tj()&&r(f=>{const g=!f;return localStorage.setItem("snowfallEnabled",g.toString()),o(!1),g})},isAutoMode:i,isPeriodActive:t};return s.jsx(lB.Provider,{value:l,children:e})},dB=()=>{const{snowfallEnabled:e,toggleSnowfall:t,isPeriodActive:n}=uB();return n?s.jsx("button",{className:"snowfall-toggle",onClick:t,"aria-label":e?" ":" ",title:e?" ":" ",children:e?s.jsx("i",{className:"fas fa-snowflake"}):s.jsx("i",{className:"far fa-snowflake"})}):null};function xZ(){const[e,t]=_.useState(!1),[n,a]=_.useState(!0),[r,i]=_.useState(0),{selectedCity:o,setSelectedCity:c}=U3(),l=_.useRef(null);return _.useEffect(()=>{let d=!1;const f=()=>{d||(window.requestAnimationFrame(()=>{const g=window.scrollY;t(g>10),g>r&&g>100?a(!1):(g<r||g<=100)&&a(!0),i(g),d=!1}),d=!0)};return window.addEventListener("scroll",f,{passive:!0}),()=>window.removeEventListener("scroll",f)},[r]),s.jsxs("header",{className:`${Ta.header} ${e?Ta.scrolled:""}`,children:[s.jsxs("div",{className:`${Ta.mobileCityBar} ${n?"":Ta.hidden}`,children:[s.jsxs("button",{className:Ta.mobileCityButton,onClick:()=>{const d=l.current;if(d){const f=d.querySelector("button");f&&f.click()}},children:[s.jsx("span",{className:Ta.mobileCityText,children:o?o.name:" "}),s.jsx("i",{className:"fas fa-chevron-down"})]}),s.jsx("div",{className:Ta.mobileCitySelectorWrapper,ref:l,children:s.jsx(mS,{selectedCity:o,onSelectCity:c})})]}),s.jsx("nav",{className:Ta.navbar,children:s.jsxs("div",{className:Ta.container,children:[s.jsxs("div",{className:Ta.desktopLayout,children:[s.jsxs(Pa,{to:"/",className:Ta.brand,children:[s.jsx("img",{src:$g,alt:"A",className:Ta.logoIcon}),s.jsx("span",{children:"xione"})]}),s.jsxs("div",{className:Ta.navbarCollapse,children:[s.jsxs("ul",{className:Ta.navbarNav,children:[s.jsx("li",{className:Ta.navItem,children:s.jsx(Pa,{to:"/business-categories",className:Ta.navLink,children:""})}),s.jsx("li",{className:Ta.navItem,children:s.jsx(Pa,{to:"/sites",className:Ta.navLink,children:""})})]}),s.jsxs("form",{className:Ta.searchForm,role:"search",children:[s.jsx("input",{className:Ta.searchInput,type:"text",placeholder:"","aria-label":"Search"}),s.jsx("button",{className:Ta.searchButton,type:"submit",children:s.jsx("i",{className:"fas fa-search"})})]}),s.jsxs("ul",{className:Ta.navbarNav,children:[s.jsx("li",{className:Ta.navItem,children:s.jsxs(Pa,{to:"/cart",className:Ta.navLink,children:[s.jsx("i",{className:"fas fa-shopping-cart"})," "]})}),s.jsx("li",{className:Ta.navItem,children:s.jsxs(Pa,{to:"/account",className:Ta.navLink,children:[s.jsx("i",{className:"fas fa-user"})," "]})}),s.jsx("li",{className:Ta.navItem,children:s.jsx(mS,{selectedCity:o,onSelectCity:c})}),s.jsx("li",{className:Ta.navItem,children:s.jsx(cB,{})}),s.jsx("li",{className:Ta.navItem,children:s.jsx(dB,{})})]})]})]}),s.jsxs("div",{className:Ta.mobileLayout,children:[s.jsxs(Pa,{to:"/",className:`${Ta.mobileBrand} ${n?"":Ta.hidden}`,children:[s.jsx("img",{src:$g,alt:"A",className:Ta.logoIcon}),s.jsx("span",{children:"xione"})]}),s.jsxs("form",{className:`${Ta.mobileSearchForm} ${n?"":Ta.scrolled}`,role:"search",children:[s.jsx("input",{className:Ta.mobileSearchInput,type:"text",placeholder:"","aria-label":"Search"}),s.jsx("button",{className:Ta.mobileSearchButton,type:"submit",children:s.jsx("i",{className:"fas fa-search"})})]})]})]})})]})}const cp=()=>{const[e,t]=_.useState(!1),[n,a]=_.useState(!0),[r,i]=_.useState(null),o=_.useCallback(async()=>{try{const d=await Be.get("accounts/api/auth/me/",{withCredentials:!0});return d.data.authenticated?(t(!0),i(d.data.user),!0):(t(!1),i(null),!1)}catch(d){return console.error("  :",d),t(!1),i(null),!1}},[]),c=_.useCallback(async()=>{var d;try{return(await Be.post("accounts/api/token/refresh/",{},{withCredentials:!0})).status===200}catch(f){return console.error("  :",f),((d=f.response)==null?void 0:d.status)===401&&(t(!1),i(null)),!1}},[]),l=_.useCallback(async()=>{try{await Be.post("accounts/api/auth/logout/",{},{withCredentials:!0})}catch(d){console.error("  :",d)}finally{t(!1),i(null),window.location.href="/registration-login"}},[]);return _.useEffect(()=>{(async()=>{a(!0),await o(),a(!1)})()},[o]),{isAuthenticated:e,isLoading:n,user:r,checkAuth:o,refreshToken:c,logout:l}},bZ="_footer_5vdtd_1",yZ="_footerContainer_5vdtd_23",wZ="_footerContent_5vdtd_28",jZ="_footerSection_5vdtd_35",CZ="_logoSection_5vdtd_41",SZ="_logoIcon_5vdtd_48",NZ="_logoText_5vdtd_59",kZ="_description_5vdtd_70",IZ="_socialIcons_5vdtd_78",EZ="_socialLink_5vdtd_84",TZ="_sectionTitle_5vdtd_108",DZ="_footerLinks_5vdtd_129",AZ="_footerLink_5vdtd_129",MZ="_linkIcon_5vdtd_153",RZ="_newsletterDescription_5vdtd_159",BZ="_newsletterForm_5vdtd_166",OZ="_inputWrapper_5vdtd_172",LZ="_newsletterInput_5vdtd_187",$Z="_newsletterButton_5vdtd_201",PZ="_subscribeMessage_5vdtd_223",FZ="_footerBottom_5vdtd_231",HZ="_footerBottomContent_5vdtd_237",qZ="_copyright_5vdtd_245",VZ="_legalLinks_5vdtd_251",zZ="_legalLink_5vdtd_251",UZ="_legalIcon_5vdtd_272",WZ="_separator_5vdtd_276",Hs={footer:bZ,footerContainer:yZ,footerContent:wZ,footerSection:jZ,logoSection:CZ,logoIcon:SZ,logoText:NZ,description:kZ,socialIcons:IZ,socialLink:EZ,sectionTitle:TZ,footerLinks:DZ,footerLink:AZ,linkIcon:MZ,newsletterDescription:RZ,newsletterForm:BZ,inputWrapper:OZ,newsletterInput:LZ,newsletterButton:$Z,subscribeMessage:PZ,footerBottom:FZ,footerBottomContent:HZ,copyright:qZ,legalLinks:VZ,legalLink:zZ,legalIcon:UZ,separator:WZ};function YZ(){const{isAuthenticated:e}=cp(),[t,n]=_.useState(""),[a,r]=_.useState(!1),[i,o]=_.useState(""),c=async d=>{if(d.preventDefault(),!t||!/\S+@\S+\.\S+/.test(t)){o(",   email");return}r(!0),o("");try{setTimeout(()=>{o("  !"),n(""),r(!1)},500)}catch{o(" .  ."),r(!1)}},l=new Date().getFullYear();return s.jsx("footer",{className:Hs.footer,children:s.jsxs("div",{className:Hs.footerContainer,children:[s.jsxs("div",{className:Hs.footerContent,children:[s.jsxs("div",{className:Hs.footerSection,children:[s.jsxs("div",{className:Hs.logoSection,children:[s.jsx("img",{src:$g,alt:"Axione Logo",className:Hs.logoIcon}),s.jsx("h3",{className:Hs.logoText,children:"Axione"})]}),s.jsx("p",{className:Hs.description,children:"       .  ,        ."}),s.jsxs("div",{className:Hs.socialIcons,children:[s.jsx("a",{href:"https://instagram.com",target:"_blank",rel:"noopener noreferrer","aria-label":"Instagram",className:Hs.socialLink,children:s.jsx(sQ,{})}),s.jsx("a",{href:"https://t.me",target:"_blank",rel:"noopener noreferrer","aria-label":"Telegram",className:Hs.socialLink,children:s.jsx(aQ,{})})]})]}),s.jsxs("div",{className:Hs.footerSection,children:[s.jsx("h4",{className:Hs.sectionTitle,children:""}),s.jsxs("ul",{className:Hs.footerLinks,children:[s.jsx("li",{children:s.jsx(Pa,{to:"/",className:Hs.footerLink,children:""})}),s.jsx("li",{children:s.jsx(Pa,{to:"/marketplace",className:Hs.footerLink,children:""})}),s.jsx("li",{children:s.jsx(Pa,{to:"/marketplace/categories",className:Hs.footerLink,children:""})}),s.jsx("li",{children:s.jsx(Pa,{to:"/business-categories",className:Hs.footerLink,children:" "})}),e?s.jsx("li",{children:s.jsx(Pa,{to:"/account",className:Hs.footerLink,children:" "})}):s.jsx("li",{children:s.jsx(Pa,{to:"/registration-login",className:Hs.footerLink,children:" / "})})]})]}),s.jsxs("div",{className:Hs.footerSection,children:[s.jsx("h4",{className:Hs.sectionTitle,children:""}),s.jsxs("ul",{className:Hs.footerLinks,children:[s.jsx("li",{children:s.jsxs(Pa,{to:"/privacy",className:Hs.footerLink,children:[s.jsx(UI,{className:Hs.linkIcon})," "]})}),s.jsx("li",{children:s.jsxs("a",{href:"mailto:support@axione.ru",className:Hs.footerLink,children:[s.jsx(Nl,{className:Hs.linkIcon}),"  "]})}),s.jsx("li",{children:s.jsxs("a",{href:"tel:+79991234567",className:Hs.footerLink,children:[s.jsx(RR,{className:Hs.linkIcon}),"+7 (999) 123-45-67"]})}),s.jsx("li",{children:s.jsxs("span",{className:Hs.footerLink,children:[s.jsx(cr,{className:Hs.linkIcon}),", "]})})]})]}),s.jsxs("div",{className:Hs.footerSection,children:[s.jsx("h4",{className:Hs.sectionTitle,children:""}),s.jsx("p",{className:Hs.newsletterDescription,children:"  ,         "}),s.jsxs("form",{className:Hs.newsletterForm,onSubmit:c,children:[s.jsxs("div",{className:Hs.inputWrapper,children:[s.jsx("input",{type:"email",placeholder:" email",value:t,onChange:d=>n(d.target.value),className:Hs.newsletterInput,required:!0,disabled:a}),s.jsx("button",{type:"submit",className:Hs.newsletterButton,disabled:a,children:a?"...":""})]}),i&&s.jsx("p",{className:Hs.subscribeMessage,children:i})]})]})]}),s.jsx("div",{className:Hs.footerBottom,children:s.jsxs("div",{className:Hs.footerBottomContent,children:[s.jsxs("p",{className:Hs.copyright,children:[" ",l," Axione.   ."]}),s.jsxs("div",{className:Hs.legalLinks,children:[s.jsxs(Pa,{to:"/privacy",className:Hs.legalLink,children:[s.jsx(UI,{className:Hs.legalIcon})," "]}),s.jsx("span",{className:Hs.separator,children:"|"}),s.jsxs("a",{href:"#",className:Hs.legalLink,children:[s.jsx(oQ,{className:Hs.legalIcon})," "]})]})]})})]})})}const GZ="_bottomNav_bhrbx_3",QZ="_navItem_bhrbx_20",XZ="_navIcon_bhrbx_42",KZ="_navLabel_bhrbx_60",ZZ="_active_bhrbx_66",h1={bottomNav:GZ,navItem:QZ,navIcon:XZ,navLabel:KZ,active:ZZ},JZ=()=>{const e=Kr(),t=[{path:"/",icon:"fas fa-home",label:""},{path:"/business-categories",icon:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24","aria-hidden":"true",children:s.jsx("path",{d:"M21.576 10.877h-6.118a2.34 2.34 0 0 1-2.335-2.336V2.423A2.34 2.34 0 0 1 15.458.088h6.118a2.34 2.34 0 0 1 2.335 2.335v6.118a2.34 2.34 0 0 1-2.335 2.336m-6.118-8.454v6.118h6.118V2.423zM5.65 24a5.61 5.61 0 0 1-5.604-5.604A5.61 5.61 0 0 1 5.65 12.79a5.61 5.61 0 0 1 5.605 5.605A5.61 5.61 0 0 1 5.65 24m0-8.873a3.273 3.273 0 0 0-3.269 3.269 3.273 3.273 0 0 0 3.27 3.269 3.273 3.273 0 0 0 3.268-3.27 3.273 3.273 0 0 0-3.269-3.268m2.453-4.268A1.067 1.067 0 0 0 9.65 9.735l-.455-2.65 1.926-1.875a1.066 1.066 0 0 0-.591-1.82L7.87 3.005 6.68.594a1.067 1.067 0 0 0-1.914 0l-1.19 2.41-2.661.387A1.066 1.066 0 0 0 .323 5.21L2.25 7.086l-.454 2.649a1.067 1.067 0 0 0 1.548 1.124l2.38-1.25zm14.958 4.546a2.904 2.904 0 0 0-4.107 0l-.768.768-.768-.768a2.904 2.904 0 0 0-4.107 4.107l.768.768 3.393 3.393a1.01 1.01 0 0 0 1.428 0l3.393-3.393.768-.768a2.904 2.904 0 0 0 0-4.107",fill:"currentColor"})}),label:""},{path:"/sites",icon:"fas fa-store",label:""},{path:"/cart",icon:"fas fa-shopping-cart",label:""},{path:"/account",icon:"fas fa-user",label:""}],n=a=>a==="/"?e.pathname==="/":e.pathname.startsWith(a);return s.jsx("nav",{className:h1.bottomNav,children:t.map(a=>s.jsxs(Pa,{to:a.path,className:`${h1.navItem} ${n(a.path)?h1.active:""}`,children:[typeof a.icon=="string"?s.jsx("i",{className:a.icon}):s.jsx("span",{className:h1.navIcon,children:a.icon}),s.jsx("span",{className:h1.navLabel,children:a.label})]},a.path))})},eJ="_bottomNav_tmid0_3",tJ="_navItem_tmid0_31",nJ="_navLabel_tmid0_64",sJ="_active_tmid0_70",G_={bottomNav:eJ,navItem:tJ,navLabel:nJ,active:sJ},aJ=()=>{const e=Is(),t=Kr(),n=t.pathname.split("/")[2],[a,r]=_.useState(null),[i,o]=_.useState(!0);_.useEffect(()=>{n&&(async()=>{try{const b=await Be.get(`/api/business/${n}/settings/`);r(b.data)}catch(b){console.error("    :",b)}finally{o(!1)}})()},[n]);const l=(()=>{if(!a||i)return[{path:`/business/${n}/main`,icon:"fas fa-home",label:""},{path:`/business/${n}/products`,icon:"fas fa-box",label:""},{path:`/business/${n}/settings`,icon:"fas fa-cog",label:""}];const g=(a==null?void 0:a.business_type_name)||"",b=(a==null?void 0:a.import_type)||"accounting_system";return g===""?[{path:`/business/${n}/main`,icon:"fas fa-home",label:""},{path:`/business/${n}/products`,icon:"fas fa-utensils",label:""},{path:`/business/${n}/sale-products`,icon:"fas fa-shopping-cart",label:""},{path:`/business/${n}/transactions`,icon:"fas fa-receipt",label:""},{path:`/business/${n}/tasks`,icon:"fas fa-tasks",label:""},{path:`/business/${n}/settings`,icon:"fas fa-cog",label:""}]:b==="accounting_system"?[{path:`/business/${n}/main`,icon:"fas fa-home",label:""},{path:`/business/${n}/products`,icon:"fas fa-box",label:""},{path:`/business/${n}/batches`,icon:"fas fa-layer-group",label:""},{path:`/business/${n}/sale-products`,icon:"fas fa-cash-register",label:""},{path:`/business/${n}/transactions`,icon:"fas fa-receipt",label:""},{path:`/business/${n}/tasks`,icon:"fas fa-tasks",label:""},{path:`/business/${n}/inventory`,icon:"fas fa-clipboard-list",label:""},{path:`/business/${n}/settings`,icon:"fas fa-cog",label:""}]:[{path:`/business/${n}/main`,icon:"fas fa-home",label:""},{path:`/business/${n}/products`,icon:"fas fa-box",label:""},{path:`/business/${n}/batches`,icon:"fas fa-layer-group",label:""},{path:`/business/${n}/settings`,icon:"fas fa-cog",label:""}]})(),d=g=>g.includes("/main")?t.pathname===g||t.pathname===`/business/${n}`||t.pathname===`/business/${n}/`:t.pathname===g||t.pathname.startsWith(g+"/"),f=g=>{e(g.path)};return s.jsx("nav",{className:G_.bottomNav,children:l.map(g=>s.jsxs("button",{onClick:()=>f(g),className:`${G_.navItem} ${d(g.path)?G_.active:""}`,children:[s.jsx("i",{className:g.icon}),s.jsx("span",{className:G_.navLabel,children:g.label})]},g.path))})},rJ="_header_xk87z_2",iJ="_scrolled_xk87z_14",oJ="_container_xk87z_22",cJ="_headerContent_xk87z_29",lJ="_logoLink_xk87z_36",uJ="_logoIcon_xk87z_52",dJ="_logoText_xk87z_65",hJ="_mobileLocationBar_xk87z_115",fJ="_hidden_xk87z_126",mJ="_mobileLocationButton_xk87z_135",pJ="_mobileLocationText_xk87z_150",bc={header:rJ,scrolled:iJ,container:oJ,headerContent:cJ,logoLink:lJ,logoIcon:uJ,logoText:dJ,mobileLocationBar:hJ,hidden:fJ,mobileLocationButton:mJ,mobileLocationText:pJ},gJ=()=>{const e=Kr(),t=Is(),n=ef(),[a,r]=_.useState(!1),[i,o]=_.useState(!0),[c,l]=_.useState(0),[d,f]=_.useState("all"),[g,b]=_.useState([]),w=e.pathname.split("/")[2];_.useEffect(()=>{if(!w)return;(async()=>{try{const P=await Be.get(`/api/business/${w}/locations/`);b(P.data)}catch(P){console.error("   :",P)}})();const E=()=>{const P=localStorage.getItem(`business_${w}_location`);f(P||"all")};E();const D=P=>{P.key===`business_${w}_location`&&E()};window.addEventListener("storage",D);const R=()=>{E()};return window.addEventListener("locationChanged",R),()=>{window.removeEventListener("storage",D),window.removeEventListener("locationChanged",R)}},[w]),_.useEffect(()=>{if(!n)return;let k=!1;const E=()=>{k||(window.requestAnimationFrame(()=>{const D=window.scrollY;r(D>10),D>c&&D>100?o(!1):(D<c||D<=100)&&o(!0),l(D),k=!1}),k=!0)};return window.addEventListener("scroll",E,{passive:!0}),()=>window.removeEventListener("scroll",E)},[c,n]);const C=()=>{if(d==="all")return"  ";const k=g.find(E=>String(E.id)===String(d));return k?k.name:" "},S=()=>{t(`/business/${w}/location-select`)};return s.jsxs("header",{className:`${bc.header} ${a?bc.scrolled:""}`,children:[n&&s.jsx("div",{className:`${bc.mobileLocationBar} ${i?"":bc.hidden}`,children:s.jsxs("button",{className:bc.mobileLocationButton,onClick:S,children:[s.jsx("span",{className:bc.mobileLocationText,children:C()}),s.jsx("i",{className:"fas fa-chevron-down"})]})}),s.jsx("div",{className:bc.container,children:s.jsx("div",{className:bc.headerContent,children:s.jsx("div",{className:bc.logo,children:s.jsxs(Pa,{to:"/",className:bc.logoLink,children:[s.jsx("img",{src:$g,alt:"A",className:bc.logoIcon}),s.jsx("span",{className:bc.logoText,children:"xione & Business"})]})})})})]})};function _J({children:e,className:t="",onClick:n,mouseX:a,spring:r,distance:i,magnification:o,baseItemSize:c}){const l=_.useRef(null),d=Bg(0),f=Ax(a,w=>{var S;const C=((S=l.current)==null?void 0:S.getBoundingClientRect())??{x:0};return w-C.x-c/2}),g=Ax(f,[-i,0,i],[c,o,c]),b=bR(g,r);return s.jsx(os.div,{ref:l,style:{width:b,height:b},onHoverStart:()=>d.set(1),onHoverEnd:()=>d.set(0),onFocus:()=>d.set(1),onBlur:()=>d.set(0),onClick:n,className:`dock-item ${t}`,tabIndex:0,role:"button","aria-haspopup":"true",children:_.Children.map(e,w=>_.cloneElement(w,{isHovered:d}))})}function vJ({children:e,className:t="",...n}){const{isHovered:a}=n,[r,i]=_.useState(!1);return _.useEffect(()=>{const o=a.on("change",c=>{i(c===1)});return()=>o()},[a]),s.jsx(Xc,{children:r&&s.jsx(os.div,{initial:{opacity:0,y:0},animate:{opacity:1,y:-10},exit:{opacity:0,y:0},transition:{duration:.2},className:`dock-label ${t}`,role:"tooltip",style:{x:"-50%"},children:e})})}function xJ({children:e,className:t=""}){return s.jsx("div",{className:`dock-icon ${t}`,children:e})}function bJ({items:e,className:t="",spring:n={mass:.1,stiffness:150,damping:12},magnification:a=70,distance:r=200,panelHeight:i=68,dockHeight:o=256,baseItemSize:c=50}){const l=Bg(1/0),d=Bg(0),f=_.useMemo(()=>Math.max(o,a+a/2+4),[a,o]),g=Ax(d,[0,1],[i,f]),b=bR(g,n);return s.jsx(os.div,{style:{height:b,scrollbarWidth:"none"},className:"dock-outer",children:s.jsx(os.div,{onMouseMove:({pageX:w})=>{d.set(1),l.set(w)},onMouseLeave:()=>{d.set(0),l.set(1/0)},className:`dock-panel ${t}`,style:{height:i},role:"toolbar","aria-label":"Application dock",children:e.map((w,C)=>s.jsxs(_J,{onClick:w.onClick,className:w.className,mouseX:l,spring:n,distance:r,magnification:a,baseItemSize:c,children:[s.jsx(xJ,{children:w.icon}),s.jsx(vJ,{children:w.label})]},C))})})}const yJ=()=>{const e=Is(),t=Kr(),n=ef(),a=t.pathname.split("/")[2],[r,i]=_.useState([]),[o,c]=_.useState(!1),[l,d]=_.useState(null);_.useEffect(()=>{a&&(async()=>{try{c(!0);const[C,S]=await Promise.all([Be.get(`/api/business/${a}/locations/`),Be.get(`/api/business/${a}/settings/`)]);i(C.data),d(S.data)}catch(C){console.error("   :",C)}finally{c(!1)}})()},[a]);const f=w=>{e(`/business/${a}${w}`)},b=(()=>{if(!l)return[{icon:s.jsx("div",{children:""}),label:"",onClick:()=>f("/main")},{icon:s.jsx("div",{children:""}),label:"",onClick:()=>f("/products")},{icon:s.jsx("div",{children:""}),label:"",onClick:()=>f("/settings")}];const w=(l==null?void 0:l.business_type_name)||"",C=(l==null?void 0:l.import_type)||"accounting_system";return w===""?[{icon:s.jsx("div",{children:""}),label:"",onClick:()=>f("/main")},{icon:s.jsx("div",{children:""}),label:"",onClick:()=>f("/products")},{icon:s.jsx("div",{children:""}),label:"",onClick:()=>f("/sale-products")},{icon:s.jsx("div",{children:""}),label:"",onClick:()=>f("/transactions")},{icon:s.jsx("div",{children:""}),label:"",onClick:()=>f("/tasks")},{icon:s.jsx("div",{children:""}),label:"",onClick:()=>f("/settings")}]:C==="accounting_system"?[{icon:s.jsx("div",{children:""}),label:"",onClick:()=>f("/main")},{icon:s.jsx("div",{children:""}),label:"",onClick:()=>f("/products")},{icon:s.jsx("div",{children:""}),label:"",onClick:()=>f("/batches")},{icon:s.jsx("div",{children:""}),label:"",onClick:()=>f("/sale-products")},{icon:s.jsx("div",{children:""}),label:"",onClick:()=>f("/transactions")},{icon:s.jsx("div",{children:""}),label:"",onClick:()=>f("/tasks")},{icon:s.jsx("div",{children:""}),label:"",onClick:()=>f("/inventory")},{icon:s.jsx("div",{children:""}),label:"",onClick:()=>f("/settings")}]:[{icon:s.jsx("div",{children:""}),label:"",onClick:()=>f("/main")},{icon:s.jsx("div",{children:""}),label:"",onClick:()=>f("/products")},{icon:s.jsx("div",{children:""}),label:" Excel",onClick:()=>f("/products/excel-import")},{icon:s.jsx("div",{children:""}),label:"",onClick:()=>f("/batches")},{icon:s.jsx("div",{children:""}),label:"",onClick:()=>f("/settings")}]})();return n?null:s.jsx(bJ,{items:b,panelHeight:68,baseItemSize:50,magnification:70})},wJ=(...e)=>{},dE=()=>{const{isAuthenticated:e,refreshToken:t}=cp(),n=_.useRef(null);return _.useEffect(()=>(e?n.current=setInterval(async()=>{try{wJ("  ..."),await t()}catch{}},15*60*1e3):n.current&&(clearInterval(n.current),n.current=null),()=>{n.current&&clearInterval(n.current)}),[e,t]),_.useEffect(()=>{const a=async()=>{var r;if(e)try{await Be.get("accounts/api/auth/me/",{withCredentials:!0})}catch(i){((r=i.response)==null?void 0:r.status)===401&&await t()}};return window.addEventListener("focus",a),()=>window.removeEventListener("focus",a)},[e,t]),null},jJ=({onSelectCity:e,selectedCity:t,onClose:n})=>{const[a,r]=_.useState([]),[i,o]=_.useState(!0),[c,l]=_.useState(null);_.useEffect(()=>{(async()=>{try{o(!0);const b=await Be.get("api/countries/");if(b.data&&b.data.length>0){const w=b.data[0],C=await Be.get(`api/cities/?country=${w.id}`);r(C.data||[])}o(!1)}catch{l("  "),o(!1)}})()},[]);const d=g=>{e(g)};if(i)return s.jsx("div",{className:"city-modal-overlay",onClick:n?g=>g.target===g.currentTarget&&n():void 0,children:s.jsxs("div",{className:"city-modal",onClick:g=>g.stopPropagation(),children:[s.jsxs("div",{className:"city-modal-header",children:[s.jsx("h2",{children:" "}),n&&s.jsx("button",{className:"city-modal-close",onClick:n,"aria-label":"",children:""})]}),s.jsx("div",{className:"city-modal-content",children:s.jsx("p",{children:" ..."})})]})});if(c)return s.jsx("div",{className:"city-modal-overlay",onClick:n?g=>g.target===g.currentTarget&&n():void 0,children:s.jsxs("div",{className:"city-modal",onClick:g=>g.stopPropagation(),children:[s.jsxs("div",{className:"city-modal-header",children:[s.jsx("h2",{children:" "}),n&&s.jsx("button",{className:"city-modal-close",onClick:n,"aria-label":"",children:""})]}),s.jsx("div",{className:"city-modal-content",children:s.jsx("p",{className:"error",children:c})})]})});const f=g=>{g.target===g.currentTarget&&n&&n()};return s.jsx("div",{className:"city-modal-overlay",onClick:f,children:s.jsxs("div",{className:"city-modal",onClick:g=>g.stopPropagation(),children:[s.jsxs("div",{className:"city-modal-header",children:[s.jsx("h2",{children:" "}),n&&s.jsx("button",{className:"city-modal-close",onClick:n,"aria-label":"",children:""})]}),s.jsxs("div",{className:"city-modal-content",children:[s.jsx("p",{className:"city-modal-description",children:",        "}),s.jsx("div",{className:"city-list",children:a.map(g=>s.jsxs("button",{className:`city-item ${(t==null?void 0:t.id)===g.id?"selected":""}`,onClick:()=>d(g),children:[s.jsx("span",{className:"city-name",children:g.name}),g.is_capital&&s.jsx("span",{className:"city-badge",children:""})]},g.id))})]})]})})},CJ=({children:e})=>{const t=Kr(),{selectedCity:n,setSelectedCity:a,isLoading:r}=U3(),[i,o]=_.useState(!1),[c,l]=_.useState([]),[d,f]=_.useState(!1),b=["/","/marketplace","/marketplace/categories","/marketplace/products","/business-categories"].some(S=>t.pathname.startsWith(S));_.useEffect(()=>{b&&(async()=>{try{const k=await Be.get("api/countries/");if(k.data&&k.data.length>0){const E=k.data[0],D=await Be.get(`api/cities/?country=${E.id}`);l(D.data||[])}}catch(k){console.error("  :",k)}})()},[b]),_.useEffect(()=>{if(!r&&b&&!n&&c.length>0){o(!0),f(!1);const S=c.find(k=>k.is_capital);S?a(S):c.length>0&&a(c[0])}else n&&i&&d?o(!1):!n&&i&&c.length},[r,b,n,c,a,i,d]);const w=S=>{f(!0),a(S),o(!1)},C=()=>{if(!n&&c.length>0){const S=c.find(k=>k.is_capital);a(S||c[0])}o(!1)};return b?r?s.jsx(s.Fragment,{children:e}):s.jsxs(s.Fragment,{children:[e,i&&s.jsx(jJ,{selectedCity:n,onSelectCity:w,onClose:C})]}):s.jsx(s.Fragment,{children:e})};var nj,hE;function SJ(){if(hE)return nj;hE=1;var e=typeof Element<"u",t=typeof Map=="function",n=typeof Set=="function",a=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function r(i,o){if(i===o)return!0;if(i&&o&&typeof i=="object"&&typeof o=="object"){if(i.constructor!==o.constructor)return!1;var c,l,d;if(Array.isArray(i)){if(c=i.length,c!=o.length)return!1;for(l=c;l--!==0;)if(!r(i[l],o[l]))return!1;return!0}var f;if(t&&i instanceof Map&&o instanceof Map){if(i.size!==o.size)return!1;for(f=i.entries();!(l=f.next()).done;)if(!o.has(l.value[0]))return!1;for(f=i.entries();!(l=f.next()).done;)if(!r(l.value[1],o.get(l.value[0])))return!1;return!0}if(n&&i instanceof Set&&o instanceof Set){if(i.size!==o.size)return!1;for(f=i.entries();!(l=f.next()).done;)if(!o.has(l.value[0]))return!1;return!0}if(a&&ArrayBuffer.isView(i)&&ArrayBuffer.isView(o)){if(c=i.length,c!=o.length)return!1;for(l=c;l--!==0;)if(i[l]!==o[l])return!1;return!0}if(i.constructor===RegExp)return i.source===o.source&&i.flags===o.flags;if(i.valueOf!==Object.prototype.valueOf&&typeof i.valueOf=="function"&&typeof o.valueOf=="function")return i.valueOf()===o.valueOf();if(i.toString!==Object.prototype.toString&&typeof i.toString=="function"&&typeof o.toString=="function")return i.toString()===o.toString();if(d=Object.keys(i),c=d.length,c!==Object.keys(o).length)return!1;for(l=c;l--!==0;)if(!Object.prototype.hasOwnProperty.call(o,d[l]))return!1;if(e&&i instanceof Element)return!1;for(l=c;l--!==0;)if(!((d[l]==="_owner"||d[l]==="__v"||d[l]==="__o")&&i.$$typeof)&&!r(i[d[l]],o[d[l]]))return!1;return!0}return i!==i&&o!==o}return nj=function(o,c){try{return r(o,c)}catch(l){if((l.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw l}},nj}var NJ=SJ();const hg=Ti(NJ);function Rr(e,t){return!Number.isInteger(e)||!Number.isInteger(t)?Math.random()*(t-e)+e:Math.floor(Math.random()*(t-e+1)+e)}function f1(e,t,n){return(1-n)*e+n*t}function kJ(e){const t=Math.floor(Math.random()*e.length);return e[t]}function fE(e){return e?{height:e.offsetHeight,width:e.offsetWidth}:{height:0,width:0}}const mE=Math.PI*2,yl={color:"#dee4fd",radius:[.5,3],speed:[1,3],wind:[-.5,2],changeFrequency:200,rotationSpeed:[-1,1],opacity:[1,1],enable3DRotation:!1};class Rh{static createSnowflakes(t,n,a){if(!t)return[];const r=[];for(let i=0;i<n;i++)r.push(new Rh(t,a));return r}constructor(t,n={}){this.updateConfig(n);const{radius:a,wind:r,speed:i,rotationSpeed:o,opacity:c,enable3DRotation:l}=this.config;this.params={x:Rr(0,t.offsetWidth),y:Rr(-t.offsetHeight,0),rotation:Rr(0,360),radius:Rr(...a),speed:Rr(...i),wind:Rr(...r),rotationSpeed:Rr(...o),nextSpeed:Rr(...i),nextWind:Rr(...r),nextRotationSpeed:Rr(...o),opacity:Rr(...c),hasNextOpacity:!1,rotationX:l?Rr(0,360):0,rotationY:l?Rr(0,360):0,rotationSpeedX:l?Rr(-2,2):0,rotationSpeedY:l?Rr(-2,2):0,nextRotationSpeedX:l?Rr(-2,2):0,nextRotationSpeedY:l?Rr(-2,2):0},this.framesSinceLastUpdate=0}selectImage(){this.config.images&&this.config.images.length>0?this.image=kJ(this.config.images):this.image=void 0}updateConfig(t){const n=this.config;this.config={...yl,...t},this.config.changeFrequency=Rr(this.config.changeFrequency,this.config.changeFrequency*1.5),this.params&&!hg(this.config.radius,n==null?void 0:n.radius)&&(this.params.radius=Rr(...this.config.radius)),hg(this.config.images,n==null?void 0:n.images)||this.selectImage(),n!=null&&n.opacity&&!hg(this.config.opacity,n==null?void 0:n.opacity)&&(this.params.hasNextOpacity=!0)}updateTargetParams(){this.params.nextSpeed=Rr(...this.config.speed),this.params.nextWind=Rr(...this.config.wind),this.image&&(this.params.nextRotationSpeed=Rr(...this.config.rotationSpeed)),this.config.enable3DRotation&&(this.params.nextRotationSpeedX=Rr(-2,2),this.params.nextRotationSpeedY=Rr(-2,2))}update(t,n,a=1){const{x:r,y:i,rotation:o,rotationSpeed:c,nextRotationSpeed:l,wind:d,speed:f,nextWind:g,nextSpeed:b,radius:w}=this.params;this.params.x=(r+d*a)%(t+w*2),this.params.x>t+w&&(this.params.x=-w),this.params.y=(i+f*a)%(n+w*2),this.params.y>n+w&&(this.params.hasNextOpacity&&(this.params.opacity=Rr(...this.config.opacity),this.params.hasNextOpacity=!1),this.params.y=-w),(this.image||this.config.enable3DRotation)&&(this.params.rotation=(o+c)%360),this.config.enable3DRotation&&(this.params.rotationX=(this.params.rotationX+this.params.rotationSpeedX*a)%360,this.params.rotationY=(this.params.rotationY+this.params.rotationSpeedY*a)%360),this.params.speed=f1(f,b,.01),this.params.wind=f1(d,g,.01),this.params.rotationSpeed=f1(c,l,.01),this.config.enable3DRotation&&(this.params.rotationSpeedX=f1(this.params.rotationSpeedX,this.params.nextRotationSpeedX,.01),this.params.rotationSpeedY=f1(this.params.rotationSpeedY,this.params.nextRotationSpeedY,.01)),this.framesSinceLastUpdate++>this.config.changeFrequency&&(this.updateTargetParams(),this.framesSinceLastUpdate=0)}getImageOffscreenCanvas(t,n){var a,r;if(t instanceof HTMLImageElement&&t.loading)return t;let i=Rh.offscreenCanvases.get(t);if(i||(i={},Rh.offscreenCanvases.set(t,i)),!(n in i)){const o=document.createElement("canvas");o.width=n,o.height=n,(a=o.getContext("2d"))===null||a===void 0||a.drawImage(t,0,0,n,n),i[n]=o}return(r=i[n])!==null&&r!==void 0?r:t}apply3DTransform(t,n,a){if(this.config.enable3DRotation){const{rotationX:r,rotationY:i}=this.params,o=this.params.rotation||0,c=r*Math.PI/180,l=i*Math.PI/180,d=o*Math.PI/180,f=Math.cos(c),g=Math.sin(c),b=Math.cos(l),w=Math.sin(l),C=Math.cos(d),S=Math.sin(d),k=C*b,E=C*w*g-S*f,D=C*w*f+S*g,R=S*b;t.setTransform(k,E,D,R,n,a)}else{const i=(this.params.rotation||0)*Math.PI/180,o=Math.cos(i),c=Math.sin(i);t.setTransform(o,c,-c,o,n,a)}}drawCircle(t){t.moveTo(this.params.x,this.params.y),t.arc(this.params.x,this.params.y,this.params.radius,0,mE)}drawCircle3D(t,n){const{x:a,y:r,radius:i}=this.params;t.save(),this.config.enable3DRotation?this.apply3DTransform(t,a,r):t.translate(a,r),t.beginPath(),t.arc(0,0,i,0,mE),t.fillStyle=n,t.fill(),t.restore()}drawImage(t){const{x:n,y:a,radius:r}=this.params;t.save(),this.params.opacity!==1&&(t.globalAlpha=this.params.opacity),this.apply3DTransform(t,n,a);const i=this.getImageOffscreenCanvas(this.image,r);t.drawImage(i,-(r/2),-(r/2),r,r),t.restore()}}Rh.offscreenCanvases=new WeakMap;const IJ={pointerEvents:"none",backgroundColor:"transparent",position:"absolute",top:0,left:0,width:"100%",height:"100%"},EJ=1e3/60;var pE=function(e,t,n,a){if(n==="a"&&!a)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?a:n==="a"?a.call(e):a?a.value:t.get(e)},Q_=function(e,t,n,a,r){if(a==="m")throw new TypeError("Private method is not writable");if(a==="a"&&!r)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return a==="a"?r.call(e,n):r?r.value=n:t.set(e,n),n},z1,U1;class TJ{get ctx(){return pE(this,z1,"f")}get canvas(){return pE(this,U1,"f")}set canvas(t){Q_(this,U1,t,"f"),Q_(this,z1,t.getContext("2d"),"f")}constructor(t,n){this.lastUpdate=Date.now(),this.snowflakes=[],z1.set(this,void 0),U1.set(this,void 0),Q_(this,U1,t,"f"),Q_(this,z1,t.getContext("2d"),"f"),this.config={snowflakeCount:150,...yl,...n},this.snowflakes=[],this.snowflakes=Rh.createSnowflakes(t,n.snowflakeCount||150,n),this.play()}updateConfig(t){this.config={...this.config,...t};const n=this.config.snowflakeCount-this.snowflakes.length;n>0&&(this.snowflakes=[...this.snowflakes,...Rh.createSnowflakes(this.canvas,n,t)]),n<0&&(this.snowflakes=this.snowflakes.slice(0,this.config.snowflakeCount));for(const a of this.snowflakes)a.updateConfig(this.config)}render(t=1){const{ctx:n,canvas:a,snowflakes:r}=this;if(!n||!a)return;const{offsetWidth:i,offsetHeight:o}=a;for(const c of r)c.update(i,o,t);if(n.setTransform(1,0,0,1,0,0),n.clearRect(0,0,i,o),this.config.images&&this.config.images.length>0){for(const c of r)c.drawImage(n);return}if(this.config.enable3DRotation)for(const c of r)c.drawCircle3D(n,this.config.color);else{n.beginPath();for(const c of r)c.drawCircle(n);n.fillStyle=this.config.color,n.fill()}}loop(){const t=Date.now(),n=Date.now()-this.lastUpdate;this.lastUpdate=t;const a=n/EJ;this.render(a),this.animationFrame=requestAnimationFrame(()=>this.loop())}play(){this.loop()}pause(){this.animationFrame&&(cancelAnimationFrame(this.animationFrame),this.animationFrame=void 0)}}z1=new WeakMap,U1=new WeakMap;const DJ=e=>{const[t,n]=_.useState(fE(e.current)),a=_.useCallback(()=>{e.current&&n(fE(e.current))},[e]);return _.useEffect(()=>{const{ResizeObserver:r}=window;if(e.current)if(a(),typeof r=="function"){const i=new r(a);return i.observe(e.current),()=>i.disconnect()}else return window.addEventListener("resize",a),()=>window.removeEventListener("resize",a)},[e,a]),t},AJ=e=>_.useMemo(()=>({...IJ,...e||{}}),[e]);function MJ(e,t){const n=_.useRef(t);return hg(t,n.current)||(n.current=t),_.useEffect(e,n.current)}function RJ(e){const[t,n]=_.useState(e);return MJ(()=>n(e),[e]),t}const BJ=({color:e=yl.color,changeFrequency:t=yl.changeFrequency,radius:n=yl.radius,speed:a=yl.speed,wind:r=yl.wind,rotationSpeed:i=yl.rotationSpeed,opacity:o=yl.opacity,snowflakeCount:c=150,images:l,enable3DRotation:d=yl.enable3DRotation,style:f}={})=>{const g=AJ(f),b=_.useRef(null),w=DJ(b),C=RJ({color:e,changeFrequency:t,radius:n,speed:a,wind:r,rotationSpeed:i,images:l,snowflakeCount:c,opacity:o,enable3DRotation:d}),S=_.useRef(C),k=_.useRef();return _.useEffect(()=>(!k.current&&b.current&&(k.current=new TJ(b.current,S.current)),()=>{var E;(E=k.current)===null||E===void 0||E.pause(),k.current=void 0}),[]),_.useEffect(()=>{k.current&&k.current.updateConfig(C)},[C]),nt.createElement("canvas",{ref:b,height:w.height,width:w.width,style:g,"data-testid":"SnowfallCanvas"})},gE=()=>{const{snowfallEnabled:e}=uB();return e?s.jsx(BJ,{color:"#ffffff",snowflakeCount:100,speed:[.5,2],wind:[-.5,1.5],radius:[.5,2],style:{position:"fixed",width:"100%",height:"100%",zIndex:9999,pointerEvents:"none"}}):null};var sj={exports:{}},aj,_E;function OJ(){if(_E)return aj;_E=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return aj=e,aj}var rj,vE;function LJ(){if(vE)return rj;vE=1;var e=OJ();function t(){}function n(){}return n.resetWarningCache=t,rj=function(){function a(o,c,l,d,f,g){if(g!==e){var b=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw b.name="Invariant Violation",b}}a.isRequired=a;function r(){return a}var i={array:a,bigint:a,bool:a,func:a,number:a,object:a,string:a,symbol:a,any:a,arrayOf:r,element:a,elementType:a,instanceOf:r,node:a,objectOf:r,oneOf:r,oneOfType:r,shape:r,exact:r,checkPropTypes:n,resetWarningCache:t};return i.PropTypes=i,i},rj}var xE;function $J(){return xE||(xE=1,sj.exports=LJ()()),sj.exports}var PJ=$J();const Hr=Ti(PJ);var ij,bE;function FJ(){if(bE)return ij;bE=1;function e(c){return c&&typeof c=="object"&&"default"in c?c.default:c}var t=ol(),n=e(t);function a(c,l,d){return l in c?Object.defineProperty(c,l,{value:d,enumerable:!0,configurable:!0,writable:!0}):c[l]=d,c}function r(c,l){c.prototype=Object.create(l.prototype),c.prototype.constructor=c,c.__proto__=l}var i=!!(typeof window<"u"&&window.document&&window.document.createElement);function o(c,l,d){if(typeof c!="function")throw new Error("Expected reducePropsToState to be a function.");if(typeof l!="function")throw new Error("Expected handleStateChangeOnClient to be a function.");if(typeof d<"u"&&typeof d!="function")throw new Error("Expected mapStateOnServer to either be undefined or a function.");function f(g){return g.displayName||g.name||"Component"}return function(b){if(typeof b!="function")throw new Error("Expected WrappedComponent to be a React component.");var w=[],C;function S(){C=c(w.map(function(E){return E.props})),k.canUseDOM?l(C):d&&(C=d(C))}var k=function(E){r(D,E);function D(){return E.apply(this,arguments)||this}D.peek=function(){return C},D.rewind=function(){if(D.canUseDOM)throw new Error("You may only call rewind() on the server. Call peek() to read the current state.");var B=C;return C=void 0,w=[],B};var R=D.prototype;return R.UNSAFE_componentWillMount=function(){w.push(this),S()},R.componentDidUpdate=function(){S()},R.componentWillUnmount=function(){var B=w.indexOf(this);w.splice(B,1),S()},R.render=function(){return n.createElement(b,this.props)},D}(t.PureComponent);return a(k,"displayName","SideEffect("+f(b)+")"),a(k,"canUseDOM",i),k}}return ij=o,ij}var HJ=FJ();const qJ=Ti(HJ);/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var oj,yE;function VJ(){if(yE)return oj;yE=1;var e=Object.getOwnPropertySymbols,t=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable;function a(i){if(i==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(i)}function r(){try{if(!Object.assign)return!1;var i=new String("abc");if(i[5]="de",Object.getOwnPropertyNames(i)[0]==="5")return!1;for(var o={},c=0;c<10;c++)o["_"+String.fromCharCode(c)]=c;var l=Object.getOwnPropertyNames(o).map(function(f){return o[f]});if(l.join("")!=="0123456789")return!1;var d={};return"abcdefghijklmnopqrst".split("").forEach(function(f){d[f]=f}),Object.keys(Object.assign({},d)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}return oj=r()?Object.assign:function(i,o){for(var c,l=a(i),d,f=1;f<arguments.length;f++){c=Object(arguments[f]);for(var g in c)t.call(c,g)&&(l[g]=c[g]);if(e){d=e(c);for(var b=0;b<d.length;b++)n.call(c,d[b])&&(l[d[b]]=c[d[b]])}}return l},oj}var zJ=VJ();const UJ=Ti(zJ);var Bh={BODY:"bodyAttributes",HTML:"htmlAttributes",TITLE:"titleAttributes"},ra={BASE:"base",BODY:"body",HEAD:"head",HTML:"html",LINK:"link",META:"meta",NOSCRIPT:"noscript",SCRIPT:"script",STYLE:"style",TITLE:"title"};Object.keys(ra).map(function(e){return ra[e]});var zr={CHARSET:"charset",CSS_TEXT:"cssText",HREF:"href",HTTPEQUIV:"http-equiv",INNER_HTML:"innerHTML",ITEM_PROP:"itemprop",NAME:"name",PROPERTY:"property",REL:"rel",SRC:"src",TARGET:"target"},$x={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},Pg={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate"},WJ=Object.keys($x).reduce(function(e,t){return e[$x[t]]=t,e},{}),YJ=[ra.NOSCRIPT,ra.SCRIPT,ra.STYLE],Gc="data-react-helmet",GJ=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},QJ=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},XJ=function(){function e(t,n){for(var a=0;a<n.length;a++){var r=n[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),Bo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},KJ=function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},wE=function(e,t){var n={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n},ZJ=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e},pS=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return n===!1?String(t):String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},JJ=function(t){var n=gm(t,ra.TITLE),a=gm(t,Pg.TITLE_TEMPLATE);if(a&&n)return a.replace(/%s/g,function(){return Array.isArray(n)?n.join(""):n});var r=gm(t,Pg.DEFAULT_TITLE);return n||r||void 0},eee=function(t){return gm(t,Pg.ON_CHANGE_CLIENT_STATE)||function(){}},cj=function(t,n){return n.filter(function(a){return typeof a[t]<"u"}).map(function(a){return a[t]}).reduce(function(a,r){return Bo({},a,r)},{})},tee=function(t,n){return n.filter(function(a){return typeof a[ra.BASE]<"u"}).map(function(a){return a[ra.BASE]}).reverse().reduce(function(a,r){if(!a.length)for(var i=Object.keys(r),o=0;o<i.length;o++){var c=i[o],l=c.toLowerCase();if(t.indexOf(l)!==-1&&r[l])return a.concat(r)}return a},[])},m1=function(t,n,a){var r={};return a.filter(function(i){return Array.isArray(i[t])?!0:(typeof i[t]<"u"&&ree("Helmet: "+t+' should be of type "Array". Instead found type "'+GJ(i[t])+'"'),!1)}).map(function(i){return i[t]}).reverse().reduce(function(i,o){var c={};o.filter(function(b){for(var w=void 0,C=Object.keys(b),S=0;S<C.length;S++){var k=C[S],E=k.toLowerCase();n.indexOf(E)!==-1&&!(w===zr.REL&&b[w].toLowerCase()==="canonical")&&!(E===zr.REL&&b[E].toLowerCase()==="stylesheet")&&(w=E),n.indexOf(k)!==-1&&(k===zr.INNER_HTML||k===zr.CSS_TEXT||k===zr.ITEM_PROP)&&(w=k)}if(!w||!b[w])return!1;var D=b[w].toLowerCase();return r[w]||(r[w]={}),c[w]||(c[w]={}),r[w][D]?!1:(c[w][D]=!0,!0)}).reverse().forEach(function(b){return i.push(b)});for(var l=Object.keys(c),d=0;d<l.length;d++){var f=l[d],g=UJ({},r[f],c[f]);r[f]=g}return i},[]).reverse()},gm=function(t,n){for(var a=t.length-1;a>=0;a--){var r=t[a];if(r.hasOwnProperty(n))return r[n]}return null},nee=function(t){return{baseTag:tee([zr.HREF,zr.TARGET],t),bodyAttributes:cj(Bh.BODY,t),defer:gm(t,Pg.DEFER),encode:gm(t,Pg.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:cj(Bh.HTML,t),linkTags:m1(ra.LINK,[zr.REL,zr.HREF],t),metaTags:m1(ra.META,[zr.NAME,zr.CHARSET,zr.HTTPEQUIV,zr.PROPERTY,zr.ITEM_PROP],t),noscriptTags:m1(ra.NOSCRIPT,[zr.INNER_HTML],t),onChangeClientState:eee(t),scriptTags:m1(ra.SCRIPT,[zr.SRC,zr.INNER_HTML],t),styleTags:m1(ra.STYLE,[zr.CSS_TEXT],t),title:JJ(t),titleAttributes:cj(Bh.TITLE,t)}},gS=function(){var e=Date.now();return function(t){var n=Date.now();n-e>16?(e=n,t(n)):setTimeout(function(){gS(t)},0)}}(),jE=function(t){return clearTimeout(t)},see=typeof window<"u"?window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||gS:global.requestAnimationFrame||gS,aee=typeof window<"u"?window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||jE:global.cancelAnimationFrame||jE,ree=function(t){return console&&typeof console.warn=="function"&&console.warn(t)},p1=null,iee=function(t){p1&&aee(p1),t.defer?p1=see(function(){CE(t,function(){p1=null})}):(CE(t),p1=null)},CE=function(t,n){var a=t.baseTag,r=t.bodyAttributes,i=t.htmlAttributes,o=t.linkTags,c=t.metaTags,l=t.noscriptTags,d=t.onChangeClientState,f=t.scriptTags,g=t.styleTags,b=t.title,w=t.titleAttributes;_S(ra.BODY,r),_S(ra.HTML,i),oee(b,w);var C={baseTag:Ff(ra.BASE,a),linkTags:Ff(ra.LINK,o),metaTags:Ff(ra.META,c),noscriptTags:Ff(ra.NOSCRIPT,l),scriptTags:Ff(ra.SCRIPT,f),styleTags:Ff(ra.STYLE,g)},S={},k={};Object.keys(C).forEach(function(E){var D=C[E],R=D.newTags,P=D.oldTags;R.length&&(S[E]=R),P.length&&(k[E]=C[E].oldTags)}),n&&n(),d(t,S,k)},hB=function(t){return Array.isArray(t)?t.join(""):t},oee=function(t,n){typeof t<"u"&&document.title!==t&&(document.title=hB(t)),_S(ra.TITLE,n)},_S=function(t,n){var a=document.getElementsByTagName(t)[0];if(a){for(var r=a.getAttribute(Gc),i=r?r.split(","):[],o=[].concat(i),c=Object.keys(n),l=0;l<c.length;l++){var d=c[l],f=n[d]||"";a.getAttribute(d)!==f&&a.setAttribute(d,f),i.indexOf(d)===-1&&i.push(d);var g=o.indexOf(d);g!==-1&&o.splice(g,1)}for(var b=o.length-1;b>=0;b--)a.removeAttribute(o[b]);i.length===o.length?a.removeAttribute(Gc):a.getAttribute(Gc)!==c.join(",")&&a.setAttribute(Gc,c.join(","))}},Ff=function(t,n){var a=document.head||document.querySelector(ra.HEAD),r=a.querySelectorAll(t+"["+Gc+"]"),i=Array.prototype.slice.call(r),o=[],c=void 0;return n&&n.length&&n.forEach(function(l){var d=document.createElement(t);for(var f in l)if(l.hasOwnProperty(f))if(f===zr.INNER_HTML)d.innerHTML=l.innerHTML;else if(f===zr.CSS_TEXT)d.styleSheet?d.styleSheet.cssText=l.cssText:d.appendChild(document.createTextNode(l.cssText));else{var g=typeof l[f]>"u"?"":l[f];d.setAttribute(f,g)}d.setAttribute(Gc,"true"),i.some(function(b,w){return c=w,d.isEqualNode(b)})?i.splice(c,1):o.push(d)}),i.forEach(function(l){return l.parentNode.removeChild(l)}),o.forEach(function(l){return a.appendChild(l)}),{oldTags:i,newTags:o}},fB=function(t){return Object.keys(t).reduce(function(n,a){var r=typeof t[a]<"u"?a+'="'+t[a]+'"':""+a;return n?n+" "+r:r},"")},cee=function(t,n,a,r){var i=fB(a),o=hB(n);return i?"<"+t+" "+Gc+'="true" '+i+">"+pS(o,r)+"</"+t+">":"<"+t+" "+Gc+'="true">'+pS(o,r)+"</"+t+">"},lee=function(t,n,a){return n.reduce(function(r,i){var o=Object.keys(i).filter(function(d){return!(d===zr.INNER_HTML||d===zr.CSS_TEXT)}).reduce(function(d,f){var g=typeof i[f]>"u"?f:f+'="'+pS(i[f],a)+'"';return d?d+" "+g:g},""),c=i.innerHTML||i.cssText||"",l=YJ.indexOf(t)===-1;return r+"<"+t+" "+Gc+'="true" '+o+(l?"/>":">"+c+"</"+t+">")},"")},mB=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(t).reduce(function(a,r){return a[$x[r]||r]=t[r],a},n)},uee=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(t).reduce(function(a,r){return a[WJ[r]||r]=t[r],a},n)},dee=function(t,n,a){var r,i=(r={key:n},r[Gc]=!0,r),o=mB(a,i);return[nt.createElement(ra.TITLE,o,n)]},hee=function(t,n){return n.map(function(a,r){var i,o=(i={key:r},i[Gc]=!0,i);return Object.keys(a).forEach(function(c){var l=$x[c]||c;if(l===zr.INNER_HTML||l===zr.CSS_TEXT){var d=a.innerHTML||a.cssText;o.dangerouslySetInnerHTML={__html:d}}else o[l]=a[c]}),nt.createElement(t,o)})},cu=function(t,n,a){switch(t){case ra.TITLE:return{toComponent:function(){return dee(t,n.title,n.titleAttributes)},toString:function(){return cee(t,n.title,n.titleAttributes,a)}};case Bh.BODY:case Bh.HTML:return{toComponent:function(){return mB(n)},toString:function(){return fB(n)}};default:return{toComponent:function(){return hee(t,n)},toString:function(){return lee(t,n,a)}}}},pB=function(t){var n=t.baseTag,a=t.bodyAttributes,r=t.encode,i=t.htmlAttributes,o=t.linkTags,c=t.metaTags,l=t.noscriptTags,d=t.scriptTags,f=t.styleTags,g=t.title,b=g===void 0?"":g,w=t.titleAttributes;return{base:cu(ra.BASE,n,r),bodyAttributes:cu(Bh.BODY,a,r),htmlAttributes:cu(Bh.HTML,i,r),link:cu(ra.LINK,o,r),meta:cu(ra.META,c,r),noscript:cu(ra.NOSCRIPT,l,r),script:cu(ra.SCRIPT,d,r),style:cu(ra.STYLE,f,r),title:cu(ra.TITLE,{title:b,titleAttributes:w},r)}},fee=function(t){var n,a;return a=n=function(r){KJ(i,r);function i(){return QJ(this,i),ZJ(this,r.apply(this,arguments))}return i.prototype.shouldComponentUpdate=function(c){return!hg(this.props,c)},i.prototype.mapNestedChildrenToProps=function(c,l){if(!l)return null;switch(c.type){case ra.SCRIPT:case ra.NOSCRIPT:return{innerHTML:l};case ra.STYLE:return{cssText:l}}throw new Error("<"+c.type+" /> elements are self-closing and can not contain children. Refer to our API for more information.")},i.prototype.flattenArrayTypeChildren=function(c){var l,d=c.child,f=c.arrayTypeChildren,g=c.newChildProps,b=c.nestedChildren;return Bo({},f,(l={},l[d.type]=[].concat(f[d.type]||[],[Bo({},g,this.mapNestedChildrenToProps(d,b))]),l))},i.prototype.mapObjectTypeChildren=function(c){var l,d,f=c.child,g=c.newProps,b=c.newChildProps,w=c.nestedChildren;switch(f.type){case ra.TITLE:return Bo({},g,(l={},l[f.type]=w,l.titleAttributes=Bo({},b),l));case ra.BODY:return Bo({},g,{bodyAttributes:Bo({},b)});case ra.HTML:return Bo({},g,{htmlAttributes:Bo({},b)})}return Bo({},g,(d={},d[f.type]=Bo({},b),d))},i.prototype.mapArrayTypeChildrenToProps=function(c,l){var d=Bo({},l);return Object.keys(c).forEach(function(f){var g;d=Bo({},d,(g={},g[f]=c[f],g))}),d},i.prototype.warnOnInvalidChildren=function(c,l){return!0},i.prototype.mapChildrenToProps=function(c,l){var d=this,f={};return nt.Children.forEach(c,function(g){if(!(!g||!g.props)){var b=g.props,w=b.children,C=wE(b,["children"]),S=uee(C);switch(d.warnOnInvalidChildren(g,w),g.type){case ra.LINK:case ra.META:case ra.NOSCRIPT:case ra.SCRIPT:case ra.STYLE:f=d.flattenArrayTypeChildren({child:g,arrayTypeChildren:f,newChildProps:S,nestedChildren:w});break;default:l=d.mapObjectTypeChildren({child:g,newProps:l,newChildProps:S,nestedChildren:w});break}}}),l=this.mapArrayTypeChildrenToProps(f,l),l},i.prototype.render=function(){var c=this.props,l=c.children,d=wE(c,["children"]),f=Bo({},d);return l&&(f=this.mapChildrenToProps(l,f)),nt.createElement(t,f)},XJ(i,null,[{key:"canUseDOM",set:function(c){t.canUseDOM=c}}]),i}(nt.Component),n.propTypes={base:Hr.object,bodyAttributes:Hr.object,children:Hr.oneOfType([Hr.arrayOf(Hr.node),Hr.node]),defaultTitle:Hr.string,defer:Hr.bool,encodeSpecialCharacters:Hr.bool,htmlAttributes:Hr.object,link:Hr.arrayOf(Hr.object),meta:Hr.arrayOf(Hr.object),noscript:Hr.arrayOf(Hr.object),onChangeClientState:Hr.func,script:Hr.arrayOf(Hr.object),style:Hr.arrayOf(Hr.object),title:Hr.string,titleAttributes:Hr.object,titleTemplate:Hr.string},n.defaultProps={defer:!0,encodeSpecialCharacters:!0},n.peek=t.peek,n.rewind=function(){var r=t.rewind();return r||(r=pB({baseTag:[],bodyAttributes:{},htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}})),r},a},mee=function(){return null},pee=qJ(nee,iee,pB)(mee),Px=fee(pee);Px.renderStatic=Px.rewind;const W3=e=>{if(!e)return"";if(/^https?:\/\//i.test(e))return e;const t=op.MEDIA_BASE_URL;return e.startsWith("/media/")?`${t}${e}`:e.startsWith("/")?`${t}${e}`:`${t}/media/${e}`},vS=e=>{if(!e)return"";if(/^https?:\/\//i.test(e))return e;const t=op.MEDIA_BASE_URL;return e.startsWith("/media/")?`${t}${e}`:e.startsWith("/")?`${t}${e}`:`${t}/media/${e}`},gB=e=>{const t=W3(e);return t?`url(${t})`:"none"},gee=(e="")=>`${op.API_BASE_URL}${e}`,_B=e=>/^https?:\/\//i.test(e),vB=e=>e?e.split("/").pop():"",xB=e=>{if(!e)return"";const t=vB(e),n=t.lastIndexOf(".");return n>0?t.substring(n+1).toLowerCase():""},_ee=e=>{const t=xB(e);return["jpg","jpeg","png","gif","webp","svg","bmp"].includes(t)},vee=e=>{if(e===0)return"0 Bytes";const t=1024,n=["Bytes","KB","MB","GB"],a=Math.floor(Math.log(e)/Math.log(t));return parseFloat((e/Math.pow(t,a)).toFixed(2))+" "+n[a]},xee=(e,t={})=>({backgroundImage:gB(e),...t}),bee=(e,t="thumb")=>{if(!e)return"";const n=W3(e);if(!n)return"";if(_B(e))return n;const a=n.includes("?")?"&":"?";return`${n}${a}size=${t}`},yee={getImageUrl:W3,getFileUrl:vS,getBackgroundImageUrl:gB,getApiUrl:gee,isExternalUrl:_B,getFileName:vB,getFileExtension:xB,isImageFile:_ee,formatFileSize:vee,createBackgroundImageStyle:xee,getThumbnailUrl:bee},Er=()=>{const e=_.useMemo(()=>yee,[]);return{getImageUrl:e.getImageUrl,getFileUrl:e.getFileUrl,getBackgroundImageUrl:e.getBackgroundImageUrl,getApiUrl:e.getApiUrl,isExternalUrl:e.isExternalUrl,getFileName:e.getFileName,getFileExtension:e.getFileExtension,isImageFile:e.isImageFile,formatFileSize:e.formatFileSize,createBackgroundImageStyle:e.createBackgroundImageStyle,getThumbnailUrl:e.getThumbnailUrl,utils:e}},wee=()=>{const e=_.useMemo(()=>op,[]),t=(i="")=>{const o=`${e.API_BASE_URL}${i}`;return Vv.debug("API URL:",o),o},n=(i="")=>{if(!i)return"";if(/^https?:\/\//i.test(i))return i;const o=i.startsWith("/media/")?`${e.MEDIA_BASE_URL}${i}`:`${e.MEDIA_BASE_URL}/media/${i}`;return Vv.debug("Media URL:",o),o},a=e.IS_DEVELOPMENT,r=e.IS_PRODUCTION;return{...e,getApiUrl:t,getMediaUrl:n,isDevelopment:a,isProduction:r,logger:Vv}},lp=({product:e})=>{const t=Is(),{getImageUrl:n}=Er(),{logger:a}=wee(),[r,i]=_.useState(!0),[o,c]=_.useState(!1),l=()=>t(`/marketplace/products/${e.id}`),d=k=>{k.stopPropagation(),a.debug("Add to favorites",e.id)},f=k=>{k.stopPropagation(),a.debug("Add to cart",e.id)},g=e.default_variant,b=e.main_image;_.useEffect(()=>{if(b!=null&&b.image){const k=n(b.image),E=new Image;E.onload=()=>{i(!1),c(!1)},E.onerror=()=>{c(!0),i(!1)},E.src=k,E.complete?(i(!1),c(!1)):(i(!0),c(!1))}else i(!1),c(!1)},[b==null?void 0:b.image,n]);const w=g&&parseFloat(g.discount)>0,C=(g==null?void 0:g.current_price)||e.min_price;parseFloat((g==null?void 0:g.price)||e.min_price);const S=e.min_price!==e.max_price?`${e.min_price.toLocaleString("ru-RU")} - ${e.max_price.toLocaleString("ru-RU")} `:null;return s.jsxs("div",{className:"product-card",onClick:l,children:[s.jsxs("div",{className:"product-image",children:[b!=null&&b.image&&!o?s.jsxs(s.Fragment,{children:[r&&s.jsx("div",{className:"image-skeleton",children:s.jsx("div",{className:"skeleton-shimmer"})}),s.jsx("img",{src:n(b.image),alt:e.name,loading:"lazy",className:`product-img ${r?"image-hidden":"image-visible"}`,onLoad:()=>i(!1),onError:k=>{k.target.onerror=null,c(!0),i(!1)}})]}):s.jsx("div",{className:"no-image","aria-hidden":"true",children:s.jsx("svg",{width:"60",height:"60",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:s.jsx("path",{d:"M4 16L8.5 10.5L11 13.5L14.5 9L20 16M4 16H20M4 16V4H20V16",strokeWidth:"1.5"})})}),s.jsx("button",{className:"favorite-button",onClick:d,"aria-label":"  ",children:""}),w&&s.jsxs("div",{className:"discount-badge",children:["-",Math.round(parseFloat(g.discount)),"%"]})]}),s.jsxs("div",{className:"product-list-info",children:[s.jsxs("div",{className:"price-section",children:[s.jsxs("div",{className:"current-price",children:[parseFloat(C).toLocaleString("ru-RU")," "]}),S&&s.jsx("div",{className:"price-range",children:S})]}),s.jsx("h3",{className:"product-name",children:e.name}),s.jsxs("div",{className:"business-name",children:[s.jsx("span",{children:e.business_name}),e.business_logo&&s.jsx("img",{src:n(e.business_logo),alt:e.business_name,className:"business-logo"})]}),s.jsx("button",{className:"add-to-cart-button",onClick:f,"aria-label":"  ",children:" "})]})]})},jee="_loaderContainer_1qy54_1",Cee="_loaderWrapper_1qy54_10",See="_rotatingRing_1qy54_34",Nee="_rotate_1qy54_1",kee="_ringSegment_1qy54_41",Iee="_logoContainer_1qy54_81",Eee="_pulse_1qy54_1",Tee="_logo_1qy54_81",Dee="_logoFloat_1qy54_1",Aee="_logoGlow_1qy54_122",Mee="_glowPulse_1qy54_1",Ree="_fullscreen_1qy54_211",Bee="_center_1qy54_227",Oee="_inline_1qy54_235",xl={loaderContainer:jee,loaderWrapper:Cee,"loader-small":"_loader-small_1qy54_18","loader-medium":"_loader-medium_1qy54_23","loader-large":"_loader-large_1qy54_28",rotatingRing:See,rotate:Nee,ringSegment:kee,logoContainer:Iee,pulse:Eee,logo:Tee,logoFloat:Dee,"light-theme":"_light-theme_1qy54_102","dark-theme":"_dark-theme_1qy54_106",logoGlow:Aee,glowPulse:Mee,fullscreen:Ree,center:Bee,inline:Oee},Fn=({size:e="medium",className:t=""})=>{const n=xl[`loader-${e}`];return s.jsx("div",{className:`${xl.loaderContainer} ${t}`,children:s.jsxs("div",{className:`${xl.loaderWrapper} ${n}`,children:[s.jsxs("div",{className:xl.rotatingRing,children:[s.jsx("div",{className:xl.ringSegment}),s.jsx("div",{className:xl.ringSegment}),s.jsx("div",{className:xl.ringSegment})]}),s.jsxs("div",{className:xl.logoContainer,children:[s.jsx("img",{src:$g,alt:"Loading",className:xl.logo}),s.jsx("div",{className:xl.logoGlow})]})]})})},bB=({text:e,as:t="div",typingSpeed:n=50,initialDelay:a=0,pauseDuration:r=2e3,deletingSpeed:i=30,loop:o=!0,className:c="",showCursor:l=!0,hideCursorWhileTyping:d=!1,cursorCharacter:f="|",cursorClassName:g="",cursorBlinkDuration:b=.5,textColors:w=[],variableSpeed:C,onSentenceComplete:S,startOnVisible:k=!1,reverseMode:E=!1,...D})=>{var Z;const[R,P]=_.useState(""),[B,O]=_.useState(0),[$,U]=_.useState(!1),[F,H]=_.useState(0),[se,K]=_.useState(!k),te=_.useRef(null),J=_.useRef(null),z=_.useMemo(()=>Array.isArray(e)?e:[e],[e]),V=_.useCallback(()=>{if(!C)return n;const{min:A,max:G}=C;return Math.random()*(G-A)+A},[C,n]),M=()=>{if(w.length!==0)return w[F%w.length]};_.useEffect(()=>{if(!k||!J.current)return;const A=new IntersectionObserver(G=>{G.forEach(Q=>{Q.isIntersecting&&K(!0)})},{threshold:.1});return A.observe(J.current),()=>A.disconnect()},[k]),_.useEffect(()=>{if(!se)return;let A;const G=z[F],Q=E?G.split("").reverse().join(""):G,Y=()=>{if($)if(R===""){if(U(!1),F===z.length-1&&!o)return;S&&S(z[F],F),H(ae=>(ae+1)%z.length),O(0),A=setTimeout(()=>{},r)}else A=setTimeout(()=>{P(ae=>ae.slice(0,-1))},i);else if(B<Q.length)A=setTimeout(()=>{P(ae=>ae+Q[B]),O(ae=>ae+1)},C?V():n);else if(z.length>=1){if(!o&&F===z.length-1)return;A=setTimeout(()=>{U(!0)},r)}};return B===0&&!$&&R===""?A=setTimeout(Y,a):Y(),()=>clearTimeout(A)},[B,R,$,n,i,r,z,F,o,a,se,E,C,S]);const ee=d&&(B<((Z=z[F])==null?void 0:Z.length)||$);return _.createElement(t,{ref:J,className:`text-type ${c}`,...D},s.jsx("span",{className:"text-type__content",style:{color:M()||"inherit"},children:R}),l&&s.jsx("span",{ref:te,className:`text-type__cursor ${g} ${ee?"text-type__cursor--hidden":""}`,children:f}))},Lee="_logoloop_vs9a3_1",$ee="_vertical_vs9a3_9",Pee="_scaleHover_vs9a3_14",Fee="_track_vs9a3_25",Hee="_trackVertical_vs9a3_34",qee="_listVertical_vs9a3_40",Vee="_itemVertical_vs9a3_44",zee="_list_vs9a3_40",Uee="_item_vs9a3_44",Wee="_node_vs9a3_91",Yee="_link_vs9a3_139",Gee="_fade_vs9a3_156",yc={logoloop:Lee,vertical:$ee,scaleHover:Pee,track:Fee,trackVertical:Hee,listVertical:qee,itemVertical:Vee,list:zee,item:Uee,node:Wee,link:Yee,fade:Gee},em={SMOOTH_TAU:.25,MIN_COPIES:2,COPY_HEADROOM:2},lj=e=>typeof e=="number"?`${e}px`:e??void 0,Qee=(e,t,n)=>{_.useEffect(()=>{if(!window.ResizeObserver){const r=()=>e();return window.addEventListener("resize",r),e(),()=>window.removeEventListener("resize",r)}const a=t.map(r=>{if(!r.current)return null;const i=new ResizeObserver(e);return i.observe(r.current),i});return e(),()=>{a.forEach(r=>r==null?void 0:r.disconnect())}},[e,t,n])},Xee=(e,t,n)=>{_.useEffect(()=>{var o;const a=((o=e.current)==null?void 0:o.querySelectorAll("img"))??[];if(a.length===0){t();return}let r=a.length;const i=()=>{r-=1,r===0&&t()};return a.forEach(c=>{const l=c;l.complete?i():(l.addEventListener("load",i,{once:!0}),l.addEventListener("error",i,{once:!0}))}),()=>{a.forEach(c=>{c.removeEventListener("load",i),c.removeEventListener("error",i)})}},[t,e,n])},Kee=(e,t,n,a,r,i,o)=>{const c=_.useRef(null),l=_.useRef(null),d=_.useRef(0),f=_.useRef(0);_.useEffect(()=>{const g=e.current;if(!g)return;const b=o?a:n;if(b>0){d.current=(d.current%b+b)%b;const C=o?`translate3d(0, ${-d.current}px, 0)`:`translate3d(${-d.current}px, 0, 0)`;g.style.transform=C}const w=C=>{l.current===null&&(l.current=C);const S=Math.max(0,C-l.current)/1e3;l.current=C;const k=r&&i!==void 0?i:t,E=1-Math.exp(-S/em.SMOOTH_TAU);if(f.current+=(k-f.current)*E,b>0){let D=d.current+f.current*S;D=(D%b+b)%b,d.current=D;const R=o?`translate3d(0, ${-d.current}px, 0)`:`translate3d(${-d.current}px, 0, 0)`;g.style.transform=R}c.current=requestAnimationFrame(w)};return c.current=requestAnimationFrame(w),()=>{c.current!==null&&(cancelAnimationFrame(c.current),c.current=null),l.current=null}},[t,n,a,r,i,o,e])},Y3=_.memo(({logos:e,speed:t=120,direction:n="left",width:a="100%",logoHeight:r=28,logoWidth:i,gap:o=32,pauseOnHover:c,hoverSpeed:l,fadeOut:d=!1,fadeOutColor:f,scaleOnHover:g=!1,renderItem:b,ariaLabel:w="Partner logos",className:C,style:S})=>{const k=_.useRef(null),E=_.useRef(null),D=_.useRef(null),[R,P]=_.useState(0),[B,O]=_.useState(0),[$,U]=_.useState(em.MIN_COPIES),[F,H]=_.useState(!1),se=_.useMemo(()=>{if(l!==void 0)return l;if(c===!0)return 0;if(c!==!1)return 0},[l,c]),K=n==="up"||n==="down",te=_.useMemo(()=>{const ne=Math.abs(t);let re;K?re=n==="up"?1:-1:re=n==="left"?1:-1;const oe=t<0?-1:1;return ne*re*oe},[t,n,K]),J=_.useCallback(()=>{var Ce,Ne,Ee,ve,Se,fe;const ne=((Ce=k.current)==null?void 0:Ce.clientWidth)??0,re=(Ee=(Ne=D.current)==null?void 0:Ne.getBoundingClientRect)==null?void 0:Ee.call(Ne),oe=(re==null?void 0:re.width)??0,me=(re==null?void 0:re.height)??0;if(K){const de=((Se=(ve=k.current)==null?void 0:ve.parentElement)==null?void 0:Se.clientHeight)??0;if(k.current&&de>0){const pe=Math.ceil(de);k.current.style.height!==`${pe}px`&&(k.current.style.height=`${pe}px`)}if(me>0){O(Math.ceil(me));const pe=((fe=k.current)==null?void 0:fe.clientHeight)??de??me,ce=Math.ceil(pe/me)+em.COPY_HEADROOM;U(Math.max(em.MIN_COPIES,ce))}}else if(oe>0){P(Math.ceil(oe));const de=Math.ceil(ne/oe)+em.COPY_HEADROOM;U(Math.max(em.MIN_COPIES,de))}},[K]);Qee(J,[k,D],[e,o,r,K]),Xee(D,J,[e,o,r,K]),Kee(E,te,R,B,F,se,K);const z=_.useMemo(()=>({"--logoloop-gap":`${o}px`,"--logoloop-logoHeight":`${r}px`,...i&&{"--logoloop-logoWidth":`${i}px`},...f&&{"--logoloop-fadeColor":f}}),[o,r,i,f]),V=_.useMemo(()=>[yc.logoloop,K&&yc.vertical,d&&yc.fade,g&&yc.scaleHover,C].filter(Boolean).join(" "),[K,d,g,C]),M=_.useMemo(()=>[yc.track,K&&yc.trackVertical].filter(Boolean).join(" "),[K]),ee=_.useMemo(()=>[yc.list,K&&yc.listVertical].filter(Boolean).join(" "),[K]),Z=_.useMemo(()=>[yc.item,K&&yc.itemVertical].filter(Boolean).join(" "),[K]),A=_.useCallback(()=>{se!==void 0&&H(!0)},[se]),G=_.useCallback(()=>{se!==void 0&&H(!1)},[se]),Q=_.useCallback((ne,re)=>{if(b)return s.jsx("li",{className:Z,role:"listitem",children:b(ne,re)},re);const oe="node"in ne,me=oe?s.jsx("span",{className:yc.node,"aria-hidden":!!ne.href&&!ne.ariaLabel,children:ne.node}):s.jsx("img",{src:ne.src,srcSet:ne.srcSet,sizes:ne.sizes,width:ne.width,height:ne.height,alt:ne.alt??"",title:ne.title,loading:"lazy",decoding:"async",draggable:!1}),Ce=oe?ne.ariaLabel??ne.title:ne.alt??ne.title,Ne=ne.href?s.jsx("a",{className:yc.link,href:ne.href,"aria-label":Ce||"logo link",target:"_blank",rel:"noreferrer noopener",children:me}):me;return s.jsx("li",{className:Z,role:"listitem",children:Ne},re)},[b,Z]),Y=_.useMemo(()=>Array.from({length:$},(ne,re)=>s.jsx("ul",{className:ee,role:"list","aria-hidden":re>0,ref:re===0?D:void 0,children:e.map((oe,me)=>Q(oe,`${re}-${me}`))},`copy-${re}`)),[$,e,Q,ee]),ae=_.useMemo(()=>({width:K?lj(a)==="100%"?void 0:lj(a):lj(a)??"100%",...z,...S}),[a,z,S,K]);return s.jsx("div",{ref:k,className:V,style:ae,role:"region","aria-label":w,children:s.jsx("div",{className:M,ref:E,onMouseEnter:A,onMouseLeave:G,children:Y})})});Y3.displayName="LogoLoop";const Zee="_mainPage_88tk2_3",Jee="_mainPageContainer_88tk2_19",ete="_heroSection_88tk2_37",tte="_heroContent_88tk2_59",nte="_fadeInUp_88tk2_1",ste="_heroTitle_88tk2_75",ate="_heroTitleMain_88tk2_83",rte="_heroTitleSub_88tk2_127",ite="_heroDescription_88tk2_143",ote="_searchBar_88tk2_165",cte="_advertisementLogosSection_88tk2_273",lte="_servicesSection_88tk2_293",ute="_servicesCarouselWrapper_88tk2_303",dte="_servicesCarouselContainer_88tk2_319",hte="_servicesCarousel_88tk2_303",fte="_servicesPage_88tk2_343",mte="_serviceCard_88tk2_361",pte="_serviceCardBackground_88tk2_391",gte="_serviceIcon_88tk2_399",_te="_marketplaceGradient_88tk2_431",vte="_restaurantsGradient_88tk2_439",xte="_businessGradient_88tk2_447",bte="_trcGradient_88tk2_455",yte="_businessSolutionsGradient_88tk2_463",wte="_itemRouteGradient_88tk2_471",jte="_serviceCardContent_88tk2_479",Cte="_serviceTitle_88tk2_593",Ste="_serviceDescription_88tk2_607",Nte="_serviceLink_88tk2_633",kte="_serviceLinkComingSoon_88tk2_669",Ite="_serviceCardOverlay_88tk2_683",Ete="_carouselIndicators_88tk2_709",Tte="_carouselIndicator_88tk2_709",Dte="_carouselIndicatorActive_88tk2_751",Ate="_carouselNav_88tk2_763",Mte="_marketplaceSection_88tk2_821",Rte="_sectionHeader_88tk2_831",Bte="_sectionHeaderContent_88tk2_849",Ote="_sectionTitle_88tk2_857",Lte="_sectionTitleIcon_88tk2_877",$te="_sectionSubtitle_88tk2_901",Pte="_sectionViewAll_88tk2_915",Fte="_productsGrid_88tk2_957",Hte="_loaderContainer_88tk2_969",qte="_errorMessage_88tk2_983",Vte="_noProducts_88tk2_1029",zte="_pulse_88tk2_1",ea={mainPage:Zee,mainPageContainer:Jee,heroSection:ete,heroContent:tte,fadeInUp:nte,heroTitle:ste,heroTitleMain:ate,heroTitleSub:rte,heroDescription:ite,searchBar:ote,advertisementLogosSection:cte,servicesSection:lte,servicesCarouselWrapper:ute,servicesCarouselContainer:dte,servicesCarousel:hte,servicesPage:fte,serviceCard:mte,serviceCardBackground:pte,serviceIcon:gte,marketplaceGradient:_te,restaurantsGradient:vte,businessGradient:xte,trcGradient:bte,businessSolutionsGradient:yte,itemRouteGradient:wte,serviceCardContent:jte,serviceTitle:Cte,serviceDescription:Ste,serviceLink:Nte,serviceLinkComingSoon:kte,serviceCardOverlay:Ite,carouselIndicators:Ete,carouselIndicator:Tte,carouselIndicatorActive:Dte,carouselNav:Ate,marketplaceSection:Mte,sectionHeader:Rte,sectionHeaderContent:Bte,sectionTitle:Ote,sectionTitleIcon:Lte,sectionSubtitle:$te,sectionViewAll:Pte,productsGrid:Fte,loaderContainer:Hte,errorMessage:qte,noProducts:Vte,pulse:zte};function Ute(){const e=Kr(),[t,n]=_.useState([]),[a,r]=_.useState(!0),[i,o]=_.useState(null),[c,l]=_.useState(""),[d,f]=_.useState(0),g=_.useRef(null),b=`${window.location.origin}${e.pathname}`,w=[{id:1,icon:"fa-shopping-bag",title:"",description:"  ",link:"/business-categories",gradient:"marketplaceGradient",available:!0},{id:2,icon:"fa-utensils",title:"",description:"     ",gradient:"restaurantsGradient",available:!1},{id:3,icon:"fa-store",title:" ",description:"    ",gradient:"businessGradient",available:!1},{id:4,icon:"fa-building",title:"",description:"-    ",gradient:"trcGradient",available:!1},{id:5,icon:"fa-briefcase",title:" ",description:"      ",gradient:"businessSolutionsGradient",available:!1},{id:6,icon:"fa-route",title:"Item Route",description:"     ",gradient:"itemRouteGradient",available:!1}];_.useEffect(()=>{(async()=>{try{r(!0);const B=await Be.get("marketplace/api/products/?page_size=8&sort=-created_at");n(B.data.products||[])}catch(B){console.error("  :",B),o(B.message||"    ")}finally{r(!1)}})()},[]);const C=P=>{P.preventDefault(),c.trim()&&(window.location.href=`/business-categories?search=${encodeURIComponent(c)}`)},S=3,k=Math.ceil(w.length/S),E=()=>{f(P=>(P+1)%k)},D=()=>{f(P=>(P-1+k)%k)},R=P=>{f(P)};return s.jsxs("div",{className:ea.mainPage,children:[s.jsxs(Px,{children:[s.jsx("title",{children:"Axione -    : ,   "}),s.jsx("meta",{name:"description",content:"    ,   -    . ,   ."}),s.jsx("meta",{name:"keywords",content:", , , , , ,  "}),s.jsx("meta",{name:"author",content:"Axione"}),s.jsx("meta",{property:"og:title",content:"Axione -    "}),s.jsx("meta",{property:"og:description",content:"    ,   -    ."}),s.jsx("meta",{property:"og:type",content:"website"}),s.jsx("meta",{property:"og:url",content:b}),s.jsx("meta",{name:"twitter:card",content:"summary_large_image"}),s.jsx("meta",{name:"twitter:title",content:"Axione -    "}),s.jsx("meta",{name:"twitter:description",content:"    ,   -    ."}),s.jsx("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0"}),s.jsx("meta",{name:"robots",content:"index, follow"}),s.jsx("link",{rel:"canonical",href:b})]}),s.jsx("section",{className:ea.heroSection,children:s.jsx("div",{className:ea.mainPageContainer,children:s.jsxs("div",{className:ea.heroContent,children:[s.jsxs("h1",{className:ea.heroTitle,children:[s.jsx("span",{className:ea.heroTitleMain,children:s.jsx(bB,{text:"   ",as:"span",typingSpeed:100,initialDelay:500,pauseDuration:9e3,showCursor:!0,cursorCharacter:"_",cursorBlinkDuration:.8,loop:!0})}),s.jsx("span",{className:ea.heroTitleSub,children:",   "})]}),s.jsx("p",{className:ea.heroDescription,children:"    ,   -    . ,   ."}),s.jsxs("form",{className:ea.searchBar,onSubmit:C,children:[s.jsx("input",{type:"text",placeholder:" , , ...",value:c,onChange:P=>l(P.target.value)}),s.jsxs("button",{type:"submit",children:[s.jsx("i",{className:"fas fa-search"})," "]})]})]})})}),s.jsx("section",{className:ea.advertisementLogosSection,children:s.jsx(Y3,{logos:[{src:"https://placehold.co/250x400/",alt:"Advertisement 1",href:"#"},{src:"https://placehold.co/250x400/",alt:"Advertisement 2",href:"#"},{src:"https://placehold.co/250x400/",alt:"Advertisement 3",href:"#"},{src:"https://placehold.co/250x400/",alt:"Advertisement 4",href:"#"},{src:"https://placehold.co/250x400/",alt:"Advertisement 5",href:"#"},{src:"https://placehold.co/250x400/",alt:"Advertisement 6",href:"#"}],speed:80,direction:"left",logoHeight:250,logoWidth:400,gap:24,pauseOnHover:!0,fadeOut:!1,scaleOnHover:!0,ariaLabel:" "})}),s.jsx("section",{className:ea.servicesSection,children:s.jsxs("div",{className:ea.mainPageContainer,children:[s.jsxs("div",{className:ea.servicesCarouselWrapper,children:[s.jsx("button",{className:`${ea.carouselNav} ${ea.carouselPrev}`,onClick:D,"aria-label":" ",disabled:k<=1,children:s.jsx("i",{className:"fas fa-chevron-left"})}),s.jsx("div",{className:ea.servicesCarouselContainer,children:s.jsx("div",{className:ea.servicesCarousel,ref:g,style:{transform:`translateX(-${d*100}%)`},children:Array.from({length:k}).map((P,B)=>s.jsx("div",{className:ea.servicesPage,children:w.slice(B*S,(B+1)*S).map(O=>s.jsxs("div",{className:`${ea.serviceCard} ${ea[O.gradient]}`,children:[s.jsx("div",{className:ea.serviceCardBackground}),s.jsxs("div",{className:ea.serviceCardContent,children:[s.jsx("div",{className:ea.serviceIcon,children:s.jsx("i",{className:`fas ${O.icon}`})}),s.jsx("h3",{className:ea.serviceTitle,children:O.title}),s.jsx("p",{className:ea.serviceDescription,children:O.description}),O.available?s.jsxs(Pa,{to:O.link,className:ea.serviceLink,children:["",s.jsx("i",{className:"fas fa-arrow-right"})]}):s.jsxs("div",{className:`${ea.serviceLink} ${ea.serviceLinkComingSoon}`,children:["",s.jsx("i",{className:"fas fa-clock"})]})]}),s.jsx("div",{className:ea.serviceCardOverlay})]},O.id))},B))})}),s.jsx("button",{className:`${ea.carouselNav} ${ea.carouselNext}`,onClick:E,"aria-label":" ",disabled:k<=1,children:s.jsx("i",{className:"fas fa-chevron-right"})})]}),k>1&&s.jsx("div",{className:ea.carouselIndicators,children:Array.from({length:k}).map((P,B)=>s.jsx("button",{className:`${ea.carouselIndicator} ${B===d?ea.carouselIndicatorActive:""}`,onClick:()=>R(B),"aria-label":`   ${B+1}`},B))})]})}),s.jsx("section",{className:ea.marketplaceSection,children:s.jsxs("div",{className:ea.mainPageContainer,children:[s.jsx("div",{className:ea.sectionHeader,children:s.jsxs("div",{className:ea.sectionHeaderContent,children:[s.jsxs("h2",{className:ea.sectionTitle,children:[s.jsx("span",{className:ea.sectionTitleIcon,children:s.jsx("i",{className:"fas fa-shopping-bag"})}),"  "]}),s.jsx("p",{className:ea.sectionSubtitle,children:",   ,    "})]})}),a&&t.length===0?s.jsx("div",{className:ea.loaderContainer,children:s.jsx(Fn,{})}):i?s.jsxs("div",{className:ea.errorMessage,children:[s.jsx("i",{className:"fas fa-exclamation-circle"}),s.jsx("p",{children:i})]}):t.length>0?s.jsx("div",{className:ea.productsGrid,children:t.map(P=>s.jsx(lp,{product:P},P.id))}):s.jsxs("div",{className:ea.noProducts,children:[s.jsx("i",{className:"fas fa-box-open"}),s.jsx("p",{children:"   "})]})]})})]})}const Wte="_mainPage_1us1n_3",Yte="_heroSection_1us1n_17",Gte="_heroContent_1us1n_29",Qte="_fadeInUp_1us1n_1",Xte="_heroTitle_1us1n_38",Kte="_heroTitleMain_1us1n_42",Zte="_heroTitleSub_1us1n_64",Jte="_heroDescription_1us1n_72",ene="_searchBar_1us1n_84",tne="_advertisementLogosSection_1us1n_150",nne="_servicesSection_1us1n_160",sne="_servicesCarouselWrapper_1us1n_166",ane="_navBtn_1us1n_173",rne="_navBtnLeft_1us1n_177",ine="_navBtnRight_1us1n_178",one="_servicesScroll_1us1n_182",cne="_servicesGrid_1us1n_212",lne="_serviceCard_1us1n_219",une="_serviceCardBackground_1us1n_247",dne="_serviceIcon_1us1n_251",hne="_marketplaceGradient_1us1n_267",fne="_restaurantsGradient_1us1n_271",mne="_businessGradient_1us1n_275",pne="_trcGradient_1us1n_279",gne="_businessSolutionsGradient_1us1n_283",_ne="_itemRouteGradient_1us1n_287",vne="_serviceCardContent_1us1n_291",xne="_serviceTitle_1us1n_349",bne="_serviceDescription_1us1n_357",yne="_serviceLink_1us1n_370",wne="_serviceLinkComingSoon_1us1n_386",jne="_serviceCardOverlay_1us1n_395",Cne="_marketplaceSection_1us1n_409",Sne="_sectionHeader_1us1n_415",Nne="_sectionHeaderContent_1us1n_422",kne="_sectionTitle_1us1n_426",Ine="_sectionTitleIcon_1us1n_436",Ene="_sectionSubtitle_1us1n_449",Tne="_sectionViewAll_1us1n_456",Dne="_productsGrid_1us1n_481",Ane="_loaderContainer_1us1n_489",Mne="_errorMessage_1us1n_496",Rne="_noProducts_1us1n_519",pa={mainPage:Wte,heroSection:Yte,heroContent:Gte,fadeInUp:Qte,heroTitle:Xte,heroTitleMain:Kte,heroTitleSub:Zte,heroDescription:Jte,searchBar:ene,advertisementLogosSection:tne,servicesSection:nne,servicesCarouselWrapper:sne,navBtn:ane,navBtnLeft:rne,navBtnRight:ine,servicesScroll:one,servicesGrid:cne,serviceCard:lne,serviceCardBackground:une,serviceIcon:dne,marketplaceGradient:hne,restaurantsGradient:fne,businessGradient:mne,trcGradient:pne,businessSolutionsGradient:gne,itemRouteGradient:_ne,serviceCardContent:vne,serviceTitle:xne,serviceDescription:bne,serviceLink:yne,serviceLinkComingSoon:wne,serviceCardOverlay:jne,marketplaceSection:Cne,sectionHeader:Sne,sectionHeaderContent:Nne,sectionTitle:kne,sectionTitleIcon:Ine,sectionSubtitle:Ene,sectionViewAll:Tne,productsGrid:Dne,loaderContainer:Ane,errorMessage:Mne,noProducts:Rne};function Bne(){const e=Kr();Is();const[t,n]=_.useState([]),[a,r]=_.useState(!0),[i,o]=_.useState(null),[c,l]=_.useState(""),d=_.useRef(null),f=`${window.location.origin}${e.pathname}`,g=[{id:1,icon:"fa-shopping-bag",title:"",description:"  ",link:"/business-categories",gradient:"marketplaceGradient",available:!0},{id:2,icon:"fa-utensils",title:"",description:"     ",gradient:"restaurantsGradient",available:!1},{id:3,icon:"fa-store",title:" ",description:"    ",gradient:"businessGradient",available:!1},{id:4,icon:"fa-building",title:"",description:"-    ",gradient:"trcGradient",available:!1},{id:5,icon:"fa-briefcase",title:" ",description:"      ",gradient:"businessSolutionsGradient",available:!1},{id:6,icon:"fa-route",title:"Item Route",description:"     ",gradient:"itemRouteGradient",available:!1}];_.useEffect(()=>{(async()=>{try{r(!0);const S=await Be.get("marketplace/api/products/?page_size=6&sort=-created_at");n(S.data.products||[])}catch(S){console.error("  :",S),o(S.message||"    ")}finally{r(!1)}})()},[]);const b=C=>{C.preventDefault(),c.trim()&&(window.location.href=`/business-categories?search=${encodeURIComponent(c)}`)},w=C=>{d.current&&d.current.scrollBy({left:C==="next"?300:-300,behavior:"smooth"})};return s.jsxs("div",{className:pa.mainPage,children:[s.jsxs(Px,{children:[s.jsx("title",{children:"Axione -    : ,   "}),s.jsx("meta",{name:"description",content:"    ,   -    . ,   ."}),s.jsx("meta",{name:"keywords",content:", , , , , ,  "}),s.jsx("meta",{name:"author",content:"Axione"}),s.jsx("meta",{property:"og:title",content:"Axione -    "}),s.jsx("meta",{property:"og:description",content:"    ,   -    ."}),s.jsx("meta",{property:"og:type",content:"website"}),s.jsx("meta",{property:"og:url",content:f}),s.jsx("meta",{name:"twitter:card",content:"summary_large_image"}),s.jsx("meta",{name:"twitter:title",content:"Axione -    "}),s.jsx("meta",{name:"twitter:description",content:"    ,   -    ."}),s.jsx("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0"}),s.jsx("meta",{name:"robots",content:"index, follow"}),s.jsx("link",{rel:"canonical",href:f})]}),s.jsx("section",{className:pa.heroSection,children:s.jsxs("div",{className:pa.heroContent,children:[s.jsxs("h1",{className:pa.heroTitle,children:[s.jsx("span",{className:pa.heroTitleMain,children:s.jsx(bB,{text:"   ",as:"span",typingSpeed:100,initialDelay:500,pauseDuration:9e3,showCursor:!0,cursorCharacter:"_",cursorBlinkDuration:.8,loop:!0})}),s.jsx("span",{className:pa.heroTitleSub,children:",   "})]}),s.jsx("p",{className:pa.heroDescription,children:"    ,   -    . ,   ."}),s.jsxs("form",{className:pa.searchBar,onSubmit:b,children:[s.jsx("input",{type:"text",placeholder:" , ...",value:c,onChange:C=>l(C.target.value)}),s.jsx("button",{type:"submit",children:s.jsx(hi,{})})]})]})}),s.jsx("section",{className:pa.advertisementLogosSection,children:s.jsx(Y3,{logos:[{src:"https://placehold.co/250x400/",alt:"Advertisement 1",href:"#"},{src:"https://placehold.co/250x400/",alt:"Advertisement 2",href:"#"},{src:"https://placehold.co/250x400/",alt:"Advertisement 3",href:"#"},{src:"https://placehold.co/250x400/",alt:"Advertisement 4",href:"#"},{src:"https://placehold.co/250x400/",alt:"Advertisement 5",href:"#"},{src:"https://placehold.co/250x400/",alt:"Advertisement 6",href:"#"}],speed:80,direction:"left",logoHeight:200,logoWidth:300,gap:16,pauseOnHover:!0,fadeOut:!1,scaleOnHover:!0,ariaLabel:" "})}),s.jsxs("section",{className:pa.servicesSection,children:[s.jsx("div",{className:pa.sectionHeader,children:s.jsxs("h2",{className:pa.sectionTitle,children:[s.jsx("span",{className:pa.sectionTitleIcon,children:s.jsx("i",{className:"fas fa-store"})})," "]})}),s.jsxs("div",{className:pa.servicesCarouselWrapper,children:[s.jsx("button",{className:`${pa.navBtn} ${pa.navBtnLeft}`,onClick:()=>w("prev"),"aria-label":" ",children:s.jsx(Kc,{})}),s.jsx("div",{className:pa.servicesScroll,ref:d,children:s.jsx("div",{className:pa.servicesGrid,children:g.map(C=>s.jsxs(Pa,{to:C.available?C.link:"#",className:`${pa.serviceCard} ${pa[C.gradient]}`,onClick:S=>{C.available||S.preventDefault()},children:[s.jsx("div",{className:pa.serviceCardBackground}),s.jsxs("div",{className:pa.serviceCardContent,children:[s.jsx("div",{className:pa.serviceIcon,children:s.jsx("i",{className:`fas ${C.icon}`})}),s.jsx("h3",{className:pa.serviceTitle,children:C.title}),s.jsx("p",{className:pa.serviceDescription,children:C.description}),C.available?s.jsxs("div",{className:pa.serviceLink,children:["",s.jsx("i",{className:"fas fa-arrow-right"})]}):s.jsxs("div",{className:`${pa.serviceLink} ${pa.serviceLinkComingSoon}`,children:["",s.jsx("i",{className:"fas fa-clock"})]})]}),s.jsx("div",{className:pa.serviceCardOverlay})]},C.id))})}),s.jsx("button",{className:`${pa.navBtn} ${pa.navBtnRight}`,onClick:()=>w("next"),"aria-label":" ",children:s.jsx(Zc,{})})]})]}),s.jsxs("section",{className:pa.marketplaceSection,children:[s.jsx("div",{className:pa.sectionHeader,children:s.jsxs("div",{className:pa.sectionHeaderContent,children:[s.jsxs("h2",{className:pa.sectionTitle,children:[s.jsx("span",{className:pa.sectionTitleIcon,children:s.jsx("i",{className:"fas fa-shopping-bag"})}),"  "]}),s.jsx("p",{className:pa.sectionSubtitle,children:",   ,    "})]})}),a&&t.length===0?s.jsx("div",{className:pa.loaderContainer,children:s.jsx(Fn,{})}):i?s.jsxs("div",{className:pa.errorMessage,children:[s.jsx("i",{className:"fas fa-exclamation-circle"}),s.jsx("p",{children:i})]}):t.length>0?s.jsx("div",{className:pa.productsGrid,children:t.map(C=>s.jsx(lp,{product:C},C.id))}):s.jsxs("div",{className:pa.noProducts,children:[s.jsx("i",{className:"fas fa-box-open"}),s.jsx("p",{children:"   "})]})]})]})}function One(){const e=[{title:"Item 1",description:"Description for item 1"},{title:"Item 2",description:"Description for item 2"},{title:"Item 3",description:"Description for item 3"},{title:"Item 4",description:"Description for item 4"},{title:"Item 5",description:"Description for item 5"}];return s.jsxs("div",{className:"marketplace-container",children:[s.jsx("h1",{children:"Marketplace Page"}),s.jsx("ul",{className:"marketplace-list",children:e.map((t,n)=>s.jsxs("li",{className:"marketplace-item",children:[s.jsx("h3",{className:"marketplace-item-title",children:t.title}),s.jsx("p",{className:"marketplace-item-description",children:t.description})]},n))})]})}const yB=()=>{const[e,t]=_.useState([]),[n,a]=_.useState(!0);return _.useEffect(()=>{(async()=>{try{const o=await Be.get("api/business-categories/");t(o.data)}catch(o){console.error("  :",o)}finally{a(!1)}})()},[]),{categories:e,loading:n,getBusinessEmoji:i=>{switch(i){case"":return"";case"":return"";case"":return"";default:return""}}}},Lne=()=>{const{categories:e,loading:t,getBusinessEmoji:n}=yB();return t?s.jsx("div",{className:"business-container",children:s.jsxs("div",{className:"loading-container",children:[s.jsx("div",{className:"loading-spinner"}),s.jsx("p",{className:"loading-text",children:" ..."})]})}):s.jsxs("div",{className:"business-container",children:[s.jsx("div",{className:"business-header",children:s.jsxs("h1",{className:"business-title",children:[s.jsx("span",{className:"title-icon",children:""}),s.jsx("span",{children:" "})]})}),s.jsx("div",{className:"business-grid",children:e.map((a,r)=>s.jsxs(Pa,{to:`/${a.url}`,className:"business-card",style:{animationDelay:`${r*.1}s`},children:[s.jsx("div",{className:"card-gradient"}),s.jsxs("div",{className:"card-content",children:[s.jsxs("div",{className:"card-emoji-wrapper",children:[s.jsx("div",{className:"card-emoji",children:n(a.name)}),s.jsx("div",{className:"emoji-glow"})]}),s.jsx("h2",{className:"card-name",children:a.name}),s.jsx("p",{className:"card-description",children:a.description})]}),s.jsxs("div",{className:"explore-button",children:[s.jsx("span",{children:""}),s.jsx("i",{className:"fas fa-arrow-right"})]})]},a.id))})]})},$ne=()=>{const{categories:e,loading:t,getBusinessEmoji:n}=yB(),a=Is(),r=i=>{a(`/${i}`)};return t?s.jsx("div",{className:"business-container-mobile",children:s.jsxs("div",{className:"loading-container",children:[s.jsx("div",{className:"loading-spinner"}),s.jsx("p",{className:"loading-text",children:" ..."})]})}):s.jsxs("div",{className:"business-container-mobile",children:[s.jsx("div",{className:"business-header-mobile",children:s.jsx("h1",{className:"business-title-mobile",children:s.jsx("span",{children:" "})})}),s.jsx("div",{className:"business-list-mobile",children:e.map((i,o)=>s.jsxs("div",{onClick:()=>r(i.url),className:"business-card-mobile-new",style:{animationDelay:`${o*.05}s`},children:[s.jsx("div",{className:"card-mobile-left",children:s.jsxs("div",{className:"card-emoji-mobile-wrapper",children:[s.jsx("div",{className:"card-emoji-mobile",children:n(i.name)}),s.jsx("div",{className:"emoji-glow-mobile"})]})}),s.jsxs("div",{className:"card-mobile-content",children:[s.jsx("h2",{className:"card-name-mobile",children:i.name}),s.jsx("p",{className:"card-description-mobile",children:i.description})]}),s.jsx("div",{className:"card-mobile-arrow",children:s.jsx("i",{className:"fas fa-chevron-right"})}),s.jsx("div",{className:"card-mobile-gradient"})]},i.id))})]})},wB=()=>{const[e,t]=_.useState([]),[n,a]=_.useState(!0);return _.useEffect(()=>{(async()=>{try{const i=await Be.get("marketplace/api/categories/");t(i.data)}catch(i){console.error("  :",i)}finally{a(!1)}})()},[]),{categories:e,loading:n}},Pne="_marketplaceContainerDesktop_58pxn_3",Fne="_marketplaceHeaderDesktop_58pxn_9",Hne="_marketplaceTitleDesktop_58pxn_15",qne="_categoriesGridDesktop_58pxn_42",Vne="_categoryCardDesktop_58pxn_48",zne="_imageOverlayDesktop_58pxn_70",Une="_categoryNameDesktop_58pxn_84",ih={marketplaceContainerDesktop:Pne,marketplaceHeaderDesktop:Fne,marketplaceTitleDesktop:Hne,categoriesGridDesktop:qne,categoryCardDesktop:Vne,imageOverlayDesktop:zne,categoryNameDesktop:Une},Wne=()=>{const{categories:e,loading:t}=wB(),{getBackgroundImageUrl:n}=Er();return t?s.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh"},children:s.jsx(Fn,{size:"large"})}):s.jsxs("div",{className:ih.marketplaceContainerDesktop,children:[s.jsx("div",{className:ih.marketplaceHeaderDesktop,children:s.jsx("h1",{className:ih.marketplaceTitleDesktop,children:""})}),s.jsx("div",{className:ih.categoriesGridDesktop,children:e.map(a=>s.jsxs(Pa,{to:`/marketplace/categories/${a.id}`,className:ih.categoryCardDesktop,style:{backgroundImage:a.big_image?n(a.big_image):"none"},children:[s.jsx("div",{className:ih.imageOverlayDesktop}),s.jsx("div",{className:ih.categoryNameDesktop,children:a.name})]},a.id))})]})},Yne="_marketplaceContainerMobile_1o5fc_5",Gne="_marketplaceHeaderMobile_1o5fc_21",Qne="_marketplaceTitleMobile_1o5fc_33",Xne="_categoriesListMobile_1o5fc_89",Kne="_categoryItemMobile_1o5fc_103",Zne="_categoryOverlayMobile_1o5fc_197",Jne="_categoryNameMobile_1o5fc_205",ese="_categoryArrowMobile_1o5fc_213",tse="_categoryGradientMobile_1o5fc_257",nse="_categoryContentWrapperMobile_1o5fc_295",sse="_categoryNameWrapperMobile_1o5fc_319",ase="_categoryArrowWrapperMobile_1o5fc_353",wc={marketplaceContainerMobile:Yne,marketplaceHeaderMobile:Gne,marketplaceTitleMobile:Qne,categoriesListMobile:Xne,categoryItemMobile:Kne,categoryOverlayMobile:Zne,categoryNameMobile:Jne,categoryArrowMobile:ese,categoryGradientMobile:tse,categoryContentWrapperMobile:nse,categoryNameWrapperMobile:sse,categoryArrowWrapperMobile:ase},rse=()=>{const{categories:e,loading:t}=wB(),{getBackgroundImageUrl:n}=Er(),a=Is(),r=i=>{a(`/marketplace/categories/${i}`)};return t?s.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh"},children:s.jsx(Fn,{size:"large"})}):s.jsxs("div",{className:wc.marketplaceContainerMobile,children:[s.jsx("div",{className:wc.marketplaceHeaderMobile,children:s.jsx("h1",{className:wc.marketplaceTitleMobile,children:""})}),s.jsx("div",{className:wc.categoriesListMobile,children:e.map((i,o)=>s.jsxs("div",{onClick:()=>r(i.id),className:wc.categoryItemMobile,style:{backgroundImage:i.big_image?n(i.big_image):"linear-gradient(135deg, var(--royal-emerald) 0%, var(--luminous-sapphire) 100%)",animationDelay:`${o*.06}s`},children:[s.jsx("div",{className:wc.categoryOverlayMobile}),s.jsx("div",{className:wc.categoryGradientMobile}),s.jsxs("div",{className:wc.categoryContentWrapperMobile,children:[s.jsx("div",{className:wc.categoryNameWrapperMobile,children:s.jsx("h2",{className:wc.categoryNameMobile,children:i.name})}),s.jsx("div",{className:wc.categoryArrowWrapperMobile,children:s.jsx("div",{className:wc.categoryArrowMobile,children:s.jsx("i",{className:"fas fa-chevron-right"})})})]})]},i.id))})]})},jB=()=>{const{pk:e}=ha(),t=Is(),[n,a]=_.useState(null),[r,i]=_.useState([]),[o,c]=_.useState(!1),[l,d]=_.useState(!0),[f,g]=_.useState(null);return _.useEffect(()=>{(async()=>{try{const w=await Be.get(`marketplace/api/categories/${e}/`);if(w.data.should_redirect){t(w.data.redirect_to);return}if(w.data&&w.data.category)a(w.data.category),i(w.data.children||[]),c(w.data.has_all_descendants||!1);else throw new Error("    ")}catch(w){console.error(" :",w),g(w.message),t("/business-categories",{replace:!0})}finally{d(!1)}})()},[e,t]),{category:n,children:r,hasAllDescendants:o,loading:l,error:f,pk:e}},ise="_marketplaceContainer_1rvfs_3",ose="_headerSection_1rvfs_9",cse="_backButton_1rvfs_26",lse="_categoriesGrid_1rvfs_43",use="_categoryCard_1rvfs_49",dse="_imageOverlay_1rvfs_71",hse="_categoryName_1rvfs_85",fse="_loadingSpinner_1rvfs_96",mse="_spinner_1rvfs_105",pse="_errorMessage_1rvfs_120",gse="_notFound_1rvfs_121",_se="_specialCategoryContainerWrapper_1rvfs_150",vse="_specialCategoryHeader_1rvfs_156",xse="_headerActions_1rvfs_175",bse="_showAllProductsButton_1rvfs_182",yse="_showAllIcon_1rvfs_209",wse="_specialCategoryContainer_1rvfs_150",jse="_label_1rvfs_234",Cse="_threeColumnLayout_1rvfs_247",Sse="_column_1rvfs_254",Nse="_categoryGroup_1rvfs_260",kse="_categoryGroupTitle_1rvfs_265",Ise="_subcategoryList_1rvfs_279",Ese="_subcategoryItem_1rvfs_288",Tse="_expandButton_1rvfs_301",Dse="_expandToggle_1rvfs_306",Ase="_expandIcon_1rvfs_325",Mse="_expanded_1rvfs_332",_a={marketplaceContainer:ise,headerSection:ose,backButton:cse,categoriesGrid:lse,categoryCard:use,imageOverlay:dse,categoryName:hse,loadingSpinner:fse,spinner:mse,errorMessage:pse,notFound:gse,specialCategoryContainerWrapper:_se,specialCategoryHeader:vse,headerActions:xse,showAllProductsButton:bse,showAllIcon:yse,specialCategoryContainer:wse,label:jse,threeColumnLayout:Cse,column:Sse,categoryGroup:Nse,categoryGroupTitle:kse,subcategoryList:Ise,subcategoryItem:Ese,expandButton:Tse,expandToggle:Dse,expandIcon:Ase,expanded:Mse},Rse=()=>{const{category:e,children:t,hasAllDescendants:n,loading:a,error:r,pk:i}=jB(),{getBackgroundImageUrl:o}=Er(),c=Is(),[l,d]=_.useState(new Set);if(a)return s.jsxs("div",{className:_a.loadingSpinner,children:[s.jsx("div",{className:_a.spinner}),s.jsx("p",{children:" ..."})]});if(r)return s.jsxs("div",{className:_a.errorMessage,children:[s.jsxs("p",{children:[" : ",r]}),s.jsx("button",{onClick:()=>c("/business-categories"),children:"  "})]});if(!e)return s.jsxs("div",{className:_a.notFound,children:[s.jsx("p",{children:"  "}),s.jsx("button",{onClick:()=>c("/business-categories"),children:"  "})]});if(t.length===2)return s.jsxs("div",{className:_a.specialCategoryContainerWrapper,children:[s.jsxs("div",{className:_a.specialCategoryHeader,children:[s.jsx("h1",{children:e.name}),s.jsxs("div",{className:_a.headerActions,children:[s.jsxs("button",{onClick:()=>c(`/marketplace/categories/${i}/products/`),className:_a.showAllProductsButton,"aria-label":"  ",children:[s.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:_a.showAllIcon,children:[s.jsx("path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"}),s.jsx("polyline",{points:"3.27 6.96 12 12.01 20.73 6.96"}),s.jsx("line",{x1:"12",y1:"22.08",x2:"12",y2:"12"})]}),s.jsx("span",{children:" "})]}),s.jsx("button",{onClick:()=>c(-1),className:_a.backButton,children:" "})]})]}),s.jsx("div",{className:_a.specialCategoryContainer,children:t.map(f=>s.jsxs("div",{className:_a.categoryCard,onClick:()=>c(`/marketplace/categories/${f.id}`),style:{backgroundImage:f.big_image?o(f.big_image):"none"},children:[s.jsx("div",{className:_a.imageOverlay}),s.jsx("div",{className:_a.label,children:f.name})]},f.id))})]});if(n&&t.length>6){const f=Math.ceil(t.length/3),g=[t.slice(0,f),t.slice(f,f*2),t.slice(f*2)];return s.jsxs("div",{className:_a.marketplaceContainer,children:[s.jsxs("div",{className:_a.headerSection,children:[s.jsx("h1",{children:e.name}),s.jsxs("div",{className:_a.headerActions,children:[s.jsxs("button",{onClick:()=>c(`/marketplace/categories/${i}/products/`),className:_a.showAllProductsButton,"aria-label":"  ",children:[s.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:_a.showAllIcon,children:[s.jsx("path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"}),s.jsx("polyline",{points:"3.27 6.96 12 12.01 20.73 6.96"}),s.jsx("line",{x1:"12",y1:"22.08",x2:"12",y2:"12"})]}),s.jsx("span",{children:" "})]}),s.jsx("button",{onClick:()=>c(-1),className:_a.backButton,children:" "})]})]}),s.jsx("div",{className:_a.threeColumnLayout,children:g.map((b,w)=>s.jsx("div",{className:_a.column,children:b.map(C=>{const S=l.has(C.id),k=C.children||[],E=S?k:k.slice(0,4),D=k.length-4,R=D>0,P=B=>{B.stopPropagation(),d(O=>{const $=new Set(O);return $.has(C.id)?$.delete(C.id):$.add(C.id),$})};return s.jsxs("div",{className:_a.categoryGroup,children:[s.jsx("h3",{className:_a.categoryGroupTitle,onClick:()=>c(`/marketplace/categories/${C.id}/products/`),children:C.name}),k.length>0&&s.jsxs("ul",{className:_a.subcategoryList,children:[E.map((B,O)=>s.jsx("li",{className:_a.subcategoryItem,onClick:()=>c(`/marketplace/categories/${B.id}`),children:B.name},B.id||O)),R&&s.jsx("li",{className:_a.expandButton,children:s.jsxs("button",{onClick:P,className:_a.expandToggle,children:[s.jsx("span",{children:S?"":` ${D}`}),s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",className:`${_a.expandIcon} ${S?_a.expanded:""}`,children:s.jsx("path",{fill:"currentColor",d:"M6.293 9.293a1 1 0 0 1 1.414 0L12 13.586l4.293-4.293a1 1 0 1 1 1.414 1.414l-5 5a1 1 0 0 1-1.414 0l-5-5a1 1 0 0 1 0-1.414z"})})]})})]})]},C.id)})},w))})]})}return s.jsxs("div",{className:_a.marketplaceContainer,children:[s.jsxs("div",{className:_a.headerSection,children:[s.jsx("h1",{children:e.name}),s.jsxs("div",{className:_a.headerActions,children:[s.jsxs("button",{onClick:()=>c(`/marketplace/categories/${i}/products/`),className:_a.showAllProductsButton,"aria-label":"  ",children:[s.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:_a.showAllIcon,children:[s.jsx("path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"}),s.jsx("polyline",{points:"3.27 6.96 12 12.01 20.73 6.96"}),s.jsx("line",{x1:"12",y1:"22.08",x2:"12",y2:"12"})]}),s.jsx("span",{children:" "})]}),s.jsx("button",{onClick:()=>c(-1),className:_a.backButton,children:" "})]})]}),t.length>0?s.jsx("div",{className:_a.categoriesGrid,children:t.map(f=>s.jsxs("div",{onClick:()=>c(`/marketplace/categories/${f.id}`),className:_a.categoryCard,style:{backgroundImage:f.big_image?o(f.big_image):"none"},children:[s.jsx("div",{className:_a.imageOverlay}),s.jsx("div",{className:_a.categoryName,children:f.name})]},f.id))}):s.jsx("p",{children:" "})]})},Bse="_marketplaceContainer_1yj7b_3",Ose="_headerSection_1yj7b_11",Lse="_categoryTitle_1yj7b_18",$se="_backButton_1yj7b_30",Pse="_categoriesList_1yj7b_49",Fse="_categoryItem_1yj7b_56",Hse="_imageOverlay_1yj7b_99",qse="_categoryName_1yj7b_103",Vse="_categoryArrow_1yj7b_107",zse="_categoryContent_1yj7b_127",Use="_noCategories_1yj7b_168",Wse="_errorMessage_1yj7b_175",Yse="_notFound_1yj7b_176",Gse="_specialCategoryContainerWrapper_1yj7b_214",Qse="_specialCategoryHeader_1yj7b_222",Xse="_specialCategoryTitle_1yj7b_231",Kse="_headerActions_1yj7b_244",Zse="_showAllProductsButton_1yj7b_253",Jse="_showAllIcon_1yj7b_278",eae="_specialCategoryContainer_1yj7b_214",tae="_categoryCard_1yj7b_291",nae="_label_1yj7b_317",sae="_mobileCategoryList_1yj7b_433",aae="_mobileCategoryGroup_1yj7b_440",rae="_mobileCategoryGroupTitle_1yj7b_444",iae="_mobileSubcategoryList_1yj7b_462",oae="_mobileSubcategoryItem_1yj7b_472",cae="_mobileExpandButton_1yj7b_490",lae="_mobileExpandToggle_1yj7b_495",uae="_mobileExpandIcon_1yj7b_519",dae="_expanded_1yj7b_526",va={marketplaceContainer:Bse,headerSection:Ose,categoryTitle:Lse,backButton:$se,categoriesList:Pse,categoryItem:Fse,imageOverlay:Hse,categoryName:qse,categoryArrow:Vse,categoryContent:zse,noCategories:Use,errorMessage:Wse,notFound:Yse,specialCategoryContainerWrapper:Gse,specialCategoryHeader:Qse,specialCategoryTitle:Xse,headerActions:Kse,showAllProductsButton:Zse,showAllIcon:Jse,specialCategoryContainer:eae,categoryCard:tae,label:nae,mobileCategoryList:sae,mobileCategoryGroup:aae,mobileCategoryGroupTitle:rae,mobileSubcategoryList:iae,mobileSubcategoryItem:oae,mobileExpandButton:cae,mobileExpandToggle:lae,mobileExpandIcon:uae,expanded:dae},hae=()=>{const{category:e,children:t,hasAllDescendants:n,loading:a,error:r,pk:i}=jB(),{getBackgroundImageUrl:o}=Er(),c=Is(),[l,d]=_.useState(new Set);return a?s.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh"},children:s.jsx(Fn,{size:"large"})}):r?s.jsxs("div",{className:va.errorMessage,children:[s.jsxs("p",{children:[" : ",r]}),s.jsx("button",{onClick:()=>c("/business-categories"),children:"  "})]}):e?parseInt(i,10)===25&&t.length===2?s.jsxs("div",{className:va.specialCategoryContainerWrapper,children:[s.jsxs("div",{className:va.specialCategoryHeader,children:[s.jsx("h1",{className:va.specialCategoryTitle,children:e.name}),s.jsxs("div",{className:va.headerActions,children:[s.jsxs("button",{onClick:()=>c(`/marketplace/categories/${i}/products/`),className:va.showAllProductsButton,"aria-label":"  ",children:[s.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:va.showAllIcon,children:[s.jsx("path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"}),s.jsx("polyline",{points:"3.27 6.96 12 12.01 20.73 6.96"}),s.jsx("line",{x1:"12",y1:"22.08",x2:"12",y2:"12"})]}),s.jsx("span",{children:" "})]}),s.jsx("button",{onClick:()=>c(-1),className:va.backButton,children:" "})]})]}),s.jsx("div",{className:va.specialCategoryContainer,children:t.map((f,g)=>s.jsxs("div",{className:va.categoryCard,onClick:()=>c(`/marketplace/categories/${f.id}`),style:{backgroundImage:f.big_image?o(f.big_image):"linear-gradient(135deg, var(--royal-emerald) 0%, var(--luminous-sapphire) 100%)",animationDelay:`${g*.1}s`},children:[s.jsx("div",{className:va.imageOverlay}),s.jsx("div",{className:va.label,children:f.name})]},f.id))})]}):n&&t.length>6?s.jsxs("div",{className:va.marketplaceContainer,children:[s.jsxs("div",{className:va.headerSection,children:[s.jsx("h1",{className:va.categoryTitle,children:e.name}),s.jsxs("div",{className:va.headerActions,children:[s.jsxs("button",{onClick:()=>c(`/marketplace/categories/${i}/products/`),className:va.showAllProductsButton,"aria-label":"  ",children:[s.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:va.showAllIcon,children:[s.jsx("path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"}),s.jsx("polyline",{points:"3.27 6.96 12 12.01 20.73 6.96"}),s.jsx("line",{x1:"12",y1:"22.08",x2:"12",y2:"12"})]}),s.jsx("span",{children:" "})]}),s.jsx("button",{onClick:()=>c(-1),className:va.backButton,children:" "})]})]}),s.jsx("div",{className:va.mobileCategoryList,children:t.map((f,g)=>{const b=l.has(f.id),w=f.children||[],C=b?w:w.slice(0,4),S=w.length-4,k=S>0,E=D=>{D.stopPropagation(),d(R=>{const P=new Set(R);return P.has(f.id)?P.delete(f.id):P.add(f.id),P})};return s.jsxs("div",{className:va.mobileCategoryGroup,style:{animationDelay:`${g*.05}s`},children:[s.jsx("h3",{className:va.mobileCategoryGroupTitle,onClick:()=>c(`/marketplace/categories/${f.id}/products/`),children:f.name}),w.length>0&&s.jsxs("ul",{className:va.mobileSubcategoryList,children:[C.map((D,R)=>s.jsx("li",{className:va.mobileSubcategoryItem,onClick:()=>c(`/marketplace/categories/${D.id}`),children:D.name},D.id||R)),k&&s.jsx("li",{className:va.mobileExpandButton,children:s.jsxs("button",{onClick:E,className:va.mobileExpandToggle,children:[s.jsx("span",{children:b?"":` ${S}`}),s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",className:`${va.mobileExpandIcon} ${b?va.expanded:""}`,children:s.jsx("path",{fill:"currentColor",d:"M6.293 9.293a1 1 0 0 1 1.414 0L12 13.586l4.293-4.293a1 1 0 1 1 1.414 1.414l-5 5a1 1 0 0 1-1.414 0l-5-5a1 1 0 0 1 0-1.414z"})})]})})]})]},f.id)})})]}):s.jsxs("div",{className:va.marketplaceContainer,children:[s.jsxs("div",{className:va.headerSection,children:[s.jsx("h1",{className:va.categoryTitle,children:e.name}),s.jsx("button",{onClick:()=>c(-1),className:va.backButton,children:" "})]}),t.length>0?s.jsx("div",{className:va.categoriesList,children:t.map((f,g)=>s.jsxs("div",{onClick:()=>c(`/marketplace/categories/${f.id}`),className:va.categoryItem,style:{backgroundImage:f.big_image?o(f.big_image):"linear-gradient(135deg, var(--royal-emerald) 0%, var(--luminous-sapphire) 100%)",animationDelay:`${g*.05}s`},children:[s.jsx("div",{className:va.imageOverlay}),s.jsxs("div",{className:va.categoryContent,children:[s.jsx("div",{className:va.categoryName,children:f.name}),s.jsx("div",{className:va.categoryArrow,children:s.jsx("i",{className:"fas fa-chevron-right"})})]})]},f.id))}):s.jsx("p",{className:va.noCategories,children:" "})]}):s.jsxs("div",{className:va.notFound,children:[s.jsx("p",{children:"  "}),s.jsx("button",{onClick:()=>c("/business-categories"),children:"  "})]})},CB=()=>{const{pk:e}=ha(),t=Is(),n=Kr(),[a,r]=_.useState(null),[i,o]=_.useState([]),[c,l]=_.useState(!0),[d,f]=_.useState(!0),[g,b]=_.useState(null),[w,C]=_.useState(""),[S,k]=_.useState("-id"),[E,D]=_.useState(""),[R,P]=_.useState(""),[B,O]=_.useState({}),[$,U]=_.useState({}),[F,H]=_.useState(2),[se,K]=_.useState(!1),[te,J]=_.useState([]),[z,V]=_.useState(1),[M,ee]=_.useState(!1),[Z,A]=_.useState(!1);_.useEffect(()=>{const ve=new URLSearchParams(n.search);C(ve.get("search")||""),k(ve.get("sort")||"-id"),D(ve.get("price_min")||""),P(ve.get("price_max")||"");const Se={};ve.forEach((fe,de)=>{de.startsWith("attr_")&&(Se[de]=Se[de]||[],Se[de].push(fe))}),U(Se)},[n.search]),_.useEffect(()=>{(async()=>{var Se,fe;try{l(!0),J([]),V(1);const de=new URLSearchParams(n.search);de.has("sort")||de.set("sort","-id"),de.set("page","1");const pe=await Be.get(`marketplace/api/categories/${e}/products/?${de.toString()}`),ce=pe.data.oldData;r(ce),ce.products&&(J(ce.products),V(1),ee(((Se=ce.pagination)==null?void 0:Se.has_next)||!1));const Re=Array.isArray((fe=pe.data.filters)==null?void 0:fe.filters)?pe.data.filters.filters:[];o(Re);const Ae={};Re.forEach(ie=>{Ae[ie.id]=!0}),O(Ae)}catch(de){console.error(" :",de),b(de.message||"    ")}finally{l(!1),f(!1)}})()},[e,n.search]);const G=(ve,Se)=>{U(fe=>{const de={...fe},pe=`attr_${ve}`;de[pe]||(de[pe]=[]);const ce=Se.toString();return de[pe].indexOf(ce)===-1?de[pe]=[...de[pe],ce]:(de[pe]=de[pe].filter(Ae=>Ae!==ce),de[pe].length===0&&delete de[pe]),de})},Q=(ve,Se)=>{var de;const fe=`attr_${ve}`;return((de=$[fe])==null?void 0:de.includes(Se.toString()))||!1},Y=()=>{const ve=new URLSearchParams;w&&ve.set("search",w),E&&ve.set("price_min",E),R&&ve.set("price_max",R),ve.set("sort",S),ve.set("page",1),Object.entries($).forEach(([Se,fe])=>{fe.forEach(de=>{ve.append(Se,de)})}),t(`?${ve.toString()}`)},ae=ve=>{ve.preventDefault(),Y()},ne=ve=>{const Se=new URLSearchParams(n.search);Se.set("page",ve),t(`?${Se.toString()}`),window.scrollTo(0,0)},re=ve=>{const Se=ve.target.value;k(Se);const fe=new URLSearchParams(n.search);fe.set("sort",Se),fe.set("page",1),t(`?${fe.toString()}`)},oe=ve=>{O(Se=>({...Se,[ve]:!Se[ve]}))},me=()=>{C(""),D(""),P(""),k("-id"),U({}),t(`/marketplace/categories/${e}/products/`)},Ce=ve=>{U(Se=>{const fe={...Se},de=`attr_${ve}`;return delete fe[de],fe})},Ne=(ve,Se)=>Se<=5?Array.from({length:Se},(fe,de)=>de+1):ve<=3?[1,2,3,4,"...",Se]:ve>=Se-2?[1,"...",Se-3,Se-2,Se-1,Se]:[1,"...",ve-1,ve,ve+1,"...",Se],Ee=_.useCallback(async()=>{var ve;if(!(Z||!M))try{A(!0);const Se=new URLSearchParams(n.search),fe=z+1;Se.set("page",fe.toString());const pe=(await Be.get(`marketplace/api/categories/${e}/products/?${Se.toString()}`)).data.oldData;pe.products&&pe.products.length>0?(J(ce=>[...ce,...pe.products]),V(fe),ee(((ve=pe.pagination)==null?void 0:ve.has_next)||!1)):ee(!1)}catch(Se){console.error("   :",Se)}finally{A(!1)}},[Z,M,z,n.search,e]);return{data:a,filters:i,loading:c,filtersLoading:d,error:g,searchQuery:w,setSearchQuery:C,sortOption:S,priceMin:E,setPriceMin:D,priceMax:R,setPriceMax:P,expandedFilters:B,setExpandedFilters:O,tempFilters:$,visibleFiltersCount:F,setVisibleFiltersCount:H,showAllSubcategories:se,setShowAllSubcategories:K,handleAttributeSelect:G,isAttributeSelected:Q,applyFilters:Y,handleSearch:ae,handlePageChange:ne,handleSortChange:re,toggleFilter:oe,resetFilters:me,resetFilterCategory:Ce,generatePaginationItems:Ne,allProducts:te,hasMore:M,loadingMore:Z,loadMoreProducts:Ee,pk:e,navigate:t,location:n}},G3=({breadcrumbs:e,productName:t})=>{const n=Is();return s.jsxs("nav",{className:"product-breadcrumbs",children:[s.jsx("button",{onClick:()=>n("/marketplace/categories"),children:""}),e==null?void 0:e.map((a,r)=>s.jsxs(nt.Fragment,{children:[s.jsx("span",{className:"separator",children:"/"}),s.jsx("button",{onClick:()=>n(`/marketplace/categories/${a.id}`),children:a.name})]},a.id)),t&&s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"separator",children:"/"}),s.jsx("span",{className:"current",children:t})]})]})},fae="_filtersContainer_9vhpa_3",mae="_filtersLoading_9vhpa_23",pae="_loadingSpinner_9vhpa_47",gae="_attributeSection_9vhpa_77",_ae="_filterHeader_9vhpa_133",vae="_filterTitle_9vhpa_197",xae="_filterToggleIcon_9vhpa_219",bae="_expanded_9vhpa_255",yae="_attributeValuesContainer_9vhpa_269",wae="_attributeValues_9vhpa_269",jae="_attributeValueButton_9vhpa_309",Cae="_selected_9vhpa_385",Sae="_checkmark_9vhpa_411",Nae="_showMoreFilters_9vhpa_449",kae="_chevron_9vhpa_527",Iae="_down_9vhpa_567",Eae="_up_9vhpa_577",Ji={filtersContainer:fae,filtersLoading:mae,loadingSpinner:pae,attributeSection:gae,filterHeader:_ae,filterTitle:vae,filterToggleIcon:xae,expanded:bae,attributeValuesContainer:yae,attributeValues:wae,attributeValueButton:jae,selected:Cae,checkmark:Sae,showMoreFilters:Nae,chevron:kae,down:Iae,up:Eae},Fx=({filtersLoading:e,filters:t,visibleFiltersCount:n,expandedFilters:a,toggleFilter:r,isAttributeSelected:i,handleAttributeSelect:o,setVisibleFiltersCount:c})=>s.jsx("div",{className:Ji.filtersContainer,children:e?s.jsxs("div",{className:Ji.filtersLoading,children:[s.jsx("div",{className:Ji.loadingSpinner}),s.jsx("p",{children:" ..."})]}):s.jsxs(s.Fragment,{children:[t.slice(0,n).map(l=>s.jsxs("div",{className:`${Ji.attributeSection} ${a[l.id]?Ji.expanded:""}`,children:[s.jsxs("div",{className:Ji.filterHeader,onClick:()=>r(l.id),children:[s.jsx("h4",{className:Ji.filterTitle,children:l.name}),s.jsx("div",{className:Ji.filterToggleIcon,children:s.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:s.jsx("path",{d:"M6 9L12 15L18 9",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})})]}),s.jsx("div",{className:Ji.attributeValuesContainer,children:s.jsx("div",{className:Ji.attributeValues,children:l.values.map(d=>{const f=d.id?d.id:`val_${d.value}`;return s.jsxs("button",{className:`${Ji.attributeValueButton} ${i(l.id,f)?Ji.selected:""}`,onClick:()=>o(l.id,f),children:[d.value,i(l.id,f)&&s.jsx("span",{className:Ji.checkmark,children:s.jsx("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:s.jsx("path",{d:"M20 6L9 17L4 12",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})})]},`${l.id}-${f}`)})})})]},l.id)),t.length>2&&s.jsxs("button",{className:Ji.showMoreFilters,onClick:()=>{n>=t.length?c(2):c(t.length)},children:[n>=t.length?" ":"  ",s.jsx("span",{className:`${Ji.chevron} ${n>=t.length?Ji.up:Ji.down}`})]})]})}),Tae="_productsPage_sscuv_1",Dae="_subcategoriesSection_sscuv_27",Aae="_subcategoriesChips_sscuv_34",Mae="_subcategoryChip_sscuv_67",Rae="_subcategoryChipActive_sscuv_94",Bae="_pageHeader_sscuv_107",Oae="_headerActions_sscuv_125",Lae="_filterToggle_sscuv_131",$ae="_searchForm_sscuv_147",Pae="_searchInput_sscuv_153",Fae="_searchButton_sscuv_170",Hae="_productsContainer_sscuv_193",qae="_sidebar_sscuv_200",Vae="_sidebarHeader_sscuv_213",zae="_closeFilters_sscuv_229",Uae="_filterSection_sscuv_247",Wae="_filterTitle_sscuv_259",Yae="_active_sscuv_314",Gae="_priceInputs_sscuv_408",Qae="_priceInput_sscuv_408",Xae="_applyFilterButton_sscuv_439",Kae="_resetFiltersButton_sscuv_458",Zae="_mainContent_sscuv_479",Jae="_productsHeader_sscuv_484",ere="_productsCount_sscuv_494",tre="_sortContainer_sscuv_504",nre="_sortLabel_sscuv_510",sre="_sortSelect_sscuv_516",are="_productGrid_sscuv_535",rre="_pagination_sscuv_543",ire="_paginationArrow_sscuv_552",ore="_pageNumbers_sscuv_569",cre="_paginationNumber_sscuv_575",lre="_paginationEllipsis_sscuv_604",ure="_noProducts_sscuv_612",dre="_errorContainer_sscuv_639",hre="_notFoundContainer_sscuv_639",fre="_errorIcon_sscuv_662",mre="_primaryButton_sscuv_676",pre="_open_sscuv_736",gre="_closed_sscuv_740",qs={productsPage:Tae,subcategoriesSection:Dae,subcategoriesChips:Aae,subcategoryChip:Mae,subcategoryChipActive:Rae,pageHeader:Bae,headerActions:Oae,filterToggle:Lae,searchForm:$ae,searchInput:Pae,searchButton:Fae,productsContainer:Hae,sidebar:qae,sidebarHeader:Vae,closeFilters:zae,filterSection:Uae,filterTitle:Wae,active:Yae,priceInputs:Gae,priceInput:Qae,applyFilterButton:Xae,resetFiltersButton:Kae,mainContent:Zae,productsHeader:Jae,productsCount:ere,sortContainer:tre,sortLabel:nre,sortSelect:sre,productGrid:are,pagination:rre,paginationArrow:ire,pageNumbers:ore,paginationNumber:cre,paginationEllipsis:lre,noProducts:ure,errorContainer:dre,notFoundContainer:hre,errorIcon:fre,primaryButton:mre,open:pre,closed:gre},_re=()=>{var te;const{data:e,filters:t,loading:n,filtersLoading:a,error:r,searchQuery:i,setSearchQuery:o,sortOption:c,priceMin:l,setPriceMin:d,priceMax:f,setPriceMax:g,expandedFilters:b,visibleFiltersCount:w,setVisibleFiltersCount:C,handleAttributeSelect:S,isAttributeSelected:k,applyFilters:E,handleSearch:D,handlePageChange:R,handleSortChange:P,toggleFilter:B,resetFilters:O,generatePaginationItems:$,navigate:U,location:F}=CB(),[H,se]=_.useState(!0),K=()=>{se(!H)};return n?s.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh"},children:s.jsx(Fn,{size:"large"})}):r?s.jsxs("div",{className:qs.errorContainer,children:[s.jsx("div",{className:qs.errorIcon,children:"!"}),s.jsx("h3",{children:" "}),s.jsx("p",{children:r}),s.jsx("button",{className:qs.primaryButton,onClick:()=>window.location.reload(),children:" "})]}):e?!e.products||!e.category?s.jsxs("div",{className:qs.notFoundContainer,children:[s.jsx("h3",{children:"  "}),s.jsx("button",{className:qs.primaryButton,onClick:()=>window.location.reload(),children:" "})]}):s.jsxs("div",{className:qs.productsPage,children:[s.jsx(G3,{breadcrumbs:e==null?void 0:e.breadcrumbs}),s.jsxs("div",{className:qs.pageHeader,children:[s.jsx("h1",{children:e.category.name}),s.jsxs("div",{className:qs.headerActions,children:[s.jsx("button",{className:qs.filterToggle,onClick:K,children:H?" ":" "}),s.jsxs("form",{onSubmit:D,className:qs.searchForm,children:[s.jsx("input",{type:"text",value:i,onChange:J=>o(J.target.value),placeholder:"  ...",className:qs.searchInput}),s.jsx("button",{type:"submit",className:qs.searchButton,children:s.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[s.jsx("path",{d:"M11 19C15.4183 19 19 15.4183 19 11C19 6.58172 15.4183 3 11 3C6.58172 3 3 6.58172 3 11C3 15.4183 6.58172 19 11 19Z",strokeWidth:"2"}),s.jsx("path",{d:"M21 21L16.65 16.65",strokeWidth:"2"})]})})]})]})]}),e.subcategories&&e.subcategories.length>0&&s.jsx("div",{className:qs.subcategoriesSection,children:s.jsx("div",{className:qs.subcategoriesChips,children:e.subcategories.map(J=>s.jsx("button",{className:`${qs.subcategoryChip} ${F.pathname.includes(`/categories/${J.id}`)?qs.subcategoryChipActive:""}`,onClick:()=>{U(`/marketplace/categories/${J.id}/products/`)},children:J.name},J.id))})}),s.jsxs("div",{className:qs.productsContainer,children:[s.jsxs("aside",{className:`${qs.sidebar} ${H?qs.open:qs.closed}`,children:[s.jsxs("div",{className:qs.sidebarHeader,children:[s.jsx("h3",{children:""}),s.jsx("button",{className:qs.closeFilters,onClick:K,children:""})]}),s.jsx(Fx,{filtersLoading:a,filters:t,visibleFiltersCount:w,expandedFilters:b,toggleFilter:B,isAttributeSelected:k,handleAttributeSelect:S,setVisibleFiltersCount:C}),s.jsxs("div",{className:qs.filterSection,children:[s.jsx("h4",{className:qs.filterTitle,children:""}),s.jsxs("div",{className:qs.priceInputs,children:[s.jsx("input",{type:"number",placeholder:"",className:qs.priceInput,value:l,onChange:J=>d(J.target.value),min:"0"}),s.jsx("input",{type:"number",placeholder:"",className:qs.priceInput,value:f,onChange:J=>g(J.target.value),min:"0"})]}),s.jsx("button",{className:qs.applyFilterButton,onClick:E,children:"  "})]}),s.jsx("button",{className:qs.resetFiltersButton,onClick:O,children:"  "})]}),s.jsxs("main",{className:qs.mainContent,children:[s.jsxs("div",{className:qs.productsHeader,children:[s.jsxs("p",{className:qs.productsCount,children:[" : ",s.jsx("strong",{children:((te=e.pagination)==null?void 0:te.total_items)||e.products.length})]}),s.jsxs("div",{className:qs.sortContainer,children:[s.jsx("label",{className:qs.sortLabel,children:":"}),s.jsxs("select",{value:c,onChange:P,className:qs.sortSelect,children:[s.jsx("option",{value:"-created_at",children:" "}),s.jsx("option",{value:"price",children:"  "}),s.jsx("option",{value:"-price",children:"  "}),s.jsx("option",{value:"name",children:"  (-)"}),s.jsx("option",{value:"-name",children:"  (-)"})]})]})]}),e.products.length>0?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:qs.productGrid,children:e.products.map(J=>s.jsx(lp,{product:J},J.id))}),e.pagination&&e.pagination.total_pages>1&&s.jsxs("div",{className:qs.pagination,children:[e.pagination.has_previous&&s.jsx("button",{className:qs.paginationArrow,onClick:()=>R(e.pagination.current_page-1),children:" "}),s.jsx("div",{className:qs.pageNumbers,children:$(e.pagination.current_page,e.pagination.total_pages).map((J,z)=>J==="..."?s.jsx("span",{className:qs.paginationEllipsis,children:"..."},`ellipsis-${z}`):s.jsx("button",{className:`${qs.paginationNumber} ${J===e.pagination.current_page?qs.active:""}`,onClick:()=>R(J),children:J},J))}),e.pagination.has_next&&s.jsx("button",{className:qs.paginationArrow,onClick:()=>R(e.pagination.current_page+1),children:" "})]})]}):s.jsxs("div",{className:qs.noProducts,children:[s.jsx("svg",{width:"80",height:"80",viewBox:"0 0 24 24",fill:"none",stroke:"rgba(255, 255, 255, 0.3)",className:qs.noProductsIcon,children:s.jsx("path",{d:"M4 16L8.5 10.5L11 13.5L14.5 9L20 16M4 16H20M4 16V4H20V16",strokeWidth:"1.5"})}),s.jsx("h3",{children:"  "}),s.jsx("p",{children:"   "}),s.jsx("button",{className:qs.primaryButton,onClick:O,children:" "})]})]})]})]}):s.jsxs("div",{className:qs.notFoundContainer,children:[s.jsx("h3",{children:"  "}),s.jsx("button",{className:qs.primaryButton,onClick:()=>U("/marketplace"),children:"  "})]})},vre="_filtersContainer_7ngx4_5",xre="_filtersLoading_7ngx4_13",bre="_loadingSpinner_7ngx4_31",yre="_filterCategory_7ngx4_63",wre="_filterCategoryHeader_7ngx4_79",jre="_filterCategoryTitle_7ngx4_93",Cre="_resetCategoryButton_7ngx4_109",Sre="_filterChips_7ngx4_143",Nre="_filterChip_7ngx4_143",kre="_filterChipSelected_7ngx4_199",Ire="_checkmark_7ngx4_213",qc={filtersContainer:vre,filtersLoading:xre,loadingSpinner:bre,filterCategory:yre,filterCategoryHeader:wre,filterCategoryTitle:jre,resetCategoryButton:Cre,filterChips:Sre,filterChip:Nre,filterChipSelected:kre,checkmark:Ire},Ere=({filtersLoading:e,filters:t,isAttributeSelected:n,handleAttributeSelect:a,tempFilters:r,resetFilterCategory:i})=>e?s.jsxs("div",{className:qc.filtersLoading,children:[s.jsx("div",{className:qc.loadingSpinner}),s.jsx("p",{children:" ..."})]}):s.jsx("div",{className:qc.filtersContainer,children:t.map(o=>{const c=o.values.some(l=>{const d=l.id?l.id:`val_${l.value}`;return n(o.id,d)});return s.jsxs("div",{className:qc.filterCategory,children:[s.jsxs("div",{className:qc.filterCategoryHeader,children:[s.jsx("h4",{className:qc.filterCategoryTitle,children:o.name}),c&&s.jsx("button",{className:qc.resetCategoryButton,onClick:()=>i(o.id),children:""})]}),s.jsx("div",{className:qc.filterChips,children:o.values.map(l=>{const d=l.id?l.id:`val_${l.value}`,f=n(o.id,d);return s.jsxs("button",{className:`${qc.filterChip} ${f?qc.filterChipSelected:""}`,onClick:()=>a(o.id,d),children:[l.value,f&&s.jsx("span",{className:qc.checkmark,children:s.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:s.jsx("path",{d:"M20 6L9 17L4 12",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round"})})})]},`${o.id}-${d}`)})})]},o.id)})}),Tre="_productsPage_ajcd3_3",Dre="_fixedHeader_ajcd3_13",Are="_headerTop_ajcd3_29",Mre="_pageTitle_ajcd3_40",Rre="_filterButton_ajcd3_53",Bre="_filterBadge_ajcd3_77",Ore="_headerActions_ajcd3_146",Lre="_sortButton_ajcd3_169",$re="_content_ajcd3_196",Pre="_productsContent_ajcd3_206",Fre="_subcategoriesSection_ajcd3_216",Hre="_subcategoriesChips_ajcd3_230",qre="_subcategoryChip_ajcd3_251",Vre="_subcategoryChipActive_ajcd3_274",zre="_categoriesModalButton_ajcd3_282",Ure="_categoriesModalIcon_ajcd3_307",Wre="_categoriesBottomModal_ajcd3_313",Yre="_bottomModalHandle_ajcd3_332",Gre="_bottomModalHeader_ajcd3_340",Qre="_closeButton_ajcd3_359",Xre="_bottomModalContent_ajcd3_380",Kre="_categoriesModalList_ajcd3_391",Zre="_categoriesModalItem_ajcd3_397",Jre="_categoriesModalItemActive_ajcd3_425",eie="_noCategoriesText_ajcd3_438",tie="_productGrid_ajcd3_445",nie="_productCardWrapper_ajcd3_455",sie="_noProducts_ajcd3_543",aie="_noProductsIcon_ajcd3_553",rie="_infiniteScrollTrigger_ajcd3_573",iie="_loadingMore_ajcd3_582",oie="_modalOverlay_ajcd3_598",cie="_filtersModal_ajcd3_619",lie="_sortModal_ajcd3_649",uie="_sortOptions_ajcd3_668",die="_sortOption_ajcd3_668",hie="_sortOptionActive_ajcd3_705",fie="_checkmark_ajcd3_711",mie="_modalHeader_ajcd3_732",pie="_cancelButton_ajcd3_751",gie="_modalContent_ajcd3_768",_ie="_filterSection_ajcd3_781",vie="_filterCategoryHeader_ajcd3_792",xie="_filterTitle_ajcd3_799",bie="_filterChips_ajcd3_807",yie="_filterChip_ajcd3_807",wie="_filterChipSelected_ajcd3_838",jie="_showMoreButton_ajcd3_846",Cie="_priceInputs_ajcd3_867",Sie="_priceInput_ajcd3_867",Nie="_priceRanges_ajcd3_902",kie="_priceRangeChip_ajcd3_912",Iie="_priceRangeChipSelected_ajcd3_934",Eie="_modalActions_ajcd3_941",Tie="_closeModalButton_ajcd3_950",Die="_errorContainer_ajcd3_972",Aie="_notFoundContainer_ajcd3_973",Mie="_errorIcon_ajcd3_983",Rie="_primaryButton_ajcd3_1010",rs={productsPage:Tre,fixedHeader:Dre,headerTop:Are,pageTitle:Mre,filterButton:Rre,filterBadge:Bre,headerActions:Ore,sortButton:Lre,content:$re,productsContent:Pre,subcategoriesSection:Fre,subcategoriesChips:Hre,subcategoryChip:qre,subcategoryChipActive:Vre,categoriesModalButton:zre,categoriesModalIcon:Ure,categoriesBottomModal:Wre,bottomModalHandle:Yre,bottomModalHeader:Gre,closeButton:Qre,bottomModalContent:Xre,categoriesModalList:Kre,categoriesModalItem:Zre,categoriesModalItemActive:Jre,noCategoriesText:eie,productGrid:tie,productCardWrapper:nie,noProducts:sie,noProductsIcon:aie,infiniteScrollTrigger:rie,loadingMore:iie,modalOverlay:oie,filtersModal:cie,sortModal:lie,sortOptions:uie,sortOption:die,sortOptionActive:hie,checkmark:fie,modalHeader:mie,cancelButton:pie,modalContent:gie,filterSection:_ie,filterCategoryHeader:vie,filterTitle:xie,filterChips:bie,filterChip:yie,filterChipSelected:wie,showMoreButton:jie,priceInputs:Cie,priceInput:Sie,priceRanges:Nie,priceRangeChip:kie,priceRangeChipSelected:Iie,modalActions:Eie,closeModalButton:Tie,errorContainer:Die,notFoundContainer:Aie,errorIcon:Mie,primaryButton:Rie},Bie=()=>{var Y;const{data:e,filters:t,loading:n,filtersLoading:a,error:r,sortOption:i,priceMin:o,setPriceMin:c,priceMax:l,setPriceMax:d,tempFilters:f,showAllSubcategories:g,setShowAllSubcategories:b,handleAttributeSelect:w,isAttributeSelected:C,applyFilters:S,handleSortChange:k,resetFilters:E,resetFilterCategory:D,allProducts:R,hasMore:P,loadingMore:B,loadMoreProducts:O,navigate:$,location:U}=CB(),[F,H]=_.useState(!1),[se,K]=_.useState(!1),[te,J]=_.useState(!1),z=_.useRef(null),V=[{label:" 5 000 ",min:"",max:"5000"},{label:"5 000 - 15 000 ",min:"5000",max:"15000"},{label:"15 000 - 60 000 ",min:"15000",max:"60000"},{label:"60 000 - 120 000 ",min:"60000",max:"120000"},{label:"120 000   ",min:"120000",max:""}],M=(ae,ne)=>{c(ae),d(ne)},ee=(ae,ne)=>o===ae&&l===ne,Z=()=>{const ae=!F;ae&&se&&K(!1),H(ae)},A=()=>{const ae=!se;ae&&F&&H(!1),K(ae)},G=[{value:"-created_at",label:" "},{value:"price",label:"  "},{value:"-price",label:"  "},{value:"name",label:"  (-)"},{value:"-name",label:"  (-)"}],Q=ae=>{k({target:{value:ae}}),K(!1)};return _.useEffect(()=>{const ae=new IntersectionObserver(re=>{re[0].isIntersecting&&P&&!B&&!n&&O()},{threshold:.1}),ne=z.current;return ne&&ae.observe(ne),()=>{ne&&ae.unobserve(ne)}},[P,B,n,O]),n?s.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh"},children:s.jsx(Fn,{size:"large"})}):r?s.jsxs("div",{className:rs.errorContainer,children:[s.jsx("div",{className:rs.errorIcon,children:"!"}),s.jsx("h3",{children:" "}),s.jsx("p",{children:r}),s.jsx("button",{className:rs.primaryButton,onClick:()=>window.location.reload(),children:" "})]}):e?!e.products||!e.category?s.jsxs("div",{className:rs.notFoundContainer,children:[s.jsx("h3",{children:"  "}),s.jsx("button",{className:rs.primaryButton,onClick:()=>window.location.reload(),children:" "})]}):s.jsxs("div",{className:rs.productsPage,children:[s.jsxs("div",{className:rs.fixedHeader,children:[s.jsx("div",{className:rs.headerTop,children:s.jsx("h1",{className:rs.pageTitle,children:e.category.name})}),s.jsxs("div",{className:rs.headerActions,children:[s.jsxs("button",{className:rs.filterButton,onClick:Z,"aria-label":"",children:[s.jsx(tf,{}),Object.keys(f).length>0&&s.jsx("span",{className:rs.filterBadge,children:Object.keys(f).length})]}),s.jsx("button",{className:rs.sortButton,onClick:A,"aria-label":"",children:((Y=G.find(ae=>ae.value===i))==null?void 0:Y.label)||""})]})]}),s.jsx("div",{className:rs.content}),e.subcategories&&e.subcategories.length>0&&s.jsx("div",{className:rs.subcategoriesSection,children:s.jsxs("div",{className:rs.subcategoriesChips,children:[s.jsx("button",{className:rs.categoriesModalButton,onClick:()=>J(!0),"aria-label":" ",children:s.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:rs.categoriesModalIcon,children:[s.jsx("line",{x1:"3",y1:"6",x2:"21",y2:"6"}),s.jsx("line",{x1:"3",y1:"12",x2:"21",y2:"12"}),s.jsx("line",{x1:"3",y1:"18",x2:"21",y2:"18"})]})}),e.subcategories.map(ae=>s.jsx("button",{className:`${rs.subcategoryChip} ${U.pathname.includes(`/categories/${ae.id}`)?rs.subcategoryChipActive:""}`,onClick:()=>{$(`/marketplace/categories/${ae.id}/products/`)},children:ae.name},ae.id))]})}),s.jsx("div",{className:rs.productsContent,children:R.length>0?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:rs.productGrid,children:R.map((ae,ne)=>s.jsx("div",{className:rs.productCardWrapper,style:{animationDelay:`${ne*.05}s`},children:s.jsx(lp,{product:ae})},`${ae.id}-${ne}`))}),s.jsx("div",{ref:z,className:rs.infiniteScrollTrigger,children:B&&s.jsxs("div",{className:rs.loadingMore,children:[s.jsx(Fn,{size:"small"}),s.jsx("p",{children:" ..."})]})})]}):s.jsxs("div",{className:rs.noProducts,children:[s.jsx("div",{className:rs.noProductsIcon,children:""}),s.jsx("h3",{children:"  "}),s.jsx("p",{children:"   "}),s.jsx("button",{className:rs.primaryButton,onClick:E,children:" "})]})}),F&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:rs.modalOverlay,onClick:Z}),s.jsxs("div",{className:rs.filtersModal,onClick:ae=>ae.stopPropagation(),children:[s.jsxs("div",{className:rs.modalHeader,children:[s.jsx("h2",{children:""}),s.jsx("button",{className:rs.cancelButton,onClick:Z,"aria-label":"",children:""})]}),s.jsxs("div",{className:rs.modalContent,children:[e.subcategories&&e.subcategories.length>0&&s.jsxs("div",{className:rs.filterSection,children:[s.jsx("div",{className:rs.filterCategoryHeader,children:s.jsx("h4",{className:rs.filterTitle,children:""})}),s.jsx("div",{className:rs.filterChips,children:(g?e.subcategories:e.subcategories.slice(0,5)).map(ae=>s.jsx("button",{className:`${rs.filterChip} ${U.pathname.includes(`/categories/${ae.id}`)?rs.filterChipSelected:""}`,onClick:()=>{$(`/marketplace/categories/${ae.id}/products/`),H(!1)},children:ae.name},ae.id))}),e.subcategories.length>5&&s.jsx("button",{className:rs.showMoreButton,onClick:()=>b(!g),children:g?"":`  (${e.subcategories.length})`})]}),s.jsxs("div",{className:rs.filterSection,children:[s.jsx("div",{className:rs.filterCategoryHeader,children:s.jsx("h4",{className:rs.filterTitle,children:""})}),s.jsxs("div",{className:rs.priceInputs,children:[s.jsx("input",{type:"number",placeholder:"",className:rs.priceInput,value:o,onChange:ae=>c(ae.target.value),min:"0"}),s.jsx("input",{type:"number",placeholder:"",className:rs.priceInput,value:l,onChange:ae=>d(ae.target.value),min:"0"})]}),s.jsx("div",{className:rs.priceRanges,children:V.map((ae,ne)=>s.jsx("button",{className:`${rs.priceRangeChip} ${ee(ae.min,ae.max)?rs.priceRangeChipSelected:""}`,onClick:()=>M(ae.min,ae.max),children:ae.label},ne))})]}),s.jsx(Ere,{filtersLoading:a,filters:t,isAttributeSelected:C,handleAttributeSelect:w,tempFilters:f,resetFilterCategory:D})]}),s.jsx("div",{className:rs.modalActions,children:s.jsx("button",{className:rs.closeModalButton,onClick:()=>{S(),H(!1)},children:""})})]})]}),se&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:rs.modalOverlay,onClick:A}),s.jsxs("div",{className:rs.sortModal,onClick:ae=>ae.stopPropagation(),children:[s.jsxs("div",{className:rs.modalHeader,children:[s.jsx("h2",{children:""}),s.jsx("button",{className:rs.cancelButton,onClick:A,"aria-label":"",children:""})]}),s.jsx("div",{className:rs.sortOptions,children:G.map(ae=>s.jsxs("button",{className:`${rs.sortOption} ${i===ae.value?rs.sortOptionActive:""}`,onClick:()=>Q(ae.value),children:[ae.label,i===ae.value&&s.jsx("span",{className:rs.checkmark,children:s.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:s.jsx("path",{d:"M20 6L9 17L4 12",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round"})})})]},ae.value))})]})]}),te&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:rs.modalOverlay,onClick:()=>J(!1)}),s.jsxs("div",{className:rs.categoriesBottomModal,onClick:ae=>ae.stopPropagation(),children:[s.jsx("div",{className:rs.bottomModalHandle}),s.jsxs("div",{className:rs.bottomModalHeader,children:[s.jsx("h2",{children:""}),s.jsx("button",{className:rs.closeButton,onClick:()=>J(!1),"aria-label":"",children:s.jsx(da,{})})]}),s.jsx("div",{className:rs.bottomModalContent,children:e.subcategories&&e.subcategories.length>0?s.jsx("div",{className:rs.categoriesModalList,children:e.subcategories.map(ae=>s.jsxs("button",{className:`${rs.categoriesModalItem} ${U.pathname.includes(`/categories/${ae.id}`)?rs.categoriesModalItemActive:""}`,onClick:()=>{$(`/marketplace/categories/${ae.id}/products/`),J(!1)},children:[s.jsx("span",{children:ae.name}),U.pathname.includes(`/categories/${ae.id}`)&&s.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:s.jsx("path",{d:"M20 6L9 17L4 12",strokeLinecap:"round",strokeLinejoin:"round"})})]},ae.id))}):s.jsx("p",{className:rs.noCategoriesText,children:" "})})]})]})]}):s.jsxs("div",{className:rs.notFoundContainer,children:[s.jsx("h3",{children:"  "}),s.jsx("button",{className:rs.primaryButton,onClick:()=>$("/marketplace"),children:"  "})]})};function SB(e){return Zt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"},child:[]},{tag:"path",attr:{d:"M13.73 21a2 2 0 0 1-3.46 0"},child:[]}]})(e)}function NB(e){return Zt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"2",y:"7",width:"20",height:"14",rx:"2",ry:"2"},child:[]},{tag:"path",attr:{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16"},child:[]}]})(e)}function Hx(e){return Zt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"},child:[]},{tag:"line",attr:{x1:"16",y1:"2",x2:"16",y2:"6"},child:[]},{tag:"line",attr:{x1:"8",y1:"2",x2:"8",y2:"6"},child:[]},{tag:"line",attr:{x1:"3",y1:"10",x2:"21",y2:"10"},child:[]}]})(e)}function qx(e){return Zt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"9 18 15 12 9 6"},child:[]}]})(e)}function xS(e){return Zt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"2",y1:"12",x2:"22",y2:"12"},child:[]},{tag:"path",attr:{d:"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"},child:[]}]})(e)}function kB(e){return Zt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"},child:[]},{tag:"path",attr:{d:"M7 11V7a5 5 0 0 1 10 0v4"},child:[]}]})(e)}function IB(e){return Zt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"},child:[]},{tag:"polyline",attr:{points:"16 17 21 12 16 7"},child:[]},{tag:"line",attr:{x1:"21",y1:"12",x2:"9",y2:"12"},child:[]}]})(e)}function EB(e){return Zt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"},child:[]},{tag:"polyline",attr:{points:"22,6 12,13 2,6"},child:[]}]})(e)}function bS(e){return Zt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"10",r:"3"},child:[]}]})(e)}function TB(e){return Zt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"},child:[]}]})(e)}function DB(e){return Zt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"},child:[]}]})(e)}function AB(e){return Zt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]},{tag:"path",attr:{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"},child:[]}]})(e)}function MB(e){return Zt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"},child:[]}]})(e)}function Oie(e){return Zt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"9",cy:"21",r:"1"},child:[]},{tag:"circle",attr:{cx:"20",cy:"21",r:"1"},child:[]},{tag:"path",attr:{d:"M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"},child:[]}]})(e)}function Vx(e){return Zt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"12",cy:"7",r:"4"},child:[]}]})(e)}var uj={},dj={},g1={},hj={},SE;function Lie(){return SE||(SE=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t={animating:!1,autoplaying:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,dragging:!1,edgeDragged:!1,initialized:!1,lazyLoadedList:[],listHeight:null,listWidth:null,scrolling:!1,slideCount:null,slideHeight:null,slideWidth:null,swipeLeft:null,swiped:!1,swiping:!1,touchObject:{startX:0,startY:0,curX:0,curY:0},trackStyle:{},trackWidth:0,targetSlide:0};e.default=t}(hj)),hj}var fj,NE;function $ie(){if(NE)return fj;NE=1;var e="Expected a function",t=NaN,n="[object Symbol]",a=/^\s+|\s+$/g,r=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,o=/^0o[0-7]+$/i,c=parseInt,l=typeof _d=="object"&&_d&&_d.Object===Object&&_d,d=typeof self=="object"&&self&&self.Object===Object&&self,f=l||d||Function("return this")(),g=Object.prototype,b=g.toString,w=Math.max,C=Math.min,S=function(){return f.Date.now()};function k(B,O,$){var U,F,H,se,K,te,J=0,z=!1,V=!1,M=!0;if(typeof B!="function")throw new TypeError(e);O=P(O)||0,E($)&&(z=!!$.leading,V="maxWait"in $,H=V?w(P($.maxWait)||0,O):H,M="trailing"in $?!!$.trailing:M);function ee(oe){var me=U,Ce=F;return U=F=void 0,J=oe,se=B.apply(Ce,me),se}function Z(oe){return J=oe,K=setTimeout(Q,O),z?ee(oe):se}function A(oe){var me=oe-te,Ce=oe-J,Ne=O-me;return V?C(Ne,H-Ce):Ne}function G(oe){var me=oe-te,Ce=oe-J;return te===void 0||me>=O||me<0||V&&Ce>=H}function Q(){var oe=S();if(G(oe))return Y(oe);K=setTimeout(Q,A(oe))}function Y(oe){return K=void 0,M&&U?ee(oe):(U=F=void 0,se)}function ae(){K!==void 0&&clearTimeout(K),J=0,U=te=F=K=void 0}function ne(){return K===void 0?se:Y(S())}function re(){var oe=S(),me=G(oe);if(U=arguments,F=this,te=oe,me){if(K===void 0)return Z(te);if(V)return K=setTimeout(Q,O),ee(te)}return K===void 0&&(K=setTimeout(Q,O)),se}return re.cancel=ae,re.flush=ne,re}function E(B){var O=typeof B;return!!B&&(O=="object"||O=="function")}function D(B){return!!B&&typeof B=="object"}function R(B){return typeof B=="symbol"||D(B)&&b.call(B)==n}function P(B){if(typeof B=="number")return B;if(R(B))return t;if(E(B)){var O=typeof B.valueOf=="function"?B.valueOf():B;B=E(O)?O+"":O}if(typeof B!="string")return B===0?B:+B;B=B.replace(a,"");var $=i.test(B);return $||o.test(B)?c(B.slice(2),$?2:8):r.test(B)?t:+B}return fj=k,fj}var mj={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var kE;function b0(){return kE||(kE=1,function(e){(function(){var t={}.hasOwnProperty;function n(){for(var i="",o=0;o<arguments.length;o++){var c=arguments[o];c&&(i=r(i,a(c)))}return i}function a(i){if(typeof i=="string"||typeof i=="number")return i;if(typeof i!="object")return"";if(Array.isArray(i))return n.apply(null,i);if(i.toString!==Object.prototype.toString&&!i.toString.toString().includes("[native code]"))return i.toString();var o="";for(var c in i)t.call(i,c)&&i[c]&&(o=r(o,c));return o}function r(i,o){return o?i?i+" "+o:i+o:i}e.exports?(n.default=n,e.exports=n):window.classNames=n})()}(mj)),mj.exports}var ts={},pj={},IE;function RB(){return IE||(IE=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=n(ol());function n(r){return r&&r.__esModule?r:{default:r}}var a={accessibility:!0,adaptiveHeight:!1,afterChange:null,appendDots:function(i){return t.default.createElement("ul",{style:{display:"block"}},i)},arrows:!0,autoplay:!1,autoplaySpeed:3e3,beforeChange:null,centerMode:!1,centerPadding:"50px",className:"",cssEase:"ease",customPaging:function(i){return t.default.createElement("button",null,i+1)},dots:!1,dotsClass:"slick-dots",draggable:!0,easing:"linear",edgeFriction:.35,fade:!1,focusOnSelect:!1,infinite:!0,initialSlide:0,lazyLoad:null,nextArrow:null,onEdge:null,onInit:null,onLazyLoadError:null,onReInit:null,pauseOnDotsHover:!1,pauseOnFocus:!1,pauseOnHover:!0,prevArrow:null,responsive:null,rows:1,rtl:!1,slide:"div",slidesPerRow:1,slidesToScroll:1,slidesToShow:1,speed:500,swipe:!0,swipeEvent:null,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,useTransform:!0,variableWidth:!1,vertical:!1,waitForAnimate:!0,asNavFor:null,unslick:!1};e.default=a}(pj)),pj}var EE;function y0(){if(EE)return ts;EE=1,Object.defineProperty(ts,"__esModule",{value:!0}),ts.checkSpecKeys=ts.checkNavigable=ts.changeSlide=ts.canUseDOM=ts.canGoNext=void 0,ts.clamp=d,ts.extractObject=void 0,ts.filterSettings=ee,ts.validSettings=ts.swipeStart=ts.swipeMove=ts.swipeEnd=ts.slidesOnRight=ts.slidesOnLeft=ts.slideHandler=ts.siblingDirection=ts.safePreventDefault=ts.lazyStartIndex=ts.lazySlidesOnRight=ts.lazySlidesOnLeft=ts.lazyEndIndex=ts.keyHandler=ts.initializedState=ts.getWidth=ts.getTrackLeft=ts.getTrackCSS=ts.getTrackAnimateCSS=ts.getTotalSlides=ts.getSwipeDirection=ts.getSlideCount=ts.getRequiredLazySlides=ts.getPreClones=ts.getPostClones=ts.getOnDemandLazySlides=ts.getNavigableIndexes=ts.getHeight=void 0;var e=n(ol()),t=n(RB());function n(Z){return Z&&Z.__esModule?Z:{default:Z}}function a(Z){"@babel/helpers - typeof";return a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(A){return typeof A}:function(A){return A&&typeof Symbol=="function"&&A.constructor===Symbol&&A!==Symbol.prototype?"symbol":typeof A},a(Z)}function r(Z,A){var G=Object.keys(Z);if(Object.getOwnPropertySymbols){var Q=Object.getOwnPropertySymbols(Z);A&&(Q=Q.filter(function(Y){return Object.getOwnPropertyDescriptor(Z,Y).enumerable})),G.push.apply(G,Q)}return G}function i(Z){for(var A=1;A<arguments.length;A++){var G=arguments[A]!=null?arguments[A]:{};A%2?r(Object(G),!0).forEach(function(Q){o(Z,Q,G[Q])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Z,Object.getOwnPropertyDescriptors(G)):r(Object(G)).forEach(function(Q){Object.defineProperty(Z,Q,Object.getOwnPropertyDescriptor(G,Q))})}return Z}function o(Z,A,G){return A=c(A),A in Z?Object.defineProperty(Z,A,{value:G,enumerable:!0,configurable:!0,writable:!0}):Z[A]=G,Z}function c(Z){var A=l(Z,"string");return a(A)=="symbol"?A:String(A)}function l(Z,A){if(a(Z)!="object"||!Z)return Z;var G=Z[Symbol.toPrimitive];if(G!==void 0){var Q=G.call(Z,A);if(a(Q)!="object")return Q;throw new TypeError("@@toPrimitive must return a primitive value.")}return(A==="string"?String:Number)(Z)}function d(Z,A,G){return Math.max(A,Math.min(Z,G))}var f=ts.safePreventDefault=function(A){var G=["onTouchStart","onTouchMove","onWheel"];G.includes(A._reactName)||A.preventDefault()},g=ts.getOnDemandLazySlides=function(A){for(var G=[],Q=b(A),Y=w(A),ae=Q;ae<Y;ae++)A.lazyLoadedList.indexOf(ae)<0&&G.push(ae);return G};ts.getRequiredLazySlides=function(A){for(var G=[],Q=b(A),Y=w(A),ae=Q;ae<Y;ae++)G.push(ae);return G};var b=ts.lazyStartIndex=function(A){return A.currentSlide-C(A)},w=ts.lazyEndIndex=function(A){return A.currentSlide+S(A)},C=ts.lazySlidesOnLeft=function(A){return A.centerMode?Math.floor(A.slidesToShow/2)+(parseInt(A.centerPadding)>0?1:0):0},S=ts.lazySlidesOnRight=function(A){return A.centerMode?Math.floor((A.slidesToShow-1)/2)+1+(parseInt(A.centerPadding)>0?1:0):A.slidesToShow},k=ts.getWidth=function(A){return A&&A.offsetWidth||0},E=ts.getHeight=function(A){return A&&A.offsetHeight||0},D=ts.getSwipeDirection=function(A){var G=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,Q,Y,ae,ne;return Q=A.startX-A.curX,Y=A.startY-A.curY,ae=Math.atan2(Y,Q),ne=Math.round(ae*180/Math.PI),ne<0&&(ne=360-Math.abs(ne)),ne<=45&&ne>=0||ne<=360&&ne>=315?"left":ne>=135&&ne<=225?"right":G===!0?ne>=35&&ne<=135?"up":"down":"vertical"},R=ts.canGoNext=function(A){var G=!0;return A.infinite||(A.centerMode&&A.currentSlide>=A.slideCount-1||A.slideCount<=A.slidesToShow||A.currentSlide>=A.slideCount-A.slidesToShow)&&(G=!1),G};ts.extractObject=function(A,G){var Q={};return G.forEach(function(Y){return Q[Y]=A[Y]}),Q},ts.initializedState=function(A){var G=e.default.Children.count(A.children),Q=A.listRef,Y=Math.ceil(k(Q)),ae=A.trackRef&&A.trackRef.node,ne=Math.ceil(k(ae)),re;if(A.vertical)re=Y;else{var oe=A.centerMode&&parseInt(A.centerPadding)*2;typeof A.centerPadding=="string"&&A.centerPadding.slice(-1)==="%"&&(oe*=Y/100),re=Math.ceil((Y-oe)/A.slidesToShow)}var me=Q&&E(Q.querySelector('[data-index="0"]')),Ce=me*A.slidesToShow,Ne=A.currentSlide===void 0?A.initialSlide:A.currentSlide;A.rtl&&A.currentSlide===void 0&&(Ne=G-1-A.initialSlide);var Ee=A.lazyLoadedList||[],ve=g(i(i({},A),{},{currentSlide:Ne,lazyLoadedList:Ee}));Ee=Ee.concat(ve);var Se={slideCount:G,slideWidth:re,listWidth:Y,trackWidth:ne,currentSlide:Ne,slideHeight:me,listHeight:Ce,lazyLoadedList:Ee};return A.autoplaying===null&&A.autoplay&&(Se.autoplaying="playing"),Se},ts.slideHandler=function(A){var G=A.waitForAnimate,Q=A.animating,Y=A.fade,ae=A.infinite,ne=A.index,re=A.slideCount,oe=A.lazyLoad,me=A.currentSlide,Ce=A.centerMode,Ne=A.slidesToScroll,Ee=A.slidesToShow,ve=A.useCSS,Se=A.lazyLoadedList;if(G&&Q)return{};var fe=ne,de,pe,ce,Re={},Ae={},ie=ae?ne:d(ne,0,re-1);if(Y){if(!ae&&(ne<0||ne>=re))return{};ne<0?fe=ne+re:ne>=re&&(fe=ne-re),oe&&Se.indexOf(fe)<0&&(Se=Se.concat(fe)),Re={animating:!0,currentSlide:fe,lazyLoadedList:Se,targetSlide:fe},Ae={animating:!1,targetSlide:fe}}else de=fe,fe<0?(de=fe+re,ae?re%Ne!==0&&(de=re-re%Ne):de=0):!R(A)&&fe>me?fe=de=me:Ce&&fe>=re?(fe=ae?re:re-1,de=ae?0:re-1):fe>=re&&(de=fe-re,ae?re%Ne!==0&&(de=0):de=re-Ee),!ae&&fe+Ee>=re&&(de=re-Ee),pe=H(i(i({},A),{},{slideIndex:fe})),ce=H(i(i({},A),{},{slideIndex:de})),ae||(pe===ce&&(fe=de),pe=ce),oe&&(Se=Se.concat(g(i(i({},A),{},{currentSlide:fe})))),ve?(Re={animating:!0,currentSlide:de,trackStyle:F(i(i({},A),{},{left:pe})),lazyLoadedList:Se,targetSlide:ie},Ae={animating:!1,currentSlide:de,trackStyle:U(i(i({},A),{},{left:ce})),swipeLeft:null,targetSlide:ie}):Re={currentSlide:de,trackStyle:U(i(i({},A),{},{left:ce})),lazyLoadedList:Se,targetSlide:ie};return{state:Re,nextState:Ae}},ts.changeSlide=function(A,G){var Q,Y,ae,ne,re,oe=A.slidesToScroll,me=A.slidesToShow,Ce=A.slideCount,Ne=A.currentSlide,Ee=A.targetSlide,ve=A.lazyLoad,Se=A.infinite;if(ne=Ce%oe!==0,Q=ne?0:(Ce-Ne)%oe,G.message==="previous")ae=Q===0?oe:me-Q,re=Ne-ae,ve&&!Se&&(Y=Ne-ae,re=Y===-1?Ce-1:Y),Se||(re=Ee-oe);else if(G.message==="next")ae=Q===0?oe:Q,re=Ne+ae,ve&&!Se&&(re=(Ne+oe)%Ce+Q),Se||(re=Ee+oe);else if(G.message==="dots")re=G.index*G.slidesToScroll;else if(G.message==="children"){if(re=G.index,Se){var fe=J(i(i({},A),{},{targetSlide:re}));re>G.currentSlide&&fe==="left"?re=re-Ce:re<G.currentSlide&&fe==="right"&&(re=re+Ce)}}else G.message==="index"&&(re=Number(G.index));return re},ts.keyHandler=function(A,G,Q){return A.target.tagName.match("TEXTAREA|INPUT|SELECT")||!G?"":A.keyCode===37?Q?"next":"previous":A.keyCode===39?Q?"previous":"next":""},ts.swipeStart=function(A,G,Q){return A.target.tagName==="IMG"&&f(A),!G||!Q&&A.type.indexOf("mouse")!==-1?"":{dragging:!0,touchObject:{startX:A.touches?A.touches[0].pageX:A.clientX,startY:A.touches?A.touches[0].pageY:A.clientY,curX:A.touches?A.touches[0].pageX:A.clientX,curY:A.touches?A.touches[0].pageY:A.clientY}}},ts.swipeMove=function(A,G){var Q=G.scrolling,Y=G.animating,ae=G.vertical,ne=G.swipeToSlide,re=G.verticalSwiping,oe=G.rtl,me=G.currentSlide,Ce=G.edgeFriction,Ne=G.edgeDragged,Ee=G.onEdge,ve=G.swiped,Se=G.swiping,fe=G.slideCount,de=G.slidesToScroll,pe=G.infinite,ce=G.touchObject,Re=G.swipeEvent,Ae=G.listHeight,ie=G.listWidth;if(!Q){if(Y)return f(A);ae&&ne&&re&&f(A);var ge,be={},Fe=H(G);ce.curX=A.touches?A.touches[0].pageX:A.clientX,ce.curY=A.touches?A.touches[0].pageY:A.clientY,ce.swipeLength=Math.round(Math.sqrt(Math.pow(ce.curX-ce.startX,2)));var je=Math.round(Math.sqrt(Math.pow(ce.curY-ce.startY,2)));if(!re&&!Se&&je>10)return{scrolling:!0};re&&(ce.swipeLength=je);var qe=(oe?-1:1)*(ce.curX>ce.startX?1:-1);re&&(qe=ce.curY>ce.startY?1:-1);var tt=Math.ceil(fe/de),he=D(G.touchObject,re),Ze=ce.swipeLength;return pe||(me===0&&(he==="right"||he==="down")||me+1>=tt&&(he==="left"||he==="up")||!R(G)&&(he==="left"||he==="up"))&&(Ze=ce.swipeLength*Ce,Ne===!1&&Ee&&(Ee(he),be.edgeDragged=!0)),!ve&&Re&&(Re(he),be.swiped=!0),ae?ge=Fe+Ze*(Ae/ie)*qe:oe?ge=Fe-Ze*qe:ge=Fe+Ze*qe,re&&(ge=Fe+Ze*qe),be=i(i({},be),{},{touchObject:ce,swipeLeft:ge,trackStyle:U(i(i({},G),{},{left:ge}))}),Math.abs(ce.curX-ce.startX)<Math.abs(ce.curY-ce.startY)*.8||ce.swipeLength>10&&(be.swiping=!0,f(A)),be}},ts.swipeEnd=function(A,G){var Q=G.dragging,Y=G.swipe,ae=G.touchObject,ne=G.listWidth,re=G.touchThreshold,oe=G.verticalSwiping,me=G.listHeight,Ce=G.swipeToSlide,Ne=G.scrolling,Ee=G.onSwipe,ve=G.targetSlide,Se=G.currentSlide,fe=G.infinite;if(!Q)return Y&&f(A),{};var de=oe?me/re:ne/re,pe=D(ae,oe),ce={dragging:!1,edgeDragged:!1,scrolling:!1,swiping:!1,swiped:!1,swipeLeft:null,touchObject:{}};if(Ne||!ae.swipeLength)return ce;if(ae.swipeLength>de){f(A),Ee&&Ee(pe);var Re,Ae,ie=fe?Se:ve;switch(pe){case"left":case"up":Ae=ie+O(G),Re=Ce?B(G,Ae):Ae,ce.currentDirection=0;break;case"right":case"down":Ae=ie-O(G),Re=Ce?B(G,Ae):Ae,ce.currentDirection=1;break;default:Re=ie}ce.triggerSlideHandler=Re}else{var ge=H(G);ce.trackStyle=F(i(i({},G),{},{left:ge}))}return ce};var P=ts.getNavigableIndexes=function(A){for(var G=A.infinite?A.slideCount*2:A.slideCount,Q=A.infinite?A.slidesToShow*-1:0,Y=A.infinite?A.slidesToShow*-1:0,ae=[];Q<G;)ae.push(Q),Q=Y+A.slidesToScroll,Y+=Math.min(A.slidesToScroll,A.slidesToShow);return ae},B=ts.checkNavigable=function(A,G){var Q=P(A),Y=0;if(G>Q[Q.length-1])G=Q[Q.length-1];else for(var ae in Q){if(G<Q[ae]){G=Y;break}Y=Q[ae]}return G},O=ts.getSlideCount=function(A){var G=A.centerMode?A.slideWidth*Math.floor(A.slidesToShow/2):0;if(A.swipeToSlide){var Q,Y=A.listRef,ae=Y.querySelectorAll&&Y.querySelectorAll(".slick-slide")||[];if(Array.from(ae).every(function(oe){if(A.vertical){if(oe.offsetTop+E(oe)/2>A.swipeLeft*-1)return Q=oe,!1}else if(oe.offsetLeft-G+k(oe)/2>A.swipeLeft*-1)return Q=oe,!1;return!0}),!Q)return 0;var ne=A.rtl===!0?A.slideCount-A.currentSlide:A.currentSlide,re=Math.abs(Q.dataset.index-ne)||1;return re}else return A.slidesToScroll},$=ts.checkSpecKeys=function(A,G){return G.reduce(function(Q,Y){return Q&&A.hasOwnProperty(Y)},!0)?null:console.error("Keys Missing:",A)},U=ts.getTrackCSS=function(A){$(A,["left","variableWidth","slideCount","slidesToShow","slideWidth"]);var G,Q,Y=A.slideCount+2*A.slidesToShow;A.vertical?Q=Y*A.slideHeight:G=te(A)*A.slideWidth;var ae={opacity:1,transition:"",WebkitTransition:""};if(A.useTransform){var ne=A.vertical?"translate3d(0px, "+A.left+"px, 0px)":"translate3d("+A.left+"px, 0px, 0px)",re=A.vertical?"translate3d(0px, "+A.left+"px, 0px)":"translate3d("+A.left+"px, 0px, 0px)",oe=A.vertical?"translateY("+A.left+"px)":"translateX("+A.left+"px)";ae=i(i({},ae),{},{WebkitTransform:ne,transform:re,msTransform:oe})}else A.vertical?ae.top=A.left:ae.left=A.left;return A.fade&&(ae={opacity:1}),G&&(ae.width=G),Q&&(ae.height=Q),window&&!window.addEventListener&&window.attachEvent&&(A.vertical?ae.marginTop=A.left+"px":ae.marginLeft=A.left+"px"),ae},F=ts.getTrackAnimateCSS=function(A){$(A,["left","variableWidth","slideCount","slidesToShow","slideWidth","speed","cssEase"]);var G=U(A);return A.useTransform?(G.WebkitTransition="-webkit-transform "+A.speed+"ms "+A.cssEase,G.transition="transform "+A.speed+"ms "+A.cssEase):A.vertical?G.transition="top "+A.speed+"ms "+A.cssEase:G.transition="left "+A.speed+"ms "+A.cssEase,G},H=ts.getTrackLeft=function(A){if(A.unslick)return 0;$(A,["slideIndex","trackRef","infinite","centerMode","slideCount","slidesToShow","slidesToScroll","slideWidth","listWidth","variableWidth","slideHeight"]);var G=A.slideIndex,Q=A.trackRef,Y=A.infinite,ae=A.centerMode,ne=A.slideCount,re=A.slidesToShow,oe=A.slidesToScroll,me=A.slideWidth,Ce=A.listWidth,Ne=A.variableWidth,Ee=A.slideHeight,ve=A.fade,Se=A.vertical,fe=0,de,pe,ce=0;if(ve||A.slideCount===1)return 0;var Re=0;if(Y?(Re=-se(A),ne%oe!==0&&G+oe>ne&&(Re=-(G>ne?re-(G-ne):ne%oe)),ae&&(Re+=parseInt(re/2))):(ne%oe!==0&&G+oe>ne&&(Re=re-ne%oe),ae&&(Re=parseInt(re/2))),fe=Re*me,ce=Re*Ee,Se?de=G*Ee*-1+ce:de=G*me*-1+fe,Ne===!0){var Ae,ie=Q&&Q.node;if(Ae=G+se(A),pe=ie&&ie.childNodes[Ae],de=pe?pe.offsetLeft*-1:0,ae===!0){Ae=Y?G+se(A):G,pe=ie&&ie.children[Ae],de=0;for(var ge=0;ge<Ae;ge++)de-=ie&&ie.children[ge]&&ie.children[ge].offsetWidth;de-=parseInt(A.centerPadding),de+=pe&&(Ce-pe.offsetWidth)/2}}return de},se=ts.getPreClones=function(A){return A.unslick||!A.infinite?0:A.variableWidth?A.slideCount:A.slidesToShow+(A.centerMode?1:0)},K=ts.getPostClones=function(A){return A.unslick||!A.infinite?0:A.slideCount},te=ts.getTotalSlides=function(A){return A.slideCount===1?1:se(A)+A.slideCount+K(A)},J=ts.siblingDirection=function(A){return A.targetSlide>A.currentSlide?A.targetSlide>A.currentSlide+z(A)?"left":"right":A.targetSlide<A.currentSlide-V(A)?"right":"left"},z=ts.slidesOnRight=function(A){var G=A.slidesToShow,Q=A.centerMode,Y=A.rtl,ae=A.centerPadding;if(Q){var ne=(G-1)/2+1;return parseInt(ae)>0&&(ne+=1),Y&&G%2===0&&(ne+=1),ne}return Y?0:G-1},V=ts.slidesOnLeft=function(A){var G=A.slidesToShow,Q=A.centerMode,Y=A.rtl,ae=A.centerPadding;if(Q){var ne=(G-1)/2+1;return parseInt(ae)>0&&(ne+=1),!Y&&G%2===0&&(ne+=1),ne}return Y?G-1:0};ts.canUseDOM=function(){return!!(typeof window<"u"&&window.document&&window.document.createElement)};var M=ts.validSettings=Object.keys(t.default);function ee(Z){return M.reduce(function(A,G){return Z.hasOwnProperty(G)&&(A[G]=Z[G]),A},{})}return ts}var _1={},TE;function Pie(){if(TE)return _1;TE=1,Object.defineProperty(_1,"__esModule",{value:!0}),_1.Track=void 0;var e=a(ol()),t=a(b0()),n=y0();function a(F){return F&&F.__esModule?F:{default:F}}function r(F){"@babel/helpers - typeof";return r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(H){return typeof H}:function(H){return H&&typeof Symbol=="function"&&H.constructor===Symbol&&H!==Symbol.prototype?"symbol":typeof H},r(F)}function i(){return i=Object.assign?Object.assign.bind():function(F){for(var H=1;H<arguments.length;H++){var se=arguments[H];for(var K in se)Object.prototype.hasOwnProperty.call(se,K)&&(F[K]=se[K])}return F},i.apply(this,arguments)}function o(F,H){if(!(F instanceof H))throw new TypeError("Cannot call a class as a function")}function c(F,H){for(var se=0;se<H.length;se++){var K=H[se];K.enumerable=K.enumerable||!1,K.configurable=!0,"value"in K&&(K.writable=!0),Object.defineProperty(F,R(K.key),K)}}function l(F,H,se){return H&&c(F.prototype,H),Object.defineProperty(F,"prototype",{writable:!1}),F}function d(F,H){if(typeof H!="function"&&H!==null)throw new TypeError("Super expression must either be null or a function");F.prototype=Object.create(H&&H.prototype,{constructor:{value:F,writable:!0,configurable:!0}}),Object.defineProperty(F,"prototype",{writable:!1}),H&&f(F,H)}function f(F,H){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(K,te){return K.__proto__=te,K},f(F,H)}function g(F){var H=C();return function(){var K=S(F),te;if(H){var J=S(this).constructor;te=Reflect.construct(K,arguments,J)}else te=K.apply(this,arguments);return b(this,te)}}function b(F,H){if(H&&(r(H)==="object"||typeof H=="function"))return H;if(H!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return w(F)}function w(F){if(F===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return F}function C(){try{var F=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(C=function(){return!!F})()}function S(F){return S=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(se){return se.__proto__||Object.getPrototypeOf(se)},S(F)}function k(F,H){var se=Object.keys(F);if(Object.getOwnPropertySymbols){var K=Object.getOwnPropertySymbols(F);H&&(K=K.filter(function(te){return Object.getOwnPropertyDescriptor(F,te).enumerable})),se.push.apply(se,K)}return se}function E(F){for(var H=1;H<arguments.length;H++){var se=arguments[H]!=null?arguments[H]:{};H%2?k(Object(se),!0).forEach(function(K){D(F,K,se[K])}):Object.getOwnPropertyDescriptors?Object.defineProperties(F,Object.getOwnPropertyDescriptors(se)):k(Object(se)).forEach(function(K){Object.defineProperty(F,K,Object.getOwnPropertyDescriptor(se,K))})}return F}function D(F,H,se){return H=R(H),H in F?Object.defineProperty(F,H,{value:se,enumerable:!0,configurable:!0,writable:!0}):F[H]=se,F}function R(F){var H=P(F,"string");return r(H)=="symbol"?H:String(H)}function P(F,H){if(r(F)!="object"||!F)return F;var se=F[Symbol.toPrimitive];if(se!==void 0){var K=se.call(F,H);if(r(K)!="object")return K;throw new TypeError("@@toPrimitive must return a primitive value.")}return(H==="string"?String:Number)(F)}var B=function(H){var se,K,te,J,z;H.rtl?z=H.slideCount-1-H.index:z=H.index,te=z<0||z>=H.slideCount,H.centerMode?(J=Math.floor(H.slidesToShow/2),K=(z-H.currentSlide)%H.slideCount===0,z>H.currentSlide-J-1&&z<=H.currentSlide+J&&(se=!0)):se=H.currentSlide<=z&&z<H.currentSlide+H.slidesToShow;var V;H.targetSlide<0?V=H.targetSlide+H.slideCount:H.targetSlide>=H.slideCount?V=H.targetSlide-H.slideCount:V=H.targetSlide;var M=z===V;return{"slick-slide":!0,"slick-active":se,"slick-center":K,"slick-cloned":te,"slick-current":M}},O=function(H){var se={};return(H.variableWidth===void 0||H.variableWidth===!1)&&(se.width=H.slideWidth),H.fade&&(se.position="relative",H.vertical?se.top=-H.index*parseInt(H.slideHeight):se.left=-H.index*parseInt(H.slideWidth),se.opacity=H.currentSlide===H.index?1:0,se.zIndex=H.currentSlide===H.index?999:998,H.useCSS&&(se.transition="opacity "+H.speed+"ms "+H.cssEase+", visibility "+H.speed+"ms "+H.cssEase)),se},$=function(H,se){return H.key||se},U=function(H){var se,K=[],te=[],J=[],z=e.default.Children.count(H.children),V=(0,n.lazyStartIndex)(H),M=(0,n.lazyEndIndex)(H);return e.default.Children.forEach(H.children,function(ee,Z){var A,G={message:"children",index:Z,slidesToScroll:H.slidesToScroll,currentSlide:H.currentSlide};!H.lazyLoad||H.lazyLoad&&H.lazyLoadedList.indexOf(Z)>=0?A=ee:A=e.default.createElement("div",null);var Q=O(E(E({},H),{},{index:Z})),Y=A.props.className||"",ae=B(E(E({},H),{},{index:Z}));if(K.push(e.default.cloneElement(A,{key:"original"+$(A,Z),"data-index":Z,className:(0,t.default)(ae,Y),tabIndex:"-1","aria-hidden":!ae["slick-active"],style:E(E({outline:"none"},A.props.style||{}),Q),onClick:function(oe){A.props&&A.props.onClick&&A.props.onClick(oe),H.focusOnSelect&&H.focusOnSelect(G)}})),H.infinite&&H.fade===!1){var ne=z-Z;ne<=(0,n.getPreClones)(H)&&(se=-ne,se>=V&&(A=ee),ae=B(E(E({},H),{},{index:se})),te.push(e.default.cloneElement(A,{key:"precloned"+$(A,se),"data-index":se,tabIndex:"-1",className:(0,t.default)(ae,Y),"aria-hidden":!ae["slick-active"],style:E(E({},A.props.style||{}),Q),onClick:function(oe){A.props&&A.props.onClick&&A.props.onClick(oe),H.focusOnSelect&&H.focusOnSelect(G)}}))),se=z+Z,se<M&&(A=ee),ae=B(E(E({},H),{},{index:se})),J.push(e.default.cloneElement(A,{key:"postcloned"+$(A,se),"data-index":se,tabIndex:"-1",className:(0,t.default)(ae,Y),"aria-hidden":!ae["slick-active"],style:E(E({},A.props.style||{}),Q),onClick:function(oe){A.props&&A.props.onClick&&A.props.onClick(oe),H.focusOnSelect&&H.focusOnSelect(G)}}))}}),H.rtl?te.concat(K,J).reverse():te.concat(K,J)};return _1.Track=function(F){d(se,F);var H=g(se);function se(){var K;o(this,se);for(var te=arguments.length,J=new Array(te),z=0;z<te;z++)J[z]=arguments[z];return K=H.call.apply(H,[this].concat(J)),D(w(K),"node",null),D(w(K),"handleRef",function(V){K.node=V}),K}return l(se,[{key:"render",value:function(){var te=U(this.props),J=this.props,z=J.onMouseEnter,V=J.onMouseOver,M=J.onMouseLeave,ee={onMouseEnter:z,onMouseOver:V,onMouseLeave:M};return e.default.createElement("div",i({ref:this.handleRef,className:"slick-track",style:this.props.trackStyle},ee),te)}}]),se}(e.default.PureComponent),_1}var v1={},DE;function Fie(){if(DE)return v1;DE=1;function e(B){"@babel/helpers - typeof";return e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(O){return typeof O}:function(O){return O&&typeof Symbol=="function"&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O},e(B)}Object.defineProperty(v1,"__esModule",{value:!0}),v1.Dots=void 0;var t=r(ol()),n=r(b0()),a=y0();function r(B){return B&&B.__esModule?B:{default:B}}function i(B,O){var $=Object.keys(B);if(Object.getOwnPropertySymbols){var U=Object.getOwnPropertySymbols(B);O&&(U=U.filter(function(F){return Object.getOwnPropertyDescriptor(B,F).enumerable})),$.push.apply($,U)}return $}function o(B){for(var O=1;O<arguments.length;O++){var $=arguments[O]!=null?arguments[O]:{};O%2?i(Object($),!0).forEach(function(U){c(B,U,$[U])}):Object.getOwnPropertyDescriptors?Object.defineProperties(B,Object.getOwnPropertyDescriptors($)):i(Object($)).forEach(function(U){Object.defineProperty(B,U,Object.getOwnPropertyDescriptor($,U))})}return B}function c(B,O,$){return O=g(O),O in B?Object.defineProperty(B,O,{value:$,enumerable:!0,configurable:!0,writable:!0}):B[O]=$,B}function l(B,O){if(!(B instanceof O))throw new TypeError("Cannot call a class as a function")}function d(B,O){for(var $=0;$<O.length;$++){var U=O[$];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty(B,g(U.key),U)}}function f(B,O,$){return O&&d(B.prototype,O),Object.defineProperty(B,"prototype",{writable:!1}),B}function g(B){var O=b(B,"string");return e(O)=="symbol"?O:String(O)}function b(B,O){if(e(B)!="object"||!B)return B;var $=B[Symbol.toPrimitive];if($!==void 0){var U=$.call(B,O);if(e(U)!="object")return U;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(B)}function w(B,O){if(typeof O!="function"&&O!==null)throw new TypeError("Super expression must either be null or a function");B.prototype=Object.create(O&&O.prototype,{constructor:{value:B,writable:!0,configurable:!0}}),Object.defineProperty(B,"prototype",{writable:!1}),O&&C(B,O)}function C(B,O){return C=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(U,F){return U.__proto__=F,U},C(B,O)}function S(B){var O=D();return function(){var U=R(B),F;if(O){var H=R(this).constructor;F=Reflect.construct(U,arguments,H)}else F=U.apply(this,arguments);return k(this,F)}}function k(B,O){if(O&&(e(O)==="object"||typeof O=="function"))return O;if(O!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return E(B)}function E(B){if(B===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return B}function D(){try{var B=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(D=function(){return!!B})()}function R(B){return R=Object.setPrototypeOf?Object.getPrototypeOf.bind():function($){return $.__proto__||Object.getPrototypeOf($)},R(B)}var P=function(O){var $;return O.infinite?$=Math.ceil(O.slideCount/O.slidesToScroll):$=Math.ceil((O.slideCount-O.slidesToShow)/O.slidesToScroll)+1,$};return v1.Dots=function(B){w($,B);var O=S($);function $(){return l(this,$),O.apply(this,arguments)}return f($,[{key:"clickHandler",value:function(F,H){H.preventDefault(),this.props.clickHandler(F)}},{key:"render",value:function(){for(var F=this.props,H=F.onMouseEnter,se=F.onMouseOver,K=F.onMouseLeave,te=F.infinite,J=F.slidesToScroll,z=F.slidesToShow,V=F.slideCount,M=F.currentSlide,ee=P({slideCount:V,slidesToScroll:J,slidesToShow:z,infinite:te}),Z={onMouseEnter:H,onMouseOver:se,onMouseLeave:K},A=[],G=0;G<ee;G++){var Q=(G+1)*J-1,Y=te?Q:(0,a.clamp)(Q,0,V-1),ae=Y-(J-1),ne=te?ae:(0,a.clamp)(ae,0,V-1),re=(0,n.default)({"slick-active":te?M>=ne&&M<=Y:M===ne}),oe={message:"dots",index:G,slidesToScroll:J,currentSlide:M},me=this.clickHandler.bind(this,oe);A=A.concat(t.default.createElement("li",{key:G,className:re},t.default.cloneElement(this.props.customPaging(G),{onClick:me})))}return t.default.cloneElement(this.props.appendDots(A),o({className:this.props.dotsClass},Z))}}]),$}(t.default.PureComponent),v1}var oh={},AE;function Hie(){if(AE)return oh;AE=1;function e(B){"@babel/helpers - typeof";return e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(O){return typeof O}:function(O){return O&&typeof Symbol=="function"&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O},e(B)}Object.defineProperty(oh,"__esModule",{value:!0}),oh.PrevArrow=oh.NextArrow=void 0;var t=r(ol()),n=r(b0()),a=y0();function r(B){return B&&B.__esModule?B:{default:B}}function i(){return i=Object.assign?Object.assign.bind():function(B){for(var O=1;O<arguments.length;O++){var $=arguments[O];for(var U in $)Object.prototype.hasOwnProperty.call($,U)&&(B[U]=$[U])}return B},i.apply(this,arguments)}function o(B,O){var $=Object.keys(B);if(Object.getOwnPropertySymbols){var U=Object.getOwnPropertySymbols(B);O&&(U=U.filter(function(F){return Object.getOwnPropertyDescriptor(B,F).enumerable})),$.push.apply($,U)}return $}function c(B){for(var O=1;O<arguments.length;O++){var $=arguments[O]!=null?arguments[O]:{};O%2?o(Object($),!0).forEach(function(U){l(B,U,$[U])}):Object.getOwnPropertyDescriptors?Object.defineProperties(B,Object.getOwnPropertyDescriptors($)):o(Object($)).forEach(function(U){Object.defineProperty(B,U,Object.getOwnPropertyDescriptor($,U))})}return B}function l(B,O,$){return O=b(O),O in B?Object.defineProperty(B,O,{value:$,enumerable:!0,configurable:!0,writable:!0}):B[O]=$,B}function d(B,O){if(!(B instanceof O))throw new TypeError("Cannot call a class as a function")}function f(B,O){for(var $=0;$<O.length;$++){var U=O[$];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty(B,b(U.key),U)}}function g(B,O,$){return O&&f(B.prototype,O),Object.defineProperty(B,"prototype",{writable:!1}),B}function b(B){var O=w(B,"string");return e(O)=="symbol"?O:String(O)}function w(B,O){if(e(B)!="object"||!B)return B;var $=B[Symbol.toPrimitive];if($!==void 0){var U=$.call(B,O);if(e(U)!="object")return U;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(B)}function C(B,O){if(typeof O!="function"&&O!==null)throw new TypeError("Super expression must either be null or a function");B.prototype=Object.create(O&&O.prototype,{constructor:{value:B,writable:!0,configurable:!0}}),Object.defineProperty(B,"prototype",{writable:!1}),O&&S(B,O)}function S(B,O){return S=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(U,F){return U.__proto__=F,U},S(B,O)}function k(B){var O=R();return function(){var U=P(B),F;if(O){var H=P(this).constructor;F=Reflect.construct(U,arguments,H)}else F=U.apply(this,arguments);return E(this,F)}}function E(B,O){if(O&&(e(O)==="object"||typeof O=="function"))return O;if(O!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return D(B)}function D(B){if(B===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return B}function R(){try{var B=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(R=function(){return!!B})()}function P(B){return P=Object.setPrototypeOf?Object.getPrototypeOf.bind():function($){return $.__proto__||Object.getPrototypeOf($)},P(B)}return oh.PrevArrow=function(B){C($,B);var O=k($);function $(){return d(this,$),O.apply(this,arguments)}return g($,[{key:"clickHandler",value:function(F,H){H&&H.preventDefault(),this.props.clickHandler(F,H)}},{key:"render",value:function(){var F={"slick-arrow":!0,"slick-prev":!0},H=this.clickHandler.bind(this,{message:"previous"});!this.props.infinite&&(this.props.currentSlide===0||this.props.slideCount<=this.props.slidesToShow)&&(F["slick-disabled"]=!0,H=null);var se={key:"0","data-role":"none",className:(0,n.default)(F),style:{display:"block"},onClick:H},K={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount},te;return this.props.prevArrow?te=t.default.cloneElement(this.props.prevArrow,c(c({},se),K)):te=t.default.createElement("button",i({key:"0",type:"button"},se)," ","Previous"),te}}]),$}(t.default.PureComponent),oh.NextArrow=function(B){C($,B);var O=k($);function $(){return d(this,$),O.apply(this,arguments)}return g($,[{key:"clickHandler",value:function(F,H){H&&H.preventDefault(),this.props.clickHandler(F,H)}},{key:"render",value:function(){var F={"slick-arrow":!0,"slick-next":!0},H=this.clickHandler.bind(this,{message:"next"});(0,a.canGoNext)(this.props)||(F["slick-disabled"]=!0,H=null);var se={key:"1","data-role":"none",className:(0,n.default)(F),style:{display:"block"},onClick:H},K={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount},te;return this.props.nextArrow?te=t.default.cloneElement(this.props.nextArrow,c(c({},se),K)):te=t.default.createElement("button",i({key:"1",type:"button"},se)," ","Next"),te}}]),$}(t.default.PureComponent),oh}var BB=function(){if(typeof Map<"u")return Map;function e(t,n){var a=-1;return t.some(function(r,i){return r[0]===n?(a=i,!0):!1}),a}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(n){var a=e(this.__entries__,n),r=this.__entries__[a];return r&&r[1]},t.prototype.set=function(n,a){var r=e(this.__entries__,n);~r?this.__entries__[r][1]=a:this.__entries__.push([n,a])},t.prototype.delete=function(n){var a=this.__entries__,r=e(a,n);~r&&a.splice(r,1)},t.prototype.has=function(n){return!!~e(this.__entries__,n)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(n,a){a===void 0&&(a=null);for(var r=0,i=this.__entries__;r<i.length;r++){var o=i[r];n.call(a,o[1],o[0])}},t}()}(),yS=typeof window<"u"&&typeof document<"u"&&window.document===document,zx=function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()}(),qie=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(zx):function(e){return setTimeout(function(){return e(Date.now())},1e3/60)}}(),Vie=2;function zie(e,t){var n=!1,a=!1,r=0;function i(){n&&(n=!1,e()),a&&c()}function o(){qie(i)}function c(){var l=Date.now();if(n){if(l-r<Vie)return;a=!0}else n=!0,a=!1,setTimeout(o,t);r=l}return c}var Uie=20,Wie=["top","right","bottom","left","width","height","size","weight"],Yie=typeof MutationObserver<"u",Gie=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=zie(this.refresh.bind(this),Uie)}return e.prototype.addObserver=function(t){~this.observers_.indexOf(t)||this.observers_.push(t),this.connected_||this.connect_()},e.prototype.removeObserver=function(t){var n=this.observers_,a=n.indexOf(t);~a&&n.splice(a,1),!n.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){var t=this.updateObservers_();t&&this.refresh()},e.prototype.updateObservers_=function(){var t=this.observers_.filter(function(n){return n.gatherActive(),n.hasActive()});return t.forEach(function(n){return n.broadcastActive()}),t.length>0},e.prototype.connect_=function(){!yS||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),Yie?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){!yS||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(t){var n=t.propertyName,a=n===void 0?"":n,r=Wie.some(function(i){return!!~a.indexOf(i)});r&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),OB=function(e,t){for(var n=0,a=Object.keys(t);n<a.length;n++){var r=a[n];Object.defineProperty(e,r,{value:t[r],enumerable:!1,writable:!1,configurable:!0})}return e},Tm=function(e){var t=e&&e.ownerDocument&&e.ownerDocument.defaultView;return t||zx},LB=Zb(0,0,0,0);function Ux(e){return parseFloat(e)||0}function ME(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce(function(a,r){var i=e["border-"+r+"-width"];return a+Ux(i)},0)}function Qie(e){for(var t=["top","right","bottom","left"],n={},a=0,r=t;a<r.length;a++){var i=r[a],o=e["padding-"+i];n[i]=Ux(o)}return n}function Xie(e){var t=e.getBBox();return Zb(0,0,t.width,t.height)}function Kie(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return LB;var a=Tm(e).getComputedStyle(e),r=Qie(a),i=r.left+r.right,o=r.top+r.bottom,c=Ux(a.width),l=Ux(a.height);if(a.boxSizing==="border-box"&&(Math.round(c+i)!==t&&(c-=ME(a,"left","right")+i),Math.round(l+o)!==n&&(l-=ME(a,"top","bottom")+o)),!Jie(e)){var d=Math.round(c+i)-t,f=Math.round(l+o)-n;Math.abs(d)!==1&&(c-=d),Math.abs(f)!==1&&(l-=f)}return Zb(r.left,r.top,c,l)}var Zie=function(){return typeof SVGGraphicsElement<"u"?function(e){return e instanceof Tm(e).SVGGraphicsElement}:function(e){return e instanceof Tm(e).SVGElement&&typeof e.getBBox=="function"}}();function Jie(e){return e===Tm(e).document.documentElement}function eoe(e){return yS?Zie(e)?Xie(e):Kie(e):LB}function toe(e){var t=e.x,n=e.y,a=e.width,r=e.height,i=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,o=Object.create(i.prototype);return OB(o,{x:t,y:n,width:a,height:r,top:n,right:t+a,bottom:r+n,left:t}),o}function Zb(e,t,n,a){return{x:e,y:t,width:n,height:a}}var noe=function(){function e(t){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=Zb(0,0,0,0),this.target=t}return e.prototype.isActive=function(){var t=eoe(this.target);return this.contentRect_=t,t.width!==this.broadcastWidth||t.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var t=this.contentRect_;return this.broadcastWidth=t.width,this.broadcastHeight=t.height,t},e}(),soe=function(){function e(t,n){var a=toe(n);OB(this,{target:t,contentRect:a})}return e}(),aoe=function(){function e(t,n,a){if(this.activeObservations_=[],this.observations_=new BB,typeof t!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=t,this.controller_=n,this.callbackCtx_=a}return e.prototype.observe=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(t instanceof Tm(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(t)||(n.set(t,new noe(t)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(t instanceof Tm(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(t)&&(n.delete(t),n.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var t=this;this.clearActive(),this.observations_.forEach(function(n){n.isActive()&&t.activeObservations_.push(n)})},e.prototype.broadcastActive=function(){if(this.hasActive()){var t=this.callbackCtx_,n=this.activeObservations_.map(function(a){return new soe(a.target,a.broadcastRect())});this.callback_.call(t,n,t),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),$B=typeof WeakMap<"u"?new WeakMap:new BB,PB=function(){function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=Gie.getInstance(),a=new aoe(t,n,this);$B.set(this,a)}return e}();["observe","unobserve","disconnect"].forEach(function(e){PB.prototype[e]=function(){var t;return(t=$B.get(this))[e].apply(t,arguments)}});var FB=function(){return typeof zx.ResizeObserver<"u"?zx.ResizeObserver:PB}();const roe=Object.freeze(Object.defineProperty({__proto__:null,default:FB},Symbol.toStringTag,{value:"Module"})),ioe=kq(roe);var RE;function ooe(){if(RE)return g1;RE=1,Object.defineProperty(g1,"__esModule",{value:!0}),g1.InnerSlider=void 0;var e=d(ol()),t=d(Lie()),n=d($ie()),a=d(b0()),r=y0(),i=Pie(),o=Fie(),c=Hie(),l=d(ioe);function d(te){return te&&te.__esModule?te:{default:te}}function f(te){"@babel/helpers - typeof";return f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(J){return typeof J}:function(J){return J&&typeof Symbol=="function"&&J.constructor===Symbol&&J!==Symbol.prototype?"symbol":typeof J},f(te)}function g(){return g=Object.assign?Object.assign.bind():function(te){for(var J=1;J<arguments.length;J++){var z=arguments[J];for(var V in z)Object.prototype.hasOwnProperty.call(z,V)&&(te[V]=z[V])}return te},g.apply(this,arguments)}function b(te,J){if(te==null)return{};var z=w(te,J),V,M;if(Object.getOwnPropertySymbols){var ee=Object.getOwnPropertySymbols(te);for(M=0;M<ee.length;M++)V=ee[M],!(J.indexOf(V)>=0)&&Object.prototype.propertyIsEnumerable.call(te,V)&&(z[V]=te[V])}return z}function w(te,J){if(te==null)return{};var z={},V=Object.keys(te),M,ee;for(ee=0;ee<V.length;ee++)M=V[ee],!(J.indexOf(M)>=0)&&(z[M]=te[M]);return z}function C(te,J){var z=Object.keys(te);if(Object.getOwnPropertySymbols){var V=Object.getOwnPropertySymbols(te);J&&(V=V.filter(function(M){return Object.getOwnPropertyDescriptor(te,M).enumerable})),z.push.apply(z,V)}return z}function S(te){for(var J=1;J<arguments.length;J++){var z=arguments[J]!=null?arguments[J]:{};J%2?C(Object(z),!0).forEach(function(V){H(te,V,z[V])}):Object.getOwnPropertyDescriptors?Object.defineProperties(te,Object.getOwnPropertyDescriptors(z)):C(Object(z)).forEach(function(V){Object.defineProperty(te,V,Object.getOwnPropertyDescriptor(z,V))})}return te}function k(te,J){if(!(te instanceof J))throw new TypeError("Cannot call a class as a function")}function E(te,J){for(var z=0;z<J.length;z++){var V=J[z];V.enumerable=V.enumerable||!1,V.configurable=!0,"value"in V&&(V.writable=!0),Object.defineProperty(te,se(V.key),V)}}function D(te,J,z){return J&&E(te.prototype,J),Object.defineProperty(te,"prototype",{writable:!1}),te}function R(te,J){if(typeof J!="function"&&J!==null)throw new TypeError("Super expression must either be null or a function");te.prototype=Object.create(J&&J.prototype,{constructor:{value:te,writable:!0,configurable:!0}}),Object.defineProperty(te,"prototype",{writable:!1}),J&&P(te,J)}function P(te,J){return P=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(V,M){return V.__proto__=M,V},P(te,J)}function B(te){var J=U();return function(){var V=F(te),M;if(J){var ee=F(this).constructor;M=Reflect.construct(V,arguments,ee)}else M=V.apply(this,arguments);return O(this,M)}}function O(te,J){if(J&&(f(J)==="object"||typeof J=="function"))return J;if(J!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $(te)}function $(te){if(te===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return te}function U(){try{var te=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(U=function(){return!!te})()}function F(te){return F=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(z){return z.__proto__||Object.getPrototypeOf(z)},F(te)}function H(te,J,z){return J=se(J),J in te?Object.defineProperty(te,J,{value:z,enumerable:!0,configurable:!0,writable:!0}):te[J]=z,te}function se(te){var J=K(te,"string");return f(J)=="symbol"?J:String(J)}function K(te,J){if(f(te)!="object"||!te)return te;var z=te[Symbol.toPrimitive];if(z!==void 0){var V=z.call(te,J);if(f(V)!="object")return V;throw new TypeError("@@toPrimitive must return a primitive value.")}return(J==="string"?String:Number)(te)}return g1.InnerSlider=function(te){R(z,te);var J=B(z);function z(V){var M;k(this,z),M=J.call(this,V),H($(M),"listRefHandler",function(Z){return M.list=Z}),H($(M),"trackRefHandler",function(Z){return M.track=Z}),H($(M),"adaptHeight",function(){if(M.props.adaptiveHeight&&M.list){var Z=M.list.querySelector('[data-index="'.concat(M.state.currentSlide,'"]'));M.list.style.height=(0,r.getHeight)(Z)+"px"}}),H($(M),"componentDidMount",function(){if(M.props.onInit&&M.props.onInit(),M.props.lazyLoad){var Z=(0,r.getOnDemandLazySlides)(S(S({},M.props),M.state));Z.length>0&&(M.setState(function(G){return{lazyLoadedList:G.lazyLoadedList.concat(Z)}}),M.props.onLazyLoad&&M.props.onLazyLoad(Z))}var A=S({listRef:M.list,trackRef:M.track},M.props);M.updateState(A,!0,function(){M.adaptHeight(),M.props.autoplay&&M.autoPlay("update")}),M.props.lazyLoad==="progressive"&&(M.lazyLoadTimer=setInterval(M.progressiveLazyLoad,1e3)),M.ro=new l.default(function(){M.state.animating?(M.onWindowResized(!1),M.callbackTimers.push(setTimeout(function(){return M.onWindowResized()},M.props.speed))):M.onWindowResized()}),M.ro.observe(M.list),document.querySelectorAll&&Array.prototype.forEach.call(document.querySelectorAll(".slick-slide"),function(G){G.onfocus=M.props.pauseOnFocus?M.onSlideFocus:null,G.onblur=M.props.pauseOnFocus?M.onSlideBlur:null}),window.addEventListener?window.addEventListener("resize",M.onWindowResized):window.attachEvent("onresize",M.onWindowResized)}),H($(M),"componentWillUnmount",function(){M.animationEndCallback&&clearTimeout(M.animationEndCallback),M.lazyLoadTimer&&clearInterval(M.lazyLoadTimer),M.callbackTimers.length&&(M.callbackTimers.forEach(function(Z){return clearTimeout(Z)}),M.callbackTimers=[]),window.addEventListener?window.removeEventListener("resize",M.onWindowResized):window.detachEvent("onresize",M.onWindowResized),M.autoplayTimer&&clearInterval(M.autoplayTimer),M.ro.disconnect()}),H($(M),"componentDidUpdate",function(Z){if(M.checkImagesLoad(),M.props.onReInit&&M.props.onReInit(),M.props.lazyLoad){var A=(0,r.getOnDemandLazySlides)(S(S({},M.props),M.state));A.length>0&&(M.setState(function(Y){return{lazyLoadedList:Y.lazyLoadedList.concat(A)}}),M.props.onLazyLoad&&M.props.onLazyLoad(A))}M.adaptHeight();var G=S(S({listRef:M.list,trackRef:M.track},M.props),M.state),Q=M.didPropsChange(Z);Q&&M.updateState(G,Q,function(){M.state.currentSlide>=e.default.Children.count(M.props.children)&&M.changeSlide({message:"index",index:e.default.Children.count(M.props.children)-M.props.slidesToShow,currentSlide:M.state.currentSlide}),M.props.autoplay?M.autoPlay("update"):M.pause("paused")})}),H($(M),"onWindowResized",function(Z){M.debouncedResize&&M.debouncedResize.cancel(),M.debouncedResize=(0,n.default)(function(){return M.resizeWindow(Z)},50),M.debouncedResize()}),H($(M),"resizeWindow",function(){var Z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,A=!!(M.track&&M.track.node);if(A){var G=S(S({listRef:M.list,trackRef:M.track},M.props),M.state);M.updateState(G,Z,function(){M.props.autoplay?M.autoPlay("update"):M.pause("paused")}),M.setState({animating:!1}),clearTimeout(M.animationEndCallback),delete M.animationEndCallback}}),H($(M),"updateState",function(Z,A,G){var Q=(0,r.initializedState)(Z);Z=S(S(S({},Z),Q),{},{slideIndex:Q.currentSlide});var Y=(0,r.getTrackLeft)(Z);Z=S(S({},Z),{},{left:Y});var ae=(0,r.getTrackCSS)(Z);(A||e.default.Children.count(M.props.children)!==e.default.Children.count(Z.children))&&(Q.trackStyle=ae),M.setState(Q,G)}),H($(M),"ssrInit",function(){if(M.props.variableWidth){var Z=0,A=0,G=[],Q=(0,r.getPreClones)(S(S(S({},M.props),M.state),{},{slideCount:M.props.children.length})),Y=(0,r.getPostClones)(S(S(S({},M.props),M.state),{},{slideCount:M.props.children.length}));M.props.children.forEach(function(pe){G.push(pe.props.style.width),Z+=pe.props.style.width});for(var ae=0;ae<Q;ae++)A+=G[G.length-1-ae],Z+=G[G.length-1-ae];for(var ne=0;ne<Y;ne++)Z+=G[ne];for(var re=0;re<M.state.currentSlide;re++)A+=G[re];var oe={width:Z+"px",left:-A+"px"};if(M.props.centerMode){var me="".concat(G[M.state.currentSlide],"px");oe.left="calc(".concat(oe.left," + (100% - ").concat(me,") / 2 ) ")}return{trackStyle:oe}}var Ce=e.default.Children.count(M.props.children),Ne=S(S(S({},M.props),M.state),{},{slideCount:Ce}),Ee=(0,r.getPreClones)(Ne)+(0,r.getPostClones)(Ne)+Ce,ve=100/M.props.slidesToShow*Ee,Se=100/Ee,fe=-Se*((0,r.getPreClones)(Ne)+M.state.currentSlide)*ve/100;M.props.centerMode&&(fe+=(100-Se*ve/100)/2);var de={width:ve+"%",left:fe+"%"};return{slideWidth:Se+"%",trackStyle:de}}),H($(M),"checkImagesLoad",function(){var Z=M.list&&M.list.querySelectorAll&&M.list.querySelectorAll(".slick-slide img")||[],A=Z.length,G=0;Array.prototype.forEach.call(Z,function(Q){var Y=function(){return++G&&G>=A&&M.onWindowResized()};if(!Q.onclick)Q.onclick=function(){return Q.parentNode.focus()};else{var ae=Q.onclick;Q.onclick=function(ne){ae(ne),Q.parentNode.focus()}}Q.onload||(M.props.lazyLoad?Q.onload=function(){M.adaptHeight(),M.callbackTimers.push(setTimeout(M.onWindowResized,M.props.speed))}:(Q.onload=Y,Q.onerror=function(){Y(),M.props.onLazyLoadError&&M.props.onLazyLoadError()}))})}),H($(M),"progressiveLazyLoad",function(){for(var Z=[],A=S(S({},M.props),M.state),G=M.state.currentSlide;G<M.state.slideCount+(0,r.getPostClones)(A);G++)if(M.state.lazyLoadedList.indexOf(G)<0){Z.push(G);break}for(var Q=M.state.currentSlide-1;Q>=-(0,r.getPreClones)(A);Q--)if(M.state.lazyLoadedList.indexOf(Q)<0){Z.push(Q);break}Z.length>0?(M.setState(function(Y){return{lazyLoadedList:Y.lazyLoadedList.concat(Z)}}),M.props.onLazyLoad&&M.props.onLazyLoad(Z)):M.lazyLoadTimer&&(clearInterval(M.lazyLoadTimer),delete M.lazyLoadTimer)}),H($(M),"slideHandler",function(Z){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,G=M.props,Q=G.asNavFor,Y=G.beforeChange,ae=G.onLazyLoad,ne=G.speed,re=G.afterChange,oe=M.state.currentSlide,me=(0,r.slideHandler)(S(S(S({index:Z},M.props),M.state),{},{trackRef:M.track,useCSS:M.props.useCSS&&!A})),Ce=me.state,Ne=me.nextState;if(Ce){Y&&Y(oe,Ce.currentSlide);var Ee=Ce.lazyLoadedList.filter(function(ve){return M.state.lazyLoadedList.indexOf(ve)<0});ae&&Ee.length>0&&ae(Ee),!M.props.waitForAnimate&&M.animationEndCallback&&(clearTimeout(M.animationEndCallback),re&&re(oe),delete M.animationEndCallback),M.setState(Ce,function(){Q&&M.asNavForIndex!==Z&&(M.asNavForIndex=Z,Q.innerSlider.slideHandler(Z)),Ne&&(M.animationEndCallback=setTimeout(function(){var ve=Ne.animating,Se=b(Ne,["animating"]);M.setState(Se,function(){M.callbackTimers.push(setTimeout(function(){return M.setState({animating:ve})},10)),re&&re(Ce.currentSlide),delete M.animationEndCallback})},ne))})}}),H($(M),"changeSlide",function(Z){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,G=S(S({},M.props),M.state),Q=(0,r.changeSlide)(G,Z);if(!(Q!==0&&!Q)&&(A===!0?M.slideHandler(Q,A):M.slideHandler(Q),M.props.autoplay&&M.autoPlay("update"),M.props.focusOnSelect)){var Y=M.list.querySelectorAll(".slick-current");Y[0]&&Y[0].focus()}}),H($(M),"clickHandler",function(Z){M.clickable===!1&&(Z.stopPropagation(),Z.preventDefault()),M.clickable=!0}),H($(M),"keyHandler",function(Z){var A=(0,r.keyHandler)(Z,M.props.accessibility,M.props.rtl);A!==""&&M.changeSlide({message:A})}),H($(M),"selectHandler",function(Z){M.changeSlide(Z)}),H($(M),"disableBodyScroll",function(){var Z=function(G){G=G||window.event,G.preventDefault&&G.preventDefault(),G.returnValue=!1};window.ontouchmove=Z}),H($(M),"enableBodyScroll",function(){window.ontouchmove=null}),H($(M),"swipeStart",function(Z){M.props.verticalSwiping&&M.disableBodyScroll();var A=(0,r.swipeStart)(Z,M.props.swipe,M.props.draggable);A!==""&&M.setState(A)}),H($(M),"swipeMove",function(Z){var A=(0,r.swipeMove)(Z,S(S(S({},M.props),M.state),{},{trackRef:M.track,listRef:M.list,slideIndex:M.state.currentSlide}));A&&(A.swiping&&(M.clickable=!1),M.setState(A))}),H($(M),"swipeEnd",function(Z){var A=(0,r.swipeEnd)(Z,S(S(S({},M.props),M.state),{},{trackRef:M.track,listRef:M.list,slideIndex:M.state.currentSlide}));if(A){var G=A.triggerSlideHandler;delete A.triggerSlideHandler,M.setState(A),G!==void 0&&(M.slideHandler(G),M.props.verticalSwiping&&M.enableBodyScroll())}}),H($(M),"touchEnd",function(Z){M.swipeEnd(Z),M.clickable=!0}),H($(M),"slickPrev",function(){M.callbackTimers.push(setTimeout(function(){return M.changeSlide({message:"previous"})},0))}),H($(M),"slickNext",function(){M.callbackTimers.push(setTimeout(function(){return M.changeSlide({message:"next"})},0))}),H($(M),"slickGoTo",function(Z){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(Z=Number(Z),isNaN(Z))return"";M.callbackTimers.push(setTimeout(function(){return M.changeSlide({message:"index",index:Z,currentSlide:M.state.currentSlide},A)},0))}),H($(M),"play",function(){var Z;if(M.props.rtl)Z=M.state.currentSlide-M.props.slidesToScroll;else if((0,r.canGoNext)(S(S({},M.props),M.state)))Z=M.state.currentSlide+M.props.slidesToScroll;else return!1;M.slideHandler(Z)}),H($(M),"autoPlay",function(Z){M.autoplayTimer&&clearInterval(M.autoplayTimer);var A=M.state.autoplaying;if(Z==="update"){if(A==="hovered"||A==="focused"||A==="paused")return}else if(Z==="leave"){if(A==="paused"||A==="focused")return}else if(Z==="blur"&&(A==="paused"||A==="hovered"))return;M.autoplayTimer=setInterval(M.play,M.props.autoplaySpeed+50),M.setState({autoplaying:"playing"})}),H($(M),"pause",function(Z){M.autoplayTimer&&(clearInterval(M.autoplayTimer),M.autoplayTimer=null);var A=M.state.autoplaying;Z==="paused"?M.setState({autoplaying:"paused"}):Z==="focused"?(A==="hovered"||A==="playing")&&M.setState({autoplaying:"focused"}):A==="playing"&&M.setState({autoplaying:"hovered"})}),H($(M),"onDotsOver",function(){return M.props.autoplay&&M.pause("hovered")}),H($(M),"onDotsLeave",function(){return M.props.autoplay&&M.state.autoplaying==="hovered"&&M.autoPlay("leave")}),H($(M),"onTrackOver",function(){return M.props.autoplay&&M.pause("hovered")}),H($(M),"onTrackLeave",function(){return M.props.autoplay&&M.state.autoplaying==="hovered"&&M.autoPlay("leave")}),H($(M),"onSlideFocus",function(){return M.props.autoplay&&M.pause("focused")}),H($(M),"onSlideBlur",function(){return M.props.autoplay&&M.state.autoplaying==="focused"&&M.autoPlay("blur")}),H($(M),"render",function(){var Z=(0,a.default)("slick-slider",M.props.className,{"slick-vertical":M.props.vertical,"slick-initialized":!0}),A=S(S({},M.props),M.state),G=(0,r.extractObject)(A,["fade","cssEase","speed","infinite","centerMode","focusOnSelect","currentSlide","lazyLoad","lazyLoadedList","rtl","slideWidth","slideHeight","listHeight","vertical","slidesToShow","slidesToScroll","slideCount","trackStyle","variableWidth","unslick","centerPadding","targetSlide","useCSS"]),Q=M.props.pauseOnHover;G=S(S({},G),{},{onMouseEnter:Q?M.onTrackOver:null,onMouseLeave:Q?M.onTrackLeave:null,onMouseOver:Q?M.onTrackOver:null,focusOnSelect:M.props.focusOnSelect&&M.clickable?M.selectHandler:null});var Y;if(M.props.dots===!0&&M.state.slideCount>=M.props.slidesToShow){var ae=(0,r.extractObject)(A,["dotsClass","slideCount","slidesToShow","currentSlide","slidesToScroll","clickHandler","children","customPaging","infinite","appendDots"]),ne=M.props.pauseOnDotsHover;ae=S(S({},ae),{},{clickHandler:M.changeSlide,onMouseEnter:ne?M.onDotsLeave:null,onMouseOver:ne?M.onDotsOver:null,onMouseLeave:ne?M.onDotsLeave:null}),Y=e.default.createElement(o.Dots,ae)}var re,oe,me=(0,r.extractObject)(A,["infinite","centerMode","currentSlide","slideCount","slidesToShow","prevArrow","nextArrow"]);me.clickHandler=M.changeSlide,M.props.arrows&&(re=e.default.createElement(c.PrevArrow,me),oe=e.default.createElement(c.NextArrow,me));var Ce=null;M.props.vertical&&(Ce={height:M.state.listHeight});var Ne=null;M.props.vertical===!1?M.props.centerMode===!0&&(Ne={padding:"0px "+M.props.centerPadding}):M.props.centerMode===!0&&(Ne={padding:M.props.centerPadding+" 0px"});var Ee=S(S({},Ce),Ne),ve=M.props.touchMove,Se={className:"slick-list",style:Ee,onClick:M.clickHandler,onMouseDown:ve?M.swipeStart:null,onMouseMove:M.state.dragging&&ve?M.swipeMove:null,onMouseUp:ve?M.swipeEnd:null,onMouseLeave:M.state.dragging&&ve?M.swipeEnd:null,onTouchStart:ve?M.swipeStart:null,onTouchMove:M.state.dragging&&ve?M.swipeMove:null,onTouchEnd:ve?M.touchEnd:null,onTouchCancel:M.state.dragging&&ve?M.swipeEnd:null,onKeyDown:M.props.accessibility?M.keyHandler:null},fe={className:Z,dir:"ltr",style:M.props.style};return M.props.unslick&&(Se={className:"slick-list"},fe={className:Z}),e.default.createElement("div",fe,M.props.unslick?"":re,e.default.createElement("div",g({ref:M.listRefHandler},Se),e.default.createElement(i.Track,g({ref:M.trackRefHandler},G),M.props.children)),M.props.unslick?"":oe,M.props.unslick?"":Y)}),M.list=null,M.track=null,M.state=S(S({},t.default),{},{currentSlide:M.props.initialSlide,targetSlide:M.props.initialSlide?M.props.initialSlide:0,slideCount:e.default.Children.count(M.props.children)}),M.callbackTimers=[],M.clickable=!0,M.debouncedResize=null;var ee=M.ssrInit();return M.state=S(S({},M.state),ee),M}return D(z,[{key:"didPropsChange",value:function(M){for(var ee=!1,Z=0,A=Object.keys(this.props);Z<A.length;Z++){var G=A[Z];if(!M.hasOwnProperty(G)){ee=!0;break}if(!(f(M[G])==="object"||typeof M[G]=="function"||isNaN(M[G]))&&M[G]!==this.props[G]){ee=!0;break}}return ee||e.default.Children.count(this.props.children)!==e.default.Children.count(M.children)}}]),z}(e.default.Component),g1}var gj,BE;function coe(){if(BE)return gj;BE=1;var e=function(t){return t.replace(/[A-Z]/g,function(n){return"-"+n.toLowerCase()}).toLowerCase()};return gj=e,gj}var _j,OE;function loe(){if(OE)return _j;OE=1;var e=coe(),t=function(r){var i=/[height|width]$/;return i.test(r)},n=function(r){var i="",o=Object.keys(r);return o.forEach(function(c,l){var d=r[c];c=e(c),t(c)&&typeof d=="number"&&(d=d+"px"),d===!0?i+=c:d===!1?i+="not "+c:i+="("+c+": "+d+")",l<o.length-1&&(i+=" and ")}),i},a=function(r){var i="";return typeof r=="string"?r:r instanceof Array?(r.forEach(function(o,c){i+=n(o),c<r.length-1&&(i+=", ")}),i):n(r)};return _j=a,_j}var vj,LE;function uoe(){if(LE)return vj;LE=1;function e(t){this.options=t,!t.deferSetup&&this.setup()}return e.prototype={constructor:e,setup:function(){this.options.setup&&this.options.setup(),this.initialised=!0},on:function(){!this.initialised&&this.setup(),this.options.match&&this.options.match()},off:function(){this.options.unmatch&&this.options.unmatch()},destroy:function(){this.options.destroy?this.options.destroy():this.off()},equals:function(t){return this.options===t||this.options.match===t}},vj=e,vj}var xj,$E;function HB(){if($E)return xj;$E=1;function e(a,r){var i=0,o=a.length,c;for(i;i<o&&(c=r(a[i],i),c!==!1);i++);}function t(a){return Object.prototype.toString.apply(a)==="[object Array]"}function n(a){return typeof a=="function"}return xj={isFunction:n,isArray:t,each:e},xj}var bj,PE;function doe(){if(PE)return bj;PE=1;var e=uoe(),t=HB().each;function n(a,r){this.query=a,this.isUnconditional=r,this.handlers=[],this.mql=window.matchMedia(a);var i=this;this.listener=function(o){i.mql=o.currentTarget||o,i.assess()},this.mql.addListener(this.listener)}return n.prototype={constuctor:n,addHandler:function(a){var r=new e(a);this.handlers.push(r),this.matches()&&r.on()},removeHandler:function(a){var r=this.handlers;t(r,function(i,o){if(i.equals(a))return i.destroy(),!r.splice(o,1)})},matches:function(){return this.mql.matches||this.isUnconditional},clear:function(){t(this.handlers,function(a){a.destroy()}),this.mql.removeListener(this.listener),this.handlers.length=0},assess:function(){var a=this.matches()?"on":"off";t(this.handlers,function(r){r[a]()})}},bj=n,bj}var yj,FE;function hoe(){if(FE)return yj;FE=1;var e=doe(),t=HB(),n=t.each,a=t.isFunction,r=t.isArray;function i(){if(!window.matchMedia)throw new Error("matchMedia not present, legacy browsers require a polyfill");this.queries={},this.browserIsIncapable=!window.matchMedia("only all").matches}return i.prototype={constructor:i,register:function(o,c,l){var d=this.queries,f=l&&this.browserIsIncapable;return d[o]||(d[o]=new e(o,f)),a(c)&&(c={match:c}),r(c)||(c=[c]),n(c,function(g){a(g)&&(g={match:g}),d[o].addHandler(g)}),this},unregister:function(o,c){var l=this.queries[o];return l&&(c?l.removeHandler(c):(l.clear(),delete this.queries[o])),this}},yj=i,yj}var wj,HE;function foe(){if(HE)return wj;HE=1;var e=hoe();return wj=new e,wj}var qE;function moe(){return qE||(qE=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=o(ol()),n=ooe(),a=o(loe()),r=o(RB()),i=y0();function o(F){return F&&F.__esModule?F:{default:F}}function c(F){"@babel/helpers - typeof";return c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(H){return typeof H}:function(H){return H&&typeof Symbol=="function"&&H.constructor===Symbol&&H!==Symbol.prototype?"symbol":typeof H},c(F)}function l(){return l=Object.assign?Object.assign.bind():function(F){for(var H=1;H<arguments.length;H++){var se=arguments[H];for(var K in se)Object.prototype.hasOwnProperty.call(se,K)&&(F[K]=se[K])}return F},l.apply(this,arguments)}function d(F,H){var se=Object.keys(F);if(Object.getOwnPropertySymbols){var K=Object.getOwnPropertySymbols(F);H&&(K=K.filter(function(te){return Object.getOwnPropertyDescriptor(F,te).enumerable})),se.push.apply(se,K)}return se}function f(F){for(var H=1;H<arguments.length;H++){var se=arguments[H]!=null?arguments[H]:{};H%2?d(Object(se),!0).forEach(function(K){B(F,K,se[K])}):Object.getOwnPropertyDescriptors?Object.defineProperties(F,Object.getOwnPropertyDescriptors(se)):d(Object(se)).forEach(function(K){Object.defineProperty(F,K,Object.getOwnPropertyDescriptor(se,K))})}return F}function g(F,H){if(!(F instanceof H))throw new TypeError("Cannot call a class as a function")}function b(F,H){for(var se=0;se<H.length;se++){var K=H[se];K.enumerable=K.enumerable||!1,K.configurable=!0,"value"in K&&(K.writable=!0),Object.defineProperty(F,O(K.key),K)}}function w(F,H,se){return H&&b(F.prototype,H),Object.defineProperty(F,"prototype",{writable:!1}),F}function C(F,H){if(typeof H!="function"&&H!==null)throw new TypeError("Super expression must either be null or a function");F.prototype=Object.create(H&&H.prototype,{constructor:{value:F,writable:!0,configurable:!0}}),Object.defineProperty(F,"prototype",{writable:!1}),H&&S(F,H)}function S(F,H){return S=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(K,te){return K.__proto__=te,K},S(F,H)}function k(F){var H=R();return function(){var K=P(F),te;if(H){var J=P(this).constructor;te=Reflect.construct(K,arguments,J)}else te=K.apply(this,arguments);return E(this,te)}}function E(F,H){if(H&&(c(H)==="object"||typeof H=="function"))return H;if(H!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return D(F)}function D(F){if(F===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return F}function R(){try{var F=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(R=function(){return!!F})()}function P(F){return P=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(se){return se.__proto__||Object.getPrototypeOf(se)},P(F)}function B(F,H,se){return H=O(H),H in F?Object.defineProperty(F,H,{value:se,enumerable:!0,configurable:!0,writable:!0}):F[H]=se,F}function O(F){var H=$(F,"string");return c(H)=="symbol"?H:String(H)}function $(F,H){if(c(F)!="object"||!F)return F;var se=F[Symbol.toPrimitive];if(se!==void 0){var K=se.call(F,H);if(c(K)!="object")return K;throw new TypeError("@@toPrimitive must return a primitive value.")}return(H==="string"?String:Number)(F)}var U=(0,i.canUseDOM)()&&foe();e.default=function(F){C(se,F);var H=k(se);function se(K){var te;return g(this,se),te=H.call(this,K),B(D(te),"innerSliderRefHandler",function(J){return te.innerSlider=J}),B(D(te),"slickPrev",function(){return te.innerSlider.slickPrev()}),B(D(te),"slickNext",function(){return te.innerSlider.slickNext()}),B(D(te),"slickGoTo",function(J){var z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return te.innerSlider.slickGoTo(J,z)}),B(D(te),"slickPause",function(){return te.innerSlider.pause("paused")}),B(D(te),"slickPlay",function(){return te.innerSlider.autoPlay("play")}),te.state={breakpoint:null},te._responsiveMediaHandlers=[],te}return w(se,[{key:"media",value:function(te,J){U.register(te,J),this._responsiveMediaHandlers.push({query:te,handler:J})}},{key:"componentDidMount",value:function(){var te=this;if(this.props.responsive){var J=this.props.responsive.map(function(V){return V.breakpoint});J.sort(function(V,M){return V-M}),J.forEach(function(V,M){var ee;M===0?ee=(0,a.default)({minWidth:0,maxWidth:V}):ee=(0,a.default)({minWidth:J[M-1]+1,maxWidth:V}),(0,i.canUseDOM)()&&te.media(ee,function(){te.setState({breakpoint:V})})});var z=(0,a.default)({minWidth:J.slice(-1)[0]});(0,i.canUseDOM)()&&this.media(z,function(){te.setState({breakpoint:null})})}}},{key:"componentWillUnmount",value:function(){this._responsiveMediaHandlers.forEach(function(te){U.unregister(te.query,te.handler)})}},{key:"render",value:function(){var te=this,J,z;this.state.breakpoint?(z=this.props.responsive.filter(function(ne){return ne.breakpoint===te.state.breakpoint}),J=z[0].settings==="unslick"?"unslick":f(f(f({},r.default),this.props),z[0].settings)):J=f(f({},r.default),this.props),J.centerMode&&(J.slidesToScroll>1,J.slidesToScroll=1),J.fade&&(J.slidesToShow>1,J.slidesToScroll>1,J.slidesToShow=1,J.slidesToScroll=1);var V=t.default.Children.toArray(this.props.children);V=V.filter(function(ne){return typeof ne=="string"?!!ne.trim():!!ne}),J.variableWidth&&(J.rows>1||J.slidesPerRow>1)&&(console.warn("variableWidth is not supported in case of rows > 1 or slidesPerRow > 1"),J.variableWidth=!1);for(var M=[],ee=null,Z=0;Z<V.length;Z+=J.rows*J.slidesPerRow){for(var A=[],G=Z;G<Z+J.rows*J.slidesPerRow;G+=J.slidesPerRow){for(var Q=[],Y=G;Y<G+J.slidesPerRow&&(J.variableWidth&&V[Y].props.style&&(ee=V[Y].props.style.width),!(Y>=V.length));Y+=1)Q.push(t.default.cloneElement(V[Y],{key:100*Z+10*G+Y,tabIndex:-1,style:{width:"".concat(100/J.slidesPerRow,"%"),display:"inline-block"}}));A.push(t.default.createElement("div",{key:10*Z+G},Q))}J.variableWidth?M.push(t.default.createElement("div",{key:Z,style:{width:ee}},A)):M.push(t.default.createElement("div",{key:Z},A))}if(J==="unslick"){var ae="regular slider "+(this.props.className||"");return t.default.createElement("div",{className:ae},V)}else M.length<=J.slidesToShow&&!J.infinite&&(J.unslick=!0);return t.default.createElement(n.InnerSlider,l({style:this.props.style,ref:this.innerSliderRefHandler},(0,i.filterSettings)(J)),M)}}]),se}(t.default.Component)}(dj)),dj}var VE;function poe(){return VE||(VE=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=n(moe());function n(a){return a&&a.__esModule?a:{default:a}}e.default=t.default}(uj)),uj}var goe=poe();const jj=Ti(goe),_oe=({width:e="100%",height:t="100%",background:n="transparent",borderRadius:a="8px",borderColor:r="rgba(255, 255, 255, 0.1)",children:i,glareColor:o="#ffffff",glareOpacity:c=1,glareAngle:l=-30,glareSize:d=300,transitionDuration:f=1250,playOnce:g=!1,className:b="",style:w={}})=>{const C=o.replace("#","");let S=o;if(/^[0-9A-Fa-f]{6}$/.test(C)){const E=parseInt(C.slice(0,2),16),D=parseInt(C.slice(2,4),16),R=parseInt(C.slice(4,6),16);S=`rgba(${E}, ${D}, ${R}, ${c})`}else if(/^[0-9A-Fa-f]{3}$/.test(C)){const E=parseInt(C[0]+C[0],16),D=parseInt(C[1]+C[1],16),R=parseInt(C[2]+C[2],16);S=`rgba(${E}, ${D}, ${R}, ${c})`}const k={"--gh-width":e,"--gh-height":t,"--gh-bg":n,"--gh-br":a,"--gh-angle":`${l}deg`,"--gh-duration":`${f}ms`,"--gh-size":`${d}%`,"--gh-rgba":S,"--gh-border":r};return s.jsx("div",{className:`glare-hover ${g?"glare-hover--play-once":""} ${b}`,style:{...k,...w,display:"flex",flexDirection:"column",justifyContent:"center",width:"100%",height:"100%"},children:i})},voe=()=>{const{pk:e}=ha();Is();const[t,n]=_.useState(null),[a,r]=_.useState(!0),[i,o]=_.useState(null),[c,l]=_.useState(0),[d,f]=_.useState(1),[g,b]=_.useState("description"),[w,C]=_.useState(null),[S,k]=_.useState({}),E=_.useRef(null),D=_.useRef(null);_.useEffect(()=>{(async()=>{try{r(!0);const z=await Be.get(`marketplace/api/products/${e}/`);if(n(z.data),z.data.product.default_variant){C(z.data.product.default_variant.id);const V={};z.data.product.default_variant.attributes.forEach(M=>{V[M.attribute_id]=M.display_value}),k(V)}}catch(z){o(z.message||"    ")}finally{r(!1)}})()},[e]);const R=()=>t?w?t.product.variants.find(J=>J.id===w):t.product.default_variant:null,P=(J,z)=>{k(V=>{const M={...V,[J]:z},ee=t.product.variants.find(Z=>Z.attributes.some(A=>A.attribute_id===Number(J)&&A.display_value===z));if(ee){C(ee.id);const Z={};return ee.attributes.forEach(A=>{Z[A.attribute_id]=A.display_value}),Z}return M})},B=(J,z)=>!t||!t.product||!t.product.variants?!1:t.product.variants.some(M=>M.attributes.some(ee=>ee.attribute_id===Number(J)&&ee.display_value===z)),O=()=>{const J=R();J&&console.log("  :",{productId:t.product.id,variantId:J.id,quantity:d,price:J.current_price})};if(a)return s.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh"},children:s.jsx(Fn,{size:"large"})});if(i)return s.jsx("div",{className:"product-error",children:i});if(!t)return s.jsx("div",{className:"product-not-found",children:"  "});const{product:$,same_products:U}=t,F=R(),H={};$.available_attributes&&Object.entries($.available_attributes).forEach(([J,z])=>{H[z.attribute_id]={name:J,values:z.values,required:z.required}});const se={dots:!0,infinite:U.length>4,speed:500,slidesToShow:4,slidesToScroll:1,arrows:!0,responsive:[{breakpoint:1024,settings:{slidesToShow:3,slidesToScroll:1}},{breakpoint:768,settings:{slidesToShow:2,slidesToScroll:1}},{breakpoint:480,settings:{slidesToShow:1,slidesToScroll:1}}]},K={asNavFor:D.current,ref:E,arrows:!0,fade:!0,beforeChange:(J,z)=>l(z)},te={asNavFor:E.current,ref:D,slidesToShow:Math.min($.images.length,5),swipeToSlide:!0,focusOnSelect:!0,arrows:!1,centerMode:!1,centerPadding:"0",infinite:!1,variableWidth:!0};return s.jsxs("div",{className:"product-detail",children:[s.jsx(G3,{breadcrumbs:t.breadcrumbs,currentPage:$.name}),s.jsxs("div",{className:"product-main",children:[s.jsxs("div",{className:"product-gallery",children:[s.jsx(jj,{...K,className:"main-slider",children:$.images.map((J,z)=>s.jsx("div",{className:"slide",children:s.jsxs("div",{className:"main-image",children:[s.jsx("div",{className:"blurred-bg",style:{backgroundImage:`url(${J.image})`}}),s.jsx("img",{src:J.image,alt:`Product ${z}`,className:"contained-image"})]})},z))}),s.jsx(jj,{...te,className:"thumbs-slider",children:$.images.map((J,z)=>s.jsx("div",{className:`thumbnail-slide ${c===z?"active":""}`,children:s.jsx("div",{className:"thumbnail",style:{backgroundImage:`url(${J.image})`},onClick:()=>l(z)})},z))})]}),s.jsxs("div",{className:"product-info",children:[s.jsx("h1",{className:"product-title",children:$.name}),s.jsxs("div",{className:"product-meta",children:[s.jsxs("span",{className:"product-id",children:[": ",(F==null?void 0:F.sku)||$.id]}),s.jsx("span",{className:`stock ${(F==null?void 0:F.stock_quantity)>0?"in-stock":"out-of-stock"}`,children:(F==null?void 0:F.stock_quantity)>0?" ":"  "})]}),s.jsxs("div",{className:"product-rating",children:[[...Array(5)].map((J,z)=>z<4?s.jsx(ph,{className:"star filled"},z):s.jsx(_Q,{className:"star"},z)),s.jsxs("span",{className:"rating-text",children:["(",Math.floor(Math.random()*50)+1," )"]})]}),F&&s.jsxs("div",{className:"product-price",children:[s.jsxs("span",{className:"current",children:[parseFloat(F.current_price).toLocaleString("ru-RU")," "]}),F.discount>0&&s.jsxs(s.Fragment,{children:[s.jsxs("span",{className:"old",children:[parseFloat(F.price).toLocaleString("ru-RU")," "]}),s.jsxs("span",{className:"discount",children:["-",F.discount,"%"]})]})]}),Object.entries(H).map(([J,z])=>s.jsxs("div",{className:"attribute-selector",children:[s.jsxs("h4",{children:[z.name,":"]}),s.jsx("div",{className:"attribute-values",children:z.values.map(V=>s.jsx("button",{className:`attribute-value ${S[J]===V?"selected":""}`,onClick:()=>P(Number(J),V),disabled:!B(Number(J),V),children:V},V))})]},J)),s.jsx("div",{className:"coming-soon-overlay",children:s.jsxs(_oe,{width:"100%",height:"auto",background:"transparent",borderRadius:"8px",borderColor:"rgba(255, 255, 255, 0.1)",glareColor:"#ffffff",glareOpacity:1,glareAngle:-30,glareSize:300,transitionDuration:1250,playOnce:!1,style:{padding:"20px"},children:[s.jsxs("div",{className:"disabled-content",children:[s.jsxs("div",{className:"product-actions",children:[s.jsxs("div",{className:"quantity-control",children:[s.jsx("button",{onClick:()=>f(Math.max(1,d-1)),disabled:!F||F.stock_quantity<=0,children:""}),s.jsx("span",{children:d}),s.jsx("button",{onClick:()=>f(d+1),disabled:!F||F.stock_quantity<=0,children:"+"})]}),s.jsxs("button",{className:"add-to-cart",onClick:O,disabled:!F||F.stock_quantity<=0,children:[s.jsx(Oie,{}),(F==null?void 0:F.stock_quantity)>0?"  ":"  "]})]}),s.jsxs("div",{className:"delivery-info",children:[s.jsxs("div",{className:"delivery-item",children:[s.jsx("div",{className:"icon",children:""}),s.jsxs("div",{children:[s.jsx("h4",{children:" "}),s.jsx("p",{children:"1-3 "})]})]}),s.jsxs("div",{className:"delivery-item",children:[s.jsx("div",{className:"icon",children:""}),s.jsxs("div",{children:[s.jsx("h4",{children:" "}),s.jsx("p",{children:"14   "})]})]})]})]}),s.jsx("div",{className:"coming-soon-text",children:"..."})]})})]})]}),s.jsxs("div",{className:"product-tabs",children:[s.jsx("button",{className:`tab ${g==="description"?"active":""}`,onClick:()=>b("description"),children:""}),s.jsx("button",{className:`tab ${g==="specs"?"active":""}`,onClick:()=>b("specs"),children:""})]}),s.jsxs("div",{className:"tab-content",children:[g==="description"&&s.jsx("div",{className:"description",children:s.jsx("p",{children:$.description||" ."})}),g==="specs"&&s.jsx("div",{className:"specifications",children:s.jsx("table",{children:s.jsx("tbody",{children:F==null?void 0:F.attributes.map(J=>s.jsxs("tr",{children:[s.jsx("td",{children:J.attribute_name}),s.jsx("td",{children:J.display_value})]},J.id))})})}),g==="reviews"&&s.jsx("div",{className:"reviews",children:s.jsxs("div",{className:"review",children:[s.jsxs("div",{className:"review-header",children:[s.jsx("span",{className:"author",children:" ."}),s.jsxs("div",{className:"rating",children:[s.jsx(ph,{className:"filled"}),s.jsx(ph,{className:"filled"}),s.jsx(ph,{className:"filled"}),s.jsx(ph,{className:"filled"}),s.jsx(ph,{})]})]}),s.jsx("p",{className:"text",children:" ,  .  ."}),s.jsx("span",{className:"date",children:"15.01.2023"})]})})]}),t.same_products&&t.same_products.length>0&&s.jsxs("div",{className:"similar-products-section",children:[s.jsx("h2",{className:"section-title",children:" "}),s.jsx("div",{className:"slider-container",children:s.jsx(jj,{...se,children:t.same_products.map(J=>s.jsx("div",{className:"slide-item",children:s.jsx(lp,{product:J})},`product-${J.id}`))})})]})]})},xoe="_container_z83ka_3",boe="_loadingContainer_z83ka_9",yoe="_errorContainer_z83ka_10",woe="_backButton_z83ka_24",joe="_productLayout_z83ka_49",Coe="_productGallery_z83ka_57",Soe="_mainImage_z83ka_65",Noe="_mainImageImg_z83ka_95",koe="_visible_z83ka_105",Ioe="_slideInFromRight_z83ka_111",Eoe="_slideInFromLeft_z83ka_115",Toe="_slideOutToLeft_z83ka_119",Doe="_slideOutToRight_z83ka_123",Aoe="_galleryControls_z83ka_171",Moe="_thumbnailContainer_z83ka_206",Roe="_thumbnailNavButton_z83ka_215",Boe="_thumbnailGallery_z83ka_243",Ooe="_thumbnail_z83ka_206",Loe="_thumbnailActive_z83ka_293",$oe="_productInfo_z83ka_310",Poe="_productHeader_z83ka_314",Foe="_productBrand_z83ka_318",Hoe="_productTitle_z83ka_330",qoe="_productRating_z83ka_342",Voe="_inStock_z83ka_349",zoe="_productDescription_z83ka_358",Uoe="_sizesSection_z83ka_370",Woe="_sectionTitle_z83ka_374",Yoe="_sizeOptions_z83ka_396",Goe="_sizeOption_z83ka_396",Qoe="_sizeRadio_z83ka_411",Xoe="_sizeLabel_z83ka_415",Koe="_sizePrice_z83ka_447",Zoe="_storesSection_z83ka_472",Joe="_storeList_z83ka_483",ece="_storeItem_z83ka_489",tce="_storeItemActive_z83ka_513",nce="_storeInfo_z83ka_521",sce="_storeIcon_z83ka_527",ace="_storeIconImg_z83ka_545",rce="_storeDetails_z83ka_552",ice="_storeIconSmall_z83ka_575",oce="_storeActions_z83ka_584",cce="_storePrice_z83ka_591",lce="_selectStoreBtn_z83ka_601",uce="_selectStoreBtnActive_z83ka_625",dce="_purchaseSection_z83ka_634",hce="_selectedInfo_z83ka_646",fce="_selectedSize_z83ka_656",mce="_selectedStore_z83ka_657",pce="_selectedPrice_z83ka_680",gce="_actionButtons_z83ka_692",_ce="_btnPrimary_z83ka_698",vce="_btnSecondary_z83ka_699",xce="_businessSection_z83ka_752",bce="_businessHeader_z83ka_763",yce="_businessLogo_z83ka_770",wce="_businessInfo_z83ka_783",jce="_businessName_z83ka_787",Cce="_businessDescription_z83ka_798",Sce="_businessLinks_z83ka_809",Nce="_businessLink_z83ka_809",kce="_tabsSection_z83ka_846",Ice="_tabsHeader_z83ka_857",Ece="_tabButton_z83ka_866",Tce="_tabButtonActive_z83ka_883",Dce="_tabContent_z83ka_905",Ace="_tabContentActive_z83ka_910",Mce="_specsTable_z83ka_914",Rce="_reviews_z83ka_946",Bce="_similarProductsSection_z83ka_980",Oce="_similarTitle_z83ka_990",Lce="_similarProductsGrid_z83ka_1001",Pn={container:xoe,loadingContainer:boe,errorContainer:yoe,backButton:woe,productLayout:joe,productGallery:Coe,mainImage:Soe,mainImageImg:Noe,visible:koe,slideInFromRight:Ioe,slideInFromLeft:Eoe,slideOutToLeft:Toe,slideOutToRight:Doe,galleryControls:Aoe,thumbnailContainer:Moe,thumbnailNavButton:Roe,thumbnailGallery:Boe,thumbnail:Ooe,thumbnailActive:Loe,productInfo:$oe,productHeader:Poe,productBrand:Foe,productTitle:Hoe,productRating:qoe,inStock:Voe,productDescription:zoe,sizesSection:Uoe,sectionTitle:Woe,sizeOptions:Yoe,sizeOption:Goe,sizeRadio:Qoe,sizeLabel:Xoe,sizePrice:Koe,storesSection:Zoe,storeList:Joe,storeItem:ece,storeItemActive:tce,storeInfo:nce,storeIcon:sce,storeIconImg:ace,storeDetails:rce,storeIconSmall:ice,storeActions:oce,storePrice:cce,selectStoreBtn:lce,selectStoreBtnActive:uce,purchaseSection:dce,selectedInfo:hce,selectedSize:fce,selectedStore:mce,selectedPrice:pce,actionButtons:gce,btnPrimary:_ce,btnSecondary:vce,businessSection:xce,businessHeader:bce,businessLogo:yce,businessInfo:wce,businessName:jce,businessDescription:Cce,businessLinks:Sce,businessLink:Nce,tabsSection:kce,tabsHeader:Ice,tabButton:Ece,tabButtonActive:Tce,tabContent:Dce,tabContentActive:Ace,specsTable:Mce,reviews:Rce,similarProductsSection:Bce,similarTitle:Oce,similarProductsGrid:Lce},$ce=()=>{const{pk:e}=ha(),t=Is(),{getFileUrl:n}=Er(),[a,r]=_.useState(null),[i,o]=_.useState(!0),[c,l]=_.useState(null),[d,f]=_.useState(0),[g,b]=_.useState(null),[w,C]=_.useState(null),[S,k]=_.useState(null),[E,D]=_.useState("specs"),[R,P]=_.useState(null),[B,O]=_.useState(null),$=_.useRef(null);_.useEffect(()=>{(async()=>{try{o(!0);const Y=await Be.get(`marketplace/api/products/${e}/`);if(r(Y.data),Y.data.product.default_variant){const ae=Y.data.product.default_variant;b(ae);const ne=ae.attributes.find(re=>re.attribute_name==="");ne&&k(ne.display_value),ae.locations&&ae.locations.length>0&&C(ae.locations[0])}}catch(Y){l(Y.message||"    ")}finally{o(!1)}})()},[e]);const U=()=>{if(!a)return[];const Q=new Map;return a.product.variants.forEach(Y=>{const ae=Y.attributes.find(ne=>ne.attribute_name==="");if(ae&&Y.is_in_stock&&Y.locations&&Y.locations.length>0){const ne=ae.display_value;if(Q.has(ne)){const re=Q.get(ne),oe=[...re.locations,...Y.locations||[]],me=oe.map(Ee=>parseFloat(Ee.price)),Ce=Math.min(...me),Ne=Math.max(...me);Y.locations.length>re.locations.length||Math.min(...Y.locations.map(Ee=>parseFloat(Ee.price)))<re.minPrice?Q.set(ne,{size:ne,variant:Y,minPrice:Ce,maxPrice:Ne,locations:oe}):Q.set(ne,{...re,minPrice:Ce,maxPrice:Ne,locations:oe})}else{const re=Y.locations.map(Ce=>parseFloat(Ce.price)),oe=Math.min(...re),me=Math.max(...re);Q.set(ne,{size:ne,variant:Y,minPrice:oe,maxPrice:me,locations:Y.locations||[]})}}}),Array.from(Q.values()).sort((Y,ae)=>{const ne=parseFloat(Y.size),re=parseFloat(ae.size);return!isNaN(ne)&&!isNaN(re)?ne-re:Y.size.localeCompare(ae.size)})},F=Q=>{k(Q.size),b(Q.variant),Q.locations&&Q.locations.length>0?C(Q.locations[0]):C(null)},H=Q=>{C(Q)},se=()=>{if(!a||R!==null)return;const Q=d,Y=Q===0?a.product.images.length-1:Q-1;O(Q),P("right"),setTimeout(()=>{f(Y),setTimeout(()=>{P(null),O(null)},300)},10)},K=()=>{if(!a||R!==null)return;const Q=d,Y=Q===a.product.images.length-1?0:Q+1;O(Q),P("left"),setTimeout(()=>{f(Y),setTimeout(()=>{P(null),O(null)},300)},10)},te=()=>{$.current&&$.current.scrollBy({top:-120,behavior:"smooth"})},J=()=>{$.current&&$.current.scrollBy({top:120,behavior:"smooth"})};_.useEffect(()=>{if($.current&&a&&a.product.images.length>1){const Q=$.current,Y=Q.children[d];if(Y){const ae=Q.getBoundingClientRect(),ne=Y.getBoundingClientRect(),re=ne.top<ae.top,oe=ne.bottom>ae.bottom;re?Y.scrollIntoView({behavior:"smooth",block:"nearest"}):oe&&Y.scrollIntoView({behavior:"smooth",block:"nearest"})}}},[d,a]);const z=Q=>new Intl.NumberFormat("ru-RU").format(Q);if(i)return s.jsx("div",{className:Pn.loadingContainer,children:s.jsx(Fn,{})});if(c||!a)return s.jsxs("div",{className:Pn.errorContainer,children:[s.jsx("p",{children:c||"  "}),s.jsx("button",{onClick:()=>t("/marketplace/categories"),className:Pn.backButton,children:"  "})]});const{product:V,breadcrumbs:M,same_products:ee}=a,Z=U(),A=g||V.default_variant,G=(A==null?void 0:A.locations)||[];return V.images[d]||V.images[0],s.jsxs("div",{className:Pn.container,children:[s.jsx(G3,{breadcrumbs:M,productName:V.name}),s.jsxs("div",{className:Pn.productLayout,children:[s.jsxs("div",{className:Pn.productGallery,children:[V.images.length>1&&s.jsxs("div",{className:Pn.thumbnailContainer,children:[s.jsx("button",{className:Pn.thumbnailNavButton,onClick:te,"aria-label":" ",children:s.jsx(ko,{})}),s.jsx("div",{className:Pn.thumbnailGallery,ref:$,children:V.images.map((Q,Y)=>s.jsx("div",{className:`${Pn.thumbnail} ${d===Y?Pn.thumbnailActive:""}`,onClick:()=>{if(R!==null||Y===d)return;const ae=d,ne=Y>ae?"left":"right";O(ae),P(ne),setTimeout(()=>{f(Y),setTimeout(()=>{P(null),O(null)},300)},10)},children:s.jsx("img",{src:n(Q.image),alt:`${V.name} ${Y+1}`})},Q.id))}),s.jsx("button",{className:Pn.thumbnailNavButton,onClick:J,"aria-label":" ",children:s.jsx(No,{})})]}),s.jsxs("div",{className:Pn.mainImage,children:[V.images.map((Q,Y)=>{const ae=Y===d,ne=Y===B;if(!(ae||ne))return null;let oe=Pn.visible;return R&&ne!==null&&(ae?oe=R==="left"?Pn.slideInFromRight:Pn.slideInFromLeft:ne&&(oe=R==="left"?Pn.slideOutToLeft:Pn.slideOutToRight)),s.jsx("img",{src:n(Q.image),alt:V.name,className:`${Pn.mainImageImg} ${oe}`},Q.id)}),V.images.length>1&&s.jsxs("div",{className:Pn.galleryControls,children:[s.jsx("button",{id:"prevImage",onClick:se,children:s.jsx(Kc,{})}),s.jsx("button",{id:"nextImage",onClick:K,children:s.jsx(Zc,{})})]})]})]}),s.jsxs("div",{className:Pn.productInfo,children:[s.jsxs("div",{className:Pn.productHeader,children:[s.jsx("div",{className:Pn.productBrand,children:V.business_name}),s.jsx("h1",{className:Pn.productTitle,children:V.name}),(A==null?void 0:A.is_in_stock)&&s.jsx("div",{className:Pn.productRating,children:s.jsx("span",{className:Pn.inStock,children:"  "})})]}),V.description&&s.jsx("p",{className:Pn.productDescription,children:V.description}),Z.length>0&&s.jsxs("div",{className:Pn.sizesSection,children:[s.jsxs("h2",{className:Pn.sectionTitle,children:[s.jsx("i",{className:"fas fa-ruler"}),"  "]}),s.jsx("div",{className:Pn.sizeOptions,children:Z.map(Q=>s.jsxs("div",{className:Pn.sizeOption,children:[s.jsx("input",{type:"radio",name:"size",id:`size-${Q.size}`,className:Pn.sizeRadio,checked:S===Q.size,onChange:()=>F(Q)}),s.jsx("label",{htmlFor:`size-${Q.size}`,className:Pn.sizeLabel,children:Q.size}),s.jsx("span",{className:Pn.sizePrice,children:Q.minPrice===Q.maxPrice?`${z(Q.minPrice)} `:`${z(Math.min(Q.minPrice,Q.maxPrice))} - ${z(Math.max(Q.minPrice,Q.maxPrice))} `})]},Q.size))})]}),G.length>0&&s.jsxs("div",{className:Pn.storesSection,children:[s.jsxs("h2",{className:Pn.sectionTitle,children:[s.jsx("i",{className:"fas fa-store"}),"   "]}),s.jsx("div",{className:Pn.storeList,children:G.map(Q=>s.jsxs("div",{className:`${Pn.storeItem} ${(w==null?void 0:w.id)===Q.id?Pn.storeItemActive:""}`,onClick:()=>H(Q),children:[s.jsxs("div",{className:Pn.storeInfo,children:[s.jsx("div",{className:Pn.storeIcon,children:V.business_logo?s.jsx("img",{src:n(V.business_logo),alt:V.business_name,className:Pn.storeIconImg}):Q.name.charAt(0)}),s.jsxs("div",{className:Pn.storeDetails,children:[s.jsx("h4",{children:Q.name}),s.jsxs("p",{children:[s.jsx(cr,{className:Pn.storeIconSmall}),Q.address]}),Q.contact_phone&&s.jsxs("p",{children:[s.jsx(RR,{className:Pn.storeIconSmall}),Q.contact_phone]})]})]}),s.jsxs("div",{className:Pn.storeActions,children:[s.jsxs("div",{className:Pn.storePrice,children:[z(Q.price)," "]}),s.jsx("button",{className:`${Pn.selectStoreBtn} ${(w==null?void 0:w.id)===Q.id?Pn.selectStoreBtnActive:""}`,onClick:Y=>{Y.stopPropagation(),H(Q)},children:(w==null?void 0:w.id)===Q.id?" ":""})]})]},Q.id))})]})]})]}),g&&w&&s.jsxs("div",{className:Pn.purchaseSection,children:[s.jsxs("div",{className:Pn.selectedInfo,children:[s.jsxs("div",{className:Pn.selectedSize,children:[s.jsx("span",{children:":"}),s.jsx("strong",{children:S})]}),s.jsxs("div",{className:Pn.selectedStore,children:[s.jsx("span",{children:":"}),s.jsx("span",{children:w.name})]})]}),s.jsxs("div",{className:Pn.selectedPrice,children:[z(w.price)," "]}),s.jsxs("div",{className:Pn.actionButtons,children:[s.jsxs("button",{className:Pn.btnPrimary,children:[s.jsx(Ah,{}),"   "]}),s.jsxs("button",{className:Pn.btnSecondary,children:[s.jsx(iQ,{}),"  "]})]})]}),s.jsxs("div",{className:Pn.businessSection,children:[s.jsxs("div",{className:Pn.businessHeader,children:[V.business_logo&&s.jsx("img",{src:n(V.business_logo),alt:V.business_name,className:Pn.businessLogo}),s.jsxs("div",{className:Pn.businessInfo,children:[s.jsx("h3",{className:Pn.businessName,children:V.business_name}),V.business_description&&s.jsx("p",{className:Pn.businessDescription,children:V.business_description})]})]}),s.jsxs("div",{className:Pn.businessLinks,children:[s.jsxs(Pa,{to:`/marketplace/categories/${V.category}/products?business=${V.business}`,className:Pn.businessLink,children:[s.jsx(pm,{}),"    "]}),V.business_slug&&s.jsxs(Pa,{to:`/business/${V.business_slug}`,className:Pn.businessLink,children:[s.jsx(mm,{}),"   "]}),V.business_website&&s.jsxs("a",{href:V.business_website,className:Pn.businessLink,target:"_blank",rel:"noopener noreferrer",children:[s.jsx(P3,{}),"  "]})]})]}),s.jsxs("div",{className:Pn.tabsSection,children:[s.jsxs("div",{className:Pn.tabsHeader,children:[s.jsx("button",{className:`${Pn.tabButton} ${E==="specs"?Pn.tabButtonActive:""}`,onClick:()=>D("specs"),children:""}),s.jsx("button",{className:`${Pn.tabButton} ${E==="reviews"?Pn.tabButtonActive:""}`,onClick:()=>D("reviews"),children:""}),s.jsx("button",{className:`${Pn.tabButton} ${E==="delivery"?Pn.tabButtonActive:""}`,onClick:()=>D("delivery"),children:"  "})]}),s.jsx("div",{className:`${Pn.tabContent} ${E==="specs"?Pn.tabContentActive:""}`,children:A&&A.attributes.length>0?s.jsx("table",{className:Pn.specsTable,children:s.jsx("tbody",{children:A.attributes.map(Q=>s.jsxs("tr",{children:[s.jsx("td",{children:Q.attribute_name}),s.jsx("td",{children:Q.display_value})]},Q.id))})}):s.jsx("p",{children:"  "})}),s.jsx("div",{className:`${Pn.tabContent} ${E==="reviews"?Pn.tabContentActive:""}`,children:s.jsx("div",{className:Pn.reviews,children:s.jsx("p",{children:"  .  !"})})}),s.jsxs("div",{className:`${Pn.tabContent} ${E==="delivery"?Pn.tabContentActive:""}`,children:[s.jsxs("p",{children:[s.jsx("strong",{children:":"}),"     1-3  .      5000 ."]}),s.jsxs("p",{children:[s.jsx("strong",{children:":"}),"       ."]}),s.jsxs("p",{children:[s.jsx("strong",{children:":"}),"    14       ."]})]})]}),ee&&ee.length>0&&s.jsxs("div",{className:Pn.similarProductsSection,children:[s.jsx("h2",{className:Pn.similarTitle,children:" "}),s.jsx("div",{className:Pn.similarProductsGrid,children:ee.map(Q=>s.jsx(lp,{product:Q},Q.id))})]})]})},zE=()=>{const{isAuthenticated:e,isLoading:t}=cp(),n=Kr();return t?s.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh"},children:s.jsx(Fn,{size:"large"})}):e?s.jsx(kg,{}):s.jsx(Sx,{to:"/registration-login",state:{from:n},replace:!0})},Pce="_accountPage_1x987_3",Fce="_pageContainer_1x987_11",Hce="_userAvatarSection_1x987_20",qce="_avatarWrapper_1x987_29",Vce="_userAvatar_1x987_20",zce="_userAvatarFallback_1x987_52",Uce="_userName_1x987_73",Wce="_bonusesSection_1x987_86",Yce="_statsTop_1x987_92",Gce="_statBox_1x987_98",Qce="_statIcon_1x987_117",Xce="_blue_1x987_129",Kce="_green_1x987_133",Zce="_purple_1x987_137",Jce="_statContent_1x987_141",ele="_statValue_1x987_145",tle="_statLabel_1x987_153",nle="_bonusSection_1x987_159",sle="_qrSection_1x987_171",ale="_qrHeader_1x987_181",rle="_qrContainer_1x987_199",ile="_qrCode_1x987_209",ole="_qrOverlay_1x987_227",cle="_qrFooter_1x987_259",lle="_qrExpiry_1x987_268",ule="_expiryLabel_1x987_282",dle="_expiryTime_1x987_287",hle="_refreshQrButton_1x987_293",fle="_spinning_1x987_322",mle="_tokenValue_1x987_354",ple="_copyBtn_1x987_366",gle="_copied_1x987_388",_le="_storesSection_1x987_393",vle="_storesHeader_1x987_401",xle="_storesNav_1x987_414",ble="_navBtn_1x987_419",yle="_storesScroll_1x987_438",wle="_storesGrid_1x987_460",jle="_storeCardHorizontal_1x987_468",Cle="_storeHeaderHorizontal_1x987_494",Sle="_storeLogoHorizontal_1x987_501",Nle="_storeInfoHorizontal_1x987_531",kle="_storeNameHorizontal_1x987_535",Ile="_bonusDisplayHorizontal_1x987_551",Ele="_bonusAmountHorizontal_1x987_560",Tle="_bonusLabelHorizontal_1x987_571",Dle="_progressSectionHorizontal_1x987_578",Ale="_progressLabel_1x987_582",Mle="_progressBar_1x987_590",Rle="_progressFill_1x987_597",Ble="_modalOverlay_1x987_605",Ole="_modalContent_1x987_625",Lle="_historyModalContent_1x987_643",$le="_modalQr_1x987_659",Ple="_modalExpiry_1x987_677",Fle="_modalExpiryTime_1x987_691",Hle="_modalActions_1x987_697",qle="_historyStoreInfo_1x987_724",Vle="_historyStoreName_1x987_732",zle="_historyStoreBalance_1x987_757",Ule="_transactionsList_1x987_771",Wle="_loadingMore_1x987_799",Yle="_noMoreTransactions_1x987_809",Gle="_transactionItem_1x987_817",Qle="_transactionHeader_1x987_830",Xle="_transactionType_1x987_837",Kle="_transactionIconAccrual_1x987_846",Zle="_transactionIconRedemption_1x987_851",Jle="_transactionAmount_1x987_856",eue="_positive_1x987_862",tue="_negative_1x987_866",nue="_transactionDescription_1x987_870",sue="_transactionFooter_1x987_877",aue="_transactionDate_1x987_887",rue="_transactionBalance_1x987_893",iue="_transactionReceipt_1x987_898",oue="_sectionHeaderWithNav_1x987_909",cue="_sectionTitle_1x987_916",lue="_sectionNav_1x987_930",uue="_businessesSection_1x987_1038",due="_businessesScroll_1x987_1043",hue="_businessesGrid_1x987_1071",fue="_businessCard_1x987_1078",mue="_businessHeader_1x987_1100",pue="_businessLogo_1x987_1109",gue="_businessInfo_1x987_1128",_ue="_businessType_1x987_1139",vue="_businessBody_1x987_1147",xue="_businessActions_1x987_1167",bue="_businessLink_1x987_1172",yue="_workSection_1x987_1189",wue="_employmentsScroll_1x987_1194",jue="_employmentsGrid_1x987_1222",Cue="_employmentCard_1x987_1228",Sue="_employmentHeader_1x987_1249",Nue="_companyLogo_1x987_1258",kue="_employmentInfo_1x987_1277",Iue="_employeeBadge_1x987_1288",Eue="_employmentDetails_1x987_1296",Tue="_detailItem_1x987_1300",Due="_locationsSection_1x987_1309",Aue="_locationsList_1x987_1320",Mue="_locationItem_1x987_1326",Rue="_positionTag_1x987_1338",Bue="_employmentActions_1x987_1347",Oue="_workLink_1x987_1351",Lue="_tabsSection_1x987_1368",$ue="_tabsHeader_1x987_1373",Pue="_tabsGrid_1x987_1377",Fue="_tabCard_1x987_1384",Hue="_tabIcon_1x987_1401",que="_tabContent_1x987_1414",Vue="_profileCard_1x987_1423",zue="_cardHeader_1x987_1427",Uue="_editBtn_1x987_1443",Wue="_infoGrid_1x987_1459",Yue="_infoItem_1x987_1465",Gue="_infoIcon_1x987_1471",Que="_securityGrid_1x987_1492",Xue="_securityCard_1x987_1498",Kue="_securityHeader_1x987_1510",Zue="_securityBtn_1x987_1536",Jue="_balanceCard_1x987_1554",ede="_balanceAmount_1x987_1569",tde="_balanceActions_1x987_1580",nde="_balanceBtn_1x987_1586",sde="_settingsGrid_1x987_1603",ade="_settingCard_1x987_1609",rde="_settingHeader_1x987_1621",ide="_settingBtn_1x987_1647",ode="_emptyState_1x987_1665",cde="_loadingState_1x987_1691",lde="_loadingWrapper_1x987_1698",ude="_errorWrapper_1x987_1706",dde="_errorCard_1x987_1714",hde="_errorIcon_1x987_1723",fde="_retryBtn_1x987_1741",mde="_footerSection_1x987_1758",pde="_logoutButton_1x987_1764",mt={accountPage:Pce,pageContainer:Fce,userAvatarSection:Hce,avatarWrapper:qce,userAvatar:Vce,userAvatarFallback:zce,userName:Uce,bonusesSection:Wce,statsTop:Yce,statBox:Gce,statIcon:Qce,blue:Xce,green:Kce,purple:Zce,statContent:Jce,statValue:ele,statLabel:tle,bonusSection:nle,qrSection:sle,qrHeader:ale,qrContainer:rle,qrCode:ile,qrOverlay:ole,qrFooter:cle,qrExpiry:lle,expiryLabel:ule,expiryTime:dle,refreshQrButton:hle,spinning:fle,tokenValue:mle,copyBtn:ple,copied:gle,storesSection:_le,storesHeader:vle,storesNav:xle,navBtn:ble,storesScroll:yle,storesGrid:wle,storeCardHorizontal:jle,storeHeaderHorizontal:Cle,storeLogoHorizontal:Sle,storeInfoHorizontal:Nle,storeNameHorizontal:kle,bonusDisplayHorizontal:Ile,bonusAmountHorizontal:Ele,bonusLabelHorizontal:Tle,progressSectionHorizontal:Dle,progressLabel:Ale,progressBar:Mle,progressFill:Rle,modalOverlay:Ble,modalContent:Ole,historyModalContent:Lle,modalQr:$le,modalExpiry:Ple,modalExpiryTime:Fle,modalActions:Hle,historyStoreInfo:qle,historyStoreName:Vle,historyStoreBalance:zle,transactionsList:Ule,loadingMore:Wle,noMoreTransactions:Yle,transactionItem:Gle,transactionHeader:Qle,transactionType:Xle,transactionIconAccrual:Kle,transactionIconRedemption:Zle,transactionAmount:Jle,positive:eue,negative:tue,transactionDescription:nue,transactionFooter:sue,transactionDate:aue,transactionBalance:rue,transactionReceipt:iue,sectionHeaderWithNav:oue,sectionTitle:cue,sectionNav:lue,businessesSection:uue,businessesScroll:due,businessesGrid:hue,businessCard:fue,businessHeader:mue,businessLogo:pue,businessInfo:gue,businessType:_ue,businessBody:vue,businessActions:xue,businessLink:bue,workSection:yue,employmentsScroll:wue,employmentsGrid:jue,employmentCard:Cue,employmentHeader:Sue,companyLogo:Nue,employmentInfo:kue,employeeBadge:Iue,employmentDetails:Eue,detailItem:Tue,locationsSection:Due,locationsList:Aue,locationItem:Mue,positionTag:Rue,employmentActions:Bue,workLink:Oue,tabsSection:Lue,tabsHeader:$ue,tabsGrid:Pue,tabCard:Fue,tabIcon:Hue,tabContent:que,profileCard:Vue,cardHeader:zue,editBtn:Uue,infoGrid:Wue,infoItem:Yue,infoIcon:Gue,securityGrid:Que,securityCard:Xue,securityHeader:Kue,securityBtn:Zue,balanceCard:Jue,balanceAmount:ede,balanceActions:tde,balanceBtn:nde,settingsGrid:sde,settingCard:ade,settingHeader:rde,settingBtn:ide,emptyState:ode,loadingState:cde,loadingWrapper:lde,errorWrapper:ude,errorCard:dde,errorIcon:hde,retryBtn:fde,footerSection:mde,logoutButton:pde};var gde=Object.defineProperty,Wx=Object.getOwnPropertySymbols,qB=Object.prototype.hasOwnProperty,VB=Object.prototype.propertyIsEnumerable,UE=(e,t,n)=>t in e?gde(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,wS=(e,t)=>{for(var n in t||(t={}))qB.call(t,n)&&UE(e,n,t[n]);if(Wx)for(var n of Wx(t))VB.call(t,n)&&UE(e,n,t[n]);return e},jS=(e,t)=>{var n={};for(var a in e)qB.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(e!=null&&Wx)for(var a of Wx(e))t.indexOf(a)<0&&VB.call(e,a)&&(n[a]=e[a]);return n};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var Wh;(e=>{const t=class Da{constructor(l,d,f,g){if(this.version=l,this.errorCorrectionLevel=d,this.modules=[],this.isFunction=[],l<Da.MIN_VERSION||l>Da.MAX_VERSION)throw new RangeError("Version value out of range");if(g<-1||g>7)throw new RangeError("Mask value out of range");this.size=l*4+17;let b=[];for(let C=0;C<this.size;C++)b.push(!1);for(let C=0;C<this.size;C++)this.modules.push(b.slice()),this.isFunction.push(b.slice());this.drawFunctionPatterns();const w=this.addEccAndInterleave(f);if(this.drawCodewords(w),g==-1){let C=1e9;for(let S=0;S<8;S++){this.applyMask(S),this.drawFormatBits(S);const k=this.getPenaltyScore();k<C&&(g=S,C=k),this.applyMask(S)}}r(0<=g&&g<=7),this.mask=g,this.applyMask(g),this.drawFormatBits(g),this.isFunction=[]}static encodeText(l,d){const f=e.QrSegment.makeSegments(l);return Da.encodeSegments(f,d)}static encodeBinary(l,d){const f=e.QrSegment.makeBytes(l);return Da.encodeSegments([f],d)}static encodeSegments(l,d,f=1,g=40,b=-1,w=!0){if(!(Da.MIN_VERSION<=f&&f<=g&&g<=Da.MAX_VERSION)||b<-1||b>7)throw new RangeError("Invalid value");let C,S;for(C=f;;C++){const R=Da.getNumDataCodewords(C,d)*8,P=o.getTotalBits(l,C);if(P<=R){S=P;break}if(C>=g)throw new RangeError("Data too long")}for(const R of[Da.Ecc.MEDIUM,Da.Ecc.QUARTILE,Da.Ecc.HIGH])w&&S<=Da.getNumDataCodewords(C,R)*8&&(d=R);let k=[];for(const R of l){n(R.mode.modeBits,4,k),n(R.numChars,R.mode.numCharCountBits(C),k);for(const P of R.getData())k.push(P)}r(k.length==S);const E=Da.getNumDataCodewords(C,d)*8;r(k.length<=E),n(0,Math.min(4,E-k.length),k),n(0,(8-k.length%8)%8,k),r(k.length%8==0);for(let R=236;k.length<E;R^=253)n(R,8,k);let D=[];for(;D.length*8<k.length;)D.push(0);return k.forEach((R,P)=>D[P>>>3]|=R<<7-(P&7)),new Da(C,d,D,b)}getModule(l,d){return 0<=l&&l<this.size&&0<=d&&d<this.size&&this.modules[d][l]}getModules(){return this.modules}drawFunctionPatterns(){for(let f=0;f<this.size;f++)this.setFunctionModule(6,f,f%2==0),this.setFunctionModule(f,6,f%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const l=this.getAlignmentPatternPositions(),d=l.length;for(let f=0;f<d;f++)for(let g=0;g<d;g++)f==0&&g==0||f==0&&g==d-1||f==d-1&&g==0||this.drawAlignmentPattern(l[f],l[g]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(l){const d=this.errorCorrectionLevel.formatBits<<3|l;let f=d;for(let b=0;b<10;b++)f=f<<1^(f>>>9)*1335;const g=(d<<10|f)^21522;r(g>>>15==0);for(let b=0;b<=5;b++)this.setFunctionModule(8,b,a(g,b));this.setFunctionModule(8,7,a(g,6)),this.setFunctionModule(8,8,a(g,7)),this.setFunctionModule(7,8,a(g,8));for(let b=9;b<15;b++)this.setFunctionModule(14-b,8,a(g,b));for(let b=0;b<8;b++)this.setFunctionModule(this.size-1-b,8,a(g,b));for(let b=8;b<15;b++)this.setFunctionModule(8,this.size-15+b,a(g,b));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let l=this.version;for(let f=0;f<12;f++)l=l<<1^(l>>>11)*7973;const d=this.version<<12|l;r(d>>>18==0);for(let f=0;f<18;f++){const g=a(d,f),b=this.size-11+f%3,w=Math.floor(f/3);this.setFunctionModule(b,w,g),this.setFunctionModule(w,b,g)}}drawFinderPattern(l,d){for(let f=-4;f<=4;f++)for(let g=-4;g<=4;g++){const b=Math.max(Math.abs(g),Math.abs(f)),w=l+g,C=d+f;0<=w&&w<this.size&&0<=C&&C<this.size&&this.setFunctionModule(w,C,b!=2&&b!=4)}}drawAlignmentPattern(l,d){for(let f=-2;f<=2;f++)for(let g=-2;g<=2;g++)this.setFunctionModule(l+g,d+f,Math.max(Math.abs(g),Math.abs(f))!=1)}setFunctionModule(l,d,f){this.modules[d][l]=f,this.isFunction[d][l]=!0}addEccAndInterleave(l){const d=this.version,f=this.errorCorrectionLevel;if(l.length!=Da.getNumDataCodewords(d,f))throw new RangeError("Invalid argument");const g=Da.NUM_ERROR_CORRECTION_BLOCKS[f.ordinal][d],b=Da.ECC_CODEWORDS_PER_BLOCK[f.ordinal][d],w=Math.floor(Da.getNumRawDataModules(d)/8),C=g-w%g,S=Math.floor(w/g);let k=[];const E=Da.reedSolomonComputeDivisor(b);for(let R=0,P=0;R<g;R++){let B=l.slice(P,P+S-b+(R<C?0:1));P+=B.length;const O=Da.reedSolomonComputeRemainder(B,E);R<C&&B.push(0),k.push(B.concat(O))}let D=[];for(let R=0;R<k[0].length;R++)k.forEach((P,B)=>{(R!=S-b||B>=C)&&D.push(P[R])});return r(D.length==w),D}drawCodewords(l){if(l.length!=Math.floor(Da.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let d=0;for(let f=this.size-1;f>=1;f-=2){f==6&&(f=5);for(let g=0;g<this.size;g++)for(let b=0;b<2;b++){const w=f-b,S=(f+1&2)==0?this.size-1-g:g;!this.isFunction[S][w]&&d<l.length*8&&(this.modules[S][w]=a(l[d>>>3],7-(d&7)),d++)}}r(d==l.length*8)}applyMask(l){if(l<0||l>7)throw new RangeError("Mask value out of range");for(let d=0;d<this.size;d++)for(let f=0;f<this.size;f++){let g;switch(l){case 0:g=(f+d)%2==0;break;case 1:g=d%2==0;break;case 2:g=f%3==0;break;case 3:g=(f+d)%3==0;break;case 4:g=(Math.floor(f/3)+Math.floor(d/2))%2==0;break;case 5:g=f*d%2+f*d%3==0;break;case 6:g=(f*d%2+f*d%3)%2==0;break;case 7:g=((f+d)%2+f*d%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[d][f]&&g&&(this.modules[d][f]=!this.modules[d][f])}}getPenaltyScore(){let l=0;for(let b=0;b<this.size;b++){let w=!1,C=0,S=[0,0,0,0,0,0,0];for(let k=0;k<this.size;k++)this.modules[b][k]==w?(C++,C==5?l+=Da.PENALTY_N1:C>5&&l++):(this.finderPenaltyAddHistory(C,S),w||(l+=this.finderPenaltyCountPatterns(S)*Da.PENALTY_N3),w=this.modules[b][k],C=1);l+=this.finderPenaltyTerminateAndCount(w,C,S)*Da.PENALTY_N3}for(let b=0;b<this.size;b++){let w=!1,C=0,S=[0,0,0,0,0,0,0];for(let k=0;k<this.size;k++)this.modules[k][b]==w?(C++,C==5?l+=Da.PENALTY_N1:C>5&&l++):(this.finderPenaltyAddHistory(C,S),w||(l+=this.finderPenaltyCountPatterns(S)*Da.PENALTY_N3),w=this.modules[k][b],C=1);l+=this.finderPenaltyTerminateAndCount(w,C,S)*Da.PENALTY_N3}for(let b=0;b<this.size-1;b++)for(let w=0;w<this.size-1;w++){const C=this.modules[b][w];C==this.modules[b][w+1]&&C==this.modules[b+1][w]&&C==this.modules[b+1][w+1]&&(l+=Da.PENALTY_N2)}let d=0;for(const b of this.modules)d=b.reduce((w,C)=>w+(C?1:0),d);const f=this.size*this.size,g=Math.ceil(Math.abs(d*20-f*10)/f)-1;return r(0<=g&&g<=9),l+=g*Da.PENALTY_N4,r(0<=l&&l<=2568888),l}getAlignmentPatternPositions(){if(this.version==1)return[];{const l=Math.floor(this.version/7)+2,d=this.version==32?26:Math.ceil((this.version*4+4)/(l*2-2))*2;let f=[6];for(let g=this.size-7;f.length<l;g-=d)f.splice(1,0,g);return f}}static getNumRawDataModules(l){if(l<Da.MIN_VERSION||l>Da.MAX_VERSION)throw new RangeError("Version number out of range");let d=(16*l+128)*l+64;if(l>=2){const f=Math.floor(l/7)+2;d-=(25*f-10)*f-55,l>=7&&(d-=36)}return r(208<=d&&d<=29648),d}static getNumDataCodewords(l,d){return Math.floor(Da.getNumRawDataModules(l)/8)-Da.ECC_CODEWORDS_PER_BLOCK[d.ordinal][l]*Da.NUM_ERROR_CORRECTION_BLOCKS[d.ordinal][l]}static reedSolomonComputeDivisor(l){if(l<1||l>255)throw new RangeError("Degree out of range");let d=[];for(let g=0;g<l-1;g++)d.push(0);d.push(1);let f=1;for(let g=0;g<l;g++){for(let b=0;b<d.length;b++)d[b]=Da.reedSolomonMultiply(d[b],f),b+1<d.length&&(d[b]^=d[b+1]);f=Da.reedSolomonMultiply(f,2)}return d}static reedSolomonComputeRemainder(l,d){let f=d.map(g=>0);for(const g of l){const b=g^f.shift();f.push(0),d.forEach((w,C)=>f[C]^=Da.reedSolomonMultiply(w,b))}return f}static reedSolomonMultiply(l,d){if(l>>>8||d>>>8)throw new RangeError("Byte out of range");let f=0;for(let g=7;g>=0;g--)f=f<<1^(f>>>7)*285,f^=(d>>>g&1)*l;return r(f>>>8==0),f}finderPenaltyCountPatterns(l){const d=l[1];r(d<=this.size*3);const f=d>0&&l[2]==d&&l[3]==d*3&&l[4]==d&&l[5]==d;return(f&&l[0]>=d*4&&l[6]>=d?1:0)+(f&&l[6]>=d*4&&l[0]>=d?1:0)}finderPenaltyTerminateAndCount(l,d,f){return l&&(this.finderPenaltyAddHistory(d,f),d=0),d+=this.size,this.finderPenaltyAddHistory(d,f),this.finderPenaltyCountPatterns(f)}finderPenaltyAddHistory(l,d){d[0]==0&&(l+=this.size),d.pop(),d.unshift(l)}};t.MIN_VERSION=1,t.MAX_VERSION=40,t.PENALTY_N1=3,t.PENALTY_N2=3,t.PENALTY_N3=40,t.PENALTY_N4=10,t.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],t.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],e.QrCode=t;function n(c,l,d){if(l<0||l>31||c>>>l)throw new RangeError("Value out of range");for(let f=l-1;f>=0;f--)d.push(c>>>f&1)}function a(c,l){return(c>>>l&1)!=0}function r(c){if(!c)throw new Error("Assertion error")}const i=class ii{constructor(l,d,f){if(this.mode=l,this.numChars=d,this.bitData=f,d<0)throw new RangeError("Invalid argument");this.bitData=f.slice()}static makeBytes(l){let d=[];for(const f of l)n(f,8,d);return new ii(ii.Mode.BYTE,l.length,d)}static makeNumeric(l){if(!ii.isNumeric(l))throw new RangeError("String contains non-numeric characters");let d=[];for(let f=0;f<l.length;){const g=Math.min(l.length-f,3);n(parseInt(l.substring(f,f+g),10),g*3+1,d),f+=g}return new ii(ii.Mode.NUMERIC,l.length,d)}static makeAlphanumeric(l){if(!ii.isAlphanumeric(l))throw new RangeError("String contains unencodable characters in alphanumeric mode");let d=[],f;for(f=0;f+2<=l.length;f+=2){let g=ii.ALPHANUMERIC_CHARSET.indexOf(l.charAt(f))*45;g+=ii.ALPHANUMERIC_CHARSET.indexOf(l.charAt(f+1)),n(g,11,d)}return f<l.length&&n(ii.ALPHANUMERIC_CHARSET.indexOf(l.charAt(f)),6,d),new ii(ii.Mode.ALPHANUMERIC,l.length,d)}static makeSegments(l){return l==""?[]:ii.isNumeric(l)?[ii.makeNumeric(l)]:ii.isAlphanumeric(l)?[ii.makeAlphanumeric(l)]:[ii.makeBytes(ii.toUtf8ByteArray(l))]}static makeEci(l){let d=[];if(l<0)throw new RangeError("ECI assignment value out of range");if(l<128)n(l,8,d);else if(l<16384)n(2,2,d),n(l,14,d);else if(l<1e6)n(6,3,d),n(l,21,d);else throw new RangeError("ECI assignment value out of range");return new ii(ii.Mode.ECI,0,d)}static isNumeric(l){return ii.NUMERIC_REGEX.test(l)}static isAlphanumeric(l){return ii.ALPHANUMERIC_REGEX.test(l)}getData(){return this.bitData.slice()}static getTotalBits(l,d){let f=0;for(const g of l){const b=g.mode.numCharCountBits(d);if(g.numChars>=1<<b)return 1/0;f+=4+b+g.bitData.length}return f}static toUtf8ByteArray(l){l=encodeURI(l);let d=[];for(let f=0;f<l.length;f++)l.charAt(f)!="%"?d.push(l.charCodeAt(f)):(d.push(parseInt(l.substring(f+1,f+3),16)),f+=2);return d}};i.NUMERIC_REGEX=/^[0-9]*$/,i.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,i.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let o=i;e.QrSegment=i})(Wh||(Wh={}));(e=>{(t=>{const n=class{constructor(r,i){this.ordinal=r,this.formatBits=i}};n.LOW=new n(0,1),n.MEDIUM=new n(1,0),n.QUARTILE=new n(2,3),n.HIGH=new n(3,2),t.Ecc=n})(e.QrCode||(e.QrCode={}))})(Wh||(Wh={}));(e=>{(t=>{const n=class{constructor(r,i){this.modeBits=r,this.numBitsCharCount=i}numCharCountBits(r){return this.numBitsCharCount[Math.floor((r+7)/17)]}};n.NUMERIC=new n(1,[10,12,14]),n.ALPHANUMERIC=new n(2,[9,11,13]),n.BYTE=new n(4,[8,16,16]),n.KANJI=new n(8,[8,10,12]),n.ECI=new n(7,[0,0,0]),t.Mode=n})(e.QrSegment||(e.QrSegment={}))})(Wh||(Wh={}));var cm=Wh;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var _de={L:cm.QrCode.Ecc.LOW,M:cm.QrCode.Ecc.MEDIUM,Q:cm.QrCode.Ecc.QUARTILE,H:cm.QrCode.Ecc.HIGH},zB=128,UB="L",WB="#FFFFFF",YB="#000000",GB=!1,QB=1,vde=4,xde=0,bde=.1;function XB(e,t=0){const n=[];return e.forEach(function(a,r){let i=null;a.forEach(function(o,c){if(!o&&i!==null){n.push(`M${i+t} ${r+t}h${c-i}v1H${i+t}z`),i=null;return}if(c===a.length-1){if(!o)return;i===null?n.push(`M${c+t},${r+t} h1v1H${c+t}z`):n.push(`M${i+t},${r+t} h${c+1-i}v1H${i+t}z`);return}o&&i===null&&(i=c)})}),n.join("")}function KB(e,t){return e.slice().map((n,a)=>a<t.y||a>=t.y+t.h?n:n.map((r,i)=>i<t.x||i>=t.x+t.w?r:!1))}function yde(e,t,n,a){if(a==null)return null;const r=e.length+n*2,i=Math.floor(t*bde),o=r/t,c=(a.width||i)*o,l=(a.height||i)*o,d=a.x==null?e.length/2-c/2:a.x*o,f=a.y==null?e.length/2-l/2:a.y*o,g=a.opacity==null?1:a.opacity;let b=null;if(a.excavate){let C=Math.floor(d),S=Math.floor(f),k=Math.ceil(c+d-C),E=Math.ceil(l+f-S);b={x:C,y:S,w:k,h:E}}const w=a.crossOrigin;return{x:d,y:f,h:l,w:c,excavation:b,opacity:g,crossOrigin:w}}function wde(e,t){return t!=null?Math.max(Math.floor(t),0):e?vde:xde}function ZB({value:e,level:t,minVersion:n,includeMargin:a,marginSize:r,imageSettings:i,size:o,boostLevel:c}){let l=nt.useMemo(()=>{const C=(Array.isArray(e)?e:[e]).reduce((S,k)=>(S.push(...cm.QrSegment.makeSegments(k)),S),[]);return cm.QrCode.encodeSegments(C,_de[t],n,void 0,void 0,c)},[e,t,n,c]);const{cells:d,margin:f,numCells:g,calculatedImageSettings:b}=nt.useMemo(()=>{let w=l.getModules();const C=wde(a,r),S=w.length+C*2,k=yde(w,o,C,i);return{cells:w,margin:C,numCells:S,calculatedImageSettings:k}},[l,o,i,a,r]);return{qrcode:l,margin:f,cells:d,numCells:g,calculatedImageSettings:b}}var jde=function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0}(),Cde=nt.forwardRef(function(t,n){const a=t,{value:r,size:i=zB,level:o=UB,bgColor:c=WB,fgColor:l=YB,includeMargin:d=GB,minVersion:f=QB,boostLevel:g,marginSize:b,imageSettings:w}=a,S=jS(a,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:k}=S,E=jS(S,["style"]),D=w==null?void 0:w.src,R=nt.useRef(null),P=nt.useRef(null),B=nt.useCallback(J=>{R.current=J,typeof n=="function"?n(J):n&&(n.current=J)},[n]),[O,$]=nt.useState(!1),{margin:U,cells:F,numCells:H,calculatedImageSettings:se}=ZB({value:r,level:o,minVersion:f,boostLevel:g,includeMargin:d,marginSize:b,imageSettings:w,size:i});nt.useEffect(()=>{if(R.current!=null){const J=R.current,z=J.getContext("2d");if(!z)return;let V=F;const M=P.current,ee=se!=null&&M!==null&&M.complete&&M.naturalHeight!==0&&M.naturalWidth!==0;ee&&se.excavation!=null&&(V=KB(F,se.excavation));const Z=window.devicePixelRatio||1;J.height=J.width=i*Z;const A=i/H*Z;z.scale(A,A),z.fillStyle=c,z.fillRect(0,0,H,H),z.fillStyle=l,jde?z.fill(new Path2D(XB(V,U))):F.forEach(function(G,Q){G.forEach(function(Y,ae){Y&&z.fillRect(ae+U,Q+U,1,1)})}),se&&(z.globalAlpha=se.opacity),ee&&z.drawImage(M,se.x+U,se.y+U,se.w,se.h)}}),nt.useEffect(()=>{$(!1)},[D]);const K=wS({height:i,width:i},k);let te=null;return D!=null&&(te=nt.createElement("img",{src:D,key:D,style:{display:"none"},onLoad:()=>{$(!0)},ref:P,crossOrigin:se==null?void 0:se.crossOrigin})),nt.createElement(nt.Fragment,null,nt.createElement("canvas",wS({style:K,height:i,width:i,ref:B,role:"img"},E)),te)});Cde.displayName="QRCodeCanvas";var Dm=nt.forwardRef(function(t,n){const a=t,{value:r,size:i=zB,level:o=UB,bgColor:c=WB,fgColor:l=YB,includeMargin:d=GB,minVersion:f=QB,boostLevel:g,title:b,marginSize:w,imageSettings:C}=a,S=jS(a,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:k,cells:E,numCells:D,calculatedImageSettings:R}=ZB({value:r,level:o,minVersion:f,boostLevel:g,includeMargin:d,marginSize:w,imageSettings:C,size:i});let P=E,B=null;C!=null&&R!=null&&(R.excavation!=null&&(P=KB(E,R.excavation)),B=nt.createElement("image",{href:C.src,height:R.h,width:R.w,x:R.x+k,y:R.y+k,preserveAspectRatio:"none",opacity:R.opacity,crossOrigin:R.crossOrigin}));const O=XB(P,k);return nt.createElement("svg",wS({height:i,width:i,viewBox:`0 0 ${D} ${D}`,ref:n,role:"img"},S),!!b&&nt.createElement("title",null,b),nt.createElement("path",{fill:c,d:`M0,0 h${D}v${D}H0z`,shapeRendering:"crispEdges"}),nt.createElement("path",{fill:l,d:O,shapeRendering:"crispEdges"}),B)});Dm.displayName="QRCodeSVG";function JB(e){return Zt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M22.0049 6.99979H23.0049V16.9998H22.0049V19.9998C22.0049 20.5521 21.5572 20.9998 21.0049 20.9998H3.00488C2.4526 20.9998 2.00488 20.5521 2.00488 19.9998V3.99979C2.00488 3.4475 2.4526 2.99979 3.00488 2.99979H21.0049C21.5572 2.99979 22.0049 3.4475 22.0049 3.99979V6.99979ZM20.0049 16.9998H14.0049C11.2435 16.9998 9.00488 14.7612 9.00488 11.9998C9.00488 9.23836 11.2435 6.99979 14.0049 6.99979H20.0049V4.99979H4.00488V18.9998H20.0049V16.9998ZM21.0049 14.9998V8.99979H14.0049C12.348 8.99979 11.0049 10.3429 11.0049 11.9998C11.0049 13.6566 12.348 14.9998 14.0049 14.9998H21.0049ZM14.0049 10.9998H17.0049V12.9998H14.0049V10.9998Z"},child:[]}]})(e)}function eO(e){return Zt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M5 18H19V11.0314C19 7.14806 15.866 4 12 4C8.13401 4 5 7.14806 5 11.0314V18ZM12 2C16.9706 2 21 6.04348 21 11.0314V20H3V11.0314C3 6.04348 7.02944 2 12 2ZM9.5 21H14.5C14.5 22.3807 13.3807 23.5 12 23.5C10.6193 23.5 9.5 22.3807 9.5 21Z"},child:[]}]})(e)}function tO(e){return Zt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M14 21C13.4477 21 13 20.5523 13 20V12C13 11.4477 13.4477 11 14 11H20C20.5523 11 21 11.4477 21 12V20C21 20.5523 20.5523 21 20 21H14ZM4 13C3.44772 13 3 12.5523 3 12V4C3 3.44772 3.44772 3 4 3H10C10.5523 3 11 3.44772 11 4V12C11 12.5523 10.5523 13 10 13H4ZM9 11V5H5V11H9ZM4 21C3.44772 21 3 20.5523 3 20V16C3 15.4477 3.44772 15 4 15H10C10.5523 15 11 15.4477 11 16V20C11 20.5523 10.5523 21 10 21H4ZM5 19H9V17H5V19ZM15 19H19V13H15V19ZM13 4C13 3.44772 13.4477 3 14 3H20C20.5523 3 21 3.44772 21 4V8C21 8.55228 20.5523 9 20 9H14C13.4477 9 13 8.55228 13 8V4ZM15 5V7H19V5H15Z"},child:[]}]})(e)}function nO(e){return Zt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M3.78307 2.82598L12 1L20.2169 2.82598C20.6745 2.92766 21 3.33347 21 3.80217V13.7889C21 15.795 19.9974 17.6684 18.3282 18.7812L12 23L5.6718 18.7812C4.00261 17.6684 3 15.795 3 13.7889V3.80217C3 3.33347 3.32553 2.92766 3.78307 2.82598ZM5 4.60434V13.7889C5 15.1263 5.6684 16.3752 6.7812 17.1171L12 20.5963L17.2188 17.1171C18.3316 16.3752 19 15.1263 19 13.7889V4.60434L12 3.04879L5 4.60434ZM12 11C10.6193 11 9.5 9.88071 9.5 8.5C9.5 7.11929 10.6193 6 12 6C13.3807 6 14.5 7.11929 14.5 8.5C14.5 9.88071 13.3807 11 12 11ZM7.52746 16C7.77619 13.75 9.68372 12 12 12C14.3163 12 16.2238 13.75 16.4725 16H7.52746Z"},child:[]}]})(e)}const Sde="_closeButton_lthjv_1",Nde={closeButton:Sde},Li=({onClick:e,className:t="",...n})=>s.jsx("button",{className:`${Nde.closeButton} ${t}`,onClick:e,"aria-label":"",...n,children:s.jsx(da,{})}),kde=()=>{var Fe;const[e,t]=_.useState(null),[n,a]=_.useState(!0),[r,i]=_.useState(""),[o,c]=_.useState(null),[l,d]=_.useState([]),[f,g]=_.useState(!1),[b,w]=_.useState([]),[C,S]=_.useState(!1),[k,E]=_.useState(null),[D,R]=_.useState(!1),[P,B]=_.useState(!1),[O,$]=_.useState(!1),[U,F]=_.useState(!1),[H,se]=_.useState(null),[K,te]=_.useState(!1),[J,z]=_.useState(null),[V,M]=_.useState([]),[ee,Z]=_.useState(!1),[A,G]=_.useState(!1),[Q,Y]=_.useState(0),ae=_.useRef(null),ne=_.useRef(null),re=_.useRef(null),oe=_.useRef(null),me=Is(),{logout:Ce}=cp();_.useEffect(()=>{(async()=>{var qe;try{const tt=await Be.get("accounts/api/account/",{withCredentials:!0});t(tt.data)}catch(tt){i("    "),((qe=tt.response)==null?void 0:qe.status)===401&&me("/registration-login")}finally{a(!1)}})()},[me]),_.useEffect(()=>{(async()=>{try{g(!0);const qe=await Be.get("api/my-employments/");d(qe.data)}catch(qe){console.error("   :",qe)}finally{g(!1)}})()},[]),_.useEffect(()=>{const je=async()=>{try{S(!0);const tt=await Be.get("api/user/bonus-balances/");w(tt.data||[])}catch(tt){console.error("   :",tt)}finally{S(!1)}},qe=async()=>{try{R(!0);const tt=await Be.get("api/user/qr-code/");E(tt.data)}catch(tt){console.error("  QR-:",tt)}finally{R(!1)}};je(),qe()},[]);const Ne=nt.useCallback(async()=>{try{B(!0);const je=await Be.get("api/user/qr-code/");E(je.data)}catch(je){console.error("  QR-:",je)}finally{B(!1)}},[]);_.useEffect(()=>{if(!(k!=null&&k.expires_at)){se(null);return}const je=()=>{const Ze=new Date(k.expires_at)-new Date;if(Ze<=0){se(""),Ne();return}const Pe=Math.floor(Ze/6e4),bt=Math.floor(Ze%6e4/1e3);Pe>0?se(`${Pe}  ${bt} `):se(`${bt} `)};je();const qe=setInterval(je,1e3);return()=>clearInterval(qe)},[k==null?void 0:k.expires_at,Ne]);const Ee=async()=>{await Ce()},ve=je=>new Date(je).toLocaleDateString("ru-RU",{year:"numeric",month:"long",day:"numeric"}),Se=()=>b.reduce((je,qe)=>je+parseFloat(qe.balance||0),0),fe=()=>{k!=null&&k.qr_token&&(navigator.clipboard.writeText(k.qr_token),$(!0),setTimeout(()=>$(!1),2e3))},de=je=>{ne.current&&ne.current.scrollBy({left:je==="next"?300:-300,behavior:"smooth"})},pe=je=>{re.current&&re.current.scrollBy({left:je==="next"?350:-350,behavior:"smooth"})},ce=je=>{oe.current&&oe.current.scrollBy({left:je==="next"?350:-350,behavior:"smooth"})},Re=async(je,qe)=>{var tt;z({business:je,location:qe}),te(!0),Z(!0),Y(0),G(!1);try{const he=await Be.get(`api/user/bonus-history/${je.slug}/`,{params:{offset:0,page_size:20}});M(Array.isArray(he.data.transactions)?he.data.transactions:[]),G(he.data.has_more||!1),Y(((tt=he.data.transactions)==null?void 0:tt.length)||0)}catch(he){console.error("   :",he),M([]),G(!1)}finally{Z(!1)}},Ae=_.useCallback(async()=>{if(!(!J||ee||!A)){Z(!0);try{const je=await Be.get(`api/user/bonus-history/${J.business.slug}/`,{params:{offset:Q,page_size:20}});M(qe=>[...qe,...je.data.transactions||[]]),G(je.data.has_more||!1),Y(qe=>{var tt;return qe+(((tt=je.data.transactions)==null?void 0:tt.length)||0)})}catch(je){console.error("   :",je)}finally{Z(!1)}}},[J,ee,A,Q]);_.useEffect(()=>{if(!K||!ae.current)return;const je=()=>{const tt=ae.current;if(!tt)return;const he=tt.scrollTop,Ze=tt.scrollHeight,Pe=tt.clientHeight;he+Pe>=Ze*.8&&A&&!ee&&Ae()},qe=ae.current;if(qe)return qe.addEventListener("scroll",je),()=>{qe&&qe.removeEventListener("scroll",je)}},[K,A,ee,J,Q,Ae]);const ie=je=>({accrual:"",redemption:"",expiry:"",adjustment:""})[je]||je,ge=[{id:"profile",label:"",icon:s.jsx(Vx,{})},{id:"security",label:"",icon:s.jsx(MB,{})},{id:"wallet",label:"",icon:s.jsx(JB,{})},{id:"settings",label:"",icon:s.jsx(AB,{})}];if(n)return s.jsx("div",{className:mt.loadingWrapper,children:s.jsx(Fn,{size:"large"})});if(r)return s.jsx("div",{className:mt.errorWrapper,children:s.jsxs("div",{className:mt.errorCard,children:[s.jsx("div",{className:mt.errorIcon,children:""}),s.jsx("h3",{children:" "}),s.jsx("p",{children:r}),s.jsx("button",{onClick:()=>window.location.reload(),className:mt.retryBtn,children:" "})]})});const be=Se();return s.jsxs("div",{className:mt.accountPage,children:[s.jsx("section",{className:mt.userAvatarSection,children:s.jsx("div",{className:mt.pageContainer,children:s.jsxs("div",{className:mt.avatarWrapper,children:[e.avatar?s.jsx("img",{src:e.avatar,alt:"",className:mt.userAvatar}):s.jsx("div",{className:mt.userAvatarFallback,children:e.first_name.charAt(0).toUpperCase()}),s.jsx("h2",{className:mt.userName,children:e.first_name})]})})}),s.jsx("section",{className:mt.bonusesSection,children:s.jsxs("div",{className:mt.pageContainer,children:[s.jsxs("div",{className:mt.statsTop,children:[s.jsxs("div",{className:mt.statBox,children:[s.jsx("div",{className:`${mt.statIcon} ${mt.blue}`,children:s.jsx(kR,{})}),s.jsxs("div",{className:mt.statContent,children:[s.jsx("div",{className:mt.statValue,children:be.toLocaleString("ru-RU",{maximumFractionDigits:0})}),s.jsx("div",{className:mt.statLabel,children:" "})]})]}),s.jsxs("div",{className:mt.statBox,children:[s.jsx("div",{className:`${mt.statIcon} ${mt.green}`,children:s.jsx(mm,{})}),s.jsxs("div",{className:mt.statContent,children:[s.jsx("div",{className:mt.statValue,children:b.length}),s.jsx("div",{className:mt.statLabel,children:" "})]})]}),s.jsxs("div",{className:mt.statBox,children:[s.jsx("div",{className:`${mt.statIcon} ${mt.purple}`,children:s.jsx(vi,{})}),s.jsxs("div",{className:mt.statContent,children:[s.jsxs("div",{className:mt.statValue,children:[be.toLocaleString("ru-RU",{maximumFractionDigits:0})," "]}),s.jsx("div",{className:mt.statLabel,children:"  "})]})]})]}),s.jsxs("div",{className:mt.bonusSection,children:[s.jsxs("div",{className:mt.qrSection,children:[s.jsxs("div",{className:mt.qrHeader,children:[s.jsx("h3",{children:" QR-"}),s.jsx("p",{children:"     "})]}),D?s.jsx("div",{className:mt.loadingState,children:s.jsx(Fn,{size:"small"})}):k?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:mt.qrContainer,onClick:()=>F(!0),children:s.jsxs("div",{className:mt.qrCode,children:[s.jsx(Dm,{value:k.qr_token,size:160,level:"H",includeMargin:!0}),s.jsxs("div",{className:mt.qrOverlay,children:[s.jsx(ER,{}),s.jsxs("p",{children:[" ",s.jsx("br",{}),""]})]})]})}),s.jsxs("div",{className:mt.qrFooter,children:[H&&s.jsxs("div",{className:mt.qrExpiry,children:[s.jsx("span",{className:mt.expiryLabel,children:":"}),s.jsx("span",{className:mt.expiryTime,children:H})]}),s.jsxs("button",{className:mt.refreshQrButton,onClick:Ne,disabled:P,title:" QR-",children:[s.jsx(Og,{className:P?mt.spinning:""}),P?"...":""]})]})]}):s.jsx("div",{className:mt.emptyState,children:"   QR-"})]}),s.jsxs("div",{className:mt.storesSection,children:[s.jsxs("div",{className:mt.storesHeader,children:[s.jsx("h3",{children:" "}),s.jsxs("div",{className:mt.storesNav,children:[s.jsx("button",{className:mt.navBtn,onClick:()=>de("prev"),children:s.jsx(Kc,{})}),s.jsx("button",{className:mt.navBtn,onClick:()=>de("next"),children:s.jsx(Zc,{})})]})]}),C?s.jsx("div",{className:mt.loadingState,children:s.jsx(Fn,{size:"medium"})}):b.length===0?s.jsxs("div",{className:mt.emptyState,children:[s.jsx(vi,{}),s.jsx("h4",{children:"    "}),s.jsx("p",{children:"        "})]}):s.jsx("div",{className:mt.storesScroll,ref:ne,children:s.jsx("div",{className:mt.storesGrid,children:b.map(je=>s.jsxs("div",{className:mt.storeCardHorizontal,onClick:()=>Re(je,je.primary_location),style:{cursor:"pointer"},children:[s.jsxs("div",{className:mt.storeHeaderHorizontal,children:[s.jsx("div",{className:mt.storeLogoHorizontal,children:je.business_logo?s.jsxs(s.Fragment,{children:[s.jsx("img",{src:je.business_logo,alt:je.name,onError:qe=>{qe.target.style.display="none";const tt=qe.target.nextSibling;tt&&(tt.style.display="flex")}}),s.jsx("div",{style:{display:"none"},children:s.jsx(mm,{})})]}):s.jsx("div",{children:s.jsx(mm,{})})}),s.jsx("div",{className:mt.storeInfoHorizontal,children:s.jsx("div",{className:mt.storeNameHorizontal,children:je.name})})]}),s.jsxs("div",{className:mt.bonusDisplayHorizontal,children:[s.jsx("div",{className:mt.bonusAmountHorizontal,children:parseFloat(je.balance||0).toLocaleString("ru-RU",{maximumFractionDigits:0})}),s.jsx("div",{className:mt.bonusLabelHorizontal,children:""})]}),je.tier&&s.jsxs("div",{className:mt.progressSectionHorizontal,children:[s.jsxs("div",{className:mt.progressLabel,children:[s.jsx("span",{children:""}),s.jsx("span",{children:je.tier.name})]}),s.jsx("div",{className:mt.progressBar,children:s.jsx("div",{className:mt.progressFill,style:{width:`${Math.min(parseFloat(je.tier.bonus_percent)*10,100)}%`}})})]})]},je.slug))})})]})]})]})}),K&&J&&s.jsx("div",{className:mt.modalOverlay,onClick:()=>te(!1),children:s.jsxs("div",{className:mt.historyModalContent,onClick:je=>je.stopPropagation(),children:[s.jsx(Li,{onClick:()=>te(!1)}),s.jsx("h2",{children:" "}),s.jsxs("div",{className:mt.historyStoreInfo,children:[s.jsx("div",{className:mt.historyStoreName,children:J.business.name}),s.jsxs("div",{className:mt.historyStoreBalance,children:[": ",s.jsxs("span",{children:[parseFloat(J.business.balance||0).toLocaleString("ru-RU",{maximumFractionDigits:0})," "]})]})]}),ee?s.jsx("div",{className:mt.loadingState,children:s.jsx(Fn,{size:"medium"})}):!Array.isArray(V)||V.length===0?s.jsxs("div",{className:mt.emptyState,children:[s.jsx(vi,{}),s.jsx("p",{children:"  "})]}):s.jsxs("div",{className:mt.transactionsList,ref:ae,children:[Array.isArray(V)&&V.map(je=>s.jsxs("div",{className:mt.transactionItem,children:[s.jsxs("div",{className:mt.transactionHeader,children:[s.jsxs("div",{className:mt.transactionType,children:[je.transaction_type==="accrual"?s.jsx(p0,{className:mt.transactionIconAccrual}):s.jsx(m0,{className:mt.transactionIconRedemption}),s.jsx("span",{children:ie(je.transaction_type)})]}),s.jsxs("div",{className:`${mt.transactionAmount} ${je.transaction_type==="accrual"?mt.positive:mt.negative}`,children:[je.transaction_type==="accrual"?"+":"-",parseFloat(je.amount).toLocaleString("ru-RU",{maximumFractionDigits:0})]})]}),je.description&&s.jsx("div",{className:mt.transactionDescription,children:je.description}),s.jsxs("div",{className:mt.transactionFooter,children:[s.jsx("div",{className:mt.transactionDate,children:new Date(je.created_at).toLocaleString("ru-RU",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})}),s.jsxs("div",{className:mt.transactionBalance,children:[" : ",parseFloat(je.balance_after).toLocaleString("ru-RU",{maximumFractionDigits:0})]})]}),je.receipt&&s.jsxs("div",{className:mt.transactionReceipt,children:[" ",je.receipt.number]})]},je.id)),ee&&Array.isArray(V)&&V.length>0&&s.jsxs("div",{className:mt.loadingMore,children:[s.jsx(Fn,{size:"small"}),s.jsx("span",{children:"..."})]}),!A&&Array.isArray(V)&&V.length>0&&s.jsx("div",{className:mt.noMoreTransactions,children:"  "})]})]})}),U&&k&&s.jsx("div",{className:mt.modalOverlay,onClick:()=>F(!1),children:s.jsxs("div",{className:mt.modalContent,onClick:je=>je.stopPropagation(),children:[s.jsx(Li,{onClick:()=>F(!1)}),s.jsx("h2",{children:" QR-"}),s.jsx("div",{className:mt.modalQr,children:s.jsx(Dm,{value:k.qr_token,size:250,level:"H",includeMargin:!0})}),s.jsx("p",{children:"       "}),H&&s.jsxs("div",{className:mt.modalExpiry,children:[s.jsx("span",{children:":"}),s.jsx("span",{className:mt.modalExpiryTime,children:H})]}),s.jsx("div",{className:mt.tokenValue,children:k.qr_token}),s.jsxs("div",{className:mt.modalActions,children:[s.jsx("button",{className:`${mt.copyBtn} ${O?mt.copied:""}`,onClick:fe,children:O?s.jsxs(s.Fragment,{children:[s.jsx(Xr,{})," !"]}):s.jsxs(s.Fragment,{children:[s.jsx(Ad,{}),"  "]})}),s.jsxs("button",{className:mt.refreshQrButton,onClick:Ne,disabled:P,children:[s.jsx(Og,{className:P?mt.spinning:""}),P?"...":" QR-"]})]})]})}),e.is_business&&((Fe=e.businesses)==null?void 0:Fe.length)>0&&s.jsx("section",{className:mt.businessesSection,children:s.jsxs("div",{className:mt.pageContainer,children:[s.jsxs("div",{className:mt.sectionHeaderWithNav,children:[s.jsxs("h3",{className:mt.sectionTitle,children:[s.jsx(Ac,{}),"  "]}),s.jsxs("div",{className:mt.sectionNav,children:[s.jsx("button",{className:mt.navBtn,onClick:()=>pe("prev"),children:s.jsx(Kc,{})}),s.jsx("button",{className:mt.navBtn,onClick:()=>pe("next"),children:s.jsx(Zc,{})})]})]}),s.jsx("div",{className:mt.businessesScroll,ref:re,children:s.jsx("div",{className:mt.businessesGrid,children:e.businesses.map(je=>s.jsxs("div",{className:mt.businessCard,children:[s.jsxs("div",{className:mt.businessHeader,children:[s.jsx("div",{className:mt.businessLogo,children:je.business_logo?s.jsxs(s.Fragment,{children:[s.jsx("img",{src:je.business_logo,alt:je.name,onError:qe=>{qe.target.style.display="none";const tt=qe.target.nextSibling;tt&&(tt.style.display="flex")}}),s.jsx("div",{style:{display:"none"},children:s.jsx(Ac,{})})]}):s.jsx("div",{children:s.jsx(Ac,{})})}),s.jsxs("div",{className:mt.businessInfo,children:[s.jsx("h4",{children:je.name}),s.jsx("span",{className:mt.businessType,children:je.business_type})]})]}),s.jsx("div",{className:mt.businessBody,children:s.jsx("p",{children:je.description||" "})}),s.jsx("div",{className:mt.businessActions,children:s.jsxs(Pa,{to:`/business/${je.slug}/main`,className:mt.businessLink,children:[s.jsx(tO,{})," ",s.jsx(qx,{})]})})]},je.id))})})]})}),l.length>0&&s.jsx("section",{className:mt.workSection,children:s.jsxs("div",{className:mt.pageContainer,children:[s.jsxs("div",{className:mt.sectionHeaderWithNav,children:[s.jsxs("h3",{className:mt.sectionTitle,children:[s.jsx(NB,{}),"   "]}),!f&&s.jsxs("div",{className:mt.sectionNav,children:[s.jsx("button",{className:mt.navBtn,onClick:()=>ce("prev"),children:s.jsx(Kc,{})}),s.jsx("button",{className:mt.navBtn,onClick:()=>ce("next"),children:s.jsx(Zc,{})})]})]}),f?s.jsx("div",{className:mt.loadingState,children:s.jsx(Fn,{size:"medium"})}):s.jsx("div",{className:mt.employmentsScroll,ref:oe,children:s.jsx("div",{className:mt.employmentsGrid,children:l.map(je=>s.jsxs("div",{className:mt.employmentCard,children:[s.jsxs("div",{className:mt.employmentHeader,children:[s.jsx("div",{className:mt.companyLogo,children:je.business.business_logo?s.jsx("img",{src:je.business.business_logo,alt:je.business.name}):s.jsx(Ac,{})}),s.jsxs("div",{className:mt.employmentInfo,children:[s.jsx("h4",{children:je.business.name}),je.employee_name&&s.jsx("span",{className:mt.employeeBadge,children:je.employee_name})]})]}),s.jsxs("div",{className:mt.employmentDetails,children:[je.hired_date&&s.jsxs("div",{className:mt.detailItem,children:[s.jsx(Hx,{}),s.jsxs("span",{children:[" : ",ve(je.hired_date)]})]}),je.locations.length>0&&s.jsxs("div",{className:mt.locationsSection,children:[s.jsx("h5",{children:":"}),s.jsx("div",{className:mt.locationsList,children:je.locations.map(qe=>s.jsxs("div",{className:mt.locationItem,children:[s.jsx(bS,{}),s.jsxs("div",{children:[s.jsx("strong",{children:qe.location_name}),qe.position&&s.jsx("span",{className:mt.positionTag,children:qe.position})]})]},qe.id))})]})]}),s.jsx("div",{className:mt.employmentActions,children:s.jsxs(Pa,{to:`/business/${je.business.slug}/main`,className:mt.workLink,children:["  ",s.jsx(qx,{})]})})]},je.id))})})]})}),s.jsx("section",{className:mt.tabsSection,children:s.jsxs("div",{className:mt.pageContainer,children:[s.jsx("div",{className:mt.tabsHeader,children:s.jsx("h3",{className:mt.sectionTitle,children:"  "})}),s.jsx("div",{className:mt.tabsGrid,children:ge.map(je=>s.jsxs(os.div,{whileHover:{scale:1.02,y:-5},className:mt.tabCard,onClick:()=>c(o===je.id?null:je.id),children:[s.jsx("div",{className:mt.tabIcon,children:je.icon}),s.jsx("h4",{children:je.label})]},je.id))}),s.jsx(Xc,{mode:"wait",children:o&&s.jsxs(os.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},className:mt.tabContent,children:[o==="profile"&&s.jsx("div",{className:mt.profileTab,children:s.jsxs("div",{className:mt.profileCard,children:[s.jsxs("div",{className:mt.cardHeader,children:[s.jsx("h4",{children:" "}),s.jsx("button",{className:mt.editBtn,children:""})]}),s.jsxs("div",{className:mt.infoGrid,children:[s.jsxs("div",{className:mt.infoItem,children:[s.jsx(Vx,{className:mt.infoIcon}),s.jsxs("div",{children:[s.jsx("label",{children:""}),s.jsx("p",{children:e.first_name})]})]}),s.jsxs("div",{className:mt.infoItem,children:[s.jsx(EB,{className:mt.infoIcon}),s.jsxs("div",{children:[s.jsx("label",{children:"Email"}),s.jsx("p",{children:e.email})]})]}),s.jsxs("div",{className:mt.infoItem,children:[s.jsx(DB,{className:mt.infoIcon}),s.jsxs("div",{children:[s.jsx("label",{children:""}),s.jsx("p",{children:e.phone||" "})]})]}),s.jsxs("div",{className:mt.infoItem,children:[s.jsx(Hx,{className:mt.infoIcon}),s.jsxs("div",{children:[s.jsx("label",{children:" "}),s.jsx("p",{children:ve(e.date_joined)})]})]})]})]})}),o==="security"&&s.jsx("div",{className:mt.securityTab,children:s.jsxs("div",{className:mt.securityGrid,children:[s.jsxs("div",{className:mt.securityCard,children:[s.jsxs("div",{className:mt.securityHeader,children:[s.jsx(kB,{}),s.jsx("h4",{children:""})]}),s.jsx("p",{children:"     "}),s.jsx("button",{className:mt.securityBtn,children:" "})]}),s.jsxs("div",{className:mt.securityCard,children:[s.jsxs("div",{className:mt.securityHeader,children:[s.jsx(nO,{}),s.jsx("h4",{children:"2FA"})]}),s.jsx("p",{children:"  "}),s.jsx("button",{className:mt.securityBtn,children:" 2FA"})]}),s.jsxs("div",{className:mt.securityCard,children:[s.jsxs("div",{className:mt.securityHeader,children:[s.jsx(xS,{}),s.jsx("h4",{children:""})]}),s.jsx("p",{children:"  "}),s.jsx("button",{className:mt.securityBtn,children:" "})]})]})}),o==="wallet"&&s.jsx("div",{className:mt.walletTab,children:s.jsxs("div",{className:mt.balanceCard,children:[s.jsx("h4",{children:" "}),s.jsx("p",{className:mt.balanceAmount,children:"12,450 "}),s.jsxs("div",{className:mt.balanceActions,children:[s.jsx("button",{className:mt.balanceBtn,children:""}),s.jsx("button",{className:mt.balanceBtn,children:""})]})]})}),o==="settings"&&s.jsx("div",{className:mt.settingsTab,children:s.jsxs("div",{className:mt.settingsGrid,children:[s.jsxs("div",{className:mt.settingCard,children:[s.jsxs("div",{className:mt.settingHeader,children:[s.jsx(SB,{}),s.jsx("h4",{children:""})]}),s.jsx("p",{children:"  "}),s.jsx("button",{className:mt.settingBtn,children:""})]}),s.jsxs("div",{className:mt.settingCard,children:[s.jsxs("div",{className:mt.settingHeader,children:[s.jsx(TB,{}),s.jsx("h4",{children:""})]}),s.jsx("p",{children:"  "}),s.jsx("button",{className:mt.settingBtn,children:""})]}),s.jsxs("div",{className:mt.settingCard,children:[s.jsxs("div",{className:mt.settingHeader,children:[s.jsx(eO,{}),s.jsx("h4",{children:""})]}),s.jsx("p",{children:" "}),s.jsx("button",{className:mt.settingBtn,children:""})]})]})})]},o)})]})}),s.jsx("section",{className:mt.footerSection,children:s.jsx("div",{className:mt.pageContainer,children:s.jsxs("button",{className:mt.logoutButton,onClick:Ee,children:[s.jsx(IB,{}),"  "]})})})]})},Ide="_accountPage_984q2_3",Ede="_userAvatarSection_984q2_40",Tde="_avatarWrapper_984q2_48",Dde="_userAvatar_984q2_40",Ade="_userAvatarFallback_984q2_65",Mde="_userName_984q2_80",Rde="_statsSection_984q2_92",Bde="_statsGrid_984q2_96",Ode="_statBox_984q2_102",Lde="_statIcon_984q2_121",$de="_blue_984q2_133",Pde="_green_984q2_137",Fde="_purple_984q2_141",Hde="_statContent_984q2_145",qde="_statValue_984q2_152",Vde="_statLabel_984q2_159",zde="_qrSection_984q2_166",Ude="_qrCard_984q2_170",Wde="_qrHeader_984q2_179",Yde="_qrContainer_984q2_197",Gde="_qrCode_984q2_209",Qde="_qrOverlay_984q2_227",Xde="_qrFooter_984q2_259",Kde="_qrExpiry_984q2_268",Zde="_expiryLabel_984q2_282",Jde="_expiryTime_984q2_287",ehe="_refreshQrButton_984q2_293",the="_spinning_984q2_323",nhe="_storesSection_984q2_337",she="_sectionHeader_984q2_341",ahe="_sectionTitle_984q2_345",rhe="_storesList_984q2_355",ihe="_storeCard_984q2_386",ohe="_storeHeader_984q2_407",che="_storeLogo_984q2_414",lhe="_storeInfo_984q2_443",uhe="_storeName_984q2_448",dhe="_bonusDisplay_984q2_456",hhe="_bonusAmount_984q2_463",fhe="_bonusLabel_984q2_469",mhe="_progressSection_984q2_474",phe="_progressLabel_984q2_478",ghe="_progressBar_984q2_487",_he="_progressFill_984q2_495",vhe="_businessesSection_984q2_503",xhe="_businessesList_984q2_507",bhe="_businessCard_984q2_538",yhe="_businessHeader_984q2_553",whe="_businessLogo_984q2_560",jhe="_businessInfo_984q2_589",Che="_businessType_984q2_601",She="_businessBody_984q2_606",Nhe="_businessActions_984q2_625",khe="_businessLink_984q2_630",Ihe="_workSection_984q2_655",Ehe="_employmentsList_984q2_659",The="_employmentCard_984q2_690",Dhe="_employmentHeader_984q2_701",Ahe="_companyLogo_984q2_708",Mhe="_employmentInfo_984q2_732",Rhe="_employeeBadge_984q2_744",Bhe="_employmentDetails_984q2_754",Ohe="_detailItem_984q2_758",Lhe="_locationsSection_984q2_772",$he="_locationsList_984q2_783",Phe="_locationItem_984q2_789",Fhe="_positionTag_984q2_812",Hhe="_employmentActions_984q2_823",qhe="_workLink_984q2_827",Vhe="_tabsSection_984q2_852",zhe="_tabsGrid_984q2_856",Uhe="_tabCard_984q2_863",Whe="_tabIcon_984q2_887",Yhe="_tabContent_984q2_899",Ghe="_profileTab_984q2_904",Qhe="_profileCard_984q2_908",Xhe="_cardHeader_984q2_915",Khe="_editBtn_984q2_931",Zhe="_infoGrid_984q2_951",Jhe="_infoItem_984q2_957",efe="_infoIcon_984q2_963",tfe="_securityTab_984q2_984",nfe="_securityGrid_984q2_988",sfe="_securityCard_984q2_994",afe="_securityHeader_984q2_1001",rfe="_securityBtn_984q2_1027",ife="_walletTab_984q2_1049",ofe="_balanceCard_984q2_1053",cfe="_balanceAmount_984q2_1068",lfe="_balanceActions_984q2_1075",ufe="_balanceBtn_984q2_1080",dfe="_settingsTab_984q2_1102",hfe="_settingsGrid_984q2_1106",ffe="_settingCard_984q2_1112",mfe="_settingHeader_984q2_1119",pfe="_settingContent_984q2_1145",gfe="_settingBtn_984q2_1153",_fe="_footerSection_984q2_1175",vfe="_logoutButton_984q2_1180",xfe="_modalOverlay_984q2_1206",bfe="_historyModalContent_984q2_1221",yfe="_qrModalContent_984q2_1222",wfe="_modalHeader_984q2_1234",jfe="_modalClose_984q2_1255",Cfe="_historyStoreInfo_984q2_1279",Sfe="_historyStoreName_984q2_1284",Nfe="_historyStoreBalance_984q2_1291",kfe="_transactionsList_984q2_1301",Ife="_transactionItem_984q2_1308",Efe="_transactionHeader_984q2_1316",Tfe="_transactionType_984q2_1323",Dfe="_transactionIconAccrual_984q2_1332",Afe="_transactionIconRedemption_984q2_1336",Mfe="_transactionAmount_984q2_1340",Rfe="_positive_984q2_1345",Bfe="_negative_984q2_1349",Ofe="_transactionDescription_984q2_1353",Lfe="_transactionFooter_984q2_1360",$fe="_transactionDate_984q2_1368",Pfe="_transactionBalance_984q2_1372",Ffe="_transactionReceipt_984q2_1376",Hfe="_loadingMore_984q2_1386",qfe="_noMoreTransactions_984q2_1387",Vfe="_modalQr_984q2_1402",zfe="_modalQrText_984q2_1412",Ufe="_modalExpiry_984q2_1419",Wfe="_modalExpiryTime_984q2_1432",Yfe="_tokenValue_984q2_1438",Gfe="_modalActions_984q2_1450",Qfe="_copyBtn_984q2_1458",Xfe="_copied_984q2_1483",Kfe="_loadingWrapper_984q2_1488",Zfe="_errorWrapper_984q2_1489",Jfe="_errorCard_984q2_1498",eme="_errorIcon_984q2_1507",tme="_retryBtn_984q2_1525",nme="_loadingState_984q2_1545",sme="_emptyState_984q2_1552",gt={accountPage:Ide,userAvatarSection:Ede,avatarWrapper:Tde,userAvatar:Dde,userAvatarFallback:Ade,userName:Mde,statsSection:Rde,statsGrid:Bde,statBox:Ode,statIcon:Lde,blue:$de,green:Pde,purple:Fde,statContent:Hde,statValue:qde,statLabel:Vde,qrSection:zde,qrCard:Ude,qrHeader:Wde,qrContainer:Yde,qrCode:Gde,qrOverlay:Qde,qrFooter:Xde,qrExpiry:Kde,expiryLabel:Zde,expiryTime:Jde,refreshQrButton:ehe,spinning:the,storesSection:nhe,sectionHeader:she,sectionTitle:ahe,storesList:rhe,storeCard:ihe,storeHeader:ohe,storeLogo:che,storeInfo:lhe,storeName:uhe,bonusDisplay:dhe,bonusAmount:hhe,bonusLabel:fhe,progressSection:mhe,progressLabel:phe,progressBar:ghe,progressFill:_he,businessesSection:vhe,businessesList:xhe,businessCard:bhe,businessHeader:yhe,businessLogo:whe,businessInfo:jhe,businessType:Che,businessBody:She,businessActions:Nhe,businessLink:khe,workSection:Ihe,employmentsList:Ehe,employmentCard:The,employmentHeader:Dhe,companyLogo:Ahe,employmentInfo:Mhe,employeeBadge:Rhe,employmentDetails:Bhe,detailItem:Ohe,locationsSection:Lhe,locationsList:$he,locationItem:Phe,positionTag:Fhe,employmentActions:Hhe,workLink:qhe,tabsSection:Vhe,tabsGrid:zhe,tabCard:Uhe,tabIcon:Whe,tabContent:Yhe,profileTab:Ghe,profileCard:Qhe,cardHeader:Xhe,editBtn:Khe,infoGrid:Zhe,infoItem:Jhe,infoIcon:efe,securityTab:tfe,securityGrid:nfe,securityCard:sfe,securityHeader:afe,securityBtn:rfe,walletTab:ife,balanceCard:ofe,balanceAmount:cfe,balanceActions:lfe,balanceBtn:ufe,settingsTab:dfe,settingsGrid:hfe,settingCard:ffe,settingHeader:mfe,settingContent:pfe,settingBtn:gfe,footerSection:_fe,logoutButton:vfe,modalOverlay:xfe,historyModalContent:bfe,qrModalContent:yfe,modalHeader:wfe,modalClose:jfe,historyStoreInfo:Cfe,historyStoreName:Sfe,historyStoreBalance:Nfe,transactionsList:kfe,transactionItem:Ife,transactionHeader:Efe,transactionType:Tfe,transactionIconAccrual:Dfe,transactionIconRedemption:Afe,transactionAmount:Mfe,positive:Rfe,negative:Bfe,transactionDescription:Ofe,transactionFooter:Lfe,transactionDate:$fe,transactionBalance:Pfe,transactionReceipt:Ffe,loadingMore:Hfe,noMoreTransactions:qfe,modalQr:Vfe,modalQrText:zfe,modalExpiry:Ufe,modalExpiryTime:Wfe,tokenValue:Yfe,modalActions:Gfe,copyBtn:Qfe,copied:Xfe,loadingWrapper:Kfe,errorWrapper:Zfe,errorCard:Jfe,errorIcon:eme,retryBtn:tme,loadingState:nme,emptyState:sme},ame=()=>{var Ae;const[e,t]=_.useState(null),[n,a]=_.useState(!0),[r,i]=_.useState(""),[o,c]=_.useState(null),[l,d]=_.useState([]),[f,g]=_.useState(!1),[b,w]=_.useState([]),[C,S]=_.useState(!1),[k,E]=_.useState(null),[D,R]=_.useState(!1),[P,B]=_.useState(!1),[O,$]=_.useState(!1),[U,F]=_.useState(!1),[H,se]=_.useState(null),[K,te]=_.useState(!1),[J,z]=_.useState(null),[V,M]=_.useState([]),[ee,Z]=_.useState(!1),[A,G]=_.useState(!1),[Q,Y]=_.useState(0),ae=_.useRef(null),ne=Is(),{logout:re}=cp(),{selectedCity:oe,setSelectedCity:me}=U3();_.useEffect(()=>{(async()=>{var ge;try{const be=await Be.get("accounts/api/account/",{withCredentials:!0});t(be.data)}catch(be){i("    "),((ge=be.response)==null?void 0:ge.status)===401&&ne("/registration-login")}finally{a(!1)}})()},[ne]),_.useEffect(()=>{(async()=>{try{g(!0);const ge=await Be.get("api/my-employments/");d(ge.data)}catch(ge){console.error("   :",ge)}finally{g(!1)}})()},[]),_.useEffect(()=>{const ie=async()=>{try{S(!0);const be=await Be.get("api/user/bonus-balances/");w(be.data||[])}catch(be){console.error("   :",be)}finally{S(!1)}},ge=async()=>{try{R(!0);const be=await Be.get("api/user/qr-code/");E(be.data)}catch(be){console.error("  QR-:",be)}finally{R(!1)}};ie(),ge()},[]);const Ce=nt.useCallback(async()=>{try{B(!0);const ie=await Be.get("api/user/qr-code/");E(ie.data)}catch(ie){console.error("  QR-:",ie)}finally{B(!1)}},[]);_.useEffect(()=>{if(!(k!=null&&k.expires_at)){se(null);return}const ie=()=>{const je=new Date(k.expires_at)-new Date;if(je<=0){se(""),Ce();return}const qe=Math.floor(je/6e4),tt=Math.floor(je%6e4/1e3);qe>0?se(`${qe}  ${tt} `):se(`${tt} `)};ie();const ge=setInterval(ie,1e3);return()=>clearInterval(ge)},[k==null?void 0:k.expires_at,Ce]);const Ne=async()=>{await re()},Ee=ie=>new Date(ie).toLocaleDateString("ru-RU",{year:"numeric",month:"long",day:"numeric"}),ve=()=>b.reduce((ie,ge)=>ie+parseFloat(ge.balance||0),0),Se=()=>{k!=null&&k.qr_token&&(navigator.clipboard.writeText(k.qr_token),$(!0),setTimeout(()=>$(!1),2e3))},fe=async(ie,ge)=>{var be;z({business:ie,location:ge}),te(!0),Z(!0),Y(0),G(!1);try{const Fe=await Be.get(`api/user/bonus-history/${ie.slug}/`,{params:{offset:0,page_size:20}});M(Array.isArray(Fe.data.transactions)?Fe.data.transactions:[]),G(Fe.data.has_more||!1),Y(((be=Fe.data.transactions)==null?void 0:be.length)||0)}catch(Fe){console.error("   :",Fe),M([]),G(!1)}finally{Z(!1)}},de=_.useCallback(async()=>{if(!(!J||ee||!A)){Z(!0);try{const ie=await Be.get(`api/user/bonus-history/${J.business.slug}/`,{params:{offset:Q,page_size:20}});M(ge=>[...ge,...ie.data.transactions||[]]),G(ie.data.has_more||!1),Y(ge=>{var be;return ge+(((be=ie.data.transactions)==null?void 0:be.length)||0)})}catch(ie){console.error("   :",ie)}finally{Z(!1)}}},[J,ee,A,Q]);_.useEffect(()=>{if(!K||!ae.current)return;const ie=()=>{const be=ae.current;if(!be)return;const Fe=be.scrollTop,je=be.scrollHeight,qe=be.clientHeight;Fe+qe>=je*.8&&A&&!ee&&de()},ge=ae.current;if(ge)return ge.addEventListener("scroll",ie),()=>{ge&&ge.removeEventListener("scroll",ie)}},[K,A,ee,J,Q,de]);const pe=ie=>({accrual:"",redemption:"",expiry:"",adjustment:""})[ie]||ie,ce=[{id:"profile",label:"",icon:s.jsx(Vx,{})},{id:"security",label:"",icon:s.jsx(MB,{})},{id:"wallet",label:"",icon:s.jsx(JB,{})},{id:"settings",label:"",icon:s.jsx(AB,{})}];if(n)return s.jsx("div",{className:gt.loadingWrapper,children:s.jsx(Fn,{size:"large"})});if(r)return s.jsx("div",{className:gt.errorWrapper,children:s.jsxs("div",{className:gt.errorCard,children:[s.jsx("div",{className:gt.errorIcon,children:""}),s.jsx("h3",{children:" "}),s.jsx("p",{children:r}),s.jsx("button",{onClick:()=>window.location.reload(),className:gt.retryBtn,children:" "})]})});const Re=ve();return s.jsxs("div",{className:gt.accountPage,children:[s.jsx("section",{className:gt.userAvatarSection,children:s.jsxs("div",{className:gt.avatarWrapper,children:[e.avatar?s.jsx("img",{src:e.avatar,alt:"",className:gt.userAvatar}):s.jsx("div",{className:gt.userAvatarFallback,children:e.first_name.charAt(0).toUpperCase()}),s.jsx("h2",{className:gt.userName,children:e.first_name})]})}),s.jsx("section",{className:gt.statsSection,children:s.jsxs("div",{className:gt.statsGrid,children:[s.jsxs("div",{className:gt.statBox,children:[s.jsx("div",{className:`${gt.statIcon} ${gt.blue}`,children:s.jsx(kR,{})}),s.jsxs("div",{className:gt.statContent,children:[s.jsx("div",{className:gt.statValue,children:Re.toLocaleString("ru-RU",{maximumFractionDigits:0})}),s.jsx("div",{className:gt.statLabel,children:" "})]})]}),s.jsxs("div",{className:gt.statBox,children:[s.jsx("div",{className:`${gt.statIcon} ${gt.green}`,children:s.jsx(mm,{})}),s.jsxs("div",{className:gt.statContent,children:[s.jsx("div",{className:gt.statValue,children:b.length}),s.jsx("div",{className:gt.statLabel,children:""})]})]}),s.jsxs("div",{className:gt.statBox,children:[s.jsx("div",{className:`${gt.statIcon} ${gt.purple}`,children:s.jsx(vi,{})}),s.jsxs("div",{className:gt.statContent,children:[s.jsxs("div",{className:gt.statValue,children:[Re.toLocaleString("ru-RU",{maximumFractionDigits:0})," "]}),s.jsx("div",{className:gt.statLabel,children:""})]})]})]})}),s.jsx("section",{className:gt.qrSection,children:s.jsxs("div",{className:gt.qrCard,children:[s.jsxs("div",{className:gt.qrHeader,children:[s.jsx("h3",{children:" QR-"}),s.jsx("p",{children:"     "})]}),D?s.jsx("div",{className:gt.loadingState,children:s.jsx(Fn,{size:"small"})}):k?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:gt.qrContainer,onClick:()=>F(!0),children:s.jsxs("div",{className:gt.qrCode,children:[s.jsx(Dm,{value:k.qr_token,size:200,level:"H",includeMargin:!0}),s.jsxs("div",{className:gt.qrOverlay,children:[s.jsx(ER,{}),s.jsxs("p",{children:[" ",s.jsx("br",{}),""]})]})]})}),s.jsxs("div",{className:gt.qrFooter,children:[H&&s.jsxs("div",{className:gt.qrExpiry,children:[s.jsx("span",{className:gt.expiryLabel,children:":"}),s.jsx("span",{className:gt.expiryTime,children:H})]}),s.jsxs("button",{className:gt.refreshQrButton,onClick:Ce,disabled:P,children:[s.jsx(Og,{className:P?gt.spinning:""}),P?"...":""]})]})]}):s.jsx("div",{className:gt.emptyState,children:"   QR-"})]})}),s.jsxs("section",{className:gt.storesSection,children:[s.jsx("div",{className:gt.sectionHeader,children:s.jsx("h3",{className:gt.sectionTitle,children:" "})}),C?s.jsx("div",{className:gt.loadingState,children:s.jsx(Fn,{size:"medium"})}):b.length===0?s.jsxs("div",{className:gt.emptyState,children:[s.jsx(vi,{}),s.jsx("h4",{children:"    "}),s.jsx("p",{children:"        "})]}):s.jsx("div",{className:gt.storesList,children:b.map(ie=>s.jsxs("div",{className:gt.storeCard,onClick:()=>fe(ie,ie.primary_location),children:[s.jsxs("div",{className:gt.storeHeader,children:[s.jsx("div",{className:gt.storeLogo,children:ie.business_logo?s.jsx("img",{src:ie.business_logo,alt:ie.name,onError:ge=>{ge.target.style.display="none";const be=ge.target.nextSibling;be&&(be.style.display="flex")}}):s.jsx("div",{children:s.jsx(mm,{})})}),s.jsx("div",{className:gt.storeInfo,children:s.jsx("div",{className:gt.storeName,children:ie.name})})]}),s.jsxs("div",{className:gt.bonusDisplay,children:[s.jsx("div",{className:gt.bonusAmount,children:parseFloat(ie.balance||0).toLocaleString("ru-RU",{maximumFractionDigits:0})}),s.jsx("div",{className:gt.bonusLabel,children:""})]}),ie.tier&&s.jsxs("div",{className:gt.progressSection,children:[s.jsxs("div",{className:gt.progressLabel,children:[s.jsx("span",{children:""}),s.jsx("span",{children:ie.tier.name})]}),s.jsx("div",{className:gt.progressBar,children:s.jsx("div",{className:gt.progressFill,style:{width:`${Math.min(parseFloat(ie.tier.bonus_percent)*10,100)}%`}})})]})]},ie.slug))})]}),e.is_business&&((Ae=e.businesses)==null?void 0:Ae.length)>0&&s.jsxs("section",{className:gt.businessesSection,children:[s.jsx("div",{className:gt.sectionHeader,children:s.jsxs("h3",{className:gt.sectionTitle,children:[s.jsx(Ac,{}),"  "]})}),s.jsx("div",{className:gt.businessesList,children:e.businesses.map(ie=>s.jsxs("div",{className:gt.businessCard,children:[s.jsxs("div",{className:gt.businessHeader,children:[s.jsx("div",{className:gt.businessLogo,children:ie.business_logo?s.jsx("img",{src:ie.business_logo,alt:ie.name,onError:ge=>{ge.target.style.display="none";const be=ge.target.nextSibling;be&&(be.style.display="flex")}}):s.jsx("div",{children:s.jsx(Ac,{})})}),s.jsxs("div",{className:gt.businessInfo,children:[s.jsx("h4",{children:ie.name}),s.jsx("span",{className:gt.businessType,children:ie.business_type})]})]}),s.jsx("div",{className:gt.businessBody,children:s.jsx("p",{children:ie.description||" "})}),s.jsx("div",{className:gt.businessActions,children:s.jsxs(Pa,{to:`/business/${ie.slug}/main`,className:gt.businessLink,children:[s.jsx(tO,{})," ",s.jsx(qx,{})]})})]},ie.id))})]}),l.length>0&&s.jsxs("section",{className:gt.workSection,children:[s.jsx("div",{className:gt.sectionHeader,children:s.jsxs("h3",{className:gt.sectionTitle,children:[s.jsx(NB,{}),"   "]})}),f?s.jsx("div",{className:gt.loadingState,children:s.jsx(Fn,{size:"medium"})}):s.jsx("div",{className:gt.employmentsList,children:l.map(ie=>s.jsxs("div",{className:gt.employmentCard,children:[s.jsxs("div",{className:gt.employmentHeader,children:[s.jsx("div",{className:gt.companyLogo,children:ie.business.business_logo?s.jsx("img",{src:ie.business.business_logo,alt:ie.business.name}):s.jsx(Ac,{})}),s.jsxs("div",{className:gt.employmentInfo,children:[s.jsx("h4",{children:ie.business.name}),ie.employee_name&&s.jsx("span",{className:gt.employeeBadge,children:ie.employee_name})]})]}),s.jsxs("div",{className:gt.employmentDetails,children:[ie.hired_date&&s.jsxs("div",{className:gt.detailItem,children:[s.jsx(Hx,{}),s.jsxs("span",{children:[" : ",Ee(ie.hired_date)]})]}),ie.locations.length>0&&s.jsxs("div",{className:gt.locationsSection,children:[s.jsx("h5",{children:":"}),s.jsx("div",{className:gt.locationsList,children:ie.locations.map(ge=>s.jsxs("div",{className:gt.locationItem,children:[s.jsx(bS,{}),s.jsxs("div",{children:[s.jsx("strong",{children:ge.location_name}),ge.position&&s.jsx("span",{className:gt.positionTag,children:ge.position})]})]},ge.id))})]})]}),s.jsx("div",{className:gt.employmentActions,children:s.jsxs(Pa,{to:`/business/${ie.business.slug}/main`,className:gt.workLink,children:["  ",s.jsx(qx,{})]})})]},ie.id))})]}),s.jsxs("section",{className:gt.tabsSection,children:[s.jsx("div",{className:gt.sectionHeader,children:s.jsx("h3",{className:gt.sectionTitle,children:"  "})}),s.jsx("div",{className:gt.tabsGrid,children:ce.map(ie=>s.jsxs("div",{className:gt.tabCard,onClick:()=>c(o===ie.id?null:ie.id),children:[s.jsx("div",{className:gt.tabIcon,children:ie.icon}),s.jsx("h4",{children:ie.label})]},ie.id))}),s.jsx(Xc,{mode:"wait",children:o&&s.jsxs(os.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},className:gt.tabContent,children:[o==="profile"&&s.jsx("div",{className:gt.profileTab,children:s.jsxs("div",{className:gt.profileCard,children:[s.jsxs("div",{className:gt.cardHeader,children:[s.jsx("h4",{children:" "}),s.jsx("button",{className:gt.editBtn,children:""})]}),s.jsxs("div",{className:gt.infoGrid,children:[s.jsxs("div",{className:gt.infoItem,children:[s.jsx(Vx,{className:gt.infoIcon}),s.jsxs("div",{children:[s.jsx("label",{children:""}),s.jsx("p",{children:e.first_name})]})]}),s.jsxs("div",{className:gt.infoItem,children:[s.jsx(EB,{className:gt.infoIcon}),s.jsxs("div",{children:[s.jsx("label",{children:"Email"}),s.jsx("p",{children:e.email})]})]}),s.jsxs("div",{className:gt.infoItem,children:[s.jsx(DB,{className:gt.infoIcon}),s.jsxs("div",{children:[s.jsx("label",{children:""}),s.jsx("p",{children:e.phone||" "})]})]}),s.jsxs("div",{className:gt.infoItem,children:[s.jsx(Hx,{className:gt.infoIcon}),s.jsxs("div",{children:[s.jsx("label",{children:" "}),s.jsx("p",{children:Ee(e.date_joined)})]})]})]})]})}),o==="security"&&s.jsx("div",{className:gt.securityTab,children:s.jsxs("div",{className:gt.securityGrid,children:[s.jsxs("div",{className:gt.securityCard,children:[s.jsxs("div",{className:gt.securityHeader,children:[s.jsx(kB,{}),s.jsx("h4",{children:""})]}),s.jsx("p",{children:"     "}),s.jsx("button",{className:gt.securityBtn,children:" "})]}),s.jsxs("div",{className:gt.securityCard,children:[s.jsxs("div",{className:gt.securityHeader,children:[s.jsx(nO,{}),s.jsx("h4",{children:"2FA"})]}),s.jsx("p",{children:"  "}),s.jsx("button",{className:gt.securityBtn,children:" 2FA"})]}),s.jsxs("div",{className:gt.securityCard,children:[s.jsxs("div",{className:gt.securityHeader,children:[s.jsx(xS,{}),s.jsx("h4",{children:""})]}),s.jsx("p",{children:"  "}),s.jsx("button",{className:gt.securityBtn,children:" "})]})]})}),o==="wallet"&&s.jsx("div",{className:gt.walletTab,children:s.jsxs("div",{className:gt.balanceCard,children:[s.jsx("h4",{children:" "}),s.jsx("p",{className:gt.balanceAmount,children:"12,450 "}),s.jsxs("div",{className:gt.balanceActions,children:[s.jsx("button",{className:gt.balanceBtn,children:""}),s.jsx("button",{className:gt.balanceBtn,children:""})]})]})}),o==="settings"&&s.jsx("div",{className:gt.settingsTab,children:s.jsxs("div",{className:gt.settingsGrid,children:[s.jsxs("div",{className:gt.settingCard,children:[s.jsxs("div",{className:gt.settingHeader,children:[s.jsx(SB,{}),s.jsx("h4",{children:""})]}),s.jsx("p",{children:"  "}),s.jsx("button",{className:gt.settingBtn,children:""})]}),s.jsxs("div",{className:gt.settingCard,children:[s.jsxs("div",{className:gt.settingHeader,children:[s.jsx(bS,{}),s.jsx("h4",{children:""})]}),s.jsx("div",{className:gt.settingContent,children:s.jsx(mS,{selectedCity:oe,onSelectCity:me})})]}),s.jsxs("div",{className:gt.settingCard,children:[s.jsxs("div",{className:gt.settingHeader,children:[s.jsx(TB,{}),s.jsx("h4",{children:""})]}),s.jsx("div",{className:gt.settingContent,children:s.jsx(cB,{})})]}),s.jsxs("div",{className:gt.settingCard,children:[s.jsxs("div",{className:gt.settingHeader,children:[s.jsx(xS,{}),s.jsx("h4",{children:""})]}),s.jsx("div",{className:gt.settingContent,children:s.jsx(dB,{})})]}),s.jsxs("div",{className:gt.settingCard,children:[s.jsxs("div",{className:gt.settingHeader,children:[s.jsx(eO,{}),s.jsx("h4",{children:""})]}),s.jsx("p",{children:" "}),s.jsx("button",{className:gt.settingBtn,children:""})]})]})})]},o)})]}),s.jsx("section",{className:gt.footerSection,children:s.jsxs("button",{className:gt.logoutButton,onClick:Ne,children:[s.jsx(IB,{}),"  "]})}),K&&J&&s.jsx("div",{className:gt.modalOverlay,onClick:()=>te(!1),children:s.jsxs(os.div,{className:gt.historyModalContent,onClick:ie=>ie.stopPropagation(),initial:{y:"100%"},animate:{y:0},exit:{y:"100%"},transition:{type:"spring",damping:25,stiffness:200},children:[s.jsxs("div",{className:gt.modalHeader,children:[s.jsx("h2",{children:" "}),s.jsx("button",{className:gt.modalClose,onClick:()=>te(!1),children:s.jsx(da,{})})]}),s.jsxs("div",{className:gt.historyStoreInfo,children:[s.jsx("div",{className:gt.historyStoreName,children:J.business.name}),s.jsxs("div",{className:gt.historyStoreBalance,children:[": ",s.jsxs("span",{children:[parseFloat(J.business.balance||0).toLocaleString("ru-RU",{maximumFractionDigits:0})," "]})]})]}),ee&&V.length===0?s.jsx("div",{className:gt.loadingState,children:s.jsx(Fn,{size:"medium"})}):!Array.isArray(V)||V.length===0?s.jsxs("div",{className:gt.emptyState,children:[s.jsx(vi,{}),s.jsx("p",{children:"  "})]}):s.jsxs("div",{className:gt.transactionsList,ref:ae,children:[Array.isArray(V)&&V.map(ie=>s.jsxs("div",{className:gt.transactionItem,children:[s.jsxs("div",{className:gt.transactionHeader,children:[s.jsxs("div",{className:gt.transactionType,children:[ie.transaction_type==="accrual"?s.jsx(p0,{className:gt.transactionIconAccrual}):s.jsx(m0,{className:gt.transactionIconRedemption}),s.jsx("span",{children:pe(ie.transaction_type)})]}),s.jsxs("div",{className:`${gt.transactionAmount} ${ie.transaction_type==="accrual"?gt.positive:gt.negative}`,children:[ie.transaction_type==="accrual"?"+":"-",parseFloat(ie.amount).toLocaleString("ru-RU",{maximumFractionDigits:0})]})]}),ie.description&&s.jsx("div",{className:gt.transactionDescription,children:ie.description}),s.jsxs("div",{className:gt.transactionFooter,children:[s.jsx("div",{className:gt.transactionDate,children:new Date(ie.created_at).toLocaleString("ru-RU",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})}),s.jsxs("div",{className:gt.transactionBalance,children:[" : ",parseFloat(ie.balance_after).toLocaleString("ru-RU",{maximumFractionDigits:0})]})]}),ie.receipt&&s.jsxs("div",{className:gt.transactionReceipt,children:[" ",ie.receipt.number]})]},ie.id)),ee&&Array.isArray(V)&&V.length>0&&s.jsxs("div",{className:gt.loadingMore,children:[s.jsx(Fn,{size:"small"}),s.jsx("span",{children:"..."})]}),!A&&Array.isArray(V)&&V.length>0&&s.jsx("div",{className:gt.noMoreTransactions,children:"  "})]})]})}),U&&k&&s.jsx("div",{className:gt.modalOverlay,onClick:()=>F(!1),children:s.jsxs(os.div,{className:gt.qrModalContent,onClick:ie=>ie.stopPropagation(),initial:{y:"100%"},animate:{y:0},exit:{y:"100%"},transition:{type:"spring",damping:25,stiffness:200},children:[s.jsxs("div",{className:gt.modalHeader,children:[s.jsx("h2",{children:" QR-"}),s.jsx("button",{className:gt.modalClose,onClick:()=>F(!1),children:s.jsx(da,{})})]}),s.jsx("div",{className:gt.modalQr,children:s.jsx(Dm,{value:k.qr_token,size:280,level:"H",includeMargin:!0})}),s.jsx("p",{className:gt.modalQrText,children:"       "}),H&&s.jsxs("div",{className:gt.modalExpiry,children:[s.jsx("span",{children:":"}),s.jsx("span",{className:gt.modalExpiryTime,children:H})]}),s.jsx("div",{className:gt.tokenValue,children:k.qr_token}),s.jsxs("div",{className:gt.modalActions,children:[s.jsx("button",{className:`${gt.copyBtn} ${O?gt.copied:""}`,onClick:Se,children:O?s.jsxs(s.Fragment,{children:[s.jsx(Xr,{})," !"]}):s.jsxs(s.Fragment,{children:[s.jsx(Ad,{}),"  "]})}),s.jsxs("button",{className:gt.refreshQrButton,onClick:Ce,disabled:P,children:[s.jsx(Og,{className:P?gt.spinning:""}),P?"...":" QR-"]})]})]})})]})},rme="_container_1g6je_49",ime="_card_1g6je_55",ome="_tabs_1g6je_65",cme="_tab_1g6je_65",lme="_activeTab_1g6je_92",ume="_content_1g6je_110",dme="_title_1g6je_114",hme="_authError_1g6je_127",fme="_slideIn_1g6je_1",mme="_successMessage_1g6je_143",pme="_notification_1g6je_170",gme="_error_1g6je_184",_me="_success_1g6je_143",vme="_info_1g6je_196",xme="_form_1g6je_202",bme="_inputGroup_1g6je_208",yme="_inputIcon_1g6je_213",wme="_input_1g6je_208",jme="_passwordToggle_1g6je_238",Cme="_errorInput_1g6je_253",Sme="_forgotPassword_1g6je_305",Nme="_forgotPasswordLink_1g6je_310",kme="_submitButton_1g6je_325",Ime="_spinner_1g6je_376",Eme="_spin_1g6je_376",Tme="_socialAuth_1g6je_392",Dme="_socialDivider_1g6je_396",Ame="_socialButtons_1g6je_403",Mme="_socialButton_1g6je_403",Rme="_socialIcon_1g6je_445",Bme="_switchAuth_1g6je_462",Ome="_verificationInfo_1g6je_495",Lme="_verificationActions_1g6je_540",$me="_resendButton_1g6je_547",Pme="_backButton_1g6je_577",Fme="_verificationCodeInput_1g6je_614",Hme="_checkboxGroup_1g6je_642",qme="_checkboxLabel_1g6je_647",Vme="_checkbox_1g6je_642",zme="_checkboxText_1g6je_666",Ume="_privacyLink_1g6je_671",wn={"light-theme":"_light-theme_1g6je_31","dark-theme":"_dark-theme_1g6je_39",container:rme,card:ime,tabs:ome,tab:cme,activeTab:lme,content:ume,title:dme,authError:hme,slideIn:fme,successMessage:mme,notification:pme,error:gme,success:_me,info:vme,form:xme,inputGroup:bme,inputIcon:yme,input:wme,passwordToggle:jme,errorInput:Cme,forgotPassword:Sme,forgotPasswordLink:Nme,submitButton:kme,spinner:Ime,spin:Eme,socialAuth:Tme,socialDivider:Dme,socialButtons:Ame,socialButton:Mme,socialIcon:Rme,switchAuth:Bme,verificationInfo:Ome,verificationActions:Lme,resendButton:$me,backButton:Pme,verificationCodeInput:Fme,checkboxGroup:Hme,checkboxLabel:qme,checkbox:Vme,checkboxText:zme,privacyLink:Ume},Wme=new Set(["password","123456","12345678","1234","qwerty","12345","dragon","baseball","football","letmein","monkey","abc123","mustang","michael","shadow","master","jennifer","111111","jordan","superman","harley","1234567","hunter","trustno1","ranger","buster","thomas","tigger","robert","soccer","batman","test","pass","killer","hockey","george","charlie","andrew","michelle","love","sunshine","jessica","pepper","daniel","access","123456789","654321","joshua","maggie","starwars","silver","william","dallas","yankees","123123","ashley","666666","hello","amanda","orange","freedom","computer","sexy","thunder","nicole","ginger","heather","hammer","summer","corvette","taylor","austin","1111","merlin","matthew","121212","golfer","cheese","princess","martin","chelsea","patrick","richard","diamond","yellow","bigdog","secret","asdfgh","sparky","cowboy","camaro","anthony","matrix","falcon","iloveyou","bailey","guitar","jackson","purple","scooter","phoenix","aaaaaa","morgan","tigers","porsche","mickey","maverick","cookie","nascar","peanut","justin","131313","money","samantha","steelers","joseph","snoopy","boomer","whatever","iceman","smokey","gateway","dakota","cowboys","eagles","chicken","black","zxcvbn","please","andrea","ferrari","knight","hardcore","melissa","compaq","coffee","johnny","bulldog","xxxxxx","welcome","james","player","ncc1701","wizard","scooby","charles","junior","internet","mike","brandy","tennis","banana","monster","spider","lakers","miller","rabbit","enter","mercedes","brandon","steven","fender","john","yamaha","diablo","chris","boston","tiger","marine","chicago","rangers","gandalf","winter","barney","edward","raiders","badboy","bigdaddy","johnson","chester","london","midnight","blue","fishing","000000","hannah","slayer","11111111","rachel","redsox","asdf","marlboro","panther","zxcvbnm","arsenal","oliver","qazwsx","mother","victoria","7777777","jasper","angel","david","winner","crystal","golden","butthead","viking","jack","shannon","murphy","angels","prince","cameron","girls","madison","wilson","carlos","hooters","willie","startrek","captain","maddog","jasmine","butter","booger","angela","golf","lauren","rocket","tiffany","theman","dennis","liverpoo","flower","forever","green","jackie","muffin","turtle","sophie","danielle","redskins","toyota","jason","sierra","winston","debbie","giants","packers","newyork","jeremy","casper","bubba","112233","sandra","lovers","mountain","united","cooper","driver","tucker","helpme","pookie","lucky","maxwell","8675309","bear","gators","5150","222222","jaguar","monica","fred","happy","hotdog","gemini","lover","xxxxxxxx","777777","canada","nathan","victor","florida","88888888","nicholas","rosebud","metallic","doctor","trouble","success","stupid","tomcat","warrior","peaches","apples","fish","qwertyui","magic","buddy","dolphins","rainbow","gunner","987654","freddy","alexis","braves","2112","1212","cocacola","xavier","dolphin","testing","bond007","member","calvin","voodoo","7777","samson","alex","apollo","fire","tester","walter","beavis","voyager","peter","bonnie","rush2112","beer","apple","scorpio","jonathan","skippy","sydney","scott","red123","power","gordon","travis","beaver","star","jackass","flyers","boobs","232323","zzzzzz","steve","rebecca","scorpion","doggie","legend","ou812","yankee","blazer","bill","runner","birdie","555555","parker","topgun","asdfasdf","heaven","viper","animal","2222","bigboy","4444","arthur","baby","private","godzilla","donald","williams","lifehack","phantom","dave","rock","august","sammy","cool","brian","platinum","jake","bronco","paul","mark","frank","copper","billy","garfield","willow","little","carter","albert","69696969","kitten","super","jordan23","eagle1","shelby","america","11111","jessie","house","free","123321","chevy","white","broncos","surfer","nissan","999999","saturn","airborne","elephant","marvin","action","adidas","qwert","kevin","1313","explorer","walker","police","december","benjamin","wolf","sweet","therock","king","online","brooklyn","teresa","cricket","sharon","dexter","racing","gregory","0000","teens","redwings","dreams","michigan","magnum","87654321","nothing","donkey","trinity","digital","333333","stella","cartman","guinness","123abc","speedy","buffalo","kitty","eagle","einstein","kelly","nelson","nirvana","vampire","xxxx","playboy","louise","pumpkin","snowball","test123","girl","sucker","mexico","beatles","fantasy","ford","gibson","celtic","marcus","cherry","cassie","888888","natasha","sniper","chance","genesis","hotrod","reddog","alexande","college","jester","passw0rd","smith","lasvegas","carmen","slipknot","3333","death","kimberly","1q2w3e","eclipse","1q2w3e4r","stanley","samuel","drummer","homer","montana","music","aaaa","spencer","jimmy","carolina","colorado","creative","hello1","rocky","goober","friday","scotty","abcdef","bubbles","hawaii","fluffy","mine","stephen","horses","thumper","5555","darkness","asdfghjk","pamela","buddha","vanessa","sandman","naughty","douglas","hottie","mandy","denise","charlie1","pookie1","qwer1234","1234qwer","qwerty123","qwerty1","password1","password12","password123","qwerty12","qwerty1234","1234567890","123456789a","a123456","123456a","qwertyuiop","asdfghjkl","zxcvbnm","qwertyui","asdfghjk","qwerty12345","qwertyuiop123","asdfghjkl123","zxcvbnm123","qwerty123456","asdfgh123456","zxcvbn123456","qwerty1234567","asdfgh1234567","zxcvbn1234567","qwerty12345678","asdfgh12345678","zxcvbn12345678","qwerty123456789","asdfgh123456789","zxcvbn123456789","qwerty1234567890","asdfgh1234567890","zxcvbn1234567890","qwertyuiopasdfghjkl","asdfghjklzxcvbnm","qwertyuiopasdfghjklzxcvbnm","qwertyuiop123456","asdfghjkl123456","zxcvbnm123456","qwertyuiop1234567","asdfghjkl1234567","zxcvbnm1234567","qwertyuiop12345678","asdfghjkl12345678","zxcvbnm12345678","qwertyuiop123456789","asdfghjkl123456789","zxcvbnm123456789","qwertyuiop1234567890","asdfghjkl1234567890","zxcvbnm1234567890"].map(e=>e.toLowerCase())),Yme=e=>e?Wme.has(e.toLowerCase()):!1,Gme=e=>{if(!e)return!1;const t=e.toLowerCase(),n=["abcdefghijklmnopqrstuvwxyz","zyxwvutsrqponmlkjihgfedcba","0123456789","9876543210","qwertyuiopasdfghjklzxcvbnm","qwertyuiop","asdfghjkl","zxcvbnm","1234567890","0987654321"];for(const a of n)if(t.includes(a)||t.includes(a.split("").reverse().join("")))return!0;if(e.length>=4){for(let a=0;a<e.length-3;a++)if(e[a]===e[a+1]&&e[a]===e[a+2]&&e[a]===e[a+3])return!0}return!!(e.match(/^\d+$/)||e.match(/^[a-zA-Z]+$/))},fg=e=>{if(!e)return" ";if(e.length<8)return"     8 ";if(!e.match(/^[a-zA-Z0-9!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?]+$/))return"      ,    .";if(!e.match(/[A-Z]/))return"       .";if(!e.match(/[a-z]/))return"       .";if(Yme(e))return"    .";if(Gme(e)){if(e.match(/^\d+$/))return"      .";if(e.match(/^[a-zA-Z]+$/))return"      .";const t=e.toLowerCase(),n=["abcdefghijklmnopqrstuvwxyz","zyxwvutsrqponmlkjihgfedcba","0123456789","9876543210","qwertyuiopasdfghjklzxcvbnm","qwertyuiop","asdfghjkl","zxcvbnm","1234567890","0987654321"];for(const a of n)if(t.includes(a)||t.includes(a.split("").reverse().join("")))return"    .";if(e.length>=4){for(let a=0;a<e.length-3;a++)if(e[a]===e[a+1]&&e[a]===e[a+2]&&e[a]===e[a+3])return"   ."}return"  ."}return null},Qme=()=>{const{isAuthenticated:e,isLoading:t}=cp(),[n,a]=_.useState(!0),[r,i]=_.useState(1),[o,c]=_.useState(0),[l,d]=_.useState({email:"",password:"",first_name:"",password1:"",password2:"",verificationCode:"",resetCode:"",newPassword1:"",newPassword2:"",personalDataConsent:!1}),[f,g]=_.useState({}),[b,w]=_.useState(!1),[C,S]=_.useState(null),[k,E]=_.useState(null),[D,R]=_.useState(0),[P,B]=_.useState(!1),[O,$]=_.useState(!1),[U,F]=_.useState(!1),[H,se]=_.useState(!1),[K,te]=_.useState(!1),J=Is(),[z]=ep(),V=z.get("redirect")||"/account",M=ie=>{if(!ie)return null;if(typeof ie=="string"){const ge=ie.match(/string='([^']+)'/);return ge&&ge[1]?ge[1]:ie}if(Array.isArray(ie)&&ie.length>0){const ge=ie[0];if(typeof ge=="string"){const be=ge.match(/string='([^']+)'/);return be&&be[1]?be[1]:ge}return String(ge)}return String(ie)},ee=ie=>{if(ie<=0)return"";const ge=Math.floor(ie/60),be=ie%60;return ge>0?`${ge}  ${be} `:`${be} `},Z=ie=>`verification_code_${ie}`,A=ie=>`password_reset_code_${ie}`,G=ie=>{const ge=Z(ie),be=localStorage.getItem(ge);if(be)try{return JSON.parse(be)}catch{return{sends:[],lastSend:null}}return{sends:[],lastSend:null}},Q=ie=>{const ge=A(ie),be=localStorage.getItem(ge);if(be)try{return JSON.parse(be)}catch{return{sends:[],lastSend:null}}return{sends:[],lastSend:null}},Y=ie=>{const ge=Z(ie),be=G(ie),Fe=Date.now(),je=Fe-24*60*60*1e3;be.sends=be.sends.filter(qe=>qe>je),be.sends.push(Fe),be.lastSend=Fe,localStorage.setItem(ge,JSON.stringify(be))},ae=ie=>{const ge=A(ie),be=Q(ie),Fe=Date.now(),je=Fe-24*60*60*1e3;be.sends=be.sends.filter(qe=>qe>je),be.sends.push(Fe),be.lastSend=Fe,localStorage.setItem(ge,JSON.stringify(be))},ne=ie=>{const ge=G(ie),be=Date.now(),Fe=be-24*60*60*1e3,tt=ge.sends.filter(he=>he>Fe).length<2?60*1e3:5*60*1e3;if(ge.lastSend){const he=be-ge.lastSend;if(he<tt)return{canSend:!1,remainingSeconds:Math.ceil((tt-he)/1e3)}}return{canSend:!0,remainingSeconds:0}},re=ie=>{const ge=Q(ie),be=Date.now(),Fe=be-24*60*60*1e3,tt=ge.sends.filter(he=>he>Fe).length<2?60*1e3:5*60*1e3;if(ge.lastSend){const he=be-ge.lastSend;if(he<tt)return{canSend:!1,remainingSeconds:Math.ceil((tt-he)/1e3)}}return{canSend:!0,remainingSeconds:0}};_.useEffect(()=>{r!==2&&o!==2&&R(0)},[r,o]),_.useEffect(()=>{if(D<=0)return;const ie=setInterval(()=>{R(ge=>ge<=1?0:ge-1)},1e3);return()=>clearInterval(ie)},[D]);const oe=(ie,ge)=>{E({type:ie,message:ge}),setTimeout(()=>E(null),5e3)},me=_.useCallback(async()=>{var ie,ge;try{if(w(!0),!((ge=(ie=window.google)==null?void 0:ie.accounts)!=null&&ge.id)){g({auth:"Google Sign-In  . ,  ."}),w(!1);return}window.google.accounts.id.prompt(be=>{if(be.isNotDisplayed()||be.isSkippedMoment()||be.isDismissedMoment()){const Fe=document.createElement("div");Fe.style.position="fixed",Fe.style.left="-9999px",document.body.appendChild(Fe),window.google.accounts.id.renderButton(Fe,{type:"standard",theme:"outline",size:"large",text:"signin_with",shape:"rectangular"}),setTimeout(()=>{const je=Fe.querySelector('div[role="button"]');je?je.click():(g({auth:"     Google.   ."}),w(!1)),document.body.removeChild(Fe)},100)}})}catch{g({auth:"   Google"}),w(!1)}},[J,V]),Ce=_.useCallback(async ie=>{try{w(!0);const ge=await Be.post("/accounts/api/auth/google/",{token:ie.credential},{withCredentials:!0});J(V)}catch{g({auth:"   Google"})}finally{w(!1)}},[J,V]),Ne=_.useCallback(async ie=>{try{w(!0);const ge=await Be.post("/accounts/api/auth/telegram/",ie,{withCredentials:!0});J(V)}catch{g({auth:"   Telegram"})}finally{w(!1)}},[J,V]);_.useEffect(()=>{!t&&e&&J(V,{replace:!0})},[e,t,J,V]),_.useEffect(()=>{var ie,ge;if(!(r===2||o!==0)){if((ge=(ie=window.google)==null?void 0:ie.accounts)!=null&&ge.id)window.google.accounts.id.initialize({client_id:"412031149331-89sgaqeamohaq76dnn5n97663frnfskg.apps.googleusercontent.com",callback:Ce,auto_select:!1,itp_support:!0});else if(!document.querySelector('script[src="https://accounts.google.com/gsi/client"]')){const Fe=document.createElement("script");Fe.src="https://accounts.google.com/gsi/client",Fe.async=!0,Fe.defer=!0,Fe.onload=()=>{var je,qe;(qe=(je=window.google)==null?void 0:je.accounts)!=null&&qe.id&&window.google.accounts.id.initialize({client_id:"412031149331-89sgaqeamohaq76dnn5n97663frnfskg.apps.googleusercontent.com",callback:Ce,auto_select:!1,itp_support:!0})},document.body.appendChild(Fe)}}},[r,o,Ce]),_.useEffect(()=>{if(r===2||o!==0)return;const ie=()=>{const ge=document.getElementById("telegramSignIn");if(!ge){setTimeout(()=>{ie()},200);return}const be=document.getElementById("telegram-login-script");be&&be.remove(),ge.innerHTML="",window.onTelegramAuth=Ne;const Fe="AxioneAuthBot",je="write",qe=document.createElement("script");qe.src="https://telegram.org/js/telegram-widget.js?22",qe.setAttribute("data-telegram-login",Fe),qe.setAttribute("data-size","large"),qe.setAttribute("data-userpic","false"),qe.setAttribute("data-request-access",je),qe.setAttribute("data-onauth","onTelegramAuth(user)"),qe.async=!0,qe.id="telegram-login-script",qe.onerror=()=>{console.error("  Telegram ")},ge.appendChild(qe)};return setTimeout(()=>{ie()},100),()=>{const ge=document.getElementById("telegram-login-script");ge&&ge.remove()}},[r,o,Ne]);const Ee=_.useCallback((ie,ge)=>{const be={...f};switch(ie){case"email":ge?/\S+@\S+\.\S+/.test(ge)?delete be.email:be.email="Email ":be.email="Email ";break;case"password":!ge&&n?be.password=" ":delete be.password;break;case"first_name":!ge&&!n?be.first_name="  ":delete be.first_name;break;case"password1":if(!ge&&!n)be.password1=" ";else if(ge){const Fe=fg(ge);Fe?be.password1=Fe:(delete be.password1,l.password2&&ge!==l.password2?be.password2="  ":delete be.password2)}else delete be.password1;break;case"password2":!ge&&!n?be.password2=" ":ge&&ge!==l.password1?be.password2="  ":delete be.password2;break;case"verificationCode":!ge&&r===2?be.verificationCode="  ":ge&&ge.length!==6?be.verificationCode="   6 ":delete be.verificationCode;break;case"resetCode":!ge&&o===2?be.resetCode="  ":ge&&ge.length!==6?be.resetCode="   6 ":delete be.resetCode;break;case"newPassword1":if(!ge&&o===2)be.newPassword1="  ";else if(ge){const Fe=fg(ge);Fe?be.newPassword1=Fe:(delete be.newPassword1,l.newPassword2&&ge!==l.newPassword2?be.newPassword2="  ":delete be.newPassword2)}else delete be.newPassword1;break;case"newPassword2":!ge&&o===2?be.newPassword2="  ":ge&&ge!==l.newPassword1?be.newPassword2="  ":delete be.newPassword2;break}g(be)},[f,l,n]),ve=ie=>{const{name:ge,value:be}=ie.target;d(Fe=>({...Fe,[ge]:be})),Ee(ge,be)},Se=()=>{const ie={};if(o===0)l.email?/\S+@\S+\.\S+/.test(l.email)||(ie.email="Email "):ie.email="Email ",!l.password&&n&&(ie.password=" "),n||(l.first_name||(ie.first_name="  "),l.password1?l.password1.length<8&&(ie.password1="     8 "):ie.password1=" ",l.password1!==l.password2&&(ie.password2="  "),l.personalDataConsent||(ie.personalDataConsent="     "));else if(o===1)l.email?/\S+@\S+\.\S+/.test(l.email)||(ie.email="Email "):ie.email="Email ";else if(o===2){if(l.resetCode?l.resetCode.length!==6&&(ie.resetCode="   6 "):ie.resetCode="  ",!l.newPassword1)ie.newPassword1="  ";else{const ge=fg(l.newPassword1);ge&&(ie.newPassword1=ge)}l.newPassword2?l.newPassword1!==l.newPassword2&&(ie.newPassword2="  "):ie.newPassword2="  "}return g(ie),Object.keys(ie).length===0},fe=async ie=>{var ge,be,Fe,je;if(ie.preventDefault(),!!Se()){w(!0),g({});try{if(o===0)if(n)await Be.post("accounts/api/auth/login/",{email:l.email,password:l.password},{withCredentials:!0}),J(V);else if(r===1){const qe=await Be.post("accounts/api/auth/register/",{first_name:l.first_name,email:l.email,password1:l.password1,password2:l.password2,personal_data_consent:l.personalDataConsent},{withCredentials:!0});S({email:qe.data.email,id:qe.data.pending_user_id}),Y(qe.data.email),R(60),i(2)}else r===2&&(await Be.post("accounts/api/auth/verify-email/",{email:C.email,code:l.verificationCode},{withCredentials:!0}),J(V));else if(o===1){try{await Be.post("accounts/api/auth/password-reset/",{email:l.email}),ae(l.email),R(60),c(2)}catch(qe){const tt=(ge=qe.response)==null?void 0:ge.data;if(((be=qe.response)==null?void 0:be.status)===404){const he=M(tt==null?void 0:tt.detail)||"   email  ";oe("error",he),g({email:he});return}else if(((Fe=qe.response)==null?void 0:Fe.status)===429){const he=M(tt==null?void 0:tt.detail)||"   ";oe("error",he);let Ze=0;const Pe=he.match(/\s+(\d+)\s*\s+(\d+)\s*/);if(Pe){const bt=parseInt(Pe[1])||0,Ge=parseInt(Pe[2])||0;Ze=bt*60+Ge}else{const bt=he.match(/\s+(\d+)\s*/);if(bt)Ze=parseInt(bt[1])||0;else{const Ge=he.match(/\s+(\d+)\s*/);Ge&&(Ze=parseInt(Ge[1])*60||0)}}Ze>0&&R(Ze),c(2);return}else{const he=M(tt==null?void 0:tt.detail)||"  ";oe("error",he),g({email:he});return}}return}else o===2&&(await Be.post("accounts/api/auth/password-reset-confirm/",{email:l.email,code:l.resetCode,new_password1:l.newPassword1,new_password2:l.newPassword2}),c(0),d(qe=>({...qe,resetCode:"",newPassword1:"",newPassword2:""})),oe("success","  .       ."))}catch(qe){const tt=(je=qe.response)==null?void 0:je.data;if(tt){const he={};let Ze=!1;if(tt.non_field_errors){const Pe=Array.isArray(tt.non_field_errors)?tt.non_field_errors[0]:tt.non_field_errors;oe("error",Pe),g({auth:Pe}),Ze=!0}for(const Pe in tt){if(Pe==="non_field_errors")continue;const bt=Array.isArray(tt[Pe])?tt[Pe][0]:tt[Pe],Ge=String(bt).toLowerCase();if(he[Pe]=bt,Pe==="email"&&Ge.includes(" "))oe("error"," email  "),g({auth:" email  "}),Ze=!0;else if(Pe==="email"&&Ge.includes(" "))oe("error","   email  "),g({auth:"   email  "}),Ze=!0;else if(Pe==="error")if(Ge.includes(" ")||Ge.includes("")){const ue=String(bt);oe("error",ue),g({auth:ue}),Ze=!0}else if(Ge.includes(" ")||Ge.includes("")){const ue=String(bt);oe("error",ue),g({auth:ue}),Ze=!0}else{const ue=String(bt);oe("error",ue),g({auth:ue}),Ze=!0}else if(Pe==="detail"&&Ge.includes(" "))oe("error","  "),g({auth:"  "}),Ze=!0;else if(Pe==="detail"&&Ge.includes(""))oe("error","   "),g({auth:"   "}),Ze=!0;else if(Pe==="detail"&&(Ge.includes("")||Ge.includes(""))){const ue=String(bt);o===2?(he.newPassword1=ue,oe("error",ue)):(oe("error",ue),g({auth:ue})),Ze=!0}else Pe==="detail"&&Ge.includes(" ")&&(oe("success","  !"),Ze=!0)}!Ze&&Object.keys(he).length>0&&g(he)}else{const he=qe.message||" . ,  .";oe("error",he),g({auth:he})}}finally{w(!1)}}},de=async()=>{var be,Fe;if(!C)return;const{canSend:ie,remainingSeconds:ge}=ne(C.email);if(!ie){R(ge),oe("error",`      ${ge} `);return}w(!0),g({});try{await Be.post("accounts/api/auth/resend-code/",{email:C.email},{withCredentials:!0}),Y(C.email),oe("success","   ")}catch(je){const qe=(be=je.response)==null?void 0:be.data;if(((Fe=je.response)==null?void 0:Fe.status)===429){const tt=M(qe==null?void 0:qe.detail)||"   ";oe("error",tt),g({auth:tt});let he=0;const Ze=tt.match(/\s+(\d+)\s*\s+(\d+)\s*/);if(Ze){const Pe=parseInt(Ze[1])||0,bt=parseInt(Ze[2])||0;he=Pe*60+bt}else{const Pe=tt.match(/\s+(\d+)\s*/);if(Pe)he=parseInt(Pe[1])||0;else{const bt=tt.match(/\s+(\d+)\s*/);bt&&(he=parseInt(bt[1])*60||0)}}he>0&&R(he)}else if(qe){const tt=M(qe.detail)||"  ";g({auth:tt}),oe("error",tt)}else{const tt=" . ,  .";g({auth:tt}),oe("error",tt)}}finally{w(!1)}},pe=()=>{i(1),S(null),d(ie=>({...ie,verificationCode:""})),g({})},ce=()=>{c(1),d(ie=>({...ie,resetCode:"",newPassword1:"",newPassword2:""})),g({})},Re=()=>{c(0),d(ie=>({...ie,resetCode:"",newPassword1:"",newPassword2:""})),g({})},Ae=async()=>{var be,Fe;if(!l.email)return;const{canSend:ie,remainingSeconds:ge}=re(l.email);if(!ie){R(ge),oe("error",`      ${ge} `);return}w(!0),g({});try{await Be.post("accounts/api/auth/password-reset/",{email:l.email}),ae(l.email),oe("success","   ")}catch(je){const qe=(be=je.response)==null?void 0:be.data;if(((Fe=je.response)==null?void 0:Fe.status)===429){const tt=M(qe==null?void 0:qe.detail)||"   ";oe("error",tt),g({auth:tt});let he=0;const Ze=tt.match(/\s+(\d+)\s*\s+(\d+)\s*/);if(Ze){const Pe=parseInt(Ze[1])||0,bt=parseInt(Ze[2])||0;he=Pe*60+bt}else{const Pe=tt.match(/\s+(\d+)\s*/);if(Pe)he=parseInt(Pe[1])||0;else{const bt=tt.match(/\s+(\d+)\s*/);bt&&(he=parseInt(bt[1])*60||0)}}he>0&&R(he)}else if(qe){const tt=M(qe.detail)||"  ";g({auth:tt}),oe("error",tt)}else{const tt=" . ,  .";g({auth:tt}),oe("error",tt)}}finally{w(!1)}};return t?s.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh"},children:s.jsx(Fn,{size:"large"})}):e?null:s.jsx("div",{className:`${wn.container} ${n?wn.loginBg:wn.registerBg}`,children:s.jsxs("div",{className:wn.card,children:[o===0&&s.jsxs("div",{className:wn.tabs,children:[s.jsx("button",{className:`${wn.tab} ${n?wn.activeTab:""}`,onClick:()=>{a(!0),i(1),S(null),d(ie=>({...ie,verificationCode:""})),g({})},children:""}),s.jsx("button",{className:`${wn.tab} ${n?"":wn.activeTab}`,onClick:()=>{a(!1),i(1),S(null),d(ie=>({...ie,verificationCode:""})),g({})},children:""})]}),s.jsxs("div",{className:wn.content,children:[s.jsx("h2",{className:wn.title,children:o===0?n?"  ":r===1?" ":" email":o===1?" ":" "}),k&&s.jsxs("div",{className:`${wn.notification} ${wn[k.type]}`,children:[k.type==="error"&&s.jsx(Ox,{}),k.type==="success"&&s.jsx(Bl,{}),k.type==="info"&&s.jsx(li,{}),k.message]}),r===2&&s.jsxs("div",{className:wn.verificationInfo,children:[s.jsxs("p",{children:["     ",s.jsx("strong",{children:C==null?void 0:C.email})]}),s.jsx("p",{children:" 6-   :"})]}),o===2&&s.jsxs("div",{className:wn.verificationInfo,children:[s.jsxs("p",{children:["     ",s.jsx("strong",{children:l.email})]}),s.jsx("p",{children:"    :"})]}),s.jsxs("form",{onSubmit:fe,className:wn.form,children:[!n&&r===1&&o===0&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:wn.inputGroup,children:[s.jsx("div",{className:wn.inputIcon,children:s.jsx(oc,{})}),s.jsx("input",{type:"text",name:"first_name",placeholder:" ",value:l.first_name,onChange:ve,className:`${wn.input} ${f.first_name?wn.errorInput:""}`})]}),f.first_name&&s.jsx("span",{className:wn.error,children:f.first_name}),s.jsxs("div",{className:wn.inputGroup,children:[s.jsx("div",{className:wn.inputIcon,children:s.jsx(Nl,{})}),s.jsx("input",{type:"email",name:"email",placeholder:"Email",value:l.email,onChange:ve,className:`${wn.input} ${f.email?wn.errorInput:""}`})]}),f.email&&s.jsx("span",{className:wn.error,children:f.email}),s.jsxs("div",{className:wn.inputGroup,children:[s.jsx("div",{className:wn.inputIcon,children:s.jsx(xh,{})}),s.jsx("input",{type:O?"text":"password",name:"password1",placeholder:"",value:l.password1,onChange:ve,className:`${wn.input} ${f.password1?wn.errorInput:""}`}),s.jsx("button",{type:"button",className:wn.passwordToggle,onClick:()=>$(!O),"aria-label":O?" ":" ",children:O?s.jsx(gd,{}):s.jsx(fo,{})})]}),f.password1&&s.jsx("span",{className:wn.error,children:f.password1}),s.jsxs("div",{className:wn.inputGroup,children:[s.jsx("div",{className:wn.inputIcon,children:s.jsx(xh,{})}),s.jsx("input",{type:U?"text":"password",name:"password2",placeholder:" ",value:l.password2,onChange:ve,className:`${wn.input} ${f.password2?wn.errorInput:""}`}),s.jsx("button",{type:"button",className:wn.passwordToggle,onClick:()=>F(!U),"aria-label":U?" ":" ",children:U?s.jsx(gd,{}):s.jsx(fo,{})})]}),f.password2&&s.jsx("span",{className:wn.error,children:f.password2}),s.jsxs("div",{className:wn.checkboxGroup,children:[s.jsxs("label",{className:wn.checkboxLabel,children:[s.jsx("input",{type:"checkbox",name:"personalDataConsent",checked:l.personalDataConsent,onChange:ie=>{if(d(ge=>({...ge,personalDataConsent:ie.target.checked})),ie.target.checked){const ge={...f};delete ge.personalDataConsent,g(ge)}},className:wn.checkbox}),s.jsxs("span",{className:wn.checkboxText,children:["        "," ",s.jsx(Pa,{to:"/privacy",target:"_blank",className:wn.privacyLink,children:" "})]})]}),f.personalDataConsent&&s.jsx("span",{className:wn.error,children:f.personalDataConsent})]})]}),n&&o===0&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:wn.inputGroup,children:[s.jsx("div",{className:wn.inputIcon,children:s.jsx(Nl,{})}),s.jsx("input",{type:"email",name:"email",placeholder:"Email",value:l.email,onChange:ve,className:`${wn.input} ${f.email?wn.errorInput:""}`})]}),f.email&&s.jsx("span",{className:wn.error,children:f.email}),s.jsxs("div",{className:wn.inputGroup,children:[s.jsx("div",{className:wn.inputIcon,children:s.jsx(xh,{})}),s.jsx("input",{type:P?"text":"password",name:"password",placeholder:"",value:l.password,onChange:ve,className:`${wn.input} ${f.password?wn.errorInput:""}`}),s.jsx("button",{type:"button",className:wn.passwordToggle,onClick:()=>B(!P),"aria-label":P?" ":" ",children:P?s.jsx(gd,{}):s.jsx(fo,{})})]}),f.password&&s.jsx("span",{className:wn.error,children:f.password})]}),r===2&&s.jsxs("div",{className:wn.inputGroup,children:[s.jsx("div",{className:wn.inputIcon,children:s.jsx(Nl,{})}),s.jsx("input",{type:"text",name:"verificationCode",placeholder:"   ",value:l.verificationCode,onChange:ve,maxLength:"6",className:`${wn.input} ${wn.verificationCodeInput} ${f.verificationCode?wn.errorInput:""}`})]}),f.verificationCode&&s.jsx("span",{className:wn.error,children:f.verificationCode}),o===1&&s.jsxs("div",{className:wn.inputGroup,children:[s.jsx("div",{className:wn.inputIcon,children:s.jsx(Nl,{})}),s.jsx("input",{type:"email",name:"email",placeholder:"  email",value:l.email,onChange:ve,className:`${wn.input} ${f.email?wn.errorInput:""}`})]}),o===1&&f.email&&s.jsx("span",{className:wn.error,children:f.email}),o===2&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:wn.inputGroup,children:[s.jsx("div",{className:wn.inputIcon,children:s.jsx(Nl,{})}),s.jsx("input",{type:"text",name:"resetCode",placeholder:"   ",value:l.resetCode,onChange:ve,maxLength:"6",className:`${wn.input} ${wn.verificationCodeInput} ${f.resetCode?wn.errorInput:""}`})]}),f.resetCode&&s.jsx("span",{className:wn.error,children:f.resetCode}),s.jsxs("div",{className:wn.inputGroup,children:[s.jsx("div",{className:wn.inputIcon,children:s.jsx(xh,{})}),s.jsx("input",{type:H?"text":"password",name:"newPassword1",placeholder:" ",value:l.newPassword1,onChange:ve,className:`${wn.input} ${f.newPassword1?wn.errorInput:""}`}),s.jsx("button",{type:"button",className:wn.passwordToggle,onClick:()=>se(!H),"aria-label":H?" ":" ",children:H?s.jsx(gd,{}):s.jsx(fo,{})})]}),f.newPassword1&&s.jsx("span",{className:wn.error,children:f.newPassword1}),s.jsxs("div",{className:wn.inputGroup,children:[s.jsx("div",{className:wn.inputIcon,children:s.jsx(xh,{})}),s.jsx("input",{type:K?"text":"password",name:"newPassword2",placeholder:"  ",value:l.newPassword2,onChange:ve,className:`${wn.input} ${f.newPassword2?wn.errorInput:""}`}),s.jsx("button",{type:"button",className:wn.passwordToggle,onClick:()=>te(!K),"aria-label":K?" ":" ",children:K?s.jsx(gd,{}):s.jsx(fo,{})})]}),f.newPassword2&&s.jsx("span",{className:wn.error,children:f.newPassword2})]}),n&&o===0&&s.jsx("div",{className:wn.forgotPassword,children:s.jsx("button",{type:"button",onClick:ce,className:wn.forgotPasswordLink,children:" ?"})}),s.jsx("button",{type:"submit",className:wn.submitButton,disabled:b||o===2&&(f.newPassword1||f.newPassword2||f.resetCode),children:b?s.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:s.jsx(Fn,{size:"small"})}):o===0?n?"":r===1?"":" email":o===1?" ":" "}),r===2&&s.jsxs("div",{className:wn.verificationActions,children:[s.jsx("button",{type:"button",onClick:ie=>{if(b||D>0){ie.preventDefault();return}de()},className:wn.resendButton,disabled:b||D>0,children:D>0?`   ${ee(D)}`:"  "}),s.jsx("button",{type:"button",onClick:pe,className:wn.backButton,children:" email"})]}),o===2&&s.jsxs("div",{className:wn.verificationActions,children:[s.jsx("button",{type:"button",onClick:ie=>{if(b||D>0){ie.preventDefault();return}Ae()},className:wn.resendButton,disabled:b||D>0,children:D>0?`   ${ee(D)}`:"  "}),s.jsx("button",{type:"button",onClick:Re,className:wn.backButton,children:"  "})]}),o===1&&s.jsx("div",{className:wn.verificationActions,children:s.jsx("button",{type:"button",onClick:Re,className:wn.backButton,children:"  "})})]}),r!==2&&o===0&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:wn.socialAuth,children:[s.jsx("p",{className:wn.socialDivider,children:"   "}),s.jsx("div",{className:wn.socialButtons,children:s.jsxs("button",{type:"button",onClick:me,className:wn.socialButton,disabled:b,children:[s.jsx("img",{src:"/google_icon.svg",alt:"Google",className:wn.socialIcon}),s.jsx("span",{children:"Google"})]})}),s.jsx("div",{id:"telegramSignIn",style:{marginTop:"10px",display:"flex",justifyContent:"center"}})]}),s.jsx("div",{className:wn.switchAuth,children:n?s.jsxs(s.Fragment,{children:[" ?"," ",s.jsx("button",{type:"button",onClick:()=>{a(!1),i(1),S(null),d(ie=>({...ie,verificationCode:""})),g({})},children:""})]}):s.jsxs(s.Fragment,{children:["  ?"," ",s.jsx("button",{type:"button",onClick:()=>{a(!0),i(1),S(null),d(ie=>({...ie,verificationCode:""})),g({})},children:""})]})})]})]})]})})},Xme="_container_i1cnn_31",Kme="_card_i1cnn_45",Zme="_header_i1cnn_55",Jme="_backButton_i1cnn_61",epe="_title_i1cnn_77",tpe="_content_i1cnn_85",npe="_form_i1cnn_89",spe="_inputGroup_i1cnn_95",ape="_inputIcon_i1cnn_101",rpe="_input_i1cnn_95",ipe="_passwordToggle_i1cnn_120",ope="_errorInput_i1cnn_130",cpe="_error_i1cnn_130",lpe="_submitButton_i1cnn_173",upe="_verificationInfo_i1cnn_217",dpe="_verificationActions_i1cnn_237",hpe="_resendButton_i1cnn_244",fpe="_successMessage_i1cnn_285",mpe="_errorMessage_i1cnn_296",ppe="_verificationCodeInput_i1cnn_307",gpe="_footer_i1cnn_319",_pe="_link_i1cnn_332",ya={container:Xme,card:Kme,header:Zme,backButton:Jme,title:epe,content:tpe,form:npe,inputGroup:spe,inputIcon:ape,input:rpe,passwordToggle:ipe,errorInput:ope,error:cpe,submitButton:lpe,verificationInfo:upe,verificationActions:dpe,resendButton:hpe,successMessage:fpe,errorMessage:mpe,verificationCodeInput:ppe,footer:gpe,link:_pe},vpe=()=>{const[e,t]=_.useState(1),[n,a]=_.useState({email:"",code:"",new_password1:"",new_password2:""}),[r,i]=_.useState({}),[o,c]=_.useState(!1),[l,d]=_.useState(!1),[f,g]=_.useState(!1),b=_.useCallback((D,R)=>{const P={...r};switch(D){case"email":R?/\S+@\S+\.\S+/.test(R)?delete P.email:P.email="Email ":P.email="Email ";break;case"code":!R&&e===2?P.code="  ":R&&R.length!==6?P.code="   6 ":delete P.code;break;case"new_password1":if(!R&&e===2)P.new_password1="  ";else if(R){const B=fg(R);B?P.new_password1=B:(delete P.new_password1,n.new_password2&&R!==n.new_password2?P.new_password2="  ":delete P.new_password2)}else delete P.new_password1;break;case"new_password2":!R&&e===2?P.new_password2="  ":R&&R!==n.new_password1?P.new_password2="  ":delete P.new_password2;break}i(P)},[r,n,e]),w=D=>{const{name:R,value:P}=D.target;a(B=>({...B,[R]:P})),b(R,P)},C=()=>{const D={};if(e===1)n.email?/\S+@\S+\.\S+/.test(n.email)||(D.email="Email "):D.email="Email ";else if(e===2){if(n.code?n.code.length!==6&&(D.code="   6 "):D.code="  ",!n.new_password1)D.new_password1="  ";else{const R=fg(n.new_password1);R&&(D.new_password1=R)}n.new_password2?n.new_password1!==n.new_password2&&(D.new_password2="  "):D.new_password2="  "}return i(D),Object.keys(D).length===0},S=async D=>{var R;if(D.preventDefault(),!!C()){c(!0),i({});try{e===1?(await Be.post("accounts/api/auth/password-reset/",{email:n.email}),t(2)):e===2&&(await Be.post("accounts/api/auth/password-reset-confirm/",{email:n.email,code:n.code,new_password1:n.new_password1,new_password2:n.new_password2}),window.location.href="/login?message=password_reset_success")}catch(P){const B=(R=P.response)==null?void 0:R.data;if(B){const O={};for(const $ in B)O[$]=Array.isArray(B[$])?B[$][0]:B[$];B.detail&&e===2&&(O.new_password1=B.detail,O.general=B.detail),i(O)}else i({general:" . ,  ."})}finally{c(!1)}}},k=async()=>{var D;c(!0),i({});try{await Be.post("accounts/api/auth/password-reset/",{email:n.email}),i({success:"   "})}catch(R){const P=(D=R.response)==null?void 0:D.data;i(P?{general:P.detail||"  "}:{general:" . ,  ."})}finally{c(!1)}},E=()=>{t(1),a(D=>({...D,code:"",new_password1:"",new_password2:""})),i({})};return s.jsx("div",{className:ya.container,children:s.jsxs("div",{className:ya.card,children:[s.jsxs("div",{className:ya.header,children:[s.jsxs(Pa,{to:"/login",className:ya.backButton,children:[s.jsx(Cm,{}),"  "]}),s.jsx("h2",{className:ya.title,children:e===1?" ":" "})]}),s.jsxs("div",{className:ya.content,children:[r.general&&s.jsx("div",{className:ya.errorMessage,children:r.general}),r.success&&s.jsx("div",{className:ya.successMessage,children:r.success}),e===2&&s.jsxs("div",{className:ya.verificationInfo,children:[s.jsxs("p",{children:["     ",s.jsx("strong",{children:n.email})]}),s.jsx("p",{children:"    :"})]}),s.jsxs("form",{onSubmit:S,className:ya.form,children:[e===1&&s.jsxs("div",{className:ya.inputGroup,children:[s.jsx("div",{className:ya.inputIcon,children:s.jsx(Nl,{})}),s.jsx("input",{type:"email",name:"email",placeholder:"  email",value:n.email,onChange:w,className:`${ya.input} ${r.email?ya.errorInput:""}`})]}),r.email&&s.jsx("span",{className:ya.error,children:r.email}),e===2&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:ya.inputGroup,children:[s.jsx("div",{className:ya.inputIcon,children:s.jsx(Nl,{})}),s.jsx("input",{type:"text",name:"code",placeholder:"   ",value:n.code,onChange:w,maxLength:"6",className:`${ya.input} ${ya.verificationCodeInput} ${r.code?ya.errorInput:""}`})]}),r.code&&s.jsx("span",{className:ya.error,children:r.code}),s.jsxs("div",{className:ya.inputGroup,children:[s.jsx("div",{className:ya.inputIcon,children:s.jsx(xh,{})}),s.jsx("input",{type:l?"text":"password",name:"new_password1",placeholder:" ",value:n.new_password1,onChange:w,className:`${ya.input} ${r.new_password1?ya.errorInput:""}`}),s.jsx("button",{type:"button",className:ya.passwordToggle,onClick:()=>d(!l),"aria-label":l?" ":" ",children:l?s.jsx(gd,{}):s.jsx(fo,{})})]}),r.new_password1&&s.jsx("span",{className:ya.error,children:r.new_password1}),s.jsxs("div",{className:ya.inputGroup,children:[s.jsx("div",{className:ya.inputIcon,children:s.jsx(xh,{})}),s.jsx("input",{type:f?"text":"password",name:"new_password2",placeholder:"  ",value:n.new_password2,onChange:w,className:`${ya.input} ${r.new_password2?ya.errorInput:""}`}),s.jsx("button",{type:"button",className:ya.passwordToggle,onClick:()=>g(!f),"aria-label":f?" ":" ",children:f?s.jsx(gd,{}):s.jsx(fo,{})})]}),r.new_password2&&s.jsx("span",{className:ya.error,children:r.new_password2})]}),s.jsx("button",{type:"submit",className:ya.submitButton,disabled:o||e===2&&(r.new_password1||r.new_password2||r.code),children:o?s.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:s.jsx(Fn,{size:"small"})}):e===1?" ":" "}),e===2&&s.jsxs("div",{className:ya.verificationActions,children:[s.jsx("button",{type:"button",onClick:k,className:ya.resendButton,disabled:o,children:"  "}),s.jsx("button",{type:"button",onClick:E,className:ya.backButton,children:" email"})]})]}),s.jsx("div",{className:ya.footer,children:s.jsxs("p",{children:[" ?"," ",s.jsx(Pa,{to:"/login",className:ya.link,children:""})]})})]})]})})},xpe=()=>{const e=Kr();return!!localStorage.getItem("access_token")&&["/registration-login","/password-reset"].includes(e.pathname)?s.jsx(Sx,{to:"/account",replace:!0}):s.jsx(kg,{})},bpe="_card_wterq_2",ype="_imageContainer_wterq_34",wpe="_image_wterq_34",jpe="_imageHidden_wterq_64",Cpe="_imageVisible_wterq_68",Spe="_imageSkeleton_wterq_72",Npe="_skeletonShimmer_wterq_88",kpe="_noImage_wterq_109",Ipe="_statusBadge_wterq_127",Epe="_active_wterq_141",Tpe="_inactive_wterq_146",Dpe="_unboundBadge_wterq_151",Ape="_unboundLabel_wterq_167",Mpe="_infoContainer_wterq_197",Rpe="_priceSection_wterq_211",Bpe="_currentPrice_wterq_215",Ope="_priceRange_wterq_221",Lpe="_noPrice_wterq_226",$pe="_productName_wterq_233",Ppe="_businessName_wterq_244",Fpe="_actionButtons_wterq_251",Hpe="_editButton_wterq_259",qpe="_statusButton_wterq_260",Vpe="_deleteButton_wterq_261",zpe="_deactivate_wterq_308",Upe="_tooltip_wterq_331",Wpe="_stockInfo_wterq_380",Ype="_inStock_wterq_392",Gpe="_noStock_wterq_397",Qpe="_stockLabel_wterq_402",Xpe="_stockValue_wterq_408",Ga={card:bpe,imageContainer:ype,image:wpe,imageHidden:jpe,imageVisible:Cpe,imageSkeleton:Spe,skeletonShimmer:Npe,noImage:kpe,statusBadge:Ipe,active:Epe,inactive:Tpe,unboundBadge:Dpe,unboundLabel:Ape,infoContainer:Mpe,priceSection:Rpe,currentPrice:Bpe,priceRange:Ope,noPrice:Lpe,productName:$pe,businessName:Ppe,actionButtons:Fpe,editButton:Hpe,statusButton:qpe,deleteButton:Vpe,deactivate:zpe,tooltip:Upe,stockInfo:Wpe,inStock:Ype,noStock:Gpe,stockLabel:Qpe,stockValue:Xpe},sO=({product:e,businessSlug:t,onToggleStatus:n,onDelete:a})=>{var D;const r=Is(),{getFileUrl:i}=Er(),[o,c]=_.useState(!0),[l,d]=_.useState(!1),f=_.useRef(null),g=e.main_image;_.useEffect(()=>{g!=null&&g.image?(c(!0),d(!1)):(c(!1),d(!0))},[g==null?void 0:g.image]),_.useEffect(()=>{f.current&&(g!=null&&g.image)&&o&&f.current.complete&&f.current.naturalHeight!==0&&c(!1)});const b=()=>{r(`/business/${t}/products/${e.id}/`)},w=(R,P)=>{R.stopPropagation(),P()},C=e.default_variant,S=(C==null?void 0:C.min_price)||e.min_price,k=e.min_price!==e.max_price?`${e.min_price.toLocaleString("ru-RU")} - ${e.max_price.toLocaleString("ru-RU")} `:null,E=e.total_available_quantity??((D=e.stock_info)==null?void 0:D.total_available)??0;return s.jsxs("div",{className:`product-card ${Ga.card}`,onClick:b,children:[s.jsxs("div",{className:Ga.imageContainer,children:[g!=null&&g.image&&!l?s.jsxs(s.Fragment,{children:[o&&s.jsx("div",{className:Ga.imageSkeleton,children:s.jsx("div",{className:Ga.skeletonShimmer})}),s.jsx("img",{ref:f,src:i(g.image),alt:e.name,loading:"lazy",className:`product-img ${Ga.image} ${o?Ga.imageHidden:Ga.imageVisible}`,onLoad:()=>{c(!1)},onError:R=>{R.target.onerror=null,d(!0),c(!1)}})]}):s.jsx("div",{className:`no-image ${Ga.noImage}`,"aria-hidden":"true",children:s.jsx("svg",{width:"60",height:"60",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:s.jsx("path",{d:"M4 16L8.5 10.5L11 13.5L14.5 9L20 16M4 16H20M4 16V4H20V16",strokeWidth:"1.5"})})}),s.jsx("div",{className:`${Ga.statusBadge} ${e.is_active?Ga.active:Ga.inactive}`,children:e.is_active?"":""}),e.is_bound_to_locations===!1&&s.jsx("div",{className:Ga.unboundBadge,children:"   "})]}),s.jsxs("div",{className:`product-list-info ${Ga.infoContainer}`,children:[s.jsx("div",{className:`price-section ${Ga.priceSection}`,children:S?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:`current-price ${Ga.currentPrice}`,children:[parseFloat(S).toLocaleString("ru-RU")," "]}),k&&s.jsx("div",{className:`price-range ${Ga.priceRange}`,children:k})]}):s.jsx("div",{className:Ga.noPrice,children:"  "})}),s.jsx("h3",{className:`product-name ${Ga.productName}`,children:e.name}),e.is_bound_to_locations===!1&&s.jsx("div",{className:Ga.unboundLabel,children:"   "}),s.jsx("div",{className:`business-name ${Ga.businessName}`,children:e.business_name}),s.jsxs("div",{className:`${Ga.stockInfo} ${E>0?Ga.inStock:Ga.noStock}`,children:[s.jsx("span",{className:Ga.stockLabel,children:" :"}),s.jsxs("span",{className:Ga.stockValue,children:[E," ",e.unit_display||"."]})]}),s.jsxs("div",{className:Ga.actionButtons,children:[s.jsxs("button",{className:Ga.editButton,onClick:R=>w(R,()=>r(`/business/${t}/products/${e.id}/edit`)),title:"","aria-label":" ",children:[s.jsx("i",{className:"fas fa-edit"}),s.jsx("span",{className:Ga.tooltip,children:""})]}),s.jsxs("button",{className:`${Ga.statusButton} ${e.is_active?Ga.deactivate:Ga.activate}`,onClick:R=>w(R,()=>n(e.id,e.is_active)),title:e.is_active?"":"","aria-label":e.is_active?" ":" ",children:[s.jsx("i",{className:e.is_active?"fas fa-pause":"fas fa-play"}),s.jsx("span",{className:Ga.tooltip,children:e.is_active?"":""})]}),s.jsxs("button",{className:Ga.deleteButton,onClick:R=>w(R,()=>a(e.id)),title:"","aria-label":" ",children:[s.jsx("i",{className:"fas fa-trash"}),s.jsx("span",{className:Ga.tooltip,children:""})]})]})]})]})},Jb=()=>{const{business_slug:e}=ha(),[t,n]=_.useState(()=>typeof window<"u"&&e?localStorage.getItem(`business_${e}_location`):null),[a,r]=_.useState(!1);_.useEffect(()=>{if(e){const l=localStorage.getItem(`business_${e}_location`);n(l),r(!1)}},[e]);const i=l=>{n(l),localStorage.setItem(`business_${e}_location`,l)},o=()=>!t||t==="all"?null:{location:t};return{selectedLocation:t,updateLocation:i,getLocationParam:o,getLocationQueryString:()=>{const l=o();return l?`?${new URLSearchParams(l).toString()}`:""},loading:a,isAllLocations:t==="all"}},Kpe="_container_1kghe_2",Zpe="_header_1kghe_6",Jpe="_title_1kghe_13",e1e="_titleIcon_1kghe_20",t1e="_headerActions_1kghe_25",n1e="_contentWrapper_1kghe_63",s1e="_sidebar_1kghe_70",a1e="_mainContentFlex_1kghe_77",r1e="_categoriesList_1kghe_95",i1e="_categoryButton_1kghe_102",o1e="_active_1kghe_117",c1e="_priceInputs_1kghe_124",l1e="_priceInput_1kghe_124",u1e="_priceSeparator_1kghe_149",d1e="_productsHeader_1kghe_191",h1e="_searchContainer_1kghe_200",f1e="_searchInput_1kghe_206",m1e="_searchButton_1kghe_220",p1e="_clearButton_1kghe_235",g1e="_sortContainer_1kghe_243",_1e="_productsCount_1kghe_249",v1e="_sortLabel_1kghe_259",x1e="_sortSelect_1kghe_263",b1e="_addProductButton_1kghe_282",y1e="_attachLocationButton_1kghe_283",w1e="_productsGrid_1kghe_344",j1e="_productCard_1kghe_351",C1e="_addProductCard_1kghe_365",S1e="_addProductContent_1kghe_375",N1e="_addProductIcon_1kghe_380",k1e="_addProductText_1kghe_386",I1e="_emptyState_1kghe_484",E1e="_emptyIcon_1kghe_492",T1e="_emptyTitle_1kghe_498",D1e="_emptyText_1kghe_503",A1e="_resetButton_1kghe_508",M1e="_error_1kghe_524",R1e="_applyFilterButton_1kghe_541",B1e="_resetFiltersButton_1kghe_542",O1e="_filterSection_1kghe_551",L1e="_filterTitle_1kghe_557",$1e="_loadingText_1kghe_564",P1e="_mobileFiltersButton_1kghe_605",F1e="_mobileFiltersOverlay_1kghe_628",H1e="_mobileFiltersPanel_1kghe_646",q1e="_mobileFiltersHeader_1kghe_664",V1e="_mobileFiltersTitle_1kghe_673",z1e="_mobileFiltersClose_1kghe_679",U1e="_mobileFiltersContent_1kghe_695",W1e="_mobileFiltersActions_1kghe_699",Y1e="_mobileApplyButton_1kghe_709",G1e="_mobileResetButton_1kghe_710",Q1e="_checkboxFilter_1kghe_915",dn={container:Kpe,header:Zpe,title:Jpe,titleIcon:e1e,headerActions:t1e,contentWrapper:n1e,sidebar:s1e,mainContentFlex:a1e,categoriesList:r1e,categoryButton:i1e,active:o1e,priceInputs:c1e,priceInput:l1e,priceSeparator:u1e,productsHeader:d1e,searchContainer:h1e,searchInput:f1e,searchButton:m1e,clearButton:p1e,sortContainer:g1e,productsCount:_1e,sortLabel:v1e,sortSelect:x1e,addProductButton:b1e,attachLocationButton:y1e,productsGrid:w1e,productCard:j1e,addProductCard:C1e,addProductContent:S1e,addProductIcon:N1e,addProductText:k1e,emptyState:I1e,emptyIcon:E1e,emptyTitle:T1e,emptyText:D1e,resetButton:A1e,error:M1e,applyFilterButton:R1e,resetFiltersButton:B1e,filterSection:O1e,filterTitle:L1e,loadingText:$1e,mobileFiltersButton:P1e,mobileFiltersOverlay:F1e,mobileFiltersPanel:H1e,mobileFiltersHeader:q1e,mobileFiltersTitle:V1e,mobileFiltersClose:z1e,mobileFiltersContent:U1e,mobileFiltersActions:W1e,mobileApplyButton:Y1e,mobileResetButton:G1e,checkboxFilter:Q1e};/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var CS=function(e,t){return CS=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var r in a)a.hasOwnProperty(r)&&(n[r]=a[r])},CS(e,t)};function X1e(e,t){CS(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var mg=function(){return mg=Object.assign||function(t){for(var n,a=1,r=arguments.length;a<r;a++){n=arguments[a];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},mg.apply(this,arguments)};function K1e(e,t,n,a){var r,i=!1,o=0;function c(){r&&clearTimeout(r)}function l(){c(),i=!0}typeof t!="boolean"&&(a=n,n=t,t=void 0);function d(){var f=this,g=Date.now()-o,b=arguments;if(i)return;function w(){o=Date.now(),n.apply(f,b)}function C(){r=void 0}a&&!r&&w(),c(),a===void 0&&g>e?w():t!==!0&&(r=setTimeout(a?C:w,a===void 0?e-g:e))}return d.cancel=l,d}var _m={Pixel:"Pixel",Percent:"Percent"},WE={unit:_m.Percent,value:.8};function YE(e){return typeof e=="number"?{unit:_m.Percent,value:e*100}:typeof e=="string"?e.match(/^(\d*(\.\d+)?)px$/)?{unit:_m.Pixel,value:parseFloat(e)}:e.match(/^(\d*(\.\d+)?)%$/)?{unit:_m.Percent,value:parseFloat(e)}:(console.warn('scrollThreshold format is invalid. Valid formats: "120px", "50%"...'),WE):(console.warn("scrollThreshold should be string or number"),WE)}var Q3=function(e){X1e(t,e);function t(n){var a=e.call(this,n)||this;return a.lastScrollTop=0,a.actionTriggered=!1,a.startY=0,a.currentY=0,a.dragging=!1,a.maxPullDownDistance=0,a.getScrollableTarget=function(){return a.props.scrollableTarget instanceof HTMLElement?a.props.scrollableTarget:typeof a.props.scrollableTarget=="string"?document.getElementById(a.props.scrollableTarget):(a.props.scrollableTarget===null&&console.warn(`You are trying to pass scrollableTarget but it is null. This might
        happen because the element may not have been added to DOM yet.
        See https://github.com/ankeetmaini/react-infinite-scroll-component/issues/59 for more info.
      `),null)},a.onStart=function(r){a.lastScrollTop||(a.dragging=!0,r instanceof MouseEvent?a.startY=r.pageY:r instanceof TouchEvent&&(a.startY=r.touches[0].pageY),a.currentY=a.startY,a._infScroll&&(a._infScroll.style.willChange="transform",a._infScroll.style.transition="transform 0.2s cubic-bezier(0,0,0.31,1)"))},a.onMove=function(r){a.dragging&&(r instanceof MouseEvent?a.currentY=r.pageY:r instanceof TouchEvent&&(a.currentY=r.touches[0].pageY),!(a.currentY<a.startY)&&(a.currentY-a.startY>=Number(a.props.pullDownToRefreshThreshold)&&a.setState({pullToRefreshThresholdBreached:!0}),!(a.currentY-a.startY>a.maxPullDownDistance*1.5)&&a._infScroll&&(a._infScroll.style.overflow="visible",a._infScroll.style.transform="translate3d(0px, "+(a.currentY-a.startY)+"px, 0px)")))},a.onEnd=function(){a.startY=0,a.currentY=0,a.dragging=!1,a.state.pullToRefreshThresholdBreached&&(a.props.refreshFunction&&a.props.refreshFunction(),a.setState({pullToRefreshThresholdBreached:!1})),requestAnimationFrame(function(){a._infScroll&&(a._infScroll.style.overflow="auto",a._infScroll.style.transform="none",a._infScroll.style.willChange="unset")})},a.onScrollListener=function(r){typeof a.props.onScroll=="function"&&setTimeout(function(){return a.props.onScroll&&a.props.onScroll(r)},0);var i=a.props.height||a._scrollableNode?r.target:document.documentElement.scrollTop?document.documentElement:document.body;if(!a.actionTriggered){var o=a.props.inverse?a.isElementAtTop(i,a.props.scrollThreshold):a.isElementAtBottom(i,a.props.scrollThreshold);o&&a.props.hasMore&&(a.actionTriggered=!0,a.setState({showLoader:!0}),a.props.next&&a.props.next()),a.lastScrollTop=i.scrollTop}},a.state={showLoader:!1,pullToRefreshThresholdBreached:!1,prevDataLength:n.dataLength},a.throttledOnScrollListener=K1e(150,a.onScrollListener).bind(a),a.onStart=a.onStart.bind(a),a.onMove=a.onMove.bind(a),a.onEnd=a.onEnd.bind(a),a}return t.prototype.componentDidMount=function(){if(typeof this.props.dataLength>"u")throw new Error('mandatory prop "dataLength" is missing. The prop is needed when loading more content. Check README.md for usage');if(this._scrollableNode=this.getScrollableTarget(),this.el=this.props.height?this._infScroll:this._scrollableNode||window,this.el&&this.el.addEventListener("scroll",this.throttledOnScrollListener),typeof this.props.initialScrollY=="number"&&this.el&&this.el instanceof HTMLElement&&this.el.scrollHeight>this.props.initialScrollY&&this.el.scrollTo(0,this.props.initialScrollY),this.props.pullDownToRefresh&&this.el&&(this.el.addEventListener("touchstart",this.onStart),this.el.addEventListener("touchmove",this.onMove),this.el.addEventListener("touchend",this.onEnd),this.el.addEventListener("mousedown",this.onStart),this.el.addEventListener("mousemove",this.onMove),this.el.addEventListener("mouseup",this.onEnd),this.maxPullDownDistance=this._pullDown&&this._pullDown.firstChild&&this._pullDown.firstChild.getBoundingClientRect().height||0,this.forceUpdate(),typeof this.props.refreshFunction!="function"))throw new Error(`Mandatory prop "refreshFunction" missing.
          Pull Down To Refresh functionality will not work
          as expected. Check README.md for usage'`)},t.prototype.componentWillUnmount=function(){this.el&&(this.el.removeEventListener("scroll",this.throttledOnScrollListener),this.props.pullDownToRefresh&&(this.el.removeEventListener("touchstart",this.onStart),this.el.removeEventListener("touchmove",this.onMove),this.el.removeEventListener("touchend",this.onEnd),this.el.removeEventListener("mousedown",this.onStart),this.el.removeEventListener("mousemove",this.onMove),this.el.removeEventListener("mouseup",this.onEnd)))},t.prototype.componentDidUpdate=function(n){this.props.dataLength!==n.dataLength&&(this.actionTriggered=!1,this.setState({showLoader:!1}))},t.getDerivedStateFromProps=function(n,a){var r=n.dataLength!==a.prevDataLength;return r?mg(mg({},a),{prevDataLength:n.dataLength}):null},t.prototype.isElementAtTop=function(n,a){a===void 0&&(a=.8);var r=n===document.body||n===document.documentElement?window.screen.availHeight:n.clientHeight,i=YE(a);return i.unit===_m.Pixel?n.scrollTop<=i.value+r-n.scrollHeight+1:n.scrollTop<=i.value/100+r-n.scrollHeight+1},t.prototype.isElementAtBottom=function(n,a){a===void 0&&(a=.8);var r=n===document.body||n===document.documentElement?window.screen.availHeight:n.clientHeight,i=YE(a);return i.unit===_m.Pixel?n.scrollTop+r>=n.scrollHeight-i.value:n.scrollTop+r>=i.value/100*n.scrollHeight},t.prototype.render=function(){var n=this,a=mg({height:this.props.height||"auto",overflow:"auto",WebkitOverflowScrolling:"touch"},this.props.style),r=this.props.hasChildren||!!(this.props.children&&this.props.children instanceof Array&&this.props.children.length),i=this.props.pullDownToRefresh&&this.props.height?{overflow:"auto"}:{};return nt.createElement("div",{style:i,className:"infinite-scroll-component__outerdiv"},nt.createElement("div",{className:"infinite-scroll-component "+(this.props.className||""),ref:function(o){return n._infScroll=o},style:a},this.props.pullDownToRefresh&&nt.createElement("div",{style:{position:"relative"},ref:function(o){return n._pullDown=o}},nt.createElement("div",{style:{position:"absolute",left:0,right:0,top:-1*this.maxPullDownDistance}},this.state.pullToRefreshThresholdBreached?this.props.releaseToRefreshContent:this.props.pullDownToRefreshContent)),this.props.children,!this.state.showLoader&&!r&&this.props.hasMore&&this.props.loader,this.state.showLoader&&this.props.hasMore&&this.props.loader,!this.props.hasMore&&this.props.endMessage))},t}(_.Component);const Z1e="_overlay_qpuop_5",J1e="_modal_qpuop_33",ege="_header_qpuop_55",tge="_title_qpuop_71",nge="_warningIcon_qpuop_89",sge="_closeButton_qpuop_99",age="_content_qpuop_131",rge="_productInfo_qpuop_139",ige="_warning_qpuop_89",oge="_options_qpuop_175",cge="_option_qpuop_175",lge="_selected_qpuop_217",uge="_optionHeader_qpuop_229",dge="_optionIcon_qpuop_243",hge="_optionTitle_qpuop_253",fge="_recommended_qpuop_267",mge="_dangerous_qpuop_289",pge="_optionDescription_qpuop_311",gge="_dangerWarning_qpuop_339",_ge="_dangerIcon_qpuop_365",vge="_irreversible_qpuop_375",xge="_footer_qpuop_399",bge="_cancelButton_qpuop_415",yge="_confirmButton_qpuop_447",wge="_safeButton_qpuop_471",jge="_dangerButton_qpuop_491",Xa={overlay:Z1e,modal:J1e,header:ege,title:tge,warningIcon:nge,closeButton:sge,content:age,productInfo:rge,warning:ige,options:oge,option:cge,selected:lge,optionHeader:uge,optionIcon:dge,optionTitle:hge,recommended:fge,dangerous:mge,optionDescription:pge,dangerWarning:gge,dangerIcon:_ge,irreversible:vge,footer:xge,cancelButton:bge,confirmButton:yge,safeButton:wge,dangerButton:jge},aO=({isOpen:e,onClose:t,onConfirm:n,productName:a})=>{const[r,i]=_.useState("soft");if(!e)return null;const o=()=>{n(r),t()};return s.jsx("div",{className:Xa.overlay,children:s.jsxs("div",{className:Xa.modal,children:[s.jsxs("div",{className:Xa.header,children:[s.jsxs("div",{className:Xa.title,children:[s.jsx(Ol,{className:Xa.warningIcon}),s.jsx("span",{children:" "})]}),s.jsx("button",{className:Xa.closeButton,onClick:t,children:s.jsx(da,{})})]}),s.jsxs("div",{className:Xa.content,children:[s.jsxs("div",{className:Xa.productInfo,children:[s.jsx("strong",{children:":"})," ",a]}),s.jsxs("div",{className:Xa.warning,children:[s.jsx(Ol,{className:Xa.warningIcon}),s.jsx("span",{children:"  :"})]}),s.jsxs("div",{className:Xa.options,children:[s.jsxs("div",{className:`${Xa.option} ${r==="soft"?Xa.selected:""}`,onClick:()=>i("soft"),children:[s.jsxs("div",{className:Xa.optionHeader,children:[s.jsx(qI,{className:Xa.optionIcon}),s.jsx("span",{className:Xa.optionTitle,children:" "}),s.jsx("div",{className:Xa.recommended,children:""})]}),s.jsx("div",{className:Xa.optionDescription,children:s.jsxs("ul",{children:[s.jsx("li",{children:"     "}),s.jsx("li",{children:"     "}),s.jsx("li",{children:"   "}),s.jsx("li",{children:"   "})]})})]}),s.jsxs("div",{className:`${Xa.option} ${r==="hard"?Xa.selected:""}`,onClick:()=>i("hard"),children:[s.jsxs("div",{className:Xa.optionHeader,children:[s.jsx(Ir,{className:Xa.optionIcon}),s.jsx("span",{className:Xa.optionTitle,children:" "}),s.jsx("div",{className:Xa.dangerous,children:"!"})]}),s.jsxs("div",{className:Xa.optionDescription,children:[s.jsxs("div",{className:Xa.dangerWarning,children:[s.jsx(Ol,{className:Xa.dangerIcon}),s.jsx("strong",{children:"!"}),"   :"]}),s.jsxs("ul",{children:[s.jsx("li",{children:"    "}),s.jsx("li",{children:"  "}),s.jsx("li",{children:"   "}),s.jsx("li",{children:"   "})]}),s.jsx("div",{className:Xa.irreversible,children:"   !"})]})]})]})]}),s.jsxs("div",{className:Xa.footer,children:[s.jsx("button",{className:Xa.cancelButton,onClick:t,children:""}),s.jsx("button",{className:`${Xa.confirmButton} ${r==="hard"?Xa.dangerButton:Xa.safeButton}`,onClick:o,children:r==="soft"?s.jsxs(s.Fragment,{children:[s.jsx(qI,{})," "]}):s.jsxs(s.Fragment,{children:[s.jsx(Ir,{})," "]})})]})]})})},Cge=()=>{var ln,fn,jn;const{business_slug:e}=ha(),t=Is(),n=Kr();Er();const{getLocationParam:a,selectedLocation:r,updateLocation:i}=Jb(),[o,c]=_.useState({products:[],categories:[],filters:{filters:[]},pagination:{},applied_filters:{}}),[l,d]=_.useState(!0),[f,g]=_.useState(!0),[b,w]=_.useState(null),[C,S]=_.useState([]),[k,E]=_.useState(!0),[D,R]=_.useState(null),[P,B]=_.useState(""),[O,$]=_.useState(""),[U,F]=_.useState(""),[H,se]=_.useState("-created_at"),[K,te]=_.useState("all"),[J,z]=_.useState(!1),[V,M]=_.useState({}),[ee,Z]=_.useState({}),[A,G]=_.useState(3),[Q,Y]=_.useState(!0),[ae,ne]=_.useState(!1),[re,oe]=_.useState(null),[me,Ce]=_.useState(!1),[Ne,Ee]=_.useState({}),[ve,Se]=_.useState(""),[fe,de]=_.useState(""),[pe,ce]=_.useState(null),[Re,Ae]=_.useState(null),[ie,ge]=_.useState("all"),[be,Fe]=_.useState(!1);_.useEffect(()=>{e&&(async()=>{try{E(!0);const It=await Be.get(`/api/business/${e}/locations/`);S(It.data||[])}catch(It){console.error("  :",It)}finally{E(!1)}})()},[e]),_.useEffect(()=>{const dt=new URLSearchParams(n.search);F(dt.get("search")||""),se(dt.get("sort")||"-created_at"),B(dt.get("price_min")||""),$(dt.get("price_max")||""),R(dt.get("category")||null),te(dt.get("location_binding")||"all"),z(dt.get("in_stock")==="1"),dt.get("location");const It={};dt.forEach((st,Rt)=>{Rt.startsWith("attr_")&&(It[Rt]=It[Rt]||[],It[Rt].push(st))}),M(It)},[n.search]);const je=()=>{Ee({...V}),Se(P),de(O),ce(D);const dt=new URLSearchParams(n.search).get("location");Ae(dt||r||"all"),ge(K),Fe(J),Ce(!0)},qe=()=>{Ce(!1)},tt=()=>{M({...Ne}),B(ve),$(fe),R(pe),te(ie),z(be);const dt=new URLSearchParams(n.search);dt.set("page",1),Re&&Re!=="all"?dt.set("location",Re):dt.delete("location"),Ze(Ne,ve,fe,pe,ie,be,dt),qe()},he=()=>{Ee({}),Se(""),de(""),ce(null),Ae("all"),ge("all"),Fe(!1)},Ze=(dt,It,st,Rt,Lt="all",on=!1,vn=null)=>{const ss=vn||new URLSearchParams;U&&ss.set("search",U),H&&ss.set("sort",H),It&&ss.set("price_min",It),st&&ss.set("price_max",st),Rt&&ss.set("category",Rt),Lt&&Lt!=="all"&&ss.set("location_binding",Lt),on&&ss.set("in_stock","1"),Object.entries(dt).forEach(([xs,fs])=>{Array.isArray(fs)?fs.forEach(Hn=>ss.append(xs,Hn)):fs&&ss.set(xs,fs)});const hs=`${n.pathname}?${ss.toString()}`;t(hs,{replace:!0})},Pe=(dt,It)=>{oe({id:dt,name:It}),ne(!0)},bt=async dt=>{var It,st;if(re)try{let Rt;dt==="soft"?Rt=`/api/business/${e}/products/${re.id}/soft-delete`:Rt=`/api/business/${e}/products/${re.id}/hard-delete`;const on=await Be[dt==="soft"?"post":"delete"](Rt);c(ss=>({...ss,products:ss.products.filter(hs=>hs.id!==re.id),pagination:{...ss.pagination,total_items:ss.pagination.total_items-1}}));const vn=dt==="soft"?` "${re.name}"  `:` "${re.name}"  `;alert(vn)}catch(Rt){console.error("   :",Rt),alert("   : "+(((st=(It=Rt.response)==null?void 0:It.data)==null?void 0:st.detail)||Rt.message))}},Ge=()=>{ne(!1),oe(null)},ue=async(dt,It)=>{try{const st=!It,Rt=st?" ,     ?":" ,     ?";if(!window.confirm(Rt))return;await Be.patch(`/api/business/${e}/products/${dt}/toggle-status/`,{is_active:st}),c(Lt=>({...Lt,products:Lt.products.map(on=>on.id===dt?{...on,is_active:st}:on)})),alert(`  ${st?"":""}`)}catch(st){console.error("    :",st),alert("    ")}},De=_.useCallback(async()=>{var dt,It;try{d(!0),g(!0);const st=new URLSearchParams(n.search);st.has("sort")||st.set("sort","-created_at");const Rt=new URLSearchParams(n.search).get("location");if(Rt)st.set("location",Rt);else if(!(n.search&&n.search.length>1)){const vn=a();vn&&vn.location&&vn.location!=="all"&&st.set("location",vn.location)}K&&K!=="all"&&st.set("location_binding",K),J&&st.set("in_stock","1");const Lt=await Be.get(`/api/business/${e}/products/?${st.toString()}`);c(Lt.data);const on={};(It=(dt=Lt.data.filters)==null?void 0:dt.filters)==null||It.forEach(vn=>{on[vn.id]=!0}),Z(on)}catch(st){console.error(" :",st),w(st.message||"    ")}finally{d(!1),g(!1)}},[e,n.search,r,K,J]);_.useEffect(()=>{De()},[De]);const xe=(dt,It)=>{M(st=>{const Rt={...st},Lt=`attr_${dt}`;Rt[Lt]||(Rt[Lt]=[]);const on=It.toString();return Rt[Lt].indexOf(on)===-1?Rt[Lt]=[...Rt[Lt],on]:(Rt[Lt]=Rt[Lt].filter(ss=>ss!==on),Rt[Lt].length===0&&delete Rt[Lt]),Rt})},Ye=(dt,It)=>{var Rt;const st=`attr_${dt}`;return((Rt=V[st])==null?void 0:Rt.includes(It.toString()))||!1},at=()=>{const dt=new URLSearchParams;U&&dt.set("search",U),P&&dt.set("price_min",P),O&&dt.set("price_max",O),D&&dt.set("category",D),K&&K!=="all"&&dt.set("location_binding",K),J&&dt.set("in_stock","1"),dt.set("sort",H),dt.set("page",1),Object.entries(V).forEach(([It,st])=>{st.forEach(Rt=>{dt.append(It,Rt)})}),t(`?${dt.toString()}`)},lt=()=>{F(""),B(""),$(""),R(null),se("-created_at"),M({}),te("all"),z(!1),i("all"),t(`/business/${e}/products`)},Mt=dt=>{Z(It=>({...It,[dt]:!It[dt]}))},pn=dt=>{const It=dt.target.value;se(It);const st=new URLSearchParams(n.search);st.set("sort",It),st.set("page",1),t(`?${st.toString()}`)},Qn=async()=>{var dt;if((dt=o.pagination)!=null&&dt.has_next)try{const It=o.pagination.current_page+1,st=new URLSearchParams(n.search);st.set("page",It);const Rt=new URLSearchParams(n.search).get("location");if(Rt)st.set("location",Rt);else if(!(n.search&&n.search.length>1)){const on=a();on&&on.location&&on.location!=="all"&&st.set("location",on.location)}K&&K!=="all"&&st.set("location_binding",K),J&&st.set("in_stock","1");const Lt=await Be.get(`/api/business/${e}/products/?${st.toString()}`);c(on=>({...on,products:[...on.products,...Lt.data.products],pagination:Lt.data.pagination}))}catch(It){console.error("Error loading more products:",It)}},yt=()=>{var dt;return s.jsxs(Q3,{dataLength:o.products.length,next:Qn,hasMore:((dt=o.pagination)==null?void 0:dt.has_next)||!1,loader:s.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",padding:"20px"},children:s.jsx(Fn,{size:"small"})}),className:dn.productsGrid,children:[s.jsx(os.div,{className:`${dn.productCard} ${dn.addProductCard}`,whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>t(`/business/${e}/products/create`),children:s.jsxs("div",{className:dn.addProductContent,children:[s.jsx("i",{className:`fa fa-plus-circle ${dn.addProductIcon}`}),s.jsx("h5",{children:" "}),s.jsx("p",{className:dn.addProductText,children:"     "})]})}),o.products.map(It=>s.jsx(sO,{product:It,businessSlug:e,onDelete:Pe,onToggleStatus:ue,handleCardClick:()=>t(`/business/${businessSlug}/products/${It.id}/`)},It.id))]})};return l&&!o.products.length?s.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh"},children:s.jsx(Fn,{size:"large"})}):b?s.jsxs("div",{className:dn.error,children:[": ",b]}):s.jsxs("div",{className:dn.container,children:[s.jsxs("div",{className:dn.header,children:[s.jsxs("h1",{className:dn.title,children:[s.jsx("i",{className:`fa fa-box-seam ${dn.titleIcon}`}),""]}),s.jsxs("div",{className:dn.headerActions,children:[s.jsx("button",{className:dn.addProductButton,onClick:()=>t(`/business/${e}/products/create`),children:" "}),s.jsxs("button",{className:dn.attachLocationButton,onClick:()=>t(`/business/${e}/variants-location-price`),children:[s.jsx("i",{className:"fa fa-link"}),"   "]})]})]}),s.jsxs("button",{className:dn.mobileFiltersButton,onClick:je,children:[s.jsx("i",{className:"fa fa-filter"}),""]}),s.jsxs("div",{className:dn.contentWrapper,children:[s.jsxs("aside",{className:dn.sidebar,children:[s.jsxs("div",{className:dn.filterSection,children:[s.jsx("h4",{className:dn.filterTitle,children:""}),k?s.jsx("div",{className:dn.loadingText,children:" ..."}):s.jsxs("div",{className:dn.categoriesList,children:[s.jsx("button",{className:`${dn.categoryButton} ${(()=>{const dt=n.search.includes("location="),It=n.search&&n.search.length>1&&n.search!=="?";return!dt&&It})()?dn.active:""}`,onClick:()=>{const dt=new URLSearchParams(n.search);dt.delete("location"),dt.set("page",1),t(`?${dt.toString()}`)},children:"  "}),C.map(dt=>{const It=new URLSearchParams(n.search).get("location"),st=n.search.includes("location="),Rt=!n.search||n.search.length<=1,Lt=It===String(dt.id)||!st&&Rt&&r===String(dt.id);return s.jsx("button",{className:`${dn.categoryButton} ${Lt?dn.active:""}`,onClick:()=>{const on=new URLSearchParams(n.search);on.set("location",String(dt.id)),on.set("page",1),t(`?${on.toString()}`)},children:dt.name},dt.id)})]})]}),s.jsxs("div",{className:dn.filterSection,children:[s.jsx("h4",{className:dn.filterTitle,children:"  "}),s.jsxs("div",{className:dn.categoriesList,children:[s.jsx("button",{className:`${dn.categoryButton} ${K==="all"?dn.active:""}`,onClick:()=>{te("all");const dt=new URLSearchParams(n.search);dt.delete("location_binding"),dt.set("page",1),t(`?${dt.toString()}`)},children:" "}),s.jsx("button",{className:`${dn.categoryButton} ${K==="bound"?dn.active:""}`,onClick:()=>{te("bound");const dt=new URLSearchParams(n.search);dt.set("location_binding","bound"),dt.set("page",1),t(`?${dt.toString()}`)},children:""}),s.jsx("button",{className:`${dn.categoryButton} ${K==="unbound"?dn.active:""}`,onClick:()=>{te("unbound");const dt=new URLSearchParams(n.search);dt.set("location_binding","unbound"),dt.set("page",1),t(`?${dt.toString()}`)},children:" "})]})]}),s.jsxs("div",{className:dn.filterSection,children:[s.jsx("h4",{className:dn.filterTitle,children:""}),s.jsxs("div",{className:dn.categoriesList,children:[s.jsx("button",{className:`${dn.categoryButton} ${D?"":dn.active}`,onClick:()=>{R(null);const dt=new URLSearchParams(n.search);dt.delete("category"),dt.set("page",1),t(`?${dt.toString()}`)},children:" "}),o.categories.map(dt=>s.jsx("button",{className:`${dn.categoryButton} ${D===dt.id?dn.active:""}`,onClick:()=>{R(dt.id);const It=new URLSearchParams(n.search);It.set("category",dt.id),It.set("page",1),t(`?${It.toString()}`)},children:dt.name},dt.id))]})]}),s.jsx("div",{className:dn.filterSection,children:s.jsx(Fx,{filtersLoading:l,filters:((ln=o.filters)==null?void 0:ln.filters)||[],visibleFiltersCount:A,expandedFilters:ee,toggleFilter:Mt,isAttributeSelected:Ye,handleAttributeSelect:xe,setVisibleFiltersCount:G})}),s.jsxs("div",{className:dn.filterSection,children:[s.jsx("h4",{className:dn.filterTitle,children:""}),s.jsxs("div",{className:dn.priceInputs,children:[s.jsx("input",{type:"number",placeholder:"",className:dn.priceInput,value:P,onChange:dt=>B(dt.target.value),min:"0"}),s.jsx("span",{className:dn.priceSeparator,children:"-"}),s.jsx("input",{type:"number",placeholder:"",className:dn.priceInput,value:O,onChange:dt=>$(dt.target.value),min:"0"})]})]}),s.jsxs("div",{className:dn.filterSection,children:[s.jsx("div",{className:dn.checkboxFilter,children:s.jsxs("label",{children:[s.jsx("input",{type:"checkbox",checked:J,onChange:dt=>z(dt.target.checked)}),s.jsx("span",{children:"   "})]})}),s.jsx("button",{className:dn.applyFilterButton,onClick:at,children:"  "})]}),s.jsx("button",{className:dn.resetFiltersButton,onClick:lt,children:"  "})]}),s.jsxs("main",{className:dn.mainContentFlex,children:[s.jsxs("div",{className:dn.productsHeader,children:[s.jsxs("div",{className:dn.searchContainer,children:[s.jsx("input",{type:"text",placeholder:"  ...",className:dn.searchInput,value:U,onChange:dt=>F(dt.target.value),onKeyPress:dt=>dt.key==="Enter"&&at()}),U&&s.jsx("button",{className:dn.clearButton,onClick:()=>{F(""),lt()},children:s.jsx("i",{className:"fa fa-times"})}),s.jsx("button",{className:dn.searchButton,onClick:at,children:s.jsx("i",{className:"fa fa-search"})})]}),s.jsxs("div",{className:dn.sortContainer,children:[s.jsxs("span",{className:dn.productsCount,children:[" : ",s.jsx("strong",{children:((fn=o.pagination)==null?void 0:fn.total_items)||o.products.length})]}),s.jsx("label",{className:dn.sortLabel,children:":"}),s.jsxs("select",{value:H,onChange:pn,className:dn.sortSelect,children:[s.jsx("option",{value:"-created_at",children:" "}),s.jsx("option",{value:"price",children:"  "}),s.jsx("option",{value:"-price",children:"  "}),s.jsx("option",{value:"name",children:"  (-)"}),s.jsx("option",{value:"-name",children:"  (-)"}),s.jsx("option",{value:"category",children:"  (-)"}),s.jsx("option",{value:"-category",children:"  (-)"})]})]})]}),o.products.length===0?s.jsxs("div",{className:dn.emptyState,children:[s.jsx("i",{className:`fa fa-box-seam ${dn.emptyIcon}`}),s.jsx("h3",{className:dn.emptyTitle,children:"  "}),s.jsx("p",{className:dn.emptyText,children:"   "}),s.jsx("button",{className:dn.resetButton,onClick:lt,children:" "})]}):yt()]})]}),s.jsx("div",{className:`${dn.mobileFiltersOverlay} ${me?dn.active:""}`,onClick:qe,children:s.jsxs("div",{className:`${dn.mobileFiltersPanel} ${me?dn.active:""}`,onClick:dt=>dt.stopPropagation(),children:[s.jsxs("div",{className:dn.mobileFiltersHeader,children:[s.jsx("h3",{className:dn.mobileFiltersTitle,children:""}),s.jsx("button",{className:dn.mobileFiltersClose,onClick:qe,children:s.jsx("i",{className:"fa fa-times"})})]}),s.jsxs("div",{className:dn.mobileFiltersContent,children:[s.jsxs("div",{className:dn.filterSection,children:[s.jsx("h4",{className:dn.filterTitle,children:""}),k?s.jsx("div",{className:dn.loadingText,children:" ..."}):s.jsxs("div",{className:dn.categoriesList,children:[s.jsx("button",{className:`${dn.categoryButton} ${!Re||Re==="all"?dn.active:""}`,onClick:()=>Ae("all"),children:"  "}),C.map(dt=>s.jsx("button",{className:`${dn.categoryButton} ${Re===String(dt.id)?dn.active:""}`,onClick:()=>Ae(String(dt.id)),children:dt.name},dt.id))]})]}),s.jsxs("div",{className:dn.filterSection,children:[s.jsx("h4",{className:dn.filterTitle,children:"  "}),s.jsxs("div",{className:dn.categoriesList,children:[s.jsx("button",{className:`${dn.categoryButton} ${ie==="all"?dn.active:""}`,onClick:()=>ge("all"),children:" "}),s.jsx("button",{className:`${dn.categoryButton} ${ie==="bound"?dn.active:""}`,onClick:()=>ge("bound"),children:""}),s.jsx("button",{className:`${dn.categoryButton} ${ie==="unbound"?dn.active:""}`,onClick:()=>ge("unbound"),children:" "})]})]}),s.jsxs("div",{className:dn.filterSection,children:[s.jsx("h4",{className:dn.filterTitle,children:""}),s.jsxs("div",{className:dn.categoriesList,children:[s.jsx("button",{className:`${dn.categoryButton} ${pe?"":dn.active}`,onClick:()=>ce(null),children:" "}),o.categories.map(dt=>s.jsx("button",{className:`${dn.categoryButton} ${pe===dt.id?dn.active:""}`,onClick:()=>ce(dt.id),children:dt.name},dt.id))]})]}),s.jsx("div",{className:dn.filterSection,children:s.jsx(Fx,{filtersLoading:l,filters:((jn=o.filters)==null?void 0:jn.filters)||[],visibleFiltersCount:A,expandedFilters:ee,toggleFilter:(dt,It)=>{const st={...Ne},Rt=`attr_${dt}`;st[Rt]||(st[Rt]=[]),st[Rt].includes(It)?(st[Rt]=st[Rt].filter(Lt=>Lt!==It),st[Rt].length===0&&delete st[Rt]):st[Rt].push(It),Ee(st)},isAttributeSelected:(dt,It)=>{var Rt;const st=`attr_${dt}`;return((Rt=Ne[st])==null?void 0:Rt.includes(It))||!1},handleAttributeSelect:(dt,It)=>{const st={...Ne},Rt=`attr_${dt}`;st[Rt]||(st[Rt]=[]),st[Rt].includes(It)?(st[Rt]=st[Rt].filter(Lt=>Lt!==It),st[Rt].length===0&&delete st[Rt]):st[Rt].push(It),Ee(st)},setVisibleFiltersCount:G})}),s.jsxs("div",{className:dn.filterSection,children:[s.jsx("h4",{className:dn.filterTitle,children:""}),s.jsxs("div",{className:dn.priceInputs,children:[s.jsx("input",{type:"number",placeholder:"",className:dn.priceInput,value:ve,onChange:dt=>Se(dt.target.value),min:"0"}),s.jsx("span",{className:dn.priceSeparator,children:"-"}),s.jsx("input",{type:"number",placeholder:"",className:dn.priceInput,value:fe,onChange:dt=>de(dt.target.value),min:"0"})]})]}),s.jsx("div",{className:dn.filterSection,children:s.jsx("div",{className:dn.checkboxFilter,children:s.jsxs("label",{children:[s.jsx("input",{type:"checkbox",checked:be,onChange:dt=>Fe(dt.target.checked)}),s.jsx("span",{children:"   "})]})})})]}),s.jsxs("div",{className:dn.mobileFiltersActions,children:[s.jsx("button",{className:dn.mobileApplyButton,onClick:tt,children:""}),s.jsx("button",{className:dn.mobileResetButton,onClick:he,children:""})]})]})}),s.jsx(aO,{isOpen:ae,onClose:Ge,onConfirm:bt,productName:re==null?void 0:re.name})]})},Sge="_container_14u7t_5",Nge="_header_14u7t_23",kge="_headerTop_14u7t_43",Ige="_titleWrapper_14u7t_57",Ege="_title_14u7t_57",Tge="_titleIcon_14u7t_89",Dge="_badge_14u7t_101",Age="_addButton_14u7t_125",Mge="_searchContainer_14u7t_209",Rge="_searchWrapper_14u7t_221",Bge="_searchIcon_14u7t_257",Oge="_searchInput_14u7t_271",Lge="_searchButton_14u7t_305",$ge="_clearButton_14u7t_351",Pge="_filtersButton_14u7t_409",Fge="_filterBadge_14u7t_465",Hge="_sortRow_14u7t_489",qge="_productsCount_14u7t_507",Vge="_sortSelect_14u7t_521",zge="_content_14u7t_575",Uge="_productsList_14u7t_583",Wge="_productCard_14u7t_597",Yge="_addProductCard_14u7t_671",Gge="_addProductContent_14u7t_739",Qge="_addProductIconWrapper_14u7t_755",Xge="_addProductIcon_14u7t_755",Kge="_addProductText_14u7t_803",Zge="_emptyState_14u7t_819",Jge="_emptyIconWrapper_14u7t_831",e0e="_emptyIcon_14u7t_831",t0e="_emptyTitle_14u7t_865",n0e="_emptyText_14u7t_879",s0e="_resetButton_14u7t_899",a0e="_error_14u7t_935",r0e="_mobileFiltersOverlay_14u7t_959",i0e="_active_14u7t_987",o0e="_mobileFiltersPanel_14u7t_997",c0e="_mobileFiltersHeader_14u7t_1043",l0e="_mobileFiltersTitle_14u7t_1085",u0e="_mobileFiltersClose_14u7t_1099",d0e="_mobileFiltersContent_14u7t_1147",h0e="_filterSection_14u7t_1161",f0e="_filterTitle_14u7t_1169",m0e="_categoriesList_14u7t_1205",p0e="_categoryButton_14u7t_1217",g0e="_priceInputs_14u7t_1301",_0e="_priceInput_14u7t_1301",v0e="_priceSeparator_14u7t_1369",x0e="_checkboxFilter_14u7t_1385",b0e="_loadingText_14u7t_1455",y0e="_mobileFiltersActions_14u7t_1469",w0e="_mobileApplyButton_14u7t_1487",j0e="_mobileResetButton_14u7t_1489",Gn={container:Sge,header:Nge,headerTop:kge,titleWrapper:Ige,title:Ege,titleIcon:Tge,badge:Dge,addButton:Age,searchContainer:Mge,searchWrapper:Rge,searchIcon:Bge,searchInput:Oge,searchButton:Lge,clearButton:$ge,filtersButton:Pge,filterBadge:Fge,sortRow:Hge,productsCount:qge,sortSelect:Vge,content:zge,productsList:Uge,productCard:Wge,addProductCard:Yge,addProductContent:Gge,addProductIconWrapper:Qge,addProductIcon:Xge,addProductText:Kge,emptyState:Zge,emptyIconWrapper:Jge,emptyIcon:e0e,emptyTitle:t0e,emptyText:n0e,resetButton:s0e,error:a0e,mobileFiltersOverlay:r0e,active:i0e,mobileFiltersPanel:o0e,mobileFiltersHeader:c0e,mobileFiltersTitle:l0e,mobileFiltersClose:u0e,mobileFiltersContent:d0e,filterSection:h0e,filterTitle:f0e,categoriesList:m0e,categoryButton:p0e,priceInputs:g0e,priceInput:_0e,priceSeparator:v0e,checkboxFilter:x0e,loadingText:b0e,mobileFiltersActions:y0e,mobileApplyButton:w0e,mobileResetButton:j0e},C0e=()=>{var lt,Mt,pn,Qn;const{business_slug:e}=ha(),t=Is(),n=Kr();Er();const{getLocationParam:a,selectedLocation:r,updateLocation:i}=Jb(),[o,c]=_.useState({products:[],categories:[],filters:{filters:[]},pagination:{},applied_filters:{}}),[l,d]=_.useState(!0),[f,g]=_.useState(!0),[b,w]=_.useState(null),[C,S]=_.useState([]),[k,E]=_.useState(!0),[D,R]=_.useState(null),[P,B]=_.useState(""),[O,$]=_.useState(""),[U,F]=_.useState(""),[H,se]=_.useState("-created_at"),[K,te]=_.useState("all"),[J,z]=_.useState(!1),[V,M]=_.useState({}),[ee,Z]=_.useState({}),[A,G]=_.useState(3),[Q,Y]=_.useState(!1),[ae,ne]=_.useState(null),[re,oe]=_.useState(!1),[me,Ce]=_.useState({}),[Ne,Ee]=_.useState(""),[ve,Se]=_.useState(""),[fe,de]=_.useState(null),[pe,ce]=_.useState(null),[Re,Ae]=_.useState("all"),[ie,ge]=_.useState(!1);_.useEffect(()=>{e&&(async()=>{try{E(!0);const ln=await Be.get(`/api/business/${e}/locations/`);S(ln.data||[])}catch(ln){console.error("  :",ln)}finally{E(!1)}})()},[e]),_.useEffect(()=>{const yt=new URLSearchParams(n.search);F(yt.get("search")||""),se(yt.get("sort")||"-created_at"),B(yt.get("price_min")||""),$(yt.get("price_max")||""),R(yt.get("category")||null),te(yt.get("location_binding")||"all"),z(yt.get("in_stock")==="1");const ln={};yt.forEach((fn,jn)=>{jn.startsWith("attr_")&&(ln[jn]=ln[jn]||[],ln[jn].push(fn))}),M(ln)},[n.search]);const be=()=>{Ce({...V}),Ee(P),Se(O),de(D);const yt=new URLSearchParams(n.search).get("location");if(yt)ce(yt);else{const ln=n.search&&n.search.length>1&&n.search!=="?";ce(ln?"all":r||"all")}Ae(K),ge(J),oe(!0)},Fe=()=>{oe(!1)},je=(yt,ln,fn,jn,dt="all",It=!1,st=null)=>{const Rt=st||new URLSearchParams;U&&Rt.set("search",U),H&&Rt.set("sort",H),ln&&Rt.set("price_min",ln),fn&&Rt.set("price_max",fn),jn&&Rt.set("category",jn),dt&&dt!=="all"&&Rt.set("location_binding",dt),It&&Rt.set("in_stock","1"),Object.entries(yt).forEach(([on,vn])=>{Array.isArray(vn)?vn.forEach(ss=>Rt.append(on,ss)):vn&&Rt.set(on,vn)});const Lt=`${n.pathname}?${Rt.toString()}`;t(Lt,{replace:!0})},qe=()=>{M({...me}),B(Ne),$(ve),R(fe),te(Re),z(ie);const yt=new URLSearchParams(n.search);yt.set("page",1),pe&&pe!=="all"?yt.set("location",pe):yt.delete("location"),je(me,Ne,ve,fe,Re,ie,yt),Fe()},tt=()=>{Ce({}),Ee(""),Se(""),de(null),ce("all"),Ae("all"),ge(!1)},he=(yt,ln)=>{ne({id:yt,name:ln}),Y(!0)},Ze=async yt=>{var ln,fn;if(ae)try{let jn;yt==="soft"?jn=`/api/business/${e}/products/${ae.id}/soft-delete`:jn=`/api/business/${e}/products/${ae.id}/hard-delete`;const It=await Be[yt==="soft"?"post":"delete"](jn);c(Rt=>({...Rt,products:Rt.products.filter(Lt=>Lt.id!==ae.id),pagination:{...Rt.pagination,total_items:Rt.pagination.total_items-1}}));const st=yt==="soft"?` "${ae.name}"  `:` "${ae.name}"  `;alert(st)}catch(jn){console.error("   :",jn),alert("   : "+(((fn=(ln=jn.response)==null?void 0:ln.data)==null?void 0:fn.detail)||jn.message))}},Pe=()=>{Y(!1),ne(null)},bt=async(yt,ln)=>{try{const fn=!ln,jn=fn?" ,     ?":" ,     ?";if(!window.confirm(jn))return;await Be.patch(`/api/business/${e}/products/${yt}/toggle-status/`,{is_active:fn}),c(dt=>({...dt,products:dt.products.map(It=>It.id===yt?{...It,is_active:fn}:It)})),alert(`  ${fn?"":""}`)}catch(fn){console.error("    :",fn),alert("    ")}},Ge=_.useCallback(async()=>{var yt,ln;try{d(!0),g(!0);const fn=new URLSearchParams(n.search);fn.has("sort")||fn.set("sort","-created_at"),fn.set("page_size","2");const jn=new URLSearchParams(n.search).get("location");if(jn)fn.set("location",jn);else if(!(n.search&&n.search.length>1)){const st=a();st&&st.location&&st.location!=="all"&&fn.set("location",st.location)}K&&K!=="all"&&fn.set("location_binding",K),J&&fn.set("in_stock","1");const dt=await Be.get(`/api/business/${e}/products/?${fn.toString()}`);c(dt.data);const It={};(ln=(yt=dt.data.filters)==null?void 0:yt.filters)==null||ln.forEach(st=>{It[st.id]=!0}),Z(It)}catch(fn){console.error(" :",fn),w(fn.message||"    ")}finally{d(!1),g(!1)}},[e,n.search,r,K,J]);_.useEffect(()=>{const yt=setTimeout(()=>{Ge()},100);return()=>clearTimeout(yt)},[Ge]);const ue=()=>{const yt=new URLSearchParams;U&&yt.set("search",U),P&&yt.set("price_min",P),O&&yt.set("price_max",O),D&&yt.set("category",D),K&&K!=="all"&&yt.set("location_binding",K),J&&yt.set("in_stock","1"),yt.set("sort",H),yt.set("page",1),Object.entries(V).forEach(([ln,fn])=>{fn.forEach(jn=>{yt.append(ln,jn)})}),t(`?${yt.toString()}`)},De=()=>{F(""),B(""),$(""),R(null),se("-created_at"),M({}),te("all"),z(!1),i("all"),t(`/business/${e}/products`)},xe=yt=>{const ln=yt.target.value;se(ln);const fn=new URLSearchParams(n.search);fn.set("sort",ln),fn.set("page",1),t(`?${fn.toString()}`)},Ye=async()=>{var yt;if((yt=o.pagination)!=null&&yt.has_next)try{const ln=o.pagination.current_page+1,fn=new URLSearchParams(n.search);fn.set("page",ln),fn.set("page_size","2");const jn=new URLSearchParams(n.search).get("location");if(jn)fn.set("location",jn);else if(!(n.search&&n.search.length>1)){const It=a();It&&It.location&&It.location!=="all"&&fn.set("location",It.location)}K&&K!=="all"&&fn.set("location_binding",K),J&&fn.set("in_stock","1");const dt=await Be.get(`/api/business/${e}/products/?${fn.toString()}`);c(It=>({...It,products:[...It.products,...dt.data.products],pagination:dt.data.pagination}))}catch(ln){console.error("Error loading more products:",ln)}},at=()=>{var yt;return s.jsxs(Q3,{dataLength:o.products.length,next:Ye,hasMore:((yt=o.pagination)==null?void 0:yt.has_next)||!1,loader:s.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",padding:"20px"},children:s.jsx(Fn,{size:"small"})}),className:Gn.productsList,children:[s.jsx(os.div,{className:`${Gn.productCard} ${Gn.addProductCard}`,initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},whileTap:{scale:.97},onClick:()=>t(`/business/${e}/products/create`),children:s.jsxs("div",{className:Gn.addProductContent,children:[s.jsx("div",{className:Gn.addProductIconWrapper,children:s.jsx("i",{className:`fa fa-plus ${Gn.addProductIcon}`})}),s.jsx("h5",{children:" "}),s.jsx("p",{className:Gn.addProductText,children:"    "})]})}),o.products.map((ln,fn)=>s.jsx(os.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:fn*.05},children:s.jsx(sO,{product:ln,businessSlug:e,onDelete:he,onToggleStatus:bt,handleCardClick:()=>t(`/business/${e}/products/${ln.id}/`)})},ln.id))]})};return l&&!o.products.length?s.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh"},children:s.jsx(Fn,{size:"large"})}):b?s.jsxs("div",{className:Gn.error,children:[": ",b]}):s.jsxs("div",{className:Gn.container,children:[s.jsxs("div",{className:Gn.header,children:[s.jsxs("div",{className:Gn.headerTop,children:[s.jsxs("div",{className:Gn.titleWrapper,children:[s.jsxs("h1",{className:Gn.title,children:[s.jsx("i",{className:`fa fa-box-seam ${Gn.titleIcon}`}),""]}),((lt=o.pagination)==null?void 0:lt.total_items)>0&&s.jsx("span",{className:Gn.badge,children:((Mt=o.pagination)==null?void 0:Mt.total_items)||o.products.length})]}),s.jsx(os.button,{className:Gn.addButton,onClick:()=>t(`/business/${e}/products/create`),title:" ",whileTap:{scale:.9},whileHover:{scale:1.05},children:s.jsx("i",{className:"fa fa-plus"})})]}),s.jsxs("div",{className:Gn.searchContainer,children:[s.jsxs("div",{className:Gn.searchWrapper,children:[s.jsx("i",{className:`fa fa-search ${Gn.searchIcon}`}),s.jsx("input",{type:"text",placeholder:" ...",className:Gn.searchInput,value:U,onChange:yt=>F(yt.target.value),onKeyPress:yt=>yt.key==="Enter"&&ue()}),U&&s.jsx(os.button,{className:Gn.clearButton,onClick:()=>{F(""),De()},whileTap:{scale:.9},children:s.jsx("i",{className:"fa fa-times"})}),s.jsx(os.button,{className:Gn.searchButton,onClick:ue,whileTap:{scale:.95},title:"",children:s.jsx("i",{className:"fa fa-search"})})]}),s.jsxs(os.button,{className:Gn.filtersButton,onClick:be,whileTap:{scale:.95},title:"",children:[s.jsx("i",{className:"fa fa-filter"}),(D||P||O||Object.keys(V).length>0||K!=="all"||J)&&s.jsx("span",{className:Gn.filterBadge})]})]}),s.jsxs("div",{className:Gn.sortRow,children:[s.jsxs("span",{className:Gn.productsCount,children:[((pn=o.pagination)==null?void 0:pn.total_items)||o.products.length," "]}),s.jsxs("select",{value:H,onChange:xe,className:Gn.sortSelect,children:[s.jsx("option",{value:"-created_at",children:" "}),s.jsx("option",{value:"price",children:"  "}),s.jsx("option",{value:"-price",children:"  "}),s.jsx("option",{value:"name",children:" -"}),s.jsx("option",{value:"-name",children:" -"})]})]})]}),s.jsx("div",{className:Gn.content,children:o.products.length===0&&!l?s.jsxs(os.div,{className:Gn.emptyState,initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[s.jsx("div",{className:Gn.emptyIconWrapper,children:s.jsx("i",{className:`fa fa-box-seam ${Gn.emptyIcon}`})}),s.jsx("h3",{className:Gn.emptyTitle,children:"  "}),s.jsx("p",{className:Gn.emptyText,children:U||D||P||O?"   ":"     "}),s.jsx(os.button,{className:Gn.resetButton,onClick:De,whileTap:{scale:.95},children:U||D||P||O?" ":" "})]}):at()}),s.jsx("div",{className:`${Gn.mobileFiltersOverlay} ${re?Gn.active:""}`,onClick:Fe,children:s.jsxs("div",{className:`${Gn.mobileFiltersPanel} ${re?Gn.active:""}`,onClick:yt=>yt.stopPropagation(),children:[s.jsxs("div",{className:Gn.mobileFiltersHeader,children:[s.jsx("h3",{className:Gn.mobileFiltersTitle,children:""}),s.jsx("button",{className:Gn.mobileFiltersClose,onClick:Fe,children:s.jsx("i",{className:"fa fa-times"})})]}),s.jsxs("div",{className:Gn.mobileFiltersContent,children:[s.jsxs("div",{className:Gn.filterSection,children:[s.jsx("h4",{className:Gn.filterTitle,children:""}),k?s.jsx("div",{className:Gn.loadingText,children:" ..."}):s.jsxs("div",{className:Gn.categoriesList,children:[s.jsx("button",{className:`${Gn.categoryButton} ${pe==="all"?Gn.active:""}`,onClick:()=>ce("all"),children:"  "}),C.map(yt=>s.jsx("button",{className:`${Gn.categoryButton} ${pe===String(yt.id)?Gn.active:""}`,onClick:()=>ce(String(yt.id)),children:yt.name},yt.id))]})]}),s.jsxs("div",{className:Gn.filterSection,children:[s.jsx("h4",{className:Gn.filterTitle,children:"  "}),s.jsxs("div",{className:Gn.categoriesList,children:[s.jsx("button",{className:`${Gn.categoryButton} ${Re==="all"?Gn.active:""}`,onClick:()=>Ae("all"),children:" "}),s.jsx("button",{className:`${Gn.categoryButton} ${Re==="bound"?Gn.active:""}`,onClick:()=>Ae("bound"),children:""}),s.jsx("button",{className:`${Gn.categoryButton} ${Re==="unbound"?Gn.active:""}`,onClick:()=>Ae("unbound"),children:" "})]})]}),s.jsxs("div",{className:Gn.filterSection,children:[s.jsx("h4",{className:Gn.filterTitle,children:""}),s.jsxs("div",{className:Gn.categoriesList,children:[s.jsx("button",{className:`${Gn.categoryButton} ${fe?"":Gn.active}`,onClick:()=>de(null),children:" "}),o.categories.map(yt=>s.jsx("button",{className:`${Gn.categoryButton} ${fe===yt.id?Gn.active:""}`,onClick:()=>de(yt.id),children:yt.name},yt.id))]})]}),s.jsx("div",{className:Gn.filterSection,children:s.jsx(Fx,{filtersLoading:l,filters:((Qn=o.filters)==null?void 0:Qn.filters)||[],visibleFiltersCount:A,expandedFilters:ee,toggleFilter:yt=>{Z(ln=>({...ln,[yt]:!ln[yt]}))},isAttributeSelected:(yt,ln)=>{var jn;const fn=`attr_${yt}`;return((jn=me[fn])==null?void 0:jn.includes(ln))||!1},handleAttributeSelect:(yt,ln)=>{const fn={...me},jn=`attr_${yt}`;fn[jn]||(fn[jn]=[]),fn[jn].includes(ln)?(fn[jn]=fn[jn].filter(dt=>dt!==ln),fn[jn].length===0&&delete fn[jn]):fn[jn].push(ln),Ce(fn)},setVisibleFiltersCount:G})}),s.jsxs("div",{className:Gn.filterSection,children:[s.jsx("h4",{className:Gn.filterTitle,children:""}),s.jsxs("div",{className:Gn.priceInputs,children:[s.jsx("input",{type:"number",placeholder:"",className:Gn.priceInput,value:Ne,onChange:yt=>Ee(yt.target.value),min:"0"}),s.jsx("span",{className:Gn.priceSeparator,children:"-"}),s.jsx("input",{type:"number",placeholder:"",className:Gn.priceInput,value:ve,onChange:yt=>Se(yt.target.value),min:"0"})]})]}),s.jsx("div",{className:Gn.filterSection,children:s.jsx("div",{className:Gn.checkboxFilter,children:s.jsxs("label",{children:[s.jsx("input",{type:"checkbox",checked:ie,onChange:yt=>ge(yt.target.checked)}),s.jsx("span",{children:"   "})]})})})]}),s.jsxs("div",{className:Gn.mobileFiltersActions,children:[s.jsx("button",{className:Gn.mobileApplyButton,onClick:qe,children:""}),s.jsx("button",{className:Gn.mobileResetButton,onClick:tt,children:""})]})]})}),s.jsx(aO,{isOpen:Q,onClose:Pe,onConfirm:Ze,productName:ae==null?void 0:ae.name})]})},S0e="_container_1swxk_2",N0e="_content_1swxk_8",k0e="_pageTitle_1swxk_14",I0e="_titleIcon_1swxk_23",E0e="_sectionCard_1swxk_28",T0e="_sectionHeader_1swxk_37",D0e="_sectionIcon_1swxk_51",A0e="_sectionBody_1swxk_56",M0e="_uploadRow_1swxk_60",R0e="_uploadColumn_1swxk_66",B0e="_infoColumn_1swxk_72",O0e="_uploadArea_1swxk_78",L0e="_uploadIcon_1swxk_99",$0e="_uploadHint_1swxk_105",P0e="_fileInput_1swxk_110",F0e="_infoAlert_1swxk_114",H0e="_infoIcon_1swxk_131",q0e="_thumbnailsSection_1swxk_146",V0e="_thumbnailsTitle_1swxk_150",z0e="_formRow_1swxk_217",U0e="_formGroup_1swxk_223",W0e="_formLabel_1swxk_229",Y0e="_formControl_1swxk_236",G0e="_checkboxGroup_1swxk_264",Q0e="_formCheckbox_1swxk_270",X0e="_checkboxLabel_1swxk_278",K0e="_tableWrapper_1swxk_284",Z0e="_horizontalScroll_1swxk_290",J0e="_variantTable_1swxk_296",e_e="_stickyColumn_1swxk_321",t_e="_formSelect_1swxk_337",n_e="_formControltd_1swxk_352",s_e="_barcodeCell_1swxk_374",a_e="_barcodeInputWrapper_1swxk_381",r_e="_generateBarcodeLabel_1swxk_385",i_e="_generateBarcodeCheckbox_1swxk_396",o_e="_autoGeneratedBadge_1swxk_405",c_e="_variantActions_1swxk_424",l_e="_variantButton_1swxk_428",u_e="_variantControls_1swxk_443",d_e="_variantAddButton_1swxk_451",h_e="_variantCopyButton_1swxk_452",f_e="_buttonIcon_1swxk_484",m_e="_formActions_1swxk_488",p_e="_cancelButton_1swxk_495",g_e="_submitButton_1swxk_496",__e="_cropModal_1swxk_562",v_e="_bodyNoScroll_1swxk_595",Ln={container:S0e,content:N0e,pageTitle:k0e,titleIcon:I0e,sectionCard:E0e,sectionHeader:T0e,sectionIcon:D0e,sectionBody:A0e,uploadRow:M0e,uploadColumn:R0e,infoColumn:B0e,uploadArea:O0e,uploadIcon:L0e,uploadHint:$0e,fileInput:P0e,infoAlert:F0e,infoIcon:H0e,thumbnailsSection:q0e,thumbnailsTitle:V0e,formRow:z0e,formGroup:U0e,formLabel:W0e,formControl:Y0e,checkboxGroup:G0e,formCheckbox:Q0e,checkboxLabel:X0e,tableWrapper:K0e,horizontalScroll:Z0e,variantTable:J0e,stickyColumn:e_e,formSelect:t_e,formControltd:n_e,barcodeCell:s_e,barcodeInputWrapper:a_e,generateBarcodeLabel:r_e,generateBarcodeCheckbox:i_e,autoGeneratedBadge:o_e,variantActions:c_e,variantButton:l_e,variantControls:u_e,variantAddButton:d_e,variantCopyButton:h_e,buttonIcon:f_e,formActions:m_e,cancelButton:p_e,submitButton:g_e,cropModal:__e,bodyNoScroll:v_e},rO=_.createContext({dragDropManager:void 0});function Ls(e){"@babel/helpers - typeof";return Ls=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ls(e)}function x_e(e,t){if(Ls(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(Ls(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function iO(e){var t=x_e(e,"string");return Ls(t)=="symbol"?t:t+""}function pt(e,t,n){return(t=iO(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function GE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,a)}return n}function vt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?GE(Object(n),!0).forEach(function(a){pt(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):GE(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function jc(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var QE=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),XE=function(){return Math.random().toString(36).substring(7).split("").join(".")},KE={INIT:"@@redux/INIT"+XE(),REPLACE:"@@redux/REPLACE"+XE()};function b_e(e){if(typeof e!="object"||e===null)return!1;for(var t=e;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function oO(e,t,n){var a;if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(jc(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(jc(1));return n(oO)(e,t)}if(typeof e!="function")throw new Error(jc(2));var r=e,i=t,o=[],c=o,l=!1;function d(){c===o&&(c=o.slice())}function f(){if(l)throw new Error(jc(3));return i}function g(S){if(typeof S!="function")throw new Error(jc(4));if(l)throw new Error(jc(5));var k=!0;return d(),c.push(S),function(){if(k){if(l)throw new Error(jc(6));k=!1,d();var D=c.indexOf(S);c.splice(D,1),o=null}}}function b(S){if(!b_e(S))throw new Error(jc(7));if(typeof S.type>"u")throw new Error(jc(8));if(l)throw new Error(jc(9));try{l=!0,i=r(i,S)}finally{l=!1}for(var k=o=c,E=0;E<k.length;E++){var D=k[E];D()}return S}function w(S){if(typeof S!="function")throw new Error(jc(10));r=S,b({type:KE.REPLACE})}function C(){var S,k=g;return S={subscribe:function(D){if(typeof D!="object"||D===null)throw new Error(jc(11));function R(){D.next&&D.next(f())}R();var P=k(R);return{unsubscribe:P}}},S[QE]=function(){return this},S}return b({type:KE.INIT}),a={dispatch:b,subscribe:g,getState:f,replaceReducer:w},a[QE]=C,a}function la(e,t,...n){if(y_e()&&t===void 0)throw new Error("invariant requires an error message argument");if(!e){let a;if(t===void 0)a=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{let r=0;a=new Error(t.replace(/%s/g,function(){return n[r++]})),a.name="Invariant Violation"}throw a.framesToPop=1,a}}function y_e(){return typeof process<"u"&&!0}function w_e(e,t,n){return t.split(".").reduce((a,r)=>a&&a[r]?a[r]:n||null,e)}function j_e(e,t){return e.filter(n=>n!==t)}function cO(e){return typeof e=="object"}function C_e(e,t){const n=new Map,a=i=>{n.set(i,n.has(i)?n.get(i)+1:1)};e.forEach(a),t.forEach(a);const r=[];return n.forEach((i,o)=>{i===1&&r.push(o)}),r}function S_e(e,t){return e.filter(n=>t.indexOf(n)>-1)}const X3="dnd-core/INIT_COORDS",ey="dnd-core/BEGIN_DRAG",K3="dnd-core/PUBLISH_DRAG_SOURCE",ty="dnd-core/HOVER",ny="dnd-core/DROP",sy="dnd-core/END_DRAG";function ZE(e,t){return{type:X3,payload:{sourceClientOffset:t||null,clientOffset:e||null}}}const N_e={type:X3,payload:{clientOffset:null,sourceClientOffset:null}};function k_e(e){return function(n=[],a={publishSource:!0}){const{publishSource:r=!0,clientOffset:i,getSourceClientOffset:o}=a,c=e.getMonitor(),l=e.getRegistry();e.dispatch(ZE(i)),I_e(n,c,l);const d=D_e(n,c);if(d==null){e.dispatch(N_e);return}let f=null;if(i){if(!o)throw new Error("getSourceClientOffset must be defined");E_e(o),f=o(d)}e.dispatch(ZE(i,f));const b=l.getSource(d).beginDrag(c,d);if(b==null)return;T_e(b),l.pinSource(d);const w=l.getSourceType(d);return{type:ey,payload:{itemType:w,item:b,sourceId:d,clientOffset:i||null,sourceClientOffset:f||null,isSourcePublic:!!r}}}}function I_e(e,t,n){la(!t.isDragging(),"Cannot call beginDrag while dragging."),e.forEach(function(a){la(n.getSource(a),"Expected sourceIds to be registered.")})}function E_e(e){la(typeof e=="function","When clientOffset is provided, getSourceClientOffset must be a function.")}function T_e(e){la(cO(e),"Item must be an object.")}function D_e(e,t){let n=null;for(let a=e.length-1;a>=0;a--)if(t.canDragSource(e[a])){n=e[a];break}return n}function A_e(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function M_e(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{},a=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable}))),a.forEach(function(r){A_e(e,r,n[r])})}return e}function R_e(e){return function(n={}){const a=e.getMonitor(),r=e.getRegistry();B_e(a),$_e(a).forEach((o,c)=>{const l=O_e(o,c,r,a),d={type:ny,payload:{dropResult:M_e({},n,l)}};e.dispatch(d)})}}function B_e(e){la(e.isDragging(),"Cannot call drop while not dragging."),la(!e.didDrop(),"Cannot call drop twice during one drag operation.")}function O_e(e,t,n,a){const r=n.getTarget(e);let i=r?r.drop(a,e):void 0;return L_e(i),typeof i>"u"&&(i=t===0?{}:a.getDropResult()),i}function L_e(e){la(typeof e>"u"||cO(e),"Drop result must either be an object or undefined.")}function $_e(e){const t=e.getTargetIds().filter(e.canDropOnTarget,e);return t.reverse(),t}function P_e(e){return function(){const n=e.getMonitor(),a=e.getRegistry();F_e(n);const r=n.getSourceId();return r!=null&&(a.getSource(r,!0).endDrag(n,r),a.unpinSource()),{type:sy}}}function F_e(e){la(e.isDragging(),"Cannot call endDrag while not dragging.")}function SS(e,t){return t===null?e===null:Array.isArray(e)?e.some(n=>n===t):e===t}function H_e(e){return function(n,{clientOffset:a}={}){q_e(n);const r=n.slice(0),i=e.getMonitor(),o=e.getRegistry(),c=i.getItemType();return z_e(r,o,c),V_e(r,i,o),U_e(r,i,o),{type:ty,payload:{targetIds:r,clientOffset:a||null}}}}function q_e(e){la(Array.isArray(e),"Expected targetIds to be an array.")}function V_e(e,t,n){la(t.isDragging(),"Cannot call hover while not dragging."),la(!t.didDrop(),"Cannot call hover after drop.");for(let a=0;a<e.length;a++){const r=e[a];la(e.lastIndexOf(r)===a,"Expected targetIds to be unique in the passed array.");const i=n.getTarget(r);la(i,"Expected targetIds to be registered.")}}function z_e(e,t,n){for(let a=e.length-1;a>=0;a--){const r=e[a],i=t.getTargetType(r);SS(i,n)||e.splice(a,1)}}function U_e(e,t,n){e.forEach(function(a){n.getTarget(a).hover(t,a)})}function W_e(e){return function(){if(e.getMonitor().isDragging())return{type:K3}}}function Y_e(e){return{beginDrag:k_e(e),publishDragSource:W_e(e),hover:H_e(e),drop:R_e(e),endDrag:P_e(e)}}class G_e{receiveBackend(t){this.backend=t}getMonitor(){return this.monitor}getBackend(){return this.backend}getRegistry(){return this.monitor.registry}getActions(){const t=this,{dispatch:n}=this.store;function a(i){return(...o)=>{const c=i.apply(t,o);typeof c<"u"&&n(c)}}const r=Y_e(this);return Object.keys(r).reduce((i,o)=>{const c=r[o];return i[o]=a(c),i},{})}dispatch(t){this.store.dispatch(t)}constructor(t,n){this.isSetUp=!1,this.handleRefCountChange=()=>{const a=this.store.getState().refCount>0;this.backend&&(a&&!this.isSetUp?(this.backend.setup(),this.isSetUp=!0):!a&&this.isSetUp&&(this.backend.teardown(),this.isSetUp=!1))},this.store=t,this.monitor=n,t.subscribe(this.handleRefCountChange)}}function Q_e(e,t){return{x:e.x+t.x,y:e.y+t.y}}function lO(e,t){return{x:e.x-t.x,y:e.y-t.y}}function X_e(e){const{clientOffset:t,initialClientOffset:n,initialSourceClientOffset:a}=e;return!t||!n||!a?null:lO(Q_e(t,a),n)}function K_e(e){const{clientOffset:t,initialClientOffset:n}=e;return!t||!n?null:lO(t,n)}const pg=[],Z3=[];pg.__IS_NONE__=!0;Z3.__IS_ALL__=!0;function Z_e(e,t){return e===pg?!1:e===Z3||typeof t>"u"?!0:S_e(t,e).length>0}class J_e{subscribeToStateChange(t,n={}){const{handlerIds:a}=n;la(typeof t=="function","listener must be a function."),la(typeof a>"u"||Array.isArray(a),"handlerIds, when specified, must be an array of strings.");let r=this.store.getState().stateId;const i=()=>{const o=this.store.getState(),c=o.stateId;try{c===r||c===r+1&&!Z_e(o.dirtyHandlerIds,a)||t()}finally{r=c}};return this.store.subscribe(i)}subscribeToOffsetChange(t){la(typeof t=="function","listener must be a function.");let n=this.store.getState().dragOffset;const a=()=>{const r=this.store.getState().dragOffset;r!==n&&(n=r,t())};return this.store.subscribe(a)}canDragSource(t){if(!t)return!1;const n=this.registry.getSource(t);return la(n,`Expected to find a valid source. sourceId=${t}`),this.isDragging()?!1:n.canDrag(this,t)}canDropOnTarget(t){if(!t)return!1;const n=this.registry.getTarget(t);if(la(n,`Expected to find a valid target. targetId=${t}`),!this.isDragging()||this.didDrop())return!1;const a=this.registry.getTargetType(t),r=this.getItemType();return SS(a,r)&&n.canDrop(this,t)}isDragging(){return!!this.getItemType()}isDraggingSource(t){if(!t)return!1;const n=this.registry.getSource(t,!0);if(la(n,`Expected to find a valid source. sourceId=${t}`),!this.isDragging()||!this.isSourcePublic())return!1;const a=this.registry.getSourceType(t),r=this.getItemType();return a!==r?!1:n.isDragging(this,t)}isOverTarget(t,n={shallow:!1}){if(!t)return!1;const{shallow:a}=n;if(!this.isDragging())return!1;const r=this.registry.getTargetType(t),i=this.getItemType();if(i&&!SS(r,i))return!1;const o=this.getTargetIds();if(!o.length)return!1;const c=o.indexOf(t);return a?c===o.length-1:c>-1}getItemType(){return this.store.getState().dragOperation.itemType}getItem(){return this.store.getState().dragOperation.item}getSourceId(){return this.store.getState().dragOperation.sourceId}getTargetIds(){return this.store.getState().dragOperation.targetIds}getDropResult(){return this.store.getState().dragOperation.dropResult}didDrop(){return this.store.getState().dragOperation.didDrop}isSourcePublic(){return!!this.store.getState().dragOperation.isSourcePublic}getInitialClientOffset(){return this.store.getState().dragOffset.initialClientOffset}getInitialSourceClientOffset(){return this.store.getState().dragOffset.initialSourceClientOffset}getClientOffset(){return this.store.getState().dragOffset.clientOffset}getSourceClientOffset(){return X_e(this.store.getState().dragOffset)}getDifferenceFromInitialOffset(){return K_e(this.store.getState().dragOffset)}constructor(t,n){this.store=t,this.registry=n}}const JE=typeof global<"u"?global:self,uO=JE.MutationObserver||JE.WebKitMutationObserver;function dO(e){return function(){const n=setTimeout(r,0),a=setInterval(r,50);function r(){clearTimeout(n),clearInterval(a),e()}}}function eve(e){let t=1;const n=new uO(e),a=document.createTextNode("");return n.observe(a,{characterData:!0}),function(){t=-t,a.data=t}}const tve=typeof uO=="function"?eve:dO;class nve{enqueueTask(t){const{queue:n,requestFlush:a}=this;n.length||(a(),this.flushing=!0),n[n.length]=t}constructor(){this.queue=[],this.pendingErrors=[],this.flushing=!1,this.index=0,this.capacity=1024,this.flush=()=>{const{queue:t}=this;for(;this.index<t.length;){const n=this.index;if(this.index++,t[n].call(),this.index>this.capacity){for(let a=0,r=t.length-this.index;a<r;a++)t[a]=t[a+this.index];t.length-=this.index,this.index=0}}t.length=0,this.index=0,this.flushing=!1},this.registerPendingError=t=>{this.pendingErrors.push(t),this.requestErrorThrow()},this.requestFlush=tve(this.flush),this.requestErrorThrow=dO(()=>{if(this.pendingErrors.length)throw this.pendingErrors.shift()})}}class sve{call(){try{this.task&&this.task()}catch(t){this.onError(t)}finally{this.task=null,this.release(this)}}constructor(t,n){this.onError=t,this.release=n,this.task=null}}class ave{create(t){const n=this.freeTasks,a=n.length?n.pop():new sve(this.onError,r=>n[n.length]=r);return a.task=t,a}constructor(t){this.onError=t,this.freeTasks=[]}}const hO=new nve,rve=new ave(hO.registerPendingError);function ive(e){hO.enqueueTask(rve.create(e))}const J3="dnd-core/ADD_SOURCE",e4="dnd-core/ADD_TARGET",t4="dnd-core/REMOVE_SOURCE",ay="dnd-core/REMOVE_TARGET";function ove(e){return{type:J3,payload:{sourceId:e}}}function cve(e){return{type:e4,payload:{targetId:e}}}function lve(e){return{type:t4,payload:{sourceId:e}}}function uve(e){return{type:ay,payload:{targetId:e}}}function dve(e){la(typeof e.canDrag=="function","Expected canDrag to be a function."),la(typeof e.beginDrag=="function","Expected beginDrag to be a function."),la(typeof e.endDrag=="function","Expected endDrag to be a function.")}function hve(e){la(typeof e.canDrop=="function","Expected canDrop to be a function."),la(typeof e.hover=="function","Expected hover to be a function."),la(typeof e.drop=="function","Expected beginDrag to be a function.")}function NS(e,t){if(t&&Array.isArray(e)){e.forEach(n=>NS(n,!1));return}la(typeof e=="string"||typeof e=="symbol",t?"Type can only be a string, a symbol, or an array of either.":"Type can only be a string or a symbol.")}var Tc;(function(e){e.SOURCE="SOURCE",e.TARGET="TARGET"})(Tc||(Tc={}));let fve=0;function mve(){return fve++}function pve(e){const t=mve().toString();switch(e){case Tc.SOURCE:return`S${t}`;case Tc.TARGET:return`T${t}`;default:throw new Error(`Unknown Handler Role: ${e}`)}}function eT(e){switch(e[0]){case"S":return Tc.SOURCE;case"T":return Tc.TARGET;default:throw new Error(`Cannot parse handler ID: ${e}`)}}function tT(e,t){const n=e.entries();let a=!1;do{const{done:r,value:[,i]}=n.next();if(i===t)return!0;a=!!r}while(!a);return!1}class gve{addSource(t,n){NS(t),dve(n);const a=this.addHandler(Tc.SOURCE,t,n);return this.store.dispatch(ove(a)),a}addTarget(t,n){NS(t,!0),hve(n);const a=this.addHandler(Tc.TARGET,t,n);return this.store.dispatch(cve(a)),a}containsHandler(t){return tT(this.dragSources,t)||tT(this.dropTargets,t)}getSource(t,n=!1){return la(this.isSourceId(t),"Expected a valid source ID."),n&&t===this.pinnedSourceId?this.pinnedSource:this.dragSources.get(t)}getTarget(t){return la(this.isTargetId(t),"Expected a valid target ID."),this.dropTargets.get(t)}getSourceType(t){return la(this.isSourceId(t),"Expected a valid source ID."),this.types.get(t)}getTargetType(t){return la(this.isTargetId(t),"Expected a valid target ID."),this.types.get(t)}isSourceId(t){return eT(t)===Tc.SOURCE}isTargetId(t){return eT(t)===Tc.TARGET}removeSource(t){la(this.getSource(t),"Expected an existing source."),this.store.dispatch(lve(t)),ive(()=>{this.dragSources.delete(t),this.types.delete(t)})}removeTarget(t){la(this.getTarget(t),"Expected an existing target."),this.store.dispatch(uve(t)),this.dropTargets.delete(t),this.types.delete(t)}pinSource(t){const n=this.getSource(t);la(n,"Expected an existing source."),this.pinnedSourceId=t,this.pinnedSource=n}unpinSource(){la(this.pinnedSource,"No source is pinned at the time."),this.pinnedSourceId=null,this.pinnedSource=null}addHandler(t,n,a){const r=pve(t);return this.types.set(r,n),t===Tc.SOURCE?this.dragSources.set(r,a):t===Tc.TARGET&&this.dropTargets.set(r,a),r}constructor(t){this.types=new Map,this.dragSources=new Map,this.dropTargets=new Map,this.pinnedSourceId=null,this.pinnedSource=null,this.store=t}}const _ve=(e,t)=>e===t;function vve(e,t){return!e&&!t?!0:!e||!t?!1:e.x===t.x&&e.y===t.y}function xve(e,t,n=_ve){if(e.length!==t.length)return!1;for(let a=0;a<e.length;++a)if(!n(e[a],t[a]))return!1;return!0}function bve(e=pg,t){switch(t.type){case ty:break;case J3:case e4:case ay:case t4:return pg;case ey:case K3:case sy:case ny:default:return Z3}const{targetIds:n=[],prevTargetIds:a=[]}=t.payload,r=C_e(n,a);if(!(r.length>0||!xve(n,a)))return pg;const o=a[a.length-1],c=n[n.length-1];return o!==c&&(o&&r.push(o),c&&r.push(c)),r}function yve(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wve(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{},a=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable}))),a.forEach(function(r){yve(e,r,n[r])})}return e}const nT={initialSourceClientOffset:null,initialClientOffset:null,clientOffset:null};function jve(e=nT,t){const{payload:n}=t;switch(t.type){case X3:case ey:return{initialSourceClientOffset:n.sourceClientOffset,initialClientOffset:n.clientOffset,clientOffset:n.clientOffset};case ty:return vve(e.clientOffset,n.clientOffset)?e:wve({},e,{clientOffset:n.clientOffset});case sy:case ny:return nT;default:return e}}function Cve(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Hf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{},a=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable}))),a.forEach(function(r){Cve(e,r,n[r])})}return e}const Sve={itemType:null,item:null,sourceId:null,targetIds:[],dropResult:null,didDrop:!1,isSourcePublic:null};function Nve(e=Sve,t){const{payload:n}=t;switch(t.type){case ey:return Hf({},e,{itemType:n.itemType,item:n.item,sourceId:n.sourceId,isSourcePublic:n.isSourcePublic,dropResult:null,didDrop:!1});case K3:return Hf({},e,{isSourcePublic:!0});case ty:return Hf({},e,{targetIds:n.targetIds});case ay:return e.targetIds.indexOf(n.targetId)===-1?e:Hf({},e,{targetIds:j_e(e.targetIds,n.targetId)});case ny:return Hf({},e,{dropResult:n.dropResult,didDrop:!0,targetIds:[]});case sy:return Hf({},e,{itemType:null,item:null,sourceId:null,dropResult:null,didDrop:!1,isSourcePublic:null,targetIds:[]});default:return e}}function kve(e=0,t){switch(t.type){case J3:case e4:return e+1;case t4:case ay:return e-1;default:return e}}function Ive(e=0){return e+1}function Eve(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Tve(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{},a=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable}))),a.forEach(function(r){Eve(e,r,n[r])})}return e}function Dve(e={},t){return{dirtyHandlerIds:bve(e.dirtyHandlerIds,{type:t.type,payload:Tve({},t.payload,{prevTargetIds:w_e(e,"dragOperation.targetIds",[])})}),dragOffset:jve(e.dragOffset,t),refCount:kve(e.refCount,t),dragOperation:Nve(e.dragOperation,t),stateId:Ive(e.stateId)}}function Ave(e,t=void 0,n={},a=!1){const r=Mve(a),i=new J_e(r,new gve(r)),o=new G_e(r,i),c=e(o,t,n);return o.receiveBackend(c),o}function Mve(e){const t=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION__;return oO(Dve,e&&t&&t({name:"dnd-core",instanceId:"dnd-core"}))}function Rve(e,t){if(e==null)return{};var n=Bve(e,t),a,r;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)a=i[r],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function Bve(e,t){if(e==null)return{};var n={},a=Object.keys(e),r,i;for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&(n[r]=e[r]);return n}let sT=0;const zv=Symbol.for("__REACT_DND_CONTEXT_INSTANCE__");var ry=_.memo(function(t){var{children:n}=t,a=Rve(t,["children"]);const[r,i]=Ove(a);return _.useEffect(()=>{if(i){const o=fO();return++sT,()=>{--sT===0&&(o[zv]=null)}}},[]),s.jsx(rO.Provider,{value:r,children:n})});function Ove(e){if("manager"in e)return[{dragDropManager:e.manager},!1];const t=Lve(e.backend,e.context,e.options,e.debugMode),n=!e.context;return[t,n]}function Lve(e,t=fO(),n,a){const r=t;return r[zv]||(r[zv]={dragDropManager:Ave(e,t,n,a)}),r[zv]}function fO(){return typeof global<"u"?global:window}var Cj,aT;function $ve(){return aT||(aT=1,Cj=function e(t,n){if(t===n)return!0;if(t&&n&&typeof t=="object"&&typeof n=="object"){if(t.constructor!==n.constructor)return!1;var a,r,i;if(Array.isArray(t)){if(a=t.length,a!=n.length)return!1;for(r=a;r--!==0;)if(!e(t[r],n[r]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if(i=Object.keys(t),a=i.length,a!==Object.keys(n).length)return!1;for(r=a;r--!==0;)if(!Object.prototype.hasOwnProperty.call(n,i[r]))return!1;for(r=a;r--!==0;){var o=i[r];if(!e(t[o],n[o]))return!1}return!0}return t!==t&&n!==n}),Cj}var Pve=$ve();const Fve=Ti(Pve),Yh=typeof window<"u"?_.useLayoutEffect:_.useEffect;function Hve(e,t,n){const[a,r]=_.useState(()=>t(e)),i=_.useCallback(()=>{const o=t(e);Fve(a,o)||(r(o),n&&n())},[a,e,n]);return Yh(i),[a,i]}function qve(e,t,n){const[a,r]=Hve(e,t,n);return Yh(function(){const o=e.getHandlerId();if(o!=null)return e.subscribeToStateChange(r,{handlerIds:[o]})},[e,r]),a}function mO(e,t,n){return qve(t,e||(()=>({})),()=>n.reconnect())}function pO(e,t){const n=[];return typeof e!="function"&&n.push(e),_.useMemo(()=>typeof e=="function"?e():e,n)}function Vve(e){return _.useMemo(()=>e.hooks.dragSource(),[e])}function zve(e){return _.useMemo(()=>e.hooks.dragPreview(),[e])}let Sj=!1,Nj=!1;class Uve{receiveHandlerId(t){this.sourceId=t}getHandlerId(){return this.sourceId}canDrag(){la(!Sj,"You may not call monitor.canDrag() inside your canDrag() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return Sj=!0,this.internalMonitor.canDragSource(this.sourceId)}finally{Sj=!1}}isDragging(){if(!this.sourceId)return!1;la(!Nj,"You may not call monitor.isDragging() inside your isDragging() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return Nj=!0,this.internalMonitor.isDraggingSource(this.sourceId)}finally{Nj=!1}}subscribeToStateChange(t,n){return this.internalMonitor.subscribeToStateChange(t,n)}isDraggingSource(t){return this.internalMonitor.isDraggingSource(t)}isOverTarget(t,n){return this.internalMonitor.isOverTarget(t,n)}getTargetIds(){return this.internalMonitor.getTargetIds()}isSourcePublic(){return this.internalMonitor.isSourcePublic()}getSourceId(){return this.internalMonitor.getSourceId()}subscribeToOffsetChange(t){return this.internalMonitor.subscribeToOffsetChange(t)}canDragSource(t){return this.internalMonitor.canDragSource(t)}canDropOnTarget(t){return this.internalMonitor.canDropOnTarget(t)}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(t){this.sourceId=null,this.internalMonitor=t.getMonitor()}}let kj=!1;class Wve{receiveHandlerId(t){this.targetId=t}getHandlerId(){return this.targetId}subscribeToStateChange(t,n){return this.internalMonitor.subscribeToStateChange(t,n)}canDrop(){if(!this.targetId)return!1;la(!kj,"You may not call monitor.canDrop() inside your canDrop() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target-monitor");try{return kj=!0,this.internalMonitor.canDropOnTarget(this.targetId)}finally{kj=!1}}isOver(t){return this.targetId?this.internalMonitor.isOverTarget(this.targetId,t):!1}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(t){this.targetId=null,this.internalMonitor=t.getMonitor()}}function Yve(e,t,n){const a=n.getRegistry(),r=a.addTarget(e,t);return[r,()=>a.removeTarget(r)]}function Gve(e,t,n){const a=n.getRegistry(),r=a.addSource(e,t);return[r,()=>a.removeSource(r)]}function kS(e,t,n,a){let r;if(r!==void 0)return!!r;if(e===t)return!0;if(typeof e!="object"||!e||typeof t!="object"||!t)return!1;const i=Object.keys(e),o=Object.keys(t);if(i.length!==o.length)return!1;const c=Object.prototype.hasOwnProperty.bind(t);for(let l=0;l<i.length;l++){const d=i[l];if(!c(d))return!1;const f=e[d],g=t[d];if(r=void 0,r===!1||r===void 0&&f!==g)return!1}return!0}function IS(e){return e!==null&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function Qve(e){if(typeof e.type=="string")return;const t=e.type.displayName||e.type.name||"the component";throw new Error(`Only native element nodes can now be passed to React DnD connectors.You can either wrap ${t} into a <div>, or turn it into a drag source or a drop target itself.`)}function Xve(e){return(t=null,n=null)=>{if(!_.isValidElement(t)){const i=t;return e(i,n),i}const a=t;return Qve(a),Kve(a,n?i=>e(i,n):e)}}function gO(e){const t={};return Object.keys(e).forEach(n=>{const a=e[n];if(n.endsWith("Ref"))t[n]=e[n];else{const r=Xve(a);t[n]=()=>r}}),t}function rT(e,t){typeof e=="function"?e(t):e.current=t}function Kve(e,t){const n=e.ref;return la(typeof n!="string","Cannot connect React DnD to an element with an existing string ref. Please convert it to use a callback ref instead, or wrap it into a <span> or <div>. Read more: https://reactjs.org/docs/refs-and-the-dom.html#callback-refs"),n?_.cloneElement(e,{ref:a=>{rT(n,a),rT(t,a)}}):_.cloneElement(e,{ref:t})}class Zve{receiveHandlerId(t){this.handlerId!==t&&(this.handlerId=t,this.reconnect())}get connectTarget(){return this.dragSource}get dragSourceOptions(){return this.dragSourceOptionsInternal}set dragSourceOptions(t){this.dragSourceOptionsInternal=t}get dragPreviewOptions(){return this.dragPreviewOptionsInternal}set dragPreviewOptions(t){this.dragPreviewOptionsInternal=t}reconnect(){const t=this.reconnectDragSource();this.reconnectDragPreview(t)}reconnectDragSource(){const t=this.dragSource,n=this.didHandlerIdChange()||this.didConnectedDragSourceChange()||this.didDragSourceOptionsChange();return n&&this.disconnectDragSource(),this.handlerId?t?(n&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragSource=t,this.lastConnectedDragSourceOptions=this.dragSourceOptions,this.dragSourceUnsubscribe=this.backend.connectDragSource(this.handlerId,t,this.dragSourceOptions)),n):(this.lastConnectedDragSource=t,n):n}reconnectDragPreview(t=!1){const n=this.dragPreview,a=t||this.didHandlerIdChange()||this.didConnectedDragPreviewChange()||this.didDragPreviewOptionsChange();if(a&&this.disconnectDragPreview(),!!this.handlerId){if(!n){this.lastConnectedDragPreview=n;return}a&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragPreview=n,this.lastConnectedDragPreviewOptions=this.dragPreviewOptions,this.dragPreviewUnsubscribe=this.backend.connectDragPreview(this.handlerId,n,this.dragPreviewOptions))}}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didConnectedDragSourceChange(){return this.lastConnectedDragSource!==this.dragSource}didConnectedDragPreviewChange(){return this.lastConnectedDragPreview!==this.dragPreview}didDragSourceOptionsChange(){return!kS(this.lastConnectedDragSourceOptions,this.dragSourceOptions)}didDragPreviewOptionsChange(){return!kS(this.lastConnectedDragPreviewOptions,this.dragPreviewOptions)}disconnectDragSource(){this.dragSourceUnsubscribe&&(this.dragSourceUnsubscribe(),this.dragSourceUnsubscribe=void 0)}disconnectDragPreview(){this.dragPreviewUnsubscribe&&(this.dragPreviewUnsubscribe(),this.dragPreviewUnsubscribe=void 0,this.dragPreviewNode=null,this.dragPreviewRef=null)}get dragSource(){return this.dragSourceNode||this.dragSourceRef&&this.dragSourceRef.current}get dragPreview(){return this.dragPreviewNode||this.dragPreviewRef&&this.dragPreviewRef.current}clearDragSource(){this.dragSourceNode=null,this.dragSourceRef=null}clearDragPreview(){this.dragPreviewNode=null,this.dragPreviewRef=null}constructor(t){this.hooks=gO({dragSource:(n,a)=>{this.clearDragSource(),this.dragSourceOptions=a||null,IS(n)?this.dragSourceRef=n:this.dragSourceNode=n,this.reconnectDragSource()},dragPreview:(n,a)=>{this.clearDragPreview(),this.dragPreviewOptions=a||null,IS(n)?this.dragPreviewRef=n:this.dragPreviewNode=n,this.reconnectDragPreview()}}),this.handlerId=null,this.dragSourceRef=null,this.dragSourceOptionsInternal=null,this.dragPreviewRef=null,this.dragPreviewOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDragSource=null,this.lastConnectedDragSourceOptions=null,this.lastConnectedDragPreview=null,this.lastConnectedDragPreviewOptions=null,this.backend=t}}class Jve{get connectTarget(){return this.dropTarget}reconnect(){const t=this.didHandlerIdChange()||this.didDropTargetChange()||this.didOptionsChange();t&&this.disconnectDropTarget();const n=this.dropTarget;if(this.handlerId){if(!n){this.lastConnectedDropTarget=n;return}t&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDropTarget=n,this.lastConnectedDropTargetOptions=this.dropTargetOptions,this.unsubscribeDropTarget=this.backend.connectDropTarget(this.handlerId,n,this.dropTargetOptions))}}receiveHandlerId(t){t!==this.handlerId&&(this.handlerId=t,this.reconnect())}get dropTargetOptions(){return this.dropTargetOptionsInternal}set dropTargetOptions(t){this.dropTargetOptionsInternal=t}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didDropTargetChange(){return this.lastConnectedDropTarget!==this.dropTarget}didOptionsChange(){return!kS(this.lastConnectedDropTargetOptions,this.dropTargetOptions)}disconnectDropTarget(){this.unsubscribeDropTarget&&(this.unsubscribeDropTarget(),this.unsubscribeDropTarget=void 0)}get dropTarget(){return this.dropTargetNode||this.dropTargetRef&&this.dropTargetRef.current}clearDropTarget(){this.dropTargetRef=null,this.dropTargetNode=null}constructor(t){this.hooks=gO({dropTarget:(n,a)=>{this.clearDropTarget(),this.dropTargetOptions=a,IS(n)?this.dropTargetRef=n:this.dropTargetNode=n,this.reconnect()}}),this.handlerId=null,this.dropTargetRef=null,this.dropTargetOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDropTarget=null,this.lastConnectedDropTargetOptions=null,this.backend=t}}function up(){const{dragDropManager:e}=_.useContext(rO);return la(e!=null,"Expected drag drop context"),e}function exe(e,t){const n=up(),a=_.useMemo(()=>new Zve(n.getBackend()),[n]);return Yh(()=>(a.dragSourceOptions=e||null,a.reconnect(),()=>a.disconnectDragSource()),[a,e]),Yh(()=>(a.dragPreviewOptions=t||null,a.reconnect(),()=>a.disconnectDragPreview()),[a,t]),a}function txe(){const e=up();return _.useMemo(()=>new Uve(e),[e])}class nxe{beginDrag(){const t=this.spec,n=this.monitor;let a=null;return typeof t.item=="object"?a=t.item:typeof t.item=="function"?a=t.item(n):a={},a??null}canDrag(){const t=this.spec,n=this.monitor;return typeof t.canDrag=="boolean"?t.canDrag:typeof t.canDrag=="function"?t.canDrag(n):!0}isDragging(t,n){const a=this.spec,r=this.monitor,{isDragging:i}=a;return i?i(r):n===t.getSourceId()}endDrag(){const t=this.spec,n=this.monitor,a=this.connector,{end:r}=t;r&&r(n.getItem(),n),a.reconnect()}constructor(t,n,a){this.spec=t,this.monitor=n,this.connector=a}}function sxe(e,t,n){const a=_.useMemo(()=>new nxe(e,t,n),[t,n]);return _.useEffect(()=>{a.spec=e},[e]),a}function axe(e){return _.useMemo(()=>{const t=e.type;return la(t!=null,"spec.type must be defined"),t},[e])}function rxe(e,t,n){const a=up(),r=sxe(e,t,n),i=axe(e);Yh(function(){if(i!=null){const[c,l]=Gve(i,r,a);return t.receiveHandlerId(c),n.receiveHandlerId(c),l}},[a,t,n,r,i])}function ixe(e,t){const n=pO(e);la(!n.begin,"useDrag::spec.begin was deprecated in v14. Replace spec.begin() with spec.item(). (see more here - https://react-dnd.github.io/react-dnd/docs/api/use-drag)");const a=txe(),r=exe(n.options,n.previewOptions);return rxe(n,a,r),[mO(n.collect,a,r),Vve(r),zve(r)]}function oxe(e){return _.useMemo(()=>e.hooks.dropTarget(),[e])}function cxe(e){const t=up(),n=_.useMemo(()=>new Jve(t.getBackend()),[t]);return Yh(()=>(n.dropTargetOptions=e||null,n.reconnect(),()=>n.disconnectDropTarget()),[e]),n}function lxe(){const e=up();return _.useMemo(()=>new Wve(e),[e])}function uxe(e){const{accept:t}=e;return _.useMemo(()=>(la(e.accept!=null,"accept must be defined"),Array.isArray(t)?t:[t]),[t])}class dxe{canDrop(){const t=this.spec,n=this.monitor;return t.canDrop?t.canDrop(n.getItem(),n):!0}hover(){const t=this.spec,n=this.monitor;t.hover&&t.hover(n.getItem(),n)}drop(){const t=this.spec,n=this.monitor;if(t.drop)return t.drop(n.getItem(),n)}constructor(t,n){this.spec=t,this.monitor=n}}function hxe(e,t){const n=_.useMemo(()=>new dxe(e,t),[t]);return _.useEffect(()=>{n.spec=e},[e]),n}function fxe(e,t,n){const a=up(),r=hxe(e,t),i=uxe(e);Yh(function(){const[c,l]=Yve(i,r,a);return t.receiveHandlerId(c),n.receiveHandlerId(c),l},[a,t,r,n,i.map(o=>o.toString()).join("|")])}function mxe(e,t){const n=pO(e),a=lxe(),r=cxe(n.options);return fxe(n,a,r),[mO(n.collect,a,r),oxe(r)]}const pxe="_thumbnailsContainer_1aowt_3",gxe="_thumbnailContainer_1aowt_21",_xe="_orderBadge_1aowt_67",vxe="_thumbnail_1aowt_3",xxe="_mainImageBadge_1aowt_145",bxe="_thumbnailActions_1aowt_187",yxe="_thumbnailButton_1aowt_231",fd={thumbnailsContainer:pxe,thumbnailContainer:gxe,orderBadge:_xe,thumbnail:vxe,mainImageBadge:xxe,thumbnailActions:bxe,thumbnailButton:yxe},wxe=({image:e,index:t,moveImage:n,onSetMain:a,onRemove:r})=>{const i=_.useRef(null),[{isDragging:o},c]=ixe({type:"IMAGE",item:{id:e.id,index:t},canDrag:!e.isMain,collect:d=>({isDragging:d.isDragging()})}),[,l]=mxe({accept:"IMAGE",drop:d=>{!e.isMain&&d.index!==t&&n(d.index,t)}});return e.isMain||c(l(i)),s.jsxs("div",{ref:i,className:fd.thumbnailContainer,style:{cursor:e.isMain?"default":"grab"},children:[s.jsx("img",{src:e.preview,className:fd.thumbnail,alt:""}),s.jsx("span",{className:fd.orderBadge,children:t+1}),e.isMain&&s.jsx("span",{className:fd.mainImageBadge,children:""}),s.jsxs("div",{className:fd.thumbnailActions,children:[!e.isMain&&s.jsx("button",{type:"button",className:fd.thumbnailButton,onClick:()=>a(e.id),title:" ",children:s.jsx(ph,{})}),s.jsx("button",{type:"button",className:fd.thumbnailButton,onClick:()=>r(e.id),title:"",children:s.jsx(da,{})})]})]})},iy=({images:e,onImagesReorder:t,onSetMainImage:n,onRemoveImage:a})=>{const r=(i,o)=>{if(i===o)return;const c=[...e],[l]=c.splice(i,1);c.splice(o,0,l),t(c)};return s.jsx("div",{className:fd.thumbnailsContainer,children:e.map((i,o)=>s.jsx(wxe,{image:i,index:o,moveImage:r,onSetMain:n,onRemove:a},i.id))})};function _O(e){let t=null;return()=>(t==null&&(t=e()),t)}function jxe(e,t){return e.filter(n=>n!==t)}function Cxe(e,t){const n=new Set,a=i=>n.add(i);e.forEach(a),t.forEach(a);const r=[];return n.forEach(i=>r.push(i)),r}class Sxe{enter(t){const n=this.entered.length,a=r=>this.isNodeInDocument(r)&&(!r.contains||r.contains(t));return this.entered=Cxe(this.entered.filter(a),[t]),n===0&&this.entered.length>0}leave(t){const n=this.entered.length;return this.entered=jxe(this.entered.filter(this.isNodeInDocument),t),n>0&&this.entered.length===0}reset(){this.entered=[]}constructor(t){this.entered=[],this.isNodeInDocument=t}}class Nxe{initializeExposedProperties(){Object.keys(this.config.exposeProperties).forEach(t=>{Object.defineProperty(this.item,t,{configurable:!0,enumerable:!0,get(){return console.warn(`Browser doesn't allow reading "${t}" until the drop event.`),null}})})}loadDataTransfer(t){if(t){const n={};Object.keys(this.config.exposeProperties).forEach(a=>{const r=this.config.exposeProperties[a];r!=null&&(n[a]={value:r(t,this.config.matchesTypes),configurable:!0,enumerable:!0})}),Object.defineProperties(this.item,n)}}canDrag(){return!0}beginDrag(){return this.item}isDragging(t,n){return n===t.getSourceId()}endDrag(){}constructor(t){this.config=t,this.item={},this.initializeExposedProperties()}}const vO="__NATIVE_FILE__",xO="__NATIVE_URL__",bO="__NATIVE_TEXT__",yO="__NATIVE_HTML__",iT=Object.freeze(Object.defineProperty({__proto__:null,FILE:vO,HTML:yO,TEXT:bO,URL:xO},Symbol.toStringTag,{value:"Module"}));function Ij(e,t,n){const a=t.reduce((r,i)=>r||e.getData(i),"");return a??n}const ES={[vO]:{exposeProperties:{files:e=>Array.prototype.slice.call(e.files),items:e=>e.items,dataTransfer:e=>e},matchesTypes:["Files"]},[yO]:{exposeProperties:{html:(e,t)=>Ij(e,t,""),dataTransfer:e=>e},matchesTypes:["Html","text/html"]},[xO]:{exposeProperties:{urls:(e,t)=>Ij(e,t,"").split(`
`),dataTransfer:e=>e},matchesTypes:["Url","text/uri-list"]},[bO]:{exposeProperties:{text:(e,t)=>Ij(e,t,""),dataTransfer:e=>e},matchesTypes:["Text","text/plain"]}};function kxe(e,t){const n=ES[e];if(!n)throw new Error(`native type ${e} has no configuration`);const a=new Nxe(n);return a.loadDataTransfer(t),a}function Ej(e){if(!e)return null;const t=Array.prototype.slice.call(e.types||[]);return Object.keys(ES).filter(n=>{const a=ES[n];return a!=null&&a.matchesTypes?a.matchesTypes.some(r=>t.indexOf(r)>-1):!1})[0]||null}const Ixe=_O(()=>/firefox/i.test(navigator.userAgent)),wO=_O(()=>!!window.safari);class oT{interpolate(t){const{xs:n,ys:a,c1s:r,c2s:i,c3s:o}=this;let c=n.length-1;if(t===n[c])return a[c];let l=0,d=o.length-1,f;for(;l<=d;){f=Math.floor(.5*(l+d));const w=n[f];if(w<t)l=f+1;else if(w>t)d=f-1;else return a[f]}c=Math.max(0,d);const g=t-n[c],b=g*g;return a[c]+r[c]*g+i[c]*b+o[c]*g*b}constructor(t,n){const{length:a}=t,r=[];for(let w=0;w<a;w++)r.push(w);r.sort((w,C)=>t[w]<t[C]?-1:1);const i=[],o=[];let c,l;for(let w=0;w<a-1;w++)c=t[w+1]-t[w],l=n[w+1]-n[w],i.push(c),o.push(l/c);const d=[o[0]];for(let w=0;w<i.length-1;w++){const C=o[w],S=o[w+1];if(C*S<=0)d.push(0);else{c=i[w];const k=i[w+1],E=c+k;d.push(3*E/((E+k)/C+(E+c)/S))}}d.push(o[o.length-1]);const f=[],g=[];let b;for(let w=0;w<d.length-1;w++){b=o[w];const C=d[w],S=1/i[w],k=C+d[w+1]-b-b;f.push((b-C-k)*S),g.push(k*S*S)}this.xs=t,this.ys=n,this.c1s=d,this.c2s=f,this.c3s=g}}const Exe=1;function jO(e){const t=e.nodeType===Exe?e:e.parentElement;if(!t)return null;const{top:n,left:a}=t.getBoundingClientRect();return{x:a,y:n}}function X_(e){return{x:e.clientX,y:e.clientY}}function Txe(e){var t;return e.nodeName==="IMG"&&(Ixe()||!(!((t=document.documentElement)===null||t===void 0)&&t.contains(e)))}function Dxe(e,t,n,a){let r=e?t.width:n,i=e?t.height:a;return wO()&&e&&(i/=window.devicePixelRatio,r/=window.devicePixelRatio),{dragPreviewWidth:r,dragPreviewHeight:i}}function Axe(e,t,n,a,r){const i=Txe(t),c=jO(i?e:t),l={x:n.x-c.x,y:n.y-c.y},{offsetWidth:d,offsetHeight:f}=e,{anchorX:g,anchorY:b}=a,{dragPreviewWidth:w,dragPreviewHeight:C}=Dxe(i,t,d,f),S=()=>{let O=new oT([0,.5,1],[l.y,l.y/f*C,l.y+C-f]).interpolate(b);return wO()&&i&&(O+=(window.devicePixelRatio-1)*C),O},k=()=>new oT([0,.5,1],[l.x,l.x/d*w,l.x+w-d]).interpolate(g),{offsetX:E,offsetY:D}=r,R=E===0||E,P=D===0||D;return{x:R?E:k(),y:P?D:S()}}class Mxe{get window(){if(this.globalContext)return this.globalContext;if(typeof window<"u")return window}get document(){var t;return!((t=this.globalContext)===null||t===void 0)&&t.document?this.globalContext.document:this.window?this.window.document:void 0}get rootElement(){var t;return((t=this.optionsArgs)===null||t===void 0?void 0:t.rootElement)||this.window}constructor(t,n){this.ownerDocument=null,this.globalContext=t,this.optionsArgs=n}}function Rxe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cT(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{},a=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable}))),a.forEach(function(r){Rxe(e,r,n[r])})}return e}class Bxe{profile(){var t,n;return{sourcePreviewNodes:this.sourcePreviewNodes.size,sourcePreviewNodeOptions:this.sourcePreviewNodeOptions.size,sourceNodeOptions:this.sourceNodeOptions.size,sourceNodes:this.sourceNodes.size,dragStartSourceIds:((t=this.dragStartSourceIds)===null||t===void 0?void 0:t.length)||0,dropTargetIds:this.dropTargetIds.length,dragEnterTargetIds:this.dragEnterTargetIds.length,dragOverTargetIds:((n=this.dragOverTargetIds)===null||n===void 0?void 0:n.length)||0}}get window(){return this.options.window}get document(){return this.options.document}get rootElement(){return this.options.rootElement}setup(){const t=this.rootElement;if(t!==void 0){if(t.__isReactDndBackendSetUp)throw new Error("Cannot have two HTML5 backends at the same time.");t.__isReactDndBackendSetUp=!0,this.addEventListeners(t)}}teardown(){const t=this.rootElement;if(t!==void 0&&(t.__isReactDndBackendSetUp=!1,this.removeEventListeners(this.rootElement),this.clearCurrentDragSourceNode(),this.asyncEndDragFrameId)){var n;(n=this.window)===null||n===void 0||n.cancelAnimationFrame(this.asyncEndDragFrameId)}}connectDragPreview(t,n,a){return this.sourcePreviewNodeOptions.set(t,a),this.sourcePreviewNodes.set(t,n),()=>{this.sourcePreviewNodes.delete(t),this.sourcePreviewNodeOptions.delete(t)}}connectDragSource(t,n,a){this.sourceNodes.set(t,n),this.sourceNodeOptions.set(t,a);const r=o=>this.handleDragStart(o,t),i=o=>this.handleSelectStart(o);return n.setAttribute("draggable","true"),n.addEventListener("dragstart",r),n.addEventListener("selectstart",i),()=>{this.sourceNodes.delete(t),this.sourceNodeOptions.delete(t),n.removeEventListener("dragstart",r),n.removeEventListener("selectstart",i),n.setAttribute("draggable","false")}}connectDropTarget(t,n){const a=o=>this.handleDragEnter(o,t),r=o=>this.handleDragOver(o,t),i=o=>this.handleDrop(o,t);return n.addEventListener("dragenter",a),n.addEventListener("dragover",r),n.addEventListener("drop",i),()=>{n.removeEventListener("dragenter",a),n.removeEventListener("dragover",r),n.removeEventListener("drop",i)}}addEventListeners(t){t.addEventListener&&(t.addEventListener("dragstart",this.handleTopDragStart),t.addEventListener("dragstart",this.handleTopDragStartCapture,!0),t.addEventListener("dragend",this.handleTopDragEndCapture,!0),t.addEventListener("dragenter",this.handleTopDragEnter),t.addEventListener("dragenter",this.handleTopDragEnterCapture,!0),t.addEventListener("dragleave",this.handleTopDragLeaveCapture,!0),t.addEventListener("dragover",this.handleTopDragOver),t.addEventListener("dragover",this.handleTopDragOverCapture,!0),t.addEventListener("drop",this.handleTopDrop),t.addEventListener("drop",this.handleTopDropCapture,!0))}removeEventListeners(t){t.removeEventListener&&(t.removeEventListener("dragstart",this.handleTopDragStart),t.removeEventListener("dragstart",this.handleTopDragStartCapture,!0),t.removeEventListener("dragend",this.handleTopDragEndCapture,!0),t.removeEventListener("dragenter",this.handleTopDragEnter),t.removeEventListener("dragenter",this.handleTopDragEnterCapture,!0),t.removeEventListener("dragleave",this.handleTopDragLeaveCapture,!0),t.removeEventListener("dragover",this.handleTopDragOver),t.removeEventListener("dragover",this.handleTopDragOverCapture,!0),t.removeEventListener("drop",this.handleTopDrop),t.removeEventListener("drop",this.handleTopDropCapture,!0))}getCurrentSourceNodeOptions(){const t=this.monitor.getSourceId(),n=this.sourceNodeOptions.get(t);return cT({dropEffect:this.altKeyPressed?"copy":"move"},n||{})}getCurrentDropEffect(){return this.isDraggingNativeItem()?"copy":this.getCurrentSourceNodeOptions().dropEffect}getCurrentSourcePreviewNodeOptions(){const t=this.monitor.getSourceId(),n=this.sourcePreviewNodeOptions.get(t);return cT({anchorX:.5,anchorY:.5,captureDraggingState:!1},n||{})}isDraggingNativeItem(){const t=this.monitor.getItemType();return Object.keys(iT).some(n=>iT[n]===t)}beginDragNativeItem(t,n){this.clearCurrentDragSourceNode(),this.currentNativeSource=kxe(t,n),this.currentNativeHandle=this.registry.addSource(t,this.currentNativeSource),this.actions.beginDrag([this.currentNativeHandle])}setCurrentDragSourceNode(t){this.clearCurrentDragSourceNode(),this.currentDragSourceNode=t;const n=1e3;this.mouseMoveTimeoutTimer=setTimeout(()=>{var a;return(a=this.rootElement)===null||a===void 0?void 0:a.addEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)},n)}clearCurrentDragSourceNode(){if(this.currentDragSourceNode){if(this.currentDragSourceNode=null,this.rootElement){var t;(t=this.window)===null||t===void 0||t.clearTimeout(this.mouseMoveTimeoutTimer||void 0),this.rootElement.removeEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)}return this.mouseMoveTimeoutTimer=null,!0}return!1}handleDragStart(t,n){t.defaultPrevented||(this.dragStartSourceIds||(this.dragStartSourceIds=[]),this.dragStartSourceIds.unshift(n))}handleDragEnter(t,n){this.dragEnterTargetIds.unshift(n)}handleDragOver(t,n){this.dragOverTargetIds===null&&(this.dragOverTargetIds=[]),this.dragOverTargetIds.unshift(n)}handleDrop(t,n){this.dropTargetIds.unshift(n)}constructor(t,n,a){this.sourcePreviewNodes=new Map,this.sourcePreviewNodeOptions=new Map,this.sourceNodes=new Map,this.sourceNodeOptions=new Map,this.dragStartSourceIds=null,this.dropTargetIds=[],this.dragEnterTargetIds=[],this.currentNativeSource=null,this.currentNativeHandle=null,this.currentDragSourceNode=null,this.altKeyPressed=!1,this.mouseMoveTimeoutTimer=null,this.asyncEndDragFrameId=null,this.dragOverTargetIds=null,this.lastClientOffset=null,this.hoverRafId=null,this.getSourceClientOffset=r=>{const i=this.sourceNodes.get(r);return i&&jO(i)||null},this.endDragNativeItem=()=>{this.isDraggingNativeItem()&&(this.actions.endDrag(),this.currentNativeHandle&&this.registry.removeSource(this.currentNativeHandle),this.currentNativeHandle=null,this.currentNativeSource=null)},this.isNodeInDocument=r=>!!(r&&this.document&&this.document.body&&this.document.body.contains(r)),this.endDragIfSourceWasRemovedFromDOM=()=>{const r=this.currentDragSourceNode;r==null||this.isNodeInDocument(r)||(this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover())},this.scheduleHover=r=>{this.hoverRafId===null&&typeof requestAnimationFrame<"u"&&(this.hoverRafId=requestAnimationFrame(()=>{this.monitor.isDragging()&&this.actions.hover(r||[],{clientOffset:this.lastClientOffset}),this.hoverRafId=null}))},this.cancelHover=()=>{this.hoverRafId!==null&&typeof cancelAnimationFrame<"u"&&(cancelAnimationFrame(this.hoverRafId),this.hoverRafId=null)},this.handleTopDragStartCapture=()=>{this.clearCurrentDragSourceNode(),this.dragStartSourceIds=[]},this.handleTopDragStart=r=>{if(r.defaultPrevented)return;const{dragStartSourceIds:i}=this;this.dragStartSourceIds=null;const o=X_(r);this.monitor.isDragging()&&(this.actions.endDrag(),this.cancelHover()),this.actions.beginDrag(i||[],{publishSource:!1,getSourceClientOffset:this.getSourceClientOffset,clientOffset:o});const{dataTransfer:c}=r,l=Ej(c);if(this.monitor.isDragging()){if(c&&typeof c.setDragImage=="function"){const f=this.monitor.getSourceId(),g=this.sourceNodes.get(f),b=this.sourcePreviewNodes.get(f)||g;if(b){const{anchorX:w,anchorY:C,offsetX:S,offsetY:k}=this.getCurrentSourcePreviewNodeOptions(),R=Axe(g,b,o,{anchorX:w,anchorY:C},{offsetX:S,offsetY:k});c.setDragImage(b,R.x,R.y)}}try{c==null||c.setData("application/json",{})}catch{}this.setCurrentDragSourceNode(r.target);const{captureDraggingState:d}=this.getCurrentSourcePreviewNodeOptions();d?this.actions.publishDragSource():setTimeout(()=>this.actions.publishDragSource(),0)}else if(l)this.beginDragNativeItem(l);else{if(c&&!c.types&&(r.target&&!r.target.hasAttribute||!r.target.hasAttribute("draggable")))return;r.preventDefault()}},this.handleTopDragEndCapture=()=>{this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleTopDragEnterCapture=r=>{if(this.dragEnterTargetIds=[],this.isDraggingNativeItem()){var i;(i=this.currentNativeSource)===null||i===void 0||i.loadDataTransfer(r.dataTransfer)}if(!this.enterLeaveCounter.enter(r.target)||this.monitor.isDragging())return;const{dataTransfer:c}=r,l=Ej(c);l&&this.beginDragNativeItem(l,c)},this.handleTopDragEnter=r=>{const{dragEnterTargetIds:i}=this;if(this.dragEnterTargetIds=[],!this.monitor.isDragging())return;this.altKeyPressed=r.altKey,i.length>0&&this.actions.hover(i,{clientOffset:X_(r)}),i.some(c=>this.monitor.canDropOnTarget(c))&&(r.preventDefault(),r.dataTransfer&&(r.dataTransfer.dropEffect=this.getCurrentDropEffect()))},this.handleTopDragOverCapture=r=>{if(this.dragOverTargetIds=[],this.isDraggingNativeItem()){var i;(i=this.currentNativeSource)===null||i===void 0||i.loadDataTransfer(r.dataTransfer)}},this.handleTopDragOver=r=>{const{dragOverTargetIds:i}=this;if(this.dragOverTargetIds=[],!this.monitor.isDragging()){r.preventDefault(),r.dataTransfer&&(r.dataTransfer.dropEffect="none");return}this.altKeyPressed=r.altKey,this.lastClientOffset=X_(r),this.scheduleHover(i),(i||[]).some(c=>this.monitor.canDropOnTarget(c))?(r.preventDefault(),r.dataTransfer&&(r.dataTransfer.dropEffect=this.getCurrentDropEffect())):this.isDraggingNativeItem()?r.preventDefault():(r.preventDefault(),r.dataTransfer&&(r.dataTransfer.dropEffect="none"))},this.handleTopDragLeaveCapture=r=>{this.isDraggingNativeItem()&&r.preventDefault(),this.enterLeaveCounter.leave(r.target)&&(this.isDraggingNativeItem()&&setTimeout(()=>this.endDragNativeItem(),0),this.cancelHover())},this.handleTopDropCapture=r=>{if(this.dropTargetIds=[],this.isDraggingNativeItem()){var i;r.preventDefault(),(i=this.currentNativeSource)===null||i===void 0||i.loadDataTransfer(r.dataTransfer)}else Ej(r.dataTransfer)&&r.preventDefault();this.enterLeaveCounter.reset()},this.handleTopDrop=r=>{const{dropTargetIds:i}=this;this.dropTargetIds=[],this.actions.hover(i,{clientOffset:X_(r)}),this.actions.drop({dropEffect:this.getCurrentDropEffect()}),this.isDraggingNativeItem()?this.endDragNativeItem():this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleSelectStart=r=>{const i=r.target;typeof i.dragDrop=="function"&&(i.tagName==="INPUT"||i.tagName==="SELECT"||i.tagName==="TEXTAREA"||i.isContentEditable||(r.preventDefault(),i.dragDrop()))},this.options=new Mxe(n,a),this.actions=t.getActions(),this.monitor=t.getMonitor(),this.registry=t.getRegistry(),this.enterLeaveCounter=new Sxe(this.isNodeInDocument)}}const oy=function(t,n,a){return new Bxe(t,n,a)};var Oxe=Object.defineProperty,Lxe=(e,t,n)=>t in e?Oxe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Vr=(e,t,n)=>Lxe(e,typeof t!="symbol"?t+"":t,n);const Yx={x:0,y:0,width:0,height:0,unit:"px"},qf=(e,t,n)=>Math.min(Math.max(e,t),n),$xe=(...e)=>e.filter(t=>t&&typeof t=="string").join(" "),lT=(e,t)=>e===t||e.width===t.width&&e.height===t.height&&e.x===t.x&&e.y===t.y&&e.unit===t.unit;function Vf(e,t,n){return e.unit==="%"?{...Yx,...e,unit:"%"}:{unit:"%",x:e.x?e.x/t*100:0,y:e.y?e.y/n*100:0,width:e.width?e.width/t*100:0,height:e.height?e.height/n*100:0}}function od(e,t,n){return e.unit?e.unit==="px"?{...Yx,...e,unit:"px"}:{unit:"px",x:e.x?e.x*t/100:0,y:e.y?e.y*n/100:0,width:e.width?e.width*t/100:0,height:e.height?e.height*n/100:0}:{...Yx,...e,unit:"px"}}function uT(e,t,n,a,r,i=0,o=0,c=a,l=r){const d={...e};let f=Math.min(i,a),g=Math.min(o,r),b=Math.min(c,a),w=Math.min(l,r);t&&(t>1?(f=o?o*t:f,g=f/t,b=c*t):(g=i?i/t:g,f=g*t,w=l/t)),d.y<0&&(d.height=Math.max(d.height+d.y,g),d.y=0),d.x<0&&(d.width=Math.max(d.width+d.x,f),d.x=0);const C=a-(d.x+d.width);C<0&&(d.x=Math.min(d.x,a-f),d.width+=C);const S=r-(d.y+d.height);if(S<0&&(d.y=Math.min(d.y,r-g),d.height+=S),d.width<f&&((n==="sw"||n=="nw")&&(d.x-=f-d.width),d.width=f),d.height<g&&((n==="nw"||n=="ne")&&(d.y-=g-d.height),d.height=g),d.width>b&&((n==="sw"||n=="nw")&&(d.x-=b-d.width),d.width=b),d.height>w&&((n==="nw"||n=="ne")&&(d.y-=w-d.height),d.height=w),t){const k=d.width/d.height;if(k<t){const E=Math.max(d.width/t,g);(n==="nw"||n=="ne")&&(d.y-=E-d.height),d.height=E}else if(k>t){const E=Math.max(d.height*t,f);(n==="sw"||n=="nw")&&(d.x-=E-d.width),d.width=E}}return d}function Pxe(e,t,n,a){const r={...e};return t==="ArrowLeft"?a==="nw"?(r.x-=n,r.y-=n,r.width+=n,r.height+=n):a==="w"?(r.x-=n,r.width+=n):a==="sw"?(r.x-=n,r.width+=n,r.height+=n):a==="ne"?(r.y+=n,r.width-=n,r.height-=n):a==="e"?r.width-=n:a==="se"&&(r.width-=n,r.height-=n):t==="ArrowRight"&&(a==="nw"?(r.x+=n,r.y+=n,r.width-=n,r.height-=n):a==="w"?(r.x+=n,r.width-=n):a==="sw"?(r.x+=n,r.width-=n,r.height-=n):a==="ne"?(r.y-=n,r.width+=n,r.height+=n):a==="e"?r.width+=n:a==="se"&&(r.width+=n,r.height+=n)),t==="ArrowUp"?a==="nw"?(r.x-=n,r.y-=n,r.width+=n,r.height+=n):a==="n"?(r.y-=n,r.height+=n):a==="ne"?(r.y-=n,r.width+=n,r.height+=n):a==="sw"?(r.x+=n,r.width-=n,r.height-=n):a==="s"?r.height-=n:a==="se"&&(r.width-=n,r.height-=n):t==="ArrowDown"&&(a==="nw"?(r.x+=n,r.y+=n,r.width-=n,r.height-=n):a==="n"?(r.y+=n,r.height-=n):a==="ne"?(r.y+=n,r.width-=n,r.height-=n):a==="sw"?(r.x-=n,r.width+=n,r.height+=n):a==="s"?r.height+=n:a==="se"&&(r.width+=n,r.height+=n)),r}const zf={capture:!0,passive:!1};let Fxe=0;const md=class zc extends _.PureComponent{constructor(){super(...arguments),Vr(this,"docMoveBound",!1),Vr(this,"mouseDownOnCrop",!1),Vr(this,"dragStarted",!1),Vr(this,"evData",{startClientX:0,startClientY:0,startCropX:0,startCropY:0,clientX:0,clientY:0,isResize:!0}),Vr(this,"componentRef",_.createRef()),Vr(this,"mediaRef",_.createRef()),Vr(this,"resizeObserver"),Vr(this,"initChangeCalled",!1),Vr(this,"instanceId",`rc-${Fxe++}`),Vr(this,"state",{cropIsActive:!1,newCropIsBeingDrawn:!1}),Vr(this,"onCropPointerDown",t=>{const{crop:n,disabled:a}=this.props,r=this.getBox();if(!n)return;const i=od(n,r.width,r.height);if(a)return;t.cancelable&&t.preventDefault(),this.bindDocMove(),this.componentRef.current.focus({preventScroll:!0});const o=t.target.dataset.ord,c=!!o;let l=t.clientX,d=t.clientY,f=i.x,g=i.y;if(o){const b=t.clientX-r.x,w=t.clientY-r.y;let C=0,S=0;o==="ne"||o=="e"?(C=b-(i.x+i.width),S=w-i.y,f=i.x,g=i.y+i.height):o==="se"||o==="s"?(C=b-(i.x+i.width),S=w-(i.y+i.height),f=i.x,g=i.y):o==="sw"||o=="w"?(C=b-i.x,S=w-(i.y+i.height),f=i.x+i.width,g=i.y):(o==="nw"||o=="n")&&(C=b-i.x,S=w-i.y,f=i.x+i.width,g=i.y+i.height),l=f+r.x+C,d=g+r.y+S}this.evData={startClientX:l,startClientY:d,startCropX:f,startCropY:g,clientX:t.clientX,clientY:t.clientY,isResize:c,ord:o},this.mouseDownOnCrop=!0,this.setState({cropIsActive:!0})}),Vr(this,"onComponentPointerDown",t=>{const{crop:n,disabled:a,locked:r,keepSelection:i,onChange:o}=this.props,c=this.getBox();if(a||r||i&&n)return;t.cancelable&&t.preventDefault(),this.bindDocMove(),this.componentRef.current.focus({preventScroll:!0});const l=t.clientX-c.x,d=t.clientY-c.y,f={unit:"px",x:l,y:d,width:0,height:0};this.evData={startClientX:t.clientX,startClientY:t.clientY,startCropX:l,startCropY:d,clientX:t.clientX,clientY:t.clientY,isResize:!0},this.mouseDownOnCrop=!0,o(od(f,c.width,c.height),Vf(f,c.width,c.height)),this.setState({cropIsActive:!0,newCropIsBeingDrawn:!0})}),Vr(this,"onDocPointerMove",t=>{const{crop:n,disabled:a,onChange:r,onDragStart:i}=this.props,o=this.getBox();if(a||!n||!this.mouseDownOnCrop)return;t.cancelable&&t.preventDefault(),this.dragStarted||(this.dragStarted=!0,i&&i(t));const{evData:c}=this;c.clientX=t.clientX,c.clientY=t.clientY;let l;c.isResize?l=this.resizeCrop():l=this.dragCrop(),lT(n,l)||r(od(l,o.width,o.height),Vf(l,o.width,o.height))}),Vr(this,"onComponentKeyDown",t=>{const{crop:n,disabled:a,onChange:r,onComplete:i}=this.props;if(a)return;const o=t.key;let c=!1;if(!n)return;const l=this.getBox(),d=this.makePixelCrop(l),f=(navigator.platform.match("Mac")?t.metaKey:t.ctrlKey)?zc.nudgeStepLarge:t.shiftKey?zc.nudgeStepMedium:zc.nudgeStep;if(o==="ArrowLeft"?(d.x-=f,c=!0):o==="ArrowRight"?(d.x+=f,c=!0):o==="ArrowUp"?(d.y-=f,c=!0):o==="ArrowDown"&&(d.y+=f,c=!0),c){t.cancelable&&t.preventDefault(),d.x=qf(d.x,0,l.width-d.width),d.y=qf(d.y,0,l.height-d.height);const g=od(d,l.width,l.height),b=Vf(d,l.width,l.height);r(g,b),i&&i(g,b)}}),Vr(this,"onHandlerKeyDown",(t,n)=>{const{aspect:a=0,crop:r,disabled:i,minWidth:o=0,minHeight:c=0,maxWidth:l,maxHeight:d,onChange:f,onComplete:g}=this.props,b=this.getBox();if(i||!r)return;if(t.key==="ArrowUp"||t.key==="ArrowDown"||t.key==="ArrowLeft"||t.key==="ArrowRight")t.stopPropagation(),t.preventDefault();else return;const w=(navigator.platform.match("Mac")?t.metaKey:t.ctrlKey)?zc.nudgeStepLarge:t.shiftKey?zc.nudgeStepMedium:zc.nudgeStep,C=od(r,b.width,b.height),S=Pxe(C,t.key,w,n),k=uT(S,a,n,b.width,b.height,o,c,l,d);if(!lT(r,k)){const E=Vf(k,b.width,b.height);f(k,E),g&&g(k,E)}}),Vr(this,"onDocPointerDone",t=>{const{crop:n,disabled:a,onComplete:r,onDragEnd:i}=this.props,o=this.getBox();this.unbindDocMove(),!(a||!n)&&this.mouseDownOnCrop&&(this.mouseDownOnCrop=!1,this.dragStarted=!1,i&&i(t),r&&r(od(n,o.width,o.height),Vf(n,o.width,o.height)),this.setState({cropIsActive:!1,newCropIsBeingDrawn:!1}))}),Vr(this,"onDragFocus",()=>{var t;(t=this.componentRef.current)==null||t.scrollTo(0,0)})}get document(){return document}getBox(){const t=this.mediaRef.current;if(!t)return{x:0,y:0,width:0,height:0};const{x:n,y:a,width:r,height:i}=t.getBoundingClientRect();return{x:n,y:a,width:r,height:i}}componentDidUpdate(t){const{crop:n,onComplete:a}=this.props;if(a&&!t.crop&&n){const{width:r,height:i}=this.getBox();r&&i&&a(od(n,r,i),Vf(n,r,i))}}componentWillUnmount(){this.resizeObserver&&this.resizeObserver.disconnect(),this.unbindDocMove()}bindDocMove(){this.docMoveBound||(this.document.addEventListener("pointermove",this.onDocPointerMove,zf),this.document.addEventListener("pointerup",this.onDocPointerDone,zf),this.document.addEventListener("pointercancel",this.onDocPointerDone,zf),this.docMoveBound=!0)}unbindDocMove(){this.docMoveBound&&(this.document.removeEventListener("pointermove",this.onDocPointerMove,zf),this.document.removeEventListener("pointerup",this.onDocPointerDone,zf),this.document.removeEventListener("pointercancel",this.onDocPointerDone,zf),this.docMoveBound=!1)}getCropStyle(){const{crop:t}=this.props;if(t)return{top:`${t.y}${t.unit}`,left:`${t.x}${t.unit}`,width:`${t.width}${t.unit}`,height:`${t.height}${t.unit}`}}dragCrop(){const{evData:t}=this,n=this.getBox(),a=this.makePixelCrop(n),r=t.clientX-t.startClientX,i=t.clientY-t.startClientY;return a.x=qf(t.startCropX+r,0,n.width-a.width),a.y=qf(t.startCropY+i,0,n.height-a.height),a}getPointRegion(t,n,a,r){const{evData:i}=this,o=i.clientX-t.x,c=i.clientY-t.y;let l;r&&n?l=n==="nw"||n==="n"||n==="ne":l=c<i.startCropY;let d;return a&&n?d=n==="nw"||n==="w"||n==="sw":d=o<i.startCropX,d?l?"nw":"sw":l?"ne":"se"}resolveMinDimensions(t,n,a=0,r=0){const i=Math.min(a,t.width),o=Math.min(r,t.height);return!n||!i&&!o?[i,o]:n>1?i?[i,i/n]:[o*n,o]:o?[o*n,o]:[i,i/n]}resizeCrop(){const{evData:t}=this,{aspect:n=0,maxWidth:a,maxHeight:r}=this.props,i=this.getBox(),[o,c]=this.resolveMinDimensions(i,n,this.props.minWidth,this.props.minHeight);let l=this.makePixelCrop(i);const d=this.getPointRegion(i,t.ord,o,c),f=t.ord||d;let g=t.clientX-t.startClientX,b=t.clientY-t.startClientY;(o&&f==="nw"||f==="w"||f==="sw")&&(g=Math.min(g,-o)),(c&&f==="nw"||f==="n"||f==="ne")&&(b=Math.min(b,-c));const w={unit:"px",x:0,y:0,width:0,height:0};d==="ne"?(w.x=t.startCropX,w.width=g,n?(w.height=w.width/n,w.y=t.startCropY-w.height):(w.height=Math.abs(b),w.y=t.startCropY-w.height)):d==="se"?(w.x=t.startCropX,w.y=t.startCropY,w.width=g,n?w.height=w.width/n:w.height=b):d==="sw"?(w.x=t.startCropX+g,w.y=t.startCropY,w.width=Math.abs(g),n?w.height=w.width/n:w.height=b):d==="nw"&&(w.x=t.startCropX+g,w.width=Math.abs(g),n?(w.height=w.width/n,w.y=t.startCropY-w.height):(w.height=Math.abs(b),w.y=t.startCropY+b));const C=uT(w,n,d,i.width,i.height,o,c,a,r);return n||zc.xyOrds.indexOf(f)>-1?l=C:zc.xOrds.indexOf(f)>-1?(l.x=C.x,l.width=C.width):zc.yOrds.indexOf(f)>-1&&(l.y=C.y,l.height=C.height),l.x=qf(l.x,0,i.width-l.width),l.y=qf(l.y,0,i.height-l.height),l}renderCropSelection(){const{ariaLabels:t=zc.defaultProps.ariaLabels,disabled:n,locked:a,renderSelectionAddon:r,ruleOfThirds:i,crop:o}=this.props,c=this.getCropStyle();if(o)return nt.createElement("div",{style:c,className:"ReactCrop__crop-selection",onPointerDown:this.onCropPointerDown,"aria-label":t.cropArea,tabIndex:0,onKeyDown:this.onComponentKeyDown,role:"group"},!n&&!a&&nt.createElement("div",{className:"ReactCrop__drag-elements",onFocus:this.onDragFocus},nt.createElement("div",{className:"ReactCrop__drag-bar ord-n","data-ord":"n"}),nt.createElement("div",{className:"ReactCrop__drag-bar ord-e","data-ord":"e"}),nt.createElement("div",{className:"ReactCrop__drag-bar ord-s","data-ord":"s"}),nt.createElement("div",{className:"ReactCrop__drag-bar ord-w","data-ord":"w"}),nt.createElement("div",{className:"ReactCrop__drag-handle ord-nw","data-ord":"nw",tabIndex:0,"aria-label":t.nwDragHandle,onKeyDown:l=>this.onHandlerKeyDown(l,"nw"),role:"button"}),nt.createElement("div",{className:"ReactCrop__drag-handle ord-n","data-ord":"n",tabIndex:0,"aria-label":t.nDragHandle,onKeyDown:l=>this.onHandlerKeyDown(l,"n"),role:"button"}),nt.createElement("div",{className:"ReactCrop__drag-handle ord-ne","data-ord":"ne",tabIndex:0,"aria-label":t.neDragHandle,onKeyDown:l=>this.onHandlerKeyDown(l,"ne"),role:"button"}),nt.createElement("div",{className:"ReactCrop__drag-handle ord-e","data-ord":"e",tabIndex:0,"aria-label":t.eDragHandle,onKeyDown:l=>this.onHandlerKeyDown(l,"e"),role:"button"}),nt.createElement("div",{className:"ReactCrop__drag-handle ord-se","data-ord":"se",tabIndex:0,"aria-label":t.seDragHandle,onKeyDown:l=>this.onHandlerKeyDown(l,"se"),role:"button"}),nt.createElement("div",{className:"ReactCrop__drag-handle ord-s","data-ord":"s",tabIndex:0,"aria-label":t.sDragHandle,onKeyDown:l=>this.onHandlerKeyDown(l,"s"),role:"button"}),nt.createElement("div",{className:"ReactCrop__drag-handle ord-sw","data-ord":"sw",tabIndex:0,"aria-label":t.swDragHandle,onKeyDown:l=>this.onHandlerKeyDown(l,"sw"),role:"button"}),nt.createElement("div",{className:"ReactCrop__drag-handle ord-w","data-ord":"w",tabIndex:0,"aria-label":t.wDragHandle,onKeyDown:l=>this.onHandlerKeyDown(l,"w"),role:"button"})),r&&nt.createElement("div",{className:"ReactCrop__selection-addon",onPointerDown:l=>l.stopPropagation()},r(this.state)),i&&nt.createElement(nt.Fragment,null,nt.createElement("div",{className:"ReactCrop__rule-of-thirds-hz"}),nt.createElement("div",{className:"ReactCrop__rule-of-thirds-vt"})))}makePixelCrop(t){const n={...Yx,...this.props.crop||{}};return od(n,t.width,t.height)}render(){const{aspect:t,children:n,circularCrop:a,className:r,crop:i,disabled:o,locked:c,style:l,ruleOfThirds:d}=this.props,{cropIsActive:f,newCropIsBeingDrawn:g}=this.state,b=i?this.renderCropSelection():null,w=$xe("ReactCrop",r,f&&"ReactCrop--active",o&&"ReactCrop--disabled",c&&"ReactCrop--locked",g&&"ReactCrop--new-crop",i&&t&&"ReactCrop--fixed-aspect",i&&a&&"ReactCrop--circular-crop",i&&d&&"ReactCrop--rule-of-thirds",!this.dragStarted&&i&&!i.width&&!i.height&&"ReactCrop--invisible-crop",a&&"ReactCrop--no-animate");return nt.createElement("div",{ref:this.componentRef,className:w,style:l},nt.createElement("div",{ref:this.mediaRef,className:"ReactCrop__child-wrapper",onPointerDown:this.onComponentPointerDown},n),i?nt.createElement("svg",{className:"ReactCrop__crop-mask",width:"100%",height:"100%"},nt.createElement("defs",null,nt.createElement("mask",{id:`hole-${this.instanceId}`},nt.createElement("rect",{width:"100%",height:"100%",fill:"white"}),a?nt.createElement("ellipse",{cx:`${i.x+i.width/2}${i.unit}`,cy:`${i.y+i.height/2}${i.unit}`,rx:`${i.width/2}${i.unit}`,ry:`${i.height/2}${i.unit}`,fill:"black"}):nt.createElement("rect",{x:`${i.x}${i.unit}`,y:`${i.y}${i.unit}`,width:`${i.width}${i.unit}`,height:`${i.height}${i.unit}`,fill:"black"}))),nt.createElement("rect",{fill:"black",fillOpacity:.5,width:"100%",height:"100%",mask:`url(#hole-${this.instanceId})`})):void 0,b)}};Vr(md,"xOrds",["e","w"]),Vr(md,"yOrds",["n","s"]),Vr(md,"xyOrds",["nw","ne","se","sw"]),Vr(md,"nudgeStep",1),Vr(md,"nudgeStepMedium",10),Vr(md,"nudgeStepLarge",100),Vr(md,"defaultProps",{ariaLabels:{cropArea:"Use the arrow keys to move the crop selection area",nwDragHandle:"Use the arrow keys to move the north west drag handle to change the crop selection area",nDragHandle:"Use the up and down arrow keys to move the north drag handle to change the crop selection area",neDragHandle:"Use the arrow keys to move the north east drag handle to change the crop selection area",eDragHandle:"Use the up and down arrow keys to move the east drag handle to change the crop selection area",seDragHandle:"Use the arrow keys to move the south east drag handle to change the crop selection area",sDragHandle:"Use the up and down arrow keys to move the south drag handle to change the crop selection area",swDragHandle:"Use the arrow keys to move the south west drag handle to change the crop selection area",wDragHandle:"Use the up and down arrow keys to move the west drag handle to change the crop selection area"}});let Hxe=md;const qxe="_cropModalContent_1yqdy_29",Vxe="_cropperHeader_1yqdy_51",zxe="_cropperContainer_1yqdy_73",Uxe="_cropperActions_1yqdy_89",Wxe="_processingIndicator_1yqdy_303",x1={cropModalContent:qxe,cropperHeader:Vxe,cropperContainer:zxe,cropperActions:Uxe,processingIndicator:Wxe},dp=({files:e,currentIndex:t,onCropComplete:n,onCancel:a,onNext:r,onPrevious:i})=>{const[o,c]=_.useState(),[l,d]=_.useState(null),[f,g]=_.useState(!1),b=_.useRef(null),[w,C]=_.useState(null);_.useEffect(()=>{c(void 0),d(null),b.current=null},[t]),_.useEffect(()=>{const P=URL.createObjectURL(e[t]);return C(P),()=>{URL.revokeObjectURL(P)}},[e,t]);const S=_.useCallback(P=>{const B=P.target;b.current=B;const O=5/7,{width:$,height:U}=B;let F,H;$/U>O?(H=U,F=H*O):(F=$,H=F/O),c({unit:"px",x:($-F)/2,y:(U-H)/2,width:F,height:H,aspect:O}),d(null)},[]),k=async()=>{if(!b.current||!l)return null;const P=document.createElement("canvas"),B=b.current.naturalWidth/b.current.width,O=b.current.naturalHeight/b.current.height;P.width=Math.floor(l.width),P.height=Math.floor(l.height);const $=P.getContext("2d");return $.imageSmoothingQuality="high",$.drawImage(b.current,l.x*B,l.y*O,l.width*B,l.height*O,0,0,P.width,P.height),new Promise(U=>{P.toBlob(F=>U(F),e[t].type||"image/jpeg",.95)})},E=async()=>{if(!(!l||f)){g(!0);try{const P=await k();if(!P)throw new Error("Blob creation failed");const B=new File([P],e[t].name,{type:P.type,lastModified:Date.now()});await n(B,t)}catch(P){console.error(" :",P)}finally{g(!1)}}},D=async()=>{await E(),r()},R=async()=>{await E(),a()};return s.jsxs("div",{className:x1.cropModalContent,children:[s.jsxs("div",{className:x1.cropperHeader,children:[s.jsxs("h4",{children:["  (",t+1,"/",e.length,")"]}),f&&s.jsx("div",{className:x1.processingIndicator,children:"..."})]}),s.jsx("div",{className:x1.cropperContainer,children:s.jsx(Hxe,{crop:o,onChange:c,onComplete:d,aspect:5/7,ruleOfThirds:!0,children:w&&s.jsx("img",{src:w,alt:`Crop ${t+1}`,onLoad:S,onError:P=>console.error("  ",P),style:{maxWidth:"100%",maxHeight:"60vh"}})})}),s.jsxs("div",{className:x1.cropperActions,children:[s.jsx("button",{onClick:a,disabled:f,children:""}),t>0&&s.jsx("button",{onClick:i,disabled:f,children:""}),t<e.length-1?s.jsx("button",{onClick:D,disabled:f,children:""}):s.jsx("button",{onClick:R,disabled:f,children:""})]})]})},Yxe=()=>{const{business_slug:e,product_id:t}=ha(),n=Is(),[a,r]=_.useState(""),[i,o]=_.useState(""),[c,l]=_.useState(""),[d,f]=_.useState(""),[g,b]=_.useState(""),[w,C]=_.useState(!0),[S,k]=_.useState(!1),[E,D]=_.useState(!1),[R,P]=_.useState([]),[B,O]=_.useState(!1),[$,U]=_.useState(null),[F,H]=_.useState(!0),[se,K]=_.useState(null),[te,J]=_.useState([]),[z,V]=_.useState(!0),[M,ee]=_.useState([]),[Z,A]=_.useState([]),G=_.useRef(null),[Q,Y]=_.useState({files:[],currentIndex:0,croppedImages:[]}),[ae,ne]=_.useState(!1),[re,oe]=_.useState([]),[me,Ce]=_.useState(1),[Ne,Ee]=_.useState({}),[ve,Se]=_.useState(!1);_.useEffect(()=>{t&&(async()=>{var ue,De,xe;try{H(!0);const at=(await Be.get(`/api/business/${e}/products/${t}/`)).data;r(at.name),o(at.description),l(at.category),f(at.category_name),b(((ue=at.unit_of_measure)==null?void 0:ue.id)||""),C(at.is_active),k(at.is_visible_on_marketplace),D(at.is_visible_on_own_site);try{const pn=await Be.get("/api/units-of-measure/");J(pn.data),V(!1)}catch(pn){console.error("    :",pn),V(!1)}ee(at.images.map(pn=>({id:pn.id,preview:pn.image,isMain:pn.is_main,isExisting:!0})));const Mt=(await Be.get(`/api/categories/${at.category}/attributes/`)).data.map(pn=>({...pn,values:pn.values||[],has_predefined_values:pn.has_predefined_values||!1}));if(P(Mt),at.variants&&at.variants.length>0){const pn=at.variants.map((Qn,yt)=>{const ln={},fn={};return Qn.attributes.forEach(jn=>{const dt=String(jn.category_attribute);fn[dt]={id:jn.id,value:jn.predefined_value?String(jn.predefined_value):jn.custom_value},ln[dt]=jn.predefined_value?String(jn.predefined_value):jn.custom_value}),{id:yt+1,existing_id:Qn.id,attributes:ln,attributesWithIds:fn,barcode:Qn.barcode||"",is_barcode_auto_generated:Qn.is_barcode_auto_generated||!1,generateBarcode:!1}});oe(pn),Ce(pn.length+1)}H(!1)}catch(Ye){K(Ye.message),H(!1),console.error("    :",Ye),alert("   : "+(((xe=(De=Ye.response)==null?void 0:De.data)==null?void 0:xe.detail)||Ye.message))}})()},[e,t]);const fe=()=>{const Ge={id:me,attributes:R.reduce((ue,De)=>(ue[String(De.id)]=De.values.length>0?De.values[0].id?String(De.values[0].id):String(De.values[0]):"",ue),{}),barcode:"",generateBarcode:!1};oe([...re,Ge]),Ce(me+1)},de=(Ge,ue,De,xe=null)=>{oe(re.map(Ye=>Ye.id===Ge?ue==="barcode"?{...Ye,[ue]:De,generateBarcode:!1}:xe!==null?{...Ye,attributes:{...Ye.attributes,[String(xe)]:typeof De=="number"?String(De):De}}:{...Ye,[ue]:De}:Ye))},pe=(Ge,ue)=>{oe(re.map(De=>De.id===Ge?{...De,generateBarcode:ue,barcode:ue?"":De.barcode}:De))},ce=()=>{if(re.length===0)return;const Ge=re[re.length-1],ue={};Object.entries(Ge.attributes||{}).forEach(([xe,Ye])=>{ue[String(xe)]=typeof Ye=="number"?String(Ye):Ye});const De={id:me,attributes:ue};oe([...re,De]),Ce(me+1)},Re=Ge=>{oe(re.filter(ue=>ue.id!==Ge))},Ae=()=>{G.current.click()},ie=Ge=>{const ue=Ge.target.files;ue.length>0&&(Y({files:Array.from(ue),currentIndex:0,croppedImages:[]}),ne(!0),document.body.classList.add(Ln.bodyNoScroll)),Ge.target.value=""},ge=(Ge,ue)=>{const De={id:Date.now()+ue,file:Ge,preview:URL.createObjectURL(Ge),isMain:M.length===0&&ue===0};ee(xe=>[...xe,De]),ue===Q.files.length-1&&(ne(!1),document.body.classList.remove(Ln.bodyNoScroll),Y({files:[],currentIndex:0,croppedImages:[]}))},be=()=>{Y(Ge=>({...Ge,currentIndex:Ge.currentIndex+1}))},Fe=()=>{ne(!1),document.body.classList.remove(Ln.bodyNoScroll),Y({files:[],currentIndex:0,croppedImages:[]})},je=()=>{Y(Ge=>({...Ge,currentIndex:Ge.currentIndex-1}))},qe=Ge=>{ee(ue=>{const De=ue.find(Mt=>Mt.isMain);if((De==null?void 0:De.id)===Ge)return ue;const xe=[...ue],Ye=xe.findIndex(Mt=>Mt.id===Ge);if(Ye===-1)return ue;const at=xe.map(Mt=>({...Mt,isMain:Mt.id===Ge})),[lt]=at.splice(Ye,1);return[lt,...at]})},tt=Ge=>{ee(ue=>{const De=ue.find(Ye=>Ye.id===Ge);if(De!=null&&De.isMain&&ue.length>1&&!window.confirm("   . ?")||!De)return ue;De.isExisting&&A(Ye=>[...Ye,De.id]);const xe=ue.filter(Ye=>Ye.id!==Ge);return De.isMain&&xe.length>0&&(xe[0].isMain=!0),xe})},he=Ge=>{ee(Ge)},Ze=()=>{if(!a.trim())return{valid:!1,message:"  ."};if(!c)return{valid:!1,message:"   ."};if(!i.trim())return{valid:!1,message:"  ."};if(M.length===0)return{valid:!1,message:"    ."};if(!M.some(Ge=>Ge.isMain))return{valid:!1,message:"  ."};if(re.length===0)return{valid:!1,message:"     ."};for(let[Ge,ue]of re.entries())for(let De of R)if(De.required){const xe=ue.attributes[De.id];if(xe==null||xe==="")return{valid:!1,message:` ${Ge+1}:    "${De.name}".`}}return{valid:!0,message:""}},Pe=()=>{const Ge=new FormData,ue={name:a,description:i,category:c,unit_of_measure:g||null,is_active:w,is_visible_on_marketplace:S,is_visible_on_own_site:E,images_to_delete:Z,variants:re.map(De=>({id:De.existing_id,barcode:De.generateBarcode?"":De.barcode||"",generate_barcode:De.generateBarcode||!1,attributes:Object.entries(De.attributes||{}).map(([xe,Ye])=>{var Mt,pn;const at=R.find(Qn=>String(Qn.id)===String(xe)),lt=at==null?void 0:at.has_predefined_values;return{id:(pn=(Mt=De.attributesWithIds)==null?void 0:Mt[xe])==null?void 0:pn.id,category_attribute:Number(xe),predefined_value:lt?Number(Ye):null,custom_value:lt?"":String(Ye)}})}))};return Ge.append("data",JSON.stringify(ue)),M.forEach((De,xe)=>{!De.isExisting&&De.file&&(Ge.append(`images[${xe}][image]`,De.file),Ge.append(`images[${xe}][is_main]`,De.isMain?"true":"false"),Ge.append(`images[${xe}][display_order]`,String(xe)))}),M.forEach((De,xe)=>{De.isExisting&&(Ge.append(`existing_images[${xe}][id]`,String(De.id)),Ge.append(`existing_images[${xe}][is_main]`,De.isMain?"true":"false"),Ge.append(`existing_images[${xe}][display_order]`,String(xe)))}),Ge},bt=async Ge=>{var De,xe,Ye;if(Ge.preventDefault(),ve)return;const ue=Ze();if(!ue.valid){alert(ue.message);return}Se(!0);try{const at=Pe(),lt=await Be.post(`/api/business/${e}/products/${t}/edit`,at,{headers:{"Content-Type":"multipart/form-data"}});console.log("  :",lt.data),alert("  "),n(`/business/${e}/products/`)}catch(at){console.error("   :",((De=at.response)==null?void 0:De.data)||at.message),alert("   : "+(((Ye=(xe=at.response)==null?void 0:xe.data)==null?void 0:Ye.detail)||at.message)),Se(!1)}};return F?s.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh"},children:s.jsx(Fn,{size:"large"})}):se?s.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh",flexDirection:"column"},children:[s.jsx("h2",{children:"  "}),s.jsx("p",{children:se}),s.jsx("button",{onClick:()=>n(`/business/${e}/products/`),children:"   "})]}):s.jsx(ry,{backend:oy,children:s.jsxs("div",{className:Ln.container,children:[Q.files.length>0&&s.jsx("div",{className:Ln.cropModal,children:s.jsx(dp,{files:Q.files,currentIndex:Q.currentIndex,onCropComplete:ge,onCancel:Fe,onNext:be,onPrevious:je})}),s.jsxs("div",{className:Ln.content,children:[s.jsxs("h2",{className:Ln.pageTitle,children:[s.jsx(F3,{className:Ln.titleIcon}),"  "]}),s.jsxs("form",{onSubmit:bt,className:Ln.productForm,children:[s.jsxs("div",{className:Ln.sectionCard,children:[s.jsx("div",{className:Ln.sectionHeader,children:s.jsxs("h5",{children:[s.jsx(zb,{className:Ln.sectionIcon}),"  "]})}),s.jsxs("div",{className:Ln.sectionBody,children:[s.jsxs("div",{className:Ln.uploadRow,children:[s.jsx("div",{className:Ln.uploadColumn,children:s.jsxs("div",{className:Ln.uploadArea,onClick:Ae,onDragOver:Ge=>Ge.preventDefault(),onDrop:Ge=>{Ge.preventDefault(),ie({target:{files:Ge.dataTransfer.files}})},children:[s.jsx("div",{className:Ln.uploadIcon,children:s.jsx(Fb,{})}),s.jsx("h5",{children:"  "}),s.jsx("p",{className:Ln.uploadHint,children:"    "}),s.jsx("input",{type:"file",ref:G,multiple:!0,accept:"image/*",onChange:ie,className:Ln.fileInput})]})}),s.jsx("div",{className:Ln.infoColumn,children:s.jsxs("div",{className:Ln.infoAlert,children:[s.jsxs("h6",{children:[s.jsx(li,{className:Ln.infoIcon}),"   :"]}),s.jsxs("ul",{children:[s.jsx("li",{children:"  "}),s.jsx("li",{children:"   "}),s.jsx("li",{children:" 3    "}),s.jsx("li",{children:" JPG  PNG"})]})]})})]}),s.jsxs("div",{className:Ln.thumbnailsSection,children:[s.jsxs("h6",{className:Ln.thumbnailsTitle,children:["  (",M.length,"):"]}),s.jsx(iy,{images:M,onImagesReorder:he,onSetMainImage:qe,onRemoveImage:tt})]})]})]}),s.jsxs("div",{className:Ln.sectionCard,children:[s.jsx("div",{className:Ln.sectionHeader,children:s.jsxs("h5",{children:[s.jsx(li,{className:Ln.sectionIcon}),"  "]})}),s.jsxs("div",{className:Ln.sectionBody,children:[s.jsxs("div",{className:Ln.formRow,children:[s.jsxs("div",{className:Ln.formGroup,children:[s.jsx("label",{htmlFor:"product-name",className:Ln.formLabel,children:"  *"}),s.jsx("input",{type:"text",id:"product-name",className:Ln.formControl,value:a,onChange:Ge=>r(Ge.target.value),required:!0})]}),s.jsxs("div",{className:Ln.formGroup,children:[s.jsx("label",{htmlFor:"product-category",className:Ln.formLabel,children:" * ( )"}),s.jsx("input",{type:"text",id:"product-category",className:Ln.formControl,value:d,readOnly:!0,disabled:!0}),s.jsx("input",{type:"hidden",value:c})]}),s.jsxs("div",{className:Ln.formGroup,children:[s.jsx("label",{htmlFor:"product-unit",className:Ln.formLabel,children:" "}),s.jsxs("select",{id:"product-unit",className:Ln.formControl,value:g,onChange:Ge=>b(Ge.target.value),disabled:z,children:[s.jsx("option",{value:"",children:"  "}),te.map(Ge=>s.jsxs("option",{value:Ge.id,children:[Ge.name," (",Ge.short_name,")"]},Ge.id))]})]})]}),s.jsxs("div",{className:Ln.formGroup,children:[s.jsx("label",{htmlFor:"product-description",className:Ln.formLabel,children:"  *"}),s.jsx("textarea",{id:"product-description",className:Ln.formControl,rows:"5",value:i,onChange:Ge=>o(Ge.target.value),required:!0})]}),s.jsxs("div",{className:Ln.formRow,children:[s.jsxs("div",{className:Ln.checkboxGroup,children:[s.jsx("input",{type:"checkbox",id:"visible-on-marketplace",className:Ln.formCheckbox,checked:S,onChange:Ge=>k(Ge.target.checked)}),s.jsx("label",{htmlFor:"visible-on-marketplace",className:Ln.checkboxLabel,children:"  "})]}),s.jsxs("div",{className:Ln.checkboxGroup,children:[s.jsx("input",{type:"checkbox",id:"visible-on-own-site",className:Ln.formCheckbox,checked:E,onChange:Ge=>D(Ge.target.checked)}),s.jsx("label",{htmlFor:"visible-on-own-site",className:Ln.checkboxLabel,children:"   "})]}),s.jsxs("div",{className:Ln.checkboxGroup,children:[s.jsx("input",{type:"checkbox",id:"is-active",className:Ln.formCheckbox,checked:w,onChange:Ge=>C(Ge.target.checked)}),s.jsx("label",{htmlFor:"is-active",className:Ln.checkboxLabel,children:"  (  )"})]})]})]})]}),c&&s.jsxs("div",{className:Ln.sectionCard,children:[s.jsx("div",{className:Ln.sectionHeader,children:s.jsxs("h5",{children:[s.jsx(Ub,{className:Ln.sectionIcon}),"  "]})}),s.jsxs("div",{className:Ln.sectionBody,children:[s.jsx("div",{className:Ln.infoAlert,children:"      .         ."}),B?s.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"200px"},children:s.jsx(Fn,{size:"medium"})}):$?s.jsxs("div",{className:Ln.errorAlert,children:["  : ",$]}):s.jsx(s.Fragment,{children:s.jsxs("div",{className:Ln.tableWrapper,children:[s.jsx("div",{className:Ln.horizontalScroll,children:s.jsxs("table",{className:Ln.variantTable,children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{className:Ln.stickyColumn,children:""}),R.map(Ge=>s.jsxs("th",{children:[Ge.name,Ge.required&&s.jsx("span",{className:Ln.requiredStar,children:"*"})]},Ge.id)),s.jsx("th",{className:Ln.stickyColumn,children:"- ()"}),s.jsx("th",{className:Ln.stickyColumn,children:""})]})}),s.jsx("tbody",{children:re.length===0?s.jsx("tr",{children:s.jsx("td",{colSpan:R.length+3,className:Ln.noVariants,children:' .  " "   .'})}):re.map((Ge,ue)=>s.jsxs("tr",{children:[s.jsx("td",{className:Ln.stickyColumn,children:ue+1}),R.map(De=>s.jsx("td",{children:De.has_predefined_values?s.jsxs("select",{className:Ln.formSelect,value:Ge.attributes[De.id]||"",onChange:xe=>de(Ge.id,null,xe.target.value,De.id),required:De.required,children:[!De.required&&s.jsx("option",{value:"",children:" "}),De.values.map(xe=>s.jsx("option",{value:String(xe.id),children:xe.value},xe.id))]}):s.jsx("input",{type:"text",className:Ln.formControltd,value:Ge.attributes[De.id]||"",onChange:xe=>de(Ge.id,null,xe.target.value,De.id),placeholder:` ${De.name}`,required:De.required})},De.id)),s.jsx("td",{className:Ln.stickyColumn,children:s.jsxs("div",{className:Ln.barcodeCell,children:[s.jsx("div",{className:Ln.barcodeInputWrapper,children:s.jsx("input",{type:"text",className:Ln.formControltd,value:Ge.barcode||"",onChange:De=>de(Ge.id,"barcode",De.target.value),placeholder:Ge.generateBarcode?"  ":"EAN-13 (13 )",maxLength:13,pattern:"[0-9]{13}",title:Ge.is_barcode_auto_generated?"-       ":" 13- EAN-13 -",disabled:Ge.is_barcode_auto_generated||Ge.generateBarcode,readOnly:Ge.is_barcode_auto_generated})}),Ge.is_barcode_auto_generated?s.jsx("div",{className:Ln.autoGeneratedBadge,children:s.jsx("span",{children:" "})}):s.jsxs("label",{className:Ln.generateBarcodeLabel,children:[s.jsx("input",{type:"checkbox",checked:Ge.generateBarcode||!1,onChange:De=>pe(Ge.id,De.target.checked),className:Ln.generateBarcodeCheckbox}),s.jsx("span",{children:" "})]})]})}),s.jsx("td",{className:`${Ln.stickyColumn} ${Ln.variantActions}`,children:s.jsx("button",{type:"button",className:Ln.variantButton,onClick:()=>Re(Ge.id),title:" ",children:s.jsx(Ir,{})})})]},Ge.id))})]})}),s.jsx("div",{className:Ln.variantControls,children:s.jsxs("div",{children:[s.jsxs("button",{type:"button",className:Ln.variantAddButton,onClick:fe,disabled:R.length===0,children:[s.jsx(Va,{className:Ln.buttonIcon}),"  "]}),s.jsxs("button",{type:"button",className:Ln.variantCopyButton,onClick:ce,disabled:re.length===0,children:[s.jsx(Ad,{className:Ln.buttonIcon}),"  "]})]})})]})})]})]}),s.jsxs("div",{className:Ln.formActions,children:[s.jsxs("button",{type:"button",onClick:()=>n(`/business/${e}/products/`),className:Ln.cancelButton,children:[s.jsx(da,{className:Ln.buttonIcon})," "]}),s.jsx("button",{type:"submit",className:Ln.submitButton,disabled:ve,style:{opacity:ve?.6:1,cursor:ve?"not-allowed":"pointer"},children:ve?s.jsxs(s.Fragment,{children:[s.jsx("span",{style:{marginRight:"8px"},children:""})," ..."]}):s.jsxs(s.Fragment,{children:[s.jsx(ic,{className:Ln.buttonIcon}),"  "]})})]})]})]})]})})},Gxe="_container_od9og_3",Qxe="_content_od9og_13",Xxe="_pageTitle_od9og_17",Kxe="_backButton_od9og_29",Zxe="_title_od9og_52",Jxe="_titleIcon_od9og_61",ebe="_productForm_od9og_67",tbe="_sectionCard_od9og_71",nbe="_sectionHeader_od9og_79",sbe="_sectionIcon_od9og_97",abe="_sectionBody_od9og_103",rbe="_uploadRow_od9og_107",ibe="_uploadColumn_od9og_114",obe="_infoColumn_od9og_120",cbe="_uploadArea_od9og_126",lbe="_uploadIcon_od9og_150",ube="_uploadHint_od9og_162",dbe="_fileInput_od9og_168",hbe="_infoAlert_od9og_172",fbe="_infoIcon_od9og_189",mbe="_thumbnailsSection_od9og_206",pbe="_thumbnailsTitle_od9og_210",gbe="_formRow_od9og_217",_be="_formGroup_od9og_224",vbe="_formLabel_od9og_230",xbe="_formControl_od9og_236",bbe="_checkboxGroup_od9og_277",ybe="_formCheckbox_od9og_287",wbe="_checkboxLabel_od9og_297",jbe="_errorAlert_od9og_306",Cbe="_tableWrapper_od9og_316",Sbe="_horizontalScroll_od9og_320",Nbe="_variantTable_od9og_328",kbe="_stickyColumn_od9og_357",Ibe="_formSelect_od9og_374",Ebe="_formControltd_od9og_375",Tbe="_barcodeCell_od9og_403",Dbe="_barcodeInputWrapper_od9og_410",Abe="_generateBarcodeLabel_od9og_414",Mbe="_generateBarcodeCheckbox_od9og_426",Rbe="_autoGeneratedBadge_od9og_436",Bbe="_requiredStar_od9og_450",Obe="_noVariants_od9og_455",Lbe="_variantActions_od9og_462",$be="_variantButton_od9og_468",Pbe="_variantControls_od9og_490",Fbe="_variantAddButton_od9og_497",Hbe="_variantCopyButton_od9og_498",qbe="_buttonIcon_od9og_531",Vbe="_formActions_od9og_535",zbe="_cancelButton_od9og_548",Ube="_submitButton_od9og_549",Wbe="_cropModal_od9og_595",Rn={container:Gxe,content:Qxe,pageTitle:Xxe,backButton:Kxe,title:Zxe,titleIcon:Jxe,productForm:ebe,sectionCard:tbe,sectionHeader:nbe,sectionIcon:sbe,sectionBody:abe,uploadRow:rbe,uploadColumn:ibe,infoColumn:obe,uploadArea:cbe,uploadIcon:lbe,uploadHint:ube,fileInput:dbe,infoAlert:hbe,infoIcon:fbe,thumbnailsSection:mbe,thumbnailsTitle:pbe,formRow:gbe,formGroup:_be,formLabel:vbe,formControl:xbe,checkboxGroup:bbe,formCheckbox:ybe,checkboxLabel:wbe,errorAlert:jbe,tableWrapper:Cbe,horizontalScroll:Sbe,variantTable:Nbe,stickyColumn:kbe,formSelect:Ibe,formControltd:Ebe,barcodeCell:Tbe,barcodeInputWrapper:Dbe,generateBarcodeLabel:Abe,generateBarcodeCheckbox:Mbe,autoGeneratedBadge:Rbe,requiredStar:Bbe,noVariants:Obe,variantActions:Lbe,variantButton:$be,variantControls:Pbe,variantAddButton:Fbe,variantCopyButton:Hbe,buttonIcon:qbe,formActions:Vbe,cancelButton:zbe,submitButton:Ube,cropModal:Wbe},Ybe=()=>{const{business_slug:e,product_id:t}=ha(),n=Is(),[a,r]=_.useState(""),[i,o]=_.useState(""),[c,l]=_.useState(""),[d,f]=_.useState(""),[g,b]=_.useState(""),[w,C]=_.useState(!0),[S,k]=_.useState(!1),[E,D]=_.useState(!1),[R,P]=_.useState([]),[B,O]=_.useState(!1),[$,U]=_.useState(null),[F,H]=_.useState(!0),[se,K]=_.useState(null),[te,J]=_.useState([]),[z,V]=_.useState(!0),[M,ee]=_.useState([]),[Z,A]=_.useState([]),G=_.useRef(null),[Q,Y]=_.useState({files:[],currentIndex:0,croppedImages:[]}),[ae,ne]=_.useState(!1),[re,oe]=_.useState([]),[me,Ce]=_.useState(1),[Ne,Ee]=_.useState(!1);_.useEffect(()=>{t&&(async()=>{var bt,Ge,ue;try{H(!0);const xe=(await Be.get(`/api/business/${e}/products/${t}/`)).data;r(xe.name),o(xe.description),l(xe.category),f(xe.category_name),b(((bt=xe.unit_of_measure)==null?void 0:bt.id)||""),C(xe.is_active),k(xe.is_visible_on_marketplace),D(xe.is_visible_on_own_site);try{const lt=await Be.get("/api/units-of-measure/");J(lt.data),V(!1)}catch(lt){console.error("    :",lt),V(!1)}ee(xe.images.map(lt=>({id:lt.id,preview:lt.image,isMain:lt.is_main,isExisting:!0})));const at=(await Be.get(`/api/categories/${xe.category}/attributes/`)).data.map(lt=>({...lt,values:lt.values||[],has_predefined_values:lt.has_predefined_values||!1}));if(P(at),xe.variants&&xe.variants.length>0){const lt=xe.variants.map((Mt,pn)=>{const Qn={},yt={};return Mt.attributes.forEach(ln=>{const fn=String(ln.category_attribute);yt[fn]={id:ln.id,value:ln.predefined_value?String(ln.predefined_value):ln.custom_value},Qn[fn]=ln.predefined_value?String(ln.predefined_value):ln.custom_value}),{id:pn+1,existing_id:Mt.id,attributes:Qn,attributesWithIds:yt,barcode:Mt.barcode||"",is_barcode_auto_generated:Mt.is_barcode_auto_generated||!1,generateBarcode:!1}});oe(lt),Ce(lt.length+1)}H(!1)}catch(De){K(De.message),H(!1),console.error("    :",De),alert("   : "+(((ue=(Ge=De.response)==null?void 0:Ge.data)==null?void 0:ue.detail)||De.message))}})()},[e,t]);const ve=()=>{const Pe={id:me,attributes:R.reduce((bt,Ge)=>(bt[String(Ge.id)]=Ge.values.length>0?Ge.values[0].id?String(Ge.values[0].id):String(Ge.values[0]):"",bt),{}),barcode:"",generateBarcode:!1};oe([...re,Pe]),Ce(me+1)},Se=(Pe,bt,Ge,ue=null)=>{oe(re.map(De=>De.id===Pe?bt==="barcode"?{...De,[bt]:Ge,generateBarcode:!1}:ue!==null?{...De,attributes:{...De.attributes,[String(ue)]:typeof Ge=="number"?String(Ge):Ge}}:{...De,[bt]:Ge}:De))},fe=(Pe,bt)=>{oe(re.map(Ge=>Ge.id===Pe?{...Ge,generateBarcode:bt,barcode:bt?"":Ge.barcode}:Ge))},de=()=>{if(re.length===0)return;const Pe=re[re.length-1],bt={};Object.entries(Pe.attributes||{}).forEach(([ue,De])=>{bt[String(ue)]=typeof De=="number"?String(De):De});const Ge={id:me,attributes:bt};oe([...re,Ge]),Ce(me+1)},pe=Pe=>{oe(re.filter(bt=>bt.id!==Pe))},ce=()=>{G.current.click()},Re=Pe=>{const bt=Pe.target.files;bt.length>0&&(Y({files:Array.from(bt),currentIndex:0,croppedImages:[]}),ne(!0),document.body.classList.add(Rn.bodyNoScroll)),Pe.target.value=""},Ae=(Pe,bt)=>{const Ge={id:Date.now()+bt,file:Pe,preview:URL.createObjectURL(Pe),isMain:M.length===0&&bt===0};ee(ue=>[...ue,Ge]),bt===Q.files.length-1&&(ne(!1),document.body.classList.remove(Rn.bodyNoScroll),Y({files:[],currentIndex:0,croppedImages:[]}))},ie=()=>{Y(Pe=>({...Pe,currentIndex:Pe.currentIndex+1}))},ge=()=>{ne(!1),document.body.classList.remove(Rn.bodyNoScroll),Y({files:[],currentIndex:0,croppedImages:[]})},be=()=>{Y(Pe=>({...Pe,currentIndex:Pe.currentIndex-1}))},Fe=Pe=>{ee(bt=>{const Ge=bt.find(at=>at.isMain);if((Ge==null?void 0:Ge.id)===Pe)return bt;const ue=[...bt],De=ue.findIndex(at=>at.id===Pe);if(De===-1)return bt;const xe=ue.map(at=>({...at,isMain:at.id===Pe})),[Ye]=xe.splice(De,1);return[Ye,...xe]})},je=Pe=>{ee(bt=>{const Ge=bt.find(De=>De.id===Pe);if(Ge!=null&&Ge.isMain&&bt.length>1&&!window.confirm("   . ?")||!Ge)return bt;Ge.isExisting&&A(De=>[...De,Ge.id]);const ue=bt.filter(De=>De.id!==Pe);return Ge.isMain&&ue.length>0&&(ue[0].isMain=!0),ue})},qe=Pe=>{ee(Pe)},tt=()=>{if(!a.trim())return{valid:!1,message:"  ."};if(!c)return{valid:!1,message:"   ."};if(!i.trim())return{valid:!1,message:"  ."};if(M.length===0)return{valid:!1,message:"    ."};if(!M.some(Pe=>Pe.isMain))return{valid:!1,message:"  ."};if(re.length===0)return{valid:!1,message:"     ."};for(let[Pe,bt]of re.entries())for(let Ge of R)if(Ge.required){const ue=bt.attributes[Ge.id];if(ue==null||ue==="")return{valid:!1,message:` ${Pe+1}:    "${Ge.name}".`}}return{valid:!0,message:""}},he=()=>{const Pe=new FormData,bt={name:a,description:i,category:c,unit_of_measure:g||null,is_active:w,is_visible_on_marketplace:S,is_visible_on_own_site:E,images_to_delete:Z,variants:re.map(Ge=>({id:Ge.existing_id,barcode:Ge.generateBarcode?"":Ge.barcode||"",generate_barcode:Ge.generateBarcode||!1,attributes:Object.entries(Ge.attributes||{}).map(([ue,De])=>{var at,lt;const xe=R.find(Mt=>String(Mt.id)===String(ue)),Ye=xe==null?void 0:xe.has_predefined_values;return{id:(lt=(at=Ge.attributesWithIds)==null?void 0:at[ue])==null?void 0:lt.id,category_attribute:Number(ue),predefined_value:Ye?Number(De):null,custom_value:Ye?"":String(De)}})}))};return Pe.append("data",JSON.stringify(bt)),M.forEach((Ge,ue)=>{!Ge.isExisting&&Ge.file&&(Pe.append(`images[${ue}][image]`,Ge.file),Pe.append(`images[${ue}][is_main]`,Ge.isMain?"true":"false"),Pe.append(`images[${ue}][display_order]`,String(ue)))}),M.forEach((Ge,ue)=>{Ge.isExisting&&(Pe.append(`existing_images[${ue}][id]`,String(Ge.id)),Pe.append(`existing_images[${ue}][is_main]`,Ge.isMain?"true":"false"),Pe.append(`existing_images[${ue}][display_order]`,String(ue)))}),Pe},Ze=async Pe=>{var Ge,ue,De;if(Pe.preventDefault(),Ne)return;const bt=tt();if(!bt.valid){alert(bt.message);return}Ee(!0);try{const xe=he(),Ye=await Be.post(`/api/business/${e}/products/${t}/edit`,xe,{headers:{"Content-Type":"multipart/form-data"}});console.log("  :",Ye.data),alert("  "),n(`/business/${e}/products/`)}catch(xe){console.error("   :",((Ge=xe.response)==null?void 0:Ge.data)||xe.message),alert("   : "+(((De=(ue=xe.response)==null?void 0:ue.data)==null?void 0:De.detail)||xe.message)),Ee(!1)}};return F?s.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh"},children:s.jsx(Fn,{size:"large"})}):se?s.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh",flexDirection:"column"},children:[s.jsx("h2",{children:"  "}),s.jsx("p",{children:se}),s.jsx("button",{onClick:()=>n(`/business/${e}/products/`),children:"   "})]}):s.jsx(ry,{backend:oy,children:s.jsxs("div",{className:Rn.container,children:[Q.files.length>0&&s.jsx("div",{className:Rn.cropModal,children:s.jsx(dp,{files:Q.files,currentIndex:Q.currentIndex,onCropComplete:Ae,onCancel:ge,onNext:ie,onPrevious:be})}),s.jsxs("div",{className:Rn.content,children:[s.jsxs("div",{className:Rn.pageTitle,children:[s.jsx("button",{className:Rn.backButton,onClick:()=>n(`/business/${e}/products/${t}`),children:" "}),s.jsxs("h2",{className:Rn.title,children:[s.jsx(F3,{className:Rn.titleIcon}),"  "]})]}),s.jsxs("form",{onSubmit:Ze,className:Rn.productForm,children:[s.jsxs("div",{className:Rn.sectionCard,children:[s.jsx("div",{className:Rn.sectionHeader,children:s.jsxs("h5",{children:[s.jsx(zb,{className:Rn.sectionIcon}),"  "]})}),s.jsxs("div",{className:Rn.sectionBody,children:[s.jsxs("div",{className:Rn.uploadRow,children:[s.jsx("div",{className:Rn.uploadColumn,children:s.jsxs("div",{className:Rn.uploadArea,onClick:ce,onDragOver:Pe=>Pe.preventDefault(),onDrop:Pe=>{Pe.preventDefault(),Re({target:{files:Pe.dataTransfer.files}})},children:[s.jsx("div",{className:Rn.uploadIcon,children:s.jsx(Fb,{})}),s.jsx("h5",{children:"  "}),s.jsx("p",{className:Rn.uploadHint,children:"    "}),s.jsx("input",{type:"file",ref:G,multiple:!0,accept:"image/*",onChange:Re,className:Rn.fileInput})]})}),s.jsx("div",{className:Rn.infoColumn,children:s.jsxs("div",{className:Rn.infoAlert,children:[s.jsxs("h6",{children:[s.jsx(li,{className:Rn.infoIcon}),"   :"]}),s.jsxs("ul",{children:[s.jsx("li",{children:"  "}),s.jsx("li",{children:"   "}),s.jsx("li",{children:" 3    "}),s.jsx("li",{children:" JPG  PNG"})]})]})})]}),s.jsxs("div",{className:Rn.thumbnailsSection,children:[s.jsxs("h6",{className:Rn.thumbnailsTitle,children:["  (",M.length,"):"]}),s.jsx(iy,{images:M,onImagesReorder:qe,onSetMainImage:Fe,onRemoveImage:je})]})]})]}),s.jsxs("div",{className:Rn.sectionCard,children:[s.jsx("div",{className:Rn.sectionHeader,children:s.jsxs("h5",{children:[s.jsx(li,{className:Rn.sectionIcon}),"  "]})}),s.jsxs("div",{className:Rn.sectionBody,children:[s.jsxs("div",{className:Rn.formRow,children:[s.jsxs("div",{className:Rn.formGroup,children:[s.jsx("label",{htmlFor:"product-name",className:Rn.formLabel,children:"  *"}),s.jsx("input",{type:"text",id:"product-name",className:Rn.formControl,value:a,onChange:Pe=>r(Pe.target.value),required:!0})]}),s.jsxs("div",{className:Rn.formGroup,children:[s.jsx("label",{htmlFor:"product-category",className:Rn.formLabel,children:" * ( )"}),s.jsx("input",{type:"text",id:"product-category",className:Rn.formControl,value:d,readOnly:!0,disabled:!0}),s.jsx("input",{type:"hidden",value:c})]}),s.jsxs("div",{className:Rn.formGroup,children:[s.jsx("label",{htmlFor:"product-unit",className:Rn.formLabel,children:" "}),s.jsxs("select",{id:"product-unit",className:Rn.formControl,value:g,onChange:Pe=>b(Pe.target.value),disabled:z,children:[s.jsx("option",{value:"",children:"  "}),te.map(Pe=>s.jsxs("option",{value:Pe.id,children:[Pe.name," (",Pe.short_name,")"]},Pe.id))]})]})]}),s.jsxs("div",{className:Rn.formGroup,children:[s.jsx("label",{htmlFor:"product-description",className:Rn.formLabel,children:"  *"}),s.jsx("textarea",{id:"product-description",className:Rn.formControl,rows:"5",value:i,onChange:Pe=>o(Pe.target.value),required:!0})]}),s.jsxs("div",{className:Rn.formRow,children:[s.jsxs("div",{className:Rn.checkboxGroup,children:[s.jsx("input",{type:"checkbox",id:"visible-on-marketplace",className:Rn.formCheckbox,checked:S,onChange:Pe=>k(Pe.target.checked)}),s.jsx("label",{htmlFor:"visible-on-marketplace",className:Rn.checkboxLabel,children:"  "})]}),s.jsxs("div",{className:Rn.checkboxGroup,children:[s.jsx("input",{type:"checkbox",id:"visible-on-own-site",className:Rn.formCheckbox,checked:E,onChange:Pe=>D(Pe.target.checked)}),s.jsx("label",{htmlFor:"visible-on-own-site",className:Rn.checkboxLabel,children:"   "})]}),s.jsxs("div",{className:Rn.checkboxGroup,children:[s.jsx("input",{type:"checkbox",id:"is-active",className:Rn.formCheckbox,checked:w,onChange:Pe=>C(Pe.target.checked)}),s.jsx("label",{htmlFor:"is-active",className:Rn.checkboxLabel,children:"  (  )"})]})]})]})]}),c&&s.jsxs("div",{className:Rn.sectionCard,children:[s.jsx("div",{className:Rn.sectionHeader,children:s.jsxs("h5",{children:[s.jsx(Ub,{className:Rn.sectionIcon}),"  "]})}),s.jsxs("div",{className:Rn.sectionBody,children:[s.jsx("div",{className:Rn.infoAlert,children:"      .         ."}),B?s.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"200px"},children:s.jsx(Fn,{size:"medium"})}):$?s.jsxs("div",{className:Rn.errorAlert,children:["  : ",$]}):s.jsx(s.Fragment,{children:s.jsxs("div",{className:Rn.tableWrapper,children:[s.jsx("div",{className:Rn.horizontalScroll,children:s.jsxs("table",{className:Rn.variantTable,children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{className:Rn.stickyColumn,children:""}),R.map(Pe=>s.jsxs("th",{children:[Pe.name,Pe.required&&s.jsx("span",{className:Rn.requiredStar,children:"*"})]},Pe.id)),s.jsx("th",{className:Rn.stickyColumn,children:"- ()"}),s.jsx("th",{className:Rn.stickyColumn,children:""})]})}),s.jsx("tbody",{children:re.length===0?s.jsx("tr",{children:s.jsx("td",{colSpan:R.length+3,className:Rn.noVariants,children:' .  " "   .'})}):re.map((Pe,bt)=>s.jsxs("tr",{children:[s.jsx("td",{className:Rn.stickyColumn,children:bt+1}),R.map(Ge=>s.jsx("td",{children:Ge.has_predefined_values?s.jsxs("select",{className:Rn.formSelect,value:Pe.attributes[Ge.id]||"",onChange:ue=>Se(Pe.id,null,ue.target.value,Ge.id),required:Ge.required,children:[!Ge.required&&s.jsx("option",{value:"",children:" "}),Ge.values.map(ue=>s.jsx("option",{value:String(ue.id),children:ue.value},ue.id))]}):s.jsx("input",{type:"text",className:Rn.formControltd,value:Pe.attributes[Ge.id]||"",onChange:ue=>Se(Pe.id,null,ue.target.value,Ge.id),placeholder:` ${Ge.name}`,required:Ge.required})},Ge.id)),s.jsx("td",{className:Rn.stickyColumn,children:s.jsxs("div",{className:Rn.barcodeCell,children:[s.jsx("div",{className:Rn.barcodeInputWrapper,children:s.jsx("input",{type:"text",className:Rn.formControltd,value:Pe.barcode||"",onChange:Ge=>Se(Pe.id,"barcode",Ge.target.value),placeholder:Pe.generateBarcode?"  ":"EAN-13 (13 )",maxLength:13,pattern:"[0-9]{13}",title:Pe.is_barcode_auto_generated?"-       ":" 13- EAN-13 -",disabled:Pe.is_barcode_auto_generated||Pe.generateBarcode,readOnly:Pe.is_barcode_auto_generated})}),Pe.is_barcode_auto_generated?s.jsx("div",{className:Rn.autoGeneratedBadge,children:s.jsx("span",{children:" "})}):s.jsxs("label",{className:Rn.generateBarcodeLabel,children:[s.jsx("input",{type:"checkbox",checked:Pe.generateBarcode||!1,onChange:Ge=>fe(Pe.id,Ge.target.checked),className:Rn.generateBarcodeCheckbox}),s.jsx("span",{children:" "})]})]})}),s.jsx("td",{className:`${Rn.stickyColumn} ${Rn.variantActions}`,children:s.jsx("button",{type:"button",className:Rn.variantButton,onClick:()=>pe(Pe.id),title:" ",children:s.jsx(Ir,{})})})]},Pe.id))})]})}),s.jsx("div",{className:Rn.variantControls,children:s.jsxs("div",{children:[s.jsxs("button",{type:"button",className:Rn.variantAddButton,onClick:ve,disabled:R.length===0,children:[s.jsx(Va,{className:Rn.buttonIcon}),"  "]}),s.jsxs("button",{type:"button",className:Rn.variantCopyButton,onClick:de,disabled:re.length===0,children:[s.jsx(Ad,{className:Rn.buttonIcon}),"  "]})]})})]})})]})]}),s.jsxs("div",{className:Rn.formActions,children:[s.jsxs("button",{type:"button",onClick:()=>n(`/business/${e}/products/`),className:Rn.cancelButton,children:[s.jsx(da,{className:Rn.buttonIcon})," "]}),s.jsx("button",{type:"submit",className:Rn.submitButton,disabled:Ne,style:{opacity:Ne?.6:1,cursor:Ne?"not-allowed":"pointer"},children:Ne?s.jsxs(s.Fragment,{children:[s.jsx("span",{style:{marginRight:"8px"},children:""})," ..."]}):s.jsxs(s.Fragment,{children:[s.jsx(ic,{className:Rn.buttonIcon}),"  "]})})]})]})]})]})})},ei=({desktopComponent:e,mobileComponent:t,breakpoint:n=768,...a})=>{const r=ef(n),i=r?t:e;return r&&!t?s.jsx(e,{...a}):s.jsx(i,{...a})};function CO(e){return Zt({attr:{version:"1",viewBox:"0 0 48 48",enableBackground:"new 0 0 48 48"},child:[{tag:"g",attr:{fill:"#3F51B5"},child:[{tag:"circle",attr:{cx:"8",cy:"38",r:"3"},child:[]},{tag:"circle",attr:{cx:"16",cy:"40",r:"3"},child:[]},{tag:"circle",attr:{cx:"24",cy:"33",r:"3"},child:[]},{tag:"circle",attr:{cx:"32",cy:"35",r:"3"},child:[]},{tag:"circle",attr:{cx:"40",cy:"31",r:"3"},child:[]},{tag:"polygon",attr:{points:"39.1,29.2 31.8,32.9 23.5,30.8 15.5,37.8 8.5,36.1 7.5,39.9 16.5,42.2 24.5,35.2 32.2,37.1 40.9,32.8"},child:[]}]},{tag:"g",attr:{fill:"#00BCD4"},child:[{tag:"circle",attr:{cx:"8",cy:"20",r:"3"},child:[]},{tag:"circle",attr:{cx:"16",cy:"22",r:"3"},child:[]},{tag:"circle",attr:{cx:"24",cy:"15",r:"3"},child:[]},{tag:"circle",attr:{cx:"32",cy:"20",r:"3"},child:[]},{tag:"circle",attr:{cx:"40",cy:"8",r:"3"},child:[]},{tag:"path",attr:{d:"M38.3,6.9c-2.1,3.2-5.3,8-6.9,10.4c-1.2-0.7-3.1-2-6.4-4l-1.3-0.8l-8.3,7.3l-7-1.7l-1,3.9l9,2.3l7.7-6.7 c2.6,1.6,5.8,3.6,6.5,4.1l0.5,0.5l0.9-0.1c1.1-0.1,1.1-0.1,9.5-12.9L38.3,6.9z"},child:[]}]}]})(e)}/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function w0(e){return e+.5|0}const xd=(e,t,n)=>Math.max(Math.min(e,n),t);function W1(e){return xd(w0(e*2.55),0,255)}function kd(e){return xd(w0(e*255),0,255)}function mu(e){return xd(w0(e/2.55)/100,0,1)}function dT(e){return xd(w0(e*100),0,100)}const Cc={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},TS=[..."0123456789ABCDEF"],Gbe=e=>TS[e&15],Qbe=e=>TS[(e&240)>>4]+TS[e&15],K_=e=>(e&240)>>4===(e&15),Xbe=e=>K_(e.r)&&K_(e.g)&&K_(e.b)&&K_(e.a);function Kbe(e){var t=e.length,n;return e[0]==="#"&&(t===4||t===5?n={r:255&Cc[e[1]]*17,g:255&Cc[e[2]]*17,b:255&Cc[e[3]]*17,a:t===5?Cc[e[4]]*17:255}:(t===7||t===9)&&(n={r:Cc[e[1]]<<4|Cc[e[2]],g:Cc[e[3]]<<4|Cc[e[4]],b:Cc[e[5]]<<4|Cc[e[6]],a:t===9?Cc[e[7]]<<4|Cc[e[8]]:255})),n}const Zbe=(e,t)=>e<255?t(e):"";function Jbe(e){var t=Xbe(e)?Gbe:Qbe;return e?"#"+t(e.r)+t(e.g)+t(e.b)+Zbe(e.a,t):void 0}const eye=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function SO(e,t,n){const a=t*Math.min(n,1-n),r=(i,o=(i+e/30)%12)=>n-a*Math.max(Math.min(o-3,9-o,1),-1);return[r(0),r(8),r(4)]}function tye(e,t,n){const a=(r,i=(r+e/60)%6)=>n-n*t*Math.max(Math.min(i,4-i,1),0);return[a(5),a(3),a(1)]}function nye(e,t,n){const a=SO(e,1,.5);let r;for(t+n>1&&(r=1/(t+n),t*=r,n*=r),r=0;r<3;r++)a[r]*=1-t-n,a[r]+=t;return a}function sye(e,t,n,a,r){return e===r?(t-n)/a+(t<n?6:0):t===r?(n-e)/a+2:(e-t)/a+4}function n4(e){const n=e.r/255,a=e.g/255,r=e.b/255,i=Math.max(n,a,r),o=Math.min(n,a,r),c=(i+o)/2;let l,d,f;return i!==o&&(f=i-o,d=c>.5?f/(2-i-o):f/(i+o),l=sye(n,a,r,f,i),l=l*60+.5),[l|0,d||0,c]}function s4(e,t,n,a){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,n,a)).map(kd)}function a4(e,t,n){return s4(SO,e,t,n)}function aye(e,t,n){return s4(nye,e,t,n)}function rye(e,t,n){return s4(tye,e,t,n)}function NO(e){return(e%360+360)%360}function iye(e){const t=eye.exec(e);let n=255,a;if(!t)return;t[5]!==a&&(n=t[6]?W1(+t[5]):kd(+t[5]));const r=NO(+t[2]),i=+t[3]/100,o=+t[4]/100;return t[1]==="hwb"?a=aye(r,i,o):t[1]==="hsv"?a=rye(r,i,o):a=a4(r,i,o),{r:a[0],g:a[1],b:a[2],a:n}}function oye(e,t){var n=n4(e);n[0]=NO(n[0]+t),n=a4(n),e.r=n[0],e.g=n[1],e.b=n[2]}function cye(e){if(!e)return;const t=n4(e),n=t[0],a=dT(t[1]),r=dT(t[2]);return e.a<255?`hsla(${n}, ${a}%, ${r}%, ${mu(e.a)})`:`hsl(${n}, ${a}%, ${r}%)`}const hT={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},fT={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function lye(){const e={},t=Object.keys(fT),n=Object.keys(hT);let a,r,i,o,c;for(a=0;a<t.length;a++){for(o=c=t[a],r=0;r<n.length;r++)i=n[r],c=c.replace(i,hT[i]);i=parseInt(fT[o],16),e[c]=[i>>16&255,i>>8&255,i&255]}return e}let Z_;function uye(e){Z_||(Z_=lye(),Z_.transparent=[0,0,0,0]);const t=Z_[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const dye=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function hye(e){const t=dye.exec(e);let n=255,a,r,i;if(t){if(t[7]!==a){const o=+t[7];n=t[8]?W1(o):xd(o*255,0,255)}return a=+t[1],r=+t[3],i=+t[5],a=255&(t[2]?W1(a):xd(a,0,255)),r=255&(t[4]?W1(r):xd(r,0,255)),i=255&(t[6]?W1(i):xd(i,0,255)),{r:a,g:r,b:i,a:n}}}function fye(e){return e&&(e.a<255?`rgba(${e.r}, ${e.g}, ${e.b}, ${mu(e.a)})`:`rgb(${e.r}, ${e.g}, ${e.b})`)}const Tj=e=>e<=.0031308?e*12.92:Math.pow(e,1/2.4)*1.055-.055,Uf=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function mye(e,t,n){const a=Uf(mu(e.r)),r=Uf(mu(e.g)),i=Uf(mu(e.b));return{r:kd(Tj(a+n*(Uf(mu(t.r))-a))),g:kd(Tj(r+n*(Uf(mu(t.g))-r))),b:kd(Tj(i+n*(Uf(mu(t.b))-i))),a:e.a+n*(t.a-e.a)}}function J_(e,t,n){if(e){let a=n4(e);a[t]=Math.max(0,Math.min(a[t]+a[t]*n,t===0?360:1)),a=a4(a),e.r=a[0],e.g=a[1],e.b=a[2]}}function kO(e,t){return e&&Object.assign(t||{},e)}function mT(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=kd(e[3]))):(t=kO(e,{r:0,g:0,b:0,a:1}),t.a=kd(t.a)),t}function pye(e){return e.charAt(0)==="r"?hye(e):iye(e)}let IO=class DS{constructor(t){if(t instanceof DS)return t;const n=typeof t;let a;n==="object"?a=mT(t):n==="string"&&(a=Kbe(t)||uye(t)||pye(t)),this._rgb=a,this._valid=!!a}get valid(){return this._valid}get rgb(){var t=kO(this._rgb);return t&&(t.a=mu(t.a)),t}set rgb(t){this._rgb=mT(t)}rgbString(){return this._valid?fye(this._rgb):void 0}hexString(){return this._valid?Jbe(this._rgb):void 0}hslString(){return this._valid?cye(this._rgb):void 0}mix(t,n){if(t){const a=this.rgb,r=t.rgb;let i;const o=n===i?.5:n,c=2*o-1,l=a.a-r.a,d=((c*l===-1?c:(c+l)/(1+c*l))+1)/2;i=1-d,a.r=255&d*a.r+i*r.r+.5,a.g=255&d*a.g+i*r.g+.5,a.b=255&d*a.b+i*r.b+.5,a.a=o*a.a+(1-o)*r.a,this.rgb=a}return this}interpolate(t,n){return t&&(this._rgb=mye(this._rgb,t._rgb,n)),this}clone(){return new DS(this.rgb)}alpha(t){return this._rgb.a=kd(t),this}clearer(t){const n=this._rgb;return n.a*=1-t,this}greyscale(){const t=this._rgb,n=w0(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=n,this}opaquer(t){const n=this._rgb;return n.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return J_(this._rgb,2,t),this}darken(t){return J_(this._rgb,2,-t),this}saturate(t){return J_(this._rgb,1,t),this}desaturate(t){return J_(this._rgb,1,-t),this}rotate(t){return oye(this._rgb,t),this}};/*!
 * Chart.js v4.4.9
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function lu(){}const gye=(()=>{let e=0;return()=>e++})();function Aa(e){return e==null}function Wr(e){if(Array.isArray&&Array.isArray(e))return!0;const t=Object.prototype.toString.call(e);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function Fa(e){return e!==null&&Object.prototype.toString.call(e)==="[object Object]"}function ui(e){return(typeof e=="number"||e instanceof Number)&&isFinite(+e)}function nc(e,t){return ui(e)?e:t}function ua(e,t){return typeof e>"u"?t:e}const _ye=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100:+e/t,EO=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100*t:+e;function Mr(e,t,n){if(e&&typeof e.call=="function")return e.apply(n,t)}function gr(e,t,n,a){let r,i,o;if(Wr(e))for(i=e.length,r=0;r<i;r++)t.call(n,e[r],r);else if(Fa(e))for(o=Object.keys(e),i=o.length,r=0;r<i;r++)t.call(n,e[o[r]],o[r])}function Gx(e,t){let n,a,r,i;if(!e||!t||e.length!==t.length)return!1;for(n=0,a=e.length;n<a;++n)if(r=e[n],i=t[n],r.datasetIndex!==i.datasetIndex||r.index!==i.index)return!1;return!0}function Qx(e){if(Wr(e))return e.map(Qx);if(Fa(e)){const t=Object.create(null),n=Object.keys(e),a=n.length;let r=0;for(;r<a;++r)t[n[r]]=Qx(e[n[r]]);return t}return e}function TO(e){return["__proto__","prototype","constructor"].indexOf(e)===-1}function vye(e,t,n,a){if(!TO(e))return;const r=t[e],i=n[e];Fa(r)&&Fa(i)?Fg(r,i,a):t[e]=Qx(i)}function Fg(e,t,n){const a=Wr(t)?t:[t],r=a.length;if(!Fa(e))return e;n=n||{};const i=n.merger||vye;let o;for(let c=0;c<r;++c){if(o=a[c],!Fa(o))continue;const l=Object.keys(o);for(let d=0,f=l.length;d<f;++d)i(l[d],e,o,n)}return e}function gg(e,t){return Fg(e,t,{merger:xye})}function xye(e,t,n){if(!TO(e))return;const a=t[e],r=n[e];Fa(a)&&Fa(r)?gg(a,r):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=Qx(r))}const pT={"":e=>e,x:e=>e.x,y:e=>e.y};function bye(e){const t=e.split("."),n=[];let a="";for(const r of t)a+=r,a.endsWith("\\")?a=a.slice(0,-1)+".":(n.push(a),a="");return n}function yye(e){const t=bye(e);return n=>{for(const a of t){if(a==="")break;n=n&&n[a]}return n}}function Md(e,t){return(pT[t]||(pT[t]=yye(t)))(e)}function r4(e){return e.charAt(0).toUpperCase()+e.slice(1)}const Hg=e=>typeof e<"u",Rd=e=>typeof e=="function",gT=(e,t)=>{if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0};function wye(e){return e.type==="mouseup"||e.type==="click"||e.type==="contextmenu"}const $r=Math.PI,Or=2*$r,jye=Or+$r,Xx=Number.POSITIVE_INFINITY,Cye=$r/180,xi=$r/2,ch=$r/4,_T=$r*2/3,bd=Math.log10,Ll=Math.sign;function _g(e,t,n){return Math.abs(e-t)<n}function vT(e){const t=Math.round(e);e=_g(e,t,e/1e3)?t:e;const n=Math.pow(10,Math.floor(bd(e))),a=e/n;return(a<=1?1:a<=2?2:a<=5?5:10)*n}function Sye(e){const t=[],n=Math.sqrt(e);let a;for(a=1;a<n;a++)e%a===0&&(t.push(a),t.push(e/a));return n===(n|0)&&t.push(n),t.sort((r,i)=>r-i).pop(),t}function Nye(e){return typeof e=="symbol"||typeof e=="object"&&e!==null&&!(Symbol.toPrimitive in e||"toString"in e||"valueOf"in e)}function Am(e){return!Nye(e)&&!isNaN(parseFloat(e))&&isFinite(e)}function kye(e,t){const n=Math.round(e);return n-t<=e&&n+t>=e}function DO(e,t,n){let a,r,i;for(a=0,r=e.length;a<r;a++)i=e[a][n],isNaN(i)||(t.min=Math.min(t.min,i),t.max=Math.max(t.max,i))}function Qc(e){return e*($r/180)}function i4(e){return e*(180/$r)}function xT(e){if(!ui(e))return;let t=1,n=0;for(;Math.round(e*t)/t!==e;)t*=10,n++;return n}function AO(e,t){const n=t.x-e.x,a=t.y-e.y,r=Math.sqrt(n*n+a*a);let i=Math.atan2(a,n);return i<-.5*$r&&(i+=Or),{angle:i,distance:r}}function AS(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function Iye(e,t){return(e-t+jye)%Or-$r}function sc(e){return(e%Or+Or)%Or}function qg(e,t,n,a){const r=sc(e),i=sc(t),o=sc(n),c=sc(i-r),l=sc(o-r),d=sc(r-i),f=sc(r-o);return r===i||r===o||a&&i===o||c>l&&d<f}function Wi(e,t,n){return Math.max(t,Math.min(n,e))}function Eye(e){return Wi(e,-32768,32767)}function pu(e,t,n,a=1e-6){return e>=Math.min(t,n)-a&&e<=Math.max(t,n)+a}function o4(e,t,n){n=n||(o=>e[o]<t);let a=e.length-1,r=0,i;for(;a-r>1;)i=r+a>>1,n(i)?r=i:a=i;return{lo:r,hi:a}}const gu=(e,t,n,a)=>o4(e,n,a?r=>{const i=e[r][t];return i<n||i===n&&e[r+1][t]===n}:r=>e[r][t]<n),Tye=(e,t,n)=>o4(e,n,a=>e[a][t]>=n);function Dye(e,t,n){let a=0,r=e.length;for(;a<r&&e[a]<t;)a++;for(;r>a&&e[r-1]>n;)r--;return a>0||r<e.length?e.slice(a,r):e}const MO=["push","pop","shift","splice","unshift"];function Aye(e,t){if(e._chartjs){e._chartjs.listeners.push(t);return}Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),MO.forEach(n=>{const a="_onData"+r4(n),r=e[n];Object.defineProperty(e,n,{configurable:!0,enumerable:!1,value(...i){const o=r.apply(this,i);return e._chartjs.listeners.forEach(c=>{typeof c[a]=="function"&&c[a](...i)}),o}})})}function bT(e,t){const n=e._chartjs;if(!n)return;const a=n.listeners,r=a.indexOf(t);r!==-1&&a.splice(r,1),!(a.length>0)&&(MO.forEach(i=>{delete e[i]}),delete e._chartjs)}function RO(e){const t=new Set(e);return t.size===e.length?e:Array.from(t)}const BO=function(){return typeof window>"u"?function(e){return e()}:window.requestAnimationFrame}();function OO(e,t){let n=[],a=!1;return function(...r){n=r,a||(a=!0,BO.call(window,()=>{a=!1,e.apply(t,n)}))}}function Mye(e,t){let n;return function(...a){return t?(clearTimeout(n),n=setTimeout(e,t,a)):e.apply(this,a),t}}const c4=e=>e==="start"?"left":e==="end"?"right":"center",uo=(e,t,n)=>e==="start"?t:e==="end"?n:(t+n)/2,Rye=(e,t,n,a)=>e===(a?"left":"right")?n:e==="center"?(t+n)/2:t;function LO(e,t,n){const a=t.length;let r=0,i=a;if(e._sorted){const{iScale:o,vScale:c,_parsed:l}=e,d=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null,f=o.axis,{min:g,max:b,minDefined:w,maxDefined:C}=o.getUserBounds();if(w){if(r=Math.min(gu(l,f,g).lo,n?a:gu(t,f,o.getPixelForValue(g)).lo),d){const S=l.slice(0,r+1).reverse().findIndex(k=>!Aa(k[c.axis]));r-=Math.max(0,S)}r=Wi(r,0,a-1)}if(C){let S=Math.max(gu(l,o.axis,b,!0).hi+1,n?0:gu(t,f,o.getPixelForValue(b),!0).hi+1);if(d){const k=l.slice(S-1).findIndex(E=>!Aa(E[c.axis]));S+=Math.max(0,k)}i=Wi(S,r,a)-r}else i=a-r}return{start:r,count:i}}function $O(e){const{xScale:t,yScale:n,_scaleRanges:a}=e,r={xmin:t.min,xmax:t.max,ymin:n.min,ymax:n.max};if(!a)return e._scaleRanges=r,!0;const i=a.xmin!==t.min||a.xmax!==t.max||a.ymin!==n.min||a.ymax!==n.max;return Object.assign(a,r),i}const ev=e=>e===0||e===1,yT=(e,t,n)=>-(Math.pow(2,10*(e-=1))*Math.sin((e-t)*Or/n)),wT=(e,t,n)=>Math.pow(2,-10*e)*Math.sin((e-t)*Or/n)+1,vg={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>-Math.cos(e*xi)+1,easeOutSine:e=>Math.sin(e*xi),easeInOutSine:e=>-.5*(Math.cos($r*e)-1),easeInExpo:e=>e===0?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>e===1?1:-Math.pow(2,-10*e)+1,easeInOutExpo:e=>ev(e)?e:e<.5?.5*Math.pow(2,10*(e*2-1)):.5*(-Math.pow(2,-10*(e*2-1))+2),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>ev(e)?e:yT(e,.075,.3),easeOutElastic:e=>ev(e)?e:wT(e,.075,.3),easeInOutElastic(e){return ev(e)?e:e<.5?.5*yT(e*2,.1125,.45):.5+.5*wT(e*2-1,.1125,.45)},easeInBack(e){return e*e*((1.70158+1)*e-1.70158)},easeOutBack(e){return(e-=1)*e*((1.70158+1)*e+1.70158)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?.5*(e*e*(((t*=1.525)+1)*e-t)):.5*((e-=2)*e*(((t*=1.525)+1)*e+t)+2)},easeInBounce:e=>1-vg.easeOutBounce(1-e),easeOutBounce(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},easeInOutBounce:e=>e<.5?vg.easeInBounce(e*2)*.5:vg.easeOutBounce(e*2-1)*.5+.5};function l4(e){if(e&&typeof e=="object"){const t=e.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function jT(e){return l4(e)?e:new IO(e)}function Dj(e){return l4(e)?e:new IO(e).saturate(.5).darken(.1).hexString()}const Bye=["x","y","borderWidth","radius","tension"],Oye=["color","borderColor","backgroundColor"];function Lye(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),e.set("animations",{colors:{type:"color",properties:Oye},numbers:{type:"number",properties:Bye}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function $ye(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const CT=new Map;function Pye(e,t){t=t||{};const n=e+JSON.stringify(t);let a=CT.get(n);return a||(a=new Intl.NumberFormat(e,t),CT.set(n,a)),a}function j0(e,t,n){return Pye(t,n).format(e)}const PO={values(e){return Wr(e)?e:""+e},numeric(e,t,n){if(e===0)return"0";const a=this.chart.options.locale;let r,i=e;if(n.length>1){const d=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(d<1e-4||d>1e15)&&(r="scientific"),i=Fye(e,n)}const o=bd(Math.abs(i)),c=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),l={notation:r,minimumFractionDigits:c,maximumFractionDigits:c};return Object.assign(l,this.options.ticks.format),j0(e,a,l)},logarithmic(e,t,n){if(e===0)return"0";const a=n[t].significand||e/Math.pow(10,Math.floor(bd(e)));return[1,2,3,5,10,15].includes(a)||t>.8*n.length?PO.numeric.call(this,e,t,n):""}};function Fye(e,t){let n=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(n)>=1&&e!==Math.floor(e)&&(n=e-Math.floor(e)),n}var cy={formatters:PO};function Hye(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,n)=>n.lineWidth,tickColor:(t,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:cy.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const Gh=Object.create(null),MS=Object.create(null);function xg(e,t){if(!t)return e;const n=t.split(".");for(let a=0,r=n.length;a<r;++a){const i=n[a];e=e[i]||(e[i]=Object.create(null))}return e}function Aj(e,t,n){return typeof t=="string"?Fg(xg(e,t),n):Fg(xg(e,""),t)}class qye{constructor(t,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=a=>a.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(a,r)=>Dj(r.backgroundColor),this.hoverBorderColor=(a,r)=>Dj(r.borderColor),this.hoverColor=(a,r)=>Dj(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(n)}set(t,n){return Aj(this,t,n)}get(t){return xg(this,t)}describe(t,n){return Aj(MS,t,n)}override(t,n){return Aj(Gh,t,n)}route(t,n,a,r){const i=xg(this,t),o=xg(this,a),c="_"+n;Object.defineProperties(i,{[c]:{value:i[n],writable:!0},[n]:{enumerable:!0,get(){const l=this[c],d=o[r];return Fa(l)?Object.assign({},d,l):ua(l,d)},set(l){this[c]=l}}})}apply(t){t.forEach(n=>n(this))}}var Yr=new qye({_scriptable:e=>!e.startsWith("on"),_indexable:e=>e!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[Lye,$ye,Hye]);function Vye(e){return!e||Aa(e.size)||Aa(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}function Kx(e,t,n,a,r){let i=t[r];return i||(i=t[r]=e.measureText(r).width,n.push(r)),i>a&&(a=i),a}function zye(e,t,n,a){a=a||{};let r=a.data=a.data||{},i=a.garbageCollect=a.garbageCollect||[];a.font!==t&&(r=a.data={},i=a.garbageCollect=[],a.font=t),e.save(),e.font=t;let o=0;const c=n.length;let l,d,f,g,b;for(l=0;l<c;l++)if(g=n[l],g!=null&&!Wr(g))o=Kx(e,r,i,o,g);else if(Wr(g))for(d=0,f=g.length;d<f;d++)b=g[d],b!=null&&!Wr(b)&&(o=Kx(e,r,i,o,b));e.restore();const w=i.length/2;if(w>n.length){for(l=0;l<w;l++)delete r[i[l]];i.splice(0,w)}return o}function lh(e,t,n){const a=e.currentDevicePixelRatio,r=n!==0?Math.max(n/2,.5):0;return Math.round((t-r)*a)/a+r}function ST(e,t){!t&&!e||(t=t||e.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore())}function RS(e,t,n,a){FO(e,t,n,a,null)}function FO(e,t,n,a,r){let i,o,c,l,d,f,g,b;const w=t.pointStyle,C=t.rotation,S=t.radius;let k=(C||0)*Cye;if(w&&typeof w=="object"&&(i=w.toString(),i==="[object HTMLImageElement]"||i==="[object HTMLCanvasElement]")){e.save(),e.translate(n,a),e.rotate(k),e.drawImage(w,-w.width/2,-w.height/2,w.width,w.height),e.restore();return}if(!(isNaN(S)||S<=0)){switch(e.beginPath(),w){default:r?e.ellipse(n,a,r/2,S,0,0,Or):e.arc(n,a,S,0,Or),e.closePath();break;case"triangle":f=r?r/2:S,e.moveTo(n+Math.sin(k)*f,a-Math.cos(k)*S),k+=_T,e.lineTo(n+Math.sin(k)*f,a-Math.cos(k)*S),k+=_T,e.lineTo(n+Math.sin(k)*f,a-Math.cos(k)*S),e.closePath();break;case"rectRounded":d=S*.516,l=S-d,o=Math.cos(k+ch)*l,g=Math.cos(k+ch)*(r?r/2-d:l),c=Math.sin(k+ch)*l,b=Math.sin(k+ch)*(r?r/2-d:l),e.arc(n-g,a-c,d,k-$r,k-xi),e.arc(n+b,a-o,d,k-xi,k),e.arc(n+g,a+c,d,k,k+xi),e.arc(n-b,a+o,d,k+xi,k+$r),e.closePath();break;case"rect":if(!C){l=Math.SQRT1_2*S,f=r?r/2:l,e.rect(n-f,a-l,2*f,2*l);break}k+=ch;case"rectRot":g=Math.cos(k)*(r?r/2:S),o=Math.cos(k)*S,c=Math.sin(k)*S,b=Math.sin(k)*(r?r/2:S),e.moveTo(n-g,a-c),e.lineTo(n+b,a-o),e.lineTo(n+g,a+c),e.lineTo(n-b,a+o),e.closePath();break;case"crossRot":k+=ch;case"cross":g=Math.cos(k)*(r?r/2:S),o=Math.cos(k)*S,c=Math.sin(k)*S,b=Math.sin(k)*(r?r/2:S),e.moveTo(n-g,a-c),e.lineTo(n+g,a+c),e.moveTo(n+b,a-o),e.lineTo(n-b,a+o);break;case"star":g=Math.cos(k)*(r?r/2:S),o=Math.cos(k)*S,c=Math.sin(k)*S,b=Math.sin(k)*(r?r/2:S),e.moveTo(n-g,a-c),e.lineTo(n+g,a+c),e.moveTo(n+b,a-o),e.lineTo(n-b,a+o),k+=ch,g=Math.cos(k)*(r?r/2:S),o=Math.cos(k)*S,c=Math.sin(k)*S,b=Math.sin(k)*(r?r/2:S),e.moveTo(n-g,a-c),e.lineTo(n+g,a+c),e.moveTo(n+b,a-o),e.lineTo(n-b,a+o);break;case"line":o=r?r/2:Math.cos(k)*S,c=Math.sin(k)*S,e.moveTo(n-o,a-c),e.lineTo(n+o,a+c);break;case"dash":e.moveTo(n,a),e.lineTo(n+Math.cos(k)*(r?r/2:S),a+Math.sin(k)*S);break;case!1:e.closePath();break}e.fill(),t.borderWidth>0&&e.stroke()}}function _u(e,t,n){return n=n||.5,!t||e&&e.x>t.left-n&&e.x<t.right+n&&e.y>t.top-n&&e.y<t.bottom+n}function ly(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function uy(e){e.restore()}function Uye(e,t,n,a,r){if(!t)return e.lineTo(n.x,n.y);if(r==="middle"){const i=(t.x+n.x)/2;e.lineTo(i,t.y),e.lineTo(i,n.y)}else r==="after"!=!!a?e.lineTo(t.x,n.y):e.lineTo(n.x,t.y);e.lineTo(n.x,n.y)}function Wye(e,t,n,a){if(!t)return e.lineTo(n.x,n.y);e.bezierCurveTo(a?t.cp1x:t.cp2x,a?t.cp1y:t.cp2y,a?n.cp2x:n.cp1x,a?n.cp2y:n.cp1y,n.x,n.y)}function Yye(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),Aa(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}function Gye(e,t,n,a,r){if(r.strikethrough||r.underline){const i=e.measureText(a),o=t-i.actualBoundingBoxLeft,c=t+i.actualBoundingBoxRight,l=n-i.actualBoundingBoxAscent,d=n+i.actualBoundingBoxDescent,f=r.strikethrough?(l+d)/2:d;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=r.decorationWidth||2,e.moveTo(o,f),e.lineTo(c,f),e.stroke()}}function Qye(e,t){const n=e.fillStyle;e.fillStyle=t.color,e.fillRect(t.left,t.top,t.width,t.height),e.fillStyle=n}function Qh(e,t,n,a,r,i={}){const o=Wr(t)?t:[t],c=i.strokeWidth>0&&i.strokeColor!=="";let l,d;for(e.save(),e.font=r.string,Yye(e,i),l=0;l<o.length;++l)d=o[l],i.backdrop&&Qye(e,i.backdrop),c&&(i.strokeColor&&(e.strokeStyle=i.strokeColor),Aa(i.strokeWidth)||(e.lineWidth=i.strokeWidth),e.strokeText(d,n,a,i.maxWidth)),e.fillText(d,n,a,i.maxWidth),Gye(e,n,a,d,i),a+=Number(r.lineHeight);e.restore()}function Vg(e,t){const{x:n,y:a,w:r,h:i,radius:o}=t;e.arc(n+o.topLeft,a+o.topLeft,o.topLeft,1.5*$r,$r,!0),e.lineTo(n,a+i-o.bottomLeft),e.arc(n+o.bottomLeft,a+i-o.bottomLeft,o.bottomLeft,$r,xi,!0),e.lineTo(n+r-o.bottomRight,a+i),e.arc(n+r-o.bottomRight,a+i-o.bottomRight,o.bottomRight,xi,0,!0),e.lineTo(n+r,a+o.topRight),e.arc(n+r-o.topRight,a+o.topRight,o.topRight,0,-xi,!0),e.lineTo(n+o.topLeft,a)}const Xye=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,Kye=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function Zye(e,t){const n=(""+e).match(Xye);if(!n||n[1]==="normal")return t*1.2;switch(e=+n[2],n[3]){case"px":return e;case"%":e/=100;break}return t*e}const Jye=e=>+e||0;function u4(e,t){const n={},a=Fa(t),r=a?Object.keys(t):t,i=Fa(e)?a?o=>ua(e[o],e[t[o]]):o=>e[o]:()=>e;for(const o of r)n[o]=Jye(i(o));return n}function HO(e){return u4(e,{top:"y",right:"x",bottom:"y",left:"x"})}function Oh(e){return u4(e,["topLeft","topRight","bottomLeft","bottomRight"])}function vo(e){const t=HO(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function Bi(e,t){e=e||{},t=t||Yr.font;let n=ua(e.size,t.size);typeof n=="string"&&(n=parseInt(n,10));let a=ua(e.style,t.style);a&&!(""+a).match(Kye)&&(console.warn('Invalid font style specified: "'+a+'"'),a=void 0);const r={family:ua(e.family,t.family),lineHeight:Zye(ua(e.lineHeight,t.lineHeight),n),size:n,style:a,weight:ua(e.weight,t.weight),string:""};return r.string=Vye(r),r}function Y1(e,t,n,a){let r,i,o;for(r=0,i=e.length;r<i;++r)if(o=e[r],o!==void 0&&o!==void 0)return o}function e2e(e,t,n){const{min:a,max:r}=e,i=EO(t,(r-a)/2),o=(c,l)=>n&&c===0?0:c+l;return{min:o(a,-Math.abs(i)),max:o(r,i)}}function $d(e,t){return Object.assign(Object.create(e),t)}function d4(e,t=[""],n,a,r=()=>e[0]){const i=n||e;typeof a>"u"&&(a=UO("_fallback",e));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:i,_fallback:a,_getTarget:r,override:c=>d4([c,...e],t,i,a)};return new Proxy(o,{deleteProperty(c,l){return delete c[l],delete c._keys,delete e[0][l],!0},get(c,l){return VO(c,l,()=>c2e(l,t,e,c))},getOwnPropertyDescriptor(c,l){return Reflect.getOwnPropertyDescriptor(c._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(e[0])},has(c,l){return kT(c).includes(l)},ownKeys(c){return kT(c)},set(c,l,d){const f=c._storage||(c._storage=r());return c[l]=f[l]=d,delete c._keys,!0}})}function Mm(e,t,n,a){const r={_cacheable:!1,_proxy:e,_context:t,_subProxy:n,_stack:new Set,_descriptors:qO(e,a),setContext:i=>Mm(e,i,n,a),override:i=>Mm(e.override(i),t,n,a)};return new Proxy(r,{deleteProperty(i,o){return delete i[o],delete e[o],!0},get(i,o,c){return VO(i,o,()=>n2e(i,o,c))},getOwnPropertyDescriptor(i,o){return i._descriptors.allKeys?Reflect.has(e,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,o)},getPrototypeOf(){return Reflect.getPrototypeOf(e)},has(i,o){return Reflect.has(e,o)},ownKeys(){return Reflect.ownKeys(e)},set(i,o,c){return e[o]=c,delete i[o],!0}})}function qO(e,t={scriptable:!0,indexable:!0}){const{_scriptable:n=t.scriptable,_indexable:a=t.indexable,_allKeys:r=t.allKeys}=e;return{allKeys:r,scriptable:n,indexable:a,isScriptable:Rd(n)?n:()=>n,isIndexable:Rd(a)?a:()=>a}}const t2e=(e,t)=>e?e+r4(t):t,h4=(e,t)=>Fa(t)&&e!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function VO(e,t,n){if(Object.prototype.hasOwnProperty.call(e,t)||t==="constructor")return e[t];const a=n();return e[t]=a,a}function n2e(e,t,n){const{_proxy:a,_context:r,_subProxy:i,_descriptors:o}=e;let c=a[t];return Rd(c)&&o.isScriptable(t)&&(c=s2e(t,c,e,n)),Wr(c)&&c.length&&(c=a2e(t,c,e,o.isIndexable)),h4(t,c)&&(c=Mm(c,r,i&&i[t],o)),c}function s2e(e,t,n,a){const{_proxy:r,_context:i,_subProxy:o,_stack:c}=n;if(c.has(e))throw new Error("Recursion detected: "+Array.from(c).join("->")+"->"+e);c.add(e);let l=t(i,o||a);return c.delete(e),h4(e,l)&&(l=f4(r._scopes,r,e,l)),l}function a2e(e,t,n,a){const{_proxy:r,_context:i,_subProxy:o,_descriptors:c}=n;if(typeof i.index<"u"&&a(e))return t[i.index%t.length];if(Fa(t[0])){const l=t,d=r._scopes.filter(f=>f!==l);t=[];for(const f of l){const g=f4(d,r,e,f);t.push(Mm(g,i,o&&o[e],c))}}return t}function zO(e,t,n){return Rd(e)?e(t,n):e}const r2e=(e,t)=>e===!0?t:typeof e=="string"?Md(t,e):void 0;function i2e(e,t,n,a,r){for(const i of t){const o=r2e(n,i);if(o){e.add(o);const c=zO(o._fallback,n,r);if(typeof c<"u"&&c!==n&&c!==a)return c}else if(o===!1&&typeof a<"u"&&n!==a)return null}return!1}function f4(e,t,n,a){const r=t._rootScopes,i=zO(t._fallback,n,a),o=[...e,...r],c=new Set;c.add(a);let l=NT(c,o,n,i||n,a);return l===null||typeof i<"u"&&i!==n&&(l=NT(c,o,i,l,a),l===null)?!1:d4(Array.from(c),[""],r,i,()=>o2e(t,n,a))}function NT(e,t,n,a,r){for(;n;)n=i2e(e,t,n,a,r);return n}function o2e(e,t,n){const a=e._getTarget();t in a||(a[t]={});const r=a[t];return Wr(r)&&Fa(n)?n:r||{}}function c2e(e,t,n,a){let r;for(const i of t)if(r=UO(t2e(i,e),n),typeof r<"u")return h4(e,r)?f4(n,a,e,r):r}function UO(e,t){for(const n of t){if(!n)continue;const a=n[e];if(typeof a<"u")return a}}function kT(e){let t=e._keys;return t||(t=e._keys=l2e(e._scopes)),t}function l2e(e){const t=new Set;for(const n of e)for(const a of Object.keys(n).filter(r=>!r.startsWith("_")))t.add(a);return Array.from(t)}function WO(e,t,n,a){const{iScale:r}=e,{key:i="r"}=this._parsing,o=new Array(a);let c,l,d,f;for(c=0,l=a;c<l;++c)d=c+n,f=t[d],o[c]={r:r.parse(Md(f,i),d)};return o}const u2e=Number.EPSILON||1e-14,Rm=(e,t)=>t<e.length&&!e[t].skip&&e[t],YO=e=>e==="x"?"y":"x";function d2e(e,t,n,a){const r=e.skip?t:e,i=t,o=n.skip?t:n,c=AS(i,r),l=AS(o,i);let d=c/(c+l),f=l/(c+l);d=isNaN(d)?0:d,f=isNaN(f)?0:f;const g=a*d,b=a*f;return{previous:{x:i.x-g*(o.x-r.x),y:i.y-g*(o.y-r.y)},next:{x:i.x+b*(o.x-r.x),y:i.y+b*(o.y-r.y)}}}function h2e(e,t,n){const a=e.length;let r,i,o,c,l,d=Rm(e,0);for(let f=0;f<a-1;++f)if(l=d,d=Rm(e,f+1),!(!l||!d)){if(_g(t[f],0,u2e)){n[f]=n[f+1]=0;continue}r=n[f]/t[f],i=n[f+1]/t[f],c=Math.pow(r,2)+Math.pow(i,2),!(c<=9)&&(o=3/Math.sqrt(c),n[f]=r*o*t[f],n[f+1]=i*o*t[f])}}function f2e(e,t,n="x"){const a=YO(n),r=e.length;let i,o,c,l=Rm(e,0);for(let d=0;d<r;++d){if(o=c,c=l,l=Rm(e,d+1),!c)continue;const f=c[n],g=c[a];o&&(i=(f-o[n])/3,c[`cp1${n}`]=f-i,c[`cp1${a}`]=g-i*t[d]),l&&(i=(l[n]-f)/3,c[`cp2${n}`]=f+i,c[`cp2${a}`]=g+i*t[d])}}function m2e(e,t="x"){const n=YO(t),a=e.length,r=Array(a).fill(0),i=Array(a);let o,c,l,d=Rm(e,0);for(o=0;o<a;++o)if(c=l,l=d,d=Rm(e,o+1),!!l){if(d){const f=d[t]-l[t];r[o]=f!==0?(d[n]-l[n])/f:0}i[o]=c?d?Ll(r[o-1])!==Ll(r[o])?0:(r[o-1]+r[o])/2:r[o-1]:r[o]}h2e(e,r,i),f2e(e,i,t)}function tv(e,t,n){return Math.max(Math.min(e,n),t)}function p2e(e,t){let n,a,r,i,o,c=_u(e[0],t);for(n=0,a=e.length;n<a;++n)o=i,i=c,c=n<a-1&&_u(e[n+1],t),i&&(r=e[n],o&&(r.cp1x=tv(r.cp1x,t.left,t.right),r.cp1y=tv(r.cp1y,t.top,t.bottom)),c&&(r.cp2x=tv(r.cp2x,t.left,t.right),r.cp2y=tv(r.cp2y,t.top,t.bottom)))}function g2e(e,t,n,a,r){let i,o,c,l;if(t.spanGaps&&(e=e.filter(d=>!d.skip)),t.cubicInterpolationMode==="monotone")m2e(e,r);else{let d=a?e[e.length-1]:e[0];for(i=0,o=e.length;i<o;++i)c=e[i],l=d2e(d,c,e[Math.min(i+1,o-(a?0:1))%o],t.tension),c.cp1x=l.previous.x,c.cp1y=l.previous.y,c.cp2x=l.next.x,c.cp2y=l.next.y,d=c}t.capBezierPoints&&p2e(e,n)}function m4(){return typeof window<"u"&&typeof document<"u"}function p4(e){let t=e.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function Zx(e,t,n){let a;return typeof e=="string"?(a=parseInt(e,10),e.indexOf("%")!==-1&&(a=a/100*t.parentNode[n])):a=e,a}const dy=e=>e.ownerDocument.defaultView.getComputedStyle(e,null);function _2e(e,t){return dy(e).getPropertyValue(t)}const v2e=["top","right","bottom","left"];function Lh(e,t,n){const a={};n=n?"-"+n:"";for(let r=0;r<4;r++){const i=v2e[r];a[i]=parseFloat(e[t+"-"+i+n])||0}return a.width=a.left+a.right,a.height=a.top+a.bottom,a}const x2e=(e,t,n)=>(e>0||t>0)&&(!n||!n.shadowRoot);function b2e(e,t){const n=e.touches,a=n&&n.length?n[0]:e,{offsetX:r,offsetY:i}=a;let o=!1,c,l;if(x2e(r,i,e.target))c=r,l=i;else{const d=t.getBoundingClientRect();c=a.clientX-d.left,l=a.clientY-d.top,o=!0}return{x:c,y:l,box:o}}function gh(e,t){if("native"in e)return e;const{canvas:n,currentDevicePixelRatio:a}=t,r=dy(n),i=r.boxSizing==="border-box",o=Lh(r,"padding"),c=Lh(r,"border","width"),{x:l,y:d,box:f}=b2e(e,n),g=o.left+(f&&c.left),b=o.top+(f&&c.top);let{width:w,height:C}=t;return i&&(w-=o.width+c.width,C-=o.height+c.height),{x:Math.round((l-g)/w*n.width/a),y:Math.round((d-b)/C*n.height/a)}}function y2e(e,t,n){let a,r;if(t===void 0||n===void 0){const i=e&&p4(e);if(!i)t=e.clientWidth,n=e.clientHeight;else{const o=i.getBoundingClientRect(),c=dy(i),l=Lh(c,"border","width"),d=Lh(c,"padding");t=o.width-d.width-l.width,n=o.height-d.height-l.height,a=Zx(c.maxWidth,i,"clientWidth"),r=Zx(c.maxHeight,i,"clientHeight")}}return{width:t,height:n,maxWidth:a||Xx,maxHeight:r||Xx}}const nv=e=>Math.round(e*10)/10;function w2e(e,t,n,a){const r=dy(e),i=Lh(r,"margin"),o=Zx(r.maxWidth,e,"clientWidth")||Xx,c=Zx(r.maxHeight,e,"clientHeight")||Xx,l=y2e(e,t,n);let{width:d,height:f}=l;if(r.boxSizing==="content-box"){const b=Lh(r,"border","width"),w=Lh(r,"padding");d-=w.width+b.width,f-=w.height+b.height}return d=Math.max(0,d-i.width),f=Math.max(0,a?d/a:f-i.height),d=nv(Math.min(d,o,l.maxWidth)),f=nv(Math.min(f,c,l.maxHeight)),d&&!f&&(f=nv(d/2)),(t!==void 0||n!==void 0)&&a&&l.height&&f>l.height&&(f=l.height,d=nv(Math.floor(f*a))),{width:d,height:f}}function IT(e,t,n){const a=t||1,r=Math.floor(e.height*a),i=Math.floor(e.width*a);e.height=Math.floor(e.height),e.width=Math.floor(e.width);const o=e.canvas;return o.style&&(n||!o.style.height&&!o.style.width)&&(o.style.height=`${e.height}px`,o.style.width=`${e.width}px`),e.currentDevicePixelRatio!==a||o.height!==r||o.width!==i?(e.currentDevicePixelRatio=a,o.height=r,o.width=i,e.ctx.setTransform(a,0,0,a,0,0),!0):!1}const j2e=function(){let e=!1;try{const t={get passive(){return e=!0,!1}};m4()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return e}();function ET(e,t){const n=_2e(e,t),a=n&&n.match(/^(\d+)(\.\d+)?px$/);return a?+a[1]:void 0}function _h(e,t,n,a){return{x:e.x+n*(t.x-e.x),y:e.y+n*(t.y-e.y)}}function C2e(e,t,n,a){return{x:e.x+n*(t.x-e.x),y:a==="middle"?n<.5?e.y:t.y:a==="after"?n<1?e.y:t.y:n>0?t.y:e.y}}function S2e(e,t,n,a){const r={x:e.cp2x,y:e.cp2y},i={x:t.cp1x,y:t.cp1y},o=_h(e,r,n),c=_h(r,i,n),l=_h(i,t,n),d=_h(o,c,n),f=_h(c,l,n);return _h(d,f,n)}const N2e=function(e,t){return{x(n){return e+e+t-n},setWidth(n){t=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,a){return n-a},leftForLtr(n,a){return n-a}}},k2e=function(){return{x(e){return e},setWidth(e){},textAlign(e){return e},xPlus(e,t){return e+t},leftForLtr(e,t){return e}}};function vm(e,t,n){return e?N2e(t,n):k2e()}function GO(e,t){let n,a;(t==="ltr"||t==="rtl")&&(n=e.canvas.style,a=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",t,"important"),e.prevTextDirection=a)}function QO(e,t){t!==void 0&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function XO(e){return e==="angle"?{between:qg,compare:Iye,normalize:sc}:{between:pu,compare:(t,n)=>t-n,normalize:t=>t}}function TT({start:e,end:t,count:n,loop:a,style:r}){return{start:e%n,end:t%n,loop:a&&(t-e+1)%n===0,style:r}}function I2e(e,t,n){const{property:a,start:r,end:i}=n,{between:o,normalize:c}=XO(a),l=t.length;let{start:d,end:f,loop:g}=e,b,w;if(g){for(d+=l,f+=l,b=0,w=l;b<w&&o(c(t[d%l][a]),r,i);++b)d--,f--;d%=l,f%=l}return f<d&&(f+=l),{start:d,end:f,loop:g,style:e.style}}function KO(e,t,n){if(!n)return[e];const{property:a,start:r,end:i}=n,o=t.length,{compare:c,between:l,normalize:d}=XO(a),{start:f,end:g,loop:b,style:w}=I2e(e,t,n),C=[];let S=!1,k=null,E,D,R;const P=()=>l(r,R,E)&&c(r,R)!==0,B=()=>c(i,E)===0||l(i,R,E),O=()=>S||P(),$=()=>!S||B();for(let U=f,F=f;U<=g;++U)D=t[U%o],!D.skip&&(E=d(D[a]),E!==R&&(S=l(E,r,i),k===null&&O()&&(k=c(E,r)===0?U:F),k!==null&&$()&&(C.push(TT({start:k,end:U,loop:b,count:o,style:w})),k=null),F=U,R=E));return k!==null&&C.push(TT({start:k,end:g,loop:b,count:o,style:w})),C}function ZO(e,t){const n=[],a=e.segments;for(let r=0;r<a.length;r++){const i=KO(a[r],e.points,t);i.length&&n.push(...i)}return n}function E2e(e,t,n,a){let r=0,i=t-1;if(n&&!a)for(;r<t&&!e[r].skip;)r++;for(;r<t&&e[r].skip;)r++;for(r%=t,n&&(i+=r);i>r&&e[i%t].skip;)i--;return i%=t,{start:r,end:i}}function T2e(e,t,n,a){const r=e.length,i=[];let o=t,c=e[t],l;for(l=t+1;l<=n;++l){const d=e[l%r];d.skip||d.stop?c.skip||(a=!1,i.push({start:t%r,end:(l-1)%r,loop:a}),t=o=d.stop?l:null):(o=l,c.skip&&(t=l)),c=d}return o!==null&&i.push({start:t%r,end:o%r,loop:a}),i}function D2e(e,t){const n=e.points,a=e.options.spanGaps,r=n.length;if(!r)return[];const i=!!e._loop,{start:o,end:c}=E2e(n,r,i,a);if(a===!0)return DT(e,[{start:o,end:c,loop:i}],n,t);const l=c<o?c+r:c,d=!!e._fullLoop&&o===0&&c===r-1;return DT(e,T2e(n,o,l,d),n,t)}function DT(e,t,n,a){return!a||!a.setContext||!n?t:A2e(e,t,n,a)}function A2e(e,t,n,a){const r=e._chart.getContext(),i=AT(e.options),{_datasetIndex:o,options:{spanGaps:c}}=e,l=n.length,d=[];let f=i,g=t[0].start,b=g;function w(C,S,k,E){const D=c?-1:1;if(C!==S){for(C+=l;n[C%l].skip;)C-=D;for(;n[S%l].skip;)S+=D;C%l!==S%l&&(d.push({start:C%l,end:S%l,loop:k,style:E}),f=E,g=S%l)}}for(const C of t){g=c?g:C.start;let S=n[g%l],k;for(b=g+1;b<=C.end;b++){const E=n[b%l];k=AT(a.setContext($d(r,{type:"segment",p0:S,p1:E,p0DataIndex:(b-1)%l,p1DataIndex:b%l,datasetIndex:o}))),M2e(k,f)&&w(g,b-1,C.loop,f),S=E,f=k}g<b-1&&w(g,b-1,C.loop,f)}return d}function AT(e){return{backgroundColor:e.backgroundColor,borderCapStyle:e.borderCapStyle,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderJoinStyle:e.borderJoinStyle,borderWidth:e.borderWidth,borderColor:e.borderColor}}function M2e(e,t){if(!t)return!1;const n=[],a=function(r,i){return l4(i)?(n.includes(i)||n.push(i),n.indexOf(i)):i};return JSON.stringify(e,a)!==JSON.stringify(t,a)}function sv(e,t,n){return e.options.clip?e[n]:t[n]}function R2e(e,t){const{xScale:n,yScale:a}=e;return n&&a?{left:sv(n,t,"left"),right:sv(n,t,"right"),top:sv(a,t,"top"),bottom:sv(a,t,"bottom")}:t}function JO(e,t){const n=t._clip;if(n.disabled)return!1;const a=R2e(t,e.chartArea);return{left:n.left===!1?0:a.left-(n.left===!0?0:n.left),right:n.right===!1?e.width:a.right+(n.right===!0?0:n.right),top:n.top===!1?0:a.top-(n.top===!0?0:n.top),bottom:n.bottom===!1?e.height:a.bottom+(n.bottom===!0?0:n.bottom)}}/*!
 * Chart.js v4.4.9
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class B2e{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,n,a,r){const i=n.listeners[r],o=n.duration;i.forEach(c=>c({chart:t,initial:n.initial,numSteps:o,currentStep:Math.min(a-n.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=BO.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let n=0;this._charts.forEach((a,r)=>{if(!a.running||!a.items.length)return;const i=a.items;let o=i.length-1,c=!1,l;for(;o>=0;--o)l=i[o],l._active?(l._total>a.duration&&(a.duration=l._total),l.tick(t),c=!0):(i[o]=i[i.length-1],i.pop());c&&(r.draw(),this._notify(r,a,t,"progress")),i.length||(a.running=!1,this._notify(r,a,t,"complete"),a.initial=!1),n+=i.length}),this._lastDate=t,n===0&&(this._running=!1)}_getAnims(t){const n=this._charts;let a=n.get(t);return a||(a={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(t,a)),a}listen(t,n,a){this._getAnims(t).listeners[n].push(a)}add(t,n){!n||!n.length||this._getAnims(t).items.push(...n)}has(t){return this._getAnims(t).items.length>0}start(t){const n=this._charts.get(t);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((a,r)=>Math.max(a,r._duration),0),this._refresh())}running(t){if(!this._running)return!1;const n=this._charts.get(t);return!(!n||!n.running||!n.items.length)}stop(t){const n=this._charts.get(t);if(!n||!n.items.length)return;const a=n.items;let r=a.length-1;for(;r>=0;--r)a[r].cancel();n.items=[],this._notify(t,n,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var du=new B2e;const MT="transparent",O2e={boolean(e,t,n){return n>.5?t:e},color(e,t,n){const a=jT(e||MT),r=a.valid&&jT(t||MT);return r&&r.valid?r.mix(a,n).hexString():t},number(e,t,n){return e+(t-e)*n}};class L2e{constructor(t,n,a,r){const i=n[a];r=Y1([t.to,r,i,t.from]);const o=Y1([t.from,i,r]);this._active=!0,this._fn=t.fn||O2e[t.type||typeof o],this._easing=vg[t.easing]||vg.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=n,this._prop=a,this._from=o,this._to=r,this._promises=void 0}active(){return this._active}update(t,n,a){if(this._active){this._notify(!1);const r=this._target[this._prop],i=a-this._start,o=this._duration-i;this._start=a,this._duration=Math.floor(Math.max(o,t.duration)),this._total+=i,this._loop=!!t.loop,this._to=Y1([t.to,n,r,t.from]),this._from=Y1([t.from,r,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const n=t-this._start,a=this._duration,r=this._prop,i=this._from,o=this._loop,c=this._to;let l;if(this._active=i!==c&&(o||n<a),!this._active){this._target[r]=c,this._notify(!0);return}if(n<0){this._target[r]=i;return}l=n/a%2,l=o&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[r]=this._fn(i,c,l)}wait(){const t=this._promises||(this._promises=[]);return new Promise((n,a)=>{t.push({res:n,rej:a})})}_notify(t){const n=t?"res":"rej",a=this._promises||[];for(let r=0;r<a.length;r++)a[r][n]()}}class eL{constructor(t,n){this._chart=t,this._properties=new Map,this.configure(n)}configure(t){if(!Fa(t))return;const n=Object.keys(Yr.animation),a=this._properties;Object.getOwnPropertyNames(t).forEach(r=>{const i=t[r];if(!Fa(i))return;const o={};for(const c of n)o[c]=i[c];(Wr(i.properties)&&i.properties||[r]).forEach(c=>{(c===r||!a.has(c))&&a.set(c,o)})})}_animateOptions(t,n){const a=n.options,r=P2e(t,a);if(!r)return[];const i=this._createAnimations(r,a);return a.$shared&&$2e(t.options.$animations,a).then(()=>{t.options=a},()=>{}),i}_createAnimations(t,n){const a=this._properties,r=[],i=t.$animations||(t.$animations={}),o=Object.keys(n),c=Date.now();let l;for(l=o.length-1;l>=0;--l){const d=o[l];if(d.charAt(0)==="$")continue;if(d==="options"){r.push(...this._animateOptions(t,n));continue}const f=n[d];let g=i[d];const b=a.get(d);if(g)if(b&&g.active()){g.update(b,f,c);continue}else g.cancel();if(!b||!b.duration){t[d]=f;continue}i[d]=g=new L2e(b,t,d,f),r.push(g)}return r}update(t,n){if(this._properties.size===0){Object.assign(t,n);return}const a=this._createAnimations(t,n);if(a.length)return du.add(this._chart,a),!0}}function $2e(e,t){const n=[],a=Object.keys(t);for(let r=0;r<a.length;r++){const i=e[a[r]];i&&i.active()&&n.push(i.wait())}return Promise.all(n)}function P2e(e,t){if(!t)return;let n=e.options;if(!n){e.options=t;return}return n.$shared&&(e.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function RT(e,t){const n=e&&e.options||{},a=n.reverse,r=n.min===void 0?t:0,i=n.max===void 0?t:0;return{start:a?i:r,end:a?r:i}}function F2e(e,t,n){if(n===!1)return!1;const a=RT(e,n),r=RT(t,n);return{top:r.end,right:a.end,bottom:r.start,left:a.start}}function H2e(e){let t,n,a,r;return Fa(e)?(t=e.top,n=e.right,a=e.bottom,r=e.left):t=n=a=r=e,{top:t,right:n,bottom:a,left:r,disabled:e===!1}}function tL(e,t){const n=[],a=e._getSortedDatasetMetas(t);let r,i;for(r=0,i=a.length;r<i;++r)n.push(a[r].index);return n}function BT(e,t,n,a={}){const r=e.keys,i=a.mode==="single";let o,c,l,d;if(t===null)return;let f=!1;for(o=0,c=r.length;o<c;++o){if(l=+r[o],l===n){if(f=!0,a.all)continue;break}d=e.values[l],ui(d)&&(i||t===0||Ll(t)===Ll(d))&&(t+=d)}return!f&&!a.all?0:t}function q2e(e,t){const{iScale:n,vScale:a}=t,r=n.axis==="x"?"x":"y",i=a.axis==="x"?"x":"y",o=Object.keys(e),c=new Array(o.length);let l,d,f;for(l=0,d=o.length;l<d;++l)f=o[l],c[l]={[r]:f,[i]:e[f]};return c}function Mj(e,t){const n=e&&e.options.stacked;return n||n===void 0&&t.stack!==void 0}function V2e(e,t,n){return`${e.id}.${t.id}.${n.stack||n.type}`}function z2e(e){const{min:t,max:n,minDefined:a,maxDefined:r}=e.getUserBounds();return{min:a?t:Number.NEGATIVE_INFINITY,max:r?n:Number.POSITIVE_INFINITY}}function U2e(e,t,n){const a=e[t]||(e[t]={});return a[n]||(a[n]={})}function OT(e,t,n,a){for(const r of t.getMatchingVisibleMetas(a).reverse()){const i=e[r.index];if(n&&i>0||!n&&i<0)return r.index}return null}function LT(e,t){const{chart:n,_cachedMeta:a}=e,r=n._stacks||(n._stacks={}),{iScale:i,vScale:o,index:c}=a,l=i.axis,d=o.axis,f=V2e(i,o,a),g=t.length;let b;for(let w=0;w<g;++w){const C=t[w],{[l]:S,[d]:k}=C,E=C._stacks||(C._stacks={});b=E[d]=U2e(r,f,S),b[c]=k,b._top=OT(b,o,!0,a.type),b._bottom=OT(b,o,!1,a.type);const D=b._visualValues||(b._visualValues={});D[c]=k}}function Rj(e,t){const n=e.scales;return Object.keys(n).filter(a=>n[a].axis===t).shift()}function W2e(e,t){return $d(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function Y2e(e,t,n){return $d(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:n,index:t,mode:"default",type:"data"})}function b1(e,t){const n=e.controller.index,a=e.vScale&&e.vScale.axis;if(a){t=t||e._parsed;for(const r of t){const i=r._stacks;if(!i||i[a]===void 0||i[a][n]===void 0)return;delete i[a][n],i[a]._visualValues!==void 0&&i[a]._visualValues[n]!==void 0&&delete i[a]._visualValues[n]}}}const Bj=e=>e==="reset"||e==="none",$T=(e,t)=>t?e:Object.assign({},e),G2e=(e,t,n)=>e&&!t.hidden&&t._stacked&&{keys:tL(n,!0),values:null};class el{constructor(t,n){this.chart=t,this._ctx=t.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=Mj(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&b1(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,n=this._cachedMeta,a=this.getDataset(),r=(g,b,w,C)=>g==="x"?b:g==="r"?C:w,i=n.xAxisID=ua(a.xAxisID,Rj(t,"x")),o=n.yAxisID=ua(a.yAxisID,Rj(t,"y")),c=n.rAxisID=ua(a.rAxisID,Rj(t,"r")),l=n.indexAxis,d=n.iAxisID=r(l,i,o,c),f=n.vAxisID=r(l,o,i,c);n.xScale=this.getScaleForId(i),n.yScale=this.getScaleForId(o),n.rScale=this.getScaleForId(c),n.iScale=this.getScaleForId(d),n.vScale=this.getScaleForId(f)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const n=this._cachedMeta;return t===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&bT(this._data,this),t._stacked&&b1(t)}_dataCheck(){const t=this.getDataset(),n=t.data||(t.data=[]),a=this._data;if(Fa(n)){const r=this._cachedMeta;this._data=q2e(n,r)}else if(a!==n){if(a){bT(a,this);const r=this._cachedMeta;b1(r),r._parsed=[]}n&&Object.isExtensible(n)&&Aye(n,this),this._syncList=[],this._data=n}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const n=this._cachedMeta,a=this.getDataset();let r=!1;this._dataCheck();const i=n._stacked;n._stacked=Mj(n.vScale,n),n.stack!==a.stack&&(r=!0,b1(n),n.stack=a.stack),this._resyncElements(t),(r||i!==n._stacked)&&(LT(this,n._parsed),n._stacked=Mj(n.vScale,n))}configure(){const t=this.chart.config,n=t.datasetScopeKeys(this._type),a=t.getOptionScopes(this.getDataset(),n,!0);this.options=t.createResolver(a,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,n){const{_cachedMeta:a,_data:r}=this,{iScale:i,_stacked:o}=a,c=i.axis;let l=t===0&&n===r.length?!0:a._sorted,d=t>0&&a._parsed[t-1],f,g,b;if(this._parsing===!1)a._parsed=r,a._sorted=!0,b=r;else{Wr(r[t])?b=this.parseArrayData(a,r,t,n):Fa(r[t])?b=this.parseObjectData(a,r,t,n):b=this.parsePrimitiveData(a,r,t,n);const w=()=>g[c]===null||d&&g[c]<d[c];for(f=0;f<n;++f)a._parsed[f+t]=g=b[f],l&&(w()&&(l=!1),d=g);a._sorted=l}o&&LT(this,b)}parsePrimitiveData(t,n,a,r){const{iScale:i,vScale:o}=t,c=i.axis,l=o.axis,d=i.getLabels(),f=i===o,g=new Array(r);let b,w,C;for(b=0,w=r;b<w;++b)C=b+a,g[b]={[c]:f||i.parse(d[C],C),[l]:o.parse(n[C],C)};return g}parseArrayData(t,n,a,r){const{xScale:i,yScale:o}=t,c=new Array(r);let l,d,f,g;for(l=0,d=r;l<d;++l)f=l+a,g=n[f],c[l]={x:i.parse(g[0],f),y:o.parse(g[1],f)};return c}parseObjectData(t,n,a,r){const{xScale:i,yScale:o}=t,{xAxisKey:c="x",yAxisKey:l="y"}=this._parsing,d=new Array(r);let f,g,b,w;for(f=0,g=r;f<g;++f)b=f+a,w=n[b],d[f]={x:i.parse(Md(w,c),b),y:o.parse(Md(w,l),b)};return d}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,n,a){const r=this.chart,i=this._cachedMeta,o=n[t.axis],c={keys:tL(r,!0),values:n._stacks[t.axis]._visualValues};return BT(c,o,i.index,{mode:a})}updateRangeFromParsed(t,n,a,r){const i=a[n.axis];let o=i===null?NaN:i;const c=r&&a._stacks[n.axis];r&&c&&(r.values=c,o=BT(r,i,this._cachedMeta.index)),t.min=Math.min(t.min,o),t.max=Math.max(t.max,o)}getMinMax(t,n){const a=this._cachedMeta,r=a._parsed,i=a._sorted&&t===a.iScale,o=r.length,c=this._getOtherScale(t),l=G2e(n,a,this.chart),d={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:f,max:g}=z2e(c);let b,w;function C(){w=r[b];const S=w[c.axis];return!ui(w[t.axis])||f>S||g<S}for(b=0;b<o&&!(!C()&&(this.updateRangeFromParsed(d,t,w,l),i));++b);if(i){for(b=o-1;b>=0;--b)if(!C()){this.updateRangeFromParsed(d,t,w,l);break}}return d}getAllParsedValues(t){const n=this._cachedMeta._parsed,a=[];let r,i,o;for(r=0,i=n.length;r<i;++r)o=n[r][t.axis],ui(o)&&a.push(o);return a}getMaxOverflow(){return!1}getLabelAndValue(t){const n=this._cachedMeta,a=n.iScale,r=n.vScale,i=this.getParsed(t);return{label:a?""+a.getLabelForValue(i[a.axis]):"",value:r?""+r.getLabelForValue(i[r.axis]):""}}_update(t){const n=this._cachedMeta;this.update(t||"default"),n._clip=H2e(ua(this.options.clip,F2e(n.xScale,n.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,n=this.chart,a=this._cachedMeta,r=a.data||[],i=n.chartArea,o=[],c=this._drawStart||0,l=this._drawCount||r.length-c,d=this.options.drawActiveElementsOnTop;let f;for(a.dataset&&a.dataset.draw(t,i,c,l),f=c;f<c+l;++f){const g=r[f];g.hidden||(g.active&&d?o.push(g):g.draw(t,i))}for(f=0;f<o.length;++f)o[f].draw(t,i)}getStyle(t,n){const a=n?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(a):this.resolveDataElementOptions(t||0,a)}getContext(t,n,a){const r=this.getDataset();let i;if(t>=0&&t<this._cachedMeta.data.length){const o=this._cachedMeta.data[t];i=o.$context||(o.$context=Y2e(this.getContext(),t,o)),i.parsed=this.getParsed(t),i.raw=r.data[t],i.index=i.dataIndex=t}else i=this.$context||(this.$context=W2e(this.chart.getContext(),this.index)),i.dataset=r,i.index=i.datasetIndex=this.index;return i.active=!!n,i.mode=a,i}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,n){return this._resolveElementOptions(this.dataElementType.id,n,t)}_resolveElementOptions(t,n="default",a){const r=n==="active",i=this._cachedDataOpts,o=t+"-"+n,c=i[o],l=this.enableOptionSharing&&Hg(a);if(c)return $T(c,l);const d=this.chart.config,f=d.datasetElementScopeKeys(this._type,t),g=r?[`${t}Hover`,"hover",t,""]:[t,""],b=d.getOptionScopes(this.getDataset(),f),w=Object.keys(Yr.elements[t]),C=()=>this.getContext(a,r,n),S=d.resolveNamedOptions(b,w,C,g);return S.$shared&&(S.$shared=l,i[o]=Object.freeze($T(S,l))),S}_resolveAnimations(t,n,a){const r=this.chart,i=this._cachedDataOpts,o=`animation-${n}`,c=i[o];if(c)return c;let l;if(r.options.animation!==!1){const f=this.chart.config,g=f.datasetAnimationScopeKeys(this._type,n),b=f.getOptionScopes(this.getDataset(),g);l=f.createResolver(b,this.getContext(t,a,n))}const d=new eL(r,l&&l.animations);return l&&l._cacheable&&(i[o]=Object.freeze(d)),d}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,n){return!n||Bj(t)||this.chart._animationsDisabled}_getSharedOptions(t,n){const a=this.resolveDataElementOptions(t,n),r=this._sharedOptions,i=this.getSharedOptions(a),o=this.includeOptions(n,i)||i!==r;return this.updateSharedOptions(i,n,a),{sharedOptions:i,includeOptions:o}}updateElement(t,n,a,r){Bj(r)?Object.assign(t,a):this._resolveAnimations(n,r).update(t,a)}updateSharedOptions(t,n,a){t&&!Bj(n)&&this._resolveAnimations(void 0,n).update(t,a)}_setStyle(t,n,a,r){t.active=r;const i=this.getStyle(n,r);this._resolveAnimations(n,a,r).update(t,{options:!r&&this.getSharedOptions(i)||i})}removeHoverStyle(t,n,a){this._setStyle(t,a,"active",!1)}setHoverStyle(t,n,a){this._setStyle(t,a,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const n=this._data,a=this._cachedMeta.data;for(const[c,l,d]of this._syncList)this[c](l,d);this._syncList=[];const r=a.length,i=n.length,o=Math.min(i,r);o&&this.parse(0,o),i>r?this._insertElements(r,i-r,t):i<r&&this._removeElements(i,r-i)}_insertElements(t,n,a=!0){const r=this._cachedMeta,i=r.data,o=t+n;let c;const l=d=>{for(d.length+=n,c=d.length-1;c>=o;c--)d[c]=d[c-n]};for(l(i),c=t;c<o;++c)i[c]=new this.dataElementType;this._parsing&&l(r._parsed),this.parse(t,n),a&&this.updateElements(i,t,n,"reset")}updateElements(t,n,a,r){}_removeElements(t,n){const a=this._cachedMeta;if(this._parsing){const r=a._parsed.splice(t,n);a._stacked&&b1(a,r)}a.data.splice(t,n)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[n,a,r]=t;this[n](a,r)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,n){n&&this._sync(["_removeElements",t,n]);const a=arguments.length-2;a&&this._sync(["_insertElements",t,a])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}Pt(el,"defaults",{}),Pt(el,"datasetElementType",null),Pt(el,"dataElementType",null);function Q2e(e,t){if(!e._cache.$bar){const n=e.getMatchingVisibleMetas(t);let a=[];for(let r=0,i=n.length;r<i;r++)a=a.concat(n[r].controller.getAllParsedValues(e));e._cache.$bar=RO(a.sort((r,i)=>r-i))}return e._cache.$bar}function X2e(e){const t=e.iScale,n=Q2e(t,e.type);let a=t._length,r,i,o,c;const l=()=>{o===32767||o===-32768||(Hg(c)&&(a=Math.min(a,Math.abs(o-c)||a)),c=o)};for(r=0,i=n.length;r<i;++r)o=t.getPixelForValue(n[r]),l();for(c=void 0,r=0,i=t.ticks.length;r<i;++r)o=t.getPixelForTick(r),l();return a}function K2e(e,t,n,a){const r=n.barThickness;let i,o;return Aa(r)?(i=t.min*n.categoryPercentage,o=n.barPercentage):(i=r*a,o=1),{chunk:i/a,ratio:o,start:t.pixels[e]-i/2}}function Z2e(e,t,n,a){const r=t.pixels,i=r[e];let o=e>0?r[e-1]:null,c=e<r.length-1?r[e+1]:null;const l=n.categoryPercentage;o===null&&(o=i-(c===null?t.end-t.start:c-i)),c===null&&(c=i+i-o);const d=i-(i-Math.min(o,c))/2*l;return{chunk:Math.abs(c-o)/2*l/a,ratio:n.barPercentage,start:d}}function J2e(e,t,n,a){const r=n.parse(e[0],a),i=n.parse(e[1],a),o=Math.min(r,i),c=Math.max(r,i);let l=o,d=c;Math.abs(o)>Math.abs(c)&&(l=c,d=o),t[n.axis]=d,t._custom={barStart:l,barEnd:d,start:r,end:i,min:o,max:c}}function nL(e,t,n,a){return Wr(e)?J2e(e,t,n,a):t[n.axis]=n.parse(e,a),t}function PT(e,t,n,a){const r=e.iScale,i=e.vScale,o=r.getLabels(),c=r===i,l=[];let d,f,g,b;for(d=n,f=n+a;d<f;++d)b=t[d],g={},g[r.axis]=c||r.parse(o[d],d),l.push(nL(b,g,i,d));return l}function Oj(e){return e&&e.barStart!==void 0&&e.barEnd!==void 0}function ewe(e,t,n){return e!==0?Ll(e):(t.isHorizontal()?1:-1)*(t.min>=n?1:-1)}function twe(e){let t,n,a,r,i;return e.horizontal?(t=e.base>e.x,n="left",a="right"):(t=e.base<e.y,n="bottom",a="top"),t?(r="end",i="start"):(r="start",i="end"),{start:n,end:a,reverse:t,top:r,bottom:i}}function nwe(e,t,n,a){let r=t.borderSkipped;const i={};if(!r){e.borderSkipped=i;return}if(r===!0){e.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:o,end:c,reverse:l,top:d,bottom:f}=twe(e);r==="middle"&&n&&(e.enableBorderRadius=!0,(n._top||0)===a?r=d:(n._bottom||0)===a?r=f:(i[FT(f,o,c,l)]=!0,r=d)),i[FT(r,o,c,l)]=!0,e.borderSkipped=i}function FT(e,t,n,a){return a?(e=swe(e,t,n),e=HT(e,n,t)):e=HT(e,t,n),e}function swe(e,t,n){return e===t?n:e===n?t:e}function HT(e,t,n){return e==="start"?t:e==="end"?n:e}function awe(e,{inflateAmount:t},n){e.inflateAmount=t==="auto"?n===1?.33:0:t}class Uv extends el{parsePrimitiveData(t,n,a,r){return PT(t,n,a,r)}parseArrayData(t,n,a,r){return PT(t,n,a,r)}parseObjectData(t,n,a,r){const{iScale:i,vScale:o}=t,{xAxisKey:c="x",yAxisKey:l="y"}=this._parsing,d=i.axis==="x"?c:l,f=o.axis==="x"?c:l,g=[];let b,w,C,S;for(b=a,w=a+r;b<w;++b)S=n[b],C={},C[i.axis]=i.parse(Md(S,d),b),g.push(nL(Md(S,f),C,o,b));return g}updateRangeFromParsed(t,n,a,r){super.updateRangeFromParsed(t,n,a,r);const i=a._custom;i&&n===this._cachedMeta.vScale&&(t.min=Math.min(t.min,i.min),t.max=Math.max(t.max,i.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const n=this._cachedMeta,{iScale:a,vScale:r}=n,i=this.getParsed(t),o=i._custom,c=Oj(o)?"["+o.start+", "+o.end+"]":""+r.getLabelForValue(i[r.axis]);return{label:""+a.getLabelForValue(i[a.axis]),value:c}}initialize(){this.enableOptionSharing=!0,super.initialize();const t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,t)}updateElements(t,n,a,r){const i=r==="reset",{index:o,_cachedMeta:{vScale:c}}=this,l=c.getBasePixel(),d=c.isHorizontal(),f=this._getRuler(),{sharedOptions:g,includeOptions:b}=this._getSharedOptions(n,r);for(let w=n;w<n+a;w++){const C=this.getParsed(w),S=i||Aa(C[c.axis])?{base:l,head:l}:this._calculateBarValuePixels(w),k=this._calculateBarIndexPixels(w,f),E=(C._stacks||{})[c.axis],D={horizontal:d,base:S.base,enableBorderRadius:!E||Oj(C._custom)||o===E._top||o===E._bottom,x:d?S.head:k.center,y:d?k.center:S.head,height:d?k.size:Math.abs(S.size),width:d?Math.abs(S.size):k.size};b&&(D.options=g||this.resolveDataElementOptions(w,t[w].active?"active":r));const R=D.options||t[w].options;nwe(D,R,E,o),awe(D,R,f.ratio),this.updateElement(t[w],w,D,r)}}_getStacks(t,n){const{iScale:a}=this._cachedMeta,r=a.getMatchingVisibleMetas(this._type).filter(f=>f.controller.options.grouped),i=a.options.stacked,o=[],c=this._cachedMeta.controller.getParsed(n),l=c&&c[a.axis],d=f=>{const g=f._parsed.find(w=>w[a.axis]===l),b=g&&g[f.vScale.axis];if(Aa(b)||isNaN(b))return!0};for(const f of r)if(!(n!==void 0&&d(f))&&((i===!1||o.indexOf(f.stack)===-1||i===void 0&&f.stack===void 0)&&o.push(f.stack),f.index===t))break;return o.length||o.push(void 0),o}_getStackCount(t){return this._getStacks(void 0,t).length}_getStackIndex(t,n,a){const r=this._getStacks(t,a),i=n!==void 0?r.indexOf(n):-1;return i===-1?r.length-1:i}_getRuler(){const t=this.options,n=this._cachedMeta,a=n.iScale,r=[];let i,o;for(i=0,o=n.data.length;i<o;++i)r.push(a.getPixelForValue(this.getParsed(i)[a.axis],i));const c=t.barThickness;return{min:c||X2e(n),pixels:r,start:a._startPixel,end:a._endPixel,stackCount:this._getStackCount(),scale:a,grouped:t.grouped,ratio:c?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:n,_stacked:a,index:r},options:{base:i,minBarLength:o}}=this,c=i||0,l=this.getParsed(t),d=l._custom,f=Oj(d);let g=l[n.axis],b=0,w=a?this.applyStack(n,l,a):g,C,S;w!==g&&(b=w-g,w=g),f&&(g=d.barStart,w=d.barEnd-d.barStart,g!==0&&Ll(g)!==Ll(d.barEnd)&&(b=0),b+=g);const k=!Aa(i)&&!f?i:b;let E=n.getPixelForValue(k);if(this.chart.getDataVisibility(t)?C=n.getPixelForValue(b+w):C=E,S=C-E,Math.abs(S)<o){S=ewe(S,n,c)*o,g===c&&(E-=S/2);const D=n.getPixelForDecimal(0),R=n.getPixelForDecimal(1),P=Math.min(D,R),B=Math.max(D,R);E=Math.max(Math.min(E,B),P),C=E+S,a&&!f&&(l._stacks[n.axis]._visualValues[r]=n.getValueForPixel(C)-n.getValueForPixel(E))}if(E===n.getPixelForValue(c)){const D=Ll(S)*n.getLineWidthForValue(c)/2;E+=D,S-=D}return{size:S,base:E,head:C,center:C+S/2}}_calculateBarIndexPixels(t,n){const a=n.scale,r=this.options,i=r.skipNull,o=ua(r.maxBarThickness,1/0);let c,l;if(n.grouped){const d=i?this._getStackCount(t):n.stackCount,f=r.barThickness==="flex"?Z2e(t,n,r,d):K2e(t,n,r,d),g=this._getStackIndex(this.index,this._cachedMeta.stack,i?t:void 0);c=f.start+f.chunk*g+f.chunk/2,l=Math.min(o,f.chunk*f.ratio)}else c=a.getPixelForValue(this.getParsed(t)[a.axis],t),l=Math.min(o,n.min*n.ratio);return{base:c-l/2,head:c+l/2,center:c,size:l}}draw(){const t=this._cachedMeta,n=t.vScale,a=t.data,r=a.length;let i=0;for(;i<r;++i)this.getParsed(i)[n.axis]!==null&&!a[i].hidden&&a[i].draw(this._ctx)}}Pt(Uv,"id","bar"),Pt(Uv,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),Pt(Uv,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class Wv extends el{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(t,n,a,r){const i=super.parsePrimitiveData(t,n,a,r);for(let o=0;o<i.length;o++)i[o]._custom=this.resolveDataElementOptions(o+a).radius;return i}parseArrayData(t,n,a,r){const i=super.parseArrayData(t,n,a,r);for(let o=0;o<i.length;o++){const c=n[a+o];i[o]._custom=ua(c[2],this.resolveDataElementOptions(o+a).radius)}return i}parseObjectData(t,n,a,r){const i=super.parseObjectData(t,n,a,r);for(let o=0;o<i.length;o++){const c=n[a+o];i[o]._custom=ua(c&&c.r&&+c.r,this.resolveDataElementOptions(o+a).radius)}return i}getMaxOverflow(){const t=this._cachedMeta.data;let n=0;for(let a=t.length-1;a>=0;--a)n=Math.max(n,t[a].size(this.resolveDataElementOptions(a))/2);return n>0&&n}getLabelAndValue(t){const n=this._cachedMeta,a=this.chart.data.labels||[],{xScale:r,yScale:i}=n,o=this.getParsed(t),c=r.getLabelForValue(o.x),l=i.getLabelForValue(o.y),d=o._custom;return{label:a[t]||"",value:"("+c+", "+l+(d?", "+d:"")+")"}}update(t){const n=this._cachedMeta.data;this.updateElements(n,0,n.length,t)}updateElements(t,n,a,r){const i=r==="reset",{iScale:o,vScale:c}=this._cachedMeta,{sharedOptions:l,includeOptions:d}=this._getSharedOptions(n,r),f=o.axis,g=c.axis;for(let b=n;b<n+a;b++){const w=t[b],C=!i&&this.getParsed(b),S={},k=S[f]=i?o.getPixelForDecimal(.5):o.getPixelForValue(C[f]),E=S[g]=i?c.getBasePixel():c.getPixelForValue(C[g]);S.skip=isNaN(k)||isNaN(E),d&&(S.options=l||this.resolveDataElementOptions(b,w.active?"active":r),i&&(S.options.radius=0)),this.updateElement(w,b,S,r)}}resolveDataElementOptions(t,n){const a=this.getParsed(t);let r=super.resolveDataElementOptions(t,n);r.$shared&&(r=Object.assign({},r,{$shared:!1}));const i=r.radius;return n!=="active"&&(r.radius=0),r.radius+=ua(a&&a._custom,i),r}}Pt(Wv,"id","bubble"),Pt(Wv,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),Pt(Wv,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});function rwe(e,t,n){let a=1,r=1,i=0,o=0;if(t<Or){const c=e,l=c+t,d=Math.cos(c),f=Math.sin(c),g=Math.cos(l),b=Math.sin(l),w=(R,P,B)=>qg(R,c,l,!0)?1:Math.max(P,P*n,B,B*n),C=(R,P,B)=>qg(R,c,l,!0)?-1:Math.min(P,P*n,B,B*n),S=w(0,d,g),k=w(xi,f,b),E=C($r,d,g),D=C($r+xi,f,b);a=(S-E)/2,r=(k-D)/2,i=-(S+E)/2,o=-(k+D)/2}return{ratioX:a,ratioY:r,offsetX:i,offsetY:o}}class Ch extends el{constructor(t,n){super(t,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,n){const a=this.getDataset().data,r=this._cachedMeta;if(this._parsing===!1)r._parsed=a;else{let i=l=>+a[l];if(Fa(a[t])){const{key:l="value"}=this._parsing;i=d=>+Md(a[d],l)}let o,c;for(o=t,c=t+n;o<c;++o)r._parsed[o]=i(o)}}_getRotation(){return Qc(this.options.rotation-90)}_getCircumference(){return Qc(this.options.circumference)}_getRotationExtents(){let t=Or,n=-Or;for(let a=0;a<this.chart.data.datasets.length;++a)if(this.chart.isDatasetVisible(a)&&this.chart.getDatasetMeta(a).type===this._type){const r=this.chart.getDatasetMeta(a).controller,i=r._getRotation(),o=r._getCircumference();t=Math.min(t,i),n=Math.max(n,i+o)}return{rotation:t,circumference:n-t}}update(t){const n=this.chart,{chartArea:a}=n,r=this._cachedMeta,i=r.data,o=this.getMaxBorderWidth()+this.getMaxOffset(i)+this.options.spacing,c=Math.max((Math.min(a.width,a.height)-o)/2,0),l=Math.min(_ye(this.options.cutout,c),1),d=this._getRingWeight(this.index),{circumference:f,rotation:g}=this._getRotationExtents(),{ratioX:b,ratioY:w,offsetX:C,offsetY:S}=rwe(g,f,l),k=(a.width-o)/b,E=(a.height-o)/w,D=Math.max(Math.min(k,E)/2,0),R=EO(this.options.radius,D),P=Math.max(R*l,0),B=(R-P)/this._getVisibleDatasetWeightTotal();this.offsetX=C*R,this.offsetY=S*R,r.total=this.calculateTotal(),this.outerRadius=R-B*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-B*d,0),this.updateElements(i,0,i.length,t)}_circumference(t,n){const a=this.options,r=this._cachedMeta,i=this._getCircumference();return n&&a.animation.animateRotate||!this.chart.getDataVisibility(t)||r._parsed[t]===null||r.data[t].hidden?0:this.calculateCircumference(r._parsed[t]*i/Or)}updateElements(t,n,a,r){const i=r==="reset",o=this.chart,c=o.chartArea,d=o.options.animation,f=(c.left+c.right)/2,g=(c.top+c.bottom)/2,b=i&&d.animateScale,w=b?0:this.innerRadius,C=b?0:this.outerRadius,{sharedOptions:S,includeOptions:k}=this._getSharedOptions(n,r);let E=this._getRotation(),D;for(D=0;D<n;++D)E+=this._circumference(D,i);for(D=n;D<n+a;++D){const R=this._circumference(D,i),P=t[D],B={x:f+this.offsetX,y:g+this.offsetY,startAngle:E,endAngle:E+R,circumference:R,outerRadius:C,innerRadius:w};k&&(B.options=S||this.resolveDataElementOptions(D,P.active?"active":r)),E+=R,this.updateElement(P,D,B,r)}}calculateTotal(){const t=this._cachedMeta,n=t.data;let a=0,r;for(r=0;r<n.length;r++){const i=t._parsed[r];i!==null&&!isNaN(i)&&this.chart.getDataVisibility(r)&&!n[r].hidden&&(a+=Math.abs(i))}return a}calculateCircumference(t){const n=this._cachedMeta.total;return n>0&&!isNaN(t)?Or*(Math.abs(t)/n):0}getLabelAndValue(t){const n=this._cachedMeta,a=this.chart,r=a.data.labels||[],i=j0(n._parsed[t],a.options.locale);return{label:r[t]||"",value:i}}getMaxBorderWidth(t){let n=0;const a=this.chart;let r,i,o,c,l;if(!t){for(r=0,i=a.data.datasets.length;r<i;++r)if(a.isDatasetVisible(r)){o=a.getDatasetMeta(r),t=o.data,c=o.controller;break}}if(!t)return 0;for(r=0,i=t.length;r<i;++r)l=c.resolveDataElementOptions(r),l.borderAlign!=="inner"&&(n=Math.max(n,l.borderWidth||0,l.hoverBorderWidth||0));return n}getMaxOffset(t){let n=0;for(let a=0,r=t.length;a<r;++a){const i=this.resolveDataElementOptions(a);n=Math.max(n,i.offset||0,i.hoverOffset||0)}return n}_getRingWeightOffset(t){let n=0;for(let a=0;a<t;++a)this.chart.isDatasetVisible(a)&&(n+=this._getRingWeight(a));return n}_getRingWeight(t){return Math.max(ua(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}Pt(Ch,"id","doughnut"),Pt(Ch,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),Pt(Ch,"descriptors",{_scriptable:t=>t!=="spacing",_indexable:t=>t!=="spacing"&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")}),Pt(Ch,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const n=t.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:a,color:r}}=t.legend.options;return n.labels.map((i,o)=>{const l=t.getDatasetMeta(0).controller.getStyle(o);return{text:i,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:r,lineWidth:l.borderWidth,pointStyle:a,hidden:!t.getDataVisibility(o),index:o}})}return[]}},onClick(t,n,a){a.chart.toggleDataVisibility(n.index),a.chart.update()}}}});class Yv extends el{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const n=this._cachedMeta,{dataset:a,data:r=[],_dataset:i}=n,o=this.chart._animationsDisabled;let{start:c,count:l}=LO(n,r,o);this._drawStart=c,this._drawCount=l,$O(n)&&(c=0,l=r.length),a._chart=this.chart,a._datasetIndex=this.index,a._decimated=!!i._decimated,a.points=r;const d=this.resolveDatasetElementOptions(t);this.options.showLine||(d.borderWidth=0),d.segment=this.options.segment,this.updateElement(a,void 0,{animated:!o,options:d},t),this.updateElements(r,c,l,t)}updateElements(t,n,a,r){const i=r==="reset",{iScale:o,vScale:c,_stacked:l,_dataset:d}=this._cachedMeta,{sharedOptions:f,includeOptions:g}=this._getSharedOptions(n,r),b=o.axis,w=c.axis,{spanGaps:C,segment:S}=this.options,k=Am(C)?C:Number.POSITIVE_INFINITY,E=this.chart._animationsDisabled||i||r==="none",D=n+a,R=t.length;let P=n>0&&this.getParsed(n-1);for(let B=0;B<R;++B){const O=t[B],$=E?O:{};if(B<n||B>=D){$.skip=!0;continue}const U=this.getParsed(B),F=Aa(U[w]),H=$[b]=o.getPixelForValue(U[b],B),se=$[w]=i||F?c.getBasePixel():c.getPixelForValue(l?this.applyStack(c,U,l):U[w],B);$.skip=isNaN(H)||isNaN(se)||F,$.stop=B>0&&Math.abs(U[b]-P[b])>k,S&&($.parsed=U,$.raw=d.data[B]),g&&($.options=f||this.resolveDataElementOptions(B,O.active?"active":r)),E||this.updateElement(O,B,$,r),P=U}}getMaxOverflow(){const t=this._cachedMeta,n=t.dataset,a=n.options&&n.options.borderWidth||0,r=t.data||[];if(!r.length)return a;const i=r[0].size(this.resolveDataElementOptions(0)),o=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(a,i,o)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}Pt(Yv,"id","line"),Pt(Yv,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),Pt(Yv,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class bg extends el{constructor(t,n){super(t,n),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(t){const n=this._cachedMeta,a=this.chart,r=a.data.labels||[],i=j0(n._parsed[t].r,a.options.locale);return{label:r[t]||"",value:i}}parseObjectData(t,n,a,r){return WO.bind(this)(t,n,a,r)}update(t){const n=this._cachedMeta.data;this._updateRadius(),this.updateElements(n,0,n.length,t)}getMinMax(){const t=this._cachedMeta,n={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return t.data.forEach((a,r)=>{const i=this.getParsed(r).r;!isNaN(i)&&this.chart.getDataVisibility(r)&&(i<n.min&&(n.min=i),i>n.max&&(n.max=i))}),n}_updateRadius(){const t=this.chart,n=t.chartArea,a=t.options,r=Math.min(n.right-n.left,n.bottom-n.top),i=Math.max(r/2,0),o=Math.max(a.cutoutPercentage?i/100*a.cutoutPercentage:1,0),c=(i-o)/t.getVisibleDatasetCount();this.outerRadius=i-c*this.index,this.innerRadius=this.outerRadius-c}updateElements(t,n,a,r){const i=r==="reset",o=this.chart,l=o.options.animation,d=this._cachedMeta.rScale,f=d.xCenter,g=d.yCenter,b=d.getIndexAngle(0)-.5*$r;let w=b,C;const S=360/this.countVisibleElements();for(C=0;C<n;++C)w+=this._computeAngle(C,r,S);for(C=n;C<n+a;C++){const k=t[C];let E=w,D=w+this._computeAngle(C,r,S),R=o.getDataVisibility(C)?d.getDistanceFromCenterForValue(this.getParsed(C).r):0;w=D,i&&(l.animateScale&&(R=0),l.animateRotate&&(E=D=b));const P={x:f,y:g,innerRadius:0,outerRadius:R,startAngle:E,endAngle:D,options:this.resolveDataElementOptions(C,k.active?"active":r)};this.updateElement(k,C,P,r)}}countVisibleElements(){const t=this._cachedMeta;let n=0;return t.data.forEach((a,r)=>{!isNaN(this.getParsed(r).r)&&this.chart.getDataVisibility(r)&&n++}),n}_computeAngle(t,n,a){return this.chart.getDataVisibility(t)?Qc(this.resolveDataElementOptions(t,n).angle||a):0}}Pt(bg,"id","polarArea"),Pt(bg,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),Pt(bg,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const n=t.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:a,color:r}}=t.legend.options;return n.labels.map((i,o)=>{const l=t.getDatasetMeta(0).controller.getStyle(o);return{text:i,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:r,lineWidth:l.borderWidth,pointStyle:a,hidden:!t.getDataVisibility(o),index:o}})}return[]}},onClick(t,n,a){a.chart.toggleDataVisibility(n.index),a.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});class BS extends Ch{}Pt(BS,"id","pie"),Pt(BS,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});class Gv extends el{getLabelAndValue(t){const n=this._cachedMeta.vScale,a=this.getParsed(t);return{label:n.getLabels()[t],value:""+n.getLabelForValue(a[n.axis])}}parseObjectData(t,n,a,r){return WO.bind(this)(t,n,a,r)}update(t){const n=this._cachedMeta,a=n.dataset,r=n.data||[],i=n.iScale.getLabels();if(a.points=r,t!=="resize"){const o=this.resolveDatasetElementOptions(t);this.options.showLine||(o.borderWidth=0);const c={_loop:!0,_fullLoop:i.length===r.length,options:o};this.updateElement(a,void 0,c,t)}this.updateElements(r,0,r.length,t)}updateElements(t,n,a,r){const i=this._cachedMeta.rScale,o=r==="reset";for(let c=n;c<n+a;c++){const l=t[c],d=this.resolveDataElementOptions(c,l.active?"active":r),f=i.getPointPositionForValue(c,this.getParsed(c).r),g=o?i.xCenter:f.x,b=o?i.yCenter:f.y,w={x:g,y:b,angle:f.angle,skip:isNaN(g)||isNaN(b),options:d};this.updateElement(l,c,w,r)}}}Pt(Gv,"id","radar"),Pt(Gv,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),Pt(Gv,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});class Qv extends el{getLabelAndValue(t){const n=this._cachedMeta,a=this.chart.data.labels||[],{xScale:r,yScale:i}=n,o=this.getParsed(t),c=r.getLabelForValue(o.x),l=i.getLabelForValue(o.y);return{label:a[t]||"",value:"("+c+", "+l+")"}}update(t){const n=this._cachedMeta,{data:a=[]}=n,r=this.chart._animationsDisabled;let{start:i,count:o}=LO(n,a,r);if(this._drawStart=i,this._drawCount=o,$O(n)&&(i=0,o=a.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:c,_dataset:l}=n;c._chart=this.chart,c._datasetIndex=this.index,c._decimated=!!l._decimated,c.points=a;const d=this.resolveDatasetElementOptions(t);d.segment=this.options.segment,this.updateElement(c,void 0,{animated:!r,options:d},t)}else this.datasetElementType&&(delete n.dataset,this.datasetElementType=!1);this.updateElements(a,i,o,t)}addElements(){const{showLine:t}=this.options;!this.datasetElementType&&t&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(t,n,a,r){const i=r==="reset",{iScale:o,vScale:c,_stacked:l,_dataset:d}=this._cachedMeta,f=this.resolveDataElementOptions(n,r),g=this.getSharedOptions(f),b=this.includeOptions(r,g),w=o.axis,C=c.axis,{spanGaps:S,segment:k}=this.options,E=Am(S)?S:Number.POSITIVE_INFINITY,D=this.chart._animationsDisabled||i||r==="none";let R=n>0&&this.getParsed(n-1);for(let P=n;P<n+a;++P){const B=t[P],O=this.getParsed(P),$=D?B:{},U=Aa(O[C]),F=$[w]=o.getPixelForValue(O[w],P),H=$[C]=i||U?c.getBasePixel():c.getPixelForValue(l?this.applyStack(c,O,l):O[C],P);$.skip=isNaN(F)||isNaN(H)||U,$.stop=P>0&&Math.abs(O[w]-R[w])>E,k&&($.parsed=O,$.raw=d.data[P]),b&&($.options=g||this.resolveDataElementOptions(P,B.active?"active":r)),D||this.updateElement(B,P,$,r),R=O}this.updateSharedOptions(g,r,f)}getMaxOverflow(){const t=this._cachedMeta,n=t.data||[];if(!this.options.showLine){let c=0;for(let l=n.length-1;l>=0;--l)c=Math.max(c,n[l].size(this.resolveDataElementOptions(l))/2);return c>0&&c}const a=t.dataset,r=a.options&&a.options.borderWidth||0;if(!n.length)return r;const i=n[0].size(this.resolveDataElementOptions(0)),o=n[n.length-1].size(this.resolveDataElementOptions(n.length-1));return Math.max(r,i,o)/2}}Pt(Qv,"id","scatter"),Pt(Qv,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),Pt(Qv,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});var iwe=Object.freeze({__proto__:null,BarController:Uv,BubbleController:Wv,DoughnutController:Ch,LineController:Yv,PieController:BS,PolarAreaController:bg,RadarController:Gv,ScatterController:Qv});function uh(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class g4{constructor(t){Pt(this,"options");this.options=t||{}}static override(t){Object.assign(g4.prototype,t)}init(){}formats(){return uh()}parse(){return uh()}format(){return uh()}add(){return uh()}diff(){return uh()}startOf(){return uh()}endOf(){return uh()}}var owe={_date:g4};function cwe(e,t,n,a){const{controller:r,data:i,_sorted:o}=e,c=r._cachedMeta.iScale,l=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null;if(c&&t===c.axis&&t!=="r"&&o&&i.length){const d=c._reversePixels?Tye:gu;if(a){if(r._sharedOptions){const f=i[0],g=typeof f.getRange=="function"&&f.getRange(t);if(g){const b=d(i,t,n-g),w=d(i,t,n+g);return{lo:b.lo,hi:w.hi}}}}else{const f=d(i,t,n);if(l){const{vScale:g}=r._cachedMeta,{_parsed:b}=e,w=b.slice(0,f.lo+1).reverse().findIndex(S=>!Aa(S[g.axis]));f.lo-=Math.max(0,w);const C=b.slice(f.hi).findIndex(S=>!Aa(S[g.axis]));f.hi+=Math.max(0,C)}return f}}return{lo:0,hi:i.length-1}}function hy(e,t,n,a,r){const i=e.getSortedVisibleDatasetMetas(),o=n[t];for(let c=0,l=i.length;c<l;++c){const{index:d,data:f}=i[c],{lo:g,hi:b}=cwe(i[c],t,o,r);for(let w=g;w<=b;++w){const C=f[w];C.skip||a(C,d,w)}}}function lwe(e){const t=e.indexOf("x")!==-1,n=e.indexOf("y")!==-1;return function(a,r){const i=t?Math.abs(a.x-r.x):0,o=n?Math.abs(a.y-r.y):0;return Math.sqrt(Math.pow(i,2)+Math.pow(o,2))}}function Lj(e,t,n,a,r){const i=[];return!r&&!e.isPointInArea(t)||hy(e,n,t,function(c,l,d){!r&&!_u(c,e.chartArea,0)||c.inRange(t.x,t.y,a)&&i.push({element:c,datasetIndex:l,index:d})},!0),i}function uwe(e,t,n,a){let r=[];function i(o,c,l){const{startAngle:d,endAngle:f}=o.getProps(["startAngle","endAngle"],a),{angle:g}=AO(o,{x:t.x,y:t.y});qg(g,d,f)&&r.push({element:o,datasetIndex:c,index:l})}return hy(e,n,t,i),r}function dwe(e,t,n,a,r,i){let o=[];const c=lwe(n);let l=Number.POSITIVE_INFINITY;function d(f,g,b){const w=f.inRange(t.x,t.y,r);if(a&&!w)return;const C=f.getCenterPoint(r);if(!(!!i||e.isPointInArea(C))&&!w)return;const k=c(t,C);k<l?(o=[{element:f,datasetIndex:g,index:b}],l=k):k===l&&o.push({element:f,datasetIndex:g,index:b})}return hy(e,n,t,d),o}function $j(e,t,n,a,r,i){return!i&&!e.isPointInArea(t)?[]:n==="r"&&!a?uwe(e,t,n,r):dwe(e,t,n,a,r,i)}function qT(e,t,n,a,r){const i=[],o=n==="x"?"inXRange":"inYRange";let c=!1;return hy(e,n,t,(l,d,f)=>{l[o]&&l[o](t[n],r)&&(i.push({element:l,datasetIndex:d,index:f}),c=c||l.inRange(t.x,t.y,r))}),a&&!c?[]:i}var hwe={modes:{index(e,t,n,a){const r=gh(t,e),i=n.axis||"x",o=n.includeInvisible||!1,c=n.intersect?Lj(e,r,i,a,o):$j(e,r,i,!1,a,o),l=[];return c.length?(e.getSortedVisibleDatasetMetas().forEach(d=>{const f=c[0].index,g=d.data[f];g&&!g.skip&&l.push({element:g,datasetIndex:d.index,index:f})}),l):[]},dataset(e,t,n,a){const r=gh(t,e),i=n.axis||"xy",o=n.includeInvisible||!1;let c=n.intersect?Lj(e,r,i,a,o):$j(e,r,i,!1,a,o);if(c.length>0){const l=c[0].datasetIndex,d=e.getDatasetMeta(l).data;c=[];for(let f=0;f<d.length;++f)c.push({element:d[f],datasetIndex:l,index:f})}return c},point(e,t,n,a){const r=gh(t,e),i=n.axis||"xy",o=n.includeInvisible||!1;return Lj(e,r,i,a,o)},nearest(e,t,n,a){const r=gh(t,e),i=n.axis||"xy",o=n.includeInvisible||!1;return $j(e,r,i,n.intersect,a,o)},x(e,t,n,a){const r=gh(t,e);return qT(e,r,"x",n.intersect,a)},y(e,t,n,a){const r=gh(t,e);return qT(e,r,"y",n.intersect,a)}}};const sL=["left","top","right","bottom"];function y1(e,t){return e.filter(n=>n.pos===t)}function VT(e,t){return e.filter(n=>sL.indexOf(n.pos)===-1&&n.box.axis===t)}function w1(e,t){return e.sort((n,a)=>{const r=t?a:n,i=t?n:a;return r.weight===i.weight?r.index-i.index:r.weight-i.weight})}function fwe(e){const t=[];let n,a,r,i,o,c;for(n=0,a=(e||[]).length;n<a;++n)r=e[n],{position:i,options:{stack:o,stackWeight:c=1}}=r,t.push({index:n,box:r,pos:i,horizontal:r.isHorizontal(),weight:r.weight,stack:o&&i+o,stackWeight:c});return t}function mwe(e){const t={};for(const n of e){const{stack:a,pos:r,stackWeight:i}=n;if(!a||!sL.includes(r))continue;const o=t[a]||(t[a]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=i}return t}function pwe(e,t){const n=mwe(e),{vBoxMaxWidth:a,hBoxMaxHeight:r}=t;let i,o,c;for(i=0,o=e.length;i<o;++i){c=e[i];const{fullSize:l}=c.box,d=n[c.stack],f=d&&c.stackWeight/d.weight;c.horizontal?(c.width=f?f*a:l&&t.availableWidth,c.height=r):(c.width=a,c.height=f?f*r:l&&t.availableHeight)}return n}function gwe(e){const t=fwe(e),n=w1(t.filter(d=>d.box.fullSize),!0),a=w1(y1(t,"left"),!0),r=w1(y1(t,"right")),i=w1(y1(t,"top"),!0),o=w1(y1(t,"bottom")),c=VT(t,"x"),l=VT(t,"y");return{fullSize:n,leftAndTop:a.concat(i),rightAndBottom:r.concat(l).concat(o).concat(c),chartArea:y1(t,"chartArea"),vertical:a.concat(r).concat(l),horizontal:i.concat(o).concat(c)}}function zT(e,t,n,a){return Math.max(e[n],t[n])+Math.max(e[a],t[a])}function aL(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function _we(e,t,n,a){const{pos:r,box:i}=n,o=e.maxPadding;if(!Fa(r)){n.size&&(e[r]-=n.size);const g=a[n.stack]||{size:0,count:1};g.size=Math.max(g.size,n.horizontal?i.height:i.width),n.size=g.size/g.count,e[r]+=n.size}i.getPadding&&aL(o,i.getPadding());const c=Math.max(0,t.outerWidth-zT(o,e,"left","right")),l=Math.max(0,t.outerHeight-zT(o,e,"top","bottom")),d=c!==e.w,f=l!==e.h;return e.w=c,e.h=l,n.horizontal?{same:d,other:f}:{same:f,other:d}}function vwe(e){const t=e.maxPadding;function n(a){const r=Math.max(t[a]-e[a],0);return e[a]+=r,r}e.y+=n("top"),e.x+=n("left"),n("right"),n("bottom")}function xwe(e,t){const n=t.maxPadding;function a(r){const i={left:0,top:0,right:0,bottom:0};return r.forEach(o=>{i[o]=Math.max(t[o],n[o])}),i}return a(e?["left","right"]:["top","bottom"])}function G1(e,t,n,a){const r=[];let i,o,c,l,d,f;for(i=0,o=e.length,d=0;i<o;++i){c=e[i],l=c.box,l.update(c.width||t.w,c.height||t.h,xwe(c.horizontal,t));const{same:g,other:b}=_we(t,n,c,a);d|=g&&r.length,f=f||b,l.fullSize||r.push(c)}return d&&G1(r,t,n,a)||f}function av(e,t,n,a,r){e.top=n,e.left=t,e.right=t+a,e.bottom=n+r,e.width=a,e.height=r}function UT(e,t,n,a){const r=n.padding;let{x:i,y:o}=t;for(const c of e){const l=c.box,d=a[c.stack]||{placed:0,weight:1},f=c.stackWeight/d.weight||1;if(c.horizontal){const g=t.w*f,b=d.size||l.height;Hg(d.start)&&(o=d.start),l.fullSize?av(l,r.left,o,n.outerWidth-r.right-r.left,b):av(l,t.left+d.placed,o,g,b),d.start=o,d.placed+=g,o=l.bottom}else{const g=t.h*f,b=d.size||l.width;Hg(d.start)&&(i=d.start),l.fullSize?av(l,i,r.top,b,n.outerHeight-r.bottom-r.top):av(l,i,t.top+d.placed,b,g),d.start=i,d.placed+=g,i=l.right}}t.x=i,t.y=o}var go={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(n){t.draw(n)}}]},e.boxes.push(t)},removeBox(e,t){const n=e.boxes?e.boxes.indexOf(t):-1;n!==-1&&e.boxes.splice(n,1)},configure(e,t,n){t.fullSize=n.fullSize,t.position=n.position,t.weight=n.weight},update(e,t,n,a){if(!e)return;const r=vo(e.options.layout.padding),i=Math.max(t-r.width,0),o=Math.max(n-r.height,0),c=gwe(e.boxes),l=c.vertical,d=c.horizontal;gr(e.boxes,S=>{typeof S.beforeLayout=="function"&&S.beforeLayout()});const f=l.reduce((S,k)=>k.box.options&&k.box.options.display===!1?S:S+1,0)||1,g=Object.freeze({outerWidth:t,outerHeight:n,padding:r,availableWidth:i,availableHeight:o,vBoxMaxWidth:i/2/f,hBoxMaxHeight:o/2}),b=Object.assign({},r);aL(b,vo(a));const w=Object.assign({maxPadding:b,w:i,h:o,x:r.left,y:r.top},r),C=pwe(l.concat(d),g);G1(c.fullSize,w,g,C),G1(l,w,g,C),G1(d,w,g,C)&&G1(l,w,g,C),vwe(w),UT(c.leftAndTop,w,g,C),w.x+=w.w,w.y+=w.h,UT(c.rightAndBottom,w,g,C),e.chartArea={left:w.left,top:w.top,right:w.left+w.w,bottom:w.top+w.h,height:w.h,width:w.w},gr(c.chartArea,S=>{const k=S.box;Object.assign(k,e.chartArea),k.update(w.w,w.h,{left:0,top:0,right:0,bottom:0})})}};class rL{acquireContext(t,n){}releaseContext(t){return!1}addEventListener(t,n,a){}removeEventListener(t,n,a){}getDevicePixelRatio(){return 1}getMaximumSize(t,n,a,r){return n=Math.max(0,n||t.width),a=a||t.height,{width:n,height:Math.max(0,r?Math.floor(n/r):a)}}isAttached(t){return!0}updateConfig(t){}}class bwe extends rL{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const Xv="$chartjs",ywe={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},WT=e=>e===null||e==="";function wwe(e,t){const n=e.style,a=e.getAttribute("height"),r=e.getAttribute("width");if(e[Xv]={initial:{height:a,width:r,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",WT(r)){const i=ET(e,"width");i!==void 0&&(e.width=i)}if(WT(a))if(e.style.height==="")e.height=e.width/(t||2);else{const i=ET(e,"height");i!==void 0&&(e.height=i)}return e}const iL=j2e?{passive:!0}:!1;function jwe(e,t,n){e&&e.addEventListener(t,n,iL)}function Cwe(e,t,n){e&&e.canvas&&e.canvas.removeEventListener(t,n,iL)}function Swe(e,t){const n=ywe[e.type]||e.type,{x:a,y:r}=gh(e,t);return{type:n,chart:t,native:e,x:a!==void 0?a:null,y:r!==void 0?r:null}}function Jx(e,t){for(const n of e)if(n===t||n.contains(t))return!0}function Nwe(e,t,n){const a=e.canvas,r=new MutationObserver(i=>{let o=!1;for(const c of i)o=o||Jx(c.addedNodes,a),o=o&&!Jx(c.removedNodes,a);o&&n()});return r.observe(document,{childList:!0,subtree:!0}),r}function kwe(e,t,n){const a=e.canvas,r=new MutationObserver(i=>{let o=!1;for(const c of i)o=o||Jx(c.removedNodes,a),o=o&&!Jx(c.addedNodes,a);o&&n()});return r.observe(document,{childList:!0,subtree:!0}),r}const zg=new Map;let YT=0;function oL(){const e=window.devicePixelRatio;e!==YT&&(YT=e,zg.forEach((t,n)=>{n.currentDevicePixelRatio!==e&&t()}))}function Iwe(e,t){zg.size||window.addEventListener("resize",oL),zg.set(e,t)}function Ewe(e){zg.delete(e),zg.size||window.removeEventListener("resize",oL)}function Twe(e,t,n){const a=e.canvas,r=a&&p4(a);if(!r)return;const i=OO((c,l)=>{const d=r.clientWidth;n(c,l),d<r.clientWidth&&n()},window),o=new ResizeObserver(c=>{const l=c[0],d=l.contentRect.width,f=l.contentRect.height;d===0&&f===0||i(d,f)});return o.observe(r),Iwe(e,i),o}function Pj(e,t,n){n&&n.disconnect(),t==="resize"&&Ewe(e)}function Dwe(e,t,n){const a=e.canvas,r=OO(i=>{e.ctx!==null&&n(Swe(i,e))},e);return jwe(a,t,r),r}class Awe extends rL{acquireContext(t,n){const a=t&&t.getContext&&t.getContext("2d");return a&&a.canvas===t?(wwe(t,n),a):null}releaseContext(t){const n=t.canvas;if(!n[Xv])return!1;const a=n[Xv].initial;["height","width"].forEach(i=>{const o=a[i];Aa(o)?n.removeAttribute(i):n.setAttribute(i,o)});const r=a.style||{};return Object.keys(r).forEach(i=>{n.style[i]=r[i]}),n.width=n.width,delete n[Xv],!0}addEventListener(t,n,a){this.removeEventListener(t,n);const r=t.$proxies||(t.$proxies={}),o={attach:Nwe,detach:kwe,resize:Twe}[n]||Dwe;r[n]=o(t,n,a)}removeEventListener(t,n){const a=t.$proxies||(t.$proxies={}),r=a[n];if(!r)return;({attach:Pj,detach:Pj,resize:Pj}[n]||Cwe)(t,n,r),a[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,n,a,r){return w2e(t,n,a,r)}isAttached(t){const n=t&&p4(t);return!!(n&&n.isConnected)}}function Mwe(e){return!m4()||typeof OffscreenCanvas<"u"&&e instanceof OffscreenCanvas?bwe:Awe}var Av;let Au=(Av=class{constructor(){Pt(this,"x");Pt(this,"y");Pt(this,"active",!1);Pt(this,"options");Pt(this,"$animations")}tooltipPosition(t){const{x:n,y:a}=this.getProps(["x","y"],t);return{x:n,y:a}}hasValue(){return Am(this.x)&&Am(this.y)}getProps(t,n){const a=this.$animations;if(!n||!a)return this;const r={};return t.forEach(i=>{r[i]=a[i]&&a[i].active()?a[i]._to:this[i]}),r}},Pt(Av,"defaults",{}),Pt(Av,"defaultRoutes"),Av);function Rwe(e,t){const n=e.options.ticks,a=Bwe(e),r=Math.min(n.maxTicksLimit||a,a),i=n.major.enabled?Lwe(t):[],o=i.length,c=i[0],l=i[o-1],d=[];if(o>r)return $we(t,d,i,o/r),d;const f=Owe(i,t,r);if(o>0){let g,b;const w=o>1?Math.round((l-c)/(o-1)):null;for(rv(t,d,f,Aa(w)?0:c-w,c),g=0,b=o-1;g<b;g++)rv(t,d,f,i[g],i[g+1]);return rv(t,d,f,l,Aa(w)?t.length:l+w),d}return rv(t,d,f),d}function Bwe(e){const t=e.options.offset,n=e._tickSize(),a=e._length/n+(t?0:1),r=e._maxLength/n;return Math.floor(Math.min(a,r))}function Owe(e,t,n){const a=Pwe(e),r=t.length/n;if(!a)return Math.max(r,1);const i=Sye(a);for(let o=0,c=i.length-1;o<c;o++){const l=i[o];if(l>r)return l}return Math.max(r,1)}function Lwe(e){const t=[];let n,a;for(n=0,a=e.length;n<a;n++)e[n].major&&t.push(n);return t}function $we(e,t,n,a){let r=0,i=n[0],o;for(a=Math.ceil(a),o=0;o<e.length;o++)o===i&&(t.push(e[o]),r++,i=n[r*a])}function rv(e,t,n,a,r){const i=ua(a,0),o=Math.min(ua(r,e.length),e.length);let c=0,l,d,f;for(n=Math.ceil(n),r&&(l=r-a,n=l/Math.floor(l/n)),f=i;f<0;)c++,f=Math.round(i+c*n);for(d=Math.max(i,0);d<o;d++)d===f&&(t.push(e[d]),c++,f=Math.round(i+c*n))}function Pwe(e){const t=e.length;let n,a;if(t<2)return!1;for(a=e[0],n=1;n<t;++n)if(e[n]-e[n-1]!==a)return!1;return a}const Fwe=e=>e==="left"?"right":e==="right"?"left":e,GT=(e,t,n)=>t==="top"||t==="left"?e[t]+n:e[t]-n,QT=(e,t)=>Math.min(t||e,e);function XT(e,t){const n=[],a=e.length/t,r=e.length;let i=0;for(;i<r;i+=a)n.push(e[Math.floor(i)]);return n}function Hwe(e,t,n){const a=e.ticks.length,r=Math.min(t,a-1),i=e._startPixel,o=e._endPixel,c=1e-6;let l=e.getPixelForTick(r),d;if(!(n&&(a===1?d=Math.max(l-i,o-l):t===0?d=(e.getPixelForTick(1)-l)/2:d=(l-e.getPixelForTick(r-1))/2,l+=r<t?d:-d,l<i-c||l>o+c)))return l}function qwe(e,t){gr(e,n=>{const a=n.gc,r=a.length/2;let i;if(r>t){for(i=0;i<r;++i)delete n.data[a[i]];a.splice(0,r)}})}function j1(e){return e.drawTicks?e.tickLength:0}function KT(e,t){if(!e.display)return 0;const n=Bi(e.font,t),a=vo(e.padding);return(Wr(e.text)?e.text.length:1)*n.lineHeight+a.height}function Vwe(e,t){return $d(e,{scale:t,type:"scale"})}function zwe(e,t,n){return $d(e,{tick:n,index:t,type:"tick"})}function Uwe(e,t,n){let a=c4(e);return(n&&t!=="right"||!n&&t==="right")&&(a=Fwe(a)),a}function Wwe(e,t,n,a){const{top:r,left:i,bottom:o,right:c,chart:l}=e,{chartArea:d,scales:f}=l;let g=0,b,w,C;const S=o-r,k=c-i;if(e.isHorizontal()){if(w=uo(a,i,c),Fa(n)){const E=Object.keys(n)[0],D=n[E];C=f[E].getPixelForValue(D)+S-t}else n==="center"?C=(d.bottom+d.top)/2+S-t:C=GT(e,n,t);b=c-i}else{if(Fa(n)){const E=Object.keys(n)[0],D=n[E];w=f[E].getPixelForValue(D)-k+t}else n==="center"?w=(d.left+d.right)/2-k+t:w=GT(e,n,t);C=uo(a,o,r),g=n==="left"?-xi:xi}return{titleX:w,titleY:C,maxWidth:b,rotation:g}}class nf extends Au{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,n){return t}getUserBounds(){let{_userMin:t,_userMax:n,_suggestedMin:a,_suggestedMax:r}=this;return t=nc(t,Number.POSITIVE_INFINITY),n=nc(n,Number.NEGATIVE_INFINITY),a=nc(a,Number.POSITIVE_INFINITY),r=nc(r,Number.NEGATIVE_INFINITY),{min:nc(t,a),max:nc(n,r),minDefined:ui(t),maxDefined:ui(n)}}getMinMax(t){let{min:n,max:a,minDefined:r,maxDefined:i}=this.getUserBounds(),o;if(r&&i)return{min:n,max:a};const c=this.getMatchingVisibleMetas();for(let l=0,d=c.length;l<d;++l)o=c[l].controller.getMinMax(this,t),r||(n=Math.min(n,o.min)),i||(a=Math.max(a,o.max));return n=i&&n>a?a:n,a=r&&n>a?n:a,{min:nc(n,nc(a,n)),max:nc(a,nc(n,a))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Mr(this.options.beforeUpdate,[this])}update(t,n,a){const{beginAtZero:r,grace:i,ticks:o}=this.options,c=o.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=n,this._margins=a=Object.assign({left:0,right:0,top:0,bottom:0},a),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+a.left+a.right:this.height+a.top+a.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=e2e(this,i,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=c<this.ticks.length;this._convertTicksToLabels(l?XT(this.ticks,c):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=Rwe(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,n,a;this.isHorizontal()?(n=this.left,a=this.right):(n=this.top,a=this.bottom,t=!t),this._startPixel=n,this._endPixel=a,this._reversePixels=t,this._length=a-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Mr(this.options.afterUpdate,[this])}beforeSetDimensions(){Mr(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Mr(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),Mr(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Mr(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const n=this.options.ticks;let a,r,i;for(a=0,r=t.length;a<r;a++)i=t[a],i.label=Mr(n.callback,[i.value,a,t],this)}afterTickToLabelConversion(){Mr(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Mr(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,n=t.ticks,a=QT(this.ticks.length,t.ticks.maxTicksLimit),r=n.minRotation||0,i=n.maxRotation;let o=r,c,l,d;if(!this._isVisible()||!n.display||r>=i||a<=1||!this.isHorizontal()){this.labelRotation=r;return}const f=this._getLabelSizes(),g=f.widest.width,b=f.highest.height,w=Wi(this.chart.width-g,0,this.maxWidth);c=t.offset?this.maxWidth/a:w/(a-1),g+6>c&&(c=w/(a-(t.offset?.5:1)),l=this.maxHeight-j1(t.grid)-n.padding-KT(t.title,this.chart.options.font),d=Math.sqrt(g*g+b*b),o=i4(Math.min(Math.asin(Wi((f.highest.height+6)/c,-1,1)),Math.asin(Wi(l/d,-1,1))-Math.asin(Wi(b/d,-1,1)))),o=Math.max(r,Math.min(i,o))),this.labelRotation=o}afterCalculateLabelRotation(){Mr(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Mr(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:n,options:{ticks:a,title:r,grid:i}}=this,o=this._isVisible(),c=this.isHorizontal();if(o){const l=KT(r,n.options.font);if(c?(t.width=this.maxWidth,t.height=j1(i)+l):(t.height=this.maxHeight,t.width=j1(i)+l),a.display&&this.ticks.length){const{first:d,last:f,widest:g,highest:b}=this._getLabelSizes(),w=a.padding*2,C=Qc(this.labelRotation),S=Math.cos(C),k=Math.sin(C);if(c){const E=a.mirror?0:k*g.width+S*b.height;t.height=Math.min(this.maxHeight,t.height+E+w)}else{const E=a.mirror?0:S*g.width+k*b.height;t.width=Math.min(this.maxWidth,t.width+E+w)}this._calculatePadding(d,f,k,S)}}this._handleMargins(),c?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,n,a,r){const{ticks:{align:i,padding:o},position:c}=this.options,l=this.labelRotation!==0,d=c!=="top"&&this.axis==="x";if(this.isHorizontal()){const f=this.getPixelForTick(0)-this.left,g=this.right-this.getPixelForTick(this.ticks.length-1);let b=0,w=0;l?d?(b=r*t.width,w=a*n.height):(b=a*t.height,w=r*n.width):i==="start"?w=n.width:i==="end"?b=t.width:i!=="inner"&&(b=t.width/2,w=n.width/2),this.paddingLeft=Math.max((b-f+o)*this.width/(this.width-f),0),this.paddingRight=Math.max((w-g+o)*this.width/(this.width-g),0)}else{let f=n.height/2,g=t.height/2;i==="start"?(f=0,g=t.height):i==="end"&&(f=n.height,g=0),this.paddingTop=f+o,this.paddingBottom=g+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Mr(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:n}=this.options;return n==="top"||n==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let n,a;for(n=0,a=t.length;n<a;n++)Aa(t[n].label)&&(t.splice(n,1),a--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const n=this.options.ticks.sampleSize;let a=this.ticks;n<a.length&&(a=XT(a,n)),this._labelSizes=t=this._computeLabelSizes(a,a.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,n,a){const{ctx:r,_longestTextCache:i}=this,o=[],c=[],l=Math.floor(n/QT(n,a));let d=0,f=0,g,b,w,C,S,k,E,D,R,P,B;for(g=0;g<n;g+=l){if(C=t[g].label,S=this._resolveTickFontOptions(g),r.font=k=S.string,E=i[k]=i[k]||{data:{},gc:[]},D=S.lineHeight,R=P=0,!Aa(C)&&!Wr(C))R=Kx(r,E.data,E.gc,R,C),P=D;else if(Wr(C))for(b=0,w=C.length;b<w;++b)B=C[b],!Aa(B)&&!Wr(B)&&(R=Kx(r,E.data,E.gc,R,B),P+=D);o.push(R),c.push(P),d=Math.max(R,d),f=Math.max(P,f)}qwe(i,n);const O=o.indexOf(d),$=c.indexOf(f),U=F=>({width:o[F]||0,height:c[F]||0});return{first:U(0),last:U(n-1),widest:U(O),highest:U($),widths:o,heights:c}}getLabelForValue(t){return t}getPixelForValue(t,n){return NaN}getValueForPixel(t){}getPixelForTick(t){const n=this.ticks;return t<0||t>n.length-1?null:this.getPixelForValue(n[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const n=this._startPixel+t*this._length;return Eye(this._alignToPixels?lh(this.chart,n,0):n)}getDecimalForPixel(t){const n=(t-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:n}=this;return t<0&&n<0?n:t>0&&n>0?t:0}getContext(t){const n=this.ticks||[];if(t>=0&&t<n.length){const a=n[t];return a.$context||(a.$context=zwe(this.getContext(),t,a))}return this.$context||(this.$context=Vwe(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,n=Qc(this.labelRotation),a=Math.abs(Math.cos(n)),r=Math.abs(Math.sin(n)),i=this._getLabelSizes(),o=t.autoSkipPadding||0,c=i?i.widest.width+o:0,l=i?i.highest.height+o:0;return this.isHorizontal()?l*a>c*r?c/a:l/r:l*r<c*a?l/a:c/r}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const n=this.axis,a=this.chart,r=this.options,{grid:i,position:o,border:c}=r,l=i.offset,d=this.isHorizontal(),g=this.ticks.length+(l?1:0),b=j1(i),w=[],C=c.setContext(this.getContext()),S=C.display?C.width:0,k=S/2,E=function(V){return lh(a,V,S)};let D,R,P,B,O,$,U,F,H,se,K,te;if(o==="top")D=E(this.bottom),$=this.bottom-b,F=D-k,se=E(t.top)+k,te=t.bottom;else if(o==="bottom")D=E(this.top),se=t.top,te=E(t.bottom)-k,$=D+k,F=this.top+b;else if(o==="left")D=E(this.right),O=this.right-b,U=D-k,H=E(t.left)+k,K=t.right;else if(o==="right")D=E(this.left),H=t.left,K=E(t.right)-k,O=D+k,U=this.left+b;else if(n==="x"){if(o==="center")D=E((t.top+t.bottom)/2+.5);else if(Fa(o)){const V=Object.keys(o)[0],M=o[V];D=E(this.chart.scales[V].getPixelForValue(M))}se=t.top,te=t.bottom,$=D+k,F=$+b}else if(n==="y"){if(o==="center")D=E((t.left+t.right)/2);else if(Fa(o)){const V=Object.keys(o)[0],M=o[V];D=E(this.chart.scales[V].getPixelForValue(M))}O=D-k,U=O-b,H=t.left,K=t.right}const J=ua(r.ticks.maxTicksLimit,g),z=Math.max(1,Math.ceil(g/J));for(R=0;R<g;R+=z){const V=this.getContext(R),M=i.setContext(V),ee=c.setContext(V),Z=M.lineWidth,A=M.color,G=ee.dash||[],Q=ee.dashOffset,Y=M.tickWidth,ae=M.tickColor,ne=M.tickBorderDash||[],re=M.tickBorderDashOffset;P=Hwe(this,R,l),P!==void 0&&(B=lh(a,P,Z),d?O=U=H=K=B:$=F=se=te=B,w.push({tx1:O,ty1:$,tx2:U,ty2:F,x1:H,y1:se,x2:K,y2:te,width:Z,color:A,borderDash:G,borderDashOffset:Q,tickWidth:Y,tickColor:ae,tickBorderDash:ne,tickBorderDashOffset:re}))}return this._ticksLength=g,this._borderValue=D,w}_computeLabelItems(t){const n=this.axis,a=this.options,{position:r,ticks:i}=a,o=this.isHorizontal(),c=this.ticks,{align:l,crossAlign:d,padding:f,mirror:g}=i,b=j1(a.grid),w=b+f,C=g?-f:w,S=-Qc(this.labelRotation),k=[];let E,D,R,P,B,O,$,U,F,H,se,K,te="middle";if(r==="top")O=this.bottom-C,$=this._getXAxisLabelAlignment();else if(r==="bottom")O=this.top+C,$=this._getXAxisLabelAlignment();else if(r==="left"){const z=this._getYAxisLabelAlignment(b);$=z.textAlign,B=z.x}else if(r==="right"){const z=this._getYAxisLabelAlignment(b);$=z.textAlign,B=z.x}else if(n==="x"){if(r==="center")O=(t.top+t.bottom)/2+w;else if(Fa(r)){const z=Object.keys(r)[0],V=r[z];O=this.chart.scales[z].getPixelForValue(V)+w}$=this._getXAxisLabelAlignment()}else if(n==="y"){if(r==="center")B=(t.left+t.right)/2-w;else if(Fa(r)){const z=Object.keys(r)[0],V=r[z];B=this.chart.scales[z].getPixelForValue(V)}$=this._getYAxisLabelAlignment(b).textAlign}n==="y"&&(l==="start"?te="top":l==="end"&&(te="bottom"));const J=this._getLabelSizes();for(E=0,D=c.length;E<D;++E){R=c[E],P=R.label;const z=i.setContext(this.getContext(E));U=this.getPixelForTick(E)+i.labelOffset,F=this._resolveTickFontOptions(E),H=F.lineHeight,se=Wr(P)?P.length:1;const V=se/2,M=z.color,ee=z.textStrokeColor,Z=z.textStrokeWidth;let A=$;o?(B=U,$==="inner"&&(E===D-1?A=this.options.reverse?"left":"right":E===0?A=this.options.reverse?"right":"left":A="center"),r==="top"?d==="near"||S!==0?K=-se*H+H/2:d==="center"?K=-J.highest.height/2-V*H+H:K=-J.highest.height+H/2:d==="near"||S!==0?K=H/2:d==="center"?K=J.highest.height/2-V*H:K=J.highest.height-se*H,g&&(K*=-1),S!==0&&!z.showLabelBackdrop&&(B+=H/2*Math.sin(S))):(O=U,K=(1-se)*H/2);let G;if(z.showLabelBackdrop){const Q=vo(z.backdropPadding),Y=J.heights[E],ae=J.widths[E];let ne=K-Q.top,re=0-Q.left;switch(te){case"middle":ne-=Y/2;break;case"bottom":ne-=Y;break}switch($){case"center":re-=ae/2;break;case"right":re-=ae;break;case"inner":E===D-1?re-=ae:E>0&&(re-=ae/2);break}G={left:re,top:ne,width:ae+Q.width,height:Y+Q.height,color:z.backdropColor}}k.push({label:P,font:F,textOffset:K,options:{rotation:S,color:M,strokeColor:ee,strokeWidth:Z,textAlign:A,textBaseline:te,translation:[B,O],backdrop:G}})}return k}_getXAxisLabelAlignment(){const{position:t,ticks:n}=this.options;if(-Qc(this.labelRotation))return t==="top"?"left":"right";let r="center";return n.align==="start"?r="left":n.align==="end"?r="right":n.align==="inner"&&(r="inner"),r}_getYAxisLabelAlignment(t){const{position:n,ticks:{crossAlign:a,mirror:r,padding:i}}=this.options,o=this._getLabelSizes(),c=t+i,l=o.widest.width;let d,f;return n==="left"?r?(f=this.right+i,a==="near"?d="left":a==="center"?(d="center",f+=l/2):(d="right",f+=l)):(f=this.right-c,a==="near"?d="right":a==="center"?(d="center",f-=l/2):(d="left",f=this.left)):n==="right"?r?(f=this.left+i,a==="near"?d="right":a==="center"?(d="center",f-=l/2):(d="left",f-=l)):(f=this.left+c,a==="near"?d="left":a==="center"?(d="center",f+=l/2):(d="right",f=this.right)):d="right",{textAlign:d,x:f}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:n},left:a,top:r,width:i,height:o}=this;n&&(t.save(),t.fillStyle=n,t.fillRect(a,r,i,o),t.restore())}getLineWidthForValue(t){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const r=this.ticks.findIndex(i=>i.value===t);return r>=0?n.setContext(this.getContext(r)).lineWidth:0}drawGrid(t){const n=this.options.grid,a=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let i,o;const c=(l,d,f)=>{!f.width||!f.color||(a.save(),a.lineWidth=f.width,a.strokeStyle=f.color,a.setLineDash(f.borderDash||[]),a.lineDashOffset=f.borderDashOffset,a.beginPath(),a.moveTo(l.x,l.y),a.lineTo(d.x,d.y),a.stroke(),a.restore())};if(n.display)for(i=0,o=r.length;i<o;++i){const l=r[i];n.drawOnChartArea&&c({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),n.drawTicks&&c({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:n,options:{border:a,grid:r}}=this,i=a.setContext(this.getContext()),o=a.display?i.width:0;if(!o)return;const c=r.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let d,f,g,b;this.isHorizontal()?(d=lh(t,this.left,o)-o/2,f=lh(t,this.right,c)+c/2,g=b=l):(g=lh(t,this.top,o)-o/2,b=lh(t,this.bottom,c)+c/2,d=f=l),n.save(),n.lineWidth=i.width,n.strokeStyle=i.color,n.beginPath(),n.moveTo(d,g),n.lineTo(f,b),n.stroke(),n.restore()}drawLabels(t){if(!this.options.ticks.display)return;const a=this.ctx,r=this._computeLabelArea();r&&ly(a,r);const i=this.getLabelItems(t);for(const o of i){const c=o.options,l=o.font,d=o.label,f=o.textOffset;Qh(a,d,0,f,l,c)}r&&uy(a)}drawTitle(){const{ctx:t,options:{position:n,title:a,reverse:r}}=this;if(!a.display)return;const i=Bi(a.font),o=vo(a.padding),c=a.align;let l=i.lineHeight/2;n==="bottom"||n==="center"||Fa(n)?(l+=o.bottom,Wr(a.text)&&(l+=i.lineHeight*(a.text.length-1))):l+=o.top;const{titleX:d,titleY:f,maxWidth:g,rotation:b}=Wwe(this,l,n,c);Qh(t,a.text,0,0,i,{color:a.color,maxWidth:g,rotation:b,textAlign:Uwe(c,n,r),textBaseline:"middle",translation:[d,f]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,n=t.ticks&&t.ticks.z||0,a=ua(t.grid&&t.grid.z,-1),r=ua(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==nf.prototype.draw?[{z:n,draw:i=>{this.draw(i)}}]:[{z:a,draw:i=>{this.drawBackground(),this.drawGrid(i),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:n,draw:i=>{this.drawLabels(i)}}]}getMatchingVisibleMetas(t){const n=this.chart.getSortedVisibleDatasetMetas(),a=this.axis+"AxisID",r=[];let i,o;for(i=0,o=n.length;i<o;++i){const c=n[i];c[a]===this.id&&(!t||c.type===t)&&r.push(c)}return r}_resolveTickFontOptions(t){const n=this.options.ticks.setContext(this.getContext(t));return Bi(n.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class iv{constructor(t,n,a){this.type=t,this.scope=n,this.override=a,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const n=Object.getPrototypeOf(t);let a;Qwe(n)&&(a=this.register(n));const r=this.items,i=t.id,o=this.scope+"."+i;if(!i)throw new Error("class does not have id: "+t);return i in r||(r[i]=t,Ywe(t,o,a),this.override&&Yr.override(t.id,t.overrides)),o}get(t){return this.items[t]}unregister(t){const n=this.items,a=t.id,r=this.scope;a in n&&delete n[a],r&&a in Yr[r]&&(delete Yr[r][a],this.override&&delete Gh[a])}}function Ywe(e,t,n){const a=Fg(Object.create(null),[n?Yr.get(n):{},Yr.get(t),e.defaults]);Yr.set(t,a),e.defaultRoutes&&Gwe(t,e.defaultRoutes),e.descriptors&&Yr.describe(t,e.descriptors)}function Gwe(e,t){Object.keys(t).forEach(n=>{const a=n.split("."),r=a.pop(),i=[e].concat(a).join("."),o=t[n].split("."),c=o.pop(),l=o.join(".");Yr.route(i,r,l,c)})}function Qwe(e){return"id"in e&&"defaults"in e}class Xwe{constructor(){this.controllers=new iv(el,"datasets",!0),this.elements=new iv(Au,"elements"),this.plugins=new iv(Object,"plugins"),this.scales=new iv(nf,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,n,a){[...n].forEach(r=>{const i=a||this._getRegistryForType(r);a||i.isForType(r)||i===this.plugins&&r.id?this._exec(t,i,r):gr(r,o=>{const c=a||this._getRegistryForType(o);this._exec(t,c,o)})})}_exec(t,n,a){const r=r4(t);Mr(a["before"+r],[],a),n[t](a),Mr(a["after"+r],[],a)}_getRegistryForType(t){for(let n=0;n<this._typedRegistries.length;n++){const a=this._typedRegistries[n];if(a.isForType(t))return a}return this.plugins}_get(t,n,a){const r=n.get(t);if(r===void 0)throw new Error('"'+t+'" is not a registered '+a+".");return r}}var wl=new Xwe;class Kwe{constructor(){this._init=[]}notify(t,n,a,r){n==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const i=r?this._descriptors(t).filter(r):this._descriptors(t),o=this._notify(i,t,n,a);return n==="afterDestroy"&&(this._notify(i,t,"stop"),this._notify(this._init,t,"uninstall")),o}_notify(t,n,a,r){r=r||{};for(const i of t){const o=i.plugin,c=o[a],l=[n,r,i.options];if(Mr(c,l,o)===!1&&r.cancelable)return!1}return!0}invalidate(){Aa(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),n}_createDescriptors(t,n){const a=t&&t.config,r=ua(a.options&&a.options.plugins,{}),i=Zwe(a);return r===!1&&!n?[]:eje(t,i,r,n)}_notifyStateChanges(t){const n=this._oldCache||[],a=this._cache,r=(i,o)=>i.filter(c=>!o.some(l=>c.plugin.id===l.plugin.id));this._notify(r(n,a),t,"stop"),this._notify(r(a,n),t,"start")}}function Zwe(e){const t={},n=[],a=Object.keys(wl.plugins.items);for(let i=0;i<a.length;i++)n.push(wl.getPlugin(a[i]));const r=e.plugins||[];for(let i=0;i<r.length;i++){const o=r[i];n.indexOf(o)===-1&&(n.push(o),t[o.id]=!0)}return{plugins:n,localIds:t}}function Jwe(e,t){return!t&&e===!1?null:e===!0?{}:e}function eje(e,{plugins:t,localIds:n},a,r){const i=[],o=e.getContext();for(const c of t){const l=c.id,d=Jwe(a[l],r);d!==null&&i.push({plugin:c,options:tje(e.config,{plugin:c,local:n[l]},d,o)})}return i}function tje(e,{plugin:t,local:n},a,r){const i=e.pluginScopeKeys(t),o=e.getOptionScopes(a,i);return n&&t.defaults&&o.push(t.defaults),e.createResolver(o,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function OS(e,t){const n=Yr.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||n.indexAxis||"x"}function nje(e,t){let n=e;return e==="_index_"?n=t:e==="_value_"&&(n=t==="x"?"y":"x"),n}function sje(e,t){return e===t?"_index_":"_value_"}function ZT(e){if(e==="x"||e==="y"||e==="r")return e}function aje(e){if(e==="top"||e==="bottom")return"x";if(e==="left"||e==="right")return"y"}function LS(e,...t){if(ZT(e))return e;for(const n of t){const a=n.axis||aje(n.position)||e.length>1&&ZT(e[0].toLowerCase());if(a)return a}throw new Error(`Cannot determine type of '${e}' axis. Please provide 'axis' or 'position' option.`)}function JT(e,t,n){if(n[t+"AxisID"]===e)return{axis:t}}function rje(e,t){if(t.data&&t.data.datasets){const n=t.data.datasets.filter(a=>a.xAxisID===e||a.yAxisID===e);if(n.length)return JT(e,"x",n[0])||JT(e,"y",n[0])}return{}}function ije(e,t){const n=Gh[e.type]||{scales:{}},a=t.scales||{},r=OS(e.type,t),i=Object.create(null);return Object.keys(a).forEach(o=>{const c=a[o];if(!Fa(c))return console.error(`Invalid scale configuration for scale: ${o}`);if(c._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const l=LS(o,c,rje(o,e),Yr.scales[c.type]),d=sje(l,r),f=n.scales||{};i[o]=gg(Object.create(null),[{axis:l},c,f[l],f[d]])}),e.data.datasets.forEach(o=>{const c=o.type||e.type,l=o.indexAxis||OS(c,t),f=(Gh[c]||{}).scales||{};Object.keys(f).forEach(g=>{const b=nje(g,l),w=o[b+"AxisID"]||b;i[w]=i[w]||Object.create(null),gg(i[w],[{axis:b},a[w],f[g]])})}),Object.keys(i).forEach(o=>{const c=i[o];gg(c,[Yr.scales[c.type],Yr.scale])}),i}function cL(e){const t=e.options||(e.options={});t.plugins=ua(t.plugins,{}),t.scales=ije(e,t)}function lL(e){return e=e||{},e.datasets=e.datasets||[],e.labels=e.labels||[],e}function oje(e){return e=e||{},e.data=lL(e.data),cL(e),e}const eD=new Map,uL=new Set;function ov(e,t){let n=eD.get(e);return n||(n=t(),eD.set(e,n),uL.add(n)),n}const C1=(e,t,n)=>{const a=Md(t,n);a!==void 0&&e.add(a)};class cje{constructor(t){this._config=oje(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=lL(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),cL(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return ov(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,n){return ov(`${t}.transition.${n}`,()=>[[`datasets.${t}.transitions.${n}`,`transitions.${n}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,n){return ov(`${t}-${n}`,()=>[[`datasets.${t}.elements.${n}`,`datasets.${t}`,`elements.${n}`,""]])}pluginScopeKeys(t){const n=t.id,a=this.type;return ov(`${a}-plugin-${n}`,()=>[[`plugins.${n}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,n){const a=this._scopeCache;let r=a.get(t);return(!r||n)&&(r=new Map,a.set(t,r)),r}getOptionScopes(t,n,a){const{options:r,type:i}=this,o=this._cachedScopes(t,a),c=o.get(n);if(c)return c;const l=new Set;n.forEach(f=>{t&&(l.add(t),f.forEach(g=>C1(l,t,g))),f.forEach(g=>C1(l,r,g)),f.forEach(g=>C1(l,Gh[i]||{},g)),f.forEach(g=>C1(l,Yr,g)),f.forEach(g=>C1(l,MS,g))});const d=Array.from(l);return d.length===0&&d.push(Object.create(null)),uL.has(n)&&o.set(n,d),d}chartOptionScopes(){const{options:t,type:n}=this;return[t,Gh[n]||{},Yr.datasets[n]||{},{type:n},Yr,MS]}resolveNamedOptions(t,n,a,r=[""]){const i={$shared:!0},{resolver:o,subPrefixes:c}=tD(this._resolverCache,t,r);let l=o;if(uje(o,n)){i.$shared=!1,a=Rd(a)?a():a;const d=this.createResolver(t,a,c);l=Mm(o,a,d)}for(const d of n)i[d]=l[d];return i}createResolver(t,n,a=[""],r){const{resolver:i}=tD(this._resolverCache,t,a);return Fa(n)?Mm(i,n,void 0,r):i}}function tD(e,t,n){let a=e.get(t);a||(a=new Map,e.set(t,a));const r=n.join();let i=a.get(r);return i||(i={resolver:d4(t,n),subPrefixes:n.filter(c=>!c.toLowerCase().includes("hover"))},a.set(r,i)),i}const lje=e=>Fa(e)&&Object.getOwnPropertyNames(e).some(t=>Rd(e[t]));function uje(e,t){const{isScriptable:n,isIndexable:a}=qO(e);for(const r of t){const i=n(r),o=a(r),c=(o||i)&&e[r];if(i&&(Rd(c)||lje(c))||o&&Wr(c))return!0}return!1}var dje="4.4.9";const hje=["top","bottom","left","right","chartArea"];function nD(e,t){return e==="top"||e==="bottom"||hje.indexOf(e)===-1&&t==="x"}function sD(e,t){return function(n,a){return n[e]===a[e]?n[t]-a[t]:n[e]-a[e]}}function aD(e){const t=e.chart,n=t.options.animation;t.notifyPlugins("afterRender"),Mr(n&&n.onComplete,[e],t)}function fje(e){const t=e.chart,n=t.options.animation;Mr(n&&n.onProgress,[e],t)}function dL(e){return m4()&&typeof e=="string"?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const Kv={},rD=e=>{const t=dL(e);return Object.values(Kv).filter(n=>n.canvas===t).pop()};function mje(e,t,n){const a=Object.keys(e);for(const r of a){const i=+r;if(i>=t){const o=e[r];delete e[r],(n>0||i>t)&&(e[i+n]=o)}}}function pje(e,t,n,a){return!n||e.type==="mouseout"?null:a?t:e}class ac{static register(...t){wl.add(...t),iD()}static unregister(...t){wl.remove(...t),iD()}constructor(t,n){const a=this.config=new cje(n),r=dL(t),i=rD(r);if(i)throw new Error("Canvas is already in use. Chart with ID '"+i.id+"' must be destroyed before the canvas with ID '"+i.canvas.id+"' can be reused.");const o=a.createResolver(a.chartOptionScopes(),this.getContext());this.platform=new(a.platform||Mwe(r)),this.platform.updateConfig(a);const c=this.platform.acquireContext(r,o.aspectRatio),l=c&&c.canvas,d=l&&l.height,f=l&&l.width;if(this.id=gye(),this.ctx=c,this.canvas=l,this.width=f,this.height=d,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new Kwe,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=Mye(g=>this.update(g),o.resizeDelay||0),this._dataChanges=[],Kv[this.id]=this,!c||!l){console.error("Failed to create chart: can't acquire context from the given item");return}du.listen(this,"complete",aD),du.listen(this,"progress",fje),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:n},width:a,height:r,_aspectRatio:i}=this;return Aa(t)?n&&i?i:r?a/r:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return wl}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():IT(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return ST(this.canvas,this.ctx),this}stop(){return du.stop(this),this}resize(t,n){du.running(this)?this._resizeBeforeDraw={width:t,height:n}:this._resize(t,n)}_resize(t,n){const a=this.options,r=this.canvas,i=a.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(r,t,n,i),c=a.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,IT(this,c,!0)&&(this.notifyPlugins("resize",{size:o}),Mr(a.onResize,[this,o],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};gr(n,(a,r)=>{a.id=r})}buildOrUpdateScales(){const t=this.options,n=t.scales,a=this.scales,r=Object.keys(a).reduce((o,c)=>(o[c]=!1,o),{});let i=[];n&&(i=i.concat(Object.keys(n).map(o=>{const c=n[o],l=LS(o,c),d=l==="r",f=l==="x";return{options:c,dposition:d?"chartArea":f?"bottom":"left",dtype:d?"radialLinear":f?"category":"linear"}}))),gr(i,o=>{const c=o.options,l=c.id,d=LS(l,c),f=ua(c.type,o.dtype);(c.position===void 0||nD(c.position,d)!==nD(o.dposition))&&(c.position=o.dposition),r[l]=!0;let g=null;if(l in a&&a[l].type===f)g=a[l];else{const b=wl.getScale(f);g=new b({id:l,type:f,ctx:this.ctx,chart:this}),a[g.id]=g}g.init(c,t)}),gr(r,(o,c)=>{o||delete a[c]}),gr(a,o=>{go.configure(this,o,o.options),go.addBox(this,o)})}_updateMetasets(){const t=this._metasets,n=this.data.datasets.length,a=t.length;if(t.sort((r,i)=>r.index-i.index),a>n){for(let r=n;r<a;++r)this._destroyDatasetMeta(r);t.splice(n,a-n)}this._sortedMetasets=t.slice(0).sort(sD("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:n}}=this;t.length>n.length&&delete this._stacks,t.forEach((a,r)=>{n.filter(i=>i===a._dataset).length===0&&this._destroyDatasetMeta(r)})}buildOrUpdateControllers(){const t=[],n=this.data.datasets;let a,r;for(this._removeUnreferencedMetasets(),a=0,r=n.length;a<r;a++){const i=n[a];let o=this.getDatasetMeta(a);const c=i.type||this.config.type;if(o.type&&o.type!==c&&(this._destroyDatasetMeta(a),o=this.getDatasetMeta(a)),o.type=c,o.indexAxis=i.indexAxis||OS(c,this.options),o.order=i.order||0,o.index=a,o.label=""+i.label,o.visible=this.isDatasetVisible(a),o.controller)o.controller.updateIndex(a),o.controller.linkScales();else{const l=wl.getController(c),{datasetElementType:d,dataElementType:f}=Yr.datasets[c];Object.assign(l,{dataElementType:wl.getElement(f),datasetElementType:d&&wl.getElement(d)}),o.controller=new l(this,a),t.push(o.controller)}}return this._updateMetasets(),t}_resetElements(){gr(this.data.datasets,(t,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const n=this.config;n.update();const a=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!a.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const i=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let d=0,f=this.data.datasets.length;d<f;d++){const{controller:g}=this.getDatasetMeta(d),b=!r&&i.indexOf(g)===-1;g.buildOrUpdateElements(b),o=Math.max(+g.getMaxOverflow(),o)}o=this._minPadding=a.layout.autoPadding?o:0,this._updateLayout(o),r||gr(i,d=>{d.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(sD("z","_idx"));const{_active:c,_lastEvent:l}=this;l?this._eventHandler(l,!0):c.length&&this._updateHoverStyles(c,c,!0),this.render()}_updateScales(){gr(this.scales,t=>{go.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,n=new Set(Object.keys(this._listeners)),a=new Set(t.events);(!gT(n,a)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,n=this._getUniformDataChanges()||[];for(const{method:a,start:r,count:i}of n){const o=a==="_removeElements"?-i:i;mje(t,r,o)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const n=this.data.datasets.length,a=i=>new Set(t.filter(o=>o[0]===i).map((o,c)=>c+","+o.splice(1).join(","))),r=a(0);for(let i=1;i<n;i++)if(!gT(r,a(i)))return;return Array.from(r).map(i=>i.split(",")).map(i=>({method:i[1],start:+i[2],count:+i[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;go.update(this,this.width,this.height,t);const n=this.chartArea,a=n.width<=0||n.height<=0;this._layers=[],gr(this.boxes,r=>{a&&r.position==="chartArea"||(r.configure&&r.configure(),this._layers.push(...r._layers()))},this),this._layers.forEach((r,i)=>{r._idx=i}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let n=0,a=this.data.datasets.length;n<a;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,a=this.data.datasets.length;n<a;++n)this._updateDataset(n,Rd(t)?t({datasetIndex:n}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,n){const a=this.getDatasetMeta(t),r={meta:a,index:t,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",r)!==!1&&(a.controller._update(n),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(du.has(this)?this.attached&&!du.running(this)&&du.start(this):(this.draw(),aD({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:a,height:r}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(a,r)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(t=0;t<n.length&&n[t].z<=0;++t)n[t].draw(this.chartArea);for(this._drawDatasets();t<n.length;++t)n[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const n=this._sortedMetasets,a=[];let r,i;for(r=0,i=n.length;r<i;++r){const o=n[r];(!t||o.visible)&&a.push(o)}return a}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let n=t.length-1;n>=0;--n)this._drawDataset(t[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const n=this.ctx,a={meta:t,index:t.index,cancelable:!0},r=JO(this,t);this.notifyPlugins("beforeDatasetDraw",a)!==!1&&(r&&ly(n,r),t.controller.draw(),r&&uy(n),a.cancelable=!1,this.notifyPlugins("afterDatasetDraw",a))}isPointInArea(t){return _u(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,n,a,r){const i=hwe.modes[n];return typeof i=="function"?i(this,t,a,r):[]}getDatasetMeta(t){const n=this.data.datasets[t],a=this._metasets;let r=a.filter(i=>i&&i._dataset===n).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:t,_dataset:n,_parsed:[],_sorted:!1},a.push(r)),r}getContext(){return this.$context||(this.$context=$d(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const n=this.data.datasets[t];if(!n)return!1;const a=this.getDatasetMeta(t);return typeof a.hidden=="boolean"?!a.hidden:!n.hidden}setDatasetVisibility(t,n){const a=this.getDatasetMeta(t);a.hidden=!n}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,n,a){const r=a?"show":"hide",i=this.getDatasetMeta(t),o=i.controller._resolveAnimations(void 0,r);Hg(n)?(i.data[n].hidden=!a,this.update()):(this.setDatasetVisibility(t,a),o.update(i,{visible:a}),this.update(c=>c.datasetIndex===t?r:void 0))}hide(t,n){this._updateVisibility(t,n,!1)}show(t,n){this._updateVisibility(t,n,!0)}_destroyDatasetMeta(t){const n=this._metasets[t];n&&n.controller&&n.controller._destroy(),delete this._metasets[t]}_stop(){let t,n;for(this.stop(),du.remove(this),t=0,n=this.data.datasets.length;t<n;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:n}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),ST(t,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete Kv[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,n=this.platform,a=(i,o)=>{n.addEventListener(this,i,o),t[i]=o},r=(i,o,c)=>{i.offsetX=o,i.offsetY=c,this._eventHandler(i)};gr(this.options.events,i=>a(i,r))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,n=this.platform,a=(l,d)=>{n.addEventListener(this,l,d),t[l]=d},r=(l,d)=>{t[l]&&(n.removeEventListener(this,l,d),delete t[l])},i=(l,d)=>{this.canvas&&this.resize(l,d)};let o;const c=()=>{r("attach",c),this.attached=!0,this.resize(),a("resize",i),a("detach",o)};o=()=>{this.attached=!1,r("resize",i),this._stop(),this._resize(0,0),a("attach",c)},n.isAttached(this.canvas)?c():o()}unbindEvents(){gr(this._listeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._listeners={},gr(this._responsiveListeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,n,a){const r=a?"set":"remove";let i,o,c,l;for(n==="dataset"&&(i=this.getDatasetMeta(t[0].datasetIndex),i.controller["_"+r+"DatasetHoverStyle"]()),c=0,l=t.length;c<l;++c){o=t[c];const d=o&&this.getDatasetMeta(o.datasetIndex).controller;d&&d[r+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const n=this._active||[],a=t.map(({datasetIndex:i,index:o})=>{const c=this.getDatasetMeta(i);if(!c)throw new Error("No dataset found at index "+i);return{datasetIndex:i,element:c.data[o],index:o}});!Gx(a,n)&&(this._active=a,this._lastEvent=null,this._updateHoverStyles(a,n))}notifyPlugins(t,n,a){return this._plugins.notify(this,t,n,a)}isPluginEnabled(t){return this._plugins._cache.filter(n=>n.plugin.id===t).length===1}_updateHoverStyles(t,n,a){const r=this.options.hover,i=(l,d)=>l.filter(f=>!d.some(g=>f.datasetIndex===g.datasetIndex&&f.index===g.index)),o=i(n,t),c=a?t:i(t,n);o.length&&this.updateHoverStyle(o,r.mode,!1),c.length&&r.mode&&this.updateHoverStyle(c,r.mode,!0)}_eventHandler(t,n){const a={event:t,replay:n,cancelable:!0,inChartArea:this.isPointInArea(t)},r=o=>(o.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",a,r)===!1)return;const i=this._handleEvent(t,n,a.inChartArea);return a.cancelable=!1,this.notifyPlugins("afterEvent",a,r),(i||a.changed)&&this.render(),this}_handleEvent(t,n,a){const{_active:r=[],options:i}=this,o=n,c=this._getActiveElements(t,r,a,o),l=wye(t),d=pje(t,this._lastEvent,a,l);a&&(this._lastEvent=null,Mr(i.onHover,[t,c,this],this),l&&Mr(i.onClick,[t,c,this],this));const f=!Gx(c,r);return(f||n)&&(this._active=c,this._updateHoverStyles(c,r,n)),this._lastEvent=d,f}_getActiveElements(t,n,a,r){if(t.type==="mouseout")return[];if(!a)return n;const i=this.options.hover;return this.getElementsAtEventForMode(t,i.mode,i,r)}}Pt(ac,"defaults",Yr),Pt(ac,"instances",Kv),Pt(ac,"overrides",Gh),Pt(ac,"registry",wl),Pt(ac,"version",dje),Pt(ac,"getChart",rD);function iD(){return gr(ac.instances,e=>e._plugins.invalidate())}function gje(e,t,n){const{startAngle:a,pixelMargin:r,x:i,y:o,outerRadius:c,innerRadius:l}=t;let d=r/c;e.beginPath(),e.arc(i,o,c,a-d,n+d),l>r?(d=r/l,e.arc(i,o,l,n+d,a-d,!0)):e.arc(i,o,r,n+xi,a-xi),e.closePath(),e.clip()}function _je(e){return u4(e,["outerStart","outerEnd","innerStart","innerEnd"])}function vje(e,t,n,a){const r=_je(e.options.borderRadius),i=(n-t)/2,o=Math.min(i,a*t/2),c=l=>{const d=(n-Math.min(i,l))*a/2;return Wi(l,0,Math.min(i,d))};return{outerStart:c(r.outerStart),outerEnd:c(r.outerEnd),innerStart:Wi(r.innerStart,0,o),innerEnd:Wi(r.innerEnd,0,o)}}function Wf(e,t,n,a){return{x:n+e*Math.cos(t),y:a+e*Math.sin(t)}}function eb(e,t,n,a,r,i){const{x:o,y:c,startAngle:l,pixelMargin:d,innerRadius:f}=t,g=Math.max(t.outerRadius+a+n-d,0),b=f>0?f+a+n+d:0;let w=0;const C=r-l;if(a){const z=f>0?f-a:0,V=g>0?g-a:0,M=(z+V)/2,ee=M!==0?C*M/(M+a):C;w=(C-ee)/2}const S=Math.max(.001,C*g-n/$r)/g,k=(C-S)/2,E=l+k+w,D=r-k-w,{outerStart:R,outerEnd:P,innerStart:B,innerEnd:O}=vje(t,b,g,D-E),$=g-R,U=g-P,F=E+R/$,H=D-P/U,se=b+B,K=b+O,te=E+B/se,J=D-O/K;if(e.beginPath(),i){const z=(F+H)/2;if(e.arc(o,c,g,F,z),e.arc(o,c,g,z,H),P>0){const Z=Wf(U,H,o,c);e.arc(Z.x,Z.y,P,H,D+xi)}const V=Wf(K,D,o,c);if(e.lineTo(V.x,V.y),O>0){const Z=Wf(K,J,o,c);e.arc(Z.x,Z.y,O,D+xi,J+Math.PI)}const M=(D-O/b+(E+B/b))/2;if(e.arc(o,c,b,D-O/b,M,!0),e.arc(o,c,b,M,E+B/b,!0),B>0){const Z=Wf(se,te,o,c);e.arc(Z.x,Z.y,B,te+Math.PI,E-xi)}const ee=Wf($,E,o,c);if(e.lineTo(ee.x,ee.y),R>0){const Z=Wf($,F,o,c);e.arc(Z.x,Z.y,R,E-xi,F)}}else{e.moveTo(o,c);const z=Math.cos(F)*g+o,V=Math.sin(F)*g+c;e.lineTo(z,V);const M=Math.cos(H)*g+o,ee=Math.sin(H)*g+c;e.lineTo(M,ee)}e.closePath()}function xje(e,t,n,a,r){const{fullCircles:i,startAngle:o,circumference:c}=t;let l=t.endAngle;if(i){eb(e,t,n,a,l,r);for(let d=0;d<i;++d)e.fill();isNaN(c)||(l=o+(c%Or||Or))}return eb(e,t,n,a,l,r),e.fill(),l}function bje(e,t,n,a,r){const{fullCircles:i,startAngle:o,circumference:c,options:l}=t,{borderWidth:d,borderJoinStyle:f,borderDash:g,borderDashOffset:b}=l,w=l.borderAlign==="inner";if(!d)return;e.setLineDash(g||[]),e.lineDashOffset=b,w?(e.lineWidth=d*2,e.lineJoin=f||"round"):(e.lineWidth=d,e.lineJoin=f||"bevel");let C=t.endAngle;if(i){eb(e,t,n,a,C,r);for(let S=0;S<i;++S)e.stroke();isNaN(c)||(C=o+(c%Or||Or))}w&&gje(e,t,C),i||(eb(e,t,n,a,C,r),e.stroke())}class Q1 extends Au{constructor(n){super();Pt(this,"circumference");Pt(this,"endAngle");Pt(this,"fullCircles");Pt(this,"innerRadius");Pt(this,"outerRadius");Pt(this,"pixelMargin");Pt(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,n&&Object.assign(this,n)}inRange(n,a,r){const i=this.getProps(["x","y"],r),{angle:o,distance:c}=AO(i,{x:n,y:a}),{startAngle:l,endAngle:d,innerRadius:f,outerRadius:g,circumference:b}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],r),w=(this.options.spacing+this.options.borderWidth)/2,C=ua(b,d-l),S=qg(o,l,d)&&l!==d,k=C>=Or||S,E=pu(c,f+w,g+w);return k&&E}getCenterPoint(n){const{x:a,y:r,startAngle:i,endAngle:o,innerRadius:c,outerRadius:l}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],n),{offset:d,spacing:f}=this.options,g=(i+o)/2,b=(c+l+f+d)/2;return{x:a+Math.cos(g)*b,y:r+Math.sin(g)*b}}tooltipPosition(n){return this.getCenterPoint(n)}draw(n){const{options:a,circumference:r}=this,i=(a.offset||0)/4,o=(a.spacing||0)/2,c=a.circular;if(this.pixelMargin=a.borderAlign==="inner"?.33:0,this.fullCircles=r>Or?Math.floor(r/Or):0,r===0||this.innerRadius<0||this.outerRadius<0)return;n.save();const l=(this.startAngle+this.endAngle)/2;n.translate(Math.cos(l)*i,Math.sin(l)*i);const d=1-Math.sin(Math.min($r,r||0)),f=i*d;n.fillStyle=a.backgroundColor,n.strokeStyle=a.borderColor,xje(n,this,f,o,c),bje(n,this,f,o,c),n.restore()}}Pt(Q1,"id","arc"),Pt(Q1,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),Pt(Q1,"defaultRoutes",{backgroundColor:"backgroundColor"}),Pt(Q1,"descriptors",{_scriptable:!0,_indexable:n=>n!=="borderDash"});function hL(e,t,n=t){e.lineCap=ua(n.borderCapStyle,t.borderCapStyle),e.setLineDash(ua(n.borderDash,t.borderDash)),e.lineDashOffset=ua(n.borderDashOffset,t.borderDashOffset),e.lineJoin=ua(n.borderJoinStyle,t.borderJoinStyle),e.lineWidth=ua(n.borderWidth,t.borderWidth),e.strokeStyle=ua(n.borderColor,t.borderColor)}function yje(e,t,n){e.lineTo(n.x,n.y)}function wje(e){return e.stepped?Uye:e.tension||e.cubicInterpolationMode==="monotone"?Wye:yje}function fL(e,t,n={}){const a=e.length,{start:r=0,end:i=a-1}=n,{start:o,end:c}=t,l=Math.max(r,o),d=Math.min(i,c),f=r<o&&i<o||r>c&&i>c;return{count:a,start:l,loop:t.loop,ilen:d<l&&!f?a+d-l:d-l}}function jje(e,t,n,a){const{points:r,options:i}=t,{count:o,start:c,loop:l,ilen:d}=fL(r,n,a),f=wje(i);let{move:g=!0,reverse:b}=a||{},w,C,S;for(w=0;w<=d;++w)C=r[(c+(b?d-w:w))%o],!C.skip&&(g?(e.moveTo(C.x,C.y),g=!1):f(e,S,C,b,i.stepped),S=C);return l&&(C=r[(c+(b?d:0))%o],f(e,S,C,b,i.stepped)),!!l}function Cje(e,t,n,a){const r=t.points,{count:i,start:o,ilen:c}=fL(r,n,a),{move:l=!0,reverse:d}=a||{};let f=0,g=0,b,w,C,S,k,E;const D=P=>(o+(d?c-P:P))%i,R=()=>{S!==k&&(e.lineTo(f,k),e.lineTo(f,S),e.lineTo(f,E))};for(l&&(w=r[D(0)],e.moveTo(w.x,w.y)),b=0;b<=c;++b){if(w=r[D(b)],w.skip)continue;const P=w.x,B=w.y,O=P|0;O===C?(B<S?S=B:B>k&&(k=B),f=(g*f+P)/++g):(R(),e.lineTo(P,B),C=O,g=0,S=k=B),E=B}R()}function $S(e){const t=e.options,n=t.borderDash&&t.borderDash.length;return!e._decimated&&!e._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!n?Cje:jje}function Sje(e){return e.stepped?C2e:e.tension||e.cubicInterpolationMode==="monotone"?S2e:_h}function Nje(e,t,n,a){let r=t._path;r||(r=t._path=new Path2D,t.path(r,n,a)&&r.closePath()),hL(e,t.options),e.stroke(r)}function kje(e,t,n,a){const{segments:r,options:i}=t,o=$S(t);for(const c of r)hL(e,i,c.style),e.beginPath(),o(e,t,c,{start:n,end:n+a-1})&&e.closePath(),e.stroke()}const Ije=typeof Path2D=="function";function Eje(e,t,n,a){Ije&&!t.options.segment?Nje(e,t,n,a):kje(e,t,n,a)}class yd extends Au{constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,n){const a=this.options;if((a.tension||a.cubicInterpolationMode==="monotone")&&!a.stepped&&!this._pointsUpdated){const r=a.spanGaps?this._loop:this._fullLoop;g2e(this._points,a,t,r,n),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=D2e(this,this.options.segment))}first(){const t=this.segments,n=this.points;return t.length&&n[t[0].start]}last(){const t=this.segments,n=this.points,a=t.length;return a&&n[t[a-1].end]}interpolate(t,n){const a=this.options,r=t[n],i=this.points,o=ZO(this,{property:n,start:r,end:r});if(!o.length)return;const c=[],l=Sje(a);let d,f;for(d=0,f=o.length;d<f;++d){const{start:g,end:b}=o[d],w=i[g],C=i[b];if(w===C){c.push(w);continue}const S=Math.abs((r-w[n])/(C[n]-w[n])),k=l(w,C,S,a.stepped);k[n]=t[n],c.push(k)}return c.length===1?c[0]:c}pathSegment(t,n,a){return $S(this)(t,this,n,a)}path(t,n,a){const r=this.segments,i=$S(this);let o=this._loop;n=n||0,a=a||this.points.length-n;for(const c of r)o&=i(t,this,c,{start:n,end:n+a-1});return!!o}draw(t,n,a,r){const i=this.options||{};(this.points||[]).length&&i.borderWidth&&(t.save(),Eje(t,this,a,r),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}Pt(yd,"id","line"),Pt(yd,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),Pt(yd,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),Pt(yd,"descriptors",{_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"});function oD(e,t,n,a){const r=e.options,{[n]:i}=e.getProps([n],a);return Math.abs(t-i)<r.radius+r.hitRadius}class Zv extends Au{constructor(n){super();Pt(this,"parsed");Pt(this,"skip");Pt(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,n&&Object.assign(this,n)}inRange(n,a,r){const i=this.options,{x:o,y:c}=this.getProps(["x","y"],r);return Math.pow(n-o,2)+Math.pow(a-c,2)<Math.pow(i.hitRadius+i.radius,2)}inXRange(n,a){return oD(this,n,"x",a)}inYRange(n,a){return oD(this,n,"y",a)}getCenterPoint(n){const{x:a,y:r}=this.getProps(["x","y"],n);return{x:a,y:r}}size(n){n=n||this.options||{};let a=n.radius||0;a=Math.max(a,a&&n.hoverRadius||0);const r=a&&n.borderWidth||0;return(a+r)*2}draw(n,a){const r=this.options;this.skip||r.radius<.1||!_u(this,a,this.size(r)/2)||(n.strokeStyle=r.borderColor,n.lineWidth=r.borderWidth,n.fillStyle=r.backgroundColor,RS(n,r,this.x,this.y))}getRange(){const n=this.options||{};return n.radius+n.hitRadius}}Pt(Zv,"id","point"),Pt(Zv,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),Pt(Zv,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function mL(e,t){const{x:n,y:a,base:r,width:i,height:o}=e.getProps(["x","y","base","width","height"],t);let c,l,d,f,g;return e.horizontal?(g=o/2,c=Math.min(n,r),l=Math.max(n,r),d=a-g,f=a+g):(g=i/2,c=n-g,l=n+g,d=Math.min(a,r),f=Math.max(a,r)),{left:c,top:d,right:l,bottom:f}}function wd(e,t,n,a){return e?0:Wi(t,n,a)}function Tje(e,t,n){const a=e.options.borderWidth,r=e.borderSkipped,i=HO(a);return{t:wd(r.top,i.top,0,n),r:wd(r.right,i.right,0,t),b:wd(r.bottom,i.bottom,0,n),l:wd(r.left,i.left,0,t)}}function Dje(e,t,n){const{enableBorderRadius:a}=e.getProps(["enableBorderRadius"]),r=e.options.borderRadius,i=Oh(r),o=Math.min(t,n),c=e.borderSkipped,l=a||Fa(r);return{topLeft:wd(!l||c.top||c.left,i.topLeft,0,o),topRight:wd(!l||c.top||c.right,i.topRight,0,o),bottomLeft:wd(!l||c.bottom||c.left,i.bottomLeft,0,o),bottomRight:wd(!l||c.bottom||c.right,i.bottomRight,0,o)}}function Aje(e){const t=mL(e),n=t.right-t.left,a=t.bottom-t.top,r=Tje(e,n/2,a/2),i=Dje(e,n/2,a/2);return{outer:{x:t.left,y:t.top,w:n,h:a,radius:i},inner:{x:t.left+r.l,y:t.top+r.t,w:n-r.l-r.r,h:a-r.t-r.b,radius:{topLeft:Math.max(0,i.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,i.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,i.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,i.bottomRight-Math.max(r.b,r.r))}}}}function Fj(e,t,n,a){const r=t===null,i=n===null,c=e&&!(r&&i)&&mL(e,a);return c&&(r||pu(t,c.left,c.right))&&(i||pu(n,c.top,c.bottom))}function Mje(e){return e.topLeft||e.topRight||e.bottomLeft||e.bottomRight}function Rje(e,t){e.rect(t.x,t.y,t.w,t.h)}function Hj(e,t,n={}){const a=e.x!==n.x?-t:0,r=e.y!==n.y?-t:0,i=(e.x+e.w!==n.x+n.w?t:0)-a,o=(e.y+e.h!==n.y+n.h?t:0)-r;return{x:e.x+a,y:e.y+r,w:e.w+i,h:e.h+o,radius:e.radius}}class Jv extends Au{constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:n,options:{borderColor:a,backgroundColor:r}}=this,{inner:i,outer:o}=Aje(this),c=Mje(o.radius)?Vg:Rje;t.save(),(o.w!==i.w||o.h!==i.h)&&(t.beginPath(),c(t,Hj(o,n,i)),t.clip(),c(t,Hj(i,-n,o)),t.fillStyle=a,t.fill("evenodd")),t.beginPath(),c(t,Hj(i,n)),t.fillStyle=r,t.fill(),t.restore()}inRange(t,n,a){return Fj(this,t,n,a)}inXRange(t,n){return Fj(this,t,null,n)}inYRange(t,n){return Fj(this,null,t,n)}getCenterPoint(t){const{x:n,y:a,base:r,horizontal:i}=this.getProps(["x","y","base","horizontal"],t);return{x:i?(n+r)/2:n,y:i?a:(a+r)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}Pt(Jv,"id","bar"),Pt(Jv,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),Pt(Jv,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});var Bje=Object.freeze({__proto__:null,ArcElement:Q1,BarElement:Jv,LineElement:yd,PointElement:Zv});const PS=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],cD=PS.map(e=>e.replace("rgb(","rgba(").replace(")",", 0.5)"));function pL(e){return PS[e%PS.length]}function gL(e){return cD[e%cD.length]}function Oje(e,t){return e.borderColor=pL(t),e.backgroundColor=gL(t),++t}function Lje(e,t){return e.backgroundColor=e.data.map(()=>pL(t++)),t}function $je(e,t){return e.backgroundColor=e.data.map(()=>gL(t++)),t}function Pje(e){let t=0;return(n,a)=>{const r=e.getDatasetMeta(a).controller;r instanceof Ch?t=Lje(n,t):r instanceof bg?t=$je(n,t):r&&(t=Oje(n,t))}}function lD(e){let t;for(t in e)if(e[t].borderColor||e[t].backgroundColor)return!0;return!1}function Fje(e){return e&&(e.borderColor||e.backgroundColor)}function Hje(){return Yr.borderColor!=="rgba(0,0,0,0.1)"||Yr.backgroundColor!=="rgba(0,0,0,0.1)"}var qje={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(e,t,n){if(!n.enabled)return;const{data:{datasets:a},options:r}=e.config,{elements:i}=r,o=lD(a)||Fje(r)||i&&lD(i)||Hje();if(!n.forceOverride&&o)return;const c=Pje(e);a.forEach(c)}};function Vje(e,t,n,a,r){const i=r.samples||a;if(i>=n)return e.slice(t,t+n);const o=[],c=(n-2)/(i-2);let l=0;const d=t+n-1;let f=t,g,b,w,C,S;for(o[l++]=e[f],g=0;g<i-2;g++){let k=0,E=0,D;const R=Math.floor((g+1)*c)+1+t,P=Math.min(Math.floor((g+2)*c)+1,n)+t,B=P-R;for(D=R;D<P;D++)k+=e[D].x,E+=e[D].y;k/=B,E/=B;const O=Math.floor(g*c)+1+t,$=Math.min(Math.floor((g+1)*c)+1,n)+t,{x:U,y:F}=e[f];for(w=C=-1,D=O;D<$;D++)C=.5*Math.abs((U-k)*(e[D].y-F)-(U-e[D].x)*(E-F)),C>w&&(w=C,b=e[D],S=D);o[l++]=b,f=S}return o[l++]=e[d],o}function zje(e,t,n,a){let r=0,i=0,o,c,l,d,f,g,b,w,C,S;const k=[],E=t+n-1,D=e[t].x,P=e[E].x-D;for(o=t;o<t+n;++o){c=e[o],l=(c.x-D)/P*a,d=c.y;const B=l|0;if(B===f)d<C?(C=d,g=o):d>S&&(S=d,b=o),r=(i*r+c.x)/++i;else{const O=o-1;if(!Aa(g)&&!Aa(b)){const $=Math.min(g,b),U=Math.max(g,b);$!==w&&$!==O&&k.push({...e[$],x:r}),U!==w&&U!==O&&k.push({...e[U],x:r})}o>0&&O!==w&&k.push(e[O]),k.push(c),f=B,i=0,C=S=d,g=b=w=o}}return k}function _L(e){if(e._decimated){const t=e._data;delete e._decimated,delete e._data,Object.defineProperty(e,"data",{configurable:!0,enumerable:!0,writable:!0,value:t})}}function uD(e){e.data.datasets.forEach(t=>{_L(t)})}function Uje(e,t){const n=t.length;let a=0,r;const{iScale:i}=e,{min:o,max:c,minDefined:l,maxDefined:d}=i.getUserBounds();return l&&(a=Wi(gu(t,i.axis,o).lo,0,n-1)),d?r=Wi(gu(t,i.axis,c).hi+1,a,n)-a:r=n-a,{start:a,count:r}}var Wje={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(e,t,n)=>{if(!n.enabled){uD(e);return}const a=e.width;e.data.datasets.forEach((r,i)=>{const{_data:o,indexAxis:c}=r,l=e.getDatasetMeta(i),d=o||r.data;if(Y1([c,e.options.indexAxis])==="y"||!l.controller.supportsDecimation)return;const f=e.scales[l.xAxisID];if(f.type!=="linear"&&f.type!=="time"||e.options.parsing)return;let{start:g,count:b}=Uje(l,d);const w=n.threshold||4*a;if(b<=w){_L(r);return}Aa(o)&&(r._data=d,delete r.data,Object.defineProperty(r,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(S){this._data=S}}));let C;switch(n.algorithm){case"lttb":C=Vje(d,g,b,a,n);break;case"min-max":C=zje(d,g,b,a);break;default:throw new Error(`Unsupported decimation algorithm '${n.algorithm}'`)}r._decimated=C})},destroy(e){uD(e)}};function Yje(e,t,n){const a=e.segments,r=e.points,i=t.points,o=[];for(const c of a){let{start:l,end:d}=c;d=_4(l,d,r);const f=FS(n,r[l],r[d],c.loop);if(!t.segments){o.push({source:c,target:f,start:r[l],end:r[d]});continue}const g=ZO(t,f);for(const b of g){const w=FS(n,i[b.start],i[b.end],b.loop),C=KO(c,r,w);for(const S of C)o.push({source:S,target:b,start:{[n]:dD(f,w,"start",Math.max)},end:{[n]:dD(f,w,"end",Math.min)}})}}return o}function FS(e,t,n,a){if(a)return;let r=t[e],i=n[e];return e==="angle"&&(r=sc(r),i=sc(i)),{property:e,start:r,end:i}}function Gje(e,t){const{x:n=null,y:a=null}=e||{},r=t.points,i=[];return t.segments.forEach(({start:o,end:c})=>{c=_4(o,c,r);const l=r[o],d=r[c];a!==null?(i.push({x:l.x,y:a}),i.push({x:d.x,y:a})):n!==null&&(i.push({x:n,y:l.y}),i.push({x:n,y:d.y}))}),i}function _4(e,t,n){for(;t>e;t--){const a=n[t];if(!isNaN(a.x)&&!isNaN(a.y))break}return t}function dD(e,t,n,a){return e&&t?a(e[n],t[n]):e?e[n]:t?t[n]:0}function vL(e,t){let n=[],a=!1;return Wr(e)?(a=!0,n=e):n=Gje(e,t),n.length?new yd({points:n,options:{tension:0},_loop:a,_fullLoop:a}):null}function hD(e){return e&&e.fill!==!1}function Qje(e,t,n){let r=e[t].fill;const i=[t];let o;if(!n)return r;for(;r!==!1&&i.indexOf(r)===-1;){if(!ui(r))return r;if(o=e[r],!o)return!1;if(o.visible)return r;i.push(r),r=o.fill}return!1}function Xje(e,t,n){const a=eCe(e);if(Fa(a))return isNaN(a.value)?!1:a;let r=parseFloat(a);return ui(r)&&Math.floor(r)===r?Kje(a[0],t,r,n):["origin","start","end","stack","shape"].indexOf(a)>=0&&a}function Kje(e,t,n,a){return(e==="-"||e==="+")&&(n=t+n),n===t||n<0||n>=a?!1:n}function Zje(e,t){let n=null;return e==="start"?n=t.bottom:e==="end"?n=t.top:Fa(e)?n=t.getPixelForValue(e.value):t.getBasePixel&&(n=t.getBasePixel()),n}function Jje(e,t,n){let a;return e==="start"?a=n:e==="end"?a=t.options.reverse?t.min:t.max:Fa(e)?a=e.value:a=t.getBaseValue(),a}function eCe(e){const t=e.options,n=t.fill;let a=ua(n&&n.target,n);return a===void 0&&(a=!!t.backgroundColor),a===!1||a===null?!1:a===!0?"origin":a}function tCe(e){const{scale:t,index:n,line:a}=e,r=[],i=a.segments,o=a.points,c=nCe(t,n);c.push(vL({x:null,y:t.bottom},a));for(let l=0;l<i.length;l++){const d=i[l];for(let f=d.start;f<=d.end;f++)sCe(r,o[f],c)}return new yd({points:r,options:{}})}function nCe(e,t){const n=[],a=e.getMatchingVisibleMetas("line");for(let r=0;r<a.length;r++){const i=a[r];if(i.index===t)break;i.hidden||n.unshift(i.dataset)}return n}function sCe(e,t,n){const a=[];for(let r=0;r<n.length;r++){const i=n[r],{first:o,last:c,point:l}=aCe(i,t,"x");if(!(!l||o&&c)){if(o)a.unshift(l);else if(e.push(l),!c)break}}e.push(...a)}function aCe(e,t,n){const a=e.interpolate(t,n);if(!a)return{};const r=a[n],i=e.segments,o=e.points;let c=!1,l=!1;for(let d=0;d<i.length;d++){const f=i[d],g=o[f.start][n],b=o[f.end][n];if(pu(r,g,b)){c=r===g,l=r===b;break}}return{first:c,last:l,point:a}}class xL{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,n,a){const{x:r,y:i,radius:o}=this;return n=n||{start:0,end:Or},t.arc(r,i,o,n.end,n.start,!0),!a.bounds}interpolate(t){const{x:n,y:a,radius:r}=this,i=t.angle;return{x:n+Math.cos(i)*r,y:a+Math.sin(i)*r,angle:i}}}function rCe(e){const{chart:t,fill:n,line:a}=e;if(ui(n))return iCe(t,n);if(n==="stack")return tCe(e);if(n==="shape")return!0;const r=oCe(e);return r instanceof xL?r:vL(r,a)}function iCe(e,t){const n=e.getDatasetMeta(t);return n&&e.isDatasetVisible(t)?n.dataset:null}function oCe(e){return(e.scale||{}).getPointPositionForValue?lCe(e):cCe(e)}function cCe(e){const{scale:t={},fill:n}=e,a=Zje(n,t);if(ui(a)){const r=t.isHorizontal();return{x:r?a:null,y:r?null:a}}return null}function lCe(e){const{scale:t,fill:n}=e,a=t.options,r=t.getLabels().length,i=a.reverse?t.max:t.min,o=Jje(n,t,i),c=[];if(a.grid.circular){const l=t.getPointPositionForValue(0,i);return new xL({x:l.x,y:l.y,radius:t.getDistanceFromCenterForValue(o)})}for(let l=0;l<r;++l)c.push(t.getPointPositionForValue(l,o));return c}function qj(e,t,n){const a=rCe(t),{chart:r,index:i,line:o,scale:c,axis:l}=t,d=o.options,f=d.fill,g=d.backgroundColor,{above:b=g,below:w=g}=f||{},C=r.getDatasetMeta(i),S=JO(r,C);a&&o.points.length&&(ly(e,n),uCe(e,{line:o,target:a,above:b,below:w,area:n,scale:c,axis:l,clip:S}),uy(e))}function uCe(e,t){const{line:n,target:a,above:r,below:i,area:o,scale:c,clip:l}=t,d=n._loop?"angle":t.axis;e.save(),d==="x"&&i!==r&&(fD(e,a,o.top),mD(e,{line:n,target:a,color:r,scale:c,property:d,clip:l}),e.restore(),e.save(),fD(e,a,o.bottom)),mD(e,{line:n,target:a,color:i,scale:c,property:d,clip:l}),e.restore()}function fD(e,t,n){const{segments:a,points:r}=t;let i=!0,o=!1;e.beginPath();for(const c of a){const{start:l,end:d}=c,f=r[l],g=r[_4(l,d,r)];i?(e.moveTo(f.x,f.y),i=!1):(e.lineTo(f.x,n),e.lineTo(f.x,f.y)),o=!!t.pathSegment(e,c,{move:o}),o?e.closePath():e.lineTo(g.x,n)}e.lineTo(t.first().x,n),e.closePath(),e.clip()}function mD(e,t){const{line:n,target:a,property:r,color:i,scale:o,clip:c}=t,l=Yje(n,a,r);for(const{source:d,target:f,start:g,end:b}of l){const{style:{backgroundColor:w=i}={}}=d,C=a!==!0;e.save(),e.fillStyle=w,dCe(e,o,c,C&&FS(r,g,b)),e.beginPath();const S=!!n.pathSegment(e,d);let k;if(C){S?e.closePath():pD(e,a,b,r);const E=!!a.pathSegment(e,f,{move:S,reverse:!0});k=S&&E,k||pD(e,a,g,r)}e.closePath(),e.fill(k?"evenodd":"nonzero"),e.restore()}}function dCe(e,t,n,a){const r=t.chart.chartArea,{property:i,start:o,end:c}=a||{};if(i==="x"||i==="y"){let l,d,f,g;i==="x"?(l=o,d=r.top,f=c,g=r.bottom):(l=r.left,d=o,f=r.right,g=c),e.beginPath(),n&&(l=Math.max(l,n.left),f=Math.min(f,n.right),d=Math.max(d,n.top),g=Math.min(g,n.bottom)),e.rect(l,d,f-l,g-d),e.clip()}}function pD(e,t,n,a){const r=t.interpolate(n,a);r&&e.lineTo(r.x,r.y)}var hCe={id:"filler",afterDatasetsUpdate(e,t,n){const a=(e.data.datasets||[]).length,r=[];let i,o,c,l;for(o=0;o<a;++o)i=e.getDatasetMeta(o),c=i.dataset,l=null,c&&c.options&&c instanceof yd&&(l={visible:e.isDatasetVisible(o),index:o,fill:Xje(c,o,a),chart:e,axis:i.controller.options.indexAxis,scale:i.vScale,line:c}),i.$filler=l,r.push(l);for(o=0;o<a;++o)l=r[o],!(!l||l.fill===!1)&&(l.fill=Qje(r,o,n.propagate))},beforeDraw(e,t,n){const a=n.drawTime==="beforeDraw",r=e.getSortedVisibleDatasetMetas(),i=e.chartArea;for(let o=r.length-1;o>=0;--o){const c=r[o].$filler;c&&(c.line.updateControlPoints(i,c.axis),a&&c.fill&&qj(e.ctx,c,i))}},beforeDatasetsDraw(e,t,n){if(n.drawTime!=="beforeDatasetsDraw")return;const a=e.getSortedVisibleDatasetMetas();for(let r=a.length-1;r>=0;--r){const i=a[r].$filler;hD(i)&&qj(e.ctx,i,e.chartArea)}},beforeDatasetDraw(e,t,n){const a=t.meta.$filler;!hD(a)||n.drawTime!=="beforeDatasetDraw"||qj(e.ctx,a,e.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const gD=(e,t)=>{let{boxHeight:n=t,boxWidth:a=t}=e;return e.usePointStyle&&(n=Math.min(n,t),a=e.pointStyleWidth||Math.min(a,t)),{boxWidth:a,boxHeight:n,itemHeight:Math.max(t,n)}},fCe=(e,t)=>e!==null&&t!==null&&e.datasetIndex===t.datasetIndex&&e.index===t.index;class _D extends Au{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,n,a){this.maxWidth=t,this.maxHeight=n,this._margins=a,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let n=Mr(t.generateLabels,[this.chart],this)||[];t.filter&&(n=n.filter(a=>t.filter(a,this.chart.data))),t.sort&&(n=n.sort((a,r)=>t.sort(a,r,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:t,ctx:n}=this;if(!t.display){this.width=this.height=0;return}const a=t.labels,r=Bi(a.font),i=r.size,o=this._computeTitleHeight(),{boxWidth:c,itemHeight:l}=gD(a,i);let d,f;n.font=r.string,this.isHorizontal()?(d=this.maxWidth,f=this._fitRows(o,i,c,l)+10):(f=this.maxHeight,d=this._fitCols(o,r,c,l)+10),this.width=Math.min(d,t.maxWidth||this.maxWidth),this.height=Math.min(f,t.maxHeight||this.maxHeight)}_fitRows(t,n,a,r){const{ctx:i,maxWidth:o,options:{labels:{padding:c}}}=this,l=this.legendHitBoxes=[],d=this.lineWidths=[0],f=r+c;let g=t;i.textAlign="left",i.textBaseline="middle";let b=-1,w=-f;return this.legendItems.forEach((C,S)=>{const k=a+n/2+i.measureText(C.text).width;(S===0||d[d.length-1]+k+2*c>o)&&(g+=f,d[d.length-(S>0?0:1)]=0,w+=f,b++),l[S]={left:0,top:w,row:b,width:k,height:r},d[d.length-1]+=k+c}),g}_fitCols(t,n,a,r){const{ctx:i,maxHeight:o,options:{labels:{padding:c}}}=this,l=this.legendHitBoxes=[],d=this.columnSizes=[],f=o-t;let g=c,b=0,w=0,C=0,S=0;return this.legendItems.forEach((k,E)=>{const{itemWidth:D,itemHeight:R}=mCe(a,n,i,k,r);E>0&&w+R+2*c>f&&(g+=b+c,d.push({width:b,height:w}),C+=b+c,S++,b=w=0),l[E]={left:C,top:w,col:S,width:D,height:R},b=Math.max(b,D),w+=R+c}),g+=b,d.push({width:b,height:w}),g}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:a,labels:{padding:r},rtl:i}}=this,o=vm(i,this.left,this.width);if(this.isHorizontal()){let c=0,l=uo(a,this.left+r,this.right-this.lineWidths[c]);for(const d of n)c!==d.row&&(c=d.row,l=uo(a,this.left+r,this.right-this.lineWidths[c])),d.top+=this.top+t+r,d.left=o.leftForLtr(o.x(l),d.width),l+=d.width+r}else{let c=0,l=uo(a,this.top+t+r,this.bottom-this.columnSizes[c].height);for(const d of n)d.col!==c&&(c=d.col,l=uo(a,this.top+t+r,this.bottom-this.columnSizes[c].height)),d.top=l,d.left+=this.left+r,d.left=o.leftForLtr(o.x(d.left),d.width),l+=d.height+r}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;ly(t,this),this._draw(),uy(t)}}_draw(){const{options:t,columnSizes:n,lineWidths:a,ctx:r}=this,{align:i,labels:o}=t,c=Yr.color,l=vm(t.rtl,this.left,this.width),d=Bi(o.font),{padding:f}=o,g=d.size,b=g/2;let w;this.drawTitle(),r.textAlign=l.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=d.string;const{boxWidth:C,boxHeight:S,itemHeight:k}=gD(o,g),E=function(O,$,U){if(isNaN(C)||C<=0||isNaN(S)||S<0)return;r.save();const F=ua(U.lineWidth,1);if(r.fillStyle=ua(U.fillStyle,c),r.lineCap=ua(U.lineCap,"butt"),r.lineDashOffset=ua(U.lineDashOffset,0),r.lineJoin=ua(U.lineJoin,"miter"),r.lineWidth=F,r.strokeStyle=ua(U.strokeStyle,c),r.setLineDash(ua(U.lineDash,[])),o.usePointStyle){const H={radius:S*Math.SQRT2/2,pointStyle:U.pointStyle,rotation:U.rotation,borderWidth:F},se=l.xPlus(O,C/2),K=$+b;FO(r,H,se,K,o.pointStyleWidth&&C)}else{const H=$+Math.max((g-S)/2,0),se=l.leftForLtr(O,C),K=Oh(U.borderRadius);r.beginPath(),Object.values(K).some(te=>te!==0)?Vg(r,{x:se,y:H,w:C,h:S,radius:K}):r.rect(se,H,C,S),r.fill(),F!==0&&r.stroke()}r.restore()},D=function(O,$,U){Qh(r,U.text,O,$+k/2,d,{strikethrough:U.hidden,textAlign:l.textAlign(U.textAlign)})},R=this.isHorizontal(),P=this._computeTitleHeight();R?w={x:uo(i,this.left+f,this.right-a[0]),y:this.top+f+P,line:0}:w={x:this.left+f,y:uo(i,this.top+P+f,this.bottom-n[0].height),line:0},GO(this.ctx,t.textDirection);const B=k+f;this.legendItems.forEach((O,$)=>{r.strokeStyle=O.fontColor,r.fillStyle=O.fontColor;const U=r.measureText(O.text).width,F=l.textAlign(O.textAlign||(O.textAlign=o.textAlign)),H=C+b+U;let se=w.x,K=w.y;l.setWidth(this.width),R?$>0&&se+H+f>this.right&&(K=w.y+=B,w.line++,se=w.x=uo(i,this.left+f,this.right-a[w.line])):$>0&&K+B>this.bottom&&(se=w.x=se+n[w.line].width+f,w.line++,K=w.y=uo(i,this.top+P+f,this.bottom-n[w.line].height));const te=l.x(se);if(E(te,K,O),se=Rye(F,se+C+b,R?se+H:this.right,t.rtl),D(l.x(se),K,O),R)w.x+=H+f;else if(typeof O.text!="string"){const J=d.lineHeight;w.y+=bL(O,J)+f}else w.y+=B}),QO(this.ctx,t.textDirection)}drawTitle(){const t=this.options,n=t.title,a=Bi(n.font),r=vo(n.padding);if(!n.display)return;const i=vm(t.rtl,this.left,this.width),o=this.ctx,c=n.position,l=a.size/2,d=r.top+l;let f,g=this.left,b=this.width;if(this.isHorizontal())b=Math.max(...this.lineWidths),f=this.top+d,g=uo(t.align,g,this.right-b);else{const C=this.columnSizes.reduce((S,k)=>Math.max(S,k.height),0);f=d+uo(t.align,this.top,this.bottom-C-t.labels.padding-this._computeTitleHeight())}const w=uo(c,g,g+b);o.textAlign=i.textAlign(c4(c)),o.textBaseline="middle",o.strokeStyle=n.color,o.fillStyle=n.color,o.font=a.string,Qh(o,n.text,w,f,a)}_computeTitleHeight(){const t=this.options.title,n=Bi(t.font),a=vo(t.padding);return t.display?n.lineHeight+a.height:0}_getLegendItemAt(t,n){let a,r,i;if(pu(t,this.left,this.right)&&pu(n,this.top,this.bottom)){for(i=this.legendHitBoxes,a=0;a<i.length;++a)if(r=i[a],pu(t,r.left,r.left+r.width)&&pu(n,r.top,r.top+r.height))return this.legendItems[a]}return null}handleEvent(t){const n=this.options;if(!_Ce(t.type,n))return;const a=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const r=this._hoveredItem,i=fCe(r,a);r&&!i&&Mr(n.onLeave,[t,r,this],this),this._hoveredItem=a,a&&!i&&Mr(n.onHover,[t,a,this],this)}else a&&Mr(n.onClick,[t,a,this],this)}}function mCe(e,t,n,a,r){const i=pCe(a,e,t,n),o=gCe(r,a,t.lineHeight);return{itemWidth:i,itemHeight:o}}function pCe(e,t,n,a){let r=e.text;return r&&typeof r!="string"&&(r=r.reduce((i,o)=>i.length>o.length?i:o)),t+n.size/2+a.measureText(r).width}function gCe(e,t,n){let a=e;return typeof t.text!="string"&&(a=bL(t,n)),a}function bL(e,t){const n=e.text?e.text.length:0;return t*n}function _Ce(e,t){return!!((e==="mousemove"||e==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(e==="click"||e==="mouseup"))}var vCe={id:"legend",_element:_D,start(e,t,n){const a=e.legend=new _D({ctx:e.ctx,options:n,chart:e});go.configure(e,a,n),go.addBox(e,a)},stop(e){go.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,n){const a=e.legend;go.configure(e,a,n),a.options=n},afterUpdate(e){const t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,n){const a=t.datasetIndex,r=n.chart;r.isDatasetVisible(a)?(r.hide(a),t.hidden=!0):(r.show(a),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const t=e.data.datasets,{labels:{usePointStyle:n,pointStyle:a,textAlign:r,color:i,useBorderRadius:o,borderRadius:c}}=e.legend.options;return e._getSortedDatasetMetas().map(l=>{const d=l.controller.getStyle(n?0:void 0),f=vo(d.borderWidth);return{text:t[l.index].label,fillStyle:d.backgroundColor,fontColor:i,hidden:!l.visible,lineCap:d.borderCapStyle,lineDash:d.borderDash,lineDashOffset:d.borderDashOffset,lineJoin:d.borderJoinStyle,lineWidth:(f.width+f.height)/4,strokeStyle:d.borderColor,pointStyle:a||d.pointStyle,rotation:d.rotation,textAlign:r||d.textAlign,borderRadius:o&&(c||d.borderRadius),datasetIndex:l.index}},this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};class v4 extends Au{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,n){const a=this.options;if(this.left=0,this.top=0,!a.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=n;const r=Wr(a.text)?a.text.length:1;this._padding=vo(a.padding);const i=r*Bi(a.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=i:this.width=i}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:n,left:a,bottom:r,right:i,options:o}=this,c=o.align;let l=0,d,f,g;return this.isHorizontal()?(f=uo(c,a,i),g=n+t,d=i-a):(o.position==="left"?(f=a+t,g=uo(c,r,n),l=$r*-.5):(f=i-t,g=uo(c,n,r),l=$r*.5),d=r-n),{titleX:f,titleY:g,maxWidth:d,rotation:l}}draw(){const t=this.ctx,n=this.options;if(!n.display)return;const a=Bi(n.font),i=a.lineHeight/2+this._padding.top,{titleX:o,titleY:c,maxWidth:l,rotation:d}=this._drawArgs(i);Qh(t,n.text,0,0,a,{color:n.color,maxWidth:l,rotation:d,textAlign:c4(n.align),textBaseline:"middle",translation:[o,c]})}}function xCe(e,t){const n=new v4({ctx:e.ctx,options:t,chart:e});go.configure(e,n,t),go.addBox(e,n),e.titleBlock=n}var bCe={id:"title",_element:v4,start(e,t,n){xCe(e,n)},stop(e){const t=e.titleBlock;go.removeBox(e,t),delete e.titleBlock},beforeUpdate(e,t,n){const a=e.titleBlock;go.configure(e,a,n),a.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const cv=new WeakMap;var yCe={id:"subtitle",start(e,t,n){const a=new v4({ctx:e.ctx,options:n,chart:e});go.configure(e,a,n),go.addBox(e,a),cv.set(e,a)},stop(e){go.removeBox(e,cv.get(e)),cv.delete(e)},beforeUpdate(e,t,n){const a=cv.get(e);go.configure(e,a,n),a.options=n},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const X1={average(e){if(!e.length)return!1;let t,n,a=new Set,r=0,i=0;for(t=0,n=e.length;t<n;++t){const c=e[t].element;if(c&&c.hasValue()){const l=c.tooltipPosition();a.add(l.x),r+=l.y,++i}}return i===0||a.size===0?!1:{x:[...a].reduce((c,l)=>c+l)/a.size,y:r/i}},nearest(e,t){if(!e.length)return!1;let n=t.x,a=t.y,r=Number.POSITIVE_INFINITY,i,o,c;for(i=0,o=e.length;i<o;++i){const l=e[i].element;if(l&&l.hasValue()){const d=l.getCenterPoint(),f=AS(t,d);f<r&&(r=f,c=l)}}if(c){const l=c.tooltipPosition();n=l.x,a=l.y}return{x:n,y:a}}};function bl(e,t){return t&&(Wr(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function hu(e){return(typeof e=="string"||e instanceof String)&&e.indexOf(`
`)>-1?e.split(`
`):e}function wCe(e,t){const{element:n,datasetIndex:a,index:r}=t,i=e.getDatasetMeta(a).controller,{label:o,value:c}=i.getLabelAndValue(r);return{chart:e,label:o,parsed:i.getParsed(r),raw:e.data.datasets[a].data[r],formattedValue:c,dataset:i.getDataset(),dataIndex:r,datasetIndex:a,element:n}}function vD(e,t){const n=e.chart.ctx,{body:a,footer:r,title:i}=e,{boxWidth:o,boxHeight:c}=t,l=Bi(t.bodyFont),d=Bi(t.titleFont),f=Bi(t.footerFont),g=i.length,b=r.length,w=a.length,C=vo(t.padding);let S=C.height,k=0,E=a.reduce((P,B)=>P+B.before.length+B.lines.length+B.after.length,0);if(E+=e.beforeBody.length+e.afterBody.length,g&&(S+=g*d.lineHeight+(g-1)*t.titleSpacing+t.titleMarginBottom),E){const P=t.displayColors?Math.max(c,l.lineHeight):l.lineHeight;S+=w*P+(E-w)*l.lineHeight+(E-1)*t.bodySpacing}b&&(S+=t.footerMarginTop+b*f.lineHeight+(b-1)*t.footerSpacing);let D=0;const R=function(P){k=Math.max(k,n.measureText(P).width+D)};return n.save(),n.font=d.string,gr(e.title,R),n.font=l.string,gr(e.beforeBody.concat(e.afterBody),R),D=t.displayColors?o+2+t.boxPadding:0,gr(a,P=>{gr(P.before,R),gr(P.lines,R),gr(P.after,R)}),D=0,n.font=f.string,gr(e.footer,R),n.restore(),k+=C.width,{width:k,height:S}}function jCe(e,t){const{y:n,height:a}=t;return n<a/2?"top":n>e.height-a/2?"bottom":"center"}function CCe(e,t,n,a){const{x:r,width:i}=a,o=n.caretSize+n.caretPadding;if(e==="left"&&r+i+o>t.width||e==="right"&&r-i-o<0)return!0}function SCe(e,t,n,a){const{x:r,width:i}=n,{width:o,chartArea:{left:c,right:l}}=e;let d="center";return a==="center"?d=r<=(c+l)/2?"left":"right":r<=i/2?d="left":r>=o-i/2&&(d="right"),CCe(d,e,t,n)&&(d="center"),d}function xD(e,t,n){const a=n.yAlign||t.yAlign||jCe(e,n);return{xAlign:n.xAlign||t.xAlign||SCe(e,t,n,a),yAlign:a}}function NCe(e,t){let{x:n,width:a}=e;return t==="right"?n-=a:t==="center"&&(n-=a/2),n}function kCe(e,t,n){let{y:a,height:r}=e;return t==="top"?a+=n:t==="bottom"?a-=r+n:a-=r/2,a}function bD(e,t,n,a){const{caretSize:r,caretPadding:i,cornerRadius:o}=e,{xAlign:c,yAlign:l}=n,d=r+i,{topLeft:f,topRight:g,bottomLeft:b,bottomRight:w}=Oh(o);let C=NCe(t,c);const S=kCe(t,l,d);return l==="center"?c==="left"?C+=d:c==="right"&&(C-=d):c==="left"?C-=Math.max(f,b)+r:c==="right"&&(C+=Math.max(g,w)+r),{x:Wi(C,0,a.width-t.width),y:Wi(S,0,a.height-t.height)}}function lv(e,t,n){const a=vo(n.padding);return t==="center"?e.x+e.width/2:t==="right"?e.x+e.width-a.right:e.x+a.left}function yD(e){return bl([],hu(e))}function ICe(e,t,n){return $d(e,{tooltip:t,tooltipItems:n,type:"tooltip"})}function wD(e,t){const n=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return n?e.override(n):e}const yL={beforeTitle:lu,title(e){if(e.length>0){const t=e[0],n=t.chart.data.labels,a=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(a>0&&t.dataIndex<a)return n[t.dataIndex]}return""},afterTitle:lu,beforeBody:lu,beforeLabel:lu,label(e){if(this&&this.options&&this.options.mode==="dataset")return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");const n=e.formattedValue;return Aa(n)||(t+=n),t},labelColor(e){const n=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const n=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:lu,afterBody:lu,beforeFooter:lu,footer:lu,afterFooter:lu};function Ro(e,t,n,a){const r=e[t].call(n,a);return typeof r>"u"?yL[t].call(n,a):r}class HS extends Au{constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const n=this.chart,a=this.options.setContext(this.getContext()),r=a.enabled&&n.options.animation&&a.animations,i=new eL(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(i)),i}getContext(){return this.$context||(this.$context=ICe(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,n){const{callbacks:a}=n,r=Ro(a,"beforeTitle",this,t),i=Ro(a,"title",this,t),o=Ro(a,"afterTitle",this,t);let c=[];return c=bl(c,hu(r)),c=bl(c,hu(i)),c=bl(c,hu(o)),c}getBeforeBody(t,n){return yD(Ro(n.callbacks,"beforeBody",this,t))}getBody(t,n){const{callbacks:a}=n,r=[];return gr(t,i=>{const o={before:[],lines:[],after:[]},c=wD(a,i);bl(o.before,hu(Ro(c,"beforeLabel",this,i))),bl(o.lines,Ro(c,"label",this,i)),bl(o.after,hu(Ro(c,"afterLabel",this,i))),r.push(o)}),r}getAfterBody(t,n){return yD(Ro(n.callbacks,"afterBody",this,t))}getFooter(t,n){const{callbacks:a}=n,r=Ro(a,"beforeFooter",this,t),i=Ro(a,"footer",this,t),o=Ro(a,"afterFooter",this,t);let c=[];return c=bl(c,hu(r)),c=bl(c,hu(i)),c=bl(c,hu(o)),c}_createItems(t){const n=this._active,a=this.chart.data,r=[],i=[],o=[];let c=[],l,d;for(l=0,d=n.length;l<d;++l)c.push(wCe(this.chart,n[l]));return t.filter&&(c=c.filter((f,g,b)=>t.filter(f,g,b,a))),t.itemSort&&(c=c.sort((f,g)=>t.itemSort(f,g,a))),gr(c,f=>{const g=wD(t.callbacks,f);r.push(Ro(g,"labelColor",this,f)),i.push(Ro(g,"labelPointStyle",this,f)),o.push(Ro(g,"labelTextColor",this,f))}),this.labelColors=r,this.labelPointStyles=i,this.labelTextColors=o,this.dataPoints=c,c}update(t,n){const a=this.options.setContext(this.getContext()),r=this._active;let i,o=[];if(!r.length)this.opacity!==0&&(i={opacity:0});else{const c=X1[a.position].call(this,r,this._eventPosition);o=this._createItems(a),this.title=this.getTitle(o,a),this.beforeBody=this.getBeforeBody(o,a),this.body=this.getBody(o,a),this.afterBody=this.getAfterBody(o,a),this.footer=this.getFooter(o,a);const l=this._size=vD(this,a),d=Object.assign({},c,l),f=xD(this.chart,a,d),g=bD(a,d,f,this.chart);this.xAlign=f.xAlign,this.yAlign=f.yAlign,i={opacity:1,x:g.x,y:g.y,width:l.width,height:l.height,caretX:c.x,caretY:c.y}}this._tooltipItems=o,this.$context=void 0,i&&this._resolveAnimations().update(this,i),t&&a.external&&a.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(t,n,a,r){const i=this.getCaretPosition(t,a,r);n.lineTo(i.x1,i.y1),n.lineTo(i.x2,i.y2),n.lineTo(i.x3,i.y3)}getCaretPosition(t,n,a){const{xAlign:r,yAlign:i}=this,{caretSize:o,cornerRadius:c}=a,{topLeft:l,topRight:d,bottomLeft:f,bottomRight:g}=Oh(c),{x:b,y:w}=t,{width:C,height:S}=n;let k,E,D,R,P,B;return i==="center"?(P=w+S/2,r==="left"?(k=b,E=k-o,R=P+o,B=P-o):(k=b+C,E=k+o,R=P-o,B=P+o),D=k):(r==="left"?E=b+Math.max(l,f)+o:r==="right"?E=b+C-Math.max(d,g)-o:E=this.caretX,i==="top"?(R=w,P=R-o,k=E-o,D=E+o):(R=w+S,P=R+o,k=E+o,D=E-o),B=R),{x1:k,x2:E,x3:D,y1:R,y2:P,y3:B}}drawTitle(t,n,a){const r=this.title,i=r.length;let o,c,l;if(i){const d=vm(a.rtl,this.x,this.width);for(t.x=lv(this,a.titleAlign,a),n.textAlign=d.textAlign(a.titleAlign),n.textBaseline="middle",o=Bi(a.titleFont),c=a.titleSpacing,n.fillStyle=a.titleColor,n.font=o.string,l=0;l<i;++l)n.fillText(r[l],d.x(t.x),t.y+o.lineHeight/2),t.y+=o.lineHeight+c,l+1===i&&(t.y+=a.titleMarginBottom-c)}}_drawColorBox(t,n,a,r,i){const o=this.labelColors[a],c=this.labelPointStyles[a],{boxHeight:l,boxWidth:d}=i,f=Bi(i.bodyFont),g=lv(this,"left",i),b=r.x(g),w=l<f.lineHeight?(f.lineHeight-l)/2:0,C=n.y+w;if(i.usePointStyle){const S={radius:Math.min(d,l)/2,pointStyle:c.pointStyle,rotation:c.rotation,borderWidth:1},k=r.leftForLtr(b,d)+d/2,E=C+l/2;t.strokeStyle=i.multiKeyBackground,t.fillStyle=i.multiKeyBackground,RS(t,S,k,E),t.strokeStyle=o.borderColor,t.fillStyle=o.backgroundColor,RS(t,S,k,E)}else{t.lineWidth=Fa(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,t.strokeStyle=o.borderColor,t.setLineDash(o.borderDash||[]),t.lineDashOffset=o.borderDashOffset||0;const S=r.leftForLtr(b,d),k=r.leftForLtr(r.xPlus(b,1),d-2),E=Oh(o.borderRadius);Object.values(E).some(D=>D!==0)?(t.beginPath(),t.fillStyle=i.multiKeyBackground,Vg(t,{x:S,y:C,w:d,h:l,radius:E}),t.fill(),t.stroke(),t.fillStyle=o.backgroundColor,t.beginPath(),Vg(t,{x:k,y:C+1,w:d-2,h:l-2,radius:E}),t.fill()):(t.fillStyle=i.multiKeyBackground,t.fillRect(S,C,d,l),t.strokeRect(S,C,d,l),t.fillStyle=o.backgroundColor,t.fillRect(k,C+1,d-2,l-2))}t.fillStyle=this.labelTextColors[a]}drawBody(t,n,a){const{body:r}=this,{bodySpacing:i,bodyAlign:o,displayColors:c,boxHeight:l,boxWidth:d,boxPadding:f}=a,g=Bi(a.bodyFont);let b=g.lineHeight,w=0;const C=vm(a.rtl,this.x,this.width),S=function(U){n.fillText(U,C.x(t.x+w),t.y+b/2),t.y+=b+i},k=C.textAlign(o);let E,D,R,P,B,O,$;for(n.textAlign=o,n.textBaseline="middle",n.font=g.string,t.x=lv(this,k,a),n.fillStyle=a.bodyColor,gr(this.beforeBody,S),w=c&&k!=="right"?o==="center"?d/2+f:d+2+f:0,P=0,O=r.length;P<O;++P){for(E=r[P],D=this.labelTextColors[P],n.fillStyle=D,gr(E.before,S),R=E.lines,c&&R.length&&(this._drawColorBox(n,t,P,C,a),b=Math.max(g.lineHeight,l)),B=0,$=R.length;B<$;++B)S(R[B]),b=g.lineHeight;gr(E.after,S)}w=0,b=g.lineHeight,gr(this.afterBody,S),t.y-=i}drawFooter(t,n,a){const r=this.footer,i=r.length;let o,c;if(i){const l=vm(a.rtl,this.x,this.width);for(t.x=lv(this,a.footerAlign,a),t.y+=a.footerMarginTop,n.textAlign=l.textAlign(a.footerAlign),n.textBaseline="middle",o=Bi(a.footerFont),n.fillStyle=a.footerColor,n.font=o.string,c=0;c<i;++c)n.fillText(r[c],l.x(t.x),t.y+o.lineHeight/2),t.y+=o.lineHeight+a.footerSpacing}}drawBackground(t,n,a,r){const{xAlign:i,yAlign:o}=this,{x:c,y:l}=t,{width:d,height:f}=a,{topLeft:g,topRight:b,bottomLeft:w,bottomRight:C}=Oh(r.cornerRadius);n.fillStyle=r.backgroundColor,n.strokeStyle=r.borderColor,n.lineWidth=r.borderWidth,n.beginPath(),n.moveTo(c+g,l),o==="top"&&this.drawCaret(t,n,a,r),n.lineTo(c+d-b,l),n.quadraticCurveTo(c+d,l,c+d,l+b),o==="center"&&i==="right"&&this.drawCaret(t,n,a,r),n.lineTo(c+d,l+f-C),n.quadraticCurveTo(c+d,l+f,c+d-C,l+f),o==="bottom"&&this.drawCaret(t,n,a,r),n.lineTo(c+w,l+f),n.quadraticCurveTo(c,l+f,c,l+f-w),o==="center"&&i==="left"&&this.drawCaret(t,n,a,r),n.lineTo(c,l+g),n.quadraticCurveTo(c,l,c+g,l),n.closePath(),n.fill(),r.borderWidth>0&&n.stroke()}_updateAnimationTarget(t){const n=this.chart,a=this.$animations,r=a&&a.x,i=a&&a.y;if(r||i){const o=X1[t.position].call(this,this._active,this._eventPosition);if(!o)return;const c=this._size=vD(this,t),l=Object.assign({},o,this._size),d=xD(n,t,l),f=bD(t,l,d,n);(r._to!==f.x||i._to!==f.y)&&(this.xAlign=d.xAlign,this.yAlign=d.yAlign,this.width=c.width,this.height=c.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,f))}}_willRender(){return!!this.opacity}draw(t){const n=this.options.setContext(this.getContext());let a=this.opacity;if(!a)return;this._updateAnimationTarget(n);const r={width:this.width,height:this.height},i={x:this.x,y:this.y};a=Math.abs(a)<.001?0:a;const o=vo(n.padding),c=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&c&&(t.save(),t.globalAlpha=a,this.drawBackground(i,t,r,n),GO(t,n.textDirection),i.y+=o.top,this.drawTitle(i,t,n),this.drawBody(i,t,n),this.drawFooter(i,t,n),QO(t,n.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,n){const a=this._active,r=t.map(({datasetIndex:c,index:l})=>{const d=this.chart.getDatasetMeta(c);if(!d)throw new Error("Cannot find a dataset at index "+c);return{datasetIndex:c,element:d.data[l],index:l}}),i=!Gx(a,r),o=this._positionChanged(r,n);(i||o)&&(this._active=r,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,n,a=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,i=this._active||[],o=this._getActiveElements(t,i,n,a),c=this._positionChanged(o,t),l=n||!Gx(o,i)||c;return l&&(this._active=o,(r.enabled||r.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,n))),l}_getActiveElements(t,n,a,r){const i=this.options;if(t.type==="mouseout")return[];if(!r)return n.filter(c=>this.chart.data.datasets[c.datasetIndex]&&this.chart.getDatasetMeta(c.datasetIndex).controller.getParsed(c.index)!==void 0);const o=this.chart.getElementsAtEventForMode(t,i.mode,i,a);return i.reverse&&o.reverse(),o}_positionChanged(t,n){const{caretX:a,caretY:r,options:i}=this,o=X1[i.position].call(this,t,n);return o!==!1&&(a!==o.x||r!==o.y)}}Pt(HS,"positioners",X1);var ECe={id:"tooltip",_element:HS,positioners:X1,afterInit(e,t,n){n&&(e.tooltip=new HS({chart:e,options:n}))},beforeUpdate(e,t,n){e.tooltip&&e.tooltip.initialize(n)},reset(e,t,n){e.tooltip&&e.tooltip.initialize(n)},afterDraw(e){const t=e.tooltip;if(t&&t._willRender()){const n={tooltip:t};if(e.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",n)}},afterEvent(e,t){if(e.tooltip){const n=t.replay;e.tooltip.handleEvent(t.event,n,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:yL},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>e!=="filter"&&e!=="itemSort"&&e!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},TCe=Object.freeze({__proto__:null,Colors:qje,Decimation:Wje,Filler:hCe,Legend:vCe,SubTitle:yCe,Title:bCe,Tooltip:ECe});const DCe=(e,t,n,a)=>(typeof t=="string"?(n=e.push(t)-1,a.unshift({index:n,label:t})):isNaN(t)&&(n=null),n);function ACe(e,t,n,a){const r=e.indexOf(t);if(r===-1)return DCe(e,t,n,a);const i=e.lastIndexOf(t);return r!==i?n:r}const MCe=(e,t)=>e===null?null:Wi(Math.round(e),0,t);function jD(e){const t=this.getLabels();return e>=0&&e<t.length?t[e]:e}class qS extends nf{constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const n=this._addedLabels;if(n.length){const a=this.getLabels();for(const{index:r,label:i}of n)a[r]===i&&a.splice(r,1);this._addedLabels=[]}super.init(t)}parse(t,n){if(Aa(t))return null;const a=this.getLabels();return n=isFinite(n)&&a[n]===t?n:ACe(a,t,ua(n,t),this._addedLabels),MCe(n,a.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:n}=this.getUserBounds();let{min:a,max:r}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(a=0),n||(r=this.getLabels().length-1)),this.min=a,this.max=r}buildTicks(){const t=this.min,n=this.max,a=this.options.offset,r=[];let i=this.getLabels();i=t===0&&n===i.length-1?i:i.slice(t,n+1),this._valueRange=Math.max(i.length-(a?0:1),1),this._startValue=this.min-(a?.5:0);for(let o=t;o<=n;o++)r.push({value:o});return r}getLabelForValue(t){return jD.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const n=this.ticks;return t<0||t>n.length-1?null:this.getPixelForValue(n[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}Pt(qS,"id","category"),Pt(qS,"defaults",{ticks:{callback:jD}});function RCe(e,t){const n=[],{bounds:r,step:i,min:o,max:c,precision:l,count:d,maxTicks:f,maxDigits:g,includeBounds:b}=e,w=i||1,C=f-1,{min:S,max:k}=t,E=!Aa(o),D=!Aa(c),R=!Aa(d),P=(k-S)/(g+1);let B=vT((k-S)/C/w)*w,O,$,U,F;if(B<1e-14&&!E&&!D)return[{value:S},{value:k}];F=Math.ceil(k/B)-Math.floor(S/B),F>C&&(B=vT(F*B/C/w)*w),Aa(l)||(O=Math.pow(10,l),B=Math.ceil(B*O)/O),r==="ticks"?($=Math.floor(S/B)*B,U=Math.ceil(k/B)*B):($=S,U=k),E&&D&&i&&kye((c-o)/i,B/1e3)?(F=Math.round(Math.min((c-o)/B,f)),B=(c-o)/F,$=o,U=c):R?($=E?o:$,U=D?c:U,F=d-1,B=(U-$)/F):(F=(U-$)/B,_g(F,Math.round(F),B/1e3)?F=Math.round(F):F=Math.ceil(F));const H=Math.max(xT(B),xT($));O=Math.pow(10,Aa(l)?H:l),$=Math.round($*O)/O,U=Math.round(U*O)/O;let se=0;for(E&&(b&&$!==o?(n.push({value:o}),$<o&&se++,_g(Math.round(($+se*B)*O)/O,o,CD(o,P,e))&&se++):$<o&&se++);se<F;++se){const K=Math.round(($+se*B)*O)/O;if(D&&K>c)break;n.push({value:K})}return D&&b&&U!==c?n.length&&_g(n[n.length-1].value,c,CD(c,P,e))?n[n.length-1].value=c:n.push({value:c}):(!D||U===c)&&n.push({value:U}),n}function CD(e,t,{horizontal:n,minRotation:a}){const r=Qc(a),i=(n?Math.sin(r):Math.cos(r))||.001,o=.75*t*(""+e).length;return Math.min(t/i,o)}class tb extends nf{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,n){return Aa(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:n,maxDefined:a}=this.getUserBounds();let{min:r,max:i}=this;const o=l=>r=n?r:l,c=l=>i=a?i:l;if(t){const l=Ll(r),d=Ll(i);l<0&&d<0?c(0):l>0&&d>0&&o(0)}if(r===i){let l=i===0?1:Math.abs(i*.05);c(i+l),t||o(r-l)}this.min=r,this.max=i}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:n,stepSize:a}=t,r;return a?(r=Math.ceil(this.max/a)-Math.floor(this.min/a)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${a} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),n=n||11),n&&(r=Math.min(n,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,n=t.ticks;let a=this.getTickLimit();a=Math.max(2,a);const r={maxTicks:a,bounds:t.bounds,min:t.min,max:t.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},i=this._range||this,o=RCe(r,i);return t.bounds==="ticks"&&DO(o,this,"value"),t.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const t=this.ticks;let n=this.min,a=this.max;if(super.configure(),this.options.offset&&t.length){const r=(a-n)/Math.max(t.length-1,1)/2;n-=r,a+=r}this._startValue=n,this._endValue=a,this._valueRange=a-n}getLabelForValue(t){return j0(t,this.chart.options.locale,this.options.ticks.format)}}class VS extends tb{determineDataLimits(){const{min:t,max:n}=this.getMinMax(!0);this.min=ui(t)?t:0,this.max=ui(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),n=t?this.width:this.height,a=Qc(this.options.ticks.minRotation),r=(t?Math.sin(a):Math.cos(a))||.001,i=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,i.lineHeight/r))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}Pt(VS,"id","linear"),Pt(VS,"defaults",{ticks:{callback:cy.formatters.numeric}});const Ug=e=>Math.floor(bd(e)),dh=(e,t)=>Math.pow(10,Ug(e)+t);function SD(e){return e/Math.pow(10,Ug(e))===1}function ND(e,t,n){const a=Math.pow(10,n),r=Math.floor(e/a);return Math.ceil(t/a)-r}function BCe(e,t){const n=t-e;let a=Ug(n);for(;ND(e,t,a)>10;)a++;for(;ND(e,t,a)<10;)a--;return Math.min(a,Ug(e))}function OCe(e,{min:t,max:n}){t=nc(e.min,t);const a=[],r=Ug(t);let i=BCe(t,n),o=i<0?Math.pow(10,Math.abs(i)):1;const c=Math.pow(10,i),l=r>i?Math.pow(10,r):0,d=Math.round((t-l)*o)/o,f=Math.floor((t-l)/c/10)*c*10;let g=Math.floor((d-f)/Math.pow(10,i)),b=nc(e.min,Math.round((l+f+g*Math.pow(10,i))*o)/o);for(;b<n;)a.push({value:b,major:SD(b),significand:g}),g>=10?g=g<15?15:20:g++,g>=20&&(i++,g=2,o=i>=0?1:o),b=Math.round((l+f+g*Math.pow(10,i))*o)/o;const w=nc(e.max,b);return a.push({value:w,major:SD(w),significand:g}),a}class zS extends nf{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,n){const a=tb.prototype.parse.apply(this,[t,n]);if(a===0){this._zero=!0;return}return ui(a)&&a>0?a:null}determineDataLimits(){const{min:t,max:n}=this.getMinMax(!0);this.min=ui(t)?Math.max(0,t):null,this.max=ui(n)?Math.max(0,n):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!ui(this._userMin)&&(this.min=t===dh(this.min,0)?dh(this.min,-1):dh(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:t,maxDefined:n}=this.getUserBounds();let a=this.min,r=this.max;const i=c=>a=t?a:c,o=c=>r=n?r:c;a===r&&(a<=0?(i(1),o(10)):(i(dh(a,-1)),o(dh(r,1)))),a<=0&&i(dh(r,-1)),r<=0&&o(dh(a,1)),this.min=a,this.max=r}buildTicks(){const t=this.options,n={min:this._userMin,max:this._userMax},a=OCe(n,this);return t.bounds==="ticks"&&DO(a,this,"value"),t.reverse?(a.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),a}getLabelForValue(t){return t===void 0?"0":j0(t,this.chart.options.locale,this.options.ticks.format)}configure(){const t=this.min;super.configure(),this._startValue=bd(t),this._valueRange=bd(this.max)-bd(t)}getPixelForValue(t){return(t===void 0||t===0)&&(t=this.min),t===null||isNaN(t)?NaN:this.getPixelForDecimal(t===this.min?0:(bd(t)-this._startValue)/this._valueRange)}getValueForPixel(t){const n=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+n*this._valueRange)}}Pt(zS,"id","logarithmic"),Pt(zS,"defaults",{ticks:{callback:cy.formatters.logarithmic,major:{enabled:!0}}});function US(e){const t=e.ticks;if(t.display&&e.display){const n=vo(t.backdropPadding);return ua(t.font&&t.font.size,Yr.font.size)+n.height}return 0}function LCe(e,t,n){return n=Wr(n)?n:[n],{w:zye(e,t.string,n),h:n.length*t.lineHeight}}function kD(e,t,n,a,r){return e===a||e===r?{start:t-n/2,end:t+n/2}:e<a||e>r?{start:t-n,end:t}:{start:t,end:t+n}}function $Ce(e){const t={l:e.left+e._padding.left,r:e.right-e._padding.right,t:e.top+e._padding.top,b:e.bottom-e._padding.bottom},n=Object.assign({},t),a=[],r=[],i=e._pointLabels.length,o=e.options.pointLabels,c=o.centerPointLabels?$r/i:0;for(let l=0;l<i;l++){const d=o.setContext(e.getPointLabelContext(l));r[l]=d.padding;const f=e.getPointPosition(l,e.drawingArea+r[l],c),g=Bi(d.font),b=LCe(e.ctx,g,e._pointLabels[l]);a[l]=b;const w=sc(e.getIndexAngle(l)+c),C=Math.round(i4(w)),S=kD(C,f.x,b.w,0,180),k=kD(C,f.y,b.h,90,270);PCe(n,t,w,S,k)}e.setCenterPoint(t.l-n.l,n.r-t.r,t.t-n.t,n.b-t.b),e._pointLabelItems=qCe(e,a,r)}function PCe(e,t,n,a,r){const i=Math.abs(Math.sin(n)),o=Math.abs(Math.cos(n));let c=0,l=0;a.start<t.l?(c=(t.l-a.start)/i,e.l=Math.min(e.l,t.l-c)):a.end>t.r&&(c=(a.end-t.r)/i,e.r=Math.max(e.r,t.r+c)),r.start<t.t?(l=(t.t-r.start)/o,e.t=Math.min(e.t,t.t-l)):r.end>t.b&&(l=(r.end-t.b)/o,e.b=Math.max(e.b,t.b+l))}function FCe(e,t,n){const a=e.drawingArea,{extra:r,additionalAngle:i,padding:o,size:c}=n,l=e.getPointPosition(t,a+r+o,i),d=Math.round(i4(sc(l.angle+xi))),f=UCe(l.y,c.h,d),g=VCe(d),b=zCe(l.x,c.w,g);return{visible:!0,x:l.x,y:f,textAlign:g,left:b,top:f,right:b+c.w,bottom:f+c.h}}function HCe(e,t){if(!t)return!0;const{left:n,top:a,right:r,bottom:i}=e;return!(_u({x:n,y:a},t)||_u({x:n,y:i},t)||_u({x:r,y:a},t)||_u({x:r,y:i},t))}function qCe(e,t,n){const a=[],r=e._pointLabels.length,i=e.options,{centerPointLabels:o,display:c}=i.pointLabels,l={extra:US(i)/2,additionalAngle:o?$r/r:0};let d;for(let f=0;f<r;f++){l.padding=n[f],l.size=t[f];const g=FCe(e,f,l);a.push(g),c==="auto"&&(g.visible=HCe(g,d),g.visible&&(d=g))}return a}function VCe(e){return e===0||e===180?"center":e<180?"left":"right"}function zCe(e,t,n){return n==="right"?e-=t:n==="center"&&(e-=t/2),e}function UCe(e,t,n){return n===90||n===270?e-=t/2:(n>270||n<90)&&(e-=t),e}function WCe(e,t,n){const{left:a,top:r,right:i,bottom:o}=n,{backdropColor:c}=t;if(!Aa(c)){const l=Oh(t.borderRadius),d=vo(t.backdropPadding);e.fillStyle=c;const f=a-d.left,g=r-d.top,b=i-a+d.width,w=o-r+d.height;Object.values(l).some(C=>C!==0)?(e.beginPath(),Vg(e,{x:f,y:g,w:b,h:w,radius:l}),e.fill()):e.fillRect(f,g,b,w)}}function YCe(e,t){const{ctx:n,options:{pointLabels:a}}=e;for(let r=t-1;r>=0;r--){const i=e._pointLabelItems[r];if(!i.visible)continue;const o=a.setContext(e.getPointLabelContext(r));WCe(n,o,i);const c=Bi(o.font),{x:l,y:d,textAlign:f}=i;Qh(n,e._pointLabels[r],l,d+c.lineHeight/2,c,{color:o.color,textAlign:f,textBaseline:"middle"})}}function wL(e,t,n,a){const{ctx:r}=e;if(n)r.arc(e.xCenter,e.yCenter,t,0,Or);else{let i=e.getPointPosition(0,t);r.moveTo(i.x,i.y);for(let o=1;o<a;o++)i=e.getPointPosition(o,t),r.lineTo(i.x,i.y)}}function GCe(e,t,n,a,r){const i=e.ctx,o=t.circular,{color:c,lineWidth:l}=t;!o&&!a||!c||!l||n<0||(i.save(),i.strokeStyle=c,i.lineWidth=l,i.setLineDash(r.dash||[]),i.lineDashOffset=r.dashOffset,i.beginPath(),wL(e,n,o,a),i.closePath(),i.stroke(),i.restore())}function QCe(e,t,n){return $d(e,{label:n,index:t,type:"pointLabel"})}class K1 extends tb{constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const t=this._padding=vo(US(this.options)/2),n=this.width=this.maxWidth-t.width,a=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+n/2+t.left),this.yCenter=Math.floor(this.top+a/2+t.top),this.drawingArea=Math.floor(Math.min(n,a)/2)}determineDataLimits(){const{min:t,max:n}=this.getMinMax(!1);this.min=ui(t)&&!isNaN(t)?t:0,this.max=ui(n)&&!isNaN(n)?n:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/US(this.options))}generateTickLabels(t){tb.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map((n,a)=>{const r=Mr(this.options.pointLabels.callback,[n,a],this);return r||r===0?r:""}).filter((n,a)=>this.chart.getDataVisibility(a))}fit(){const t=this.options;t.display&&t.pointLabels.display?$Ce(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(t,n,a,r){this.xCenter+=Math.floor((t-n)/2),this.yCenter+=Math.floor((a-r)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,n,a,r))}getIndexAngle(t){const n=Or/(this._pointLabels.length||1),a=this.options.startAngle||0;return sc(t*n+Qc(a))}getDistanceFromCenterForValue(t){if(Aa(t))return NaN;const n=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*n:(t-this.min)*n}getValueForDistanceFromCenter(t){if(Aa(t))return NaN;const n=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-n:this.min+n}getPointLabelContext(t){const n=this._pointLabels||[];if(t>=0&&t<n.length){const a=n[t];return QCe(this.getContext(),t,a)}}getPointPosition(t,n,a=0){const r=this.getIndexAngle(t)-xi+a;return{x:Math.cos(r)*n+this.xCenter,y:Math.sin(r)*n+this.yCenter,angle:r}}getPointPositionForValue(t,n){return this.getPointPosition(t,this.getDistanceFromCenterForValue(n))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){const{left:n,top:a,right:r,bottom:i}=this._pointLabelItems[t];return{left:n,top:a,right:r,bottom:i}}drawBackground(){const{backgroundColor:t,grid:{circular:n}}=this.options;if(t){const a=this.ctx;a.save(),a.beginPath(),wL(this,this.getDistanceFromCenterForValue(this._endValue),n,this._pointLabels.length),a.closePath(),a.fillStyle=t,a.fill(),a.restore()}}drawGrid(){const t=this.ctx,n=this.options,{angleLines:a,grid:r,border:i}=n,o=this._pointLabels.length;let c,l,d;if(n.pointLabels.display&&YCe(this,o),r.display&&this.ticks.forEach((f,g)=>{if(g!==0||g===0&&this.min<0){l=this.getDistanceFromCenterForValue(f.value);const b=this.getContext(g),w=r.setContext(b),C=i.setContext(b);GCe(this,w,l,o,C)}}),a.display){for(t.save(),c=o-1;c>=0;c--){const f=a.setContext(this.getPointLabelContext(c)),{color:g,lineWidth:b}=f;!b||!g||(t.lineWidth=b,t.strokeStyle=g,t.setLineDash(f.borderDash),t.lineDashOffset=f.borderDashOffset,l=this.getDistanceFromCenterForValue(n.reverse?this.min:this.max),d=this.getPointPosition(c,l),t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(d.x,d.y),t.stroke())}t.restore()}}drawBorder(){}drawLabels(){const t=this.ctx,n=this.options,a=n.ticks;if(!a.display)return;const r=this.getIndexAngle(0);let i,o;t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(r),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach((c,l)=>{if(l===0&&this.min>=0&&!n.reverse)return;const d=a.setContext(this.getContext(l)),f=Bi(d.font);if(i=this.getDistanceFromCenterForValue(this.ticks[l].value),d.showLabelBackdrop){t.font=f.string,o=t.measureText(c.label).width,t.fillStyle=d.backdropColor;const g=vo(d.backdropPadding);t.fillRect(-o/2-g.left,-i-f.size/2-g.top,o+g.width,f.size+g.height)}Qh(t,c.label,0,-i,f,{color:d.color,strokeColor:d.textStrokeColor,strokeWidth:d.textStrokeWidth})}),t.restore()}drawTitle(){}}Pt(K1,"id","radialLinear"),Pt(K1,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:cy.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(t){return t},padding:5,centerPointLabels:!1}}),Pt(K1,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),Pt(K1,"descriptors",{angleLines:{_fallback:"grid"}});const fy={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Oo=Object.keys(fy);function ID(e,t){return e-t}function ED(e,t){if(Aa(t))return null;const n=e._adapter,{parser:a,round:r,isoWeekday:i}=e._parseOpts;let o=t;return typeof a=="function"&&(o=a(o)),ui(o)||(o=typeof a=="string"?n.parse(o,a):n.parse(o)),o===null?null:(r&&(o=r==="week"&&(Am(i)||i===!0)?n.startOf(o,"isoWeek",i):n.startOf(o,r)),+o)}function TD(e,t,n,a){const r=Oo.length;for(let i=Oo.indexOf(e);i<r-1;++i){const o=fy[Oo[i]],c=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((n-t)/(c*o.size))<=a)return Oo[i]}return Oo[r-1]}function XCe(e,t,n,a,r){for(let i=Oo.length-1;i>=Oo.indexOf(n);i--){const o=Oo[i];if(fy[o].common&&e._adapter.diff(r,a,o)>=t-1)return o}return Oo[n?Oo.indexOf(n):0]}function KCe(e){for(let t=Oo.indexOf(e)+1,n=Oo.length;t<n;++t)if(fy[Oo[t]].common)return Oo[t]}function DD(e,t,n){if(!n)e[t]=!0;else if(n.length){const{lo:a,hi:r}=o4(n,t),i=n[a]>=t?n[a]:n[r];e[i]=!0}}function ZCe(e,t,n,a){const r=e._adapter,i=+r.startOf(t[0].value,a),o=t[t.length-1].value;let c,l;for(c=i;c<=o;c=+r.add(c,1,a))l=n[c],l>=0&&(t[l].major=!0);return t}function AD(e,t,n){const a=[],r={},i=t.length;let o,c;for(o=0;o<i;++o)c=t[o],r[c]=o,a.push({value:c,major:!1});return i===0||!n?a:ZCe(e,a,r,n)}class Wg extends nf{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,n={}){const a=t.time||(t.time={}),r=this._adapter=new owe._date(t.adapters.date);r.init(n),gg(a.displayFormats,r.formats()),this._parseOpts={parser:a.parser,round:a.round,isoWeekday:a.isoWeekday},super.init(t),this._normalized=n.normalized}parse(t,n){return t===void 0?null:ED(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,n=this._adapter,a=t.time.unit||"day";let{min:r,max:i,minDefined:o,maxDefined:c}=this.getUserBounds();function l(d){!o&&!isNaN(d.min)&&(r=Math.min(r,d.min)),!c&&!isNaN(d.max)&&(i=Math.max(i,d.max))}(!o||!c)&&(l(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&l(this.getMinMax(!1))),r=ui(r)&&!isNaN(r)?r:+n.startOf(Date.now(),a),i=ui(i)&&!isNaN(i)?i:+n.endOf(Date.now(),a)+1,this.min=Math.min(r,i-1),this.max=Math.max(r+1,i)}_getLabelBounds(){const t=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,a=Number.NEGATIVE_INFINITY;return t.length&&(n=t[0],a=t[t.length-1]),{min:n,max:a}}buildTicks(){const t=this.options,n=t.time,a=t.ticks,r=a.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const i=this.min,o=this.max,c=Dye(r,i,o);return this._unit=n.unit||(a.autoSkip?TD(n.minUnit,this.min,this.max,this._getLabelCapacity(i)):XCe(this,c.length,n.minUnit,this.min,this.max)),this._majorUnit=!a.major.enabled||this._unit==="year"?void 0:KCe(this._unit),this.initOffsets(r),t.reverse&&c.reverse(),AD(this,c,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let n=0,a=0,r,i;this.options.offset&&t.length&&(r=this.getDecimalForValue(t[0]),t.length===1?n=1-r:n=(this.getDecimalForValue(t[1])-r)/2,i=this.getDecimalForValue(t[t.length-1]),t.length===1?a=i:a=(i-this.getDecimalForValue(t[t.length-2]))/2);const o=t.length<3?.5:.25;n=Wi(n,0,o),a=Wi(a,0,o),this._offsets={start:n,end:a,factor:1/(n+1+a)}}_generate(){const t=this._adapter,n=this.min,a=this.max,r=this.options,i=r.time,o=i.unit||TD(i.minUnit,n,a,this._getLabelCapacity(n)),c=ua(r.ticks.stepSize,1),l=o==="week"?i.isoWeekday:!1,d=Am(l)||l===!0,f={};let g=n,b,w;if(d&&(g=+t.startOf(g,"isoWeek",l)),g=+t.startOf(g,d?"day":o),t.diff(a,n,o)>1e5*c)throw new Error(n+" and "+a+" are too far apart with stepSize of "+c+" "+o);const C=r.ticks.source==="data"&&this.getDataTimestamps();for(b=g,w=0;b<a;b=+t.add(b,c,o),w++)DD(f,b,C);return(b===a||r.bounds==="ticks"||w===1)&&DD(f,b,C),Object.keys(f).sort(ID).map(S=>+S)}getLabelForValue(t){const n=this._adapter,a=this.options.time;return a.tooltipFormat?n.format(t,a.tooltipFormat):n.format(t,a.displayFormats.datetime)}format(t,n){const r=this.options.time.displayFormats,i=this._unit,o=n||r[i];return this._adapter.format(t,o)}_tickFormatFunction(t,n,a,r){const i=this.options,o=i.ticks.callback;if(o)return Mr(o,[t,n,a],this);const c=i.time.displayFormats,l=this._unit,d=this._majorUnit,f=l&&c[l],g=d&&c[d],b=a[n],w=d&&g&&b&&b.major;return this._adapter.format(t,r||(w?g:f))}generateTickLabels(t){let n,a,r;for(n=0,a=t.length;n<a;++n)r=t[n],r.label=this._tickFormatFunction(r.value,n,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const n=this._offsets,a=this.getDecimalForValue(t);return this.getPixelForDecimal((n.start+a)*n.factor)}getValueForPixel(t){const n=this._offsets,a=this.getDecimalForPixel(t)/n.factor-n.end;return this.min+a*(this.max-this.min)}_getLabelSize(t){const n=this.options.ticks,a=this.ctx.measureText(t).width,r=Qc(this.isHorizontal()?n.maxRotation:n.minRotation),i=Math.cos(r),o=Math.sin(r),c=this._resolveTickFontOptions(0).size;return{w:a*i+c*o,h:a*o+c*i}}_getLabelCapacity(t){const n=this.options.time,a=n.displayFormats,r=a[n.unit]||a.millisecond,i=this._tickFormatFunction(t,0,AD(this,[t],this._majorUnit),r),o=this._getLabelSize(i),c=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return c>0?c:1}getDataTimestamps(){let t=this._cache.data||[],n,a;if(t.length)return t;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(n=0,a=r.length;n<a;++n)t=t.concat(r[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let n,a;if(t.length)return t;const r=this.getLabels();for(n=0,a=r.length;n<a;++n)t.push(ED(this,r[n]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return RO(t.sort(ID))}}Pt(Wg,"id","time"),Pt(Wg,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function uv(e,t,n){let a=0,r=e.length-1,i,o,c,l;n?(t>=e[a].pos&&t<=e[r].pos&&({lo:a,hi:r}=gu(e,"pos",t)),{pos:i,time:c}=e[a],{pos:o,time:l}=e[r]):(t>=e[a].time&&t<=e[r].time&&({lo:a,hi:r}=gu(e,"time",t)),{time:i,pos:c}=e[a],{time:o,pos:l}=e[r]);const d=o-i;return d?c+(l-c)*(t-i)/d:c}class WS extends Wg{constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(t);this._minPos=uv(n,this.min),this._tableRange=uv(n,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:n,max:a}=this,r=[],i=[];let o,c,l,d,f;for(o=0,c=t.length;o<c;++o)d=t[o],d>=n&&d<=a&&r.push(d);if(r.length<2)return[{time:n,pos:0},{time:a,pos:1}];for(o=0,c=r.length;o<c;++o)f=r[o+1],l=r[o-1],d=r[o],Math.round((f+l)/2)!==d&&i.push({time:d,pos:o/(c-1)});return i}_generate(){const t=this.min,n=this.max;let a=super.getDataTimestamps();return(!a.includes(t)||!a.length)&&a.splice(0,0,t),(!a.includes(n)||a.length===1)&&a.push(n),a.sort((r,i)=>r-i)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const n=this.getDataTimestamps(),a=this.getLabelTimestamps();return n.length&&a.length?t=this.normalize(n.concat(a)):t=n.length?n:a,t=this._cache.all=t,t}getDecimalForValue(t){return(uv(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const n=this._offsets,a=this.getDecimalForPixel(t)/n.factor-n.end;return uv(this._table,a*this._tableRange+this._minPos,!0)}}Pt(WS,"id","timeseries"),Pt(WS,"defaults",Wg.defaults);var JCe=Object.freeze({__proto__:null,CategoryScale:qS,LinearScale:VS,LogarithmicScale:zS,RadialLinearScale:K1,TimeScale:Wg,TimeSeriesScale:WS});const eSe=[iwe,Bje,TCe,JCe];ac.register(...eSe);const tSe="_app_16tnk_31",nSe="_mainContent_16tnk_38",sSe="_headerWithControls_16tnk_48",aSe="_pageTitle_16tnk_65",rSe="_icon_16tnk_80",iSe="_periodControls_16tnk_87",oSe="_periodButton_16tnk_98",cSe="_active_16tnk_137",lSe="_dateRangePicker_16tnk_149",uSe="_calendarIcon_16tnk_156",dSe="_dateInput_16tnk_165",hSe="_statsGrid_16tnk_188",fSe="_statCard_16tnk_197",mSe="_success_16tnk_240",pSe="_warning_16tnk_244",gSe="_danger_16tnk_248",_Se="_contentRow_16tnk_269",vSe="_chartContainer_16tnk_278",xSe="_transactionList_16tnk_296",bSe="_transactionItem_16tnk_312",ySe="_transactionHeader_16tnk_351",wSe="_transactionMeta_16tnk_363",jSe="_paymentMethod_16tnk_374",CSe="_noTransactions_16tnk_399",SSe="_modalOverlay_16tnk_407",NSe="_modalContent_16tnk_422",kSe="_closeButton_16tnk_455",ISe="_receiptHeader_16tnk_481",ESe="_receiptMeta_16tnk_510",TSe="_paidBadge_16tnk_522",DSe="_modalLoading_16tnk_532",ASe="_customerInfo_16tnk_540",MSe="_itemsList_16tnk_562",RSe="_itemCard_16tnk_566",BSe="_itemImage_16tnk_604",OSe="_itemInfo_16tnk_619",LSe="_variantName_16tnk_630",$Se="_sku_16tnk_637",PSe="_attributesContainer_16tnk_644",FSe="_attributesToggle_16tnk_652",HSe="_productAttributes_16tnk_681",qSe="_slideDown_16tnk_1",VSe="_attributeItem_16tnk_704",zSe="_attributeName_16tnk_712",USe="_attributeValue_16tnk_718",WSe="_stockInfo_16tnk_723",YSe="_soldInfo_16tnk_724",GSe="_availableReturn_16tnk_725",QSe="_itemPricing_16tnk_731",XSe="_priceRow_16tnk_739",KSe="_originalPrice_16tnk_746",ZSe="_discountBadge_16tnk_751",JSe="_finalPrice_16tnk_760",eNe="_returnsSection_16tnk_766",tNe="_returnItem_16tnk_784",nNe="_returnHeader_16tnk_796",sNe="_refundAmount_16tnk_803",aNe="_returnReason_16tnk_808",rNe="_returnLocation_16tnk_809",iNe="_returnDate_16tnk_810",oNe="_createdBy_16tnk_811",cNe="_defectBadge_16tnk_822",lNe="_receiptFooter_16tnk_836",uNe="_discountInfo_16tnk_844",dNe="_returnsInfo_16tnk_845",hNe="_totalRow_16tnk_846",fNe="_profitRow_16tnk_847",mNe="_discountAmount_16tnk_863",pNe="_returnsAmount_16tnk_868",gNe="_totalAmount_16tnk_873",_Ne="_profitAmount_16tnk_879",vNe="_bonusInfo_16tnk_885",xNe="_bonusAccrued_16tnk_893",bNe="_bonusRedeemed_16tnk_894",yNe="_bonusIcon_16tnk_912",wNe="_bonusLabel_16tnk_921",jNe="_bonusValue_16tnk_928",CNe="_bonusSection_16tnk_940",SNe="_bonusSectionTitle_16tnk_949",NNe="_bonusRow_16tnk_964",kNe="_bonusAccruedTotal_16tnk_982",INe="_bonusRedeemedTotal_16tnk_988",ENe="_actionButtons_16tnk_994",TNe="_downloadButton_16tnk_1002",DNe="_previewButton_16tnk_1003",ANe="_loading_16tnk_1037",MNe="_error_16tnk_1038",RNe="_tasksSection_16tnk_1131",BNe="_tasksHeader_16tnk_1142",ONe="_tasksIcon_16tnk_1177",LNe="_viewAllTasksButton_16tnk_1183",$Ne="_arrowIcon_16tnk_1206",PNe="_tasksGrid_16tnk_1210",FNe="_taskCard_16tnk_1216",HNe="_taskCardHeader_16tnk_1252",qNe="_taskTitle_16tnk_1258",VNe="_taskBadges_16tnk_1271",zNe="_taskBadge_16tnk_1271",UNe="_priorityLow_16tnk_1287",WNe="_priorityMedium_16tnk_1293",YNe="_priorityHigh_16tnk_1299",GNe="_priorityCritical_16tnk_1305",QNe="_statusTodo_16tnk_1311",XNe="_statusInprogress_16tnk_1317",KNe="_statusReview_16tnk_1323",ZNe="_taskProgress_16tnk_1329",JNe="_taskProgressInfo_16tnk_1337",e3e="_taskProgressPercentage_16tnk_1346",t3e="_taskProgressBar_16tnk_1352",n3e="_taskProgressBarFill_16tnk_1362",s3e="_taskProgressStats_16tnk_1370",a3e="_taskMeta_16tnk_1377",r3e="_taskAssignees_16tnk_1385",i3e="_taskDueDate_16tnk_1386",o3e="_taskMetaIcon_16tnk_1395",c3e="_taskLocation_16tnk_1400",Yt={app:tSe,mainContent:nSe,headerWithControls:sSe,pageTitle:aSe,icon:rSe,periodControls:iSe,periodButton:oSe,active:cSe,dateRangePicker:lSe,calendarIcon:uSe,dateInput:dSe,statsGrid:hSe,statCard:fSe,success:mSe,warning:pSe,danger:gSe,contentRow:_Se,chartContainer:vSe,transactionList:xSe,transactionItem:bSe,transactionHeader:ySe,transactionMeta:wSe,paymentMethod:jSe,noTransactions:CSe,modalOverlay:SSe,modalContent:NSe,closeButton:kSe,receiptHeader:ISe,receiptMeta:ESe,paidBadge:TSe,modalLoading:DSe,customerInfo:ASe,itemsList:MSe,itemCard:RSe,itemImage:BSe,itemInfo:OSe,variantName:LSe,sku:$Se,attributesContainer:PSe,attributesToggle:FSe,productAttributes:HSe,slideDown:qSe,attributeItem:VSe,attributeName:zSe,attributeValue:USe,stockInfo:WSe,soldInfo:YSe,availableReturn:GSe,itemPricing:QSe,priceRow:XSe,originalPrice:KSe,discountBadge:ZSe,finalPrice:JSe,returnsSection:eNe,returnItem:tNe,returnHeader:nNe,refundAmount:sNe,returnReason:aNe,returnLocation:rNe,returnDate:iNe,createdBy:oNe,defectBadge:cNe,receiptFooter:lNe,discountInfo:uNe,returnsInfo:dNe,totalRow:hNe,profitRow:fNe,discountAmount:mNe,returnsAmount:pNe,totalAmount:gNe,profitAmount:_Ne,bonusInfo:vNe,bonusAccrued:xNe,bonusRedeemed:bNe,bonusIcon:yNe,bonusLabel:wNe,bonusValue:jNe,bonusSection:CNe,bonusSectionTitle:SNe,bonusRow:NNe,bonusAccruedTotal:kNe,bonusRedeemedTotal:INe,actionButtons:ENe,downloadButton:TNe,previewButton:DNe,loading:ANe,error:MNe,tasksSection:RNe,tasksHeader:BNe,tasksIcon:ONe,viewAllTasksButton:LNe,arrowIcon:$Ne,tasksGrid:PNe,taskCard:FNe,taskCardHeader:HNe,taskTitle:qNe,taskBadges:VNe,taskBadge:zNe,priorityLow:UNe,priorityMedium:WNe,priorityHigh:YNe,priorityCritical:GNe,statusTodo:QNe,statusInprogress:XNe,statusReview:KNe,taskProgress:ZNe,taskProgressInfo:JNe,taskProgressPercentage:e3e,taskProgressBar:t3e,taskProgressBarFill:n3e,taskProgressStats:s3e,taskMeta:a3e,taskAssignees:r3e,taskDueDate:i3e,taskMetaIcon:o3e,taskLocation:c3e};function jL(e){var t,n,a="";if(typeof e=="string"||typeof e=="number")a+=e;else if(typeof e=="object")if(Array.isArray(e)){var r=e.length;for(t=0;t<r;t++)e[t]&&(n=jL(e[t]))&&(a&&(a+=" "),a+=n)}else for(n in e)e[n]&&(a&&(a+=" "),a+=n);return a}function to(){for(var e,t,n=0,a="",r=arguments.length;n<r;n++)(e=arguments[n])&&(t=jL(e))&&(a&&(a+=" "),a+=t);return a}const CL=6048e5,l3e=864e5,my=6e4,py=36e5,u3e=1e3,MD=Symbol.for("constructDateFrom");function _r(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&MD in e?e[MD](t):e instanceof Date?new e.constructor(t):new Date(t)}function Cs(e,t){return _r(t||e,e)}function tl(e,t,n){const a=Cs(e,n==null?void 0:n.in);return isNaN(t)?_r((n==null?void 0:n.in)||e,NaN):(t&&a.setDate(a.getDate()+t),a)}function il(e,t,n){const a=Cs(e,n==null?void 0:n.in);if(isNaN(t))return _r(e,NaN);if(!t)return a;const r=a.getDate(),i=_r(e,a.getTime());i.setMonth(a.getMonth()+t+1,0);const o=i.getDate();return r>=o?i:(a.setFullYear(i.getFullYear(),i.getMonth(),r),a)}function SL(e,t,n){return _r(e,+Cs(e)+t)}function d3e(e,t,n){return SL(e,t*py)}let h3e={};function sf(){return h3e}function Tu(e,t){var c,l,d,f;const n=sf(),a=(t==null?void 0:t.weekStartsOn)??((l=(c=t==null?void 0:t.locale)==null?void 0:c.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((f=(d=n.locale)==null?void 0:d.options)==null?void 0:f.weekStartsOn)??0,r=Cs(e,t==null?void 0:t.in),i=r.getDay(),o=(i<a?7:0)+i-a;return r.setDate(r.getDate()-o),r.setHours(0,0,0,0),r}function Bm(e,t){return Tu(e,{...t,weekStartsOn:1})}function NL(e,t){const n=Cs(e,t==null?void 0:t.in),a=n.getFullYear(),r=_r(n,0);r.setFullYear(a+1,0,4),r.setHours(0,0,0,0);const i=Bm(r),o=_r(n,0);o.setFullYear(a,0,4),o.setHours(0,0,0,0);const c=Bm(o);return n.getTime()>=i.getTime()?a+1:n.getTime()>=c.getTime()?a:a-1}function nb(e){const t=Cs(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function Mu(e,...t){const n=_r.bind(null,t.find(a=>typeof a=="object"));return t.map(n)}function Xh(e,t){const n=Cs(e,t==null?void 0:t.in);return n.setHours(0,0,0,0),n}function Om(e,t,n){const[a,r]=Mu(n==null?void 0:n.in,e,t),i=Xh(a),o=Xh(r),c=+i-nb(i),l=+o-nb(o);return Math.round((c-l)/l3e)}function f3e(e,t){const n=NL(e,t),a=_r(e,0);return a.setFullYear(n,0,4),a.setHours(0,0,0,0),Bm(a)}function YS(e,t,n){const a=Cs(e,n==null?void 0:n.in);return a.setTime(a.getTime()+t*my),a}function x4(e,t,n){return il(e,t*3,n)}function m3e(e,t,n){return SL(e,t*1e3)}function sb(e,t,n){return tl(e,t*7,n)}function bu(e,t,n){return il(e,t*12,n)}function RD(e,t){let n,a=t==null?void 0:t.in;return e.forEach(r=>{!a&&typeof r=="object"&&(a=_r.bind(null,r));const i=Cs(r,a);(!n||n<i||isNaN(+i))&&(n=i)}),_r(a,n||NaN)}function BD(e,t){let n,a=t==null?void 0:t.in;return e.forEach(r=>{!a&&typeof r=="object"&&(a=_r.bind(null,r));const i=Cs(r,a);(!n||n>i||isNaN(+i))&&(n=i)}),_r(a,n||NaN)}function p3e(e,t,n){const[a,r]=Mu(n==null?void 0:n.in,e,t);return+Xh(a)==+Xh(r)}function yu(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function ab(e){return!(!yu(e)&&typeof e!="number"||isNaN(+Cs(e)))}function rb(e,t,n){const[a,r]=Mu(n==null?void 0:n.in,e,t),i=a.getFullYear()-r.getFullYear(),o=a.getMonth()-r.getMonth();return i*12+o}function $h(e,t){const n=Cs(e,t==null?void 0:t.in);return Math.trunc(n.getMonth()/3)+1}function ib(e,t,n){const[a,r]=Mu(n==null?void 0:n.in,e,t),i=a.getFullYear()-r.getFullYear(),o=$h(a)-$h(r);return i*4+o}function ob(e,t,n){const[a,r]=Mu(n==null?void 0:n.in,e,t);return a.getFullYear()-r.getFullYear()}function g3e(e,t,n){const[a,r]=Mu(n==null?void 0:n.in,e,t),i=OD(a,r),o=Math.abs(Om(a,r));a.setDate(a.getDate()-i*o);const c=+(OD(a,r)===-i),l=i*(o-c);return l===0?0:l}function OD(e,t){const n=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return n<0?-1:n>0?1:n}function kL(e,t){const n=Cs(e,t==null?void 0:t.in);return n.setHours(23,59,59,999),n}function IL(e,t){const n=Cs(e,t==null?void 0:t.in),a=n.getMonth();return n.setFullYear(n.getFullYear(),a+1,0),n.setHours(23,59,59,999),n}function GS(e,t){const n=Cs(e,t==null?void 0:t.in),a=n.getMonth(),r=a-a%3;return n.setMonth(r,1),n.setHours(0,0,0,0),n}function EL(e,t){const n=Cs(e,t==null?void 0:t.in);return n.setDate(1),n.setHours(0,0,0,0),n}function TL(e,t){const n=Cs(e,t==null?void 0:t.in),a=n.getFullYear();return n.setFullYear(a+1,0,0),n.setHours(23,59,59,999),n}function gy(e,t){const n=Cs(e,t==null?void 0:t.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}function _3e(e,t){var c,l;const n=sf(),a=n.weekStartsOn??((l=(c=n.locale)==null?void 0:c.options)==null?void 0:l.weekStartsOn)??0,r=Cs(e,t==null?void 0:t.in),i=r.getDay(),o=(i<a?-7:0)+6-(i-a);return r.setDate(r.getDate()+o),r.setHours(23,59,59,999),r}const v3e={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},x3e=(e,t,n)=>{let a;const r=v3e[e];return typeof r=="string"?a=r:t===1?a=r.one:a=r.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+a:a+" ago":a};function Vj(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const b3e={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},y3e={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},w3e={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},j3e={date:Vj({formats:b3e,defaultWidth:"full"}),time:Vj({formats:y3e,defaultWidth:"full"}),dateTime:Vj({formats:w3e,defaultWidth:"full"})},C3e={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},S3e=(e,t,n,a)=>C3e[e];function S1(e){return(t,n)=>{const a=n!=null&&n.context?String(n.context):"standalone";let r;if(a==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,c=n!=null&&n.width?String(n.width):o;r=e.formattingValues[c]||e.formattingValues[o]}else{const o=e.defaultWidth,c=n!=null&&n.width?String(n.width):e.defaultWidth;r=e.values[c]||e.values[o]}const i=e.argumentCallback?e.argumentCallback(t):t;return r[i]}}const N3e={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},k3e={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},I3e={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},E3e={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},T3e={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},D3e={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},A3e=(e,t)=>{const n=Number(e),a=n%100;if(a>20||a<10)switch(a%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},M3e={ordinalNumber:A3e,era:S1({values:N3e,defaultWidth:"wide"}),quarter:S1({values:k3e,defaultWidth:"wide",argumentCallback:e=>e-1}),month:S1({values:I3e,defaultWidth:"wide"}),day:S1({values:E3e,defaultWidth:"wide"}),dayPeriod:S1({values:T3e,defaultWidth:"wide",formattingValues:D3e,defaultFormattingWidth:"wide"})};function N1(e){return(t,n={})=>{const a=n.width,r=a&&e.matchPatterns[a]||e.matchPatterns[e.defaultMatchWidth],i=t.match(r);if(!i)return null;const o=i[0],c=a&&e.parsePatterns[a]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(c)?B3e(c,g=>g.test(o)):R3e(c,g=>g.test(o));let d;d=e.valueCallback?e.valueCallback(l):l,d=n.valueCallback?n.valueCallback(d):d;const f=t.slice(o.length);return{value:d,rest:f}}}function R3e(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function B3e(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function O3e(e){return(t,n={})=>{const a=t.match(e.matchPattern);if(!a)return null;const r=a[0],i=t.match(e.parsePattern);if(!i)return null;let o=e.valueCallback?e.valueCallback(i[0]):i[0];o=n.valueCallback?n.valueCallback(o):o;const c=t.slice(r.length);return{value:o,rest:c}}}const L3e=/^(\d+)(th|st|nd|rd)?/i,$3e=/\d+/i,P3e={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},F3e={any:[/^b/i,/^(a|c)/i]},H3e={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},q3e={any:[/1/i,/2/i,/3/i,/4/i]},V3e={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},z3e={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},U3e={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},W3e={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Y3e={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},G3e={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Q3e={ordinalNumber:O3e({matchPattern:L3e,parsePattern:$3e,valueCallback:e=>parseInt(e,10)}),era:N1({matchPatterns:P3e,defaultMatchWidth:"wide",parsePatterns:F3e,defaultParseWidth:"any"}),quarter:N1({matchPatterns:H3e,defaultMatchWidth:"wide",parsePatterns:q3e,defaultParseWidth:"any",valueCallback:e=>e+1}),month:N1({matchPatterns:V3e,defaultMatchWidth:"wide",parsePatterns:z3e,defaultParseWidth:"any"}),day:N1({matchPatterns:U3e,defaultMatchWidth:"wide",parsePatterns:W3e,defaultParseWidth:"any"}),dayPeriod:N1({matchPatterns:Y3e,defaultMatchWidth:"any",parsePatterns:G3e,defaultParseWidth:"any"})},DL={code:"en-US",formatDistance:x3e,formatLong:j3e,formatRelative:S3e,localize:M3e,match:Q3e,options:{weekStartsOn:0,firstWeekContainsDate:1}};function X3e(e,t){const n=Cs(e,t==null?void 0:t.in);return Om(n,gy(n))+1}function b4(e,t){const n=Cs(e,t==null?void 0:t.in),a=+Bm(n)-+f3e(n);return Math.round(a/CL)+1}function y4(e,t){var f,g,b,w;const n=Cs(e,t==null?void 0:t.in),a=n.getFullYear(),r=sf(),i=(t==null?void 0:t.firstWeekContainsDate)??((g=(f=t==null?void 0:t.locale)==null?void 0:f.options)==null?void 0:g.firstWeekContainsDate)??r.firstWeekContainsDate??((w=(b=r.locale)==null?void 0:b.options)==null?void 0:w.firstWeekContainsDate)??1,o=_r((t==null?void 0:t.in)||e,0);o.setFullYear(a+1,0,i),o.setHours(0,0,0,0);const c=Tu(o,t),l=_r((t==null?void 0:t.in)||e,0);l.setFullYear(a,0,i),l.setHours(0,0,0,0);const d=Tu(l,t);return+n>=+c?a+1:+n>=+d?a:a-1}function K3e(e,t){var c,l,d,f;const n=sf(),a=(t==null?void 0:t.firstWeekContainsDate)??((l=(c=t==null?void 0:t.locale)==null?void 0:c.options)==null?void 0:l.firstWeekContainsDate)??n.firstWeekContainsDate??((f=(d=n.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??1,r=y4(e,t),i=_r((t==null?void 0:t.in)||e,0);return i.setFullYear(r,0,a),i.setHours(0,0,0,0),Tu(i,t)}function AL(e,t){const n=Cs(e,t==null?void 0:t.in),a=+Tu(n,t)-+K3e(n,t);return Math.round(a/CL)+1}function pr(e,t){const n=e<0?"-":"",a=Math.abs(e).toString().padStart(t,"0");return n+a}const cd={y(e,t){const n=e.getFullYear(),a=n>0?n:1-n;return pr(t==="yy"?a%100:a,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):pr(n+1,2)},d(e,t){return pr(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return pr(e.getHours()%12||12,t.length)},H(e,t){return pr(e.getHours(),t.length)},m(e,t){return pr(e.getMinutes(),t.length)},s(e,t){return pr(e.getSeconds(),t.length)},S(e,t){const n=t.length,a=e.getMilliseconds(),r=Math.trunc(a*Math.pow(10,n-3));return pr(r,t.length)}},Yf={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},LD={G:function(e,t,n){const a=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(a,{width:"abbreviated"});case"GGGGG":return n.era(a,{width:"narrow"});case"GGGG":default:return n.era(a,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const a=e.getFullYear(),r=a>0?a:1-a;return n.ordinalNumber(r,{unit:"year"})}return cd.y(e,t)},Y:function(e,t,n,a){const r=y4(e,a),i=r>0?r:1-r;if(t==="YY"){const o=i%100;return pr(o,2)}return t==="Yo"?n.ordinalNumber(i,{unit:"year"}):pr(i,t.length)},R:function(e,t){const n=NL(e);return pr(n,t.length)},u:function(e,t){const n=e.getFullYear();return pr(n,t.length)},Q:function(e,t,n){const a=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(a);case"QQ":return pr(a,2);case"Qo":return n.ordinalNumber(a,{unit:"quarter"});case"QQQ":return n.quarter(a,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(a,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(a,{width:"wide",context:"formatting"})}},q:function(e,t,n){const a=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(a);case"qq":return pr(a,2);case"qo":return n.ordinalNumber(a,{unit:"quarter"});case"qqq":return n.quarter(a,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(a,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(a,{width:"wide",context:"standalone"})}},M:function(e,t,n){const a=e.getMonth();switch(t){case"M":case"MM":return cd.M(e,t);case"Mo":return n.ordinalNumber(a+1,{unit:"month"});case"MMM":return n.month(a,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(a,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(a,{width:"wide",context:"formatting"})}},L:function(e,t,n){const a=e.getMonth();switch(t){case"L":return String(a+1);case"LL":return pr(a+1,2);case"Lo":return n.ordinalNumber(a+1,{unit:"month"});case"LLL":return n.month(a,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(a,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(a,{width:"wide",context:"standalone"})}},w:function(e,t,n,a){const r=AL(e,a);return t==="wo"?n.ordinalNumber(r,{unit:"week"}):pr(r,t.length)},I:function(e,t,n){const a=b4(e);return t==="Io"?n.ordinalNumber(a,{unit:"week"}):pr(a,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):cd.d(e,t)},D:function(e,t,n){const a=X3e(e);return t==="Do"?n.ordinalNumber(a,{unit:"dayOfYear"}):pr(a,t.length)},E:function(e,t,n){const a=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(a,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(a,{width:"short",context:"formatting"});case"EEEE":default:return n.day(a,{width:"wide",context:"formatting"})}},e:function(e,t,n,a){const r=e.getDay(),i=(r-a.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return pr(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(r,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(r,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(r,{width:"short",context:"formatting"});case"eeee":default:return n.day(r,{width:"wide",context:"formatting"})}},c:function(e,t,n,a){const r=e.getDay(),i=(r-a.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return pr(i,t.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(r,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(r,{width:"narrow",context:"standalone"});case"cccccc":return n.day(r,{width:"short",context:"standalone"});case"cccc":default:return n.day(r,{width:"wide",context:"standalone"})}},i:function(e,t,n){const a=e.getDay(),r=a===0?7:a;switch(t){case"i":return String(r);case"ii":return pr(r,t.length);case"io":return n.ordinalNumber(r,{unit:"day"});case"iii":return n.day(a,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(a,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(a,{width:"short",context:"formatting"});case"iiii":default:return n.day(a,{width:"wide",context:"formatting"})}},a:function(e,t,n){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(e,t,n){const a=e.getHours();let r;switch(a===12?r=Yf.noon:a===0?r=Yf.midnight:r=a/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},B:function(e,t,n){const a=e.getHours();let r;switch(a>=17?r=Yf.evening:a>=12?r=Yf.afternoon:a>=4?r=Yf.morning:r=Yf.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let a=e.getHours()%12;return a===0&&(a=12),n.ordinalNumber(a,{unit:"hour"})}return cd.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):cd.H(e,t)},K:function(e,t,n){const a=e.getHours()%12;return t==="Ko"?n.ordinalNumber(a,{unit:"hour"}):pr(a,t.length)},k:function(e,t,n){let a=e.getHours();return a===0&&(a=24),t==="ko"?n.ordinalNumber(a,{unit:"hour"}):pr(a,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):cd.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):cd.s(e,t)},S:function(e,t){return cd.S(e,t)},X:function(e,t,n){const a=e.getTimezoneOffset();if(a===0)return"Z";switch(t){case"X":return PD(a);case"XXXX":case"XX":return vh(a);case"XXXXX":case"XXX":default:return vh(a,":")}},x:function(e,t,n){const a=e.getTimezoneOffset();switch(t){case"x":return PD(a);case"xxxx":case"xx":return vh(a);case"xxxxx":case"xxx":default:return vh(a,":")}},O:function(e,t,n){const a=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+$D(a,":");case"OOOO":default:return"GMT"+vh(a,":")}},z:function(e,t,n){const a=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+$D(a,":");case"zzzz":default:return"GMT"+vh(a,":")}},t:function(e,t,n){const a=Math.trunc(+e/1e3);return pr(a,t.length)},T:function(e,t,n){return pr(+e,t.length)}};function $D(e,t=""){const n=e>0?"-":"+",a=Math.abs(e),r=Math.trunc(a/60),i=a%60;return i===0?n+String(r):n+String(r)+t+pr(i,2)}function PD(e,t){return e%60===0?(e>0?"-":"+")+pr(Math.abs(e)/60,2):vh(e,t)}function vh(e,t=""){const n=e>0?"-":"+",a=Math.abs(e),r=pr(Math.trunc(a/60),2),i=pr(a%60,2);return n+r+t+i}const FD=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},ML=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},Z3e=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],a=n[1],r=n[2];if(!r)return FD(e,t);let i;switch(a){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",FD(a,t)).replace("{{time}}",ML(r,t))},QS={p:ML,P:Z3e},J3e=/^D+$/,e4e=/^Y+$/,t4e=["D","DD","YY","YYYY"];function n4e(e){return J3e.test(e)}function s4e(e){return e4e.test(e)}function a4e(e,t,n){const a=r4e(e,t,n);if(console.warn(a),t4e.includes(e))throw new RangeError(a)}function r4e(e,t,n){const a=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${a} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const i4e=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,o4e=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,c4e=/^'([^]*?)'?$/,l4e=/''/g,u4e=/[a-zA-Z]/;function HD(e,t,n){var f,g,b,w,C,S,k,E;const a=sf(),r=(n==null?void 0:n.locale)??a.locale??DL,i=(n==null?void 0:n.firstWeekContainsDate)??((g=(f=n==null?void 0:n.locale)==null?void 0:f.options)==null?void 0:g.firstWeekContainsDate)??a.firstWeekContainsDate??((w=(b=a.locale)==null?void 0:b.options)==null?void 0:w.firstWeekContainsDate)??1,o=(n==null?void 0:n.weekStartsOn)??((S=(C=n==null?void 0:n.locale)==null?void 0:C.options)==null?void 0:S.weekStartsOn)??a.weekStartsOn??((E=(k=a.locale)==null?void 0:k.options)==null?void 0:E.weekStartsOn)??0,c=Cs(e,n==null?void 0:n.in);if(!ab(c))throw new RangeError("Invalid time value");let l=t.match(o4e).map(D=>{const R=D[0];if(R==="p"||R==="P"){const P=QS[R];return P(D,r.formatLong)}return D}).join("").match(i4e).map(D=>{if(D==="''")return{isToken:!1,value:"'"};const R=D[0];if(R==="'")return{isToken:!1,value:d4e(D)};if(LD[R])return{isToken:!0,value:D};if(R.match(u4e))throw new RangeError("Format string contains an unescaped latin alphabet character `"+R+"`");return{isToken:!1,value:D}});r.localize.preprocessor&&(l=r.localize.preprocessor(c,l));const d={firstWeekContainsDate:i,weekStartsOn:o,locale:r};return l.map(D=>{if(!D.isToken)return D.value;const R=D.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&s4e(R)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&n4e(R))&&a4e(R,t,String(e));const P=LD[R[0]];return P(c,R,r.localize,d)}).join("")}function d4e(e){const t=e.match(c4e);return t?t[1].replace(l4e,"'"):e}function qD(e,t){return Cs(e,t==null?void 0:t.in).getDate()}function h4e(e,t){return Cs(e,t==null?void 0:t.in).getDay()}function f4e(e,t){const n=Cs(e,t==null?void 0:t.in),a=n.getFullYear(),r=n.getMonth(),i=_r(n,0);return i.setFullYear(a,r+1,0),i.setHours(0,0,0,0),i.getDate()}function m4e(){return Object.assign({},sf())}function wu(e,t){return Cs(e,t==null?void 0:t.in).getHours()}function p4e(e,t){const n=Cs(e,t==null?void 0:t.in).getDay();return n===0?7:n}function ju(e,t){return Cs(e,t==null?void 0:t.in).getMinutes()}function po(e,t){return Cs(e,t==null?void 0:t.in).getMonth()}function Id(e){return Cs(e).getSeconds()}function XS(e){return+Cs(e)}function ja(e,t){return Cs(e,t==null?void 0:t.in).getFullYear()}function Bd(e,t){return+Cs(e)>+Cs(t)}function Kh(e,t){return+Cs(e)<+Cs(t)}function g4e(e,t){return+Cs(e)==+Cs(t)}function _4e(e,t){const n=v4e(t)?new t(0):_r(t,0);return n.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),n.setHours(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()),n}function v4e(e){var t;return typeof e=="function"&&((t=e.prototype)==null?void 0:t.constructor)===e}const x4e=10;class RL{constructor(){Pt(this,"subPriority",0)}validate(t,n){return!0}}class b4e extends RL{constructor(t,n,a,r,i){super(),this.value=t,this.validateValue=n,this.setValue=a,this.priority=r,i&&(this.subPriority=i)}validate(t,n){return this.validateValue(t,this.value,n)}set(t,n,a){return this.setValue(t,n,this.value,a)}}class y4e extends RL{constructor(n,a){super();Pt(this,"priority",x4e);Pt(this,"subPriority",-1);this.context=n||(r=>_r(a,r))}set(n,a){return a.timestampIsSet?n:_r(n,_4e(n,this.context))}}class ar{run(t,n,a,r){const i=this.parse(t,n,a,r);return i?{setter:new b4e(i.value,this.validate,this.set,this.priority,this.subPriority),rest:i.rest}:null}validate(t,n,a){return!0}}class w4e extends ar{constructor(){super(...arguments);Pt(this,"priority",140);Pt(this,"incompatibleTokens",["R","u","t","T"])}parse(n,a,r){switch(a){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"})||r.era(n,{width:"narrow"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})||r.era(n,{width:"abbreviated"})||r.era(n,{width:"narrow"})}}set(n,a,r){return a.era=r,n.setFullYear(r,0,1),n.setHours(0,0,0,0),n}}const bi={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},Il={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function yi(e,t){return e&&{value:t(e.value),rest:e.rest}}function ni(e,t){const n=t.match(e);return n?{value:parseInt(n[0],10),rest:t.slice(n[0].length)}:null}function El(e,t){const n=t.match(e);if(!n)return null;if(n[0]==="Z")return{value:0,rest:t.slice(1)};const a=n[1]==="+"?1:-1,r=n[2]?parseInt(n[2],10):0,i=n[3]?parseInt(n[3],10):0,o=n[5]?parseInt(n[5],10):0;return{value:a*(r*py+i*my+o*u3e),rest:t.slice(n[0].length)}}function BL(e){return ni(bi.anyDigitsSigned,e)}function fi(e,t){switch(e){case 1:return ni(bi.singleDigit,t);case 2:return ni(bi.twoDigits,t);case 3:return ni(bi.threeDigits,t);case 4:return ni(bi.fourDigits,t);default:return ni(new RegExp("^\\d{1,"+e+"}"),t)}}function cb(e,t){switch(e){case 1:return ni(bi.singleDigitSigned,t);case 2:return ni(bi.twoDigitsSigned,t);case 3:return ni(bi.threeDigitsSigned,t);case 4:return ni(bi.fourDigitsSigned,t);default:return ni(new RegExp("^-?\\d{1,"+e+"}"),t)}}function w4(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function OL(e,t){const n=t>0,a=n?t:1-t;let r;if(a<=50)r=e||100;else{const i=a+50,o=Math.trunc(i/100)*100,c=e>=i%100;r=e+o-(c?100:0)}return n?r:1-r}function LL(e){return e%400===0||e%4===0&&e%100!==0}class j4e extends ar{constructor(){super(...arguments);Pt(this,"priority",130);Pt(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(n,a,r){const i=o=>({year:o,isTwoDigitYear:a==="yy"});switch(a){case"y":return yi(fi(4,n),i);case"yo":return yi(r.ordinalNumber(n,{unit:"year"}),i);default:return yi(fi(a.length,n),i)}}validate(n,a){return a.isTwoDigitYear||a.year>0}set(n,a,r){const i=n.getFullYear();if(r.isTwoDigitYear){const c=OL(r.year,i);return n.setFullYear(c,0,1),n.setHours(0,0,0,0),n}const o=!("era"in a)||a.era===1?r.year:1-r.year;return n.setFullYear(o,0,1),n.setHours(0,0,0,0),n}}class C4e extends ar{constructor(){super(...arguments);Pt(this,"priority",130);Pt(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(n,a,r){const i=o=>({year:o,isTwoDigitYear:a==="YY"});switch(a){case"Y":return yi(fi(4,n),i);case"Yo":return yi(r.ordinalNumber(n,{unit:"year"}),i);default:return yi(fi(a.length,n),i)}}validate(n,a){return a.isTwoDigitYear||a.year>0}set(n,a,r,i){const o=y4(n,i);if(r.isTwoDigitYear){const l=OL(r.year,o);return n.setFullYear(l,0,i.firstWeekContainsDate),n.setHours(0,0,0,0),Tu(n,i)}const c=!("era"in a)||a.era===1?r.year:1-r.year;return n.setFullYear(c,0,i.firstWeekContainsDate),n.setHours(0,0,0,0),Tu(n,i)}}class S4e extends ar{constructor(){super(...arguments);Pt(this,"priority",130);Pt(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(n,a){return cb(a==="R"?4:a.length,n)}set(n,a,r){const i=_r(n,0);return i.setFullYear(r,0,4),i.setHours(0,0,0,0),Bm(i)}}class N4e extends ar{constructor(){super(...arguments);Pt(this,"priority",130);Pt(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(n,a){return cb(a==="u"?4:a.length,n)}set(n,a,r){return n.setFullYear(r,0,1),n.setHours(0,0,0,0),n}}class k4e extends ar{constructor(){super(...arguments);Pt(this,"priority",120);Pt(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(n,a,r){switch(a){case"Q":case"QQ":return fi(a.length,n);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"})||r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})||r.quarter(n,{width:"abbreviated",context:"formatting"})||r.quarter(n,{width:"narrow",context:"formatting"})}}validate(n,a){return a>=1&&a<=4}set(n,a,r){return n.setMonth((r-1)*3,1),n.setHours(0,0,0,0),n}}class I4e extends ar{constructor(){super(...arguments);Pt(this,"priority",120);Pt(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(n,a,r){switch(a){case"q":case"qq":return fi(a.length,n);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"})||r.quarter(n,{width:"narrow",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})||r.quarter(n,{width:"abbreviated",context:"standalone"})||r.quarter(n,{width:"narrow",context:"standalone"})}}validate(n,a){return a>=1&&a<=4}set(n,a,r){return n.setMonth((r-1)*3,1),n.setHours(0,0,0,0),n}}class E4e extends ar{constructor(){super(...arguments);Pt(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);Pt(this,"priority",110)}parse(n,a,r){const i=o=>o-1;switch(a){case"M":return yi(ni(bi.month,n),i);case"MM":return yi(fi(2,n),i);case"Mo":return yi(r.ordinalNumber(n,{unit:"month"}),i);case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"})||r.month(n,{width:"narrow",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})||r.month(n,{width:"abbreviated",context:"formatting"})||r.month(n,{width:"narrow",context:"formatting"})}}validate(n,a){return a>=0&&a<=11}set(n,a,r){return n.setMonth(r,1),n.setHours(0,0,0,0),n}}class T4e extends ar{constructor(){super(...arguments);Pt(this,"priority",110);Pt(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(n,a,r){const i=o=>o-1;switch(a){case"L":return yi(ni(bi.month,n),i);case"LL":return yi(fi(2,n),i);case"Lo":return yi(r.ordinalNumber(n,{unit:"month"}),i);case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"})||r.month(n,{width:"narrow",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})||r.month(n,{width:"abbreviated",context:"standalone"})||r.month(n,{width:"narrow",context:"standalone"})}}validate(n,a){return a>=0&&a<=11}set(n,a,r){return n.setMonth(r,1),n.setHours(0,0,0,0),n}}function D4e(e,t,n){const a=Cs(e,n==null?void 0:n.in),r=AL(a,n)-t;return a.setDate(a.getDate()-r*7),Cs(a,n==null?void 0:n.in)}class A4e extends ar{constructor(){super(...arguments);Pt(this,"priority",100);Pt(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(n,a,r){switch(a){case"w":return ni(bi.week,n);case"wo":return r.ordinalNumber(n,{unit:"week"});default:return fi(a.length,n)}}validate(n,a){return a>=1&&a<=53}set(n,a,r,i){return Tu(D4e(n,r,i),i)}}function M4e(e,t,n){const a=Cs(e,n==null?void 0:n.in),r=b4(a,n)-t;return a.setDate(a.getDate()-r*7),a}class R4e extends ar{constructor(){super(...arguments);Pt(this,"priority",100);Pt(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(n,a,r){switch(a){case"I":return ni(bi.week,n);case"Io":return r.ordinalNumber(n,{unit:"week"});default:return fi(a.length,n)}}validate(n,a){return a>=1&&a<=53}set(n,a,r){return Bm(M4e(n,r))}}const B4e=[31,28,31,30,31,30,31,31,30,31,30,31],O4e=[31,29,31,30,31,30,31,31,30,31,30,31];class L4e extends ar{constructor(){super(...arguments);Pt(this,"priority",90);Pt(this,"subPriority",1);Pt(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(n,a,r){switch(a){case"d":return ni(bi.date,n);case"do":return r.ordinalNumber(n,{unit:"date"});default:return fi(a.length,n)}}validate(n,a){const r=n.getFullYear(),i=LL(r),o=n.getMonth();return i?a>=1&&a<=O4e[o]:a>=1&&a<=B4e[o]}set(n,a,r){return n.setDate(r),n.setHours(0,0,0,0),n}}class $4e extends ar{constructor(){super(...arguments);Pt(this,"priority",90);Pt(this,"subpriority",1);Pt(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(n,a,r){switch(a){case"D":case"DD":return ni(bi.dayOfYear,n);case"Do":return r.ordinalNumber(n,{unit:"date"});default:return fi(a.length,n)}}validate(n,a){const r=n.getFullYear();return LL(r)?a>=1&&a<=366:a>=1&&a<=365}set(n,a,r){return n.setMonth(0,r),n.setHours(0,0,0,0),n}}function j4(e,t,n){var g,b,w,C;const a=sf(),r=(n==null?void 0:n.weekStartsOn)??((b=(g=n==null?void 0:n.locale)==null?void 0:g.options)==null?void 0:b.weekStartsOn)??a.weekStartsOn??((C=(w=a.locale)==null?void 0:w.options)==null?void 0:C.weekStartsOn)??0,i=Cs(e,n==null?void 0:n.in),o=i.getDay(),l=(t%7+7)%7,d=7-r,f=t<0||t>6?t-(o+d)%7:(l+d)%7-(o+d)%7;return tl(i,f,n)}class P4e extends ar{constructor(){super(...arguments);Pt(this,"priority",90);Pt(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(n,a,r){switch(a){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"})||r.day(n,{width:"short",context:"formatting"})||r.day(n,{width:"narrow",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"})||r.day(n,{width:"narrow",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})||r.day(n,{width:"abbreviated",context:"formatting"})||r.day(n,{width:"short",context:"formatting"})||r.day(n,{width:"narrow",context:"formatting"})}}validate(n,a){return a>=0&&a<=6}set(n,a,r,i){return n=j4(n,r,i),n.setHours(0,0,0,0),n}}class F4e extends ar{constructor(){super(...arguments);Pt(this,"priority",90);Pt(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(n,a,r,i){const o=c=>{const l=Math.floor((c-1)/7)*7;return(c+i.weekStartsOn+6)%7+l};switch(a){case"e":case"ee":return yi(fi(a.length,n),o);case"eo":return yi(r.ordinalNumber(n,{unit:"day"}),o);case"eee":return r.day(n,{width:"abbreviated",context:"formatting"})||r.day(n,{width:"short",context:"formatting"})||r.day(n,{width:"narrow",context:"formatting"});case"eeeee":return r.day(n,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(n,{width:"short",context:"formatting"})||r.day(n,{width:"narrow",context:"formatting"});case"eeee":default:return r.day(n,{width:"wide",context:"formatting"})||r.day(n,{width:"abbreviated",context:"formatting"})||r.day(n,{width:"short",context:"formatting"})||r.day(n,{width:"narrow",context:"formatting"})}}validate(n,a){return a>=0&&a<=6}set(n,a,r,i){return n=j4(n,r,i),n.setHours(0,0,0,0),n}}class H4e extends ar{constructor(){super(...arguments);Pt(this,"priority",90);Pt(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(n,a,r,i){const o=c=>{const l=Math.floor((c-1)/7)*7;return(c+i.weekStartsOn+6)%7+l};switch(a){case"c":case"cc":return yi(fi(a.length,n),o);case"co":return yi(r.ordinalNumber(n,{unit:"day"}),o);case"ccc":return r.day(n,{width:"abbreviated",context:"standalone"})||r.day(n,{width:"short",context:"standalone"})||r.day(n,{width:"narrow",context:"standalone"});case"ccccc":return r.day(n,{width:"narrow",context:"standalone"});case"cccccc":return r.day(n,{width:"short",context:"standalone"})||r.day(n,{width:"narrow",context:"standalone"});case"cccc":default:return r.day(n,{width:"wide",context:"standalone"})||r.day(n,{width:"abbreviated",context:"standalone"})||r.day(n,{width:"short",context:"standalone"})||r.day(n,{width:"narrow",context:"standalone"})}}validate(n,a){return a>=0&&a<=6}set(n,a,r,i){return n=j4(n,r,i),n.setHours(0,0,0,0),n}}function q4e(e,t,n){const a=Cs(e,n==null?void 0:n.in),r=p4e(a,n),i=t-r;return tl(a,i,n)}class V4e extends ar{constructor(){super(...arguments);Pt(this,"priority",90);Pt(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(n,a,r){const i=o=>o===0?7:o;switch(a){case"i":case"ii":return fi(a.length,n);case"io":return r.ordinalNumber(n,{unit:"day"});case"iii":return yi(r.day(n,{width:"abbreviated",context:"formatting"})||r.day(n,{width:"short",context:"formatting"})||r.day(n,{width:"narrow",context:"formatting"}),i);case"iiiii":return yi(r.day(n,{width:"narrow",context:"formatting"}),i);case"iiiiii":return yi(r.day(n,{width:"short",context:"formatting"})||r.day(n,{width:"narrow",context:"formatting"}),i);case"iiii":default:return yi(r.day(n,{width:"wide",context:"formatting"})||r.day(n,{width:"abbreviated",context:"formatting"})||r.day(n,{width:"short",context:"formatting"})||r.day(n,{width:"narrow",context:"formatting"}),i)}}validate(n,a){return a>=1&&a<=7}set(n,a,r){return n=q4e(n,r),n.setHours(0,0,0,0),n}}class z4e extends ar{constructor(){super(...arguments);Pt(this,"priority",80);Pt(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(n,a,r){switch(a){case"a":case"aa":case"aaa":return r.dayPeriod(n,{width:"abbreviated",context:"formatting"})||r.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaaa":return r.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(n,{width:"wide",context:"formatting"})||r.dayPeriod(n,{width:"abbreviated",context:"formatting"})||r.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,a,r){return n.setHours(w4(r),0,0,0),n}}class U4e extends ar{constructor(){super(...arguments);Pt(this,"priority",80);Pt(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(n,a,r){switch(a){case"b":case"bb":case"bbb":return r.dayPeriod(n,{width:"abbreviated",context:"formatting"})||r.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbbb":return r.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(n,{width:"wide",context:"formatting"})||r.dayPeriod(n,{width:"abbreviated",context:"formatting"})||r.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,a,r){return n.setHours(w4(r),0,0,0),n}}class W4e extends ar{constructor(){super(...arguments);Pt(this,"priority",80);Pt(this,"incompatibleTokens",["a","b","t","T"])}parse(n,a,r){switch(a){case"B":case"BB":case"BBB":return r.dayPeriod(n,{width:"abbreviated",context:"formatting"})||r.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBBB":return r.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(n,{width:"wide",context:"formatting"})||r.dayPeriod(n,{width:"abbreviated",context:"formatting"})||r.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,a,r){return n.setHours(w4(r),0,0,0),n}}class Y4e extends ar{constructor(){super(...arguments);Pt(this,"priority",70);Pt(this,"incompatibleTokens",["H","K","k","t","T"])}parse(n,a,r){switch(a){case"h":return ni(bi.hour12h,n);case"ho":return r.ordinalNumber(n,{unit:"hour"});default:return fi(a.length,n)}}validate(n,a){return a>=1&&a<=12}set(n,a,r){const i=n.getHours()>=12;return i&&r<12?n.setHours(r+12,0,0,0):!i&&r===12?n.setHours(0,0,0,0):n.setHours(r,0,0,0),n}}class G4e extends ar{constructor(){super(...arguments);Pt(this,"priority",70);Pt(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(n,a,r){switch(a){case"H":return ni(bi.hour23h,n);case"Ho":return r.ordinalNumber(n,{unit:"hour"});default:return fi(a.length,n)}}validate(n,a){return a>=0&&a<=23}set(n,a,r){return n.setHours(r,0,0,0),n}}class Q4e extends ar{constructor(){super(...arguments);Pt(this,"priority",70);Pt(this,"incompatibleTokens",["h","H","k","t","T"])}parse(n,a,r){switch(a){case"K":return ni(bi.hour11h,n);case"Ko":return r.ordinalNumber(n,{unit:"hour"});default:return fi(a.length,n)}}validate(n,a){return a>=0&&a<=11}set(n,a,r){return n.getHours()>=12&&r<12?n.setHours(r+12,0,0,0):n.setHours(r,0,0,0),n}}class X4e extends ar{constructor(){super(...arguments);Pt(this,"priority",70);Pt(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(n,a,r){switch(a){case"k":return ni(bi.hour24h,n);case"ko":return r.ordinalNumber(n,{unit:"hour"});default:return fi(a.length,n)}}validate(n,a){return a>=1&&a<=24}set(n,a,r){const i=r<=24?r%24:r;return n.setHours(i,0,0,0),n}}class K4e extends ar{constructor(){super(...arguments);Pt(this,"priority",60);Pt(this,"incompatibleTokens",["t","T"])}parse(n,a,r){switch(a){case"m":return ni(bi.minute,n);case"mo":return r.ordinalNumber(n,{unit:"minute"});default:return fi(a.length,n)}}validate(n,a){return a>=0&&a<=59}set(n,a,r){return n.setMinutes(r,0,0),n}}class Z4e extends ar{constructor(){super(...arguments);Pt(this,"priority",50);Pt(this,"incompatibleTokens",["t","T"])}parse(n,a,r){switch(a){case"s":return ni(bi.second,n);case"so":return r.ordinalNumber(n,{unit:"second"});default:return fi(a.length,n)}}validate(n,a){return a>=0&&a<=59}set(n,a,r){return n.setSeconds(r,0),n}}class J4e extends ar{constructor(){super(...arguments);Pt(this,"priority",30);Pt(this,"incompatibleTokens",["t","T"])}parse(n,a){const r=i=>Math.trunc(i*Math.pow(10,-a.length+3));return yi(fi(a.length,n),r)}set(n,a,r){return n.setMilliseconds(r),n}}class e6e extends ar{constructor(){super(...arguments);Pt(this,"priority",10);Pt(this,"incompatibleTokens",["t","T","x"])}parse(n,a){switch(a){case"X":return El(Il.basicOptionalMinutes,n);case"XX":return El(Il.basic,n);case"XXXX":return El(Il.basicOptionalSeconds,n);case"XXXXX":return El(Il.extendedOptionalSeconds,n);case"XXX":default:return El(Il.extended,n)}}set(n,a,r){return a.timestampIsSet?n:_r(n,n.getTime()-nb(n)-r)}}class t6e extends ar{constructor(){super(...arguments);Pt(this,"priority",10);Pt(this,"incompatibleTokens",["t","T","X"])}parse(n,a){switch(a){case"x":return El(Il.basicOptionalMinutes,n);case"xx":return El(Il.basic,n);case"xxxx":return El(Il.basicOptionalSeconds,n);case"xxxxx":return El(Il.extendedOptionalSeconds,n);case"xxx":default:return El(Il.extended,n)}}set(n,a,r){return a.timestampIsSet?n:_r(n,n.getTime()-nb(n)-r)}}class n6e extends ar{constructor(){super(...arguments);Pt(this,"priority",40);Pt(this,"incompatibleTokens","*")}parse(n){return BL(n)}set(n,a,r){return[_r(n,r*1e3),{timestampIsSet:!0}]}}class s6e extends ar{constructor(){super(...arguments);Pt(this,"priority",20);Pt(this,"incompatibleTokens","*")}parse(n){return BL(n)}set(n,a,r){return[_r(n,r),{timestampIsSet:!0}]}}const a6e={G:new w4e,y:new j4e,Y:new C4e,R:new S4e,u:new N4e,Q:new k4e,q:new I4e,M:new E4e,L:new T4e,w:new A4e,I:new R4e,d:new L4e,D:new $4e,E:new P4e,e:new F4e,c:new H4e,i:new V4e,a:new z4e,b:new U4e,B:new W4e,h:new Y4e,H:new G4e,K:new Q4e,k:new X4e,m:new K4e,s:new Z4e,S:new J4e,X:new e6e,x:new t6e,t:new n6e,T:new s6e},r6e=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,i6e=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,o6e=/^'([^]*?)'?$/,c6e=/''/g,l6e=/\S/,u6e=/[a-zA-Z]/;function d6e(e,t,n,a){var k,E,D,R,P,B,O,$;const r=()=>_r((a==null?void 0:a.in)||n,NaN),i=m4e(),o=(a==null?void 0:a.locale)??i.locale??DL,c=(a==null?void 0:a.firstWeekContainsDate)??((E=(k=a==null?void 0:a.locale)==null?void 0:k.options)==null?void 0:E.firstWeekContainsDate)??i.firstWeekContainsDate??((R=(D=i.locale)==null?void 0:D.options)==null?void 0:R.firstWeekContainsDate)??1,l=(a==null?void 0:a.weekStartsOn)??((B=(P=a==null?void 0:a.locale)==null?void 0:P.options)==null?void 0:B.weekStartsOn)??i.weekStartsOn??(($=(O=i.locale)==null?void 0:O.options)==null?void 0:$.weekStartsOn)??0;if(!t)return e?r():Cs(n,a==null?void 0:a.in);const d={firstWeekContainsDate:c,weekStartsOn:l,locale:o},f=[new y4e(a==null?void 0:a.in,n)],g=t.match(i6e).map(U=>{const F=U[0];if(F in QS){const H=QS[F];return H(U,o.formatLong)}return U}).join("").match(r6e),b=[];for(let U of g){const F=U[0],H=a6e[F];if(H){const{incompatibleTokens:se}=H;if(Array.isArray(se)){const te=b.find(J=>se.includes(J.token)||J.token===F);if(te)throw new RangeError(`The format string mustn't contain \`${te.fullToken}\` and \`${U}\` at the same time`)}else if(H.incompatibleTokens==="*"&&b.length>0)throw new RangeError(`The format string mustn't contain \`${U}\` and any other token at the same time`);b.push({token:F,fullToken:U});const K=H.run(e,U,o.match,d);if(!K)return r();f.push(K.setter),e=K.rest}else{if(F.match(u6e))throw new RangeError("Format string contains an unescaped latin alphabet character `"+F+"`");if(U==="''"?U="'":F==="'"&&(U=h6e(U)),e.indexOf(U)===0)e=e.slice(U.length);else return r()}}if(e.length>0&&l6e.test(e))return r();const w=f.map(U=>U.priority).sort((U,F)=>F-U).filter((U,F,H)=>H.indexOf(U)===F).map(U=>f.filter(F=>F.priority===U).sort((F,H)=>H.subPriority-F.subPriority)).map(U=>U[0]);let C=Cs(n,a==null?void 0:a.in);if(isNaN(+C))return r();const S={};for(const U of w){if(!U.validate(C,d))return r();const F=U.set(C,S,d);Array.isArray(F)?(C=F[0],Object.assign(S,F[1])):C=F}return C}function h6e(e){return e.match(o6e)[1].replace(c6e,"'")}function f6e(e,t,n){const[a,r]=Mu(n==null?void 0:n.in,e,t);return a.getFullYear()===r.getFullYear()&&a.getMonth()===r.getMonth()}function m6e(e,t,n){const[a,r]=Mu(n==null?void 0:n.in,e,t);return+GS(a)==+GS(r)}function p6e(e,t,n){const[a,r]=Mu(n==null?void 0:n.in,e,t);return a.getFullYear()===r.getFullYear()}function Yg(e,t,n){const a=+Cs(e,n==null?void 0:n.in),[r,i]=[+Cs(t.start,n==null?void 0:n.in),+Cs(t.end,n==null?void 0:n.in)].sort((o,c)=>o-c);return a>=r&&a<=i}function g6e(e,t,n){return tl(e,-1,n)}function _6e(e,t){const n=()=>_r(t==null?void 0:t.in,NaN),r=y6e(e);let i;if(r.date){const d=w6e(r.date,2);i=j6e(d.restDateString,d.year)}if(!i||isNaN(+i))return n();const o=+i;let c=0,l;if(r.time&&(c=C6e(r.time),isNaN(c)))return n();if(r.timezone){if(l=S6e(r.timezone),isNaN(l))return n()}else{const d=new Date(o+c),f=Cs(0,t==null?void 0:t.in);return f.setFullYear(d.getUTCFullYear(),d.getUTCMonth(),d.getUTCDate()),f.setHours(d.getUTCHours(),d.getUTCMinutes(),d.getUTCSeconds(),d.getUTCMilliseconds()),f}return Cs(o+c+l,t==null?void 0:t.in)}const dv={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},v6e=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,x6e=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,b6e=/^([+-])(\d{2})(?::?(\d{2}))?$/;function y6e(e){const t={},n=e.split(dv.dateTimeDelimiter);let a;if(n.length>2)return t;if(/:/.test(n[0])?a=n[0]:(t.date=n[0],a=n[1],dv.timeZoneDelimiter.test(t.date)&&(t.date=e.split(dv.timeZoneDelimiter)[0],a=e.substr(t.date.length,e.length))),a){const r=dv.timezone.exec(a);r?(t.time=a.replace(r[1],""),t.timezone=r[1]):t.time=a}return t}function w6e(e,t){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),a=e.match(n);if(!a)return{year:NaN,restDateString:""};const r=a[1]?parseInt(a[1]):null,i=a[2]?parseInt(a[2]):null;return{year:i===null?r:i*100,restDateString:e.slice((a[1]||a[2]).length)}}function j6e(e,t){if(t===null)return new Date(NaN);const n=e.match(v6e);if(!n)return new Date(NaN);const a=!!n[4],r=k1(n[1]),i=k1(n[2])-1,o=k1(n[3]),c=k1(n[4]),l=k1(n[5])-1;if(a)return T6e(t,c,l)?N6e(t,c,l):new Date(NaN);{const d=new Date(0);return!I6e(t,i,o)||!E6e(t,r)?new Date(NaN):(d.setUTCFullYear(t,i,Math.max(r,o)),d)}}function k1(e){return e?parseInt(e):1}function C6e(e){const t=e.match(x6e);if(!t)return NaN;const n=zj(t[1]),a=zj(t[2]),r=zj(t[3]);return D6e(n,a,r)?n*py+a*my+r*1e3:NaN}function zj(e){return e&&parseFloat(e.replace(",","."))||0}function S6e(e){if(e==="Z")return 0;const t=e.match(b6e);if(!t)return 0;const n=t[1]==="+"?-1:1,a=parseInt(t[2]),r=t[3]&&parseInt(t[3])||0;return A6e(a,r)?n*(a*py+r*my):NaN}function N6e(e,t,n){const a=new Date(0);a.setUTCFullYear(e,0,4);const r=a.getUTCDay()||7,i=(t-1)*7+n+1-r;return a.setUTCDate(a.getUTCDate()+i),a}const k6e=[31,null,31,30,31,30,31,31,30,31,30,31];function $L(e){return e%400===0||e%4===0&&e%100!==0}function I6e(e,t,n){return t>=0&&t<=11&&n>=1&&n<=(k6e[t]||($L(e)?29:28))}function E6e(e,t){return t>=1&&t<=($L(e)?366:365)}function T6e(e,t,n){return t>=1&&t<=53&&n>=0&&n<=6}function D6e(e,t,n){return e===24?t===0&&n===0:n>=0&&n<60&&t>=0&&t<60&&e>=0&&e<25}function A6e(e,t){return t>=0&&t<=59}function Ec(e,t,n){const a=Cs(e,n==null?void 0:n.in),r=a.getFullYear(),i=a.getDate(),o=_r(e,0);o.setFullYear(r,t,15),o.setHours(0,0,0,0);const c=f4e(o);return a.setMonth(t,Math.min(i,c)),a}function ex(e,t,n){const a=Cs(e,n==null?void 0:n.in);return a.setHours(t),a}function tx(e,t,n){const a=Cs(e,n==null?void 0:n.in);return a.setMinutes(t),a}function tm(e,t,n){const a=Cs(e,n==null?void 0:n.in),r=Math.trunc(a.getMonth()/3)+1,i=t-r;return Ec(a,a.getMonth()+i*3)}function nx(e,t,n){const a=Cs(e,n==null?void 0:n.in);return a.setSeconds(t),a}function jl(e,t,n){const a=Cs(e,n==null?void 0:n.in);return isNaN(+a)?_r(e,NaN):(a.setFullYear(t),a)}function Ph(e,t,n){return il(e,-t,n)}function PL(e,t,n){return x4(e,-1,n)}function VD(e,t,n){return sb(e,-1,n)}function Lm(e,t,n){return bu(e,-t,n)}function _y(){return typeof window<"u"}function hp(e){return FL(e)?(e.nodeName||"").toLowerCase():"#document"}function cc(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Vl(e){var t;return(t=(FL(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function FL(e){return _y()?e instanceof Node||e instanceof cc(e).Node:!1}function So(e){return _y()?e instanceof Element||e instanceof cc(e).Element:!1}function Fl(e){return _y()?e instanceof HTMLElement||e instanceof cc(e).HTMLElement:!1}function zD(e){return!_y()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof cc(e).ShadowRoot}const M6e=new Set(["inline","contents"]);function C0(e){const{overflow:t,overflowX:n,overflowY:a,display:r}=Oc(e);return/auto|scroll|overlay|hidden|clip/.test(t+a+n)&&!M6e.has(r)}const R6e=new Set(["table","td","th"]);function B6e(e){return R6e.has(hp(e))}const O6e=[":popover-open",":modal"];function vy(e){return O6e.some(t=>{try{return e.matches(t)}catch{return!1}})}const L6e=["transform","translate","scale","rotate","perspective"],$6e=["transform","translate","scale","rotate","perspective","filter"],P6e=["paint","layout","strict","content"];function C4(e){const t=S4(),n=So(e)?Oc(e):e;return L6e.some(a=>n[a]?n[a]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||$6e.some(a=>(n.willChange||"").includes(a))||P6e.some(a=>(n.contain||"").includes(a))}function F6e(e){let t=Od(e);for(;Fl(t)&&!$m(t);){if(C4(t))return t;if(vy(t))return null;t=Od(t)}return null}function S4(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const H6e=new Set(["html","body","#document"]);function $m(e){return H6e.has(hp(e))}function Oc(e){return cc(e).getComputedStyle(e)}function xy(e){return So(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Od(e){if(hp(e)==="html")return e;const t=e.assignedSlot||e.parentNode||zD(e)&&e.host||Vl(e);return zD(t)?t.host:t}function HL(e){const t=Od(e);return $m(t)?e.ownerDocument?e.ownerDocument.body:e.body:Fl(t)&&C0(t)?t:HL(t)}function Gg(e,t,n){var a;t===void 0&&(t=[]),n===void 0&&(n=!0);const r=HL(e),i=r===((a=e.ownerDocument)==null?void 0:a.body),o=cc(r);if(i){const c=KS(o);return t.concat(o,o.visualViewport||[],C0(r)?r:[],c&&n?Gg(c):[])}return t.concat(r,Gg(r,[],n))}function KS(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}const Pm=Math.min,Fh=Math.max,lb=Math.round,hv=Math.floor,$l=e=>({x:e,y:e}),q6e={left:"right",right:"left",bottom:"top",top:"bottom"},V6e={start:"end",end:"start"};function z6e(e,t,n){return Fh(e,Pm(t,n))}function by(e,t){return typeof e=="function"?e(t):e}function Fm(e){return e.split("-")[0]}function S0(e){return e.split("-")[1]}function U6e(e){return e==="x"?"y":"x"}function N4(e){return e==="y"?"height":"width"}const W6e=new Set(["top","bottom"]);function Sh(e){return W6e.has(Fm(e))?"y":"x"}function k4(e){return U6e(Sh(e))}function Y6e(e,t,n){n===void 0&&(n=!1);const a=S0(e),r=k4(e),i=N4(r);let o=r==="x"?a===(n?"end":"start")?"right":"left":a==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(o=ub(o)),[o,ub(o)]}function G6e(e){const t=ub(e);return[ZS(e),t,ZS(t)]}function ZS(e){return e.replace(/start|end/g,t=>V6e[t])}const UD=["left","right"],WD=["right","left"],Q6e=["top","bottom"],X6e=["bottom","top"];function K6e(e,t,n){switch(e){case"top":case"bottom":return n?t?WD:UD:t?UD:WD;case"left":case"right":return t?Q6e:X6e;default:return[]}}function Z6e(e,t,n,a){const r=S0(e);let i=K6e(Fm(e),n==="start",a);return r&&(i=i.map(o=>o+"-"+r),t&&(i=i.concat(i.map(ZS)))),i}function ub(e){return e.replace(/left|right|bottom|top/g,t=>q6e[t])}function J6e(e){return{top:0,right:0,bottom:0,left:0,...e}}function qL(e){return typeof e!="number"?J6e(e):{top:e,right:e,bottom:e,left:e}}function db(e){const{x:t,y:n,width:a,height:r}=e;return{width:a,height:r,top:n,left:t,right:t+a,bottom:n+r,x:t,y:n}}var e8e=typeof document<"u",t8e=function(){},hb=e8e?_.useLayoutEffect:t8e;const n8e={...Xm},s8e=n8e.useInsertionEffect,a8e=s8e||(e=>e());function r8e(e){const t=_.useRef(()=>{});return a8e(()=>{t.current=e}),_.useCallback(function(){for(var n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return t.current==null?void 0:t.current(...a)},[])}function YD(e,t,n){let{reference:a,floating:r}=e;const i=Sh(t),o=k4(t),c=N4(o),l=Fm(t),d=i==="y",f=a.x+a.width/2-r.width/2,g=a.y+a.height/2-r.height/2,b=a[c]/2-r[c]/2;let w;switch(l){case"top":w={x:f,y:a.y-r.height};break;case"bottom":w={x:f,y:a.y+a.height};break;case"right":w={x:a.x+a.width,y:g};break;case"left":w={x:a.x-r.width,y:g};break;default:w={x:a.x,y:a.y}}switch(S0(t)){case"start":w[o]-=b*(n&&d?-1:1);break;case"end":w[o]+=b*(n&&d?-1:1);break}return w}const i8e=async(e,t,n)=>{const{placement:a="bottom",strategy:r="absolute",middleware:i=[],platform:o}=n,c=i.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(t));let d=await o.getElementRects({reference:e,floating:t,strategy:r}),{x:f,y:g}=YD(d,a,l),b=a,w={},C=0;for(let S=0;S<c.length;S++){const{name:k,fn:E}=c[S],{x:D,y:R,data:P,reset:B}=await E({x:f,y:g,initialPlacement:a,placement:b,strategy:r,middlewareData:w,rects:d,platform:o,elements:{reference:e,floating:t}});f=D??f,g=R??g,w={...w,[k]:{...w[k],...P}},B&&C<=50&&(C++,typeof B=="object"&&(B.placement&&(b=B.placement),B.rects&&(d=B.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:r}):B.rects),{x:f,y:g}=YD(d,b,l)),S=-1)}return{x:f,y:g,placement:b,strategy:r,middlewareData:w}};async function o8e(e,t){var n;t===void 0&&(t={});const{x:a,y:r,platform:i,rects:o,elements:c,strategy:l}=e,{boundary:d="clippingAncestors",rootBoundary:f="viewport",elementContext:g="floating",altBoundary:b=!1,padding:w=0}=by(t,e),C=qL(w),k=c[b?g==="floating"?"reference":"floating":g],E=db(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(k)))==null||n?k:k.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(c.floating)),boundary:d,rootBoundary:f,strategy:l})),D=g==="floating"?{x:a,y:r,width:o.floating.width,height:o.floating.height}:o.reference,R=await(i.getOffsetParent==null?void 0:i.getOffsetParent(c.floating)),P=await(i.isElement==null?void 0:i.isElement(R))?await(i.getScale==null?void 0:i.getScale(R))||{x:1,y:1}:{x:1,y:1},B=db(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:D,offsetParent:R,strategy:l}):D);return{top:(E.top-B.top+C.top)/P.y,bottom:(B.bottom-E.bottom+C.bottom)/P.y,left:(E.left-B.left+C.left)/P.x,right:(B.right-E.right+C.right)/P.x}}const c8e=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:a,placement:r,rects:i,platform:o,elements:c,middlewareData:l}=t,{element:d,padding:f=0}=by(e,t)||{};if(d==null)return{};const g=qL(f),b={x:n,y:a},w=k4(r),C=N4(w),S=await o.getDimensions(d),k=w==="y",E=k?"top":"left",D=k?"bottom":"right",R=k?"clientHeight":"clientWidth",P=i.reference[C]+i.reference[w]-b[w]-i.floating[C],B=b[w]-i.reference[w],O=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d));let $=O?O[R]:0;(!$||!await(o.isElement==null?void 0:o.isElement(O)))&&($=c.floating[R]||i.floating[C]);const U=P/2-B/2,F=$/2-S[C]/2-1,H=Pm(g[E],F),se=Pm(g[D],F),K=H,te=$-S[C]-se,J=$/2-S[C]/2+U,z=z6e(K,J,te),V=!l.arrow&&S0(r)!=null&&J!==z&&i.reference[C]/2-(J<K?H:se)-S[C]/2<0,M=V?J<K?J-K:J-te:0;return{[w]:b[w]+M,data:{[w]:z,centerOffset:J-z-M,...V&&{alignmentOffset:M}},reset:V}}}),l8e=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,a;const{placement:r,middlewareData:i,rects:o,initialPlacement:c,platform:l,elements:d}=t,{mainAxis:f=!0,crossAxis:g=!0,fallbackPlacements:b,fallbackStrategy:w="bestFit",fallbackAxisSideDirection:C="none",flipAlignment:S=!0,...k}=by(e,t);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const E=Fm(r),D=Sh(c),R=Fm(c)===c,P=await(l.isRTL==null?void 0:l.isRTL(d.floating)),B=b||(R||!S?[ub(c)]:G6e(c)),O=C!=="none";!b&&O&&B.push(...Z6e(c,S,C,P));const $=[c,...B],U=await o8e(t,k),F=[];let H=((a=i.flip)==null?void 0:a.overflows)||[];if(f&&F.push(U[E]),g){const J=Y6e(r,o,P);F.push(U[J[0]],U[J[1]])}if(H=[...H,{placement:r,overflows:F}],!F.every(J=>J<=0)){var se,K;const J=(((se=i.flip)==null?void 0:se.index)||0)+1,z=$[J];if(z&&(!(g==="alignment"?D!==Sh(z):!1)||H.every(ee=>ee.overflows[0]>0&&Sh(ee.placement)===D)))return{data:{index:J,overflows:H},reset:{placement:z}};let V=(K=H.filter(M=>M.overflows[0]<=0).sort((M,ee)=>M.overflows[1]-ee.overflows[1])[0])==null?void 0:K.placement;if(!V)switch(w){case"bestFit":{var te;const M=(te=H.filter(ee=>{if(O){const Z=Sh(ee.placement);return Z===D||Z==="y"}return!0}).map(ee=>[ee.placement,ee.overflows.filter(Z=>Z>0).reduce((Z,A)=>Z+A,0)]).sort((ee,Z)=>ee[1]-Z[1])[0])==null?void 0:te[0];M&&(V=M);break}case"initialPlacement":V=c;break}if(r!==V)return{reset:{placement:V}}}return{}}}},u8e=new Set(["left","top"]);async function d8e(e,t){const{placement:n,platform:a,elements:r}=e,i=await(a.isRTL==null?void 0:a.isRTL(r.floating)),o=Fm(n),c=S0(n),l=Sh(n)==="y",d=u8e.has(o)?-1:1,f=i&&l?-1:1,g=by(t,e);let{mainAxis:b,crossAxis:w,alignmentAxis:C}=typeof g=="number"?{mainAxis:g,crossAxis:0,alignmentAxis:null}:{mainAxis:g.mainAxis||0,crossAxis:g.crossAxis||0,alignmentAxis:g.alignmentAxis};return c&&typeof C=="number"&&(w=c==="end"?C*-1:C),l?{x:w*f,y:b*d}:{x:b*d,y:w*f}}const h8e=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,a;const{x:r,y:i,placement:o,middlewareData:c}=t,l=await d8e(t,e);return o===((n=c.offset)==null?void 0:n.placement)&&(a=c.arrow)!=null&&a.alignmentOffset?{}:{x:r+l.x,y:i+l.y,data:{...l,placement:o}}}}};function VL(e){const t=Oc(e);let n=parseFloat(t.width)||0,a=parseFloat(t.height)||0;const r=Fl(e),i=r?e.offsetWidth:n,o=r?e.offsetHeight:a,c=lb(n)!==i||lb(a)!==o;return c&&(n=i,a=o),{width:n,height:a,$:c}}function I4(e){return So(e)?e:e.contextElement}function xm(e){const t=I4(e);if(!Fl(t))return $l(1);const n=t.getBoundingClientRect(),{width:a,height:r,$:i}=VL(t);let o=(i?lb(n.width):n.width)/a,c=(i?lb(n.height):n.height)/r;return(!o||!Number.isFinite(o))&&(o=1),(!c||!Number.isFinite(c))&&(c=1),{x:o,y:c}}const f8e=$l(0);function zL(e){const t=cc(e);return!S4()||!t.visualViewport?f8e:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function m8e(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==cc(e)?!1:t}function Zh(e,t,n,a){t===void 0&&(t=!1),n===void 0&&(n=!1);const r=e.getBoundingClientRect(),i=I4(e);let o=$l(1);t&&(a?So(a)&&(o=xm(a)):o=xm(e));const c=m8e(i,n,a)?zL(i):$l(0);let l=(r.left+c.x)/o.x,d=(r.top+c.y)/o.y,f=r.width/o.x,g=r.height/o.y;if(i){const b=cc(i),w=a&&So(a)?cc(a):a;let C=b,S=KS(C);for(;S&&a&&w!==C;){const k=xm(S),E=S.getBoundingClientRect(),D=Oc(S),R=E.left+(S.clientLeft+parseFloat(D.paddingLeft))*k.x,P=E.top+(S.clientTop+parseFloat(D.paddingTop))*k.y;l*=k.x,d*=k.y,f*=k.x,g*=k.y,l+=R,d+=P,C=cc(S),S=KS(C)}}return db({width:f,height:g,x:l,y:d})}function E4(e,t){const n=xy(e).scrollLeft;return t?t.left+n:Zh(Vl(e)).left+n}function UL(e,t,n){n===void 0&&(n=!1);const a=e.getBoundingClientRect(),r=a.left+t.scrollLeft-(n?0:E4(e,a)),i=a.top+t.scrollTop;return{x:r,y:i}}function p8e(e){let{elements:t,rect:n,offsetParent:a,strategy:r}=e;const i=r==="fixed",o=Vl(a),c=t?vy(t.floating):!1;if(a===o||c&&i)return n;let l={scrollLeft:0,scrollTop:0},d=$l(1);const f=$l(0),g=Fl(a);if((g||!g&&!i)&&((hp(a)!=="body"||C0(o))&&(l=xy(a)),Fl(a))){const w=Zh(a);d=xm(a),f.x=w.x+a.clientLeft,f.y=w.y+a.clientTop}const b=o&&!g&&!i?UL(o,l,!0):$l(0);return{width:n.width*d.x,height:n.height*d.y,x:n.x*d.x-l.scrollLeft*d.x+f.x+b.x,y:n.y*d.y-l.scrollTop*d.y+f.y+b.y}}function g8e(e){return Array.from(e.getClientRects())}function _8e(e){const t=Vl(e),n=xy(e),a=e.ownerDocument.body,r=Fh(t.scrollWidth,t.clientWidth,a.scrollWidth,a.clientWidth),i=Fh(t.scrollHeight,t.clientHeight,a.scrollHeight,a.clientHeight);let o=-n.scrollLeft+E4(e);const c=-n.scrollTop;return Oc(a).direction==="rtl"&&(o+=Fh(t.clientWidth,a.clientWidth)-r),{width:r,height:i,x:o,y:c}}function v8e(e,t){const n=cc(e),a=Vl(e),r=n.visualViewport;let i=a.clientWidth,o=a.clientHeight,c=0,l=0;if(r){i=r.width,o=r.height;const d=S4();(!d||d&&t==="fixed")&&(c=r.offsetLeft,l=r.offsetTop)}return{width:i,height:o,x:c,y:l}}const x8e=new Set(["absolute","fixed"]);function b8e(e,t){const n=Zh(e,!0,t==="fixed"),a=n.top+e.clientTop,r=n.left+e.clientLeft,i=Fl(e)?xm(e):$l(1),o=e.clientWidth*i.x,c=e.clientHeight*i.y,l=r*i.x,d=a*i.y;return{width:o,height:c,x:l,y:d}}function GD(e,t,n){let a;if(t==="viewport")a=v8e(e,n);else if(t==="document")a=_8e(Vl(e));else if(So(t))a=b8e(t,n);else{const r=zL(e);a={x:t.x-r.x,y:t.y-r.y,width:t.width,height:t.height}}return db(a)}function WL(e,t){const n=Od(e);return n===t||!So(n)||$m(n)?!1:Oc(n).position==="fixed"||WL(n,t)}function y8e(e,t){const n=t.get(e);if(n)return n;let a=Gg(e,[],!1).filter(c=>So(c)&&hp(c)!=="body"),r=null;const i=Oc(e).position==="fixed";let o=i?Od(e):e;for(;So(o)&&!$m(o);){const c=Oc(o),l=C4(o);!l&&c.position==="fixed"&&(r=null),(i?!l&&!r:!l&&c.position==="static"&&!!r&&x8e.has(r.position)||C0(o)&&!l&&WL(e,o))?a=a.filter(f=>f!==o):r=c,o=Od(o)}return t.set(e,a),a}function w8e(e){let{element:t,boundary:n,rootBoundary:a,strategy:r}=e;const o=[...n==="clippingAncestors"?vy(t)?[]:y8e(t,this._c):[].concat(n),a],c=o[0],l=o.reduce((d,f)=>{const g=GD(t,f,r);return d.top=Fh(g.top,d.top),d.right=Pm(g.right,d.right),d.bottom=Pm(g.bottom,d.bottom),d.left=Fh(g.left,d.left),d},GD(t,c,r));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function j8e(e){const{width:t,height:n}=VL(e);return{width:t,height:n}}function C8e(e,t,n){const a=Fl(t),r=Vl(t),i=n==="fixed",o=Zh(e,!0,i,t);let c={scrollLeft:0,scrollTop:0};const l=$l(0);function d(){l.x=E4(r)}if(a||!a&&!i)if((hp(t)!=="body"||C0(r))&&(c=xy(t)),a){const w=Zh(t,!0,i,t);l.x=w.x+t.clientLeft,l.y=w.y+t.clientTop}else r&&d();i&&!a&&r&&d();const f=r&&!a&&!i?UL(r,c):$l(0),g=o.left+c.scrollLeft-l.x-f.x,b=o.top+c.scrollTop-l.y-f.y;return{x:g,y:b,width:o.width,height:o.height}}function Uj(e){return Oc(e).position==="static"}function QD(e,t){if(!Fl(e)||Oc(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Vl(e)===n&&(n=n.ownerDocument.body),n}function YL(e,t){const n=cc(e);if(vy(e))return n;if(!Fl(e)){let r=Od(e);for(;r&&!$m(r);){if(So(r)&&!Uj(r))return r;r=Od(r)}return n}let a=QD(e,t);for(;a&&B6e(a)&&Uj(a);)a=QD(a,t);return a&&$m(a)&&Uj(a)&&!C4(a)?n:a||F6e(e)||n}const S8e=async function(e){const t=this.getOffsetParent||YL,n=this.getDimensions,a=await n(e.floating);return{reference:C8e(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:a.width,height:a.height}}};function N8e(e){return Oc(e).direction==="rtl"}const k8e={convertOffsetParentRelativeRectToViewportRelativeRect:p8e,getDocumentElement:Vl,getClippingRect:w8e,getOffsetParent:YL,getElementRects:S8e,getClientRects:g8e,getDimensions:j8e,getScale:xm,isElement:So,isRTL:N8e};function GL(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function I8e(e,t){let n=null,a;const r=Vl(e);function i(){var c;clearTimeout(a),(c=n)==null||c.disconnect(),n=null}function o(c,l){c===void 0&&(c=!1),l===void 0&&(l=1),i();const d=e.getBoundingClientRect(),{left:f,top:g,width:b,height:w}=d;if(c||t(),!b||!w)return;const C=hv(g),S=hv(r.clientWidth-(f+b)),k=hv(r.clientHeight-(g+w)),E=hv(f),R={rootMargin:-C+"px "+-S+"px "+-k+"px "+-E+"px",threshold:Fh(0,Pm(1,l))||1};let P=!0;function B(O){const $=O[0].intersectionRatio;if($!==l){if(!P)return o();$?o(!1,$):a=setTimeout(()=>{o(!1,1e-7)},1e3)}$===1&&!GL(d,e.getBoundingClientRect())&&o(),P=!1}try{n=new IntersectionObserver(B,{...R,root:r.ownerDocument})}catch{n=new IntersectionObserver(B,R)}n.observe(e)}return o(!0),i}function E8e(e,t,n,a){a===void 0&&(a={});const{ancestorScroll:r=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:l=!1}=a,d=I4(e),f=r||i?[...d?Gg(d):[],...Gg(t)]:[];f.forEach(E=>{r&&E.addEventListener("scroll",n,{passive:!0}),i&&E.addEventListener("resize",n)});const g=d&&c?I8e(d,n):null;let b=-1,w=null;o&&(w=new ResizeObserver(E=>{let[D]=E;D&&D.target===d&&w&&(w.unobserve(t),cancelAnimationFrame(b),b=requestAnimationFrame(()=>{var R;(R=w)==null||R.observe(t)})),n()}),d&&!l&&w.observe(d),w.observe(t));let C,S=l?Zh(e):null;l&&k();function k(){const E=Zh(e);S&&!GL(S,E)&&n(),S=E,C=requestAnimationFrame(k)}return n(),()=>{var E;f.forEach(D=>{r&&D.removeEventListener("scroll",n),i&&D.removeEventListener("resize",n)}),g==null||g(),(E=w)==null||E.disconnect(),w=null,l&&cancelAnimationFrame(C)}}const T8e=h8e,D8e=l8e,XD=c8e,A8e=(e,t,n)=>{const a=new Map,r={platform:k8e,...n},i={...r.platform,_c:a};return i8e(e,t,{...r,platform:i})};var M8e=typeof document<"u",R8e=function(){},sx=M8e?_.useLayoutEffect:R8e;function fb(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,a,r;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(a=n;a--!==0;)if(!fb(e[a],t[a]))return!1;return!0}if(r=Object.keys(e),n=r.length,n!==Object.keys(t).length)return!1;for(a=n;a--!==0;)if(!{}.hasOwnProperty.call(t,r[a]))return!1;for(a=n;a--!==0;){const i=r[a];if(!(i==="_owner"&&e.$$typeof)&&!fb(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function QL(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function KD(e,t){const n=QL(e);return Math.round(t*n)/n}function Wj(e){const t=_.useRef(e);return sx(()=>{t.current=e}),t}function B8e(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:a=[],platform:r,elements:{reference:i,floating:o}={},transform:c=!0,whileElementsMounted:l,open:d}=e,[f,g]=_.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[b,w]=_.useState(a);fb(b,a)||w(a);const[C,S]=_.useState(null),[k,E]=_.useState(null),D=_.useCallback(ee=>{ee!==O.current&&(O.current=ee,S(ee))},[]),R=_.useCallback(ee=>{ee!==$.current&&($.current=ee,E(ee))},[]),P=i||C,B=o||k,O=_.useRef(null),$=_.useRef(null),U=_.useRef(f),F=l!=null,H=Wj(l),se=Wj(r),K=Wj(d),te=_.useCallback(()=>{if(!O.current||!$.current)return;const ee={placement:t,strategy:n,middleware:b};se.current&&(ee.platform=se.current),A8e(O.current,$.current,ee).then(Z=>{const A={...Z,isPositioned:K.current!==!1};J.current&&!fb(U.current,A)&&(U.current=A,tp.flushSync(()=>{g(A)}))})},[b,t,n,se,K]);sx(()=>{d===!1&&U.current.isPositioned&&(U.current.isPositioned=!1,g(ee=>({...ee,isPositioned:!1})))},[d]);const J=_.useRef(!1);sx(()=>(J.current=!0,()=>{J.current=!1}),[]),sx(()=>{if(P&&(O.current=P),B&&($.current=B),P&&B){if(H.current)return H.current(P,B,te);te()}},[P,B,te,H,F]);const z=_.useMemo(()=>({reference:O,floating:$,setReference:D,setFloating:R}),[D,R]),V=_.useMemo(()=>({reference:P,floating:B}),[P,B]),M=_.useMemo(()=>{const ee={position:n,left:0,top:0};if(!V.floating)return ee;const Z=KD(V.floating,f.x),A=KD(V.floating,f.y);return c?{...ee,transform:"translate("+Z+"px, "+A+"px)",...QL(V.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:Z,top:A}},[n,c,V.floating,f.x,f.y]);return _.useMemo(()=>({...f,update:te,refs:z,elements:V,floatingStyles:M}),[f,te,z,V,M])}const O8e=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:a,padding:r}=typeof e=="function"?e(n):e;return a&&t(a)?a.current!=null?XD({element:a.current,padding:r}).fn(n):{}:a?XD({element:a,padding:r}).fn(n):{}}}},L8e=(e,t)=>({...T8e(e),options:[e,t]}),$8e=(e,t)=>({...D8e(e),options:[e,t]}),P8e=(e,t)=>({...O8e(e),options:[e,t]}),F8e={...Xm};let ZD=!1,H8e=0;const JD=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+H8e++;function q8e(){const[e,t]=_.useState(()=>ZD?JD():void 0);return hb(()=>{e==null&&t(JD())},[]),_.useEffect(()=>{ZD=!0},[]),e}const V8e=F8e.useId,XL=V8e||q8e,z8e=_.forwardRef(function(t,n){const{context:{placement:a,elements:{floating:r},middlewareData:{arrow:i,shift:o}},width:c=14,height:l=7,tipRadius:d=0,strokeWidth:f=0,staticOffset:g,stroke:b,d:w,style:{transform:C,...S}={},...k}=t,E=XL(),[D,R]=_.useState(!1);if(hb(()=>{if(!r)return;Oc(r).direction==="rtl"&&R(!0)},[r]),!r)return null;const[P,B]=a.split("-"),O=P==="top"||P==="bottom";let $=g;(O&&o!=null&&o.x||!O&&o!=null&&o.y)&&($=null);const U=f*2,F=U/2,H=c/2*(d/-8+1),se=l/2*d/4,K=!!w,te=$&&B==="end"?"bottom":"top";let J=$&&B==="end"?"right":"left";$&&D&&(J=B==="end"?"left":"right");const z=(i==null?void 0:i.x)!=null?$||i.x:"",V=(i==null?void 0:i.y)!=null?$||i.y:"",M=w||"M0,0"+(" H"+c)+(" L"+(c-H)+","+(l-se))+(" Q"+c/2+","+l+" "+H+","+(l-se))+" Z",ee={top:K?"rotate(180deg)":"",left:K?"rotate(90deg)":"rotate(-90deg)",bottom:K?"":"rotate(180deg)",right:K?"rotate(-90deg)":"rotate(90deg)"}[P];return s.jsxs("svg",{...k,"aria-hidden":!0,ref:n,width:K?c:c+U,height:c,viewBox:"0 0 "+c+" "+(l>c?l:c),style:{position:"absolute",pointerEvents:"none",[J]:z,[te]:V,[P]:O||K?"100%":"calc(100% - "+U/2+"px)",transform:[ee,C].filter(Z=>!!Z).join(" "),...S},children:[U>0&&s.jsx("path",{clipPath:"url(#"+E+")",fill:"none",stroke:b,strokeWidth:U+(w?0:1),d:M}),s.jsx("path",{stroke:U&&!w?k.fill:"none",d:M}),s.jsx("clipPath",{id:E,children:s.jsx("rect",{x:-F,y:F*(K?-1:1),width:c+U,height:c})})]})});function U8e(){const e=new Map;return{emit(t,n){var a;(a=e.get(t))==null||a.forEach(r=>r(n))},on(t,n){e.has(t)||e.set(t,new Set),e.get(t).add(n)},off(t,n){var a;(a=e.get(t))==null||a.delete(n)}}}const W8e=_.createContext(null),Y8e=_.createContext(null),G8e=()=>{var e;return((e=_.useContext(W8e))==null?void 0:e.id)||null},Q8e=()=>_.useContext(Y8e);function X8e(e){const{open:t=!1,onOpenChange:n,elements:a}=e,r=XL(),i=_.useRef({}),[o]=_.useState(()=>U8e()),c=G8e()!=null,[l,d]=_.useState(a.reference),f=r8e((w,C,S)=>{i.current.openEvent=w?C:void 0,o.emit("openchange",{open:w,event:C,reason:S,nested:c}),n==null||n(w,C,S)}),g=_.useMemo(()=>({setPositionReference:d}),[]),b=_.useMemo(()=>({reference:l||a.reference||null,floating:a.floating||null,domReference:a.reference}),[l,a.reference,a.floating]);return _.useMemo(()=>({dataRef:i,open:t,onOpenChange:f,elements:b,events:o,floatingId:r,refs:g}),[t,f,b,o,r,g])}function K8e(e){e===void 0&&(e={});const{nodeId:t}=e,n=X8e({...e,elements:{reference:null,floating:null,...e.elements}}),a=e.rootContext||n,r=a.elements,[i,o]=_.useState(null),[c,l]=_.useState(null),f=(r==null?void 0:r.domReference)||i,g=_.useRef(null),b=Q8e();hb(()=>{f&&(g.current=f)},[f]);const w=B8e({...e,elements:{...r,...c&&{reference:c}}}),C=_.useCallback(R=>{const P=So(R)?{getBoundingClientRect:()=>R.getBoundingClientRect(),getClientRects:()=>R.getClientRects(),contextElement:R}:R;l(P),w.refs.setReference(P)},[w.refs]),S=_.useCallback(R=>{(So(R)||R===null)&&(g.current=R,o(R)),(So(w.refs.reference.current)||w.refs.reference.current===null||R!==null&&!So(R))&&w.refs.setReference(R)},[w.refs]),k=_.useMemo(()=>({...w.refs,setReference:S,setPositionReference:C,domReference:g}),[w.refs,S,C]),E=_.useMemo(()=>({...w.elements,domReference:f}),[w.elements,f]),D=_.useMemo(()=>({...w,...a,refs:k,elements:E,nodeId:t}),[w,k,E,t,a]);return hb(()=>{a.dataRef.current.floatingContext=D;const R=b==null?void 0:b.nodesRef.current.find(P=>P.id===t);R&&(R.context=D)}),_.useMemo(()=>({...w,context:D,refs:k,elements:E}),[w,k,E,D])}/*!
  react-datepicker v8.4.0
  https://github.com/Hacker0x01/react-datepicker
  Released under the MIT License.
*/var JS=function(t,n){return JS=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,r){a.__proto__=r}||function(a,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(a[i]=r[i])},JS(t,n)};function Yi(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");JS(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var Za=function(){return Za=Object.assign||function(n){for(var a,r=1,i=arguments.length;r<i;r++){a=arguments[r];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(n[o]=a[o])}return n},Za.apply(this,arguments)};function Tl(e,t,n){if(n||arguments.length===2)for(var a=0,r=t.length,i;a<r;a++)(i||!(a in t))&&(i||(i=Array.prototype.slice.call(t,0,a)),i[a]=t[a]);return e.concat(i||Array.prototype.slice.call(t))}var Z8e=function(e){var t=e.showTimeSelectOnly,n=t===void 0?!1:t,a=e.showTime,r=a===void 0?!1:a,i=e.className,o=e.children,c=n?"Choose Time":"Choose Date".concat(r?" and Time":"");return nt.createElement("div",{className:i,role:"dialog","aria-label":c,"aria-modal":"true"},o)},J8e=function(e,t){var n=_.useRef(null),a=_.useRef(e);a.current=e;var r=_.useCallback(function(i){var o,c=i.composed&&i.composedPath&&i.composedPath().find(function(l){return l instanceof Node})||i.target;n.current&&!n.current.contains(c)&&(t&&c instanceof HTMLElement&&c.classList.contains(t)||(o=a.current)===null||o===void 0||o.call(a,i))},[t]);return _.useEffect(function(){return document.addEventListener("mousedown",r),function(){document.removeEventListener("mousedown",r)}},[r]),n},yy=function(e){var t=e.children,n=e.onClickOutside,a=e.className,r=e.containerRef,i=e.style,o=e.ignoreClass,c=J8e(n,o);return nt.createElement("div",{className:a,style:i,ref:function(l){c.current=l,r&&(r.current=l)}},t)},ns;(function(e){e.ArrowUp="ArrowUp",e.ArrowDown="ArrowDown",e.ArrowLeft="ArrowLeft",e.ArrowRight="ArrowRight",e.PageUp="PageUp",e.PageDown="PageDown",e.Home="Home",e.End="End",e.Enter="Enter",e.Space=" ",e.Tab="Tab",e.Escape="Escape",e.Backspace="Backspace",e.X="x"})(ns||(ns={}));function KL(){var e=typeof window<"u"?window:globalThis;return e}var N0=12;function lr(e){if(e==null)return new Date;var t=typeof e=="string"?_6e(e):Cs(e);return wy(t)?t:new Date}function Yj(e,t,n,a,r){r===void 0&&(r=lr());for(var i=Hm(n)||Hm(T4()),o=Array.isArray(t)?t:[t],c=0,l=o;c<l.length;c++){var d=l[c],f=d6e(e,d,r,{locale:i});if(wy(f)&&(!a||e===Gr(f,d,n)))return f}return null}function wy(e,t){return ab(e)&&!Kh(e,new Date("1/1/1800"))}function Gr(e,t,n){if(n==="en")return HD(e,t,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});var a=n?Hm(n):void 0;return n&&!a&&console.warn('A locale object was not found for the provided string ["'.concat(n,'"].')),a=a||Hm(T4()),HD(e,t,{locale:a,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})}function Ic(e,t){var n=t.dateFormat,a=t.locale,r=Array.isArray(n)&&n.length>0?n[0]:n;return e&&Gr(e,r,a)||""}var ZL=" - ";function e5e(e,t,n){if(!e)return"";var a=Ic(e,n),r=t?Ic(t,n):"";return"".concat(a).concat(ZL).concat(r)}function t5e(e,t){if(!(e!=null&&e.length))return"";var n=e[0]?Ic(e[0],t):"";if(e.length===1)return n;if(e.length===2&&e[1]){var a=Ic(e[1],t);return"".concat(n,", ").concat(a)}var r=e.length-1;return"".concat(n," (+").concat(r,")")}function Gj(e,t){var n=t.hour,a=n===void 0?0:n,r=t.minute,i=r===void 0?0:r,o=t.second,c=o===void 0?0:o;return ex(tx(nx(e,c),i),a)}function n5e(e){return b4(e)}function s5e(e,t){return Gr(e,"ddd",t)}function ax(e){return Xh(e)}function Ed(e,t,n){var a=Hm(t||T4());return Tu(e,{locale:a,weekStartsOn:n})}function Cu(e){return EL(e)}function Z1(e){return gy(e)}function e7(e){return GS(e)}function t7(){return Xh(lr())}function n7(e){return kL(e)}function a5e(e){return _3e(e)}function r5e(e){return IL(e)}function Sl(e,t){return e&&t?p6e(e,t):!e&&!t}function jo(e,t){return e&&t?f6e(e,t):!e&&!t}function mb(e,t){return e&&t?m6e(e,t):!e&&!t}function Ka(e,t){return e&&t?p3e(e,t):!e&&!t}function Nh(e,t){return e&&t?g4e(e,t):!e&&!t}function J1(e,t,n){var a,r=Xh(t),i=kL(n);try{a=Yg(e,{start:r,end:i})}catch{a=!1}return a}function T4(){var e=KL();return e.__localeId__}function Hm(e){if(typeof e=="string"){var t=KL();return t.__localeData__?t.__localeData__[e]:void 0}else return e}function i5e(e,t,n){return t(Gr(e,"EEEE",n))}function o5e(e,t){return Gr(e,"EEEEEE",t)}function c5e(e,t){return Gr(e,"EEE",t)}function D4(e,t){return Gr(Ec(lr(),e),"LLLL",t)}function JL(e,t){return Gr(Ec(lr(),e),"LLL",t)}function l5e(e,t){return Gr(tm(lr(),e),"QQQ",t)}function Dc(e,t){var n=t===void 0?{}:t,a=n.minDate,r=n.maxDate,i=n.excludeDates,o=n.excludeDateIntervals,c=n.includeDates,l=n.includeDateIntervals,d=n.filterDate;return k0(e,{minDate:a,maxDate:r})||i&&i.some(function(f){return f instanceof Date?Ka(e,f):Ka(e,f.date)})||o&&o.some(function(f){var g=f.start,b=f.end;return Yg(e,{start:g,end:b})})||c&&!c.some(function(f){return Ka(e,f)})||l&&!l.some(function(f){var g=f.start,b=f.end;return Yg(e,{start:g,end:b})})||d&&!d(lr(e))||!1}function A4(e,t){var n=t===void 0?{}:t,a=n.excludeDates,r=n.excludeDateIntervals;return r&&r.length>0?r.some(function(i){var o=i.start,c=i.end;return Yg(e,{start:o,end:c})}):a&&a.some(function(i){var o;return i instanceof Date?Ka(e,i):Ka(e,(o=i.date)!==null&&o!==void 0?o:new Date)})||!1}function e$(e,t){var n=t===void 0?{}:t,a=n.minDate,r=n.maxDate,i=n.excludeDates,o=n.includeDates,c=n.filterDate;return k0(e,{minDate:a?EL(a):void 0,maxDate:r?IL(r):void 0})||(i==null?void 0:i.some(function(l){return jo(e,l instanceof Date?l:l.date)}))||o&&!o.some(function(l){return jo(e,l)})||c&&!c(lr(e))||!1}function fv(e,t,n,a){var r=ja(e),i=po(e),o=ja(t),c=po(t),l=ja(a);return r===o&&r===l?i<=n&&n<=c:r<o?l===r&&i<=n||l===o&&c>=n||l<o&&l>r:!1}function u5e(e,t){var n=t===void 0?{}:t,a=n.minDate,r=n.maxDate,i=n.excludeDates,o=n.includeDates;return k0(e,{minDate:a,maxDate:r})||i&&i.some(function(c){return jo(c instanceof Date?c:c.date,e)})||o&&!o.some(function(c){return jo(c,e)})||!1}function mv(e,t){var n=t===void 0?{}:t,a=n.minDate,r=n.maxDate,i=n.excludeDates,o=n.includeDates,c=n.filterDate;return k0(e,{minDate:a,maxDate:r})||(i==null?void 0:i.some(function(l){return mb(e,l instanceof Date?l:l.date)}))||o&&!o.some(function(l){return mb(e,l)})||c&&!c(lr(e))||!1}function pv(e,t,n){if(!t||!n||!ab(t)||!ab(n))return!1;var a=ja(t),r=ja(n);return a<=e&&r>=e}function rx(e,t){var n=t===void 0?{}:t,a=n.minDate,r=n.maxDate,i=n.excludeDates,o=n.includeDates,c=n.filterDate,l=new Date(e,0,1);return k0(l,{minDate:a?gy(a):void 0,maxDate:r?TL(r):void 0})||(i==null?void 0:i.some(function(d){return Sl(l,d instanceof Date?d:d.date)}))||o&&!o.some(function(d){return Sl(l,d)})||c&&!c(lr(l))||!1}function gv(e,t,n,a){var r=ja(e),i=$h(e),o=ja(t),c=$h(t),l=ja(a);return r===o&&r===l?i<=n&&n<=c:r<o?l===r&&i<=n||l===o&&c>=n||l<o&&l>r:!1}function k0(e,t){var n,a=t===void 0?{}:t,r=a.minDate,i=a.maxDate;return(n=r&&Om(e,r)<0||i&&Om(e,i)>0)!==null&&n!==void 0?n:!1}function s7(e,t){return t.some(function(n){return wu(n)===wu(e)&&ju(n)===ju(e)&&Id(n)===Id(e)})}function a7(e,t){var n=t===void 0?{}:t,a=n.excludeTimes,r=n.includeTimes,i=n.filterTime;return a&&s7(e,a)||r&&!s7(e,r)||i&&!i(e)||!1}function r7(e,t){var n=t.minTime,a=t.maxTime;if(!n||!a)throw new Error("Both minTime and maxTime props required");var r=lr();r=ex(r,wu(e)),r=tx(r,ju(e)),r=nx(r,Id(e));var i=lr();i=ex(i,wu(n)),i=tx(i,ju(n)),i=nx(i,Id(n));var o=lr();o=ex(o,wu(a)),o=tx(o,ju(a)),o=nx(o,Id(a));var c;try{c=!Yg(r,{start:i,end:o})}catch{c=!1}return c}function i7(e,t){var n=t===void 0?{}:t,a=n.minDate,r=n.includeDates,i=Ph(e,1);return a&&rb(a,i)>0||r&&r.every(function(o){return rb(o,i)>0})||!1}function o7(e,t){var n=t===void 0?{}:t,a=n.maxDate,r=n.includeDates,i=il(e,1);return a&&rb(i,a)>0||r&&r.every(function(o){return rb(i,o)>0})||!1}function d5e(e,t){var n=t===void 0?{}:t,a=n.minDate,r=n.includeDates,i=gy(e),o=PL(i);return a&&ib(a,o)>0||r&&r.every(function(c){return ib(c,o)>0})||!1}function h5e(e,t){var n=t===void 0?{}:t,a=n.maxDate,r=n.includeDates,i=TL(e),o=x4(i,1);return a&&ib(o,a)>0||r&&r.every(function(c){return ib(o,c)>0})||!1}function c7(e,t){var n=t===void 0?{}:t,a=n.minDate,r=n.includeDates,i=Lm(e,1);return a&&ob(a,i)>0||r&&r.every(function(o){return ob(o,i)>0})||!1}function f5e(e,t){var n=t===void 0?{}:t,a=n.minDate,r=n.yearItemNumber,i=r===void 0?N0:r,o=Z1(Lm(e,i)),c=jd(o,i).endPeriod,l=a&&ja(a);return l&&l>c||!1}function l7(e,t){var n=t===void 0?{}:t,a=n.maxDate,r=n.includeDates,i=bu(e,1);return a&&ob(i,a)>0||r&&r.every(function(o){return ob(i,o)>0})||!1}function m5e(e,t){var n=t===void 0?{}:t,a=n.maxDate,r=n.yearItemNumber,i=r===void 0?N0:r,o=bu(e,i),c=jd(o,i).startPeriod,l=a&&ja(a);return l&&l<c||!1}function t$(e){var t=e.minDate,n=e.includeDates;if(n&&t){var a=n.filter(function(r){return Om(r,t)>=0});return BD(a)}else return n?BD(n):t}function n$(e){var t=e.maxDate,n=e.includeDates;if(n&&t){var a=n.filter(function(r){return Om(r,t)<=0});return RD(a)}else return n?RD(n):t}function u7(e,t){var n;e===void 0&&(e=[]),t===void 0&&(t="react-datepicker__day--highlighted");for(var a=new Map,r=0,i=e.length;r<i;r++){var o=e[r];if(yu(o)){var c=Gr(o,"MM.dd.yyyy"),l=a.get(c)||[];l.includes(t)||(l.push(t),a.set(c,l))}else if(typeof o=="object"){var d=Object.keys(o),f=(n=d[0])!==null&&n!==void 0?n:"",g=o[f];if(typeof f=="string"&&Array.isArray(g))for(var b=0,w=g.length;b<w;b++){var C=g[b];if(C){var c=Gr(C,"MM.dd.yyyy"),l=a.get(c)||[];l.includes(f)||(l.push(f),a.set(c,l))}}}}return a}function p5e(e,t){return e.length!==t.length?!1:e.every(function(n,a){return n===t[a]})}function g5e(e,t){e===void 0&&(e=[]),t===void 0&&(t="react-datepicker__day--holidays");var n=new Map;return e.forEach(function(a){var r=a.date,i=a.holidayName;if(yu(r)){var o=Gr(r,"MM.dd.yyyy"),c=n.get(o)||{className:"",holidayNames:[]};if(!("className"in c&&c.className===t&&p5e(c.holidayNames,[i]))){c.className=t;var l=c.holidayNames;c.holidayNames=l?Tl(Tl([],l,!0),[i],!1):[i],n.set(o,c)}}}),n}function _5e(e,t,n,a,r){for(var i=r.length,o=[],c=0;c<i;c++){var l=e,d=r[c];d&&(l=d3e(l,wu(d)),l=YS(l,ju(d)),l=m3e(l,Id(d)));var f=YS(e,(n+1)*a);Bd(l,t)&&Kh(l,f)&&d!=null&&o.push(d)}return o}function d7(e){return e<10?"0".concat(e):"".concat(e)}function jd(e,t){t===void 0&&(t=N0);var n=Math.ceil(ja(e)/t)*t,a=n-(t-1);return{startPeriod:a,endPeriod:n}}function v5e(e){var t=new Date(e.getFullYear(),e.getMonth(),e.getDate()),n=new Date(e.getFullYear(),e.getMonth(),e.getDate(),24);return Math.round((+n-+t)/36e5)}function h7(e){var t=e.getSeconds(),n=e.getMilliseconds();return Cs(e.getTime()-t*1e3-n)}function x5e(e,t){return h7(e).getTime()===h7(t).getTime()}function f7(e){if(!yu(e))throw new Error("Invalid date");var t=new Date(e);return t.setHours(0,0,0,0),t}function m7(e,t){if(!yu(e)||!yu(t))throw new Error("Invalid date received");var n=f7(e),a=f7(t);return Kh(n,a)}function s$(e){return e.key===ns.Space}var b5e=function(e){Yi(t,e);function t(n){var a=e.call(this,n)||this;return a.inputRef=nt.createRef(),a.onTimeChange=function(r){var i,o;a.setState({time:r});var c=a.props.date,l=c instanceof Date&&!isNaN(+c),d=l?c:new Date;if(r!=null&&r.includes(":")){var f=r.split(":"),g=f[0],b=f[1];d.setHours(Number(g)),d.setMinutes(Number(b))}(o=(i=a.props).onChange)===null||o===void 0||o.call(i,d)},a.renderTimeInput=function(){var r=a.state.time,i=a.props,o=i.date,c=i.timeString,l=i.customTimeInput;return l?_.cloneElement(l,{date:o,value:r,onChange:a.onTimeChange}):nt.createElement("input",{type:"time",className:"react-datepicker-time__input",placeholder:"Time",name:"time-input",ref:a.inputRef,onClick:function(){var d;(d=a.inputRef.current)===null||d===void 0||d.focus()},required:!0,value:r,onChange:function(d){a.onTimeChange(d.target.value||c)}})},a.state={time:a.props.timeString},a}return t.getDerivedStateFromProps=function(n,a){return n.timeString!==a.time?{time:n.timeString}:null},t.prototype.render=function(){return nt.createElement("div",{className:"react-datepicker__input-time-container"},nt.createElement("div",{className:"react-datepicker-time__caption"},this.props.timeInputLabel),nt.createElement("div",{className:"react-datepicker-time__input-container"},nt.createElement("div",{className:"react-datepicker-time__input"},this.renderTimeInput())))},t}(_.Component),y5e=function(e){Yi(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.dayEl=_.createRef(),n.handleClick=function(a){!n.isDisabled()&&n.props.onClick&&n.props.onClick(a)},n.handleMouseEnter=function(a){!n.isDisabled()&&n.props.onMouseEnter&&n.props.onMouseEnter(a)},n.handleOnKeyDown=function(a){var r,i,o=a.key;o===ns.Space&&(a.preventDefault(),a.key=ns.Enter),(i=(r=n.props).handleOnKeyDown)===null||i===void 0||i.call(r,a)},n.isSameDay=function(a){return Ka(n.props.day,a)},n.isKeyboardSelected=function(){var a;if(n.props.disabledKeyboardNavigation)return!1;var r=n.props.selectsMultiple?(a=n.props.selectedDates)===null||a===void 0?void 0:a.some(function(o){return n.isSameDayOrWeek(o)}):n.isSameDayOrWeek(n.props.selected),i=n.props.preSelection&&n.isDisabled(n.props.preSelection);return!r&&n.isSameDayOrWeek(n.props.preSelection)&&!i},n.isDisabled=function(a){return a===void 0&&(a=n.props.day),Dc(a,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals,includeDateIntervals:n.props.includeDateIntervals,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.isExcluded=function(){return A4(n.props.day,{excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals})},n.isStartOfWeek=function(){return Ka(n.props.day,Ed(n.props.day,n.props.locale,n.props.calendarStartDay))},n.isSameWeek=function(a){return n.props.showWeekPicker&&Ka(a,Ed(n.props.day,n.props.locale,n.props.calendarStartDay))},n.isSameDayOrWeek=function(a){return n.isSameDay(a)||n.isSameWeek(a)},n.getHighLightedClass=function(){var a=n.props,r=a.day,i=a.highlightDates;if(!i)return!1;var o=Gr(r,"MM.dd.yyyy");return i.get(o)},n.getHolidaysClass=function(){var a,r=n.props,i=r.day,o=r.holidays;if(!o)return[void 0];var c=Gr(i,"MM.dd.yyyy");return o.has(c)?[(a=o.get(c))===null||a===void 0?void 0:a.className]:[void 0]},n.isInRange=function(){var a=n.props,r=a.day,i=a.startDate,o=a.endDate;return!i||!o?!1:J1(r,i,o)},n.isInSelectingRange=function(){var a,r=n.props,i=r.day,o=r.selectsStart,c=r.selectsEnd,l=r.selectsRange,d=r.selectsDisabledDaysInRange,f=r.startDate,g=r.endDate,b=(a=n.props.selectingDate)!==null&&a!==void 0?a:n.props.preSelection;return!(o||c||l)||!b||!d&&n.isDisabled()?!1:o&&g&&(Kh(b,g)||Nh(b,g))?J1(i,b,g):c&&f&&(Bd(b,f)||Nh(b,f))||l&&f&&!g&&(Bd(b,f)||Nh(b,f))?J1(i,f,b):!1},n.isSelectingRangeStart=function(){var a;if(!n.isInSelectingRange())return!1;var r=n.props,i=r.day,o=r.startDate,c=r.selectsStart,l=(a=n.props.selectingDate)!==null&&a!==void 0?a:n.props.preSelection;return c?Ka(i,l):Ka(i,o)},n.isSelectingRangeEnd=function(){var a;if(!n.isInSelectingRange())return!1;var r=n.props,i=r.day,o=r.endDate,c=r.selectsEnd,l=r.selectsRange,d=(a=n.props.selectingDate)!==null&&a!==void 0?a:n.props.preSelection;return c||l?Ka(i,d):Ka(i,o)},n.isRangeStart=function(){var a=n.props,r=a.day,i=a.startDate,o=a.endDate;return!i||!o?!1:Ka(i,r)},n.isRangeEnd=function(){var a=n.props,r=a.day,i=a.startDate,o=a.endDate;return!i||!o?!1:Ka(o,r)},n.isWeekend=function(){var a=h4e(n.props.day);return a===0||a===6},n.isAfterMonth=function(){return n.props.month!==void 0&&(n.props.month+1)%12===po(n.props.day)},n.isBeforeMonth=function(){return n.props.month!==void 0&&(po(n.props.day)+1)%12===n.props.month},n.isCurrentDay=function(){return n.isSameDay(lr())},n.isSelected=function(){var a;return n.props.selectsMultiple?(a=n.props.selectedDates)===null||a===void 0?void 0:a.some(function(r){return n.isSameDayOrWeek(r)}):n.isSameDayOrWeek(n.props.selected)},n.getClassNames=function(a){var r=n.props.dayClassName?n.props.dayClassName(a):void 0;return to("react-datepicker__day",r,"react-datepicker__day--"+s5e(n.props.day),{"react-datepicker__day--disabled":n.isDisabled(),"react-datepicker__day--excluded":n.isExcluded(),"react-datepicker__day--selected":n.isSelected(),"react-datepicker__day--keyboard-selected":n.isKeyboardSelected(),"react-datepicker__day--range-start":n.isRangeStart(),"react-datepicker__day--range-end":n.isRangeEnd(),"react-datepicker__day--in-range":n.isInRange(),"react-datepicker__day--in-selecting-range":n.isInSelectingRange(),"react-datepicker__day--selecting-range-start":n.isSelectingRangeStart(),"react-datepicker__day--selecting-range-end":n.isSelectingRangeEnd(),"react-datepicker__day--today":n.isCurrentDay(),"react-datepicker__day--weekend":n.isWeekend(),"react-datepicker__day--outside-month":n.isAfterMonth()||n.isBeforeMonth()},n.getHighLightedClass(),n.getHolidaysClass())},n.getAriaLabel=function(){var a=n.props,r=a.day,i=a.ariaLabelPrefixWhenEnabled,o=i===void 0?"Choose":i,c=a.ariaLabelPrefixWhenDisabled,l=c===void 0?"Not available":c,d=n.isDisabled()||n.isExcluded()?l:o;return"".concat(d," ").concat(Gr(r,"PPPP",n.props.locale))},n.getTitle=function(){var a=n.props,r=a.day,i=a.holidays,o=i===void 0?new Map:i,c=a.excludeDates,l=Gr(r,"MM.dd.yyyy"),d=[];return o.has(l)&&d.push.apply(d,o.get(l).holidayNames),n.isExcluded()&&d.push(c==null?void 0:c.filter(function(f){return f instanceof Date?Ka(f,r):Ka(f==null?void 0:f.date,r)}).map(function(f){if(!(f instanceof Date))return f==null?void 0:f.message})),d.join(", ")},n.getTabIndex=function(){var a=n.props.selected,r=n.props.preSelection,i=!(n.props.showWeekPicker&&(n.props.showWeekNumber||!n.isStartOfWeek()))&&(n.isKeyboardSelected()||n.isSameDay(a)&&Ka(r,a))?0:-1;return i},n.handleFocusDay=function(){var a;n.shouldFocusDay()&&((a=n.dayEl.current)===null||a===void 0||a.focus({preventScroll:!0}))},n.renderDayContents=function(){return n.props.monthShowsDuplicateDaysEnd&&n.isAfterMonth()||n.props.monthShowsDuplicateDaysStart&&n.isBeforeMonth()?null:n.props.renderDayContents?n.props.renderDayContents(qD(n.props.day),n.props.day):qD(n.props.day)},n.render=function(){return nt.createElement("div",{ref:n.dayEl,className:n.getClassNames(n.props.day),onKeyDown:n.handleOnKeyDown,onClick:n.handleClick,onMouseEnter:n.props.usePointerEvent?void 0:n.handleMouseEnter,onPointerEnter:n.props.usePointerEvent?n.handleMouseEnter:void 0,tabIndex:n.getTabIndex(),"aria-label":n.getAriaLabel(),role:"option",title:n.getTitle(),"aria-disabled":n.isDisabled(),"aria-current":n.isCurrentDay()?"date":void 0,"aria-selected":n.isSelected()||n.isInRange()},n.renderDayContents(),n.getTitle()!==""&&nt.createElement("span",{className:"overlay"},n.getTitle()))},n}return t.prototype.componentDidMount=function(){this.handleFocusDay()},t.prototype.componentDidUpdate=function(){this.handleFocusDay()},t.prototype.shouldFocusDay=function(){var n=!1;return this.getTabIndex()===0&&this.isSameDay(this.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(n=!0),this.props.inline&&!this.props.shouldFocusDayInline&&(n=!1),this.isDayActiveElement()&&(n=!0),this.isDuplicateDay()&&(n=!1)),n},t.prototype.isDayActiveElement=function(){var n,a,r;return((a=(n=this.props.containerRef)===null||n===void 0?void 0:n.current)===null||a===void 0?void 0:a.contains(document.activeElement))&&((r=document.activeElement)===null||r===void 0?void 0:r.classList.contains("react-datepicker__day"))},t.prototype.isDuplicateDay=function(){return this.props.monthShowsDuplicateDaysEnd&&this.isAfterMonth()||this.props.monthShowsDuplicateDaysStart&&this.isBeforeMonth()},t}(_.Component),w5e=function(e){Yi(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.weekNumberEl=_.createRef(),n.handleClick=function(a){n.props.onClick&&n.props.onClick(a)},n.handleOnKeyDown=function(a){var r,i,o=a.key;o===ns.Space&&(a.preventDefault(),a.key=ns.Enter),(i=(r=n.props).handleOnKeyDown)===null||i===void 0||i.call(r,a)},n.isKeyboardSelected=function(){return!n.props.disabledKeyboardNavigation&&!Ka(n.props.date,n.props.selected)&&Ka(n.props.date,n.props.preSelection)},n.getTabIndex=function(){return n.props.showWeekPicker&&n.props.showWeekNumber&&(n.isKeyboardSelected()||Ka(n.props.date,n.props.selected)&&Ka(n.props.preSelection,n.props.selected))?0:-1},n.handleFocusWeekNumber=function(a){var r=!1;n.getTabIndex()===0&&!(a!=null&&a.isInputFocused)&&Ka(n.props.date,n.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(r=!0),n.props.inline&&!n.props.shouldFocusDayInline&&(r=!1),n.props.containerRef&&n.props.containerRef.current&&n.props.containerRef.current.contains(document.activeElement)&&document.activeElement&&document.activeElement.classList.contains("react-datepicker__week-number")&&(r=!0)),r&&n.weekNumberEl.current&&n.weekNumberEl.current.focus({preventScroll:!0})},n}return Object.defineProperty(t,"defaultProps",{get:function(){return{ariaLabelPrefix:"week "}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){this.handleFocusWeekNumber()},t.prototype.componentDidUpdate=function(n){this.handleFocusWeekNumber(n)},t.prototype.render=function(){var n=this.props,a=n.weekNumber,r=n.isWeekDisabled,i=n.ariaLabelPrefix,o=i===void 0?t.defaultProps.ariaLabelPrefix:i,c=n.onClick,l={"react-datepicker__week-number":!0,"react-datepicker__week-number--clickable":!!c&&!r,"react-datepicker__week-number--selected":!!c&&Ka(this.props.date,this.props.selected)};return nt.createElement("div",{ref:this.weekNumberEl,className:to(l),"aria-label":"".concat(o," ").concat(this.props.weekNumber),onClick:this.handleClick,onKeyDown:this.handleOnKeyDown,tabIndex:this.getTabIndex()},a)},t}(_.Component),j5e=function(e){Yi(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.isDisabled=function(a){return Dc(a,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals,includeDateIntervals:n.props.includeDateIntervals,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.handleDayClick=function(a,r){n.props.onDayClick&&n.props.onDayClick(a,r)},n.handleDayMouseEnter=function(a){n.props.onDayMouseEnter&&n.props.onDayMouseEnter(a)},n.handleWeekClick=function(a,r,i){for(var o,c,l,d=new Date(a),f=0;f<7;f++){var g=new Date(a);g.setDate(g.getDate()+f);var b=!n.isDisabled(g);if(b){d=g;break}}typeof n.props.onWeekSelect=="function"&&n.props.onWeekSelect(d,r,i),n.props.showWeekPicker&&n.handleDayClick(d,i),((o=n.props.shouldCloseOnSelect)!==null&&o!==void 0?o:t.defaultProps.shouldCloseOnSelect)&&((l=(c=n.props).setOpen)===null||l===void 0||l.call(c,!1))},n.formatWeekNumber=function(a){return n.props.formatWeekNumber?n.props.formatWeekNumber(a):n5e(a)},n.isWeekDisabled=function(){for(var a=n.startOfWeek(),r=tl(a,6),i=new Date(a);i<=r;){if(!n.isDisabled(i))return!1;i=tl(i,1)}return!0},n.renderDays=function(){var a=n.startOfWeek(),r=[],i=n.formatWeekNumber(a);if(n.props.showWeekNumber){var o=n.props.onWeekSelect||n.props.showWeekPicker?n.handleWeekClick.bind(n,a,i):void 0;r.push(nt.createElement(w5e,Za({key:"W"},t.defaultProps,n.props,{weekNumber:i,isWeekDisabled:n.isWeekDisabled(),date:a,onClick:o})))}return r.concat([0,1,2,3,4,5,6].map(function(c){var l=tl(a,c);return nt.createElement(y5e,Za({},t.defaultProps,n.props,{ariaLabelPrefixWhenEnabled:n.props.chooseDayAriaLabelPrefix,ariaLabelPrefixWhenDisabled:n.props.disabledDayAriaLabelPrefix,key:l.valueOf(),day:l,onClick:n.handleDayClick.bind(n,l),onMouseEnter:n.handleDayMouseEnter.bind(n,l)}))}))},n.startOfWeek=function(){return Ed(n.props.day,n.props.locale,n.props.calendarStartDay)},n.isKeyboardSelected=function(){return!n.props.disabledKeyboardNavigation&&!Ka(n.startOfWeek(),n.props.selected)&&Ka(n.startOfWeek(),n.props.preSelection)},n}return Object.defineProperty(t,"defaultProps",{get:function(){return{shouldCloseOnSelect:!0}},enumerable:!1,configurable:!0}),t.prototype.render=function(){var n={"react-datepicker__week":!0,"react-datepicker__week--selected":Ka(this.startOfWeek(),this.props.selected),"react-datepicker__week--keyboard-selected":this.isKeyboardSelected()};return nt.createElement("div",{className:to(n)},this.renderDays())},t}(_.Component),I1,C5e=6,bm={TWO_COLUMNS:"two_columns",THREE_COLUMNS:"three_columns",FOUR_COLUMNS:"four_columns"},Qj=(I1={},I1[bm.TWO_COLUMNS]={grid:[[0,1],[2,3],[4,5],[6,7],[8,9],[10,11]],verticalNavigationOffset:2},I1[bm.THREE_COLUMNS]={grid:[[0,1,2],[3,4,5],[6,7,8],[9,10,11]],verticalNavigationOffset:3},I1[bm.FOUR_COLUMNS]={grid:[[0,1,2,3],[4,5,6,7],[8,9,10,11]],verticalNavigationOffset:4},I1),_v=1;function p7(e,t){return e?bm.FOUR_COLUMNS:t?bm.TWO_COLUMNS:bm.THREE_COLUMNS}var S5e=function(e){Yi(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.MONTH_REFS=Tl([],Array(12),!0).map(function(){return _.createRef()}),n.QUARTER_REFS=Tl([],Array(4),!0).map(function(){return _.createRef()}),n.isDisabled=function(a){return Dc(a,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals,includeDateIntervals:n.props.includeDateIntervals,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.isExcluded=function(a){return A4(a,{excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals})},n.handleDayClick=function(a,r){var i,o;(o=(i=n.props).onDayClick)===null||o===void 0||o.call(i,a,r,n.props.orderInDisplay)},n.handleDayMouseEnter=function(a){var r,i;(i=(r=n.props).onDayMouseEnter)===null||i===void 0||i.call(r,a)},n.handleMouseLeave=function(){var a,r;(r=(a=n.props).onMouseLeave)===null||r===void 0||r.call(a)},n.isRangeStartMonth=function(a){var r=n.props,i=r.day,o=r.startDate,c=r.endDate;return!o||!c?!1:jo(Ec(i,a),o)},n.isRangeStartQuarter=function(a){var r=n.props,i=r.day,o=r.startDate,c=r.endDate;return!o||!c?!1:mb(tm(i,a),o)},n.isRangeEndMonth=function(a){var r=n.props,i=r.day,o=r.startDate,c=r.endDate;return!o||!c?!1:jo(Ec(i,a),c)},n.isRangeEndQuarter=function(a){var r=n.props,i=r.day,o=r.startDate,c=r.endDate;return!o||!c?!1:mb(tm(i,a),c)},n.isInSelectingRangeMonth=function(a){var r,i=n.props,o=i.day,c=i.selectsStart,l=i.selectsEnd,d=i.selectsRange,f=i.startDate,g=i.endDate,b=(r=n.props.selectingDate)!==null&&r!==void 0?r:n.props.preSelection;return!(c||l||d)||!b?!1:c&&g?fv(b,g,a,o):l&&f||d&&f&&!g?fv(f,b,a,o):!1},n.isSelectingMonthRangeStart=function(a){var r;if(!n.isInSelectingRangeMonth(a))return!1;var i=n.props,o=i.day,c=i.startDate,l=i.selectsStart,d=Ec(o,a),f=(r=n.props.selectingDate)!==null&&r!==void 0?r:n.props.preSelection;return l?jo(d,f):jo(d,c)},n.isSelectingMonthRangeEnd=function(a){var r;if(!n.isInSelectingRangeMonth(a))return!1;var i=n.props,o=i.day,c=i.endDate,l=i.selectsEnd,d=i.selectsRange,f=Ec(o,a),g=(r=n.props.selectingDate)!==null&&r!==void 0?r:n.props.preSelection;return l||d?jo(f,g):jo(f,c)},n.isInSelectingRangeQuarter=function(a){var r,i=n.props,o=i.day,c=i.selectsStart,l=i.selectsEnd,d=i.selectsRange,f=i.startDate,g=i.endDate,b=(r=n.props.selectingDate)!==null&&r!==void 0?r:n.props.preSelection;return!(c||l||d)||!b?!1:c&&g?gv(b,g,a,o):l&&f||d&&f&&!g?gv(f,b,a,o):!1},n.isWeekInMonth=function(a){var r=n.props.day,i=tl(a,6);return jo(a,r)||jo(i,r)},n.isCurrentMonth=function(a,r){return ja(a)===ja(lr())&&r===po(lr())},n.isCurrentQuarter=function(a,r){return ja(a)===ja(lr())&&r===$h(lr())},n.isSelectedMonth=function(a,r,i){return po(i)===r&&ja(a)===ja(i)},n.isSelectMonthInList=function(a,r,i){return i.some(function(o){return n.isSelectedMonth(a,r,o)})},n.isSelectedQuarter=function(a,r,i){return $h(a)===r&&ja(a)===ja(i)},n.isMonthSelected=function(){var a=n.props,r=a.day,i=a.selected,o=a.selectedDates,c=a.selectsMultiple,l=po(r);return c?o==null?void 0:o.some(function(d){return n.isSelectedMonth(r,l,d)}):!!i&&n.isSelectedMonth(r,l,i)},n.renderWeeks=function(){for(var a=[],r=n.props.fixedHeight,i=0,o=!1,c=Ed(Cu(n.props.day),n.props.locale,n.props.calendarStartDay),l=function(C){return n.props.showWeekPicker?Ed(C,n.props.locale,n.props.calendarStartDay):n.props.preSelection},d=function(C){return n.props.showWeekPicker?Ed(C,n.props.locale,n.props.calendarStartDay):n.props.selected},f=n.props.selected?d(n.props.selected):void 0,g=n.props.preSelection?l(n.props.preSelection):void 0;a.push(nt.createElement(j5e,Za({},n.props,{ariaLabelPrefix:n.props.weekAriaLabelPrefix,key:i,day:c,month:po(n.props.day),onDayClick:n.handleDayClick,onDayMouseEnter:n.handleDayMouseEnter,selected:f,preSelection:g,showWeekNumber:n.props.showWeekNumbers}))),!o;){i++,c=sb(c,1);var b=r&&i>=C5e,w=!r&&!n.isWeekInMonth(c);if(b||w)if(n.props.peekNextMonth)o=!0;else break}return a},n.onMonthClick=function(a,r){var i=n.isMonthDisabledForLabelDate(r),o=i.isDisabled,c=i.labelDate;o||n.handleDayClick(Cu(c),a)},n.onMonthMouseEnter=function(a){var r=n.isMonthDisabledForLabelDate(a),i=r.isDisabled,o=r.labelDate;i||n.handleDayMouseEnter(Cu(o))},n.handleMonthNavigation=function(a,r){var i,o,c,l;(o=(i=n.props).setPreSelection)===null||o===void 0||o.call(i,r),(l=(c=n.MONTH_REFS[a])===null||c===void 0?void 0:c.current)===null||l===void 0||l.focus()},n.handleKeyboardNavigation=function(a,r,i){var o,c=n.props,l=c.selected,d=c.preSelection,f=c.setPreSelection,g=c.minDate,b=c.maxDate,w=c.showFourColumnMonthYearPicker,C=c.showTwoColumnMonthYearPicker;if(d){var S=p7(w,C),k=n.getVerticalOffset(S),E=(o=Qj[S])===null||o===void 0?void 0:o.grid,D=function($,U,F){var H,se,K=U,te=F;switch($){case ns.ArrowRight:K=il(U,_v),te=F===11?0:F+_v;break;case ns.ArrowLeft:K=Ph(U,_v),te=F===0?11:F-_v;break;case ns.ArrowUp:K=Ph(U,k),te=!((H=E==null?void 0:E[0])===null||H===void 0)&&H.includes(F)?F+12-k:F-k;break;case ns.ArrowDown:K=il(U,k),te=!((se=E==null?void 0:E[E.length-1])===null||se===void 0)&&se.includes(F)?F-12+k:F+k;break}return{newCalculatedDate:K,newCalculatedMonth:te}},R=function($,U,F){for(var H=40,se=$,K=!1,te=0,J=D(se,U,F),z=J.newCalculatedDate,V=J.newCalculatedMonth;!K;){if(te>=H){z=U,V=F;break}if(g&&z<g){se=ns.ArrowRight;var M=D(se,z,V);z=M.newCalculatedDate,V=M.newCalculatedMonth}if(b&&z>b){se=ns.ArrowLeft;var M=D(se,z,V);z=M.newCalculatedDate,V=M.newCalculatedMonth}if(u5e(z,n.props)){var M=D(se,z,V);z=M.newCalculatedDate,V=M.newCalculatedMonth}else K=!0;te++}return{newCalculatedDate:z,newCalculatedMonth:V}};if(r===ns.Enter){n.isMonthDisabled(i)||(n.onMonthClick(a,i),f==null||f(l));return}var P=R(r,d,i),B=P.newCalculatedDate,O=P.newCalculatedMonth;switch(r){case ns.ArrowRight:case ns.ArrowLeft:case ns.ArrowUp:case ns.ArrowDown:n.handleMonthNavigation(O,B);break}}},n.getVerticalOffset=function(a){var r,i;return(i=(r=Qj[a])===null||r===void 0?void 0:r.verticalNavigationOffset)!==null&&i!==void 0?i:0},n.onMonthKeyDown=function(a,r){var i=n.props,o=i.disabledKeyboardNavigation,c=i.handleOnMonthKeyDown,l=a.key;l!==ns.Tab&&a.preventDefault(),o||n.handleKeyboardNavigation(a,l,r),c&&c(a)},n.onQuarterClick=function(a,r){var i=tm(n.props.day,r);mv(i,n.props)||n.handleDayClick(e7(i),a)},n.onQuarterMouseEnter=function(a){var r=tm(n.props.day,a);mv(r,n.props)||n.handleDayMouseEnter(e7(r))},n.handleQuarterNavigation=function(a,r){var i,o,c,l;n.isDisabled(r)||n.isExcluded(r)||((o=(i=n.props).setPreSelection)===null||o===void 0||o.call(i,r),(l=(c=n.QUARTER_REFS[a-1])===null||c===void 0?void 0:c.current)===null||l===void 0||l.focus())},n.onQuarterKeyDown=function(a,r){var i,o,c=a.key;if(!n.props.disabledKeyboardNavigation)switch(c){case ns.Enter:n.onQuarterClick(a,r),(o=(i=n.props).setPreSelection)===null||o===void 0||o.call(i,n.props.selected);break;case ns.ArrowRight:if(!n.props.preSelection)break;n.handleQuarterNavigation(r===4?1:r+1,x4(n.props.preSelection,1));break;case ns.ArrowLeft:if(!n.props.preSelection)break;n.handleQuarterNavigation(r===1?4:r-1,PL(n.props.preSelection));break}},n.isMonthDisabledForLabelDate=function(a){var r,i=n.props,o=i.day,c=i.minDate,l=i.maxDate,d=i.excludeDates,f=i.includeDates,g=Ec(o,a);return{isDisabled:(r=(c||l||d||f)&&e$(g,n.props))!==null&&r!==void 0?r:!1,labelDate:g}},n.isMonthDisabled=function(a){var r=n.isMonthDisabledForLabelDate(a).isDisabled;return r},n.getMonthClassNames=function(a){var r=n.props,i=r.day,o=r.startDate,c=r.endDate,l=r.preSelection,d=r.monthClassName,f=d?d(Ec(i,a)):void 0,g=n.getSelection();return to("react-datepicker__month-text","react-datepicker__month-".concat(a),f,{"react-datepicker__month-text--disabled":n.isMonthDisabled(a),"react-datepicker__month-text--selected":g?n.isSelectMonthInList(i,a,g):void 0,"react-datepicker__month-text--keyboard-selected":!n.props.disabledKeyboardNavigation&&l&&n.isSelectedMonth(i,a,l)&&!n.isMonthSelected()&&!n.isMonthDisabled(a),"react-datepicker__month-text--in-selecting-range":n.isInSelectingRangeMonth(a),"react-datepicker__month-text--in-range":o&&c?fv(o,c,a,i):void 0,"react-datepicker__month-text--range-start":n.isRangeStartMonth(a),"react-datepicker__month-text--range-end":n.isRangeEndMonth(a),"react-datepicker__month-text--selecting-range-start":n.isSelectingMonthRangeStart(a),"react-datepicker__month-text--selecting-range-end":n.isSelectingMonthRangeEnd(a),"react-datepicker__month-text--today":n.isCurrentMonth(i,a)})},n.getTabIndex=function(a){if(n.props.preSelection==null)return"-1";var r=po(n.props.preSelection),i=n.isMonthDisabledForLabelDate(r).isDisabled,o=a===r&&!(i||n.props.disabledKeyboardNavigation)?"0":"-1";return o},n.getQuarterTabIndex=function(a){if(n.props.preSelection==null)return"-1";var r=$h(n.props.preSelection),i=mv(n.props.day,n.props),o=a===r&&!(i||n.props.disabledKeyboardNavigation)?"0":"-1";return o},n.getAriaLabel=function(a){var r=n.props,i=r.chooseDayAriaLabelPrefix,o=i===void 0?"Choose":i,c=r.disabledDayAriaLabelPrefix,l=c===void 0?"Not available":c,d=r.day,f=r.locale,g=Ec(d,a),b=n.isDisabled(g)||n.isExcluded(g)?l:o;return"".concat(b," ").concat(Gr(g,"MMMM yyyy",f))},n.getQuarterClassNames=function(a){var r=n.props,i=r.day,o=r.startDate,c=r.endDate,l=r.selected,d=r.minDate,f=r.maxDate,g=r.excludeDates,b=r.includeDates,w=r.filterDate,C=r.preSelection,S=r.disabledKeyboardNavigation,k=(d||f||g||b||w)&&mv(tm(i,a),n.props);return to("react-datepicker__quarter-text","react-datepicker__quarter-".concat(a),{"react-datepicker__quarter-text--disabled":k,"react-datepicker__quarter-text--selected":l?n.isSelectedQuarter(i,a,l):void 0,"react-datepicker__quarter-text--keyboard-selected":!S&&C&&n.isSelectedQuarter(i,a,C)&&!k,"react-datepicker__quarter-text--in-selecting-range":n.isInSelectingRangeQuarter(a),"react-datepicker__quarter-text--in-range":o&&c?gv(o,c,a,i):void 0,"react-datepicker__quarter-text--range-start":n.isRangeStartQuarter(a),"react-datepicker__quarter-text--range-end":n.isRangeEndQuarter(a),"react-datepicker__quarter-text--today":n.isCurrentQuarter(i,a)})},n.getMonthContent=function(a){var r=n.props,i=r.showFullMonthYearPicker,o=r.renderMonthContent,c=r.locale,l=r.day,d=JL(a,c),f=D4(a,c);return o?o(a,d,f,l):i?f:d},n.getQuarterContent=function(a){var r,i=n.props,o=i.renderQuarterContent,c=i.locale,l=l5e(a,c);return(r=o==null?void 0:o(a,l))!==null&&r!==void 0?r:l},n.renderMonths=function(){var a,r=n.props,i=r.showTwoColumnMonthYearPicker,o=r.showFourColumnMonthYearPicker,c=r.day,l=r.selected,d=(a=Qj[p7(o,i)])===null||a===void 0?void 0:a.grid;return d==null?void 0:d.map(function(f,g){return nt.createElement("div",{className:"react-datepicker__month-wrapper",key:g},f.map(function(b,w){return nt.createElement("div",{ref:n.MONTH_REFS[b],key:w,onClick:function(C){n.onMonthClick(C,b)},onKeyDown:function(C){s$(C)&&(C.preventDefault(),C.key=ns.Enter),n.onMonthKeyDown(C,b)},onMouseEnter:n.props.usePointerEvent?void 0:function(){return n.onMonthMouseEnter(b)},onPointerEnter:n.props.usePointerEvent?function(){return n.onMonthMouseEnter(b)}:void 0,tabIndex:Number(n.getTabIndex(b)),className:n.getMonthClassNames(b),"aria-disabled":n.isMonthDisabled(b),role:"option","aria-label":n.getAriaLabel(b),"aria-current":n.isCurrentMonth(c,b)?"date":void 0,"aria-selected":l?n.isSelectedMonth(c,b,l):void 0},n.getMonthContent(b))}))})},n.renderQuarters=function(){var a=n.props,r=a.day,i=a.selected,o=[1,2,3,4];return nt.createElement("div",{className:"react-datepicker__quarter-wrapper"},o.map(function(c,l){return nt.createElement("div",{key:l,ref:n.QUARTER_REFS[l],role:"option",onClick:function(d){n.onQuarterClick(d,c)},onKeyDown:function(d){n.onQuarterKeyDown(d,c)},onMouseEnter:n.props.usePointerEvent?void 0:function(){return n.onQuarterMouseEnter(c)},onPointerEnter:n.props.usePointerEvent?function(){return n.onQuarterMouseEnter(c)}:void 0,className:n.getQuarterClassNames(c),"aria-selected":i?n.isSelectedQuarter(r,c,i):void 0,tabIndex:Number(n.getQuarterTabIndex(c)),"aria-current":n.isCurrentQuarter(r,c)?"date":void 0},n.getQuarterContent(c))}))},n.getClassNames=function(){var a=n.props,r=a.selectingDate,i=a.selectsStart,o=a.selectsEnd,c=a.showMonthYearPicker,l=a.showQuarterYearPicker,d=a.showWeekPicker;return to("react-datepicker__month",{"react-datepicker__month--selecting-range":r&&(i||o)},{"react-datepicker__monthPicker":c},{"react-datepicker__quarterPicker":l},{"react-datepicker__weekPicker":d})},n}return t.prototype.getSelection=function(){var n=this.props,a=n.selected,r=n.selectedDates,i=n.selectsMultiple;if(i)return r;if(a)return[a]},t.prototype.render=function(){var n=this.props,a=n.showMonthYearPicker,r=n.showQuarterYearPicker,i=n.day,o=n.ariaLabelPrefix,c=o===void 0?"Month ":o,l=c?c.trim()+" ":"";return nt.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":"".concat(l).concat(Gr(i,"MMMM, yyyy",this.props.locale)),role:"listbox"},a?this.renderMonths():r?this.renderQuarters():this.renderWeeks())},t}(_.Component),N5e=function(e){Yi(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.isSelectedMonth=function(a){return n.props.month===a},n.renderOptions=function(){return n.props.monthNames.map(function(a,r){return nt.createElement("div",{className:n.isSelectedMonth(r)?"react-datepicker__month-option react-datepicker__month-option--selected_month":"react-datepicker__month-option",key:a,onClick:n.onChange.bind(n,r),"aria-selected":n.isSelectedMonth(r)?"true":void 0},n.isSelectedMonth(r)?nt.createElement("span",{className:"react-datepicker__month-option--selected"},""):"",a)})},n.onChange=function(a){return n.props.onChange(a)},n.handleClickOutside=function(){return n.props.onCancel()},n}return t.prototype.render=function(){return nt.createElement(yy,{className:"react-datepicker__month-dropdown",onClickOutside:this.handleClickOutside},this.renderOptions())},t}(_.Component),k5e=function(e){Yi(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.state={dropdownVisible:!1},n.renderSelectOptions=function(a){return a.map(function(r,i){return nt.createElement("option",{key:r,value:i},r)})},n.renderSelectMode=function(a){return nt.createElement("select",{value:n.props.month,className:"react-datepicker__month-select",onChange:function(r){return n.onChange(parseInt(r.target.value))}},n.renderSelectOptions(a))},n.renderReadView=function(a,r){return nt.createElement("div",{key:"read",style:{visibility:a?"visible":"hidden"},className:"react-datepicker__month-read-view",onClick:n.toggleDropdown},nt.createElement("span",{className:"react-datepicker__month-read-view--down-arrow"}),nt.createElement("span",{className:"react-datepicker__month-read-view--selected-month"},r[n.props.month]))},n.renderDropdown=function(a){return nt.createElement(N5e,Za({key:"dropdown"},n.props,{monthNames:a,onChange:n.onChange,onCancel:n.toggleDropdown}))},n.renderScrollMode=function(a){var r=n.state.dropdownVisible,i=[n.renderReadView(!r,a)];return r&&i.unshift(n.renderDropdown(a)),i},n.onChange=function(a){n.toggleDropdown(),a!==n.props.month&&n.props.onChange(a)},n.toggleDropdown=function(){return n.setState({dropdownVisible:!n.state.dropdownVisible})},n}return t.prototype.render=function(){var n=this,a=[0,1,2,3,4,5,6,7,8,9,10,11].map(this.props.useShortMonthInDropdown?function(i){return JL(i,n.props.locale)}:function(i){return D4(i,n.props.locale)}),r;switch(this.props.dropdownMode){case"scroll":r=this.renderScrollMode(a);break;case"select":r=this.renderSelectMode(a);break}return nt.createElement("div",{className:"react-datepicker__month-dropdown-container react-datepicker__month-dropdown-container--".concat(this.props.dropdownMode)},r)},t}(_.Component);function I5e(e,t){for(var n=[],a=Cu(e),r=Cu(t);!Bd(a,r);)n.push(lr(a)),a=il(a,1);return n}var E5e=function(e){Yi(t,e);function t(n){var a=e.call(this,n)||this;return a.renderOptions=function(){return a.state.monthYearsList.map(function(r){var i=XS(r),o=Sl(a.props.date,r)&&jo(a.props.date,r);return nt.createElement("div",{className:o?"react-datepicker__month-year-option--selected_month-year":"react-datepicker__month-year-option",key:i,onClick:a.onChange.bind(a,i),"aria-selected":o?"true":void 0},o?nt.createElement("span",{className:"react-datepicker__month-year-option--selected"},""):"",Gr(r,a.props.dateFormat,a.props.locale))})},a.onChange=function(r){return a.props.onChange(r)},a.handleClickOutside=function(){a.props.onCancel()},a.state={monthYearsList:I5e(a.props.minDate,a.props.maxDate)},a}return t.prototype.render=function(){var n=to({"react-datepicker__month-year-dropdown":!0,"react-datepicker__month-year-dropdown--scrollable":this.props.scrollableMonthYearDropdown});return nt.createElement(yy,{className:n,onClickOutside:this.handleClickOutside},this.renderOptions())},t}(_.Component),T5e=function(e){Yi(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.state={dropdownVisible:!1},n.renderSelectOptions=function(){for(var a=Cu(n.props.minDate),r=Cu(n.props.maxDate),i=[];!Bd(a,r);){var o=XS(a);i.push(nt.createElement("option",{key:o,value:o},Gr(a,n.props.dateFormat,n.props.locale))),a=il(a,1)}return i},n.onSelectChange=function(a){n.onChange(parseInt(a.target.value))},n.renderSelectMode=function(){return nt.createElement("select",{value:XS(Cu(n.props.date)),className:"react-datepicker__month-year-select",onChange:n.onSelectChange},n.renderSelectOptions())},n.renderReadView=function(a){var r=Gr(n.props.date,n.props.dateFormat,n.props.locale);return nt.createElement("div",{key:"read",style:{visibility:a?"visible":"hidden"},className:"react-datepicker__month-year-read-view",onClick:n.toggleDropdown},nt.createElement("span",{className:"react-datepicker__month-year-read-view--down-arrow"}),nt.createElement("span",{className:"react-datepicker__month-year-read-view--selected-month-year"},r))},n.renderDropdown=function(){return nt.createElement(E5e,Za({key:"dropdown"},n.props,{onChange:n.onChange,onCancel:n.toggleDropdown}))},n.renderScrollMode=function(){var a=n.state.dropdownVisible,r=[n.renderReadView(!a)];return a&&r.unshift(n.renderDropdown()),r},n.onChange=function(a){n.toggleDropdown();var r=lr(a);Sl(n.props.date,r)&&jo(n.props.date,r)||n.props.onChange(r)},n.toggleDropdown=function(){return n.setState({dropdownVisible:!n.state.dropdownVisible})},n}return t.prototype.render=function(){var n;switch(this.props.dropdownMode){case"scroll":n=this.renderScrollMode();break;case"select":n=this.renderSelectMode();break}return nt.createElement("div",{className:"react-datepicker__month-year-dropdown-container react-datepicker__month-year-dropdown-container--".concat(this.props.dropdownMode)},n)},t}(_.Component),D5e=function(e){Yi(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.state={height:null},n.scrollToTheSelectedTime=function(){requestAnimationFrame(function(){var a,r,i;n.list&&(n.list.scrollTop=(i=n.centerLi&&t.calcCenterPosition(n.props.monthRef?n.props.monthRef.clientHeight-((r=(a=n.header)===null||a===void 0?void 0:a.clientHeight)!==null&&r!==void 0?r:0):n.list.clientHeight,n.centerLi))!==null&&i!==void 0?i:0)})},n.handleClick=function(a){var r,i;(n.props.minTime||n.props.maxTime)&&r7(a,n.props)||(n.props.excludeTimes||n.props.includeTimes||n.props.filterTime)&&a7(a,n.props)||(i=(r=n.props).onChange)===null||i===void 0||i.call(r,a)},n.isSelectedTime=function(a){return n.props.selected&&x5e(n.props.selected,a)},n.isDisabledTime=function(a){return(n.props.minTime||n.props.maxTime)&&r7(a,n.props)||(n.props.excludeTimes||n.props.includeTimes||n.props.filterTime)&&a7(a,n.props)},n.liClasses=function(a){var r,i=["react-datepicker__time-list-item",n.props.timeClassName?n.props.timeClassName(a):void 0];return n.isSelectedTime(a)&&i.push("react-datepicker__time-list-item--selected"),n.isDisabledTime(a)&&i.push("react-datepicker__time-list-item--disabled"),n.props.injectTimes&&(wu(a)*3600+ju(a)*60+Id(a))%(((r=n.props.intervals)!==null&&r!==void 0?r:t.defaultProps.intervals)*60)!==0&&i.push("react-datepicker__time-list-item--injected"),i.join(" ")},n.handleOnKeyDown=function(a,r){var i,o;a.key===ns.Space&&(a.preventDefault(),a.key=ns.Enter),(a.key===ns.ArrowUp||a.key===ns.ArrowLeft)&&a.target instanceof HTMLElement&&a.target.previousSibling&&(a.preventDefault(),a.target.previousSibling instanceof HTMLElement&&a.target.previousSibling.focus()),(a.key===ns.ArrowDown||a.key===ns.ArrowRight)&&a.target instanceof HTMLElement&&a.target.nextSibling&&(a.preventDefault(),a.target.nextSibling instanceof HTMLElement&&a.target.nextSibling.focus()),a.key===ns.Enter&&n.handleClick(r),(o=(i=n.props).handleOnKeyDown)===null||o===void 0||o.call(i,a)},n.renderTimes=function(){for(var a,r=[],i=typeof n.props.format=="string"?n.props.format:"p",o=(a=n.props.intervals)!==null&&a!==void 0?a:t.defaultProps.intervals,c=n.props.selected||n.props.openToDate||lr(),l=ax(c),d=n.props.injectTimes&&n.props.injectTimes.sort(function(k,E){return k.getTime()-E.getTime()}),f=60*v5e(c),g=f/o,b=0;b<g;b++){var w=YS(l,b*o);if(r.push(w),d){var C=_5e(l,w,b,o,d);r=r.concat(C)}}var S=r.reduce(function(k,E){return E.getTime()<=c.getTime()?E:k},r[0]);return r.map(function(k){return nt.createElement("li",{key:k.valueOf(),onClick:n.handleClick.bind(n,k),className:n.liClasses(k),ref:function(E){k===S&&(n.centerLi=E)},onKeyDown:function(E){n.handleOnKeyDown(E,k)},tabIndex:k===S?0:-1,role:"option","aria-selected":n.isSelectedTime(k)?"true":void 0,"aria-disabled":n.isDisabledTime(k)?"true":void 0},Gr(k,i,n.props.locale))})},n.renderTimeCaption=function(){return n.props.showTimeCaption===!1?nt.createElement(nt.Fragment,null):nt.createElement("div",{className:"react-datepicker__header react-datepicker__header--time ".concat(n.props.showTimeSelectOnly?"react-datepicker__header--time--only":""),ref:function(a){n.header=a}},nt.createElement("div",{className:"react-datepicker-time__header"},n.props.timeCaption))},n}return Object.defineProperty(t,"defaultProps",{get:function(){return{intervals:30,todayButton:null,timeCaption:"Time",showTimeCaption:!0}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){this.scrollToTheSelectedTime(),this.observeDatePickerHeightChanges()},t.prototype.componentWillUnmount=function(){var n;(n=this.resizeObserver)===null||n===void 0||n.disconnect()},t.prototype.observeDatePickerHeightChanges=function(){var n=this,a=this.props.monthRef;this.updateContainerHeight(),a&&(this.resizeObserver=new ResizeObserver(function(){n.updateContainerHeight()}),this.resizeObserver.observe(a))},t.prototype.updateContainerHeight=function(){this.props.monthRef&&this.header&&this.setState({height:this.props.monthRef.clientHeight-this.header.clientHeight})},t.prototype.render=function(){var n=this,a,r=this.state.height;return nt.createElement("div",{className:"react-datepicker__time-container ".concat(((a=this.props.todayButton)!==null&&a!==void 0?a:t.defaultProps.todayButton)?"react-datepicker__time-container--with-today-button":"")},this.renderTimeCaption(),nt.createElement("div",{className:"react-datepicker__time"},nt.createElement("div",{className:"react-datepicker__time-box"},nt.createElement("ul",{className:"react-datepicker__time-list",ref:function(i){n.list=i},style:r?{height:r}:{},role:"listbox","aria-label":this.props.timeCaption},this.renderTimes()))))},t.calcCenterPosition=function(n,a){return a.offsetTop-(n/2-a.clientHeight/2)},t}(_.Component),g7=3,A5e=function(e){Yi(t,e);function t(n){var a=e.call(this,n)||this;return a.YEAR_REFS=Tl([],Array(a.props.yearItemNumber),!0).map(function(){return _.createRef()}),a.isDisabled=function(r){return Dc(r,{minDate:a.props.minDate,maxDate:a.props.maxDate,excludeDates:a.props.excludeDates,includeDates:a.props.includeDates,filterDate:a.props.filterDate})},a.isExcluded=function(r){return A4(r,{excludeDates:a.props.excludeDates})},a.selectingDate=function(){var r;return(r=a.props.selectingDate)!==null&&r!==void 0?r:a.props.preSelection},a.updateFocusOnPaginate=function(r){var i=function(){var o,c;(c=(o=a.YEAR_REFS[r])===null||o===void 0?void 0:o.current)===null||c===void 0||c.focus()};window.requestAnimationFrame(i)},a.handleYearClick=function(r,i){a.props.onDayClick&&a.props.onDayClick(r,i)},a.handleYearNavigation=function(r,i){var o,c,l,d,f=a.props,g=f.date,b=f.yearItemNumber;if(!(g===void 0||b===void 0)){var w=jd(g,b).startPeriod;a.isDisabled(i)||a.isExcluded(i)||((c=(o=a.props).setPreSelection)===null||c===void 0||c.call(o,i),r-w<0?a.updateFocusOnPaginate(b-(w-r)):r-w>=b?a.updateFocusOnPaginate(Math.abs(b-(r-w))):(d=(l=a.YEAR_REFS[r-w])===null||l===void 0?void 0:l.current)===null||d===void 0||d.focus())}},a.isSameDay=function(r,i){return Ka(r,i)},a.isCurrentYear=function(r){return r===ja(lr())},a.isRangeStart=function(r){return a.props.startDate&&a.props.endDate&&Sl(jl(lr(),r),a.props.startDate)},a.isRangeEnd=function(r){return a.props.startDate&&a.props.endDate&&Sl(jl(lr(),r),a.props.endDate)},a.isInRange=function(r){return pv(r,a.props.startDate,a.props.endDate)},a.isInSelectingRange=function(r){var i=a.props,o=i.selectsStart,c=i.selectsEnd,l=i.selectsRange,d=i.startDate,f=i.endDate;return!(o||c||l)||!a.selectingDate()?!1:o&&f?pv(r,a.selectingDate(),f):c&&d||l&&d&&!f?pv(r,d,a.selectingDate()):!1},a.isSelectingRangeStart=function(r){var i;if(!a.isInSelectingRange(r))return!1;var o=a.props,c=o.startDate,l=o.selectsStart,d=jl(lr(),r);return l?Sl(d,(i=a.selectingDate())!==null&&i!==void 0?i:null):Sl(d,c??null)},a.isSelectingRangeEnd=function(r){var i;if(!a.isInSelectingRange(r))return!1;var o=a.props,c=o.endDate,l=o.selectsEnd,d=o.selectsRange,f=jl(lr(),r);return l||d?Sl(f,(i=a.selectingDate())!==null&&i!==void 0?i:null):Sl(f,c??null)},a.isKeyboardSelected=function(r){if(!(a.props.date===void 0||a.props.selected==null||a.props.preSelection==null)){var i=a.props,o=i.minDate,c=i.maxDate,l=i.excludeDates,d=i.includeDates,f=i.filterDate,g=Z1(jl(a.props.date,r)),b=(o||c||l||d||f)&&rx(r,a.props);return!a.props.disabledKeyboardNavigation&&!a.props.inline&&!Ka(g,Z1(a.props.selected))&&Ka(g,Z1(a.props.preSelection))&&!b}},a.isSelectedYear=function(r){var i=a.props,o=i.selectsMultiple,c=i.selected,l=i.selectedDates;return o?l==null?void 0:l.some(function(d){return r===ja(d)}):!!c&&r===ja(c)},a.onYearClick=function(r,i){var o=a.props.date;o!==void 0&&a.handleYearClick(Z1(jl(o,i)),r)},a.onYearKeyDown=function(r,i){var o,c,l=r.key,d=a.props,f=d.date,g=d.yearItemNumber,b=d.handleOnKeyDown;if(l!==ns.Tab&&r.preventDefault(),!a.props.disabledKeyboardNavigation)switch(l){case ns.Enter:if(a.props.selected==null)break;a.onYearClick(r,i),(c=(o=a.props).setPreSelection)===null||c===void 0||c.call(o,a.props.selected);break;case ns.ArrowRight:if(a.props.preSelection==null)break;a.handleYearNavigation(i+1,bu(a.props.preSelection,1));break;case ns.ArrowLeft:if(a.props.preSelection==null)break;a.handleYearNavigation(i-1,Lm(a.props.preSelection,1));break;case ns.ArrowUp:{if(f===void 0||g===void 0||a.props.preSelection==null)break;var w=jd(f,g).startPeriod,C=g7,S=i-C;if(S<w){var k=g%C;i>=w&&i<w+k?C=k:C+=k,S=i-C}a.handleYearNavigation(S,Lm(a.props.preSelection,C));break}case ns.ArrowDown:{if(f===void 0||g===void 0||a.props.preSelection==null)break;var E=jd(f,g).endPeriod,C=g7,S=i+C;if(S>E){var k=g%C;i<=E&&i>E-k?C=k:C+=k,S=i+C}a.handleYearNavigation(S,bu(a.props.preSelection,C));break}}b&&b(r)},a.getYearClassNames=function(r){var i=a.props,o=i.date,c=i.minDate,l=i.maxDate,d=i.excludeDates,f=i.includeDates,g=i.filterDate,b=i.yearClassName;return to("react-datepicker__year-text","react-datepicker__year-".concat(r),o?b==null?void 0:b(jl(o,r)):void 0,{"react-datepicker__year-text--selected":a.isSelectedYear(r),"react-datepicker__year-text--disabled":(c||l||d||f||g)&&rx(r,a.props),"react-datepicker__year-text--keyboard-selected":a.isKeyboardSelected(r),"react-datepicker__year-text--range-start":a.isRangeStart(r),"react-datepicker__year-text--range-end":a.isRangeEnd(r),"react-datepicker__year-text--in-range":a.isInRange(r),"react-datepicker__year-text--in-selecting-range":a.isInSelectingRange(r),"react-datepicker__year-text--selecting-range-start":a.isSelectingRangeStart(r),"react-datepicker__year-text--selecting-range-end":a.isSelectingRangeEnd(r),"react-datepicker__year-text--today":a.isCurrentYear(r)})},a.getYearTabIndex=function(r){if(a.props.disabledKeyboardNavigation||a.props.preSelection==null)return"-1";var i=ja(a.props.preSelection),o=rx(r,a.props);return r===i&&!o?"0":"-1"},a.getYearContent=function(r){return a.props.renderYearContent?a.props.renderYearContent(r):r},a}return t.prototype.render=function(){var n=this,a=[],r=this.props,i=r.date,o=r.yearItemNumber,c=r.onYearMouseEnter,l=r.onYearMouseLeave;if(i===void 0)return null;for(var d=jd(i,o),f=d.startPeriod,g=d.endPeriod,b=function(S){a.push(nt.createElement("div",{ref:w.YEAR_REFS[S-f],onClick:function(k){n.onYearClick(k,S)},onKeyDown:function(k){s$(k)&&(k.preventDefault(),k.key=ns.Enter),n.onYearKeyDown(k,S)},tabIndex:Number(w.getYearTabIndex(S)),className:w.getYearClassNames(S),onMouseEnter:w.props.usePointerEvent?void 0:function(k){return c(k,S)},onPointerEnter:w.props.usePointerEvent?function(k){return c(k,S)}:void 0,onMouseLeave:w.props.usePointerEvent?void 0:function(k){return l(k,S)},onPointerLeave:w.props.usePointerEvent?function(k){return l(k,S)}:void 0,key:S,"aria-current":w.isCurrentYear(S)?"date":void 0},w.getYearContent(S)))},w=this,C=f;C<=g;C++)b(C);return nt.createElement("div",{className:"react-datepicker__year"},nt.createElement("div",{className:"react-datepicker__year-wrapper",onMouseLeave:this.props.usePointerEvent?void 0:this.props.clearSelectingDate,onPointerLeave:this.props.usePointerEvent?this.props.clearSelectingDate:void 0},a))},t}(_.Component);function M5e(e,t,n,a){for(var r=[],i=0;i<2*t+1;i++){var o=e+t-i,c=!0;n&&(c=ja(n)<=o),a&&c&&(c=ja(a)>=o),c&&r.push(o)}return r}var R5e=function(e){Yi(t,e);function t(n){var a=e.call(this,n)||this;a.renderOptions=function(){var c=a.props.year,l=a.state.yearsList.map(function(g){return nt.createElement("div",{className:c===g?"react-datepicker__year-option react-datepicker__year-option--selected_year":"react-datepicker__year-option",key:g,onClick:a.onChange.bind(a,g),"aria-selected":c===g?"true":void 0},c===g?nt.createElement("span",{className:"react-datepicker__year-option--selected"},""):"",g)}),d=a.props.minDate?ja(a.props.minDate):null,f=a.props.maxDate?ja(a.props.maxDate):null;return(!f||!a.state.yearsList.find(function(g){return g===f}))&&l.unshift(nt.createElement("div",{className:"react-datepicker__year-option",key:"upcoming",onClick:a.incrementYears},nt.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-upcoming"}))),(!d||!a.state.yearsList.find(function(g){return g===d}))&&l.push(nt.createElement("div",{className:"react-datepicker__year-option",key:"previous",onClick:a.decrementYears},nt.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-previous"}))),l},a.onChange=function(c){a.props.onChange(c)},a.handleClickOutside=function(){a.props.onCancel()},a.shiftYears=function(c){var l=a.state.yearsList.map(function(d){return d+c});a.setState({yearsList:l})},a.incrementYears=function(){return a.shiftYears(1)},a.decrementYears=function(){return a.shiftYears(-1)};var r=n.yearDropdownItemNumber,i=n.scrollableYearDropdown,o=r||(i?10:5);return a.state={yearsList:M5e(a.props.year,o,a.props.minDate,a.props.maxDate)},a.dropdownRef=_.createRef(),a}return t.prototype.componentDidMount=function(){var n=this.dropdownRef.current;if(n){var a=n.children?Array.from(n.children):null,r=a?a.find(function(i){return i.ariaSelected}):null;n.scrollTop=r&&r instanceof HTMLElement?r.offsetTop+(r.clientHeight-n.clientHeight)/2:(n.scrollHeight-n.clientHeight)/2}},t.prototype.render=function(){var n=to({"react-datepicker__year-dropdown":!0,"react-datepicker__year-dropdown--scrollable":this.props.scrollableYearDropdown});return nt.createElement(yy,{className:n,containerRef:this.dropdownRef,onClickOutside:this.handleClickOutside},this.renderOptions())},t}(_.Component),B5e=function(e){Yi(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.state={dropdownVisible:!1},n.renderSelectOptions=function(){for(var a=n.props.minDate?ja(n.props.minDate):1900,r=n.props.maxDate?ja(n.props.maxDate):2100,i=[],o=a;o<=r;o++)i.push(nt.createElement("option",{key:o,value:o},o));return i},n.onSelectChange=function(a){n.onChange(parseInt(a.target.value))},n.renderSelectMode=function(){return nt.createElement("select",{value:n.props.year,className:"react-datepicker__year-select",onChange:n.onSelectChange},n.renderSelectOptions())},n.renderReadView=function(a){return nt.createElement("div",{key:"read",style:{visibility:a?"visible":"hidden"},className:"react-datepicker__year-read-view",onClick:function(r){return n.toggleDropdown(r)}},nt.createElement("span",{className:"react-datepicker__year-read-view--down-arrow"}),nt.createElement("span",{className:"react-datepicker__year-read-view--selected-year"},n.props.year))},n.renderDropdown=function(){return nt.createElement(R5e,Za({key:"dropdown"},n.props,{onChange:n.onChange,onCancel:n.toggleDropdown}))},n.renderScrollMode=function(){var a=n.state.dropdownVisible,r=[n.renderReadView(!a)];return a&&r.unshift(n.renderDropdown()),r},n.onChange=function(a){n.toggleDropdown(),a!==n.props.year&&n.props.onChange(a)},n.toggleDropdown=function(a){n.setState({dropdownVisible:!n.state.dropdownVisible},function(){n.props.adjustDateOnChange&&n.handleYearChange(n.props.date,a)})},n.handleYearChange=function(a,r){var i;(i=n.onSelect)===null||i===void 0||i.call(n,a,r),n.setOpen()},n.onSelect=function(a,r){var i,o;(o=(i=n.props).onSelect)===null||o===void 0||o.call(i,a,r)},n.setOpen=function(){var a,r;(r=(a=n.props).setOpen)===null||r===void 0||r.call(a,!0)},n}return t.prototype.render=function(){var n;switch(this.props.dropdownMode){case"scroll":n=this.renderScrollMode();break;case"select":n=this.renderSelectMode();break}return nt.createElement("div",{className:"react-datepicker__year-dropdown-container react-datepicker__year-dropdown-container--".concat(this.props.dropdownMode)},n)},t}(_.Component),O5e=["react-datepicker__year-select","react-datepicker__month-select","react-datepicker__month-year-select"],L5e=function(e){var t=(e.className||"").split(/\s+/);return O5e.some(function(n){return t.indexOf(n)>=0})},$5e=function(e){Yi(t,e);function t(n){var a=e.call(this,n)||this;return a.monthContainer=void 0,a.handleClickOutside=function(r){a.props.onClickOutside(r)},a.setClickOutsideRef=function(){return a.containerRef.current},a.handleDropdownFocus=function(r){var i,o;L5e(r.target)&&((o=(i=a.props).onDropdownFocus)===null||o===void 0||o.call(i,r))},a.getDateInView=function(){var r=a.props,i=r.preSelection,o=r.selected,c=r.openToDate,l=t$(a.props),d=n$(a.props),f=lr(),g=c||o||i;return g||(l&&Kh(f,l)?l:d&&Bd(f,d)?d:f)},a.increaseMonth=function(){a.setState(function(r){var i=r.date;return{date:il(i,1)}},function(){return a.handleMonthChange(a.state.date)})},a.decreaseMonth=function(){a.setState(function(r){var i=r.date;return{date:Ph(i,1)}},function(){return a.handleMonthChange(a.state.date)})},a.handleDayClick=function(r,i,o){a.props.onSelect(r,i,o),a.props.setPreSelection&&a.props.setPreSelection(r)},a.handleDayMouseEnter=function(r){a.setState({selectingDate:r}),a.props.onDayMouseEnter&&a.props.onDayMouseEnter(r)},a.handleMonthMouseLeave=function(){a.setState({selectingDate:void 0}),a.props.onMonthMouseLeave&&a.props.onMonthMouseLeave()},a.handleYearMouseEnter=function(r,i){a.setState({selectingDate:jl(lr(),i)}),a.props.onYearMouseEnter&&a.props.onYearMouseEnter(r,i)},a.handleYearMouseLeave=function(r,i){a.props.onYearMouseLeave&&a.props.onYearMouseLeave(r,i)},a.handleYearChange=function(r){var i,o,c,l;(o=(i=a.props).onYearChange)===null||o===void 0||o.call(i,r),a.setState({isRenderAriaLiveMessage:!0}),a.props.adjustDateOnChange&&(a.props.onSelect(r),(l=(c=a.props).setOpen)===null||l===void 0||l.call(c,!0)),a.props.setPreSelection&&a.props.setPreSelection(r)},a.getEnabledPreSelectionDateForMonth=function(r){if(!Dc(r,a.props))return r;for(var i=Cu(r),o=r5e(r),c=g3e(o,i),l=null,d=0;d<=c;d++){var f=tl(i,d);if(!Dc(f,a.props)){l=f;break}}return l},a.handleMonthChange=function(r){var i,o,c,l=(i=a.getEnabledPreSelectionDateForMonth(r))!==null&&i!==void 0?i:r;a.handleCustomMonthChange(l),a.props.adjustDateOnChange&&(a.props.onSelect(l),(c=(o=a.props).setOpen)===null||c===void 0||c.call(o,!0)),a.props.setPreSelection&&a.props.setPreSelection(l)},a.handleCustomMonthChange=function(r){var i,o;(o=(i=a.props).onMonthChange)===null||o===void 0||o.call(i,r),a.setState({isRenderAriaLiveMessage:!0})},a.handleMonthYearChange=function(r){a.handleYearChange(r),a.handleMonthChange(r)},a.changeYear=function(r){a.setState(function(i){var o=i.date;return{date:jl(o,Number(r))}},function(){return a.handleYearChange(a.state.date)})},a.changeMonth=function(r){a.setState(function(i){var o=i.date;return{date:Ec(o,Number(r))}},function(){return a.handleMonthChange(a.state.date)})},a.changeMonthYear=function(r){a.setState(function(i){var o=i.date;return{date:jl(Ec(o,po(r)),ja(r))}},function(){return a.handleMonthYearChange(a.state.date)})},a.header=function(r){r===void 0&&(r=a.state.date);var i=Ed(r,a.props.locale,a.props.calendarStartDay),o=[];return a.props.showWeekNumbers&&o.push(nt.createElement("div",{key:"W",className:"react-datepicker__day-name"},a.props.weekLabel||"#")),o.concat([0,1,2,3,4,5,6].map(function(c){var l=tl(i,c),d=a.formatWeekday(l,a.props.locale),f=a.props.weekDayClassName?a.props.weekDayClassName(l):void 0;return nt.createElement("div",{key:c,"aria-label":Gr(l,"EEEE",a.props.locale),className:to("react-datepicker__day-name",f)},d)}))},a.formatWeekday=function(r,i){return a.props.formatWeekDay?i5e(r,a.props.formatWeekDay,i):a.props.useWeekdaysShort?c5e(r,i):o5e(r,i)},a.decreaseYear=function(){a.setState(function(r){var i,o=r.date;return{date:Lm(o,a.props.showYearPicker?(i=a.props.yearItemNumber)!==null&&i!==void 0?i:t.defaultProps.yearItemNumber:1)}},function(){return a.handleYearChange(a.state.date)})},a.clearSelectingDate=function(){a.setState({selectingDate:void 0})},a.renderPreviousButton=function(){var r,i,o;if(!a.props.renderCustomHeader){var c=(r=a.props.monthsShown)!==null&&r!==void 0?r:t.defaultProps.monthsShown,l=a.props.showPreviousMonths?c-1:0,d=(i=a.props.monthSelectedIn)!==null&&i!==void 0?i:l,f=Ph(a.state.date,d),g;switch(!0){case a.props.showMonthYearPicker:g=c7(a.state.date,a.props);break;case a.props.showYearPicker:g=f5e(a.state.date,a.props);break;case a.props.showQuarterYearPicker:g=d5e(a.state.date,a.props);break;default:g=i7(f,a.props);break}if(!(!((o=a.props.forceShowMonthNavigation)!==null&&o!==void 0?o:t.defaultProps.forceShowMonthNavigation)&&!a.props.showDisabledMonthNavigation&&g||a.props.showTimeSelectOnly)){var b=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--previous"],w=["react-datepicker__navigation","react-datepicker__navigation--previous"],C=a.decreaseMonth;(a.props.showMonthYearPicker||a.props.showQuarterYearPicker||a.props.showYearPicker)&&(C=a.decreaseYear),g&&a.props.showDisabledMonthNavigation&&(w.push("react-datepicker__navigation--previous--disabled"),C=void 0);var S=a.props.showMonthYearPicker||a.props.showQuarterYearPicker||a.props.showYearPicker,k=a.props,E=k.previousMonthButtonLabel,D=E===void 0?t.defaultProps.previousMonthButtonLabel:E,R=k.previousYearButtonLabel,P=R===void 0?t.defaultProps.previousYearButtonLabel:R,B=a.props,O=B.previousMonthAriaLabel,$=O===void 0?typeof D=="string"?D:"Previous Month":O,U=B.previousYearAriaLabel,F=U===void 0?typeof P=="string"?P:"Previous Year":U;return nt.createElement("button",{type:"button",className:w.join(" "),onClick:C,onKeyDown:a.props.handleOnKeyDown,"aria-label":S?F:$},nt.createElement("span",{className:b.join(" ")},S?P:D))}}},a.increaseYear=function(){a.setState(function(r){var i,o=r.date;return{date:bu(o,a.props.showYearPicker?(i=a.props.yearItemNumber)!==null&&i!==void 0?i:t.defaultProps.yearItemNumber:1)}},function(){return a.handleYearChange(a.state.date)})},a.renderNextButton=function(){var r;if(!a.props.renderCustomHeader){var i;switch(!0){case a.props.showMonthYearPicker:i=l7(a.state.date,a.props);break;case a.props.showYearPicker:i=m5e(a.state.date,a.props);break;case a.props.showQuarterYearPicker:i=h5e(a.state.date,a.props);break;default:i=o7(a.state.date,a.props);break}if(!(!((r=a.props.forceShowMonthNavigation)!==null&&r!==void 0?r:t.defaultProps.forceShowMonthNavigation)&&!a.props.showDisabledMonthNavigation&&i||a.props.showTimeSelectOnly)){var o=["react-datepicker__navigation","react-datepicker__navigation--next"],c=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--next"];a.props.showTimeSelect&&o.push("react-datepicker__navigation--next--with-time"),a.props.todayButton&&o.push("react-datepicker__navigation--next--with-today-button");var l=a.increaseMonth;(a.props.showMonthYearPicker||a.props.showQuarterYearPicker||a.props.showYearPicker)&&(l=a.increaseYear),i&&a.props.showDisabledMonthNavigation&&(o.push("react-datepicker__navigation--next--disabled"),l=void 0);var d=a.props.showMonthYearPicker||a.props.showQuarterYearPicker||a.props.showYearPicker,f=a.props,g=f.nextMonthButtonLabel,b=g===void 0?t.defaultProps.nextMonthButtonLabel:g,w=f.nextYearButtonLabel,C=w===void 0?t.defaultProps.nextYearButtonLabel:w,S=a.props,k=S.nextMonthAriaLabel,E=k===void 0?typeof b=="string"?b:"Next Month":k,D=S.nextYearAriaLabel,R=D===void 0?typeof C=="string"?C:"Next Year":D;return nt.createElement("button",{type:"button",className:o.join(" "),onClick:l,onKeyDown:a.props.handleOnKeyDown,"aria-label":d?R:E},nt.createElement("span",{className:c.join(" ")},d?C:b))}}},a.renderCurrentMonth=function(r){r===void 0&&(r=a.state.date);var i=["react-datepicker__current-month"];return a.props.showYearDropdown&&i.push("react-datepicker__current-month--hasYearDropdown"),a.props.showMonthDropdown&&i.push("react-datepicker__current-month--hasMonthDropdown"),a.props.showMonthYearDropdown&&i.push("react-datepicker__current-month--hasMonthYearDropdown"),nt.createElement("h2",{className:i.join(" ")},Gr(r,a.props.dateFormat,a.props.locale))},a.renderYearDropdown=function(r){if(r===void 0&&(r=!1),!(!a.props.showYearDropdown||r))return nt.createElement(B5e,Za({},t.defaultProps,a.props,{date:a.state.date,onChange:a.changeYear,year:ja(a.state.date)}))},a.renderMonthDropdown=function(r){if(r===void 0&&(r=!1),!(!a.props.showMonthDropdown||r))return nt.createElement(k5e,Za({},t.defaultProps,a.props,{month:po(a.state.date),onChange:a.changeMonth}))},a.renderMonthYearDropdown=function(r){if(r===void 0&&(r=!1),!(!a.props.showMonthYearDropdown||r))return nt.createElement(T5e,Za({},t.defaultProps,a.props,{date:a.state.date,onChange:a.changeMonthYear}))},a.handleTodayButtonClick=function(r){a.props.onSelect(t7(),r),a.props.setPreSelection&&a.props.setPreSelection(t7())},a.renderTodayButton=function(){if(!(!a.props.todayButton||a.props.showTimeSelectOnly))return nt.createElement("div",{className:"react-datepicker__today-button",onClick:a.handleTodayButtonClick},a.props.todayButton)},a.renderDefaultHeader=function(r){var i=r.monthDate,o=r.i;return nt.createElement("div",{className:"react-datepicker__header ".concat(a.props.showTimeSelect?"react-datepicker__header--has-time-select":"")},a.renderCurrentMonth(i),nt.createElement("div",{className:"react-datepicker__header__dropdown react-datepicker__header__dropdown--".concat(a.props.dropdownMode),onFocus:a.handleDropdownFocus},a.renderMonthDropdown(o!==0),a.renderMonthYearDropdown(o!==0),a.renderYearDropdown(o!==0)),nt.createElement("div",{className:"react-datepicker__day-names"},a.header(i)))},a.renderCustomHeader=function(r){var i,o,c=r.monthDate,l=r.i;if(a.props.showTimeSelect&&!a.state.monthContainer||a.props.showTimeSelectOnly)return null;var d=i7(a.state.date,a.props),f=o7(a.state.date,a.props),g=c7(a.state.date,a.props),b=l7(a.state.date,a.props),w=!a.props.showMonthYearPicker&&!a.props.showQuarterYearPicker&&!a.props.showYearPicker;return nt.createElement("div",{className:"react-datepicker__header react-datepicker__header--custom",onFocus:a.props.onDropdownFocus},(o=(i=a.props).renderCustomHeader)===null||o===void 0?void 0:o.call(i,Za(Za({},a.state),{customHeaderCount:l,monthDate:c,changeMonth:a.changeMonth,changeYear:a.changeYear,decreaseMonth:a.decreaseMonth,increaseMonth:a.increaseMonth,decreaseYear:a.decreaseYear,increaseYear:a.increaseYear,prevMonthButtonDisabled:d,nextMonthButtonDisabled:f,prevYearButtonDisabled:g,nextYearButtonDisabled:b})),w&&nt.createElement("div",{className:"react-datepicker__day-names"},a.header(c)))},a.renderYearHeader=function(r){var i=r.monthDate,o=a.props,c=o.showYearPicker,l=o.yearItemNumber,d=l===void 0?t.defaultProps.yearItemNumber:l,f=jd(i,d),g=f.startPeriod,b=f.endPeriod;return nt.createElement("div",{className:"react-datepicker__header react-datepicker-year-header"},c?"".concat(g," - ").concat(b):ja(i))},a.renderHeader=function(r){var i=r.monthDate,o=r.i,c=o===void 0?0:o,l={monthDate:i,i:c};switch(!0){case a.props.renderCustomHeader!==void 0:return a.renderCustomHeader(l);case(a.props.showMonthYearPicker||a.props.showQuarterYearPicker||a.props.showYearPicker):return a.renderYearHeader(l);default:return a.renderDefaultHeader(l)}},a.renderMonths=function(){var r,i;if(!(a.props.showTimeSelectOnly||a.props.showYearPicker)){for(var o=[],c=(r=a.props.monthsShown)!==null&&r!==void 0?r:t.defaultProps.monthsShown,l=a.props.showPreviousMonths?c-1:0,d=a.props.showMonthYearPicker||a.props.showQuarterYearPicker?bu(a.state.date,l):Ph(a.state.date,l),f=(i=a.props.monthSelectedIn)!==null&&i!==void 0?i:l,g=0;g<c;++g){var b=g-f+l,w=a.props.showMonthYearPicker||a.props.showQuarterYearPicker?bu(d,b):il(d,b),C="month-".concat(g),S=g<c-1,k=g>0;o.push(nt.createElement("div",{key:C,ref:function(E){a.monthContainer=E??void 0},className:"react-datepicker__month-container"},a.renderHeader({monthDate:w,i:g}),nt.createElement(S5e,Za({},t.defaultProps,a.props,{containerRef:a.containerRef,ariaLabelPrefix:a.props.monthAriaLabelPrefix,day:w,onDayClick:a.handleDayClick,handleOnKeyDown:a.props.handleOnDayKeyDown,handleOnMonthKeyDown:a.props.handleOnKeyDown,onDayMouseEnter:a.handleDayMouseEnter,onMouseLeave:a.handleMonthMouseLeave,orderInDisplay:g,selectingDate:a.state.selectingDate,monthShowsDuplicateDaysEnd:S,monthShowsDuplicateDaysStart:k}))))}return o}},a.renderYears=function(){if(!a.props.showTimeSelectOnly&&a.props.showYearPicker)return nt.createElement("div",{className:"react-datepicker__year--container"},a.renderHeader({monthDate:a.state.date}),nt.createElement(A5e,Za({},t.defaultProps,a.props,{selectingDate:a.state.selectingDate,date:a.state.date,onDayClick:a.handleDayClick,clearSelectingDate:a.clearSelectingDate,onYearMouseEnter:a.handleYearMouseEnter,onYearMouseLeave:a.handleYearMouseLeave})))},a.renderTimeSection=function(){if(a.props.showTimeSelect&&(a.state.monthContainer||a.props.showTimeSelectOnly))return nt.createElement(D5e,Za({},t.defaultProps,a.props,{onChange:a.props.onTimeChange,format:a.props.timeFormat,intervals:a.props.timeIntervals,monthRef:a.state.monthContainer}))},a.renderInputTimeSection=function(){var r=a.props.selected?new Date(a.props.selected):void 0,i=r&&wy(r)&&!!a.props.selected,o=i?"".concat(d7(r.getHours()),":").concat(d7(r.getMinutes())):"";if(a.props.showTimeInput)return nt.createElement(b5e,Za({},t.defaultProps,a.props,{date:r,timeString:o,onChange:a.props.onTimeChange}))},a.renderAriaLiveRegion=function(){var r,i=jd(a.state.date,(r=a.props.yearItemNumber)!==null&&r!==void 0?r:t.defaultProps.yearItemNumber),o=i.startPeriod,c=i.endPeriod,l;return a.props.showYearPicker?l="".concat(o," - ").concat(c):a.props.showMonthYearPicker||a.props.showQuarterYearPicker?l=ja(a.state.date):l="".concat(D4(po(a.state.date),a.props.locale)," ").concat(ja(a.state.date)),nt.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},a.state.isRenderAriaLiveMessage&&l)},a.renderChildren=function(){if(a.props.children)return nt.createElement("div",{className:"react-datepicker__children-container"},a.props.children)},a.containerRef=_.createRef(),a.state={date:a.getDateInView(),selectingDate:void 0,monthContainer:void 0,isRenderAriaLiveMessage:!1},a}return Object.defineProperty(t,"defaultProps",{get:function(){return{monthsShown:1,forceShowMonthNavigation:!1,timeCaption:"Time",previousYearButtonLabel:"Previous Year",nextYearButtonLabel:"Next Year",previousMonthButtonLabel:"Previous Month",nextMonthButtonLabel:"Next Month",yearItemNumber:N0}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){var n=this;this.props.showTimeSelect&&(this.assignMonthContainer=function(){n.setState({monthContainer:n.monthContainer})}())},t.prototype.componentDidUpdate=function(n){var a=this;if(this.props.preSelection&&(!Ka(this.props.preSelection,n.preSelection)||this.props.monthSelectedIn!==n.monthSelectedIn)){var r=!jo(this.state.date,this.props.preSelection);this.setState({date:this.props.preSelection},function(){return r&&a.handleCustomMonthChange(a.state.date)})}else this.props.openToDate&&!Ka(this.props.openToDate,n.openToDate)&&this.setState({date:this.props.openToDate})},t.prototype.render=function(){var n=this.props.container||Z8e;return nt.createElement(yy,{onClickOutside:this.handleClickOutside,style:{display:"contents"},ignoreClass:this.props.outsideClickIgnoreClass},nt.createElement("div",{style:{display:"contents"},ref:this.containerRef},nt.createElement(n,{className:to("react-datepicker",this.props.className,{"react-datepicker--time-only":this.props.showTimeSelectOnly}),showTime:this.props.showTimeSelect||this.props.showTimeInput,showTimeSelectOnly:this.props.showTimeSelectOnly},this.renderAriaLiveRegion(),this.renderPreviousButton(),this.renderNextButton(),this.renderMonths(),this.renderYears(),this.renderTodayButton(),this.renderTimeSection(),this.renderInputTimeSection(),this.renderChildren())))},t}(_.Component),P5e=function(e){var t=e.icon,n=e.className,a=n===void 0?"":n,r=e.onClick,i="react-datepicker__calendar-icon";if(typeof t=="string")return nt.createElement("i",{className:"".concat(i," ").concat(t," ").concat(a),"aria-hidden":"true",onClick:r});if(nt.isValidElement(t)){var o=t;return nt.cloneElement(o,{className:"".concat(o.props.className||""," ").concat(i," ").concat(a),onClick:function(c){typeof o.props.onClick=="function"&&o.props.onClick(c),typeof r=="function"&&r(c)}})}return nt.createElement("svg",{className:"".concat(i," ").concat(a),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",onClick:r},nt.createElement("path",{d:"M96 32V64H48C21.5 64 0 85.5 0 112v48H448V112c0-26.5-21.5-48-48-48H352V32c0-17.7-14.3-32-32-32s-32 14.3-32 32V64H160V32c0-17.7-14.3-32-32-32S96 14.3 96 32zM448 192H0V464c0 26.5 21.5 48 48 48H400c26.5 0 48-21.5 48-48V192z"}))},a$=function(e){Yi(t,e);function t(n){var a=e.call(this,n)||this;return a.portalRoot=null,a.el=document.createElement("div"),a}return t.prototype.componentDidMount=function(){this.portalRoot=(this.props.portalHost||document).getElementById(this.props.portalId),this.portalRoot||(this.portalRoot=document.createElement("div"),this.portalRoot.setAttribute("id",this.props.portalId),(this.props.portalHost||document.body).appendChild(this.portalRoot)),this.portalRoot.appendChild(this.el)},t.prototype.componentWillUnmount=function(){this.portalRoot&&this.portalRoot.removeChild(this.el)},t.prototype.render=function(){return Nx.createPortal(this.props.children,this.el)},t}(_.Component),F5e="[tabindex], a, button, input, select, textarea",H5e=function(e){return(e instanceof HTMLAnchorElement||!e.disabled)&&e.tabIndex!==-1},r$=function(e){Yi(t,e);function t(n){var a=e.call(this,n)||this;return a.getTabChildren=function(){var r;return Array.prototype.slice.call((r=a.tabLoopRef.current)===null||r===void 0?void 0:r.querySelectorAll(F5e),1,-1).filter(H5e)},a.handleFocusStart=function(){var r=a.getTabChildren();r&&r.length>1&&r[r.length-1].focus()},a.handleFocusEnd=function(){var r=a.getTabChildren();r&&r.length>1&&r[0].focus()},a.tabLoopRef=_.createRef(),a}return t.prototype.render=function(){var n;return((n=this.props.enableTabLoop)!==null&&n!==void 0?n:t.defaultProps.enableTabLoop)?nt.createElement("div",{className:"react-datepicker__tab-loop",ref:this.tabLoopRef},nt.createElement("div",{className:"react-datepicker__tab-loop__start",tabIndex:0,onFocus:this.handleFocusStart}),this.props.children,nt.createElement("div",{className:"react-datepicker__tab-loop__end",tabIndex:0,onFocus:this.handleFocusEnd})):this.props.children},t.defaultProps={enableTabLoop:!0},t}(_.Component);function q5e(e){var t=function(n){var a,r=typeof n.hidePopper=="boolean"?n.hidePopper:!0,i=_.useRef(null),o=K8e(Za({open:!r,whileElementsMounted:E8e,placement:n.popperPlacement,middleware:Tl([$8e({padding:15}),L8e(10),P8e({element:i})],(a=n.popperModifiers)!==null&&a!==void 0?a:[],!0)},n.popperProps)),c=Za(Za({},n),{hidePopper:r,popperProps:Za(Za({},o),{arrowRef:i})});return nt.createElement(e,Za({},c))};return t}var V5e=function(e){Yi(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return Object.defineProperty(t,"defaultProps",{get:function(){return{hidePopper:!0}},enumerable:!1,configurable:!0}),t.prototype.render=function(){var n=this.props,a=n.className,r=n.wrapperClassName,i=n.hidePopper,o=i===void 0?t.defaultProps.hidePopper:i,c=n.popperComponent,l=n.targetComponent,d=n.enableTabLoop,f=n.popperOnKeyDown,g=n.portalId,b=n.portalHost,w=n.popperProps,C=n.showArrow,S=void 0;if(!o){var k=to("react-datepicker-popper",a);S=nt.createElement(r$,{enableTabLoop:d},nt.createElement("div",{ref:w.refs.setFloating,style:w.floatingStyles,className:k,"data-placement":w.placement,onKeyDown:f},c,C&&nt.createElement(z8e,{ref:w.arrowRef,context:w.context,fill:"currentColor",strokeWidth:1,height:8,width:16,style:{transform:"translateY(-1px)"},className:"react-datepicker__triangle"})))}this.props.popperContainer&&(S=_.createElement(this.props.popperContainer,{},S)),g&&!o&&(S=nt.createElement(a$,{portalId:g,portalHost:b},S));var E=to("react-datepicker-wrapper",r);return nt.createElement(nt.Fragment,null,nt.createElement("div",{ref:w.refs.setReference,className:E},l),S)},t}(_.Component),z5e=q5e(V5e),_7="react-datepicker-ignore-onclickoutside";function U5e(e,t){return e&&t?po(e)!==po(t)||ja(e)!==ja(t):e!==t}var Xj="Date input not valid.",i$=function(e){Yi(t,e);function t(n){var a=e.call(this,n)||this;return a.calendar=null,a.input=null,a.getPreSelection=function(){return a.props.openToDate?a.props.openToDate:a.props.selectsEnd&&a.props.startDate?a.props.startDate:a.props.selectsStart&&a.props.endDate?a.props.endDate:lr()},a.modifyHolidays=function(){var r;return(r=a.props.holidays)===null||r===void 0?void 0:r.reduce(function(i,o){var c=new Date(o.date);return wy(c)?Tl(Tl([],i,!0),[Za(Za({},o),{date:c})],!1):i},[])},a.calcInitialState=function(){var r,i=a.getPreSelection(),o=t$(a.props),c=n$(a.props),l=o&&Kh(i,ax(o))?o:c&&Bd(i,n7(c))?c:i;return{open:a.props.startOpen||!1,preventFocus:!1,inputValue:null,preSelection:(r=a.props.selectsRange?a.props.startDate:a.props.selected)!==null&&r!==void 0?r:l,highlightDates:u7(a.props.highlightDates),focused:!1,shouldFocusDayInline:!1,isRenderAriaLiveMessage:!1,wasHidden:!1}},a.resetHiddenStatus=function(){a.setState(Za(Za({},a.state),{wasHidden:!1}))},a.setHiddenStatus=function(){a.setState(Za(Za({},a.state),{wasHidden:!0}))},a.setHiddenStateOnVisibilityHidden=function(){document.visibilityState==="hidden"&&a.setHiddenStatus()},a.clearPreventFocusTimeout=function(){a.preventFocusTimeout&&clearTimeout(a.preventFocusTimeout)},a.setFocus=function(){var r,i;(i=(r=a.input)===null||r===void 0?void 0:r.focus)===null||i===void 0||i.call(r,{preventScroll:!0})},a.setBlur=function(){var r,i;(i=(r=a.input)===null||r===void 0?void 0:r.blur)===null||i===void 0||i.call(r),a.cancelFocusInput()},a.deferBlur=function(){requestAnimationFrame(function(){a.setBlur()})},a.setOpen=function(r,i){i===void 0&&(i=!1),a.setState({open:r,preSelection:r&&a.state.open?a.state.preSelection:a.calcInitialState().preSelection,lastPreSelectChange:Kj},function(){r||a.setState(function(o){return{focused:i?o.focused:!1}},function(){!i&&a.deferBlur(),a.setState({inputValue:null})})})},a.inputOk=function(){return yu(a.state.preSelection)},a.isCalendarOpen=function(){return a.props.open===void 0?a.state.open&&!a.props.disabled&&!a.props.readOnly:a.props.open},a.handleFocus=function(r){var i,o,c=a.state.wasHidden,l=c?a.state.open:!0;c&&a.resetHiddenStatus(),a.state.preventFocus||((o=(i=a.props).onFocus)===null||o===void 0||o.call(i,r),l&&!a.props.preventOpenOnFocus&&!a.props.readOnly&&a.setOpen(!0)),a.setState({focused:!0})},a.sendFocusBackToInput=function(){a.preventFocusTimeout&&a.clearPreventFocusTimeout(),a.setState({preventFocus:!0},function(){a.preventFocusTimeout=setTimeout(function(){a.setFocus(),a.setState({preventFocus:!1})})})},a.cancelFocusInput=function(){clearTimeout(a.inputFocusTimeout),a.inputFocusTimeout=void 0},a.deferFocusInput=function(){a.cancelFocusInput(),a.inputFocusTimeout=setTimeout(function(){return a.setFocus()},1)},a.handleDropdownFocus=function(){a.cancelFocusInput()},a.handleBlur=function(r){var i,o;(!a.state.open||a.props.withPortal||a.props.showTimeInput)&&((o=(i=a.props).onBlur)===null||o===void 0||o.call(i,r)),a.state.open&&a.props.open===!1&&a.setOpen(!1),a.setState({focused:!1})},a.handleCalendarClickOutside=function(r){var i,o;a.props.inline||a.setOpen(!1),(o=(i=a.props).onClickOutside)===null||o===void 0||o.call(i,r),a.props.withPortal&&r.preventDefault()},a.handleChange=function(){for(var r,i,o,c,l,d=[],f=0;f<arguments.length;f++)d[f]=arguments[f];var g=d[0];if(!(a.props.onChangeRaw&&(a.props.onChangeRaw.apply(a,d),!g||typeof g.isDefaultPrevented!="function"||g.isDefaultPrevented()))){a.setState({inputValue:(g==null?void 0:g.target)instanceof HTMLInputElement?g.target.value:null,lastPreSelectChange:W5e});var b=a.props,w=b.selectsRange,C=b.startDate,S=b.endDate,k=(r=a.props.dateFormat)!==null&&r!==void 0?r:t.defaultProps.dateFormat,E=(i=a.props.strictParsing)!==null&&i!==void 0?i:t.defaultProps.strictParsing,D=(g==null?void 0:g.target)instanceof HTMLInputElement?g.target.value:"";if(w){var R=D.split(k.includes("-")?ZL:"-",2).map(function(se){return se.trim()}),P=R[0],B=R[1],O=Yj(P??"",k,a.props.locale,E),$=Yj(B??"",k,a.props.locale,E),U=(C==null?void 0:C.getTime())!==(O==null?void 0:O.getTime()),F=(S==null?void 0:S.getTime())!==($==null?void 0:$.getTime());if(!U&&!F||O&&Dc(O,a.props)||$&&Dc($,a.props))return;(c=(o=a.props).onChange)===null||c===void 0||c.call(o,[O,$],g)}else{var H=Yj(D,k,a.props.locale,E,(l=a.props.selected)!==null&&l!==void 0?l:void 0);(H||!D)&&a.setSelected(H,g,!0)}}},a.handleSelect=function(r,i,o){if(!a.props.readOnly){if(a.props.shouldCloseOnSelect&&!a.props.showTimeSelect&&a.sendFocusBackToInput(),a.props.onChangeRaw&&a.props.onChangeRaw(i),a.setSelected(r,i,!1,o),a.props.showDateSelect&&a.setState({isRenderAriaLiveMessage:!0}),!a.props.shouldCloseOnSelect||a.props.showTimeSelect)a.setPreSelection(r);else if(!a.props.inline){a.props.selectsRange||a.setOpen(!1);var c=a.props,l=c.startDate,d=c.endDate;l&&!d&&(a.props.swapRange||!m7(r,l))&&a.setOpen(!1)}}},a.setSelected=function(r,i,o,c){var l,d,f=r;if(a.props.showYearPicker){if(f!==null&&rx(ja(f),a.props))return}else if(a.props.showMonthYearPicker){if(f!==null&&e$(f,a.props))return}else if(f!==null&&Dc(f,a.props))return;var g=a.props,b=g.onChange,w=g.selectsRange,C=g.startDate,S=g.endDate,k=g.selectsMultiple,E=g.selectedDates,D=g.minTime,R=g.swapRange;if(!Nh(a.props.selected,f)||a.props.allowSameDay||w||k)if(f!==null&&(a.props.selected&&(!o||!a.props.showTimeSelect&&!a.props.showTimeSelectOnly&&!a.props.showTimeInput)&&(f=Gj(f,{hour:wu(a.props.selected),minute:ju(a.props.selected),second:Id(a.props.selected)})),!o&&(a.props.showTimeSelect||a.props.showTimeSelectOnly)&&D&&(f=Gj(f,{hour:D.getHours(),minute:D.getMinutes(),second:D.getSeconds()})),a.props.inline||a.setState({preSelection:f}),a.props.focusSelectedMonth||a.setState({monthSelectedIn:c})),w){var P=!C&&!S,B=C&&!S,O=C&&S;P?b==null||b([f,null],i):B&&(f===null?b==null||b([null,null],i):m7(f,C)?R?b==null||b([f,C],i):b==null||b([f,null],i):b==null||b([C,f],i)),O&&(b==null||b([f,null],i))}else if(k){if(f!==null)if(!(E!=null&&E.length))b==null||b([f],i);else{var $=E.some(function(F){return Ka(F,f)});if($){var U=E.filter(function(F){return!Ka(F,f)});b==null||b(U,i)}else b==null||b(Tl(Tl([],E,!0),[f],!1),i)}}else b==null||b(f,i);o||((d=(l=a.props).onSelect)===null||d===void 0||d.call(l,f,i),a.setState({inputValue:null}))},a.setPreSelection=function(r){if(!a.props.readOnly){var i=yu(a.props.minDate),o=yu(a.props.maxDate),c=!0;if(r){var l=ax(r);if(i&&o)c=J1(r,a.props.minDate,a.props.maxDate);else if(i){var d=ax(a.props.minDate);c=Bd(r,d)||Nh(l,d)}else if(o){var f=n7(a.props.maxDate);c=Kh(r,f)||Nh(l,f)}}c&&a.setState({preSelection:r})}},a.toggleCalendar=function(){a.setOpen(!a.state.open)},a.handleTimeChange=function(r){var i,o;if(!(a.props.selectsRange||a.props.selectsMultiple)){var c=a.props.selected?a.props.selected:a.getPreSelection(),l=a.props.selected?r:Gj(c,{hour:wu(r),minute:ju(r)});a.setState({preSelection:l}),(o=(i=a.props).onChange)===null||o===void 0||o.call(i,l),a.props.shouldCloseOnSelect&&!a.props.showTimeInput&&(a.sendFocusBackToInput(),a.setOpen(!1)),a.props.showTimeInput&&a.setOpen(!0),(a.props.showTimeSelectOnly||a.props.showTimeSelect)&&a.setState({isRenderAriaLiveMessage:!0}),a.setState({inputValue:null})}},a.onInputClick=function(){var r,i;!a.props.disabled&&!a.props.readOnly&&a.setOpen(!0),(i=(r=a.props).onInputClick)===null||i===void 0||i.call(r)},a.onInputKeyDown=function(r){var i,o,c,l,d,f;(o=(i=a.props).onKeyDown)===null||o===void 0||o.call(i,r);var g=r.key;if(!a.state.open&&!a.props.inline&&!a.props.preventOpenOnFocus){(g===ns.ArrowDown||g===ns.ArrowUp||g===ns.Enter)&&((c=a.onInputClick)===null||c===void 0||c.call(a));return}if(a.state.open){if(g===ns.ArrowDown||g===ns.ArrowUp){r.preventDefault();var b=a.props.showTimeSelectOnly?".react-datepicker__time-list-item[tabindex='0']":a.props.showWeekPicker&&a.props.showWeekNumbers?'.react-datepicker__week-number[tabindex="0"]':a.props.showFullMonthYearPicker||a.props.showMonthYearPicker?'.react-datepicker__month-text[tabindex="0"]':'.react-datepicker__day[tabindex="0"]',w=((l=a.calendar)===null||l===void 0?void 0:l.containerRef.current)instanceof Element&&a.calendar.containerRef.current.querySelector(b);w instanceof HTMLElement&&w.focus({preventScroll:!0});return}var C=lr(a.state.preSelection);g===ns.Enter?(r.preventDefault(),r.target.blur(),a.inputOk()&&a.state.lastPreSelectChange===Kj?(a.handleSelect(C,r),!a.props.shouldCloseOnSelect&&a.setPreSelection(C)):a.setOpen(!1)):g===ns.Escape?(r.preventDefault(),r.target.blur(),a.sendFocusBackToInput(),a.setOpen(!1)):g===ns.Tab&&a.setOpen(!1),a.inputOk()||(f=(d=a.props).onInputError)===null||f===void 0||f.call(d,{code:1,msg:Xj})}},a.onPortalKeyDown=function(r){var i=r.key;i===ns.Escape&&(r.preventDefault(),a.setState({preventFocus:!0},function(){a.setOpen(!1),setTimeout(function(){a.setFocus(),a.setState({preventFocus:!1})})}))},a.onDayKeyDown=function(r){var i,o,c,l,d,f,g=a.props,b=g.minDate,w=g.maxDate,C=g.disabledKeyboardNavigation,S=g.showWeekPicker,k=g.shouldCloseOnSelect,E=g.locale,D=g.calendarStartDay,R=g.adjustDateOnChange,P=g.inline;if((o=(i=a.props).onKeyDown)===null||o===void 0||o.call(i,r),!C){var B=r.key,O=r.shiftKey,$=lr(a.state.preSelection),U=function(z,V){var M=V;switch(z){case ns.ArrowRight:M=S?sb(V,1):tl(V,1);break;case ns.ArrowLeft:M=S?VD(V):g6e(V);break;case ns.ArrowUp:M=VD(V);break;case ns.ArrowDown:M=sb(V,1);break;case ns.PageUp:M=O?Lm(V,1):Ph(V,1);break;case ns.PageDown:M=O?bu(V,1):il(V,1);break;case ns.Home:M=Ed(V,E,D);break;case ns.End:M=a5e(V);break}return M},F=function(z,V){for(var M=40,ee=z,Z=!1,A=0,G=U(z,V);!Z;){if(A>=M){G=V;break}b&&G<b&&(ee=ns.ArrowRight,G=Dc(b,a.props)?U(ee,G):b),w&&G>w&&(ee=ns.ArrowLeft,G=Dc(w,a.props)?U(ee,G):w),Dc(G,a.props)?((ee===ns.PageUp||ee===ns.Home)&&(ee=ns.ArrowRight),(ee===ns.PageDown||ee===ns.End)&&(ee=ns.ArrowLeft),G=U(ee,G)):Z=!0,A++}return G};if(B===ns.Enter){r.preventDefault(),a.handleSelect($,r),!k&&a.setPreSelection($);return}else if(B===ns.Escape){r.preventDefault(),a.setOpen(!1),a.inputOk()||(l=(c=a.props).onInputError)===null||l===void 0||l.call(c,{code:1,msg:Xj});return}var H=null;switch(B){case ns.ArrowLeft:case ns.ArrowRight:case ns.ArrowUp:case ns.ArrowDown:case ns.PageUp:case ns.PageDown:case ns.Home:case ns.End:H=F(B,$);break}if(!H){(f=(d=a.props).onInputError)===null||f===void 0||f.call(d,{code:1,msg:Xj});return}if(r.preventDefault(),a.setState({lastPreSelectChange:Kj}),R&&a.setSelected(H),a.setPreSelection(H),P){var se=po($),K=po(H),te=ja($),J=ja(H);se!==K||te!==J?a.setState({shouldFocusDayInline:!0}):a.setState({shouldFocusDayInline:!1})}}},a.onPopperKeyDown=function(r){var i=r.key;i===ns.Escape&&(r.preventDefault(),a.sendFocusBackToInput(),a.setOpen(!1))},a.onClearClick=function(r){r&&r.preventDefault&&r.preventDefault(),a.sendFocusBackToInput();var i=a.props,o=i.selectsRange,c=i.onChange;o?c==null||c([null,null],r):c==null||c(null,r),a.setState({inputValue:null})},a.clear=function(){a.onClearClick()},a.onScroll=function(r){typeof a.props.closeOnScroll=="boolean"&&a.props.closeOnScroll?(r.target===document||r.target===document.documentElement||r.target===document.body)&&a.setOpen(!1):typeof a.props.closeOnScroll=="function"&&a.props.closeOnScroll(r)&&a.setOpen(!1)},a.renderCalendar=function(){var r,i;return!a.props.inline&&!a.isCalendarOpen()?null:nt.createElement($5e,Za({showMonthYearDropdown:void 0,ref:function(o){a.calendar=o}},a.props,a.state,{setOpen:a.setOpen,dateFormat:(r=a.props.dateFormatCalendar)!==null&&r!==void 0?r:t.defaultProps.dateFormatCalendar,onSelect:a.handleSelect,onClickOutside:a.handleCalendarClickOutside,holidays:g5e(a.modifyHolidays()),outsideClickIgnoreClass:_7,onDropdownFocus:a.handleDropdownFocus,onTimeChange:a.handleTimeChange,className:a.props.calendarClassName,container:a.props.calendarContainer,handleOnKeyDown:a.props.onKeyDown,handleOnDayKeyDown:a.onDayKeyDown,setPreSelection:a.setPreSelection,dropdownMode:(i=a.props.dropdownMode)!==null&&i!==void 0?i:t.defaultProps.dropdownMode}),a.props.children)},a.renderAriaLiveRegion=function(){var r=a.props,i=r.dateFormat,o=i===void 0?t.defaultProps.dateFormat:i,c=r.locale,l=a.props.showTimeInput||a.props.showTimeSelect,d=l?"PPPPp":"PPPP",f;return a.props.selectsRange?f="Selected start date: ".concat(Ic(a.props.startDate,{dateFormat:d,locale:c}),". ").concat(a.props.endDate?"End date: "+Ic(a.props.endDate,{dateFormat:d,locale:c}):""):a.props.showTimeSelectOnly?f="Selected time: ".concat(Ic(a.props.selected,{dateFormat:o,locale:c})):a.props.showYearPicker?f="Selected year: ".concat(Ic(a.props.selected,{dateFormat:"yyyy",locale:c})):a.props.showMonthYearPicker?f="Selected month: ".concat(Ic(a.props.selected,{dateFormat:"MMMM yyyy",locale:c})):a.props.showQuarterYearPicker?f="Selected quarter: ".concat(Ic(a.props.selected,{dateFormat:"yyyy, QQQ",locale:c})):f="Selected date: ".concat(Ic(a.props.selected,{dateFormat:d,locale:c})),nt.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},f)},a.renderDateInput=function(){var r,i,o,c=to(a.props.className,(r={},r[_7]=a.state.open,r)),l=a.props.customInput||nt.createElement("input",{type:"text"}),d=a.props.customInputRef||"ref",f=a.props,g=f.dateFormat,b=g===void 0?t.defaultProps.dateFormat:g,w=f.locale,C=typeof a.props.value=="string"?a.props.value:typeof a.state.inputValue=="string"?a.state.inputValue:a.props.selectsRange?e5e(a.props.startDate,a.props.endDate,{dateFormat:b,locale:w}):a.props.selectsMultiple?t5e((o=a.props.selectedDates)!==null&&o!==void 0?o:[],{dateFormat:b,locale:w}):Ic(a.props.selected,{dateFormat:b,locale:w});return _.cloneElement(l,(i={},i[d]=function(S){a.input=S},i.value=C,i.onBlur=a.handleBlur,i.onChange=a.handleChange,i.onClick=a.onInputClick,i.onFocus=a.handleFocus,i.onKeyDown=a.onInputKeyDown,i.id=a.props.id,i.name=a.props.name,i.form=a.props.form,i.autoFocus=a.props.autoFocus,i.placeholder=a.props.placeholderText,i.disabled=a.props.disabled,i.autoComplete=a.props.autoComplete,i.className=to(l.props.className,c),i.title=a.props.title,i.readOnly=a.props.readOnly,i.required=a.props.required,i.tabIndex=a.props.tabIndex,i["aria-describedby"]=a.props.ariaDescribedBy,i["aria-invalid"]=a.props.ariaInvalid,i["aria-labelledby"]=a.props.ariaLabelledBy,i["aria-required"]=a.props.ariaRequired,i))},a.renderClearButton=function(){var r=a.props,i=r.isClearable,o=r.disabled,c=r.selected,l=r.startDate,d=r.endDate,f=r.clearButtonTitle,g=r.clearButtonClassName,b=g===void 0?"":g,w=r.ariaLabelClose,C=w===void 0?"Close":w,S=r.selectedDates,k=r.readOnly;return i&&!k&&(c!=null||l!=null||d!=null||S!=null&&S.length)?nt.createElement("button",{type:"button",className:to("react-datepicker__close-icon",b,{"react-datepicker__close-icon--disabled":o}),disabled:o,"aria-label":C,onClick:a.onClearClick,title:f,tabIndex:-1}):null},a.state=a.calcInitialState(),a.preventFocusTimeout=void 0,a}return Object.defineProperty(t,"defaultProps",{get:function(){return{allowSameDay:!1,dateFormat:"MM/dd/yyyy",dateFormatCalendar:"LLLL yyyy",disabled:!1,disabledKeyboardNavigation:!1,dropdownMode:"scroll",preventOpenOnFocus:!1,monthsShown:1,readOnly:!1,withPortal:!1,selectsDisabledDaysInRange:!1,shouldCloseOnSelect:!0,showTimeSelect:!1,showTimeInput:!1,showPreviousMonths:!1,showMonthYearPicker:!1,showFullMonthYearPicker:!1,showTwoColumnMonthYearPicker:!1,showFourColumnMonthYearPicker:!1,showYearPicker:!1,showQuarterYearPicker:!1,showWeekPicker:!1,strictParsing:!1,swapRange:!1,timeIntervals:30,timeCaption:"Time",previousMonthAriaLabel:"Previous Month",previousMonthButtonLabel:"Previous Month",nextMonthAriaLabel:"Next Month",nextMonthButtonLabel:"Next Month",previousYearAriaLabel:"Previous Year",previousYearButtonLabel:"Previous Year",nextYearAriaLabel:"Next Year",nextYearButtonLabel:"Next Year",timeInputLabel:"Time",enableTabLoop:!0,yearItemNumber:N0,focusSelectedMonth:!1,showPopperArrow:!0,excludeScrollbar:!0,customTimeInput:null,calendarStartDay:void 0,toggleCalendarOnIconClick:!1,usePointerEvent:!1}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){window.addEventListener("scroll",this.onScroll,!0),document.addEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},t.prototype.componentDidUpdate=function(n,a){var r,i,o,c;n.inline&&U5e(n.selected,this.props.selected)&&this.setPreSelection(this.props.selected),this.state.monthSelectedIn!==void 0&&n.monthsShown!==this.props.monthsShown&&this.setState({monthSelectedIn:0}),n.highlightDates!==this.props.highlightDates&&this.setState({highlightDates:u7(this.props.highlightDates)}),!a.focused&&!Nh(n.selected,this.props.selected)&&this.setState({inputValue:null}),a.open!==this.state.open&&(a.open===!1&&this.state.open===!0&&((i=(r=this.props).onCalendarOpen)===null||i===void 0||i.call(r)),a.open===!0&&this.state.open===!1&&((c=(o=this.props).onCalendarClose)===null||c===void 0||c.call(o)))},t.prototype.componentWillUnmount=function(){this.clearPreventFocusTimeout(),window.removeEventListener("scroll",this.onScroll,!0),document.removeEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},t.prototype.renderInputContainer=function(){var n=this.props,a=n.showIcon,r=n.icon,i=n.calendarIconClassname,o=n.calendarIconClassName,c=n.toggleCalendarOnIconClick,l=this.state.open;return i&&console.warn("calendarIconClassname props is deprecated. should use calendarIconClassName props."),nt.createElement("div",{className:"react-datepicker__input-container".concat(a?" react-datepicker__view-calendar-icon":"")},a&&nt.createElement(P5e,Za({icon:r,className:to(o,!o&&i,l&&"react-datepicker-ignore-onclickoutside")},c?{onClick:this.toggleCalendar}:null)),this.state.isRenderAriaLiveMessage&&this.renderAriaLiveRegion(),this.renderDateInput(),this.renderClearButton())},t.prototype.render=function(){var n=this.renderCalendar();if(this.props.inline)return n;if(this.props.withPortal){var a=this.state.open?nt.createElement(r$,{enableTabLoop:this.props.enableTabLoop},nt.createElement("div",{className:"react-datepicker__portal",tabIndex:-1,onKeyDown:this.onPortalKeyDown},n)):null;return this.state.open&&this.props.portalId&&(a=nt.createElement(a$,Za({portalId:this.props.portalId},this.props),a)),nt.createElement("div",null,this.renderInputContainer(),a)}return nt.createElement(z5e,Za({},this.props,{className:this.props.popperClassName,hidePopper:!this.isCalendarOpen(),targetComponent:this.renderInputContainer(),popperComponent:n,popperOnKeyDown:this.onPopperKeyDown,showArrow:this.props.showPopperArrow}))},t}(_.Component),W5e="input",Kj="navigate",ix={exports:{}},Y5e=ix.exports,v7;function o$(){return v7||(v7=1,function(e,t){(function(n,a){e.exports=a()})(Y5e,function(){var n=1e3,a=6e4,r=36e5,i="millisecond",o="second",c="minute",l="hour",d="day",f="week",g="month",b="quarter",w="year",C="date",S="Invalid Date",k=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,E=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,D={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(J){var z=["th","st","nd","rd"],V=J%100;return"["+J+(z[(V-20)%10]||z[V]||z[0])+"]"}},R=function(J,z,V){var M=String(J);return!M||M.length>=z?J:""+Array(z+1-M.length).join(V)+J},P={s:R,z:function(J){var z=-J.utcOffset(),V=Math.abs(z),M=Math.floor(V/60),ee=V%60;return(z<=0?"+":"-")+R(M,2,"0")+":"+R(ee,2,"0")},m:function J(z,V){if(z.date()<V.date())return-J(V,z);var M=12*(V.year()-z.year())+(V.month()-z.month()),ee=z.clone().add(M,g),Z=V-ee<0,A=z.clone().add(M+(Z?-1:1),g);return+(-(M+(V-ee)/(Z?ee-A:A-ee))||0)},a:function(J){return J<0?Math.ceil(J)||0:Math.floor(J)},p:function(J){return{M:g,y:w,w:f,d,D:C,h:l,m:c,s:o,ms:i,Q:b}[J]||String(J||"").toLowerCase().replace(/s$/,"")},u:function(J){return J===void 0}},B="en",O={};O[B]=D;var $="$isDayjsObject",U=function(J){return J instanceof K||!(!J||!J[$])},F=function J(z,V,M){var ee;if(!z)return B;if(typeof z=="string"){var Z=z.toLowerCase();O[Z]&&(ee=Z),V&&(O[Z]=V,ee=Z);var A=z.split("-");if(!ee&&A.length>1)return J(A[0])}else{var G=z.name;O[G]=z,ee=G}return!M&&ee&&(B=ee),ee||!M&&B},H=function(J,z){if(U(J))return J.clone();var V=typeof z=="object"?z:{};return V.date=J,V.args=arguments,new K(V)},se=P;se.l=F,se.i=U,se.w=function(J,z){return H(J,{locale:z.$L,utc:z.$u,x:z.$x,$offset:z.$offset})};var K=function(){function J(V){this.$L=F(V.locale,null,!0),this.parse(V),this.$x=this.$x||V.x||{},this[$]=!0}var z=J.prototype;return z.parse=function(V){this.$d=function(M){var ee=M.date,Z=M.utc;if(ee===null)return new Date(NaN);if(se.u(ee))return new Date;if(ee instanceof Date)return new Date(ee);if(typeof ee=="string"&&!/Z$/i.test(ee)){var A=ee.match(k);if(A){var G=A[2]-1||0,Q=(A[7]||"0").substring(0,3);return Z?new Date(Date.UTC(A[1],G,A[3]||1,A[4]||0,A[5]||0,A[6]||0,Q)):new Date(A[1],G,A[3]||1,A[4]||0,A[5]||0,A[6]||0,Q)}}return new Date(ee)}(V),this.init()},z.init=function(){var V=this.$d;this.$y=V.getFullYear(),this.$M=V.getMonth(),this.$D=V.getDate(),this.$W=V.getDay(),this.$H=V.getHours(),this.$m=V.getMinutes(),this.$s=V.getSeconds(),this.$ms=V.getMilliseconds()},z.$utils=function(){return se},z.isValid=function(){return this.$d.toString()!==S},z.isSame=function(V,M){var ee=H(V);return this.startOf(M)<=ee&&ee<=this.endOf(M)},z.isAfter=function(V,M){return H(V)<this.startOf(M)},z.isBefore=function(V,M){return this.endOf(M)<H(V)},z.$g=function(V,M,ee){return se.u(V)?this[M]:this.set(ee,V)},z.unix=function(){return Math.floor(this.valueOf()/1e3)},z.valueOf=function(){return this.$d.getTime()},z.startOf=function(V,M){var ee=this,Z=!!se.u(M)||M,A=se.p(V),G=function(Ce,Ne){var Ee=se.w(ee.$u?Date.UTC(ee.$y,Ne,Ce):new Date(ee.$y,Ne,Ce),ee);return Z?Ee:Ee.endOf(d)},Q=function(Ce,Ne){return se.w(ee.toDate()[Ce].apply(ee.toDate("s"),(Z?[0,0,0,0]:[23,59,59,999]).slice(Ne)),ee)},Y=this.$W,ae=this.$M,ne=this.$D,re="set"+(this.$u?"UTC":"");switch(A){case w:return Z?G(1,0):G(31,11);case g:return Z?G(1,ae):G(0,ae+1);case f:var oe=this.$locale().weekStart||0,me=(Y<oe?Y+7:Y)-oe;return G(Z?ne-me:ne+(6-me),ae);case d:case C:return Q(re+"Hours",0);case l:return Q(re+"Minutes",1);case c:return Q(re+"Seconds",2);case o:return Q(re+"Milliseconds",3);default:return this.clone()}},z.endOf=function(V){return this.startOf(V,!1)},z.$set=function(V,M){var ee,Z=se.p(V),A="set"+(this.$u?"UTC":""),G=(ee={},ee[d]=A+"Date",ee[C]=A+"Date",ee[g]=A+"Month",ee[w]=A+"FullYear",ee[l]=A+"Hours",ee[c]=A+"Minutes",ee[o]=A+"Seconds",ee[i]=A+"Milliseconds",ee)[Z],Q=Z===d?this.$D+(M-this.$W):M;if(Z===g||Z===w){var Y=this.clone().set(C,1);Y.$d[G](Q),Y.init(),this.$d=Y.set(C,Math.min(this.$D,Y.daysInMonth())).$d}else G&&this.$d[G](Q);return this.init(),this},z.set=function(V,M){return this.clone().$set(V,M)},z.get=function(V){return this[se.p(V)]()},z.add=function(V,M){var ee,Z=this;V=Number(V);var A=se.p(M),G=function(ae){var ne=H(Z);return se.w(ne.date(ne.date()+Math.round(ae*V)),Z)};if(A===g)return this.set(g,this.$M+V);if(A===w)return this.set(w,this.$y+V);if(A===d)return G(1);if(A===f)return G(7);var Q=(ee={},ee[c]=a,ee[l]=r,ee[o]=n,ee)[A]||1,Y=this.$d.getTime()+V*Q;return se.w(Y,this)},z.subtract=function(V,M){return this.add(-1*V,M)},z.format=function(V){var M=this,ee=this.$locale();if(!this.isValid())return ee.invalidDate||S;var Z=V||"YYYY-MM-DDTHH:mm:ssZ",A=se.z(this),G=this.$H,Q=this.$m,Y=this.$M,ae=ee.weekdays,ne=ee.months,re=ee.meridiem,oe=function(Ne,Ee,ve,Se){return Ne&&(Ne[Ee]||Ne(M,Z))||ve[Ee].slice(0,Se)},me=function(Ne){return se.s(G%12||12,Ne,"0")},Ce=re||function(Ne,Ee,ve){var Se=Ne<12?"AM":"PM";return ve?Se.toLowerCase():Se};return Z.replace(E,function(Ne,Ee){return Ee||function(ve){switch(ve){case"YY":return String(M.$y).slice(-2);case"YYYY":return se.s(M.$y,4,"0");case"M":return Y+1;case"MM":return se.s(Y+1,2,"0");case"MMM":return oe(ee.monthsShort,Y,ne,3);case"MMMM":return oe(ne,Y);case"D":return M.$D;case"DD":return se.s(M.$D,2,"0");case"d":return String(M.$W);case"dd":return oe(ee.weekdaysMin,M.$W,ae,2);case"ddd":return oe(ee.weekdaysShort,M.$W,ae,3);case"dddd":return ae[M.$W];case"H":return String(G);case"HH":return se.s(G,2,"0");case"h":return me(1);case"hh":return me(2);case"a":return Ce(G,Q,!0);case"A":return Ce(G,Q,!1);case"m":return String(Q);case"mm":return se.s(Q,2,"0");case"s":return String(M.$s);case"ss":return se.s(M.$s,2,"0");case"SSS":return se.s(M.$ms,3,"0");case"Z":return A}return null}(Ne)||A.replace(":","")})},z.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},z.diff=function(V,M,ee){var Z,A=this,G=se.p(M),Q=H(V),Y=(Q.utcOffset()-this.utcOffset())*a,ae=this-Q,ne=function(){return se.m(A,Q)};switch(G){case w:Z=ne()/12;break;case g:Z=ne();break;case b:Z=ne()/3;break;case f:Z=(ae-Y)/6048e5;break;case d:Z=(ae-Y)/864e5;break;case l:Z=ae/r;break;case c:Z=ae/a;break;case o:Z=ae/n;break;default:Z=ae}return ee?Z:se.a(Z)},z.daysInMonth=function(){return this.endOf(g).$D},z.$locale=function(){return O[this.$L]},z.locale=function(V,M){if(!V)return this.$L;var ee=this.clone(),Z=F(V,M,!0);return Z&&(ee.$L=Z),ee},z.clone=function(){return se.w(this.$d,this)},z.toDate=function(){return new Date(this.valueOf())},z.toJSON=function(){return this.isValid()?this.toISOString():null},z.toISOString=function(){return this.$d.toISOString()},z.toString=function(){return this.$d.toUTCString()},J}(),te=K.prototype;return H.prototype=te,[["$ms",i],["$s",o],["$m",c],["$H",l],["$W",d],["$M",g],["$y",w],["$D",C]].forEach(function(J){te[J[1]]=function(z){return this.$g(z,J[0],J[1])}}),H.extend=function(J,z){return J.$i||(J(z,K,H),J.$i=!0),H},H.locale=F,H.isDayjs=U,H.unix=function(J){return H(1e3*J)},H.en=O[B],H.Ls=O,H.p={},H})}(ix)),ix.exports}var G5e=o$();const Kn=Ti(G5e);var ox={exports:{}},Q5e=ox.exports,x7;function X5e(){return x7||(x7=1,function(e,t){(function(n,a){e.exports=a()})(Q5e,function(){var n="minute",a=/[+-]\d\d(?::?\d\d)?/g,r=/([+-]|\d\d)/g;return function(i,o,c){var l=o.prototype;c.utc=function(S){var k={date:S,utc:!0,args:arguments};return new o(k)},l.utc=function(S){var k=c(this.toDate(),{locale:this.$L,utc:!0});return S?k.add(this.utcOffset(),n):k},l.local=function(){return c(this.toDate(),{locale:this.$L,utc:!1})};var d=l.parse;l.parse=function(S){S.utc&&(this.$u=!0),this.$utils().u(S.$offset)||(this.$offset=S.$offset),d.call(this,S)};var f=l.init;l.init=function(){if(this.$u){var S=this.$d;this.$y=S.getUTCFullYear(),this.$M=S.getUTCMonth(),this.$D=S.getUTCDate(),this.$W=S.getUTCDay(),this.$H=S.getUTCHours(),this.$m=S.getUTCMinutes(),this.$s=S.getUTCSeconds(),this.$ms=S.getUTCMilliseconds()}else f.call(this)};var g=l.utcOffset;l.utcOffset=function(S,k){var E=this.$utils().u;if(E(S))return this.$u?0:E(this.$offset)?g.call(this):this.$offset;if(typeof S=="string"&&(S=function(B){B===void 0&&(B="");var O=B.match(a);if(!O)return null;var $=(""+O[0]).match(r)||["-",0,0],U=$[0],F=60*+$[1]+ +$[2];return F===0?0:U==="+"?F:-F}(S),S===null))return this;var D=Math.abs(S)<=16?60*S:S,R=this;if(k)return R.$offset=D,R.$u=S===0,R;if(S!==0){var P=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(R=this.local().add(D+P,n)).$offset=D,R.$x.$localOffset=P}else R=this.utc();return R};var b=l.format;l.format=function(S){var k=S||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return b.call(this,k)},l.valueOf=function(){var S=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*S},l.isUTC=function(){return!!this.$u},l.toISOString=function(){return this.toDate().toISOString()},l.toString=function(){return this.toDate().toUTCString()};var w=l.toDate;l.toDate=function(S){return S==="s"&&this.$offset?c(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():w.call(this)};var C=l.diff;l.diff=function(S,k,E){if(S&&this.$u===S.$u)return C.call(this,S,k,E);var D=this.local(),R=c(S).local();return C.call(D,R,k,E)}}})}(ox)),ox.exports}var K5e=X5e();const I0=Ti(K5e);var cx={exports:{}},Z5e=cx.exports,b7;function J5e(){return b7||(b7=1,function(e,t){(function(n,a){e.exports=a()})(Z5e,function(){var n={year:0,month:1,day:2,hour:3,minute:4,second:5},a={};return function(r,i,o){var c,l=function(b,w,C){C===void 0&&(C={});var S=new Date(b),k=function(E,D){D===void 0&&(D={});var R=D.timeZoneName||"short",P=E+"|"+R,B=a[P];return B||(B=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:E,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",timeZoneName:R}),a[P]=B),B}(w,C);return k.formatToParts(S)},d=function(b,w){for(var C=l(b,w),S=[],k=0;k<C.length;k+=1){var E=C[k],D=E.type,R=E.value,P=n[D];P>=0&&(S[P]=parseInt(R,10))}var B=S[3],O=B===24?0:B,$=S[0]+"-"+S[1]+"-"+S[2]+" "+O+":"+S[4]+":"+S[5]+":000",U=+b;return(o.utc($).valueOf()-(U-=U%1e3))/6e4},f=i.prototype;f.tz=function(b,w){b===void 0&&(b=c);var C,S=this.utcOffset(),k=this.toDate(),E=k.toLocaleString("en-US",{timeZone:b}),D=Math.round((k-new Date(E))/1e3/60),R=15*-Math.round(k.getTimezoneOffset()/15)-D;if(!Number(R))C=this.utcOffset(0,w);else if(C=o(E,{locale:this.$L}).$set("millisecond",this.$ms).utcOffset(R,!0),w){var P=C.utcOffset();C=C.add(S-P,"minute")}return C.$x.$timezone=b,C},f.offsetName=function(b){var w=this.$x.$timezone||o.tz.guess(),C=l(this.valueOf(),w,{timeZoneName:b}).find(function(S){return S.type.toLowerCase()==="timezonename"});return C&&C.value};var g=f.startOf;f.startOf=function(b,w){if(!this.$x||!this.$x.$timezone)return g.call(this,b,w);var C=o(this.format("YYYY-MM-DD HH:mm:ss:SSS"),{locale:this.$L});return g.call(C,b,w).tz(this.$x.$timezone,!0)},o.tz=function(b,w,C){var S=C&&w,k=C||w||c,E=d(+o(),k);if(typeof b!="string")return o(b).tz(k);var D=function(O,$,U){var F=O-60*$*1e3,H=d(F,U);if($===H)return[F,$];var se=d(F-=60*(H-$)*1e3,U);return H===se?[F,H]:[O-60*Math.min(H,se)*1e3,Math.max(H,se)]}(o.utc(b,S).valueOf(),E,k),R=D[0],P=D[1],B=o(R).utcOffset(P);return B.$x.$timezone=k,B},o.tz.guess=function(){return Intl.DateTimeFormat().resolvedOptions().timeZone},o.tz.setDefault=function(b){c=b}}})}(cx)),cx.exports}var eke=J5e();const E0=Ti(eke),tke=`
  .react-datepicker {
    font-family: inherit;
    background-color: var(--obsidian-elite);
    border: 1px solid var(--gilded-shadow);
    border-radius: 8px;
    color: var(--platinum-gleam);
  }
  
  .react-datepicker__header {
    background-color: var(--phantom-noir);
    border-bottom: 1px solid var(--gilded-shadow);
  }
  
  .react-datepicker__current-month,
  .react-datepicker__day-name {
    color: var(--platinum-gleam);
  }
  
  .react-datepicker__day {
    color: var(--platinum-gleam);
    &:hover {
      background-color: var(--gilded-shadow);
    }
  }
  
  .react-datepicker__day--selected {
    background-color: var(--royal-emerald);
    color: white;
  }
  
  .react-datepicker__day--keyboard-selected {
    background-color: var(--royal-emerald);
    color: white;
  }
  
  .react-datepicker__navigation-icon::before {
    border-color: var(--platinum-gleam);
  }
`;Kn.extend(I0);Kn.extend(E0);const nke=()=>{var Y,ae,ne,re,oe,me,Ce;const{getFileUrl:e}=Er(),{selectedLocation:t,getLocationParam:n}=Jb(),[a,r]=_.useState(null),[i,o]=_.useState(!0),[c,l]=_.useState(null),[d,f]=_.useState("week"),[g,b]=_.useState([null,null]),[w,C]=g,[S,k]=_.useState(!1),E=Intl.DateTimeFormat().resolvedOptions().timeZone,D=_.useRef(null),R=_.useRef(null),{business_slug:P}=ha(),B=Is(),[O,$]=_.useState(null),[U,F]=_.useState(null),[H,se]=_.useState(!1),[K,te]=_.useState(new Set),J=async(Ne,Ee)=>{try{o(!0);const ve=Kn(Ne).tz(E).startOf("day").utc().format(),Se=Kn(Ee).tz(E).endOf("day").utc().format(),fe={start:ve,end:Se,tz:E,...n()},de=await Be.get(`/api/business/${P}/dashboard/`,{params:fe});r(de.data)}catch(ve){console.error("   :",ve),l(ve.message)}finally{o(!1)}};_.useEffect(()=>{const Ne=Kn().tz(E).toDate(),Ee=Kn().tz(E).subtract(d==="week"?7:30,"day").toDate();b([Ee,Ne]),k(!1)},[d,E]),_.useEffect(()=>{w&&C&&t&&J(w,C)},[w,C,P,t]);const z=Ne=>{const[Ee,ve]=Ne;b([Ee,ve]),k(!!Ee&&!!ve),Ee&&ve&&J(Ee,ve)},V=()=>{if(S&&w&&C){const Ne=Ee=>Ee.toLocaleDateString("ru-RU",{day:"numeric",month:"long",year:"numeric"});return`  : ${Ne(w)} - ${Ne(C)}`}return`  ${d==="week"?"":""}`},M=Ne=>{f(Ne),k(!1);const Ee=new Date,ve=new Date;ve.setDate(Ee.getDate()-(Ne==="week"?7:30)),b([ve,Ee])};_.useEffect(()=>{if(!D.current||!a)return;const Ne=D.current.getContext("2d");R.current&&R.current.destroy();const Ee=a.chart.map(ce=>new Date(ce.date).toLocaleDateString("ru-RU",{day:"numeric",month:"long"})),ve=a.chart.map(ce=>parseFloat(ce.amount)),Se=a.chart.map(ce=>ce.orders||0),fe=a.chart.map(ce=>ce.variants||0),de=a.chart.map(ce=>parseFloat(ce.refund_amount||0)),pe=a.chart.map(ce=>ce.returns||0);return R.current=new ac(Ne,{type:"line",data:{labels:Ee,datasets:[{label:" ()",data:ve,borderColor:"#2daf9f",backgroundColor:"rgba(45, 175, 159, 0.1)",tension:.3,fill:!0,yAxisID:"y"},{label:" ",data:Se,borderColor:"#ff9f40",backgroundColor:"rgba(255, 159, 64, 0.1)",borderDash:[5,5],tension:.3,yAxisID:"y1"},{label:" ",data:fe,borderColor:"#9966ff",backgroundColor:"rgba(153, 102, 255, 0.1)",borderDash:[5,5],tension:.3,yAxisID:"y1"},{label:" ()",data:de,borderColor:"#ff4757",backgroundColor:"rgba(255, 71, 87, 0.1)",borderDash:[10,5],tension:.3,yAxisID:"y"},{label:" ",data:pe,borderColor:"#f3ff47ff",backgroundColor:"rgba(255, 71, 87, 0.1)",borderDash:[10,5],tension:.3,yAxisID:"y1"}]},options:{responsive:!0,interaction:{mode:"index",intersect:!1},plugins:{legend:{display:!0,position:"top",labels:{color:"#ffffff",font:{family:"inherit"}}},tooltip:{callbacks:{label:function(ce){let Re=ce.dataset.label||"";return Re&&(Re+=": "),ce.datasetIndex===0||ce.datasetIndex===3?Re+=ce.parsed.y.toLocaleString("ru-RU")+" ":Re+=ce.parsed.y.toLocaleString("ru-RU"),Re}}}},scales:{y:{type:"linear",display:!0,position:"left",grid:{color:"rgba(255, 255, 255, 0.1)"},beginAtZero:!0,ticks:{color:"#2daf9f",callback:function(ce){return ce.toLocaleString("ru-RU")+" "}}},y1:{type:"linear",display:!0,position:"right",grid:{drawOnChartArea:!1},beginAtZero:!0,ticks:{color:"#ff9f40",callback:function(ce){return ce.toLocaleString("ru-RU")}}},x:{grid:{display:!1},ticks:{color:"#ffffff"}}}}}),()=>{R.current&&R.current.destroy()}},[a]);const ee=async Ne=>{try{se(!0);const Ee=await Be.get(`/api/business/${P}/receipts/${Ne}/`);F(Ee.data)}catch(Ee){console.error("   :",Ee),l("    ")}finally{se(!1)}},Z=Ne=>{$(Ne),ee(Ne.id)},A=()=>{$(null),F(null),te(new Set)},G=Ne=>{te(Ee=>{const ve=new Set(Ee);return ve.has(Ne)?ve.delete(Ne):ve.add(Ne),ve})},Q=({transaction:Ne,details:Ee,onClose:ve,loading:Se})=>{var ie,ge,be;if(!Ne)return null;const fe=new Date(Ne.created_at).toLocaleString("ru-RU"),de=parseFloat((Ee==null?void 0:Ee.discount_amount)||0),pe=parseFloat((Ee==null?void 0:Ee.total_returns_amount)||0),ce=parseFloat((Ee==null?void 0:Ee.profit_with_returns)||(Ee==null?void 0:Ee.total_amount)||0),Re=((ie=Ee==null?void 0:Ee.sales)==null?void 0:ie.reduce((Fe,je)=>Fe+parseFloat(je.bonus_accrued||0),0))||0,Ae=((ge=Ee==null?void 0:Ee.sales)==null?void 0:ge.reduce((Fe,je)=>Fe+parseFloat(je.bonus_redeemed||0),0))||0;return s.jsx("div",{className:Yt.modalOverlay,children:s.jsxs("div",{className:Yt.modalContent,children:[s.jsx("button",{className:Yt.closeButton,onClick:ve,children:s.jsx(da,{})}),s.jsxs("div",{className:Yt.receiptHeader,children:[s.jsxs("h3",{children:[" #",Ne.number]}),s.jsxs("div",{className:Yt.receiptMeta,children:[s.jsx("span",{children:fe}),s.jsx("span",{className:Yt.paymentMethod,children:Ne.payment_method}),(Ee==null?void 0:Ee.is_paid)&&s.jsx("span",{className:Yt.paidBadge,children:""})]})]}),Se?s.jsx("div",{className:Yt.modalLoading,children:" ..."}):s.jsxs(s.Fragment,{children:[((Ee==null?void 0:Ee.customer_name)||(Ee==null?void 0:Ee.customer_phone))&&s.jsxs("div",{className:Yt.customerInfo,children:[s.jsx("h4",{children:"  "}),Ee.customer_name&&s.jsxs("p",{children:[": ",Ee.customer_name]}),Ee.customer_phone&&s.jsxs("p",{children:[": ",Ee.customer_phone]})]}),s.jsx("div",{className:Yt.itemsList,children:(be=Ee==null?void 0:Ee.sales)==null?void 0:be.map(Fe=>{var je;return s.jsxs("div",{className:Yt.itemCard,children:[((je=Fe.variant.product_images)==null?void 0:je.length)>0&&s.jsx("div",{className:Yt.itemImage,children:s.jsx("img",{src:e(Fe.variant.product_images[0].image),alt:Fe.variant.product_name,onError:qe=>{qe.target.onerror=null,qe.target.src="/placeholder-product.png"}})}),s.jsxs("div",{className:Yt.itemInfo,children:[s.jsx("h4",{children:Fe.variant.product_name}),s.jsx("p",{className:Yt.variantName,children:Fe.variant.name}),s.jsxs("p",{className:Yt.sku,children:["SKU: ",Fe.variant.sku]}),Fe.variant.attributes&&Fe.variant.attributes.length>0&&s.jsxs("div",{className:Yt.attributesContainer,children:[s.jsx("button",{className:Yt.attributesToggle,onClick:()=>G(Fe.id),children:K.has(Fe.id)?s.jsxs(s.Fragment,{children:[s.jsx(ko,{}),"  "]}):s.jsxs(s.Fragment,{children:[s.jsx(No,{}),"   (",Fe.variant.attributes.length,")"]})}),K.has(Fe.id)&&s.jsx("div",{className:Yt.productAttributes,children:Fe.variant.attributes.map(qe=>s.jsxs("div",{className:Yt.attributeItem,children:[s.jsxs("span",{className:Yt.attributeName,children:[qe.category_attribute_name,":"]}),s.jsx("span",{className:Yt.attributeValue,children:qe.predefined_value_name||qe.custom_value||" "})]},qe.id))})]}),Fe.variant.stocks_data&&s.jsx("div",{className:Yt.stockInfo,children:s.jsxs("small",{children:["  : ",Fe.variant.stocks_data.total_available_quantity]})}),s.jsxs("div",{className:Yt.itemPricing,children:[s.jsxs("div",{className:Yt.priceRow,children:[s.jsxs("span",{children:[Fe.quantity,"  "]}),s.jsxs("span",{className:Yt.originalPrice,children:[parseFloat(Fe.price_per_unit).toLocaleString("ru-RU")," "]}),parseFloat(Fe.discount_percent||0)>0&&s.jsxs(s.Fragment,{children:[s.jsxs("span",{className:Yt.discountBadge,children:["-",Fe.discount_percent,"%"]}),s.jsxs("span",{className:Yt.finalPrice,children:[parseFloat(Fe.total_price).toLocaleString("ru-RU")," "]})]})]}),Fe.variant.sold_quantity&&s.jsx("div",{className:Yt.soldInfo,children:s.jsxs("small",{children:[" : ",Fe.variant.sold_quantity]})}),(Fe.bonus_accrued&&parseFloat(Fe.bonus_accrued)>0||Fe.bonus_redeemed&&parseFloat(Fe.bonus_redeemed)>0)&&s.jsxs("div",{className:Yt.bonusInfo,children:[Fe.bonus_accrued&&parseFloat(Fe.bonus_accrued)>0&&s.jsxs("div",{className:Yt.bonusAccrued,children:[s.jsx(vi,{className:Yt.bonusIcon}),s.jsx("span",{className:Yt.bonusLabel,children:":"}),s.jsxs("span",{className:Yt.bonusValue,children:["+",parseFloat(Fe.bonus_accrued).toFixed(2)]})]}),Fe.bonus_redeemed&&parseFloat(Fe.bonus_redeemed)>0&&s.jsxs("div",{className:Yt.bonusRedeemed,children:[s.jsx(vi,{className:Yt.bonusIcon}),s.jsx("span",{className:Yt.bonusLabel,children:":"}),s.jsxs("span",{className:Yt.bonusValue,children:["-",parseFloat(Fe.bonus_redeemed).toFixed(2)]})]})]})]}),Fe.returns&&Fe.returns.length>0&&s.jsxs("div",{className:Yt.returnsSection,children:[s.jsxs("h5",{children:[s.jsx(H3,{}),"    :"]}),Fe.returns.map(qe=>s.jsxs("div",{className:Yt.returnItem,children:[s.jsxs("div",{className:Yt.returnHeader,children:[s.jsxs("span",{children:[": ",qe.quantity]}),s.jsxs("span",{className:Yt.refundAmount,children:["-",parseFloat(qe.refund_amount).toLocaleString("ru-RU")," "]})]}),s.jsxs("p",{className:Yt.returnReason,children:[s.jsx("strong",{children:":"})," ",qe.reason]}),s.jsxs("p",{className:Yt.returnLocation,children:[s.jsx("strong",{children:":"})," ",qe.location_name]}),s.jsx("p",{className:Yt.returnDate,children:new Date(qe.return_date).toLocaleString("ru-RU")}),qe.is_defect&&s.jsxs("span",{className:Yt.defectBadge,children:[s.jsx(Ol,{})," "]}),qe.created_by_name&&s.jsxs("p",{className:Yt.createdBy,children:[": ",qe.created_by_name]})]},qe.id))]}),Fe.available_to_return>0&&s.jsx("div",{className:Yt.availableReturn,children:s.jsxs("small",{children:["  : ",Fe.available_to_return]})})]})]},Fe.id)})}),s.jsxs("div",{className:Yt.receiptFooter,children:[de>0&&s.jsxs("div",{className:Yt.discountInfo,children:[s.jsx("span",{children:":"}),s.jsxs("span",{className:Yt.discountAmount,children:["-",de.toLocaleString("ru-RU")," ",parseFloat(Ee.discount_percent||0)>0&&` (${Ee.discount_percent}%)`]})]}),pe>0&&s.jsxs("div",{className:Yt.returnsInfo,children:[s.jsx("span",{children:"  :"}),s.jsxs("span",{className:Yt.returnsAmount,children:["-",pe.toLocaleString("ru-RU")," "]})]}),s.jsxs("div",{className:Yt.totalRow,children:[s.jsx("span",{children:":"}),s.jsxs("span",{className:Yt.totalAmount,children:[parseFloat((Ee==null?void 0:Ee.total_amount)||0).toLocaleString("ru-RU")," "]})]}),ce!==parseFloat((Ee==null?void 0:Ee.total_amount)||0)&&s.jsxs("div",{className:Yt.profitRow,children:[s.jsx("span",{children:"   :"}),s.jsxs("span",{className:Yt.profitAmount,children:[ce.toLocaleString("ru-RU")," "]})]}),(Re>0||Ae>0)&&s.jsxs("div",{className:Yt.bonusSection,children:[s.jsxs("h4",{className:Yt.bonusSectionTitle,children:[s.jsx(vi,{}),"   "]}),Re>0&&s.jsxs("div",{className:Yt.bonusRow,children:[s.jsx("span",{children:" :"}),s.jsxs("span",{className:Yt.bonusAccruedTotal,children:["+",Re.toFixed(2)]})]}),Ae>0&&s.jsxs("div",{className:Yt.bonusRow,children:[s.jsx("span",{children:" :"}),s.jsxs("span",{className:Yt.bonusRedeemedTotal,children:["-",Ae.toFixed(2)]})]})]}),s.jsxs("div",{className:Yt.actionButtons,children:[(Ee==null?void 0:Ee.receipt_pdf_file)&&s.jsxs("a",{href:e(Ee.receipt_pdf_file),className:Yt.downloadButton,target:"_blank",rel:"noopener noreferrer",children:[s.jsx(qb,{}),"  PDF"]}),(Ee==null?void 0:Ee.receipt_preview_image)&&s.jsx("a",{href:e(Ee.receipt_preview_image),className:Yt.previewButton,target:"_blank",rel:"noopener noreferrer",children:" "})]})]})]})]})})};return i?s.jsx("div",{className:Yt.loading,children:" ..."}):c?s.jsxs("div",{className:Yt.error,children:[": ",c]}):s.jsxs("div",{className:Yt.app,children:[s.jsx("style",{children:tke}),s.jsxs("main",{className:Yt.mainContent,children:[s.jsxs("div",{className:Yt.headerWithControls,children:[s.jsxs("h3",{className:Yt.pageTitle,children:[s.jsx(CO,{className:Yt.icon})," ",V()]}),s.jsxs("div",{className:Yt.periodControls,children:[s.jsx("button",{className:`${Yt.periodButton} ${d==="week"&&!S?Yt.active:""}`,onClick:()=>M("week"),children:""}),s.jsx("button",{className:`${Yt.periodButton} ${d==="month"&&!S?Yt.active:""}`,onClick:()=>M("month"),children:""}),s.jsxs("div",{className:Yt.dateRangePicker,children:[s.jsx(Vo,{className:Yt.calendarIcon}),s.jsx(i$,{selectsRange:!0,startDate:w,endDate:C,onChange:z,dateFormat:"dd MMM yyyy",className:Yt.dateInput,maxDate:new Date,calendarClassName:Yt.calendarWrapper,popperClassName:Yt.datePickerPopper,placeholderText:" "})]})]})]}),s.jsxs("div",{className:Yt.statsGrid,children:[s.jsxs("div",{className:`${Yt.statCard} ${Yt.success}`,children:[s.jsx("h6",{children:" "}),s.jsxs("h3",{children:[(Y=a==null?void 0:a.totals)!=null&&Y.revenue?parseFloat(a.totals.revenue).toLocaleString("ru-RU"):"0"," "]})]}),s.jsxs("div",{className:`${Yt.statCard} ${Yt.warning}`,children:[s.jsx("h6",{children:" "}),s.jsx("h3",{children:((ae=a==null?void 0:a.totals)==null?void 0:ae.sales_count)||0})]}),s.jsxs("div",{className:`${Yt.statCard} ${Yt.success}`,children:[s.jsx("h6",{children:" "}),s.jsx("h3",{children:((ne=a==null?void 0:a.totals)==null?void 0:ne.orders)||0})]}),s.jsxs("div",{className:`${Yt.statCard} ${Yt.danger}`,children:[s.jsx("h6",{children:" "}),s.jsxs("h3",{children:[(re=a==null?void 0:a.totals)!=null&&re.refund_amount?parseFloat(a.totals.refund_amount).toLocaleString("ru-RU"):"0"," "]})]}),s.jsxs("div",{className:`${Yt.statCard} ${Yt.danger}`,children:[s.jsx("h6",{children:" "}),s.jsx("h3",{children:((oe=a==null?void 0:a.totals)==null?void 0:oe.returns_count)||0})]})]}),s.jsxs("div",{className:Yt.contentRow,children:[s.jsxs("div",{className:Yt.chartContainer,children:[s.jsx("h5",{children:"  "}),s.jsx("canvas",{ref:D,height:"250"})]}),s.jsxs("div",{className:Yt.transactionList,children:[s.jsx("h5",{children:" "}),(me=a==null?void 0:a.transactions)==null?void 0:me.slice(0,5).map((Ne,Ee)=>s.jsxs("div",{className:Yt.transactionItem,onClick:()=>Z(Ne),children:[s.jsxs("div",{className:Yt.transactionHeader,children:[s.jsxs("span",{children:["#",Ne.number]}),s.jsxs("span",{className:Ne.is_refund?Yt.danger:Yt.success,children:[Ne.is_refund?"-":"+","",parseFloat(Ne.amount).toLocaleString("ru-RU")]})]}),s.jsxs("div",{className:Yt.transactionMeta,children:[s.jsx("small",{children:new Date(Ne.created_at).toLocaleString("ru-RU")}),s.jsx("small",{className:Yt.paymentMethod,children:Ne.payment_method})]})]},Ee)),((Ce=a==null?void 0:a.transactions)==null?void 0:Ce.length)===0&&s.jsx("div",{className:Yt.noTransactions,children:"     "})]}),s.jsx(Q,{transaction:O,details:U,onClose:A,loading:H})]}),(a==null?void 0:a.tasks)&&a.tasks.length>0&&s.jsxs("div",{className:Yt.tasksSection,children:[s.jsxs("div",{className:Yt.tasksHeader,children:[s.jsxs("h5",{children:[s.jsx(Wb,{className:Yt.tasksIcon}),"  "]}),s.jsxs("button",{className:Yt.viewAllTasksButton,onClick:()=>B(`/business/${P}/tasks`),children:["  ",s.jsx(Pb,{className:Yt.arrowIcon})]})]}),s.jsx("div",{className:Yt.tasksGrid,children:a.tasks.map(Ne=>s.jsxs("div",{className:Yt.taskCard,onClick:()=>B(`/business/${P}/tasks/${Ne.id}`),children:[s.jsxs("div",{className:Yt.taskCardHeader,children:[s.jsx("h6",{className:Yt.taskTitle,children:Ne.title}),s.jsxs("div",{className:Yt.taskBadges,children:[s.jsx("span",{className:`${Yt.taskBadge} ${Yt[`priority${Ne.priority.charAt(0).toUpperCase()+Ne.priority.slice(1)}`]}`,children:Ne.priority_display}),s.jsx("span",{className:`${Yt.taskBadge} ${Yt[`status${Ne.status.charAt(0).toUpperCase()+Ne.status.slice(1).replace("_","")}`]}`,children:Ne.status_display})]})]}),Ne.progress&&s.jsxs("div",{className:Yt.taskProgress,children:[s.jsxs("div",{className:Yt.taskProgressInfo,children:[s.jsx("span",{children:""}),s.jsxs("span",{className:Yt.taskProgressPercentage,children:[Ne.progress.percentage,"%"]})]}),s.jsx("div",{className:Yt.taskProgressBar,children:s.jsx("div",{className:Yt.taskProgressBarFill,style:{width:`${Ne.progress.percentage}%`}})}),s.jsxs("div",{className:Yt.taskProgressStats,children:[Ne.progress.completed,"  ",Ne.progress.total," "]})]}),s.jsxs("div",{className:Yt.taskMeta,children:[Ne.assignees&&Ne.assignees.length>0&&s.jsxs("div",{className:Yt.taskAssignees,children:[s.jsx(Bl,{className:Yt.taskMetaIcon}),s.jsx("span",{children:Ne.assignees.map(Ee=>Ee.name).join(", ")})]}),Ne.due_date&&s.jsxs("div",{className:Yt.taskDueDate,children:[s.jsx(Vo,{className:Yt.taskMetaIcon}),s.jsx("span",{children:Kn(Ne.due_date).format("DD.MM.YYYY")})]}),Ne.location_name&&s.jsx("div",{className:Yt.taskLocation,children:s.jsx("span",{children:Ne.location_name})})]})]},Ne.id))})]})]})]})},ske="_container_13ojx_3",ake="_header_13ojx_35",rke="_title_13ojx_40",ike="_titleIcon_13ojx_51",oke="_locationInfo_13ojx_56",cke="_locationBadge_13ojx_60",lke="_periodSelector_13ojx_72",uke="_periodButtons_13ojx_76",dke="_periodButton_13ojx_76",hke="_active_13ojx_104",fke="_customDateContainer_13ojx_110",mke="_dateInput_13ojx_114",pke="_tabNavigation_13ojx_133",gke="_tabButton_13ojx_143",_ke="_tabContent_13ojx_172",vke="_statsGrid_13ojx_177",xke="_statCard_13ojx_184",bke="_revenue_13ojx_217",yke="_orders_13ojx_221",wke="_products_13ojx_225",jke="_returns_13ojx_229",Cke="_statIcon_13ojx_233",Ske="_statContent_13ojx_256",Nke="_chartContainer_13ojx_278",kke="_chartTitle_13ojx_287",Ike="_chartIcon_13ojx_297",Eke="_chartWrapper_13ojx_301",Tke="_transactionsList_13ojx_308",Dke="_sectionTitle_13ojx_316",Ake="_sectionIcon_13ojx_326",Mke="_transactionItem_13ojx_331",Rke="_transactionHeader_13ojx_366",Bke="_transactionNumber_13ojx_375",Oke="_transactionAmount_13ojx_381",Lke="_sale_13ojx_386",$ke="_refund_13ojx_390",Pke="_transactionMeta_13ojx_394",Fke="_transactionDate_13ojx_404",Hke="_paymentMethod_13ojx_408",qke="_noTransactions_13ojx_418",Vke="_noTransactionsIcon_13ojx_424",zke="_modalOverlay_13ojx_436",Uke="_fadeIn_13ojx_1",Wke="_transactionModal_13ojx_457",Yke="_slideInUp_13ojx_1",Gke="_modalHeader_13ojx_486",Qke="_cancelButton_13ojx_505",Xke="_modalContent_13ojx_522",Kke="_modalLoading_13ojx_535",Zke="_loadingSpinner_13ojx_540",Jke="_spin_13ojx_1",eIe="_receiptInfo_13ojx_556",tIe="_receiptHeader_13ojx_560",nIe="_receiptNumber_13ojx_568",sIe="_receiptDate_13ojx_575",aIe="_receiptAmount_13ojx_581",rIe="_receiptItems_13ojx_598",iIe="_receiptItem_13ojx_598",oIe="_itemHeader_13ojx_617",cIe="_productImage_13ojx_623",lIe="_productImg_13ojx_633",uIe="_noImagePlaceholder_13ojx_639",dIe="_productInfo_13ojx_651",hIe="_itemAttributes_13ojx_655",fIe="_attribute_13ojx_663",mIe="_stockInfo_13ojx_682",pIe="_soldInfo_13ojx_695",gIe="_returnsSection_13ojx_708",_Ie="_returnItem_13ojx_725",vIe="_returnHeader_13ojx_737",xIe="_refundAmount_13ojx_744",bIe="_returnReason_13ojx_749",yIe="_returnLocation_13ojx_750",wIe="_returnDate_13ojx_751",jIe="_createdBy_13ojx_752",CIe="_defectBadge_13ojx_758",SIe="_availableReturn_13ojx_769",NIe="_variantName_13ojx_789",kIe="_sku_13ojx_795",IIe="_itemPricing_13ojx_801",EIe="_priceRow_13ojx_806",TIe="_originalPrice_13ojx_814",DIe="_discountBadge_13ojx_819",AIe="_finalPrice_13ojx_828",MIe="_receiptFooter_13ojx_833",RIe="_discountTotal_13ojx_839",BIe="_totalAmount_13ojx_845",OIe="_modalActions_13ojx_851",LIe="_closeModalButton_13ojx_860",$Ie="_loadingContainer_13ojx_886",PIe="_errorContainer_13ojx_901",FIe="_errorIcon_13ojx_912",HIe="_retryButton_13ojx_927",qIe="_modalBody_13ojx_978",VIe="_tasksSection_13ojx_1011",zIe="_tasksHeader_13ojx_1019",UIe="_tasksTitle_13ojx_1026",WIe="_tasksIcon_13ojx_1036",YIe="_viewAllTasksButton_13ojx_1041",GIe="_arrowIcon_13ojx_1063",QIe="_tasksList_13ojx_1067",XIe="_taskCard_13ojx_1073",KIe="_taskCardHeader_13ojx_1089",ZIe="_taskTitle_13ojx_1095",JIe="_taskBadges_13ojx_1107",eEe="_taskBadge_13ojx_1107",tEe="_priorityLow_13ojx_1121",nEe="_priorityMedium_13ojx_1127",sEe="_priorityHigh_13ojx_1133",aEe="_priorityCritical_13ojx_1139",rEe="_statusTodo_13ojx_1145",iEe="_statusInprogress_13ojx_1151",oEe="_statusReview_13ojx_1157",cEe="_taskProgress_13ojx_1163",lEe="_taskProgressInfo_13ojx_1171",uEe="_taskProgressPercentage_13ojx_1179",dEe="_taskProgressBar_13ojx_1185",hEe="_taskProgressBarFill_13ojx_1194",fEe="_taskProgressStats_13ojx_1202",mEe="_taskMeta_13ojx_1208",pEe="_taskAssignees_13ojx_1216",gEe="_taskDueDate_13ojx_1217",_Ee="_taskMetaIcon_13ojx_1225",vEe="_taskLocation_13ojx_1230",xEe="_outerGlow_13ojx_1",_n={container:ske,header:ake,title:rke,titleIcon:ike,locationInfo:oke,locationBadge:cke,periodSelector:lke,periodButtons:uke,periodButton:dke,active:hke,customDateContainer:fke,dateInput:mke,tabNavigation:pke,tabButton:gke,tabContent:_ke,statsGrid:vke,statCard:xke,revenue:bke,orders:yke,products:wke,returns:jke,statIcon:Cke,statContent:Ske,chartContainer:Nke,chartTitle:kke,chartIcon:Ike,chartWrapper:Eke,transactionsList:Tke,sectionTitle:Dke,sectionIcon:Ake,transactionItem:Mke,transactionHeader:Rke,transactionNumber:Bke,transactionAmount:Oke,sale:Lke,refund:$ke,transactionMeta:Pke,transactionDate:Fke,paymentMethod:Hke,noTransactions:qke,noTransactionsIcon:Vke,modalOverlay:zke,fadeIn:Uke,transactionModal:Wke,slideInUp:Yke,modalHeader:Gke,cancelButton:Qke,modalContent:Xke,modalLoading:Kke,loadingSpinner:Zke,spin:Jke,receiptInfo:eIe,receiptHeader:tIe,receiptNumber:nIe,receiptDate:sIe,receiptAmount:aIe,receiptItems:rIe,receiptItem:iIe,itemHeader:oIe,productImage:cIe,productImg:lIe,noImagePlaceholder:uIe,productInfo:dIe,itemAttributes:hIe,attribute:fIe,stockInfo:mIe,soldInfo:pIe,returnsSection:gIe,returnItem:_Ie,returnHeader:vIe,refundAmount:xIe,returnReason:bIe,returnLocation:yIe,returnDate:wIe,createdBy:jIe,defectBadge:CIe,availableReturn:SIe,variantName:NIe,sku:kIe,itemPricing:IIe,priceRow:EIe,originalPrice:TIe,discountBadge:DIe,finalPrice:AIe,receiptFooter:MIe,discountTotal:RIe,totalAmount:BIe,modalActions:OIe,closeModalButton:LIe,loadingContainer:$Ie,errorContainer:PIe,errorIcon:FIe,retryButton:HIe,modalBody:qIe,tasksSection:VIe,tasksHeader:zIe,tasksTitle:UIe,tasksIcon:WIe,viewAllTasksButton:YIe,arrowIcon:GIe,tasksList:QIe,taskCard:XIe,taskCardHeader:KIe,taskTitle:ZIe,taskBadges:JIe,taskBadge:eEe,priorityLow:tEe,priorityMedium:nEe,priorityHigh:sEe,priorityCritical:aEe,statusTodo:rEe,statusInprogress:iEe,statusReview:oEe,taskProgress:cEe,taskProgressInfo:lEe,taskProgressPercentage:uEe,taskProgressBar:dEe,taskProgressBarFill:hEe,taskProgressStats:fEe,taskMeta:mEe,taskAssignees:pEe,taskDueDate:gEe,taskMetaIcon:_Ee,taskLocation:vEe,outerGlow:xEe},bEe="_statCard_1ootd_3",yEe="_primary_1ootd_37",wEe="_success_1ootd_41",jEe="_warning_1ootd_45",CEe="_danger_1ootd_49",SEe="_cardContent_1ootd_53",NEe="_iconContainer_1ootd_61",kEe="_textContent_1ootd_92",IEe="_title_1ootd_96",EEe="_value_1ootd_105",TEe="_trend_1ootd_113",DEe="_positive_1ootd_122",AEe="_negative_1ootd_127",MEe="_cardBackground_1ootd_132",Vc={statCard:bEe,primary:yEe,success:wEe,warning:jEe,danger:CEe,cardContent:SEe,iconContainer:NEe,textContent:kEe,title:IEe,value:EEe,trend:TEe,positive:DEe,negative:AEe,cardBackground:MEe},vv=({title:e,value:t,icon:n,color:a="primary",trend:r,delay:i=0,onClick:o})=>s.jsxs(os.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:i,duration:.5},whileHover:{scale:1.02},whileTap:{scale:.98},className:`${Vc.statCard} ${Vc[a]}`,onClick:o,children:[s.jsxs("div",{className:Vc.cardContent,children:[s.jsx("div",{className:Vc.iconContainer,children:n}),s.jsxs("div",{className:Vc.textContent,children:[s.jsx("h6",{className:Vc.title,children:e}),s.jsx("h3",{className:Vc.value,children:t}),r&&s.jsxs("div",{className:`${Vc.trend} ${r>0?Vc.positive:Vc.negative}`,children:[r>0?"":""," ",Math.abs(r),"%"]})]})]}),s.jsx("div",{className:Vc.cardBackground})]}),REe="_chartContainer_10e0p_5",BEe="_chartTitle_10e0p_49",OEe="_chartWrapper_10e0p_73",LEe="_noDataMessage_10e0p_91",Gf={chartContainer:REe,chartTitle:BEe,chartWrapper:OEe,noDataMessage:LEe},$Ee=({data:e,title:t,height:n=300})=>{const a=_.useRef(null),r=_.useRef(null);return _.useEffect(()=>{if(!e||!a.current)return;r.current&&r.current.destroy();const i=a.current.getContext("2d"),o=e;console.log("AnimatedChart: Creating chart with data",o);const c=o.map(b=>Kn(b.date).format("DD MMM")),l=o.map(b=>parseFloat(b.amount||0)),d=o.map(b=>parseInt(b.orders||0)),f=o.map(b=>parseInt(b.variants||0)),g=o.map(b=>parseFloat(b.refund_amount||0));return r.current=new ac(i,{type:"line",data:{labels:c,datasets:[{label:" ()",data:l,borderColor:"#2daf9f",backgroundColor:"rgba(45, 175, 159, 0.1)",tension:.4,yAxisID:"y",pointBackgroundColor:"#2daf9f",pointBorderColor:"#ffffff",pointBorderWidth:2,pointRadius:4,pointHoverRadius:6},{label:"",data:d,borderColor:"#ff9f40",backgroundColor:"rgba(255, 159, 64, 0.1)",borderDash:[5,5],tension:.3,yAxisID:"y1",pointBackgroundColor:"#ff9f40",pointBorderColor:"#ffffff",pointBorderWidth:2,pointRadius:4,pointHoverRadius:6},{label:" ",data:f,borderColor:"#9966ff",backgroundColor:"rgba(153, 102, 255, 0.1)",borderDash:[5,5],tension:.3,yAxisID:"y1",pointBackgroundColor:"#9966ff",pointBorderColor:"#ffffff",pointBorderWidth:2,pointRadius:4,pointHoverRadius:6},{label:" ()",data:g,borderColor:"#ff4757",backgroundColor:"rgba(255, 71, 87, 0.1)",borderDash:[10,5],tension:.3,yAxisID:"y",pointBackgroundColor:"#ff4757",pointBorderColor:"#ffffff",pointBorderWidth:2,pointRadius:4,pointHoverRadius:6}]},options:{responsive:!0,maintainAspectRatio:!1,animation:{duration:2e3,easing:"easeInOutQuart"},interaction:{mode:"index",intersect:!1},plugins:{legend:{display:!0,position:"top",labels:{color:"#ffffff",font:{family:"inherit",size:12},usePointStyle:!0,pointStyle:"circle"}},tooltip:{backgroundColor:"rgba(0, 0, 0, 0.8)",titleColor:"#ffffff",bodyColor:"#ffffff",borderColor:"#2daf9f",borderWidth:1,cornerRadius:8,callbacks:{label:function(b){let w=b.dataset.label||"";return w&&(w+=": "),b.datasetIndex===0||b.datasetIndex===3?w+=b.parsed.y.toLocaleString("ru-RU")+" ":w+=b.parsed.y.toLocaleString("ru-RU"),w}}}},scales:{y:{type:"linear",display:!0,position:"left",grid:{color:"rgba(255, 255, 255, 0.1)",drawBorder:!1},beginAtZero:!0,ticks:{color:"#2daf9f",font:{size:10},callback:function(b){return b.toLocaleString("ru-RU")+" "}}},y1:{type:"linear",display:!0,position:"right",grid:{drawOnChartArea:!1,drawBorder:!1},beginAtZero:!0,ticks:{color:"#ff9f40",font:{size:10},callback:function(b){return b.toLocaleString("ru-RU")}}},x:{grid:{display:!1,drawBorder:!1},ticks:{color:"#ffffff",font:{size:10}}}}}}),()=>{r.current&&r.current.destroy()}},[e]),!e||e.length===0?s.jsxs(os.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:Gf.chartContainer,children:[t&&s.jsx("h5",{className:Gf.chartTitle,children:t}),s.jsx("div",{className:Gf.noDataMessage,children:s.jsx("p",{children:"    "})})]}):s.jsxs(os.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:Gf.chartContainer,children:[t&&s.jsx("h5",{className:Gf.chartTitle,children:t}),s.jsx("div",{className:Gf.chartWrapper,style:{height:n},children:s.jsx("canvas",{ref:a})})]})},PEe="_transactionCard_18erc_5",FEe="_sale_18erc_75",HEe="_refund_18erc_83",qEe="_cardHeader_18erc_91",VEe="_transactionInfo_18erc_109",zEe="_transactionNumber_18erc_117",UEe="_receiptIcon_18erc_137",WEe="_transactionDate_18erc_147",YEe="_amountContainer_18erc_157",GEe="_saleAmount_18erc_177",QEe="_refundAmount_18erc_189",XEe="_amountIcon_18erc_201",KEe="_amount_18erc_157",ZEe="_cardFooter_18erc_217",JEe="_paymentMethod_18erc_233",eTe="_statusIndicator_18erc_255",tTe="_statusDot_18erc_271",nTe="_saleDot_18erc_285",sTe="_refundDot_18erc_295",aTe="_cardBackground_18erc_335",Ni={transactionCard:PEe,sale:FEe,refund:HEe,cardHeader:qEe,transactionInfo:VEe,transactionNumber:zEe,receiptIcon:UEe,transactionDate:WEe,amountContainer:YEe,saleAmount:GEe,refundAmount:QEe,amountIcon:XEe,amount:KEe,cardFooter:ZEe,paymentMethod:JEe,statusIndicator:eTe,statusDot:tTe,saleDot:nTe,refundDot:sTe,cardBackground:aTe},rTe=({transaction:e,onClick:t,delay:n=0})=>{const a=e.is_refund,i=parseFloat(e.amount).toLocaleString("ru-RU");return s.jsxs(os.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:n,duration:.5},whileHover:{scale:1.02},whileTap:{scale:.98},className:`${Ni.transactionCard} ${a?Ni.refund:Ni.sale}`,onClick:t,children:[s.jsxs("div",{className:Ni.cardHeader,children:[s.jsxs("div",{className:Ni.transactionInfo,children:[s.jsxs("div",{className:Ni.transactionNumber,children:[s.jsx($o,{className:Ni.receiptIcon}),"#",e.number]}),s.jsx("div",{className:Ni.transactionDate,children:new Date(e.created_at).toLocaleString("ru-RU")})]}),s.jsxs("div",{className:`${Ni.amountContainer} ${a?Ni.refundAmount:Ni.saleAmount}`,children:[s.jsx("div",{className:Ni.amountIcon,children:a?s.jsx(m0,{}):s.jsx(p0,{})}),s.jsxs("div",{className:Ni.amount,children:[a?"-":"+","",i]})]})]}),s.jsxs("div",{className:Ni.cardFooter,children:[s.jsx("div",{className:Ni.paymentMethod,children:e.payment_method}),s.jsxs("div",{className:Ni.statusIndicator,children:[s.jsx("div",{className:`${Ni.statusDot} ${a?Ni.refundDot:Ni.saleDot}`}),a?"":""]})]}),s.jsx("div",{className:Ni.cardBackground})]})},iTe="_emptyState_1v1in_5",oTe="_emptyIcon_1v1in_49",cTe="_emptyTitle_1v1in_85",lTe="_emptyDescription_1v1in_103",uTe="_emptyAction_1v1in_121",E1={emptyState:iTe,emptyIcon:oTe,emptyTitle:cTe,emptyDescription:lTe,emptyAction:uTe},dTe=({icon:e,title:t,description:n,action:a,delay:r=0})=>s.jsxs(os.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:r,duration:.5},className:E1.emptyState,children:[s.jsx("div",{className:E1.emptyIcon,children:e}),s.jsx("h3",{className:E1.emptyTitle,children:t}),s.jsx("p",{className:E1.emptyDescription,children:n}),a&&s.jsx("div",{className:E1.emptyAction,children:a})]}),hTe=`
  .react-datepicker {
    font-family: inherit;
    background-color: var(--obsidian-elite);
    border: 1px solid var(--gilded-shadow);
    border-radius: 12px;
    color: var(--platinum-gleam);
    box-shadow: 0 8px 24px rgba(0, 0, 0, 0.3);
  }
  
  .react-datepicker__header {
    background-color: var(--phantom-noir);
    border-bottom: 1px solid var(--gilded-shadow);
    border-radius: 12px 12px 0 0;
  }
  
  .react-datepicker__current-month,
  .react-datepicker__day-name {
    color: var(--platinum-gleam);
  }
  
  .react-datepicker__day {
    color: var(--platinum-gleam);
    &:hover {
      background-color: var(--gilded-shadow);
    }
  }
  
  .react-datepicker__day--selected {
    background-color: var(--royal-emerald);
    color: white;
  }
  
  .react-datepicker__day--keyboard-selected {
    background-color: var(--royal-emerald);
    color: white;
  }
  
  .react-datepicker__navigation-icon::before {
    border-color: var(--platinum-gleam);
  }
`;Kn.extend(I0);Kn.extend(E0);const fTe=()=>{var Q,Y,ae,ne,re,oe;const{getFileUrl:e}=Er(),{selectedLocation:t,getLocationParam:n}=Jb(),[a,r]=_.useState(null),[i,o]=_.useState(!0),[c,l]=_.useState(null),[d,f]=_.useState("week"),[g,b]=_.useState([null,null]),[w,C]=g,[S,k]=_.useState(!1),[E,D]=_.useState("overview"),R=Intl.DateTimeFormat().resolvedOptions().timeZone,P=_.useRef(null),B=_.useRef(null),{business_slug:O}=ha(),$=Is(),[U,F]=_.useState(null),[H,se]=_.useState(null),[K,te]=_.useState(!1),J=async(me,Ce)=>{var Ne,Ee;try{o(!0);const ve=Kn(me).tz(R).startOf("day").utc().format(),Se=Kn(Ce).tz(R).endOf("day").utc().format(),fe=n();console.log("BusinessMainPageMobile: Location params",fe),console.log("BusinessMainPageMobile: Selected location",t);const de={start:ve,end:Se,tz:R,...fe};console.log("BusinessMainPageMobile: Final API params",de);const pe=await Be.get(`/api/business/${O}/dashboard/`,{params:de});r(pe.data)}catch(ve){l(((Ee=(Ne=ve.response)==null?void 0:Ne.data)==null?void 0:Ee.detail)||"  ")}finally{o(!1)}},z=me=>{f(me),k(!1);const Ce=Kn();let Ne,Ee;switch(me){case"today":Ne=Ce.startOf("day"),Ee=Ce.endOf("day");break;case"week":Ne=Ce.subtract(1,"week").startOf("day"),Ee=Ce.endOf("day");break;case"month":Ne=Ce.subtract(1,"month").startOf("day"),Ee=Ce.endOf("day");break;default:return}b([Ne.toDate(),Ee.toDate()]),J(Ne.toDate(),Ee.toDate())},V=me=>{const[Ce,Ne]=me;b([Ce,Ne]),k(!0),Ce&&Ne&&J(Ce,Ne)},M=()=>{if(!(a!=null&&a.chart_data)||!P.current)return;B.current&&B.current.destroy();const me=P.current.getContext("2d"),Ce=a.chart_data,Ne=Ce.map(de=>Kn(de.date).format("DD MMM")),Ee=Ce.map(de=>parseFloat(de.revenue||0)),ve=Ce.map(de=>parseInt(de.orders||0)),Se=Ce.map(de=>parseInt(de.variants_sold||0)),fe=Ce.map(de=>parseFloat(de.refund_amount||0));Ce.map(de=>parseInt(de.returns_count||0)),B.current=new ac(me,{type:"line",data:{labels:Ne,datasets:[{label:" ()",data:Ee,borderColor:"#2daf9f",backgroundColor:"rgba(45, 175, 159, 0.1)",tension:.4,yAxisID:"y"},{label:"",data:ve,borderColor:"#ff9f40",backgroundColor:"rgba(255, 159, 64, 0.1)",borderDash:[5,5],tension:.3,yAxisID:"y1"},{label:" ",data:Se,borderColor:"#9966ff",backgroundColor:"rgba(153, 102, 255, 0.1)",borderDash:[5,5],tension:.3,yAxisID:"y1"},{label:" ()",data:fe,borderColor:"#ff4757",backgroundColor:"rgba(255, 71, 87, 0.1)",borderDash:[10,5],tension:.3,yAxisID:"y"}]},options:{responsive:!0,maintainAspectRatio:!1,interaction:{mode:"index",intersect:!1},plugins:{legend:{display:!0,position:"top",labels:{color:"#ffffff",font:{family:"inherit",size:12}}},tooltip:{callbacks:{label:function(de){let pe=de.dataset.label||"";return pe&&(pe+=": "),de.datasetIndex===0||de.datasetIndex===3?pe+=de.parsed.y.toLocaleString("ru-RU")+" ":pe+=de.parsed.y.toLocaleString("ru-RU"),pe}}}},scales:{y:{type:"linear",display:!0,position:"left",grid:{color:"rgba(255, 255, 255, 0.1)"},beginAtZero:!0,ticks:{color:"#2daf9f",font:{size:10},callback:function(de){return de.toLocaleString("ru-RU")+" "}}},y1:{type:"linear",display:!0,position:"right",grid:{drawOnChartArea:!1},beginAtZero:!0,ticks:{color:"#ff9f40",font:{size:10},callback:function(de){return de.toLocaleString("ru-RU")}}},x:{grid:{display:!1},ticks:{color:"#ffffff",font:{size:10}}}}}})},ee=_.useCallback(async me=>{if((U==null?void 0:U.id)!==me.id){F(me),te(!0),se(null);try{const Ce=await Be.get(`/api/business/${O}/receipts/${me.id}/`);se(Ce.data)}catch(Ce){console.error("   :",Ce)}finally{te(!1)}}},[O,U==null?void 0:U.id]),Z=()=>{F(null),se(null)},A=()=>{var Ne;if(!H)return;const me=window.open("","_blank","width=580,height=400"),Ce=`
      <html>
        <head>
          <title> #${H.number}</title>
          <style>
            body { margin: 0; width: 58mm; height: 40mm; display: flex; justify-content: center; align-items: center; font-family: 'Inter', sans-serif; font-size: 8px; }
            .receipt { text-align: center; }
            .header { font-weight: bold; margin-bottom: 10px; }
            .items { margin: 10px 0; }
            .total { font-weight: bold; margin-top: 10px; }
          </style>
        </head>
        <body>
          <div class="receipt">
            <div class="header"> #${H.number}</div>
            <div>: ${new Date(H.created_at).toLocaleString("ru-RU")}</div>
            <div class="items">
              ${(Ne=H.sales)==null?void 0:Ne.map(Ee=>`
                <div>${Ee.variant.product_name} - ${Ee.quantity}  ${parseFloat(Ee.price_per_unit).toLocaleString("ru-RU")}</div>
              `).join("")}
            </div>
            <div class="total">: ${parseFloat(H.amount).toLocaleString("ru-RU")}</div>
          </div>
        </body>
      </html>
    `;me.document.write(Ce),me.document.close(),setTimeout(()=>{me.focus(),me.print(),me.close()},500)};if(_.useEffect(()=>{t!==void 0&&(console.log("BusinessMainPageMobile: Location ready, selectedLocation:",t),z("week"))},[t]),_.useEffect(()=>{w&&C&&t!==void 0&&(console.log("BusinessMainPageMobile: Location changed, refetching data"),J(w,C))},[t]),_.useEffect(()=>{a&&M()},[a]),i)return s.jsxs("div",{className:_n.loadingContainer,children:[s.jsx("div",{className:_n.loadingSpinner}),s.jsx("p",{children:" ..."})]});if(c)return s.jsxs("div",{className:_n.errorContainer,children:[s.jsx(Ol,{className:_n.errorIcon}),s.jsx("h3",{children:" "}),s.jsx("p",{children:c}),s.jsx("button",{className:_n.retryButton,onClick:()=>z(d),children:" "})]});const G=_.memo(({transaction:me,details:Ce,onClose:Ne,loading:Ee})=>{var Se;if(!me)return null;const ve=((Se=Ce==null?void 0:Ce.sales)==null?void 0:Se.reduce((fe,de)=>fe+parseFloat(de.discount_amount||0),0))||0;return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:_n.modalOverlay,onClick:Ne}),s.jsxs("div",{className:_n.transactionModal,onClick:fe=>fe.stopPropagation(),children:[s.jsxs("div",{className:_n.modalHeader,children:[s.jsxs("h2",{children:[" #",me.number]}),s.jsx("button",{className:_n.cancelButton,onClick:Ne,"aria-label":"",children:""})]}),s.jsx("div",{className:_n.modalContent,children:Ee?s.jsxs("div",{className:_n.modalLoading,children:[s.jsx("div",{className:_n.loadingSpinner}),s.jsx("p",{children:" ..."})]}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:_n.receiptInfo,children:s.jsxs("div",{className:_n.receiptHeader,children:[s.jsxs("div",{className:_n.receiptNumber,children:["#",me.number]}),s.jsx("div",{className:_n.receiptDate,children:new Date(me.created_at).toLocaleString("ru-RU")}),s.jsxs("div",{className:_n.receiptAmount,children:[parseFloat(me.amount).toLocaleString("ru-RU")," "]}),s.jsx("div",{className:_n.paymentMethod,children:me.payment_method})]})}),(Ce==null?void 0:Ce.sales)&&s.jsxs("div",{className:_n.receiptItems,children:[s.jsx("h4",{children:":"}),Ce.sales.map((fe,de)=>s.jsxs("div",{className:_n.receiptItem,children:[s.jsxs("div",{className:_n.itemHeader,children:[s.jsx("div",{className:_n.productImage,children:fe.variant.product_images&&fe.variant.product_images.length>0?s.jsx("img",{src:e(fe.variant.product_images[0].image),alt:fe.variant.product_name,className:_n.productImg,onError:pe=>{console.error("Image load error:",pe.target.src),pe.target.style.display="none"}}):s.jsx("div",{className:_n.noImagePlaceholder,children:s.jsx("i",{className:"fa fa-image"})})}),s.jsxs("div",{className:_n.productInfo,children:[s.jsx("h4",{children:fe.variant.product_name}),s.jsx("p",{className:_n.variantName,children:fe.variant.name}),s.jsxs("p",{className:_n.sku,children:["SKU: ",fe.variant.sku]})]})]}),fe.variant.attributes&&fe.variant.attributes.length>0&&s.jsx("div",{className:_n.itemAttributes,children:fe.variant.attributes.map(pe=>s.jsxs("div",{className:_n.attribute,children:[s.jsxs("span",{children:[pe.category_attribute_name,": "]}),s.jsx("strong",{children:pe.predefined_value_name||pe.custom_value||" "})]},pe.id))}),fe.variant.stocks_data&&s.jsx("div",{className:_n.stockInfo,children:s.jsxs("small",{children:["  : ",fe.variant.stocks_data.total_available_quantity]})}),s.jsxs("div",{className:_n.itemPricing,children:[s.jsxs("div",{className:_n.priceRow,children:[s.jsxs("span",{children:[fe.quantity,"  "]}),s.jsxs("span",{className:_n.originalPrice,children:[parseFloat(fe.price_per_unit).toLocaleString("ru-RU")," "]}),parseFloat(fe.discount_percent||0)>0&&s.jsxs(s.Fragment,{children:[s.jsxs("span",{className:_n.discountBadge,children:["-",fe.discount_percent,"%"]}),s.jsxs("span",{className:_n.finalPrice,children:[parseFloat(fe.total_price).toLocaleString("ru-RU")," "]})]})]}),fe.variant.sold_quantity&&s.jsx("div",{className:_n.soldInfo,children:s.jsxs("small",{children:[" : ",fe.variant.sold_quantity]})})]}),fe.returns&&fe.returns.length>0&&s.jsxs("div",{className:_n.returnsSection,children:[s.jsxs("h5",{children:[s.jsx(H3,{}),"    :"]}),fe.returns.map(pe=>s.jsxs("div",{className:_n.returnItem,children:[s.jsxs("div",{className:_n.returnHeader,children:[s.jsxs("span",{children:[": ",pe.quantity]}),s.jsxs("span",{className:_n.refundAmount,children:["-",parseFloat(pe.refund_amount).toLocaleString("ru-RU")," "]})]}),s.jsxs("p",{className:_n.returnReason,children:[s.jsx("strong",{children:":"})," ",pe.reason]}),s.jsxs("p",{className:_n.returnLocation,children:[s.jsx("strong",{children:":"})," ",pe.location_name]}),s.jsx("p",{className:_n.returnDate,children:new Date(pe.return_date).toLocaleString("ru-RU")}),pe.is_defect&&s.jsxs("span",{className:_n.defectBadge,children:[s.jsx(Ol,{})," "]}),pe.created_by_name&&s.jsxs("p",{className:_n.createdBy,children:[": ",pe.created_by_name]})]},pe.id))]}),fe.available_to_return>0&&s.jsx("div",{className:_n.availableReturn,children:s.jsxs("small",{children:["  : ",fe.available_to_return]})})]},de))]}),s.jsxs("div",{className:_n.receiptFooter,children:[ve>0&&s.jsxs("div",{className:_n.discountTotal,children:[": -",ve.toLocaleString("ru-RU")," "]}),s.jsxs("div",{className:_n.totalAmount,children:[": ",parseFloat(me.amount).toLocaleString("ru-RU")," "]})]})]})}),s.jsx("div",{className:_n.modalActions,children:s.jsxs("button",{className:_n.closeModalButton,onClick:A,children:[s.jsx(qb,{}),"  "]})})]})]})});return s.jsxs("div",{className:_n.container,children:[s.jsx("style",{children:hTe}),s.jsx("div",{className:_n.header,children:s.jsxs("h1",{className:_n.title,children:[s.jsx(zI,{className:_n.titleIcon}),""]})}),s.jsxs("div",{className:_n.periodSelector,children:[s.jsx("div",{className:_n.periodButtons,children:[{key:"today",label:""},{key:"week",label:""},{key:"month",label:""}].map(({key:me,label:Ce})=>s.jsx("button",{className:`${_n.periodButton} ${d===me?_n.active:""}`,onClick:()=>z(me),children:Ce},me))}),s.jsx("div",{className:_n.customDateContainer,children:s.jsx(i$,{selectsRange:!0,startDate:w,endDate:C,onChange:V,dateFormat:"dd MMM yyyy",className:_n.dateInput,maxDate:new Date,calendarClassName:_n.calendarWrapper,popperClassName:_n.datePickerPopper,placeholderText:" "})})]}),s.jsxs("div",{className:_n.tabNavigation,children:[s.jsxs("button",{className:`${_n.tabButton} ${E==="overview"?_n.active:""}`,onClick:()=>D("overview"),children:[s.jsx(zI,{}),""]}),s.jsxs("button",{className:`${_n.tabButton} ${E==="transactions"?_n.active:""}`,onClick:()=>D("transactions"),children:[s.jsx($o,{}),""]})]}),s.jsxs(Xc,{mode:"wait",children:[E==="overview"&&s.jsxs(os.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{duration:.3},className:_n.tabContent,children:[s.jsxs("div",{className:_n.statsGrid,children:[s.jsx(vv,{title:" ",value:`${(Q=a==null?void 0:a.totals)!=null&&Q.revenue?parseFloat(a.totals.revenue).toLocaleString("ru-RU"):"0"} `,icon:s.jsx(uQ,{}),color:"primary",delay:0}),s.jsx(vv,{title:" ",value:((Y=a==null?void 0:a.totals)==null?void 0:Y.orders)||0,icon:s.jsx(Ah,{}),color:"success",delay:.1}),s.jsx(vv,{title:" ",value:((ae=a==null?void 0:a.totals)==null?void 0:ae.sales_count)||0,icon:s.jsx($o,{}),color:"warning",delay:.2}),s.jsx(vv,{title:"",value:((ne=a==null?void 0:a.totals)==null?void 0:ne.returns_count)||0,icon:s.jsx(gQ,{}),color:"danger",delay:.3})]}),console.log("BusinessMainPageMobile: Chart data",a==null?void 0:a.chart),s.jsx($Ee,{data:a==null?void 0:a.chart,title:s.jsxs("div",{className:_n.chartTitle,children:[s.jsx(CO,{className:_n.chartIcon}),"  "]}),height:300}),(a==null?void 0:a.tasks)&&a.tasks.length>0&&s.jsxs("div",{className:_n.tasksSection,children:[s.jsxs("div",{className:_n.tasksHeader,children:[s.jsxs("h5",{className:_n.tasksTitle,children:[s.jsx(Wb,{className:_n.tasksIcon}),"  "]}),s.jsxs("button",{className:_n.viewAllTasksButton,onClick:()=>$(`/business/${O}/tasks`),children:[" ",s.jsx(Pb,{className:_n.arrowIcon})]})]}),s.jsx("div",{className:_n.tasksList,children:a.tasks.map((me,Ce)=>s.jsxs(os.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:Ce*.1},className:_n.taskCard,onClick:()=>$(`/business/${O}/tasks/${me.id}`),children:[s.jsxs("div",{className:_n.taskCardHeader,children:[s.jsx("h6",{className:_n.taskTitle,children:me.title}),s.jsxs("div",{className:_n.taskBadges,children:[s.jsx("span",{className:`${_n.taskBadge} ${_n[`priority${me.priority.charAt(0).toUpperCase()+me.priority.slice(1)}`]}`,children:me.priority_display}),s.jsx("span",{className:`${_n.taskBadge} ${_n[`status${me.status.charAt(0).toUpperCase()+me.status.slice(1).replace("_","")}`]}`,children:me.status_display})]})]}),me.progress&&s.jsxs("div",{className:_n.taskProgress,children:[s.jsxs("div",{className:_n.taskProgressInfo,children:[s.jsx("span",{children:""}),s.jsxs("span",{className:_n.taskProgressPercentage,children:[me.progress.percentage,"%"]})]}),s.jsx("div",{className:_n.taskProgressBar,children:s.jsx("div",{className:_n.taskProgressBarFill,style:{width:`${me.progress.percentage}%`}})}),s.jsxs("div",{className:_n.taskProgressStats,children:[me.progress.completed,"  ",me.progress.total," "]})]}),s.jsxs("div",{className:_n.taskMeta,children:[me.assignees&&me.assignees.length>0&&s.jsxs("div",{className:_n.taskAssignees,children:[s.jsx(Bl,{className:_n.taskMetaIcon}),s.jsx("span",{children:me.assignees.map(Ne=>Ne.name).join(", ")})]}),me.due_date&&s.jsxs("div",{className:_n.taskDueDate,children:[s.jsx(Vo,{className:_n.taskMetaIcon}),s.jsx("span",{children:Kn(me.due_date).format("DD.MM.YYYY")})]}),me.location_name&&s.jsx("div",{className:_n.taskLocation,children:s.jsx("span",{children:me.location_name})})]})]},me.id))})]})]},"overview"),E==="transactions"&&s.jsx(os.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{duration:.3},className:_n.tabContent,children:s.jsxs("div",{className:_n.transactionsList,children:[s.jsxs("h5",{className:_n.sectionTitle,children:[s.jsx($o,{className:_n.sectionIcon})," "]}),(re=a==null?void 0:a.transactions)==null?void 0:re.slice(0,10).map((me,Ce)=>s.jsx(rTe,{transaction:me,onClick:()=>ee(me),delay:Ce*.1},me.id||Ce)),((oe=a==null?void 0:a.transactions)==null?void 0:oe.length)===0&&s.jsx(dTe,{icon:s.jsx($o,{}),title:"  ",description:"      .      ."})]})},"transactions")]}),U&&s.jsx(G,{transaction:U,details:H,onClose:Z,loading:K})]})},mTe=()=>{const[e,t]=_.useState("checking"),{business_slug:n}=ha(),a=Kr();return _.useEffect(()=>{(async()=>{var i;try{(await Be.get(`accounts/api/business/check-access/${n}/`,{withCredentials:!0})).data.has_access?t("granted"):t("denied")}catch(o){console.error("   :",o),((i=o.response)==null?void 0:i.status)===401?t("unauthenticated"):t("denied")}})()},[n,a.pathname]),e==="checking"?s.jsx("div",{className:"auth-loader",children:"  ..."}):e==="unauthenticated"?s.jsx(Sx,{to:"/account",state:{from:a},replace:!0}):e==="denied"?s.jsx(Sx,{to:"/account",state:{from:a},replace:!0}):s.jsx(kg,{})},pTe="_switcher_14i6k_1",gTe="_switchButton_14i6k_15",_Te="_locationInfo_14i6k_77",vTe="_locationIcon_14i6k_93",xTe="_locationDetails_14i6k_103",bTe="_locationName_14i6k_117",yTe="_locationType_14i6k_133",wTe="_switchIcon_14i6k_149",ld={switcher:pTe,switchButton:gTe,locationInfo:_Te,locationIcon:vTe,locationDetails:xTe,locationName:bTe,locationType:yTe,switchIcon:wTe},jTe=({businessSlug:e,selectedLocation:t,onLocationChange:n})=>{const[a,r]=_.useState([]),[i,o]=_.useState(!1);_.useEffect(()=>{e&&(async()=>{try{o(!0);const f=await Be.get(`/api/business/${e}/locations/`);r(f.data)}catch(f){console.error("   :",f)}finally{o(!1)}})()},[e]);const c=d=>{if(d==="all")return"  ";const f=a.find(g=>g.id===parseInt(d));return f?f.name:` #${d}`},l=d=>{var g;if(d==="all")return" ";const f=a.find(b=>b.id===parseInt(d));return f?((g=f.location_type)==null?void 0:g.name)||"":""};return s.jsx("div",{className:ld.switcher,children:s.jsxs("button",{className:ld.switchButton,onClick:n,disabled:i,title:" ",children:[s.jsxs("div",{className:ld.locationInfo,children:[s.jsx("span",{className:ld.locationIcon,children:""}),s.jsxs("div",{className:ld.locationDetails,children:[s.jsx("span",{className:ld.locationName,children:c(t)}),s.jsx("span",{className:ld.locationType,children:l(t)})]})]}),s.jsx("span",{className:ld.switchIcon,children:""})]})})},CTe="_container_765w9_2",STe="_loadingContainer_765w9_14",NTe="_loading_765w9_14",Zj={container:CTe,loadingContainer:STe,loading:NTe},kTe=()=>{const{business_slug:e}=ha(),t=Is(),n=Kr(),a=ef(),[r,i]=_.useState(null),[o,c]=_.useState(!0);_.useEffect(()=>{const d=localStorage.getItem(`business_${e}_location`);i(d),!d&&!n.pathname.includes("/location-select")&&t(`/business/${e}/location-select`),c(!1)},[e,n.pathname,t]);const l=()=>{t(`/business/${e}/location-select`)};return o?s.jsx("div",{className:Zj.loadingContainer,children:s.jsx("div",{className:Zj.loading,children:" ..."})}):n.pathname.includes("/location-select")?s.jsx(kg,{}):s.jsxs("div",{className:Zj.container,children:[s.jsx(kg,{}),!a&&s.jsx(jTe,{businessSlug:e,selectedLocation:r,onLocationChange:l})]})},ITe="_container_19ziy_1",ETe="_header_19ziy_19",TTe="_locationList_19ziy_55",DTe="_locationItem_19ziy_69",ATe="_selected_19ziy_105",MTe="_locationInfo_19ziy_117",RTe="_locationName_19ziy_131",BTe="_primaryBadge_19ziy_149",OTe="_locationDescription_19ziy_167",LTe="_locationType_19ziy_179",$Te="_radioButton_19ziy_195",PTe="_radioSelected_19ziy_227",FTe="_selectedInfo_19ziy_261",HTe="_loading_19ziy_289",qTe="_error_19ziy_303",qr={container:ITe,header:ETe,locationList:TTe,locationItem:DTe,selected:ATe,locationInfo:MTe,locationName:RTe,primaryBadge:BTe,locationDescription:OTe,locationType:LTe,radioButton:$Te,radioSelected:PTe,selectedInfo:FTe,loading:HTe,error:qTe},VTe=({businessSlug:e,onLocationSelect:t,currentLocation:n})=>{const[a,r]=_.useState([]),[i,o]=_.useState(!0),[c,l]=_.useState(null),[d,f]=_.useState(n||"all");_.useEffect(()=>{e&&(async()=>{try{o(!0);const C=await Be.get(`/api/business/${e}/locations/`);r(C.data),f(n||"all")}catch(C){console.error("   :",C),l("    ")}finally{o(!1)}})()},[e]),_.useEffect(()=>{f(n||"all")},[n]);const g=w=>{f(w),t(w)},b=w=>{if(String(w)==="all")return"  ";const C=a.find(S=>String(S.id)===String(w));return C?C.name:" "};return i?s.jsx("div",{className:qr.container,children:s.jsx("div",{className:qr.loading,children:" ..."})}):c?s.jsx("div",{className:qr.container,children:s.jsx("div",{className:qr.error,children:c})}):s.jsxs("div",{className:qr.container,children:[s.jsxs("div",{className:qr.header,children:[s.jsx("h3",{children:" "}),s.jsx("p",{children:"     "})]}),s.jsxs("div",{className:qr.locationList,children:[s.jsxs("div",{className:`${qr.locationItem} ${String(d)==="all"?qr.selected:""}`,onClick:()=>g("all"),children:[s.jsxs("div",{className:qr.locationInfo,children:[s.jsx("div",{className:qr.locationName,children:"  "}),s.jsx("div",{className:qr.locationDescription,children:"    "})]}),s.jsx("div",{className:qr.radioButton,children:String(d)==="all"&&s.jsx("div",{className:qr.radioSelected})})]}),a.map(w=>{var C;return s.jsxs("div",{className:`${qr.locationItem} ${String(d)===String(w.id)?qr.selected:""}`,onClick:()=>g(w.id),children:[s.jsxs("div",{className:qr.locationInfo,children:[s.jsxs("div",{className:qr.locationName,children:[w.name,w.is_primary&&s.jsx("span",{className:qr.primaryBadge,children:""})]}),s.jsxs("div",{className:qr.locationDescription,children:[w.address,w.contact_phone&&`  ${w.contact_phone}`]}),s.jsx("div",{className:qr.locationType,children:(C=w.location_type)==null?void 0:C.name})]}),s.jsx("div",{className:qr.radioButton,children:String(d)===String(w.id)&&s.jsx("div",{className:qr.radioSelected})})]},w.id)})]}),d&&s.jsxs("div",{className:qr.selectedInfo,children:[s.jsx("span",{children:": "}),s.jsx("strong",{children:b(d)})]})]})},zTe="_page_1ec5u_1",UTe="_container_1ec5u_19",WTe="_header_1ec5u_63",YTe="_logo_1ec5u_77",GTe="_content_1ec5u_113",QTe="_actions_1ec5u_121",XTe="_skipButton_1ec5u_139",KTe="_continueButton_1ec5u_177",ZTe="_disabled_1ec5u_251",uu={page:zTe,container:UTe,header:WTe,logo:YTe,content:GTe,actions:QTe,skipButton:XTe,continueButton:KTe,disabled:ZTe},JTe=()=>{const{business_slug:e}=ha(),t=Is(),n=()=>localStorage.getItem(`business_${e}_location`)||"all",[a,r]=_.useState(n);_.useEffect(()=>{const f=localStorage.getItem(`business_${e}_location`)||"all";r(f)},[e]);const i=d=>{r(d)},o=d=>{r(d),localStorage.setItem(`business_${e}_location`,d),window.dispatchEvent(new Event("locationChanged")),t(`/business/${e}/main`)},c=()=>{a&&o(a)},l=()=>{o("all")};return s.jsx("div",{className:uu.page,children:s.jsxs("div",{className:uu.container,children:[s.jsx("div",{className:uu.header,children:s.jsxs("div",{className:uu.logo,children:[s.jsx("h1",{children:"  "}),s.jsx("p",{children:"      "})]})}),s.jsxs("div",{className:uu.content,children:[s.jsx(VTe,{businessSlug:e,onLocationSelect:i,currentLocation:a}),s.jsxs("div",{className:uu.actions,children:[s.jsx("button",{className:uu.skipButton,onClick:l,children:" ( )"}),s.jsx("button",{className:`${uu.continueButton} ${a?"":uu.disabled}`,onClick:c,disabled:!a,children:""})]})]})]})})},eDe="_container_1iyb7_3",tDe="_content_1iyb7_15",nDe="_pageTitle_1iyb7_27",sDe="_titleIcon_1iyb7_45",aDe="_sectionCard_1iyb7_55",rDe="_sectionHeader_1iyb7_73",iDe="_sectionIcon_1iyb7_101",oDe="_sectionBody_1iyb7_111",cDe="_uploadRow_1iyb7_119",lDe="_uploadColumn_1iyb7_131",uDe="_infoColumn_1iyb7_143",dDe="_uploadArea_1iyb7_155",hDe="_uploadIcon_1iyb7_197",fDe="_uploadHint_1iyb7_209",mDe="_fileInput_1iyb7_219",pDe="_infoAlert_1iyb7_227",gDe="_infoIcon_1iyb7_261",_De="_thumbnailsSection_1iyb7_291",vDe="_thumbnailsTitle_1iyb7_299",xDe="_formRow_1iyb7_433",bDe="_formGroup_1iyb7_445",yDe="_formLabel_1iyb7_457",wDe="_formControl_1iyb7_471",jDe="_checkboxGroup_1iyb7_527",CDe="_formCheckbox_1iyb7_539",SDe="_checkboxLabel_1iyb7_555",NDe="_tableWrapper_1iyb7_567",kDe="_horizontalScroll_1iyb7_579",IDe="_variantTable_1iyb7_591",EDe="_stickyColumn_1iyb7_641",TDe="_formSelect_1iyb7_673",DDe="_formControltd_1iyb7_703",ADe="_variantActions_1iyb7_743",MDe="_variantButton_1iyb7_751",RDe="_variantControls_1iyb7_781",BDe="_variantAddButton_1iyb7_797",ODe="_variantCopyButton_1iyb7_799",LDe="_buttonIcon_1iyb7_863",$De="_formActions_1iyb7_871",PDe="_cancelButton_1iyb7_885",FDe="_submitButton_1iyb7_887",HDe="_cropModal_1iyb7_1019",qDe="_bodyNoScroll_1iyb7_1085",VDe="_catPicker_1iyb7_1097",zDe="_catPickerControl_1iyb7_1105",UDe="_catPickerValue_1iyb7_1141",WDe="_catName_1iyb7_1155",YDe="_catPath_1iyb7_1173",GDe="_catPlaceholder_1iyb7_1195",QDe="_catCaret_1iyb7_1203",XDe="_catDropdown_1iyb7_1225",KDe="_catSearch_1iyb7_1251",ZDe="_catList_1iyb7_1279",JDe="_catEmpty_1iyb7_1289",e7e="_catItem_1iyb7_1303",t7e="_catItemActive_1iyb7_1327",n7e="_catItemName_1iyb7_1335",s7e="_catItemPath_1iyb7_1349",kn={container:eDe,content:tDe,pageTitle:nDe,titleIcon:sDe,sectionCard:aDe,sectionHeader:rDe,sectionIcon:iDe,sectionBody:oDe,uploadRow:cDe,uploadColumn:lDe,infoColumn:uDe,uploadArea:dDe,uploadIcon:hDe,uploadHint:fDe,fileInput:mDe,infoAlert:pDe,infoIcon:gDe,thumbnailsSection:_De,thumbnailsTitle:vDe,formRow:xDe,formGroup:bDe,formLabel:yDe,formControl:wDe,checkboxGroup:jDe,formCheckbox:CDe,checkboxLabel:SDe,tableWrapper:NDe,horizontalScroll:kDe,variantTable:IDe,stickyColumn:EDe,formSelect:TDe,formControltd:DDe,variantActions:ADe,variantButton:MDe,variantControls:RDe,variantAddButton:BDe,variantCopyButton:ODe,buttonIcon:LDe,formActions:$De,cancelButton:PDe,submitButton:FDe,cropModal:HDe,bodyNoScroll:qDe,catPicker:VDe,catPickerControl:zDe,catPickerValue:UDe,catName:WDe,catPath:YDe,catPlaceholder:GDe,catCaret:QDe,catDropdown:XDe,catSearch:KDe,catList:ZDe,catEmpty:JDe,catItem:e7e,catItemActive:t7e,catItemName:n7e,catItemPath:s7e},a7e=({categories:e=[],value:t,onChange:n,disabled:a,placeholder:r="    ..."})=>{const[i,o]=_.useState(!1),[c,l]=_.useState(""),[d,f]=_.useState(0),g=_.useRef(null),b=e.find(E=>String(E.id)===String(t))||null,w=c.trim().toLowerCase(),C=w?e.filter(E=>(E.name||"").toLowerCase().includes(w)||(E.full_path||"").toLowerCase().includes(w)):e;_.useEffect(()=>{if(!i)return;const E=D=>{g.current&&!g.current.contains(D.target)&&o(!1)};return document.addEventListener("mousedown",E),()=>document.removeEventListener("mousedown",E)},[i]),_.useEffect(()=>{i&&f(0)},[i,w]);const S=E=>{if(!i&&(E.key==="ArrowDown"||E.key==="Enter")){o(!0);return}if(i)if(E.key==="ArrowDown")E.preventDefault(),f(D=>Math.min(D+1,C.length-1));else if(E.key==="ArrowUp")E.preventDefault(),f(D=>Math.max(D-1,0));else if(E.key==="Enter"){E.preventDefault();const D=C[d];D&&(n(String(D.id)),l(""),o(!1))}else E.key==="Escape"&&(E.preventDefault(),o(!1))},k=E=>{n(String(E.id)),l(""),o(!1)};return s.jsxs("div",{className:kn.catPicker,ref:g,children:[s.jsxs("div",{className:kn.catPickerControl,onClick:()=>!a&&o(E=>!E),children:[s.jsx("div",{className:kn.catPickerValue,children:b?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:kn.catName,children:b.name}),s.jsx("div",{className:kn.catPath,title:b.full_path,children:b.full_path})]}):s.jsx("div",{className:kn.catPlaceholder,children:r})}),s.jsx("div",{className:kn.catCaret})]}),i&&s.jsxs("div",{className:kn.catDropdown,onKeyDown:S,children:[s.jsx("input",{autoFocus:!0,className:kn.catSearch,value:c,onChange:E=>l(E.target.value),placeholder:"    ..."}),s.jsx("div",{className:kn.catList,role:"listbox",tabIndex:0,children:C.length===0?s.jsx("div",{className:kn.catEmpty,children:"  "}):C.slice(0,300).map((E,D)=>s.jsxs("div",{role:"option","aria-selected":String(E.id)===String(t),className:`${kn.catItem} ${D===d?kn.catItemActive:""}`,onMouseEnter:()=>f(D),onClick:()=>k(E),children:[s.jsx("div",{className:kn.catItemName,children:E.name}),s.jsx("div",{className:kn.catItemPath,children:E.full_path})]},E.id))})]})]})},r7e=()=>{const{business_slug:e}=ha(),t=Is(),[n,a]=_.useState(""),[r,i]=_.useState(""),[o,c]=_.useState(""),[l,d]=_.useState(""),[f,g]=_.useState(!0),[b,w]=_.useState(!0),[C,S]=_.useState(!0),[k,E]=_.useState([]),[D,R]=_.useState(!1),[P,B]=_.useState(null),[O,$]=_.useState([]),[U,F]=_.useState(!0),[H,se]=_.useState(null),[K,te]=_.useState([]),[J,z]=_.useState(!0),[V,M]=_.useState([]),[ee,Z]=_.useState(!1),[A,G]=_.useState(null),[Q,Y]=_.useState([]),ae=_.useRef(null),[ne,re]=_.useState({files:[],currentIndex:0,croppedImages:[]}),[oe,me]=_.useState(!1),[Ce,Ne]=_.useState([]),[Ee,ve]=_.useState(1),[Se,fe]=_.useState(!1);_.useEffect(()=>{(async()=>{try{const De=await Be.get(`/api/business/${e}/categories/`);$(De.data.results||De.data);const xe=await Be.get(`/api/business/${e}/locations/`);M(xe.data.results||xe.data);const Ye=await Be.get("/api/units-of-measure/");te(Ye.data),F(!1),Z(!1),z(!1)}catch(De){se(De.message),F(!1),Z(!1),z(!1),console.error("   :",De)}})()},[e]);const de=async ue=>{try{R(!0),B(null);const xe=(await Be.get(`/api/categories/${ue}/attributes/`)).data.map(Ye=>({...Ye,values:Ye.values||[],has_predefined_values:Ye.has_predefined_values||!1}));E(xe),Ne([]),ve(1)}catch(De){B(De.message),console.error("    :",De)}finally{R(!1)}},pe=()=>{const ue={id:Ee,attributes:k.reduce((De,xe)=>(De[String(xe.id)]=xe.values.length>0?xe.values[0].id?String(xe.values[0].id):String(xe.values[0]):"",De),{})};Ne([...Ce,ue]),ve(Ee+1)},ce=(ue,De,xe,Ye=null)=>{Ne(Ce.map(at=>at.id===ue?Ye!==null?{...at,attributes:{...at.attributes,[String(Ye)]:typeof xe=="number"?String(xe):xe}}:{...at,[De]:xe}:at))},Re=()=>{if(Ce.length===0)return;const ue=Ce[Ce.length-1],De={};Object.entries(ue.attributes||{}).forEach(([Ye,at])=>{De[String(Ye)]=typeof at=="number"?String(at):at});const xe={id:Ee,attributes:De};Ne([...Ce,xe]),ve(Ee+1)},Ae=ue=>{Ne(Ce.filter(De=>De.id!==ue))},ie=()=>{ae.current.click()},ge=ue=>{const De=ue.target.files;De.length>0&&(re({files:Array.from(De),currentIndex:0,croppedImages:[]}),me(!0),document.body.classList.add(kn.bodyNoScroll)),ue.target.value=""},be=(ue,De)=>{const xe={id:Date.now()+De,file:ue,preview:URL.createObjectURL(ue),isMain:Q.length===0&&De===0};Y(Ye=>[...Ye,xe]),De===ne.files.length-1&&(me(!1),document.body.classList.remove(kn.bodyNoScroll),re({files:[],currentIndex:0,croppedImages:[]}))},Fe=()=>{re(ue=>({...ue,currentIndex:ue.currentIndex+1}))},je=()=>{me(!1),document.body.classList.remove(kn.bodyNoScroll),re({files:[],currentIndex:0,croppedImages:[]})},qe=()=>{re(ue=>({...ue,currentIndex:ue.currentIndex-1}))},tt=ue=>{Y(De=>{const xe=De.find(pn=>pn.isMain);if((xe==null?void 0:xe.id)===ue)return De;const Ye=[...De],at=Ye.findIndex(pn=>pn.id===ue);if(at===-1)return De;const lt=Ye.map(pn=>({...pn,isMain:pn.id===ue})),[Mt]=lt.splice(at,1);return[Mt,...lt]})},he=ue=>{Y(De=>{const xe=De.find(at=>at.id===ue);if(xe!=null&&xe.isMain&&De.length>1&&!window.confirm("   . ?")||!xe)return De;const Ye=De.filter(at=>at.id!==ue);return xe.isMain&&Ye.length>0&&(Ye[0].isMain=!0),Ye})},Ze=ue=>{Y(ue)},Pe=()=>{if(!n.trim())return{valid:!1,message:"  ."};if(!o)return{valid:!1,message:"  ."};if(!r.trim())return{valid:!1,message:"  ."};if(Q.length===0)return{valid:!1,message:"    ."};if(!Q.some(ue=>ue.isMain))return{valid:!1,message:"  ."};if(Ce.length===0)return{valid:!1,message:"     ."};for(let[ue,De]of Ce.entries())for(let xe of k)if(xe.required){const Ye=De.attributes[xe.id];if(Ye==null||Ye==="")return{valid:!1,message:` ${ue+1}:    "${xe.name}".`}}return{valid:!0,message:""}},bt=()=>{const ue=new FormData,De={name:n,description:r,category:o,unit_of_measure:l||null,is_active:f,is_visible_on_marketplace:b,is_visible_on_own_site:C,variants:Ce.map(xe=>({barcode:xe.barcode||"",attributes:Object.entries(xe.attributes||{}).map(([Ye,at])=>{const lt=k.find(Mt=>String(Mt.id)===String(Ye));return{category_attribute:Number(Ye),predefined_value:lt!=null&&lt.has_predefined_values?Number(at):null,custom_value:lt!=null&&lt.has_predefined_values?"":String(at)}})}))};return ue.append("data",JSON.stringify(De)),Q.forEach((xe,Ye)=>{ue.append(`images[${Ye}][image]`,xe.file),ue.append(`images[${Ye}][is_main]`,xe.isMain?"true":"false"),ue.append(`images[${Ye}][display_order]`,String(Ye))}),ue},Ge=async ue=>{var xe,Ye,at;if(ue.preventDefault(),Se)return;const De=Pe();if(!De.valid){alert(De.message);return}fe(!0);try{const lt=bt();for(let pn of lt.entries())console.log(pn[0],pn[1]);const Mt=await Be.post(`/api/business/${e}/products/create/`,lt,{headers:{"Content-Type":"multipart/form-data"}});console.log("  :",Mt.data),alert("  "),t(`/business/${e}/products/`)}catch(lt){console.error("   :",((xe=lt.response)==null?void 0:xe.data)||lt.message),alert("   : "+(((at=(Ye=lt.response)==null?void 0:Ye.data)==null?void 0:at.detail)||lt.message)),fe(!1)}};return s.jsx(ry,{backend:oy,children:s.jsxs("div",{className:kn.container,children:[ne.files.length>0&&s.jsx("div",{className:kn.cropModal,children:s.jsx(dp,{files:ne.files,currentIndex:ne.currentIndex,onCropComplete:be,onCancel:je,onNext:Fe,onPrevious:qe})}),s.jsxs("div",{className:kn.content,children:[s.jsxs("h2",{className:kn.pageTitle,children:[s.jsx(F3,{className:kn.titleIcon}),"   "]}),s.jsxs("form",{onSubmit:Ge,className:kn.productForm,children:[s.jsxs("div",{className:kn.sectionCard,children:[s.jsx("div",{className:kn.sectionHeader,children:s.jsxs("h5",{children:[s.jsx(zb,{className:kn.sectionIcon}),"  "]})}),s.jsxs("div",{className:kn.sectionBody,children:[s.jsxs("div",{className:kn.uploadRow,children:[s.jsx("div",{className:kn.uploadColumn,children:s.jsxs("div",{className:kn.uploadArea,onClick:ie,onDragOver:ue=>ue.preventDefault(),onDrop:ue=>{ue.preventDefault(),ge({target:{files:ue.dataTransfer.files}})},children:[s.jsx("div",{className:kn.uploadIcon,children:s.jsx(Fb,{})}),s.jsx("h5",{children:"  "}),s.jsx("p",{className:kn.uploadHint,children:"    "}),s.jsx("input",{type:"file",ref:ae,multiple:!0,accept:"image/*",onChange:ge,className:kn.fileInput})]})}),s.jsx("div",{className:kn.infoColumn,children:s.jsxs("div",{className:kn.infoAlert,children:[s.jsxs("h6",{children:[s.jsx(li,{className:kn.infoIcon}),"   :"]}),s.jsxs("ul",{children:[s.jsx("li",{children:"  "}),s.jsx("li",{children:"   "}),s.jsx("li",{children:" 3    "}),s.jsx("li",{children:" JPG  PNG"})]})]})})]}),s.jsxs("div",{className:kn.thumbnailsSection,children:[s.jsxs("h6",{className:kn.thumbnailsTitle,children:["  (",Q.length,"):"]}),s.jsx(iy,{images:Q,onImagesReorder:Ze,onSetMainImage:tt,onRemoveImage:he})]})]})]}),s.jsxs("div",{className:kn.sectionCard,children:[s.jsx("div",{className:kn.sectionHeader,children:s.jsxs("h5",{children:[s.jsx(li,{className:kn.sectionIcon}),"  "]})}),s.jsxs("div",{className:kn.sectionBody,children:[s.jsxs("div",{className:kn.formRow,children:[s.jsxs("div",{className:kn.formGroup,children:[s.jsx("label",{htmlFor:"product-name",className:kn.formLabel,children:"  *"}),s.jsx("input",{type:"text",id:"product-name",className:kn.formControl,value:n,onChange:ue=>a(ue.target.value),required:!0})]}),s.jsxs("div",{className:kn.formGroup,children:[s.jsx("label",{htmlFor:"product-category",className:kn.formLabel,children:" *"}),s.jsx(a7e,{categories:O,value:o,onChange:ue=>{c(ue),ue?de(ue):(E([]),Ne([]))},disabled:U||!!H})]}),s.jsxs("div",{className:kn.formGroup,children:[s.jsx("label",{htmlFor:"product-unit",className:kn.formLabel,children:" "}),s.jsxs("select",{id:"product-unit",className:kn.formControl,value:l,onChange:ue=>d(ue.target.value),disabled:J,children:[s.jsx("option",{value:"",children:"  "}),K.map(ue=>s.jsxs("option",{value:ue.id,children:[ue.name," (",ue.short_name,")"]},ue.id))]})]})]}),s.jsxs("div",{className:kn.formGroup,children:[s.jsx("label",{htmlFor:"product-description",className:kn.formLabel,children:"  *"}),s.jsx("textarea",{id:"product-description",className:kn.formControl,rows:"5",value:r,onChange:ue=>i(ue.target.value),required:!0})]}),s.jsxs("div",{className:kn.formRow,children:[s.jsxs("div",{className:kn.checkboxGroup,children:[s.jsx("input",{type:"checkbox",id:"visible-on-marketplace",className:kn.formCheckbox,checked:b,onChange:ue=>w(ue.target.checked)}),s.jsx("label",{htmlFor:"visible-on-marketplace",className:kn.checkboxLabel,children:"  "})]}),s.jsxs("div",{className:kn.checkboxGroup,children:[s.jsx("input",{type:"checkbox",id:"visible-on-own-site",className:kn.formCheckbox,checked:C,onChange:ue=>S(ue.target.checked)}),s.jsx("label",{htmlFor:"visible-on-own-site",className:kn.checkboxLabel,children:"   "})]}),s.jsxs("div",{className:kn.checkboxGroup,children:[s.jsx("input",{type:"checkbox",id:"is-active",className:kn.formCheckbox,checked:f,onChange:ue=>g(ue.target.checked)}),s.jsx("label",{htmlFor:"is-active",className:kn.checkboxLabel,children:"  (  )"})]})]})]})]}),o&&s.jsxs("div",{className:kn.sectionCard,children:[s.jsx("div",{className:kn.sectionHeader,children:s.jsxs("h5",{children:[s.jsx(Ub,{className:kn.sectionIcon}),"  "]})}),s.jsxs("div",{className:kn.sectionBody,children:[s.jsx("div",{className:kn.infoAlert,children:"      .           ."}),D?s.jsx("div",{children:"  ..."}):P?s.jsxs("div",{className:kn.errorAlert,children:["  : ",P]}):s.jsx(s.Fragment,{children:s.jsxs("div",{className:kn.tableWrapper,children:[s.jsx("div",{className:kn.horizontalScroll,children:s.jsxs("table",{className:kn.variantTable,children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{className:kn.stickyColumn,children:""}),k.map(ue=>s.jsxs("th",{children:[ue.name,ue.required&&s.jsx("span",{className:kn.requiredStar,children:"*"})]},ue.id)),s.jsx("th",{className:kn.stickyColumn,children:"- ()"}),s.jsx("th",{className:kn.stickyColumn,children:""})]})}),s.jsx("tbody",{children:Ce.length===0?s.jsx("tr",{children:s.jsx("td",{colSpan:k.length+3,className:kn.noVariants,children:' .  " "   .'})}):Ce.map((ue,De)=>s.jsxs("tr",{children:[s.jsx("td",{className:kn.stickyColumn,children:De+1}),k.map(xe=>s.jsx("td",{children:xe.has_predefined_values?s.jsxs("select",{className:kn.formSelect,value:ue.attributes[xe.id]||"",onChange:Ye=>ce(ue.id,null,Ye.target.value,xe.id),required:xe.required,children:[!xe.required&&s.jsx("option",{value:"",children:" "}),xe.values.map(Ye=>s.jsx("option",{value:String(Ye.id),children:Ye.value},Ye.id))]}):s.jsx("input",{type:"text",className:kn.formControltd,value:ue.attributes[xe.id]||"",onChange:Ye=>ce(ue.id,null,Ye.target.value,xe.id),placeholder:` ${xe.name}`,required:xe.required})},xe.id)),s.jsx("td",{className:kn.stickyColumn,children:s.jsx("input",{type:"text",className:kn.formControltd,value:ue.barcode||"",onChange:xe=>ce(ue.id,"barcode",xe.target.value),placeholder:"EAN-13 (13 )",maxLength:13,pattern:"[0-9]{13}",title:" 13- EAN-13 -"})}),s.jsx("td",{className:`${kn.stickyColumn} ${kn.variantActions}`,children:s.jsx("button",{type:"button",className:kn.variantButton,onClick:()=>Ae(ue.id),title:" ",children:s.jsx(Ir,{})})})]},ue.id))})]})}),s.jsx("div",{className:kn.variantControls,children:s.jsxs("div",{children:[s.jsxs("button",{type:"button",className:kn.variantAddButton,onClick:pe,disabled:k.length===0,children:[s.jsx(Va,{className:kn.buttonIcon}),"  "]}),s.jsxs("button",{type:"button",className:kn.variantCopyButton,onClick:Re,disabled:Ce.length===0,children:[s.jsx(Ad,{className:kn.buttonIcon}),"  "]})]})})]})})]})]}),s.jsxs("div",{className:kn.formActions,children:[s.jsxs("button",{type:"button",onClick:()=>t(`/business/${e}/products/`),className:kn.cancelButton,children:[s.jsx(da,{className:kn.buttonIcon})," "]}),s.jsx("button",{type:"submit",className:kn.submitButton,disabled:Se,style:{opacity:Se?.6:1,cursor:Se?"not-allowed":"pointer"},children:Se?s.jsxs(s.Fragment,{children:[s.jsx("span",{style:{marginRight:"8px"},children:""})," ..."]}):s.jsxs(s.Fragment,{children:[s.jsx(ic,{className:kn.buttonIcon}),"  "]})})]})]})]})]})})},i7e="_container_1007j_3",o7e="_content_1007j_13",c7e="_header_1007j_18",l7e="_backButton_1007j_33",u7e="_pageTitle_1007j_57",d7e="_productForm_1007j_65",h7e="_sectionCard_1007j_69",f7e="_sectionHeader_1007j_77",m7e="_sectionIcon_1007j_95",p7e="_sectionBody_1007j_101",g7e="_uploadRow_1007j_105",_7e="_uploadColumn_1007j_112",v7e="_infoColumn_1007j_118",x7e="_uploadArea_1007j_124",b7e="_uploadIcon_1007j_148",y7e="_uploadHint_1007j_160",w7e="_fileInput_1007j_166",j7e="_infoAlert_1007j_170",C7e="_infoIcon_1007j_187",S7e="_thumbnailsSection_1007j_204",N7e="_thumbnailsTitle_1007j_208",k7e="_formRow_1007j_215",I7e="_formGroup_1007j_222",E7e="_formLabel_1007j_228",T7e="_formControl_1007j_234",D7e="_checkboxGroup_1007j_275",A7e="_formCheckbox_1007j_285",M7e="_checkboxLabel_1007j_295",R7e="_errorAlert_1007j_304",B7e="_tableWrapper_1007j_314",O7e="_horizontalScroll_1007j_318",L7e="_variantTable_1007j_326",$7e="_stickyColumn_1007j_355",P7e="_formSelect_1007j_372",F7e="_formControltd_1007j_373",H7e="_requiredStar_1007j_448",q7e="_noVariants_1007j_453",V7e="_variantActions_1007j_460",z7e="_variantButton_1007j_466",U7e="_variantControls_1007j_488",W7e="_variantAddButton_1007j_495",Y7e="_variantCopyButton_1007j_496",G7e="_buttonIcon_1007j_529",Q7e="_cropModal_1007j_608",X7e="_catPicker_1007j_651",K7e="_catPickerControl_1007j_656",Z7e="_catPickerValue_1007j_677",J7e="_catName_1007j_682",e9e="_catPath_1007j_689",t9e="_catPlaceholder_1007j_697",n9e="_catCaret_1007j_702",s9e="_catDropdown_1007j_716",a9e="_catSearch_1007j_732",r9e="_catList_1007j_749",i9e="_catItem_1007j_755",o9e="_catItemActive_1007j_768",c9e="_catItemName_1007j_772",l9e="_catItemPath_1007j_779",u9e="_catEmpty_1007j_784",An={container:i7e,content:o7e,header:c7e,backButton:l7e,pageTitle:u7e,productForm:d7e,sectionCard:h7e,sectionHeader:f7e,sectionIcon:m7e,sectionBody:p7e,uploadRow:g7e,uploadColumn:_7e,infoColumn:v7e,uploadArea:x7e,uploadIcon:b7e,uploadHint:y7e,fileInput:w7e,infoAlert:j7e,infoIcon:C7e,thumbnailsSection:S7e,thumbnailsTitle:N7e,formRow:k7e,formGroup:I7e,formLabel:E7e,formControl:T7e,checkboxGroup:D7e,formCheckbox:A7e,checkboxLabel:M7e,errorAlert:R7e,tableWrapper:B7e,horizontalScroll:O7e,variantTable:L7e,stickyColumn:$7e,formSelect:P7e,formControltd:F7e,requiredStar:H7e,noVariants:q7e,variantActions:V7e,variantButton:z7e,variantControls:U7e,variantAddButton:W7e,variantCopyButton:Y7e,buttonIcon:G7e,cropModal:Q7e,catPicker:X7e,catPickerControl:K7e,catPickerValue:Z7e,catName:J7e,catPath:e9e,catPlaceholder:t9e,catCaret:n9e,catDropdown:s9e,catSearch:a9e,catList:r9e,catItem:i9e,catItemActive:o9e,catItemName:c9e,catItemPath:l9e,catEmpty:u9e},d9e=({categories:e=[],value:t,onChange:n,disabled:a,placeholder:r="    ..."})=>{const[i,o]=_.useState(!1),[c,l]=_.useState(""),[d,f]=_.useState(0),g=_.useRef(null),b=e.find(E=>String(E.id)===String(t))||null,w=c.trim().toLowerCase(),C=w?e.filter(E=>(E.name||"").toLowerCase().includes(w)||(E.full_path||"").toLowerCase().includes(w)):e;_.useEffect(()=>{if(!i)return;const E=D=>{g.current&&!g.current.contains(D.target)&&o(!1)};return document.addEventListener("mousedown",E),()=>document.removeEventListener("mousedown",E)},[i]),_.useEffect(()=>{i&&f(0)},[i,w]);const S=E=>{if(!i&&(E.key==="ArrowDown"||E.key==="Enter")){o(!0);return}if(i)if(E.key==="ArrowDown")E.preventDefault(),f(D=>Math.min(D+1,C.length-1));else if(E.key==="ArrowUp")E.preventDefault(),f(D=>Math.max(D-1,0));else if(E.key==="Enter"){E.preventDefault();const D=C[d];D&&(n(String(D.id)),l(""),o(!1))}else E.key==="Escape"&&(E.preventDefault(),o(!1))},k=E=>{n(String(E.id)),l(""),o(!1)};return s.jsxs("div",{className:An.catPicker,ref:g,children:[s.jsxs("div",{className:An.catPickerControl,onClick:()=>!a&&o(E=>!E),children:[s.jsx("div",{className:An.catPickerValue,children:b?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:An.catName,children:b.name}),s.jsx("div",{className:An.catPath,title:b.full_path,children:b.full_path})]}):s.jsx("div",{className:An.catPlaceholder,children:r})}),s.jsx("div",{className:An.catCaret})]}),i&&s.jsxs("div",{className:An.catDropdown,onKeyDown:S,children:[s.jsx("input",{autoFocus:!0,className:An.catSearch,value:c,onChange:E=>l(E.target.value),placeholder:"    ..."}),s.jsx("div",{className:An.catList,role:"listbox",tabIndex:0,children:C.length===0?s.jsx("div",{className:An.catEmpty,children:"  "}):C.slice(0,300).map((E,D)=>s.jsxs("div",{role:"option","aria-selected":String(E.id)===String(t),className:`${An.catItem} ${D===d?An.catItemActive:""}`,onMouseEnter:()=>f(D),onClick:()=>k(E),children:[s.jsx("div",{className:An.catItemName,children:E.name}),s.jsx("div",{className:An.catItemPath,children:E.full_path})]},E.id))})]})]})},h9e=()=>{const{business_slug:e}=ha(),t=Is(),[n,a]=_.useState(""),[r,i]=_.useState(""),[o,c]=_.useState(""),[l,d]=_.useState(""),[f,g]=_.useState(!0),[b,w]=_.useState(!0),[C,S]=_.useState(!0),[k,E]=_.useState([]),[D,R]=_.useState(!1),[P,B]=_.useState(null),[O,$]=_.useState([]),[U,F]=_.useState(!0),[H,se]=_.useState(null),[K,te]=_.useState([]),[J,z]=_.useState(!0),[V,M]=_.useState([]),[ee,Z]=_.useState(!1),[A,G]=_.useState(null),[Q,Y]=_.useState([]),ae=_.useRef(null),[ne,re]=_.useState({files:[],currentIndex:0,croppedImages:[]}),[oe,me]=_.useState(!1),[Ce,Ne]=_.useState([]),[Ee,ve]=_.useState(1),[Se,fe]=_.useState(!1);_.useEffect(()=>{(async()=>{try{const De=await Be.get(`/api/business/${e}/categories/`);$(De.data.results||De.data);const xe=await Be.get(`/api/business/${e}/locations/`);M(xe.data.results||xe.data);const Ye=await Be.get("/api/units-of-measure/");te(Ye.data),F(!1),Z(!1),z(!1)}catch(De){se(De.message),F(!1),Z(!1),z(!1),console.error("   :",De)}})()},[e]);const de=async ue=>{try{R(!0),B(null);const xe=(await Be.get(`/api/categories/${ue}/attributes/`)).data.map(Ye=>({...Ye,values:Ye.values||[],has_predefined_values:Ye.has_predefined_values||!1}));E(xe),Ne([]),ve(1)}catch(De){B(De.message),console.error("    :",De)}finally{R(!1)}},pe=()=>{const ue={id:Ee,attributes:k.reduce((De,xe)=>(De[String(xe.id)]=xe.values.length>0?xe.values[0].id?String(xe.values[0].id):String(xe.values[0]):"",De),{})};Ne([...Ce,ue]),ve(Ee+1)},ce=(ue,De,xe,Ye=null)=>{Ne(Ce.map(at=>at.id===ue?Ye!==null?{...at,attributes:{...at.attributes,[String(Ye)]:typeof xe=="number"?String(xe):xe}}:{...at,[De]:xe}:at))},Re=()=>{if(Ce.length===0)return;const ue=Ce[Ce.length-1],De={};Object.entries(ue.attributes||{}).forEach(([Ye,at])=>{De[String(Ye)]=typeof at=="number"?String(at):at});const xe={id:Ee,attributes:De};Ne([...Ce,xe]),ve(Ee+1)},Ae=ue=>{Ne(Ce.filter(De=>De.id!==ue))},ie=()=>{ae.current.click()},ge=ue=>{const De=ue.target.files;De.length>0&&(re({files:Array.from(De),currentIndex:0,croppedImages:[]}),me(!0),document.body.classList.add(An.bodyNoScroll)),ue.target.value=""},be=(ue,De)=>{const xe={id:Date.now()+De,file:ue,preview:URL.createObjectURL(ue),isMain:Q.length===0&&De===0};Y(Ye=>[...Ye,xe]),De===ne.files.length-1&&(me(!1),document.body.classList.remove(An.bodyNoScroll),re({files:[],currentIndex:0,croppedImages:[]}))},Fe=()=>{re(ue=>({...ue,currentIndex:ue.currentIndex+1}))},je=()=>{me(!1),document.body.classList.remove(An.bodyNoScroll),re({files:[],currentIndex:0,croppedImages:[]})},qe=()=>{re(ue=>({...ue,currentIndex:ue.currentIndex-1}))},tt=ue=>{Y(De=>{const xe=De.find(pn=>pn.isMain);if((xe==null?void 0:xe.id)===ue)return De;const Ye=[...De],at=Ye.findIndex(pn=>pn.id===ue);if(at===-1)return De;const lt=Ye.map(pn=>({...pn,isMain:pn.id===ue})),[Mt]=lt.splice(at,1);return[Mt,...lt]})},he=ue=>{Y(De=>{const xe=De.find(at=>at.id===ue);if(xe!=null&&xe.isMain&&De.length>1&&!window.confirm("   . ?")||!xe)return De;const Ye=De.filter(at=>at.id!==ue);return xe.isMain&&Ye.length>0&&(Ye[0].isMain=!0),Ye})},Ze=ue=>{Y(ue)},Pe=()=>{if(!n.trim())return{valid:!1,message:"  ."};if(!o)return{valid:!1,message:"  ."};if(!r.trim())return{valid:!1,message:"  ."};if(Q.length===0)return{valid:!1,message:"    ."};if(!Q.some(ue=>ue.isMain))return{valid:!1,message:"  ."};if(Ce.length===0)return{valid:!1,message:"     ."};for(let[ue,De]of Ce.entries())for(let xe of k)if(xe.required){const Ye=De.attributes[xe.id];if(Ye==null||Ye==="")return{valid:!1,message:` ${ue+1}:    "${xe.name}".`}}return{valid:!0,message:""}},bt=()=>{const ue=new FormData,De={name:n,description:r,category:o,unit_of_measure:l||null,is_active:f,is_visible_on_marketplace:b,is_visible_on_own_site:C,variants:Ce.map(xe=>({barcode:xe.barcode||"",attributes:Object.entries(xe.attributes||{}).map(([Ye,at])=>{const lt=k.find(Mt=>String(Mt.id)===String(Ye));return{category_attribute:Number(Ye),predefined_value:lt!=null&&lt.has_predefined_values?Number(at):null,custom_value:lt!=null&&lt.has_predefined_values?"":String(at)}})}))};return ue.append("data",JSON.stringify(De)),Q.forEach((xe,Ye)=>{ue.append(`images[${Ye}][image]`,xe.file),ue.append(`images[${Ye}][is_main]`,xe.isMain?"true":"false"),ue.append(`images[${Ye}][display_order]`,String(Ye))}),ue},Ge=async ue=>{var xe,Ye,at;if(ue.preventDefault(),Se)return;const De=Pe();if(!De.valid){alert(De.message);return}fe(!0);try{const lt=bt();for(let pn of lt.entries())console.log(pn[0],pn[1]);const Mt=await Be.post(`/api/business/${e}/products/create/`,lt,{headers:{"Content-Type":"multipart/form-data"}});console.log("  :",Mt.data),alert("  "),t(`/business/${e}/products/`)}catch(lt){console.error("   :",((xe=lt.response)==null?void 0:xe.data)||lt.message),alert("   : "+(((at=(Ye=lt.response)==null?void 0:Ye.data)==null?void 0:at.detail)||lt.message)),fe(!1)}};return s.jsx(ry,{backend:oy,children:s.jsxs("div",{className:An.container,children:[ne.files.length>0&&s.jsx("div",{className:An.cropModal,children:s.jsx(dp,{files:ne.files,currentIndex:ne.currentIndex,onCropComplete:be,onCancel:je,onNext:Fe,onPrevious:qe})}),s.jsxs("div",{className:An.header,children:[s.jsx("button",{type:"button",className:An.backButton,onClick:()=>t(`/business/${e}/products/`),"aria-label":"",children:s.jsx(Cm,{})}),s.jsx("h1",{className:An.pageTitle,children:" "})]}),s.jsx("div",{className:An.content,children:s.jsxs("form",{id:"product-form",onSubmit:Ge,className:An.productForm,children:[s.jsxs("div",{className:An.sectionCard,children:[s.jsx("div",{className:An.sectionHeader,children:s.jsxs("h5",{children:[s.jsx(zb,{className:An.sectionIcon}),"  "]})}),s.jsxs("div",{className:An.sectionBody,children:[s.jsxs("div",{className:An.uploadRow,children:[s.jsx("div",{className:An.uploadColumn,children:s.jsxs("div",{className:An.uploadArea,onClick:ie,onDragOver:ue=>ue.preventDefault(),onDrop:ue=>{ue.preventDefault(),ge({target:{files:ue.dataTransfer.files}})},children:[s.jsx("div",{className:An.uploadIcon,children:s.jsx(Fb,{})}),s.jsx("h5",{children:"  "}),s.jsx("p",{className:An.uploadHint,children:"    "}),s.jsx("input",{type:"file",ref:ae,multiple:!0,accept:"image/*",onChange:ge,className:An.fileInput})]})}),s.jsx("div",{className:An.infoColumn,children:s.jsxs("div",{className:An.infoAlert,children:[s.jsxs("h6",{children:[s.jsx(li,{className:An.infoIcon}),"   :"]}),s.jsxs("ul",{children:[s.jsx("li",{children:"  "}),s.jsx("li",{children:"   "}),s.jsx("li",{children:" 3    "}),s.jsx("li",{children:" JPG  PNG"})]})]})})]}),s.jsxs("div",{className:An.thumbnailsSection,children:[s.jsxs("h6",{className:An.thumbnailsTitle,children:["  (",Q.length,"):"]}),s.jsx(iy,{images:Q,onImagesReorder:Ze,onSetMainImage:tt,onRemoveImage:he})]})]})]}),s.jsxs("div",{className:An.sectionCard,children:[s.jsx("div",{className:An.sectionHeader,children:s.jsxs("h5",{children:[s.jsx(li,{className:An.sectionIcon}),"  "]})}),s.jsxs("div",{className:An.sectionBody,children:[s.jsxs("div",{className:An.formRow,children:[s.jsxs("div",{className:An.formGroup,children:[s.jsx("label",{htmlFor:"product-name",className:An.formLabel,children:"  *"}),s.jsx("input",{type:"text",id:"product-name",className:An.formControl,value:n,onChange:ue=>a(ue.target.value),required:!0})]}),s.jsxs("div",{className:An.formGroup,children:[s.jsx("label",{htmlFor:"product-category",className:An.formLabel,children:" *"}),s.jsx(d9e,{categories:O,value:o,onChange:ue=>{c(ue),ue?de(ue):(E([]),Ne([]))},disabled:U||!!H})]}),s.jsxs("div",{className:An.formGroup,children:[s.jsx("label",{htmlFor:"product-unit",className:An.formLabel,children:" "}),s.jsxs("select",{id:"product-unit",className:An.formControl,value:l,onChange:ue=>d(ue.target.value),disabled:J,children:[s.jsx("option",{value:"",children:"  "}),K.map(ue=>s.jsxs("option",{value:ue.id,children:[ue.name," (",ue.short_name,")"]},ue.id))]})]})]}),s.jsxs("div",{className:An.formGroup,children:[s.jsx("label",{htmlFor:"product-description",className:An.formLabel,children:"  *"}),s.jsx("textarea",{id:"product-description",className:An.formControl,rows:"5",value:r,onChange:ue=>i(ue.target.value),required:!0})]}),s.jsxs("div",{className:An.formRow,children:[s.jsxs("div",{className:An.checkboxGroup,children:[s.jsx("input",{type:"checkbox",id:"visible-on-marketplace",className:An.formCheckbox,checked:b,onChange:ue=>w(ue.target.checked)}),s.jsx("label",{htmlFor:"visible-on-marketplace",className:An.checkboxLabel,children:"  "})]}),s.jsxs("div",{className:An.checkboxGroup,children:[s.jsx("input",{type:"checkbox",id:"visible-on-own-site",className:An.formCheckbox,checked:C,onChange:ue=>S(ue.target.checked)}),s.jsx("label",{htmlFor:"visible-on-own-site",className:An.checkboxLabel,children:"   "})]}),s.jsxs("div",{className:An.checkboxGroup,children:[s.jsx("input",{type:"checkbox",id:"is-active",className:An.formCheckbox,checked:f,onChange:ue=>g(ue.target.checked)}),s.jsx("label",{htmlFor:"is-active",className:An.checkboxLabel,children:"  (  )"})]})]})]})]}),o&&s.jsxs("div",{className:An.sectionCard,children:[s.jsx("div",{className:An.sectionHeader,children:s.jsxs("h5",{children:[s.jsx(Ub,{className:An.sectionIcon}),"  "]})}),s.jsxs("div",{className:An.sectionBody,children:[s.jsx("div",{className:An.infoAlert,children:"      .           ."}),D?s.jsx("div",{children:"  ..."}):P?s.jsxs("div",{className:An.errorAlert,children:["  : ",P]}):s.jsx(s.Fragment,{children:s.jsxs("div",{className:An.tableWrapper,children:[s.jsx("div",{className:An.horizontalScroll,children:s.jsxs("table",{className:An.variantTable,children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{className:An.stickyColumn,children:""}),k.map(ue=>s.jsxs("th",{children:[ue.name,ue.required&&s.jsx("span",{className:An.requiredStar,children:"*"})]},ue.id)),s.jsx("th",{className:An.stickyColumn,children:"- ()"}),s.jsx("th",{className:An.stickyColumn,children:""})]})}),s.jsx("tbody",{children:Ce.length===0?s.jsx("tr",{children:s.jsx("td",{colSpan:k.length+3,className:An.noVariants,children:' .  " "   .'})}):Ce.map((ue,De)=>s.jsxs("tr",{children:[s.jsx("td",{className:An.stickyColumn,children:De+1}),k.map(xe=>s.jsx("td",{children:xe.has_predefined_values?s.jsxs("select",{className:An.formSelect,value:ue.attributes[xe.id]||"",onChange:Ye=>ce(ue.id,null,Ye.target.value,xe.id),required:xe.required,children:[!xe.required&&s.jsx("option",{value:"",children:" "}),xe.values.map(Ye=>s.jsx("option",{value:String(Ye.id),children:Ye.value},Ye.id))]}):s.jsx("input",{type:"text",className:An.formControltd,value:ue.attributes[xe.id]||"",onChange:Ye=>ce(ue.id,null,Ye.target.value,xe.id),placeholder:` ${xe.name}`,required:xe.required})},xe.id)),s.jsx("td",{className:An.stickyColumn,children:s.jsx("input",{type:"text",className:An.formControltd,value:ue.barcode||"",onChange:xe=>ce(ue.id,"barcode",xe.target.value),placeholder:"EAN-13 (13 )",maxLength:13,pattern:"[0-9]{13}",title:" 13- EAN-13 -"})}),s.jsx("td",{className:`${An.stickyColumn} ${An.variantActions}`,children:s.jsx("button",{type:"button",className:An.variantButton,onClick:()=>Ae(ue.id),title:" ",children:s.jsx(Ir,{})})})]},ue.id))})]})}),s.jsx("div",{className:An.variantControls,children:s.jsxs("div",{children:[s.jsxs("button",{type:"button",className:An.variantAddButton,onClick:pe,disabled:k.length===0,children:[s.jsx(Va,{className:An.buttonIcon}),"  "]}),s.jsxs("button",{type:"button",className:An.variantCopyButton,onClick:Re,disabled:Ce.length===0,children:[s.jsx(Ad,{className:An.buttonIcon}),"  "]})]})})]})})]})]})]})})]})})},c$=()=>{const{business_slug:e}=ha(),t=Is(),[n,a]=_.useState(null),[r,i]=_.useState([]),[o,c]=_.useState([]),[l,d]=_.useState([]),[f,g]=_.useState([]),[b,w]=_.useState(!1),[C,S]=_.useState(!1),[k,E]=_.useState(!1),[D,R]=_.useState(null),[P,B]=_.useState(null),[O,$]=_.useState({});_.useEffect(()=>{e&&(async()=>{try{w(!0);const[Y,ae,ne]=await Promise.all([Be.get(`/api/business/${e}/categories/`),Be.get(`/api/business/${e}/locations/`),Be.get("/api/units-of-measure/")]);c(Y.data||[]),d(ae.data||[]),g(ne.data||[])}catch(Y){console.error("  :",Y),R("  ")}finally{w(!1)}})()},[e]);const U=_.useCallback(Q=>{if(!Q){a(null),i([]);return}if(!Q.name.match(/\.(xlsx|xls)$/i)){R("   .xlsx  .xls");return}a(Q),R(null),i([])},[]),F=_.useCallback(async()=>{var Q,Y,ae;if(!n){R("   ");return}try{S(!0),R(null);const ne=new FormData;ne.append("excel_file",n);const re=await Be.post(`/api/business/${e}/excel-import/parse/`,ne,{headers:{"Content-Type":"multipart/form-data"}});console.log("Response from API:",re.data),console.log("Products:",re.data.products),console.log("Products length:",(Q=re.data.products)==null?void 0:Q.length);const oe=(re.data.products||[]).map(Ce=>({...Ce,use_auto_barcode:Ce.use_auto_barcode!==void 0?Ce.use_auto_barcode:!0})),me=oe.filter(Ce=>Ce.article&&Ce.article.trim()).map(Ce=>Ce.article.trim());if(me.length>0)try{const Ne=(await Be.post(`/api/business/${e}/excel-import/get-existing/`,{articles:me})).data.products||{},Ee=oe.map(Se=>{const fe=(Se.article||"").trim();if(fe&&Ne[fe]){const de=Ne[fe];return{...Se,name:Se.name,description:Se.description||"",price:Se.price,main_quantity:Se.main_quantity,category_id:de.category_id||Se.category_id,location_id:de.location_id||Se.location_id,images:de.images||Se.images||[],attributes:de.attributes||Se.attributes||{},barcode:de.barcode,barcode_from_existing:!!de.barcode,use_auto_barcode:de.use_auto_barcode!==void 0?de.use_auto_barcode:Se.use_auto_barcode,main_unit:de.unit_of_measure_code||Se.main_unit,is_active:de.is_active!==void 0?de.is_active:Se.is_active,is_visible_on_marketplace:de.is_visible_on_marketplace!==void 0?de.is_visible_on_marketplace:Se.is_visible_on_marketplace,is_visible_on_own_site:de.is_visible_on_own_site!==void 0?de.is_visible_on_own_site:Se.is_visible_on_own_site}}return Se}),ve=new Set;Ee.forEach(Se=>{Se.category_id&&ve.add(Se.category_id)}),await Promise.all(Array.from(ve).map(Se=>K(Se))),i(Ee)}catch(Ce){console.error("   :",Ce),i(oe)}else i(oe);re.data.errors&&re.data.errors.length>0&&R(` : ${re.data.errors.join(", ")}`),oe.length===0&&R("    .   .")}catch(ne){console.error("  :",ne),R(((ae=(Y=ne.response)==null?void 0:Y.data)==null?void 0:ae.detail)||"   "),i([])}finally{S(!1)}},[n,e]),[H,se]=_.useState({}),K=_.useCallback(async Q=>{if(!Q)return[];if(H[Q])return H[Q];try{const ae=(await Be.get(`/api/categories/${Q}/attributes/`)).data.map(ne=>({...ne,values:ne.values||[],has_predefined_values:ne.has_predefined_values||!1}));return se(ne=>({...ne,[Q]:ae})),ae}catch(Y){return console.error("    :",Y),[]}},[H]),te=_.useCallback((Q,Y)=>{i(ae=>{const ne=[...ae];return ne[Q]={...ne[Q],...Y},ne})},[]),J=_.useCallback((Q,Y)=>{i(ae=>{const ne=[...ae];return ne[Q]={...ne[Q],images:[...ne[Q].images||[],...Y]},ne})},[]),z=_.useCallback((Q,Y)=>{i(ae=>{const ne=[...ae];return ne[Q]={...ne[Q],images:ne[Q].images.filter((re,oe)=>oe!==Y)},ne})},[]),V=_.useCallback((Q,Y,ae)=>{i(ne=>{const re=[...ne],oe=[...re[Q].images||[]],[me]=oe.splice(Y,1);return oe.splice(ae,0,me),re[Q]={...re[Q],images:oe},re})},[]),M=_.useCallback(Q=>{i(Y=>{const ae=[...Y];return ae.splice(Q,1),ae})},[]),ee=_.useCallback(async(Q="upsert")=>{var ae,ne,re,oe,me,Ce,Ne,Ee;if(!r||r.length===0){R("   ");return}const Y=[];if(r.forEach((ve,Se)=>{const fe=[];(!ve.name||typeof ve.name=="string"&&!ve.name.trim())&&fe.push(" "),(!ve.article||typeof ve.article=="string"&&!ve.article.trim())&&fe.push(""),(!ve.price||ve.price===null||ve.price===void 0)&&fe.push(""),ve.category_id||fe.push(""),ve.location_id||fe.push(""),(!ve.main_unit||typeof ve.main_unit=="string"&&!ve.main_unit.trim())&&fe.push(" "),(ve.main_quantity===null||ve.main_quantity===void 0||ve.main_quantity==="")&&fe.push(""),ve.category_id&&H[ve.category_id]&&H[ve.category_id].filter(pe=>pe.required).forEach(pe=>{var Re;const ce=(Re=ve.attributes)==null?void 0:Re[pe.id];(!ce||typeof ce=="string"&&!ce.trim())&&fe.push(` "${pe.name}"`)}),fe.length>0&&Y.push({index:Se+1,name:ve.name||` ${Se+1}`,errors:fe})}),Y.length>0){const ve=Y.map(Se=>` ${Se.index} (${Se.name}): ${Se.errors.join(", ")}`);R(`   :
${ve.join(`
`)}`);return}try{E(!0),R(null),B(null);const ve=new FormData;ve.append("mode",Q);const Se=r.map((de,pe)=>{const ce=(de.images||[]).filter(Re=>Re instanceof File);return{name:de.name,description:de.description||"",article:de.article||"",barcode:de.use_auto_barcode?null:de.barcode||"",use_auto_barcode:de.use_auto_barcode||!1,price:de.price||null,main_unit:de.main_unit||null,main_quantity:de.main_quantity||null,category_id:de.category_id,location_id:de.location_id,is_visible_on_marketplace:de.is_visible_on_marketplace||!1,is_visible_on_own_site:de.is_visible_on_own_site||!1,is_active:de.is_active!==void 0?de.is_active:!0,attributes:de.attributes||{},images_count:ce.length}});ve.append("products",JSON.stringify(Se)),r.forEach((de,pe)=>{(de.images||[]).filter(Re=>Re instanceof File).forEach((Re,Ae)=>{ve.append(`product_${pe}_image_${Ae}`,Re)})});const fe=await Be.post(`/api/business/${e}/excel-import/create/`,ve,{headers:{"Content-Type":"multipart/form-data"}});if(fe.data.errors&&fe.data.errors.length>0){const de=fe.data.errors.length,pe=((ae=fe.data.summary)==null?void 0:ae.created_count)||0,ce=((ne=fe.data.summary)==null?void 0:ne.updated_count)||0,Re=((re=fe.data.summary)==null?void 0:re.deleted_count)||0;R(`  : ${de} . : ${pe}, : ${ce}${Re>0?`, : ${Re}`:""}`)}else{const de=((oe=fe.data.summary)==null?void 0:oe.created_count)||0,pe=((me=fe.data.summary)==null?void 0:me.updated_count)||0,ce=((Ce=fe.data.summary)==null?void 0:Ce.deleted_count)||0;let Re=` :  ${de}`;pe>0&&(Re+=`,  ${pe}`),ce>0&&(Re+=`,  ${ce}`),B(Re)}setTimeout(()=>{t(`/business/${e}/products`)},2e3)}catch(ve){console.error("  :",ve),R(((Ee=(Ne=ve.response)==null?void 0:Ne.data)==null?void 0:Ee.detail)||"   "),E(!1)}},[r,H,e,t]),Z=_.useCallback(Q=>f.find(Y=>Y.code===Q),[f]),A=_.useCallback(Q=>o.find(Y=>Y.id===Q),[o]),G=_.useCallback(Q=>l.find(Y=>Y.id===Q),[l]);return{excelFile:n,parsedProducts:r,categories:o,locations:l,unitsOfMeasure:f,categoryAttributes:H,loading:b,parsing:C,importing:k,error:D,success:P,importErrors:O,handleFileSelect:U,parseExcelFile:F,updateProductData:te,addProductImages:J,removeProductImage:z,reorderProductImages:V,removeProduct:M,importProducts:ee,fetchCategoryAttributes:K,getUnitByCode:Z,getCategoryById:A,getLocationById:G,setError:R,setSuccess:B,clearData:()=>{a(null),i([]),R(null),B(null),$({})}}},f9e="_container_1ighm_2",m9e="_content_1ighm_8",p9e="_loaderContainer_1ighm_14",g9e="_pageTitle_1ighm_21",_9e="_titleIcon_1ighm_30",v9e="_sectionCard_1ighm_36",x9e="_sectionHeader_1ighm_45",b9e="_sectionIcon_1ighm_59",y9e="_sectionBody_1ighm_64",w9e="_uploadArea_1ighm_68",j9e="_uploadIcon_1ighm_89",C9e="_uploadHint_1ighm_106",S9e="_fileInfo_1ighm_113",N9e="_fileName_1ighm_123",k9e="_fileActions_1ighm_131",I9e="_btnPrimary_1ighm_136",E9e="_btnSecondary_1ighm_137",T9e="_spin_1ighm_173",D9e="_alertError_1ighm_186",A9e="_alertSuccess_1ighm_187",M9e="_productsList_1ighm_223",R9e="_productCard_1ighm_228",B9e="_productCardError_1ighm_236",O9e="_productErrors_1ighm_241",L9e="_productErrorsList_1ighm_258",$9e="_productErrorItem_1ighm_265",P9e="_productHeader_1ighm_270",F9e="_removeProductButton_1ighm_285",H9e="_productBody_1ighm_308",q9e="_formRow_1ighm_313",V9e="_checkboxRow_1ighm_343",z9e="_barcodeInputContainer_1ighm_363",U9e="_toggleSwitch_1ighm_370",W9e="_slider_1ighm_399",Y9e="_toggleLabel_1ighm_416",G9e="_attributesSection_1ighm_423",Q9e="_attributeRow_1ighm_433",X9e="_attributeLabel_1ighm_439",K9e="_requiredStar_1ighm_445",Z9e="_actions_1ighm_450",J9e="_importModeButtons_1ighm_461",eAe="_btnSync_1ighm_467",tAe="_dropdownContainer_1ighm_494",nAe="_dropdownButton_1ighm_499",sAe="_dropdown_1ighm_494",aAe="_searchInputContainer_1ighm_540",rAe="_searchInput_1ighm_540",iAe="_dropdownList_1ighm_570",oAe="_dropdownItem_1ighm_575",cAe="_selected_1ighm_591",lAe="_noResults_1ighm_601",uAe="_imagesSection_1ighm_611",dAe="_addImageButton_1ighm_617",hAe="_imagesList_1ighm_638",fAe="_imageItem_1ighm_644",mAe="_dragOver_1ighm_661",pAe="_imageDragHandle_1ighm_666",gAe="_imagePreview_1ighm_691",_Ae="_imageActions_1ighm_699",vAe="_removeImageButton_1ighm_720",xAe="_imageIndex_1ighm_747",bAe="_cropModal_1ighm_765",yAe="_bodyNoScroll_1ighm_778",mn={container:f9e,content:m9e,loaderContainer:p9e,pageTitle:g9e,titleIcon:_9e,sectionCard:v9e,sectionHeader:x9e,sectionIcon:b9e,sectionBody:y9e,uploadArea:w9e,uploadIcon:j9e,uploadHint:C9e,fileInfo:S9e,fileName:N9e,fileActions:k9e,btnPrimary:I9e,btnSecondary:E9e,spin:T9e,alertError:D9e,alertSuccess:A9e,productsList:M9e,productCard:R9e,productCardError:B9e,productErrors:O9e,productErrorsList:L9e,productErrorItem:$9e,productHeader:P9e,removeProductButton:F9e,productBody:H9e,formRow:q9e,checkboxRow:V9e,barcodeInputContainer:z9e,toggleSwitch:U9e,slider:W9e,toggleLabel:Y9e,attributesSection:G9e,attributeRow:Q9e,attributeLabel:X9e,requiredStar:K9e,actions:Z9e,importModeButtons:J9e,btnSync:eAe,dropdownContainer:tAe,dropdownButton:nAe,dropdown:sAe,searchInputContainer:aAe,searchInput:rAe,dropdownList:iAe,dropdownItem:oAe,selected:cAe,noResults:lAe,imagesSection:uAe,addImageButton:dAe,imagesList:hAe,imageItem:fAe,dragOver:mAe,imageDragHandle:pAe,imagePreview:gAe,imageActions:_Ae,removeImageButton:vAe,imageIndex:xAe,cropModal:bAe,bodyNoScroll:yAe},wAe=()=>{Is();const e=_.useRef(null),{getFileUrl:t}=Er(),[n,a]=_.useState({}),[r,i]=_.useState({}),[o,c]=_.useState({}),[l,d]=_.useState({}),[f,g]=_.useState({productIndex:null,files:[],currentIndex:0}),{excelFile:b,parsedProducts:w,categories:C,locations:S,unitsOfMeasure:k,categoryAttributes:E,loading:D,parsing:R,importing:P,error:B,success:O,handleFileSelect:$,parseExcelFile:U,updateProductData:F,addProductImages:H,removeProductImage:se,reorderProductImages:K,removeProduct:te,importProducts:J,fetchCategoryAttributes:z,getUnitByCode:V,setError:M,setSuccess:ee,clearData:Z,importErrors:A}=c$(),G=Ae=>{var ge;const ie=(ge=Ae.target.files)==null?void 0:ge[0];ie&&$(ie)},Q=Ae=>{var ge;Ae.preventDefault();const ie=(ge=Ae.dataTransfer.files)==null?void 0:ge[0];ie&&$(ie)},Y=Ae=>{Ae.preventDefault()},ae=Ae=>{a(ie=>({...ie,[Ae]:!ie[Ae]})),i(ie=>({...ie,[Ae]:!1}))},ne=async(Ae,ie)=>{const ge=w[Ae];(ge==null?void 0:ge.category_id)!==ie?F(Ae,{category_id:ie||null,attributes:{}}):F(Ae,{category_id:ie||null}),a(be=>({...be,[Ae]:!1})),c(be=>({...be,[Ae]:""})),ie&&await z(ie)},re=(Ae,ie)=>{c(ge=>({...ge,[Ae]:ie}))},oe=Ae=>{i(ie=>({...ie,[Ae]:!ie[Ae]})),a(ie=>({...ie,[Ae]:!1}))},me=(Ae,ie)=>{F(Ae,{location_id:ie||null}),i(ge=>({...ge,[Ae]:!1})),d(ge=>({...ge,[Ae]:""}))},Ce=(Ae,ie)=>{d(ge=>({...ge,[Ae]:ie}))};_.useEffect(()=>{const Ae=ie=>{ie.target.closest("[data-dropdown-container]")||(a({}),i({}))};return document.addEventListener("mousedown",Ae),()=>{document.removeEventListener("mousedown",Ae)}},[]),_.useEffect(()=>{!w.length||!E||w.forEach((Ae,ie)=>{if(!Ae.category_id||!E[Ae.category_id])return;const ge=E[Ae.category_id],be=Ae.attributes||{};let Fe=!1;const je={...be};ge.forEach(qe=>{if(qe.has_predefined_values&&qe.values&&qe.values.length>0){const tt=qe.id,he=be[tt]||be[String(tt)];if(!he||he===""||he===null||he===void 0){const Ze=qe.values[0];Ze&&(je[tt]=String(Ze.id),Fe=!0)}}}),Fe&&F(ie,{attributes:je})})},[E,w.length,F]);const Ne=Ae=>{const ie=(o[Ae]||"").toLowerCase();return ie?C.filter(ge=>(ge.full_path||ge.name).toLowerCase().includes(ie)):C},Ee=Ae=>{const ie=(l[Ae]||"").toLowerCase();return ie?S.filter(ge=>ge.name.toLowerCase().includes(ie)):S},ve=Ae=>{if(!Ae)return" ";const ie=C.find(ge=>ge.id===Ae);return ie?ie.full_path||ie.name:" "},Se=Ae=>{if(!Ae)return" ";const ie=S.find(ge=>ge.id===Ae);return ie?ie.name:" "},fe=(Ae,ie)=>{ie.length>0&&(g({productIndex:Ae,files:Array.from(ie),currentIndex:0}),document.body.classList.add(mn.bodyNoScroll))},de=(Ae,ie)=>{const{productIndex:ge,files:be}=f;ge!==null&&(H(ge,[Ae]),ie===be.length-1&&(g({productIndex:null,files:[],currentIndex:0}),document.body.classList.remove(mn.bodyNoScroll)))},pe=()=>{g({productIndex:null,files:[],currentIndex:0}),document.body.classList.remove(mn.bodyNoScroll)},ce=()=>{g(Ae=>({...Ae,currentIndex:Ae.currentIndex+1}))},Re=()=>{g(Ae=>({...Ae,currentIndex:Ae.currentIndex-1}))};return D?s.jsx("div",{className:mn.container,children:s.jsx("div",{className:mn.loaderContainer,children:s.jsx(Fn,{})})}):s.jsxs("div",{className:mn.container,children:[f.files.length>0&&f.productIndex!==null&&s.jsx("div",{className:mn.cropModal,children:s.jsx(dp,{files:f.files,currentIndex:f.currentIndex,onCropComplete:de,onCancel:pe,onNext:ce,onPrevious:Re})}),s.jsxs("div",{className:mn.content,children:[s.jsxs("h1",{className:mn.pageTitle,children:[s.jsx(Dh,{className:mn.titleIcon}),"   Excel"]}),s.jsxs("div",{className:mn.sectionCard,children:[s.jsx("div",{className:mn.sectionHeader,children:s.jsxs("h5",{children:[s.jsx(Im,{className:mn.sectionIcon})," "]})}),s.jsxs("div",{className:mn.sectionBody,children:[!b&&!w.length&&s.jsxs("div",{className:mn.uploadArea,onDrop:Q,onDragOver:Y,onClick:()=>{var Ae;return(Ae=e.current)==null?void 0:Ae.click()},children:[s.jsx(Dh,{className:mn.uploadIcon}),s.jsx("h3",{children:" Excel  "}),s.jsx("p",{children:"    "}),s.jsx("p",{className:mn.uploadHint,children:"  .xlsx, .xls"})]}),b&&s.jsxs("div",{className:mn.fileInfo,children:[s.jsxs("div",{className:mn.fileName,children:[s.jsx(Dh,{}),b.name]}),s.jsxs("div",{className:mn.fileActions,children:[s.jsxs("button",{className:mn.btnSecondary,onClick:()=>{Z(),e.current&&(e.current.value="")},children:[s.jsx(da,{})," "]}),!w.length&&s.jsx("button",{className:mn.btnPrimary,onClick:U,disabled:R,children:R?s.jsxs(s.Fragment,{children:[s.jsx(Po,{className:mn.spin})," ..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Im,{}),"  "]})})]})]}),s.jsx("input",{ref:e,type:"file",accept:".xlsx,.xls",onChange:G,style:{display:"none"}})]})]}),B&&s.jsxs("div",{className:mn.alertError,children:[s.jsx(Ox,{}),s.jsx("span",{children:B}),s.jsx("button",{onClick:()=>M(null),children:s.jsx(da,{})})]}),O&&s.jsxs("div",{className:mn.alertSuccess,children:[s.jsx(Bl,{}),s.jsx("span",{children:O}),s.jsx("button",{onClick:()=>ee(null),children:s.jsx(da,{})})]}),w.length>0&&s.jsxs("div",{className:mn.sectionCard,children:[s.jsx("div",{className:mn.sectionHeader,children:s.jsxs("h5",{children:[" : ",w.length]})}),s.jsxs("div",{className:mn.sectionBody,children:[s.jsx("div",{className:mn.productsList,children:w.map((Ae,ie)=>{const ge=A[ie]||[],be=V(Ae.main_unit),Fe=be?(()=>{const je=(be.code||"").toLowerCase();if(["pcs","","","","box","pack"].includes(je))return!0;const tt=(be.name||"").toLowerCase();return["","","",""].some(Ze=>tt.includes(Ze))})():!1;return s.jsxs("div",{className:`${mn.productCard} ${ge.length>0?mn.productCardError:""}`,children:[ge.length>0&&s.jsxs("div",{className:mn.productErrors,children:[s.jsx(Ox,{}),s.jsx("div",{className:mn.productErrorsList,children:ge.map((je,qe)=>s.jsx("div",{className:mn.productErrorItem,children:je},qe))})]}),s.jsxs("div",{className:mn.productHeader,children:[s.jsxs("h4",{children:[" ",ie+1]}),s.jsx("button",{type:"button",className:mn.removeProductButton,onClick:()=>te(ie),disabled:P,title:"   ",children:s.jsx(da,{})})]}),s.jsxs("div",{className:mn.productBody,children:[s.jsxs("div",{className:mn.formRow,children:[s.jsx("label",{children:" *"}),s.jsx("input",{type:"text",value:Ae.name||"",onChange:je=>F(ie,{name:je.target.value}),placeholder:"  "})]}),s.jsxs("div",{className:mn.formRow,children:[s.jsx("label",{children:" (SKU)"}),s.jsx("input",{type:"text",value:Ae.article||"",onChange:je=>F(ie,{article:je.target.value}),placeholder:"  (SKU)",disabled:w.length>0,style:w.length>0?{cursor:"not-allowed",backgroundColor:"#f5f5f5"}:{},title:w.length>0?"    ":""})]}),s.jsxs("div",{className:mn.formRow,children:[s.jsx("label",{children:"- (EAN-13)"}),Ae.barcode_from_existing?s.jsx("input",{type:"text",value:Ae.barcode||"",disabled:!0,style:{cursor:"not-allowed",backgroundColor:"#f5f5f5"},placeholder:"-   "}):s.jsxs("div",{className:mn.barcodeInputContainer,children:[s.jsxs("div",{className:mn.toggleSwitch,children:[s.jsx("input",{type:"checkbox",checked:Ae.use_auto_barcode!==!1,onChange:je=>F(ie,{use_auto_barcode:je.target.checked})}),s.jsx("span",{className:mn.slider}),s.jsx("span",{className:mn.toggleLabel,children:Ae.use_auto_barcode!==!1?" ":" "})]}),s.jsx("input",{type:"text",value:Ae.barcode||"",onChange:je=>F(ie,{barcode:je.target.value}),disabled:Ae.use_auto_barcode!==!1,style:Ae.use_auto_barcode!==!1?{cursor:"not-allowed",backgroundColor:"#f5f5f5"}:{},placeholder:Ae.use_auto_barcode!==!1?" ":" - (EAN-13)"})]})]}),s.jsxs("div",{className:mn.formRow,children:[s.jsx("label",{children:" *"}),s.jsxs("div",{className:mn.dropdownContainer,"data-dropdown-container":!0,children:[s.jsxs("div",{className:mn.dropdownButton,onClick:()=>ae(ie),children:[s.jsx("span",{children:ve(Ae.category_id)}),s.jsx("i",{className:`fa fa-chevron-${n[ie]?"up":"down"}`})]}),n[ie]&&s.jsxs("div",{className:mn.dropdown,children:[s.jsx("div",{className:mn.searchInputContainer,children:s.jsx("input",{type:"text",placeholder:" ...",value:o[ie]||"",onChange:je=>re(ie,je.target.value),className:mn.searchInput,onClick:je=>je.stopPropagation()})}),s.jsxs("div",{className:mn.dropdownList,children:[s.jsxs("div",{className:`${mn.dropdownItem} ${Ae.category_id?"":mn.selected}`,onClick:()=>ne(ie,null),children:[" ",!Ae.category_id&&s.jsx("i",{className:"fa fa-check"})]}),Ne(ie).map(je=>s.jsxs("div",{className:`${mn.dropdownItem} ${Ae.category_id===je.id?mn.selected:""}`,onClick:()=>ne(ie,je.id),children:[je.full_path||je.name,Ae.category_id===je.id&&s.jsx("i",{className:"fa fa-check"})]},je.id)),Ne(ie).length===0&&s.jsx("div",{className:mn.noResults,children:"  "})]})]})]})]}),s.jsxs("div",{className:mn.formRow,children:[s.jsx("label",{children:" *"}),s.jsxs("div",{className:mn.dropdownContainer,"data-dropdown-container":!0,children:[s.jsxs("div",{className:mn.dropdownButton,onClick:()=>oe(ie),children:[s.jsx("span",{children:Se(Ae.location_id)}),s.jsx("i",{className:`fa fa-chevron-${r[ie]?"up":"down"}`})]}),r[ie]&&s.jsxs("div",{className:mn.dropdown,children:[s.jsx("div",{className:mn.searchInputContainer,children:s.jsx("input",{type:"text",placeholder:" ...",value:l[ie]||"",onChange:je=>Ce(ie,je.target.value),className:mn.searchInput,onClick:je=>je.stopPropagation()})}),s.jsxs("div",{className:mn.dropdownList,children:[s.jsxs("div",{className:`${mn.dropdownItem} ${Ae.location_id?"":mn.selected}`,onClick:()=>me(ie,null),children:[" ",!Ae.location_id&&s.jsx("i",{className:"fa fa-check"})]}),Ee(ie).map(je=>s.jsxs("div",{className:`${mn.dropdownItem} ${Ae.location_id===je.id?mn.selected:""}`,onClick:()=>me(ie,je.id),children:[je.name,Ae.location_id===je.id&&s.jsx("i",{className:"fa fa-check"})]},je.id)),Ee(ie).length===0&&s.jsx("div",{className:mn.noResults,children:"  "})]})]})]})]}),s.jsxs("div",{className:mn.formRow,children:[s.jsx("label",{children:""}),s.jsx("textarea",{value:Ae.description||"",onChange:je=>F(ie,{description:je.target.value}),rows:3})]}),s.jsxs("div",{className:mn.formRow,children:[s.jsx("label",{children:""}),s.jsx("input",{type:"number",value:Ae.price||"",onChange:je=>F(ie,{price:parseFloat(je.target.value)||null}),step:"0.01"})]}),s.jsxs("div",{className:mn.formRow,children:[s.jsx("label",{children:" "}),s.jsxs("select",{value:Ae.main_unit||"",onChange:je=>F(ie,{main_unit:je.target.value||null}),children:[s.jsx("option",{value:"",children:" "}),k.map(je=>s.jsxs("option",{value:je.code,children:[je.name," (",je.short_name,")"]},je.id))]})]}),s.jsxs("div",{className:mn.formRow,children:[s.jsx("label",{children:""}),s.jsx("input",{type:"number",value:Ae.main_quantity||"",onChange:je=>{const qe=je.target.value;if(qe===""){F(ie,{main_quantity:null});return}if(Fe)/^\d+$/.test(qe)&&F(ie,{main_quantity:parseInt(qe,10)});else if(/^\d*\.?\d*$/.test(qe)){const tt=parseFloat(qe);F(ie,{main_quantity:isNaN(tt)?null:tt})}},onBlur:je=>{const qe=je.target.value;if(qe===""||qe===null)F(ie,{main_quantity:null});else{const tt=Fe?Math.max(0,parseInt(qe,10)||0):Math.max(0,parseFloat(qe)||0);F(ie,{main_quantity:tt})}},step:Fe?"1":"0.001",min:"0",placeholder:"0"})]}),Ae.category_id&&E[Ae.category_id]&&E[Ae.category_id].length>0&&s.jsxs("div",{className:mn.formRow,children:[s.jsx("label",{children:""}),s.jsx("div",{className:mn.attributesSection,children:E[Ae.category_id].map(je=>{var qe,tt;return s.jsxs("div",{className:mn.attributeRow,children:[s.jsxs("label",{className:mn.attributeLabel,children:[je.name,je.required&&s.jsx("span",{className:mn.requiredStar,children:"*"})]}),je.has_predefined_values?s.jsxs("select",{className:mn.formControl,value:((qe=Ae.attributes)==null?void 0:qe[je.id])||"",onChange:he=>{const Ze={...Ae.attributes||{},[je.id]:he.target.value};F(ie,{attributes:Ze})},required:je.required,children:[!je.required&&s.jsx("option",{value:"",children:" "}),je.values.map(he=>s.jsx("option",{value:String(he.id),children:he.value},he.id))]}):s.jsx("input",{type:"text",className:mn.formControl,value:((tt=Ae.attributes)==null?void 0:tt[je.id])||"",onChange:he=>{const Ze={...Ae.attributes||{},[je.id]:he.target.value};F(ie,{attributes:Ze})},placeholder:` ${je.name}`,required:je.required})]},je.id)})})]}),s.jsxs("div",{className:mn.formRow,children:[s.jsx("label",{children:""}),s.jsxs("div",{className:mn.imagesSection,children:[s.jsx("input",{type:"file",accept:"image/*",multiple:!0,style:{display:"none"},id:`image-upload-${ie}`,onChange:je=>{const qe=Array.from(je.target.files);qe.length>0&&fe(ie,qe),je.target.value=""}}),s.jsxs("button",{type:"button",className:mn.addImageButton,onClick:()=>document.getElementById(`image-upload-${ie}`).click(),children:[s.jsx(kl,{}),"  "]}),Ae.images&&Ae.images.length>0&&s.jsx("div",{className:mn.imagesList,children:Ae.images.map((je,qe)=>{let tt;if(je instanceof File)tt=URL.createObjectURL(je);else if(typeof je=="string")tt=t(je);else if(je&&typeof je=="object"){const he=je.url||je.image;tt=he?t(he):""}else tt="";return s.jsxs("div",{className:mn.imageItem,draggable:!0,onDragStart:he=>{he.dataTransfer.effectAllowed="move",he.dataTransfer.setData("text/html",qe.toString()),he.currentTarget.style.opacity="0.5"},onDragEnd:he=>{he.currentTarget.style.opacity="1"},onDragOver:he=>{he.preventDefault(),he.dataTransfer.dropEffect="move",he.currentTarget.classList.add(mn.dragOver)},onDragLeave:he=>{he.currentTarget.classList.remove(mn.dragOver)},onDrop:he=>{he.preventDefault(),he.currentTarget.classList.remove(mn.dragOver);const Ze=parseInt(he.dataTransfer.getData("text/html"));Ze!==qe&&K(ie,Ze,qe)},children:[s.jsx("div",{className:mn.imageDragHandle,children:s.jsx(cQ,{})}),s.jsx("img",{src:tt,alt:`${Ae.name} -  ${qe+1}`,className:mn.imagePreview,onError:he=>{he.target.src&&!he.target.src.startsWith("data:")&&(he.target.onerror=null,he.target.style.display="none")}}),s.jsx("div",{className:mn.imageIndex,children:qe+1}),s.jsx("div",{className:mn.imageActions,children:s.jsx("button",{type:"button",className:mn.removeImageButton,onClick:()=>se(ie,qe),title:" ",children:s.jsx(da,{})})})]},qe)})})]})]}),s.jsxs("div",{className:mn.checkboxRow,children:[s.jsxs("div",{className:mn.toggleSwitch,children:[s.jsx("input",{type:"checkbox",checked:Ae.is_visible_on_marketplace||!1,onChange:je=>F(ie,{is_visible_on_marketplace:je.target.checked})}),s.jsx("span",{className:mn.slider}),s.jsx("span",{className:mn.toggleLabel,children:"  "})]}),s.jsxs("div",{className:mn.toggleSwitch,children:[s.jsx("input",{type:"checkbox",checked:Ae.is_visible_on_own_site||!1,onChange:je=>F(ie,{is_visible_on_own_site:je.target.checked})}),s.jsx("span",{className:mn.slider}),s.jsx("span",{className:mn.toggleLabel,children:"   "})]}),s.jsxs("div",{className:mn.toggleSwitch,children:[s.jsx("input",{type:"checkbox",checked:Ae.is_active!==!1,onChange:je=>F(ie,{is_active:je.target.checked})}),s.jsx("span",{className:mn.slider}),s.jsx("span",{className:mn.toggleLabel,children:""})]})]})]})]},ie)})}),s.jsxs("div",{className:mn.actions,children:[s.jsx("button",{className:mn.btnSecondary,onClick:Z,disabled:P,children:""}),s.jsxs("div",{className:mn.importModeButtons,children:[s.jsx("button",{className:mn.btnPrimary,onClick:()=>J("upsert"),disabled:P,title:"     ",children:P?s.jsxs(s.Fragment,{children:[s.jsx(Po,{className:mn.spin})," ..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Bl,{})," /"]})}),s.jsx("button",{className:mn.btnSync,onClick:()=>J("sync"),disabled:P,title:":  ,     ,    ",children:P?s.jsxs(s.Fragment,{children:[s.jsx(Po,{className:mn.spin})," ..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Bl,{})," "]})})]})]})]})]})]})]})},jAe="_container_1ikbv_2",CAe="_header_1ikbv_8",SAe="_pageTitle_1ikbv_12",NAe="_titleIcon_1ikbv_21",kAe="_content_1ikbv_27",IAe="_loaderContainer_1ikbv_33",EAe="_sectionCard_1ikbv_40",TAe="_sectionHeader_1ikbv_47",DAe="_uploadArea_1ikbv_59",AAe="_uploadIcon_1ikbv_72",MAe="_uploadHint_1ikbv_83",RAe="_fileInfo_1ikbv_89",BAe="_fileName_1ikbv_96",OAe="_fileActions_1ikbv_107",LAe="_btnPrimary_1ikbv_112",$Ae="_btnSecondary_1ikbv_113",PAe="_spin_1ikbv_149",FAe="_alertError_1ikbv_162",HAe="_alertSuccess_1ikbv_163",qAe="_productsList_1ikbv_194",VAe="_productCard_1ikbv_201",zAe="_productHeader_1ikbv_208",UAe="_removeProductButton_1ikbv_223",WAe="_productBody_1ikbv_246",YAe="_formRow_1ikbv_252",GAe="_checkboxRow_1ikbv_282",QAe="_barcodeInputContainer_1ikbv_303",XAe="_toggleSwitch_1ikbv_310",KAe="_slider_1ikbv_339",ZAe="_toggleLabel_1ikbv_356",JAe="_attributesSection_1ikbv_363",eMe="_attributeRow_1ikbv_373",tMe="_attributeLabel_1ikbv_379",nMe="_requiredStar_1ikbv_385",sMe="_actions_1ikbv_390",aMe="_importModeButtons_1ikbv_398",rMe="_btnSync_1ikbv_405",iMe="_dropdownContainer_1ikbv_434",oMe="_dropdownButton_1ikbv_439",cMe="_dropdown_1ikbv_434",lMe="_searchInputContainer_1ikbv_480",uMe="_searchInput_1ikbv_480",dMe="_dropdownList_1ikbv_510",hMe="_dropdownItem_1ikbv_515",fMe="_selected_1ikbv_531",mMe="_noResults_1ikbv_541",pMe="_imagesSection_1ikbv_551",gMe="_addImageButton_1ikbv_557",_Me="_imagesList_1ikbv_578",vMe="_imageItem_1ikbv_584",xMe="_imageControls_1ikbv_598",bMe="_imageMoveButton_1ikbv_607",yMe="_imagePreview_1ikbv_633",wMe="_imageActions_1ikbv_641",jMe="_removeImageButton_1ikbv_656",CMe="_imageIndex_1ikbv_683",SMe="_cropModal_1ikbv_701",NMe="_bodyNoScroll_1ikbv_714",bn={container:jAe,header:CAe,pageTitle:SAe,titleIcon:NAe,content:kAe,loaderContainer:IAe,sectionCard:EAe,sectionHeader:TAe,uploadArea:DAe,uploadIcon:AAe,uploadHint:MAe,fileInfo:RAe,fileName:BAe,fileActions:OAe,btnPrimary:LAe,btnSecondary:$Ae,spin:PAe,alertError:FAe,alertSuccess:HAe,productsList:qAe,productCard:VAe,productHeader:zAe,removeProductButton:UAe,productBody:WAe,formRow:YAe,checkboxRow:GAe,barcodeInputContainer:QAe,toggleSwitch:XAe,slider:KAe,toggleLabel:ZAe,attributesSection:JAe,attributeRow:eMe,attributeLabel:tMe,requiredStar:nMe,actions:sMe,importModeButtons:aMe,btnSync:rMe,dropdownContainer:iMe,dropdownButton:oMe,dropdown:cMe,searchInputContainer:lMe,searchInput:uMe,dropdownList:dMe,dropdownItem:hMe,selected:fMe,noResults:mMe,imagesSection:pMe,addImageButton:gMe,imagesList:_Me,imageItem:vMe,imageControls:xMe,imageMoveButton:bMe,imagePreview:yMe,imageActions:wMe,removeImageButton:jMe,imageIndex:CMe,cropModal:SMe,bodyNoScroll:NMe},kMe=()=>{Is();const e=_.useRef(null),{getFileUrl:t}=Er(),[n,a]=_.useState({}),[r,i]=_.useState({}),[o,c]=_.useState({}),[l,d]=_.useState({}),[f,g]=_.useState({productIndex:null,files:[],currentIndex:0}),{excelFile:b,parsedProducts:w,categories:C,locations:S,unitsOfMeasure:k,categoryAttributes:E,loading:D,parsing:R,importing:P,error:B,success:O,handleFileSelect:$,parseExcelFile:U,updateProductData:F,addProductImages:H,removeProductImage:se,reorderProductImages:K,removeProduct:te,importProducts:J,fetchCategoryAttributes:z,getUnitByCode:V,setError:M,setSuccess:ee,clearData:Z}=c$(),A=pe=>{var Re;const ce=(Re=pe.target.files)==null?void 0:Re[0];ce&&$(ce)},G=pe=>{a(ce=>({...ce,[pe]:!ce[pe]})),i(ce=>({...ce,[pe]:!1}))},Q=async(pe,ce)=>{const Re=w[pe];(Re==null?void 0:Re.category_id)!==ce?F(pe,{category_id:ce||null,attributes:{}}):F(pe,{category_id:ce||null}),a(Ae=>({...Ae,[pe]:!1})),c(Ae=>({...Ae,[pe]:""})),ce&&await z(ce)},Y=(pe,ce)=>{c(Re=>({...Re,[pe]:ce}))},ae=pe=>{i(ce=>({...ce,[pe]:!ce[pe]})),a(ce=>({...ce,[pe]:!1}))},ne=(pe,ce)=>{F(pe,{location_id:ce||null}),i(Re=>({...Re,[pe]:!1})),d(Re=>({...Re,[pe]:""}))},re=(pe,ce)=>{d(Re=>({...Re,[pe]:ce}))};_.useEffect(()=>{const pe=ce=>{ce.target.closest("[data-dropdown-container]")||(a({}),i({}))};return document.addEventListener("mousedown",pe),()=>{document.removeEventListener("mousedown",pe)}},[]),_.useEffect(()=>{!w.length||!E||w.forEach((pe,ce)=>{if(!pe.category_id||!E[pe.category_id])return;const Re=E[pe.category_id],Ae=pe.attributes||{};let ie=!1;const ge={...Ae};Re.forEach(be=>{if(be.has_predefined_values&&be.values&&be.values.length>0){const Fe=be.id,je=Ae[Fe]||Ae[String(Fe)];if(!je||je===""||je===null||je===void 0){const qe=be.values[0];qe&&(ge[Fe]=String(qe.id),ie=!0)}}}),ie&&F(ce,{attributes:ge})})},[E,w.length,F]);const oe=pe=>{const ce=(o[pe]||"").toLowerCase();return ce?C.filter(Re=>(Re.full_path||Re.name).toLowerCase().includes(ce)):C},me=pe=>{const ce=(l[pe]||"").toLowerCase();return ce?S.filter(Re=>Re.name.toLowerCase().includes(ce)):S},Ce=pe=>{if(!pe)return" ";const ce=C.find(Re=>Re.id===pe);return ce?ce.full_path||ce.name:" "},Ne=pe=>{if(!pe)return" ";const ce=S.find(Re=>Re.id===pe);return ce?ce.name:" "},Ee=(pe,ce)=>{ce.length>0&&(g({productIndex:pe,files:Array.from(ce),currentIndex:0}),document.body.classList.add(bn.bodyNoScroll))},ve=(pe,ce)=>{const{productIndex:Re,files:Ae}=f;Re!==null&&(H(Re,[pe]),ce===Ae.length-1&&(g({productIndex:null,files:[],currentIndex:0}),document.body.classList.remove(bn.bodyNoScroll)))},Se=()=>{g({productIndex:null,files:[],currentIndex:0}),document.body.classList.remove(bn.bodyNoScroll)},fe=()=>{g(pe=>({...pe,currentIndex:pe.currentIndex+1}))},de=()=>{g(pe=>({...pe,currentIndex:pe.currentIndex-1}))};return D?s.jsx("div",{className:bn.container,children:s.jsx("div",{className:bn.loaderContainer,children:s.jsx(Fn,{})})}):s.jsxs("div",{className:bn.container,children:[f.files.length>0&&f.productIndex!==null&&s.jsx("div",{className:bn.cropModal,children:s.jsx(dp,{files:f.files,currentIndex:f.currentIndex,onCropComplete:ve,onCancel:Se,onNext:fe,onPrevious:de})}),s.jsx("div",{className:bn.header,children:s.jsxs("h1",{className:bn.pageTitle,children:[s.jsx(Dh,{className:bn.titleIcon}),"  Excel"]})}),s.jsxs("div",{className:bn.content,children:[!b&&!w.length&&s.jsxs("div",{className:bn.sectionCard,children:[s.jsxs("div",{className:bn.uploadArea,onClick:()=>{var pe;return(pe=e.current)==null?void 0:pe.click()},children:[s.jsx(Dh,{className:bn.uploadIcon}),s.jsx("h3",{children:" Excel "}),s.jsx("p",{className:bn.uploadHint,children:" .xlsx, .xls"})]}),s.jsx("input",{ref:e,type:"file",accept:".xlsx,.xls",onChange:A,style:{display:"none"}})]}),b&&!w.length&&s.jsx("div",{className:bn.sectionCard,children:s.jsxs("div",{className:bn.fileInfo,children:[s.jsxs("div",{className:bn.fileName,children:[s.jsx(Dh,{}),b.name]}),s.jsxs("div",{className:bn.fileActions,children:[s.jsx("button",{className:bn.btnSecondary,onClick:()=>{Z(),e.current&&(e.current.value="")},children:s.jsx(da,{})}),s.jsx("button",{className:bn.btnPrimary,onClick:U,disabled:R,children:R?s.jsx(Po,{className:bn.spin}):s.jsx(Im,{})})]})]})}),B&&s.jsxs("div",{className:bn.alertError,children:[s.jsx(Ox,{}),s.jsx("span",{children:B}),s.jsx("button",{onClick:()=>M(null),children:s.jsx(da,{})})]}),O&&s.jsxs("div",{className:bn.alertSuccess,children:[s.jsx(Bl,{}),s.jsx("span",{children:O}),s.jsx("button",{onClick:()=>ee(null),children:s.jsx(da,{})})]}),w.length>0&&s.jsxs("div",{className:bn.sectionCard,children:[s.jsx("div",{className:bn.sectionHeader,children:s.jsxs("h5",{children:[": ",w.length]})}),s.jsx("div",{className:bn.productsList,children:w.map((pe,ce)=>{const Re=V(pe.main_unit),Ae=Re?(()=>{const ie=(Re.code||"").toLowerCase();if(["pcs","","","","box","pack"].includes(ie))return!0;const be=(Re.name||"").toLowerCase();return["","","",""].some(je=>be.includes(je))})():!1;return s.jsxs("div",{className:bn.productCard,children:[s.jsxs("div",{className:bn.productHeader,children:[s.jsxs("h4",{children:[" ",ce+1]}),s.jsx("button",{type:"button",className:bn.removeProductButton,onClick:()=>te(ce),disabled:P,title:"   ",children:s.jsx(da,{})})]}),s.jsxs("div",{className:bn.productBody,children:[s.jsxs("div",{className:bn.formRow,children:[s.jsx("label",{children:" *"}),s.jsx("input",{type:"text",value:pe.name||"",onChange:ie=>F(ce,{name:ie.target.value}),placeholder:"  "})]}),s.jsxs("div",{className:bn.formRow,children:[s.jsx("label",{children:" (SKU)"}),s.jsx("input",{type:"text",value:pe.article||"",onChange:ie=>F(ce,{article:ie.target.value}),placeholder:"  (SKU)",disabled:w.length>0,style:w.length>0?{cursor:"not-allowed",backgroundColor:"#f5f5f5"}:{},title:w.length>0?"    ":""})]}),s.jsxs("div",{className:bn.formRow,children:[s.jsx("label",{children:"- (EAN-13)"}),pe.barcode_from_existing?s.jsx("input",{type:"text",value:pe.barcode||"",disabled:!0,style:{cursor:"not-allowed",backgroundColor:"#f5f5f5"},placeholder:"-   "}):s.jsxs("div",{className:bn.barcodeInputContainer,children:[s.jsxs("div",{className:bn.toggleSwitch,children:[s.jsx("input",{type:"checkbox",checked:pe.use_auto_barcode!==!1,onChange:ie=>F(ce,{use_auto_barcode:ie.target.checked})}),s.jsx("span",{className:bn.slider}),s.jsx("span",{className:bn.toggleLabel,children:pe.use_auto_barcode!==!1?" ":" "})]}),s.jsx("input",{type:"text",value:pe.barcode||"",onChange:ie=>F(ce,{barcode:ie.target.value}),disabled:pe.use_auto_barcode!==!1,style:pe.use_auto_barcode!==!1?{cursor:"not-allowed",backgroundColor:"#f5f5f5"}:{},placeholder:pe.use_auto_barcode!==!1?" ":" - (EAN-13)"})]})]}),s.jsxs("div",{className:bn.formRow,children:[s.jsx("label",{children:" *"}),s.jsxs("div",{className:bn.dropdownContainer,"data-dropdown-container":!0,children:[s.jsxs("div",{className:bn.dropdownButton,onClick:()=>G(ce),children:[s.jsx("span",{children:Ce(pe.category_id)}),s.jsx("i",{className:`fa fa-chevron-${n[ce]?"up":"down"}`})]}),n[ce]&&s.jsxs("div",{className:bn.dropdown,children:[s.jsx("div",{className:bn.searchInputContainer,children:s.jsx("input",{type:"text",placeholder:" ...",value:o[ce]||"",onChange:ie=>Y(ce,ie.target.value),className:bn.searchInput,onClick:ie=>ie.stopPropagation()})}),s.jsxs("div",{className:bn.dropdownList,children:[s.jsxs("div",{className:`${bn.dropdownItem} ${pe.category_id?"":bn.selected}`,onClick:()=>Q(ce,null),children:[" ",!pe.category_id&&s.jsx("i",{className:"fa fa-check"})]}),oe(ce).map(ie=>s.jsxs("div",{className:`${bn.dropdownItem} ${pe.category_id===ie.id?bn.selected:""}`,onClick:()=>Q(ce,ie.id),children:[ie.full_path||ie.name,pe.category_id===ie.id&&s.jsx("i",{className:"fa fa-check"})]},ie.id)),oe(ce).length===0&&s.jsx("div",{className:bn.noResults,children:"  "})]})]})]})]}),s.jsxs("div",{className:bn.formRow,children:[s.jsx("label",{children:" *"}),s.jsxs("div",{className:bn.dropdownContainer,"data-dropdown-container":!0,children:[s.jsxs("div",{className:bn.dropdownButton,onClick:()=>ae(ce),children:[s.jsx("span",{children:Ne(pe.location_id)}),s.jsx("i",{className:`fa fa-chevron-${r[ce]?"up":"down"}`})]}),r[ce]&&s.jsxs("div",{className:bn.dropdown,children:[s.jsx("div",{className:bn.searchInputContainer,children:s.jsx("input",{type:"text",placeholder:" ...",value:l[ce]||"",onChange:ie=>re(ce,ie.target.value),className:bn.searchInput,onClick:ie=>ie.stopPropagation()})}),s.jsxs("div",{className:bn.dropdownList,children:[s.jsxs("div",{className:`${bn.dropdownItem} ${pe.location_id?"":bn.selected}`,onClick:()=>ne(ce,null),children:[" ",!pe.location_id&&s.jsx("i",{className:"fa fa-check"})]}),me(ce).map(ie=>s.jsxs("div",{className:`${bn.dropdownItem} ${pe.location_id===ie.id?bn.selected:""}`,onClick:()=>ne(ce,ie.id),children:[ie.name,pe.location_id===ie.id&&s.jsx("i",{className:"fa fa-check"})]},ie.id)),me(ce).length===0&&s.jsx("div",{className:bn.noResults,children:"  "})]})]})]})]}),s.jsxs("div",{className:bn.formRow,children:[s.jsx("label",{children:""}),s.jsx("textarea",{value:pe.description||"",onChange:ie=>F(ce,{description:ie.target.value}),rows:3})]}),s.jsxs("div",{className:bn.formRow,children:[s.jsx("label",{children:""}),s.jsx("input",{type:"number",value:pe.price||"",onChange:ie=>F(ce,{price:parseFloat(ie.target.value)||null}),step:"0.01"})]}),s.jsxs("div",{className:bn.formRow,children:[s.jsx("label",{children:" "}),s.jsxs("select",{value:pe.main_unit||"",onChange:ie=>F(ce,{main_unit:ie.target.value||null}),children:[s.jsx("option",{value:"",children:" "}),k.map(ie=>s.jsxs("option",{value:ie.code,children:[ie.name," (",ie.short_name,")"]},ie.id))]})]}),s.jsxs("div",{className:bn.formRow,children:[s.jsx("label",{children:""}),s.jsx("input",{type:"number",value:pe.main_quantity||"",onChange:ie=>{const ge=ie.target.value;if(ge===""){F(ce,{main_quantity:null});return}if(Ae)/^\d+$/.test(ge)&&F(ce,{main_quantity:parseInt(ge,10)});else if(/^\d*\.?\d*$/.test(ge)){const be=parseFloat(ge);F(ce,{main_quantity:isNaN(be)?null:be})}},onBlur:ie=>{const ge=ie.target.value;if(ge===""||ge===null)F(ce,{main_quantity:null});else{const be=Ae?Math.max(0,parseInt(ge,10)||0):Math.max(0,parseFloat(ge)||0);F(ce,{main_quantity:be})}},step:Ae?"1":"0.001",min:"0",placeholder:"0"})]}),pe.category_id&&E[pe.category_id]&&E[pe.category_id].length>0&&s.jsxs("div",{className:bn.formRow,children:[s.jsx("label",{children:""}),s.jsx("div",{className:bn.attributesSection,children:E[pe.category_id].map(ie=>{var ge,be;return s.jsxs("div",{className:bn.attributeRow,children:[s.jsxs("label",{className:bn.attributeLabel,children:[ie.name,ie.required&&s.jsx("span",{className:bn.requiredStar,children:"*"})]}),ie.has_predefined_values?s.jsxs("select",{className:bn.formControl,value:((ge=pe.attributes)==null?void 0:ge[ie.id])||"",onChange:Fe=>{const je={...pe.attributes||{},[ie.id]:Fe.target.value};F(ce,{attributes:je})},required:ie.required,children:[!ie.required&&s.jsx("option",{value:"",children:" "}),ie.values.map(Fe=>s.jsx("option",{value:String(Fe.id),children:Fe.value},Fe.id))]}):s.jsx("input",{type:"text",className:bn.formControl,value:((be=pe.attributes)==null?void 0:be[ie.id])||"",onChange:Fe=>{const je={...pe.attributes||{},[ie.id]:Fe.target.value};F(ce,{attributes:je})},placeholder:` ${ie.name}`,required:ie.required})]},ie.id)})})]}),s.jsxs("div",{className:bn.formRow,children:[s.jsx("label",{children:""}),s.jsxs("div",{className:bn.imagesSection,children:[s.jsx("input",{type:"file",accept:"image/*",multiple:!0,style:{display:"none"},id:`image-upload-mobile-${ce}`,onChange:ie=>{const ge=Array.from(ie.target.files);ge.length>0&&Ee(ce,ge),ie.target.value=""}}),s.jsxs("button",{type:"button",className:bn.addImageButton,onClick:()=>document.getElementById(`image-upload-mobile-${ce}`).click(),children:[s.jsx(kl,{}),"  "]}),pe.images&&pe.images.length>0&&s.jsx("div",{className:bn.imagesList,children:pe.images.map((ie,ge)=>{let be;if(ie instanceof File)be=URL.createObjectURL(ie);else if(typeof ie=="string")be=t(ie);else if(ie&&typeof ie=="object"){const Fe=ie.url||ie.image;be=Fe?t(Fe):""}else be="";return s.jsxs("div",{className:bn.imageItem,children:[s.jsxs("div",{className:bn.imageControls,children:[s.jsx("button",{type:"button",className:bn.imageMoveButton,onClick:()=>K(ce,ge,ge-1),disabled:ge===0,title:"",children:s.jsx(ko,{})}),s.jsx("button",{type:"button",className:bn.imageMoveButton,onClick:()=>K(ce,ge,ge+1),disabled:ge===pe.images.length-1,title:"",children:s.jsx(No,{})})]}),s.jsx("img",{src:be,alt:`${pe.name} -  ${ge+1}`,className:bn.imagePreview,onError:Fe=>{Fe.target.src&&!Fe.target.src.startsWith("data:")&&(Fe.target.onerror=null,Fe.target.style.display="none")}}),s.jsx("div",{className:bn.imageIndex,children:ge+1}),s.jsx("div",{className:bn.imageActions,children:s.jsx("button",{type:"button",className:bn.removeImageButton,onClick:()=>se(ce,ge),title:" ",children:s.jsx(da,{})})})]},ge)})})]})]}),s.jsxs("div",{className:bn.checkboxRow,children:[s.jsxs("div",{className:bn.toggleSwitch,children:[s.jsx("input",{type:"checkbox",checked:pe.is_visible_on_marketplace||!1,onChange:ie=>F(ce,{is_visible_on_marketplace:ie.target.checked})}),s.jsx("span",{className:bn.slider}),s.jsx("span",{className:bn.toggleLabel,children:" "})]}),s.jsxs("div",{className:bn.toggleSwitch,children:[s.jsx("input",{type:"checkbox",checked:pe.is_visible_on_own_site||!1,onChange:ie=>F(ce,{is_visible_on_own_site:ie.target.checked})}),s.jsx("span",{className:bn.slider}),s.jsx("span",{className:bn.toggleLabel,children:"  "})]}),s.jsxs("div",{className:bn.toggleSwitch,children:[s.jsx("input",{type:"checkbox",checked:pe.is_active!==!1,onChange:ie=>F(ce,{is_active:ie.target.checked})}),s.jsx("span",{className:bn.slider}),s.jsx("span",{className:bn.toggleLabel,children:""})]})]})]})]},ce)})}),s.jsxs("div",{className:bn.actions,children:[s.jsx("button",{className:bn.btnSecondary,onClick:Z,disabled:P,children:""}),s.jsxs("div",{className:bn.importModeButtons,children:[s.jsx("button",{className:bn.btnPrimary,onClick:()=>J("upsert"),disabled:P,title:"     ",children:P?s.jsxs(s.Fragment,{children:[s.jsx(Po,{className:bn.spin})," ..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Bl,{})," /"]})}),s.jsx("button",{className:bn.btnSync,onClick:()=>J("sync"),disabled:P,title:":  ,     ,    ",children:P?s.jsxs(s.Fragment,{children:[s.jsx(Po,{className:bn.spin})," ..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Bl,{})," "]})})]})]})]})]})]})},IMe="_batchesSection_486qu_1",EMe="_batchesHeader_486qu_9",TMe="_batchControls_486qu_27",DMe="_filterGroup_486qu_35",AMe="_filterButton_486qu_40",MMe="_filterButtonActive_486qu_50",RMe="_sortGroup_486qu_56",BMe="_pageSizeGroup_486qu_57",OMe="_defectControls_486qu_58",LMe="_primaryButton_486qu_75",$Me="_secondaryButton_486qu_91",PMe="_linkButton_486qu_143",FMe="_linkButtonDanger_486qu_154",HMe="_emptyState_486qu_162",qMe="_batchesList_486qu_171",VMe="_batchCard_486qu_177",zMe="_batchCardHeader_486qu_184",UMe="_batchNumber_486qu_194",WMe="_batchMeta_486qu_200",YMe="_batchTotals_486qu_208",GMe="_batchLines_486qu_226",QMe="_batchLine_486qu_226",XMe="_batchLineInfo_486qu_239",KMe="_batchLineTitle_486qu_245",ZMe="_batchLineSku_486qu_254",JMe="_batchLineLocation_486qu_259",eRe="_batchLineStats_486qu_264",tRe="_inventorySurplus_486qu_278",nRe="_inventoryShortage_486qu_283",sRe="_batchLineActions_486qu_288",aRe="_defectsList_486qu_300",rRe="_defectItem_486qu_309",iRe="_defectActions_486qu_318",oRe="_transferBadge_486qu_324",cRe="_transferInfo_486qu_336",lRe="_defectsJournal_486qu_343",uRe="_defectsHeader_486qu_351",dRe="_defectsTable_486qu_364",hRe="_defectsTableHead_486qu_371",fRe="_defectsTableRow_486qu_372",mRe="_pagination_486qu_393",pRe="_modalOverlay_486qu_418",gRe="_modalContent_486qu_429",_Re="_modalHeader_486qu_441",vRe="_closeButton_486qu_458",xRe="_modalBody_486qu_479",bRe="_modalGrid_486qu_529",yRe="_batchLineRow_486qu_537",wRe="_batchLinesBuilder_486qu_549",jRe="_batchLinesHeader_486qu_559",CRe="_batchLineToggles_486qu_576",SRe="_removeLineButton_486qu_585",NRe="_modalFooter_486qu_593",kRe="_errorMessage_486qu_603",IRe="_defectMeta_486qu_614",ERe="_defectMetaRow_486qu_626",TRe="_defectMetaLabel_486qu_633",DRe="_defectMetaValue_486qu_639",ARe="_inputHint_486qu_646",MRe="_reasonSelector_486qu_654",RRe="_reasonOption_486qu_661",BRe="_reasonOptionActive_486qu_686",ORe="_exportButton_486qu_708",LRe="_historyButton_486qu_732",$Re="_historyContainer_486qu_797",PRe="_historyDateGroup_486qu_803",FRe="_historyDateHeader_486qu_808",HRe="_historyRecords_486qu_818",qRe="_historyRecord_486qu_818",VRe="_historyRecordHeader_486qu_831",zRe="_historyRecordType_486qu_838",URe="_historyRecordTime_486qu_846",WRe="_historyRecordUser_486qu_851",YRe="_historyRecordChanges_486qu_860",GRe="_historyChangeItem_486qu_869",QRe="_historyChangeOld_486qu_878",XRe="_historyChangeNew_486qu_884",KRe="_historyRecordReason_486qu_889",ZRe="_historyRecordQuantity_486qu_901",JRe="_historyRecordDescription_486qu_907",eBe="_historyRecordReceipt_486qu_913",tBe="_locationBatchesSection_486qu_922",nBe="_locationBatchesHeader_486qu_928",sBe="_locationBatchesTitle_486qu_937",aBe="_locationBatchFilters_486qu_944",rBe="_loadMoreBatchesContainer_486qu_949",iBe="_loadMoreButton_486qu_955",oBe="_container_486qu_976",cBe="_header_486qu_984",lBe="_headerTitleRow_486qu_991",uBe="_backButton_486qu_999",dBe="_title_486qu_1015",hBe="_editButton_486qu_1022",fBe="_errorContainer_486qu_1043",mBe="_error_486qu_603",pBe="_productInfo_486qu_1057",gBe="_tabs_486qu_1068",_Be="_tab_486qu_1068",vBe="_activeTab_486qu_1095",xBe="_imageContainer_486qu_1114",bBe="_imageSlider_486qu_1122",yBe="_mainImage_486qu_1130",wBe="_imageNavButton_486qu_1138",jBe="_imageNavButtonRight_486qu_1166",CBe="_imageIndicator_486qu_1178",SBe="_details_486qu_1192",NBe="_category_486qu_1198",kBe="_description_486qu_1203",IBe="_priceRangeInfo_486qu_1209",EBe="_priceRangeLabel_486qu_1219",TBe="_priceRangeValue_486qu_1224",DBe="_statsInfo_486qu_1230",ABe="_statItem_486qu_1240",MBe="_statLabel_486qu_1247",RBe="_statValue_486qu_1252",BBe="_statValueDefect_486qu_1258",OBe="_locationFilter_486qu_1262",LBe="_filterLabel_486qu_1274",$Be="_dropdownContainer_486qu_1280",PBe="_dropdownButton_486qu_1286",FBe="_dropdown_486qu_1280",HBe="_searchInputContainer_486qu_1326",qBe="_searchInput_486qu_1326",VBe="_dropdownList_486qu_1355",zBe="_dropdownItem_486qu_1360",UBe="_selected_486qu_1375",WBe="_noResults_486qu_1384",YBe="_clearFilterButton_486qu_1391",GBe="_locationsList_486qu_1411",QBe="_locationCard_486qu_1422",XBe="_locationName_486qu_1435",KBe="_variantsList_486qu_1443",ZBe="_variantCard_486qu_1449",JBe="_variantHeader_486qu_1462",eOe="_variantName_486qu_1469",tOe="_variantSku_486qu_1475",nOe="_variantAttributes_486qu_1480",sOe="_attributeTag_486qu_1487",aOe="_variantDetails_486qu_1496",rOe="_priceSection_486qu_1503",iOe="_priceEdit_486qu_1504",oOe="_priceLabel_486qu_1519",cOe="_priceValue_486qu_1524",lOe="_addPriceButton_486qu_1567",uOe="_priceRow_486qu_1587",dOe="_priceActions_486qu_1594",hOe="_priceInfo_486qu_1600",fOe="_isActiveToggle_486qu_1607",mOe="_toggleLabel_486qu_1620",pOe="_priceInput_486qu_1626",gOe="_priceUnitLabel_486qu_1641",_Oe="_editButtons_486qu_1648",vOe="_saveButton_486qu_1653",xOe="_cancelButton_486qu_1654",bOe="_stockInfo_486qu_1686",yOe="_stockItem_486qu_1691",wOe="_barcodeSection_486qu_1708",jOe="_barcodeTitle_486qu_1718",COe="_barcodeImageContainer_486qu_1726",SOe="_barcodeImg_486qu_1738",NOe="_barcodeNumber_486qu_1745",kOe="_printBarcodeButton_486qu_1754",IOe="_activeFlagsSection_486qu_1782",EOe="_activeFlagsTitle_486qu_1790",TOe="_activeFlagsList_486qu_1799",DOe="_activeFlagItem_486qu_1805",AOe="_flagLabel_486qu_1836",MOe="_filterSelect_486qu_1960",ROe="_availableQuantity_486qu_2014",BOe="_reservedQuantity_486qu_2019",OOe="_defectQuantity_486qu_2024",LOe="_analyticsSection_486qu_2085",$Oe="_analyticsHeader_486qu_2093",POe="_analyticsPeriodSelector_486qu_2112",FOe="_analyticsStats_486qu_2123",HOe="_analyticsStatCard_486qu_2130",qOe="_analyticsChartSection_486qu_2150",VOe="_analyticsSubSection_486qu_2164",zOe="_chartContainer_486qu_2178",UOe="_variantPopularityTable_486qu_2184",WOe="_variantPopularityHead_486qu_2190",YOe="_variantPopularityRow_486qu_2191",GOe="_forecastCards_486qu_2221",QOe="_forecastCard_486qu_2221",XOe="_forecastTitle_486qu_2235",KOe="_forecastValue_486qu_2242",ZOe="_stockDynamics_486qu_2248",JOe="_stockDynamicsItem_486qu_2254",eLe="_stockDynamicsLabel_486qu_2264",tLe="_stockDynamicsValue_486qu_2269",Ie={batchesSection:IMe,batchesHeader:EMe,batchControls:TMe,filterGroup:DMe,filterButton:AMe,filterButtonActive:MMe,sortGroup:RMe,pageSizeGroup:BMe,defectControls:OMe,primaryButton:LMe,secondaryButton:$Me,linkButton:PMe,linkButtonDanger:FMe,emptyState:HMe,batchesList:qMe,batchCard:VMe,batchCardHeader:zMe,batchNumber:UMe,batchMeta:WMe,batchTotals:YMe,batchLines:GMe,batchLine:QMe,batchLineInfo:XMe,batchLineTitle:KMe,batchLineSku:ZMe,batchLineLocation:JMe,batchLineStats:eRe,inventorySurplus:tRe,inventoryShortage:nRe,batchLineActions:sRe,defectsList:aRe,defectItem:rRe,defectActions:iRe,transferBadge:oRe,transferInfo:cRe,defectsJournal:lRe,defectsHeader:uRe,defectsTable:dRe,defectsTableHead:hRe,defectsTableRow:fRe,pagination:mRe,modalOverlay:pRe,modalContent:gRe,modalHeader:_Re,closeButton:vRe,modalBody:xRe,modalGrid:bRe,batchLineRow:yRe,batchLinesBuilder:wRe,batchLinesHeader:jRe,batchLineToggles:CRe,removeLineButton:SRe,modalFooter:NRe,errorMessage:kRe,defectMeta:IRe,defectMetaRow:ERe,defectMetaLabel:TRe,defectMetaValue:DRe,inputHint:ARe,reasonSelector:MRe,reasonOption:RRe,reasonOptionActive:BRe,exportButton:ORe,historyButton:LRe,historyContainer:$Re,historyDateGroup:PRe,historyDateHeader:FRe,historyRecords:HRe,historyRecord:qRe,historyRecordHeader:VRe,historyRecordType:zRe,historyRecordTime:URe,historyRecordUser:WRe,historyRecordChanges:YRe,historyChangeItem:GRe,historyChangeOld:QRe,historyChangeNew:XRe,historyRecordReason:KRe,historyRecordQuantity:ZRe,historyRecordDescription:JRe,historyRecordReceipt:eBe,locationBatchesSection:tBe,locationBatchesHeader:nBe,locationBatchesTitle:sBe,locationBatchFilters:aBe,loadMoreBatchesContainer:rBe,loadMoreButton:iBe,container:oBe,header:cBe,headerTitleRow:lBe,backButton:uBe,title:dBe,editButton:hBe,errorContainer:fBe,error:mBe,productInfo:pBe,tabs:gBe,tab:_Be,activeTab:vBe,imageContainer:xBe,imageSlider:bBe,mainImage:yBe,imageNavButton:wBe,imageNavButtonRight:jBe,imageIndicator:CBe,details:SBe,category:NBe,description:kBe,priceRangeInfo:IBe,priceRangeLabel:EBe,priceRangeValue:TBe,statsInfo:DBe,statItem:ABe,statLabel:MBe,statValue:RBe,statValueDefect:BBe,locationFilter:OBe,filterLabel:LBe,dropdownContainer:$Be,dropdownButton:PBe,dropdown:FBe,searchInputContainer:HBe,searchInput:qBe,dropdownList:VBe,dropdownItem:zBe,selected:UBe,noResults:WBe,clearFilterButton:YBe,locationsList:GBe,locationCard:QBe,locationName:XBe,variantsList:KBe,variantCard:ZBe,variantHeader:JBe,variantName:eOe,variantSku:tOe,variantAttributes:nOe,attributeTag:sOe,variantDetails:aOe,priceSection:rOe,priceEdit:iOe,priceLabel:oOe,priceValue:cOe,addPriceButton:lOe,priceRow:uOe,priceActions:dOe,priceInfo:hOe,isActiveToggle:fOe,toggleLabel:mOe,priceInput:pOe,priceUnitLabel:gOe,editButtons:_Oe,saveButton:vOe,cancelButton:xOe,stockInfo:bOe,stockItem:yOe,barcodeSection:wOe,barcodeTitle:jOe,barcodeImageContainer:COe,barcodeImg:SOe,barcodeNumber:NOe,printBarcodeButton:kOe,activeFlagsSection:IOe,activeFlagsTitle:EOe,activeFlagsList:TOe,activeFlagItem:DOe,flagLabel:AOe,filterSelect:MOe,availableQuantity:ROe,reservedQuantity:BOe,defectQuantity:OOe,analyticsSection:LOe,analyticsHeader:$Oe,analyticsPeriodSelector:POe,analyticsStats:FOe,analyticsStatCard:HOe,analyticsChartSection:qOe,analyticsSubSection:VOe,chartContainer:zOe,variantPopularityTable:UOe,variantPopularityHead:WOe,variantPopularityRow:YOe,forecastCards:GOe,forecastCard:QOe,forecastTitle:XOe,forecastValue:KOe,stockDynamics:ZOe,stockDynamicsItem:JOe,stockDynamicsLabel:eLe,stockDynamicsValue:tLe},nLe="_container_r2q7i_1",sLe="_error_r2q7i_10",aLe="_statsGrid_r2q7i_20",rLe="_statCard_r2q7i_27",iLe="_statLabel_r2q7i_35",oLe="_statValue_r2q7i_41",cLe="_filtersContainer_r2q7i_48",lLe="_filters_r2q7i_48",uLe="_filterInput_r2q7i_65",dLe="_clearButton_r2q7i_80",hLe="_exportButton_r2q7i_96",fLe="_section_r2q7i_130",mLe="_sectionTitle_r2q7i_138",pLe="_noData_r2q7i_145",gLe="_table_r2q7i_155",_Le="_linkButton_r2q7i_183",vLe="_salesList_r2q7i_200",xLe="_saleCard_r2q7i_206",bLe="_saleHeader_r2q7i_219",yLe="_saleDate_r2q7i_230",wLe="_saleReceipt_r2q7i_235",jLe="_saleBody_r2q7i_243",CLe="_saleInfo_r2q7i_250",SLe="_infoRow_r2q7i_256",NLe="_sku_r2q7i_262",kLe="_batchInfo_r2q7i_268",ILe="_salePricing_r2q7i_274",ELe="_priceRow_r2q7i_284",TLe="_discount_r2q7i_291",DLe="_total_r2q7i_296",ALe="_returnsSection_r2q7i_303",MLe="_returnsHeader_r2q7i_309",RLe="_returnItem_r2q7i_316",BLe="_returnInfo_r2q7i_324",OLe="_defectBadge_r2q7i_334",LLe="_returnAmount_r2q7i_343",$Le="_returnReason_r2q7i_349",PLe="_customerInfo_r2q7i_356",us={container:nLe,error:sLe,statsGrid:aLe,statCard:rLe,statLabel:iLe,statValue:oLe,filtersContainer:cLe,filters:lLe,filterInput:uLe,clearButton:dLe,exportButton:hLe,section:fLe,sectionTitle:mLe,noData:pLe,table:gLe,linkButton:_Le,salesList:vLe,saleCard:xLe,saleHeader:bLe,saleDate:yLe,saleReceipt:wLe,saleBody:jLe,saleInfo:CLe,infoRow:SLe,sku:NLe,batchInfo:kLe,salePricing:ILe,priceRow:ELe,discount:TLe,total:DLe,returnsSection:ALe,returnsHeader:MLe,returnItem:RLe,returnInfo:BLe,defectBadge:OLe,returnAmount:LLe,returnReason:$Le,customerInfo:PLe},l$=({businessSlug:e,productId:t})=>{var k,E,D,R;const n=Is(),[a,r]=_.useState(!0),[i,o]=_.useState(null),[c,l]=_.useState(null),[d,f]=_.useState({location:"",variant:"",startDate:"",endDate:""});_.useEffect(()=>{g()},[e,t,d]);const g=async()=>{var P,B;try{r(!0);const O={};d.location&&(O.location=d.location),d.variant&&(O.variant=d.variant),d.startDate&&(O.start_date=d.startDate),d.endDate&&(O.end_date=d.endDate);const $=await Be.get(`/api/business/${e}/products/${t}/sales-history/`,{params:O});o($.data)}catch(O){console.error("   :",O),l(((B=(P=O.response)==null?void 0:P.data)==null?void 0:B.detail)||"  ")}finally{r(!1)}},b=(P,B)=>{f(O=>({...O,[P]:B}))},w=P=>{n(`/business/${e}/transactions?receipt=${P}`)},C=P=>{n(`/business/${e}/batches?batch=${P}`)},S=async()=>{var P,B;try{const O={};d.location&&(O.location=d.location),d.variant&&(O.variant=d.variant),d.startDate&&(O.start_date=d.startDate),d.endDate&&(O.end_date=d.endDate);const $=await Be.get(`/api/business/${e}/products/${t}/sales-history/export-excel/`,{params:O,responseType:"blob"}),U=window.URL.createObjectURL(new Blob([$.data])),F=document.createElement("a");F.href=U;const H=$.headers["content-disposition"];let se=`__${new Date().toISOString().split("T")[0]}.xlsx`;if(H){const K=H.match(/filename="(.+)"/);K&&(se=K[1])}F.setAttribute("download",se),document.body.appendChild(F),F.click(),F.remove(),window.URL.revokeObjectURL(U)}catch(O){console.error("   Excel:",O),alert("   Excel: "+(((B=(P=O.response)==null?void 0:P.data)==null?void 0:B.detail)||O.message))}};return a?s.jsx(Fn,{}):c?s.jsx("div",{className:us.error,children:c}):i?s.jsxs("div",{className:us.container,children:[s.jsxs("div",{className:us.statsGrid,children:[s.jsxs("div",{className:us.statCard,children:[s.jsx("div",{className:us.statLabel,children:" "}),s.jsx("div",{className:us.statValue,children:i.statistics.total_sales})]}),s.jsxs("div",{className:us.statCard,children:[s.jsxs("div",{className:us.statLabel,children:[" ",((k=i.product)==null?void 0:k.unit_display)||"."]}),s.jsx("div",{className:us.statValue,children:i.statistics.total_quantity_sold})]}),s.jsxs("div",{className:us.statCard,children:[s.jsx("div",{className:us.statLabel,children:""}),s.jsxs("div",{className:us.statValue,children:[i.statistics.total_revenue.toFixed(2)," "]})]}),s.jsxs("div",{className:us.statCard,children:[s.jsx("div",{className:us.statLabel,children:""}),s.jsxs("div",{className:us.statValue,children:[i.statistics.total_returns_count," (",i.statistics.total_returned_quantity," ",((E=i.product)==null?void 0:E.unit_display)||".",")"]})]}),s.jsxs("div",{className:us.statCard,children:[s.jsx("div",{className:us.statLabel,children:" "}),s.jsxs("div",{className:us.statValue,children:[i.statistics.total_refunded.toFixed(2)," "]})]}),s.jsxs("div",{className:us.statCard,children:[s.jsx("div",{className:us.statLabel,children:" "}),s.jsxs("div",{className:us.statValue,children:[i.statistics.net_revenue.toFixed(2)," "]})]})]}),s.jsxs("div",{className:us.filtersContainer,children:[s.jsxs("div",{className:us.filters,children:[s.jsx("input",{type:"date",placeholder:" ",value:d.startDate,onChange:P=>b("startDate",P.target.value),className:us.filterInput}),s.jsx("input",{type:"date",placeholder:" ",value:d.endDate,onChange:P=>b("endDate",P.target.value),className:us.filterInput}),s.jsx("button",{onClick:()=>f({location:"",variant:"",startDate:"",endDate:""}),className:us.clearButton,children:" "})]}),s.jsxs("button",{onClick:S,className:us.exportButton,disabled:!i||i.sales.length===0,children:[s.jsx("i",{className:"fa fa-file-excel"}),"   Excel"]})]}),i.batches_breakdown.length>0&&s.jsxs("div",{className:us.section,children:[s.jsx("h3",{className:us.sectionTitle,children:"  "}),s.jsx("div",{className:us.table,children:s.jsxs("table",{children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:" "}),s.jsxs("th",{children:[" ",((D=i.product)==null?void 0:D.unit_display)||"."]}),s.jsx("th",{children:""}),s.jsx("th",{})]})}),s.jsx("tbody",{children:i.batches_breakdown.map(P=>s.jsxs("tr",{children:[s.jsx("td",{children:P.batch_number}),s.jsx("td",{children:P.quantity_sold}),s.jsxs("td",{children:[P.revenue.toFixed(2)," "]}),s.jsx("td",{children:s.jsx("button",{onClick:()=>C(P.batch_id),className:us.linkButton,children:"  "})})]},P.batch_id))})]})})]}),i.locations_breakdown.length>0&&s.jsxs("div",{className:us.section,children:[s.jsx("h3",{className:us.sectionTitle,children:"  "}),s.jsx("div",{className:us.table,children:s.jsxs("table",{children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:""}),s.jsxs("th",{children:[" ",((R=i.product)==null?void 0:R.unit_display)||"."]}),s.jsx("th",{children:""})]})}),s.jsx("tbody",{children:i.locations_breakdown.map(P=>s.jsxs("tr",{children:[s.jsx("td",{children:P.location_name}),s.jsx("td",{children:P.quantity_sold}),s.jsxs("td",{children:[P.revenue.toFixed(2)," "]})]},P.location_id))})]})})]}),s.jsxs("div",{className:us.section,children:[s.jsx("h3",{className:us.sectionTitle,children:"  "}),i.sales.length===0?s.jsx("div",{className:us.noData,children:"   "}):s.jsx("div",{className:us.salesList,children:i.sales.map(P=>{var B,O;return s.jsxs("div",{className:us.saleCard,children:[s.jsxs("div",{className:us.saleHeader,children:[s.jsx("div",{className:us.saleDate,children:new Date(P.sale_date).toLocaleString("ru-RU")}),s.jsxs("div",{className:us.saleReceipt,children:[": ",s.jsx("button",{onClick:()=>w(P.receipt.id),className:us.linkButton,children:P.receipt.number})]})]}),s.jsxs("div",{className:us.saleBody,children:[s.jsxs("div",{className:us.saleInfo,children:[s.jsxs("div",{className:us.infoRow,children:[s.jsx("strong",{children:":"})," ",P.variant.auto_name,P.variant.sku&&s.jsxs("span",{className:us.sku,children:["(SKU: ",P.variant.sku,")"]})]}),s.jsxs("div",{className:us.infoRow,children:[s.jsx("strong",{children:":"})," ",P.location.name," (",P.location.location_type,")"]}),P.batch&&s.jsxs("div",{className:us.infoRow,children:[s.jsx("strong",{children:":"}),s.jsx("button",{onClick:()=>C(P.batch.id),className:us.linkButton,children:P.batch.batch_number}),s.jsxs("span",{className:us.batchInfo,children:["(: ",new Date(P.batch.received_date).toLocaleDateString("ru-RU"),")",P.batch.supplier&&`, : ${P.batch.supplier}`]})]})]}),s.jsxs("div",{className:us.salePricing,children:[s.jsxs("div",{className:us.priceRow,children:[s.jsx("span",{children:":"}),s.jsxs("strong",{children:[P.quantity," ",((B=i.product)==null?void 0:B.unit_display)||"."]})]}),s.jsxs("div",{className:us.priceRow,children:[s.jsx("span",{children:"  :"}),s.jsxs("span",{children:[P.price_per_unit.toFixed(2)," "]})]}),(P.discount_percent>0||P.discount_amount>0)&&s.jsxs("div",{className:us.priceRow,children:[s.jsx("span",{children:":"}),s.jsxs("span",{className:us.discount,children:[P.discount_percent>0&&`${P.discount_percent}%`,P.discount_amount>0&&` ${P.discount_amount.toFixed(2)} `]})]}),s.jsxs("div",{className:us.priceRow,children:[s.jsx("span",{children:":"}),s.jsxs("strong",{className:us.total,children:[P.final_total_price.toFixed(2)," "]})]})]})]}),P.has_returns&&s.jsxs("div",{className:us.returnsSection,children:[s.jsxs("div",{className:us.returnsHeader,children:["  (",P.total_returned,"  ",P.quantity," ",((O=i.product)==null?void 0:O.unit_display)||".",")"]}),P.returns.map($=>{var U;return s.jsxs("div",{className:us.returnItem,children:[s.jsxs("div",{className:us.returnInfo,children:[s.jsx("span",{children:new Date($.return_date).toLocaleString("ru-RU")}),s.jsxs("span",{children:[$.quantity," ",((U=i.product)==null?void 0:U.unit_display)||"."]}),$.is_defect&&s.jsx("span",{className:us.defectBadge,children:""})]}),s.jsxs("div",{className:us.returnAmount,children:[": ",$.refund_amount.toFixed(2)," "]}),$.reason&&s.jsxs("div",{className:us.returnReason,children:[": ",$.reason]})]},$.id)})]}),(P.receipt.customer_name||P.receipt.customer_phone)&&s.jsxs("div",{className:us.customerInfo,children:[": ",P.receipt.customer_name," ",P.receipt.customer_phone]})]},P.id)})})]})]}):null},FLe=()=>{var Ft,In,gn,Xn,Gt,Dn,hn,as,Qt,ys,jt,rn,On,bs,ws,fa,ir,tr,Di,Tr,so;const{business_slug:e,product_id:t}=ha(),n=Is(),{getFileUrl:a}=Er(),[r,i]=_.useState(null),[o,c]=_.useState(!0),[l,d]=_.useState(null),[f,g]=_.useState({}),[b,w]=_.useState({}),[C,S]=_.useState(!1),[k,E]=_.useState("locations"),[D,R]=_.useState(null),[P,B]=_.useState(""),[O,$]=_.useState(!1),[U,F]=_.useState(!1),[H,se]=_.useState({batch_number:"",received_date:Kn().format("YYYY-MM-DD"),supplier:"",notes:"",stocks:[]}),[K,te]=_.useState(!1),[J,z]=_.useState(""),[V,M]=_.useState({open:!1,stockId:null,variantName:"",locationName:"",batchNumber:"",quantity:"",reason:"",defectId:null,availableQuantity:0}),[ee,Z]=_.useState(!1),[A,G]=_.useState(""),[Q,Y]=_.useState({open:!1,stockId:null,variantName:"",locationName:"",batchNumber:"",quantity:"",reason:"other",reasonDetail:"",availableQuantity:0,writeoffId:null}),[ae,ne]=_.useState(!1),[re,oe]=_.useState(""),[me,Ce]=_.useState({open:!1,stockId:null,batchNumber:"",variantName:"",locationName:"",history:[],loading:!1}),[Ne,Ee]=_.useState({open:!1,variantLocationId:null,variantName:"",locationName:"",history:[],loading:!1,page:1,hasMore:!1,loadingMore:!1}),[ve,Se]=_.useState("recent"),[fe,de]=_.useState("all"),[pe,ce]=_.useState(1),[Re,Ae]=_.useState(5),[ie,ge]=_.useState("recent"),[be,Fe]=_.useState(1),[je,qe]=_.useState(20),[tt,he]=_.useState([]),[Ze,Pe]=_.useState([]),[bt,Ge]=_.useState(null),[ue,De]=_.useState(null),[xe,Ye]=_.useState(!1),[at,lt]=_.useState(null),[Mt,pn]=_.useState(!1),[Qn,yt]=_.useState("day"),[ln,fn]=_.useState({}),[jn,dt]=_.useState({}),[It,st]=_.useState({}),[Rt,Lt]=_.useState({}),on=_.useRef(null),vn=_.useRef(null),[ss,hs]=_.useState(0);_.useEffect(()=>{xs()},[e,t]),_.useEffect(()=>{var He;if(((He=r==null?void 0:r.images)==null?void 0:He.length)>0){const Ke=r.images.findIndex(ft=>ft.is_main);hs(Ke>=0?Ke:0)}},[r==null?void 0:r.id]),_.useEffect(()=>{r&&r.id&&!r.locations&&fs()},[r==null?void 0:r.id,e,t]),_.useEffect(()=>{k==="locations"&&(r!=null&&r.locations)&&r.locations.forEach(He=>{const Ke=jn[He.id]||"all";Ts(He.id,Ke,1,!1)})},[k,e,t,(Ft=r==null?void 0:r.locations)==null?void 0:Ft.length]),_.useEffect(()=>{if(k==="locations"&&(r!=null&&r.locations))if(D){const He=jn[D]||"all";Ts(D,He,1,!1)}else r.locations.forEach(He=>{const Ke=jn[He.id]||"all";Ts(He.id,Ke,1,!1)})},[D,k]),_.useEffect(()=>{k==="analytics"&&Xt()},[k,e,t,Qn]),_.useEffect(()=>{if(!at||!on.current||k!=="analytics")return;vn.current&&vn.current.destroy();const He=on.current.getContext("2d"),Ke=at.sales_chart||[],ft=Ke.map(Jn=>{const Ss=Kn(Jn.period);return Qn==="day"?Ss.format("DD MMM"):Ss.format("MMM YYYY")}),wt=Ke.map(Jn=>parseFloat(Jn.revenue||0)),En=Ke.map(Jn=>parseInt(Jn.quantity||0)),Yn=Ke.map(Jn=>parseInt(Jn.orders||0));return vn.current=new ac(He,{type:"line",data:{labels:ft,datasets:[{label:" ()",data:wt,borderColor:"#2daf9f",backgroundColor:"rgba(45, 175, 159, 0.1)",tension:.4,yAxisID:"y",pointBackgroundColor:"#2daf9f",pointBorderColor:"#ffffff",pointBorderWidth:2,pointRadius:4,pointHoverRadius:6},{label:" ",data:En,borderColor:"#ff9f40",backgroundColor:"rgba(255, 159, 64, 0.1)",borderDash:[5,5],tension:.3,yAxisID:"y1",pointBackgroundColor:"#ff9f40",pointBorderColor:"#ffffff",pointBorderWidth:2,pointRadius:4,pointHoverRadius:6},{label:"",data:Yn,borderColor:"#9966ff",backgroundColor:"rgba(153, 102, 255, 0.1)",borderDash:[5,5],tension:.3,yAxisID:"y1",pointBackgroundColor:"#9966ff",pointBorderColor:"#ffffff",pointBorderWidth:2,pointRadius:4,pointHoverRadius:6}]},options:{responsive:!0,maintainAspectRatio:!1,interaction:{mode:"index",intersect:!1},plugins:{legend:{display:!0,position:"top",labels:{color:"#e0e0e0",usePointStyle:!0}},tooltip:{backgroundColor:"rgba(0, 0, 0, 0.8)",titleColor:"#e0e0e0",bodyColor:"#e0e0e0",borderColor:"#404040",borderWidth:1}},scales:{x:{ticks:{color:"#9e9e9e"},grid:{color:"rgba(255, 255, 255, 0.1)"}},y:{type:"linear",display:!0,position:"left",ticks:{color:"#9e9e9e"},grid:{color:"rgba(255, 255, 255, 0.1)"}},y1:{type:"linear",display:!0,position:"right",ticks:{color:"#9e9e9e"},grid:{drawOnChartArea:!1}}}}}),()=>{vn.current&&vn.current.destroy()}},[at,Qn,k]),_.useEffect(()=>{if(!O)return;const He=Ke=>{Ke.target.closest("[data-dropdown-container]")||$(!1)};return document.addEventListener("mousedown",He),()=>{document.removeEventListener("mousedown",He)}},[O]);const xs=async()=>{var He,Ke;try{c(!0);const ft=await Be.get(`/api/business/${e}/products/${t}/info`);i(ft.data)}catch(ft){console.error("  :",ft),d(((Ke=(He=ft.response)==null?void 0:He.data)==null?void 0:Ke.detail)||"  ")}finally{c(!1)}},fs=async(He=null)=>{try{const Ke=He?{location_id:He}:{},ft=await Be.get(`/api/business/${e}/products/${t}/locations/`,{params:Ke});i(wt=>({...wt,locations:ft.data.locations||[]}))}catch(Ke){console.error("   :",Ke),i(ft=>({...ft,locations:[]}))}},Hn=async()=>{var He,Ke;try{Ye(!0);const ft={sort:ve,filter:fe,page:pe,page_size:Re,defect_sort:ie,defect_page:be,defect_page_size:je},wt=await Be.get(`/api/business/${e}/products/${t}/batches-defects/`,{params:ft});he(wt.data.batches||[]),Pe(wt.data.defects||[]),Ge(wt.data.batches_pagination),De(wt.data.defects_pagination)}catch(ft){console.error("    :",ft),d(((Ke=(He=ft.response)==null?void 0:He.data)==null?void 0:Ke.detail)||"    ")}finally{Ye(!1)}},Xt=async()=>{var He,Ke;try{pn(!0);const ft=await Be.get(`/api/business/${e}/products/${t}/analytics/`,{params:{period:Qn}});lt(ft.data)}catch(ft){console.error("  :",ft),d(((Ke=(He=ft.response)==null?void 0:He.data)==null?void 0:Ke.detail)||"  ")}finally{pn(!1)}},ia=(He,Ke,ft)=>{const wt=`${He}-${Ke}`;g(En=>({...En,[wt]:ft}))},Ca=async(He,Ke,ft,wt)=>{var En,Yn;try{S(!0),ft?await Be.post(`/api/business/${e}/location-price/create/`,{variant_id:Ke,location_id:He,selling_price:wt,is_active:!0}):await Be.post(`/api/business/${e}/location-price/create/`,{variant_id:Ke,location_id:He,selling_price:wt,is_active:!0});const Jn=`${He}-${Ke}`;g(Ss=>{const Wa={...Ss};return delete Wa[Jn],Wa}),await xs(),await fs()}catch(Jn){console.error("  :",Jn),alert("  : "+(((Yn=(En=Jn.response)==null?void 0:En.data)==null?void 0:Yn.detail)||Jn.message))}finally{S(!1)}},Vn=(He,Ke)=>{const ft=`${He}-${Ke}`;g(wt=>{const En={...wt};return delete En[ft],En})},Na=(He,Ke)=>{const ft=`${He}-${Ke}`;w(wt=>({...wt,[ft]:0}))},Qs=(He,Ke,ft)=>{const wt=`${He}-${Ke}`;w(En=>({...En,[wt]:ft}))},ta=async(He,Ke,ft)=>{var wt,En;try{S(!0),await Be.post(`/api/business/${e}/location-price/create/`,{variant_id:Ke,location_id:He,selling_price:ft,is_active:!0});const Yn=`${He}-${Ke}`;w(Jn=>{const Ss={...Jn};return delete Ss[Yn],Ss}),await xs()}catch(Yn){console.error("  :",Yn),alert("  : "+(((En=(wt=Yn.response)==null?void 0:wt.data)==null?void 0:En.detail)||Yn.message))}finally{S(!1)}},vs=async(He,Ke,ft,wt)=>{var En,Yn;try{S(!0),await Be.post(`/api/business/${e}/location-price/create/`,{variant_id:Ke,location_id:He,selling_price:r.locations.find(Jn=>Jn.id===He).variants.find(Jn=>Jn.id===Ke).price,is_active:!wt}),i(Jn=>({...Jn,locations:Jn.locations.map(Ss=>Ss.id===He?{...Ss,variants:Ss.variants.map(Wa=>Wa.id===Ke?{...Wa,is_price_active:!wt}:Wa)}:Ss)}))}catch(Jn){console.error("  :",Jn),alert("  : "+(((Yn=(En=Jn.response)==null?void 0:En.data)==null?void 0:Yn.detail)||Jn.message))}finally{S(!1)}},za=async(He,Ke,ft,wt,En)=>{var Yn,Jn,Ss,Wa;try{S(!0);const Nn=r.locations.find(Oe=>Oe.id===He).variants.find(Oe=>Oe.id===Ke),ka={variant_id:Ke,location_id:He,selling_price:Nn.price,is_active:Nn.is_price_active,[wt]:!En};await Be.post(`/api/business/${e}/location-price/create/`,ka),i(Oe=>({...Oe,locations:Oe.locations.map(Ue=>Ue.id===He?{...Ue,variants:Ue.variants.map(_t=>_t.id===Ke?{..._t,[wt]:!En}:_t)}:Ue)}))}catch(Nn){console.error("  :",Nn);const ka=((Jn=(Yn=Nn.response)==null?void 0:Yn.data)==null?void 0:Jn.detail)||((Wa=(Ss=Nn.response)==null?void 0:Ss.data)==null?void 0:Wa.message)||Nn.message;alert("  : "+ka)}finally{S(!1)}},ur=(He,Ke)=>{const ft=`${He}-${Ke}`;w(wt=>{const En={...wt};return delete En[ft],En})},Us=He=>{const Ke=a(He.barcode_image),ft=He.name||r.name,wt=He.price?`${parseFloat(He.price).toLocaleString("ru-RU")}   ${(r==null?void 0:r.unit_display)||"."}`:"  ",En=He.attributes&&He.attributes.length>0?`<div class="attributes">
                ${He.attributes.map(Ss=>`
                    <div class="attribute">
                        <span class="attribute-name">${Ss.name}:</span>
                        <span>${Ss.value}</span>
                    </div>
                `).join("")}
            </div>`:"",Yn=`
          <html>
            <head>
              <title> -</title>
              <style>
                @page { size: 58mm 40mm; margin: 0; }
                body { margin: 0; width: 58mm; height: 40mm; display: flex; justify-content: center; align-items: center; font-family: 'Inter', sans-serif; font-size: 8px; }
                .product { text-align: center; width: 100%; padding: 1mm 2mm; }
                .name { font-weight: bold; font-size: 13px; margin-bottom: 1mm; }
                .barcode-img { height: 24mm; width: auto; max-width: 95%; }
                .price { font-size: 15px; font-weight: bold; margin-top: 0.5mm; }
                .attributes { margin-top: 0.5mm; font-size: 7px; }
                .attribute { display: flex; justify-content: space-between; gap: 2mm; }
                .attribute-name { font-weight: 600; }
              </style>
            </head>
            <body>
              <div class="product">
                <div class="name">${ft}</div>
                <img class="barcode-img" src="${Ke}" alt="barcode" />
                <div class="price">${wt}</div>
                ${En}
              </div>
            </body>
          </html>
        `,Jn=window.open("","_blank","width=580,height=400");Jn.document.open(),Jn.document.write(Yn),Jn.document.close(),setTimeout(()=>{Jn.focus(),Jn.print(),Jn.close()},500)},Ms=(r==null?void 0:r.locations)||[],Cr=((r==null?void 0:r.locations_for_filter)||[]).filter(He=>He.name.toLowerCase().includes(P.toLowerCase())),Ua=He=>{R(He),$(!1),B(""),fs(He)},Qa=()=>{R(null),B(""),fs()};_.useEffect(()=>{ce(1)},[fe,ve,Re]),_.useEffect(()=>{Fe(1)},[ie,je]);const qt=He=>He?Kn(He).format("DD.MM.YYYY"):"",Zn=He=>Number(He||0).toLocaleString("ru-RU"),Ts=async(He,Ke="all",ft=1,wt=!1)=>{try{Lt(Wa=>({...Wa,[He]:!0}));const En={location_id:He,location_filter:Ke,location_sort:"recent",location_page:ft,location_page_size:3},Yn=await Be.get(`/api/business/${e}/products/${t}/batches-defects/`,{params:En}),Jn=Yn.data.batches||[],Ss=Yn.data.batches_pagination||null;st(wt?Wa=>{var Nn;return{...Wa,[He]:{batches:[...((Nn=Wa[He])==null?void 0:Nn.batches)||[],...Jn],pagination:Ss}}}:Wa=>({...Wa,[He]:{batches:Jn,pagination:Ss}}))}catch(En){console.error(`     ${He}:`,En),st(Yn=>{var Jn,Ss;return{...Yn,[He]:{batches:((Jn=Yn[He])==null?void 0:Jn.batches)||[],pagination:((Ss=Yn[He])==null?void 0:Ss.pagination)||null}}})}finally{Lt(En=>({...En,[He]:!1}))}},rr=He=>{const Ke=It[He],ft=jn[He]||"all";if(!Ke||!Ke.pagination)return;const wt=(Ke.pagination.current_page||1)+1;wt<=(Ke.pagination.total_pages||1)&&Ts(He,ft,wt,!0)},Ma=(He,Ke)=>{dt(ft=>({...ft,[He]:Ke})),Ts(He,Ke,1,!1)};_.useMemo(()=>{if(!r||!r.locations)return[];const He=new Map;return r.locations.forEach(Ke=>{var ft;(ft=Ke.variants)==null||ft.forEach(wt=>{He.has(wt.id)||He.set(wt.id,wt)})}),Array.from(He.values())},[r]);const js=()=>({tempId:`${Date.now()}-${Math.random()}`,locationId:"",variantId:"",variantName:"",variantOnLocationId:null,quantity:0,cost_price:"",reserved_quantity:0,is_available_for_sale:!0,is_active_on_marketplace:!1,is_active_for_offline_sale:!1,is_active_on_own_site:!1}),Ds=()=>{F(!1)},cs=(He,Ke)=>{se(ft=>({...ft,[He]:Ke}))},qa=()=>{se(He=>({...He,stocks:[...He.stocks,js()]}))},ls=He=>{se(Ke=>{const ft=Ke.stocks.filter(wt=>wt.tempId!==He);return{...Ke,stocks:ft.length?ft:[js()]}})},sa=(He,Ke)=>{se(ft=>({...ft,stocks:ft.stocks.map(wt=>wt.tempId===He?{...wt,locationId:Ke,variantId:"",variantName:"",variantOnLocationId:null}:wt)}))},Gs=(He,Ke)=>{se(ft=>({...ft,stocks:ft.stocks.map(wt=>{if(wt.tempId!==He)return wt;const En=((r==null?void 0:r.locations)||[]).find(Jn=>Number(Jn.id)===Number(wt.locationId));if(!En)return wt;const Yn=(En.variants||[]).find(Jn=>Number(Jn.id)===Number(Ke));return Yn?Yn.price_id?{...wt,variantId:Ke,variantName:Yn.name,variantOnLocationId:Yn.price_id,is_active_on_marketplace:Yn.is_active_on_marketplace||!1,is_active_for_offline_sale:Yn.is_active_for_offline_sale||!1,is_active_on_own_site:Yn.is_active_on_own_site||!1}:(alert("        "),wt):wt})}))},Ks=(He,Ke,ft)=>{se(wt=>({...wt,stocks:wt.stocks.map(En=>En.tempId===He?{...En,[Ke]:ft}:En)}))},vr=async()=>{var ft;if(z(""),!H.stocks.length){z("    ");return}if(H.stocks.find(wt=>!wt.variantOnLocationId||Number(wt.quantity)<=0)){z(" ,      ");return}const Ke={received_date:H.received_date||void 0,supplier:H.supplier||void 0,notes:H.notes||"",stocks:H.stocks.map(wt=>({variant_on_location_id:wt.variantOnLocationId,quantity:Number(wt.quantity),cost_price:wt.cost_price===""?null:Number(wt.cost_price),reserved_quantity:wt.reserved_quantity===""?0:Number(wt.reserved_quantity),is_available_for_sale:!!wt.is_available_for_sale,is_active_on_marketplace:!!wt.is_active_on_marketplace,is_active_for_offline_sale:!!wt.is_active_for_offline_sale,is_active_on_own_site:!!wt.is_active_on_own_site}))};H.batch_number&&H.batch_number.trim()!==""&&(Ke.batch_number=H.batch_number);try{te(!0),await Be.post(`/api/business/${e}/batches/create/`,Ke),F(!1),await Hn(),await xs(),await fs(),alert("  ")}catch(wt){const En=(ft=wt.response)==null?void 0:ft.data,Yn=(En==null?void 0:En.detail)||(En==null?void 0:En.message)||(typeof En=="string"?En:JSON.stringify(En));z(Yn||"   ")}finally{te(!1)}},Ws=(He,Ke=null)=>{G("");const ft=Ke?(He.availableQuantity||0)+(Ke.quantity||0):He.availableQuantity||0;M({open:!0,stockId:He.stockId,variantName:He.variantName,locationName:He.locationName,batchNumber:He.batchNumber,quantity:Ke?Ke.quantity:"",reason:Ke?Ke.reason:"",defectId:Ke?Ke.id:null,availableQuantity:ft})},Ja=()=>{M({open:!1,stockId:null,variantName:"",locationName:"",batchNumber:"",quantity:"",reason:"",defectId:null,availableQuantity:0})},ji=async()=>{var Ke;if(!V.stockId)return;const He=Number(V.quantity);if(!He||He<=0){G("    0");return}if(He>V.availableQuantity){G(`    : ${Zn(V.availableQuantity)} ${(r==null?void 0:r.unit_display)||"."}`);return}Z(!0);try{V.defectId?await Be.patch(`/api/business/${e}/stocks/defects/${V.defectId}/update/`,{quantity:He,reason:V.reason||""}):await Be.post(`/api/business/${e}/stocks/${V.stockId}/defects/create/`,{quantity:He,reason:V.reason||""}),await Hn(),await xs(),await fs(),Ja()}catch(ft){const wt=(Ke=ft.response)==null?void 0:Ke.data,En=(wt==null?void 0:wt.detail)||(wt==null?void 0:wt.message)||(typeof wt=="string"?wt:Object.values(wt||{})[0]);G(En||"   ")}finally{Z(!1)}},aa=async He=>{var Ke,ft;if(window.confirm("   ?"))try{await Be.post(`/api/business/${e}/stocks/${He}/defects/remove/`),await Hn(),await xs(),await fs()}catch(wt){alert("   : "+(((ft=(Ke=wt.response)==null?void 0:Ke.data)==null?void 0:ft.detail)||wt.message))}},Rs=(He,Ke=null)=>{oe("");const ft=Ke?(He.availableQuantity||0)+(Ke.quantity||0):He.availableQuantity||0;Y({open:!0,stockId:He.stockId,variantName:He.variantName,locationName:He.locationName,batchNumber:He.batchNumber,quantity:Ke?typeof Ke.quantity=="number"?Ke.quantity.toString():Ke.quantity:"",reason:Ke&&Ke.reason||"other",reasonDetail:Ke&&Ke.reasonDetail||"",writeoffId:Ke?Ke.id:null,availableQuantity:ft})},qn=()=>{Y({open:!1,stockId:null,variantName:"",locationName:"",batchNumber:"",quantity:"",reason:"other",reasonDetail:"",availableQuantity:0})},it=async()=>{var Ke;if(!Q.stockId)return;const He=Number(Q.quantity);if(!He||He<=0){oe("    0");return}if(He>Q.availableQuantity){oe(`    : ${Zn(Q.availableQuantity)} ${(r==null?void 0:r.unit_display)||"."}`);return}ne(!0);try{Q.writeoffId?await Be.patch(`/api/business/${e}/stocks/writeoffs/${Q.writeoffId}/update/`,{quantity:He,reason:Q.reason,reason_detail:Q.reasonDetail||""}):await Be.post(`/api/business/${e}/stocks/${Q.stockId}/writeoffs/create/`,{quantity:He,reason:Q.reason,reason_detail:Q.reasonDetail||""}),await Hn(),await xs(),await fs(),qn()}catch(ft){const wt=(Ke=ft.response)==null?void 0:Ke.data,En=(wt==null?void 0:wt.detail)||(wt==null?void 0:wt.message)||(typeof wt=="string"?wt:Object.values(wt||{})[0]);oe(En||(Q.writeoffId?"   ":"   "))}finally{ne(!1)}},Le=async He=>{var Ke;if(window.confirm("   ?")){ne(!0);try{await Be.delete(`/api/business/${e}/stocks/writeoffs/${He}/delete/`),await Hn(),await xs(),await fs()}catch(ft){const wt=(Ke=ft.response)==null?void 0:Ke.data,En=(wt==null?void 0:wt.detail)||(wt==null?void 0:wt.message)||"   ";alert(En)}finally{ne(!1)}}},Qe=async(He,Ke,ft)=>{var wt,En;Ee({open:!0,variantLocationId:He,variantName:Ke,locationName:ft,history:[],loading:!0,page:1,hasMore:!1,loadingMore:!1});try{const Yn=await Be.get(`/api/business/${e}/variant-locations/${He}/movement-history/`,{params:{page:1,page_size:20}});Ee(Jn=>{var Ss;return{...Jn,history:Yn.data.history||[],loading:!1,hasMore:((Ss=Yn.data.pagination)==null?void 0:Ss.has_next)||!1,page:1}})}catch(Yn){console.error("  :",Yn),alert("  : "+(((En=(wt=Yn.response)==null?void 0:wt.data)==null?void 0:En.detail)||Yn.message)),Ee(Jn=>({...Jn,loading:!1}))}},Tt=()=>{Ee({open:!1,variantLocationId:null,variantName:"",locationName:"",history:[],loading:!1,page:1,hasMore:!1,loadingMore:!1})},Wt=async()=>{const{variantLocationId:He,page:Ke,hasMore:ft,loadingMore:wt}=Ne;if(!(!ft||wt)){Ee(En=>({...En,loadingMore:!0}));try{const En=await Be.get(`/api/business/${e}/variant-locations/${He}/movement-history/`,{params:{page:Ke+1,page_size:20}});Ee(Yn=>{var Jn;return{...Yn,history:[...Yn.history,...En.data.history||[]],page:Ke+1,hasMore:((Jn=En.data.pagination)==null?void 0:Jn.has_next)||!1,loadingMore:!1}})}catch(En){console.error("  :",En),Ee(Yn=>({...Yn,loadingMore:!1}))}}},zt=async()=>{var wt,En;const{variantLocationId:He,variantName:Ke,locationName:ft}=Ne;try{const Yn=await Be.get(`/api/business/${e}/variant-locations/${He}/movement-history/export-excel/`,{responseType:"blob"}),Jn=window.URL.createObjectURL(new Blob([Yn.data])),Ss=document.createElement("a");Ss.href=Jn;const Wa=`__${Ke}_${ft}_${new Date().toISOString().split("T")[0]}.xlsx`;Ss.setAttribute("download",Wa),document.body.appendChild(Ss),Ss.click(),Ss.remove(),window.URL.revokeObjectURL(Jn)}catch(Yn){console.error(" :",Yn),alert("   Excel: "+(((En=(wt=Yn.response)==null?void 0:wt.data)==null?void 0:En.detail)||Yn.message))}},Xe=async(He,Ke,ft,wt)=>{Ce({open:!0,batchId:null,stockId:He,batchNumber:wt,variantName:Ke,locationName:ft,history:[],loading:!0});try{const En=await Be.get(`/api/business/${e}/stocks/${He}/movement-history/`);Ce(Yn=>({...Yn,history:En.data.history||[],loading:!1}))}catch(En){console.error("  :",En),alert("     "),Ce(Yn=>({...Yn,loading:!1}))}},et=()=>{Ce({open:!1,stockId:null,batchNumber:"",variantName:"",locationName:"",history:[],loading:!1})};if(o)return s.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh"},children:s.jsx(Fn,{size:"large"})});if(l)return s.jsxs("div",{className:Ie.errorContainer,children:[s.jsx("div",{className:Ie.error,children:l}),s.jsx("button",{onClick:()=>n(`/business/${e}/products/`),children:"  "})]});if(!r)return null;const Je=r.images||[];Je[ss]||Je[0];const ot=()=>{hs(He=>He>0?He-1:Je.length-1)},Ut=()=>{hs(He=>He<Je.length-1?He+1:0)};return s.jsxs("div",{className:Ie.container,children:[s.jsxs("div",{className:Ie.header,children:[s.jsx("button",{className:Ie.backButton,onClick:()=>n(`/business/${e}/products/`),children:"   "}),s.jsxs("div",{className:Ie.headerTitleRow,children:[s.jsx("h1",{className:Ie.title,children:r.name}),s.jsxs("button",{className:Ie.editButton,onClick:()=>n(`/business/${e}/products/${t}/edit`),children:[s.jsx("i",{className:"fa fa-edit"})," "]})]})]}),s.jsxs("div",{className:Ie.productInfo,children:[Je.length>0&&s.jsxs("div",{className:Ie.imageContainer,children:[Je.length>1&&s.jsxs(s.Fragment,{children:[s.jsx("button",{className:Ie.imageNavButton,onClick:ot,"aria-label":" ",children:s.jsx("i",{className:"fa fa-chevron-left"})}),s.jsx("button",{className:`${Ie.imageNavButton} ${Ie.imageNavButtonRight}`,onClick:Ut,"aria-label":" ",children:s.jsx("i",{className:"fa fa-chevron-right"})})]}),s.jsx("div",{className:Ie.imageSlider,style:{transform:`translateX(-${ss*100}%)`},children:Je.map((He,Ke)=>s.jsx("img",{src:a(He.image),alt:`${r.name} -  ${Ke+1}`,className:Ie.mainImage},He.id||Ke))}),Je.length>1&&s.jsxs("div",{className:Ie.imageIndicator,children:[ss+1," / ",Je.length]})]}),s.jsxs("div",{className:Ie.details,children:[s.jsxs("div",{className:Ie.category,children:[": ",r.category_name]}),s.jsx("div",{className:Ie.description,children:r.description}),(r.min_price||r.max_price)&&s.jsxs("div",{className:Ie.priceRangeInfo,children:[s.jsx("span",{className:Ie.priceRangeLabel,children:" :"}),s.jsx("span",{className:Ie.priceRangeValue,children:r.min_price&&r.max_price?r.min_price===r.max_price?`${parseFloat(r.min_price).toLocaleString("ru-RU")} `:`${parseFloat(r.min_price).toLocaleString("ru-RU")} - ${parseFloat(r.max_price).toLocaleString("ru-RU")} `:r.min_price?` ${parseFloat(r.min_price).toLocaleString("ru-RU")} `:` ${parseFloat(r.max_price).toLocaleString("ru-RU")} `})]}),s.jsxs("div",{className:Ie.statsInfo,children:[s.jsxs("div",{className:Ie.statItem,children:[s.jsx("span",{className:Ie.statLabel,children:" :"}),s.jsxs("span",{className:Ie.statValue,children:[(r.total_available||0).toLocaleString("ru-RU")," ",(r==null?void 0:r.unit_display)||"."]})]}),s.jsxs("div",{className:Ie.statItem,children:[s.jsx("span",{className:Ie.statLabel,children:" :"}),s.jsxs("span",{className:`${Ie.statValue} ${Ie.statValueDefect}`,children:[(r.total_defect||0).toLocaleString("ru-RU")," ",(r==null?void 0:r.unit_display)||"."]})]})]})]})]}),s.jsxs("div",{className:Ie.tabs,children:[s.jsx("button",{className:`${Ie.tab} ${k==="locations"?Ie.activeTab:""}`,onClick:()=>E("locations"),children:"  "}),s.jsx("button",{className:`${Ie.tab} ${k==="salesHistory"?Ie.activeTab:""}`,onClick:()=>E("salesHistory"),children:" "}),s.jsx("button",{className:`${Ie.tab} ${k==="analytics"?Ie.activeTab:""}`,onClick:()=>E("analytics"),children:""})]}),k==="locations"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:Ie.locationFilter,children:[s.jsx("label",{className:Ie.filterLabel,children:"  :"}),s.jsxs("div",{className:Ie.dropdownContainer,"data-dropdown-container":!0,children:[s.jsxs("div",{className:Ie.dropdownButton,onClick:()=>$(!O),children:[s.jsx("span",{children:D&&(r!=null&&r.locations_for_filter)?(In=r.locations_for_filter.find(He=>He.id===D))==null?void 0:In.name:" "}),s.jsx("i",{className:`fa fa-chevron-${O?"up":"down"}`})]}),O&&s.jsxs("div",{className:Ie.dropdown,children:[s.jsxs("div",{className:Ie.searchInputContainer,children:[s.jsx("i",{className:"fa fa-search"}),s.jsx("input",{type:"text",placeholder:" ...",value:P,onChange:He=>B(He.target.value),className:Ie.searchInput,onClick:He=>He.stopPropagation()})]}),s.jsxs("div",{className:Ie.dropdownList,children:[s.jsxs("div",{className:`${Ie.dropdownItem} ${D?"":Ie.selected}`,onClick:()=>Qa(),children:[" ",!D&&s.jsx("i",{className:"fa fa-check"})]}),Cr.map(He=>s.jsxs("div",{className:`${Ie.dropdownItem} ${D===He.id?Ie.selected:""}`,onClick:()=>Ua(He.id),children:[He.name,D===He.id&&s.jsx("i",{className:"fa fa-check"})]},He.id)),Cr.length===0&&s.jsx("div",{className:Ie.noResults,children:"  "})]})]})]}),D&&s.jsxs("button",{onClick:Qa,className:Ie.clearFilterButton,children:[s.jsx("i",{className:"fa fa-times"})," "]})]}),s.jsx("div",{className:Ie.locationsList,children:Ms.map(He=>s.jsxs("div",{className:Ie.locationCard,children:[s.jsx("h3",{className:Ie.locationName,children:He.name}),s.jsx("div",{className:Ie.variantsList,children:He.variants.map(Ke=>{const ft=`${He.id}-${Ke.id}`,wt=f.hasOwnProperty(ft),En=b.hasOwnProperty(ft),Yn=f[ft],Jn=b[ft];return s.jsxs("div",{className:Ie.variantCard,children:[s.jsxs("div",{className:Ie.variantHeader,children:[s.jsx("span",{className:Ie.variantName,children:Ke.name}),s.jsxs("span",{className:Ie.variantSku,children:["SKU: ",Ke.sku]})]}),s.jsx("div",{className:Ie.variantAttributes,children:Ke.attributes.map((Ss,Wa)=>s.jsxs("span",{className:Ie.attributeTag,children:[Ss.name,": ",Ss.value]},Wa))}),s.jsxs("div",{className:Ie.variantDetails,children:[!Ke.price&&!En?s.jsxs("button",{className:Ie.addPriceButton,onClick:()=>Na(He.id,Ke.id),children:[s.jsx("i",{className:"fa fa-plus"}),"  "]}):En?s.jsxs("div",{className:Ie.priceEdit,children:[s.jsx("input",{type:"number",value:Jn,onChange:Ss=>Qs(He.id,Ke.id,Ss.target.value),className:Ie.priceInput,placeholder:"",min:"0",step:"0.01"}),s.jsxs("span",{className:Ie.priceUnitLabel,children:["  ",(r==null?void 0:r.unit_display)||"."]}),s.jsxs("div",{className:Ie.editButtons,children:[s.jsx("button",{onClick:()=>ta(He.id,Ke.id,Jn),disabled:C,className:Ie.saveButton,children:""}),s.jsx("button",{onClick:()=>ur(He.id,Ke.id),className:Ie.cancelButton,children:""})]})]}):wt?s.jsxs("div",{className:Ie.priceEdit,children:[s.jsx("input",{type:"number",value:Yn,onChange:Ss=>ia(He.id,Ke.id,Ss.target.value),className:Ie.priceInput,min:"0",step:"0.01"}),s.jsxs("span",{className:Ie.priceUnitLabel,children:["  ",(r==null?void 0:r.unit_display)||"."]}),s.jsxs("div",{className:Ie.editButtons,children:[s.jsx("button",{onClick:()=>Ca(He.id,Ke.id,Ke.price_id,Yn),disabled:C,className:Ie.saveButton,children:""}),s.jsx("button",{onClick:()=>Vn(He.id,Ke.id),className:Ie.cancelButton,children:""})]})]}):s.jsxs("div",{className:Ie.priceSection,children:[s.jsxs("div",{className:Ie.priceRow,children:[s.jsxs("div",{className:Ie.priceInfo,children:[s.jsx("span",{className:Ie.priceLabel,children:":"}),s.jsxs("span",{className:Ie.priceValue,children:[parseFloat(Ke.price).toLocaleString("ru-RU"),"   ",(r==null?void 0:r.unit_display)||"."]}),s.jsxs("label",{className:Ie.isActiveToggle,children:[s.jsx("input",{type:"checkbox",checked:Ke.is_price_active,onChange:()=>vs(He.id,Ke.id,Ke.price_id,Ke.is_price_active),disabled:C}),s.jsx("span",{className:Ie.toggleLabel,children:Ke.is_price_active?"":""})]})]}),s.jsxs("div",{className:Ie.priceActions,children:[s.jsx("button",{onClick:()=>g(Ss=>({...Ss,[ft]:Ke.price})),className:Ie.editButton,children:""}),Ke.price_id&&s.jsxs("button",{onClick:()=>Qe(Ke.price_id,Ke.name,He.name),className:Ie.historyButton,title:" ",children:[s.jsx("i",{className:"fa fa-history"}),"  "]})]})]}),s.jsxs("div",{className:Ie.activeFlagsSection,children:[s.jsx("div",{className:Ie.activeFlagsTitle,children:" :"}),s.jsxs("div",{className:Ie.activeFlagsList,children:[s.jsxs("label",{className:Ie.activeFlagItem,children:[s.jsx("input",{type:"checkbox",checked:Ke.is_active_on_marketplace||!1,onChange:()=>za(He.id,Ke.id,Ke.price_id,"is_active_on_marketplace",Ke.is_active_on_marketplace||!1),disabled:C||Ke.available_quantity===0,title:Ke.available_quantity===0?" .     .":""}),s.jsx("span",{className:Ie.flagLabel,children:"  "})]}),s.jsxs("label",{className:Ie.activeFlagItem,children:[s.jsx("input",{type:"checkbox",checked:Ke.is_active_for_offline_sale||!1,onChange:()=>za(He.id,Ke.id,Ke.price_id,"is_active_for_offline_sale",Ke.is_active_for_offline_sale||!1),disabled:C||Ke.available_quantity===0,title:Ke.available_quantity===0?" .     .":""}),s.jsx("span",{className:Ie.flagLabel,children:"   "})]}),s.jsxs("label",{className:Ie.activeFlagItem,children:[s.jsx("input",{type:"checkbox",checked:Ke.is_active_on_own_site||!1,onChange:()=>za(He.id,Ke.id,Ke.price_id,"is_active_on_own_site",Ke.is_active_on_own_site||!1),disabled:C||Ke.available_quantity===0,title:Ke.available_quantity===0?" .     .":""}),s.jsx("span",{className:Ie.flagLabel,children:"     "})]})]})]})]}),s.jsxs("div",{className:Ie.stockInfo,children:[s.jsxs("div",{className:Ie.stockItem,children:[s.jsx("span",{children:":"}),s.jsxs("strong",{children:[Ke.available_quantity," ",(r==null?void 0:r.unit_display)||"."]})]}),s.jsxs("div",{className:Ie.stockItem,children:[s.jsx("span",{children:":"}),s.jsxs("strong",{children:[Ke.reserved_quantity," ",(r==null?void 0:r.unit_display)||"."]})]}),s.jsxs("div",{className:Ie.stockItem,children:[s.jsx("span",{children:":"}),s.jsxs("strong",{className:Ie.defectQuantity,children:[Ke.defect_quantity||0," ",(r==null?void 0:r.unit_display)||"."]})]})]}),Ke.barcode_image&&s.jsxs("div",{className:Ie.barcodeSection,children:[s.jsx("h4",{className:Ie.barcodeTitle,children:"-"}),s.jsx("div",{className:Ie.barcodeImageContainer,children:s.jsx("img",{src:a(Ke.barcode_image),alt:"-",className:Ie.barcodeImg})}),Ke.barcode&&s.jsx("p",{className:Ie.barcodeNumber,children:Ke.barcode}),s.jsxs("button",{onClick:()=>Us(Ke),className:Ie.printBarcodeButton,title:" -",children:[s.jsx("i",{className:"fa fa-print"}),"  -"]})]})]})]},Ke.id)})}),(()=>{const Ke=It[He.id],ft=Rt[He.id],wt=jn[He.id]||"all";if(ft&&!Ke)return s.jsx("div",{className:Ie.locationBatchesSection,children:s.jsx("div",{style:{textAlign:"center",padding:"2rem"},children:s.jsx(Fn,{size:"small"})})});const En=(Ke==null?void 0:Ke.batches)||[];if(En.length===0&&!ft)return null;const Yn=Ke==null?void 0:Ke.pagination,Jn=Yn&&Yn.has_next;return s.jsxs("div",{className:Ie.locationBatchesSection,children:[s.jsxs("div",{className:Ie.locationBatchesHeader,children:[s.jsx("h4",{className:Ie.locationBatchesTitle,children:" "}),s.jsxs("div",{className:Ie.locationBatchFilters,children:[s.jsx("button",{className:`${Ie.filterButton} ${wt==="all"?Ie.filterButtonActive:""}`,onClick:()=>Ma(He.id,"all"),disabled:ft,children:""}),s.jsx("button",{className:`${Ie.filterButton} ${wt==="has_stock"?Ie.filterButtonActive:""}`,onClick:()=>Ma(He.id,"has_stock"),disabled:ft,children:" "}),s.jsx("button",{className:`${Ie.filterButton} ${wt==="sold_out"?Ie.filterButtonActive:""}`,onClick:()=>Ma(He.id,"sold_out"),disabled:ft,children:""})]})]}),En.map(Ss=>{const Wa=Ss.lines.filter(Nn=>Nn.locationId===He.id);return Wa.length===0?null:s.jsxs("div",{className:Ie.batchCard,children:[s.jsxs("div",{className:Ie.batchCardHeader,children:[s.jsxs("div",{children:[s.jsxs("div",{className:Ie.batchNumber,children:[" ",Ss.batchNumber||" "]}),s.jsxs("div",{className:Ie.batchMeta,children:[s.jsx("span",{children:Ss.batchStatusDisplay||"  "}),s.jsxs("span",{children:[": ",qt(Ss.receivedDate)]})]})]}),s.jsxs("div",{className:Ie.batchTotals,children:[s.jsxs("div",{children:[s.jsx("span",{children:""}),s.jsxs("strong",{children:[Zn(Wa.reduce((Nn,ka)=>Nn+ka.quantity,0))," ",(r==null?void 0:r.unit_display)||"."]})]}),s.jsxs("div",{children:[s.jsx("span",{children:""}),s.jsxs("strong",{children:[Zn(Wa.reduce((Nn,ka)=>Nn+ka.availableQuantity,0))," ",(r==null?void 0:r.unit_display)||"."]})]}),s.jsxs("div",{children:[s.jsx("span",{children:""}),s.jsxs("strong",{children:[Zn(Wa.reduce((Nn,ka)=>Nn+ka.reservedQuantity,0))," ",(r==null?void 0:r.unit_display)||"."]})]}),s.jsxs("div",{children:[s.jsx("span",{children:""}),s.jsxs("strong",{children:[Zn(Wa.reduce((Nn,ka)=>Nn+ka.defectQuantity,0))," ",(r==null?void 0:r.unit_display)||"."]})]})]})]}),s.jsx("div",{className:Ie.batchLines,children:Wa.map(Nn=>s.jsxs("div",{className:Ie.batchLine,children:[s.jsxs("div",{className:Ie.batchLineInfo,children:[s.jsxs("div",{className:Ie.batchLineTitle,children:[Nn.variantName,s.jsxs("span",{className:Ie.batchLineSku,children:["SKU: ",Nn.sku]})]}),s.jsxs("div",{className:Ie.batchLineStats,children:[s.jsxs("span",{children:[": ",Zn(Nn.quantity)," ",Nn.unit_display||"."]}),s.jsxs("span",{children:[": ",Zn(Nn.availableQuantity)," ",Nn.unit_display||"."]}),s.jsxs("span",{children:[": ",Zn(Nn.soldQuantity||0)," ",Nn.unit_display||"."]}),Nn.returnedQuantity!==void 0&&Nn.returnedQuantity!==null&&Nn.returnedQuantity>0&&s.jsxs("span",{children:[": ",Zn(Nn.returnedQuantity)," ",Nn.unit_display||"."]}),s.jsxs("span",{children:[": ",Zn(Nn.reservedQuantity)," ",Nn.unit_display||"."]}),s.jsxs("span",{children:[": ",Zn(Nn.defectQuantity)," ",Nn.unit_display||"."]}),Nn.writeoffQuantity!==void 0&&Nn.writeoffQuantity!==null&&Nn.writeoffQuantity>0&&s.jsxs("span",{children:[": ",Zn(Nn.writeoffQuantity)," ",Nn.unit_display||"."]}),Nn.inventoryAdjustment!==void 0&&Nn.inventoryAdjustment!==null&&Nn.inventoryAdjustment!==0&&s.jsxs("span",{className:Nn.inventoryAdjustment>0?Ie.inventorySurplus:Ie.inventoryShortage,children:[Nn.inventoryAdjustment>0?"":"","   : ",Zn(Math.abs(Nn.inventoryAdjustment))," ",Nn.unit_display||"."]})]})]}),s.jsxs("div",{className:Ie.batchLineActions,children:[s.jsxs("button",{className:Ie.secondaryButton,onClick:()=>Ws(Nn),disabled:ee,children:[s.jsx("i",{className:"fa fa-exclamation-triangle"}),"  "]}),s.jsxs("button",{className:Ie.secondaryButton,onClick:()=>Rs(Nn),disabled:ae,children:[s.jsx("i",{className:"fa fa-trash"}),"  "]}),s.jsxs("button",{className:Ie.historyButton,onClick:()=>Xe(Nn.stockId,Nn.variantName,Nn.locationName,Ss.batchNumber),children:[s.jsx("i",{className:"fa fa-history"}),"  "]})]}),Nn.defects&&Nn.defects.length>0&&s.jsx("div",{className:Ie.defectsList,children:Nn.defects.map(ka=>s.jsxs("div",{className:Ie.defectItem,children:[s.jsxs("div",{children:[s.jsxs("strong",{children:[": ",Zn(ka.quantity)," ",(r==null?void 0:r.unit_display)||"."]}),s.jsx("span",{children:ka.reason||"  "})]}),s.jsxs("div",{className:Ie.defectActions,children:[s.jsx("button",{className:Ie.linkButton,onClick:()=>Ws(Nn,ka),disabled:ee,children:""}),s.jsx("button",{className:Ie.linkButtonDanger,onClick:()=>aa(ka.id),disabled:ee,children:""})]})]},ka.id))}),Nn.writeoffs&&Nn.writeoffs.length>0&&s.jsx("div",{className:Ie.writeoffsList,children:Nn.writeoffs.map(ka=>s.jsxs("div",{className:Ie.defectItem,children:[s.jsxs("div",{children:[s.jsxs("strong",{children:[": ",Zn(ka.quantity)," ",(r==null?void 0:r.unit_display)||"."]}),s.jsxs("span",{children:[ka.reasonDisplay||ka.reason,ka.reasonDetail?` - ${ka.reasonDetail}`:"",ka.transfer&&s.jsxs("span",{className:Ie.transferBadge,children:["( ",ka.transferNumber,")"]})]})]}),!ka.transfer&&s.jsxs("div",{className:Ie.defectActions,children:[s.jsx("button",{className:Ie.linkButton,onClick:()=>Rs(Nn,ka),disabled:ae,children:""}),s.jsx("button",{className:Ie.linkButtonDanger,onClick:()=>Le(ka.id),disabled:ae,children:""})]})]},ka.id))})]},Nn.stockId))})]},Ss.key)}),Jn&&s.jsx("div",{className:Ie.loadMoreBatchesContainer,children:s.jsx("button",{className:Ie.loadMoreButton,onClick:()=>rr(He.id),disabled:ft,children:ft?"...":" "})})]})})()]},He.id))})]}),k==="batches"&&s.jsxs("div",{className:Ie.batchesSection,children:[s.jsx("div",{className:Ie.batchesHeader,children:s.jsxs("div",{children:[s.jsx("h2",{children:"  "}),s.jsx("p",{children:"        ."})]})}),s.jsxs("div",{className:Ie.batchControls,children:[s.jsxs("div",{className:Ie.filterGroup,children:[s.jsx("button",{className:`${Ie.filterButton} ${fe==="all"?Ie.filterButtonActive:""}`,onClick:()=>de("all"),children:""}),s.jsx("button",{className:`${Ie.filterButton} ${fe==="has_stock"?Ie.filterButtonActive:""}`,onClick:()=>de("has_stock"),children:" "}),s.jsx("button",{className:`${Ie.filterButton} ${fe==="sold_out"?Ie.filterButtonActive:""}`,onClick:()=>de("sold_out"),children:""})]}),s.jsxs("div",{className:Ie.sortGroup,children:[s.jsx("label",{children:""}),s.jsxs("select",{value:ve,onChange:He=>Se(He.target.value),children:[s.jsx("option",{value:"recent",children:" "}),s.jsx("option",{value:"oldest",children:" "}),s.jsx("option",{value:"available",children:" "}),s.jsx("option",{value:"sold_out",children:""}),s.jsx("option",{value:"defect",children:" "})]})]}),s.jsxs("div",{className:Ie.pageSizeGroup,children:[s.jsx("label",{children:" "}),s.jsx("select",{value:Re,onChange:He=>Ae(Number(He.target.value)),children:[3,5,10].map(He=>s.jsx("option",{value:He,children:He},He))})]})]}),xe?s.jsx("div",{style:{display:"flex",justifyContent:"center",padding:"2rem"},children:s.jsx(Fn,{size:"medium"})}):tt.length===0?s.jsx("div",{className:Ie.emptyState,children:"     .   ,   ."}):s.jsx("div",{className:Ie.batchesList,children:tt.map(He=>s.jsxs("div",{className:Ie.batchCard,children:[s.jsxs("div",{className:Ie.batchCardHeader,children:[s.jsxs("div",{children:[s.jsxs("div",{className:Ie.batchNumber,children:[" ",He.batchNumber||" "]}),s.jsxs("div",{className:Ie.batchMeta,children:[s.jsx("span",{children:He.batchStatusDisplay||"  "}),s.jsxs("span",{children:[": ",qt(He.receivedDate)]})]})]}),s.jsxs("div",{className:Ie.batchTotals,children:[s.jsxs("div",{children:[s.jsx("span",{children:""}),s.jsxs("strong",{children:[Zn(He.totalQuantity)," ",(r==null?void 0:r.unit_display)||"."]})]}),s.jsxs("div",{children:[s.jsx("span",{children:""}),s.jsxs("strong",{children:[Zn(He.totalAvailable)," ",(r==null?void 0:r.unit_display)||"."]})]}),s.jsxs("div",{children:[s.jsx("span",{children:""}),s.jsxs("strong",{children:[Zn(He.totalReserved)," ",(r==null?void 0:r.unit_display)||"."]})]}),s.jsxs("div",{children:[s.jsx("span",{children:""}),s.jsxs("strong",{children:[Zn(He.totalDefect)," ",(r==null?void 0:r.unit_display)||"."]})]})]})]}),s.jsx("div",{className:Ie.batchLines,children:He.lines.map(Ke=>s.jsxs("div",{className:Ie.batchLine,children:[s.jsxs("div",{className:Ie.batchLineInfo,children:[s.jsxs("div",{className:Ie.batchLineTitle,children:[Ke.variantName,s.jsxs("span",{className:Ie.batchLineSku,children:["SKU: ",Ke.sku]})]}),s.jsx("div",{className:Ie.batchLineLocation,children:Ke.locationName}),s.jsxs("div",{className:Ie.batchLineStats,children:[s.jsxs("span",{children:[": ",Zn(Ke.quantity)," ",Ke.unit_display||"."]}),s.jsxs("span",{children:[": ",Zn(Ke.availableQuantity)," ",Ke.unit_display||"."]}),s.jsxs("span",{children:[": ",Zn(Ke.soldQuantity||0)," ",Ke.unit_display||"."]}),Ke.returnedQuantity!==void 0&&Ke.returnedQuantity!==null&&Ke.returnedQuantity>0&&s.jsxs("span",{children:[": ",Zn(Ke.returnedQuantity)," ",Ke.unit_display||"."]}),s.jsxs("span",{children:[": ",Zn(Ke.reservedQuantity)," ",Ke.unit_display||"."]}),s.jsxs("span",{children:[": ",Zn(Ke.defectQuantity)," ",Ke.unit_display||"."]}),Ke.writeoffQuantity!==void 0&&Ke.writeoffQuantity!==null&&Ke.writeoffQuantity>0&&s.jsxs("span",{children:[": ",Zn(Ke.writeoffQuantity)," ",Ke.unit_display||"."]}),Ke.inventoryAdjustment!==void 0&&Ke.inventoryAdjustment!==null&&Ke.inventoryAdjustment!==0&&s.jsxs("span",{className:Ke.inventoryAdjustment>0?Ie.inventorySurplus:Ie.inventoryShortage,children:[Ke.inventoryAdjustment>0?"":"","   : ",Zn(Math.abs(Ke.inventoryAdjustment))," ",Ke.unit_display||"."]}),Ke.costPrice!==null&&Ke.costPrice!==void 0&&s.jsxs("span",{children:[": ",parseFloat(Ke.costPrice).toLocaleString("ru-RU")," "]})]})]}),s.jsxs("div",{className:Ie.batchLineActions,children:[s.jsxs("button",{className:Ie.secondaryButton,onClick:()=>Ws(Ke),disabled:ee,children:[s.jsx("i",{className:"fa fa-exclamation-triangle"}),"  "]}),s.jsxs("button",{className:Ie.secondaryButton,onClick:()=>Rs(Ke),disabled:ae,children:[s.jsx("i",{className:"fa fa-trash"}),"  "]})]}),Ke.writeoffs&&Ke.writeoffs.length>0&&s.jsx("div",{className:Ie.defectsList,children:Ke.writeoffs.map(ft=>s.jsxs("div",{className:Ie.defectItem,children:[s.jsxs("div",{children:[s.jsxs("strong",{children:[": ",Zn(ft.quantity)," ",(r==null?void 0:r.unit_display)||"."]}),s.jsxs("span",{children:[ft.reasonDisplay||ft.reason,ft.reasonDetail?` - ${ft.reasonDetail}`:"",ft.transfer&&s.jsxs("span",{className:Ie.transferBadge,children:["( ",ft.transferNumber,")"]})]})]}),s.jsxs("div",{className:Ie.defectActions,children:[!ft.transfer&&s.jsxs(s.Fragment,{children:[s.jsx("button",{className:Ie.linkButton,onClick:()=>Rs(Ke,ft),disabled:ae,children:""}),s.jsx("button",{className:Ie.linkButtonDanger,onClick:()=>Le(ft.id),disabled:ae,children:""})]}),ft.transfer&&s.jsx("span",{className:Ie.transferInfo,children:"  "})]})]},ft.id))}),Ke.defects.length>0&&s.jsx("div",{className:Ie.defectsList,children:Ke.defects.map(ft=>s.jsxs("div",{className:Ie.defectItem,children:[s.jsxs("div",{children:[s.jsxs("strong",{children:[": ",Zn(ft.quantity)," ",(r==null?void 0:r.unit_display)||"."]}),s.jsx("span",{children:ft.reason||" "})]}),s.jsxs("div",{className:Ie.defectActions,children:[s.jsx("button",{className:Ie.linkButton,onClick:()=>Ws(Ke,ft),disabled:ee,children:""}),s.jsx("button",{className:Ie.linkButtonDanger,onClick:()=>aa(ft.id),disabled:ee,children:""})]})]},ft.id))})]},Ke.stockId))})]},He.key))}),bt&&bt.total_pages>1&&s.jsxs("div",{className:Ie.pagination,children:[s.jsx("button",{onClick:()=>ce(He=>Math.max(He-1,1)),disabled:!bt.has_previous,children:s.jsx("i",{className:"fa fa-chevron-left"})}),s.jsxs("span",{children:[bt.current_page," / ",bt.total_pages]}),s.jsx("button",{onClick:()=>ce(He=>He+1),disabled:!bt.has_next,children:s.jsx("i",{className:"fa fa-chevron-right"})})]}),s.jsxs("div",{className:Ie.defectsJournal,children:[s.jsxs("div",{className:Ie.defectsHeader,children:[s.jsxs("div",{children:[s.jsx("h3",{children:" "}),s.jsx("p",{children:"     ."})]}),s.jsxs("div",{className:Ie.defectControls,children:[s.jsx("label",{children:""}),s.jsxs("select",{value:ie,onChange:He=>ge(He.target.value),children:[s.jsx("option",{value:"recent",children:" "}),s.jsx("option",{value:"oldest",children:" "}),s.jsx("option",{value:"quantity",children:" "})]}),s.jsx("label",{children:" "}),s.jsx("select",{value:je,onChange:He=>qe(Number(He.target.value)),children:[10,20,50].map(He=>s.jsx("option",{value:He,children:He},He))})]})]}),Ze.length===0?s.jsx("div",{className:Ie.emptyState,children:"    .     ."}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:Ie.defectsTable,children:[s.jsxs("div",{className:Ie.defectsTableHead,children:[s.jsx("span",{children:""}),s.jsx("span",{children:""}),s.jsx("span",{children:""}),s.jsx("span",{children:""}),s.jsx("span",{children:""}),s.jsx("span",{children:""})]}),Ze.map(He=>s.jsxs("div",{className:Ie.defectsTableRow,children:[s.jsx("span",{children:He.createdAt?Kn(He.createdAt).format("DD.MM.YYYY HH:mm"):""}),s.jsx("span",{children:He.batchNumber||""}),s.jsx("span",{children:He.variantName}),s.jsx("span",{children:He.locationName}),s.jsxs("span",{children:[Zn(He.quantity)," ",(r==null?void 0:r.unit_display)||"."]}),s.jsx("span",{children:He.reason||""})]},He.id))]}),ue&&ue.total_pages>1&&s.jsxs("div",{className:Ie.pagination,children:[s.jsx("button",{onClick:()=>Fe(He=>Math.max(He-1,1)),disabled:!ue.has_previous,children:s.jsx("i",{className:"fa fa-chevron-left"})}),s.jsxs("span",{children:[ue.current_page," / ",ue.total_pages]}),s.jsx("button",{onClick:()=>Fe(He=>He+1),disabled:!ue.has_next,children:s.jsx("i",{className:"fa fa-chevron-right"})})]})]})]})]}),k==="salesHistory"&&s.jsx(l$,{businessSlug:e,productId:t}),k==="analytics"&&s.jsxs("div",{className:Ie.analyticsSection,children:[s.jsxs("div",{className:Ie.analyticsHeader,children:[s.jsxs("div",{children:[s.jsx("h2",{children:" "}),s.jsx("p",{children:" ,    "})]}),s.jsxs("div",{className:Ie.analyticsPeriodSelector,children:[s.jsx("label",{children:":"}),s.jsxs("select",{value:Qn,onChange:He=>yt(He.target.value),className:Ie.filterSelect,children:[s.jsx("option",{value:"day",children:"  (7 )"}),s.jsx("option",{value:"month",children:"  (90 )"})]})]})]}),Mt?s.jsx("div",{style:{display:"flex",justifyContent:"center",padding:"2rem"},children:s.jsx(Fn,{size:"medium"})}):at?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:Ie.analyticsStats,children:[s.jsxs("div",{className:Ie.analyticsStatCard,children:[s.jsx("div",{className:Ie.statLabel,children:""}),s.jsxs("div",{className:Ie.statValue,children:[Zn(((gn=at.totals)==null?void 0:gn.revenue)||0)," "]})]}),s.jsxs("div",{className:Ie.analyticsStatCard,children:[s.jsx("div",{className:Ie.statLabel,children:" "}),s.jsxs("div",{className:Ie.statValue,children:[Zn(((Xn=at.totals)==null?void 0:Xn.quantity_sold)||0)," ",at.unit_display||(r==null?void 0:r.unit_display)||"."]})]}),s.jsxs("div",{className:Ie.analyticsStatCard,children:[s.jsx("div",{className:Ie.statLabel,children:""}),s.jsx("div",{className:Ie.statValue,children:Zn(((Gt=at.totals)==null?void 0:Gt.orders_count)||0)})]})]}),s.jsxs("div",{className:Ie.analyticsChartSection,children:[s.jsx("h3",{children:" "}),s.jsx("div",{className:Ie.chartContainer,children:s.jsx("canvas",{ref:on,style:{maxHeight:"400px"}})})]}),s.jsxs("div",{className:Ie.analyticsSubSection,children:[s.jsx("h3",{children:" "}),at.variant_popularity&&at.variant_popularity.length>0?s.jsxs("div",{className:Ie.variantPopularityTable,children:[s.jsxs("div",{className:Ie.variantPopularityHead,children:[s.jsx("span",{children:""}),s.jsx("span",{children:"SKU"}),s.jsx("span",{children:""}),s.jsx("span",{children:""}),s.jsx("span",{children:""})]}),at.variant_popularity.map(He=>s.jsxs("div",{className:Ie.variantPopularityRow,children:[s.jsx("span",{children:He.name}),s.jsx("span",{children:He.sku||""}),s.jsxs("span",{children:[Zn(He.revenue)," "]}),s.jsxs("span",{children:[Zn(He.quantity_sold)," ",(r==null?void 0:r.unit_display)||"."]}),s.jsx("span",{children:Zn(He.orders_count)})]},He.id))]}):s.jsx("div",{className:Ie.emptyState,children:"    "})]}),s.jsxs("div",{className:Ie.analyticsSubSection,children:[s.jsx("h3",{children:""}),s.jsxs("div",{className:Ie.forecastCards,children:[s.jsxs("div",{className:Ie.forecastCard,children:[s.jsx("div",{className:Ie.forecastTitle,children:" 7 "}),s.jsxs("div",{className:Ie.forecastValue,children:[": ",Zn(((hn=(Dn=at.forecast)==null?void 0:Dn.next_7_days)==null?void 0:hn.revenue)||0)," "]}),s.jsxs("div",{className:Ie.forecastValue,children:[": ",Zn(((Qt=(as=at.forecast)==null?void 0:as.next_7_days)==null?void 0:Qt.quantity)||0)," ",at.unit_display||(r==null?void 0:r.unit_display)||"."]})]}),s.jsxs("div",{className:Ie.forecastCard,children:[s.jsx("div",{className:Ie.forecastTitle,children:" 30 "}),s.jsxs("div",{className:Ie.forecastValue,children:[": ",Zn(((jt=(ys=at.forecast)==null?void 0:ys.next_30_days)==null?void 0:jt.revenue)||0)," "]}),s.jsxs("div",{className:Ie.forecastValue,children:[": ",Zn(((On=(rn=at.forecast)==null?void 0:rn.next_30_days)==null?void 0:On.quantity)||0)," ",at.unit_display||(r==null?void 0:r.unit_display)||"."]})]})]})]}),s.jsxs("div",{className:Ie.analyticsSubSection,children:[s.jsx("h3",{children:" "}),s.jsxs("div",{className:Ie.stockDynamics,children:[s.jsxs("div",{className:Ie.stockDynamicsItem,children:[s.jsx("span",{className:Ie.stockDynamicsLabel,children:":"}),s.jsxs("span",{className:Ie.stockDynamicsValue,children:[Zn(((ws=(bs=at.stock_dynamics)==null?void 0:bs.current)==null?void 0:ws.total_quantity)||0)," ",at.unit_display||(r==null?void 0:r.unit_display)||"."]})]}),s.jsxs("div",{className:Ie.stockDynamicsItem,children:[s.jsx("span",{className:Ie.stockDynamicsLabel,children:":"}),s.jsxs("span",{className:`${Ie.stockDynamicsValue} ${Ie.availableQuantity}`,children:[Zn(((ir=(fa=at.stock_dynamics)==null?void 0:fa.current)==null?void 0:ir.available_quantity)||0)," ",at.unit_display||(r==null?void 0:r.unit_display)||"."]})]}),s.jsxs("div",{className:Ie.stockDynamicsItem,children:[s.jsx("span",{className:Ie.stockDynamicsLabel,children:":"}),s.jsxs("span",{className:`${Ie.stockDynamicsValue} ${Ie.reservedQuantity}`,children:[Zn(((Di=(tr=at.stock_dynamics)==null?void 0:tr.current)==null?void 0:Di.reserved_quantity)||0)," ",at.unit_display||(r==null?void 0:r.unit_display)||"."]})]}),s.jsxs("div",{className:Ie.stockDynamicsItem,children:[s.jsx("span",{className:Ie.stockDynamicsLabel,children:":"}),s.jsxs("span",{className:`${Ie.stockDynamicsValue} ${Ie.defectQuantity}`,children:[Zn(((so=(Tr=at.stock_dynamics)==null?void 0:Tr.current)==null?void 0:so.defect_quantity)||0)," ",at.unit_display||(r==null?void 0:r.unit_display)||"."]})]})]})]})]}):s.jsx("div",{className:Ie.emptyState,children:"   "})]}),U&&s.jsx("div",{className:Ie.modalOverlay,children:s.jsxs("div",{className:Ie.modalContent,children:[s.jsxs("div",{className:Ie.modalHeader,children:[s.jsxs("h3",{children:["   ",r.name]}),s.jsx("button",{className:Ie.closeButton,onClick:Ds,children:s.jsx("i",{className:"fa fa-times"})})]}),s.jsxs("div",{className:Ie.modalBody,children:[s.jsxs("div",{className:Ie.modalGrid,children:[s.jsxs("label",{children:["  ()",s.jsx("input",{type:"text",value:H.batch_number,onChange:He=>cs("batch_number",He.target.value)})]}),s.jsxs("label",{children:[" ",s.jsx("input",{type:"date",value:H.received_date,onChange:He=>cs("received_date",He.target.value)})]}),s.jsxs("label",{children:["",s.jsx("input",{type:"text",value:H.supplier,onChange:He=>cs("supplier",He.target.value),placeholder:" "})]}),s.jsxs("label",{children:["",s.jsx("textarea",{value:H.notes,onChange:He=>cs("notes",He.target.value),rows:2,placeholder:"   "})]})]}),s.jsxs("div",{className:Ie.batchLinesBuilder,children:[s.jsxs("div",{className:Ie.batchLinesHeader,children:[s.jsx("h4",{children:"  "}),s.jsxs("button",{type:"button",className:Ie.linkButton,onClick:qa,children:[s.jsx("i",{className:"fa fa-plus"}),"  "]})]}),H.stocks.map(He=>{const Ke=(r.locations||[]).find(wt=>Number(wt.id)===Number(He.locationId)),ft=(Ke==null?void 0:Ke.variants)||[];return s.jsxs("div",{className:Ie.batchLineRow,children:[s.jsx("div",{className:Ie.batchLineColumn,children:s.jsxs("label",{children:["",s.jsxs("select",{value:He.locationId,onChange:wt=>sa(He.tempId,wt.target.value),children:[s.jsx("option",{value:"",children:" "}),r.locations.map(wt=>s.jsx("option",{value:wt.id,children:wt.name},wt.id))]})]})}),s.jsx("div",{className:Ie.batchLineColumn,children:s.jsxs("label",{children:["",s.jsxs("select",{value:He.variantId,onChange:wt=>Gs(He.tempId,wt.target.value),disabled:!He.locationId,children:[s.jsx("option",{value:"",children:" "}),ft.map(wt=>s.jsxs("option",{value:wt.id,disabled:!wt.price_id,children:[wt.name,wt.price_id?"":" ( )"]},wt.id))]})]})}),s.jsx("div",{className:Ie.batchLineColumn,children:s.jsxs("label",{children:["",s.jsx("input",{type:"number",min:"0",value:He.quantity,onChange:wt=>Ks(He.tempId,"quantity",wt.target.value)})]})}),s.jsx("div",{className:Ie.batchLineColumn,children:s.jsxs("label",{children:["",s.jsx("input",{type:"number",min:"0",step:"0.01",value:He.cost_price,onChange:wt=>Ks(He.tempId,"cost_price",wt.target.value),placeholder:""})]})}),s.jsx("div",{className:Ie.batchLineColumn,children:s.jsxs("label",{children:["",s.jsx("input",{type:"number",min:"0",value:He.reserved_quantity,onChange:wt=>Ks(He.tempId,"reserved_quantity",wt.target.value)})]})}),s.jsxs("div",{className:Ie.batchLineToggles,children:[s.jsxs("label",{children:[s.jsx("input",{type:"checkbox",checked:He.is_available_for_sale,onChange:wt=>Ks(He.tempId,"is_available_for_sale",wt.target.checked)}),"  "]}),s.jsxs("label",{children:[s.jsx("input",{type:"checkbox",checked:He.is_active_on_marketplace,onChange:wt=>Ks(He.tempId,"is_active_on_marketplace",wt.target.checked)})," "]}),s.jsxs("label",{children:[s.jsx("input",{type:"checkbox",checked:He.is_active_for_offline_sale,onChange:wt=>Ks(He.tempId,"is_active_for_offline_sale",wt.target.checked)})," "]}),s.jsxs("label",{children:[s.jsx("input",{type:"checkbox",checked:He.is_active_on_own_site,onChange:wt=>Ks(He.tempId,"is_active_on_own_site",wt.target.checked)})," "]})]}),s.jsx("button",{type:"button",className:Ie.removeLineButton,onClick:()=>ls(He.tempId),children:""})]},He.tempId)}),J&&s.jsx("div",{className:Ie.errorMessage,children:J})]})]}),s.jsxs("div",{className:Ie.modalFooter,children:[s.jsx("button",{className:Ie.secondaryButton,onClick:Ds,disabled:K,children:""}),s.jsx("button",{className:Ie.primaryButton,onClick:vr,disabled:K,children:K?"...":" "})]})]})}),V.open&&s.jsx("div",{className:Ie.modalOverlay,children:s.jsxs("div",{className:Ie.modalContent,children:[s.jsxs("div",{className:Ie.modalHeader,children:[s.jsx("h3",{children:V.defectId?" ":" "}),s.jsx("button",{className:Ie.closeButton,onClick:Ja,children:s.jsx("i",{className:"fa fa-times"})})]}),s.jsxs("div",{className:Ie.modalBody,children:[s.jsxs("div",{className:Ie.defectMeta,children:[s.jsxs("div",{className:Ie.defectMetaRow,children:[s.jsx("span",{className:Ie.defectMetaLabel,children:":"}),s.jsx("span",{className:Ie.defectMetaValue,children:V.batchNumber||" "})]}),s.jsxs("div",{className:Ie.defectMetaRow,children:[s.jsx("span",{className:Ie.defectMetaLabel,children:":"}),s.jsx("span",{className:Ie.defectMetaValue,children:V.variantName})]}),s.jsxs("div",{className:Ie.defectMetaRow,children:[s.jsx("span",{className:Ie.defectMetaLabel,children:":"}),s.jsx("span",{className:Ie.defectMetaValue,children:V.locationName})]}),s.jsxs("div",{className:Ie.defectMetaRow,children:[s.jsx("span",{className:Ie.defectMetaLabel,children:"  :"}),s.jsxs("span",{className:`${Ie.defectMetaValue} ${Ie.availableQuantity}`,children:[Zn(V.availableQuantity)," ",(r==null?void 0:r.unit_display)||"."]})]})]}),s.jsxs("label",{children:[" ",s.jsx("input",{type:"number",min:"1",max:V.availableQuantity,value:V.quantity,onChange:He=>{const Ke=He.target.value;if(A&&G(""),Ke===""){M(wt=>({...wt,quantity:""}));return}const ft=Number(Ke);if(!isNaN(ft)&&ft>0){const wt=Math.min(ft,V.availableQuantity);M(En=>({...En,quantity:wt.toString()}))}},placeholder:" "}),V.availableQuantity>0&&s.jsxs("span",{className:Ie.inputHint,children:[": ",Zn(V.availableQuantity)," ",(r==null?void 0:r.unit_display)||"."]})]}),s.jsxs("label",{children:[" ",s.jsx("textarea",{rows:4,value:V.reason,onChange:He=>M(Ke=>({...Ke,reason:He.target.value})),placeholder:"  , :  ,    .."})]}),A&&s.jsx("div",{className:Ie.errorMessage,children:A})]}),s.jsxs("div",{className:Ie.modalFooter,children:[s.jsx("button",{className:Ie.secondaryButton,onClick:Ja,disabled:ee,children:""}),s.jsx("button",{className:Ie.primaryButton,onClick:ji,disabled:ee,children:ee?"...":""})]})]})}),Q.open&&s.jsx("div",{className:Ie.modalOverlay,children:s.jsxs("div",{className:Ie.modalContent,children:[s.jsxs("div",{className:Ie.modalHeader,children:[s.jsx("h3",{children:Q.writeoffId?" ":" "}),s.jsx("button",{className:Ie.closeButton,onClick:qn,children:s.jsx("i",{className:"fa fa-times"})})]}),s.jsxs("div",{className:Ie.modalBody,children:[s.jsxs("div",{className:Ie.defectMeta,children:[s.jsxs("div",{className:Ie.defectMetaRow,children:[s.jsx("span",{className:Ie.defectMetaLabel,children:":"}),s.jsx("span",{className:Ie.defectMetaValue,children:Q.batchNumber||" "})]}),s.jsxs("div",{className:Ie.defectMetaRow,children:[s.jsx("span",{className:Ie.defectMetaLabel,children:":"}),s.jsx("span",{className:Ie.defectMetaValue,children:Q.variantName})]}),s.jsxs("div",{className:Ie.defectMetaRow,children:[s.jsx("span",{className:Ie.defectMetaLabel,children:":"}),s.jsx("span",{className:Ie.defectMetaValue,children:Q.locationName})]}),s.jsxs("div",{className:Ie.defectMetaRow,children:[s.jsx("span",{className:Ie.defectMetaLabel,children:":"}),s.jsxs("span",{className:Ie.defectMetaValue,children:[Zn(Q.availableQuantity)," ",(r==null?void 0:r.unit_display)||"."]})]})]}),s.jsxs("label",{children:["  ",s.jsx("input",{type:"number",step:(r==null?void 0:r.unit_display)==="."?"1":"0.001",min:"0.001",max:Q.availableQuantity,value:Q.quantity,onChange:He=>{const Ke=He.target.value;if(re&&oe(""),Ke===""){Y(wt=>({...wt,quantity:""}));return}const ft=Number(Ke);if(!isNaN(ft)&&ft>0){const wt=Math.min(ft,Q.availableQuantity);Y(En=>({...En,quantity:wt.toString()}))}},placeholder:" "}),Q.availableQuantity>0&&s.jsxs("span",{className:Ie.inputHint,children:[": ",Zn(Q.availableQuantity)," ",(r==null?void 0:r.unit_display)||"."]})]}),s.jsxs("label",{children:[" ",s.jsx("div",{className:Ie.reasonSelector,children:[{value:"expired",label:"  ",icon:"fa-calendar-times"},{value:"damaged",label:"",icon:"fa-exclamation-triangle"},{value:"lost",label:"",icon:"fa-search"},{value:"other",label:"",icon:"fa-ellipsis-h"}].map(He=>s.jsxs("button",{type:"button",className:`${Ie.reasonOption} ${Q.reason===He.value?Ie.reasonOptionActive:""}`,onClick:()=>Y(Ke=>({...Ke,reason:He.value})),children:[s.jsx("i",{className:`fa ${He.icon}`}),s.jsx("span",{children:He.label})]},He.value))})]}),s.jsxs("label",{children:[" ",s.jsx("textarea",{rows:4,value:Q.reasonDetail,onChange:He=>Y(Ke=>({...Ke,reasonDetail:He.target.value})),placeholder:"  , :  ,      .."})]}),re&&s.jsx("div",{className:Ie.errorMessage,children:re})]}),s.jsxs("div",{className:Ie.modalFooter,children:[s.jsx("button",{className:Ie.secondaryButton,onClick:qn,disabled:ae,children:""}),s.jsx("button",{className:Ie.primaryButton,onClick:it,disabled:ae,children:ae?"...":Q.writeoffId?"":""})]})]})}),me.open&&s.jsx("div",{className:Ie.modalOverlay,children:s.jsxs("div",{className:Ie.modalContent,style:{maxWidth:"800px",maxHeight:"90vh",overflowY:"auto"},children:[s.jsxs("div",{className:Ie.modalHeader,children:[s.jsx("h3",{children:"  "}),s.jsx("button",{className:Ie.closeButton,onClick:et,children:s.jsx("i",{className:"fa fa-times"})})]}),s.jsx("div",{className:Ie.modalBody,children:me.loading?s.jsx("div",{style:{textAlign:"center",padding:"2rem"},children:s.jsx(Fn,{size:"medium"})}):me.history.length===0?s.jsx("div",{style:{textAlign:"center",padding:"2rem",color:"var(--silver-whisper)"},children:"  "}):s.jsxs("div",{children:[s.jsxs("div",{style:{marginBottom:"1rem",padding:"1rem",background:"var(--onyx-midnight)",borderRadius:"8px",border:"1px solid var(--gilded-shadow)"},children:[s.jsxs("div",{children:[s.jsx("strong",{children:":"})," ",me.variantName]}),s.jsxs("div",{children:[s.jsx("strong",{children:":"})," ",me.locationName]}),me.batchNumber&&s.jsxs("div",{children:[s.jsx("strong",{children:":"})," ",me.batchNumber]})]}),s.jsx("div",{className:Ie.historyContainer,children:me.history.map((He,Ke)=>s.jsxs("div",{className:Ie.historyDateGroup,children:[s.jsxs("div",{className:Ie.historyDateHeader,children:[s.jsx("i",{className:"fa fa-calendar"}),s.jsx("span",{children:He.date_display})]}),s.jsx("div",{className:Ie.historyRecords,children:He.records.map((ft,wt)=>{const En=ft.quantity>0,Yn=Math.abs(ft.quantity);return s.jsxs("div",{className:Ie.historyRecord,children:[s.jsxs("div",{className:Ie.historyRecordHeader,children:[s.jsxs("span",{className:Ie.historyRecordType,children:[ft.type==="received"&&s.jsx("i",{className:"fa fa-arrow-down",style:{color:"#4ade80"}}),ft.type==="sale"&&s.jsx("i",{className:"fa fa-shopping-cart",style:{color:"#f87171"}}),ft.type==="return"&&s.jsx("i",{className:"fa fa-undo",style:{color:"#4ade80"}}),ft.type==="defect"&&s.jsx("i",{className:"fa fa-exclamation-triangle",style:{color:"#fbbf24"}}),ft.type==="writeoff"&&s.jsx("i",{className:"fa fa-trash",style:{color:"#f87171"}}),ft.type==="inventory"&&s.jsx("i",{className:"fa fa-clipboard-check",style:{color:ft.quantity>0?"#4ade80":"#f87171"}}),ft.type_display]}),s.jsx("span",{className:Ie.historyRecordTime,children:ft.date?new Date(ft.date).toLocaleTimeString("ru-RU",{hour:"2-digit",minute:"2-digit"}):""})]}),s.jsxs("div",{className:Ie.historyRecordQuantity,style:{color:En?"#4ade80":"#f87171"},children:[En?"+":"-",Zn(Yn)," ",(r==null?void 0:r.unit_display)||"."]}),ft.user&&s.jsxs("div",{className:Ie.historyRecordUser,children:[s.jsx("i",{className:"fa fa-user"}),ft.user]}),ft.description&&s.jsx("div",{className:Ie.historyRecordDescription,children:ft.description}),ft.receipt_number&&s.jsxs("div",{className:Ie.historyRecordReceipt,children:[s.jsx("i",{className:"fa fa-receipt"}),": ",ft.receipt_number]})]},wt)})})]},Ke))})]})}),s.jsx("div",{className:Ie.modalFooter,children:s.jsx("button",{className:Ie.primaryButton,onClick:et,children:""})})]})}),Ne.open&&s.jsx("div",{className:Ie.modalOverlay,children:s.jsxs("div",{className:Ie.modalContent,style:{maxWidth:"900px",maxHeight:"90vh",display:"flex",flexDirection:"column"},children:[s.jsxs("div",{className:Ie.modalHeader,children:[s.jsx("h3",{children:"  "}),s.jsxs("div",{style:{display:"flex",gap:"10px",alignItems:"center"},children:[s.jsxs("button",{onClick:zt,className:Ie.exportButton,title:"  Excel",children:[s.jsx("i",{className:"fa fa-file-excel"}),"   Excel"]}),s.jsx("button",{className:Ie.closeButton,onClick:Tt,children:s.jsx("i",{className:"fa fa-times"})})]})]}),s.jsx("div",{className:Ie.modalBody,style:{flex:1,overflowY:"auto"},onScroll:He=>{const Ke=He.target;Ke.scrollHeight-Ke.scrollTop-Ke.clientHeight<100&&Ne.hasMore&&!Ne.loadingMore&&Wt()},children:Ne.loading?s.jsx("div",{style:{textAlign:"center",padding:"2rem"},children:s.jsx(Fn,{size:"medium"})}):Ne.history.length===0?s.jsx("div",{style:{textAlign:"center",padding:"2rem",color:"var(--silver-whisper)"},children:"  "}):s.jsxs("div",{children:[s.jsxs("div",{style:{marginBottom:"1rem",padding:"1rem",background:"var(--onyx-midnight)",borderRadius:"8px",border:"1px solid var(--gilded-shadow)"},children:[s.jsxs("div",{children:[s.jsx("strong",{children:":"})," ",Ne.variantName]}),s.jsxs("div",{children:[s.jsx("strong",{children:":"})," ",Ne.locationName]})]}),s.jsxs("div",{className:Ie.historyContainer,children:[Ne.history.map((He,Ke)=>s.jsxs("div",{className:Ie.historyDateGroup,children:[s.jsxs("div",{className:Ie.historyDateHeader,children:[s.jsx("i",{className:"fa fa-calendar"}),s.jsx("span",{children:He.date_display})]}),s.jsx("div",{className:Ie.historyRecords,children:He.records.map((ft,wt)=>{const En=ft.type==="received"?"fa-arrow-down":ft.type==="sale"?"fa-shopping-cart":ft.type==="return"?"fa-undo":ft.type==="defect"?"fa-exclamation-triangle":ft.type==="writeoff"?"fa-trash":ft.type==="inventory"?"fa-clipboard-check":"fa-circle",Yn=ft.type==="received"?"#4ade80":ft.type==="sale"?"#f87171":ft.type==="return"?"#4ade80":ft.type==="defect"?"#fbbf24":ft.type==="writeoff"?"#ef4444":ft.type==="inventory"?ft.quantity>0?"#4ade80":"#f87171":"#9ca3af",Jn=ft.date?new Date(ft.date):null,Ss=Jn?Jn.toLocaleTimeString("ru-RU",{hour:"2-digit",minute:"2-digit"}):"";return s.jsxs("div",{className:Ie.historyRecord,children:[s.jsxs("div",{className:Ie.historyRecordHeader,children:[s.jsxs("div",{className:Ie.historyRecordType,children:[s.jsx("i",{className:`fa ${En}`,style:{color:Yn}}),s.jsx("span",{children:ft.type_display})]}),s.jsx("div",{className:Ie.historyRecordTime,children:Ss})]}),s.jsxs("div",{className:Ie.historyRecordChanges,children:[s.jsxs("div",{className:Ie.historyChangeItem,children:[s.jsx("span",{className:Ie.historyChangeLabel,children:":"}),s.jsxs("span",{className:ft.quantity>0?Ie.historyChangeNew:Ie.historyChangeOld,children:[ft.quantity>0?"+":"",Zn(ft.quantity)," ",(r==null?void 0:r.unit_display)||"."]})]}),ft.batch_number&&s.jsxs("div",{className:Ie.historyChangeItem,children:[s.jsx("span",{className:Ie.historyChangeLabel,children:":"}),s.jsx("span",{children:ft.batch_number})]}),ft.user&&s.jsxs("div",{className:Ie.historyChangeItem,children:[s.jsx("span",{className:Ie.historyChangeLabel,children:":"}),s.jsx("span",{children:ft.user})]}),ft.receipt_number&&s.jsxs("div",{className:Ie.historyChangeItem,children:[s.jsx("span",{className:Ie.historyChangeLabel,children:":"}),s.jsx("span",{children:ft.receipt_number})]})]}),ft.description&&s.jsx("div",{className:Ie.historyRecordReason,children:ft.description})]},wt)})})]},Ke)),Ne.hasMore&&s.jsx("div",{style:{textAlign:"center",padding:"1rem"},children:Ne.loadingMore?s.jsx(Fn,{size:"small"}):s.jsx("button",{onClick:Wt,className:Ie.loadMoreButton,children:" "})}),!Ne.hasMore&&Ne.history.length>0&&s.jsx("div",{style:{textAlign:"center",padding:"1rem",color:"var(--silver-whisper)"},children:"  "})]})]})})]})})]})},HLe="_container_5wq22_3",qLe="_header_5wq22_14",VLe="_backButton_5wq22_26",zLe="_headerTitleRow_5wq22_49",ULe="_title_5wq22_56",WLe="_editButton_5wq22_65",YLe="_productInfo_5wq22_95",GLe="_imageContainer_5wq22_102",QLe="_imageSlider_5wq22_116",XLe="_mainImage_5wq22_123",KLe="_imageIndicator_5wq22_169",ZLe="_details_5wq22_183",JLe="_category_5wq22_189",e$e="_description_5wq22_194",t$e="_priceRangeInfo_5wq22_200",n$e="_priceRangeLabel_5wq22_210",s$e="_priceRangeValue_5wq22_215",a$e="_statsInfo_5wq22_221",r$e="_statItem_5wq22_231",i$e="_statLabel_5wq22_237",o$e="_statValue_5wq22_242",c$e="_statValueDefect_5wq22_248",l$e="_tabs_5wq22_253",u$e="_tab_5wq22_253",d$e="_activeTab_5wq22_294",h$e="_locationFilter_5wq22_302",f$e="_filterLabel_5wq22_309",m$e="_dropdownContainer_5wq22_315",p$e="_dropdownButton_5wq22_319",g$e="_dropdown_5wq22_315",_$e="_searchInputContainer_5wq22_355",v$e="_searchInput_5wq22_355",x$e="_dropdownList_5wq22_376",b$e="_dropdownItem_5wq22_381",y$e="_selected_5wq22_400",w$e="_clearFilterButton_5wq22_405",j$e="_locationsList_5wq22_430",C$e="_locationCard_5wq22_437",S$e="_locationName_5wq22_452",N$e="_variantsList_5wq22_459",k$e="_variantCard_5wq22_465",I$e="_variantHeader_5wq22_480",E$e="_variantName_5wq22_489",T$e="_variantSku_5wq22_495",D$e="_variantAttributes_5wq22_500",A$e="_attributesContainer_5wq22_507",M$e="_attributeTag_5wq22_513",R$e="_toggleAttributesButton_5wq22_523",B$e="_variantDetails_5wq22_554",O$e="_priceSection_5wq22_561",L$e="_priceRow_5wq22_571",$$e="_priceInfo_5wq22_579",P$e="_priceValue_5wq22_587",F$e="_priceActions_5wq22_602",H$e="_priceEdit_5wq22_614",q$e="_priceInput_5wq22_620",V$e="_priceUnitLabel_5wq22_642",z$e="_editButtons_5wq22_647",U$e="_addPriceButton_5wq22_658",W$e="_saveButton_5wq22_659",Y$e="_cancelButton_5wq22_660",G$e="_activeFlagsSection_5wq22_709",Q$e="_activeFlagsTitle_5wq22_718",X$e="_activeFlagsList_5wq22_724",K$e="_activeFlagItem_5wq22_730",Z$e="_stockInfo_5wq22_795",J$e="_stockItem_5wq22_807",ePe="_barcodeSection_5wq22_826",tPe="_barcodeTitle_5wq22_832",nPe="_barcodeImageContainer_5wq22_839",sPe="_barcodeImg_5wq22_855",aPe="_barcodeNumber_5wq22_866",rPe="_printBarcodeButton_5wq22_875",iPe="_batchesSection_5wq22_902",oPe="_batchesHeader_5wq22_908",cPe="_batchControls_5wq22_924",lPe="_filterGroup_5wq22_931",uPe="_filterButton_5wq22_944",dPe="_filterButtonActive_5wq22_964",hPe="_sortGroup_5wq22_970",fPe="_pageSizeGroup_5wq22_971",mPe="_defectControls_5wq22_972",pPe="_primaryButton_5wq22_1004",gPe="_secondaryButton_5wq22_1025",_Pe="_linkButton_5wq22_1045",vPe="_emptyState_5wq22_1067",xPe="_batchesList_5wq22_1084",bPe="_batchCard_5wq22_1090",yPe="_batchCardHeader_5wq22_1103",wPe="_batchNumber_5wq22_1112",jPe="_batchMeta_5wq22_1124",CPe="_batchTotals_5wq22_1132",SPe="_batchLines_5wq22_1149",NPe="_batchLine_5wq22_1149",kPe="_batchLineInfo_5wq22_1168",IPe="_batchLineTitle_5wq22_1175",EPe="_batchLineSku_5wq22_1185",TPe="_batchLineLocation_5wq22_1190",DPe="_batchLineStats_5wq22_1197",APe="_batchLineActions_5wq22_1217",MPe="_defectsList_5wq22_1229",RPe="_defectItem_5wq22_1238",BPe="_defectActions_5wq22_1256",OPe="_transferBadge_5wq22_1268",LPe="_transferInfo_5wq22_1280",$Pe="_defectsJournal_5wq22_1293",PPe="_defectsHeader_5wq22_1301",FPe="_defectsTable_5wq22_1314",HPe="_defectsTableHead_5wq22_1321",qPe="_defectsTableRow_5wq22_1322",VPe="_pagination_5wq22_1344",zPe="_modalOverlay_5wq22_1382",UPe="_modalContent_5wq22_1395",WPe="_modalHeader_5wq22_1420",YPe="_closeButton_5wq22_1441",GPe="_modalBody_5wq22_1466",QPe="_modalGrid_5wq22_1479",XPe="_modalFooter_5wq22_1535",KPe="_errorMessage_5wq22_1565",ZPe="_analyticsSection_5wq22_1580",JPe="_analyticsHeader_5wq22_1586",eFe="_analyticsPeriodSelector_5wq22_1596",tFe="_analyticsStats_5wq22_1632",nFe="_analyticsStatCard_5wq22_1646",sFe="_analyticsChartSection_5wq22_1676",aFe="_chartContainer_5wq22_1686",rFe="_analyticsSubSection_5wq22_1704",iFe="_variantPopularityTable_5wq22_1714",oFe="_variantPopularityHead_5wq22_1721",cFe="_variantPopularityRow_5wq22_1725",lFe="_forecastCards_5wq22_1742",uFe="_forecastCard_5wq22_1742",dFe="_forecastTitle_5wq22_1755",hFe="_forecastValue_5wq22_1762",fFe="_stockDynamics_5wq22_1768",mFe="_stockDynamicsItem_5wq22_1778",pFe="_stockDynamicsLabel_5wq22_1784",gFe="_stockDynamicsValue_5wq22_1789",_Fe="_availableQuantity_5wq22_1795",vFe="_reservedQuantity_5wq22_1799",xFe="_defectQuantity_5wq22_1803",bFe="_errorContainer_5wq22_1808",yFe="_error_5wq22_1565",wFe="_batchLinesBuilder_5wq22_1845",jFe="_batchLinesHeader_5wq22_1849",CFe="_batchLineRow_5wq22_1864",SFe="_batchLineColumn_5wq22_1883",NFe="_batchLineToggles_5wq22_1906",kFe="_removeLineButton_5wq22_1949",IFe="_defectMeta_5wq22_1971",EFe="_defectMetaRow_5wq22_1979",TFe="_defectMetaLabel_5wq22_1991",DFe="_defectMetaValue_5wq22_1996",AFe="_inputHint_5wq22_2002",MFe="_reasonSelector_5wq22_2009",RFe="_reasonOption_5wq22_2016",BFe="_reasonOptionActive_5wq22_2042",OFe="_historyButton_5wq22_2136",LFe="_exportButton_5wq22_2173",$Fe="_locationBatchesSection_5wq22_2198",PFe="_locationBatchesHeader_5wq22_2204",FFe="_locationBatchesTitle_5wq22_2211",HFe="_locationBatchFilters_5wq22_2218",qFe="_locationBatchesList_5wq22_2231",VFe="_locationBatchItem_5wq22_2237",zFe="_locationBatchItemHeader_5wq22_2247",UFe="_locationBatchItemInfo_5wq22_2254",WFe="_locationBatchItemDetails_5wq22_2267",YFe="_locationBatchDetailItem_5wq22_2273",GFe="_locationBatchItemActions_5wq22_2290",QFe="_loadMoreBatchesContainer_5wq22_2304",XFe="_loadMoreButton_5wq22_2311",KFe="_historyContainer_5wq22_2338",ZFe="_historyDateGroup_5wq22_2345",JFe="_historyDateHeader_5wq22_2350",eHe="_historyRecords_5wq22_2364",tHe="_historyRecord_5wq22_2364",nHe="_historyRecordHeader_5wq22_2377",sHe="_historyRecordType_5wq22_2386",aHe="_historyRecordTime_5wq22_2399",rHe="_historyRecordQuantity_5wq22_2404",iHe="_historyRecordUser_5wq22_2410",oHe="_historyRecordDescription_5wq22_2423",cHe="_historyRecordReceipt_5wq22_2430",Te={container:HLe,header:qLe,backButton:VLe,headerTitleRow:zLe,title:ULe,editButton:WLe,productInfo:YLe,imageContainer:GLe,imageSlider:QLe,mainImage:XLe,imageIndicator:KLe,details:ZLe,category:JLe,description:e$e,priceRangeInfo:t$e,priceRangeLabel:n$e,priceRangeValue:s$e,statsInfo:a$e,statItem:r$e,statLabel:i$e,statValue:o$e,statValueDefect:c$e,tabs:l$e,tab:u$e,activeTab:d$e,locationFilter:h$e,filterLabel:f$e,dropdownContainer:m$e,dropdownButton:p$e,dropdown:g$e,searchInputContainer:_$e,searchInput:v$e,dropdownList:x$e,dropdownItem:b$e,selected:y$e,clearFilterButton:w$e,locationsList:j$e,locationCard:C$e,locationName:S$e,variantsList:N$e,variantCard:k$e,variantHeader:I$e,variantName:E$e,variantSku:T$e,variantAttributes:D$e,attributesContainer:A$e,attributeTag:M$e,toggleAttributesButton:R$e,variantDetails:B$e,priceSection:O$e,priceRow:L$e,priceInfo:$$e,priceValue:P$e,priceActions:F$e,priceEdit:H$e,priceInput:q$e,priceUnitLabel:V$e,editButtons:z$e,addPriceButton:U$e,saveButton:W$e,cancelButton:Y$e,activeFlagsSection:G$e,activeFlagsTitle:Q$e,activeFlagsList:X$e,activeFlagItem:K$e,stockInfo:Z$e,stockItem:J$e,barcodeSection:ePe,barcodeTitle:tPe,barcodeImageContainer:nPe,barcodeImg:sPe,barcodeNumber:aPe,printBarcodeButton:rPe,batchesSection:iPe,batchesHeader:oPe,batchControls:cPe,filterGroup:lPe,filterButton:uPe,filterButtonActive:dPe,sortGroup:hPe,pageSizeGroup:fPe,defectControls:mPe,primaryButton:pPe,secondaryButton:gPe,linkButton:_Pe,emptyState:vPe,batchesList:xPe,batchCard:bPe,batchCardHeader:yPe,batchNumber:wPe,batchMeta:jPe,batchTotals:CPe,batchLines:SPe,batchLine:NPe,batchLineInfo:kPe,batchLineTitle:IPe,batchLineSku:EPe,batchLineLocation:TPe,batchLineStats:DPe,batchLineActions:APe,defectsList:MPe,defectItem:RPe,defectActions:BPe,transferBadge:OPe,transferInfo:LPe,defectsJournal:$Pe,defectsHeader:PPe,defectsTable:FPe,defectsTableHead:HPe,defectsTableRow:qPe,pagination:VPe,modalOverlay:zPe,modalContent:UPe,modalHeader:WPe,closeButton:YPe,modalBody:GPe,modalGrid:QPe,modalFooter:XPe,errorMessage:KPe,analyticsSection:ZPe,analyticsHeader:JPe,analyticsPeriodSelector:eFe,analyticsStats:tFe,analyticsStatCard:nFe,analyticsChartSection:sFe,chartContainer:aFe,analyticsSubSection:rFe,variantPopularityTable:iFe,variantPopularityHead:oFe,variantPopularityRow:cFe,forecastCards:lFe,forecastCard:uFe,forecastTitle:dFe,forecastValue:hFe,stockDynamics:fFe,stockDynamicsItem:mFe,stockDynamicsLabel:pFe,stockDynamicsValue:gFe,availableQuantity:_Fe,reservedQuantity:vFe,defectQuantity:xFe,errorContainer:bFe,error:yFe,batchLinesBuilder:wFe,batchLinesHeader:jFe,batchLineRow:CFe,batchLineColumn:SFe,batchLineToggles:NFe,removeLineButton:kFe,defectMeta:IFe,defectMetaRow:EFe,defectMetaLabel:TFe,defectMetaValue:DFe,inputHint:AFe,reasonSelector:MFe,reasonOption:RFe,reasonOptionActive:BFe,historyButton:OFe,exportButton:LFe,locationBatchesSection:$Fe,locationBatchesHeader:PFe,locationBatchesTitle:FFe,locationBatchFilters:HFe,locationBatchesList:qFe,locationBatchItem:VFe,locationBatchItemHeader:zFe,locationBatchItemInfo:UFe,locationBatchItemDetails:WFe,locationBatchDetailItem:YFe,locationBatchItemActions:GFe,loadMoreBatchesContainer:QFe,loadMoreButton:XFe,historyContainer:KFe,historyDateGroup:ZFe,historyDateHeader:JFe,historyRecords:eHe,historyRecord:tHe,historyRecordHeader:nHe,historyRecordType:sHe,historyRecordTime:aHe,historyRecordQuantity:rHe,historyRecordUser:iHe,historyRecordDescription:oHe,historyRecordReceipt:cHe},lHe=()=>{var rn,On,bs,ws,fa,ir,tr,Di,Tr,so,He,Ke,ft,wt,En,Yn,Jn,Ss,Wa,Nn,ka;const{business_slug:e,product_id:t}=ha(),n=Is(),{getFileUrl:a}=Er(),[r,i]=_.useState(null),[o,c]=_.useState(!0),[l,d]=_.useState(null),[f,g]=_.useState({}),[b,w]=_.useState({}),[C,S]=_.useState(!1),[k,E]=_.useState("locations"),[D,R]=_.useState(null),[P,B]=_.useState(""),[O,$]=_.useState(!1),[U,F]=_.useState(!1),[H,se]=_.useState({batch_number:"",received_date:Kn().format("YYYY-MM-DD"),supplier:"",notes:"",stocks:[]}),[K,te]=_.useState(!1),[J,z]=_.useState(""),[V,M]=_.useState({open:!1,stockId:null,variantName:"",locationName:"",batchNumber:"",quantity:"",reason:"",defectId:null,availableQuantity:0}),[ee,Z]=_.useState(!1),[A,G]=_.useState(""),[Q,Y]=_.useState({open:!1,stockId:null,variantName:"",locationName:"",batchNumber:"",quantity:"",reason:"other",reasonDetail:"",availableQuantity:0,writeoffId:null}),[ae,ne]=_.useState(!1),[re,oe]=_.useState(""),[me,Ce]=_.useState({open:!1,stockId:null,batchNumber:"",variantName:"",locationName:"",history:[],loading:!1}),[Ne,Ee]=_.useState({open:!1,variantLocationId:null,variantName:"",locationName:"",history:[],loading:!1,page:1,hasMore:!1,loadingMore:!1}),[ve,Se]=_.useState({}),[fe,de]=_.useState({}),[pe,ce]=_.useState({}),[Re,Ae]=_.useState({}),[ie,ge]=_.useState({}),[be,Fe]=_.useState("recent"),[je,qe]=_.useState("all"),[tt,he]=_.useState(1),[Ze,Pe]=_.useState(5),[bt,Ge]=_.useState("recent"),[ue,De]=_.useState(1),[xe,Ye]=_.useState(20),[at,lt]=_.useState([]),[Mt,pn]=_.useState([]),[Qn,yt]=_.useState(null),[ln,fn]=_.useState(null),[jn,dt]=_.useState(!1),[It,st]=_.useState(null),[Rt,Lt]=_.useState(!1),[on,vn]=_.useState("day"),ss=_.useRef(null),hs=_.useRef(null),[xs,fs]=_.useState(0),Hn=_.useRef(0),Xt=_.useRef(0),[ia,Ca]=_.useState(0),[Vn,Na]=_.useState(!1);_.useEffect(()=>{Qs()},[e,t]),_.useEffect(()=>{var Oe;if(((Oe=r==null?void 0:r.images)==null?void 0:Oe.length)>0){const Ue=r.images.findIndex(_t=>_t.is_main);fs(Ue>=0?Ue:0)}},[r==null?void 0:r.id]),_.useEffect(()=>{r&&r.id&&!r.locations&&ta()},[r==null?void 0:r.id,e,t]),_.useEffect(()=>{k==="batches"&&vs()},[k,e,t,be,je,tt,Ze,bt,ue,xe]),_.useEffect(()=>{k==="locations"&&(r!=null&&r.locations)&&r.locations.forEach(Oe=>{const Ue=pe[Oe.id]||"all";et(Oe.id,Ue,1,!1)})},[k,e,t,(rn=r==null?void 0:r.locations)==null?void 0:rn.length]),_.useEffect(()=>{if(k==="locations"&&(r!=null&&r.locations))if(D){const Oe=pe[D]||"all";et(D,Oe,1,!1)}else r.locations.forEach(Oe=>{const Ue=pe[Oe.id]||"all";et(Oe.id,Ue,1,!1)})},[D,k]),_.useEffect(()=>{k==="analytics"&&za()},[k,e,t,on]),_.useEffect(()=>{if(!It||!ss.current||k!=="analytics")return;hs.current&&hs.current.destroy();const Oe=ss.current.getContext("2d"),Ue=It.sales_chart||[],_t=Ue.map(es=>{const Ns=Kn(es.period);return on==="day"?Ns.format("DD MMM"):Ns.format("MMM YYYY")}),$e=Ue.map(es=>parseFloat(es.revenue||0)),Vt=Ue.map(es=>parseInt(es.quantity||0)),Mn=Ue.map(es=>parseInt(es.orders||0));return hs.current=new ac(Oe,{type:"line",data:{labels:_t,datasets:[{label:" ()",data:$e,borderColor:"#2daf9f",backgroundColor:"rgba(45, 175, 159, 0.1)",tension:.4,yAxisID:"y",pointBackgroundColor:"#2daf9f",pointBorderColor:"#ffffff",pointBorderWidth:2,pointRadius:4,pointHoverRadius:6},{label:" ",data:Vt,borderColor:"#ff9f40",backgroundColor:"rgba(255, 159, 64, 0.1)",borderDash:[5,5],tension:.3,yAxisID:"y1",pointBackgroundColor:"#ff9f40",pointBorderColor:"#ffffff",pointBorderWidth:2,pointRadius:4,pointHoverRadius:6},{label:"",data:Mn,borderColor:"#9966ff",backgroundColor:"rgba(153, 102, 255, 0.1)",borderDash:[5,5],tension:.3,yAxisID:"y1",pointBackgroundColor:"#9966ff",pointBorderColor:"#ffffff",pointBorderWidth:2,pointRadius:4,pointHoverRadius:6}]},options:{responsive:!0,maintainAspectRatio:!1,interaction:{mode:"index",intersect:!1},plugins:{legend:{display:!0,position:"top",labels:{color:"#e0e0e0",usePointStyle:!0}},tooltip:{backgroundColor:"rgba(0, 0, 0, 0.8)",titleColor:"#e0e0e0",bodyColor:"#e0e0e0",borderColor:"#404040",borderWidth:1}},scales:{x:{ticks:{color:"#9e9e9e"},grid:{color:"rgba(255, 255, 255, 0.1)"}},y:{type:"linear",display:!0,position:"left",ticks:{color:"#9e9e9e"},grid:{color:"rgba(255, 255, 255, 0.1)"}},y1:{type:"linear",display:!0,position:"right",ticks:{color:"#9e9e9e"},grid:{drawOnChartArea:!1}}}}}),()=>{hs.current&&hs.current.destroy()}},[It,on,k]),_.useEffect(()=>{if(!O)return;const Oe=Ue=>{Ue.target.closest("[data-dropdown-container]")||$(!1)};return document.addEventListener("mousedown",Oe),()=>{document.removeEventListener("mousedown",Oe)}},[O]);const Qs=async()=>{var Oe,Ue;try{c(!0);const _t=await Be.get(`/api/business/${e}/products/${t}/info`);i(_t.data)}catch(_t){console.error("  :",_t),d(((Ue=(Oe=_t.response)==null?void 0:Oe.data)==null?void 0:Ue.detail)||"  ")}finally{c(!1)}},ta=async(Oe=null)=>{try{const Ue=Oe?{location_id:Oe}:{},_t=await Be.get(`/api/business/${e}/products/${t}/locations/`,{params:Ue});i($e=>({...$e,locations:_t.data.locations||[]}))}catch(Ue){console.error("   :",Ue),i(_t=>({..._t,locations:[]}))}},vs=async()=>{var Oe,Ue;try{dt(!0);const _t={sort:be,filter:je,page:tt,page_size:Ze,defect_sort:bt,defect_page:ue,defect_page_size:xe},$e=await Be.get(`/api/business/${e}/products/${t}/batches-defects/`,{params:_t});lt($e.data.batches||[]),pn($e.data.defects||[]),yt($e.data.batches_pagination),fn($e.data.defects_pagination)}catch(_t){console.error("    :",_t),d(((Ue=(Oe=_t.response)==null?void 0:Oe.data)==null?void 0:Ue.detail)||"    ")}finally{dt(!1)}},za=async()=>{var Oe,Ue;try{Lt(!0);const _t=await Be.get(`/api/business/${e}/products/${t}/analytics/`,{params:{period:on}});st(_t.data)}catch(_t){console.error("  :",_t),d(((Ue=(Oe=_t.response)==null?void 0:Oe.data)==null?void 0:Ue.detail)||"  ")}finally{Lt(!1)}},ur=(Oe,Ue,_t)=>{const $e=`${Oe}-${Ue}`;g(Vt=>({...Vt,[$e]:_t}))},Us=async(Oe,Ue,_t,$e)=>{var Vt,Mn;try{S(!0),_t?await Be.post(`/api/business/${e}/location-price/create/`,{variant_id:Ue,location_id:Oe,selling_price:$e,is_active:!0}):await Be.post(`/api/business/${e}/location-price/create/`,{variant_id:Ue,location_id:Oe,selling_price:$e,is_active:!0});const es=`${Oe}-${Ue}`;g(Ns=>{const Dr={...Ns};return delete Dr[es],Dr}),await Qs()}catch(es){console.error("  :",es),alert("  : "+(((Mn=(Vt=es.response)==null?void 0:Vt.data)==null?void 0:Mn.detail)||es.message))}finally{S(!1)}},Ms=(Oe,Ue)=>{const _t=`${Oe}-${Ue}`;g($e=>{const Vt={...$e};return delete Vt[_t],Vt})},Xs=(Oe,Ue)=>{const _t=`${Oe}-${Ue}`;w($e=>({...$e,[_t]:0}))},Cr=(Oe,Ue,_t)=>{const $e=`${Oe}-${Ue}`;w(Vt=>({...Vt,[$e]:_t}))},Ua=async(Oe,Ue,_t)=>{var $e,Vt;try{S(!0),await Be.post(`/api/business/${e}/location-price/create/`,{variant_id:Ue,location_id:Oe,selling_price:_t,is_active:!0});const Mn=`${Oe}-${Ue}`;w(es=>{const Ns={...es};return delete Ns[Mn],Ns}),await Qs()}catch(Mn){console.error("  :",Mn),alert("  : "+(((Vt=($e=Mn.response)==null?void 0:$e.data)==null?void 0:Vt.detail)||Mn.message))}finally{S(!1)}},Qa=async(Oe,Ue,_t,$e)=>{var Vt,Mn;try{S(!0),await Be.post(`/api/business/${e}/location-price/create/`,{variant_id:Ue,location_id:Oe,selling_price:r.locations.find(es=>es.id===Oe).variants.find(es=>es.id===Ue).price,is_active:!$e}),i(es=>({...es,locations:es.locations.map(Ns=>Ns.id===Oe?{...Ns,variants:Ns.variants.map(Dr=>Dr.id===Ue?{...Dr,is_price_active:!$e}:Dr)}:Ns)}))}catch(es){console.error("  :",es),alert("  : "+(((Mn=(Vt=es.response)==null?void 0:Vt.data)==null?void 0:Mn.detail)||es.message))}finally{S(!1)}},qt=async(Oe,Ue,_t,$e,Vt)=>{var Mn,es,Ns,Dr;try{S(!0);const Gi=r.locations.find(ao=>ao.id===Oe).variants.find(ao=>ao.id===Ue),Zr={variant_id:Ue,location_id:Oe,selling_price:Gi.price,is_active:Gi.is_price_active,[$e]:!Vt};await Be.post(`/api/business/${e}/location-price/create/`,Zr),i(ao=>({...ao,locations:ao.locations.map(Zs=>Zs.id===Oe?{...Zs,variants:Zs.variants.map(zl=>zl.id===Ue?{...zl,[$e]:!Vt}:zl)}:Zs)}))}catch(Gi){console.error("  :",Gi);const Zr=((es=(Mn=Gi.response)==null?void 0:Mn.data)==null?void 0:es.detail)||((Dr=(Ns=Gi.response)==null?void 0:Ns.data)==null?void 0:Dr.message)||Gi.message;alert("  : "+Zr)}finally{S(!1)}},Zn=(Oe,Ue)=>{const _t=`${Oe}-${Ue}`;w($e=>{const Vt={...$e};return delete Vt[_t],Vt})},Ts=Oe=>{const Ue=a(Oe.barcode_image),_t=Oe.name||r.name,$e=Oe.price?`${parseFloat(Oe.price).toLocaleString("ru-RU")}   ${(r==null?void 0:r.unit_display)||"."}`:"  ",Vt=Oe.attributes&&Oe.attributes.length>0?`<div class="attributes">
                ${Oe.attributes.map(Ns=>`
                    <div class="attribute">
                        <span class="attribute-name">${Ns.name}:</span>
                        <span>${Ns.value}</span>
                    </div>
                `).join("")}
            </div>`:"",Mn=`
          <html>
            <head>
              <title> -</title>
              <style>
                @page { size: 58mm 40mm; margin: 0; }
                body { margin: 0; width: 58mm; height: 40mm; display: flex; justify-content: center; align-items: center; font-family: 'Inter', sans-serif; font-size: 8px; }
                .product { text-align: center; width: 100%; padding: 1mm 2mm; }
                .name { font-weight: bold; font-size: 13px; margin-bottom: 1mm; }
                .barcode-img { height: 24mm; width: auto; max-width: 95%; }
                .price { font-size: 15px; font-weight: bold; margin-top: 0.5mm; }
                .attributes { margin-top: 0.5mm; font-size: 7px; }
                .attribute { display: flex; justify-content: space-between; gap: 2mm; }
                .attribute-name { font-weight: 600; }
              </style>
            </head>
            <body>
              <div class="product">
                <div class="name">${_t}</div>
                <img class="barcode-img" src="${Ue}" alt="barcode" />
                <div class="price">${$e}</div>
                ${Vt}
              </div>
            </body>
          </html>
        `,es=window.open("","_blank","width=580,height=400");es.document.open(),es.document.write(Mn),es.document.close(),setTimeout(()=>{es.focus(),es.print(),es.close()},500)},rr=(r==null?void 0:r.locations)||[],js=((r==null?void 0:r.locations_for_filter)||[]).filter(Oe=>Oe.name.toLowerCase().includes(P.toLowerCase())),Ds=Oe=>{R(Oe),$(!1),B(""),ta(Oe)},cs=()=>{R(null),ta(),B("")};_.useEffect(()=>{he(1)},[je,be,Ze]),_.useEffect(()=>{De(1)},[bt,xe]);const qa=Oe=>Oe?Kn(Oe).format("DD.MM.YYYY"):"",ls=Oe=>Number(Oe||0).toLocaleString("ru-RU");_.useMemo(()=>{if(!r||!r.locations)return[];const Oe=new Map;return r.locations.forEach(Ue=>{var _t;(_t=Ue.variants)==null||_t.forEach($e=>{Oe.has($e.id)||Oe.set($e.id,$e)})}),Array.from(Oe.values())},[r]);const sa=()=>({tempId:`${Date.now()}-${Math.random()}`,locationId:"",variantId:"",variantName:"",variantOnLocationId:null,quantity:0,cost_price:"",reserved_quantity:0,is_available_for_sale:!0,is_active_on_marketplace:!1,is_active_for_offline_sale:!1,is_active_on_own_site:!1}),Gs=()=>{F(!1)},Ks=(Oe,Ue)=>{se(_t=>({..._t,[Oe]:Ue}))},vr=()=>{se(Oe=>({...Oe,stocks:[...Oe.stocks,sa()]}))},Ws=Oe=>{se(Ue=>{const _t=Ue.stocks.filter($e=>$e.tempId!==Oe);return{...Ue,stocks:_t.length?_t:[sa()]}})},Ja=(Oe,Ue)=>{se(_t=>({..._t,stocks:_t.stocks.map($e=>$e.tempId===Oe?{...$e,locationId:Ue,variantId:"",variantName:"",variantOnLocationId:null}:$e)}))},ji=(Oe,Ue)=>{se(_t=>({..._t,stocks:_t.stocks.map($e=>{if($e.tempId!==Oe)return $e;const Vt=((r==null?void 0:r.locations)||[]).find(es=>Number(es.id)===Number($e.locationId));if(!Vt)return $e;const Mn=(Vt.variants||[]).find(es=>Number(es.id)===Number(Ue));return Mn?Mn.price_id?{...$e,variantId:Ue,variantName:Mn.name,variantOnLocationId:Mn.price_id,is_active_on_marketplace:Mn.is_active_on_marketplace||!1,is_active_for_offline_sale:Mn.is_active_for_offline_sale||!1,is_active_on_own_site:Mn.is_active_on_own_site||!1}:(alert("        "),$e):$e})}))},aa=(Oe,Ue,_t)=>{se($e=>({...$e,stocks:$e.stocks.map(Vt=>Vt.tempId===Oe?{...Vt,[Ue]:_t}:Vt)}))},Rs=async()=>{var _t;if(z(""),!H.stocks.length){z("    ");return}if(H.stocks.find($e=>!$e.variantOnLocationId||Number($e.quantity)<=0)){z(" ,      ");return}const Ue={received_date:H.received_date||void 0,supplier:H.supplier||void 0,notes:H.notes||"",stocks:H.stocks.map($e=>({variant_on_location_id:$e.variantOnLocationId,quantity:Number($e.quantity),cost_price:$e.cost_price===""?null:Number($e.cost_price),reserved_quantity:$e.reserved_quantity===""?0:Number($e.reserved_quantity),is_available_for_sale:!!$e.is_available_for_sale,is_active_on_marketplace:!!$e.is_active_on_marketplace,is_active_for_offline_sale:!!$e.is_active_for_offline_sale,is_active_on_own_site:!!$e.is_active_on_own_site}))};H.batch_number&&H.batch_number.trim()!==""&&(Ue.batch_number=H.batch_number);try{te(!0),await Be.post(`/api/business/${e}/batches/create/`,Ue),F(!1),await vs(),await Qs(),alert("  ")}catch($e){const Vt=(_t=$e.response)==null?void 0:_t.data,Mn=(Vt==null?void 0:Vt.detail)||(Vt==null?void 0:Vt.message)||(typeof Vt=="string"?Vt:JSON.stringify(Vt));z(Mn||"   ")}finally{te(!1)}},qn=(Oe,Ue=null,_t=null)=>{G("");const $e=Ue?(Oe.availableQuantity||0)+(Ue.quantity||0):Oe.availableQuantity||0;M({open:!0,stockId:Oe.stockId,variantName:Oe.variantName,locationName:Oe.locationName,locationId:_t||Oe.locationId||null,batchNumber:Oe.batchNumber,quantity:Ue?Ue.quantity:"",reason:Ue?Ue.reason:"",defectId:Ue?Ue.id:null,availableQuantity:$e})},it=()=>{M({open:!1,stockId:null,variantName:"",locationName:"",locationId:null,batchNumber:"",quantity:"",reason:"",defectId:null,availableQuantity:0})},Le=async()=>{var Ue;if(!V.stockId)return;const Oe=Number(V.quantity);if(!Oe||Oe<=0){G("    0");return}if(Oe>V.availableQuantity){G(`    : ${ls(V.availableQuantity)} ${(r==null?void 0:r.unit_display)||"."}`);return}Z(!0);try{if(V.defectId?await Be.patch(`/api/business/${e}/stocks/defects/${V.defectId}/update/`,{quantity:Oe,reason:V.reason||""}):await Be.post(`/api/business/${e}/stocks/${V.stockId}/defects/create/`,{quantity:Oe,reason:V.reason||""}),await vs(),await Qs(),V.locationId&&(r!=null&&r.locations)){const _t=pe[V.locationId]||"all";await et(V.locationId,_t,1,!1)}it()}catch(_t){const $e=(Ue=_t.response)==null?void 0:Ue.data,Vt=($e==null?void 0:$e.detail)||($e==null?void 0:$e.message)||(typeof $e=="string"?$e:Object.values($e||{})[0]);G(Vt||"   ")}finally{Z(!1)}},Qe=async Oe=>{var Ue,_t;if(window.confirm("   ?"))try{if(await Be.post(`/api/business/${e}/stocks/${Oe}/defects/remove/`),await vs(),await Qs(),r!=null&&r.locations)for(const $e of r.locations){const Vt=pe[$e.id]||"all";await et($e.id,Vt,1,!1)}}catch($e){alert("   : "+(((_t=(Ue=$e.response)==null?void 0:Ue.data)==null?void 0:_t.detail)||$e.message))}},Tt=(Oe,Ue=null,_t=null)=>{oe("");const $e=Ue?(Oe.availableQuantity||0)+(Ue.quantity||0):Oe.availableQuantity||0;Y({open:!0,stockId:Oe.stockId,variantName:Oe.variantName,locationName:Oe.locationName,locationId:_t||Oe.locationId||null,batchNumber:Oe.batchNumber,quantity:Ue?Ue.quantity:"",reason:Ue?Ue.reason:"other",reasonDetail:Ue&&Ue.reasonDetail||"",availableQuantity:$e,writeoffId:Ue?Ue.id:null})},Wt=()=>{Y({open:!1,stockId:null,variantName:"",locationName:"",locationId:null,batchNumber:"",quantity:"",reason:"other",reasonDetail:"",availableQuantity:0,writeoffId:null})},zt=async()=>{var Ue;if(!Q.stockId)return;const Oe=Number(Q.quantity);if(!Oe||Oe<=0){oe("    0");return}if(Oe>Q.availableQuantity){oe(`    : ${ls(Q.availableQuantity)} ${(r==null?void 0:r.unit_display)||"."}`);return}ne(!0);try{if(Q.writeoffId?await Be.patch(`/api/business/${e}/stocks/writeoffs/${Q.writeoffId}/update/`,{quantity:Oe,reason:Q.reason,reason_detail:Q.reasonDetail||""}):await Be.post(`/api/business/${e}/stocks/${Q.stockId}/writeoffs/create/`,{quantity:Oe,reason:Q.reason,reason_detail:Q.reasonDetail||""}),await vs(),await Qs(),Q.locationId&&(r!=null&&r.locations)){const _t=pe[Q.locationId]||"all";await et(Q.locationId,_t,1,!1)}Wt()}catch(_t){const $e=(Ue=_t.response)==null?void 0:Ue.data,Vt=($e==null?void 0:$e.detail)||($e==null?void 0:$e.message)||(typeof $e=="string"?$e:Object.values($e||{})[0]);oe(Vt||(Q.writeoffId?"   ":"   "))}finally{ne(!1)}},Xe=async Oe=>{var Ue;if(window.confirm("   ?")){ne(!0);try{if(await Be.delete(`/api/business/${e}/stocks/writeoffs/${Oe}/delete/`),await vs(),await Qs(),r!=null&&r.locations)for(const _t of r.locations){const $e=pe[_t.id]||"all";await et(_t.id,$e,1,!1)}}catch(_t){const $e=(Ue=_t.response)==null?void 0:Ue.data,Vt=($e==null?void 0:$e.detail)||($e==null?void 0:$e.message)||"   ";alert(Vt)}finally{ne(!1)}}},et=async(Oe,Ue="all",_t=1,$e=!1)=>{try{ge(Dr=>({...Dr,[Oe]:!0}));const Vt={location_id:Oe,location_filter:Ue,location_sort:"recent",location_page:_t,location_page_size:3},Mn=await Be.get(`/api/business/${e}/products/${t}/batches-defects/`,{params:Vt}),es=Mn.data.batches||[],Ns=Mn.data.batches_pagination||null;Ae($e?Dr=>{var Gi;return{...Dr,[Oe]:{batches:[...((Gi=Dr[Oe])==null?void 0:Gi.batches)||[],...es],pagination:Ns}}}:Dr=>({...Dr,[Oe]:{batches:es,pagination:Ns}}))}catch(Vt){console.error(`     ${Oe}:`,Vt),Ae(Mn=>{var es,Ns;return{...Mn,[Oe]:{batches:((es=Mn[Oe])==null?void 0:es.batches)||[],pagination:((Ns=Mn[Oe])==null?void 0:Ns.pagination)||null}}})}finally{ge(Vt=>({...Vt,[Oe]:!1}))}},Je=Oe=>{const Ue=Re[Oe],_t=pe[Oe]||"all";if(!Ue||!Ue.pagination)return;const $e=(Ue.pagination.current_page||1)+1;$e<=(Ue.pagination.total_pages||1)&&et(Oe,_t,$e,!0)},ot=(Oe,Ue)=>{ce(_t=>({..._t,[Oe]:Ue})),et(Oe,Ue,1,!1)},Ut=async(Oe,Ue,_t,$e)=>{Ce({open:!0,stockId:Oe,batchNumber:$e,variantName:Ue,locationName:_t,history:[],loading:!0});try{const Vt=await Be.get(`/api/business/${e}/stocks/${Oe}/movement-history/`);Ce(Mn=>({...Mn,history:Vt.data.history||[],loading:!1}))}catch(Vt){console.error("  :",Vt),alert("     "),Ce(Mn=>({...Mn,loading:!1}))}},Ft=()=>{Ce({open:!1,stockId:null,batchNumber:"",variantName:"",locationName:"",history:[],loading:!1})},In=async(Oe,Ue,_t)=>{var $e,Vt;Ee({open:!0,variantLocationId:Oe,variantName:Ue,locationName:_t,history:[],loading:!0,page:1,hasMore:!1,loadingMore:!1});try{const Mn=await Be.get(`/api/business/${e}/variant-locations/${Oe}/movement-history/`,{params:{page:1,page_size:20}});Ee(es=>{var Ns;return{...es,history:Mn.data.history||[],loading:!1,hasMore:((Ns=Mn.data.pagination)==null?void 0:Ns.has_next)||!1,page:1}})}catch(Mn){console.error("  :",Mn),alert("  : "+(((Vt=($e=Mn.response)==null?void 0:$e.data)==null?void 0:Vt.detail)||Mn.message)),Ee(es=>({...es,loading:!1}))}},gn=()=>{Ee({open:!1,variantLocationId:null,variantName:"",locationName:"",history:[],loading:!1,page:1,hasMore:!1,loadingMore:!1})},Xn=async()=>{const{variantLocationId:Oe,page:Ue,hasMore:_t,loadingMore:$e}=Ne;if(!(!_t||$e)){Ee(Vt=>({...Vt,loadingMore:!0}));try{const Vt=await Be.get(`/api/business/${e}/variant-locations/${Oe}/movement-history/`,{params:{page:Ue+1,page_size:20}});Ee(Mn=>{var es;return{...Mn,history:[...Mn.history,...Vt.data.history||[]],page:Ue+1,hasMore:((es=Vt.data.pagination)==null?void 0:es.has_next)||!1,loadingMore:!1}})}catch(Vt){console.error("  :",Vt),Ee(Mn=>({...Mn,loadingMore:!1}))}}},Gt=async()=>{var $e,Vt;const{variantLocationId:Oe,variantName:Ue,locationName:_t}=Ne;try{const Mn=await Be.get(`/api/business/${e}/variant-locations/${Oe}/movement-history/export-excel/`,{responseType:"blob"}),es=window.URL.createObjectURL(new Blob([Mn.data])),Ns=document.createElement("a");Ns.href=es;const Dr=`__${Ue}_${_t}_${new Date().toISOString().split("T")[0]}.xlsx`;Ns.setAttribute("download",Dr),document.body.appendChild(Ns),Ns.click(),Ns.remove(),window.URL.revokeObjectURL(es)}catch(Mn){console.error(" :",Mn),alert("   Excel: "+(((Vt=($e=Mn.response)==null?void 0:$e.data)==null?void 0:Vt.detail)||Mn.message))}};if(o)return s.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh"},children:s.jsx(Fn,{size:"large"})});if(l)return s.jsxs("div",{className:Te.errorContainer,children:[s.jsx("div",{className:Te.error,children:l}),s.jsx("button",{onClick:()=>n(`/business/${e}/products/`),children:"  "})]});if(!r)return null;const Dn=r.images||[];Dn[xs]||Dn[0];const hn=()=>{fs(Oe=>Oe>0?Oe-1:Dn.length-1)},as=()=>{fs(Oe=>Oe<Dn.length-1?Oe+1:0)},Qt=Oe=>{Hn.current=Oe.touches[0].clientX,Na(!0),Ca(0)},ys=Oe=>{if(!Vn||!Hn.current||Dn.length<=1)return;const Ue=Oe.touches[0].clientX,_t=Ue-Hn.current,$e=Oe.currentTarget.offsetWidth||window.innerWidth,Vt=_t/$e*100,es=Math.max(-100,Math.min(100,Vt));Ca(es),Xt.current=Ue},jt=()=>{if(!Vn)return;const Oe=(Xt.current||Hn.current)-Hn.current,Ue=window.innerWidth;Math.abs(Oe)/Ue*100>20&&Dn.length>1&&(Oe>0?hn():as()),Na(!1),Ca(0),Hn.current=0,Xt.current=0};return s.jsxs("div",{className:Te.container,children:[s.jsxs("div",{className:Te.header,children:[s.jsx("button",{className:Te.backButton,onClick:()=>n(`/business/${e}/products/`),children:"   "}),s.jsxs("div",{className:Te.headerTitleRow,children:[s.jsx("h1",{className:Te.title,children:r.name}),s.jsxs("button",{className:Te.editButton,onClick:()=>n(`/business/${e}/products/${t}/edit`),children:[s.jsx("i",{className:"fa fa-edit"})," "]})]})]}),s.jsxs("div",{className:Te.productInfo,children:[Dn.length>0&&s.jsxs("div",{className:Te.imageContainer,onTouchStart:Qt,onTouchMove:ys,onTouchEnd:jt,children:[s.jsx("div",{className:Te.imageSlider,style:{transform:`translateX(calc(-${xs*100}% + ${ia}%))`,transition:Vn?"none":"transform 0.4s cubic-bezier(0.4, 0, 0.2, 1)"},children:Dn.map((Oe,Ue)=>s.jsx("img",{src:a(Oe.image),alt:`${r.name} -  ${Ue+1}`,className:Te.mainImage},Oe.id||Ue))}),Dn.length>1&&s.jsxs("div",{className:Te.imageIndicator,children:[xs+1," / ",Dn.length]})]}),s.jsxs("div",{className:Te.details,children:[s.jsxs("div",{className:Te.category,children:[": ",r.category_name]}),s.jsx("div",{className:Te.description,children:r.description}),(r.min_price||r.max_price)&&s.jsxs("div",{className:Te.priceRangeInfo,children:[s.jsx("span",{className:Te.priceRangeLabel,children:" :"}),s.jsx("span",{className:Te.priceRangeValue,children:r.min_price&&r.max_price?r.min_price===r.max_price?`${parseFloat(r.min_price).toLocaleString("ru-RU")} `:`${parseFloat(r.min_price).toLocaleString("ru-RU")} - ${parseFloat(r.max_price).toLocaleString("ru-RU")} `:r.min_price?` ${parseFloat(r.min_price).toLocaleString("ru-RU")} `:` ${parseFloat(r.max_price).toLocaleString("ru-RU")} `})]}),s.jsxs("div",{className:Te.statsInfo,children:[s.jsxs("div",{className:Te.statItem,children:[s.jsx("span",{className:Te.statLabel,children:" :"}),s.jsxs("span",{className:Te.statValue,children:[(r.total_available||0).toLocaleString("ru-RU")," ",(r==null?void 0:r.unit_display)||"."]})]}),s.jsxs("div",{className:Te.statItem,children:[s.jsx("span",{className:Te.statLabel,children:" :"}),s.jsxs("span",{className:`${Te.statValue} ${Te.statValueDefect}`,children:[(r.total_defect||0).toLocaleString("ru-RU")," ",(r==null?void 0:r.unit_display)||"."]})]})]})]})]}),s.jsxs("div",{className:Te.tabs,children:[s.jsx("button",{className:`${Te.tab} ${k==="locations"?Te.activeTab:""}`,onClick:()=>E("locations"),children:"  "}),s.jsx("button",{className:`${Te.tab} ${k==="batches"?Te.activeTab:""}`,onClick:()=>E("batches"),children:"  "}),s.jsx("button",{className:`${Te.tab} ${k==="salesHistory"?Te.activeTab:""}`,onClick:()=>E("salesHistory"),children:" "}),s.jsx("button",{className:`${Te.tab} ${k==="analytics"?Te.activeTab:""}`,onClick:()=>E("analytics"),children:""})]}),k==="locations"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:Te.locationFilter,children:[s.jsx("label",{className:Te.filterLabel,children:"  :"}),s.jsxs("div",{className:Te.dropdownContainer,"data-dropdown-container":!0,children:[s.jsxs("div",{className:Te.dropdownButton,onClick:()=>$(!O),children:[s.jsx("span",{children:D&&r?(On=r.locations.find(Oe=>Oe.id===D))==null?void 0:On.name:" "}),s.jsx("i",{className:`fa fa-chevron-${O?"up":"down"}`})]}),O&&s.jsxs("div",{className:Te.dropdown,children:[s.jsxs("div",{className:Te.searchInputContainer,children:[s.jsx("i",{className:"fa fa-search"}),s.jsx("input",{type:"text",placeholder:" ...",value:P,onChange:Oe=>B(Oe.target.value),className:Te.searchInput,onClick:Oe=>Oe.stopPropagation()})]}),s.jsxs("div",{className:Te.dropdownList,children:[s.jsxs("div",{className:`${Te.dropdownItem} ${D?"":Te.selected}`,onClick:()=>cs(),children:[" ",!D&&s.jsx("i",{className:"fa fa-check"})]}),js.map(Oe=>s.jsxs("div",{className:`${Te.dropdownItem} ${D===Oe.id?Te.selected:""}`,onClick:()=>Ds(Oe.id),children:[Oe.name,D===Oe.id&&s.jsx("i",{className:"fa fa-check"})]},Oe.id)),js.length===0&&s.jsx("div",{className:Te.noResults,children:"  "})]})]})]}),D&&s.jsxs("button",{onClick:cs,className:Te.clearFilterButton,children:[s.jsx("i",{className:"fa fa-times"})," "]})]}),s.jsx("div",{className:Te.locationsList,children:rr.map(Oe=>s.jsxs("div",{className:Te.locationCard,children:[s.jsx("h3",{className:Te.locationName,children:Oe.name}),s.jsx("div",{className:Te.variantsList,children:Oe.variants.map(Ue=>{const _t=`${Oe.id}-${Ue.id}`,$e=f.hasOwnProperty(_t),Vt=b.hasOwnProperty(_t),Mn=f[_t],es=b[_t];return s.jsxs("div",{className:Te.variantCard,children:[s.jsxs("div",{className:Te.variantHeader,children:[s.jsx("span",{className:Te.variantName,children:Ue.name}),s.jsxs("span",{className:Te.variantSku,children:["SKU: ",Ue.sku]})]}),Ue.attributes&&Ue.attributes.length>0&&s.jsxs("div",{className:Te.variantAttributes,children:[s.jsx("div",{className:Te.attributesContainer,children:Ue.attributes.slice(0,ve[Ue.id]?Ue.attributes.length:2).map((Ns,Dr)=>s.jsxs("span",{className:Te.attributeTag,children:[Ns.name,": ",Ns.value]},Dr))}),Ue.attributes.length>2&&s.jsx("button",{className:Te.toggleAttributesButton,onClick:()=>Se(Ns=>({...Ns,[Ue.id]:!Ns[Ue.id]})),children:ve[Ue.id]?s.jsxs(s.Fragment,{children:[s.jsx("i",{className:"fa fa-chevron-up"})," "]}):s.jsxs(s.Fragment,{children:[s.jsx("i",{className:"fa fa-chevron-down"}),"   (",Ue.attributes.length,")"]})})]}),s.jsxs("div",{className:Te.variantDetails,children:[!Ue.price&&!Vt?s.jsxs("button",{className:Te.addPriceButton,onClick:()=>Xs(Oe.id,Ue.id),children:[s.jsx("i",{className:"fa fa-plus"}),"  "]}):Vt?s.jsxs("div",{className:Te.priceEdit,children:[s.jsx("input",{type:"number",value:es,onChange:Ns=>Cr(Oe.id,Ue.id,Ns.target.value),className:Te.priceInput,placeholder:"",min:"0",step:"0.01"}),s.jsxs("span",{className:Te.priceUnitLabel,children:["  ",(r==null?void 0:r.unit_display)||"."]}),s.jsxs("div",{className:Te.editButtons,children:[s.jsx("button",{onClick:()=>Ua(Oe.id,Ue.id,es),disabled:C,className:Te.saveButton,children:""}),s.jsx("button",{onClick:()=>Zn(Oe.id,Ue.id),className:Te.cancelButton,children:""})]})]}):$e?s.jsxs("div",{className:Te.priceEdit,children:[s.jsx("input",{type:"number",value:Mn,onChange:Ns=>ur(Oe.id,Ue.id,Ns.target.value),className:Te.priceInput,min:"0",step:"0.01"}),s.jsxs("span",{className:Te.priceUnitLabel,children:["  ",(r==null?void 0:r.unit_display)||"."]}),s.jsxs("div",{className:Te.editButtons,children:[s.jsx("button",{onClick:()=>Us(Oe.id,Ue.id,Ue.price_id,Mn),disabled:C,className:Te.saveButton,children:""}),s.jsx("button",{onClick:()=>Ms(Oe.id,Ue.id),className:Te.cancelButton,children:""})]})]}):s.jsxs("div",{className:Te.priceSection,children:[s.jsxs("div",{className:Te.priceRow,children:[s.jsxs("div",{className:Te.priceInfo,children:[s.jsx("span",{className:Te.priceLabel,children:":"}),s.jsxs("span",{className:Te.priceValue,children:[parseFloat(Ue.price).toLocaleString("ru-RU"),"   ",(r==null?void 0:r.unit_display)||"."]}),s.jsxs("label",{className:Te.isActiveToggle,children:[s.jsx("input",{type:"checkbox",checked:Ue.is_price_active,onChange:()=>Qa(Oe.id,Ue.id,Ue.price_id,Ue.is_price_active),disabled:C}),s.jsx("span",{className:Te.toggleLabel,children:Ue.is_price_active?"":""})]})]}),s.jsxs("div",{className:Te.priceActions,children:[s.jsx("button",{onClick:()=>g(Ns=>({...Ns,[_t]:Ue.price})),className:Te.editButton,children:""}),Ue.price_id&&s.jsxs("button",{onClick:()=>In(Ue.price_id,Ue.name,Oe.name),className:Te.historyButton,title:" ",children:[s.jsx("i",{className:"fa fa-history"})," "]})]})]}),s.jsxs("div",{className:Te.activeFlagsSection,children:[s.jsx("div",{className:Te.activeFlagsTitle,children:" :"}),s.jsxs("div",{className:Te.activeFlagsList,children:[s.jsxs("label",{className:Te.activeFlagItem,children:[s.jsx("input",{type:"checkbox",checked:Ue.is_active_on_marketplace||!1,onChange:()=>qt(Oe.id,Ue.id,Ue.price_id,"is_active_on_marketplace",Ue.is_active_on_marketplace||!1),disabled:C||Ue.available_quantity===0,title:Ue.available_quantity===0?" .     .":""}),s.jsx("span",{className:Te.flagLabel,children:"  "})]}),s.jsxs("label",{className:Te.activeFlagItem,children:[s.jsx("input",{type:"checkbox",checked:Ue.is_active_for_offline_sale||!1,onChange:()=>qt(Oe.id,Ue.id,Ue.price_id,"is_active_for_offline_sale",Ue.is_active_for_offline_sale||!1),disabled:C||Ue.available_quantity===0,title:Ue.available_quantity===0?" .     .":""}),s.jsx("span",{className:Te.flagLabel,children:"   "})]}),s.jsxs("label",{className:Te.activeFlagItem,children:[s.jsx("input",{type:"checkbox",checked:Ue.is_active_on_own_site||!1,onChange:()=>qt(Oe.id,Ue.id,Ue.price_id,"is_active_on_own_site",Ue.is_active_on_own_site||!1),disabled:C||Ue.available_quantity===0,title:Ue.available_quantity===0?" .     .":""}),s.jsx("span",{className:Te.flagLabel,children:"     "})]})]})]})]}),s.jsxs("div",{className:Te.stockInfo,children:[s.jsxs("div",{className:Te.stockItem,children:[s.jsx("span",{children:":"}),s.jsxs("strong",{children:[Ue.available_quantity," ",(r==null?void 0:r.unit_display)||"."]})]}),s.jsxs("div",{className:Te.stockItem,children:[s.jsx("span",{children:":"}),s.jsxs("strong",{children:[Ue.reserved_quantity," ",(r==null?void 0:r.unit_display)||"."]})]}),s.jsxs("div",{className:Te.stockItem,children:[s.jsx("span",{children:":"}),s.jsxs("strong",{className:Te.defectQuantity,children:[Ue.defect_quantity||0," ",(r==null?void 0:r.unit_display)||"."]})]})]}),Ue.barcode_image&&s.jsxs("div",{className:Te.barcodeSection,children:[s.jsx("h4",{className:Te.barcodeTitle,children:"-"}),s.jsx("div",{className:Te.barcodeImageContainer,children:s.jsx("img",{src:a(Ue.barcode_image),alt:"-",className:Te.barcodeImg})}),Ue.barcode&&s.jsx("p",{className:Te.barcodeNumber,children:Ue.barcode}),s.jsxs("button",{onClick:()=>Ts(Ue),className:Te.printBarcodeButton,title:" -",children:[s.jsx("i",{className:"fa fa-print"}),"  -"]})]})]})]},Ue.id)})}),(()=>{const Ue=Re[Oe.id],_t=ie[Oe.id],$e=pe[Oe.id]||"all";if(_t&&!Ue)return s.jsx("div",{className:Te.locationBatchesSection,children:s.jsx("div",{style:{textAlign:"center",padding:"2rem"},children:s.jsx(Fn,{size:"small"})})});const Vt=(Ue==null?void 0:Ue.batches)||[];if(Vt.length===0&&!_t)return null;const Mn=Ue==null?void 0:Ue.pagination,es=Mn&&Mn.has_next;return s.jsxs("div",{className:Te.locationBatchesSection,children:[s.jsxs("div",{className:Te.locationBatchesHeader,children:[s.jsx("h4",{className:Te.locationBatchesTitle,children:" "}),s.jsxs("div",{className:Te.locationBatchFilters,children:[s.jsx("button",{className:`${Te.filterButton} ${$e==="all"?Te.filterButtonActive:""}`,onClick:()=>ot(Oe.id,"all"),disabled:_t,children:""}),s.jsx("button",{className:`${Te.filterButton} ${$e==="has_stock"?Te.filterButtonActive:""}`,onClick:()=>ot(Oe.id,"has_stock"),disabled:_t,children:" "}),s.jsx("button",{className:`${Te.filterButton} ${$e==="sold_out"?Te.filterButtonActive:""}`,onClick:()=>ot(Oe.id,"sold_out"),disabled:_t,children:""})]})]}),s.jsx("div",{className:Te.locationBatchesList,children:Vt.flatMap((Ns,Dr)=>{var Gi;return(Gi=Ns.lines)==null?void 0:Gi.map((Zr,ao)=>s.jsxs("div",{className:Te.locationBatchItem,children:[s.jsxs("div",{className:Te.locationBatchItemHeader,children:[s.jsxs("div",{className:Te.locationBatchItemInfo,children:[s.jsx("strong",{children:Zr.variantName}),Ns.batchNumber&&s.jsxs("span",{className:Te.batchNumber,children:[": ",Ns.batchNumber]})]}),s.jsx("button",{onClick:()=>Ut(Zr.stockId,Zr.variantName,Zr.locationName,Ns.batchNumber),className:Te.historyButton,title:"  ",children:s.jsx("i",{className:"fa fa-history"})})]}),s.jsxs("div",{className:Te.locationBatchItemDetails,children:[s.jsxs("div",{className:Te.locationBatchDetailItem,children:[s.jsx("span",{children:":"}),s.jsxs("strong",{children:[ls(Zr.quantity)," ",(r==null?void 0:r.unit_display)||"."]})]}),Ns.receivedDate&&s.jsxs("div",{className:Te.locationBatchDetailItem,children:[s.jsx("span",{children:" :"}),s.jsx("span",{children:new Date(Ns.receivedDate).toLocaleDateString("ru-RU")})]}),Ns.supplier&&s.jsxs("div",{className:Te.locationBatchDetailItem,children:[s.jsx("span",{children:":"}),s.jsx("span",{children:Ns.supplier})]})]}),s.jsxs("div",{className:Te.locationBatchItemActions,children:[s.jsxs("button",{className:Te.secondaryButton,onClick:()=>qn(Zr,null,Oe.id),disabled:ee,children:[s.jsx("i",{className:"fa fa-exclamation-triangle"}),"  "]}),s.jsxs("button",{className:Te.secondaryButton,onClick:()=>Tt(Zr,null,Oe.id),disabled:ae,children:[s.jsx("i",{className:"fa fa-trash"}),"  "]})]}),Zr.writeoffs&&Zr.writeoffs.length>0&&s.jsx("div",{className:Te.defectsList,children:Zr.writeoffs.map(Zs=>s.jsxs("div",{className:Te.defectItem,children:[s.jsxs("div",{children:[s.jsxs("strong",{children:[": ",ls(Zs.quantity)," ",(r==null?void 0:r.unit_display)||"."]}),s.jsxs("span",{children:[Zs.reasonDisplay||Zs.reason,Zs.reasonDetail?` - ${Zs.reasonDetail}`:"",Zs.transfer&&s.jsxs("span",{className:Te.transferBadge,children:["( ",Zs.transferNumber,")"]})]})]}),s.jsxs("div",{className:Te.defectActions,children:[!Zs.transfer&&s.jsxs(s.Fragment,{children:[s.jsx("button",{className:Te.linkButton,onClick:()=>Tt(Zr,Zs,Oe.id),disabled:ae,children:""}),s.jsx("button",{className:Te.linkButtonDanger,onClick:()=>Xe(Zs.id),disabled:ae,children:""})]}),Zs.transfer&&s.jsx("span",{className:Te.transferInfo,children:"  "})]})]},Zs.id))}),Zr.defects&&Zr.defects.length>0&&s.jsx("div",{className:Te.defectsList,children:Zr.defects.map(Zs=>s.jsxs("div",{className:Te.defectItem,children:[s.jsxs("div",{children:[s.jsxs("strong",{children:[": ",ls(Zs.quantity)," ",(r==null?void 0:r.unit_display)||"."]}),s.jsx("span",{children:Zs.reason||" "})]}),s.jsxs("div",{className:Te.defectActions,children:[s.jsx("button",{className:Te.linkButton,onClick:()=>qn(Zr,Zs,Oe.id),disabled:ee,children:""}),s.jsx("button",{className:Te.linkButtonDanger,onClick:()=>Qe(Zs.id),disabled:ee,children:""})]})]},Zs.id))})]},`${Dr}-${ao}`))})}),es&&s.jsx("div",{className:Te.loadMoreBatchesContainer,children:s.jsx("button",{onClick:()=>Je(Oe.id),disabled:_t,className:Te.loadMoreButton,children:_t?"...":" "})})]})})()]},Oe.id))})]}),k==="batches"&&s.jsxs("div",{className:Te.batchesSection,children:[s.jsx("div",{className:Te.batchesHeader,children:s.jsxs("div",{children:[s.jsx("h2",{children:"  "}),s.jsx("p",{children:"        ."})]})}),s.jsxs("div",{className:Te.batchControls,children:[s.jsxs("div",{className:Te.filterGroup,children:[s.jsx("button",{className:`${Te.filterButton} ${je==="all"?Te.filterButtonActive:""}`,onClick:()=>qe("all"),children:""}),s.jsx("button",{className:`${Te.filterButton} ${je==="has_stock"?Te.filterButtonActive:""}`,onClick:()=>qe("has_stock"),children:" "}),s.jsx("button",{className:`${Te.filterButton} ${je==="sold_out"?Te.filterButtonActive:""}`,onClick:()=>qe("sold_out"),children:""})]}),s.jsxs("div",{className:Te.sortGroup,children:[s.jsx("label",{children:""}),s.jsxs("select",{value:be,onChange:Oe=>Fe(Oe.target.value),children:[s.jsx("option",{value:"recent",children:" "}),s.jsx("option",{value:"oldest",children:" "}),s.jsx("option",{value:"available",children:" "}),s.jsx("option",{value:"sold_out",children:""}),s.jsx("option",{value:"defect",children:" "})]})]}),s.jsxs("div",{className:Te.pageSizeGroup,children:[s.jsx("label",{children:" "}),s.jsx("select",{value:Ze,onChange:Oe=>Pe(Number(Oe.target.value)),children:[3,5,10].map(Oe=>s.jsx("option",{value:Oe,children:Oe},Oe))})]})]}),jn?s.jsx("div",{style:{display:"flex",justifyContent:"center",padding:"2rem"},children:s.jsx(Fn,{size:"medium"})}):at.length===0?s.jsx("div",{className:Te.emptyState,children:"     .   ,   ."}):s.jsx("div",{className:Te.batchesList,children:at.map(Oe=>s.jsxs("div",{className:Te.batchCard,children:[s.jsxs("div",{className:Te.batchCardHeader,children:[s.jsxs("div",{children:[s.jsxs("div",{className:Te.batchNumber,children:[" ",Oe.batchNumber||" "]}),s.jsxs("div",{className:Te.batchMeta,children:[s.jsx("span",{children:Oe.batchStatusDisplay||"  "}),s.jsxs("span",{children:[": ",qa(Oe.receivedDate)]})]})]}),s.jsxs("div",{className:Te.batchTotals,children:[s.jsxs("div",{children:[s.jsx("span",{children:""}),s.jsxs("strong",{children:[ls(Oe.totalQuantity)," ",(r==null?void 0:r.unit_display)||"."]})]}),s.jsxs("div",{children:[s.jsx("span",{children:""}),s.jsxs("strong",{children:[ls(Oe.totalAvailable)," ",(r==null?void 0:r.unit_display)||"."]})]}),s.jsxs("div",{children:[s.jsx("span",{children:""}),s.jsxs("strong",{children:[ls(Oe.totalReserved)," ",(r==null?void 0:r.unit_display)||"."]})]}),s.jsxs("div",{children:[s.jsx("span",{children:""}),s.jsxs("strong",{children:[ls(Oe.totalDefect)," ",(r==null?void 0:r.unit_display)||"."]})]})]})]}),s.jsx("div",{className:Te.batchLines,children:Oe.lines.map(Ue=>s.jsxs("div",{className:Te.batchLine,children:[s.jsxs("div",{className:Te.batchLineInfo,children:[s.jsxs("div",{className:Te.batchLineTitle,children:[Ue.variantName,s.jsxs("span",{className:Te.batchLineSku,children:["SKU: ",Ue.sku]})]}),s.jsx("div",{className:Te.batchLineLocation,children:Ue.locationName}),s.jsxs("div",{className:Te.batchLineStats,children:[s.jsxs("span",{children:[": ",ls(Ue.quantity)," ",Ue.unit_display||"."]}),s.jsxs("span",{children:[": ",ls(Ue.availableQuantity)," ",Ue.unit_display||"."]}),s.jsxs("span",{children:[": ",ls(Ue.soldQuantity||0)," ",Ue.unit_display||"."]}),Ue.returnedQuantity!==void 0&&Ue.returnedQuantity!==null&&Ue.returnedQuantity>0&&s.jsxs("span",{children:[": ",ls(Ue.returnedQuantity)," ",Ue.unit_display||"."]}),s.jsxs("span",{children:[": ",ls(Ue.reservedQuantity)," ",Ue.unit_display||"."]}),s.jsxs("span",{children:[": ",ls(Ue.defectQuantity)," ",Ue.unit_display||"."]}),Ue.writeoffQuantity!==void 0&&Ue.writeoffQuantity!==null&&Ue.writeoffQuantity>0&&s.jsxs("span",{children:[": ",ls(Ue.writeoffQuantity)," ",Ue.unit_display||"."]}),Ue.inventoryAdjustment!==void 0&&Ue.inventoryAdjustment!==null&&Ue.inventoryAdjustment!==0&&s.jsxs("span",{className:Ue.inventoryAdjustment>0?Te.inventorySurplus:Te.inventoryShortage,children:[Ue.inventoryAdjustment>0?"":"","   : ",ls(Math.abs(Ue.inventoryAdjustment))," ",Ue.unit_display||"."]}),Ue.costPrice!==null&&Ue.costPrice!==void 0&&s.jsxs("span",{children:[": ",parseFloat(Ue.costPrice).toLocaleString("ru-RU")," "]})]})]}),s.jsxs("div",{className:Te.batchLineActions,children:[s.jsxs("button",{className:Te.secondaryButton,onClick:()=>qn(Ue),disabled:ee,children:[s.jsx("i",{className:"fa fa-exclamation-triangle"}),"  "]}),s.jsxs("button",{className:Te.secondaryButton,onClick:()=>Tt(Ue),disabled:ae,children:[s.jsx("i",{className:"fa fa-trash"}),"  "]})]}),Ue.writeoffs&&Ue.writeoffs.length>0&&s.jsx("div",{className:Te.defectsList,children:Ue.writeoffs.map(_t=>s.jsxs("div",{className:Te.defectItem,children:[s.jsxs("div",{children:[s.jsxs("strong",{children:[": ",ls(_t.quantity)," ",(r==null?void 0:r.unit_display)||"."]}),s.jsxs("span",{children:[_t.reason,_t.reasonDetail?` - ${_t.reasonDetail}`:"",_t.transfer&&s.jsxs("span",{className:Te.transferBadge,children:["( ",_t.transferNumber,")"]})]})]}),s.jsxs("div",{className:Te.defectActions,children:[!_t.transfer&&s.jsxs(s.Fragment,{children:[s.jsx("button",{className:Te.linkButton,onClick:()=>{const $e=at.flatMap(Vt=>Vt.lines).find(Vt=>{var Mn;return(Mn=Vt.writeoffs)==null?void 0:Mn.some(es=>es.id===_t.id)});$e&&Tt($e,_t)},disabled:ae,children:""}),s.jsx("button",{className:Te.linkButtonDanger,onClick:()=>Xe(_t.id),disabled:ae,children:""})]}),_t.transfer&&s.jsx("span",{className:Te.transferInfo,children:"  "})]})]},_t.id))}),Ue.defects.length>0&&s.jsx("div",{className:Te.defectsList,children:Ue.defects.map(_t=>s.jsxs("div",{className:Te.defectItem,children:[s.jsxs("div",{children:[s.jsxs("strong",{children:[": ",ls(_t.quantity)," ",(r==null?void 0:r.unit_display)||"."]}),s.jsx("span",{children:_t.reason||" "})]}),s.jsxs("div",{className:Te.defectActions,children:[s.jsx("button",{className:Te.linkButton,onClick:()=>qn(Ue,_t),disabled:ee,children:""}),s.jsx("button",{className:Te.linkButtonDanger,onClick:()=>Qe(_t.id),disabled:ee,children:""})]})]},_t.id))})]},Ue.stockId))})]},Oe.key))}),Qn&&Qn.total_pages>1&&s.jsxs("div",{className:Te.pagination,children:[s.jsx("button",{onClick:()=>he(Oe=>Math.max(Oe-1,1)),disabled:!Qn.has_previous,children:s.jsx("i",{className:"fa fa-chevron-left"})}),s.jsxs("span",{children:[Qn.current_page," / ",Qn.total_pages]}),s.jsx("button",{onClick:()=>he(Oe=>Oe+1),disabled:!Qn.has_next,children:s.jsx("i",{className:"fa fa-chevron-right"})})]}),s.jsxs("div",{className:Te.defectsJournal,children:[s.jsxs("div",{className:Te.defectsHeader,children:[s.jsxs("div",{children:[s.jsx("h3",{children:" "}),s.jsx("p",{children:"     ."})]}),s.jsxs("div",{className:Te.defectControls,children:[s.jsx("label",{children:""}),s.jsxs("select",{value:bt,onChange:Oe=>Ge(Oe.target.value),children:[s.jsx("option",{value:"recent",children:" "}),s.jsx("option",{value:"oldest",children:" "}),s.jsx("option",{value:"quantity",children:" "})]}),s.jsx("label",{children:" "}),s.jsx("select",{value:xe,onChange:Oe=>Ye(Number(Oe.target.value)),children:[10,20,50].map(Oe=>s.jsx("option",{value:Oe,children:Oe},Oe))})]})]}),Mt.length===0?s.jsx("div",{className:Te.emptyState,children:"    .     ."}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:Te.defectsTable,children:[s.jsxs("div",{className:Te.defectsTableHead,children:[s.jsx("span",{children:""}),s.jsx("span",{children:""}),s.jsx("span",{children:""}),s.jsx("span",{children:""}),s.jsx("span",{children:""}),s.jsx("span",{children:""})]}),Mt.map(Oe=>s.jsxs("div",{className:Te.defectsTableRow,children:[s.jsx("span",{children:Oe.createdAt?Kn(Oe.createdAt).format("DD.MM.YYYY HH:mm"):""}),s.jsx("span",{children:Oe.batchNumber||""}),s.jsx("span",{children:Oe.variantName}),s.jsx("span",{children:Oe.locationName}),s.jsxs("span",{children:[ls(Oe.quantity)," ",(r==null?void 0:r.unit_display)||"."]}),s.jsx("span",{children:Oe.reason||""})]},Oe.id))]}),ln&&ln.total_pages>1&&s.jsxs("div",{className:Te.pagination,children:[s.jsx("button",{onClick:()=>De(Oe=>Math.max(Oe-1,1)),disabled:!ln.has_previous,children:s.jsx("i",{className:"fa fa-chevron-left"})}),s.jsxs("span",{children:[ln.current_page," / ",ln.total_pages]}),s.jsx("button",{onClick:()=>De(Oe=>Oe+1),disabled:!ln.has_next,children:s.jsx("i",{className:"fa fa-chevron-right"})})]})]})]})]}),k==="salesHistory"&&s.jsx(l$,{businessSlug:e,productId:t}),k==="analytics"&&s.jsxs("div",{className:Te.analyticsSection,children:[s.jsxs("div",{className:Te.analyticsHeader,children:[s.jsxs("div",{children:[s.jsx("h2",{children:" "}),s.jsx("p",{children:" ,    "})]}),s.jsxs("div",{className:Te.analyticsPeriodSelector,children:[s.jsx("label",{children:":"}),s.jsxs("select",{value:on,onChange:Oe=>vn(Oe.target.value),className:Te.filterSelect,children:[s.jsx("option",{value:"day",children:"  (7 )"}),s.jsx("option",{value:"month",children:"  (90 )"})]})]})]}),Rt?s.jsx("div",{style:{display:"flex",justifyContent:"center",padding:"2rem"},children:s.jsx(Fn,{size:"medium"})}):It?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:Te.analyticsStats,children:[s.jsxs("div",{className:Te.analyticsStatCard,children:[s.jsx("div",{className:Te.statLabel,children:""}),s.jsxs("div",{className:Te.statValue,children:[ls(((bs=It.totals)==null?void 0:bs.revenue)||0)," "]})]}),s.jsxs("div",{className:Te.analyticsStatCard,children:[s.jsx("div",{className:Te.statLabel,children:" "}),s.jsxs("div",{className:Te.statValue,children:[ls(((ws=It.totals)==null?void 0:ws.quantity_sold)||0)," ",It.unit_display||(r==null?void 0:r.unit_display)||"."]})]}),s.jsxs("div",{className:Te.analyticsStatCard,children:[s.jsx("div",{className:Te.statLabel,children:""}),s.jsx("div",{className:Te.statValue,children:ls(((fa=It.totals)==null?void 0:fa.orders_count)||0)})]})]}),s.jsxs("div",{className:Te.analyticsChartSection,children:[s.jsx("h3",{children:" "}),s.jsx("div",{className:Te.chartContainer,children:s.jsx("canvas",{ref:ss,style:{maxHeight:"400px"}})})]}),s.jsxs("div",{className:Te.analyticsSubSection,children:[s.jsx("h3",{children:" "}),It.variant_popularity&&It.variant_popularity.length>0?s.jsxs("div",{className:Te.variantPopularityTable,children:[s.jsxs("div",{className:Te.variantPopularityHead,children:[s.jsx("span",{children:""}),s.jsx("span",{children:"SKU"}),s.jsx("span",{children:""}),s.jsx("span",{children:""}),s.jsx("span",{children:""})]}),It.variant_popularity.map(Oe=>s.jsxs("div",{className:Te.variantPopularityRow,children:[s.jsx("span",{children:Oe.name}),s.jsx("span",{children:Oe.sku||""}),s.jsxs("span",{children:[ls(Oe.revenue)," "]}),s.jsxs("span",{children:[ls(Oe.quantity_sold)," ",(r==null?void 0:r.unit_display)||"."]}),s.jsx("span",{children:ls(Oe.orders_count)})]},Oe.id))]}):s.jsx("div",{className:Te.emptyState,children:"    "})]}),s.jsxs("div",{className:Te.analyticsSubSection,children:[s.jsx("h3",{children:""}),s.jsxs("div",{className:Te.forecastCards,children:[s.jsxs("div",{className:Te.forecastCard,children:[s.jsx("div",{className:Te.forecastTitle,children:" 7 "}),s.jsxs("div",{className:Te.forecastValue,children:[": ",ls(((tr=(ir=It.forecast)==null?void 0:ir.next_7_days)==null?void 0:tr.revenue)||0)," "]}),s.jsxs("div",{className:Te.forecastValue,children:[": ",ls(((Tr=(Di=It.forecast)==null?void 0:Di.next_7_days)==null?void 0:Tr.quantity)||0)," ",It.unit_display||(r==null?void 0:r.unit_display)||"."]})]}),s.jsxs("div",{className:Te.forecastCard,children:[s.jsx("div",{className:Te.forecastTitle,children:" 30 "}),s.jsxs("div",{className:Te.forecastValue,children:[": ",ls(((He=(so=It.forecast)==null?void 0:so.next_30_days)==null?void 0:He.revenue)||0)," "]}),s.jsxs("div",{className:Te.forecastValue,children:[": ",ls(((ft=(Ke=It.forecast)==null?void 0:Ke.next_30_days)==null?void 0:ft.quantity)||0)," ",It.unit_display||(r==null?void 0:r.unit_display)||"."]})]})]})]}),s.jsxs("div",{className:Te.analyticsSubSection,children:[s.jsx("h3",{children:" "}),s.jsxs("div",{className:Te.stockDynamics,children:[s.jsxs("div",{className:Te.stockDynamicsItem,children:[s.jsx("span",{className:Te.stockDynamicsLabel,children:":"}),s.jsxs("span",{className:Te.stockDynamicsValue,children:[ls(((En=(wt=It.stock_dynamics)==null?void 0:wt.current)==null?void 0:En.total_quantity)||0)," ",It.unit_display||(r==null?void 0:r.unit_display)||"."]})]}),s.jsxs("div",{className:Te.stockDynamicsItem,children:[s.jsx("span",{className:Te.stockDynamicsLabel,children:":"}),s.jsxs("span",{className:`${Te.stockDynamicsValue} ${Te.availableQuantity}`,children:[ls(((Jn=(Yn=It.stock_dynamics)==null?void 0:Yn.current)==null?void 0:Jn.available_quantity)||0)," ",It.unit_display||(r==null?void 0:r.unit_display)||"."]})]}),s.jsxs("div",{className:Te.stockDynamicsItem,children:[s.jsx("span",{className:Te.stockDynamicsLabel,children:":"}),s.jsxs("span",{className:`${Te.stockDynamicsValue} ${Te.reservedQuantity}`,children:[ls(((Wa=(Ss=It.stock_dynamics)==null?void 0:Ss.current)==null?void 0:Wa.reserved_quantity)||0)," ",It.unit_display||(r==null?void 0:r.unit_display)||"."]})]}),s.jsxs("div",{className:Te.stockDynamicsItem,children:[s.jsx("span",{className:Te.stockDynamicsLabel,children:":"}),s.jsxs("span",{className:`${Te.stockDynamicsValue} ${Te.defectQuantity}`,children:[ls(((ka=(Nn=It.stock_dynamics)==null?void 0:Nn.current)==null?void 0:ka.defect_quantity)||0)," ",It.unit_display||(r==null?void 0:r.unit_display)||"."]})]})]})]})]}):s.jsx("div",{className:Te.emptyState,children:"   "})]}),U&&s.jsx("div",{className:Te.modalOverlay,children:s.jsxs("div",{className:Te.modalContent,children:[s.jsxs("div",{className:Te.modalHeader,children:[s.jsxs("h3",{children:["   ",r.name]}),s.jsx("button",{className:Te.closeButton,onClick:Gs,children:s.jsx("i",{className:"fa fa-times"})})]}),s.jsxs("div",{className:Te.modalBody,children:[s.jsxs("div",{className:Te.modalGrid,children:[s.jsxs("label",{children:["  ()",s.jsx("input",{type:"text",value:H.batch_number,onChange:Oe=>Ks("batch_number",Oe.target.value)})]}),s.jsxs("label",{children:[" ",s.jsx("input",{type:"date",value:H.received_date,onChange:Oe=>Ks("received_date",Oe.target.value)})]}),s.jsxs("label",{children:["",s.jsx("input",{type:"text",value:H.supplier,onChange:Oe=>Ks("supplier",Oe.target.value),placeholder:" "})]}),s.jsxs("label",{children:["",s.jsx("textarea",{value:H.notes,onChange:Oe=>Ks("notes",Oe.target.value),rows:2,placeholder:"   "})]})]}),s.jsxs("div",{className:Te.batchLinesBuilder,children:[s.jsxs("div",{className:Te.batchLinesHeader,children:[s.jsx("h4",{children:"  "}),s.jsxs("button",{type:"button",className:Te.linkButton,onClick:vr,children:[s.jsx("i",{className:"fa fa-plus"}),"  "]})]}),H.stocks.map(Oe=>{const Ue=(r.locations||[]).find($e=>Number($e.id)===Number(Oe.locationId)),_t=(Ue==null?void 0:Ue.variants)||[];return s.jsxs("div",{className:Te.batchLineRow,children:[s.jsx("div",{className:Te.batchLineColumn,children:s.jsxs("label",{children:["",s.jsxs("select",{value:Oe.locationId,onChange:$e=>Ja(Oe.tempId,$e.target.value),children:[s.jsx("option",{value:"",children:" "}),r.locations.map($e=>s.jsx("option",{value:$e.id,children:$e.name},$e.id))]})]})}),s.jsx("div",{className:Te.batchLineColumn,children:s.jsxs("label",{children:["",s.jsxs("select",{value:Oe.variantId,onChange:$e=>ji(Oe.tempId,$e.target.value),disabled:!Oe.locationId,children:[s.jsx("option",{value:"",children:" "}),_t.map($e=>s.jsxs("option",{value:$e.id,disabled:!$e.price_id,children:[$e.name,$e.price_id?"":" ( )"]},$e.id))]})]})}),s.jsx("div",{className:Te.batchLineColumn,children:s.jsxs("label",{children:["",s.jsx("input",{type:"number",min:"0",value:Oe.quantity,onChange:$e=>aa(Oe.tempId,"quantity",$e.target.value)})]})}),s.jsx("div",{className:Te.batchLineColumn,children:s.jsxs("label",{children:["",s.jsx("input",{type:"number",min:"0",step:"0.01",value:Oe.cost_price,onChange:$e=>aa(Oe.tempId,"cost_price",$e.target.value),placeholder:""})]})}),s.jsx("div",{className:Te.batchLineColumn,children:s.jsxs("label",{children:["",s.jsx("input",{type:"number",min:"0",value:Oe.reserved_quantity,onChange:$e=>aa(Oe.tempId,"reserved_quantity",$e.target.value)})]})}),s.jsxs("div",{className:Te.batchLineToggles,children:[s.jsxs("label",{children:[s.jsx("input",{type:"checkbox",checked:Oe.is_available_for_sale,onChange:$e=>aa(Oe.tempId,"is_available_for_sale",$e.target.checked)}),"  "]}),s.jsxs("label",{children:[s.jsx("input",{type:"checkbox",checked:Oe.is_active_on_marketplace,onChange:$e=>aa(Oe.tempId,"is_active_on_marketplace",$e.target.checked)})," "]}),s.jsxs("label",{children:[s.jsx("input",{type:"checkbox",checked:Oe.is_active_for_offline_sale,onChange:$e=>aa(Oe.tempId,"is_active_for_offline_sale",$e.target.checked)})," "]}),s.jsxs("label",{children:[s.jsx("input",{type:"checkbox",checked:Oe.is_active_on_own_site,onChange:$e=>aa(Oe.tempId,"is_active_on_own_site",$e.target.checked)})," "]})]}),s.jsx("button",{type:"button",className:Te.removeLineButton,onClick:()=>Ws(Oe.tempId),children:""})]},Oe.tempId)}),J&&s.jsx("div",{className:Te.errorMessage,children:J})]})]}),s.jsxs("div",{className:Te.modalFooter,children:[s.jsx("button",{className:Te.secondaryButton,onClick:Gs,disabled:K,children:""}),s.jsx("button",{className:Te.primaryButton,onClick:Rs,disabled:K,children:K?"...":" "})]})]})}),V.open&&s.jsx("div",{className:Te.modalOverlay,children:s.jsxs("div",{className:Te.modalContent,children:[s.jsxs("div",{className:Te.modalHeader,children:[s.jsx("h3",{children:V.defectId?" ":" "}),s.jsx("button",{className:Te.closeButton,onClick:it,children:s.jsx("i",{className:"fa fa-times"})})]}),s.jsxs("div",{className:Te.modalBody,children:[s.jsxs("div",{className:Te.defectMeta,children:[s.jsxs("div",{className:Te.defectMetaRow,children:[s.jsx("span",{className:Te.defectMetaLabel,children:":"}),s.jsx("span",{className:Te.defectMetaValue,children:V.batchNumber||" "})]}),s.jsxs("div",{className:Te.defectMetaRow,children:[s.jsx("span",{className:Te.defectMetaLabel,children:":"}),s.jsx("span",{className:Te.defectMetaValue,children:V.variantName})]}),s.jsxs("div",{className:Te.defectMetaRow,children:[s.jsx("span",{className:Te.defectMetaLabel,children:":"}),s.jsx("span",{className:Te.defectMetaValue,children:V.locationName})]}),s.jsxs("div",{className:Te.defectMetaRow,children:[s.jsx("span",{className:Te.defectMetaLabel,children:"  :"}),s.jsxs("span",{className:`${Te.defectMetaValue} ${Te.availableQuantity}`,children:[ls(V.availableQuantity)," ",(r==null?void 0:r.unit_display)||"."]})]})]}),s.jsxs("label",{children:[" ",s.jsx("input",{type:"number",min:"1",max:V.availableQuantity,value:V.quantity,onChange:Oe=>{const Ue=Oe.target.value;if(A&&G(""),Ue===""){M($e=>({...$e,quantity:""}));return}const _t=Number(Ue);if(!isNaN(_t)&&_t>0){const $e=Math.min(_t,V.availableQuantity);M(Vt=>({...Vt,quantity:$e.toString()}))}},placeholder:" "}),V.availableQuantity>0&&s.jsxs("span",{className:Te.inputHint,children:[": ",ls(V.availableQuantity)," ",(r==null?void 0:r.unit_display)||"."]})]}),s.jsxs("label",{children:[" ",s.jsx("textarea",{rows:4,value:V.reason,onChange:Oe=>M(Ue=>({...Ue,reason:Oe.target.value})),placeholder:"  , :  ,    .."})]}),A&&s.jsx("div",{className:Te.errorMessage,children:A})]}),s.jsxs("div",{className:Te.modalFooter,children:[s.jsx("button",{className:Te.secondaryButton,onClick:it,disabled:ee,children:""}),s.jsx("button",{className:Te.primaryButton,onClick:Le,disabled:ee,children:ee?"...":""})]})]})}),Q.open&&s.jsx("div",{className:Te.modalOverlay,children:s.jsxs("div",{className:Te.modalContent,children:[s.jsxs("div",{className:Te.modalHeader,children:[s.jsx("h3",{children:Q.writeoffId?" ":" "}),s.jsx("button",{className:Te.closeButton,onClick:Wt,children:s.jsx("i",{className:"fa fa-times"})})]}),s.jsxs("div",{className:Te.modalBody,children:[s.jsxs("div",{className:Te.defectMeta,children:[s.jsxs("div",{className:Te.defectMetaRow,children:[s.jsx("span",{className:Te.defectMetaLabel,children:":"}),s.jsx("span",{className:Te.defectMetaValue,children:Q.batchNumber||" "})]}),s.jsxs("div",{className:Te.defectMetaRow,children:[s.jsx("span",{className:Te.defectMetaLabel,children:":"}),s.jsx("span",{className:Te.defectMetaValue,children:Q.variantName})]}),s.jsxs("div",{className:Te.defectMetaRow,children:[s.jsx("span",{className:Te.defectMetaLabel,children:":"}),s.jsx("span",{className:Te.defectMetaValue,children:Q.locationName})]}),s.jsxs("div",{className:Te.defectMetaRow,children:[s.jsx("span",{className:Te.defectMetaLabel,children:":"}),s.jsxs("span",{className:Te.defectMetaValue,children:[ls(Q.availableQuantity)," ",(r==null?void 0:r.unit_display)||"."]})]})]}),s.jsxs("label",{children:["  ",s.jsx("input",{type:"number",step:(r==null?void 0:r.unit_display)==="."?"1":"0.001",min:"0.001",max:Q.availableQuantity,value:Q.quantity,onChange:Oe=>{const Ue=Oe.target.value;if(re&&oe(""),Ue===""){Y($e=>({...$e,quantity:""}));return}const _t=Number(Ue);if(!isNaN(_t)&&_t>0){const $e=Math.min(_t,Q.availableQuantity);Y(Vt=>({...Vt,quantity:$e.toString()}))}},placeholder:" "}),Q.availableQuantity>0&&s.jsxs("span",{className:Te.inputHint,children:[": ",ls(Q.availableQuantity)," ",(r==null?void 0:r.unit_display)||"."]})]}),s.jsxs("label",{children:[" ",s.jsx("div",{className:Te.reasonSelector,children:[{value:"expired",label:"  ",icon:"fa-calendar-times"},{value:"damaged",label:"",icon:"fa-exclamation-triangle"},{value:"lost",label:"",icon:"fa-search"},{value:"other",label:"",icon:"fa-ellipsis-h"}].map(Oe=>s.jsxs("button",{type:"button",className:`${Te.reasonOption} ${Q.reason===Oe.value?Te.reasonOptionActive:""}`,onClick:()=>Y(Ue=>({...Ue,reason:Oe.value})),children:[s.jsx("i",{className:`fa ${Oe.icon}`}),s.jsx("span",{children:Oe.label})]},Oe.value))})]}),s.jsxs("label",{children:[" ",s.jsx("textarea",{rows:4,value:Q.reasonDetail,onChange:Oe=>Y(Ue=>({...Ue,reasonDetail:Oe.target.value})),placeholder:"  , :  ,      .."})]}),re&&s.jsx("div",{className:Te.errorMessage,children:re})]}),s.jsxs("div",{className:Te.modalFooter,children:[s.jsx("button",{className:Te.secondaryButton,onClick:Wt,disabled:ae,children:""}),s.jsx("button",{className:Te.primaryButton,onClick:zt,disabled:ae,children:ae?"...":Q.writeoffId?"":""})]})]})}),me.open&&s.jsx("div",{className:Te.modalOverlay,children:s.jsxs("div",{className:Te.modalContent,style:{maxWidth:"100%",maxHeight:"90vh",overflowY:"auto"},children:[s.jsxs("div",{className:Te.modalHeader,children:[s.jsx("h3",{children:"  "}),s.jsx("button",{className:Te.closeButton,onClick:Ft,children:s.jsx("i",{className:"fa fa-times"})})]}),s.jsx("div",{className:Te.modalBody,children:me.loading?s.jsx("div",{style:{textAlign:"center",padding:"2rem"},children:s.jsx(Fn,{size:"medium"})}):me.history.length===0?s.jsx("div",{style:{textAlign:"center",padding:"2rem",color:"var(--silver-whisper)"},children:"  "}):s.jsxs("div",{children:[s.jsxs("div",{style:{marginBottom:"1rem",padding:"1rem",background:"var(--onyx-midnight)",borderRadius:"8px",border:"1px solid var(--gilded-shadow)"},children:[s.jsxs("div",{children:[s.jsx("strong",{children:":"})," ",me.variantName]}),s.jsxs("div",{children:[s.jsx("strong",{children:":"})," ",me.locationName]}),me.batchNumber&&s.jsxs("div",{children:[s.jsx("strong",{children:":"})," ",me.batchNumber]})]}),s.jsx("div",{className:Te.historyContainer,children:me.history.map((Oe,Ue)=>s.jsxs("div",{className:Te.historyDateGroup,children:[s.jsxs("div",{className:Te.historyDateHeader,children:[s.jsx("i",{className:"fa fa-calendar"}),s.jsx("span",{children:Oe.date_display})]}),s.jsx("div",{className:Te.historyRecords,children:Oe.records.map((_t,$e)=>{const Vt=_t.quantity>0,Mn=Math.abs(_t.quantity);return s.jsxs("div",{className:Te.historyRecord,children:[s.jsxs("div",{className:Te.historyRecordHeader,children:[s.jsxs("span",{className:Te.historyRecordType,children:[_t.type==="received"&&s.jsx("i",{className:"fa fa-arrow-down",style:{color:"#4ade80"}}),_t.type==="sale"&&s.jsx("i",{className:"fa fa-shopping-cart",style:{color:"#f87171"}}),_t.type==="return"&&s.jsx("i",{className:"fa fa-undo",style:{color:"#4ade80"}}),_t.type==="defect"&&s.jsx("i",{className:"fa fa-exclamation-triangle",style:{color:"#fbbf24"}}),_t.type==="writeoff"&&s.jsx("i",{className:"fa fa-trash",style:{color:"#f87171"}}),_t.type==="inventory"&&s.jsx("i",{className:"fa fa-clipboard-check",style:{color:_t.quantity>0?"#4ade80":"#f87171"}}),_t.type_display]}),s.jsx("span",{className:Te.historyRecordTime,children:_t.date?new Date(_t.date).toLocaleTimeString("ru-RU",{hour:"2-digit",minute:"2-digit"}):""})]}),s.jsxs("div",{className:Te.historyRecordQuantity,style:{color:Vt?"#4ade80":"#f87171"},children:[Vt?"+":"-",ls(Mn)," ",(r==null?void 0:r.unit_display)||"."]}),_t.user&&s.jsxs("div",{className:Te.historyRecordUser,children:[s.jsx("i",{className:"fa fa-user"}),_t.user]}),_t.description&&s.jsx("div",{className:Te.historyRecordDescription,children:_t.description}),_t.receipt_number&&s.jsxs("div",{className:Te.historyRecordReceipt,children:[s.jsx("i",{className:"fa fa-receipt"}),": ",_t.receipt_number]})]},$e)})})]},Ue))})]})}),s.jsx("div",{className:Te.modalFooter,children:s.jsx("button",{className:Te.primaryButton,onClick:Ft,children:""})})]})}),Ne.open&&s.jsx("div",{className:Te.modalOverlay,children:s.jsxs("div",{className:Te.modalContent,style:{maxWidth:"100%",maxHeight:"90vh",display:"flex",flexDirection:"column"},children:[s.jsxs("div",{className:Te.modalHeader,children:[s.jsx("h3",{children:"  "}),s.jsxs("div",{style:{display:"flex",gap:"10px",alignItems:"center"},children:[s.jsxs("button",{onClick:Gt,className:Te.exportButton,title:"  Excel",children:[s.jsx("i",{className:"fa fa-file-excel"})," Excel"]}),s.jsx("button",{className:Te.closeButton,onClick:gn,children:s.jsx("i",{className:"fa fa-times"})})]})]}),s.jsx("div",{className:Te.modalBody,style:{flex:1,overflowY:"auto"},onScroll:Oe=>{const Ue=Oe.target;Ue.scrollHeight-Ue.scrollTop-Ue.clientHeight<100&&Ne.hasMore&&!Ne.loadingMore&&Xn()},children:Ne.loading?s.jsx("div",{style:{textAlign:"center",padding:"2rem"},children:s.jsx(Fn,{size:"medium"})}):Ne.history.length===0?s.jsx("div",{style:{textAlign:"center",padding:"2rem",color:"var(--silver-whisper)"},children:"  "}):s.jsxs("div",{children:[s.jsxs("div",{style:{marginBottom:"1rem",padding:"1rem",background:"var(--onyx-midnight)",borderRadius:"8px",border:"1px solid var(--gilded-shadow)"},children:[s.jsxs("div",{children:[s.jsx("strong",{children:":"})," ",Ne.variantName]}),s.jsxs("div",{children:[s.jsx("strong",{children:":"})," ",Ne.locationName]})]}),s.jsx("div",{className:Te.historyContainer,children:Ne.history.map((Oe,Ue)=>s.jsxs("div",{className:Te.historyDateGroup,children:[s.jsxs("div",{className:Te.historyDateHeader,children:[s.jsx("i",{className:"fa fa-calendar"}),s.jsx("span",{children:Oe.date_display})]}),s.jsx("div",{className:Te.historyRecords,children:Oe.records.map((_t,$e)=>{const Vt=_t.quantity>0,Mn=Math.abs(_t.quantity);return s.jsxs("div",{className:Te.historyRecord,children:[s.jsxs("div",{className:Te.historyRecordHeader,children:[s.jsxs("span",{className:Te.historyRecordType,children:[_t.type==="received"&&s.jsx("i",{className:"fa fa-arrow-down",style:{color:"#4ade80"}}),_t.type==="sale"&&s.jsx("i",{className:"fa fa-shopping-cart",style:{color:"#f87171"}}),_t.type==="return"&&s.jsx("i",{className:"fa fa-undo",style:{color:"#4ade80"}}),_t.type==="defect"&&s.jsx("i",{className:"fa fa-exclamation-triangle",style:{color:"#fbbf24"}}),_t.type==="writeoff"&&s.jsx("i",{className:"fa fa-trash",style:{color:"#f87171"}}),_t.type==="inventory"&&s.jsx("i",{className:"fa fa-clipboard-check",style:{color:_t.quantity>0?"#4ade80":"#f87171"}}),_t.type_display]}),s.jsx("span",{className:Te.historyRecordTime,children:_t.date?new Date(_t.date).toLocaleTimeString("ru-RU",{hour:"2-digit",minute:"2-digit"}):""})]}),s.jsxs("div",{className:Te.historyRecordQuantity,style:{color:Vt?"#4ade80":"#f87171"},children:[Vt?"+":"-",ls(Mn)," ",(r==null?void 0:r.unit_display)||"."]}),_t.user&&s.jsxs("div",{className:Te.historyRecordUser,children:[s.jsx("i",{className:"fa fa-user"}),_t.user]}),_t.description&&s.jsx("div",{className:Te.historyRecordDescription,children:_t.description}),_t.receipt_number&&s.jsxs("div",{className:Te.historyRecordReceipt,children:[s.jsx("i",{className:"fa fa-receipt"}),": ",_t.receipt_number]})]},$e)})})]},Ue))}),Ne.loadingMore&&s.jsx("div",{style:{textAlign:"center",padding:"1rem"},children:s.jsx(Fn,{size:"small"})}),Ne.hasMore&&!Ne.loadingMore&&s.jsx("div",{style:{textAlign:"center",padding:"1rem"},children:s.jsx("button",{className:Te.loadMoreButton,onClick:Xn,children:" "})})]})}),s.jsx("div",{className:Te.modalFooter,children:s.jsx("button",{className:Te.primaryButton,onClick:gn,children:""})})]})})]})},T0=async e=>{if(!e){console.error("PDF    ");return}try{const t=await fetch(e.startsWith("http")?e:vS(e),{credentials:"include"});if(!t.ok)throw new Error("  PDF");const n=await t.blob(),a=URL.createObjectURL(n),r=window.open(a,"_blank");return setTimeout(()=>URL.revokeObjectURL(a),1e4),r}catch(t){console.error("   PDF:",t);const n=e.startsWith("http")?e:vS(e);window.open(n,"_blank")}},qm=async e=>{const t=await T0(e);t&&setTimeout(()=>{try{t.print()}catch{console.log("     JS.  PDF    Ctrl+P.")}},1e3)},uHe="_container_197hu_5",dHe="_header_197hu_14",hHe="_businessInfo_197hu_36",fHe="_bonusHistoryButton_197hu_45",mHe="_content_197hu_68",pHe="_leftColumn_197hu_76",gHe="_rightColumn_197hu_85",_He="_searchCard_197hu_94",vHe="_cartCard_197hu_95",xHe="_searchHeader_197hu_106",bHe="_scannerButton_197hu_123",yHe="_filtersSection_197hu_144",wHe="_filtersSectionHeader_197hu_150",jHe="_searchSection_197hu_165",CHe="_filterRow_197hu_170",SHe="_searchableSelectWrapper_197hu_177",NHe="_searchableLabel_197hu_183",kHe="_requiredMark_197hu_198",IHe="_searchableSelect_197hu_177",EHe="_searchableControl_197hu_206",THe="_disabled_197hu_220",DHe="_searchableValue_197hu_238",AHe="_selectedName_197hu_246",MHe="_selectedSubLabel_197hu_255",RHe="_searchablePlaceholder_197hu_266",BHe="_searchableCaret_197hu_271",OHe="_searchableDropdown_197hu_287",LHe="_searchableSearch_197hu_300",$He="_searchableList_197hu_321",PHe="_searchableEmpty_197hu_326",FHe="_searchableItem_197hu_334",HHe="_searchableItemActive_197hu_346",qHe="_searchableItemName_197hu_352",VHe="_searchableItemSubLabel_197hu_359",zHe="_searchInputGroup_197hu_366",UHe="_searchIcon_197hu_383",WHe="_searchInput_197hu_366",YHe="_searchButton_197hu_416",GHe="_filterCheckbox_197hu_451",QHe="_itemBatchSelection_197hu_487",XHe="_fifoCheckboxGroup_197hu_495",KHe="_fifoCheckboxLabel_197hu_500",ZHe="_fifoLabel_197hu_510",JHe="_availableQtyBadge_197hu_518",eqe="_fifoCheckbox_197hu_495",tqe="_fifoTooltipIcon_197hu_536",nqe="_fifoTooltip_197hu_536",sqe="_batchSelectWrapper_197hu_575",aqe="_batchSelectLabel_197hu_582",rqe="_batchSelect_197hu_575",iqe="_noPrice_197hu_702",oqe="_productsGrid_197hu_710",cqe="_productCard_197hu_721",lqe="_selected_197hu_246",uqe="_productImageWrapper_197hu_778",dqe="_productImage_197hu_778",hqe="_discountBadgeOverlay_197hu_809",fqe="_productInfo_197hu_824",mqe="_productHeader_197hu_833",pqe="_productTitle_197hu_840",gqe="_productSku_197hu_854",_qe="_attributesContainer_197hu_863",vqe="_attributes_197hu_863",xqe="_attributeBadge_197hu_878",bqe="_expandAttributesButton_197hu_903",yqe="_productDetails_197hu_931",wqe="_priceSection_197hu_938",jqe="_priceContainer_197hu_944",Cqe="_priceRow_197hu_950",Sqe="_regularPrice_197hu_957",Nqe="_discountedPrice_197hu_964",kqe="_originalPrice_197hu_971",Iqe="_stockInfo_197hu_986",Eqe="_stockBadge_197hu_990",Tqe="_stockIcon_197hu_1001",Dqe="_inStock_197hu_1006",Aqe="_outOfStock_197hu_1012",Mqe="_productActions_197hu_1018",Rqe="_addToCartButton_197hu_1026",Bqe="_cartButton1_197hu_1064",Oqe="_cartButton2_197hu_1068",Lqe="_cartHeader_197hu_1073",$qe="_cartBody_197hu_1081",Pqe="_cartItems_197hu_1085",Fqe="_emptyCart_197hu_1092",Hqe="_cartItem_197hu_1085",qqe="_cartItemImage_197hu_1106",Vqe="_cartItemInfo_197hu_1125",zqe="_cartItemAttributes_197hu_1142",Uqe="_cartItemSku_197hu_1156",Wqe="_cartItemControls_197hu_1161",Yqe="_removeItemButton_197hu_1171",Gqe="_quantityControl_197hu_1189",Qqe="_quantityButton_197hu_1198",Xqe="_quantityInputWrapper_197hu_1232",Kqe="_quantityInput_197hu_1232",Zqe="_quantityUnit_197hu_1254",Jqe="_cartItemPrice_197hu_1263",eVe="_cartFooter_197hu_1273",tVe="_cartActions_197hu_1291",nVe="_clearCartButton_197hu_1296",sVe="_checkoutButton_197hu_1297",aVe="_modalOverlay_197hu_1507",rVe="_modal_197hu_1507",iVe="_modalHeader_197hu_1531",oVe="_modalBody_197hu_1562",cVe="_bonusSection_197hu_1570",lVe="_bonusSectionHeader_197hu_1580",uVe="_bonusInfo_197hu_1595",dVe="_bonusBalanceDisplay_197hu_1602",hVe="_bonusTierDisplay_197hu_1603",fVe="_bonusBalanceLabel_197hu_1613",mVe="_bonusTierLabel_197hu_1614",pVe="_bonusBalanceValue_197hu_1619",gVe="_bonusBalanceHint_197hu_1628",_Ve="_bonusTierValue_197hu_1635",vVe="_bonusHistory_197hu_45",xVe="_bonusHistoryTitle_197hu_1645",bVe="_bonusHistoryList_197hu_1652",yVe="_bonusHistoryItem_197hu_1660",wVe="_bonusHistoryType_197hu_1671",jVe="_bonusHistoryAmount_197hu_1676",CVe="_positive_197hu_1681",SVe="_negative_197hu_1685",NVe="_bonusHistoryDate_197hu_1689",kVe="_bonusPredictionCard_197hu_1694",IVe="_bonusPredictionLabel_197hu_1703",EVe="_bonusPredictionValue_197hu_1709",TVe="_bonusPredictionHint_197hu_1715",DVe="_bonusRedemptionButtonWrapper_197hu_1722",AVe="_bonusRedemptionToggleButton_197hu_1728",MVe="_active_197hu_1436",RVe="_bonusAccrualModeSelector_197hu_1768",BVe="_bonusAccrualModeOptions_197hu_1784",OVe="_bonusModeOption_197hu_1790",LVe="_bonusModeHint_197hu_1832",$Ve="_bonusAccrualControl_197hu_1843",PVe="_bonusRedemptionControl_197hu_1844",FVe="_bonusRedemptionLabel_197hu_1861",HVe="_bonusRedemptionType_197hu_1871",qVe="_radioOption_197hu_1881",VVe="_bonusRedemptionInputWrapper_197hu_1909",zVe="_bonusRedemptionInput_197hu_1909",UVe="_hasValue_197hu_1957",WVe="_inputError_197hu_1962",YVe="_inputSuffix_197hu_1971",GVe="_bonusRedemptionPreview_197hu_1978",QVe="_bonusRedemptionPreviewError_197hu_1992",XVe="_bonusRedemptionPreviewValue_197hu_1997",KVe="_bonusRedemptionError_197hu_2007",ZVe="_bonusRedemptionHint_197hu_2016",JVe="_bonusPercentInput_197hu_2023",eze="_modalFooter_197hu_2033",tze="_secondaryButton_197hu_2042",nze="_primaryButton_197hu_2043",sze="_successButton_197hu_2044",aze="_receiptAndBonusContainer_197hu_2077",rze="_receiptPreview_197hu_2096",ize="_receiptHeader_197hu_2105",oze="_receiptItems_197hu_2120",cze="_receiptItem_197hu_2120",lze="_paymentForm_197hu_2152",uze="_formGroup_197hu_2156",dze="_qrButtonLarge_197hu_2190",hze="_qrButtonText_197hu_2215",fze="_qrButtonDescription_197hu_2220",mze="_error_197hu_2396",pze="_empty_197hu_1092",gze="_discountButton_197hu_2616",_ze="_discountInfo_197hu_2679",vze="_discountLabel_197hu_2689",xze="_discountValue_197hu_2693",bze="_discountControls_197hu_2771",yze="_discountType_197hu_2777",wze="_radioLabel_197hu_2783",jze="_discountInput_197hu_2801",Cze="_inputUnit_197hu_2829",Sze="_currentDiscountInfo_197hu_2836",Nze="_nowPrice_197hu_2849",kze="_oldPrice_197hu_2855",Ize="_discountValueAccent_197hu_2861",Eze="_cartTotals_197hu_2900",Tze="_totalRow_197hu_2905",Dze="_grandTotal_197hu_2912",Aze="_receiptItemMain_197hu_2930",Mze="_receiptItemName_197hu_2936",Rze="_receiptItemDetails_197hu_2941",Bze="_receiptItemAttribute_197hu_2948",Oze="_attributeName_197hu_2955",Lze="_attributeValue_197hu_2959",$ze="_receiptItemPrices_197hu_2963",Pze="_receiptPriceRow_197hu_2968",Fze="_receiptDiscountRow_197hu_2969",Hze="_receiptTotalRow_197hu_2970",qze="_priceLabel_197hu_2976",Vze="_priceValue_197hu_2981",zze="_receiptSummary_197hu_3004",Uze="_receiptSummarySection_197hu_3010",Wze="_receiptSummaryRow_197hu_3014",Yze="_receiptSummarySaleRow_197hu_3022",Gze="_summaryDiscount_197hu_3032",Qze="_receiptTotalSection_197hu_3037",Xze="_receiptGrandTotal_197hu_3050",Kze="_receiptCompleted_197hu_3352",Zze="_receiptImageContainer_197hu_3359",Jze="_receiptImage_197hu_3359",eUe="_receiptInfo_197hu_3370",tUe="_receiptBonusInfo_197hu_3390",nUe="_bonusPercentInfo_197hu_3418",sUe="_receiptLoading_197hu_3425",aUe="_searchResults_197hu_3461",ze={container:uHe,header:dHe,businessInfo:hHe,bonusHistoryButton:fHe,content:mHe,leftColumn:pHe,rightColumn:gHe,searchCard:_He,cartCard:vHe,searchHeader:xHe,scannerButton:bHe,filtersSection:yHe,filtersSectionHeader:wHe,searchSection:jHe,filterRow:CHe,searchableSelectWrapper:SHe,searchableLabel:NHe,requiredMark:kHe,searchableSelect:IHe,searchableControl:EHe,disabled:THe,searchableValue:DHe,selectedName:AHe,selectedSubLabel:MHe,searchablePlaceholder:RHe,searchableCaret:BHe,searchableDropdown:OHe,searchableSearch:LHe,searchableList:$He,searchableEmpty:PHe,searchableItem:FHe,searchableItemActive:HHe,searchableItemName:qHe,searchableItemSubLabel:VHe,searchInputGroup:zHe,searchIcon:UHe,searchInput:WHe,searchButton:YHe,filterCheckbox:GHe,itemBatchSelection:QHe,fifoCheckboxGroup:XHe,fifoCheckboxLabel:KHe,fifoLabel:ZHe,availableQtyBadge:JHe,fifoCheckbox:eqe,fifoTooltipIcon:tqe,fifoTooltip:nqe,batchSelectWrapper:sqe,batchSelectLabel:aqe,batchSelect:rqe,noPrice:iqe,productsGrid:oqe,productCard:cqe,selected:lqe,productImageWrapper:uqe,productImage:dqe,discountBadgeOverlay:hqe,productInfo:fqe,productHeader:mqe,productTitle:pqe,productSku:gqe,attributesContainer:_qe,attributes:vqe,attributeBadge:xqe,expandAttributesButton:bqe,productDetails:yqe,priceSection:wqe,priceContainer:jqe,priceRow:Cqe,regularPrice:Sqe,discountedPrice:Nqe,originalPrice:kqe,stockInfo:Iqe,stockBadge:Eqe,stockIcon:Tqe,inStock:Dqe,outOfStock:Aqe,productActions:Mqe,addToCartButton:Rqe,cartButton1:Bqe,cartButton2:Oqe,cartHeader:Lqe,cartBody:$qe,cartItems:Pqe,emptyCart:Fqe,cartItem:Hqe,cartItemImage:qqe,cartItemInfo:Vqe,cartItemAttributes:zqe,cartItemSku:Uqe,cartItemControls:Wqe,removeItemButton:Yqe,quantityControl:Gqe,quantityButton:Qqe,quantityInputWrapper:Xqe,quantityInput:Kqe,quantityUnit:Zqe,cartItemPrice:Jqe,cartFooter:eVe,cartActions:tVe,clearCartButton:nVe,checkoutButton:sVe,modalOverlay:aVe,modal:rVe,modalHeader:iVe,modalBody:oVe,bonusSection:cVe,bonusSectionHeader:lVe,bonusInfo:uVe,bonusBalanceDisplay:dVe,bonusTierDisplay:hVe,bonusBalanceLabel:fVe,bonusTierLabel:mVe,bonusBalanceValue:pVe,bonusBalanceHint:gVe,bonusTierValue:_Ve,bonusHistory:vVe,bonusHistoryTitle:xVe,bonusHistoryList:bVe,bonusHistoryItem:yVe,bonusHistoryType:wVe,bonusHistoryAmount:jVe,positive:CVe,negative:SVe,bonusHistoryDate:NVe,bonusPredictionCard:kVe,bonusPredictionLabel:IVe,bonusPredictionValue:EVe,bonusPredictionHint:TVe,bonusRedemptionButtonWrapper:DVe,bonusRedemptionToggleButton:AVe,active:MVe,bonusAccrualModeSelector:RVe,bonusAccrualModeOptions:BVe,bonusModeOption:OVe,bonusModeHint:LVe,bonusAccrualControl:$Ve,bonusRedemptionControl:PVe,bonusRedemptionLabel:FVe,bonusRedemptionType:HVe,radioOption:qVe,bonusRedemptionInputWrapper:VVe,bonusRedemptionInput:zVe,hasValue:UVe,inputError:WVe,inputSuffix:YVe,bonusRedemptionPreview:GVe,bonusRedemptionPreviewError:QVe,bonusRedemptionPreviewValue:XVe,bonusRedemptionError:KVe,bonusRedemptionHint:ZVe,bonusPercentInput:JVe,modalFooter:eze,secondaryButton:tze,primaryButton:nze,successButton:sze,receiptAndBonusContainer:aze,receiptPreview:rze,receiptHeader:ize,receiptItems:oze,receiptItem:cze,paymentForm:lze,formGroup:uze,qrButtonLarge:dze,qrButtonText:hze,qrButtonDescription:fze,error:mze,empty:pze,discountButton:gze,discountInfo:_ze,discountLabel:vze,discountValue:xze,discountControls:bze,discountType:yze,radioLabel:wze,discountInput:jze,inputUnit:Cze,currentDiscountInfo:Sze,nowPrice:Nze,oldPrice:kze,discountValueAccent:Ize,cartTotals:Eze,totalRow:Tze,grandTotal:Dze,receiptItemMain:Aze,receiptItemName:Mze,receiptItemDetails:Rze,receiptItemAttribute:Bze,attributeName:Oze,attributeValue:Lze,receiptItemPrices:$ze,receiptPriceRow:Pze,receiptDiscountRow:Fze,receiptTotalRow:Hze,priceLabel:qze,priceValue:Vze,receiptSummary:zze,receiptSummarySection:Uze,receiptSummaryRow:Wze,receiptSummarySaleRow:Yze,summaryDiscount:Gze,receiptTotalSection:Qze,receiptGrandTotal:Xze,receiptCompleted:Kze,receiptImageContainer:Zze,receiptImage:Jze,receiptInfo:eUe,receiptBonusInfo:tUe,bonusPercentInfo:nUe,receiptLoading:sUe,searchResults:aUe};var is;(function(e){e[e.QR_CODE=0]="QR_CODE",e[e.AZTEC=1]="AZTEC",e[e.CODABAR=2]="CODABAR",e[e.CODE_39=3]="CODE_39",e[e.CODE_93=4]="CODE_93",e[e.CODE_128=5]="CODE_128",e[e.DATA_MATRIX=6]="DATA_MATRIX",e[e.MAXICODE=7]="MAXICODE",e[e.ITF=8]="ITF",e[e.EAN_13=9]="EAN_13",e[e.EAN_8=10]="EAN_8",e[e.PDF_417=11]="PDF_417",e[e.RSS_14=12]="RSS_14",e[e.RSS_EXPANDED=13]="RSS_EXPANDED",e[e.UPC_A=14]="UPC_A",e[e.UPC_E=15]="UPC_E",e[e.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(is||(is={}));var y7=new Map([[is.QR_CODE,"QR_CODE"],[is.AZTEC,"AZTEC"],[is.CODABAR,"CODABAR"],[is.CODE_39,"CODE_39"],[is.CODE_93,"CODE_93"],[is.CODE_128,"CODE_128"],[is.DATA_MATRIX,"DATA_MATRIX"],[is.MAXICODE,"MAXICODE"],[is.ITF,"ITF"],[is.EAN_13,"EAN_13"],[is.EAN_8,"EAN_8"],[is.PDF_417,"PDF_417"],[is.RSS_14,"RSS_14"],[is.RSS_EXPANDED,"RSS_EXPANDED"],[is.UPC_A,"UPC_A"],[is.UPC_E,"UPC_E"],[is.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),w7;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.URL=1]="URL"})(w7||(w7={}));function rUe(e){return Object.values(is).includes(e)}var pb;(function(e){e[e.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",e[e.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(pb||(pb={}));var iUe=function(){function e(){}return e.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",e.SCAN_DEFAULT_FPS=2,e.DEFAULT_DISABLE_FLIP=!1,e.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,e.DEFAULT_SUPPORTED_SCAN_TYPE=[pb.SCAN_TYPE_CAMERA,pb.SCAN_TYPE_FILE],e}(),u$=function(){function e(t,n){this.format=t,this.formatName=n}return e.prototype.toString=function(){return this.formatName},e.create=function(t){if(!y7.has(t))throw"".concat(t," not in html5QrcodeSupportedFormatsTextMap");return new e(t,y7.get(t))},e}(),j7=function(){function e(){}return e.createFromText=function(t){var n={text:t};return{decodedText:t,result:n}},e.createFromQrcodeResult=function(t){return{decodedText:t.text,result:t}},e}(),eN;(function(e){e[e.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",e[e.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",e[e.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(eN||(eN={}));var oUe=function(){function e(){}return e.createFrom=function(t){return{errorMessage:t,type:eN.UNKWOWN_ERROR}},e}(),cUe=function(){function e(t){this.verbose=t}return e.prototype.log=function(t){this.verbose&&console.log(t)},e.prototype.warn=function(t){this.verbose&&console.warn(t)},e.prototype.logError=function(t,n){(this.verbose||n===!0)&&console.error(t)},e.prototype.logErrors=function(t){if(t.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(t)},e}();function fu(e){return typeof e>"u"||e===null}var lm=function(){function e(){}return e.codeParseError=function(t){return"QR code parse error, error = ".concat(t)},e.errorGettingUserMedia=function(t){return"Error getting userMedia, error = ".concat(t)},e.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},e.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},e.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},e.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},e.scannerPaused=function(){return"Scanner paused"},e}(),d$=function(){function e(){}return e.isMediaStreamConstraintsValid=function(t,n){if(typeof t!="object"){var a=typeof t;return n.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(a,"."),!0),!1}for(var r=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],i=new Set(r),o=Object.keys(t),c=0,l=o;c<l.length;c++){var d=l[c];if(i.has(d))return n.logError("".concat(d," is not supported videoConstaints."),!0),!1}return!0},e}(),eg={exports:{}},lUe=eg.exports,C7;function uUe(){return C7||(C7=1,function(e,t){(function(n,a){a(t)})(lUe,function(n){function a(ye){return ye==null}var r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ye,h){ye.__proto__=h}||function(ye,h){for(var p in h)h.hasOwnProperty(p)&&(ye[p]=h[p])};function i(ye,h){r(ye,h);function p(){this.constructor=ye}ye.prototype=h===null?Object.create(h):(p.prototype=h.prototype,new p)}function o(ye,h){var p=Object.setPrototypeOf;p?p(ye,h):ye.__proto__=h}function c(ye,h){h===void 0&&(h=ye.constructor);var p=Error.captureStackTrace;p&&p(ye,h)}var l=function(ye){i(h,ye);function h(p){var v=this.constructor,y=ye.call(this,p)||this;return Object.defineProperty(y,"name",{value:v.name,enumerable:!1}),o(y,v.prototype),c(y),y}return h}(Error);class d extends l{constructor(h=void 0){super(h),this.message=h}getKind(){return this.constructor.kind}}d.kind="Exception";class f extends d{}f.kind="ArgumentException";class g extends d{}g.kind="IllegalArgumentException";class b{constructor(h){if(this.binarizer=h,h===null)throw new g("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(h,p){return this.binarizer.getBlackRow(h,p)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(h,p,v,y){const j=this.binarizer.getLuminanceSource().crop(h,p,v,y);return new b(this.binarizer.createBinarizer(j))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const h=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new b(this.binarizer.createBinarizer(h))}rotateCounterClockwise45(){const h=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new b(this.binarizer.createBinarizer(h))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class w extends d{static getChecksumInstance(){return new w}}w.kind="ChecksumException";class C{constructor(h){this.source=h}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class S{static arraycopy(h,p,v,y,j){for(;j--;)v[y++]=h[p++]}static currentTimeMillis(){return Date.now()}}class k extends d{}k.kind="IndexOutOfBoundsException";class E extends k{constructor(h=void 0,p=void 0){super(p),this.index=h,this.message=p}}E.kind="ArrayIndexOutOfBoundsException";class D{static fill(h,p){for(let v=0,y=h.length;v<y;v++)h[v]=p}static fillWithin(h,p,v,y){D.rangeCheck(h.length,p,v);for(let j=p;j<v;j++)h[j]=y}static rangeCheck(h,p,v){if(p>v)throw new g("fromIndex("+p+") > toIndex("+v+")");if(p<0)throw new E(p);if(v>h)throw new E(v)}static asList(...h){return h}static create(h,p,v){return Array.from({length:h}).map(j=>Array.from({length:p}).fill(v))}static createInt32Array(h,p,v){return Array.from({length:h}).map(j=>Int32Array.from({length:p}).fill(v))}static equals(h,p){if(!h||!p||!h.length||!p.length||h.length!==p.length)return!1;for(let v=0,y=h.length;v<y;v++)if(h[v]!==p[v])return!1;return!0}static hashCode(h){if(h===null)return 0;let p=1;for(const v of h)p=31*p+v;return p}static fillUint8Array(h,p){for(let v=0;v!==h.length;v++)h[v]=p}static copyOf(h,p){return h.slice(0,p)}static copyOfUint8Array(h,p){if(h.length<=p){const v=new Uint8Array(p);return v.set(h),v}return h.slice(0,p)}static copyOfRange(h,p,v){const y=v-p,j=new Int32Array(y);return S.arraycopy(h,p,j,0,y),j}static binarySearch(h,p,v){v===void 0&&(v=D.numberComparator);let y=0,j=h.length-1;for(;y<=j;){const I=j+y>>1,T=v(p,h[I]);if(T>0)y=I+1;else if(T<0)j=I-1;else return I}return-y-1}static numberComparator(h,p){return h-p}}class R{static numberOfTrailingZeros(h){let p;if(h===0)return 32;let v=31;return p=h<<16,p!==0&&(v-=16,h=p),p=h<<8,p!==0&&(v-=8,h=p),p=h<<4,p!==0&&(v-=4,h=p),p=h<<2,p!==0&&(v-=2,h=p),v-(h<<1>>>31)}static numberOfLeadingZeros(h){if(h===0)return 32;let p=1;return h>>>16||(p+=16,h<<=16),h>>>24||(p+=8,h<<=8),h>>>28||(p+=4,h<<=4),h>>>30||(p+=2,h<<=2),p-=h>>>31,p}static toHexString(h){return h.toString(16)}static toBinaryString(h){return String(parseInt(String(h),2))}static bitCount(h){return h=h-(h>>>1&1431655765),h=(h&858993459)+(h>>>2&858993459),h=h+(h>>>4)&252645135,h=h+(h>>>8),h=h+(h>>>16),h&63}static truncDivision(h,p){return Math.trunc(h/p)}static parseInt(h,p=void 0){return parseInt(h,p)}}R.MIN_VALUE_32_BITS=-2147483648,R.MAX_VALUE=Number.MAX_SAFE_INTEGER;class P{constructor(h,p){h===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=h,p==null?this.bits=P.makeArray(h):this.bits=p)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(h){if(h>this.bits.length*32){const p=P.makeArray(h);S.arraycopy(this.bits,0,p,0,this.bits.length),this.bits=p}}get(h){return(this.bits[Math.floor(h/32)]&1<<(h&31))!==0}set(h){this.bits[Math.floor(h/32)]|=1<<(h&31)}flip(h){this.bits[Math.floor(h/32)]^=1<<(h&31)}getNextSet(h){const p=this.size;if(h>=p)return p;const v=this.bits;let y=Math.floor(h/32),j=v[y];j&=~((1<<(h&31))-1);const I=v.length;for(;j===0;){if(++y===I)return p;j=v[y]}const T=y*32+R.numberOfTrailingZeros(j);return T>p?p:T}getNextUnset(h){const p=this.size;if(h>=p)return p;const v=this.bits;let y=Math.floor(h/32),j=~v[y];j&=~((1<<(h&31))-1);const I=v.length;for(;j===0;){if(++y===I)return p;j=~v[y]}const T=y*32+R.numberOfTrailingZeros(j);return T>p?p:T}setBulk(h,p){this.bits[Math.floor(h/32)]=p}setRange(h,p){if(p<h||h<0||p>this.size)throw new g;if(p===h)return;p--;const v=Math.floor(h/32),y=Math.floor(p/32),j=this.bits;for(let I=v;I<=y;I++){const T=I>v?0:h&31,X=(2<<(I<y?31:p&31))-(1<<T);j[I]|=X}}clear(){const h=this.bits.length,p=this.bits;for(let v=0;v<h;v++)p[v]=0}isRange(h,p,v){if(p<h||h<0||p>this.size)throw new g;if(p===h)return!0;p--;const y=Math.floor(h/32),j=Math.floor(p/32),I=this.bits;for(let T=y;T<=j;T++){const q=T>y?0:h&31,le=(2<<(T<j?31:p&31))-(1<<q)&4294967295;if((I[T]&le)!==(v?le:0))return!1}return!0}appendBit(h){this.ensureCapacity(this.size+1),h&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(h,p){if(p<0||p>32)throw new g("Num bits must be between 0 and 32");this.ensureCapacity(this.size+p);for(let v=p;v>0;v--)this.appendBit((h>>v-1&1)===1)}appendBitArray(h){const p=h.size;this.ensureCapacity(this.size+p);for(let v=0;v<p;v++)this.appendBit(h.get(v))}xor(h){if(this.size!==h.size)throw new g("Sizes don't match");const p=this.bits;for(let v=0,y=p.length;v<y;v++)p[v]^=h.bits[v]}toBytes(h,p,v,y){for(let j=0;j<y;j++){let I=0;for(let T=0;T<8;T++)this.get(h)&&(I|=1<<7-T),h++;p[v+j]=I}}getBitArray(){return this.bits}reverse(){const h=new Int32Array(this.bits.length),p=Math.floor((this.size-1)/32),v=p+1,y=this.bits;for(let j=0;j<v;j++){let I=y[j];I=I>>1&1431655765|(I&1431655765)<<1,I=I>>2&858993459|(I&858993459)<<2,I=I>>4&252645135|(I&252645135)<<4,I=I>>8&16711935|(I&16711935)<<8,I=I>>16&65535|(I&65535)<<16,h[p-j]=I}if(this.size!==v*32){const j=v*32-this.size;let I=h[0]>>>j;for(let T=1;T<v;T++){const q=h[T];I|=q<<32-j,h[T-1]=I,I=q>>>j}h[v-1]=I}this.bits=h}static makeArray(h){return new Int32Array(Math.floor((h+31)/32))}equals(h){if(!(h instanceof P))return!1;const p=h;return this.size===p.size&&D.equals(this.bits,p.bits)}hashCode(){return 31*this.size+D.hashCode(this.bits)}toString(){let h="";for(let p=0,v=this.size;p<v;p++)(p&7)===0&&(h+=" "),h+=this.get(p)?"X":".";return h}clone(){return new P(this.size,this.bits.slice())}}var B;(function(ye){ye[ye.OTHER=0]="OTHER",ye[ye.PURE_BARCODE=1]="PURE_BARCODE",ye[ye.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",ye[ye.TRY_HARDER=3]="TRY_HARDER",ye[ye.CHARACTER_SET=4]="CHARACTER_SET",ye[ye.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",ye[ye.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",ye[ye.ASSUME_GS1=7]="ASSUME_GS1",ye[ye.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",ye[ye.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",ye[ye.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(B||(B={}));var O=B;class $ extends d{static getFormatInstance(){return new $}}$.kind="FormatException";var U;(function(ye){ye[ye.Cp437=0]="Cp437",ye[ye.ISO8859_1=1]="ISO8859_1",ye[ye.ISO8859_2=2]="ISO8859_2",ye[ye.ISO8859_3=3]="ISO8859_3",ye[ye.ISO8859_4=4]="ISO8859_4",ye[ye.ISO8859_5=5]="ISO8859_5",ye[ye.ISO8859_6=6]="ISO8859_6",ye[ye.ISO8859_7=7]="ISO8859_7",ye[ye.ISO8859_8=8]="ISO8859_8",ye[ye.ISO8859_9=9]="ISO8859_9",ye[ye.ISO8859_10=10]="ISO8859_10",ye[ye.ISO8859_11=11]="ISO8859_11",ye[ye.ISO8859_13=12]="ISO8859_13",ye[ye.ISO8859_14=13]="ISO8859_14",ye[ye.ISO8859_15=14]="ISO8859_15",ye[ye.ISO8859_16=15]="ISO8859_16",ye[ye.SJIS=16]="SJIS",ye[ye.Cp1250=17]="Cp1250",ye[ye.Cp1251=18]="Cp1251",ye[ye.Cp1252=19]="Cp1252",ye[ye.Cp1256=20]="Cp1256",ye[ye.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",ye[ye.UTF8=22]="UTF8",ye[ye.ASCII=23]="ASCII",ye[ye.Big5=24]="Big5",ye[ye.GB18030=25]="GB18030",ye[ye.EUC_KR=26]="EUC_KR"})(U||(U={}));class F{constructor(h,p,v,...y){this.valueIdentifier=h,this.name=v,typeof p=="number"?this.values=Int32Array.from([p]):this.values=p,this.otherEncodingNames=y,F.VALUE_IDENTIFIER_TO_ECI.set(h,this),F.NAME_TO_ECI.set(v,this);const j=this.values;for(let I=0,T=j.length;I!==T;I++){const q=j[I];F.VALUES_TO_ECI.set(q,this)}for(const I of y)F.NAME_TO_ECI.set(I,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(h){if(h<0||h>=900)throw new $("incorect value");const p=F.VALUES_TO_ECI.get(h);if(p===void 0)throw new $("incorect value");return p}static getCharacterSetECIByName(h){const p=F.NAME_TO_ECI.get(h);if(p===void 0)throw new $("incorect value");return p}equals(h){if(!(h instanceof F))return!1;const p=h;return this.getName()===p.getName()}}F.VALUE_IDENTIFIER_TO_ECI=new Map,F.VALUES_TO_ECI=new Map,F.NAME_TO_ECI=new Map,F.Cp437=new F(U.Cp437,Int32Array.from([0,2]),"Cp437"),F.ISO8859_1=new F(U.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),F.ISO8859_2=new F(U.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),F.ISO8859_3=new F(U.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),F.ISO8859_4=new F(U.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),F.ISO8859_5=new F(U.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),F.ISO8859_6=new F(U.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),F.ISO8859_7=new F(U.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),F.ISO8859_8=new F(U.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),F.ISO8859_9=new F(U.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),F.ISO8859_10=new F(U.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),F.ISO8859_11=new F(U.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),F.ISO8859_13=new F(U.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),F.ISO8859_14=new F(U.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),F.ISO8859_15=new F(U.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),F.ISO8859_16=new F(U.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),F.SJIS=new F(U.SJIS,20,"SJIS","Shift_JIS"),F.Cp1250=new F(U.Cp1250,21,"Cp1250","windows-1250"),F.Cp1251=new F(U.Cp1251,22,"Cp1251","windows-1251"),F.Cp1252=new F(U.Cp1252,23,"Cp1252","windows-1252"),F.Cp1256=new F(U.Cp1256,24,"Cp1256","windows-1256"),F.UnicodeBigUnmarked=new F(U.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),F.UTF8=new F(U.UTF8,26,"UTF8","UTF-8"),F.ASCII=new F(U.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),F.Big5=new F(U.Big5,28,"Big5"),F.GB18030=new F(U.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),F.EUC_KR=new F(U.EUC_KR,30,"EUC_KR","EUC-KR");class H extends d{}H.kind="UnsupportedOperationException";class se{static decode(h,p){const v=this.encodingName(p);return this.customDecoder?this.customDecoder(h,v):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(v)?this.decodeFallback(h,v):new TextDecoder(v).decode(h)}static shouldDecodeOnFallback(h){return!se.isBrowser()&&h==="ISO-8859-1"}static encode(h,p){const v=this.encodingName(p);return this.customEncoder?this.customEncoder(h,v):typeof TextEncoder>"u"?this.encodeFallback(h):new TextEncoder().encode(h)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(h){return typeof h=="string"?h:h.getName()}static encodingCharacterSet(h){return h instanceof F?h:F.getCharacterSetECIByName(h)}static decodeFallback(h,p){const v=this.encodingCharacterSet(p);if(se.isDecodeFallbackSupported(v)){let y="";for(let j=0,I=h.length;j<I;j++){let T=h[j].toString(16);T.length<2&&(T="0"+T),y+="%"+T}return decodeURIComponent(y)}if(v.equals(F.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(h.buffer));throw new H(`Encoding ${this.encodingName(p)} not supported by fallback.`)}static isDecodeFallbackSupported(h){return h.equals(F.UTF8)||h.equals(F.ISO8859_1)||h.equals(F.ASCII)}static encodeFallback(h){const v=btoa(unescape(encodeURIComponent(h))).split(""),y=[];for(let j=0;j<v.length;j++)y.push(v[j].charCodeAt(0));return new Uint8Array(y)}}class K{static castAsNonUtf8Char(h,p=null){const v=p?p.getName():this.ISO88591;return se.decode(new Uint8Array([h]),v)}static guessEncoding(h,p){if(p!=null&&p.get(O.CHARACTER_SET)!==void 0)return p.get(O.CHARACTER_SET).toString();const v=h.length;let y=!0,j=!0,I=!0,T=0,q=0,X=0,le=0,we=0,ke=0,We=0,ct=0,ut=0,Ct=0,Ot=0;const Cn=h.length>3&&h[0]===239&&h[1]===187&&h[2]===191;for(let Tn=0;Tn<v&&(y||j||I);Tn++){const xn=h[Tn]&255;I&&(T>0?(xn&128)===0?I=!1:T--:(xn&128)!==0&&((xn&64)===0?I=!1:(T++,(xn&32)===0?q++:(T++,(xn&16)===0?X++:(T++,(xn&8)===0?le++:I=!1))))),y&&(xn>127&&xn<160?y=!1:xn>159&&(xn<192||xn===215||xn===247)&&Ot++),j&&(we>0?xn<64||xn===127||xn>252?j=!1:we--:xn===128||xn===160||xn>239?j=!1:xn>160&&xn<224?(ke++,ct=0,We++,We>ut&&(ut=We)):xn>127?(we++,We=0,ct++,ct>Ct&&(Ct=ct)):(We=0,ct=0))}return I&&T>0&&(I=!1),j&&we>0&&(j=!1),I&&(Cn||q+X+le>0)?K.UTF8:j&&(K.ASSUME_SHIFT_JIS||ut>=3||Ct>=3)?K.SHIFT_JIS:y&&j?ut===2&&ke===2||Ot*10>=v?K.SHIFT_JIS:K.ISO88591:y?K.ISO88591:j?K.SHIFT_JIS:I?K.UTF8:K.PLATFORM_DEFAULT_ENCODING}static format(h,...p){let v=-1;function y(I,T,q,X,le,we){if(I==="%%")return"%";if(p[++v]===void 0)return;I=X?parseInt(X.substr(1)):void 0;let ke=le?parseInt(le.substr(1)):void 0,We;switch(we){case"s":We=p[v];break;case"c":We=p[v][0];break;case"f":We=parseFloat(p[v]).toFixed(I);break;case"p":We=parseFloat(p[v]).toPrecision(I);break;case"e":We=parseFloat(p[v]).toExponential(I);break;case"x":We=parseInt(p[v]).toString(ke||16);break;case"d":We=parseFloat(parseInt(p[v],ke||10).toPrecision(I)).toFixed(0);break}We=typeof We=="object"?JSON.stringify(We):(+We).toString(ke);let ct=parseInt(q),ut=q&&q[0]+""=="0"?"0":" ";for(;We.length<ct;)We=T!==void 0?We+ut:ut+We;return We}let j=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return h.replace(j,y)}static getBytes(h,p){return se.encode(h,p)}static getCharCode(h,p=0){return h.charCodeAt(p)}static getCharAt(h){return String.fromCharCode(h)}}K.SHIFT_JIS=F.SJIS.getName(),K.GB2312="GB2312",K.ISO88591=F.ISO8859_1.getName(),K.EUC_JP="EUC_JP",K.UTF8=F.UTF8.getName(),K.PLATFORM_DEFAULT_ENCODING=K.UTF8,K.ASSUME_SHIFT_JIS=!1;class te{constructor(h=""){this.value=h}enableDecoding(h){return this.encoding=h,this}append(h){return typeof h=="string"?this.value+=h.toString():this.encoding?this.value+=K.castAsNonUtf8Char(h,this.encoding):this.value+=String.fromCharCode(h),this}appendChars(h,p,v){for(let y=p;p<p+v;y++)this.append(h[y]);return this}length(){return this.value.length}charAt(h){return this.value.charAt(h)}deleteCharAt(h){this.value=this.value.substr(0,h)+this.value.substring(h+1)}setCharAt(h,p){this.value=this.value.substr(0,h)+p+this.value.substr(h+1)}substring(h,p){return this.value.substring(h,p)}setLengthToZero(){this.value=""}toString(){return this.value}insert(h,p){this.value=this.value.substr(0,h)+p+this.value.substr(h+p.length)}}class J{constructor(h,p,v,y){if(this.width=h,this.height=p,this.rowSize=v,this.bits=y,p==null&&(p=h),this.height=p,h<1||p<1)throw new g("Both dimensions must be greater than 0");v==null&&(v=Math.floor((h+31)/32)),this.rowSize=v,y==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(h){const p=h.length,v=h[0].length,y=new J(v,p);for(let j=0;j<p;j++){const I=h[j];for(let T=0;T<v;T++)I[T]&&y.set(T,j)}return y}static parseFromString(h,p,v){if(h===null)throw new g("stringRepresentation cannot be null");const y=new Array(h.length);let j=0,I=0,T=-1,q=0,X=0;for(;X<h.length;)if(h.charAt(X)===`
`||h.charAt(X)==="\r"){if(j>I){if(T===-1)T=j-I;else if(j-I!==T)throw new g("row lengths do not match");I=j,q++}X++}else if(h.substring(X,X+p.length)===p)X+=p.length,y[j]=!0,j++;else if(h.substring(X,X+v.length)===v)X+=v.length,y[j]=!1,j++;else throw new g("illegal character encountered: "+h.substring(X));if(j>I){if(T===-1)T=j-I;else if(j-I!==T)throw new g("row lengths do not match");q++}const le=new J(T,q);for(let we=0;we<j;we++)y[we]&&le.set(Math.floor(we%T),Math.floor(we/T));return le}get(h,p){const v=p*this.rowSize+Math.floor(h/32);return(this.bits[v]>>>(h&31)&1)!==0}set(h,p){const v=p*this.rowSize+Math.floor(h/32);this.bits[v]|=1<<(h&31)&4294967295}unset(h,p){const v=p*this.rowSize+Math.floor(h/32);this.bits[v]&=~(1<<(h&31)&4294967295)}flip(h,p){const v=p*this.rowSize+Math.floor(h/32);this.bits[v]^=1<<(h&31)&4294967295}xor(h){if(this.width!==h.getWidth()||this.height!==h.getHeight()||this.rowSize!==h.getRowSize())throw new g("input matrix dimensions do not match");const p=new P(Math.floor(this.width/32)+1),v=this.rowSize,y=this.bits;for(let j=0,I=this.height;j<I;j++){const T=j*v,q=h.getRow(j,p).getBitArray();for(let X=0;X<v;X++)y[T+X]^=q[X]}}clear(){const h=this.bits,p=h.length;for(let v=0;v<p;v++)h[v]=0}setRegion(h,p,v,y){if(p<0||h<0)throw new g("Left and top must be nonnegative");if(y<1||v<1)throw new g("Height and width must be at least 1");const j=h+v,I=p+y;if(I>this.height||j>this.width)throw new g("The region must fit inside the matrix");const T=this.rowSize,q=this.bits;for(let X=p;X<I;X++){const le=X*T;for(let we=h;we<j;we++)q[le+Math.floor(we/32)]|=1<<(we&31)&4294967295}}getRow(h,p){p==null||p.getSize()<this.width?p=new P(this.width):p.clear();const v=this.rowSize,y=this.bits,j=h*v;for(let I=0;I<v;I++)p.setBulk(I*32,y[j+I]);return p}setRow(h,p){S.arraycopy(p.getBitArray(),0,this.bits,h*this.rowSize,this.rowSize)}rotate180(){const h=this.getWidth(),p=this.getHeight();let v=new P(h),y=new P(h);for(let j=0,I=Math.floor((p+1)/2);j<I;j++)v=this.getRow(j,v),y=this.getRow(p-1-j,y),v.reverse(),y.reverse(),this.setRow(j,y),this.setRow(p-1-j,v)}getEnclosingRectangle(){const h=this.width,p=this.height,v=this.rowSize,y=this.bits;let j=h,I=p,T=-1,q=-1;for(let X=0;X<p;X++)for(let le=0;le<v;le++){const we=y[X*v+le];if(we!==0){if(X<I&&(I=X),X>q&&(q=X),le*32<j){let ke=0;for(;(we<<31-ke&4294967295)===0;)ke++;le*32+ke<j&&(j=le*32+ke)}if(le*32+31>T){let ke=31;for(;!(we>>>ke);)ke--;le*32+ke>T&&(T=le*32+ke)}}}return T<j||q<I?null:Int32Array.from([j,I,T-j+1,q-I+1])}getTopLeftOnBit(){const h=this.rowSize,p=this.bits;let v=0;for(;v<p.length&&p[v]===0;)v++;if(v===p.length)return null;const y=v/h;let j=v%h*32;const I=p[v];let T=0;for(;(I<<31-T&4294967295)===0;)T++;return j+=T,Int32Array.from([j,y])}getBottomRightOnBit(){const h=this.rowSize,p=this.bits;let v=p.length-1;for(;v>=0&&p[v]===0;)v--;if(v<0)return null;const y=Math.floor(v/h);let j=Math.floor(v%h)*32;const I=p[v];let T=31;for(;!(I>>>T);)T--;return j+=T,Int32Array.from([j,y])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(h){if(!(h instanceof J))return!1;const p=h;return this.width===p.width&&this.height===p.height&&this.rowSize===p.rowSize&&D.equals(this.bits,p.bits)}hashCode(){let h=this.width;return h=31*h+this.width,h=31*h+this.height,h=31*h+this.rowSize,h=31*h+D.hashCode(this.bits),h}toString(h="X ",p="  ",v=`
`){return this.buildToString(h,p,v)}buildToString(h,p,v){let y=new te;for(let j=0,I=this.height;j<I;j++){for(let T=0,q=this.width;T<q;T++)y.append(this.get(T,j)?h:p);y.append(v)}return y.toString()}clone(){return new J(this.width,this.height,this.rowSize,this.bits.slice())}}class z extends d{static getNotFoundInstance(){return new z}}z.kind="NotFoundException";class V extends C{constructor(h){super(h),this.luminances=V.EMPTY,this.buckets=new Int32Array(V.LUMINANCE_BUCKETS)}getBlackRow(h,p){const v=this.getLuminanceSource(),y=v.getWidth();p==null||p.getSize()<y?p=new P(y):p.clear(),this.initArrays(y);const j=v.getRow(h,this.luminances),I=this.buckets;for(let q=0;q<y;q++)I[(j[q]&255)>>V.LUMINANCE_SHIFT]++;const T=V.estimateBlackPoint(I);if(y<3)for(let q=0;q<y;q++)(j[q]&255)<T&&p.set(q);else{let q=j[0]&255,X=j[1]&255;for(let le=1;le<y-1;le++){const we=j[le+1]&255;(X*4-q-we)/2<T&&p.set(le),q=X,X=we}}return p}getBlackMatrix(){const h=this.getLuminanceSource(),p=h.getWidth(),v=h.getHeight(),y=new J(p,v);this.initArrays(p);const j=this.buckets;for(let q=1;q<5;q++){const X=Math.floor(v*q/5),le=h.getRow(X,this.luminances),we=Math.floor(p*4/5);for(let ke=Math.floor(p/5);ke<we;ke++){const We=le[ke]&255;j[We>>V.LUMINANCE_SHIFT]++}}const I=V.estimateBlackPoint(j),T=h.getMatrix();for(let q=0;q<v;q++){const X=q*p;for(let le=0;le<p;le++)(T[X+le]&255)<I&&y.set(le,q)}return y}createBinarizer(h){return new V(h)}initArrays(h){this.luminances.length<h&&(this.luminances=new Uint8ClampedArray(h));const p=this.buckets;for(let v=0;v<V.LUMINANCE_BUCKETS;v++)p[v]=0}static estimateBlackPoint(h){const p=h.length;let v=0,y=0,j=0;for(let le=0;le<p;le++)h[le]>j&&(y=le,j=h[le]),h[le]>v&&(v=h[le]);let I=0,T=0;for(let le=0;le<p;le++){const we=le-y,ke=h[le]*we*we;ke>T&&(I=le,T=ke)}if(y>I){const le=y;y=I,I=le}if(I-y<=p/16)throw new z;let q=I-1,X=-1;for(let le=I-1;le>y;le--){const we=le-y,ke=we*we*(I-le)*(v-h[le]);ke>X&&(q=le,X=ke)}return q<<V.LUMINANCE_SHIFT}}V.LUMINANCE_BITS=5,V.LUMINANCE_SHIFT=8-V.LUMINANCE_BITS,V.LUMINANCE_BUCKETS=1<<V.LUMINANCE_BITS,V.EMPTY=Uint8ClampedArray.from([0]);class M extends V{constructor(h){super(h),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const h=this.getLuminanceSource(),p=h.getWidth(),v=h.getHeight();if(p>=M.MINIMUM_DIMENSION&&v>=M.MINIMUM_DIMENSION){const y=h.getMatrix();let j=p>>M.BLOCK_SIZE_POWER;(p&M.BLOCK_SIZE_MASK)!==0&&j++;let I=v>>M.BLOCK_SIZE_POWER;(v&M.BLOCK_SIZE_MASK)!==0&&I++;const T=M.calculateBlackPoints(y,j,I,p,v),q=new J(p,v);M.calculateThresholdForBlock(y,j,I,p,v,T,q),this.matrix=q}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(h){return new M(h)}static calculateThresholdForBlock(h,p,v,y,j,I,T){const q=j-M.BLOCK_SIZE,X=y-M.BLOCK_SIZE;for(let le=0;le<v;le++){let we=le<<M.BLOCK_SIZE_POWER;we>q&&(we=q);const ke=M.cap(le,2,v-3);for(let We=0;We<p;We++){let ct=We<<M.BLOCK_SIZE_POWER;ct>X&&(ct=X);const ut=M.cap(We,2,p-3);let Ct=0;for(let Cn=-2;Cn<=2;Cn++){const Tn=I[ke+Cn];Ct+=Tn[ut-2]+Tn[ut-1]+Tn[ut]+Tn[ut+1]+Tn[ut+2]}const Ot=Ct/25;M.thresholdBlock(h,ct,we,Ot,y,T)}}}static cap(h,p,v){return h<p?p:h>v?v:h}static thresholdBlock(h,p,v,y,j,I){for(let T=0,q=v*j+p;T<M.BLOCK_SIZE;T++,q+=j)for(let X=0;X<M.BLOCK_SIZE;X++)(h[q+X]&255)<=y&&I.set(p+X,v+T)}static calculateBlackPoints(h,p,v,y,j){const I=j-M.BLOCK_SIZE,T=y-M.BLOCK_SIZE,q=new Array(v);for(let X=0;X<v;X++){q[X]=new Int32Array(p);let le=X<<M.BLOCK_SIZE_POWER;le>I&&(le=I);for(let we=0;we<p;we++){let ke=we<<M.BLOCK_SIZE_POWER;ke>T&&(ke=T);let We=0,ct=255,ut=0;for(let Ot=0,Cn=le*y+ke;Ot<M.BLOCK_SIZE;Ot++,Cn+=y){for(let Tn=0;Tn<M.BLOCK_SIZE;Tn++){const xn=h[Cn+Tn]&255;We+=xn,xn<ct&&(ct=xn),xn>ut&&(ut=xn)}if(ut-ct>M.MIN_DYNAMIC_RANGE)for(Ot++,Cn+=y;Ot<M.BLOCK_SIZE;Ot++,Cn+=y)for(let Tn=0;Tn<M.BLOCK_SIZE;Tn++)We+=h[Cn+Tn]&255}let Ct=We>>M.BLOCK_SIZE_POWER*2;if(ut-ct<=M.MIN_DYNAMIC_RANGE&&(Ct=ct/2,X>0&&we>0)){const Ot=(q[X-1][we]+2*q[X][we-1]+q[X-1][we-1])/4;ct<Ot&&(Ct=Ot)}q[X][we]=Ct}}return q}}M.BLOCK_SIZE_POWER=3,M.BLOCK_SIZE=1<<M.BLOCK_SIZE_POWER,M.BLOCK_SIZE_MASK=M.BLOCK_SIZE-1,M.MINIMUM_DIMENSION=M.BLOCK_SIZE*5,M.MIN_DYNAMIC_RANGE=24;class ee{constructor(h,p){this.width=h,this.height=p}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(h,p,v,y){throw new H("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new H("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new H("This luminance source does not support rotation by 45 degrees.")}toString(){const h=new Uint8ClampedArray(this.width);let p=new te;for(let v=0;v<this.height;v++){const y=this.getRow(v,h);for(let j=0;j<this.width;j++){const I=y[j]&255;let T;I<64?T="#":I<128?T="+":I<192?T=".":T=" ",p.append(T)}p.append(`
`)}return p.toString()}}class Z extends ee{constructor(h){super(h.getWidth(),h.getHeight()),this.delegate=h}getRow(h,p){const v=this.delegate.getRow(h,p),y=this.getWidth();for(let j=0;j<y;j++)v[j]=255-(v[j]&255);return v}getMatrix(){const h=this.delegate.getMatrix(),p=this.getWidth()*this.getHeight(),v=new Uint8ClampedArray(p);for(let y=0;y<p;y++)v[y]=255-(h[y]&255);return v}isCropSupported(){return this.delegate.isCropSupported()}crop(h,p,v,y){return new Z(this.delegate.crop(h,p,v,y))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new Z(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new Z(this.delegate.rotateCounterClockwise45())}}class A extends ee{constructor(h){super(h.width,h.height),this.canvas=h,this.tempCanvasElement=null,this.buffer=A.makeBufferFromCanvasImageData(h)}static makeBufferFromCanvasImageData(h){const p=h.getContext("2d").getImageData(0,0,h.width,h.height);return A.toGrayscaleBuffer(p.data,h.width,h.height)}static toGrayscaleBuffer(h,p,v){const y=new Uint8ClampedArray(p*v);for(let j=0,I=0,T=h.length;j<T;j+=4,I++){let q;if(h[j+3]===0)q=255;else{const le=h[j],we=h[j+1],ke=h[j+2];q=306*le+601*we+117*ke+512>>10}y[I]=q}return y}getRow(h,p){if(h<0||h>=this.getHeight())throw new g("Requested row is outside the image: "+h);const v=this.getWidth(),y=h*v;return p===null?p=this.buffer.slice(y,y+v):(p.length<v&&(p=new Uint8ClampedArray(v)),p.set(this.buffer.slice(y,y+v))),p}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(h,p,v,y){return super.crop(h,p,v,y),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const h=this.canvas.ownerDocument.createElement("canvas");h.width=this.canvas.width,h.height=this.canvas.height,this.tempCanvasElement=h}return this.tempCanvasElement}rotate(h){const p=this.getTempCanvasElement(),v=p.getContext("2d"),y=h*A.DEGREE_TO_RADIANS,j=this.canvas.width,I=this.canvas.height,T=Math.ceil(Math.abs(Math.cos(y))*j+Math.abs(Math.sin(y))*I),q=Math.ceil(Math.abs(Math.sin(y))*j+Math.abs(Math.cos(y))*I);return p.width=T,p.height=q,v.translate(T/2,q/2),v.rotate(y),v.drawImage(this.canvas,j/-2,I/-2),this.buffer=A.makeBufferFromCanvasImageData(p),this}invert(){return new Z(this)}}A.DEGREE_TO_RADIANS=Math.PI/180;class G{constructor(h,p,v){this.deviceId=h,this.label=p,this.kind="videoinput",this.groupId=v||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var Q=(globalThis||_d||self||window||void 0)&&(globalThis||_d||self||window||void 0).__awaiter||function(ye,h,p,v){function y(j){return j instanceof p?j:new p(function(I){I(j)})}return new(p||(p=Promise))(function(j,I){function T(le){try{X(v.next(le))}catch(we){I(we)}}function q(le){try{X(v.throw(le))}catch(we){I(we)}}function X(le){le.done?j(le.value):y(le.value).then(T,q)}X((v=v.apply(ye,h||[])).next())})};class Y{constructor(h,p=500,v){this.reader=h,this.timeBetweenScansMillis=p,this._hints=v,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(h){this._timeBetweenDecodingAttempts=h<0?0:h}set hints(h){this._hints=h||null}get hints(){return this._hints}listVideoInputDevices(){return Q(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const h=yield navigator.mediaDevices.enumerateDevices(),p=[];for(const v of h){const y=v.kind==="video"?"videoinput":v.kind;if(y!=="videoinput")continue;const j=v.deviceId||v.id,I=v.label||`Video device ${p.length+1}`,T=v.groupId,q={deviceId:j,label:I,kind:y,groupId:T};p.push(q)}return p})}getVideoInputDevices(){return Q(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(p=>new G(p.deviceId,p.label))})}findDeviceById(h){return Q(this,void 0,void 0,function*(){const p=yield this.listVideoInputDevices();return p?p.find(v=>v.deviceId===h):null})}decodeFromInputVideoDevice(h,p){return Q(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(h,p)})}decodeOnceFromVideoDevice(h,p){return Q(this,void 0,void 0,function*(){this.reset();let v;h?v={deviceId:{exact:h}}:v={facingMode:"environment"};const y={video:v};return yield this.decodeOnceFromConstraints(y,p)})}decodeOnceFromConstraints(h,p){return Q(this,void 0,void 0,function*(){const v=yield navigator.mediaDevices.getUserMedia(h);return yield this.decodeOnceFromStream(v,p)})}decodeOnceFromStream(h,p){return Q(this,void 0,void 0,function*(){this.reset();const v=yield this.attachStreamToVideo(h,p);return yield this.decodeOnce(v)})}decodeFromInputVideoDeviceContinuously(h,p,v){return Q(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(h,p,v)})}decodeFromVideoDevice(h,p,v){return Q(this,void 0,void 0,function*(){let y;h?y={deviceId:{exact:h}}:y={facingMode:"environment"};const j={video:y};return yield this.decodeFromConstraints(j,p,v)})}decodeFromConstraints(h,p,v){return Q(this,void 0,void 0,function*(){const y=yield navigator.mediaDevices.getUserMedia(h);return yield this.decodeFromStream(y,p,v)})}decodeFromStream(h,p,v){return Q(this,void 0,void 0,function*(){this.reset();const y=yield this.attachStreamToVideo(h,p);return yield this.decodeContinuously(y,v)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(h,p){return Q(this,void 0,void 0,function*(){const v=this.prepareVideoElement(p);return this.addVideoSource(v,h),this.videoElement=v,this.stream=h,yield this.playVideoOnLoadAsync(v),v})}playVideoOnLoadAsync(h){return new Promise((p,v)=>this.playVideoOnLoad(h,()=>p()))}playVideoOnLoad(h,p){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(h),h.addEventListener("ended",this.videoEndedListener),h.addEventListener("canplay",this.videoCanPlayListener),h.addEventListener("playing",p),this.tryPlayVideo(h)}isVideoPlaying(h){return h.currentTime>0&&!h.paused&&!h.ended&&h.readyState>2}tryPlayVideo(h){return Q(this,void 0,void 0,function*(){if(this.isVideoPlaying(h)){console.warn("Trying to play video that is already playing.");return}try{yield h.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(h,p){const v=document.getElementById(h);if(!v)throw new f(`element with id '${h}' not found`);if(v.nodeName.toLowerCase()!==p.toLowerCase())throw new f(`element with id '${h}' must be an ${p} element`);return v}decodeFromImage(h,p){if(!h&&!p)throw new f("either imageElement with a src set or an url must be provided");return p&&!h?this.decodeFromImageUrl(p):this.decodeFromImageElement(h)}decodeFromVideo(h,p){if(!h&&!p)throw new f("Either an element with a src set or an URL must be provided");return p&&!h?this.decodeFromVideoUrl(p):this.decodeFromVideoElement(h)}decodeFromVideoContinuously(h,p,v){if(h===void 0&&p===void 0)throw new f("Either an element with a src set or an URL must be provided");return p&&!h?this.decodeFromVideoUrlContinuously(p,v):this.decodeFromVideoElementContinuously(h,v)}decodeFromImageElement(h){if(!h)throw new f("An image element must be provided.");this.reset();const p=this.prepareImageElement(h);this.imageElement=p;let v;return this.isImageLoaded(p)?v=this.decodeOnce(p,!1,!0):v=this._decodeOnLoadImage(p),v}decodeFromVideoElement(h){const p=this._decodeFromVideoElementSetup(h);return this._decodeOnLoadVideo(p)}decodeFromVideoElementContinuously(h,p){const v=this._decodeFromVideoElementSetup(h);return this._decodeOnLoadVideoContinuously(v,p)}_decodeFromVideoElementSetup(h){if(!h)throw new f("A video element must be provided.");this.reset();const p=this.prepareVideoElement(h);return this.videoElement=p,p}decodeFromImageUrl(h){if(!h)throw new f("An URL must be provided.");this.reset();const p=this.prepareImageElement();this.imageElement=p;const v=this._decodeOnLoadImage(p);return p.src=h,v}decodeFromVideoUrl(h){if(!h)throw new f("An URL must be provided.");this.reset();const p=this.prepareVideoElement(),v=this.decodeFromVideoElement(p);return p.src=h,v}decodeFromVideoUrlContinuously(h,p){if(!h)throw new f("An URL must be provided.");this.reset();const v=this.prepareVideoElement(),y=this.decodeFromVideoElementContinuously(v,p);return v.src=h,y}_decodeOnLoadImage(h){return new Promise((p,v)=>{this.imageLoadedListener=()=>this.decodeOnce(h,!1,!0).then(p,v),h.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(h){return Q(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(h),yield this.decodeOnce(h)})}_decodeOnLoadVideoContinuously(h,p){return Q(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(h),this.decodeContinuously(h,p)})}isImageLoaded(h){return!(!h.complete||h.naturalWidth===0)}prepareImageElement(h){let p;return typeof h>"u"&&(p=document.createElement("img"),p.width=200,p.height=200),typeof h=="string"&&(p=this.getMediaElement(h,"img")),h instanceof HTMLImageElement&&(p=h),p}prepareVideoElement(h){let p;return!h&&typeof document<"u"&&(p=document.createElement("video"),p.width=200,p.height=200),typeof h=="string"&&(p=this.getMediaElement(h,"video")),h instanceof HTMLVideoElement&&(p=h),p.setAttribute("autoplay","true"),p.setAttribute("muted","true"),p.setAttribute("playsinline","true"),p}decodeOnce(h,p=!0,v=!0){this._stopAsyncDecode=!1;const y=(j,I)=>{if(this._stopAsyncDecode){I(new z("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const T=this.decode(h);j(T)}catch(T){const q=p&&T instanceof z,le=(T instanceof w||T instanceof $)&&v;if(q||le)return setTimeout(y,this._timeBetweenDecodingAttempts,j,I);I(T)}};return new Promise((j,I)=>y(j,I))}decodeContinuously(h,p){this._stopContinuousDecode=!1;const v=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const y=this.decode(h);p(y,null),setTimeout(v,this.timeBetweenScansMillis)}catch(y){p(null,y);const j=y instanceof w||y instanceof $,I=y instanceof z;(j||I)&&setTimeout(v,this._timeBetweenDecodingAttempts)}};v()}decode(h){const p=this.createBinaryBitmap(h);return this.decodeBitmap(p)}_isHTMLVideoElement(h){return h.videoWidth!==0}drawFrameOnCanvas(h,p,v){p||(p={sx:0,sy:0,sWidth:h.videoWidth,sHeight:h.videoHeight,dx:0,dy:0,dWidth:h.videoWidth,dHeight:h.videoHeight}),v||(v=this.captureCanvasContext),v.drawImage(h,p.sx,p.sy,p.sWidth,p.sHeight,p.dx,p.dy,p.dWidth,p.dHeight)}drawImageOnCanvas(h,p,v=this.captureCanvasContext){p||(p={sx:0,sy:0,sWidth:h.naturalWidth,sHeight:h.naturalHeight,dx:0,dy:0,dWidth:h.naturalWidth,dHeight:h.naturalHeight}),v||(v=this.captureCanvasContext),v.drawImage(h,p.sx,p.sy,p.sWidth,p.sHeight,p.dx,p.dy,p.dWidth,p.dHeight)}createBinaryBitmap(h){this.getCaptureCanvasContext(h),this._isHTMLVideoElement(h)?this.drawFrameOnCanvas(h):this.drawImageOnCanvas(h);const p=this.getCaptureCanvas(h),v=new A(p),y=new M(v);return new b(y)}getCaptureCanvasContext(h){if(!this.captureCanvasContext){const v=this.getCaptureCanvas(h).getContext("2d");this.captureCanvasContext=v}return this.captureCanvasContext}getCaptureCanvas(h){if(!this.captureCanvas){const p=this.createCaptureCanvas(h);this.captureCanvas=p}return this.captureCanvas}decodeBitmap(h){return this.reader.decode(h,this._hints)}createCaptureCanvas(h){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const p=document.createElement("canvas");let v,y;return typeof h<"u"&&(h instanceof HTMLVideoElement?(v=h.videoWidth,y=h.videoHeight):h instanceof HTMLImageElement&&(v=h.naturalWidth||h.width,y=h.naturalHeight||h.height)),p.style.width=v+"px",p.style.height=y+"px",p.width=v,p.height=y,p}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(h=>h.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(h,p){try{h.srcObject=p}catch{h.src=URL.createObjectURL(p)}}cleanVideoSource(h){try{h.srcObject=null}catch{h.src=""}this.videoElement.removeAttribute("src")}}class ae{constructor(h,p,v=p==null?0:8*p.length,y,j,I=S.currentTimeMillis()){this.text=h,this.rawBytes=p,this.numBits=v,this.resultPoints=y,this.format=j,this.timestamp=I,this.text=h,this.rawBytes=p,v==null?this.numBits=p==null?0:8*p.length:this.numBits=v,this.resultPoints=y,this.format=j,this.resultMetadata=null,I==null?this.timestamp=S.currentTimeMillis():this.timestamp=I}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(h,p){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(h,p)}putAllMetadata(h){h!==null&&(this.resultMetadata===null?this.resultMetadata=h:this.resultMetadata=new Map(h))}addResultPoints(h){const p=this.resultPoints;if(p===null)this.resultPoints=h;else if(h!==null&&h.length>0){const v=new Array(p.length+h.length);S.arraycopy(p,0,v,0,p.length),S.arraycopy(h,0,v,p.length,h.length),this.resultPoints=v}}getTimestamp(){return this.timestamp}toString(){return this.text}}var ne;(function(ye){ye[ye.AZTEC=0]="AZTEC",ye[ye.CODABAR=1]="CODABAR",ye[ye.CODE_39=2]="CODE_39",ye[ye.CODE_93=3]="CODE_93",ye[ye.CODE_128=4]="CODE_128",ye[ye.DATA_MATRIX=5]="DATA_MATRIX",ye[ye.EAN_8=6]="EAN_8",ye[ye.EAN_13=7]="EAN_13",ye[ye.ITF=8]="ITF",ye[ye.MAXICODE=9]="MAXICODE",ye[ye.PDF_417=10]="PDF_417",ye[ye.QR_CODE=11]="QR_CODE",ye[ye.RSS_14=12]="RSS_14",ye[ye.RSS_EXPANDED=13]="RSS_EXPANDED",ye[ye.UPC_A=14]="UPC_A",ye[ye.UPC_E=15]="UPC_E",ye[ye.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(ne||(ne={}));var re=ne,oe;(function(ye){ye[ye.OTHER=0]="OTHER",ye[ye.ORIENTATION=1]="ORIENTATION",ye[ye.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",ye[ye.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",ye[ye.ISSUE_NUMBER=4]="ISSUE_NUMBER",ye[ye.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",ye[ye.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",ye[ye.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",ye[ye.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",ye[ye.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",ye[ye.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(oe||(oe={}));var me=oe;class Ce{constructor(h,p,v,y,j=-1,I=-1){this.rawBytes=h,this.text=p,this.byteSegments=v,this.ecLevel=y,this.structuredAppendSequenceNumber=j,this.structuredAppendParity=I,this.numBits=h==null?0:8*h.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(h){this.numBits=h}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(h){this.errorsCorrected=h}getErasures(){return this.erasures}setErasures(h){this.erasures=h}getOther(){return this.other}setOther(h){this.other=h}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class Ne{exp(h){return this.expTable[h]}log(h){if(h===0)throw new g;return this.logTable[h]}static addOrSubtract(h,p){return h^p}}class Ee{constructor(h,p){if(p.length===0)throw new g;this.field=h;const v=p.length;if(v>1&&p[0]===0){let y=1;for(;y<v&&p[y]===0;)y++;y===v?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(v-y),S.arraycopy(p,y,this.coefficients,0,this.coefficients.length))}else this.coefficients=p}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(h){return this.coefficients[this.coefficients.length-1-h]}evaluateAt(h){if(h===0)return this.getCoefficient(0);const p=this.coefficients;let v;if(h===1){v=0;for(let I=0,T=p.length;I!==T;I++){const q=p[I];v=Ne.addOrSubtract(v,q)}return v}v=p[0];const y=p.length,j=this.field;for(let I=1;I<y;I++)v=Ne.addOrSubtract(j.multiply(h,v),p[I]);return v}addOrSubtract(h){if(!this.field.equals(h.field))throw new g("GenericGFPolys do not have same GenericGF field");if(this.isZero())return h;if(h.isZero())return this;let p=this.coefficients,v=h.coefficients;if(p.length>v.length){const I=p;p=v,v=I}let y=new Int32Array(v.length);const j=v.length-p.length;S.arraycopy(v,0,y,0,j);for(let I=j;I<v.length;I++)y[I]=Ne.addOrSubtract(p[I-j],v[I]);return new Ee(this.field,y)}multiply(h){if(!this.field.equals(h.field))throw new g("GenericGFPolys do not have same GenericGF field");if(this.isZero()||h.isZero())return this.field.getZero();const p=this.coefficients,v=p.length,y=h.coefficients,j=y.length,I=new Int32Array(v+j-1),T=this.field;for(let q=0;q<v;q++){const X=p[q];for(let le=0;le<j;le++)I[q+le]=Ne.addOrSubtract(I[q+le],T.multiply(X,y[le]))}return new Ee(T,I)}multiplyScalar(h){if(h===0)return this.field.getZero();if(h===1)return this;const p=this.coefficients.length,v=this.field,y=new Int32Array(p),j=this.coefficients;for(let I=0;I<p;I++)y[I]=v.multiply(j[I],h);return new Ee(v,y)}multiplyByMonomial(h,p){if(h<0)throw new g;if(p===0)return this.field.getZero();const v=this.coefficients,y=v.length,j=new Int32Array(y+h),I=this.field;for(let T=0;T<y;T++)j[T]=I.multiply(v[T],p);return new Ee(I,j)}divide(h){if(!this.field.equals(h.field))throw new g("GenericGFPolys do not have same GenericGF field");if(h.isZero())throw new g("Divide by 0");const p=this.field;let v=p.getZero(),y=this;const j=h.getCoefficient(h.getDegree()),I=p.inverse(j);for(;y.getDegree()>=h.getDegree()&&!y.isZero();){const T=y.getDegree()-h.getDegree(),q=p.multiply(y.getCoefficient(y.getDegree()),I),X=h.multiplyByMonomial(T,q),le=p.buildMonomial(T,q);v=v.addOrSubtract(le),y=y.addOrSubtract(X)}return[v,y]}toString(){let h="";for(let p=this.getDegree();p>=0;p--){let v=this.getCoefficient(p);if(v!==0){if(v<0?(h+=" - ",v=-v):h.length>0&&(h+=" + "),p===0||v!==1){const y=this.field.log(v);y===0?h+="1":y===1?h+="a":(h+="a^",h+=y)}p!==0&&(p===1?h+="x":(h+="x^",h+=p))}}return h}}class ve extends d{}ve.kind="ArithmeticException";class Se extends Ne{constructor(h,p,v){super(),this.primitive=h,this.size=p,this.generatorBase=v;const y=new Int32Array(p);let j=1;for(let T=0;T<p;T++)y[T]=j,j*=2,j>=p&&(j^=h,j&=p-1);this.expTable=y;const I=new Int32Array(p);for(let T=0;T<p-1;T++)I[y[T]]=T;this.logTable=I,this.zero=new Ee(this,Int32Array.from([0])),this.one=new Ee(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(h,p){if(h<0)throw new g;if(p===0)return this.zero;const v=new Int32Array(h+1);return v[0]=p,new Ee(this,v)}inverse(h){if(h===0)throw new ve;return this.expTable[this.size-this.logTable[h]-1]}multiply(h,p){return h===0||p===0?0:this.expTable[(this.logTable[h]+this.logTable[p])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+R.toHexString(this.primitive)+","+this.size+")"}equals(h){return h===this}}Se.AZTEC_DATA_12=new Se(4201,4096,1),Se.AZTEC_DATA_10=new Se(1033,1024,1),Se.AZTEC_DATA_6=new Se(67,64,1),Se.AZTEC_PARAM=new Se(19,16,1),Se.QR_CODE_FIELD_256=new Se(285,256,0),Se.DATA_MATRIX_FIELD_256=new Se(301,256,1),Se.AZTEC_DATA_8=Se.DATA_MATRIX_FIELD_256,Se.MAXICODE_FIELD_64=Se.AZTEC_DATA_6;class fe extends d{}fe.kind="ReedSolomonException";class de extends d{}de.kind="IllegalStateException";class pe{constructor(h){this.field=h}decode(h,p){const v=this.field,y=new Ee(v,h),j=new Int32Array(p);let I=!0;for(let We=0;We<p;We++){const ct=y.evaluateAt(v.exp(We+v.getGeneratorBase()));j[j.length-1-We]=ct,ct!==0&&(I=!1)}if(I)return;const T=new Ee(v,j),q=this.runEuclideanAlgorithm(v.buildMonomial(p,1),T,p),X=q[0],le=q[1],we=this.findErrorLocations(X),ke=this.findErrorMagnitudes(le,we);for(let We=0;We<we.length;We++){const ct=h.length-1-v.log(we[We]);if(ct<0)throw new fe("Bad error location");h[ct]=Se.addOrSubtract(h[ct],ke[We])}}runEuclideanAlgorithm(h,p,v){if(h.getDegree()<p.getDegree()){const We=h;h=p,p=We}const y=this.field;let j=h,I=p,T=y.getZero(),q=y.getOne();for(;I.getDegree()>=(v/2|0);){let We=j,ct=T;if(j=I,T=q,j.isZero())throw new fe("r_{i-1} was zero");I=We;let ut=y.getZero();const Ct=j.getCoefficient(j.getDegree()),Ot=y.inverse(Ct);for(;I.getDegree()>=j.getDegree()&&!I.isZero();){const Cn=I.getDegree()-j.getDegree(),Tn=y.multiply(I.getCoefficient(I.getDegree()),Ot);ut=ut.addOrSubtract(y.buildMonomial(Cn,Tn)),I=I.addOrSubtract(j.multiplyByMonomial(Cn,Tn))}if(q=ut.multiply(T).addOrSubtract(ct),I.getDegree()>=j.getDegree())throw new de("Division algorithm failed to reduce polynomial?")}const X=q.getCoefficient(0);if(X===0)throw new fe("sigmaTilde(0) was zero");const le=y.inverse(X),we=q.multiplyScalar(le),ke=I.multiplyScalar(le);return[we,ke]}findErrorLocations(h){const p=h.getDegree();if(p===1)return Int32Array.from([h.getCoefficient(1)]);const v=new Int32Array(p);let y=0;const j=this.field;for(let I=1;I<j.getSize()&&y<p;I++)h.evaluateAt(I)===0&&(v[y]=j.inverse(I),y++);if(y!==p)throw new fe("Error locator degree does not match number of roots");return v}findErrorMagnitudes(h,p){const v=p.length,y=new Int32Array(v),j=this.field;for(let I=0;I<v;I++){const T=j.inverse(p[I]);let q=1;for(let X=0;X<v;X++)if(I!==X){const le=j.multiply(p[X],T),we=(le&1)===0?le|1:le&-2;q=j.multiply(q,we)}y[I]=j.multiply(h.evaluateAt(T),j.inverse(q)),j.getGeneratorBase()!==0&&(y[I]=j.multiply(y[I],T))}return y}}var ce;(function(ye){ye[ye.UPPER=0]="UPPER",ye[ye.LOWER=1]="LOWER",ye[ye.MIXED=2]="MIXED",ye[ye.DIGIT=3]="DIGIT",ye[ye.PUNCT=4]="PUNCT",ye[ye.BINARY=5]="BINARY"})(ce||(ce={}));class Re{decode(h){this.ddata=h;let p=h.getBits(),v=this.extractBits(p),y=this.correctBits(v),j=Re.convertBoolArrayToByteArray(y),I=Re.getEncodedData(y),T=new Ce(j,I,null,null);return T.setNumBits(y.length),T}static highLevelDecode(h){return this.getEncodedData(h)}static getEncodedData(h){let p=h.length,v=ce.UPPER,y=ce.UPPER,j="",I=0;for(;I<p;)if(y===ce.BINARY){if(p-I<5)break;let T=Re.readCode(h,I,5);if(I+=5,T===0){if(p-I<11)break;T=Re.readCode(h,I,11)+31,I+=11}for(let q=0;q<T;q++){if(p-I<8){I=p;break}const X=Re.readCode(h,I,8);j+=K.castAsNonUtf8Char(X),I+=8}y=v}else{let T=y===ce.DIGIT?4:5;if(p-I<T)break;let q=Re.readCode(h,I,T);I+=T;let X=Re.getCharacter(y,q);X.startsWith("CTRL_")?(v=y,y=Re.getTable(X.charAt(5)),X.charAt(6)==="L"&&(v=y)):(j+=X,y=v)}return j}static getTable(h){switch(h){case"L":return ce.LOWER;case"P":return ce.PUNCT;case"M":return ce.MIXED;case"D":return ce.DIGIT;case"B":return ce.BINARY;case"U":default:return ce.UPPER}}static getCharacter(h,p){switch(h){case ce.UPPER:return Re.UPPER_TABLE[p];case ce.LOWER:return Re.LOWER_TABLE[p];case ce.MIXED:return Re.MIXED_TABLE[p];case ce.PUNCT:return Re.PUNCT_TABLE[p];case ce.DIGIT:return Re.DIGIT_TABLE[p];default:throw new de("Bad table")}}correctBits(h){let p,v;this.ddata.getNbLayers()<=2?(v=6,p=Se.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(v=8,p=Se.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(v=10,p=Se.AZTEC_DATA_10):(v=12,p=Se.AZTEC_DATA_12);let y=this.ddata.getNbDatablocks(),j=h.length/v;if(j<y)throw new $;let I=h.length%v,T=new Int32Array(j);for(let ke=0;ke<j;ke++,I+=v)T[ke]=Re.readCode(h,I,v);try{new pe(p).decode(T,j-y)}catch(ke){throw new $(ke)}let q=(1<<v)-1,X=0;for(let ke=0;ke<y;ke++){let We=T[ke];if(We===0||We===q)throw new $;(We===1||We===q-1)&&X++}let le=new Array(y*v-X),we=0;for(let ke=0;ke<y;ke++){let We=T[ke];if(We===1||We===q-1)le.fill(We>1,we,we+v-1),we+=v-1;else for(let ct=v-1;ct>=0;--ct)le[we++]=(We&1<<ct)!==0}return le}extractBits(h){let p=this.ddata.isCompact(),v=this.ddata.getNbLayers(),y=(p?11:14)+v*4,j=new Int32Array(y),I=new Array(this.totalBitsInLayer(v,p));if(p)for(let T=0;T<j.length;T++)j[T]=T;else{let T=y+1+2*R.truncDivision(R.truncDivision(y,2)-1,15),q=y/2,X=R.truncDivision(T,2);for(let le=0;le<q;le++){let we=le+R.truncDivision(le,15);j[q-le-1]=X-we-1,j[q+le]=X+we+1}}for(let T=0,q=0;T<v;T++){let X=(v-T)*4+(p?9:12),le=T*2,we=y-1-le;for(let ke=0;ke<X;ke++){let We=ke*2;for(let ct=0;ct<2;ct++)I[q+We+ct]=h.get(j[le+ct],j[le+ke]),I[q+2*X+We+ct]=h.get(j[le+ke],j[we-ct]),I[q+4*X+We+ct]=h.get(j[we-ct],j[we-ke]),I[q+6*X+We+ct]=h.get(j[we-ke],j[le+ct])}q+=X*8}return I}static readCode(h,p,v){let y=0;for(let j=p;j<p+v;j++)y<<=1,h[j]&&(y|=1);return y}static readByte(h,p){let v=h.length-p;return v>=8?Re.readCode(h,p,8):Re.readCode(h,p,v)<<8-v}static convertBoolArrayToByteArray(h){let p=new Uint8Array((h.length+7)/8);for(let v=0;v<p.length;v++)p[v]=Re.readByte(h,8*v);return p}totalBitsInLayer(h,p){return((p?88:112)+16*h)*h}}Re.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],Re.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],Re.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],Re.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],Re.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class Ae{constructor(){}static round(h){return h===NaN?0:h<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:h>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:h+(h<0?-.5:.5)|0}static distance(h,p,v,y){const j=h-v,I=p-y;return Math.sqrt(j*j+I*I)}static sum(h){let p=0;for(let v=0,y=h.length;v!==y;v++){const j=h[v];p+=j}return p}}class ie{static floatToIntBits(h){return h}}ie.MAX_VALUE=Number.MAX_SAFE_INTEGER;class ge{constructor(h,p){this.x=h,this.y=p}getX(){return this.x}getY(){return this.y}equals(h){if(h instanceof ge){const p=h;return this.x===p.x&&this.y===p.y}return!1}hashCode(){return 31*ie.floatToIntBits(this.x)+ie.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(h){const p=this.distance(h[0],h[1]),v=this.distance(h[1],h[2]),y=this.distance(h[0],h[2]);let j,I,T;if(v>=p&&v>=y?(I=h[0],j=h[1],T=h[2]):y>=v&&y>=p?(I=h[1],j=h[0],T=h[2]):(I=h[2],j=h[0],T=h[1]),this.crossProductZ(j,I,T)<0){const q=j;j=T,T=q}h[0]=j,h[1]=I,h[2]=T}static distance(h,p){return Ae.distance(h.x,h.y,p.x,p.y)}static crossProductZ(h,p,v){const y=p.x,j=p.y;return(v.x-y)*(h.y-j)-(v.y-j)*(h.x-y)}}class be{constructor(h,p){this.bits=h,this.points=p}getBits(){return this.bits}getPoints(){return this.points}}class Fe extends be{constructor(h,p,v,y,j){super(h,p),this.compact=v,this.nbDatablocks=y,this.nbLayers=j}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class je{constructor(h,p,v,y){this.image=h,this.height=h.getHeight(),this.width=h.getWidth(),p==null&&(p=je.INIT_SIZE),v==null&&(v=h.getWidth()/2|0),y==null&&(y=h.getHeight()/2|0);const j=p/2|0;if(this.leftInit=v-j,this.rightInit=v+j,this.upInit=y-j,this.downInit=y+j,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new z}detect(){let h=this.leftInit,p=this.rightInit,v=this.upInit,y=this.downInit,j=!1,I=!0,T=!1,q=!1,X=!1,le=!1,we=!1;const ke=this.width,We=this.height;for(;I;){I=!1;let ct=!0;for(;(ct||!q)&&p<ke;)ct=this.containsBlackPoint(v,y,p,!1),ct?(p++,I=!0,q=!0):q||p++;if(p>=ke){j=!0;break}let ut=!0;for(;(ut||!X)&&y<We;)ut=this.containsBlackPoint(h,p,y,!0),ut?(y++,I=!0,X=!0):X||y++;if(y>=We){j=!0;break}let Ct=!0;for(;(Ct||!le)&&h>=0;)Ct=this.containsBlackPoint(v,y,h,!1),Ct?(h--,I=!0,le=!0):le||h--;if(h<0){j=!0;break}let Ot=!0;for(;(Ot||!we)&&v>=0;)Ot=this.containsBlackPoint(h,p,v,!0),Ot?(v--,I=!0,we=!0):we||v--;if(v<0){j=!0;break}I&&(T=!0)}if(!j&&T){const ct=p-h;let ut=null;for(let Tn=1;ut===null&&Tn<ct;Tn++)ut=this.getBlackPointOnSegment(h,y-Tn,h+Tn,y);if(ut==null)throw new z;let Ct=null;for(let Tn=1;Ct===null&&Tn<ct;Tn++)Ct=this.getBlackPointOnSegment(h,v+Tn,h+Tn,v);if(Ct==null)throw new z;let Ot=null;for(let Tn=1;Ot===null&&Tn<ct;Tn++)Ot=this.getBlackPointOnSegment(p,v+Tn,p-Tn,v);if(Ot==null)throw new z;let Cn=null;for(let Tn=1;Cn===null&&Tn<ct;Tn++)Cn=this.getBlackPointOnSegment(p,y-Tn,p-Tn,y);if(Cn==null)throw new z;return this.centerEdges(Cn,ut,Ot,Ct)}else throw new z}getBlackPointOnSegment(h,p,v,y){const j=Ae.round(Ae.distance(h,p,v,y)),I=(v-h)/j,T=(y-p)/j,q=this.image;for(let X=0;X<j;X++){const le=Ae.round(h+X*I),we=Ae.round(p+X*T);if(q.get(le,we))return new ge(le,we)}return null}centerEdges(h,p,v,y){const j=h.getX(),I=h.getY(),T=p.getX(),q=p.getY(),X=v.getX(),le=v.getY(),we=y.getX(),ke=y.getY(),We=je.CORR;return j<this.width/2?[new ge(we-We,ke+We),new ge(T+We,q+We),new ge(X-We,le-We),new ge(j+We,I-We)]:[new ge(we+We,ke+We),new ge(T+We,q-We),new ge(X-We,le+We),new ge(j-We,I-We)]}containsBlackPoint(h,p,v,y){const j=this.image;if(y){for(let I=h;I<=p;I++)if(j.get(I,v))return!0}else for(let I=h;I<=p;I++)if(j.get(v,I))return!0;return!1}}je.INIT_SIZE=10,je.CORR=1;class qe{static checkAndNudgePoints(h,p){const v=h.getWidth(),y=h.getHeight();let j=!0;for(let I=0;I<p.length&&j;I+=2){const T=Math.floor(p[I]),q=Math.floor(p[I+1]);if(T<-1||T>v||q<-1||q>y)throw new z;j=!1,T===-1?(p[I]=0,j=!0):T===v&&(p[I]=v-1,j=!0),q===-1?(p[I+1]=0,j=!0):q===y&&(p[I+1]=y-1,j=!0)}j=!0;for(let I=p.length-2;I>=0&&j;I-=2){const T=Math.floor(p[I]),q=Math.floor(p[I+1]);if(T<-1||T>v||q<-1||q>y)throw new z;j=!1,T===-1?(p[I]=0,j=!0):T===v&&(p[I]=v-1,j=!0),q===-1?(p[I+1]=0,j=!0):q===y&&(p[I+1]=y-1,j=!0)}}}class tt{constructor(h,p,v,y,j,I,T,q,X){this.a11=h,this.a21=p,this.a31=v,this.a12=y,this.a22=j,this.a32=I,this.a13=T,this.a23=q,this.a33=X}static quadrilateralToQuadrilateral(h,p,v,y,j,I,T,q,X,le,we,ke,We,ct,ut,Ct){const Ot=tt.quadrilateralToSquare(h,p,v,y,j,I,T,q);return tt.squareToQuadrilateral(X,le,we,ke,We,ct,ut,Ct).times(Ot)}transformPoints(h){const p=h.length,v=this.a11,y=this.a12,j=this.a13,I=this.a21,T=this.a22,q=this.a23,X=this.a31,le=this.a32,we=this.a33;for(let ke=0;ke<p;ke+=2){const We=h[ke],ct=h[ke+1],ut=j*We+q*ct+we;h[ke]=(v*We+I*ct+X)/ut,h[ke+1]=(y*We+T*ct+le)/ut}}transformPointsWithValues(h,p){const v=this.a11,y=this.a12,j=this.a13,I=this.a21,T=this.a22,q=this.a23,X=this.a31,le=this.a32,we=this.a33,ke=h.length;for(let We=0;We<ke;We++){const ct=h[We],ut=p[We],Ct=j*ct+q*ut+we;h[We]=(v*ct+I*ut+X)/Ct,p[We]=(y*ct+T*ut+le)/Ct}}static squareToQuadrilateral(h,p,v,y,j,I,T,q){const X=h-v+j-T,le=p-y+I-q;if(X===0&&le===0)return new tt(v-h,j-v,h,y-p,I-y,p,0,0,1);{const we=v-j,ke=T-j,We=y-I,ct=q-I,ut=we*ct-ke*We,Ct=(X*ct-ke*le)/ut,Ot=(we*le-X*We)/ut;return new tt(v-h+Ct*v,T-h+Ot*T,h,y-p+Ct*y,q-p+Ot*q,p,Ct,Ot,1)}}static quadrilateralToSquare(h,p,v,y,j,I,T,q){return tt.squareToQuadrilateral(h,p,v,y,j,I,T,q).buildAdjoint()}buildAdjoint(){return new tt(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(h){return new tt(this.a11*h.a11+this.a21*h.a12+this.a31*h.a13,this.a11*h.a21+this.a21*h.a22+this.a31*h.a23,this.a11*h.a31+this.a21*h.a32+this.a31*h.a33,this.a12*h.a11+this.a22*h.a12+this.a32*h.a13,this.a12*h.a21+this.a22*h.a22+this.a32*h.a23,this.a12*h.a31+this.a22*h.a32+this.a32*h.a33,this.a13*h.a11+this.a23*h.a12+this.a33*h.a13,this.a13*h.a21+this.a23*h.a22+this.a33*h.a23,this.a13*h.a31+this.a23*h.a32+this.a33*h.a33)}}class he extends qe{sampleGrid(h,p,v,y,j,I,T,q,X,le,we,ke,We,ct,ut,Ct,Ot,Cn,Tn){const xn=tt.quadrilateralToQuadrilateral(y,j,I,T,q,X,le,we,ke,We,ct,ut,Ct,Ot,Cn,Tn);return this.sampleGridWithTransform(h,p,v,xn)}sampleGridWithTransform(h,p,v,y){if(p<=0||v<=0)throw new z;const j=new J(p,v),I=new Float32Array(2*p);for(let T=0;T<v;T++){const q=I.length,X=T+.5;for(let le=0;le<q;le+=2)I[le]=le/2+.5,I[le+1]=X;y.transformPoints(I),qe.checkAndNudgePoints(h,I);try{for(let le=0;le<q;le+=2)h.get(Math.floor(I[le]),Math.floor(I[le+1]))&&j.set(le/2,T)}catch{throw new z}}return j}}class Ze{static setGridSampler(h){Ze.gridSampler=h}static getInstance(){return Ze.gridSampler}}Ze.gridSampler=new he;class Pe{constructor(h,p){this.x=h,this.y=p}toResultPoint(){return new ge(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class bt{constructor(h){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=h}detect(){return this.detectMirror(!1)}detectMirror(h){let p=this.getMatrixCenter(),v=this.getBullsEyeCorners(p);if(h){let I=v[0];v[0]=v[2],v[2]=I}this.extractParameters(v);let y=this.sampleGrid(this.image,v[this.shift%4],v[(this.shift+1)%4],v[(this.shift+2)%4],v[(this.shift+3)%4]),j=this.getMatrixCornerPoints(v);return new Fe(y,j,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(h){if(!this.isValidPoint(h[0])||!this.isValidPoint(h[1])||!this.isValidPoint(h[2])||!this.isValidPoint(h[3]))throw new z;let p=2*this.nbCenterLayers,v=new Int32Array([this.sampleLine(h[0],h[1],p),this.sampleLine(h[1],h[2],p),this.sampleLine(h[2],h[3],p),this.sampleLine(h[3],h[0],p)]);this.shift=this.getRotation(v,p);let y=0;for(let I=0;I<4;I++){let T=v[(this.shift+I)%4];this.compact?(y<<=7,y+=T>>1&127):(y<<=10,y+=(T>>2&992)+(T>>1&31))}let j=this.getCorrectedParameterData(y,this.compact);this.compact?(this.nbLayers=(j>>6)+1,this.nbDataBlocks=(j&63)+1):(this.nbLayers=(j>>11)+1,this.nbDataBlocks=(j&2047)+1)}getRotation(h,p){let v=0;h.forEach((y,j,I)=>{let T=(y>>p-2<<1)+(y&1);v=(v<<3)+T}),v=((v&1)<<11)+(v>>1);for(let y=0;y<4;y++)if(R.bitCount(v^this.EXPECTED_CORNER_BITS[y])<=2)return y;throw new z}getCorrectedParameterData(h,p){let v,y;p?(v=7,y=2):(v=10,y=4);let j=v-y,I=new Int32Array(v);for(let q=v-1;q>=0;--q)I[q]=h&15,h>>=4;try{new pe(Se.AZTEC_PARAM).decode(I,j)}catch{throw new z}let T=0;for(let q=0;q<y;q++)T=(T<<4)+I[q];return T}getBullsEyeCorners(h){let p=h,v=h,y=h,j=h,I=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let we=this.getFirstDifferent(p,I,1,-1),ke=this.getFirstDifferent(v,I,1,1),We=this.getFirstDifferent(y,I,-1,1),ct=this.getFirstDifferent(j,I,-1,-1);if(this.nbCenterLayers>2){let ut=this.distancePoint(ct,we)*this.nbCenterLayers/(this.distancePoint(j,p)*(this.nbCenterLayers+2));if(ut<.75||ut>1.25||!this.isWhiteOrBlackRectangle(we,ke,We,ct))break}p=we,v=ke,y=We,j=ct,I=!I}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new z;this.compact=this.nbCenterLayers===5;let T=new ge(p.getX()+.5,p.getY()-.5),q=new ge(v.getX()+.5,v.getY()+.5),X=new ge(y.getX()-.5,y.getY()+.5),le=new ge(j.getX()-.5,j.getY()-.5);return this.expandSquare([T,q,X,le],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let h,p,v,y;try{let T=new je(this.image).detect();h=T[0],p=T[1],v=T[2],y=T[3]}catch{let q=this.image.getWidth()/2,X=this.image.getHeight()/2;h=this.getFirstDifferent(new Pe(q+7,X-7),!1,1,-1).toResultPoint(),p=this.getFirstDifferent(new Pe(q+7,X+7),!1,1,1).toResultPoint(),v=this.getFirstDifferent(new Pe(q-7,X+7),!1,-1,1).toResultPoint(),y=this.getFirstDifferent(new Pe(q-7,X-7),!1,-1,-1).toResultPoint()}let j=Ae.round((h.getX()+y.getX()+p.getX()+v.getX())/4),I=Ae.round((h.getY()+y.getY()+p.getY()+v.getY())/4);try{let T=new je(this.image,15,j,I).detect();h=T[0],p=T[1],v=T[2],y=T[3]}catch{h=this.getFirstDifferent(new Pe(j+7,I-7),!1,1,-1).toResultPoint(),p=this.getFirstDifferent(new Pe(j+7,I+7),!1,1,1).toResultPoint(),v=this.getFirstDifferent(new Pe(j-7,I+7),!1,-1,1).toResultPoint(),y=this.getFirstDifferent(new Pe(j-7,I-7),!1,-1,-1).toResultPoint()}return j=Ae.round((h.getX()+y.getX()+p.getX()+v.getX())/4),I=Ae.round((h.getY()+y.getY()+p.getY()+v.getY())/4),new Pe(j,I)}getMatrixCornerPoints(h){return this.expandSquare(h,2*this.nbCenterLayers,this.getDimension())}sampleGrid(h,p,v,y,j){let I=Ze.getInstance(),T=this.getDimension(),q=T/2-this.nbCenterLayers,X=T/2+this.nbCenterLayers;return I.sampleGrid(h,T,T,q,q,X,q,X,X,q,X,p.getX(),p.getY(),v.getX(),v.getY(),y.getX(),y.getY(),j.getX(),j.getY())}sampleLine(h,p,v){let y=0,j=this.distanceResultPoint(h,p),I=j/v,T=h.getX(),q=h.getY(),X=I*(p.getX()-h.getX())/j,le=I*(p.getY()-h.getY())/j;for(let we=0;we<v;we++)this.image.get(Ae.round(T+we*X),Ae.round(q+we*le))&&(y|=1<<v-we-1);return y}isWhiteOrBlackRectangle(h,p,v,y){let j=3;h=new Pe(h.getX()-j,h.getY()+j),p=new Pe(p.getX()-j,p.getY()-j),v=new Pe(v.getX()+j,v.getY()-j),y=new Pe(y.getX()+j,y.getY()+j);let I=this.getColor(y,h);if(I===0)return!1;let T=this.getColor(h,p);return T!==I||(T=this.getColor(p,v),T!==I)?!1:(T=this.getColor(v,y),T===I)}getColor(h,p){let v=this.distancePoint(h,p),y=(p.getX()-h.getX())/v,j=(p.getY()-h.getY())/v,I=0,T=h.getX(),q=h.getY(),X=this.image.get(h.getX(),h.getY()),le=Math.ceil(v);for(let ke=0;ke<le;ke++)T+=y,q+=j,this.image.get(Ae.round(T),Ae.round(q))!==X&&I++;let we=I/v;return we>.1&&we<.9?0:we<=.1===X?1:-1}getFirstDifferent(h,p,v,y){let j=h.getX()+v,I=h.getY()+y;for(;this.isValid(j,I)&&this.image.get(j,I)===p;)j+=v,I+=y;for(j-=v,I-=y;this.isValid(j,I)&&this.image.get(j,I)===p;)j+=v;for(j-=v;this.isValid(j,I)&&this.image.get(j,I)===p;)I+=y;return I-=y,new Pe(j,I)}expandSquare(h,p,v){let y=v/(2*p),j=h[0].getX()-h[2].getX(),I=h[0].getY()-h[2].getY(),T=(h[0].getX()+h[2].getX())/2,q=(h[0].getY()+h[2].getY())/2,X=new ge(T+y*j,q+y*I),le=new ge(T-y*j,q-y*I);j=h[1].getX()-h[3].getX(),I=h[1].getY()-h[3].getY(),T=(h[1].getX()+h[3].getX())/2,q=(h[1].getY()+h[3].getY())/2;let we=new ge(T+y*j,q+y*I),ke=new ge(T-y*j,q-y*I);return[X,we,le,ke]}isValid(h,p){return h>=0&&h<this.image.getWidth()&&p>0&&p<this.image.getHeight()}isValidPoint(h){let p=Ae.round(h.getX()),v=Ae.round(h.getY());return this.isValid(p,v)}distancePoint(h,p){return Ae.distance(h.getX(),h.getY(),p.getX(),p.getY())}distanceResultPoint(h,p){return Ae.distance(h.getX(),h.getY(),p.getX(),p.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(R.truncDivision(this.nbLayers-4,8)+1)+15}}class Ge{decode(h,p=null){let v=null,y=new bt(h.getBlackMatrix()),j=null,I=null;try{let le=y.detectMirror(!1);j=le.getPoints(),this.reportFoundResultPoints(p,j),I=new Re().decode(le)}catch(le){v=le}if(I==null)try{let le=y.detectMirror(!0);j=le.getPoints(),this.reportFoundResultPoints(p,j),I=new Re().decode(le)}catch(le){throw v??le}let T=new ae(I.getText(),I.getRawBytes(),I.getNumBits(),j,re.AZTEC,S.currentTimeMillis()),q=I.getByteSegments();q!=null&&T.putMetadata(me.BYTE_SEGMENTS,q);let X=I.getECLevel();return X!=null&&T.putMetadata(me.ERROR_CORRECTION_LEVEL,X),T}reportFoundResultPoints(h,p){if(h!=null){let v=h.get(O.NEED_RESULT_POINT_CALLBACK);v!=null&&p.forEach((y,j,I)=>{v.foundPossibleResultPoint(y)})}}reset(){}}class ue extends Y{constructor(h=500){super(new Ge,h)}}class De{decode(h,p){try{return this.doDecode(h,p)}catch{if(p&&p.get(O.TRY_HARDER)===!0&&h.isRotateSupported()){const j=h.rotateCounterClockwise(),I=this.doDecode(j,p),T=I.getResultMetadata();let q=270;T!==null&&T.get(me.ORIENTATION)===!0&&(q=q+T.get(me.ORIENTATION)%360),I.putMetadata(me.ORIENTATION,q);const X=I.getResultPoints();if(X!==null){const le=j.getHeight();for(let we=0;we<X.length;we++)X[we]=new ge(le-X[we].getY()-1,X[we].getX())}return I}else throw new z}}reset(){}doDecode(h,p){const v=h.getWidth(),y=h.getHeight();let j=new P(v);const I=p&&p.get(O.TRY_HARDER)===!0,T=Math.max(1,y>>(I?8:5));let q;I?q=y:q=15;const X=Math.trunc(y/2);for(let le=0;le<q;le++){const we=Math.trunc((le+1)/2),ke=(le&1)===0,We=X+T*(ke?we:-we);if(We<0||We>=y)break;try{j=h.getBlackRow(We,j)}catch{continue}for(let ct=0;ct<2;ct++){if(ct===1&&(j.reverse(),p&&p.get(O.NEED_RESULT_POINT_CALLBACK)===!0)){const ut=new Map;p.forEach((Ct,Ot)=>ut.set(Ot,Ct)),ut.delete(O.NEED_RESULT_POINT_CALLBACK),p=ut}try{const ut=this.decodeRow(We,j,p);if(ct===1){ut.putMetadata(me.ORIENTATION,180);const Ct=ut.getResultPoints();Ct!==null&&(Ct[0]=new ge(v-Ct[0].getX()-1,Ct[0].getY()),Ct[1]=new ge(v-Ct[1].getX()-1,Ct[1].getY()))}return ut}catch{}}}throw new z}static recordPattern(h,p,v){const y=v.length;for(let X=0;X<y;X++)v[X]=0;const j=h.getSize();if(p>=j)throw new z;let I=!h.get(p),T=0,q=p;for(;q<j;){if(h.get(q)!==I)v[T]++;else{if(++T===y)break;v[T]=1,I=!I}q++}if(!(T===y||T===y-1&&q===j))throw new z}static recordPatternInReverse(h,p,v){let y=v.length,j=h.get(p);for(;p>0&&y>=0;)h.get(--p)!==j&&(y--,j=!j);if(y>=0)throw new z;De.recordPattern(h,p+1,v)}static patternMatchVariance(h,p,v){const y=h.length;let j=0,I=0;for(let X=0;X<y;X++)j+=h[X],I+=p[X];if(j<I)return Number.POSITIVE_INFINITY;const T=j/I;v*=T;let q=0;for(let X=0;X<y;X++){const le=h[X],we=p[X]*T,ke=le>we?le-we:we-le;if(ke>v)return Number.POSITIVE_INFINITY;q+=ke}return q/j}}class xe extends De{static findStartPattern(h){const p=h.getSize(),v=h.getNextSet(0);let y=0,j=Int32Array.from([0,0,0,0,0,0]),I=v,T=!1;const q=6;for(let X=v;X<p;X++)if(h.get(X)!==T)j[y]++;else{if(y===q-1){let le=xe.MAX_AVG_VARIANCE,we=-1;for(let ke=xe.CODE_START_A;ke<=xe.CODE_START_C;ke++){const We=De.patternMatchVariance(j,xe.CODE_PATTERNS[ke],xe.MAX_INDIVIDUAL_VARIANCE);We<le&&(le=We,we=ke)}if(we>=0&&h.isRange(Math.max(0,I-(X-I)/2),I,!1))return Int32Array.from([I,X,we]);I+=j[0]+j[1],j=j.slice(2,j.length-1),j[y-1]=0,j[y]=0,y--}else y++;j[y]=1,T=!T}throw new z}static decodeCode(h,p,v){De.recordPattern(h,v,p);let y=xe.MAX_AVG_VARIANCE,j=-1;for(let I=0;I<xe.CODE_PATTERNS.length;I++){const T=xe.CODE_PATTERNS[I],q=this.patternMatchVariance(p,T,xe.MAX_INDIVIDUAL_VARIANCE);q<y&&(y=q,j=I)}if(j>=0)return j;throw new z}decodeRow(h,p,v){const y=v&&v.get(O.ASSUME_GS1)===!0,j=xe.findStartPattern(p),I=j[2];let T=0;const q=new Uint8Array(20);q[T++]=I;let X;switch(I){case xe.CODE_START_A:X=xe.CODE_CODE_A;break;case xe.CODE_START_B:X=xe.CODE_CODE_B;break;case xe.CODE_START_C:X=xe.CODE_CODE_C;break;default:throw new $}let le=!1,we=!1,ke="",We=j[0],ct=j[1];const ut=Int32Array.from([0,0,0,0,0,0]);let Ct=0,Ot=0,Cn=I,Tn=0,xn=!0,na=!1,Js=!1;for(;!le;){const hl=we;switch(we=!1,Ct=Ot,Ot=xe.decodeCode(p,ut,ct),q[T++]=Ot,Ot!==xe.CODE_STOP&&(xn=!0),Ot!==xe.CODE_STOP&&(Tn++,Cn+=Tn*Ot),We=ct,ct+=ut.reduce((zo,q0)=>zo+q0,0),Ot){case xe.CODE_START_A:case xe.CODE_START_B:case xe.CODE_START_C:throw new $}switch(X){case xe.CODE_CODE_A:if(Ot<64)Js===na?ke+=String.fromCharCode(32+Ot):ke+=String.fromCharCode(32+Ot+128),Js=!1;else if(Ot<96)Js===na?ke+=String.fromCharCode(Ot-64):ke+=String.fromCharCode(Ot+64),Js=!1;else switch(Ot!==xe.CODE_STOP&&(xn=!1),Ot){case xe.CODE_FNC_1:y&&(ke.length===0?ke+="]C1":ke+="");break;case xe.CODE_FNC_2:case xe.CODE_FNC_3:break;case xe.CODE_FNC_4_A:!na&&Js?(na=!0,Js=!1):na&&Js?(na=!1,Js=!1):Js=!0;break;case xe.CODE_SHIFT:we=!0,X=xe.CODE_CODE_B;break;case xe.CODE_CODE_B:X=xe.CODE_CODE_B;break;case xe.CODE_CODE_C:X=xe.CODE_CODE_C;break;case xe.CODE_STOP:le=!0;break}break;case xe.CODE_CODE_B:if(Ot<96)Js===na?ke+=String.fromCharCode(32+Ot):ke+=String.fromCharCode(32+Ot+128),Js=!1;else switch(Ot!==xe.CODE_STOP&&(xn=!1),Ot){case xe.CODE_FNC_1:y&&(ke.length===0?ke+="]C1":ke+="");break;case xe.CODE_FNC_2:case xe.CODE_FNC_3:break;case xe.CODE_FNC_4_B:!na&&Js?(na=!0,Js=!1):na&&Js?(na=!1,Js=!1):Js=!0;break;case xe.CODE_SHIFT:we=!0,X=xe.CODE_CODE_A;break;case xe.CODE_CODE_A:X=xe.CODE_CODE_A;break;case xe.CODE_CODE_C:X=xe.CODE_CODE_C;break;case xe.CODE_STOP:le=!0;break}break;case xe.CODE_CODE_C:if(Ot<100)Ot<10&&(ke+="0"),ke+=Ot;else switch(Ot!==xe.CODE_STOP&&(xn=!1),Ot){case xe.CODE_FNC_1:y&&(ke.length===0?ke+="]C1":ke+="");break;case xe.CODE_CODE_A:X=xe.CODE_CODE_A;break;case xe.CODE_CODE_B:X=xe.CODE_CODE_B;break;case xe.CODE_STOP:le=!0;break}break}hl&&(X=X===xe.CODE_CODE_A?xe.CODE_CODE_B:xe.CODE_CODE_A)}const Qi=ct-We;if(ct=p.getNextUnset(ct),!p.isRange(ct,Math.min(p.getSize(),ct+(ct-We)/2),!1))throw new z;if(Cn-=Tn*Ct,Cn%103!==Ct)throw new w;const To=ke.length;if(To===0)throw new z;To>0&&xn&&(X===xe.CODE_CODE_C?ke=ke.substring(0,To-2):ke=ke.substring(0,To-1));const io=(j[1]+j[0])/2,hr=We+Qi/2,Ai=q.length,oo=new Uint8Array(Ai);for(let hl=0;hl<Ai;hl++)oo[hl]=q[hl];const Gl=[new ge(io,h),new ge(hr,h)];return new ae(ke,oo,0,Gl,re.CODE_128,new Date().getTime())}}xe.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],xe.MAX_AVG_VARIANCE=.25,xe.MAX_INDIVIDUAL_VARIANCE=.7,xe.CODE_SHIFT=98,xe.CODE_CODE_C=99,xe.CODE_CODE_B=100,xe.CODE_CODE_A=101,xe.CODE_FNC_1=102,xe.CODE_FNC_2=97,xe.CODE_FNC_3=96,xe.CODE_FNC_4_A=101,xe.CODE_FNC_4_B=100,xe.CODE_START_A=103,xe.CODE_START_B=104,xe.CODE_START_C=105,xe.CODE_STOP=106;class Ye extends De{constructor(h=!1,p=!1){super(),this.usingCheckDigit=h,this.extendedMode=p,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(h,p,v){let y=this.counters;y.fill(0),this.decodeRowResult="";let j=Ye.findAsteriskPattern(p,y),I=p.getNextSet(j[1]),T=p.getSize(),q,X;do{Ye.recordPattern(p,I,y);let ut=Ye.toNarrowWidePattern(y);if(ut<0)throw new z;q=Ye.patternToChar(ut),this.decodeRowResult+=q,X=I;for(let Ct of y)I+=Ct;I=p.getNextSet(I)}while(q!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let le=0;for(let ut of y)le+=ut;let we=I-X-le;if(I!==T&&we*2<le)throw new z;if(this.usingCheckDigit){let ut=this.decodeRowResult.length-1,Ct=0;for(let Ot=0;Ot<ut;Ot++)Ct+=Ye.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(Ot));if(this.decodeRowResult.charAt(ut)!==Ye.ALPHABET_STRING.charAt(Ct%43))throw new w;this.decodeRowResult=this.decodeRowResult.substring(0,ut)}if(this.decodeRowResult.length===0)throw new z;let ke;this.extendedMode?ke=Ye.decodeExtended(this.decodeRowResult):ke=this.decodeRowResult;let We=(j[1]+j[0])/2,ct=X+le/2;return new ae(ke,null,0,[new ge(We,h),new ge(ct,h)],re.CODE_39,new Date().getTime())}static findAsteriskPattern(h,p){let v=h.getSize(),y=h.getNextSet(0),j=0,I=y,T=!1,q=p.length;for(let X=y;X<v;X++)if(h.get(X)!==T)p[j]++;else{if(j===q-1){if(this.toNarrowWidePattern(p)===Ye.ASTERISK_ENCODING&&h.isRange(Math.max(0,I-Math.floor((X-I)/2)),I,!1))return[I,X];I+=p[0]+p[1],p.copyWithin(0,2,2+j-1),p[j-1]=0,p[j]=0,j--}else j++;p[j]=1,T=!T}throw new z}static toNarrowWidePattern(h){let p=h.length,v=0,y;do{let j=2147483647;for(let q of h)q<j&&q>v&&(j=q);v=j,y=0;let I=0,T=0;for(let q=0;q<p;q++){let X=h[q];X>v&&(T|=1<<p-1-q,y++,I+=X)}if(y===3){for(let q=0;q<p&&y>0;q++){let X=h[q];if(X>v&&(y--,X*2>=I))return-1}return T}}while(y>3);return-1}static patternToChar(h){for(let p=0;p<Ye.CHARACTER_ENCODINGS.length;p++)if(Ye.CHARACTER_ENCODINGS[p]===h)return Ye.ALPHABET_STRING.charAt(p);if(h===Ye.ASTERISK_ENCODING)return"*";throw new z}static decodeExtended(h){let p=h.length,v="";for(let y=0;y<p;y++){let j=h.charAt(y);if(j==="+"||j==="$"||j==="%"||j==="/"){let I=h.charAt(y+1),T="\0";switch(j){case"+":if(I>="A"&&I<="Z")T=String.fromCharCode(I.charCodeAt(0)+32);else throw new $;break;case"$":if(I>="A"&&I<="Z")T=String.fromCharCode(I.charCodeAt(0)-64);else throw new $;break;case"%":if(I>="A"&&I<="E")T=String.fromCharCode(I.charCodeAt(0)-38);else if(I>="F"&&I<="J")T=String.fromCharCode(I.charCodeAt(0)-11);else if(I>="K"&&I<="O")T=String.fromCharCode(I.charCodeAt(0)+16);else if(I>="P"&&I<="T")T=String.fromCharCode(I.charCodeAt(0)+43);else if(I==="U")T="\0";else if(I==="V")T="@";else if(I==="W")T="`";else if(I==="X"||I==="Y"||I==="Z")T="";else throw new $;break;case"/":if(I>="A"&&I<="O")T=String.fromCharCode(I.charCodeAt(0)-32);else if(I==="Z")T=":";else throw new $;break}v+=T,y++}else v+=j}return v}}Ye.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",Ye.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],Ye.ASTERISK_ENCODING=148;class at extends De{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(h,p,v){let y=this.decodeStart(p),j=this.decodeEnd(p),I=new te;at.decodeMiddle(p,y[1],j[0],I);let T=I.toString(),q=null;v!=null&&(q=v.get(O.ALLOWED_LENGTHS)),q==null&&(q=at.DEFAULT_ALLOWED_LENGTHS);let X=T.length,le=!1,we=0;for(let ct of q){if(X===ct){le=!0;break}ct>we&&(we=ct)}if(!le&&X>we&&(le=!0),!le)throw new $;const ke=[new ge(y[1],h),new ge(j[0],h)];return new ae(T,null,0,ke,re.ITF,new Date().getTime())}static decodeMiddle(h,p,v,y){let j=new Int32Array(10),I=new Int32Array(5),T=new Int32Array(5);for(j.fill(0),I.fill(0),T.fill(0);p<v;){De.recordPattern(h,p,j);for(let X=0;X<5;X++){let le=2*X;I[X]=j[le],T[X]=j[le+1]}let q=at.decodeDigit(I);y.append(q.toString()),q=this.decodeDigit(T),y.append(q.toString()),j.forEach(function(X){p+=X})}}decodeStart(h){let p=at.skipWhiteSpace(h),v=at.findGuardPattern(h,p,at.START_PATTERN);return this.narrowLineWidth=(v[1]-v[0])/4,this.validateQuietZone(h,v[0]),v}validateQuietZone(h,p){let v=this.narrowLineWidth*10;v=v<p?v:p;for(let y=p-1;v>0&&y>=0&&!h.get(y);y--)v--;if(v!==0)throw new z}static skipWhiteSpace(h){const p=h.getSize(),v=h.getNextSet(0);if(v===p)throw new z;return v}decodeEnd(h){h.reverse();try{let p=at.skipWhiteSpace(h),v;try{v=at.findGuardPattern(h,p,at.END_PATTERN_REVERSED[0])}catch(j){j instanceof z&&(v=at.findGuardPattern(h,p,at.END_PATTERN_REVERSED[1]))}this.validateQuietZone(h,v[0]);let y=v[0];return v[0]=h.getSize()-v[1],v[1]=h.getSize()-y,v}finally{h.reverse()}}static findGuardPattern(h,p,v){let y=v.length,j=new Int32Array(y),I=h.getSize(),T=!1,q=0,X=p;j.fill(0);for(let le=p;le<I;le++)if(h.get(le)!==T)j[q]++;else{if(q===y-1){if(De.patternMatchVariance(j,v,at.MAX_INDIVIDUAL_VARIANCE)<at.MAX_AVG_VARIANCE)return[X,le];X+=j[0]+j[1],S.arraycopy(j,2,j,0,q-1),j[q-1]=0,j[q]=0,q--}else q++;j[q]=1,T=!T}throw new z}static decodeDigit(h){let p=at.MAX_AVG_VARIANCE,v=-1,y=at.PATTERNS.length;for(let j=0;j<y;j++){let I=at.PATTERNS[j],T=De.patternMatchVariance(h,I,at.MAX_INDIVIDUAL_VARIANCE);T<p?(p=T,v=j):T===p&&(v=-1)}if(v>=0)return v%10;throw new z}}at.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],at.MAX_AVG_VARIANCE=.38,at.MAX_INDIVIDUAL_VARIANCE=.5,at.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],at.START_PATTERN=Int32Array.from([1,1,1,1]),at.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class lt extends De{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(h){let p=!1,v,y=0,j=Int32Array.from([0,0,0]);for(;!p;){j=Int32Array.from([0,0,0]),v=lt.findGuardPattern(h,y,!1,this.START_END_PATTERN,j);let I=v[0];y=v[1];let T=I-(y-I);T>=0&&(p=h.isRange(T,I,!1))}return v}static checkChecksum(h){return lt.checkStandardUPCEANChecksum(h)}static checkStandardUPCEANChecksum(h){let p=h.length;if(p===0)return!1;let v=parseInt(h.charAt(p-1),10);return lt.getStandardUPCEANChecksum(h.substring(0,p-1))===v}static getStandardUPCEANChecksum(h){let p=h.length,v=0;for(let y=p-1;y>=0;y-=2){let j=h.charAt(y).charCodeAt(0)-48;if(j<0||j>9)throw new $;v+=j}v*=3;for(let y=p-2;y>=0;y-=2){let j=h.charAt(y).charCodeAt(0)-48;if(j<0||j>9)throw new $;v+=j}return(1e3-v)%10}static decodeEnd(h,p){return lt.findGuardPattern(h,p,!1,lt.START_END_PATTERN,new Int32Array(lt.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(h,p,v,y){return this.findGuardPattern(h,p,v,y,new Int32Array(y.length))}static findGuardPattern(h,p,v,y,j){let I=h.getSize();p=v?h.getNextUnset(p):h.getNextSet(p);let T=0,q=p,X=y.length,le=v;for(let we=p;we<I;we++)if(h.get(we)!==le)j[T]++;else{if(T===X-1){if(De.patternMatchVariance(j,y,lt.MAX_INDIVIDUAL_VARIANCE)<lt.MAX_AVG_VARIANCE)return Int32Array.from([q,we]);q+=j[0]+j[1];let ke=j.slice(2,j.length-1);for(let We=0;We<T-1;We++)j[We]=ke[We];j[T-1]=0,j[T]=0,T--}else T++;j[T]=1,le=!le}throw new z}static decodeDigit(h,p,v,y){this.recordPattern(h,v,p);let j=this.MAX_AVG_VARIANCE,I=-1,T=y.length;for(let q=0;q<T;q++){let X=y[q],le=De.patternMatchVariance(p,X,lt.MAX_INDIVIDUAL_VARIANCE);le<j&&(j=le,I=q)}if(I>=0)return I;throw new z}}lt.MAX_AVG_VARIANCE=.48,lt.MAX_INDIVIDUAL_VARIANCE=.7,lt.START_END_PATTERN=Int32Array.from([1,1,1]),lt.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),lt.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),lt.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class Mt{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(h,p,v){let y=this.decodeRowStringBuffer,j=this.decodeMiddle(p,v,y),I=y.toString(),T=Mt.parseExtensionString(I),q=[new ge((v[0]+v[1])/2,h),new ge(j,h)],X=new ae(I,null,0,q,re.UPC_EAN_EXTENSION,new Date().getTime());return T!=null&&X.putAllMetadata(T),X}decodeMiddle(h,p,v){let y=this.decodeMiddleCounters;y[0]=0,y[1]=0,y[2]=0,y[3]=0;let j=h.getSize(),I=p[1],T=0;for(let X=0;X<5&&I<j;X++){let le=lt.decodeDigit(h,y,I,lt.L_AND_G_PATTERNS);v+=String.fromCharCode(48+le%10);for(let we of y)I+=we;le>=10&&(T|=1<<4-X),X!==4&&(I=h.getNextSet(I),I=h.getNextUnset(I))}if(v.length!==5)throw new z;let q=this.determineCheckDigit(T);if(Mt.extensionChecksum(v.toString())!==q)throw new z;return I}static extensionChecksum(h){let p=h.length,v=0;for(let y=p-2;y>=0;y-=2)v+=h.charAt(y).charCodeAt(0)-48;v*=3;for(let y=p-1;y>=0;y-=2)v+=h.charAt(y).charCodeAt(0)-48;return v*=3,v%10}determineCheckDigit(h){for(let p=0;p<10;p++)if(h===this.CHECK_DIGIT_ENCODINGS[p])return p;throw new z}static parseExtensionString(h){if(h.length!==5)return null;let p=Mt.parseExtension5String(h);return p==null?null:new Map([[me.SUGGESTED_PRICE,p]])}static parseExtension5String(h){let p;switch(h.charAt(0)){case"0":p="";break;case"5":p="$";break;case"9":switch(h){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}p="";break;default:p="";break}let v=parseInt(h.substring(1)),y=(v/100).toString(),j=v%100,I=j<10?"0"+j:j.toString();return p+y+"."+I}}class pn{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(h,p,v){let y=this.decodeRowStringBuffer,j=this.decodeMiddle(p,v,y),I=y.toString(),T=pn.parseExtensionString(I),q=[new ge((v[0]+v[1])/2,h),new ge(j,h)],X=new ae(I,null,0,q,re.UPC_EAN_EXTENSION,new Date().getTime());return T!=null&&X.putAllMetadata(T),X}decodeMiddle(h,p,v){let y=this.decodeMiddleCounters;y[0]=0,y[1]=0,y[2]=0,y[3]=0;let j=h.getSize(),I=p[1],T=0;for(let q=0;q<2&&I<j;q++){let X=lt.decodeDigit(h,y,I,lt.L_AND_G_PATTERNS);v+=String.fromCharCode(48+X%10);for(let le of y)I+=le;X>=10&&(T|=1<<1-q),q!==1&&(I=h.getNextSet(I),I=h.getNextUnset(I))}if(v.length!==2)throw new z;if(parseInt(v.toString())%4!==T)throw new z;return I}static parseExtensionString(h){return h.length!==2?null:new Map([[me.ISSUE_NUMBER,parseInt(h)]])}}class Qn{static decodeRow(h,p,v){let y=lt.findGuardPattern(p,v,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new Mt().decodeRow(h,p,y)}catch{return new pn().decodeRow(h,p,y)}}}Qn.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class yt extends lt{constructor(){super(),this.decodeRowStringBuffer="",yt.L_AND_G_PATTERNS=yt.L_PATTERNS.map(h=>Int32Array.from(h));for(let h=10;h<20;h++){let p=yt.L_PATTERNS[h-10],v=new Int32Array(p.length);for(let y=0;y<p.length;y++)v[y]=p[p.length-y-1];yt.L_AND_G_PATTERNS[h]=v}}decodeRow(h,p,v){let y=yt.findStartGuardPattern(p),j=v==null?null:v.get(O.NEED_RESULT_POINT_CALLBACK);if(j!=null){const xn=new ge((y[0]+y[1])/2,h);j.foundPossibleResultPoint(xn)}let I=this.decodeMiddle(p,y,this.decodeRowStringBuffer),T=I.rowOffset,q=I.resultString;if(j!=null){const xn=new ge(T,h);j.foundPossibleResultPoint(xn)}let X=this.decodeEnd(p,T);if(j!=null){const xn=new ge((X[0]+X[1])/2,h);j.foundPossibleResultPoint(xn)}let le=X[1],we=le+(le-X[0]);if(we>=p.getSize()||!p.isRange(le,we,!1))throw new z;let ke=q.toString();if(ke.length<8)throw new $;if(!yt.checkChecksum(ke))throw new w;let We=(y[1]+y[0])/2,ct=(X[1]+X[0])/2,ut=this.getBarcodeFormat(),Ct=[new ge(We,h),new ge(ct,h)],Ot=new ae(ke,null,0,Ct,ut,new Date().getTime()),Cn=0;try{let xn=Qn.decodeRow(h,p,X[1]);Ot.putMetadata(me.UPC_EAN_EXTENSION,xn.getText()),Ot.putAllMetadata(xn.getResultMetadata()),Ot.addResultPoints(xn.getResultPoints()),Cn=xn.getText().length}catch{}let Tn=v==null?null:v.get(O.ALLOWED_EAN_EXTENSIONS);if(Tn!=null){let xn=!1;for(let na in Tn)if(Cn.toString()===na){xn=!0;break}if(!xn)throw new z}return Ot}decodeEnd(h,p){return yt.findGuardPattern(h,p,!1,yt.START_END_PATTERN,new Int32Array(yt.START_END_PATTERN.length).fill(0))}static checkChecksum(h){return yt.checkStandardUPCEANChecksum(h)}static checkStandardUPCEANChecksum(h){let p=h.length;if(p===0)return!1;let v=parseInt(h.charAt(p-1),10);return yt.getStandardUPCEANChecksum(h.substring(0,p-1))===v}static getStandardUPCEANChecksum(h){let p=h.length,v=0;for(let y=p-1;y>=0;y-=2){let j=h.charAt(y).charCodeAt(0)-48;if(j<0||j>9)throw new $;v+=j}v*=3;for(let y=p-2;y>=0;y-=2){let j=h.charAt(y).charCodeAt(0)-48;if(j<0||j>9)throw new $;v+=j}return(1e3-v)%10}}class ln extends yt{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(h,p,v){let y=this.decodeMiddleCounters;y[0]=0,y[1]=0,y[2]=0,y[3]=0;let j=h.getSize(),I=p[1],T=0;for(let X=0;X<6&&I<j;X++){let le=yt.decodeDigit(h,y,I,yt.L_AND_G_PATTERNS);v+=String.fromCharCode(48+le%10);for(let we of y)I+=we;le>=10&&(T|=1<<5-X)}v=ln.determineFirstDigit(v,T),I=yt.findGuardPattern(h,I,!0,yt.MIDDLE_PATTERN,new Int32Array(yt.MIDDLE_PATTERN.length).fill(0))[1];for(let X=0;X<6&&I<j;X++){let le=yt.decodeDigit(h,y,I,yt.L_PATTERNS);v+=String.fromCharCode(48+le);for(let we of y)I+=we}return{rowOffset:I,resultString:v}}getBarcodeFormat(){return re.EAN_13}static determineFirstDigit(h,p){for(let v=0;v<10;v++)if(p===this.FIRST_DIGIT_ENCODINGS[v])return h=String.fromCharCode(48+v)+h,h;throw new z}}ln.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class fn extends yt{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(h,p,v){const y=this.decodeMiddleCounters;y[0]=0,y[1]=0,y[2]=0,y[3]=0;let j=h.getSize(),I=p[1];for(let q=0;q<4&&I<j;q++){let X=yt.decodeDigit(h,y,I,yt.L_PATTERNS);v+=String.fromCharCode(48+X);for(let le of y)I+=le}I=yt.findGuardPattern(h,I,!0,yt.MIDDLE_PATTERN,new Int32Array(yt.MIDDLE_PATTERN.length).fill(0))[1];for(let q=0;q<4&&I<j;q++){let X=yt.decodeDigit(h,y,I,yt.L_PATTERNS);v+=String.fromCharCode(48+X);for(let le of y)I+=le}return{rowOffset:I,resultString:v}}getBarcodeFormat(){return re.EAN_8}}class jn extends yt{constructor(){super(...arguments),this.ean13Reader=new ln}getBarcodeFormat(){return re.UPC_A}decode(h,p){return this.maybeReturnResult(this.ean13Reader.decode(h))}decodeRow(h,p,v){return this.maybeReturnResult(this.ean13Reader.decodeRow(h,p,v))}decodeMiddle(h,p,v){return this.ean13Reader.decodeMiddle(h,p,v)}maybeReturnResult(h){let p=h.getText();if(p.charAt(0)==="0"){let v=new ae(p.substring(1),null,null,h.getResultPoints(),re.UPC_A);return h.getResultMetadata()!=null&&v.putAllMetadata(h.getResultMetadata()),v}else throw new z}reset(){this.ean13Reader.reset()}}class dt extends yt{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(h,p,v){const y=this.decodeMiddleCounters.map(X=>X);y[0]=0,y[1]=0,y[2]=0,y[3]=0;const j=h.getSize();let I=p[1],T=0;for(let X=0;X<6&&I<j;X++){const le=dt.decodeDigit(h,y,I,dt.L_AND_G_PATTERNS);v+=String.fromCharCode(48+le%10);for(let we of y)I+=we;le>=10&&(T|=1<<5-X)}let q=dt.determineNumSysAndCheckDigit(v,T);return{rowOffset:I,resultString:q}}decodeEnd(h,p){return dt.findGuardPatternWithoutCounters(h,p,!0,dt.MIDDLE_END_PATTERN)}checkChecksum(h){return yt.checkChecksum(dt.convertUPCEtoUPCA(h))}static determineNumSysAndCheckDigit(h,p){for(let v=0;v<=1;v++)for(let y=0;y<10;y++)if(p===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[v][y]){let j=String.fromCharCode(48+v),I=String.fromCharCode(48+y);return j+h+I}throw z.getNotFoundInstance()}getBarcodeFormat(){return re.UPC_E}static convertUPCEtoUPCA(h){const p=h.slice(1,7).split("").map(j=>j.charCodeAt(0)),v=new te;v.append(h.charAt(0));let y=p[5];switch(y){case 0:case 1:case 2:v.appendChars(p,0,2),v.append(y),v.append("0000"),v.appendChars(p,2,3);break;case 3:v.appendChars(p,0,3),v.append("00000"),v.appendChars(p,3,2);break;case 4:v.appendChars(p,0,4),v.append("00000"),v.append(p[4]);break;default:v.appendChars(p,0,5),v.append("0000"),v.append(y);break}return h.length>=8&&v.append(h.charAt(7)),v.toString()}}dt.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),dt.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class It extends De{constructor(h){super();let p=h==null?null:h.get(O.POSSIBLE_FORMATS),v=[];a(p)?(v.push(new ln),v.push(new jn),v.push(new fn),v.push(new dt)):(p.indexOf(re.EAN_13)>-1&&v.push(new ln),p.indexOf(re.UPC_A)>-1&&v.push(new jn),p.indexOf(re.EAN_8)>-1&&v.push(new fn),p.indexOf(re.UPC_E)>-1&&v.push(new dt)),this.readers=v}decodeRow(h,p,v){for(let y of this.readers)try{const j=y.decodeRow(h,p,v),I=j.getBarcodeFormat()===re.EAN_13&&j.getText().charAt(0)==="0",T=v==null?null:v.get(O.POSSIBLE_FORMATS),q=T==null||T.includes(re.UPC_A);if(I&&q){const X=j.getRawBytes(),le=new ae(j.getText().substring(1),X,X?X.length:null,j.getResultPoints(),re.UPC_A);return le.putAllMetadata(j.getResultMetadata()),le}return j}catch{}throw new z}reset(){for(let h of this.readers)h.reset()}}class st extends De{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(h,p){for(let v=0;v<p.length;v++)if(De.patternMatchVariance(h,p[v],st.MAX_INDIVIDUAL_VARIANCE)<st.MAX_AVG_VARIANCE)return v;throw new z}static count(h){return Ae.sum(new Int32Array(h))}static increment(h,p){let v=0,y=p[0];for(let j=1;j<h.length;j++)p[j]>y&&(y=p[j],v=j);h[v]++}static decrement(h,p){let v=0,y=p[0];for(let j=1;j<h.length;j++)p[j]<y&&(y=p[j],v=j);h[v]--}static isFinderPattern(h){let p=h[0]+h[1],v=p+h[2]+h[3],y=p/v;if(y>=st.MIN_FINDER_PATTERN_RATIO&&y<=st.MAX_FINDER_PATTERN_RATIO){let j=Number.MAX_SAFE_INTEGER,I=Number.MIN_SAFE_INTEGER;for(let T of h)T>I&&(I=T),T<j&&(j=T);return I<10*j}return!1}}st.MAX_AVG_VARIANCE=.2,st.MAX_INDIVIDUAL_VARIANCE=.45,st.MIN_FINDER_PATTERN_RATIO=9.5/12,st.MAX_FINDER_PATTERN_RATIO=12.5/14;class Rt{constructor(h,p){this.value=h,this.checksumPortion=p}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(h){if(!(h instanceof Rt))return!1;const p=h;return this.value===p.value&&this.checksumPortion===p.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class Lt{constructor(h,p,v,y,j){this.value=h,this.startEnd=p,this.value=h,this.startEnd=p,this.resultPoints=new Array,this.resultPoints.push(new ge(v,j)),this.resultPoints.push(new ge(y,j))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(h){if(!(h instanceof Lt))return!1;const p=h;return this.value===p.value}hashCode(){return this.value}}class on{constructor(){}static getRSSvalue(h,p,v){let y=0;for(let q of h)y+=q;let j=0,I=0,T=h.length;for(let q=0;q<T-1;q++){let X;for(X=1,I|=1<<q;X<h[q];X++,I&=~(1<<q)){let le=on.combins(y-X-1,T-q-2);if(v&&I===0&&y-X-(T-q-1)>=T-q-1&&(le-=on.combins(y-X-(T-q),T-q-2)),T-q-1>1){let we=0;for(let ke=y-X-(T-q-2);ke>p;ke--)we+=on.combins(y-X-ke-1,T-q-3);le-=we*(T-1-q)}else y-X>p&&le--;j+=le}y-=X}return j}static combins(h,p){let v,y;h-p>p?(y=p,v=h-p):(y=h-p,v=p);let j=1,I=1;for(let T=h;T>v;T--)j*=T,I<=y&&(j/=I,I++);for(;I<=y;)j/=I,I++;return j}}class vn{static buildBitArray(h){let p=h.length*2-1;h[h.length-1].getRightChar()==null&&(p-=1);let v=12*p,y=new P(v),j=0,T=h[0].getRightChar().getValue();for(let q=11;q>=0;--q)(T&1<<q)!=0&&y.set(j),j++;for(let q=1;q<h.length;++q){let X=h[q],le=X.getLeftChar().getValue();for(let we=11;we>=0;--we)(le&1<<we)!=0&&y.set(j),j++;if(X.getRightChar()!=null){let we=X.getRightChar().getValue();for(let ke=11;ke>=0;--ke)(we&1<<ke)!=0&&y.set(j),j++}}return y}}class ss{constructor(h,p){p?this.decodedInformation=null:(this.finished=h,this.decodedInformation=p)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class hs{constructor(h){this.newPosition=h}getNewPosition(){return this.newPosition}}class xs extends hs{constructor(h,p){super(h),this.value=p}getValue(){return this.value}isFNC1(){return this.value===xs.FNC1}}xs.FNC1="$";class fs extends hs{constructor(h,p,v){super(h),v?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=p}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class Hn extends hs{constructor(h,p,v){if(super(h),p<0||p>10||v<0||v>10)throw new $;this.firstDigit=p,this.secondDigit=v}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===Hn.FNC1}isSecondDigitFNC1(){return this.secondDigit===Hn.FNC1}isAnyFNC1(){return this.firstDigit===Hn.FNC1||this.secondDigit===Hn.FNC1}}Hn.FNC1=10;class Xt{constructor(){}static parseFieldsInGeneralPurpose(h){if(!h)return null;if(h.length<2)throw new z;let p=h.substring(0,2);for(let j of Xt.TWO_DIGIT_DATA_LENGTH)if(j[0]===p)return j[1]===Xt.VARIABLE_LENGTH?Xt.processVariableAI(2,j[2],h):Xt.processFixedAI(2,j[1],h);if(h.length<3)throw new z;let v=h.substring(0,3);for(let j of Xt.THREE_DIGIT_DATA_LENGTH)if(j[0]===v)return j[1]===Xt.VARIABLE_LENGTH?Xt.processVariableAI(3,j[2],h):Xt.processFixedAI(3,j[1],h);for(let j of Xt.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(j[0]===v)return j[1]===Xt.VARIABLE_LENGTH?Xt.processVariableAI(4,j[2],h):Xt.processFixedAI(4,j[1],h);if(h.length<4)throw new z;let y=h.substring(0,4);for(let j of Xt.FOUR_DIGIT_DATA_LENGTH)if(j[0]===y)return j[1]===Xt.VARIABLE_LENGTH?Xt.processVariableAI(4,j[2],h):Xt.processFixedAI(4,j[1],h);throw new z}static processFixedAI(h,p,v){if(v.length<h)throw new z;let y=v.substring(0,h);if(v.length<h+p)throw new z;let j=v.substring(h,h+p),I=v.substring(h+p),T="("+y+")"+j,q=Xt.parseFieldsInGeneralPurpose(I);return q==null?T:T+q}static processVariableAI(h,p,v){let y=v.substring(0,h),j;v.length<h+p?j=v.length:j=h+p;let I=v.substring(h,j),T=v.substring(j),q="("+y+")"+I,X=Xt.parseFieldsInGeneralPurpose(T);return X==null?q:q+X}}Xt.VARIABLE_LENGTH=[],Xt.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",Xt.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",Xt.VARIABLE_LENGTH,20],["22",Xt.VARIABLE_LENGTH,29],["30",Xt.VARIABLE_LENGTH,8],["37",Xt.VARIABLE_LENGTH,8],["90",Xt.VARIABLE_LENGTH,30],["91",Xt.VARIABLE_LENGTH,30],["92",Xt.VARIABLE_LENGTH,30],["93",Xt.VARIABLE_LENGTH,30],["94",Xt.VARIABLE_LENGTH,30],["95",Xt.VARIABLE_LENGTH,30],["96",Xt.VARIABLE_LENGTH,30],["97",Xt.VARIABLE_LENGTH,3],["98",Xt.VARIABLE_LENGTH,30],["99",Xt.VARIABLE_LENGTH,30]],Xt.THREE_DIGIT_DATA_LENGTH=[["240",Xt.VARIABLE_LENGTH,30],["241",Xt.VARIABLE_LENGTH,30],["242",Xt.VARIABLE_LENGTH,6],["250",Xt.VARIABLE_LENGTH,30],["251",Xt.VARIABLE_LENGTH,30],["253",Xt.VARIABLE_LENGTH,17],["254",Xt.VARIABLE_LENGTH,20],["400",Xt.VARIABLE_LENGTH,30],["401",Xt.VARIABLE_LENGTH,30],["402",17],["403",Xt.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",Xt.VARIABLE_LENGTH,20],["421",Xt.VARIABLE_LENGTH,15],["422",3],["423",Xt.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],Xt.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",Xt.VARIABLE_LENGTH,15],["391",Xt.VARIABLE_LENGTH,18],["392",Xt.VARIABLE_LENGTH,15],["393",Xt.VARIABLE_LENGTH,18],["703",Xt.VARIABLE_LENGTH,30]],Xt.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",Xt.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",Xt.VARIABLE_LENGTH,20],["8003",Xt.VARIABLE_LENGTH,30],["8004",Xt.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",Xt.VARIABLE_LENGTH,30],["8008",Xt.VARIABLE_LENGTH,12],["8018",18],["8020",Xt.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",Xt.VARIABLE_LENGTH,70],["8200",Xt.VARIABLE_LENGTH,70]];class ia{constructor(h){this.buffer=new te,this.information=h}decodeAllCodes(h,p){let v=p,y=null;do{let j=this.decodeGeneralPurposeField(v,y),I=Xt.parseFieldsInGeneralPurpose(j.getNewString());if(I!=null&&h.append(I),j.isRemaining()?y=""+j.getRemainingValue():y=null,v===j.getNewPosition())break;v=j.getNewPosition()}while(!0);return h.toString()}isStillNumeric(h){if(h+7>this.information.getSize())return h+4<=this.information.getSize();for(let p=h;p<h+3;++p)if(this.information.get(p))return!0;return this.information.get(h+3)}decodeNumeric(h){if(h+7>this.information.getSize()){let j=this.extractNumericValueFromBitArray(h,4);return j===0?new Hn(this.information.getSize(),Hn.FNC1,Hn.FNC1):new Hn(this.information.getSize(),j-1,Hn.FNC1)}let p=this.extractNumericValueFromBitArray(h,7),v=(p-8)/11,y=(p-8)%11;return new Hn(h+7,v,y)}extractNumericValueFromBitArray(h,p){return ia.extractNumericValueFromBitArray(this.information,h,p)}static extractNumericValueFromBitArray(h,p,v){let y=0;for(let j=0;j<v;++j)h.get(p+j)&&(y|=1<<v-j-1);return y}decodeGeneralPurposeField(h,p){this.buffer.setLengthToZero(),p!=null&&this.buffer.append(p),this.current.setPosition(h);let v=this.parseBlocks();return v!=null&&v.isRemaining()?new fs(this.current.getPosition(),this.buffer.toString(),v.getRemainingValue()):new fs(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let h,p;do{let v=this.current.getPosition();if(this.current.isAlpha()?(p=this.parseAlphaBlock(),h=p.isFinished()):this.current.isIsoIec646()?(p=this.parseIsoIec646Block(),h=p.isFinished()):(p=this.parseNumericBlock(),h=p.isFinished()),!(v!==this.current.getPosition())&&!h)break}while(!h);return p.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let h=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(h.getNewPosition()),h.isFirstDigitFNC1()){let p;return h.isSecondDigitFNC1()?p=new fs(this.current.getPosition(),this.buffer.toString()):p=new fs(this.current.getPosition(),this.buffer.toString(),h.getSecondDigit()),new ss(!0,p)}if(this.buffer.append(h.getFirstDigit()),h.isSecondDigitFNC1()){let p=new fs(this.current.getPosition(),this.buffer.toString());return new ss(!0,p)}this.buffer.append(h.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new ss(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let h=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(h.getNewPosition()),h.isFNC1()){let p=new fs(this.current.getPosition(),this.buffer.toString());return new ss(!0,p)}this.buffer.append(h.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new ss(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let h=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(h.getNewPosition()),h.isFNC1()){let p=new fs(this.current.getPosition(),this.buffer.toString());return new ss(!0,p)}this.buffer.append(h.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new ss(!1)}isStillIsoIec646(h){if(h+5>this.information.getSize())return!1;let p=this.extractNumericValueFromBitArray(h,5);if(p>=5&&p<16)return!0;if(h+7>this.information.getSize())return!1;let v=this.extractNumericValueFromBitArray(h,7);if(v>=64&&v<116)return!0;if(h+8>this.information.getSize())return!1;let y=this.extractNumericValueFromBitArray(h,8);return y>=232&&y<253}decodeIsoIec646(h){let p=this.extractNumericValueFromBitArray(h,5);if(p===15)return new xs(h+5,xs.FNC1);if(p>=5&&p<15)return new xs(h+5,"0"+(p-5));let v=this.extractNumericValueFromBitArray(h,7);if(v>=64&&v<90)return new xs(h+7,""+(v+1));if(v>=90&&v<116)return new xs(h+7,""+(v+7));let y=this.extractNumericValueFromBitArray(h,8),j;switch(y){case 232:j="!";break;case 233:j='"';break;case 234:j="%";break;case 235:j="&";break;case 236:j="'";break;case 237:j="(";break;case 238:j=")";break;case 239:j="*";break;case 240:j="+";break;case 241:j=",";break;case 242:j="-";break;case 243:j=".";break;case 244:j="/";break;case 245:j=":";break;case 246:j=";";break;case 247:j="<";break;case 248:j="=";break;case 249:j=">";break;case 250:j="?";break;case 251:j="_";break;case 252:j=" ";break;default:throw new $}return new xs(h+8,j)}isStillAlpha(h){if(h+5>this.information.getSize())return!1;let p=this.extractNumericValueFromBitArray(h,5);if(p>=5&&p<16)return!0;if(h+6>this.information.getSize())return!1;let v=this.extractNumericValueFromBitArray(h,6);return v>=16&&v<63}decodeAlphanumeric(h){let p=this.extractNumericValueFromBitArray(h,5);if(p===15)return new xs(h+5,xs.FNC1);if(p>=5&&p<15)return new xs(h+5,"0"+(p-5));let v=this.extractNumericValueFromBitArray(h,6);if(v>=32&&v<58)return new xs(h+6,""+(v+33));let y;switch(v){case 58:y="*";break;case 59:y=",";break;case 60:y="-";break;case 61:y=".";break;case 62:y="/";break;default:throw new de("Decoding invalid alphanumeric value: "+v)}return new xs(h+6,y)}isAlphaTo646ToAlphaLatch(h){if(h+1>this.information.getSize())return!1;for(let p=0;p<5&&p+h<this.information.getSize();++p)if(p===2){if(!this.information.get(h+2))return!1}else if(this.information.get(h+p))return!1;return!0}isAlphaOr646ToNumericLatch(h){if(h+3>this.information.getSize())return!1;for(let p=h;p<h+3;++p)if(this.information.get(p))return!1;return!0}isNumericToAlphaNumericLatch(h){if(h+1>this.information.getSize())return!1;for(let p=0;p<4&&p+h<this.information.getSize();++p)if(this.information.get(h+p))return!1;return!0}}class Ca{constructor(h){this.information=h,this.generalDecoder=new ia(h)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class Vn extends Ca{constructor(h){super(h)}encodeCompressedGtin(h,p){h.append("(01)");let v=h.length();h.append("9"),this.encodeCompressedGtinWithoutAI(h,p,v)}encodeCompressedGtinWithoutAI(h,p,v){for(let y=0;y<4;++y){let j=this.getGeneralDecoder().extractNumericValueFromBitArray(p+10*y,10);j/100===0&&h.append("0"),j/10===0&&h.append("0"),h.append(j)}Vn.appendCheckDigit(h,v)}static appendCheckDigit(h,p){let v=0;for(let y=0;y<13;y++){let j=h.charAt(y+p).charCodeAt(0)-48;v+=(y&1)===0?3*j:j}v=10-v%10,v===10&&(v=0),h.append(v)}}Vn.GTIN_SIZE=40;class Na extends Vn{constructor(h){super(h)}parseInformation(){let h=new te;h.append("(01)");let p=h.length(),v=this.getGeneralDecoder().extractNumericValueFromBitArray(Na.HEADER_SIZE,4);return h.append(v),this.encodeCompressedGtinWithoutAI(h,Na.HEADER_SIZE+4,p),this.getGeneralDecoder().decodeAllCodes(h,Na.HEADER_SIZE+44)}}Na.HEADER_SIZE=4;class Qs extends Ca{constructor(h){super(h)}parseInformation(){let h=new te;return this.getGeneralDecoder().decodeAllCodes(h,Qs.HEADER_SIZE)}}Qs.HEADER_SIZE=5;class ta extends Vn{constructor(h){super(h)}encodeCompressedWeight(h,p,v){let y=this.getGeneralDecoder().extractNumericValueFromBitArray(p,v);this.addWeightCode(h,y);let j=this.checkWeight(y),I=1e5;for(let T=0;T<5;++T)j/I===0&&h.append("0"),I/=10;h.append(j)}}class vs extends ta{constructor(h){super(h)}parseInformation(){if(this.getInformation().getSize()!=vs.HEADER_SIZE+ta.GTIN_SIZE+vs.WEIGHT_SIZE)throw new z;let h=new te;return this.encodeCompressedGtin(h,vs.HEADER_SIZE),this.encodeCompressedWeight(h,vs.HEADER_SIZE+ta.GTIN_SIZE,vs.WEIGHT_SIZE),h.toString()}}vs.HEADER_SIZE=5,vs.WEIGHT_SIZE=15;class za extends vs{constructor(h){super(h)}addWeightCode(h,p){h.append("(3103)")}checkWeight(h){return h}}class ur extends vs{constructor(h){super(h)}addWeightCode(h,p){p<1e4?h.append("(3202)"):h.append("(3203)")}checkWeight(h){return h<1e4?h:h-1e4}}class Us extends Vn{constructor(h){super(h)}parseInformation(){if(this.getInformation().getSize()<Us.HEADER_SIZE+Vn.GTIN_SIZE)throw new z;let h=new te;this.encodeCompressedGtin(h,Us.HEADER_SIZE);let p=this.getGeneralDecoder().extractNumericValueFromBitArray(Us.HEADER_SIZE+Vn.GTIN_SIZE,Us.LAST_DIGIT_SIZE);h.append("(392"),h.append(p),h.append(")");let v=this.getGeneralDecoder().decodeGeneralPurposeField(Us.HEADER_SIZE+Vn.GTIN_SIZE+Us.LAST_DIGIT_SIZE,null);return h.append(v.getNewString()),h.toString()}}Us.HEADER_SIZE=8,Us.LAST_DIGIT_SIZE=2;class Ms extends Vn{constructor(h){super(h)}parseInformation(){if(this.getInformation().getSize()<Ms.HEADER_SIZE+Vn.GTIN_SIZE)throw new z;let h=new te;this.encodeCompressedGtin(h,Ms.HEADER_SIZE);let p=this.getGeneralDecoder().extractNumericValueFromBitArray(Ms.HEADER_SIZE+Vn.GTIN_SIZE,Ms.LAST_DIGIT_SIZE);h.append("(393"),h.append(p),h.append(")");let v=this.getGeneralDecoder().extractNumericValueFromBitArray(Ms.HEADER_SIZE+Vn.GTIN_SIZE+Ms.LAST_DIGIT_SIZE,Ms.FIRST_THREE_DIGITS_SIZE);v/100==0&&h.append("0"),v/10==0&&h.append("0"),h.append(v);let y=this.getGeneralDecoder().decodeGeneralPurposeField(Ms.HEADER_SIZE+Vn.GTIN_SIZE+Ms.LAST_DIGIT_SIZE+Ms.FIRST_THREE_DIGITS_SIZE,null);return h.append(y.getNewString()),h.toString()}}Ms.HEADER_SIZE=8,Ms.LAST_DIGIT_SIZE=2,Ms.FIRST_THREE_DIGITS_SIZE=10;class Xs extends ta{constructor(h,p,v){super(h),this.dateCode=v,this.firstAIdigits=p}parseInformation(){if(this.getInformation().getSize()!=Xs.HEADER_SIZE+Xs.GTIN_SIZE+Xs.WEIGHT_SIZE+Xs.DATE_SIZE)throw new z;let h=new te;return this.encodeCompressedGtin(h,Xs.HEADER_SIZE),this.encodeCompressedWeight(h,Xs.HEADER_SIZE+Xs.GTIN_SIZE,Xs.WEIGHT_SIZE),this.encodeCompressedDate(h,Xs.HEADER_SIZE+Xs.GTIN_SIZE+Xs.WEIGHT_SIZE),h.toString()}encodeCompressedDate(h,p){let v=this.getGeneralDecoder().extractNumericValueFromBitArray(p,Xs.DATE_SIZE);if(v==38400)return;h.append("("),h.append(this.dateCode),h.append(")");let y=v%32;v/=32;let j=v%12+1;v/=12;let I=v;I/10==0&&h.append("0"),h.append(I),j/10==0&&h.append("0"),h.append(j),y/10==0&&h.append("0"),h.append(y)}addWeightCode(h,p){h.append("("),h.append(this.firstAIdigits),h.append(p/1e5),h.append(")")}checkWeight(h){return h%1e5}}Xs.HEADER_SIZE=8,Xs.WEIGHT_SIZE=20,Xs.DATE_SIZE=16;function Cr(ye){try{if(ye.get(1))return new Na(ye);if(!ye.get(2))return new Qs(ye);switch(ia.extractNumericValueFromBitArray(ye,1,4)){case 4:return new za(ye);case 5:return new ur(ye)}switch(ia.extractNumericValueFromBitArray(ye,1,5)){case 12:return new Us(ye);case 13:return new Ms(ye)}switch(ia.extractNumericValueFromBitArray(ye,1,7)){case 56:return new Xs(ye,"310","11");case 57:return new Xs(ye,"320","11");case 58:return new Xs(ye,"310","13");case 59:return new Xs(ye,"320","13");case 60:return new Xs(ye,"310","15");case 61:return new Xs(ye,"320","15");case 62:return new Xs(ye,"310","17");case 63:return new Xs(ye,"320","17")}}catch(h){throw console.log(h),new de("unknown decoder: "+ye)}}class Ua{constructor(h,p,v,y){this.leftchar=h,this.rightchar=p,this.finderpattern=v,this.maybeLast=y}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(h,p){return h instanceof Ua?Ua.equalsOrNull(h.leftchar,p.leftchar)&&Ua.equalsOrNull(h.rightchar,p.rightchar)&&Ua.equalsOrNull(h.finderpattern,p.finderpattern):!1}static equalsOrNull(h,p){return h===null?p===null:Ua.equals(h,p)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class Qa{constructor(h,p,v){this.pairs=h,this.rowNumber=p,this.wasReversed=v}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(h){return this.checkEqualitity(this,h)}toString(){return"{ "+this.pairs+" }"}equals(h,p){return h instanceof Qa?this.checkEqualitity(h,p)&&h.wasReversed===p.wasReversed:!1}checkEqualitity(h,p){if(!h||!p)return;let v;return h.forEach((y,j)=>{p.forEach(I=>{y.getLeftChar().getValue()===I.getLeftChar().getValue()&&y.getRightChar().getValue()===I.getRightChar().getValue()&&y.getFinderPatter().getValue()===I.getFinderPatter().getValue()&&(v=!0)})}),v}}class qt extends st{constructor(h){super(...arguments),this.pairs=new Array(qt.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=h===!0}decodeRow(h,p,v){this.pairs.length=0,this.startFromEven=!1;try{return qt.constructResult(this.decodeRow2pairs(h,p))}catch(y){this.verbose&&console.log(y)}return this.pairs.length=0,this.startFromEven=!0,qt.constructResult(this.decodeRow2pairs(h,p))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(h,p){let v=!1;for(;!v;)try{this.pairs.push(this.retrieveNextPair(p,this.pairs,h))}catch(j){if(j instanceof z){if(!this.pairs.length)throw new z;v=!0}}if(this.checkChecksum())return this.pairs;let y;if(this.rows.length?y=!0:y=!1,this.storeRow(h,!1),y){let j=this.checkRowsBoolean(!1);if(j!=null||(j=this.checkRowsBoolean(!0),j!=null))return j}throw new z}checkRowsBoolean(h){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,h&&(this.rows=this.rows.reverse());let p=null;try{p=this.checkRows(new Array,0)}catch(v){this.verbose&&console.log(v)}return h&&(this.rows=this.rows.reverse()),p}checkRows(h,p){for(let v=p;v<this.rows.length;v++){let y=this.rows[v];this.pairs.length=0;for(let I of h)this.pairs.push(I.getPairs());if(this.pairs.push(y.getPairs()),!qt.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let j=new Array(h);j.push(y);try{return this.checkRows(j,v+1)}catch(I){this.verbose&&console.log(I)}}throw new z}static isValidSequence(h){for(let p of qt.FINDER_PATTERN_SEQUENCES){if(h.length>p.length)continue;let v=!0;for(let y=0;y<h.length;y++)if(h[y].getFinderPattern().getValue()!=p[y]){v=!1;break}if(v)return!0}return!1}storeRow(h,p){let v=0,y=!1,j=!1;for(;v<this.rows.length;){let I=this.rows[v];if(I.getRowNumber()>h){j=I.isEquivalent(this.pairs);break}y=I.isEquivalent(this.pairs),v++}j||y||qt.isPartialRow(this.pairs,this.rows)||(this.rows.push(v,new Qa(this.pairs,h,p)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(h,p){for(let v of p)if(v.getPairs().length!==h.length){for(let y of v.getPairs())for(let j of h)if(Ua.equals(y,j))break}}static isPartialRow(h,p){for(let v of p){let y=!0;for(let j of h){let I=!1;for(let T of v.getPairs())if(j.equals(T)){I=!0;break}if(!I){y=!1;break}}if(y)return!0}return!1}getRows(){return this.rows}static constructResult(h){let p=vn.buildBitArray(h),y=Cr(p).parseInformation(),j=h[0].getFinderPattern().getResultPoints(),I=h[h.length-1].getFinderPattern().getResultPoints(),T=[j[0],j[1],I[0],I[1]];return new ae(y,null,null,T,re.RSS_EXPANDED,null)}checkChecksum(){let h=this.pairs.get(0),p=h.getLeftChar(),v=h.getRightChar();if(v==null)return!1;let y=v.getChecksumPortion(),j=2;for(let T=1;T<this.pairs.size();++T){let q=this.pairs.get(T);y+=q.getLeftChar().getChecksumPortion(),j++;let X=q.getRightChar();X!=null&&(y+=X.getChecksumPortion(),j++)}return y%=211,211*(j-4)+y==p.getValue()}static getNextSecondBar(h,p){let v;return h.get(p)?(v=h.getNextUnset(p),v=h.getNextSet(v)):(v=h.getNextSet(p),v=h.getNextUnset(v)),v}retrieveNextPair(h,p,v){let y=p.length%2==0;this.startFromEven&&(y=!y);let j,I=!0,T=-1;do this.findNextPair(h,p,T),j=this.parseFoundFinderPattern(h,v,y),j==null?T=qt.getNextSecondBar(h,this.startEnd[0]):I=!1;while(I);let q=this.decodeDataCharacter(h,j,y,!0);if(!this.isEmptyPair(p)&&p[p.length-1].mustBeLast())throw new z;let X;try{X=this.decodeDataCharacter(h,j,y,!1)}catch(le){X=null,this.verbose&&console.log(le)}return new Ua(q,X,j,!0)}isEmptyPair(h){return h.length===0}findNextPair(h,p,v){let y=this.getDecodeFinderCounters();y[0]=0,y[1]=0,y[2]=0,y[3]=0;let j=h.getSize(),I;v>=0?I=v:this.isEmptyPair(p)?I=0:I=p[p.length-1].getFinderPattern().getStartEnd()[1];let T=p.length%2!=0;this.startFromEven&&(T=!T);let q=!1;for(;I<j&&(q=!h.get(I),!!q);)I++;let X=0,le=I;for(let we=I;we<j;we++)if(h.get(we)!=q)y[X]++;else{if(X==3){if(T&&qt.reverseCounters(y),qt.isFinderPattern(y)){this.startEnd[0]=le,this.startEnd[1]=we;return}T&&qt.reverseCounters(y),le+=y[0]+y[1],y[0]=y[2],y[1]=y[3],y[2]=0,y[3]=0,X--}else X++;y[X]=1,q=!q}throw new z}static reverseCounters(h){let p=h.length;for(let v=0;v<p/2;++v){let y=h[v];h[v]=h[p-v-1],h[p-v-1]=y}}parseFoundFinderPattern(h,p,v){let y,j,I;if(v){let X=this.startEnd[0]-1;for(;X>=0&&!h.get(X);)X--;X++,y=this.startEnd[0]-X,j=X,I=this.startEnd[1]}else j=this.startEnd[0],I=h.getNextUnset(this.startEnd[1]+1),y=I-this.startEnd[1];let T=this.getDecodeFinderCounters();S.arraycopy(T,0,T,1,T.length-1),T[0]=y;let q;try{q=this.parseFinderValue(T,qt.FINDER_PATTERNS)}catch{return null}return new Lt(q,[j,I],j,I,p)}decodeDataCharacter(h,p,v,y){let j=this.getDataCharacterCounters();for(let hr=0;hr<j.length;hr++)j[hr]=0;if(y)qt.recordPatternInReverse(h,p.getStartEnd()[0],j);else{qt.recordPattern(h,p.getStartEnd()[1],j);for(let hr=0,Ai=j.length-1;hr<Ai;hr++,Ai--){let oo=j[hr];j[hr]=j[Ai],j[Ai]=oo}}let I=17,T=Ae.sum(new Int32Array(j))/I,q=(p.getStartEnd()[1]-p.getStartEnd()[0])/15;if(Math.abs(T-q)/q>.3)throw new z;let X=this.getOddCounts(),le=this.getEvenCounts(),we=this.getOddRoundingErrors(),ke=this.getEvenRoundingErrors();for(let hr=0;hr<j.length;hr++){let Ai=1*j[hr]/T,oo=Ai+.5;if(oo<1){if(Ai<.3)throw new z;oo=1}else if(oo>8){if(Ai>8.7)throw new z;oo=8}let Gl=hr/2;(hr&1)==0?(X[Gl]=oo,we[Gl]=Ai-oo):(le[Gl]=oo,ke[Gl]=Ai-oo)}this.adjustOddEvenCounts(I);let We=4*p.getValue()+(v?0:2)+(y?0:1)-1,ct=0,ut=0;for(let hr=X.length-1;hr>=0;hr--){if(qt.isNotA1left(p,v,y)){let Ai=qt.WEIGHTS[We][2*hr];ut+=X[hr]*Ai}ct+=X[hr]}let Ct=0;for(let hr=le.length-1;hr>=0;hr--)if(qt.isNotA1left(p,v,y)){let Ai=qt.WEIGHTS[We][2*hr+1];Ct+=le[hr]*Ai}let Ot=ut+Ct;if((ct&1)!=0||ct>13||ct<4)throw new z;let Cn=(13-ct)/2,Tn=qt.SYMBOL_WIDEST[Cn],xn=9-Tn,na=on.getRSSvalue(X,Tn,!0),Js=on.getRSSvalue(le,xn,!1),Qi=qt.EVEN_TOTAL_SUBSET[Cn],To=qt.GSUM[Cn],io=na*Qi+Js+To;return new Rt(io,Ot)}static isNotA1left(h,p,v){return!(h.getValue()==0&&p&&v)}adjustOddEvenCounts(h){let p=Ae.sum(new Int32Array(this.getOddCounts())),v=Ae.sum(new Int32Array(this.getEvenCounts())),y=!1,j=!1;p>13?j=!0:p<4&&(y=!0);let I=!1,T=!1;v>13?T=!0:v<4&&(I=!0);let q=p+v-h,X=(p&1)==1,le=(v&1)==0;if(q==1)if(X){if(le)throw new z;j=!0}else{if(!le)throw new z;T=!0}else if(q==-1)if(X){if(le)throw new z;y=!0}else{if(!le)throw new z;I=!0}else if(q==0){if(X){if(!le)throw new z;p<v?(y=!0,T=!0):(j=!0,I=!0)}else if(le)throw new z}else throw new z;if(y){if(j)throw new z;qt.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(j&&qt.decrement(this.getOddCounts(),this.getOddRoundingErrors()),I){if(T)throw new z;qt.increment(this.getEvenCounts(),this.getOddRoundingErrors())}T&&qt.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}qt.SYMBOL_WIDEST=[7,5,4,3,1],qt.EVEN_TOTAL_SUBSET=[4,20,52,104,204],qt.GSUM=[0,348,1388,2948,3988],qt.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],qt.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],qt.FINDER_PAT_A=0,qt.FINDER_PAT_B=1,qt.FINDER_PAT_C=2,qt.FINDER_PAT_D=3,qt.FINDER_PAT_E=4,qt.FINDER_PAT_F=5,qt.FINDER_PATTERN_SEQUENCES=[[qt.FINDER_PAT_A,qt.FINDER_PAT_A],[qt.FINDER_PAT_A,qt.FINDER_PAT_B,qt.FINDER_PAT_B],[qt.FINDER_PAT_A,qt.FINDER_PAT_C,qt.FINDER_PAT_B,qt.FINDER_PAT_D],[qt.FINDER_PAT_A,qt.FINDER_PAT_E,qt.FINDER_PAT_B,qt.FINDER_PAT_D,qt.FINDER_PAT_C],[qt.FINDER_PAT_A,qt.FINDER_PAT_E,qt.FINDER_PAT_B,qt.FINDER_PAT_D,qt.FINDER_PAT_D,qt.FINDER_PAT_F],[qt.FINDER_PAT_A,qt.FINDER_PAT_E,qt.FINDER_PAT_B,qt.FINDER_PAT_D,qt.FINDER_PAT_E,qt.FINDER_PAT_F,qt.FINDER_PAT_F],[qt.FINDER_PAT_A,qt.FINDER_PAT_A,qt.FINDER_PAT_B,qt.FINDER_PAT_B,qt.FINDER_PAT_C,qt.FINDER_PAT_C,qt.FINDER_PAT_D,qt.FINDER_PAT_D],[qt.FINDER_PAT_A,qt.FINDER_PAT_A,qt.FINDER_PAT_B,qt.FINDER_PAT_B,qt.FINDER_PAT_C,qt.FINDER_PAT_C,qt.FINDER_PAT_D,qt.FINDER_PAT_E,qt.FINDER_PAT_E],[qt.FINDER_PAT_A,qt.FINDER_PAT_A,qt.FINDER_PAT_B,qt.FINDER_PAT_B,qt.FINDER_PAT_C,qt.FINDER_PAT_C,qt.FINDER_PAT_D,qt.FINDER_PAT_E,qt.FINDER_PAT_F,qt.FINDER_PAT_F],[qt.FINDER_PAT_A,qt.FINDER_PAT_A,qt.FINDER_PAT_B,qt.FINDER_PAT_B,qt.FINDER_PAT_C,qt.FINDER_PAT_D,qt.FINDER_PAT_D,qt.FINDER_PAT_E,qt.FINDER_PAT_E,qt.FINDER_PAT_F,qt.FINDER_PAT_F]],qt.MAX_PAIRS=11;class Zn extends Rt{constructor(h,p,v){super(h,p),this.count=0,this.finderPattern=v}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class Ts extends st{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(h,p,v){const y=this.decodePair(p,!1,h,v);Ts.addOrTally(this.possibleLeftPairs,y),p.reverse();let j=this.decodePair(p,!0,h,v);Ts.addOrTally(this.possibleRightPairs,j),p.reverse();for(let I of this.possibleLeftPairs)if(I.getCount()>1){for(let T of this.possibleRightPairs)if(T.getCount()>1&&Ts.checkChecksum(I,T))return Ts.constructResult(I,T)}throw new z}static addOrTally(h,p){if(p==null)return;let v=!1;for(let y of h)if(y.getValue()===p.getValue()){y.incrementCount(),v=!0;break}v||h.push(p)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(h,p){let v=4537077*h.getValue()+p.getValue(),y=new String(v).toString(),j=new te;for(let X=13-y.length;X>0;X--)j.append("0");j.append(y);let I=0;for(let X=0;X<13;X++){let le=j.charAt(X).charCodeAt(0)-48;I+=(X&1)===0?3*le:le}I=10-I%10,I===10&&(I=0),j.append(I.toString());let T=h.getFinderPattern().getResultPoints(),q=p.getFinderPattern().getResultPoints();return new ae(j.toString(),null,0,[T[0],T[1],q[0],q[1]],re.RSS_14,new Date().getTime())}static checkChecksum(h,p){let v=(h.getChecksumPortion()+16*p.getChecksumPortion())%79,y=9*h.getFinderPattern().getValue()+p.getFinderPattern().getValue();return y>72&&y--,y>8&&y--,v===y}decodePair(h,p,v,y){try{let j=this.findFinderPattern(h,p),I=this.parseFoundFinderPattern(h,v,p,j),T=y==null?null:y.get(O.NEED_RESULT_POINT_CALLBACK);if(T!=null){let le=(j[0]+j[1])/2;p&&(le=h.getSize()-1-le),T.foundPossibleResultPoint(new ge(le,v))}let q=this.decodeDataCharacter(h,I,!0),X=this.decodeDataCharacter(h,I,!1);return new Zn(1597*q.getValue()+X.getValue(),q.getChecksumPortion()+4*X.getChecksumPortion(),I)}catch{return null}}decodeDataCharacter(h,p,v){let y=this.getDataCharacterCounters();for(let Ct=0;Ct<y.length;Ct++)y[Ct]=0;if(v)De.recordPatternInReverse(h,p.getStartEnd()[0],y);else{De.recordPattern(h,p.getStartEnd()[1]+1,y);for(let Ct=0,Ot=y.length-1;Ct<Ot;Ct++,Ot--){let Cn=y[Ct];y[Ct]=y[Ot],y[Ot]=Cn}}let j=v?16:15,I=Ae.sum(new Int32Array(y))/j,T=this.getOddCounts(),q=this.getEvenCounts(),X=this.getOddRoundingErrors(),le=this.getEvenRoundingErrors();for(let Ct=0;Ct<y.length;Ct++){let Ot=y[Ct]/I,Cn=Math.floor(Ot+.5);Cn<1?Cn=1:Cn>8&&(Cn=8);let Tn=Math.floor(Ct/2);(Ct&1)===0?(T[Tn]=Cn,X[Tn]=Ot-Cn):(q[Tn]=Cn,le[Tn]=Ot-Cn)}this.adjustOddEvenCounts(v,j);let we=0,ke=0;for(let Ct=T.length-1;Ct>=0;Ct--)ke*=9,ke+=T[Ct],we+=T[Ct];let We=0,ct=0;for(let Ct=q.length-1;Ct>=0;Ct--)We*=9,We+=q[Ct],ct+=q[Ct];let ut=ke+3*We;if(v){if((we&1)!==0||we>12||we<4)throw new z;let Ct=(12-we)/2,Ot=Ts.OUTSIDE_ODD_WIDEST[Ct],Cn=9-Ot,Tn=on.getRSSvalue(T,Ot,!1),xn=on.getRSSvalue(q,Cn,!0),na=Ts.OUTSIDE_EVEN_TOTAL_SUBSET[Ct],Js=Ts.OUTSIDE_GSUM[Ct];return new Rt(Tn*na+xn+Js,ut)}else{if((ct&1)!==0||ct>10||ct<4)throw new z;let Ct=(10-ct)/2,Ot=Ts.INSIDE_ODD_WIDEST[Ct],Cn=9-Ot,Tn=on.getRSSvalue(T,Ot,!0),xn=on.getRSSvalue(q,Cn,!1),na=Ts.INSIDE_ODD_TOTAL_SUBSET[Ct],Js=Ts.INSIDE_GSUM[Ct];return new Rt(xn*na+Tn+Js,ut)}}findFinderPattern(h,p){let v=this.getDecodeFinderCounters();v[0]=0,v[1]=0,v[2]=0,v[3]=0;let y=h.getSize(),j=!1,I=0;for(;I<y&&(j=!h.get(I),p!==j);)I++;let T=0,q=I;for(let X=I;X<y;X++)if(h.get(X)!==j)v[T]++;else{if(T===3){if(st.isFinderPattern(v))return[q,X];q+=v[0]+v[1],v[0]=v[2],v[1]=v[3],v[2]=0,v[3]=0,T--}else T++;v[T]=1,j=!j}throw new z}parseFoundFinderPattern(h,p,v,y){let j=h.get(y[0]),I=y[0]-1;for(;I>=0&&j!==h.get(I);)I--;I++;const T=y[0]-I,q=this.getDecodeFinderCounters(),X=new Int32Array(q.length);S.arraycopy(q,0,X,1,q.length-1),X[0]=T;const le=this.parseFinderValue(X,Ts.FINDER_PATTERNS);let we=I,ke=y[1];return v&&(we=h.getSize()-1-we,ke=h.getSize()-1-ke),new Lt(le,[I,y[1]],we,ke,p)}adjustOddEvenCounts(h,p){let v=Ae.sum(new Int32Array(this.getOddCounts())),y=Ae.sum(new Int32Array(this.getEvenCounts())),j=!1,I=!1,T=!1,q=!1;h?(v>12?I=!0:v<4&&(j=!0),y>12?q=!0:y<4&&(T=!0)):(v>11?I=!0:v<5&&(j=!0),y>10?q=!0:y<4&&(T=!0));let X=v+y-p,le=(v&1)===(h?1:0),we=(y&1)===1;if(X===1)if(le){if(we)throw new z;I=!0}else{if(!we)throw new z;q=!0}else if(X===-1)if(le){if(we)throw new z;j=!0}else{if(!we)throw new z;T=!0}else if(X===0){if(le){if(!we)throw new z;v<y?(j=!0,q=!0):(I=!0,T=!0)}else if(we)throw new z}else throw new z;if(j){if(I)throw new z;st.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(I&&st.decrement(this.getOddCounts(),this.getOddRoundingErrors()),T){if(q)throw new z;st.increment(this.getEvenCounts(),this.getOddRoundingErrors())}q&&st.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}Ts.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],Ts.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],Ts.OUTSIDE_GSUM=[0,161,961,2015,2715],Ts.INSIDE_GSUM=[0,336,1036,1516],Ts.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],Ts.INSIDE_ODD_WIDEST=[2,4,6,8],Ts.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class rr extends De{constructor(h,p){super(),this.readers=[],this.verbose=p===!0;const v=h?h.get(O.POSSIBLE_FORMATS):null,y=h&&h.get(O.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;v?((v.includes(re.EAN_13)||v.includes(re.UPC_A)||v.includes(re.EAN_8)||v.includes(re.UPC_E))&&this.readers.push(new It(h)),v.includes(re.CODE_39)&&this.readers.push(new Ye(y)),v.includes(re.CODE_128)&&this.readers.push(new xe),v.includes(re.ITF)&&this.readers.push(new at),v.includes(re.RSS_14)&&this.readers.push(new Ts),v.includes(re.RSS_EXPANDED)&&this.readers.push(new qt(this.verbose))):(this.readers.push(new It(h)),this.readers.push(new Ye),this.readers.push(new It(h)),this.readers.push(new xe),this.readers.push(new at),this.readers.push(new Ts),this.readers.push(new qt(this.verbose)))}decodeRow(h,p,v){for(let y=0;y<this.readers.length;y++)try{return this.readers[y].decodeRow(h,p,v)}catch{}throw new z}reset(){this.readers.forEach(h=>h.reset())}}class Ma extends Y{constructor(h=500,p){super(new rr(p),h,p)}}class js{constructor(h,p,v){this.ecCodewords=h,this.ecBlocks=[p],v&&this.ecBlocks.push(v)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class Ds{constructor(h,p){this.count=h,this.dataCodewords=p}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class cs{constructor(h,p,v,y,j,I){this.versionNumber=h,this.symbolSizeRows=p,this.symbolSizeColumns=v,this.dataRegionSizeRows=y,this.dataRegionSizeColumns=j,this.ecBlocks=I;let T=0;const q=I.getECCodewords(),X=I.getECBlocks();for(let le of X)T+=le.getCount()*(le.getDataCodewords()+q);this.totalCodewords=T}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(h,p){if((h&1)!==0||(p&1)!==0)throw new $;for(let v of cs.VERSIONS)if(v.symbolSizeRows===h&&v.symbolSizeColumns===p)return v;throw new $}toString(){return""+this.versionNumber}static buildVersions(){return[new cs(1,10,10,8,8,new js(5,new Ds(1,3))),new cs(2,12,12,10,10,new js(7,new Ds(1,5))),new cs(3,14,14,12,12,new js(10,new Ds(1,8))),new cs(4,16,16,14,14,new js(12,new Ds(1,12))),new cs(5,18,18,16,16,new js(14,new Ds(1,18))),new cs(6,20,20,18,18,new js(18,new Ds(1,22))),new cs(7,22,22,20,20,new js(20,new Ds(1,30))),new cs(8,24,24,22,22,new js(24,new Ds(1,36))),new cs(9,26,26,24,24,new js(28,new Ds(1,44))),new cs(10,32,32,14,14,new js(36,new Ds(1,62))),new cs(11,36,36,16,16,new js(42,new Ds(1,86))),new cs(12,40,40,18,18,new js(48,new Ds(1,114))),new cs(13,44,44,20,20,new js(56,new Ds(1,144))),new cs(14,48,48,22,22,new js(68,new Ds(1,174))),new cs(15,52,52,24,24,new js(42,new Ds(2,102))),new cs(16,64,64,14,14,new js(56,new Ds(2,140))),new cs(17,72,72,16,16,new js(36,new Ds(4,92))),new cs(18,80,80,18,18,new js(48,new Ds(4,114))),new cs(19,88,88,20,20,new js(56,new Ds(4,144))),new cs(20,96,96,22,22,new js(68,new Ds(4,174))),new cs(21,104,104,24,24,new js(56,new Ds(6,136))),new cs(22,120,120,18,18,new js(68,new Ds(6,175))),new cs(23,132,132,20,20,new js(62,new Ds(8,163))),new cs(24,144,144,22,22,new js(62,new Ds(8,156),new Ds(2,155))),new cs(25,8,18,6,16,new js(7,new Ds(1,5))),new cs(26,8,32,6,14,new js(11,new Ds(1,10))),new cs(27,12,26,10,24,new js(14,new Ds(1,16))),new cs(28,12,36,10,16,new js(18,new Ds(1,22))),new cs(29,16,36,14,16,new js(24,new Ds(1,32))),new cs(30,16,48,14,22,new js(28,new Ds(1,49)))]}}cs.VERSIONS=cs.buildVersions();class qa{constructor(h){const p=h.getHeight();if(p<8||p>144||(p&1)!==0)throw new $;this.version=qa.readVersion(h),this.mappingBitMatrix=this.extractDataRegion(h),this.readMappingMatrix=new J(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(h){const p=h.getHeight(),v=h.getWidth();return cs.getVersionForDimensions(p,v)}readCodewords(){const h=new Int8Array(this.version.getTotalCodewords());let p=0,v=4,y=0;const j=this.mappingBitMatrix.getHeight(),I=this.mappingBitMatrix.getWidth();let T=!1,q=!1,X=!1,le=!1;do if(v===j&&y===0&&!T)h[p++]=this.readCorner1(j,I)&255,v-=2,y+=2,T=!0;else if(v===j-2&&y===0&&(I&3)!==0&&!q)h[p++]=this.readCorner2(j,I)&255,v-=2,y+=2,q=!0;else if(v===j+4&&y===2&&(I&7)===0&&!X)h[p++]=this.readCorner3(j,I)&255,v-=2,y+=2,X=!0;else if(v===j-2&&y===0&&(I&7)===4&&!le)h[p++]=this.readCorner4(j,I)&255,v-=2,y+=2,le=!0;else{do v<j&&y>=0&&!this.readMappingMatrix.get(y,v)&&(h[p++]=this.readUtah(v,y,j,I)&255),v-=2,y+=2;while(v>=0&&y<I);v+=1,y+=3;do v>=0&&y<I&&!this.readMappingMatrix.get(y,v)&&(h[p++]=this.readUtah(v,y,j,I)&255),v+=2,y-=2;while(v<j&&y>=0);v+=3,y+=1}while(v<j||y<I);if(p!==this.version.getTotalCodewords())throw new $;return h}readModule(h,p,v,y){return h<0&&(h+=v,p+=4-(v+4&7)),p<0&&(p+=y,h+=4-(y+4&7)),this.readMappingMatrix.set(p,h),this.mappingBitMatrix.get(p,h)}readUtah(h,p,v,y){let j=0;return this.readModule(h-2,p-2,v,y)&&(j|=1),j<<=1,this.readModule(h-2,p-1,v,y)&&(j|=1),j<<=1,this.readModule(h-1,p-2,v,y)&&(j|=1),j<<=1,this.readModule(h-1,p-1,v,y)&&(j|=1),j<<=1,this.readModule(h-1,p,v,y)&&(j|=1),j<<=1,this.readModule(h,p-2,v,y)&&(j|=1),j<<=1,this.readModule(h,p-1,v,y)&&(j|=1),j<<=1,this.readModule(h,p,v,y)&&(j|=1),j}readCorner1(h,p){let v=0;return this.readModule(h-1,0,h,p)&&(v|=1),v<<=1,this.readModule(h-1,1,h,p)&&(v|=1),v<<=1,this.readModule(h-1,2,h,p)&&(v|=1),v<<=1,this.readModule(0,p-2,h,p)&&(v|=1),v<<=1,this.readModule(0,p-1,h,p)&&(v|=1),v<<=1,this.readModule(1,p-1,h,p)&&(v|=1),v<<=1,this.readModule(2,p-1,h,p)&&(v|=1),v<<=1,this.readModule(3,p-1,h,p)&&(v|=1),v}readCorner2(h,p){let v=0;return this.readModule(h-3,0,h,p)&&(v|=1),v<<=1,this.readModule(h-2,0,h,p)&&(v|=1),v<<=1,this.readModule(h-1,0,h,p)&&(v|=1),v<<=1,this.readModule(0,p-4,h,p)&&(v|=1),v<<=1,this.readModule(0,p-3,h,p)&&(v|=1),v<<=1,this.readModule(0,p-2,h,p)&&(v|=1),v<<=1,this.readModule(0,p-1,h,p)&&(v|=1),v<<=1,this.readModule(1,p-1,h,p)&&(v|=1),v}readCorner3(h,p){let v=0;return this.readModule(h-1,0,h,p)&&(v|=1),v<<=1,this.readModule(h-1,p-1,h,p)&&(v|=1),v<<=1,this.readModule(0,p-3,h,p)&&(v|=1),v<<=1,this.readModule(0,p-2,h,p)&&(v|=1),v<<=1,this.readModule(0,p-1,h,p)&&(v|=1),v<<=1,this.readModule(1,p-3,h,p)&&(v|=1),v<<=1,this.readModule(1,p-2,h,p)&&(v|=1),v<<=1,this.readModule(1,p-1,h,p)&&(v|=1),v}readCorner4(h,p){let v=0;return this.readModule(h-3,0,h,p)&&(v|=1),v<<=1,this.readModule(h-2,0,h,p)&&(v|=1),v<<=1,this.readModule(h-1,0,h,p)&&(v|=1),v<<=1,this.readModule(0,p-2,h,p)&&(v|=1),v<<=1,this.readModule(0,p-1,h,p)&&(v|=1),v<<=1,this.readModule(1,p-1,h,p)&&(v|=1),v<<=1,this.readModule(2,p-1,h,p)&&(v|=1),v<<=1,this.readModule(3,p-1,h,p)&&(v|=1),v}extractDataRegion(h){const p=this.version.getSymbolSizeRows(),v=this.version.getSymbolSizeColumns();if(h.getHeight()!==p)throw new g("Dimension of bitMatrix must match the version size");const y=this.version.getDataRegionSizeRows(),j=this.version.getDataRegionSizeColumns(),I=p/y|0,T=v/j|0,q=I*y,X=T*j,le=new J(X,q);for(let we=0;we<I;++we){const ke=we*y;for(let We=0;We<T;++We){const ct=We*j;for(let ut=0;ut<y;++ut){const Ct=we*(y+2)+1+ut,Ot=ke+ut;for(let Cn=0;Cn<j;++Cn){const Tn=We*(j+2)+1+Cn;if(h.get(Tn,Ct)){const xn=ct+Cn;le.set(xn,Ot)}}}}}return le}}class ls{constructor(h,p){this.numDataCodewords=h,this.codewords=p}static getDataBlocks(h,p){const v=p.getECBlocks();let y=0;const j=v.getECBlocks();for(let ut of j)y+=ut.getCount();const I=new Array(y);let T=0;for(let ut of j)for(let Ct=0;Ct<ut.getCount();Ct++){const Ot=ut.getDataCodewords(),Cn=v.getECCodewords()+Ot;I[T++]=new ls(Ot,new Uint8Array(Cn))}const X=I[0].codewords.length-v.getECCodewords(),le=X-1;let we=0;for(let ut=0;ut<le;ut++)for(let Ct=0;Ct<T;Ct++)I[Ct].codewords[ut]=h[we++];const ke=p.getVersionNumber()===24,We=ke?8:T;for(let ut=0;ut<We;ut++)I[ut].codewords[X-1]=h[we++];const ct=I[0].codewords.length;for(let ut=X;ut<ct;ut++)for(let Ct=0;Ct<T;Ct++){const Ot=ke?(Ct+8)%T:Ct,Cn=ke&&Ot>7?ut-1:ut;I[Ot].codewords[Cn]=h[we++]}if(we!==h.length)throw new g;return I}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class sa{constructor(h){this.bytes=h,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(h){if(h<1||h>32||h>this.available())throw new g(""+h);let p=0,v=this.bitOffset,y=this.byteOffset;const j=this.bytes;if(v>0){const I=8-v,T=h<I?h:I,q=I-T,X=255>>8-T<<q;p=(j[y]&X)>>q,h-=T,v+=T,v===8&&(v=0,y++)}if(h>0){for(;h>=8;)p=p<<8|j[y]&255,y++,h-=8;if(h>0){const I=8-h,T=255>>I<<I;p=p<<h|(j[y]&T)>>I,v+=h}}return this.bitOffset=v,this.byteOffset=y,p}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var Gs;(function(ye){ye[ye.PAD_ENCODE=0]="PAD_ENCODE",ye[ye.ASCII_ENCODE=1]="ASCII_ENCODE",ye[ye.C40_ENCODE=2]="C40_ENCODE",ye[ye.TEXT_ENCODE=3]="TEXT_ENCODE",ye[ye.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",ye[ye.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",ye[ye.BASE256_ENCODE=6]="BASE256_ENCODE"})(Gs||(Gs={}));class Ks{static decode(h){const p=new sa(h),v=new te,y=new te,j=new Array;let I=Gs.ASCII_ENCODE;do if(I===Gs.ASCII_ENCODE)I=this.decodeAsciiSegment(p,v,y);else{switch(I){case Gs.C40_ENCODE:this.decodeC40Segment(p,v);break;case Gs.TEXT_ENCODE:this.decodeTextSegment(p,v);break;case Gs.ANSIX12_ENCODE:this.decodeAnsiX12Segment(p,v);break;case Gs.EDIFACT_ENCODE:this.decodeEdifactSegment(p,v);break;case Gs.BASE256_ENCODE:this.decodeBase256Segment(p,v,j);break;default:throw new $}I=Gs.ASCII_ENCODE}while(I!==Gs.PAD_ENCODE&&p.available()>0);return y.length()>0&&v.append(y.toString()),new Ce(h,v.toString(),j.length===0?null:j,null)}static decodeAsciiSegment(h,p,v){let y=!1;do{let j=h.readBits(8);if(j===0)throw new $;if(j<=128)return y&&(j+=128),p.append(String.fromCharCode(j-1)),Gs.ASCII_ENCODE;if(j===129)return Gs.PAD_ENCODE;if(j<=229){const I=j-130;I<10&&p.append("0"),p.append(""+I)}else switch(j){case 230:return Gs.C40_ENCODE;case 231:return Gs.BASE256_ENCODE;case 232:p.append("");break;case 233:case 234:break;case 235:y=!0;break;case 236:p.append("[)>05"),v.insert(0,"");break;case 237:p.append("[)>06"),v.insert(0,"");break;case 238:return Gs.ANSIX12_ENCODE;case 239:return Gs.TEXT_ENCODE;case 240:return Gs.EDIFACT_ENCODE;case 241:break;default:if(j!==254||h.available()!==0)throw new $;break}}while(h.available()>0);return Gs.ASCII_ENCODE}static decodeC40Segment(h,p){let v=!1;const y=[];let j=0;do{if(h.available()===8)return;const I=h.readBits(8);if(I===254)return;this.parseTwoBytes(I,h.readBits(8),y);for(let T=0;T<3;T++){const q=y[T];switch(j){case 0:if(q<3)j=q+1;else if(q<this.C40_BASIC_SET_CHARS.length){const X=this.C40_BASIC_SET_CHARS[q];v?(p.append(String.fromCharCode(X.charCodeAt(0)+128)),v=!1):p.append(X)}else throw new $;break;case 1:v?(p.append(String.fromCharCode(q+128)),v=!1):p.append(String.fromCharCode(q)),j=0;break;case 2:if(q<this.C40_SHIFT2_SET_CHARS.length){const X=this.C40_SHIFT2_SET_CHARS[q];v?(p.append(String.fromCharCode(X.charCodeAt(0)+128)),v=!1):p.append(X)}else switch(q){case 27:p.append("");break;case 30:v=!0;break;default:throw new $}j=0;break;case 3:v?(p.append(String.fromCharCode(q+224)),v=!1):p.append(String.fromCharCode(q+96)),j=0;break;default:throw new $}}}while(h.available()>0)}static decodeTextSegment(h,p){let v=!1,y=[],j=0;do{if(h.available()===8)return;const I=h.readBits(8);if(I===254)return;this.parseTwoBytes(I,h.readBits(8),y);for(let T=0;T<3;T++){const q=y[T];switch(j){case 0:if(q<3)j=q+1;else if(q<this.TEXT_BASIC_SET_CHARS.length){const X=this.TEXT_BASIC_SET_CHARS[q];v?(p.append(String.fromCharCode(X.charCodeAt(0)+128)),v=!1):p.append(X)}else throw new $;break;case 1:v?(p.append(String.fromCharCode(q+128)),v=!1):p.append(String.fromCharCode(q)),j=0;break;case 2:if(q<this.TEXT_SHIFT2_SET_CHARS.length){const X=this.TEXT_SHIFT2_SET_CHARS[q];v?(p.append(String.fromCharCode(X.charCodeAt(0)+128)),v=!1):p.append(X)}else switch(q){case 27:p.append("");break;case 30:v=!0;break;default:throw new $}j=0;break;case 3:if(q<this.TEXT_SHIFT3_SET_CHARS.length){const X=this.TEXT_SHIFT3_SET_CHARS[q];v?(p.append(String.fromCharCode(X.charCodeAt(0)+128)),v=!1):p.append(X),j=0}else throw new $;break;default:throw new $}}}while(h.available()>0)}static decodeAnsiX12Segment(h,p){const v=[];do{if(h.available()===8)return;const y=h.readBits(8);if(y===254)return;this.parseTwoBytes(y,h.readBits(8),v);for(let j=0;j<3;j++){const I=v[j];switch(I){case 0:p.append("\r");break;case 1:p.append("*");break;case 2:p.append(">");break;case 3:p.append(" ");break;default:if(I<14)p.append(String.fromCharCode(I+44));else if(I<40)p.append(String.fromCharCode(I+51));else throw new $;break}}}while(h.available()>0)}static parseTwoBytes(h,p,v){let y=(h<<8)+p-1,j=Math.floor(y/1600);v[0]=j,y-=j*1600,j=Math.floor(y/40),v[1]=j,v[2]=y-j*40}static decodeEdifactSegment(h,p){do{if(h.available()<=16)return;for(let v=0;v<4;v++){let y=h.readBits(6);if(y===31){const j=8-h.getBitOffset();j!==8&&h.readBits(j);return}(y&32)===0&&(y|=64),p.append(String.fromCharCode(y))}}while(h.available()>0)}static decodeBase256Segment(h,p,v){let y=1+h.getByteOffset();const j=this.unrandomize255State(h.readBits(8),y++);let I;if(j===0?I=h.available()/8|0:j<250?I=j:I=250*(j-249)+this.unrandomize255State(h.readBits(8),y++),I<0)throw new $;const T=new Uint8Array(I);for(let q=0;q<I;q++){if(h.available()<8)throw new $;T[q]=this.unrandomize255State(h.readBits(8),y++)}v.push(T);try{p.append(se.decode(T,K.ISO88591))}catch(q){throw new de("Platform does not support required encoding: "+q.message)}}static unrandomize255State(h,p){const v=149*p%255+1,y=h-v;return y>=0?y:y+256}}Ks.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],Ks.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],Ks.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],Ks.TEXT_SHIFT2_SET_CHARS=Ks.C40_SHIFT2_SET_CHARS,Ks.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class vr{constructor(){this.rsDecoder=new pe(Se.DATA_MATRIX_FIELD_256)}decode(h){const p=new qa(h),v=p.getVersion(),y=p.readCodewords(),j=ls.getDataBlocks(y,v);let I=0;for(let X of j)I+=X.getNumDataCodewords();const T=new Uint8Array(I),q=j.length;for(let X=0;X<q;X++){const le=j[X],we=le.getCodewords(),ke=le.getNumDataCodewords();this.correctErrors(we,ke);for(let We=0;We<ke;We++)T[We*q+X]=we[We]}return Ks.decode(T)}correctErrors(h,p){const v=new Int32Array(h);try{this.rsDecoder.decode(v,h.length-p)}catch{throw new w}for(let y=0;y<p;y++)h[y]=v[y]}}class Ws{constructor(h){this.image=h,this.rectangleDetector=new je(this.image)}detect(){const h=this.rectangleDetector.detect();let p=this.detectSolid1(h);if(p=this.detectSolid2(p),p[3]=this.correctTopRight(p),!p[3])throw new z;p=this.shiftToModuleCenter(p);const v=p[0],y=p[1],j=p[2],I=p[3];let T=this.transitionsBetween(v,I)+1,q=this.transitionsBetween(j,I)+1;(T&1)===1&&(T+=1),(q&1)===1&&(q+=1),4*T<7*q&&4*q<7*T&&(T=q=Math.max(T,q));let X=Ws.sampleGrid(this.image,v,y,j,I,T,q);return new be(X,[v,y,j,I])}static shiftPoint(h,p,v){let y=(p.getX()-h.getX())/(v+1),j=(p.getY()-h.getY())/(v+1);return new ge(h.getX()+y,h.getY()+j)}static moveAway(h,p,v){let y=h.getX(),j=h.getY();return y<p?y-=1:y+=1,j<v?j-=1:j+=1,new ge(y,j)}detectSolid1(h){let p=h[0],v=h[1],y=h[3],j=h[2],I=this.transitionsBetween(p,v),T=this.transitionsBetween(v,y),q=this.transitionsBetween(y,j),X=this.transitionsBetween(j,p),le=I,we=[j,p,v,y];return le>T&&(le=T,we[0]=p,we[1]=v,we[2]=y,we[3]=j),le>q&&(le=q,we[0]=v,we[1]=y,we[2]=j,we[3]=p),le>X&&(we[0]=y,we[1]=j,we[2]=p,we[3]=v),we}detectSolid2(h){let p=h[0],v=h[1],y=h[2],j=h[3],I=this.transitionsBetween(p,j),T=Ws.shiftPoint(v,y,(I+1)*4),q=Ws.shiftPoint(y,v,(I+1)*4),X=this.transitionsBetween(T,p),le=this.transitionsBetween(q,j);return X<le?(h[0]=p,h[1]=v,h[2]=y,h[3]=j):(h[0]=v,h[1]=y,h[2]=j,h[3]=p),h}correctTopRight(h){let p=h[0],v=h[1],y=h[2],j=h[3],I=this.transitionsBetween(p,j),T=this.transitionsBetween(v,j),q=Ws.shiftPoint(p,v,(T+1)*4),X=Ws.shiftPoint(y,v,(I+1)*4);I=this.transitionsBetween(q,j),T=this.transitionsBetween(X,j);let le=new ge(j.getX()+(y.getX()-v.getX())/(I+1),j.getY()+(y.getY()-v.getY())/(I+1)),we=new ge(j.getX()+(p.getX()-v.getX())/(T+1),j.getY()+(p.getY()-v.getY())/(T+1));if(!this.isValid(le))return this.isValid(we)?we:null;if(!this.isValid(we))return le;let ke=this.transitionsBetween(q,le)+this.transitionsBetween(X,le),We=this.transitionsBetween(q,we)+this.transitionsBetween(X,we);return ke>We?le:we}shiftToModuleCenter(h){let p=h[0],v=h[1],y=h[2],j=h[3],I=this.transitionsBetween(p,j)+1,T=this.transitionsBetween(y,j)+1,q=Ws.shiftPoint(p,v,T*4),X=Ws.shiftPoint(y,v,I*4);I=this.transitionsBetween(q,j)+1,T=this.transitionsBetween(X,j)+1,(I&1)===1&&(I+=1),(T&1)===1&&(T+=1);let le=(p.getX()+v.getX()+y.getX()+j.getX())/4,we=(p.getY()+v.getY()+y.getY()+j.getY())/4;p=Ws.moveAway(p,le,we),v=Ws.moveAway(v,le,we),y=Ws.moveAway(y,le,we),j=Ws.moveAway(j,le,we);let ke,We;return q=Ws.shiftPoint(p,v,T*4),q=Ws.shiftPoint(q,j,I*4),ke=Ws.shiftPoint(v,p,T*4),ke=Ws.shiftPoint(ke,y,I*4),X=Ws.shiftPoint(y,j,T*4),X=Ws.shiftPoint(X,v,I*4),We=Ws.shiftPoint(j,y,T*4),We=Ws.shiftPoint(We,p,I*4),[q,ke,X,We]}isValid(h){return h.getX()>=0&&h.getX()<this.image.getWidth()&&h.getY()>0&&h.getY()<this.image.getHeight()}static sampleGrid(h,p,v,y,j,I,T){return Ze.getInstance().sampleGrid(h,I,T,.5,.5,I-.5,.5,I-.5,T-.5,.5,T-.5,p.getX(),p.getY(),j.getX(),j.getY(),y.getX(),y.getY(),v.getX(),v.getY())}transitionsBetween(h,p){let v=Math.trunc(h.getX()),y=Math.trunc(h.getY()),j=Math.trunc(p.getX()),I=Math.trunc(p.getY()),T=Math.abs(I-y)>Math.abs(j-v);if(T){let ut=v;v=y,y=ut,ut=j,j=I,I=ut}let q=Math.abs(j-v),X=Math.abs(I-y),le=-q/2,we=y<I?1:-1,ke=v<j?1:-1,We=0,ct=this.image.get(T?y:v,T?v:y);for(let ut=v,Ct=y;ut!==j;ut+=ke){let Ot=this.image.get(T?Ct:ut,T?ut:Ct);if(Ot!==ct&&(We++,ct=Ot),le+=X,le>0){if(Ct===I)break;Ct+=we,le-=q}}return We}}class Ja{constructor(){this.decoder=new vr}decode(h,p=null){let v,y;if(p!=null&&p.has(O.PURE_BARCODE)){const X=Ja.extractPureBits(h.getBlackMatrix());v=this.decoder.decode(X),y=Ja.NO_POINTS}else{const X=new Ws(h.getBlackMatrix()).detect();v=this.decoder.decode(X.getBits()),y=X.getPoints()}const j=v.getRawBytes(),I=new ae(v.getText(),j,8*j.length,y,re.DATA_MATRIX,S.currentTimeMillis()),T=v.getByteSegments();T!=null&&I.putMetadata(me.BYTE_SEGMENTS,T);const q=v.getECLevel();return q!=null&&I.putMetadata(me.ERROR_CORRECTION_LEVEL,q),I}reset(){}static extractPureBits(h){const p=h.getTopLeftOnBit(),v=h.getBottomRightOnBit();if(p==null||v==null)throw new z;const y=this.moduleSize(p,h);let j=p[1];const I=v[1];let T=p[0];const X=(v[0]-T+1)/y,le=(I-j+1)/y;if(X<=0||le<=0)throw new z;const we=y/2;j+=we,T+=we;const ke=new J(X,le);for(let We=0;We<le;We++){const ct=j+We*y;for(let ut=0;ut<X;ut++)h.get(T+ut*y,ct)&&ke.set(ut,We)}return ke}static moduleSize(h,p){const v=p.getWidth();let y=h[0];const j=h[1];for(;y<v&&p.get(y,j);)y++;if(y===v)throw new z;const I=y-h[0];if(I===0)throw new z;return I}}Ja.NO_POINTS=[];class ji extends Y{constructor(h=500){super(new Ja,h)}}var aa;(function(ye){ye[ye.L=0]="L",ye[ye.M=1]="M",ye[ye.Q=2]="Q",ye[ye.H=3]="H"})(aa||(aa={}));class Rs{constructor(h,p,v){this.value=h,this.stringValue=p,this.bits=v,Rs.FOR_BITS.set(v,this),Rs.FOR_VALUE.set(h,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(h){switch(h){case"L":return Rs.L;case"M":return Rs.M;case"Q":return Rs.Q;case"H":return Rs.H;default:throw new f(h+"not available")}}toString(){return this.stringValue}equals(h){if(!(h instanceof Rs))return!1;const p=h;return this.value===p.value}static forBits(h){if(h<0||h>=Rs.FOR_BITS.size)throw new g;return Rs.FOR_BITS.get(h)}}Rs.FOR_BITS=new Map,Rs.FOR_VALUE=new Map,Rs.L=new Rs(aa.L,"L",1),Rs.M=new Rs(aa.M,"M",0),Rs.Q=new Rs(aa.Q,"Q",3),Rs.H=new Rs(aa.H,"H",2);class qn{constructor(h){this.errorCorrectionLevel=Rs.forBits(h>>3&3),this.dataMask=h&7}static numBitsDiffering(h,p){return R.bitCount(h^p)}static decodeFormatInformation(h,p){const v=qn.doDecodeFormatInformation(h,p);return v!==null?v:qn.doDecodeFormatInformation(h^qn.FORMAT_INFO_MASK_QR,p^qn.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(h,p){let v=Number.MAX_SAFE_INTEGER,y=0;for(const j of qn.FORMAT_INFO_DECODE_LOOKUP){const I=j[0];if(I===h||I===p)return new qn(j[1]);let T=qn.numBitsDiffering(h,I);T<v&&(y=j[1],v=T),h!==p&&(T=qn.numBitsDiffering(p,I),T<v&&(y=j[1],v=T))}return v<=3?new qn(y):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(h){if(!(h instanceof qn))return!1;const p=h;return this.errorCorrectionLevel===p.errorCorrectionLevel&&this.dataMask===p.dataMask}}qn.FORMAT_INFO_MASK_QR=21522,qn.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class it{constructor(h,...p){this.ecCodewordsPerBlock=h,this.ecBlocks=p}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let h=0;const p=this.ecBlocks;for(const v of p)h+=v.getCount();return h}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class Le{constructor(h,p){this.count=h,this.dataCodewords=p}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Qe{constructor(h,p,...v){this.versionNumber=h,this.alignmentPatternCenters=p,this.ecBlocks=v;let y=0;const j=v[0].getECCodewordsPerBlock(),I=v[0].getECBlocks();for(const T of I)y+=T.getCount()*(T.getDataCodewords()+j);this.totalCodewords=y}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(h){return this.ecBlocks[h.getValue()]}static getProvisionalVersionForDimension(h){if(h%4!==1)throw new $;try{return this.getVersionForNumber((h-17)/4)}catch{throw new $}}static getVersionForNumber(h){if(h<1||h>40)throw new g;return Qe.VERSIONS[h-1]}static decodeVersionInformation(h){let p=Number.MAX_SAFE_INTEGER,v=0;for(let y=0;y<Qe.VERSION_DECODE_INFO.length;y++){const j=Qe.VERSION_DECODE_INFO[y];if(j===h)return Qe.getVersionForNumber(y+7);const I=qn.numBitsDiffering(h,j);I<p&&(v=y+7,p=I)}return p<=3?Qe.getVersionForNumber(v):null}buildFunctionPattern(){const h=this.getDimensionForVersion(),p=new J(h);p.setRegion(0,0,9,9),p.setRegion(h-8,0,8,9),p.setRegion(0,h-8,9,8);const v=this.alignmentPatternCenters.length;for(let y=0;y<v;y++){const j=this.alignmentPatternCenters[y]-2;for(let I=0;I<v;I++)y===0&&(I===0||I===v-1)||y===v-1&&I===0||p.setRegion(this.alignmentPatternCenters[I]-2,j,5,5)}return p.setRegion(6,9,1,h-17),p.setRegion(9,6,h-17,1),this.versionNumber>6&&(p.setRegion(h-11,0,3,6),p.setRegion(0,h-11,6,3)),p}toString(){return""+this.versionNumber}}Qe.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),Qe.VERSIONS=[new Qe(1,new Int32Array(0),new it(7,new Le(1,19)),new it(10,new Le(1,16)),new it(13,new Le(1,13)),new it(17,new Le(1,9))),new Qe(2,Int32Array.from([6,18]),new it(10,new Le(1,34)),new it(16,new Le(1,28)),new it(22,new Le(1,22)),new it(28,new Le(1,16))),new Qe(3,Int32Array.from([6,22]),new it(15,new Le(1,55)),new it(26,new Le(1,44)),new it(18,new Le(2,17)),new it(22,new Le(2,13))),new Qe(4,Int32Array.from([6,26]),new it(20,new Le(1,80)),new it(18,new Le(2,32)),new it(26,new Le(2,24)),new it(16,new Le(4,9))),new Qe(5,Int32Array.from([6,30]),new it(26,new Le(1,108)),new it(24,new Le(2,43)),new it(18,new Le(2,15),new Le(2,16)),new it(22,new Le(2,11),new Le(2,12))),new Qe(6,Int32Array.from([6,34]),new it(18,new Le(2,68)),new it(16,new Le(4,27)),new it(24,new Le(4,19)),new it(28,new Le(4,15))),new Qe(7,Int32Array.from([6,22,38]),new it(20,new Le(2,78)),new it(18,new Le(4,31)),new it(18,new Le(2,14),new Le(4,15)),new it(26,new Le(4,13),new Le(1,14))),new Qe(8,Int32Array.from([6,24,42]),new it(24,new Le(2,97)),new it(22,new Le(2,38),new Le(2,39)),new it(22,new Le(4,18),new Le(2,19)),new it(26,new Le(4,14),new Le(2,15))),new Qe(9,Int32Array.from([6,26,46]),new it(30,new Le(2,116)),new it(22,new Le(3,36),new Le(2,37)),new it(20,new Le(4,16),new Le(4,17)),new it(24,new Le(4,12),new Le(4,13))),new Qe(10,Int32Array.from([6,28,50]),new it(18,new Le(2,68),new Le(2,69)),new it(26,new Le(4,43),new Le(1,44)),new it(24,new Le(6,19),new Le(2,20)),new it(28,new Le(6,15),new Le(2,16))),new Qe(11,Int32Array.from([6,30,54]),new it(20,new Le(4,81)),new it(30,new Le(1,50),new Le(4,51)),new it(28,new Le(4,22),new Le(4,23)),new it(24,new Le(3,12),new Le(8,13))),new Qe(12,Int32Array.from([6,32,58]),new it(24,new Le(2,92),new Le(2,93)),new it(22,new Le(6,36),new Le(2,37)),new it(26,new Le(4,20),new Le(6,21)),new it(28,new Le(7,14),new Le(4,15))),new Qe(13,Int32Array.from([6,34,62]),new it(26,new Le(4,107)),new it(22,new Le(8,37),new Le(1,38)),new it(24,new Le(8,20),new Le(4,21)),new it(22,new Le(12,11),new Le(4,12))),new Qe(14,Int32Array.from([6,26,46,66]),new it(30,new Le(3,115),new Le(1,116)),new it(24,new Le(4,40),new Le(5,41)),new it(20,new Le(11,16),new Le(5,17)),new it(24,new Le(11,12),new Le(5,13))),new Qe(15,Int32Array.from([6,26,48,70]),new it(22,new Le(5,87),new Le(1,88)),new it(24,new Le(5,41),new Le(5,42)),new it(30,new Le(5,24),new Le(7,25)),new it(24,new Le(11,12),new Le(7,13))),new Qe(16,Int32Array.from([6,26,50,74]),new it(24,new Le(5,98),new Le(1,99)),new it(28,new Le(7,45),new Le(3,46)),new it(24,new Le(15,19),new Le(2,20)),new it(30,new Le(3,15),new Le(13,16))),new Qe(17,Int32Array.from([6,30,54,78]),new it(28,new Le(1,107),new Le(5,108)),new it(28,new Le(10,46),new Le(1,47)),new it(28,new Le(1,22),new Le(15,23)),new it(28,new Le(2,14),new Le(17,15))),new Qe(18,Int32Array.from([6,30,56,82]),new it(30,new Le(5,120),new Le(1,121)),new it(26,new Le(9,43),new Le(4,44)),new it(28,new Le(17,22),new Le(1,23)),new it(28,new Le(2,14),new Le(19,15))),new Qe(19,Int32Array.from([6,30,58,86]),new it(28,new Le(3,113),new Le(4,114)),new it(26,new Le(3,44),new Le(11,45)),new it(26,new Le(17,21),new Le(4,22)),new it(26,new Le(9,13),new Le(16,14))),new Qe(20,Int32Array.from([6,34,62,90]),new it(28,new Le(3,107),new Le(5,108)),new it(26,new Le(3,41),new Le(13,42)),new it(30,new Le(15,24),new Le(5,25)),new it(28,new Le(15,15),new Le(10,16))),new Qe(21,Int32Array.from([6,28,50,72,94]),new it(28,new Le(4,116),new Le(4,117)),new it(26,new Le(17,42)),new it(28,new Le(17,22),new Le(6,23)),new it(30,new Le(19,16),new Le(6,17))),new Qe(22,Int32Array.from([6,26,50,74,98]),new it(28,new Le(2,111),new Le(7,112)),new it(28,new Le(17,46)),new it(30,new Le(7,24),new Le(16,25)),new it(24,new Le(34,13))),new Qe(23,Int32Array.from([6,30,54,78,102]),new it(30,new Le(4,121),new Le(5,122)),new it(28,new Le(4,47),new Le(14,48)),new it(30,new Le(11,24),new Le(14,25)),new it(30,new Le(16,15),new Le(14,16))),new Qe(24,Int32Array.from([6,28,54,80,106]),new it(30,new Le(6,117),new Le(4,118)),new it(28,new Le(6,45),new Le(14,46)),new it(30,new Le(11,24),new Le(16,25)),new it(30,new Le(30,16),new Le(2,17))),new Qe(25,Int32Array.from([6,32,58,84,110]),new it(26,new Le(8,106),new Le(4,107)),new it(28,new Le(8,47),new Le(13,48)),new it(30,new Le(7,24),new Le(22,25)),new it(30,new Le(22,15),new Le(13,16))),new Qe(26,Int32Array.from([6,30,58,86,114]),new it(28,new Le(10,114),new Le(2,115)),new it(28,new Le(19,46),new Le(4,47)),new it(28,new Le(28,22),new Le(6,23)),new it(30,new Le(33,16),new Le(4,17))),new Qe(27,Int32Array.from([6,34,62,90,118]),new it(30,new Le(8,122),new Le(4,123)),new it(28,new Le(22,45),new Le(3,46)),new it(30,new Le(8,23),new Le(26,24)),new it(30,new Le(12,15),new Le(28,16))),new Qe(28,Int32Array.from([6,26,50,74,98,122]),new it(30,new Le(3,117),new Le(10,118)),new it(28,new Le(3,45),new Le(23,46)),new it(30,new Le(4,24),new Le(31,25)),new it(30,new Le(11,15),new Le(31,16))),new Qe(29,Int32Array.from([6,30,54,78,102,126]),new it(30,new Le(7,116),new Le(7,117)),new it(28,new Le(21,45),new Le(7,46)),new it(30,new Le(1,23),new Le(37,24)),new it(30,new Le(19,15),new Le(26,16))),new Qe(30,Int32Array.from([6,26,52,78,104,130]),new it(30,new Le(5,115),new Le(10,116)),new it(28,new Le(19,47),new Le(10,48)),new it(30,new Le(15,24),new Le(25,25)),new it(30,new Le(23,15),new Le(25,16))),new Qe(31,Int32Array.from([6,30,56,82,108,134]),new it(30,new Le(13,115),new Le(3,116)),new it(28,new Le(2,46),new Le(29,47)),new it(30,new Le(42,24),new Le(1,25)),new it(30,new Le(23,15),new Le(28,16))),new Qe(32,Int32Array.from([6,34,60,86,112,138]),new it(30,new Le(17,115)),new it(28,new Le(10,46),new Le(23,47)),new it(30,new Le(10,24),new Le(35,25)),new it(30,new Le(19,15),new Le(35,16))),new Qe(33,Int32Array.from([6,30,58,86,114,142]),new it(30,new Le(17,115),new Le(1,116)),new it(28,new Le(14,46),new Le(21,47)),new it(30,new Le(29,24),new Le(19,25)),new it(30,new Le(11,15),new Le(46,16))),new Qe(34,Int32Array.from([6,34,62,90,118,146]),new it(30,new Le(13,115),new Le(6,116)),new it(28,new Le(14,46),new Le(23,47)),new it(30,new Le(44,24),new Le(7,25)),new it(30,new Le(59,16),new Le(1,17))),new Qe(35,Int32Array.from([6,30,54,78,102,126,150]),new it(30,new Le(12,121),new Le(7,122)),new it(28,new Le(12,47),new Le(26,48)),new it(30,new Le(39,24),new Le(14,25)),new it(30,new Le(22,15),new Le(41,16))),new Qe(36,Int32Array.from([6,24,50,76,102,128,154]),new it(30,new Le(6,121),new Le(14,122)),new it(28,new Le(6,47),new Le(34,48)),new it(30,new Le(46,24),new Le(10,25)),new it(30,new Le(2,15),new Le(64,16))),new Qe(37,Int32Array.from([6,28,54,80,106,132,158]),new it(30,new Le(17,122),new Le(4,123)),new it(28,new Le(29,46),new Le(14,47)),new it(30,new Le(49,24),new Le(10,25)),new it(30,new Le(24,15),new Le(46,16))),new Qe(38,Int32Array.from([6,32,58,84,110,136,162]),new it(30,new Le(4,122),new Le(18,123)),new it(28,new Le(13,46),new Le(32,47)),new it(30,new Le(48,24),new Le(14,25)),new it(30,new Le(42,15),new Le(32,16))),new Qe(39,Int32Array.from([6,26,54,82,110,138,166]),new it(30,new Le(20,117),new Le(4,118)),new it(28,new Le(40,47),new Le(7,48)),new it(30,new Le(43,24),new Le(22,25)),new it(30,new Le(10,15),new Le(67,16))),new Qe(40,Int32Array.from([6,30,58,86,114,142,170]),new it(30,new Le(19,118),new Le(6,119)),new it(28,new Le(18,47),new Le(31,48)),new it(30,new Le(34,24),new Le(34,25)),new it(30,new Le(20,15),new Le(61,16)))];var Tt;(function(ye){ye[ye.DATA_MASK_000=0]="DATA_MASK_000",ye[ye.DATA_MASK_001=1]="DATA_MASK_001",ye[ye.DATA_MASK_010=2]="DATA_MASK_010",ye[ye.DATA_MASK_011=3]="DATA_MASK_011",ye[ye.DATA_MASK_100=4]="DATA_MASK_100",ye[ye.DATA_MASK_101=5]="DATA_MASK_101",ye[ye.DATA_MASK_110=6]="DATA_MASK_110",ye[ye.DATA_MASK_111=7]="DATA_MASK_111"})(Tt||(Tt={}));class Wt{constructor(h,p){this.value=h,this.isMasked=p}unmaskBitMatrix(h,p){for(let v=0;v<p;v++)for(let y=0;y<p;y++)this.isMasked(v,y)&&h.flip(y,v)}}Wt.values=new Map([[Tt.DATA_MASK_000,new Wt(Tt.DATA_MASK_000,(ye,h)=>(ye+h&1)===0)],[Tt.DATA_MASK_001,new Wt(Tt.DATA_MASK_001,(ye,h)=>(ye&1)===0)],[Tt.DATA_MASK_010,new Wt(Tt.DATA_MASK_010,(ye,h)=>h%3===0)],[Tt.DATA_MASK_011,new Wt(Tt.DATA_MASK_011,(ye,h)=>(ye+h)%3===0)],[Tt.DATA_MASK_100,new Wt(Tt.DATA_MASK_100,(ye,h)=>(Math.floor(ye/2)+Math.floor(h/3)&1)===0)],[Tt.DATA_MASK_101,new Wt(Tt.DATA_MASK_101,(ye,h)=>ye*h%6===0)],[Tt.DATA_MASK_110,new Wt(Tt.DATA_MASK_110,(ye,h)=>ye*h%6<3)],[Tt.DATA_MASK_111,new Wt(Tt.DATA_MASK_111,(ye,h)=>(ye+h+ye*h%3&1)===0)]]);class zt{constructor(h){const p=h.getHeight();if(p<21||(p&3)!==1)throw new $;this.bitMatrix=h}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let h=0;for(let j=0;j<6;j++)h=this.copyBit(j,8,h);h=this.copyBit(7,8,h),h=this.copyBit(8,8,h),h=this.copyBit(8,7,h);for(let j=5;j>=0;j--)h=this.copyBit(8,j,h);const p=this.bitMatrix.getHeight();let v=0;const y=p-7;for(let j=p-1;j>=y;j--)v=this.copyBit(8,j,v);for(let j=p-8;j<p;j++)v=this.copyBit(j,8,v);if(this.parsedFormatInfo=qn.decodeFormatInformation(h,v),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new $}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const h=this.bitMatrix.getHeight(),p=Math.floor((h-17)/4);if(p<=6)return Qe.getVersionForNumber(p);let v=0;const y=h-11;for(let I=5;I>=0;I--)for(let T=h-9;T>=y;T--)v=this.copyBit(T,I,v);let j=Qe.decodeVersionInformation(v);if(j!==null&&j.getDimensionForVersion()===h)return this.parsedVersion=j,j;v=0;for(let I=5;I>=0;I--)for(let T=h-9;T>=y;T--)v=this.copyBit(I,T,v);if(j=Qe.decodeVersionInformation(v),j!==null&&j.getDimensionForVersion()===h)return this.parsedVersion=j,j;throw new $}copyBit(h,p,v){return(this.isMirror?this.bitMatrix.get(p,h):this.bitMatrix.get(h,p))?v<<1|1:v<<1}readCodewords(){const h=this.readFormatInformation(),p=this.readVersion(),v=Wt.values.get(h.getDataMask()),y=this.bitMatrix.getHeight();v.unmaskBitMatrix(this.bitMatrix,y);const j=p.buildFunctionPattern();let I=!0;const T=new Uint8Array(p.getTotalCodewords());let q=0,X=0,le=0;for(let we=y-1;we>0;we-=2){we===6&&we--;for(let ke=0;ke<y;ke++){const We=I?y-1-ke:ke;for(let ct=0;ct<2;ct++)j.get(we-ct,We)||(le++,X<<=1,this.bitMatrix.get(we-ct,We)&&(X|=1),le===8&&(T[q++]=X,le=0,X=0))}I=!I}if(q!==p.getTotalCodewords())throw new $;return T}remask(){if(this.parsedFormatInfo===null)return;const h=Wt.values[this.parsedFormatInfo.getDataMask()],p=this.bitMatrix.getHeight();h.unmaskBitMatrix(this.bitMatrix,p)}setMirror(h){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=h}mirror(){const h=this.bitMatrix;for(let p=0,v=h.getWidth();p<v;p++)for(let y=p+1,j=h.getHeight();y<j;y++)h.get(p,y)!==h.get(y,p)&&(h.flip(y,p),h.flip(p,y))}}class Xe{constructor(h,p){this.numDataCodewords=h,this.codewords=p}static getDataBlocks(h,p,v){if(h.length!==p.getTotalCodewords())throw new g;const y=p.getECBlocksForLevel(v);let j=0;const I=y.getECBlocks();for(const ct of I)j+=ct.getCount();const T=new Array(j);let q=0;for(const ct of I)for(let ut=0;ut<ct.getCount();ut++){const Ct=ct.getDataCodewords(),Ot=y.getECCodewordsPerBlock()+Ct;T[q++]=new Xe(Ct,new Uint8Array(Ot))}const X=T[0].codewords.length;let le=T.length-1;for(;le>=0&&T[le].codewords.length!==X;)le--;le++;const we=X-y.getECCodewordsPerBlock();let ke=0;for(let ct=0;ct<we;ct++)for(let ut=0;ut<q;ut++)T[ut].codewords[ct]=h[ke++];for(let ct=le;ct<q;ct++)T[ct].codewords[we]=h[ke++];const We=T[0].codewords.length;for(let ct=we;ct<We;ct++)for(let ut=0;ut<q;ut++){const Ct=ut<le?ct:ct+1;T[ut].codewords[Ct]=h[ke++]}return T}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var et;(function(ye){ye[ye.TERMINATOR=0]="TERMINATOR",ye[ye.NUMERIC=1]="NUMERIC",ye[ye.ALPHANUMERIC=2]="ALPHANUMERIC",ye[ye.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",ye[ye.BYTE=4]="BYTE",ye[ye.ECI=5]="ECI",ye[ye.KANJI=6]="KANJI",ye[ye.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",ye[ye.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",ye[ye.HANZI=9]="HANZI"})(et||(et={}));class Je{constructor(h,p,v,y){this.value=h,this.stringValue=p,this.characterCountBitsForVersions=v,this.bits=y,Je.FOR_BITS.set(y,this),Je.FOR_VALUE.set(h,this)}static forBits(h){const p=Je.FOR_BITS.get(h);if(p===void 0)throw new g;return p}getCharacterCountBits(h){const p=h.getVersionNumber();let v;return p<=9?v=0:p<=26?v=1:v=2,this.characterCountBitsForVersions[v]}getValue(){return this.value}getBits(){return this.bits}equals(h){if(!(h instanceof Je))return!1;const p=h;return this.value===p.value}toString(){return this.stringValue}}Je.FOR_BITS=new Map,Je.FOR_VALUE=new Map,Je.TERMINATOR=new Je(et.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),Je.NUMERIC=new Je(et.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),Je.ALPHANUMERIC=new Je(et.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),Je.STRUCTURED_APPEND=new Je(et.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),Je.BYTE=new Je(et.BYTE,"BYTE",Int32Array.from([8,16,16]),4),Je.ECI=new Je(et.ECI,"ECI",Int32Array.from([0,0,0]),7),Je.KANJI=new Je(et.KANJI,"KANJI",Int32Array.from([8,10,12]),8),Je.FNC1_FIRST_POSITION=new Je(et.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),Je.FNC1_SECOND_POSITION=new Je(et.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),Je.HANZI=new Je(et.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class ot{static decode(h,p,v,y){const j=new sa(h);let I=new te;const T=new Array;let q=-1,X=-1;try{let le=null,we=!1,ke;do{if(j.available()<4)ke=Je.TERMINATOR;else{const We=j.readBits(4);ke=Je.forBits(We)}switch(ke){case Je.TERMINATOR:break;case Je.FNC1_FIRST_POSITION:case Je.FNC1_SECOND_POSITION:we=!0;break;case Je.STRUCTURED_APPEND:if(j.available()<16)throw new $;q=j.readBits(8),X=j.readBits(8);break;case Je.ECI:const We=ot.parseECIValue(j);if(le=F.getCharacterSetECIByValue(We),le===null)throw new $;break;case Je.HANZI:const ct=j.readBits(4),ut=j.readBits(ke.getCharacterCountBits(p));ct===ot.GB2312_SUBSET&&ot.decodeHanziSegment(j,I,ut);break;default:const Ct=j.readBits(ke.getCharacterCountBits(p));switch(ke){case Je.NUMERIC:ot.decodeNumericSegment(j,I,Ct);break;case Je.ALPHANUMERIC:ot.decodeAlphanumericSegment(j,I,Ct,we);break;case Je.BYTE:ot.decodeByteSegment(j,I,Ct,le,T,y);break;case Je.KANJI:ot.decodeKanjiSegment(j,I,Ct);break;default:throw new $}break}}while(ke!==Je.TERMINATOR)}catch{throw new $}return new Ce(h,I.toString(),T.length===0?null:T,v===null?null:v.toString(),q,X)}static decodeHanziSegment(h,p,v){if(v*13>h.available())throw new $;const y=new Uint8Array(2*v);let j=0;for(;v>0;){const I=h.readBits(13);let T=I/96<<8&4294967295|I%96;T<959?T+=41377:T+=42657,y[j]=T>>8&255,y[j+1]=T&255,j+=2,v--}try{p.append(se.decode(y,K.GB2312))}catch(I){throw new $(I)}}static decodeKanjiSegment(h,p,v){if(v*13>h.available())throw new $;const y=new Uint8Array(2*v);let j=0;for(;v>0;){const I=h.readBits(13);let T=I/192<<8&4294967295|I%192;T<7936?T+=33088:T+=49472,y[j]=T>>8,y[j+1]=T,j+=2,v--}try{p.append(se.decode(y,K.SHIFT_JIS))}catch(I){throw new $(I)}}static decodeByteSegment(h,p,v,y,j,I){if(8*v>h.available())throw new $;const T=new Uint8Array(v);for(let X=0;X<v;X++)T[X]=h.readBits(8);let q;y===null?q=K.guessEncoding(T,I):q=y.getName();try{p.append(se.decode(T,q))}catch(X){throw new $(X)}j.push(T)}static toAlphaNumericChar(h){if(h>=ot.ALPHANUMERIC_CHARS.length)throw new $;return ot.ALPHANUMERIC_CHARS[h]}static decodeAlphanumericSegment(h,p,v,y){const j=p.length();for(;v>1;){if(h.available()<11)throw new $;const I=h.readBits(11);p.append(ot.toAlphaNumericChar(Math.floor(I/45))),p.append(ot.toAlphaNumericChar(I%45)),v-=2}if(v===1){if(h.available()<6)throw new $;p.append(ot.toAlphaNumericChar(h.readBits(6)))}if(y)for(let I=j;I<p.length();I++)p.charAt(I)==="%"&&(I<p.length()-1&&p.charAt(I+1)==="%"?p.deleteCharAt(I+1):p.setCharAt(I,""))}static decodeNumericSegment(h,p,v){for(;v>=3;){if(h.available()<10)throw new $;const y=h.readBits(10);if(y>=1e3)throw new $;p.append(ot.toAlphaNumericChar(Math.floor(y/100))),p.append(ot.toAlphaNumericChar(Math.floor(y/10)%10)),p.append(ot.toAlphaNumericChar(y%10)),v-=3}if(v===2){if(h.available()<7)throw new $;const y=h.readBits(7);if(y>=100)throw new $;p.append(ot.toAlphaNumericChar(Math.floor(y/10))),p.append(ot.toAlphaNumericChar(y%10))}else if(v===1){if(h.available()<4)throw new $;const y=h.readBits(4);if(y>=10)throw new $;p.append(ot.toAlphaNumericChar(y))}}static parseECIValue(h){const p=h.readBits(8);if((p&128)===0)return p&127;if((p&192)===128){const v=h.readBits(8);return(p&63)<<8&4294967295|v}if((p&224)===192){const v=h.readBits(16);return(p&31)<<16&4294967295|v}throw new $}}ot.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",ot.GB2312_SUBSET=1;class Ut{constructor(h){this.mirrored=h}isMirrored(){return this.mirrored}applyMirroredCorrection(h){if(!this.mirrored||h===null||h.length<3)return;const p=h[0];h[0]=h[2],h[2]=p}}class Ft{constructor(){this.rsDecoder=new pe(Se.QR_CODE_FIELD_256)}decodeBooleanArray(h,p){return this.decodeBitMatrix(J.parseFromBooleanArray(h),p)}decodeBitMatrix(h,p){const v=new zt(h);let y=null;try{return this.decodeBitMatrixParser(v,p)}catch(j){y=j}try{v.remask(),v.setMirror(!0),v.readVersion(),v.readFormatInformation(),v.mirror();const j=this.decodeBitMatrixParser(v,p);return j.setOther(new Ut(!0)),j}catch(j){throw y!==null?y:j}}decodeBitMatrixParser(h,p){const v=h.readVersion(),y=h.readFormatInformation().getErrorCorrectionLevel(),j=h.readCodewords(),I=Xe.getDataBlocks(j,v,y);let T=0;for(const le of I)T+=le.getNumDataCodewords();const q=new Uint8Array(T);let X=0;for(const le of I){const we=le.getCodewords(),ke=le.getNumDataCodewords();this.correctErrors(we,ke);for(let We=0;We<ke;We++)q[X++]=we[We]}return ot.decode(q,v,y,p)}correctErrors(h,p){const v=new Int32Array(h);try{this.rsDecoder.decode(v,h.length-p)}catch{throw new w}for(let y=0;y<p;y++)h[y]=v[y]}}class In extends ge{constructor(h,p,v){super(h,p),this.estimatedModuleSize=v}aboutEquals(h,p,v){if(Math.abs(p-this.getY())<=h&&Math.abs(v-this.getX())<=h){const y=Math.abs(h-this.estimatedModuleSize);return y<=1||y<=this.estimatedModuleSize}return!1}combineEstimate(h,p,v){const y=(this.getX()+p)/2,j=(this.getY()+h)/2,I=(this.estimatedModuleSize+v)/2;return new In(y,j,I)}}class gn{constructor(h,p,v,y,j,I,T){this.image=h,this.startX=p,this.startY=v,this.width=y,this.height=j,this.moduleSize=I,this.resultPointCallback=T,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const h=this.startX,p=this.height,v=this.width,y=h+v,j=this.startY+p/2,I=new Int32Array(3),T=this.image;for(let q=0;q<p;q++){const X=j+((q&1)===0?Math.floor((q+1)/2):-Math.floor((q+1)/2));I[0]=0,I[1]=0,I[2]=0;let le=h;for(;le<y&&!T.get(le,X);)le++;let we=0;for(;le<y;){if(T.get(le,X))if(we===1)I[1]++;else if(we===2){if(this.foundPatternCross(I)){const ke=this.handlePossibleCenter(I,X,le);if(ke!==null)return ke}I[0]=I[2],I[1]=1,I[2]=0,we=1}else I[++we]++;else we===1&&we++,I[we]++;le++}if(this.foundPatternCross(I)){const ke=this.handlePossibleCenter(I,X,y);if(ke!==null)return ke}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new z}static centerFromEnd(h,p){return p-h[2]-h[1]/2}foundPatternCross(h){const p=this.moduleSize,v=p/2;for(let y=0;y<3;y++)if(Math.abs(p-h[y])>=v)return!1;return!0}crossCheckVertical(h,p,v,y){const j=this.image,I=j.getHeight(),T=this.crossCheckStateCount;T[0]=0,T[1]=0,T[2]=0;let q=h;for(;q>=0&&j.get(p,q)&&T[1]<=v;)T[1]++,q--;if(q<0||T[1]>v)return NaN;for(;q>=0&&!j.get(p,q)&&T[0]<=v;)T[0]++,q--;if(T[0]>v)return NaN;for(q=h+1;q<I&&j.get(p,q)&&T[1]<=v;)T[1]++,q++;if(q===I||T[1]>v)return NaN;for(;q<I&&!j.get(p,q)&&T[2]<=v;)T[2]++,q++;if(T[2]>v)return NaN;const X=T[0]+T[1]+T[2];return 5*Math.abs(X-y)>=2*y?NaN:this.foundPatternCross(T)?gn.centerFromEnd(T,q):NaN}handlePossibleCenter(h,p,v){const y=h[0]+h[1]+h[2],j=gn.centerFromEnd(h,v),I=this.crossCheckVertical(p,j,2*h[1],y);if(!isNaN(I)){const T=(h[0]+h[1]+h[2])/3;for(const X of this.possibleCenters)if(X.aboutEquals(T,I,j))return X.combineEstimate(I,j,T);const q=new In(j,I,T);this.possibleCenters.push(q),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(q)}return null}}class Xn extends ge{constructor(h,p,v,y){super(h,p),this.estimatedModuleSize=v,this.count=y,y===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(h,p,v){if(Math.abs(p-this.getY())<=h&&Math.abs(v-this.getX())<=h){const y=Math.abs(h-this.estimatedModuleSize);return y<=1||y<=this.estimatedModuleSize}return!1}combineEstimate(h,p,v){const y=this.count+1,j=(this.count*this.getX()+p)/y,I=(this.count*this.getY()+h)/y,T=(this.count*this.estimatedModuleSize+v)/y;return new Xn(j,I,T,y)}}class Gt{constructor(h){this.bottomLeft=h[0],this.topLeft=h[1],this.topRight=h[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class Dn{constructor(h,p){this.image=h,this.resultPointCallback=p,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=p}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(h){const p=h!=null&&h.get(O.TRY_HARDER)!==void 0,v=h!=null&&h.get(O.PURE_BARCODE)!==void 0,y=this.image,j=y.getHeight(),I=y.getWidth();let T=Math.floor(3*j/(4*Dn.MAX_MODULES));(T<Dn.MIN_SKIP||p)&&(T=Dn.MIN_SKIP);let q=!1;const X=new Int32Array(5);for(let we=T-1;we<j&&!q;we+=T){X[0]=0,X[1]=0,X[2]=0,X[3]=0,X[4]=0;let ke=0;for(let We=0;We<I;We++)if(y.get(We,we))(ke&1)===1&&ke++,X[ke]++;else if((ke&1)===0)if(ke===4)if(Dn.foundPatternCross(X)){if(this.handlePossibleCenter(X,we,We,v)===!0)if(T=2,this.hasSkipped===!0)q=this.haveMultiplyConfirmedCenters();else{const ut=this.findRowSkip();ut>X[2]&&(we+=ut-X[2]-T,We=I-1)}else{X[0]=X[2],X[1]=X[3],X[2]=X[4],X[3]=1,X[4]=0,ke=3;continue}ke=0,X[0]=0,X[1]=0,X[2]=0,X[3]=0,X[4]=0}else X[0]=X[2],X[1]=X[3],X[2]=X[4],X[3]=1,X[4]=0,ke=3;else X[++ke]++;else X[ke]++;Dn.foundPatternCross(X)&&this.handlePossibleCenter(X,we,I,v)===!0&&(T=X[0],this.hasSkipped&&(q=this.haveMultiplyConfirmedCenters()))}const le=this.selectBestPatterns();return ge.orderBestPatterns(le),new Gt(le)}static centerFromEnd(h,p){return p-h[4]-h[3]-h[2]/2}static foundPatternCross(h){let p=0;for(let j=0;j<5;j++){const I=h[j];if(I===0)return!1;p+=I}if(p<7)return!1;const v=p/7,y=v/2;return Math.abs(v-h[0])<y&&Math.abs(v-h[1])<y&&Math.abs(3*v-h[2])<3*y&&Math.abs(v-h[3])<y&&Math.abs(v-h[4])<y}getCrossCheckStateCount(){const h=this.crossCheckStateCount;return h[0]=0,h[1]=0,h[2]=0,h[3]=0,h[4]=0,h}crossCheckDiagonal(h,p,v,y){const j=this.getCrossCheckStateCount();let I=0;const T=this.image;for(;h>=I&&p>=I&&T.get(p-I,h-I);)j[2]++,I++;if(h<I||p<I)return!1;for(;h>=I&&p>=I&&!T.get(p-I,h-I)&&j[1]<=v;)j[1]++,I++;if(h<I||p<I||j[1]>v)return!1;for(;h>=I&&p>=I&&T.get(p-I,h-I)&&j[0]<=v;)j[0]++,I++;if(j[0]>v)return!1;const q=T.getHeight(),X=T.getWidth();for(I=1;h+I<q&&p+I<X&&T.get(p+I,h+I);)j[2]++,I++;if(h+I>=q||p+I>=X)return!1;for(;h+I<q&&p+I<X&&!T.get(p+I,h+I)&&j[3]<v;)j[3]++,I++;if(h+I>=q||p+I>=X||j[3]>=v)return!1;for(;h+I<q&&p+I<X&&T.get(p+I,h+I)&&j[4]<v;)j[4]++,I++;if(j[4]>=v)return!1;const le=j[0]+j[1]+j[2]+j[3]+j[4];return Math.abs(le-y)<2*y&&Dn.foundPatternCross(j)}crossCheckVertical(h,p,v,y){const j=this.image,I=j.getHeight(),T=this.getCrossCheckStateCount();let q=h;for(;q>=0&&j.get(p,q);)T[2]++,q--;if(q<0)return NaN;for(;q>=0&&!j.get(p,q)&&T[1]<=v;)T[1]++,q--;if(q<0||T[1]>v)return NaN;for(;q>=0&&j.get(p,q)&&T[0]<=v;)T[0]++,q--;if(T[0]>v)return NaN;for(q=h+1;q<I&&j.get(p,q);)T[2]++,q++;if(q===I)return NaN;for(;q<I&&!j.get(p,q)&&T[3]<v;)T[3]++,q++;if(q===I||T[3]>=v)return NaN;for(;q<I&&j.get(p,q)&&T[4]<v;)T[4]++,q++;if(T[4]>=v)return NaN;const X=T[0]+T[1]+T[2]+T[3]+T[4];return 5*Math.abs(X-y)>=2*y?NaN:Dn.foundPatternCross(T)?Dn.centerFromEnd(T,q):NaN}crossCheckHorizontal(h,p,v,y){const j=this.image,I=j.getWidth(),T=this.getCrossCheckStateCount();let q=h;for(;q>=0&&j.get(q,p);)T[2]++,q--;if(q<0)return NaN;for(;q>=0&&!j.get(q,p)&&T[1]<=v;)T[1]++,q--;if(q<0||T[1]>v)return NaN;for(;q>=0&&j.get(q,p)&&T[0]<=v;)T[0]++,q--;if(T[0]>v)return NaN;for(q=h+1;q<I&&j.get(q,p);)T[2]++,q++;if(q===I)return NaN;for(;q<I&&!j.get(q,p)&&T[3]<v;)T[3]++,q++;if(q===I||T[3]>=v)return NaN;for(;q<I&&j.get(q,p)&&T[4]<v;)T[4]++,q++;if(T[4]>=v)return NaN;const X=T[0]+T[1]+T[2]+T[3]+T[4];return 5*Math.abs(X-y)>=y?NaN:Dn.foundPatternCross(T)?Dn.centerFromEnd(T,q):NaN}handlePossibleCenter(h,p,v,y){const j=h[0]+h[1]+h[2]+h[3]+h[4];let I=Dn.centerFromEnd(h,v),T=this.crossCheckVertical(p,Math.floor(I),h[2],j);if(!isNaN(T)&&(I=this.crossCheckHorizontal(Math.floor(I),Math.floor(T),h[2],j),!isNaN(I)&&(!y||this.crossCheckDiagonal(Math.floor(T),Math.floor(I),h[2],j)))){const q=j/7;let X=!1;const le=this.possibleCenters;for(let we=0,ke=le.length;we<ke;we++){const We=le[we];if(We.aboutEquals(q,T,I)){le[we]=We.combineEstimate(T,I,q),X=!0;break}}if(!X){const we=new Xn(I,T,q);le.push(we),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(we)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let p=null;for(const v of this.possibleCenters)if(v.getCount()>=Dn.CENTER_QUORUM)if(p==null)p=v;else return this.hasSkipped=!0,Math.floor((Math.abs(p.getX()-v.getX())-Math.abs(p.getY()-v.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let h=0,p=0;const v=this.possibleCenters.length;for(const I of this.possibleCenters)I.getCount()>=Dn.CENTER_QUORUM&&(h++,p+=I.getEstimatedModuleSize());if(h<3)return!1;const y=p/v;let j=0;for(const I of this.possibleCenters)j+=Math.abs(I.getEstimatedModuleSize()-y);return j<=.05*p}selectBestPatterns(){const h=this.possibleCenters.length;if(h<3)throw new z;const p=this.possibleCenters;let v;if(h>3){let y=0,j=0;for(const q of this.possibleCenters){const X=q.getEstimatedModuleSize();y+=X,j+=X*X}v=y/h;let I=Math.sqrt(j/h-v*v);p.sort((q,X)=>{const le=Math.abs(X.getEstimatedModuleSize()-v),we=Math.abs(q.getEstimatedModuleSize()-v);return le<we?-1:le>we?1:0});const T=Math.max(.2*v,I);for(let q=0;q<p.length&&p.length>3;q++){const X=p[q];Math.abs(X.getEstimatedModuleSize()-v)>T&&(p.splice(q,1),q--)}}if(p.length>3){let y=0;for(const j of p)y+=j.getEstimatedModuleSize();v=y/p.length,p.sort((j,I)=>{if(I.getCount()===j.getCount()){const T=Math.abs(I.getEstimatedModuleSize()-v),q=Math.abs(j.getEstimatedModuleSize()-v);return T<q?1:T>q?-1:0}else return I.getCount()-j.getCount()}),p.splice(3)}return[p[0],p[1],p[2]]}}Dn.CENTER_QUORUM=2,Dn.MIN_SKIP=3,Dn.MAX_MODULES=57;class hn{constructor(h){this.image=h}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(h){this.resultPointCallback=h==null?null:h.get(O.NEED_RESULT_POINT_CALLBACK);const v=new Dn(this.image,this.resultPointCallback).find(h);return this.processFinderPatternInfo(v)}processFinderPatternInfo(h){const p=h.getTopLeft(),v=h.getTopRight(),y=h.getBottomLeft(),j=this.calculateModuleSize(p,v,y);if(j<1)throw new z("No pattern found in proccess finder.");const I=hn.computeDimension(p,v,y,j),T=Qe.getProvisionalVersionForDimension(I),q=T.getDimensionForVersion()-7;let X=null;if(T.getAlignmentPatternCenters().length>0){const We=v.getX()-p.getX()+y.getX(),ct=v.getY()-p.getY()+y.getY(),ut=1-3/q,Ct=Math.floor(p.getX()+ut*(We-p.getX())),Ot=Math.floor(p.getY()+ut*(ct-p.getY()));for(let Cn=4;Cn<=16;Cn<<=1)try{X=this.findAlignmentInRegion(j,Ct,Ot,Cn);break}catch(Tn){if(!(Tn instanceof z))throw Tn}}const le=hn.createTransform(p,v,y,X,I),we=hn.sampleGrid(this.image,le,I);let ke;return X===null?ke=[y,p,v]:ke=[y,p,v,X],new be(we,ke)}static createTransform(h,p,v,y,j){const I=j-3.5;let T,q,X,le;return y!==null?(T=y.getX(),q=y.getY(),X=I-3,le=X):(T=p.getX()-h.getX()+v.getX(),q=p.getY()-h.getY()+v.getY(),X=I,le=I),tt.quadrilateralToQuadrilateral(3.5,3.5,I,3.5,X,le,3.5,I,h.getX(),h.getY(),p.getX(),p.getY(),T,q,v.getX(),v.getY())}static sampleGrid(h,p,v){return Ze.getInstance().sampleGridWithTransform(h,v,v,p)}static computeDimension(h,p,v,y){const j=Ae.round(ge.distance(h,p)/y),I=Ae.round(ge.distance(h,v)/y);let T=Math.floor((j+I)/2)+7;switch(T&3){case 0:T++;break;case 2:T--;break;case 3:throw new z("Dimensions could be not found.")}return T}calculateModuleSize(h,p,v){return(this.calculateModuleSizeOneWay(h,p)+this.calculateModuleSizeOneWay(h,v))/2}calculateModuleSizeOneWay(h,p){const v=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(h.getX()),Math.floor(h.getY()),Math.floor(p.getX()),Math.floor(p.getY())),y=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(p.getX()),Math.floor(p.getY()),Math.floor(h.getX()),Math.floor(h.getY()));return isNaN(v)?y/7:isNaN(y)?v/7:(v+y)/14}sizeOfBlackWhiteBlackRunBothWays(h,p,v,y){let j=this.sizeOfBlackWhiteBlackRun(h,p,v,y),I=1,T=h-(v-h);T<0?(I=h/(h-T),T=0):T>=this.image.getWidth()&&(I=(this.image.getWidth()-1-h)/(T-h),T=this.image.getWidth()-1);let q=Math.floor(p-(y-p)*I);return I=1,q<0?(I=p/(p-q),q=0):q>=this.image.getHeight()&&(I=(this.image.getHeight()-1-p)/(q-p),q=this.image.getHeight()-1),T=Math.floor(h+(T-h)*I),j+=this.sizeOfBlackWhiteBlackRun(h,p,T,q),j-1}sizeOfBlackWhiteBlackRun(h,p,v,y){const j=Math.abs(y-p)>Math.abs(v-h);if(j){let We=h;h=p,p=We,We=v,v=y,y=We}const I=Math.abs(v-h),T=Math.abs(y-p);let q=-I/2;const X=h<v?1:-1,le=p<y?1:-1;let we=0;const ke=v+X;for(let We=h,ct=p;We!==ke;We+=X){const ut=j?ct:We,Ct=j?We:ct;if(we===1===this.image.get(ut,Ct)){if(we===2)return Ae.distance(We,ct,h,p);we++}if(q+=T,q>0){if(ct===y)break;ct+=le,q-=I}}return we===2?Ae.distance(v+X,y,h,p):NaN}findAlignmentInRegion(h,p,v,y){const j=Math.floor(y*h),I=Math.max(0,p-j),T=Math.min(this.image.getWidth()-1,p+j);if(T-I<h*3)throw new z("Alignment top exceeds estimated module size.");const q=Math.max(0,v-j),X=Math.min(this.image.getHeight()-1,v+j);if(X-q<h*3)throw new z("Alignment bottom exceeds estimated module size.");return new gn(this.image,I,q,T-I,X-q,h,this.resultPointCallback).find()}}class as{constructor(){this.decoder=new Ft}getDecoder(){return this.decoder}decode(h,p){let v,y;if(p!=null&&p.get(O.PURE_BARCODE)!==void 0){const q=as.extractPureBits(h.getBlackMatrix());v=this.decoder.decodeBitMatrix(q,p),y=as.NO_POINTS}else{const q=new hn(h.getBlackMatrix()).detect(p);v=this.decoder.decodeBitMatrix(q.getBits(),p),y=q.getPoints()}v.getOther()instanceof Ut&&v.getOther().applyMirroredCorrection(y);const j=new ae(v.getText(),v.getRawBytes(),void 0,y,re.QR_CODE,void 0),I=v.getByteSegments();I!==null&&j.putMetadata(me.BYTE_SEGMENTS,I);const T=v.getECLevel();return T!==null&&j.putMetadata(me.ERROR_CORRECTION_LEVEL,T),v.hasStructuredAppend()&&(j.putMetadata(me.STRUCTURED_APPEND_SEQUENCE,v.getStructuredAppendSequenceNumber()),j.putMetadata(me.STRUCTURED_APPEND_PARITY,v.getStructuredAppendParity())),j}reset(){}static extractPureBits(h){const p=h.getTopLeftOnBit(),v=h.getBottomRightOnBit();if(p===null||v===null)throw new z;const y=this.moduleSize(p,h);let j=p[1],I=v[1],T=p[0],q=v[0];if(T>=q||j>=I)throw new z;if(I-j!==q-T&&(q=T+(I-j),q>=h.getWidth()))throw new z;const X=Math.round((q-T+1)/y),le=Math.round((I-j+1)/y);if(X<=0||le<=0)throw new z;if(le!==X)throw new z;const we=Math.floor(y/2);j+=we,T+=we;const ke=T+Math.floor((X-1)*y)-q;if(ke>0){if(ke>we)throw new z;T-=ke}const We=j+Math.floor((le-1)*y)-I;if(We>0){if(We>we)throw new z;j-=We}const ct=new J(X,le);for(let ut=0;ut<le;ut++){const Ct=j+Math.floor(ut*y);for(let Ot=0;Ot<X;Ot++)h.get(T+Math.floor(Ot*y),Ct)&&ct.set(Ot,ut)}return ct}static moduleSize(h,p){const v=p.getHeight(),y=p.getWidth();let j=h[0],I=h[1],T=!0,q=0;for(;j<y&&I<v;){if(T!==p.get(j,I)){if(++q===5)break;T=!T}j++,I++}if(j===y||I===v)throw new z;return(j-h[0])/7}}as.NO_POINTS=new Array;class Qt{PDF417Common(){}static getBitCountSum(h){return Ae.sum(h)}static toIntArray(h){if(h==null||!h.length)return Qt.EMPTY_INT_ARRAY;const p=new Int32Array(h.length);let v=0;for(const y of h)p[v++]=y;return p}static getCodeword(h){const p=D.binarySearch(Qt.SYMBOL_TABLE,h&262143);return p<0?-1:(Qt.CODEWORD_TABLE[p]-1)%Qt.NUMBER_OF_CODEWORDS}}Qt.NUMBER_OF_CODEWORDS=929,Qt.MAX_CODEWORDS_IN_BARCODE=Qt.NUMBER_OF_CODEWORDS-1,Qt.MIN_ROWS_IN_BARCODE=3,Qt.MAX_ROWS_IN_BARCODE=90,Qt.MODULES_IN_CODEWORD=17,Qt.MODULES_IN_STOP_PATTERN=18,Qt.BARS_IN_MODULE=8,Qt.EMPTY_INT_ARRAY=new Int32Array([]),Qt.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),Qt.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class ys{constructor(h,p){this.bits=h,this.points=p}getBits(){return this.bits}getPoints(){return this.points}}class jt{static detectMultiple(h,p,v){let y=h.getBlackMatrix(),j=jt.detect(v,y);return j.length||(y=y.clone(),y.rotate180(),j=jt.detect(v,y)),new ys(y,j)}static detect(h,p){const v=new Array;let y=0,j=0,I=!1;for(;y<p.getHeight();){const T=jt.findVertices(p,y,j);if(T[0]==null&&T[3]==null){if(!I)break;I=!1,j=0;for(const q of v)q[1]!=null&&(y=Math.trunc(Math.max(y,q[1].getY()))),q[3]!=null&&(y=Math.max(y,Math.trunc(q[3].getY())));y+=jt.ROW_STEP;continue}if(I=!0,v.push(T),!h)break;T[2]!=null?(j=Math.trunc(T[2].getX()),y=Math.trunc(T[2].getY())):(j=Math.trunc(T[4].getX()),y=Math.trunc(T[4].getY()))}return v}static findVertices(h,p,v){const y=h.getHeight(),j=h.getWidth(),I=new Array(8);return jt.copyToResult(I,jt.findRowsWithPattern(h,y,j,p,v,jt.START_PATTERN),jt.INDEXES_START_PATTERN),I[4]!=null&&(v=Math.trunc(I[4].getX()),p=Math.trunc(I[4].getY())),jt.copyToResult(I,jt.findRowsWithPattern(h,y,j,p,v,jt.STOP_PATTERN),jt.INDEXES_STOP_PATTERN),I}static copyToResult(h,p,v){for(let y=0;y<v.length;y++)h[v[y]]=p[y]}static findRowsWithPattern(h,p,v,y,j,I){const T=new Array(4);let q=!1;const X=new Int32Array(I.length);for(;y<p;y+=jt.ROW_STEP){let we=jt.findGuardPattern(h,j,y,v,!1,I,X);if(we!=null){for(;y>0;){const ke=jt.findGuardPattern(h,j,--y,v,!1,I,X);if(ke!=null)we=ke;else{y++;break}}T[0]=new ge(we[0],y),T[1]=new ge(we[1],y),q=!0;break}}let le=y+1;if(q){let we=0,ke=Int32Array.from([Math.trunc(T[0].getX()),Math.trunc(T[1].getX())]);for(;le<p;le++){const We=jt.findGuardPattern(h,ke[0],le,v,!1,I,X);if(We!=null&&Math.abs(ke[0]-We[0])<jt.MAX_PATTERN_DRIFT&&Math.abs(ke[1]-We[1])<jt.MAX_PATTERN_DRIFT)ke=We,we=0;else{if(we>jt.SKIPPED_ROW_COUNT_MAX)break;we++}}le-=we+1,T[2]=new ge(ke[0],le),T[3]=new ge(ke[1],le)}return le-y<jt.BARCODE_MIN_HEIGHT&&D.fill(T,null),T}static findGuardPattern(h,p,v,y,j,I,T){D.fillWithin(T,0,T.length,0);let q=p,X=0;for(;h.get(q,v)&&q>0&&X++<jt.MAX_PIXEL_DRIFT;)q--;let le=q,we=0,ke=I.length;for(let We=j;le<y;le++)if(h.get(le,v)!==We)T[we]++;else{if(we===ke-1){if(jt.patternMatchVariance(T,I,jt.MAX_INDIVIDUAL_VARIANCE)<jt.MAX_AVG_VARIANCE)return new Int32Array([q,le]);q+=T[0]+T[1],S.arraycopy(T,2,T,0,we-1),T[we-1]=0,T[we]=0,we--}else we++;T[we]=1,We=!We}return we===ke-1&&jt.patternMatchVariance(T,I,jt.MAX_INDIVIDUAL_VARIANCE)<jt.MAX_AVG_VARIANCE?new Int32Array([q,le-1]):null}static patternMatchVariance(h,p,v){let y=h.length,j=0,I=0;for(let X=0;X<y;X++)j+=h[X],I+=p[X];if(j<I)return 1/0;let T=j/I;v*=T;let q=0;for(let X=0;X<y;X++){let le=h[X],we=p[X]*T,ke=le>we?le-we:we-le;if(ke>v)return 1/0;q+=ke}return q/j}}jt.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),jt.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),jt.MAX_AVG_VARIANCE=.42,jt.MAX_INDIVIDUAL_VARIANCE=.8,jt.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),jt.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),jt.MAX_PIXEL_DRIFT=3,jt.MAX_PATTERN_DRIFT=5,jt.SKIPPED_ROW_COUNT_MAX=25,jt.ROW_STEP=5,jt.BARCODE_MIN_HEIGHT=10;class rn{constructor(h,p){if(p.length===0)throw new g;this.field=h;let v=p.length;if(v>1&&p[0]===0){let y=1;for(;y<v&&p[y]===0;)y++;y===v?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(v-y),S.arraycopy(p,y,this.coefficients,0,this.coefficients.length))}else this.coefficients=p}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(h){return this.coefficients[this.coefficients.length-1-h]}evaluateAt(h){if(h===0)return this.getCoefficient(0);if(h===1){let y=0;for(let j of this.coefficients)y=this.field.add(y,j);return y}let p=this.coefficients[0],v=this.coefficients.length;for(let y=1;y<v;y++)p=this.field.add(this.field.multiply(h,p),this.coefficients[y]);return p}add(h){if(!this.field.equals(h.field))throw new g("ModulusPolys do not have same ModulusGF field");if(this.isZero())return h;if(h.isZero())return this;let p=this.coefficients,v=h.coefficients;if(p.length>v.length){let I=p;p=v,v=I}let y=new Int32Array(v.length),j=v.length-p.length;S.arraycopy(v,0,y,0,j);for(let I=j;I<v.length;I++)y[I]=this.field.add(p[I-j],v[I]);return new rn(this.field,y)}subtract(h){if(!this.field.equals(h.field))throw new g("ModulusPolys do not have same ModulusGF field");return h.isZero()?this:this.add(h.negative())}multiply(h){return h instanceof rn?this.multiplyOther(h):this.multiplyScalar(h)}multiplyOther(h){if(!this.field.equals(h.field))throw new g("ModulusPolys do not have same ModulusGF field");if(this.isZero()||h.isZero())return new rn(this.field,new Int32Array([0]));let p=this.coefficients,v=p.length,y=h.coefficients,j=y.length,I=new Int32Array(v+j-1);for(let T=0;T<v;T++){let q=p[T];for(let X=0;X<j;X++)I[T+X]=this.field.add(I[T+X],this.field.multiply(q,y[X]))}return new rn(this.field,I)}negative(){let h=this.coefficients.length,p=new Int32Array(h);for(let v=0;v<h;v++)p[v]=this.field.subtract(0,this.coefficients[v]);return new rn(this.field,p)}multiplyScalar(h){if(h===0)return new rn(this.field,new Int32Array([0]));if(h===1)return this;let p=this.coefficients.length,v=new Int32Array(p);for(let y=0;y<p;y++)v[y]=this.field.multiply(this.coefficients[y],h);return new rn(this.field,v)}multiplyByMonomial(h,p){if(h<0)throw new g;if(p===0)return new rn(this.field,new Int32Array([0]));let v=this.coefficients.length,y=new Int32Array(v+h);for(let j=0;j<v;j++)y[j]=this.field.multiply(this.coefficients[j],p);return new rn(this.field,y)}toString(){let h=new te;for(let p=this.getDegree();p>=0;p--){let v=this.getCoefficient(p);v!==0&&(v<0?(h.append(" - "),v=-v):h.length()>0&&h.append(" + "),(p===0||v!==1)&&h.append(v),p!==0&&(p===1?h.append("x"):(h.append("x^"),h.append(p))))}return h.toString()}}class On{add(h,p){return(h+p)%this.modulus}subtract(h,p){return(this.modulus+h-p)%this.modulus}exp(h){return this.expTable[h]}log(h){if(h===0)throw new g;return this.logTable[h]}inverse(h){if(h===0)throw new ve;return this.expTable[this.modulus-this.logTable[h]-1]}multiply(h,p){return h===0||p===0?0:this.expTable[(this.logTable[h]+this.logTable[p])%(this.modulus-1)]}getSize(){return this.modulus}equals(h){return h===this}}class bs extends On{constructor(h,p){super(),this.modulus=h,this.expTable=new Int32Array(h),this.logTable=new Int32Array(h);let v=1;for(let y=0;y<h;y++)this.expTable[y]=v,v=v*p%h;for(let y=0;y<h-1;y++)this.logTable[this.expTable[y]]=y;this.zero=new rn(this,new Int32Array([0])),this.one=new rn(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(h,p){if(h<0)throw new g;if(p===0)return this.zero;let v=new Int32Array(h+1);return v[0]=p,new rn(this,v)}}bs.PDF417_GF=new bs(Qt.NUMBER_OF_CODEWORDS,3);class ws{constructor(){this.field=bs.PDF417_GF}decode(h,p,v){let y=new rn(this.field,h),j=new Int32Array(p),I=!1;for(let ct=p;ct>0;ct--){let ut=y.evaluateAt(this.field.exp(ct));j[p-ct]=ut,ut!==0&&(I=!0)}if(!I)return 0;let T=this.field.getOne();if(v!=null)for(const ct of v){let ut=this.field.exp(h.length-1-ct),Ct=new rn(this.field,new Int32Array([this.field.subtract(0,ut),1]));T=T.multiply(Ct)}let q=new rn(this.field,j),X=this.runEuclideanAlgorithm(this.field.buildMonomial(p,1),q,p),le=X[0],we=X[1],ke=this.findErrorLocations(le),We=this.findErrorMagnitudes(we,le,ke);for(let ct=0;ct<ke.length;ct++){let ut=h.length-1-this.field.log(ke[ct]);if(ut<0)throw w.getChecksumInstance();h[ut]=this.field.subtract(h[ut],We[ct])}return ke.length}runEuclideanAlgorithm(h,p,v){if(h.getDegree()<p.getDegree()){let ke=h;h=p,p=ke}let y=h,j=p,I=this.field.getZero(),T=this.field.getOne();for(;j.getDegree()>=Math.round(v/2);){let ke=y,We=I;if(y=j,I=T,y.isZero())throw w.getChecksumInstance();j=ke;let ct=this.field.getZero(),ut=y.getCoefficient(y.getDegree()),Ct=this.field.inverse(ut);for(;j.getDegree()>=y.getDegree()&&!j.isZero();){let Ot=j.getDegree()-y.getDegree(),Cn=this.field.multiply(j.getCoefficient(j.getDegree()),Ct);ct=ct.add(this.field.buildMonomial(Ot,Cn)),j=j.subtract(y.multiplyByMonomial(Ot,Cn))}T=ct.multiply(I).subtract(We).negative()}let q=T.getCoefficient(0);if(q===0)throw w.getChecksumInstance();let X=this.field.inverse(q),le=T.multiply(X),we=j.multiply(X);return[le,we]}findErrorLocations(h){let p=h.getDegree(),v=new Int32Array(p),y=0;for(let j=1;j<this.field.getSize()&&y<p;j++)h.evaluateAt(j)===0&&(v[y]=this.field.inverse(j),y++);if(y!==p)throw w.getChecksumInstance();return v}findErrorMagnitudes(h,p,v){let y=p.getDegree(),j=new Int32Array(y);for(let X=1;X<=y;X++)j[y-X]=this.field.multiply(X,p.getCoefficient(X));let I=new rn(this.field,j),T=v.length,q=new Int32Array(T);for(let X=0;X<T;X++){let le=this.field.inverse(v[X]),we=this.field.subtract(0,h.evaluateAt(le)),ke=this.field.inverse(I.evaluateAt(le));q[X]=this.field.multiply(we,ke)}return q}}class fa{constructor(h,p,v,y,j){h instanceof fa?this.constructor_2(h):this.constructor_1(h,p,v,y,j)}constructor_1(h,p,v,y,j){const I=p==null||v==null,T=y==null||j==null;if(I&&T)throw new z;I?(p=new ge(0,y.getY()),v=new ge(0,j.getY())):T&&(y=new ge(h.getWidth()-1,p.getY()),j=new ge(h.getWidth()-1,v.getY())),this.image=h,this.topLeft=p,this.bottomLeft=v,this.topRight=y,this.bottomRight=j,this.minX=Math.trunc(Math.min(p.getX(),v.getX())),this.maxX=Math.trunc(Math.max(y.getX(),j.getX())),this.minY=Math.trunc(Math.min(p.getY(),y.getY())),this.maxY=Math.trunc(Math.max(v.getY(),j.getY()))}constructor_2(h){this.image=h.image,this.topLeft=h.getTopLeft(),this.bottomLeft=h.getBottomLeft(),this.topRight=h.getTopRight(),this.bottomRight=h.getBottomRight(),this.minX=h.getMinX(),this.maxX=h.getMaxX(),this.minY=h.getMinY(),this.maxY=h.getMaxY()}static merge(h,p){return h==null?p:p==null?h:new fa(h.image,h.topLeft,h.bottomLeft,p.topRight,p.bottomRight)}addMissingRows(h,p,v){let y=this.topLeft,j=this.bottomLeft,I=this.topRight,T=this.bottomRight;if(h>0){let q=v?this.topLeft:this.topRight,X=Math.trunc(q.getY()-h);X<0&&(X=0);let le=new ge(q.getX(),X);v?y=le:I=le}if(p>0){let q=v?this.bottomLeft:this.bottomRight,X=Math.trunc(q.getY()+p);X>=this.image.getHeight()&&(X=this.image.getHeight()-1);let le=new ge(q.getX(),X);v?j=le:T=le}return new fa(this.image,y,j,I,T)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class ir{constructor(h,p,v,y){this.columnCount=h,this.errorCorrectionLevel=y,this.rowCountUpperPart=p,this.rowCountLowerPart=v,this.rowCount=p+v}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class tr{constructor(){this.buffer=""}static form(h,p){let v=-1;function y(I,T,q,X,le,we){if(I==="%%")return"%";if(p[++v]===void 0)return;I=X?parseInt(X.substr(1)):void 0;let ke=le?parseInt(le.substr(1)):void 0,We;switch(we){case"s":We=p[v];break;case"c":We=p[v][0];break;case"f":We=parseFloat(p[v]).toFixed(I);break;case"p":We=parseFloat(p[v]).toPrecision(I);break;case"e":We=parseFloat(p[v]).toExponential(I);break;case"x":We=parseInt(p[v]).toString(ke||16);break;case"d":We=parseFloat(parseInt(p[v],ke||10).toPrecision(I)).toFixed(0);break}We=typeof We=="object"?JSON.stringify(We):(+We).toString(ke);let ct=parseInt(q),ut=q&&q[0]+""=="0"?"0":" ";for(;We.length<ct;)We=T!==void 0?We+ut:ut+We;return We}let j=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return h.replace(j,y)}format(h,...p){this.buffer+=tr.form(h,p)}toString(){return this.buffer}}class Di{constructor(h){this.boundingBox=new fa(h),this.codewords=new Array(h.getMaxY()-h.getMinY()+1)}getCodewordNearby(h){let p=this.getCodeword(h);if(p!=null)return p;for(let v=1;v<Di.MAX_NEARBY_DISTANCE;v++){let y=this.imageRowToCodewordIndex(h)-v;if(y>=0&&(p=this.codewords[y],p!=null)||(y=this.imageRowToCodewordIndex(h)+v,y<this.codewords.length&&(p=this.codewords[y],p!=null)))return p}return null}imageRowToCodewordIndex(h){return h-this.boundingBox.getMinY()}setCodeword(h,p){this.codewords[this.imageRowToCodewordIndex(h)]=p}getCodeword(h){return this.codewords[this.imageRowToCodewordIndex(h)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const h=new tr;let p=0;for(const v of this.codewords){if(v==null){h.format("%3d:    |   %n",p++);continue}h.format("%3d: %3d|%3d%n",p++,v.getRowNumber(),v.getValue())}return h.toString()}}Di.MAX_NEARBY_DISTANCE=5;class Tr{constructor(){this.values=new Map}setValue(h){h=Math.trunc(h);let p=this.values.get(h);p==null&&(p=0),p++,this.values.set(h,p)}getValue(){let h=-1,p=new Array;for(const[v,y]of this.values.entries()){const j={getKey:()=>v,getValue:()=>y};j.getValue()>h?(h=j.getValue(),p=[],p.push(j.getKey())):j.getValue()===h&&p.push(j.getKey())}return Qt.toIntArray(p)}getConfidence(h){return this.values.get(h)}}class so extends Di{constructor(h,p){super(h),this._isLeft=p}setRowNumbers(){for(let h of this.getCodewords())h!=null&&h.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(h){let p=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(p,h);let v=this.getBoundingBox(),y=this._isLeft?v.getTopLeft():v.getTopRight(),j=this._isLeft?v.getBottomLeft():v.getBottomRight(),I=this.imageRowToCodewordIndex(Math.trunc(y.getY())),T=this.imageRowToCodewordIndex(Math.trunc(j.getY())),q=-1,X=1,le=0;for(let we=I;we<T;we++){if(p[we]==null)continue;let ke=p[we],We=ke.getRowNumber()-q;if(We===0)le++;else if(We===1)X=Math.max(X,le),le=1,q=ke.getRowNumber();else if(We<0||ke.getRowNumber()>=h.getRowCount()||We>we)p[we]=null;else{let ct;X>2?ct=(X-2)*We:ct=We;let ut=ct>=we;for(let Ct=1;Ct<=ct&&!ut;Ct++)ut=p[we-Ct]!=null;ut?p[we]=null:(q=ke.getRowNumber(),le=1)}}}getRowHeights(){let h=this.getBarcodeMetadata();if(h==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(h);let p=new Int32Array(h.getRowCount());for(let v of this.getCodewords())if(v!=null){let y=v.getRowNumber();if(y>=p.length)continue;p[y]++}return p}adjustIncompleteIndicatorColumnRowNumbers(h){let p=this.getBoundingBox(),v=this._isLeft?p.getTopLeft():p.getTopRight(),y=this._isLeft?p.getBottomLeft():p.getBottomRight(),j=this.imageRowToCodewordIndex(Math.trunc(v.getY())),I=this.imageRowToCodewordIndex(Math.trunc(y.getY())),T=this.getCodewords(),q=-1;for(let X=j;X<I;X++){if(T[X]==null)continue;let le=T[X];le.setRowNumberAsRowIndicatorColumn();let we=le.getRowNumber()-q;we===0||(we===1?q=le.getRowNumber():le.getRowNumber()>=h.getRowCount()?T[X]=null:q=le.getRowNumber())}}getBarcodeMetadata(){let h=this.getCodewords(),p=new Tr,v=new Tr,y=new Tr,j=new Tr;for(let T of h){if(T==null)continue;T.setRowNumberAsRowIndicatorColumn();let q=T.getValue()%30,X=T.getRowNumber();switch(this._isLeft||(X+=2),X%3){case 0:v.setValue(q*3+1);break;case 1:j.setValue(q/3),y.setValue(q%3);break;case 2:p.setValue(q+1);break}}if(p.getValue().length===0||v.getValue().length===0||y.getValue().length===0||j.getValue().length===0||p.getValue()[0]<1||v.getValue()[0]+y.getValue()[0]<Qt.MIN_ROWS_IN_BARCODE||v.getValue()[0]+y.getValue()[0]>Qt.MAX_ROWS_IN_BARCODE)return null;let I=new ir(p.getValue()[0],v.getValue()[0],y.getValue()[0],j.getValue()[0]);return this.removeIncorrectCodewords(h,I),I}removeIncorrectCodewords(h,p){for(let v=0;v<h.length;v++){let y=h[v];if(h[v]==null)continue;let j=y.getValue()%30,I=y.getRowNumber();if(I>p.getRowCount()){h[v]=null;continue}switch(this._isLeft||(I+=2),I%3){case 0:j*3+1!==p.getRowCountUpperPart()&&(h[v]=null);break;case 1:(Math.trunc(j/3)!==p.getErrorCorrectionLevel()||j%3!==p.getRowCountLowerPart())&&(h[v]=null);break;case 2:j+1!==p.getColumnCount()&&(h[v]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class He{constructor(h,p){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=h,this.barcodeColumnCount=h.getColumnCount(),this.boundingBox=p,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let h=Qt.MAX_CODEWORDS_IN_BARCODE,p;do p=h,h=this.adjustRowNumbersAndGetCount();while(h>0&&h<p);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(h){h!=null&&h.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let h=this.adjustRowNumbersByRow();if(h===0)return 0;for(let p=1;p<this.barcodeColumnCount+1;p++){let v=this.detectionResultColumns[p].getCodewords();for(let y=0;y<v.length;y++)v[y]!=null&&(v[y].hasValidRowNumber()||this.adjustRowNumbers(p,y,v))}return h}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let h=this.detectionResultColumns[0].getCodewords(),p=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let v=0;v<h.length;v++)if(h[v]!=null&&p[v]!=null&&h[v].getRowNumber()===p[v].getRowNumber())for(let y=1;y<=this.barcodeColumnCount;y++){let j=this.detectionResultColumns[y].getCodewords()[v];j!=null&&(j.setRowNumber(h[v].getRowNumber()),j.hasValidRowNumber()||(this.detectionResultColumns[y].getCodewords()[v]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let h=0,p=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let v=0;v<p.length;v++){if(p[v]==null)continue;let y=p[v].getRowNumber(),j=0;for(let I=this.barcodeColumnCount+1;I>0&&j<this.ADJUST_ROW_NUMBER_SKIP;I--){let T=this.detectionResultColumns[I].getCodewords()[v];T!=null&&(j=He.adjustRowNumberIfValid(y,j,T),T.hasValidRowNumber()||h++)}}return h}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let h=0,p=this.detectionResultColumns[0].getCodewords();for(let v=0;v<p.length;v++){if(p[v]==null)continue;let y=p[v].getRowNumber(),j=0;for(let I=1;I<this.barcodeColumnCount+1&&j<this.ADJUST_ROW_NUMBER_SKIP;I++){let T=this.detectionResultColumns[I].getCodewords()[v];T!=null&&(j=He.adjustRowNumberIfValid(y,j,T),T.hasValidRowNumber()||h++)}}return h}static adjustRowNumberIfValid(h,p,v){return v==null||v.hasValidRowNumber()||(v.isValidRowNumber(h)?(v.setRowNumber(h),p=0):++p),p}adjustRowNumbers(h,p,v){if(!this.detectionResultColumns[h-1])return;let y=v[p],j=this.detectionResultColumns[h-1].getCodewords(),I=j;this.detectionResultColumns[h+1]!=null&&(I=this.detectionResultColumns[h+1].getCodewords());let T=new Array(14);T[2]=j[p],T[3]=I[p],p>0&&(T[0]=v[p-1],T[4]=j[p-1],T[5]=I[p-1]),p>1&&(T[8]=v[p-2],T[10]=j[p-2],T[11]=I[p-2]),p<v.length-1&&(T[1]=v[p+1],T[6]=j[p+1],T[7]=I[p+1]),p<v.length-2&&(T[9]=v[p+2],T[12]=j[p+2],T[13]=I[p+2]);for(let q of T)if(He.adjustRowNumber(y,q))return}static adjustRowNumber(h,p){return p==null?!1:p.hasValidRowNumber()&&p.getBucket()===h.getBucket()?(h.setRowNumber(p.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(h){this.boundingBox=h}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(h,p){this.detectionResultColumns[h]=p}getDetectionResultColumn(h){return this.detectionResultColumns[h]}toString(){let h=this.detectionResultColumns[0];h==null&&(h=this.detectionResultColumns[this.barcodeColumnCount+1]);let p=new tr;for(let v=0;v<h.getCodewords().length;v++){p.format("CW %3d:",v);for(let y=0;y<this.barcodeColumnCount+2;y++){if(this.detectionResultColumns[y]==null){p.format("    |   ");continue}let j=this.detectionResultColumns[y].getCodewords()[v];if(j==null){p.format("    |   ");continue}p.format(" %3d|%3d",j.getRowNumber(),j.getValue())}p.format("%n")}return p.toString()}}class Ke{constructor(h,p,v,y){this.rowNumber=Ke.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(h),this.endX=Math.trunc(p),this.bucket=Math.trunc(v),this.value=Math.trunc(y)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(h){return h!==Ke.BARCODE_ROW_UNKNOWN&&this.bucket===h%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(h){this.rowNumber=h}toString(){return this.rowNumber+"|"+this.value}}Ke.BARCODE_ROW_UNKNOWN=-1;class ft{static initialize(){for(let h=0;h<Qt.SYMBOL_TABLE.length;h++){let p=Qt.SYMBOL_TABLE[h],v=p&1;for(let y=0;y<Qt.BARS_IN_MODULE;y++){let j=0;for(;(p&1)===v;)j+=1,p>>=1;v=p&1,ft.RATIOS_TABLE[h]||(ft.RATIOS_TABLE[h]=new Array(Qt.BARS_IN_MODULE)),ft.RATIOS_TABLE[h][Qt.BARS_IN_MODULE-y-1]=Math.fround(j/Qt.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(h){let p=ft.getDecodedCodewordValue(ft.sampleBitCounts(h));return p!==-1?p:ft.getClosestDecodedValue(h)}static sampleBitCounts(h){let p=Ae.sum(h),v=new Int32Array(Qt.BARS_IN_MODULE),y=0,j=0;for(let I=0;I<Qt.MODULES_IN_CODEWORD;I++){let T=p/(2*Qt.MODULES_IN_CODEWORD)+I*p/Qt.MODULES_IN_CODEWORD;j+h[y]<=T&&(j+=h[y],y++),v[y]++}return v}static getDecodedCodewordValue(h){let p=ft.getBitValue(h);return Qt.getCodeword(p)===-1?-1:p}static getBitValue(h){let p=0;for(let v=0;v<h.length;v++)for(let y=0;y<h[v];y++)p=p<<1|(v%2===0?1:0);return Math.trunc(p)}static getClosestDecodedValue(h){let p=Ae.sum(h),v=new Array(Qt.BARS_IN_MODULE);if(p>1)for(let I=0;I<v.length;I++)v[I]=Math.fround(h[I]/p);let y=ie.MAX_VALUE,j=-1;this.bSymbolTableReady||ft.initialize();for(let I=0;I<ft.RATIOS_TABLE.length;I++){let T=0,q=ft.RATIOS_TABLE[I];for(let X=0;X<Qt.BARS_IN_MODULE;X++){let le=Math.fround(q[X]-v[X]);if(T+=Math.fround(le*le),T>=y)break}T<y&&(y=T,j=Qt.SYMBOL_TABLE[I])}return j}}ft.bSymbolTableReady=!1,ft.RATIOS_TABLE=new Array(Qt.SYMBOL_TABLE.length).map(ye=>new Array(Qt.BARS_IN_MODULE));class wt{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(h){this.segmentIndex=h}getFileId(){return this.fileId}setFileId(h){this.fileId=h}getOptionalData(){return this.optionalData}setOptionalData(h){this.optionalData=h}isLastSegment(){return this.lastSegment}setLastSegment(h){this.lastSegment=h}getSegmentCount(){return this.segmentCount}setSegmentCount(h){this.segmentCount=h}getSender(){return this.sender||null}setSender(h){this.sender=h}getAddressee(){return this.addressee||null}setAddressee(h){this.addressee=h}getFileName(){return this.fileName}setFileName(h){this.fileName=h}getFileSize(){return this.fileSize}setFileSize(h){this.fileSize=h}getChecksum(){return this.checksum}setChecksum(h){this.checksum=h}getTimestamp(){return this.timestamp}setTimestamp(h){this.timestamp=h}}class En{static parseLong(h,p=void 0){return parseInt(h,p)}}class Yn extends d{}Yn.kind="NullPointerException";class Jn{writeBytes(h){this.writeBytesOffset(h,0,h.length)}writeBytesOffset(h,p,v){if(h==null)throw new Yn;if(p<0||p>h.length||v<0||p+v>h.length||p+v<0)throw new k;if(v===0)return;for(let y=0;y<v;y++)this.write(h[p+y])}flush(){}close(){}}class Ss extends d{}class Wa extends Jn{constructor(h=32){if(super(),this.count=0,h<0)throw new g("Negative initial size: "+h);this.buf=new Uint8Array(h)}ensureCapacity(h){h-this.buf.length>0&&this.grow(h)}grow(h){let v=this.buf.length<<1;if(v-h<0&&(v=h),v<0){if(h<0)throw new Ss;v=R.MAX_VALUE}this.buf=D.copyOfUint8Array(this.buf,v)}write(h){this.ensureCapacity(this.count+1),this.buf[this.count]=h,this.count+=1}writeBytesOffset(h,p,v){if(p<0||p>h.length||v<0||p+v-h.length>0)throw new k;this.ensureCapacity(this.count+v),S.arraycopy(h,p,this.buf,this.count,v),this.count+=v}writeTo(h){h.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return D.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(h){return h?typeof h=="string"?this.toString_string(h):this.toString_number(h):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(h){return new String(this.buf).toString()}toString_number(h){return new String(this.buf).toString()}close(){}}var Nn;(function(ye){ye[ye.ALPHA=0]="ALPHA",ye[ye.LOWER=1]="LOWER",ye[ye.MIXED=2]="MIXED",ye[ye.PUNCT=3]="PUNCT",ye[ye.ALPHA_SHIFT=4]="ALPHA_SHIFT",ye[ye.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(Nn||(Nn={}));function ka(){if(typeof window<"u")return window.BigInt||null;if(typeof _d<"u")return _d.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let Oe;function Ue(ye){if(typeof Oe>"u"&&(Oe=ka()),Oe===null)throw new Error("BigInt is not supported!");return Oe(ye)}function _t(){let ye=[];ye[0]=Ue(1);let h=Ue(900);ye[1]=h;for(let p=2;p<16;p++)ye[p]=ye[p-1]*h;return ye}class $e{static decode(h,p){let v=new te(""),y=F.ISO8859_1;v.enableDecoding(y);let j=1,I=h[j++],T=new wt;for(;j<h[0];){switch(I){case $e.TEXT_COMPACTION_MODE_LATCH:j=$e.textCompaction(h,j,v);break;case $e.BYTE_COMPACTION_MODE_LATCH:case $e.BYTE_COMPACTION_MODE_LATCH_6:j=$e.byteCompaction(I,h,y,j,v);break;case $e.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:v.append(h[j++]);break;case $e.NUMERIC_COMPACTION_MODE_LATCH:j=$e.numericCompaction(h,j,v);break;case $e.ECI_CHARSET:F.getCharacterSetECIByValue(h[j++]);break;case $e.ECI_GENERAL_PURPOSE:j+=2;break;case $e.ECI_USER_DEFINED:j++;break;case $e.BEGIN_MACRO_PDF417_CONTROL_BLOCK:j=$e.decodeMacroBlock(h,j,T);break;case $e.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case $e.MACRO_PDF417_TERMINATOR:throw new $;default:j--,j=$e.textCompaction(h,j,v);break}if(j<h.length)I=h[j++];else throw $.getFormatInstance()}if(v.length()===0)throw $.getFormatInstance();let q=new Ce(null,v.toString(),null,p);return q.setOther(T),q}static decodeMacroBlock(h,p,v){if(p+$e.NUMBER_OF_SEQUENCE_CODEWORDS>h[0])throw $.getFormatInstance();let y=new Int32Array($e.NUMBER_OF_SEQUENCE_CODEWORDS);for(let T=0;T<$e.NUMBER_OF_SEQUENCE_CODEWORDS;T++,p++)y[T]=h[p];v.setSegmentIndex(R.parseInt($e.decodeBase900toBase10(y,$e.NUMBER_OF_SEQUENCE_CODEWORDS)));let j=new te;p=$e.textCompaction(h,p,j),v.setFileId(j.toString());let I=-1;for(h[p]===$e.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(I=p+1);p<h[0];)switch(h[p]){case $e.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(p++,h[p]){case $e.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let T=new te;p=$e.textCompaction(h,p+1,T),v.setFileName(T.toString());break;case $e.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let q=new te;p=$e.textCompaction(h,p+1,q),v.setSender(q.toString());break;case $e.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let X=new te;p=$e.textCompaction(h,p+1,X),v.setAddressee(X.toString());break;case $e.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let le=new te;p=$e.numericCompaction(h,p+1,le),v.setSegmentCount(R.parseInt(le.toString()));break;case $e.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let we=new te;p=$e.numericCompaction(h,p+1,we),v.setTimestamp(En.parseLong(we.toString()));break;case $e.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let ke=new te;p=$e.numericCompaction(h,p+1,ke),v.setChecksum(R.parseInt(ke.toString()));break;case $e.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let We=new te;p=$e.numericCompaction(h,p+1,We),v.setFileSize(En.parseLong(We.toString()));break;default:throw $.getFormatInstance()}break;case $e.MACRO_PDF417_TERMINATOR:p++,v.setLastSegment(!0);break;default:throw $.getFormatInstance()}if(I!==-1){let T=p-I;v.isLastSegment()&&T--,v.setOptionalData(D.copyOfRange(h,I,I+T))}return p}static textCompaction(h,p,v){let y=new Int32Array((h[0]-p)*2),j=new Int32Array((h[0]-p)*2),I=0,T=!1;for(;p<h[0]&&!T;){let q=h[p++];if(q<$e.TEXT_COMPACTION_MODE_LATCH)y[I]=q/30,y[I+1]=q%30,I+=2;else switch(q){case $e.TEXT_COMPACTION_MODE_LATCH:y[I++]=$e.TEXT_COMPACTION_MODE_LATCH;break;case $e.BYTE_COMPACTION_MODE_LATCH:case $e.BYTE_COMPACTION_MODE_LATCH_6:case $e.NUMERIC_COMPACTION_MODE_LATCH:case $e.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case $e.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case $e.MACRO_PDF417_TERMINATOR:p--,T=!0;break;case $e.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:y[I]=$e.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,q=h[p++],j[I]=q,I++;break}}return $e.decodeTextCompaction(y,j,I,v),p}static decodeTextCompaction(h,p,v,y){let j=Nn.ALPHA,I=Nn.ALPHA,T=0;for(;T<v;){let q=h[T],X="";switch(j){case Nn.ALPHA:if(q<26)X=String.fromCharCode(65+q);else switch(q){case 26:X=" ";break;case $e.LL:j=Nn.LOWER;break;case $e.ML:j=Nn.MIXED;break;case $e.PS:I=j,j=Nn.PUNCT_SHIFT;break;case $e.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:y.append(p[T]);break;case $e.TEXT_COMPACTION_MODE_LATCH:j=Nn.ALPHA;break}break;case Nn.LOWER:if(q<26)X=String.fromCharCode(97+q);else switch(q){case 26:X=" ";break;case $e.AS:I=j,j=Nn.ALPHA_SHIFT;break;case $e.ML:j=Nn.MIXED;break;case $e.PS:I=j,j=Nn.PUNCT_SHIFT;break;case $e.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:y.append(p[T]);break;case $e.TEXT_COMPACTION_MODE_LATCH:j=Nn.ALPHA;break}break;case Nn.MIXED:if(q<$e.PL)X=$e.MIXED_CHARS[q];else switch(q){case $e.PL:j=Nn.PUNCT;break;case 26:X=" ";break;case $e.LL:j=Nn.LOWER;break;case $e.AL:j=Nn.ALPHA;break;case $e.PS:I=j,j=Nn.PUNCT_SHIFT;break;case $e.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:y.append(p[T]);break;case $e.TEXT_COMPACTION_MODE_LATCH:j=Nn.ALPHA;break}break;case Nn.PUNCT:if(q<$e.PAL)X=$e.PUNCT_CHARS[q];else switch(q){case $e.PAL:j=Nn.ALPHA;break;case $e.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:y.append(p[T]);break;case $e.TEXT_COMPACTION_MODE_LATCH:j=Nn.ALPHA;break}break;case Nn.ALPHA_SHIFT:if(j=I,q<26)X=String.fromCharCode(65+q);else switch(q){case 26:X=" ";break;case $e.TEXT_COMPACTION_MODE_LATCH:j=Nn.ALPHA;break}break;case Nn.PUNCT_SHIFT:if(j=I,q<$e.PAL)X=$e.PUNCT_CHARS[q];else switch(q){case $e.PAL:j=Nn.ALPHA;break;case $e.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:y.append(p[T]);break;case $e.TEXT_COMPACTION_MODE_LATCH:j=Nn.ALPHA;break}break}X!==""&&y.append(X),T++}}static byteCompaction(h,p,v,y,j){let I=new Wa,T=0,q=0,X=!1;switch(h){case $e.BYTE_COMPACTION_MODE_LATCH:let le=new Int32Array(6),we=p[y++];for(;y<p[0]&&!X;)switch(le[T++]=we,q=900*q+we,we=p[y++],we){case $e.TEXT_COMPACTION_MODE_LATCH:case $e.BYTE_COMPACTION_MODE_LATCH:case $e.NUMERIC_COMPACTION_MODE_LATCH:case $e.BYTE_COMPACTION_MODE_LATCH_6:case $e.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case $e.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case $e.MACRO_PDF417_TERMINATOR:y--,X=!0;break;default:if(T%5===0&&T>0){for(let ke=0;ke<6;++ke)I.write(Number(Ue(q)>>Ue(8*(5-ke))));q=0,T=0}break}y===p[0]&&we<$e.TEXT_COMPACTION_MODE_LATCH&&(le[T++]=we);for(let ke=0;ke<T;ke++)I.write(le[ke]);break;case $e.BYTE_COMPACTION_MODE_LATCH_6:for(;y<p[0]&&!X;){let ke=p[y++];if(ke<$e.TEXT_COMPACTION_MODE_LATCH)T++,q=900*q+ke;else switch(ke){case $e.TEXT_COMPACTION_MODE_LATCH:case $e.BYTE_COMPACTION_MODE_LATCH:case $e.NUMERIC_COMPACTION_MODE_LATCH:case $e.BYTE_COMPACTION_MODE_LATCH_6:case $e.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case $e.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case $e.MACRO_PDF417_TERMINATOR:y--,X=!0;break}if(T%5===0&&T>0){for(let We=0;We<6;++We)I.write(Number(Ue(q)>>Ue(8*(5-We))));q=0,T=0}}break}return j.append(se.decode(I.toByteArray(),v)),y}static numericCompaction(h,p,v){let y=0,j=!1,I=new Int32Array($e.MAX_NUMERIC_CODEWORDS);for(;p<h[0]&&!j;){let T=h[p++];if(p===h[0]&&(j=!0),T<$e.TEXT_COMPACTION_MODE_LATCH)I[y]=T,y++;else switch(T){case $e.TEXT_COMPACTION_MODE_LATCH:case $e.BYTE_COMPACTION_MODE_LATCH:case $e.BYTE_COMPACTION_MODE_LATCH_6:case $e.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case $e.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case $e.MACRO_PDF417_TERMINATOR:p--,j=!0;break}(y%$e.MAX_NUMERIC_CODEWORDS===0||T===$e.NUMERIC_COMPACTION_MODE_LATCH||j)&&y>0&&(v.append($e.decodeBase900toBase10(I,y)),y=0)}return p}static decodeBase900toBase10(h,p){let v=Ue(0);for(let j=0;j<p;j++)v+=$e.EXP900[p-j-1]*Ue(h[j]);let y=v.toString();if(y.charAt(0)!=="1")throw new $;return y.substring(1)}}$e.TEXT_COMPACTION_MODE_LATCH=900,$e.BYTE_COMPACTION_MODE_LATCH=901,$e.NUMERIC_COMPACTION_MODE_LATCH=902,$e.BYTE_COMPACTION_MODE_LATCH_6=924,$e.ECI_USER_DEFINED=925,$e.ECI_GENERAL_PURPOSE=926,$e.ECI_CHARSET=927,$e.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,$e.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,$e.MACRO_PDF417_TERMINATOR=922,$e.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,$e.MAX_NUMERIC_CODEWORDS=15,$e.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,$e.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,$e.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,$e.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,$e.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,$e.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,$e.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,$e.PL=25,$e.LL=27,$e.AS=27,$e.ML=28,$e.AL=28,$e.PS=29,$e.PAL=29,$e.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,$e.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",$e.EXP900=ka()?_t():[],$e.NUMBER_OF_SEQUENCE_CODEWORDS=2;class Vt{constructor(){}static decode(h,p,v,y,j,I,T){let q=new fa(h,p,v,y,j),X=null,le=null,we;for(let ct=!0;;ct=!1){if(p!=null&&(X=Vt.getRowIndicatorColumn(h,q,p,!0,I,T)),y!=null&&(le=Vt.getRowIndicatorColumn(h,q,y,!1,I,T)),we=Vt.merge(X,le),we==null)throw z.getNotFoundInstance();let ut=we.getBoundingBox();if(ct&&ut!=null&&(ut.getMinY()<q.getMinY()||ut.getMaxY()>q.getMaxY()))q=ut;else break}we.setBoundingBox(q);let ke=we.getBarcodeColumnCount()+1;we.setDetectionResultColumn(0,X),we.setDetectionResultColumn(ke,le);let We=X!=null;for(let ct=1;ct<=ke;ct++){let ut=We?ct:ke-ct;if(we.getDetectionResultColumn(ut)!==void 0)continue;let Ct;ut===0||ut===ke?Ct=new so(q,ut===0):Ct=new Di(q),we.setDetectionResultColumn(ut,Ct);let Ot=-1,Cn=Ot;for(let Tn=q.getMinY();Tn<=q.getMaxY();Tn++){if(Ot=Vt.getStartColumn(we,ut,Tn,We),Ot<0||Ot>q.getMaxX()){if(Cn===-1)continue;Ot=Cn}let xn=Vt.detectCodeword(h,q.getMinX(),q.getMaxX(),We,Ot,Tn,I,T);xn!=null&&(Ct.setCodeword(Tn,xn),Cn=Ot,I=Math.min(I,xn.getWidth()),T=Math.max(T,xn.getWidth()))}}return Vt.createDecoderResult(we)}static merge(h,p){if(h==null&&p==null)return null;let v=Vt.getBarcodeMetadata(h,p);if(v==null)return null;let y=fa.merge(Vt.adjustBoundingBox(h),Vt.adjustBoundingBox(p));return new He(v,y)}static adjustBoundingBox(h){if(h==null)return null;let p=h.getRowHeights();if(p==null)return null;let v=Vt.getMax(p),y=0;for(let T of p)if(y+=v-T,T>0)break;let j=h.getCodewords();for(let T=0;y>0&&j[T]==null;T++)y--;let I=0;for(let T=p.length-1;T>=0&&(I+=v-p[T],!(p[T]>0));T--);for(let T=j.length-1;I>0&&j[T]==null;T--)I--;return h.getBoundingBox().addMissingRows(y,I,h.isLeft())}static getMax(h){let p=-1;for(let v of h)p=Math.max(p,v);return p}static getBarcodeMetadata(h,p){let v;if(h==null||(v=h.getBarcodeMetadata())==null)return p==null?null:p.getBarcodeMetadata();let y;return p==null||(y=p.getBarcodeMetadata())==null?v:v.getColumnCount()!==y.getColumnCount()&&v.getErrorCorrectionLevel()!==y.getErrorCorrectionLevel()&&v.getRowCount()!==y.getRowCount()?null:v}static getRowIndicatorColumn(h,p,v,y,j,I){let T=new so(p,y);for(let q=0;q<2;q++){let X=q===0?1:-1,le=Math.trunc(Math.trunc(v.getX()));for(let we=Math.trunc(Math.trunc(v.getY()));we<=p.getMaxY()&&we>=p.getMinY();we+=X){let ke=Vt.detectCodeword(h,0,h.getWidth(),y,le,we,j,I);ke!=null&&(T.setCodeword(we,ke),y?le=ke.getStartX():le=ke.getEndX())}}return T}static adjustCodewordCount(h,p){let v=p[0][1],y=v.getValue(),j=h.getBarcodeColumnCount()*h.getBarcodeRowCount()-Vt.getNumberOfECCodeWords(h.getBarcodeECLevel());if(y.length===0){if(j<1||j>Qt.MAX_CODEWORDS_IN_BARCODE)throw z.getNotFoundInstance();v.setValue(j)}else y[0]!==j&&v.setValue(j)}static createDecoderResult(h){let p=Vt.createBarcodeMatrix(h);Vt.adjustCodewordCount(h,p);let v=new Array,y=new Int32Array(h.getBarcodeRowCount()*h.getBarcodeColumnCount()),j=[],I=new Array;for(let q=0;q<h.getBarcodeRowCount();q++)for(let X=0;X<h.getBarcodeColumnCount();X++){let le=p[q][X+1].getValue(),we=q*h.getBarcodeColumnCount()+X;le.length===0?v.push(we):le.length===1?y[we]=le[0]:(I.push(we),j.push(le))}let T=new Array(j.length);for(let q=0;q<T.length;q++)T[q]=j[q];return Vt.createDecoderResultFromAmbiguousValues(h.getBarcodeECLevel(),y,Qt.toIntArray(v),Qt.toIntArray(I),T)}static createDecoderResultFromAmbiguousValues(h,p,v,y,j){let I=new Int32Array(y.length),T=100;for(;T-- >0;){for(let q=0;q<I.length;q++)p[y[q]]=j[q][I[q]];try{return Vt.decodeCodewords(p,h,v)}catch(q){if(!(q instanceof w))throw q}if(I.length===0)throw w.getChecksumInstance();for(let q=0;q<I.length;q++)if(I[q]<j[q].length-1){I[q]++;break}else if(I[q]=0,q===I.length-1)throw w.getChecksumInstance()}throw w.getChecksumInstance()}static createBarcodeMatrix(h){let p=Array.from({length:h.getBarcodeRowCount()},()=>new Array(h.getBarcodeColumnCount()+2));for(let y=0;y<p.length;y++)for(let j=0;j<p[y].length;j++)p[y][j]=new Tr;let v=0;for(let y of h.getDetectionResultColumns()){if(y!=null){for(let j of y.getCodewords())if(j!=null){let I=j.getRowNumber();if(I>=0){if(I>=p.length)continue;p[I][v].setValue(j.getValue())}}}v++}return p}static isValidBarcodeColumn(h,p){return p>=0&&p<=h.getBarcodeColumnCount()+1}static getStartColumn(h,p,v,y){let j=y?1:-1,I=null;if(Vt.isValidBarcodeColumn(h,p-j)&&(I=h.getDetectionResultColumn(p-j).getCodeword(v)),I!=null)return y?I.getEndX():I.getStartX();if(I=h.getDetectionResultColumn(p).getCodewordNearby(v),I!=null)return y?I.getStartX():I.getEndX();if(Vt.isValidBarcodeColumn(h,p-j)&&(I=h.getDetectionResultColumn(p-j).getCodewordNearby(v)),I!=null)return y?I.getEndX():I.getStartX();let T=0;for(;Vt.isValidBarcodeColumn(h,p-j);){p-=j;for(let q of h.getDetectionResultColumn(p).getCodewords())if(q!=null)return(y?q.getEndX():q.getStartX())+j*T*(q.getEndX()-q.getStartX());T++}return y?h.getBoundingBox().getMinX():h.getBoundingBox().getMaxX()}static detectCodeword(h,p,v,y,j,I,T,q){j=Vt.adjustCodewordStartColumn(h,p,v,y,j,I);let X=Vt.getModuleBitCount(h,p,v,y,j,I);if(X==null)return null;let le,we=Ae.sum(X);if(y)le=j+we;else{for(let ct=0;ct<X.length/2;ct++){let ut=X[ct];X[ct]=X[X.length-1-ct],X[X.length-1-ct]=ut}le=j,j=le-we}if(!Vt.checkCodewordSkew(we,T,q))return null;let ke=ft.getDecodedValue(X),We=Qt.getCodeword(ke);return We===-1?null:new Ke(j,le,Vt.getCodewordBucketNumber(ke),We)}static getModuleBitCount(h,p,v,y,j,I){let T=j,q=new Int32Array(8),X=0,le=y?1:-1,we=y;for(;(y?T<v:T>=p)&&X<q.length;)h.get(T,I)===we?(q[X]++,T+=le):(X++,we=!we);return X===q.length||T===(y?v:p)&&X===q.length-1?q:null}static getNumberOfECCodeWords(h){return 2<<h}static adjustCodewordStartColumn(h,p,v,y,j,I){let T=j,q=y?-1:1;for(let X=0;X<2;X++){for(;(y?T>=p:T<v)&&y===h.get(T,I);){if(Math.abs(j-T)>Vt.CODEWORD_SKEW_SIZE)return j;T+=q}q=-q,y=!y}return T}static checkCodewordSkew(h,p,v){return p-Vt.CODEWORD_SKEW_SIZE<=h&&h<=v+Vt.CODEWORD_SKEW_SIZE}static decodeCodewords(h,p,v){if(h.length===0)throw $.getFormatInstance();let y=1<<p+1,j=Vt.correctErrors(h,v,y);Vt.verifyCodewordCount(h,y);let I=$e.decode(h,""+p);return I.setErrorsCorrected(j),I.setErasures(v.length),I}static correctErrors(h,p,v){if(p!=null&&p.length>v/2+Vt.MAX_ERRORS||v<0||v>Vt.MAX_EC_CODEWORDS)throw w.getChecksumInstance();return Vt.errorCorrection.decode(h,v,p)}static verifyCodewordCount(h,p){if(h.length<4)throw $.getFormatInstance();let v=h[0];if(v>h.length)throw $.getFormatInstance();if(v===0)if(p<h.length)h[0]=h.length-p;else throw $.getFormatInstance()}static getBitCountForCodeword(h){let p=new Int32Array(8),v=0,y=p.length-1;for(;!((h&1)!==v&&(v=h&1,y--,y<0));)p[y]++,h>>=1;return p}static getCodewordBucketNumber(h){return h instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(h):this.getCodewordBucketNumber_number(h)}static getCodewordBucketNumber_number(h){return Vt.getCodewordBucketNumber(Vt.getBitCountForCodeword(h))}static getCodewordBucketNumber_Int32Array(h){return(h[0]-h[2]+h[4]-h[6]+9)%9}static toString(h){let p=new tr;for(let v=0;v<h.length;v++){p.format("Row %2d: ",v);for(let y=0;y<h[v].length;y++){let j=h[v][y];j.getValue().length===0?p.format("        ",null):p.format("%4d(%2d)",j.getValue()[0],j.getConfidence(j.getValue()[0]))}p.format("%n")}return p.toString()}}Vt.CODEWORD_SKEW_SIZE=2,Vt.MAX_ERRORS=3,Vt.MAX_EC_CODEWORDS=512,Vt.errorCorrection=new ws;class Mn{decode(h,p=null){let v=Mn.decode(h,p,!1);if(v==null||v.length===0||v[0]==null)throw z.getNotFoundInstance();return v[0]}decodeMultiple(h,p=null){try{return Mn.decode(h,p,!0)}catch(v){throw v instanceof $||v instanceof w?z.getNotFoundInstance():v}}static decode(h,p,v){const y=new Array,j=jt.detectMultiple(h,p,v);for(const I of j.getPoints()){const T=Vt.decode(j.getBits(),I[4],I[5],I[6],I[7],Mn.getMinCodewordWidth(I),Mn.getMaxCodewordWidth(I)),q=new ae(T.getText(),T.getRawBytes(),void 0,I,re.PDF_417);q.putMetadata(me.ERROR_CORRECTION_LEVEL,T.getECLevel());const X=T.getOther();X!=null&&q.putMetadata(me.PDF417_EXTRA_METADATA,X),y.push(q)}return y.map(I=>I)}static getMaxWidth(h,p){return h==null||p==null?0:Math.trunc(Math.abs(h.getX()-p.getX()))}static getMinWidth(h,p){return h==null||p==null?R.MAX_VALUE:Math.trunc(Math.abs(h.getX()-p.getX()))}static getMaxCodewordWidth(h){return Math.floor(Math.max(Math.max(Mn.getMaxWidth(h[0],h[4]),Mn.getMaxWidth(h[6],h[2])*Qt.MODULES_IN_CODEWORD/Qt.MODULES_IN_STOP_PATTERN),Math.max(Mn.getMaxWidth(h[1],h[5]),Mn.getMaxWidth(h[7],h[3])*Qt.MODULES_IN_CODEWORD/Qt.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(h){return Math.floor(Math.min(Math.min(Mn.getMinWidth(h[0],h[4]),Mn.getMinWidth(h[6],h[2])*Qt.MODULES_IN_CODEWORD/Qt.MODULES_IN_STOP_PATTERN),Math.min(Mn.getMinWidth(h[1],h[5]),Mn.getMinWidth(h[7],h[3])*Qt.MODULES_IN_CODEWORD/Qt.MODULES_IN_STOP_PATTERN)))}reset(){}}class es extends d{}es.kind="ReaderException";class Ns{constructor(h,p){this.verbose=h===!0,p&&this.setHints(p)}decode(h,p){return p&&this.setHints(p),this.decodeInternal(h)}decodeWithState(h){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(h)}setHints(h){this.hints=h;const p=!a(h)&&h.get(O.TRY_HARDER)===!0,v=a(h)?null:h.get(O.POSSIBLE_FORMATS),y=new Array;if(!a(v)){const j=v.some(I=>I===re.UPC_A||I===re.UPC_E||I===re.EAN_13||I===re.EAN_8||I===re.CODABAR||I===re.CODE_39||I===re.CODE_93||I===re.CODE_128||I===re.ITF||I===re.RSS_14||I===re.RSS_EXPANDED);j&&!p&&y.push(new rr(h,this.verbose)),v.includes(re.QR_CODE)&&y.push(new as),v.includes(re.DATA_MATRIX)&&y.push(new Ja),v.includes(re.AZTEC)&&y.push(new Ge),v.includes(re.PDF_417)&&y.push(new Mn),j&&p&&y.push(new rr(h,this.verbose))}y.length===0&&(p||y.push(new rr(h,this.verbose)),y.push(new as),y.push(new Ja),y.push(new Ge),y.push(new Mn),p&&y.push(new rr(h,this.verbose))),this.readers=y}reset(){if(this.readers!==null)for(const h of this.readers)h.reset()}decodeInternal(h){if(this.readers===null)throw new es("No readers where selected, nothing can be read.");for(const p of this.readers)try{return p.decode(h,this.hints)}catch(v){if(v instanceof es)continue}throw new z("No MultiFormat Readers were able to detect the code.")}}class Dr extends Y{constructor(h=null,p=500){const v=new Ns;v.setHints(h),super(v,p)}decodeBitmap(h){return this.reader.decodeWithState(h)}}class Gi extends Y{constructor(h=500){super(new Mn,h)}}class Zr extends Y{constructor(h=500){super(new as,h)}}var ao;(function(ye){ye[ye.ERROR_CORRECTION=0]="ERROR_CORRECTION",ye[ye.CHARACTER_SET=1]="CHARACTER_SET",ye[ye.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",ye[ye.MIN_SIZE=3]="MIN_SIZE",ye[ye.MAX_SIZE=4]="MAX_SIZE",ye[ye.MARGIN=5]="MARGIN",ye[ye.PDF417_COMPACT=6]="PDF417_COMPACT",ye[ye.PDF417_COMPACTION=7]="PDF417_COMPACTION",ye[ye.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",ye[ye.AZTEC_LAYERS=9]="AZTEC_LAYERS",ye[ye.QR_VERSION=10]="QR_VERSION"})(ao||(ao={}));var Zs=ao;class zl{constructor(h){this.field=h,this.cachedGenerators=[],this.cachedGenerators.push(new Ee(h,Int32Array.from([1])))}buildGenerator(h){const p=this.cachedGenerators;if(h>=p.length){let v=p[p.length-1];const y=this.field;for(let j=p.length;j<=h;j++){const I=v.multiply(new Ee(y,Int32Array.from([1,y.exp(j-1+y.getGeneratorBase())])));p.push(I),v=I}}return p[h]}encode(h,p){if(p===0)throw new g("No error correction bytes");const v=h.length-p;if(v<=0)throw new g("No data bytes provided");const y=this.buildGenerator(p),j=new Int32Array(v);S.arraycopy(h,0,j,0,v);let I=new Ee(this.field,j);I=I.multiplyByMonomial(p,1);const q=I.divide(y)[1].getCoefficients(),X=p-q.length;for(let le=0;le<X;le++)h[v+le]=0;S.arraycopy(q,0,h,v+X,q.length)}}class Pr{constructor(){}static applyMaskPenaltyRule1(h){return Pr.applyMaskPenaltyRule1Internal(h,!0)+Pr.applyMaskPenaltyRule1Internal(h,!1)}static applyMaskPenaltyRule2(h){let p=0;const v=h.getArray(),y=h.getWidth(),j=h.getHeight();for(let I=0;I<j-1;I++){const T=v[I];for(let q=0;q<y-1;q++){const X=T[q];X===T[q+1]&&X===v[I+1][q]&&X===v[I+1][q+1]&&p++}}return Pr.N2*p}static applyMaskPenaltyRule3(h){let p=0;const v=h.getArray(),y=h.getWidth(),j=h.getHeight();for(let I=0;I<j;I++)for(let T=0;T<y;T++){const q=v[I];T+6<y&&q[T]===1&&q[T+1]===0&&q[T+2]===1&&q[T+3]===1&&q[T+4]===1&&q[T+5]===0&&q[T+6]===1&&(Pr.isWhiteHorizontal(q,T-4,T)||Pr.isWhiteHorizontal(q,T+7,T+11))&&p++,I+6<j&&v[I][T]===1&&v[I+1][T]===0&&v[I+2][T]===1&&v[I+3][T]===1&&v[I+4][T]===1&&v[I+5][T]===0&&v[I+6][T]===1&&(Pr.isWhiteVertical(v,T,I-4,I)||Pr.isWhiteVertical(v,T,I+7,I+11))&&p++}return p*Pr.N3}static isWhiteHorizontal(h,p,v){p=Math.max(p,0),v=Math.min(v,h.length);for(let y=p;y<v;y++)if(h[y]===1)return!1;return!0}static isWhiteVertical(h,p,v,y){v=Math.max(v,0),y=Math.min(y,h.length);for(let j=v;j<y;j++)if(h[j][p]===1)return!1;return!0}static applyMaskPenaltyRule4(h){let p=0;const v=h.getArray(),y=h.getWidth(),j=h.getHeight();for(let q=0;q<j;q++){const X=v[q];for(let le=0;le<y;le++)X[le]===1&&p++}const I=h.getHeight()*h.getWidth();return Math.floor(Math.abs(p*2-I)*10/I)*Pr.N4}static getDataMaskBit(h,p,v){let y,j;switch(h){case 0:y=v+p&1;break;case 1:y=v&1;break;case 2:y=p%3;break;case 3:y=(v+p)%3;break;case 4:y=Math.floor(v/2)+Math.floor(p/3)&1;break;case 5:j=v*p,y=(j&1)+j%3;break;case 6:j=v*p,y=(j&1)+j%3&1;break;case 7:j=v*p,y=j%3+(v+p&1)&1;break;default:throw new g("Invalid mask pattern: "+h)}return y===0}static applyMaskPenaltyRule1Internal(h,p){let v=0;const y=p?h.getHeight():h.getWidth(),j=p?h.getWidth():h.getHeight(),I=h.getArray();for(let T=0;T<y;T++){let q=0,X=-1;for(let le=0;le<j;le++){const we=p?I[T][le]:I[le][T];we===X?q++:(q>=5&&(v+=Pr.N1+(q-5)),q=1,X=we)}q>=5&&(v+=Pr.N1+(q-5))}return v}}Pr.N1=3,Pr.N2=3,Pr.N3=40,Pr.N4=10;class qd{constructor(h,p){this.width=h,this.height=p;const v=new Array(p);for(let y=0;y!==p;y++)v[y]=new Uint8Array(h);this.bytes=v}getHeight(){return this.height}getWidth(){return this.width}get(h,p){return this.bytes[p][h]}getArray(){return this.bytes}setNumber(h,p,v){this.bytes[p][h]=v}setBoolean(h,p,v){this.bytes[p][h]=v?1:0}clear(h){for(const p of this.bytes)D.fill(p,h)}equals(h){if(!(h instanceof qd))return!1;const p=h;if(this.width!==p.width||this.height!==p.height)return!1;for(let v=0,y=this.height;v<y;++v){const j=this.bytes[v],I=p.bytes[v];for(let T=0,q=this.width;T<q;++T)if(j[T]!==I[T])return!1}return!0}toString(){const h=new te;for(let p=0,v=this.height;p<v;++p){const y=this.bytes[p];for(let j=0,I=this.width;j<I;++j)switch(y[j]){case 0:h.append(" 0");break;case 1:h.append(" 1");break;default:h.append("  ");break}h.append(`
`)}return h.toString()}}class Ul{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const h=new te;return h.append(`<<
`),h.append(" mode: "),h.append(this.mode?this.mode.toString():"null"),h.append(`
 ecLevel: `),h.append(this.ecLevel?this.ecLevel.toString():"null"),h.append(`
 version: `),h.append(this.version?this.version.toString():"null"),h.append(`
 maskPattern: `),h.append(this.maskPattern.toString()),this.matrix?(h.append(`
 matrix:
`),h.append(this.matrix.toString())):h.append(`
 matrix: null
`),h.append(`>>
`),h.toString()}setMode(h){this.mode=h}setECLevel(h){this.ecLevel=h}setVersion(h){this.version=h}setMaskPattern(h){this.maskPattern=h}setMatrix(h){this.matrix=h}static isValidMaskPattern(h){return h>=0&&h<Ul.NUM_MASK_PATTERNS}}Ul.NUM_MASK_PATTERNS=8;class dr extends d{}dr.kind="WriterException";class As{constructor(){}static clearMatrix(h){h.clear(255)}static buildMatrix(h,p,v,y,j){As.clearMatrix(j),As.embedBasicPatterns(v,j),As.embedTypeInfo(p,y,j),As.maybeEmbedVersionInfo(v,j),As.embedDataBits(h,y,j)}static embedBasicPatterns(h,p){As.embedPositionDetectionPatternsAndSeparators(p),As.embedDarkDotAtLeftBottomCorner(p),As.maybeEmbedPositionAdjustmentPatterns(h,p),As.embedTimingPatterns(p)}static embedTypeInfo(h,p,v){const y=new P;As.makeTypeInfoBits(h,p,y);for(let j=0,I=y.getSize();j<I;++j){const T=y.get(y.getSize()-1-j),q=As.TYPE_INFO_COORDINATES[j],X=q[0],le=q[1];if(v.setBoolean(X,le,T),j<8){const we=v.getWidth()-j-1;v.setBoolean(we,8,T)}else{const ke=v.getHeight()-7+(j-8);v.setBoolean(8,ke,T)}}}static maybeEmbedVersionInfo(h,p){if(h.getVersionNumber()<7)return;const v=new P;As.makeVersionInfoBits(h,v);let y=6*3-1;for(let j=0;j<6;++j)for(let I=0;I<3;++I){const T=v.get(y);y--,p.setBoolean(j,p.getHeight()-11+I,T),p.setBoolean(p.getHeight()-11+I,j,T)}}static embedDataBits(h,p,v){let y=0,j=-1,I=v.getWidth()-1,T=v.getHeight()-1;for(;I>0;){for(I===6&&(I-=1);T>=0&&T<v.getHeight();){for(let q=0;q<2;++q){const X=I-q;if(!As.isEmpty(v.get(X,T)))continue;let le;y<h.getSize()?(le=h.get(y),++y):le=!1,p!==255&&Pr.getDataMaskBit(p,X,T)&&(le=!le),v.setBoolean(X,T,le)}T+=j}j=-j,T+=j,I-=2}if(y!==h.getSize())throw new dr("Not all bits consumed: "+y+"/"+h.getSize())}static findMSBSet(h){return 32-R.numberOfLeadingZeros(h)}static calculateBCHCode(h,p){if(p===0)throw new g("0 polynomial");const v=As.findMSBSet(p);for(h<<=v-1;As.findMSBSet(h)>=v;)h^=p<<As.findMSBSet(h)-v;return h}static makeTypeInfoBits(h,p,v){if(!Ul.isValidMaskPattern(p))throw new dr("Invalid mask pattern");const y=h.getBits()<<3|p;v.appendBits(y,5);const j=As.calculateBCHCode(y,As.TYPE_INFO_POLY);v.appendBits(j,10);const I=new P;if(I.appendBits(As.TYPE_INFO_MASK_PATTERN,15),v.xor(I),v.getSize()!==15)throw new dr("should not happen but we got: "+v.getSize())}static makeVersionInfoBits(h,p){p.appendBits(h.getVersionNumber(),6);const v=As.calculateBCHCode(h.getVersionNumber(),As.VERSION_INFO_POLY);if(p.appendBits(v,12),p.getSize()!==18)throw new dr("should not happen but we got: "+p.getSize())}static isEmpty(h){return h===255}static embedTimingPatterns(h){for(let p=8;p<h.getWidth()-8;++p){const v=(p+1)%2;As.isEmpty(h.get(p,6))&&h.setNumber(p,6,v),As.isEmpty(h.get(6,p))&&h.setNumber(6,p,v)}}static embedDarkDotAtLeftBottomCorner(h){if(h.get(8,h.getHeight()-8)===0)throw new dr;h.setNumber(8,h.getHeight()-8,1)}static embedHorizontalSeparationPattern(h,p,v){for(let y=0;y<8;++y){if(!As.isEmpty(v.get(h+y,p)))throw new dr;v.setNumber(h+y,p,0)}}static embedVerticalSeparationPattern(h,p,v){for(let y=0;y<7;++y){if(!As.isEmpty(v.get(h,p+y)))throw new dr;v.setNumber(h,p+y,0)}}static embedPositionAdjustmentPattern(h,p,v){for(let y=0;y<5;++y){const j=As.POSITION_ADJUSTMENT_PATTERN[y];for(let I=0;I<5;++I)v.setNumber(h+I,p+y,j[I])}}static embedPositionDetectionPattern(h,p,v){for(let y=0;y<7;++y){const j=As.POSITION_DETECTION_PATTERN[y];for(let I=0;I<7;++I)v.setNumber(h+I,p+y,j[I])}}static embedPositionDetectionPatternsAndSeparators(h){const p=As.POSITION_DETECTION_PATTERN[0].length;As.embedPositionDetectionPattern(0,0,h),As.embedPositionDetectionPattern(h.getWidth()-p,0,h),As.embedPositionDetectionPattern(0,h.getWidth()-p,h);const v=8;As.embedHorizontalSeparationPattern(0,v-1,h),As.embedHorizontalSeparationPattern(h.getWidth()-v,v-1,h),As.embedHorizontalSeparationPattern(0,h.getWidth()-v,h);const y=7;As.embedVerticalSeparationPattern(y,0,h),As.embedVerticalSeparationPattern(h.getHeight()-y-1,0,h),As.embedVerticalSeparationPattern(y,h.getHeight()-y,h)}static maybeEmbedPositionAdjustmentPatterns(h,p){if(h.getVersionNumber()<2)return;const v=h.getVersionNumber()-1,y=As.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[v];for(let j=0,I=y.length;j!==I;j++){const T=y[j];if(T>=0)for(let q=0;q!==I;q++){const X=y[q];X>=0&&As.isEmpty(p.get(X,T))&&As.embedPositionAdjustmentPattern(X-2,T-2,p)}}}}As.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),As.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),As.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),As.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),As.VERSION_INFO_POLY=7973,As.TYPE_INFO_POLY=1335,As.TYPE_INFO_MASK_PATTERN=21522;class Vy{constructor(h,p){this.dataBytes=h,this.errorCorrectionBytes=p}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class Sr{constructor(){}static calculateMaskPenalty(h){return Pr.applyMaskPenaltyRule1(h)+Pr.applyMaskPenaltyRule2(h)+Pr.applyMaskPenaltyRule3(h)+Pr.applyMaskPenaltyRule4(h)}static encode(h,p,v=null){let y=Sr.DEFAULT_BYTE_MODE_ENCODING;const j=v!==null&&v.get(Zs.CHARACTER_SET)!==void 0;j&&(y=v.get(Zs.CHARACTER_SET).toString());const I=this.chooseMode(h,y),T=new P;if(I===Je.BYTE&&(j||Sr.DEFAULT_BYTE_MODE_ENCODING!==y)){const Tn=F.getCharacterSetECIByName(y);Tn!==void 0&&this.appendECI(Tn,T)}this.appendModeInfo(I,T);const q=new P;this.appendBytes(h,I,q,y);let X;if(v!==null&&v.get(Zs.QR_VERSION)!==void 0){const Tn=Number.parseInt(v.get(Zs.QR_VERSION).toString(),10);X=Qe.getVersionForNumber(Tn);const xn=this.calculateBitsNeeded(I,T,q,X);if(!this.willFit(xn,X,p))throw new dr("Data too big for requested version")}else X=this.recommendVersion(p,I,T,q);const le=new P;le.appendBitArray(T);const we=I===Je.BYTE?q.getSizeInBytes():h.length;this.appendLengthInfo(we,X,I,le),le.appendBitArray(q);const ke=X.getECBlocksForLevel(p),We=X.getTotalCodewords()-ke.getTotalECCodewords();this.terminateBits(We,le);const ct=this.interleaveWithECBytes(le,X.getTotalCodewords(),We,ke.getNumBlocks()),ut=new Ul;ut.setECLevel(p),ut.setMode(I),ut.setVersion(X);const Ct=X.getDimensionForVersion(),Ot=new qd(Ct,Ct),Cn=this.chooseMaskPattern(ct,p,X,Ot);return ut.setMaskPattern(Cn),As.buildMatrix(ct,p,X,Cn,Ot),ut.setMatrix(Ot),ut}static recommendVersion(h,p,v,y){const j=this.calculateBitsNeeded(p,v,y,Qe.getVersionForNumber(1)),I=this.chooseVersion(j,h),T=this.calculateBitsNeeded(p,v,y,I);return this.chooseVersion(T,h)}static calculateBitsNeeded(h,p,v,y){return p.getSize()+h.getCharacterCountBits(y)+v.getSize()}static getAlphanumericCode(h){return h<Sr.ALPHANUMERIC_TABLE.length?Sr.ALPHANUMERIC_TABLE[h]:-1}static chooseMode(h,p=null){if(F.SJIS.getName()===p&&this.isOnlyDoubleByteKanji(h))return Je.KANJI;let v=!1,y=!1;for(let j=0,I=h.length;j<I;++j){const T=h.charAt(j);if(Sr.isDigit(T))v=!0;else if(this.getAlphanumericCode(T.charCodeAt(0))!==-1)y=!0;else return Je.BYTE}return y?Je.ALPHANUMERIC:v?Je.NUMERIC:Je.BYTE}static isOnlyDoubleByteKanji(h){let p;try{p=se.encode(h,F.SJIS)}catch{return!1}const v=p.length;if(v%2!==0)return!1;for(let y=0;y<v;y+=2){const j=p[y]&255;if((j<129||j>159)&&(j<224||j>235))return!1}return!0}static chooseMaskPattern(h,p,v,y){let j=Number.MAX_SAFE_INTEGER,I=-1;for(let T=0;T<Ul.NUM_MASK_PATTERNS;T++){As.buildMatrix(h,p,v,T,y);let q=this.calculateMaskPenalty(y);q<j&&(j=q,I=T)}return I}static chooseVersion(h,p){for(let v=1;v<=40;v++){const y=Qe.getVersionForNumber(v);if(Sr.willFit(h,y,p))return y}throw new dr("Data too big")}static willFit(h,p,v){const y=p.getTotalCodewords(),I=p.getECBlocksForLevel(v).getTotalECCodewords(),T=y-I,q=(h+7)/8;return T>=q}static terminateBits(h,p){const v=h*8;if(p.getSize()>v)throw new dr("data bits cannot fit in the QR Code"+p.getSize()+" > "+v);for(let I=0;I<4&&p.getSize()<v;++I)p.appendBit(!1);const y=p.getSize()&7;if(y>0)for(let I=y;I<8;I++)p.appendBit(!1);const j=h-p.getSizeInBytes();for(let I=0;I<j;++I)p.appendBits((I&1)===0?236:17,8);if(p.getSize()!==v)throw new dr("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(h,p,v,y,j,I){if(y>=v)throw new dr("Block ID too large");const T=h%v,q=v-T,X=Math.floor(h/v),le=X+1,we=Math.floor(p/v),ke=we+1,We=X-we,ct=le-ke;if(We!==ct)throw new dr("EC bytes mismatch");if(v!==q+T)throw new dr("RS blocks mismatch");if(h!==(we+We)*q+(ke+ct)*T)throw new dr("Total bytes mismatch");y<q?(j[0]=we,I[0]=We):(j[0]=ke,I[0]=ct)}static interleaveWithECBytes(h,p,v,y){if(h.getSizeInBytes()!==v)throw new dr("Number of bits and data bytes does not match");let j=0,I=0,T=0;const q=new Array;for(let le=0;le<y;++le){const we=new Int32Array(1),ke=new Int32Array(1);Sr.getNumDataBytesAndNumECBytesForBlockID(p,v,y,le,we,ke);const We=we[0],ct=new Uint8Array(We);h.toBytes(8*j,ct,0,We);const ut=Sr.generateECBytes(ct,ke[0]);q.push(new Vy(ct,ut)),I=Math.max(I,We),T=Math.max(T,ut.length),j+=we[0]}if(v!==j)throw new dr("Data bytes does not match offset");const X=new P;for(let le=0;le<I;++le)for(const we of q){const ke=we.getDataBytes();le<ke.length&&X.appendBits(ke[le],8)}for(let le=0;le<T;++le)for(const we of q){const ke=we.getErrorCorrectionBytes();le<ke.length&&X.appendBits(ke[le],8)}if(p!==X.getSizeInBytes())throw new dr("Interleaving error: "+p+" and "+X.getSizeInBytes()+" differ.");return X}static generateECBytes(h,p){const v=h.length,y=new Int32Array(v+p);for(let I=0;I<v;I++)y[I]=h[I]&255;new zl(Se.QR_CODE_FIELD_256).encode(y,p);const j=new Uint8Array(p);for(let I=0;I<p;I++)j[I]=y[v+I];return j}static appendModeInfo(h,p){p.appendBits(h.getBits(),4)}static appendLengthInfo(h,p,v,y){const j=v.getCharacterCountBits(p);if(h>=1<<j)throw new dr(h+" is bigger than "+((1<<j)-1));y.appendBits(h,j)}static appendBytes(h,p,v,y){switch(p){case Je.NUMERIC:Sr.appendNumericBytes(h,v);break;case Je.ALPHANUMERIC:Sr.appendAlphanumericBytes(h,v);break;case Je.BYTE:Sr.append8BitBytes(h,v,y);break;case Je.KANJI:Sr.appendKanjiBytes(h,v);break;default:throw new dr("Invalid mode: "+p)}}static getDigit(h){return h.charCodeAt(0)-48}static isDigit(h){const p=Sr.getDigit(h);return p>=0&&p<=9}static appendNumericBytes(h,p){const v=h.length;let y=0;for(;y<v;){const j=Sr.getDigit(h.charAt(y));if(y+2<v){const I=Sr.getDigit(h.charAt(y+1)),T=Sr.getDigit(h.charAt(y+2));p.appendBits(j*100+I*10+T,10),y+=3}else if(y+1<v){const I=Sr.getDigit(h.charAt(y+1));p.appendBits(j*10+I,7),y+=2}else p.appendBits(j,4),y++}}static appendAlphanumericBytes(h,p){const v=h.length;let y=0;for(;y<v;){const j=Sr.getAlphanumericCode(h.charCodeAt(y));if(j===-1)throw new dr;if(y+1<v){const I=Sr.getAlphanumericCode(h.charCodeAt(y+1));if(I===-1)throw new dr;p.appendBits(j*45+I,11),y+=2}else p.appendBits(j,6),y++}}static append8BitBytes(h,p,v){let y;try{y=se.encode(h,v)}catch(j){throw new dr(j)}for(let j=0,I=y.length;j!==I;j++){const T=y[j];p.appendBits(T,8)}}static appendKanjiBytes(h,p){let v;try{v=se.encode(h,F.SJIS)}catch(j){throw new dr(j)}const y=v.length;for(let j=0;j<y;j+=2){const I=v[j]&255,T=v[j+1]&255,q=I<<8&4294967295|T;let X=-1;if(q>=33088&&q<=40956?X=q-33088:q>=57408&&q<=60351&&(X=q-49472),X===-1)throw new dr("Invalid byte sequence");const le=(X>>8)*192+(X&255);p.appendBits(le,13)}}static appendECI(h,p){p.appendBits(Je.ECI.getBits(),4),p.appendBits(h.getValue(),8)}}Sr.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),Sr.DEFAULT_BYTE_MODE_ENCODING=F.UTF8.getName();class Wl{write(h,p,v,y=null){if(h.length===0)throw new g("Found empty contents");if(p<0||v<0)throw new g("Requested dimensions are too small: "+p+"x"+v);let j=Rs.L,I=Wl.QUIET_ZONE_SIZE;y!==null&&(y.get(Zs.ERROR_CORRECTION)!==void 0&&(j=Rs.fromString(y.get(Zs.ERROR_CORRECTION).toString())),y.get(Zs.MARGIN)!==void 0&&(I=Number.parseInt(y.get(Zs.MARGIN).toString(),10)));const T=Sr.encode(h,j,y);return this.renderResult(T,p,v,I)}writeToDom(h,p,v,y,j=null){typeof h=="string"&&(h=document.querySelector(h));const I=this.write(p,v,y,j);h&&h.appendChild(I)}renderResult(h,p,v,y){const j=h.getMatrix();if(j===null)throw new de;const I=j.getWidth(),T=j.getHeight(),q=I+y*2,X=T+y*2,le=Math.max(p,q),we=Math.max(v,X),ke=Math.min(Math.floor(le/q),Math.floor(we/X)),We=Math.floor((le-I*ke)/2),ct=Math.floor((we-T*ke)/2),ut=this.createSVGElement(le,we);for(let Ct=0,Ot=ct;Ct<T;Ct++,Ot+=ke)for(let Cn=0,Tn=We;Cn<I;Cn++,Tn+=ke)if(j.get(Cn,Ct)===1){const xn=this.createSvgRectElement(Tn,Ot,ke,ke);ut.appendChild(xn)}return ut}createSVGElement(h,p){const v=document.createElementNS(Wl.SVG_NS,"svg");return v.setAttributeNS(null,"height",h.toString()),v.setAttributeNS(null,"width",p.toString()),v}createSvgRectElement(h,p,v,y){const j=document.createElementNS(Wl.SVG_NS,"rect");return j.setAttributeNS(null,"x",h.toString()),j.setAttributeNS(null,"y",p.toString()),j.setAttributeNS(null,"height",v.toString()),j.setAttributeNS(null,"width",y.toString()),j.setAttributeNS(null,"fill","#000000"),j}}Wl.QUIET_ZONE_SIZE=4,Wl.SVG_NS="http://www.w3.org/2000/svg";class Ru{encode(h,p,v,y,j){if(h.length===0)throw new g("Found empty contents");if(p!==re.QR_CODE)throw new g("Can only encode QR_CODE, but got "+p);if(v<0||y<0)throw new g(`Requested dimensions are too small: ${v}x${y}`);let I=Rs.L,T=Ru.QUIET_ZONE_SIZE;j!==null&&(j.get(Zs.ERROR_CORRECTION)!==void 0&&(I=Rs.fromString(j.get(Zs.ERROR_CORRECTION).toString())),j.get(Zs.MARGIN)!==void 0&&(T=Number.parseInt(j.get(Zs.MARGIN).toString(),10)));const q=Sr.encode(h,I,j);return Ru.renderResult(q,v,y,T)}static renderResult(h,p,v,y){const j=h.getMatrix();if(j===null)throw new de;const I=j.getWidth(),T=j.getHeight(),q=I+y*2,X=T+y*2,le=Math.max(p,q),we=Math.max(v,X),ke=Math.min(Math.floor(le/q),Math.floor(we/X)),We=Math.floor((le-I*ke)/2),ct=Math.floor((we-T*ke)/2),ut=new J(le,we);for(let Ct=0,Ot=ct;Ct<T;Ct++,Ot+=ke)for(let Cn=0,Tn=We;Cn<I;Cn++,Tn+=ke)j.get(Cn,Ct)===1&&ut.setRegion(Tn,Ot,ke,ke);return ut}}Ru.QUIET_ZONE_SIZE=4;class zy{encode(h,p,v,y,j){let I;switch(p){case re.QR_CODE:I=new Ru;break;default:throw new g("No encoder available for format "+p)}return I.encode(h,p,v,y,j)}}class dc extends ee{constructor(h,p,v,y,j,I,T,q){if(super(I,T),this.yuvData=h,this.dataWidth=p,this.dataHeight=v,this.left=y,this.top=j,y+I>p||j+T>v)throw new g("Crop rectangle does not fit within image data.");q&&this.reverseHorizontal(I,T)}getRow(h,p){if(h<0||h>=this.getHeight())throw new g("Requested row is outside the image: "+h);const v=this.getWidth();(p==null||p.length<v)&&(p=new Uint8ClampedArray(v));const y=(h+this.top)*this.dataWidth+this.left;return S.arraycopy(this.yuvData,y,p,0,v),p}getMatrix(){const h=this.getWidth(),p=this.getHeight();if(h===this.dataWidth&&p===this.dataHeight)return this.yuvData;const v=h*p,y=new Uint8ClampedArray(v);let j=this.top*this.dataWidth+this.left;if(h===this.dataWidth)return S.arraycopy(this.yuvData,j,y,0,v),y;for(let I=0;I<p;I++){const T=I*h;S.arraycopy(this.yuvData,j,y,T,h),j+=this.dataWidth}return y}isCropSupported(){return!0}crop(h,p,v,y){return new dc(this.yuvData,this.dataWidth,this.dataHeight,this.left+h,this.top+p,v,y,!1)}renderThumbnail(){const h=this.getWidth()/dc.THUMBNAIL_SCALE_FACTOR,p=this.getHeight()/dc.THUMBNAIL_SCALE_FACTOR,v=new Int32Array(h*p),y=this.yuvData;let j=this.top*this.dataWidth+this.left;for(let I=0;I<p;I++){const T=I*h;for(let q=0;q<h;q++){const X=y[j+q*dc.THUMBNAIL_SCALE_FACTOR]&255;v[T+q]=4278190080|X*65793}j+=this.dataWidth*dc.THUMBNAIL_SCALE_FACTOR}return v}getThumbnailWidth(){return this.getWidth()/dc.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/dc.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(h,p){const v=this.yuvData;for(let y=0,j=this.top*this.dataWidth+this.left;y<p;y++,j+=this.dataWidth){const I=j+h/2;for(let T=j,q=j+h-1;T<I;T++,q--){const X=v[T];v[T]=v[q],v[q]=X}}}invert(){return new Z(this)}}dc.THUMBNAIL_SCALE_FACTOR=2;class Vd extends ee{constructor(h,p,v,y,j,I,T){if(super(p,v),this.dataWidth=y,this.dataHeight=j,this.left=I,this.top=T,h.BYTES_PER_ELEMENT===4){const q=p*v,X=new Uint8ClampedArray(q);for(let le=0;le<q;le++){const we=h[le],ke=we>>16&255,We=we>>7&510,ct=we&255;X[le]=(ke+We+ct)/4&255}this.luminances=X}else this.luminances=h;if(y===void 0&&(this.dataWidth=p),j===void 0&&(this.dataHeight=v),I===void 0&&(this.left=0),T===void 0&&(this.top=0),this.left+p>this.dataWidth||this.top+v>this.dataHeight)throw new g("Crop rectangle does not fit within image data.")}getRow(h,p){if(h<0||h>=this.getHeight())throw new g("Requested row is outside the image: "+h);const v=this.getWidth();(p==null||p.length<v)&&(p=new Uint8ClampedArray(v));const y=(h+this.top)*this.dataWidth+this.left;return S.arraycopy(this.luminances,y,p,0,v),p}getMatrix(){const h=this.getWidth(),p=this.getHeight();if(h===this.dataWidth&&p===this.dataHeight)return this.luminances;const v=h*p,y=new Uint8ClampedArray(v);let j=this.top*this.dataWidth+this.left;if(h===this.dataWidth)return S.arraycopy(this.luminances,j,y,0,v),y;for(let I=0;I<p;I++){const T=I*h;S.arraycopy(this.luminances,j,y,T,h),j+=this.dataWidth}return y}isCropSupported(){return!0}crop(h,p,v,y){return new Vd(this.luminances,v,y,this.dataWidth,this.dataHeight,this.left+h,this.top+p)}invert(){return new Z(this)}}class Bu extends F{static forName(h){return this.getCharacterSetECIByName(h)}}class _p{}_p.ISO_8859_1=F.ISO8859_1;class vp{isCompact(){return this.compact}setCompact(h){this.compact=h}getSize(){return this.size}setSize(h){this.size=h}getLayers(){return this.layers}setLayers(h){this.layers=h}getCodeWords(){return this.codeWords}setCodeWords(h){this.codeWords=h}getMatrix(){return this.matrix}setMatrix(h){this.matrix=h}}class xp{static singletonList(h){return[h]}static min(h,p){return h.sort(p)[0]}}class F0{constructor(h){this.previous=h}getPrevious(){return this.previous}}class Yl extends F0{constructor(h,p,v){super(h),this.value=p,this.bitCount=v}appendTo(h,p){h.appendBits(this.value,this.bitCount)}add(h,p){return new Yl(this,h,p)}addBinaryShift(h,p){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new Yl(this,h,p)}toString(){let h=this.value&(1<<this.bitCount)-1;return h|=1<<this.bitCount,"<"+R.toBinaryString(h|1<<this.bitCount).substring(1)+">"}}class uf extends Yl{constructor(h,p,v){super(h,0,0),this.binaryShiftStart=p,this.binaryShiftByteCount=v}appendTo(h,p){for(let v=0;v<this.binaryShiftByteCount;v++)(v===0||v===31&&this.binaryShiftByteCount<=62)&&(h.appendBits(31,5),this.binaryShiftByteCount>62?h.appendBits(this.binaryShiftByteCount-31,16):v===0?h.appendBits(Math.min(this.binaryShiftByteCount,31),5):h.appendBits(this.binaryShiftByteCount-31,5)),h.appendBits(p[this.binaryShiftStart+v],8)}addBinaryShift(h,p){return new uf(this,h,p)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function Ou(ye,h,p){return new uf(ye,h,p)}function zd(ye,h,p){return new Yl(ye,h,p)}const Uy=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],dl=0,Ud=1,yo=2,Lu=3,ro=4,Wy=new Yl(null,0,0),$u=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function H0(ye){for(let h of ye)D.fill(h,-1);return ye[dl][ro]=0,ye[Ud][ro]=0,ye[Ud][dl]=28,ye[Lu][ro]=0,ye[yo][ro]=0,ye[yo][dl]=15,ye}const bp=H0(D.createInt32Array(6,6));class Eo{constructor(h,p,v,y){this.token=h,this.mode=p,this.binaryShiftByteCount=v,this.bitCount=y}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(h,p){let v=this.bitCount,y=this.token;if(h!==this.mode){let I=$u[this.mode][h];y=zd(y,I&65535,I>>16),v+=I>>16}let j=h===yo?4:5;return y=zd(y,p,j),new Eo(y,h,0,v+j)}shiftAndAppend(h,p){let v=this.token,y=this.mode===yo?4:5;return v=zd(v,bp[this.mode][h],y),v=zd(v,p,5),new Eo(v,this.mode,0,this.bitCount+y+5)}addBinaryShiftChar(h){let p=this.token,v=this.mode,y=this.bitCount;if(this.mode===ro||this.mode===yo){let T=$u[v][dl];p=zd(p,T&65535,T>>16),y+=T>>16,v=dl}let j=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,I=new Eo(p,v,this.binaryShiftByteCount+1,y+j);return I.binaryShiftByteCount===2078&&(I=I.endBinaryShift(h+1)),I}endBinaryShift(h){if(this.binaryShiftByteCount===0)return this;let p=this.token;return p=Ou(p,h-this.binaryShiftByteCount,this.binaryShiftByteCount),new Eo(p,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(h){let p=this.bitCount+($u[this.mode][h.mode]>>16);return this.binaryShiftByteCount<h.binaryShiftByteCount?p+=Eo.calculateBinaryShiftCost(h)-Eo.calculateBinaryShiftCost(this):this.binaryShiftByteCount>h.binaryShiftByteCount&&h.binaryShiftByteCount>0&&(p+=10),p<=h.bitCount}toBitArray(h){let p=[];for(let y=this.endBinaryShift(h.length).token;y!==null;y=y.getPrevious())p.unshift(y);let v=new P;for(const y of p)y.appendTo(v,h);return v}toString(){return K.format("%s bits=%d bytes=%d",Uy[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(h){return h.binaryShiftByteCount>62?21:h.binaryShiftByteCount>31?20:h.binaryShiftByteCount>0?10:0}}Eo.INITIAL_STATE=new Eo(Wy,dl,0,0);function yp(ye){const h=K.getCharCode(" "),p=K.getCharCode("."),v=K.getCharCode(",");ye[dl][h]=1;const y=K.getCharCode("Z"),j=K.getCharCode("A");for(let ke=j;ke<=y;ke++)ye[dl][ke]=ke-j+2;ye[Ud][h]=1;const I=K.getCharCode("z"),T=K.getCharCode("a");for(let ke=T;ke<=I;ke++)ye[Ud][ke]=ke-T+2;ye[yo][h]=1;const q=K.getCharCode("9"),X=K.getCharCode("0");for(let ke=X;ke<=q;ke++)ye[yo][ke]=ke-X+2;ye[yo][v]=12,ye[yo][p]=13;const le=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let ke=0;ke<le.length;ke++)ye[Lu][K.getCharCode(le[ke])]=ke;const we=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let ke=0;ke<we.length;ke++)K.getCharCode(we[ke])>0&&(ye[ro][K.getCharCode(we[ke])]=ke);return ye}const df=yp(D.createInt32Array(5,256));class Pu{constructor(h){this.text=h}encode(){const h=K.getCharCode(" "),p=K.getCharCode(`
`);let v=xp.singletonList(Eo.INITIAL_STATE);for(let j=0;j<this.text.length;j++){let I,T=j+1<this.text.length?this.text[j+1]:0;switch(this.text[j]){case K.getCharCode("\r"):I=T===p?2:0;break;case K.getCharCode("."):I=T===h?3:0;break;case K.getCharCode(","):I=T===h?4:0;break;case K.getCharCode(":"):I=T===h?5:0;break;default:I=0}I>0?(v=Pu.updateStateListForPair(v,j,I),j++):v=this.updateStateListForChar(v,j)}return xp.min(v,(j,I)=>j.getBitCount()-I.getBitCount()).toBitArray(this.text)}updateStateListForChar(h,p){const v=[];for(let y of h)this.updateStateForChar(y,p,v);return Pu.simplifyStates(v)}updateStateForChar(h,p,v){let y=this.text[p]&255,j=df[h.getMode()][y]>0,I=null;for(let T=0;T<=ro;T++){let q=df[T][y];if(q>0){if(I==null&&(I=h.endBinaryShift(p)),!j||T===h.getMode()||T===yo){const X=I.latchAndAppend(T,q);v.push(X)}if(!j&&bp[h.getMode()][T]>=0){const X=I.shiftAndAppend(T,q);v.push(X)}}}if(h.getBinaryShiftByteCount()>0||df[h.getMode()][y]===0){let T=h.addBinaryShiftChar(p);v.push(T)}}static updateStateListForPair(h,p,v){const y=[];for(let j of h)this.updateStateForPair(j,p,v,y);return this.simplifyStates(y)}static updateStateForPair(h,p,v,y){let j=h.endBinaryShift(p);if(y.push(j.latchAndAppend(ro,v)),h.getMode()!==ro&&y.push(j.shiftAndAppend(ro,v)),v===3||v===4){let I=j.latchAndAppend(yo,16-v).latchAndAppend(yo,1);y.push(I)}if(h.getBinaryShiftByteCount()>0){let I=h.addBinaryShiftChar(p).addBinaryShiftChar(p+1);y.push(I)}}static simplifyStates(h){let p=[];for(const v of h){let y=!0;for(const j of p){if(j.isBetterThanOrEqualTo(v)){y=!1;break}v.isBetterThanOrEqualTo(j)&&(p=p.filter(I=>I!==j))}y&&p.push(v)}return p}}class Ra{constructor(){}static encodeBytes(h){return Ra.encode(h,Ra.DEFAULT_EC_PERCENT,Ra.DEFAULT_AZTEC_LAYERS)}static encode(h,p,v){let y=new Pu(h).encode(),j=R.truncDivision(y.getSize()*p,100)+11,I=y.getSize()+j,T,q,X,le,we;if(v!==Ra.DEFAULT_AZTEC_LAYERS){if(T=v<0,q=Math.abs(v),q>(T?Ra.MAX_NB_BITS_COMPACT:Ra.MAX_NB_BITS))throw new g(K.format("Illegal value %s for layers",v));X=Ra.totalBitsInLayer(q,T),le=Ra.WORD_SIZE[q];let xn=X-X%le;if(we=Ra.stuffBits(y,le),we.getSize()+j>xn)throw new g("Data to large for user specified layer");if(T&&we.getSize()>le*64)throw new g("Data to large for user specified layer")}else{le=0,we=null;for(let xn=0;;xn++){if(xn>Ra.MAX_NB_BITS)throw new g("Data too large for an Aztec code");if(T=xn<=3,q=T?xn+1:xn,X=Ra.totalBitsInLayer(q,T),I>X)continue;(we==null||le!==Ra.WORD_SIZE[q])&&(le=Ra.WORD_SIZE[q],we=Ra.stuffBits(y,le));let na=X-X%le;if(!(T&&we.getSize()>le*64)&&we.getSize()+j<=na)break}}let ke=Ra.generateCheckWords(we,X,le),We=we.getSize()/le,ct=Ra.generateModeMessage(T,q,We),ut=(T?11:14)+q*4,Ct=new Int32Array(ut),Ot;if(T){Ot=ut;for(let xn=0;xn<Ct.length;xn++)Ct[xn]=xn}else{Ot=ut+1+2*R.truncDivision(R.truncDivision(ut,2)-1,15);let xn=R.truncDivision(ut,2),na=R.truncDivision(Ot,2);for(let Js=0;Js<xn;Js++){let Qi=Js+R.truncDivision(Js,15);Ct[xn-Js-1]=na-Qi-1,Ct[xn+Js]=na+Qi+1}}let Cn=new J(Ot);for(let xn=0,na=0;xn<q;xn++){let Js=(q-xn)*4+(T?9:12);for(let Qi=0;Qi<Js;Qi++){let To=Qi*2;for(let io=0;io<2;io++)ke.get(na+To+io)&&Cn.set(Ct[xn*2+io],Ct[xn*2+Qi]),ke.get(na+Js*2+To+io)&&Cn.set(Ct[xn*2+Qi],Ct[ut-1-xn*2-io]),ke.get(na+Js*4+To+io)&&Cn.set(Ct[ut-1-xn*2-io],Ct[ut-1-xn*2-Qi]),ke.get(na+Js*6+To+io)&&Cn.set(Ct[ut-1-xn*2-Qi],Ct[xn*2+io])}na+=Js*8}if(Ra.drawModeMessage(Cn,T,Ot,ct),T)Ra.drawBullsEye(Cn,R.truncDivision(Ot,2),5);else{Ra.drawBullsEye(Cn,R.truncDivision(Ot,2),7);for(let xn=0,na=0;xn<R.truncDivision(ut,2)-1;xn+=15,na+=16)for(let Js=R.truncDivision(Ot,2)&1;Js<Ot;Js+=2)Cn.set(R.truncDivision(Ot,2)-na,Js),Cn.set(R.truncDivision(Ot,2)+na,Js),Cn.set(Js,R.truncDivision(Ot,2)-na),Cn.set(Js,R.truncDivision(Ot,2)+na)}let Tn=new vp;return Tn.setCompact(T),Tn.setSize(Ot),Tn.setLayers(q),Tn.setCodeWords(We),Tn.setMatrix(Cn),Tn}static drawBullsEye(h,p,v){for(let y=0;y<v;y+=2)for(let j=p-y;j<=p+y;j++)h.set(j,p-y),h.set(j,p+y),h.set(p-y,j),h.set(p+y,j);h.set(p-v,p-v),h.set(p-v+1,p-v),h.set(p-v,p-v+1),h.set(p+v,p-v),h.set(p+v,p-v+1),h.set(p+v,p+v-1)}static generateModeMessage(h,p,v){let y=new P;return h?(y.appendBits(p-1,2),y.appendBits(v-1,6),y=Ra.generateCheckWords(y,28,4)):(y.appendBits(p-1,5),y.appendBits(v-1,11),y=Ra.generateCheckWords(y,40,4)),y}static drawModeMessage(h,p,v,y){let j=R.truncDivision(v,2);if(p)for(let I=0;I<7;I++){let T=j-3+I;y.get(I)&&h.set(T,j-5),y.get(I+7)&&h.set(j+5,T),y.get(20-I)&&h.set(T,j+5),y.get(27-I)&&h.set(j-5,T)}else for(let I=0;I<10;I++){let T=j-5+I+R.truncDivision(I,5);y.get(I)&&h.set(T,j-7),y.get(I+10)&&h.set(j+7,T),y.get(29-I)&&h.set(T,j+7),y.get(39-I)&&h.set(j-7,T)}}static generateCheckWords(h,p,v){let y=h.getSize()/v,j=new zl(Ra.getGF(v)),I=R.truncDivision(p,v),T=Ra.bitsToWords(h,v,I);j.encode(T,I-y);let q=p%v,X=new P;X.appendBits(0,q);for(const le of Array.from(T))X.appendBits(le,v);return X}static bitsToWords(h,p,v){let y=new Int32Array(v),j,I;for(j=0,I=h.getSize()/p;j<I;j++){let T=0;for(let q=0;q<p;q++)T|=h.get(j*p+q)?1<<p-q-1:0;y[j]=T}return y}static getGF(h){switch(h){case 4:return Se.AZTEC_PARAM;case 6:return Se.AZTEC_DATA_6;case 8:return Se.AZTEC_DATA_8;case 10:return Se.AZTEC_DATA_10;case 12:return Se.AZTEC_DATA_12;default:throw new g("Unsupported word size "+h)}}static stuffBits(h,p){let v=new P,y=h.getSize(),j=(1<<p)-2;for(let I=0;I<y;I+=p){let T=0;for(let q=0;q<p;q++)(I+q>=y||h.get(I+q))&&(T|=1<<p-1-q);(T&j)===j?(v.appendBits(T&j,p),I--):(T&j)===0?(v.appendBits(T|1,p),I--):v.appendBits(T,p)}return v}static totalBitsInLayer(h,p){return((p?88:112)+16*h)*h}}Ra.DEFAULT_EC_PERCENT=33,Ra.DEFAULT_AZTEC_LAYERS=0,Ra.MAX_NB_BITS=32,Ra.MAX_NB_BITS_COMPACT=4,Ra.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class hf{encode(h,p,v,y){return this.encodeWithHints(h,p,v,y,null)}encodeWithHints(h,p,v,y,j){let I=_p.ISO_8859_1,T=Ra.DEFAULT_EC_PERCENT,q=Ra.DEFAULT_AZTEC_LAYERS;return j!=null&&(j.has(Zs.CHARACTER_SET)&&(I=Bu.forName(j.get(Zs.CHARACTER_SET).toString())),j.has(Zs.ERROR_CORRECTION)&&(T=R.parseInt(j.get(Zs.ERROR_CORRECTION).toString())),j.has(Zs.AZTEC_LAYERS)&&(q=R.parseInt(j.get(Zs.AZTEC_LAYERS).toString()))),hf.encodeLayers(h,p,v,y,I,T,q)}static encodeLayers(h,p,v,y,j,I,T){if(p!==re.AZTEC)throw new g("Can only encode AZTEC, but got "+p);let q=Ra.encode(K.getBytes(h,j),I,T);return hf.renderResult(q,v,y)}static renderResult(h,p,v){let y=h.getMatrix();if(y==null)throw new de;let j=y.getWidth(),I=y.getHeight(),T=Math.max(p,j),q=Math.max(v,I),X=Math.min(T/j,q/I),le=(T-j*X)/2,we=(q-I*X)/2,ke=new J(T,q);for(let We=0,ct=we;We<I;We++,ct+=X)for(let ut=0,Ct=le;ut<j;ut++,Ct+=X)y.get(ut,We)&&ke.setRegion(Ct,ct,X,X);return ke}}n.AbstractExpandedDecoder=Ca,n.ArgumentException=f,n.ArithmeticException=ve,n.AztecCode=vp,n.AztecCodeReader=Ge,n.AztecCodeWriter=hf,n.AztecDecoder=Re,n.AztecDetector=bt,n.AztecDetectorResult=Fe,n.AztecEncoder=Ra,n.AztecHighLevelEncoder=Pu,n.AztecPoint=Pe,n.BarcodeFormat=re,n.Binarizer=C,n.BinaryBitmap=b,n.BitArray=P,n.BitMatrix=J,n.BitSource=sa,n.BrowserAztecCodeReader=ue,n.BrowserBarcodeReader=Ma,n.BrowserCodeReader=Y,n.BrowserDatamatrixCodeReader=ji,n.BrowserMultiFormatReader=Dr,n.BrowserPDF417Reader=Gi,n.BrowserQRCodeReader=Zr,n.BrowserQRCodeSvgWriter=Wl,n.CharacterSetECI=F,n.ChecksumException=w,n.Code128Reader=xe,n.Code39Reader=Ye,n.DataMatrixDecodedBitStreamParser=Ks,n.DataMatrixReader=Ja,n.DecodeHintType=O,n.DecoderResult=Ce,n.DefaultGridSampler=he,n.DetectorResult=be,n.EAN13Reader=ln,n.EncodeHintType=Zs,n.Exception=d,n.FormatException=$,n.GenericGF=Se,n.GenericGFPoly=Ee,n.GlobalHistogramBinarizer=V,n.GridSampler=qe,n.GridSamplerInstance=Ze,n.HTMLCanvasElementLuminanceSource=A,n.HybridBinarizer=M,n.ITFReader=at,n.IllegalArgumentException=g,n.IllegalStateException=de,n.InvertedLuminanceSource=Z,n.LuminanceSource=ee,n.MathUtils=Ae,n.MultiFormatOneDReader=rr,n.MultiFormatReader=Ns,n.MultiFormatWriter=zy,n.NotFoundException=z,n.OneDReader=De,n.PDF417DecodedBitStreamParser=$e,n.PDF417DecoderErrorCorrection=ws,n.PDF417Reader=Mn,n.PDF417ResultMetadata=wt,n.PerspectiveTransform=tt,n.PlanarYUVLuminanceSource=dc,n.QRCodeByteMatrix=qd,n.QRCodeDataMask=Wt,n.QRCodeDecodedBitStreamParser=ot,n.QRCodeDecoderErrorCorrectionLevel=Rs,n.QRCodeDecoderFormatInformation=qn,n.QRCodeEncoder=Sr,n.QRCodeEncoderQRCode=Ul,n.QRCodeMaskUtil=Pr,n.QRCodeMatrixUtil=As,n.QRCodeMode=Je,n.QRCodeReader=as,n.QRCodeVersion=Qe,n.QRCodeWriter=Ru,n.RGBLuminanceSource=Vd,n.RSS14Reader=Ts,n.RSSExpandedReader=qt,n.ReaderException=es,n.ReedSolomonDecoder=pe,n.ReedSolomonEncoder=zl,n.ReedSolomonException=fe,n.Result=ae,n.ResultMetadataType=me,n.ResultPoint=ge,n.StringUtils=K,n.UnsupportedOperationException=H,n.VideoInputDevice=G,n.WhiteRectangleDetector=je,n.WriterException=dr,n.ZXingArrays=D,n.ZXingCharset=Bu,n.ZXingInteger=R,n.ZXingStandardCharsets=_p,n.ZXingStringBuilder=te,n.ZXingStringEncoding=se,n.ZXingSystem=S,n.createAbstractExpandedDecoder=Cr,Object.defineProperty(n,"__esModule",{value:!0})})}(eg,eg.exports)),eg.exports}var Br=uUe();const dUe=Ti(Br),hUe=ZN({__proto__:null,default:dUe},[Br]);var S7=function(){function e(t,n,a){if(this.formatMap=new Map([[is.QR_CODE,Br.BarcodeFormat.QR_CODE],[is.AZTEC,Br.BarcodeFormat.AZTEC],[is.CODABAR,Br.BarcodeFormat.CODABAR],[is.CODE_39,Br.BarcodeFormat.CODE_39],[is.CODE_93,Br.BarcodeFormat.CODE_93],[is.CODE_128,Br.BarcodeFormat.CODE_128],[is.DATA_MATRIX,Br.BarcodeFormat.DATA_MATRIX],[is.MAXICODE,Br.BarcodeFormat.MAXICODE],[is.ITF,Br.BarcodeFormat.ITF],[is.EAN_13,Br.BarcodeFormat.EAN_13],[is.EAN_8,Br.BarcodeFormat.EAN_8],[is.PDF_417,Br.BarcodeFormat.PDF_417],[is.RSS_14,Br.BarcodeFormat.RSS_14],[is.RSS_EXPANDED,Br.BarcodeFormat.RSS_EXPANDED],[is.UPC_A,Br.BarcodeFormat.UPC_A],[is.UPC_E,Br.BarcodeFormat.UPC_E],[is.UPC_EAN_EXTENSION,Br.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!hUe)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=n,this.logger=a;var r=this.createZXingFormats(t),i=new Map;i.set(Br.DecodeHintType.POSSIBLE_FORMATS,r),i.set(Br.DecodeHintType.TRY_HARDER,!1),this.hints=i}return e.prototype.decodeAsync=function(t){var n=this;return new Promise(function(a,r){try{a(n.decode(t))}catch(i){r(i)}})},e.prototype.decode=function(t){var n=new Br.MultiFormatReader(this.verbose,this.hints),a=new Br.HTMLCanvasElementLuminanceSource(t),r=new Br.BinaryBitmap(new Br.HybridBinarizer(a)),i=n.decode(r);return{text:i.text,format:u$.create(this.toHtml5QrcodeSupportedFormats(i.format)),debugData:this.createDebugData()}},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(n,a,r){t.set(n,a)}),t},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createZXingFormats=function(t){for(var n=[],a=0,r=t;a<r.length;a++){var i=r[a];this.formatMap.has(i)?n.push(this.formatMap.get(i)):this.logger.logError("".concat(i," is not supported by")+"ZXingHtml5QrcodeShim")}return n},e.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},e}(),fUe=function(e,t,n,a){function r(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function c(f){try{d(a.next(f))}catch(g){o(g)}}function l(f){try{d(a.throw(f))}catch(g){o(g)}}function d(f){f.done?i(f.value):r(f.value).then(c,l)}d((a=a.apply(e,t||[])).next())})},mUe=function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},a,r,i,o;return o={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function c(d){return function(f){return l([d,f])}}function l(d){if(a)throw new TypeError("Generator is already executing.");for(;o&&(o=0,d[0]&&(n=0)),n;)try{if(a=1,r&&(i=d[0]&2?r.return:d[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,d[1])).done)return i;switch(r=0,i&&(d=[d[0]&2,i.value]),d[0]){case 0:case 1:i=d;break;case 4:return n.label++,{value:d[1],done:!1};case 5:n.label++,r=d[1],d=[0];continue;case 7:d=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(d[0]===6||d[0]===2)){n=0;continue}if(d[0]===3&&(!i||d[1]>i[0]&&d[1]<i[3])){n.label=d[1];break}if(d[0]===6&&n.label<i[1]){n.label=i[1],i=d;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(d);break}i[2]&&n.ops.pop(),n.trys.pop();continue}d=t.call(e,n)}catch(f){d=[6,f],r=0}finally{a=i=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}},N7=function(){function e(t,n,a){if(this.formatMap=new Map([[is.QR_CODE,"qr_code"],[is.AZTEC,"aztec"],[is.CODABAR,"codabar"],[is.CODE_39,"code_39"],[is.CODE_93,"code_93"],[is.CODE_128,"code_128"],[is.DATA_MATRIX,"data_matrix"],[is.ITF,"itf"],[is.EAN_13,"ean_13"],[is.EAN_8,"ean_8"],[is.PDF_417,"pdf417"],[is.UPC_A,"upc_a"],[is.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!e.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=n,this.logger=a;var r=this.createBarcodeDetectorFormats(t);if(this.detector=new BarcodeDetector(r),!this.detector)throw"BarcodeDetector detector not supported"}return e.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var t=new BarcodeDetector({formats:["qr_code"]});return typeof t<"u"},e.prototype.decodeAsync=function(t){return fUe(this,void 0,void 0,function(){var n,a;return mUe(this,function(r){switch(r.label){case 0:return[4,this.detector.detect(t)];case 1:if(n=r.sent(),!n||n.length===0)throw"No barcode or QR code detected.";return a=this.selectLargestBarcode(n),[2,{text:a.rawValue,format:u$.create(this.toHtml5QrcodeSupportedFormats(a.format)),debugData:this.createDebugData()}]}})})},e.prototype.selectLargestBarcode=function(t){for(var n=null,a=0,r=0,i=t;r<i.length;r++){var o=i[r],c=o.boundingBox.width*o.boundingBox.height;c>a&&(a=c,n=o)}if(!n)throw"No largest barcode found";return n},e.prototype.createBarcodeDetectorFormats=function(t){for(var n=[],a=0,r=t;a<r.length;a++){var i=r[a];this.formatMap.has(i)?n.push(this.formatMap.get(i)):this.logger.warn("".concat(i," is not supported by")+"BarcodeDetectorDelegate")}return{formats:n}},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(n,a,r){t.set(n,a)}),t},e.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},e}(),k7=function(e,t,n,a){function r(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function c(f){try{d(a.next(f))}catch(g){o(g)}}function l(f){try{d(a.throw(f))}catch(g){o(g)}}function d(f){f.done?i(f.value):r(f.value).then(c,l)}d((a=a.apply(e,t||[])).next())})},I7=function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},a,r,i,o;return o={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function c(d){return function(f){return l([d,f])}}function l(d){if(a)throw new TypeError("Generator is already executing.");for(;o&&(o=0,d[0]&&(n=0)),n;)try{if(a=1,r&&(i=d[0]&2?r.return:d[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,d[1])).done)return i;switch(r=0,i&&(d=[d[0]&2,i.value]),d[0]){case 0:case 1:i=d;break;case 4:return n.label++,{value:d[1],done:!1};case 5:n.label++,r=d[1],d=[0];continue;case 7:d=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(d[0]===6||d[0]===2)){n=0;continue}if(d[0]===3&&(!i||d[1]>i[0]&&d[1]<i[3])){n.label=d[1];break}if(d[0]===6&&n.label<i[1]){n.label=i[1],i=d;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(d);break}i[2]&&n.ops.pop(),n.trys.pop();continue}d=t.call(e,n)}catch(f){d=[6,f],r=0}finally{a=i=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}},pUe=function(){function e(t,n,a,r){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=a,n&&N7.isSupported()?(this.primaryDecoder=new N7(t,a,r),this.secondaryDecoder=new S7(t,a,r)):this.primaryDecoder=new S7(t,a,r)}return e.prototype.decodeAsync=function(t){return k7(this,void 0,void 0,function(){var n;return I7(this,function(a){switch(a.label){case 0:n=performance.now(),a.label=1;case 1:return a.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(t)];case 2:return[2,a.sent()];case 3:return this.possiblyLogPerformance(n),[7];case 4:return[2]}})})},e.prototype.decodeRobustlyAsync=function(t){return k7(this,void 0,void 0,function(){var n,a;return I7(this,function(r){switch(r.label){case 0:n=performance.now(),r.label=1;case 1:return r.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(t)];case 2:return[2,r.sent()];case 3:if(a=r.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(t)];throw a;case 4:return this.possiblyLogPerformance(n),[7];case 5:return[2]}})})},e.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},e.prototype.possiblyLogPerformance=function(t){if(this.verbose){var n=performance.now()-t;this.executionResults.push(n),this.executions++,this.possiblyFlushPerformanceReport()}},e.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var t=0,n=0,a=this.executionResults;n<a.length;n++){var r=a[n];t+=r}var i=t/this.executionResults.length;console.log("".concat(i," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},e}(),M4=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,r){a.__proto__=r}||function(a,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(a[i]=r[i])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function a(){this.constructor=t}t.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}}(),gb=function(e,t,n,a){function r(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function c(f){try{d(a.next(f))}catch(g){o(g)}}function l(f){try{d(a.throw(f))}catch(g){o(g)}}function d(f){f.done?i(f.value):r(f.value).then(c,l)}d((a=a.apply(e,t||[])).next())})},_b=function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},a,r,i,o;return o={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function c(d){return function(f){return l([d,f])}}function l(d){if(a)throw new TypeError("Generator is already executing.");for(;o&&(o=0,d[0]&&(n=0)),n;)try{if(a=1,r&&(i=d[0]&2?r.return:d[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,d[1])).done)return i;switch(r=0,i&&(d=[d[0]&2,i.value]),d[0]){case 0:case 1:i=d;break;case 4:return n.label++,{value:d[1],done:!1};case 5:n.label++,r=d[1],d=[0];continue;case 7:d=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(d[0]===6||d[0]===2)){n=0;continue}if(d[0]===3&&(!i||d[1]>i[0]&&d[1]<i[3])){n.label=d[1];break}if(d[0]===6&&n.label<i[1]){n.label=i[1],i=d;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(d);break}i[2]&&n.ops.pop(),n.trys.pop();continue}d=t.call(e,n)}catch(f){d=[6,f],r=0}finally{a=i=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}},h$=function(){function e(t,n){this.name=t,this.track=n}return e.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},e.prototype.apply=function(t){var n={};n[this.name]=t;var a={advanced:[n]};return this.track.applyConstraints(a)},e.prototype.value=function(){var t=this.track.getSettings();if(this.name in t){var n=t[this.name];return n}return null},e}(),gUe=function(e){M4(t,e);function t(n,a){return e.call(this,n,a)||this}return t.prototype.min=function(){return this.getCapabilities().min},t.prototype.max=function(){return this.getCapabilities().max},t.prototype.step=function(){return this.getCapabilities().step},t.prototype.apply=function(n){var a={};a[this.name]=n;var r={advanced:[a]};return this.track.applyConstraints(r)},t.prototype.getCapabilities=function(){this.failIfNotSupported();var n=this.track.getCapabilities(),a=n[this.name];return{min:a.min,max:a.max,step:a.step}},t.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},t}(h$),_Ue=function(e){M4(t,e);function t(n){return e.call(this,"zoom",n)||this}return t}(gUe),vUe=function(e){M4(t,e);function t(n){return e.call(this,"torch",n)||this}return t}(h$),xUe=function(){function e(t){this.track=t}return e.prototype.zoomFeature=function(){return new _Ue(this.track)},e.prototype.torchFeature=function(){return new vUe(this.track)},e}(),bUe=function(){function e(t,n,a){this.isClosed=!1,this.parentElement=t,this.mediaStream=n,this.callbacks=a,this.surface=this.createVideoElement(this.parentElement.clientWidth),t.append(this.surface)}return e.prototype.createVideoElement=function(t){var n=document.createElement("video");return n.style.width="".concat(t,"px"),n.style.display="block",n.muted=!0,n.setAttribute("muted","true"),n.playsInline=!0,n},e.prototype.setupSurface=function(){var t=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var n=function(){var a=t.surface.clientWidth,r=t.surface.clientHeight;t.callbacks.onRenderSurfaceReady(a,r),t.surface.removeEventListener("playing",n)};this.surface.addEventListener("playing",n),this.surface.srcObject=this.mediaStream,this.surface.play()},e.create=function(t,n,a,r){return gb(this,void 0,void 0,function(){var i,o;return _b(this,function(c){switch(c.label){case 0:return i=new e(t,n,r),a.aspectRatio?(o={aspectRatio:a.aspectRatio},[4,i.getFirstTrackOrFail().applyConstraints(o)]):[3,2];case 1:c.sent(),c.label=2;case 2:return i.setupSurface(),[2,i]}})})},e.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},e.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},e.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},e.prototype.resume=function(t){this.failIfClosed();var n=this,a=function(){setTimeout(t,200),n.surface.removeEventListener("playing",a)};this.surface.addEventListener("playing",a),this.surface.play()},e.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},e.prototype.getSurface=function(){return this.failIfClosed(),this.surface},e.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},e.prototype.applyVideoConstraints=function(t){return gb(this,void 0,void 0,function(){return _b(this,function(n){if("aspectRatio"in t)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(t)]})})},e.prototype.close=function(){if(this.isClosed)return Promise.resolve();var t=this;return new Promise(function(n,a){var r=t.mediaStream.getVideoTracks(),i=r.length,o=0;t.mediaStream.getVideoTracks().forEach(function(c){t.mediaStream.removeTrack(c),c.stop(),++o,o>=i&&(t.isClosed=!0,t.parentElement.removeChild(t.surface),n())})})},e.prototype.getCapabilities=function(){return new xUe(this.getFirstTrackOrFail())},e}(),yUe=function(){function e(t){this.mediaStream=t}return e.prototype.render=function(t,n,a){return gb(this,void 0,void 0,function(){return _b(this,function(r){return[2,bUe.create(t,this.mediaStream,n,a)]})})},e.create=function(t){return gb(this,void 0,void 0,function(){var n,a;return _b(this,function(r){switch(r.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return n={audio:!1,video:t},[4,navigator.mediaDevices.getUserMedia(n)];case 1:return a=r.sent(),[2,new e(a)]}})})},e}(),E7=function(e,t,n,a){function r(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function c(f){try{d(a.next(f))}catch(g){o(g)}}function l(f){try{d(a.throw(f))}catch(g){o(g)}}function d(f){f.done?i(f.value):r(f.value).then(c,l)}d((a=a.apply(e,t||[])).next())})},T7=function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},a,r,i,o;return o={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function c(d){return function(f){return l([d,f])}}function l(d){if(a)throw new TypeError("Generator is already executing.");for(;o&&(o=0,d[0]&&(n=0)),n;)try{if(a=1,r&&(i=d[0]&2?r.return:d[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,d[1])).done)return i;switch(r=0,i&&(d=[d[0]&2,i.value]),d[0]){case 0:case 1:i=d;break;case 4:return n.label++,{value:d[1],done:!1};case 5:n.label++,r=d[1],d=[0];continue;case 7:d=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(d[0]===6||d[0]===2)){n=0;continue}if(d[0]===3&&(!i||d[1]>i[0]&&d[1]<i[3])){n.label=d[1];break}if(d[0]===6&&n.label<i[1]){n.label=i[1],i=d;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(d);break}i[2]&&n.ops.pop(),n.trys.pop();continue}d=t.call(e,n)}catch(f){d=[6,f],r=0}finally{a=i=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}},wUe=function(){function e(){}return e.failIfNotSupported=function(){return E7(this,void 0,void 0,function(){return T7(this,function(t){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new e]})})},e.prototype.create=function(t){return E7(this,void 0,void 0,function(){return T7(this,function(n){return[2,yUe.create(t)]})})},e}(),jUe=function(e,t,n,a){function r(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function c(f){try{d(a.next(f))}catch(g){o(g)}}function l(f){try{d(a.throw(f))}catch(g){o(g)}}function d(f){f.done?i(f.value):r(f.value).then(c,l)}d((a=a.apply(e,t||[])).next())})},CUe=function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},a,r,i,o;return o={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function c(d){return function(f){return l([d,f])}}function l(d){if(a)throw new TypeError("Generator is already executing.");for(;o&&(o=0,d[0]&&(n=0)),n;)try{if(a=1,r&&(i=d[0]&2?r.return:d[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,d[1])).done)return i;switch(r=0,i&&(d=[d[0]&2,i.value]),d[0]){case 0:case 1:i=d;break;case 4:return n.label++,{value:d[1],done:!1};case 5:n.label++,r=d[1],d=[0];continue;case 7:d=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(d[0]===6||d[0]===2)){n=0;continue}if(d[0]===3&&(!i||d[1]>i[0]&&d[1]<i[3])){n.label=d[1];break}if(d[0]===6&&n.label<i[1]){n.label=i[1],i=d;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(d);break}i[2]&&n.ops.pop(),n.trys.pop();continue}d=t.call(e,n)}catch(f){d=[6,f],r=0}finally{a=i=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}},SUe=function(){function e(){}return e.retrieve=function(){if(navigator.mediaDevices)return e.getCamerasFromMediaDevices();var t=MediaStreamTrack;return MediaStreamTrack&&t.getSources?e.getCamerasFromMediaStreamTrack():e.rejectWithError()},e.rejectWithError=function(){var t=lm.unableToQuerySupportedDevices();return e.isHttpsOrLocalhost()||(t=lm.insecureContextCameraQueryError()),Promise.reject(t)},e.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var t=location.host.split(":")[0];return t==="127.0.0.1"||t==="localhost"},e.getCamerasFromMediaDevices=function(){return jUe(this,void 0,void 0,function(){var t,n,a,r,i,o,c;return CUe(this,function(l){switch(l.label){case 0:return t=function(d){for(var f=d.getVideoTracks(),g=0,b=f;g<b.length;g++){var w=b[g];w.enabled=!1,w.stop(),d.removeTrack(w)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return n=l.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(a=l.sent(),r=[],i=0,o=a;i<o.length;i++)c=o[i],c.kind==="videoinput"&&r.push({id:c.deviceId,label:c.label});return t(n),[2,r]}})})},e.getCamerasFromMediaStreamTrack=function(){return new Promise(function(t,n){var a=function(i){for(var o=[],c=0,l=i;c<l.length;c++){var d=l[c];d.kind==="video"&&o.push({id:d.id,label:d.label})}t(o)},r=MediaStreamTrack;r.getSources(a)})},e}(),oi;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.NOT_STARTED=1]="NOT_STARTED",e[e.SCANNING=2]="SCANNING",e[e.PAUSED=3]="PAUSED"})(oi||(oi={}));var NUe=function(){function e(){this.state=oi.NOT_STARTED,this.onGoingTransactionNewState=oi.UNKNOWN}return e.prototype.directTransition=function(t){this.failIfTransitionOngoing(),this.validateTransition(t),this.state=t},e.prototype.startTransition=function(t){return this.failIfTransitionOngoing(),this.validateTransition(t),this.onGoingTransactionNewState=t,this},e.prototype.execute=function(){if(this.onGoingTransactionNewState===oi.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var t=this.onGoingTransactionNewState;this.onGoingTransactionNewState=oi.UNKNOWN,this.directTransition(t)},e.prototype.cancel=function(){if(this.onGoingTransactionNewState===oi.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=oi.UNKNOWN},e.prototype.getState=function(){return this.state},e.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==oi.UNKNOWN)throw"Cannot transition to a new state, already under transition"},e.prototype.validateTransition=function(t){switch(this.state){case oi.UNKNOWN:throw"Transition from unknown is not allowed";case oi.NOT_STARTED:this.failIfNewStateIs(t,[oi.PAUSED]);break;case oi.SCANNING:break;case oi.PAUSED:break}},e.prototype.failIfNewStateIs=function(t,n){for(var a=0,r=n;a<r.length;a++){var i=r[a];if(t===i)throw"Cannot transition from ".concat(this.state," to ").concat(t)}},e}(),kUe=function(){function e(t){this.stateManager=t}return e.prototype.startTransition=function(t){return this.stateManager.startTransition(t)},e.prototype.directTransition=function(t){this.stateManager.directTransition(t)},e.prototype.getState=function(){return this.stateManager.getState()},e.prototype.canScanFile=function(){return this.stateManager.getState()===oi.NOT_STARTED},e.prototype.isScanning=function(){return this.stateManager.getState()!==oi.NOT_STARTED},e.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===oi.SCANNING},e.prototype.isPaused=function(){return this.stateManager.getState()===oi.PAUSED},e}(),IUe=function(){function e(){}return e.create=function(){return new kUe(new NUe)},e}(),EUe=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,r){a.__proto__=r}||function(a,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(a[i]=r[i])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function a(){this.constructor=t}t.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}}(),tc=function(e){EUe(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.DEFAULT_WIDTH=300,t.DEFAULT_WIDTH_OFFSET=2,t.FILE_SCAN_MIN_HEIGHT=300,t.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,t.MIN_QR_BOX_SIZE=50,t.SHADED_LEFT=1,t.SHADED_RIGHT=2,t.SHADED_TOP=3,t.SHADED_BOTTOM=4,t.SHADED_REGION_ELEMENT_ID="qr-shaded-region",t.VERBOSE=!1,t.BORDER_SHADER_DEFAULT_COLOR="#ffffff",t.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",t}(iUe),TUe=function(){function e(t,n){this.logger=n,this.fps=tc.SCAN_DEFAULT_FPS,t?(t.fps&&(this.fps=t.fps),this.disableFlip=t.disableFlip===!0,this.qrbox=t.qrbox,this.aspectRatio=t.aspectRatio,this.videoConstraints=t.videoConstraints):this.disableFlip=tc.DEFAULT_DISABLE_FLIP}return e.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?d$.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},e.prototype.isShadedBoxEnabled=function(){return!fu(this.qrbox)},e.create=function(t,n){return new e(t,n)},e}(),D7=function(){function e(t,n){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(t))throw"HTML Element with id=".concat(t," not found");this.elementId=t,this.verbose=!1;var a;typeof n=="boolean"?this.verbose=n===!0:n&&(a=n,this.verbose=a.verbose===!0,a.experimentalFeatures),this.logger=new cUe(this.verbose),this.qrcode=new pUe(this.getSupportedFormats(n),this.getUseBarCodeDetectorIfSupported(a),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=IUe.create()}return e.prototype.start=function(t,n,a,r){var i=this;if(!t)throw"cameraIdOrConfig is required";if(!a||typeof a!="function")throw"qrCodeSuccessCallback is required and should be a function.";var o;r?o=r:o=this.verbose?this.logger.log:function(){};var c=TUe.create(n,this.logger);this.clearElement();var l=!1;c.videoConstraints&&(c.isMediaStreamConstraintsValid()?l=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var d=l,f=document.getElementById(this.elementId);f.clientWidth?f.clientWidth:tc.DEFAULT_WIDTH,f.style.position="relative",this.shouldScan=!0,this.element=f;var g=this,b=this.stateManagerProxy.startTransition(oi.SCANNING);return new Promise(function(w,C){var S=d?c.videoConstraints:g.createVideoConstraints(t);if(!S){b.cancel(),C("videoConstraints should be defined");return}var k={};(!d||c.aspectRatio)&&(k.aspectRatio=c.aspectRatio);var E={onRenderSurfaceReady:function(D,R){g.setupUi(D,R,c),g.isScanning=!0,g.foreverScan(c,a,o)}};wUe.failIfNotSupported().then(function(D){D.create(S).then(function(R){return R.render(i.element,k,E).then(function(P){g.renderedCamera=P,b.execute(),w(null)}).catch(function(P){b.cancel(),C(P)})}).catch(function(R){b.cancel(),C(lm.errorGettingUserMedia(R))})}).catch(function(D){b.cancel(),C(lm.cameraStreamingNotSupported())})})},e.prototype.pause=function(t){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(oi.PAUSED),this.showPausedState(),(fu(t)||t!==!0)&&(t=!1),t&&this.renderedCamera&&this.renderedCamera.pause()},e.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var t=this,n=function(){t.stateManagerProxy.directTransition(oi.SCANNING),t.hidePausedState()};if(!this.renderedCamera.isPaused()){n();return}this.renderedCamera.resume(function(){n()})},e.prototype.getState=function(){return this.stateManagerProxy.getState()},e.prototype.stop=function(){var t=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var n=this.stateManagerProxy.startTransition(oi.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var a=function(){if(t.element){var i=document.getElementById(tc.SHADED_REGION_ELEMENT_ID);i&&t.element.removeChild(i)}},r=this;return this.renderedCamera.close().then(function(){return r.renderedCamera=null,r.element&&(r.element.removeChild(r.canvasElement),r.canvasElement=null),a(),r.qrRegion&&(r.qrRegion=null),r.context&&(r.context=null),n.execute(),r.hidePausedState(),r.isScanning=!1,Promise.resolve()})},e.prototype.scanFile=function(t,n){return this.scanFileV2(t,n).then(function(a){return a.decodedText})},e.prototype.scanFileV2=function(t,n){var a=this;if(!t||!(t instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(fu(n)&&(n=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(r,i){a.possiblyCloseLastScanImageFile(),a.clearElement(),a.lastScanImageFile=URL.createObjectURL(t);var o=new Image;o.onload=function(){var c=o.width,l=o.height,d=document.getElementById(a.elementId),f=d.clientWidth?d.clientWidth:tc.DEFAULT_WIDTH,g=Math.max(d.clientHeight?d.clientHeight:l,tc.FILE_SCAN_MIN_HEIGHT),b=a.computeCanvasDrawConfig(c,l,f,g);if(n){var w=a.createCanvasElement(f,g,"qr-canvas-visible");w.style.display="inline-block",d.appendChild(w);var C=w.getContext("2d");if(!C)throw"Unable to get 2d context from canvas";C.canvas.width=f,C.canvas.height=g,C.drawImage(o,0,0,c,l,b.x,b.y,b.width,b.height)}var S=tc.FILE_SCAN_HIDDEN_CANVAS_PADDING,k=Math.max(o.width,b.width),E=Math.max(o.height,b.height),D=k+2*S,R=E+2*S,P=a.createCanvasElement(D,R);d.appendChild(P);var B=P.getContext("2d");if(!B)throw"Unable to get 2d context from canvas";B.canvas.width=D,B.canvas.height=R,B.drawImage(o,0,0,c,l,S,S,k,E);try{a.qrcode.decodeRobustlyAsync(P).then(function(O){r(j7.createFromQrcodeResult(O))}).catch(i)}catch(O){i("QR code parse error, error = ".concat(O))}},o.onerror=i,o.onabort=i,o.onstalled=i,o.onsuspend=i,o.src=URL.createObjectURL(t)})},e.prototype.clear=function(){this.clearElement()},e.getCameras=function(){return SUe.retrieve()},e.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},e.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},e.prototype.applyVideoConstraints=function(t){if(t){if(!d$.isMediaStreamConstraintsValid(t,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(t)},e.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},e.prototype.getSupportedFormats=function(t){var n=[is.QR_CODE,is.AZTEC,is.CODABAR,is.CODE_39,is.CODE_93,is.CODE_128,is.DATA_MATRIX,is.MAXICODE,is.ITF,is.EAN_13,is.EAN_8,is.PDF_417,is.RSS_14,is.RSS_EXPANDED,is.UPC_A,is.UPC_E,is.UPC_EAN_EXTENSION];if(!t||typeof t=="boolean"||!t.formatsToSupport)return n;if(!Array.isArray(t.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(t.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var a=[],r=0,i=t.formatsToSupport;r<i.length;r++){var o=i[r];rUe(o)?a.push(o):this.logger.warn("Invalid format: ".concat(o," passed in config, ignoring."))}if(a.length===0)throw"None of formatsToSupport match supported values.";return a},e.prototype.getUseBarCodeDetectorIfSupported=function(t){if(fu(t))return!0;if(!fu(t.useBarCodeDetectorIfSupported))return t.useBarCodeDetectorIfSupported!==!1;if(fu(t.experimentalFeatures))return!0;var n=t.experimentalFeatures;return fu(n.useBarCodeDetectorIfSupported)?!0:n.useBarCodeDetectorIfSupported!==!1},e.prototype.validateQrboxSize=function(t,n,a){var r=this,i=a.qrbox;this.validateQrboxConfig(i);var o=this.toQrdimensions(t,n,i),c=function(d){if(d<tc.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(tc.MIN_QR_BOX_SIZE,"px.")},l=function(d){return d>t&&(r.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),d=t),d};c(o.width),c(o.height),o.width=l(o.width)},e.prototype.validateQrboxConfig=function(t){if(typeof t!="number"&&typeof t!="function"&&(t.width===void 0||t.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},e.prototype.toQrdimensions=function(t,n,a){if(typeof a=="number")return{width:a,height:a};if(typeof a=="function")try{return a(t,n)}catch(r){throw new Error("qrbox config was passed as a function but it failed with unknown error"+r)}return a},e.prototype.setupUi=function(t,n,a){a.isShadedBoxEnabled()&&this.validateQrboxSize(t,n,a);var r=fu(a.qrbox)?{width:t,height:n}:a.qrbox;this.validateQrboxConfig(r);var i=this.toQrdimensions(t,n,r);i.height>n&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var o=a.isShadedBoxEnabled()&&i.height<=n,c={x:0,y:0,width:t,height:n},l=o?this.getShadedRegionBounds(t,n,i):c,d=this.createCanvasElement(l.width,l.height),f={willReadFrequently:!0},g=d.getContext("2d",f);g.canvas.width=l.width,g.canvas.height=l.height,this.element.append(d),o&&this.possiblyInsertShadingElement(this.element,t,n,i),this.createScannerPausedUiElement(this.element),this.qrRegion=l,this.context=g,this.canvasElement=d},e.prototype.createScannerPausedUiElement=function(t){var n=document.createElement("div");n.innerText=lm.scannerPaused(),n.style.display="none",n.style.position="absolute",n.style.top="0px",n.style.zIndex="1",n.style.background="rgba(9, 9, 9, 0.46)",n.style.color="#FFECEC",n.style.textAlign="center",n.style.width="100%",t.appendChild(n),this.scannerPausedUiElement=n},e.prototype.scanContext=function(t,n){var a=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(r){return t(r.text,j7.createFromQrcodeResult(r)),a.possiblyUpdateShaders(!0),!0}).catch(function(r){a.possiblyUpdateShaders(!1);var i=lm.codeParseError(r);return n(i,oUe.createFrom(i)),!1})},e.prototype.foreverScan=function(t,n,a){var r=this;if(this.shouldScan&&this.renderedCamera){var i=this.renderedCamera.getSurface(),o=i.videoWidth/i.clientWidth,c=i.videoHeight/i.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var l=this.qrRegion.width*o,d=this.qrRegion.height*c,f=this.qrRegion.x*o,g=this.qrRegion.y*c;this.context.drawImage(i,f,g,l,d,0,0,this.qrRegion.width,this.qrRegion.height);var b=function(){r.foreverScanTimeout=setTimeout(function(){r.foreverScan(t,n,a)},r.getTimeoutFps(t.fps))};this.scanContext(n,a).then(function(w){!w&&t.disableFlip!==!0?(r.context.translate(r.context.canvas.width,0),r.context.scale(-1,1),r.scanContext(n,a).finally(function(){b()})):b()}).catch(function(w){r.logger.logError("Error happend while scanning context",w),b()})}},e.prototype.createVideoConstraints=function(t){if(typeof t=="string")return{deviceId:{exact:t}};if(typeof t=="object"){var n="facingMode",a="deviceId",r={user:!0,environment:!0},i="exact",o=function(C){if(C in r)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(C,"'")},c=Object.keys(t);if(c.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(c.length," keys");var l=Object.keys(t)[0];if(l!==n&&l!==a)throw"Only '".concat(n,"' and '").concat(a,"' ")+" are supported for 'cameraIdOrConfig'";if(l===n){var d=t.facingMode;if(typeof d=="string"){if(o(d))return{facingMode:d}}else if(typeof d=="object")if(i in d){if(o(d["".concat(i)]))return{facingMode:{exact:d["".concat(i)]}}}else throw"'facingMode' should be string or object with"+" ".concat(i," as key.");else{var f=typeof d;throw"Invalid type of 'facingMode' = ".concat(f)}}else{var g=t.deviceId;if(typeof g=="string")return{deviceId:g};if(typeof g=="object"){if(i in g)return{deviceId:{exact:g["".concat(i)]}};throw"'deviceId' should be string or object with"+" ".concat(i," as key.")}else{var b=typeof g;throw"Invalid type of 'deviceId' = ".concat(b)}}}var w=typeof t;throw"Invalid type of 'cameraIdOrConfig' = ".concat(w)},e.prototype.computeCanvasDrawConfig=function(t,n,a,r){if(t<=a&&n<=r){var i=(a-t)/2,o=(r-n)/2;return{x:i,y:o,width:t,height:n}}else{var c=t,l=n;return t>a&&(n=a/t*n,t=a),n>r&&(t=r/n*t,n=r),this.logger.log("Image downsampled from "+"".concat(c,"X").concat(l)+" to ".concat(t,"X").concat(n,".")),this.computeCanvasDrawConfig(t,n,a,r)}},e.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var t=document.getElementById(this.elementId);t&&(t.innerHTML="")},e.prototype.possiblyUpdateShaders=function(t){this.qrMatch!==t&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(n){n.style.backgroundColor=t?tc.BORDER_SHADER_MATCH_COLOR:tc.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=t)},e.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},e.prototype.createCanvasElement=function(t,n,a){var r=t,i=n,o=document.createElement("canvas");return o.style.width="".concat(r,"px"),o.style.height="".concat(i,"px"),o.style.display="none",o.id=fu(a)?"qr-canvas":a,o},e.prototype.getShadedRegionBounds=function(t,n,a){if(a.width>t||a.height>n)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(t-a.width)/2,y:(n-a.height)/2,width:a.width,height:a.height}},e.prototype.possiblyInsertShadingElement=function(t,n,a,r){if(!(n-r.width<1||a-r.height<1)){var i=document.createElement("div");i.style.position="absolute";var o=(n-r.width)/2,c=(a-r.height)/2;if(i.style.borderLeft="".concat(o,"px solid rgba(0, 0, 0, 0.48)"),i.style.borderRight="".concat(o,"px solid rgba(0, 0, 0, 0.48)"),i.style.borderTop="".concat(c,"px solid rgba(0, 0, 0, 0.48)"),i.style.borderBottom="".concat(c,"px solid rgba(0, 0, 0, 0.48)"),i.style.boxSizing="border-box",i.style.top="0px",i.style.bottom="0px",i.style.left="0px",i.style.right="0px",i.id="".concat(tc.SHADED_REGION_ELEMENT_ID),n-r.width<11||a-r.height<11)this.hasBorderShaders=!1;else{var l=5,d=40;this.insertShaderBorders(i,d,l,-l,null,0,!0),this.insertShaderBorders(i,d,l,-l,null,0,!1),this.insertShaderBorders(i,d,l,null,-l,0,!0),this.insertShaderBorders(i,d,l,null,-l,0,!1),this.insertShaderBorders(i,l,d+l,-l,null,-l,!0),this.insertShaderBorders(i,l,d+l,null,-l,-l,!0),this.insertShaderBorders(i,l,d+l,-l,null,-l,!1),this.insertShaderBorders(i,l,d+l,null,-l,-l,!1),this.hasBorderShaders=!0}t.append(i)}},e.prototype.insertShaderBorders=function(t,n,a,r,i,o,c){var l=document.createElement("div");l.style.position="absolute",l.style.backgroundColor=tc.BORDER_SHADER_DEFAULT_COLOR,l.style.width="".concat(n,"px"),l.style.height="".concat(a,"px"),r!==null&&(l.style.top="".concat(r,"px")),i!==null&&(l.style.bottom="".concat(i,"px")),c?l.style.left="".concat(o,"px"):l.style.right="".concat(o,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(l),t.appendChild(l)},e.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},e.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},e.prototype.getTimeoutFps=function(t){return 1e3/t},e}(),A7;(function(e){e[e.STATUS_DEFAULT=0]="STATUS_DEFAULT",e[e.STATUS_SUCCESS=1]="STATUS_SUCCESS",e[e.STATUS_WARNING=2]="STATUS_WARNING",e[e.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(A7||(A7={}));const DUe="_overlay_iwsem_1",AUe="_modal_iwsem_16",MUe="_header_iwsem_44",RUe="_content_iwsem_73",BUe="_inputSection_iwsem_77",OUe="_scanButton_iwsem_97",LUe="_error_iwsem_118",$Ue="_customerInfo_iwsem_126",PUe="_customerHeader_iwsem_132",FUe="_clearButton_iwsem_145",HUe="_balanceSection_iwsem_159",qUe="_balanceCard_iwsem_165",VUe="_balanceLabel_iwsem_182",zUe="_balanceValue_iwsem_187",UUe="_tierCard_iwsem_193",WUe="_tierLabel_iwsem_203",YUe="_tierValue_iwsem_209",GUe="_tierPercent_iwsem_216",QUe="_redemptionSection_iwsem_221",XUe="_redemptionType_iwsem_233",KUe="_redemptionInput_iwsem_247",ZUe="_transactions_iwsem_263",JUe="_transactionsList_iwsem_275",eWe="_transactionItem_iwsem_281",tWe="_transactionType_iwsem_291",nWe="_transactionAmount_iwsem_296",sWe="_positive_iwsem_301",aWe="_negative_iwsem_305",rWe="_transactionDate_iwsem_309",iWe="_footer_iwsem_314",oWe="_applyButton_iwsem_321",cWe="_modeToggle_iwsem_338",lWe="_modeButton_iwsem_347",uWe="_active_iwsem_369",dWe="_cameraSection_iwsem_380",hWe="_qrReader_iwsem_399",fWe="_scanningOverlay_iwsem_423",mWe="_scanningText_iwsem_437",pWe="_cameraPlaceholder_iwsem_453",gWe="_permissionError_iwsem_477",_We="_scanningHint_iwsem_483",vWe="_cameraInfo_iwsem_501",xWe="_cameraInfoText_iwsem_507",bWe="_switchCameraButton_iwsem_512",yWe="_switchCameraButtonText_iwsem_545",$s={overlay:DUe,modal:AUe,header:MUe,content:RUe,inputSection:BUe,scanButton:OUe,error:LUe,customerInfo:$Ue,customerHeader:PUe,clearButton:FUe,balanceSection:HUe,balanceCard:qUe,balanceLabel:VUe,balanceValue:zUe,tierCard:UUe,tierLabel:WUe,tierValue:YUe,tierPercent:GUe,redemptionSection:QUe,redemptionType:XUe,redemptionInput:KUe,transactions:ZUe,transactionsList:JUe,transactionItem:eWe,transactionType:tWe,transactionAmount:nWe,positive:sWe,negative:aWe,transactionDate:rWe,footer:iWe,applyButton:oWe,modeToggle:cWe,modeButton:lWe,active:uWe,cameraSection:dWe,qrReader:hWe,scanningOverlay:fWe,scanningText:mWe,cameraPlaceholder:pWe,permissionError:gWe,scanningHint:_We,cameraInfo:vWe,cameraInfoText:xWe,switchCameraButton:bWe,switchCameraButtonText:yWe},f$=({locationId:e,onCustomerSelected:t,onClose:n})=>{var oe;const{business_slug:a}=ha(),r=ef(768),[i,o]=_.useState(""),[c,l]=_.useState(!1),[d,f]=_.useState(null),[g,b]=_.useState(null),[w,C]=_.useState(0),[S,k]=_.useState(0),[E,D]=_.useState("percent"),[R,P]=_.useState(!0),[B,O]=_.useState(!1),[$,U]=_.useState(null),[F,H]=_.useState("environment"),[se,K]=_.useState([]),[te,J]=_.useState(0),z=_.useRef(null),V=_.useRef(null),M=_.useRef(null),ee=_.useRef(!1),Z=_.useRef(!0);_.useEffect(()=>(Z.current=!0,()=>{Z.current=!1}),[]);const A=async()=>{if(!i.trim()){b(" QR-");return}await Q(i)},G=()=>{o(""),f(null),b(null),C(0),k(0),M.current=null,ee.current=!1},Q=nt.useCallback(async me=>{var Ce,Ne,Ee,ve,Se,fe;if(!me||!me.trim()){b("QR-  ");return}if(!(M.current===me&&ee.current)&&!ee.current)try{ee.current=!0,M.current=me,l(!0),b(null);const de=await Be.post(`api/business/${a}/scan-qr/`,{qr_token:me.trim(),location_id:e});if(f(de.data),V.current&&B)try{await V.current.stop(),O(!1)}catch{}t&&t(de.data)}catch(de){const pe=((Ne=(Ce=de.response)==null?void 0:Ce.data)==null?void 0:Ne.error)||((ve=(Ee=de.response)==null?void 0:Ee.data)==null?void 0:ve.detail)||((fe=(Se=de.response)==null?void 0:Se.data)==null?void 0:fe.message)||de.message||"   QR-";b(pe),f(null),M.current=null}finally{l(!1),ee.current=!1}},[a,e,t,B]),Y=nt.useCallback(async()=>{if(V.current){try{await V.current.stop(),V.current.clear()}catch{}V.current=null}O(!1)},[]),ae=nt.useCallback(async(me=F,Ce=te)=>{if(!(!z.current||V.current))try{try{(await navigator.mediaDevices.getUserMedia({video:{facingMode:me}})).getTracks().forEach(de=>de.stop()),U("granted")}catch{if(Z.current){U("denied"),b("   .       ."),P(!1);return}}const Ne=new D7(z.current.id);V.current=Ne;const Ee=r?Math.min(window.innerWidth*.9,window.innerHeight*.5,350):300,ve={fps:20,qrbox:{width:Ee,height:Ee},aspectRatio:1,disableFlip:!1};let Se;se.length>1&&Ce<se.length?Se={deviceId:{exact:se[Ce].id}}:se.length===1?Se={deviceId:{exact:se[0].id}}:Se={facingMode:me},await Ne.start(Se,ve,(fe,de)=>{!fe||!fe.trim()||Z.current&&(o(fe),Z.current&&Q(fe))},fe=>{}),Z.current&&(O(!0),b(null))}catch(Ne){if(Z.current){let Ee="   .";Ne.name==="NotAllowedError"||Ne.name==="PermissionDeniedError"?(Ee="   .     .",U("denied")):Ne.name==="NotFoundError"||Ne.name==="DevicesNotFoundError"?Ee="  . ,    .":(Ne.name==="NotReadableError"||Ne.name==="TrackStartError")&&(Ee="    ."),b(Ee),P(!1),O(!1)}}},[F,te,r,se,Q]),ne=nt.useCallback(async()=>{if(!B)return;await Y();const me=F==="environment"?"user":"environment";H(me);let Ce=te;se.length>1&&(Ce=(te+1)%se.length,J(Ce)),setTimeout(()=>{Z.current&&ae(me,Ce)},400)},[B,r,Y,F,te,se,ae]);_.useEffect(()=>{(async()=>{try{const Ce=await D7.getCameras();K(Ce)}catch(Ce){console.error("   :",Ce)}})()},[]),_.useEffect(()=>{if(!R||d){Y();return}if(B)return;if(!z.current){const Ce=setTimeout(()=>{},200);return()=>clearTimeout(Ce)}const me=setTimeout(()=>{z.current&&!V.current&&!B&&R&&!d&&ae()},r?300:100);return()=>{clearTimeout(me)}},[R,d,B,r,ae]);const re=nt.useCallback(async()=>{await Y(),n()},[Y,n]);return s.jsx("div",{className:$s.overlay,onClick:re,children:s.jsxs("div",{className:$s.modal,onClick:me=>me.stopPropagation(),children:[s.jsxs("div",{className:$s.header,children:[s.jsxs("h3",{children:[s.jsx(fm,{}),"  QR-"]}),s.jsx(Li,{onClick:re})]}),s.jsx("div",{className:$s.content,children:d?s.jsxs("div",{className:$s.customerInfo,children:[s.jsxs("div",{className:$s.customerHeader,children:[s.jsxs("h4",{children:[": ",d.user.full_name||d.user.username]}),s.jsx("button",{onClick:G,className:$s.clearButton,children:""})]}),s.jsxs("div",{className:$s.balanceSection,children:[s.jsxs("div",{className:$s.balanceCard,children:[s.jsx(vi,{}),s.jsxs("div",{children:[s.jsx("div",{className:$s.balanceLabel,children:" "}),s.jsxs("div",{className:$s.balanceValue,children:[parseFloat(d.balance).toFixed(2)," "]})]})]}),d.tier&&s.jsxs("div",{className:$s.tierCard,children:[s.jsx("div",{className:$s.tierLabel,children:":"}),s.jsx("div",{className:$s.tierValue,children:d.tier.name}),s.jsxs("div",{className:$s.tierPercent,children:[": ",d.tier.bonus_percent,"%"]})]})]}),parseFloat(d.balance)>0&&s.jsxs("div",{className:$s.redemptionSection,children:[s.jsx("h5",{children:" :"}),s.jsxs("div",{className:$s.redemptionType,children:[s.jsxs("label",{children:[s.jsx("input",{type:"radio",value:"percent",checked:E==="percent",onChange:me=>D(me.target.value)}),"  "]}),s.jsxs("label",{children:[s.jsx("input",{type:"radio",value:"amount",checked:E==="amount",onChange:me=>D(me.target.value)})," "]})]}),E==="percent"?s.jsxs("div",{className:$s.redemptionInput,children:[s.jsx(iS,{}),s.jsx("input",{type:"number",min:"0",max:"100",step:"1",value:w,onChange:me=>C(me.target.value),placeholder:""}),s.jsx("span",{children:"%"})]}):s.jsxs("div",{className:$s.redemptionInput,children:[s.jsx(aS,{}),s.jsx("input",{type:"number",min:"0",max:d.balance,step:"0.01",value:S,onChange:me=>k(me.target.value),placeholder:""}),s.jsx("span",{children:""})]})]}),d.recent_transactions&&d.recent_transactions.length>0&&s.jsxs("div",{className:$s.transactions,children:[s.jsx("h5",{children:" :"}),s.jsx("div",{className:$s.transactionsList,children:d.recent_transactions.slice(0,5).map(me=>s.jsxs("div",{className:$s.transactionItem,children:[s.jsx("div",{className:$s.transactionType,children:me.type==="accrual"?"":""}),s.jsxs("div",{className:`${$s.transactionAmount} ${me.amount>=0?$s.positive:$s.negative}`,children:[me.amount>=0?"+":"",parseFloat(me.amount).toFixed(2)]}),s.jsx("div",{className:$s.transactionDate,children:new Date(me.created_at).toLocaleString("ru-RU")})]},me.id))})]})]}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:$s.modeToggle,children:[s.jsxs("button",{className:`${$s.modeButton} ${R?$s.active:""}`,onClick:()=>P(!0),disabled:c,children:[s.jsx(VI,{})," "]}),s.jsxs("button",{className:`${$s.modeButton} ${R?"":$s.active}`,onClick:()=>P(!1),disabled:c,children:[s.jsx(lQ,{}),"  "]})]}),R?s.jsxs("div",{className:$s.cameraSection,children:[s.jsx("div",{id:"qr-reader",ref:z,className:$s.qrReader}),c&&s.jsx("div",{className:$s.scanningOverlay,children:s.jsx("div",{className:$s.scanningText,children:" QR-..."})}),!B&&!c&&s.jsxs("div",{className:$s.cameraPlaceholder,children:[s.jsx(VI,{}),s.jsx("p",{children:" ..."}),$==="denied"&&s.jsx("p",{className:$s.permissionError,children:"   .     ."})]}),B&&!c&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:$s.scanningHint,children:[s.jsx("p",{children:"   QR-"}),se.length>0&&s.jsxs("div",{className:$s.cameraInfo,children:[s.jsxs("p",{className:$s.cameraInfoText,children:[": ",((oe=se[te])==null?void 0:oe.label)||" "]}),s.jsx("p",{className:$s.cameraInfoText,children:F==="environment"?" ":" "})]})]}),se.length>1&&s.jsxs("button",{className:$s.switchCameraButton,onClick:ne,title:F==="environment"?"   ":"   ",children:[s.jsx(Og,{}),s.jsx("span",{className:$s.switchCameraButtonText,children:F==="environment"?" ":" "})]})]})]}):s.jsxs("div",{className:$s.inputSection,children:[s.jsx("label",{children:"QR-:"}),s.jsx("input",{type:"text",value:i,onChange:me=>o(me.target.value),placeholder:" QR-",onKeyPress:me=>me.key==="Enter"&&A(),autoFocus:!0}),s.jsx("button",{onClick:A,disabled:c||!i.trim(),className:$s.scanButton,children:c?"...":""})]}),g&&s.jsx("div",{className:$s.error,children:g})]})}),d&&s.jsx("div",{className:$s.footer,children:s.jsx("button",{onClick:()=>{t&&t({...d,bonus_redemption_percent:E==="percent"?w:null,bonus_redemption_amount:E==="amount"?S:null}),re()},className:$s.applyButton,children:""})})]})})},M7=({options:e=[],value:t,onChange:n,disabled:a,placeholder:r="    ...",icon:i,label:o,getOptionLabel:c,getOptionSubLabel:l,required:d=!1})=>{const[f,g]=_.useState(!1),[b,w]=_.useState(""),[C,S]=_.useState(0),k=_.useRef(null),E=e.find(O=>String(O.id)===String(t))||null,D=b.trim().toLowerCase(),R=D?e.filter(O=>c(O).toLowerCase().includes(D)||l&&l(O).toLowerCase().includes(D)):e;_.useEffect(()=>{if(!f)return;const O=$=>{k.current&&!k.current.contains($.target)&&(g(!1),w(""))};return document.addEventListener("mousedown",O),()=>document.removeEventListener("mousedown",O)},[f]),_.useEffect(()=>{f&&S(0)},[f,D]);const P=O=>{if(!f&&(O.key==="ArrowDown"||O.key==="Enter")){g(!0);return}if(f)if(O.key==="ArrowDown")O.preventDefault(),S($=>Math.min($+1,R.length-1));else if(O.key==="ArrowUp")O.preventDefault(),S($=>Math.max($-1,0));else if(O.key==="Enter"){O.preventDefault();const $=R[C];$&&(n($.id),w(""),g(!1))}else O.key==="Escape"&&(O.preventDefault(),g(!1),w(""))},B=O=>{n(O.id),w(""),g(!1)};return s.jsxs("div",{className:ze.searchableSelectWrapper,children:[o&&s.jsxs("label",{className:ze.searchableLabel,children:[i&&s.jsx(i,{})," ",o,d&&s.jsx("span",{className:ze.requiredMark,children:" *"})]}),s.jsxs("div",{className:ze.searchableSelect,ref:k,children:[s.jsxs("div",{className:`${ze.searchableControl} ${a?ze.disabled:""}`,onClick:()=>!a&&g(O=>!O),onKeyDown:P,tabIndex:a?-1:0,children:[s.jsx("div",{className:ze.searchableValue,children:E?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:ze.selectedName,children:c(E)}),l&&s.jsx("div",{className:ze.selectedSubLabel,children:l(E)})]}):s.jsx("div",{className:ze.searchablePlaceholder,children:r})}),s.jsx("div",{className:ze.searchableCaret})]}),f&&s.jsxs("div",{className:ze.searchableDropdown,onKeyDown:P,children:[s.jsx("input",{autoFocus:!0,className:ze.searchableSearch,value:b,onChange:O=>w(O.target.value),placeholder:"..."}),s.jsx("div",{className:ze.searchableList,role:"listbox",tabIndex:0,children:R.length===0?s.jsx("div",{className:ze.searchableEmpty,children:"  "}):R.map((O,$)=>s.jsxs("div",{role:"option","aria-selected":String(O.id)===String(t),className:`${ze.searchableItem} ${$===C?ze.searchableItemActive:""}`,onMouseEnter:()=>S($),onClick:()=>B(O),children:[s.jsx("div",{className:ze.searchableItemName,children:c(O)}),l&&s.jsx("div",{className:ze.searchableItemSubLabel,children:l(O)})]},O.id))})]})]})]})},wWe=()=>{var it,Le;const{business_slug:e}=ha(),t=Is(),{getFileUrl:n}=Er(),[a,r]=_.useState([]),[i,o]=_.useState([]),[c,l]=_.useState(null),[d,f]=_.useState(null),[g,b]=_.useState(""),[w,C]=_.useState(""),[S,k]=_.useState(""),[E,D]=_.useState(!0),[R,P]=_.useState(!1),[B,O]=_.useState("cash"),[$,U]=_.useState(""),[F,H]=_.useState(""),[se,K]=_.useState(!1),[te,J]=_.useState(null),[z,V]=_.useState(null),[M,ee]=_.useState(null),[Z,A]=_.useState("tier"),[G,Q]=_.useState(0),[Y,ae]=_.useState(0),[ne,re]=_.useState("percent"),[oe,me]=_.useState(!1),[Ce,Ne]=_.useState([]),[Ee,ve]=_.useState([]),[Se,fe]=_.useState(!0),[de,pe]=_.useState(null),[ce,Re]=_.useState(0),[Ae,ie]=_.useState([]),[ge,be]=_.useState(!1),[Fe,je]=_.useState(1),[qe,tt]=_.useState("percent"),[he,Ze]=_.useState(0),[Pe,bt]=_.useState(0),[Ge,ue]=_.useState("percent"),[De,xe]=_.useState(!1),[Ye,at]=_.useState(null),[lt,Mt]=_.useState(1),[pn,Qn]=_.useState("percent"),[yt,ln]=_.useState(0),[fn,jn]=_.useState(!1),[dt,It]=_.useState(!1),[st,Rt]=_.useState(null),[Lt,on]=_.useState(1),[vn,ss]=_.useState(!1),[hs,xs]=_.useState(!1),fs=_.useRef(null),Hn=_.useRef(null),Xt=_.useRef(!1),[ia,Ca]=_.useState([]),[Vn,Na]=_.useState(null),[Qs,ta]=_.useState(!0),[vs,za]=_.useState({}),[ur,Us]=_.useState(null),[Ms,Xs]=_.useState(new Set),Cr=_.useCallback(async()=>{try{ta(!0);const Qe=await Be.get(`/api/business/${e}/locations/`),Tt=Array.isArray(Qe.data)?Qe.data:Qe.data.locations||[];if(Ca(Tt),Tt.length>0){const Wt=Tt.find(zt=>zt.is_primary);Na((Wt==null?void 0:Wt.id)||Tt[0].id)}ta(!1)}catch(Qe){console.error("Failed to fetch locations:",Qe),pe("   "),ta(!1)}},[e]),Ua=_.useCallback(async()=>{if(Vn)try{const Qe=await Be.get(`api/business/${e}/bonus-settings/?location=${Vn}`);V(Qe.data)}catch(Qe){console.error("Failed to fetch bonus settings:",Qe),V(null)}},[e,Vn]),Qa=_.useCallback(async()=>{var Qe,Tt;if(Vn){if(Xt.current&&vn&&!w){Xt.current=!1;return}Xt.current=!1;try{fe(!0),pe(null);const Wt={location:String(Vn)};w&&(Wt.search=w),S&&(Wt.category=S),E&&(Wt.in_stock="true"),console.log("Fetching products with params:",Wt);const zt=await Be.get(`/api/business/${e}/sales-products/`,{params:Wt});console.log("Products response:",zt.data),Ne(zt.data.products||[]),fe(!1),vn&&(Xt.current=!0,b(""),C(""),xs(!1),setTimeout(()=>{fs.current&&fs.current.focus()},100))}catch(Wt){((Tt=(Qe=Wt.response)==null?void 0:Qe.data)==null?void 0:Tt.error)==="location_required"?pe(",  "):pe(Wt.message),fe(!1),vn&&(Xt.current=!0,b(""),C(""),xs(!1),setTimeout(()=>{fs.current&&fs.current.focus()},100))}}},[e,w,S,Vn,vn,E]),qt=async()=>{Xt.current=!1,C(g),vn&&xs(!0)},Zn=Qe=>{const Tt=Qe.target.value,Wt=g.length;if(vn&&Wt>0&&Tt.length<Wt&&Tt.length<5&&(C(""),xs(!1),Hn.current&&(clearTimeout(Hn.current),Hn.current=null)),b(Tt),vn&&Tt.length>=13){Hn.current&&clearTimeout(Hn.current);const zt=Tt;Hn.current=setTimeout(()=>{fs.current&&fs.current.value===zt&&zt.length>=13&&(C(zt),xs(!0))},150)}},Ts=Qe=>{Qe.key==="Enter"&&(Qe.preventDefault(),g.trim()&&qt())},rr=_.useCallback(async()=>{try{const Qe=await Be.get(`/api/business/${e}/categories/`);ve(Qe.data)}catch(Qe){console.error("Failed to fetch categories:",Qe)}},[e]),Ma=Qe=>{let Tt=Qe.originalPrice;return Qe.hasOriginalDiscount&&(Tt=Tt*(1-Qe.discount/100)),Qe.itemDiscountPercent>0?Tt=Tt*(1-Qe.itemDiscountPercent/100):Qe.itemDiscountAmount>0&&(Tt=Tt-Qe.itemDiscountAmount),Math.round(Tt)},js=_.useCallback(async()=>{try{const Qe=await Be.get("/api/business/payment-methods/");ie(Qe.data),Qe.data.length>0&&O(Qe.data[0].code)}catch(Qe){console.error("Failed to fetch payment methods:",Qe)}},[]);_.useEffect(()=>{Cr(),rr(),js()},[Cr,rr,js]),_.useEffect(()=>{Vn?(Xt.current=!1,Qa()):Ne([])},[Vn,w,S,E,Qa]),_.useEffect(()=>{Ua()},[Ua]),_.useEffect(()=>{vn?(Xt.current=!0,b(""),C(""),xs(!1),setTimeout(()=>{fs.current&&fs.current.focus()},100)):(Hn.current&&(clearTimeout(Hn.current),Hn.current=null),xs(!1),Xt.current=!1)},[vn]);const Ds=(Qe,Tt,Wt=1)=>{const zt=Wt===1?r:o,Xe=Tt.available_quantity_in_location??0;if(Xe<=0){alert("    ");return}if(!Tt.price&&Tt.price!==0){alert("      ");return}zt(et=>{var gn,Xn;const Je=et.find(Gt=>Gt.variantId===Tt.id&&Gt.productId===Qe.id),ot=Qe.unit_display||".",Ut=ot===".",Ft=Ut?1:.1,In=Ut?1:.1;if(Je){const Gt=Je.quantity+In;if(Gt<=Xe){const Dn=Ut?Math.floor(Gt):parseFloat(Gt.toFixed(3));return et.map(hn=>hn.variantId===Tt.id&&hn.productId===Qe.id?{...hn,quantity:Dn,unitDisplay:ot}:hn)}else return alert("    "),et}else{const Gt=Tt.discount>0,Dn=parseFloat(Tt.price),hn=Gt?Math.round(Dn*(1-Tt.discount/100)):Dn,as=ia.find(Qt=>Qt.id===Vn);return za(Qt=>({...Qt,[Tt.id]:!0})),[...et,{productId:Qe.id,productName:Qe.name,variantId:Tt.id,sku:Tt.sku,attributes:Tt.attributes,price:hn,originalPrice:Dn,discount:Tt.discount||0,quantity:Ft,stock:Xe,unitDisplay:ot,image:((gn=Qe.images.find(Qt=>Qt.is_main))==null?void 0:gn.image)||((Xn=Qe.images[0])==null?void 0:Xn.image),itemDiscountAmount:0,itemDiscountPercent:0,location:Vn,locationName:(as==null?void 0:as.name)||" ",hasOriginalDiscount:Gt,useFifo:!0,batchId:null,batchInfo:null}]}})},cs=Qe=>Qe.reduce((Tt,Wt)=>Tt+Wt.originalPrice*Wt.quantity,0),qa=(Qe,Tt=he,Wt=qe)=>{let Xe=Qe.reduce((et,Je)=>et+Ma(Je)*Je.quantity,0);return Wt==="percent"&&Tt>0?Xe=Xe*(1-Tt/100):Wt==="amount"&&Tt>0&&(Xe=Math.max(0,Xe-Tt)),Math.round(Xe)},ls=(Qe,Tt=he,Wt=qe)=>{let zt=qa(Qe,Tt,Wt);if(te&&ne&&oe){let Xe=0;const et=parseFloat(te.balance||0);ne==="percent"&&G>0?Xe=et*G/100:ne==="amount"&&Y>0&&(Xe=Y),Xe=Math.min(Xe,zt),Xe=Math.round(Xe),zt=zt-Xe}return Math.max(0,Math.round(zt))},sa=(Qe,Tt=he,Wt=qe)=>cs(Qe)-qa(Qe,Tt,Wt),Gs=(Qe,Tt=he,Wt=qe)=>{var Je;if(!te||!z||!z.is_enabled)return null;const zt=qa(Qe,Tt,Wt);if(zt<parseFloat(z.min_purchase_amount||0))return null;let Xe=0;z.is_fixed_percent&&M===null?Xe=parseFloat(z.bonus_percent||0):M!==null?Xe=parseFloat(M):Z==="tier"&&((Je=te.tier)!=null&&Je.bonus_percent)?Xe=parseFloat(te.tier.bonus_percent):Xe=parseFloat(z.bonus_percent||0);let et=zt*Xe/100;if(z.max_bonus_percent){const ot=zt*parseFloat(z.max_bonus_percent)/100;et=Math.min(et,ot)}return z.max_bonus_amount&&(et=Math.min(et,parseFloat(z.max_bonus_amount))),Math.max(0,Math.round(et))},Ks=async()=>{var Xe,et,Je,ot,Ut,Ft,In;if(dt)return;const Qe=Lt===1?a:i,Tt=Lt===1?he:Pe,Wt=Lt===1?qe:Ge;if(Qe.filter(gn=>gn.useFifo===!1&&!gn.batchId).length>0){alert("    FIFO   ");return}if(te){const gn=parseFloat(te.balance||0);if(ne==="amount"&&Y>gn){alert(`   . : ${gn.toFixed(2)} `);return}if(ne==="percent"&&G>0&&gn*G/100>gn){alert(`   . : ${gn.toFixed(2)} `);return}}It(!0);try{const gn={items:Qe.map(Gt=>{const hn=(Gt.unitDisplay||".")===".";let as=Gt.quantity;hn?as=Math.floor(Gt.quantity):as=parseFloat(Gt.quantity.toFixed(3));const Qt={variant:Gt.variantId,location:Gt.location,quantity:as,discount_amount:Gt.itemDiscountAmount||0,discount_percent:Gt.itemDiscountPercent||0,use_fifo:Gt.useFifo!==!1};return Gt.useFifo===!1&&Gt.batchId&&(Qt.batch_id=Gt.batchId),Qt}),payment_method:B,customer:((Xe=te==null?void 0:te.user)==null?void 0:Xe.id)||null,customer_name:$||((et=te==null?void 0:te.user)==null?void 0:et.full_name)||null,customer_phone:F||null,discount_amount:Wt==="amount"?Tt:0,discount_percent:Wt==="percent"?Tt:0,bonus_redemption_percent:ne==="percent"&&G>0?G:null,bonus_redemption_amount:ne==="amount"&&Y>0?Y:null,bonus_percent_override:M||null,bonus_accrual_mode:Z};console.log("  :",gn);const Xn=await Be.post(`/api/business/${e}/create-receipt/`,gn);console.log(" :",Xn.data),console.log("receipt_preview_image:",(Je=Xn.data)==null?void 0:Je.receipt_preview_image),console.log("receipt_pdf_file:",(ot=Xn.data)==null?void 0:ot.receipt_pdf_file),Rt(Xn.data),jn(!0),await Qa(),Lt===1?(r([]),Ze(0)):(o([]),bt(0)),za({}),J(null),ee(null),A("tier"),Q(0),ae(0),re("percent"),me(!1),U(""),H("")}catch(gn){console.error("Sale error:",((Ut=gn.response)==null?void 0:Ut.data)||gn.message),alert("   : "+(((In=(Ft=gn.response)==null?void 0:Ft.data)==null?void 0:In.message)||gn.message))}finally{It(!1)}},vr=()=>{Fe===1||(bt(he),ue(qe)),be(!1)},Ws=(Qe,Tt)=>{Tt(Wt=>Wt.map(zt=>zt.variantId===Ye?{...zt,itemDiscountAmount:pn==="amount"?parseFloat(yt):0,itemDiscountPercent:pn==="percent"?parseFloat(yt):0,price:Ma(zt)}:zt)),xe(!1),ln(0)},Ja=(Qe,Tt,Wt)=>{const zt=Wt===1?he:Pe,Xe=Wt===1?qe:Ge,et=cs(Qe),Je=qa(Qe,zt,Xe),ot=ls(Qe,zt,Xe);return s.jsxs("div",{className:ze.cartFooter,children:[s.jsxs("div",{className:ze.cartTotals,children:[s.jsxs("div",{className:ze.totalRow,children:[s.jsx("span",{children:"  :"}),s.jsxs("span",{children:[et.toLocaleString()," "]})]}),Qe.some(Ut=>Ut.hasOriginalDiscount)&&s.jsxs("div",{className:ze.totalRow,children:[s.jsx("span",{children:" :"}),s.jsxs("span",{className:ze.discountValue,children:["-",Qe.reduce((Ut,Ft)=>Ft.hasOriginalDiscount?Ut+(Ft.originalPrice-Math.round(Ft.originalPrice*(1-Ft.discount/100)))*Ft.quantity:Ut,0).toLocaleString()," "]})]}),Qe.some(Ut=>Ut.itemDiscountPercent>0||Ut.itemDiscountAmount>0)&&s.jsxs("div",{className:ze.totalRow,children:[s.jsx("span",{children:" :"}),s.jsxs("span",{className:ze.discountValue,children:["-",Qe.reduce((Ut,Ft)=>{const In=Ft.hasOriginalDiscount?Math.round(Ft.originalPrice*(1-Ft.discount/100)):Ft.originalPrice,gn=Ma(Ft);return Ut+(In-gn)*Ft.quantity},0).toLocaleString()," "]})]}),zt>0&&s.jsxs("div",{className:ze.totalRow,children:[s.jsx("span",{children:"   :"}),s.jsxs("span",{className:ze.discountValue,children:["-",(Xe==="percent"?(et-Qe.reduce((Ut,Ft)=>{Ft.hasOriginalDiscount&&(Ut+=(Ft.originalPrice-Math.round(Ft.originalPrice*(1-Ft.discount/100)))*Ft.quantity);const In=Ft.hasOriginalDiscount?Math.round(Ft.originalPrice*(1-Ft.discount/100)):Ft.originalPrice,gn=Ma(Ft);return Ut+=(In-gn)*Ft.quantity,Ut},0))*zt/100:zt).toLocaleString()," "]})]}),s.jsxs("div",{className:`${ze.totalRow} ${ze.grandTotal}`,children:[s.jsx("span",{children:"  :"}),s.jsxs("span",{children:[ot.toLocaleString()," "]})]}),te&&ne&&oe&&(()=>{const Ut=parseFloat(te.balance||0);let Ft=0;return ne==="percent"&&G>0?Ft=Math.min(Ut*G/100,Je):ne==="amount"&&Y>0&&(Ft=Math.min(Y,Je)),Ft=Math.round(Ft),Ft>0?s.jsxs("div",{className:ze.totalRow,style:{color:"var(--accent-green)",fontSize:"14px",marginTop:"4px"},children:[s.jsx("span",{children:" :"}),s.jsxs("span",{children:["-",Ft," "]})]}):null})()]}),s.jsxs("div",{className:ze.cartActions,children:[s.jsxs("button",{className:ze.discountButton,onClick:()=>{je(Wt),be(!0)},disabled:Qe.length===0,children:[s.jsx(vd,{})," "]}),s.jsxs("button",{className:ze.clearCartButton,onClick:()=>{Tt([]),Wt===1&&za({})},disabled:Qe.length===0,children:[s.jsx(zh,{})," "]}),s.jsxs("button",{className:ze.checkoutButton,onClick:()=>{on(Wt),P(!0)},disabled:Qe.length===0,children:[s.jsx(Bx,{})," "]})]})]})},ji=async()=>{if(!(st!=null&&st.receipt_pdf_file)){console.error("PDF    ");return}await qm(st.receipt_pdf_file)},aa=async()=>{st!=null&&st.receipt_pdf_file&&await T0(st.receipt_pdf_file)},Rs=()=>{if(Se)return s.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"200px"},children:s.jsx(Fn,{size:"medium"})});if(de)return s.jsxs("div",{className:ze.error,children:[": ",de]});if(Ce.length===0)return s.jsx("div",{className:ze.empty,children:"  "});const Qe=Ce.flatMap(Tt=>Tt.variants.map(Wt=>({product:Tt,variant:Wt,availableQty:Wt.available_quantity_in_location??0})));return Qe.sort((Tt,Wt)=>Tt.availableQty>0&&Wt.availableQty===0?-1:Tt.availableQty===0&&Wt.availableQty>0?1:Tt.availableQty>0&&Wt.availableQty>0?Wt.availableQty-Tt.availableQty:0),s.jsx("div",{className:ze.productsGrid,children:Qe.map(({product:Tt,variant:Wt})=>{var Gt,Dn;const zt=Wt.available_quantity_in_location??0,Xe=((Gt=Tt.images.find(hn=>hn.is_main))==null?void 0:Gt.image)||((Dn=Tt.images[0])==null?void 0:Dn.image),et=Wt.price!==null&&Wt.price!==void 0,Je=`${Tt.id}-${Wt.id}`,ot=Ms.has(Je),Ut=ot?Wt.attributes:Wt.attributes.slice(0,2),Ft=Wt.attributes.length>2,In=et&&Wt.discount>0?Math.round(Wt.price*(1-Wt.discount/100)):et?parseFloat(Wt.price):null,gn=et?parseFloat(Wt.price):null,Xn=hn=>{hn.stopPropagation(),Xs(as=>{const Qt=new Set(as);return Qt.has(Je)?Qt.delete(Je):Qt.add(Je),Qt})};return s.jsxs("div",{className:`${ze.productCard} ${(c==null?void 0:c.id)===Tt.id&&(d==null?void 0:d.id)===Wt.id?ze.selected:""}`,onClick:()=>{l(Tt),f(Wt),Re(0)},children:[s.jsxs("div",{className:ze.productImageWrapper,children:[s.jsx("div",{className:ze.productImage,children:s.jsx("img",{src:Xe,alt:Tt.name,onError:hn=>{hn.target.src="https://via.placeholder.com/300x400?text=No+Image"}})}),Wt.discount>0&&et&&s.jsxs("div",{className:ze.discountBadgeOverlay,children:["-",Wt.discount,"%"]})]}),s.jsxs("div",{className:ze.productInfo,children:[s.jsxs("div",{className:ze.productHeader,children:[s.jsx("h4",{className:ze.productTitle,title:Tt.name,children:Tt.name}),Wt.sku&&s.jsx("span",{className:ze.productSku,title:`: ${Wt.sku}`,children:Wt.sku})]}),Ut.length>0&&s.jsxs("div",{className:ze.attributesContainer,children:[s.jsx("div",{className:ze.attributes,children:Ut.map(hn=>s.jsx("span",{className:ze.attributeBadge,title:`${hn.category_attribute_name}: ${hn.custom_value||hn.predefined_value_name}`,children:hn.custom_value||hn.predefined_value_name},hn.id))}),Ft&&s.jsx("button",{className:ze.expandAttributesButton,onClick:Xn,title:ot?" ":"  ",children:ot?s.jsxs(s.Fragment,{children:[s.jsx(ko,{})," "]}):s.jsxs(s.Fragment,{children:[s.jsx(No,{}),"   (",Wt.attributes.length-2,")"]})})]}),s.jsxs("div",{className:ze.productDetails,children:[s.jsx("div",{className:ze.priceSection,children:et?Wt.discount>0?s.jsx("div",{className:ze.priceContainer,children:s.jsxs("div",{className:ze.priceRow,children:[s.jsxs("span",{className:ze.discountedPrice,children:[In.toLocaleString()," "]}),s.jsxs("span",{className:ze.originalPrice,children:[gn.toLocaleString()," "]})]})}):s.jsx("div",{className:ze.priceContainer,children:s.jsxs("span",{className:ze.regularPrice,children:[gn.toLocaleString()," "]})}):s.jsx("span",{className:ze.noPrice,children:"  "})}),s.jsx("div",{className:ze.stockInfo,children:s.jsx("span",{className:`${ze.stockBadge} ${zt>0?ze.inStock:ze.outOfStock}`,children:zt>0?s.jsxs(s.Fragment,{children:[s.jsx("span",{className:ze.stockIcon,children:""}),zt," ",(Tt==null?void 0:Tt.unit_display)||"."]}):s.jsxs(s.Fragment,{children:[s.jsx("span",{className:ze.stockIcon,children:""}),"  "]})})})]}),s.jsxs("div",{className:ze.productActions,children:[s.jsxs("button",{className:`${ze.addToCartButton} ${ze.cartButton1}`,onClick:hn=>{hn.stopPropagation(),Ds(Tt,Wt,1)},disabled:zt<=0||!et,title:"   1",children:[s.jsx(Va,{}),"  1"]}),s.jsxs("button",{className:`${ze.addToCartButton} ${ze.cartButton2}`,onClick:hn=>{hn.stopPropagation(),Ds(Tt,Wt,2)},disabled:zt<=0||!et,title:"   2",children:[s.jsx(Va,{}),"  2"]})]})]})]},`${Tt.id}-${Wt.id}`)})})},qn=(Qe,Tt,Wt)=>Qe.length===0?s.jsxs("div",{className:ze.emptyCart,children:[s.jsx(Ah,{size:"2em"}),s.jsx("p",{children:"   "})]}):s.jsx("div",{className:ze.cartItems,children:Qe.map(zt=>{var Ft;const Xe=Ma(zt),et=zt.hasOriginalDiscount?Math.round(zt.originalPrice*(1-zt.discount/100)):zt.originalPrice,Je=zt.itemDiscountPercent>0||zt.itemDiscountAmount>0,ot=Ce.find(In=>In.id===zt.productId),Ut=ot==null?void 0:ot.variants.find(In=>In.id===zt.variantId);return s.jsxs("div",{className:ze.cartItem,children:[s.jsx("div",{className:ze.cartItemImage,children:s.jsx("img",{src:zt.image,alt:zt.productName,onError:In=>{In.target.src="https://via.placeholder.com/100x100?text=No+Image"}})}),s.jsxs("div",{className:ze.cartItemInfo,children:[s.jsx("h5",{children:zt.productName}),s.jsx("div",{className:ze.cartItemAttributes,children:zt.attributes.map(In=>s.jsx("small",{children:In.custom_value||In.predefined_value_name},In.id))}),s.jsxs("small",{className:ze.cartItemSku,children:[": ",zt.sku]}),((Ft=Ut==null?void 0:Ut.stocks_data)==null?void 0:Ft.stocks)&&s.jsxs("div",{className:ze.itemBatchSelection,children:[s.jsx("div",{className:ze.fifoCheckboxGroup,children:s.jsxs("label",{className:ze.fifoCheckboxLabel,children:[s.jsx("input",{type:"checkbox",checked:zt.useFifo!==!1,onChange:In=>{const gn=In.target.checked;Tt(Xn=>Xn.map(Gt=>Gt.variantId===zt.variantId?{...Gt,useFifo:gn,batchId:gn?null:Gt.batchId,batchInfo:gn?null:Gt.batchInfo}:Gt))},className:ze.fifoCheckbox}),s.jsxs("span",{className:ze.fifoLabel,children:["FIFO",s.jsxs("span",{className:ze.availableQtyBadge,children:["( : ",(Ut==null?void 0:Ut.available_quantity_in_location)??zt.stock??0," ",zt.unitDisplay||(ot==null?void 0:ot.unit_display)||".",")"]})]}),s.jsxs("div",{className:ze.fifoTooltipIcon,onMouseEnter:()=>Us(zt.variantId),onMouseLeave:()=>Us(null),children:["?",ur===zt.variantId&&s.jsx("div",{className:ze.fifoTooltip,children:"FIFO (First In, First Out)    ,           .       ."})]})]})}),zt.useFifo===!1&&s.jsxs("div",{className:ze.batchSelectWrapper,children:[s.jsx("label",{className:ze.batchSelectLabel,children:":"}),s.jsxs("select",{value:zt.batchId||"",onChange:In=>{const gn=In.target.value?parseInt(In.target.value):null,Xn=Ut.stocks_data.stocks.find(Dn=>{var hn;return((hn=Dn.batch_info)==null?void 0:hn.id)===gn}),Gt=Xn!=null&&Xn.batch_info?{id:Xn.batch_info.id,batch_number:Xn.batch_info.batch_number,received_date:Xn.batch_info.received_date}:null;Tt(Dn=>Dn.map(hn=>hn.variantId===zt.variantId?{...hn,batchId:gn,batchInfo:Gt}:hn))},className:ze.batchSelect,children:[s.jsx("option",{value:"",children:"--   --"}),Ut.stocks_data.stocks.filter(In=>In.batch_info&&parseFloat(In.available_quantity||0)>0).map(In=>{const gn=In.batch_info,Gt=new Date(gn.received_date).toLocaleString("ru-RU",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"});return s.jsxs("option",{value:gn.id,children:[gn.batch_number," - ",Gt," (: ",In.available_quantity," ",In.unit_display||zt.unitDisplay||(ot==null?void 0:ot.unit_display)||".",")"]},gn.id)})]})]})]})]}),s.jsxs("div",{className:ze.cartItemControls,children:[s.jsx("button",{className:ze.removeItemButton,onClick:()=>{Tt(In=>In.filter(gn=>!(gn.variantId===zt.variantId&&(zt.batchId===null||gn.batchId===zt.batchId))))},children:s.jsx(da,{})}),s.jsx("div",{className:ze.quantityControl,children:(()=>{const In=zt.unitDisplay||".",gn=In===".",Xn=gn?1:.5,Gt=gn?1:.1,Dn=gn?1:.1;return s.jsxs(s.Fragment,{children:[s.jsx("button",{className:ze.quantityButton,onClick:()=>{const hn=zt.quantity-Xn,as=Qe.find(rn=>rn.variantId===zt.variantId);if(!as)return;const ys=(as.unitDisplay||".")===".";let jt;ys?jt=Math.max(1,Math.floor(hn)||1):jt=Math.max(.001,parseFloat(hn)||.001),jt>as.stock&&(alert("   "),jt=as.stock),Tt(rn=>rn.map(On=>On.variantId===zt.variantId?{...On,quantity:jt}:On))},children:s.jsx(DR,{})}),s.jsxs("div",{className:ze.quantityInputWrapper,children:[s.jsx("input",{type:"number",value:zt.quantity,onChange:hn=>{const as=hn.target.value;if(as===""||as===null){Tt(bs=>bs.map(ws=>ws.variantId===zt.variantId?{...ws,quantity:""}:ws));return}const Qt=parseFloat(as);if(isNaN(Qt))return;const ys=Qe.find(bs=>bs.variantId===zt.variantId);if(!ys)return;const rn=(ys.unitDisplay||".")===".";let On;rn?On=Math.max(1,Math.floor(Qt)||1):On=Math.max(.001,parseFloat(Qt)||.001),On>ys.stock&&(alert("   "),On=ys.stock),Tt(bs=>bs.map(ws=>ws.variantId===zt.variantId?{...ws,quantity:On}:ws))},onBlur:hn=>{const as=hn.target.value;if(as===""||as===null||parseFloat(as)<Dn){const Qt=Qe.find(On=>On.variantId===zt.variantId);if(!Qt)return;const rn=(Qt.unitDisplay||".")==="."?1:.1;Tt(On=>On.map(bs=>bs.variantId===zt.variantId?{...bs,quantity:rn}:bs))}else{const Qt=parseFloat(as);if(!isNaN(Qt)){const ys=Qe.find(bs=>bs.variantId===zt.variantId);if(!ys)return;const On=(ys.unitDisplay||".")==="."?Math.floor(Qt):parseFloat(Qt.toFixed(3));Tt(bs=>bs.map(ws=>ws.variantId===zt.variantId?{...ws,quantity:On}:ws))}}},step:Gt,min:Dn,max:zt.stock,className:ze.quantityInput}),s.jsx("span",{className:ze.quantityUnit,children:In})]}),s.jsx("button",{className:ze.quantityButton,onClick:()=>{const hn=zt.quantity+Xn,as=Qe.find(Qt=>Qt.variantId===zt.variantId);if(as&&hn<=as.stock){const ys=(as.unitDisplay||".")===".";let jt;ys?jt=Math.floor(hn):jt=parseFloat(hn.toFixed(3)),Tt(rn=>rn.map(On=>On.variantId===zt.variantId?{...On,quantity:jt}:On))}},disabled:zt.quantity>=zt.stock,children:s.jsx(Va,{})})]})})()}),s.jsxs("div",{className:ze.cartItemPrice,children:[s.jsxs("div",{className:ze.priceContainer,children:[s.jsx("div",{className:ze.priceRow,children:s.jsxs("span",{className:zt.hasOriginalDiscount||Je?ze.originalPrice:ze.basePrice,children:[(zt.originalPrice*zt.quantity).toLocaleString()," "]})}),zt.hasOriginalDiscount&&s.jsxs("div",{className:ze.priceRow,children:[s.jsxs("span",{className:ze.intermediatePrice,children:[(et*zt.quantity).toLocaleString()," "]}),s.jsxs("span",{children:["-",zt.discount,"%"]})]}),(Je||zt.hasOriginalDiscount)&&s.jsxs("div",{className:ze.priceRow,children:[s.jsxs("span",{className:ze.discountedPrice,children:[(Xe*zt.quantity).toLocaleString()," "]}),Je&&s.jsx("span",{children:zt.itemDiscountPercent>0?`-${zt.itemDiscountPercent}%`:`-${zt.itemDiscountAmount} `})]})]}),(zt.hasOriginalDiscount||Je)&&s.jsx("div",{className:ze.discountInfo,children:s.jsxs("small",{children:[" : ",(zt.originalPrice*zt.quantity-Xe*zt.quantity).toLocaleString()," "]})})]}),s.jsx("button",{className:ze.discountButton,onClick:()=>{at(zt.variantId),Mt(Wt),Qn(zt.itemDiscountPercent>0?"percent":"amount"),ln(zt.itemDiscountPercent>0?zt.itemDiscountPercent:zt.itemDiscountAmount),xe(!0)},children:s.jsx(vd,{})})]})]},zt.variantId)})});return s.jsxs("div",{className:ze.container,children:[s.jsxs("div",{className:ze.header,children:[s.jsxs("h1",{children:[s.jsx(Bx,{}),"  "]}),s.jsxs("div",{className:ze.businessInfo,children:[s.jsxs("button",{onClick:()=>t(`/business/${e}/bonus-history`),className:ze.bonusHistoryButton,title:" ",children:[s.jsx(vi,{}),"  "]}),s.jsx("span",{children:e})]})]}),s.jsxs("div",{className:ze.content,children:[s.jsx("div",{className:ze.leftColumn,children:s.jsxs("div",{className:ze.searchCard,children:[s.jsxs("div",{className:ze.filtersSection,children:[s.jsx("div",{className:ze.filtersSectionHeader,children:s.jsx("h4",{children:""})}),s.jsxs("div",{className:ze.filterRow,children:[s.jsx(M7,{options:ia,value:Vn,onChange:Qe=>{Na(Qe),r([]),o([]),za({}),b(""),C(""),k(""),pe(null)},disabled:Qs,placeholder:Qs?"...":" ...",icon:sS,label:"",required:!0,getOptionLabel:Qe=>Qe.name+(Qe.is_primary?" ":""),getOptionSubLabel:Qe=>{var Tt;return((Tt=Qe.location_type_detail)==null?void 0:Tt.name)||(Qe.address?Qe.address:"")}}),s.jsx(M7,{options:[{id:"",name:" "},...Ee],value:S,onChange:k,disabled:!Vn,placeholder:" ...",icon:Ah,label:"",getOptionLabel:Qe=>Qe.name,getOptionSubLabel:Qe=>Qe.full_path||""})]})]}),s.jsxs("div",{className:ze.searchSection,children:[s.jsxs("div",{className:ze.searchHeader,children:[s.jsx("h4",{children:" "}),s.jsxs("button",{className:`${ze.scannerButton} ${vn?ze.scannerActive:""}`,onClick:()=>{ss(Qe=>!Qe),setTimeout(()=>{fs.current&&fs.current.focus()},100)},type:"button",children:[vn?s.jsx(Xr,{}):s.jsx(CR,{}),"  -"]})]}),s.jsxs("div",{className:ze.searchInputGroup,children:[s.jsx(hi,{className:ze.searchIcon}),s.jsx("input",{ref:fs,type:"text",placeholder:vn?" -...":"  ,   -...",value:g,onChange:vn?Zn:Qe=>b(Qe.target.value),onKeyDown:vn?Ts:Qe=>{Qe.key==="Enter"&&qt()},disabled:!Vn,className:ze.searchInput}),s.jsx("button",{className:ze.searchButton,onClick:qt,disabled:!Vn,children:""})]}),s.jsx("div",{className:ze.filterCheckbox,children:s.jsxs("label",{children:[s.jsx("input",{type:"checkbox",checked:E,onChange:Qe=>D(Qe.target.checked),disabled:!Vn}),s.jsx("span",{children:"   "})]})})]}),s.jsx("div",{className:ze.searchResults,children:Rs()})]})}),s.jsxs("div",{className:ze.rightColumn,children:[s.jsxs("div",{className:ze.cartCard,children:[s.jsx("div",{className:ze.cartHeader,children:s.jsx("h4",{children:" 1"})}),s.jsxs("div",{className:ze.cartBody,children:[qn(a,r,1),Ja(a,r,1)]})]}),s.jsxs("div",{className:ze.cartCard,children:[s.jsx("div",{className:ze.cartHeader,children:s.jsx("h4",{children:" 2"})}),s.jsxs("div",{className:ze.cartBody,children:[qn(i,o,2),Ja(i,o,2)]})]})]})]}),ge&&s.jsx("div",{className:ze.modalOverlay,children:s.jsxs("div",{className:ze.modal,tabIndex:-1,"aria-modal":"true",role:"dialog",children:[s.jsxs("div",{className:ze.modalHeader,children:[s.jsxs("h4",{children:["    ( ",Fe,")"]}),s.jsx(Li,{onClick:()=>be(!1)})]}),s.jsx("div",{className:ze.modalBody,children:s.jsxs("div",{className:ze.discountControls,children:[s.jsxs("div",{className:ze.discountType,role:"radiogroup","aria-label":" ",children:[s.jsxs("label",{className:ze.radioLabel,children:[s.jsx("input",{type:"radio",checked:qe==="percent",onChange:()=>tt("percent")}),s.jsx("span",{children:""})]}),s.jsxs("label",{className:ze.radioLabel,children:[s.jsx("input",{type:"radio",checked:qe==="amount",onChange:()=>tt("amount")}),s.jsx("span",{children:""})]})]}),s.jsx("div",{className:ze.discountInput,children:qe==="percent"?s.jsxs(s.Fragment,{children:[s.jsx("input",{type:"number",value:he,autoFocus:!0,onChange:Qe=>Ze(Math.min(100,Math.max(0,Number(Qe.target.value)))),min:"0",max:"100",placeholder:"0"}),s.jsx("span",{className:ze.inputUnit,children:"%"})]}):s.jsxs(s.Fragment,{children:[s.jsx("input",{type:"number",value:he,autoFocus:!0,onChange:Qe=>Ze(Math.max(0,Number(Qe.target.value))),min:"0",placeholder:"0"}),s.jsx("span",{className:ze.inputUnit,children:""})]})})]})}),s.jsxs("div",{className:ze.modalFooter,children:[s.jsx("button",{className:ze.secondaryButton,onClick:()=>be(!1),children:""}),s.jsx("button",{className:ze.primaryButton,onClick:vr,children:""})]})]})}),De&&s.jsx("div",{className:ze.modalOverlay,children:s.jsxs("div",{className:ze.modal,tabIndex:-1,"aria-modal":"true",role:"dialog",children:[s.jsxs("div",{className:ze.modalHeader,children:[s.jsx("h4",{children:"  "}),s.jsx(Li,{onClick:()=>xe(!1)})]}),s.jsx("div",{className:ze.modalBody,children:s.jsxs("div",{className:ze.discountControls,children:[s.jsxs("div",{className:ze.discountType,role:"radiogroup","aria-label":" ",children:[s.jsxs("label",{className:ze.radioLabel,children:[s.jsx("input",{type:"radio",checked:pn==="percent",onChange:()=>Qn("percent")}),s.jsx("span",{children:""})]}),s.jsxs("label",{className:ze.radioLabel,children:[s.jsx("input",{type:"radio",checked:pn==="amount",onChange:()=>Qn("amount")}),s.jsx("span",{children:""})]})]}),s.jsx("div",{className:ze.discountInput,children:pn==="percent"?s.jsxs(s.Fragment,{children:[s.jsx("input",{type:"number",value:yt,autoFocus:!0,onChange:Qe=>ln(Math.min(100,Math.max(0,Number(Qe.target.value)))),min:"0",max:"100",placeholder:"0"}),s.jsx("span",{className:ze.inputUnit,children:"%"})]}):s.jsxs(s.Fragment,{children:[s.jsx("input",{type:"number",value:yt,autoFocus:!0,onChange:Qe=>ln(Math.max(0,Number(Qe.target.value))),min:"0",placeholder:"0"}),s.jsx("span",{className:ze.inputUnit,children:""})]})}),Ye&&(()=>{const Tt=(lt===1?a:i).find(Wt=>Wt.variantId===Ye);return Tt?s.jsxs("div",{className:ze.currentDiscountInfo,children:[s.jsxs("p",{children:[s.jsx("span",{children:" :"}),s.jsxs("span",{className:ze.nowPrice,children:[Tt.price.toLocaleString()," "]})]}),s.jsxs("p",{children:[s.jsx("span",{children:" :"}),s.jsxs("span",{className:ze.oldPrice,children:[Tt.originalPrice.toLocaleString()," "]})]}),Tt.hasOriginalDiscount&&s.jsxs("p",{children:[s.jsx("span",{children:" :"}),s.jsxs("span",{className:ze.discountValueAccent,children:[Tt.discount,"%"]})]})]}):null})()]})}),s.jsxs("div",{className:ze.modalFooter,children:[s.jsx("button",{className:ze.secondaryButton,onClick:()=>xe(!1),children:""}),s.jsx("button",{className:ze.primaryButton,onClick:()=>{lt===1?Ws(a,r):Ws(i,o)},children:""})]})]})}),R&&s.jsx("div",{className:ze.modalOverlay,children:s.jsxs("div",{className:ze.modal,children:[s.jsxs("div",{className:ze.modalHeader,children:[s.jsx("h4",{children:fn?" ":" "}),s.jsx(Li,{onClick:()=>{fn&&(jn(!1),Rt(null),Lt===1?(r([]),Ze(0)):(o([]),bt(0)),U(""),H(""),J(null),ee(null),Q(0),ae(0),re("percent"),me(!1)),P(!1)}})]}),s.jsx("div",{className:ze.modalBody,children:fn?st?s.jsxs("div",{className:ze.receiptCompleted,children:[st.receipt_preview_image?s.jsx("div",{className:ze.receiptImageContainer,children:s.jsx("img",{src:st.receipt_preview_image||n(st.receipt_preview_image),alt:` ${st.number}`,className:ze.receiptImage,onError:Qe=>{console.error("   :",st.receipt_preview_image);const Tt=st.receipt_preview_image||n(st.receipt_preview_image);console.error(" URL:",Tt),Qe.target.src="https://via.placeholder.com/300x400?text=No+Image"},onLoad:()=>{const Qe=st.receipt_preview_image||n(st.receipt_preview_image);console.log("   :",Qe)}})}):s.jsx("div",{className:ze.receiptImageContainer,children:s.jsxs("div",{className:ze.receiptImagePlaceholder,children:[s.jsx("p",{children:"  "}),s.jsxs("small",{children:["PDF : ",st.receipt_pdf_file?"":""]})]})}),s.jsxs("div",{className:ze.receiptInfo,children:[s.jsxs("h5",{children:[" #",st.number]}),s.jsxs("p",{children:[s.jsx("strong",{children:":"})," ",new Date(st.created_at).toLocaleString()]}),s.jsxs("p",{children:[s.jsx("strong",{children:":"})," ",parseFloat(st.total_amount).toLocaleString()," "]}),s.jsxs("p",{children:[s.jsx("strong",{children:" :"})," ",st.payment_method]}),st.customer_name&&s.jsxs("p",{children:[s.jsx("strong",{children:":"})," ",st.customer_name]}),st.customer_phone&&s.jsxs("p",{children:[s.jsx("strong",{children:":"})," ",st.customer_phone]}),st.bonus_info&&s.jsxs("div",{className:ze.receiptBonusInfo,children:[s.jsxs("h6",{children:[s.jsx(vi,{}),"   "]}),st.bonus_info.tier&&s.jsxs("p",{children:[s.jsx("strong",{children:" :"})," ",st.bonus_info.tier.name," (",st.bonus_info.tier.bonus_percent,"%)"]}),s.jsxs("p",{children:[s.jsx("strong",{children:" :"})," ",parseFloat(st.bonus_info.bonus_percent||0).toFixed(2),"%"]}),parseFloat(st.bonus_info.accrued||0)>0&&s.jsxs("p",{children:[s.jsx("strong",{children:" :"})," ","+",Math.round(parseFloat(st.bonus_info.accrued))," "]}),parseFloat(st.bonus_info.redeemed||0)>0&&s.jsxs("p",{children:[s.jsx("strong",{children:" :"})," ","-",Math.round(parseFloat(st.bonus_info.redeemed))," "]}),s.jsxs("p",{children:[s.jsx("strong",{children:"  :"})," ",parseFloat(st.bonus_info.balance_after||0).toFixed(2)," "]})]})]})]}):s.jsx("div",{className:ze.receiptLoading,children:s.jsx("p",{children:" ..."})}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:ze.receiptAndBonusContainer,children:[s.jsxs("div",{className:ze.receiptPreview,children:[s.jsxs("div",{className:ze.receiptHeader,children:[s.jsxs("h5",{children:[" #",new Date().getTime().toString().slice(-6)]}),s.jsx("p",{children:new Date().toLocaleString("ru-RU")})]}),s.jsx("div",{className:ze.receiptItems,children:(Lt===1?a:i).map(Qe=>{const Tt=Ma(Qe),Wt=Qe.originalPrice,zt=Qe.itemDiscountPercent>0||Qe.itemDiscountAmount>0,Xe=Qe.hasOriginalDiscount,et=Xe?Math.round(Wt*(1-Qe.discount/100)):Wt;return s.jsx("div",{className:ze.receiptItem,children:s.jsxs("div",{className:ze.receiptItemMain,children:[s.jsxs("div",{className:ze.receiptItemName,children:[Qe.productName,s.jsx("div",{className:ze.receiptItemDetails,children:Qe.attributes.map(Je=>s.jsxs("span",{className:ze.receiptItemAttribute,children:[s.jsxs("span",{className:ze.attributeName,children:[Je.category_attribute_name,":"]}),s.jsx("span",{className:ze.attributeValue,children:Je.custom_value||Je.predefined_value_name})]},Je.id))})]}),s.jsxs("div",{className:ze.receiptItemPrices,children:[s.jsxs("div",{className:ze.receiptPriceRow,children:[s.jsxs("span",{className:ze.priceLabel,children:[Qe.quantity,"  ",Wt.toLocaleString()," "]}),s.jsxs("span",{className:ze.priceValue,children:[(Wt*Qe.quantity).toLocaleString()," "]})]}),Xe&&s.jsxs("div",{className:ze.receiptDiscountRow,children:[s.jsxs("span",{className:ze.discountLabel,children:[s.jsx(vd,{size:12}),"  ",Qe.discount,"%"]}),s.jsxs("span",{className:ze.discountValue,children:["-",Math.round(Wt*Qe.discount/100*Qe.quantity).toLocaleString()," "]})]}),zt&&s.jsxs("div",{className:ze.receiptDiscountRow,children:[s.jsxs("span",{className:ze.discountLabel,children:[s.jsx(vd,{size:12})," ",Qe.itemDiscountPercent>0?`.  ${Qe.itemDiscountPercent}%`:` ${Qe.itemDiscountAmount} `]}),s.jsxs("span",{className:ze.discountValue,children:["-",Qe.itemDiscountPercent>0?Math.round(et*Qe.itemDiscountPercent/100*Qe.quantity).toLocaleString():(Qe.itemDiscountAmount*Qe.quantity).toLocaleString()," "]})]}),s.jsxs("div",{className:ze.receiptTotalRow,children:[s.jsx("span",{className:ze.totalLabel,children:"  :"}),s.jsxs("span",{className:ze.totalValue,children:[(Tt*Qe.quantity).toLocaleString()," "]})]})]})]})},Qe.variantId)})}),s.jsxs("div",{className:ze.receiptSummary,children:[s.jsx("div",{className:ze.receiptSummarySection,children:(()=>{const Qe=Lt===1?a:i,Tt=Lt===1?he:Pe,Wt=Lt===1?qe:Ge,zt=cs(Qe);return qa(Qe,Tt,Wt),sa(Qe,Tt,Wt),s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:ze.receiptSummaryRow,children:[s.jsx("span",{children:":"}),s.jsxs("span",{children:[zt.toLocaleString()," "]})]}),Qe.some(Xe=>Xe.hasOriginalDiscount)&&s.jsxs("div",{className:ze.receiptSummaryRow,children:[s.jsx("span",{children:" :"}),s.jsxs("span",{className:ze.summaryDiscount,children:["-",Qe.reduce((Xe,et)=>et.hasOriginalDiscount?Xe+(et.originalPrice-Math.round(et.originalPrice*(1-et.discount/100)))*et.quantity:Xe,0).toLocaleString()," "]})]}),Qe.some(Xe=>Xe.itemDiscountPercent>0||Xe.itemDiscountAmount>0)&&s.jsxs("div",{className:ze.receiptSummaryRow,children:[s.jsx("span",{children:" :"}),s.jsxs("span",{className:ze.summaryDiscount,children:["-",Qe.reduce((Xe,et)=>{const Je=et.hasOriginalDiscount?Math.round(et.originalPrice*(1-et.discount/100)):et.originalPrice,ot=Ma(et);return Xe+(Je-ot)*et.quantity},0).toLocaleString()," "]})]}),Tt>0&&s.jsxs("div",{className:ze.receiptSummaryRow,children:[s.jsx("span",{children:"   :"}),s.jsxs("span",{className:ze.summaryDiscount,children:["-",(Wt==="percent"?(zt-Qe.reduce((Xe,et)=>{et.hasOriginalDiscount&&(Xe+=(et.originalPrice-Math.round(et.originalPrice*(1-et.discount/100)))*et.quantity);const Je=et.hasOriginalDiscount?Math.round(et.originalPrice*(1-et.discount/100)):et.originalPrice,ot=Ma(et);return Xe+=(Je-ot)*et.quantity,Xe},0))*Tt/100:Tt).toLocaleString()," "]})]})]})})()}),s.jsxs("div",{className:ze.receiptSummarySaleRow,children:[s.jsx("span",{children:"  :"}),s.jsxs("span",{className:ze.summaryDiscount,children:["-",sa(Lt===1?a:i,Lt===1?he:Pe,Lt===1?qe:Ge).toLocaleString()," "]})]}),s.jsxs("div",{className:ze.receiptTotalSection,children:[s.jsxs("div",{className:ze.receiptTotalRow,children:[s.jsx("span",{children:"  :"}),s.jsxs("span",{className:ze.receiptGrandTotal,children:[ls(Lt===1?a:i,Lt===1?he:Pe,Lt===1?qe:Ge).toLocaleString()," "]})]}),te&&ne&&oe&&(()=>{const zt=qa(Lt===1?a:i,Lt===1?he:Pe,Lt===1?qe:Ge),Xe=parseFloat(te.balance||0);let et=0;return ne==="percent"&&G>0?et=Math.min(Xe*G/100,zt):ne==="amount"&&Y>0&&(et=Math.min(Y,zt)),et=Math.round(et),et>0?s.jsxs("div",{className:ze.receiptTotalRow,style:{color:"var(--accent-green)",fontSize:"14px",marginTop:"8px"},children:[s.jsx("span",{children:" :"}),s.jsxs("span",{children:["-",et," "]})]}):null})()]})]})]}),te&&z&&z.is_enabled&&s.jsxs("div",{className:ze.bonusSection,children:[s.jsx("div",{className:ze.bonusSectionHeader,children:s.jsxs("h5",{children:[s.jsx(vi,{})," "]})}),s.jsxs("div",{className:ze.bonusInfo,children:[s.jsxs("div",{className:ze.bonusBalanceDisplay,children:[s.jsx("div",{className:ze.bonusBalanceLabel,children:" :"}),s.jsxs("div",{className:ze.bonusBalanceValue,children:[parseFloat(te.balance||0).toFixed(2)," ",s.jsx("span",{className:ze.bonusBalanceHint,children:" (1  = 1 )"})]})]}),te.tier&&s.jsxs("div",{className:ze.bonusTierDisplay,children:[s.jsx("div",{className:ze.bonusTierLabel,children:":"}),s.jsxs("div",{className:ze.bonusTierValue,children:[te.tier.name," (",te.tier.bonus_percent,"%)"]})]})]}),s.jsxs("div",{className:ze.bonusAccrualModeSelector,children:[s.jsx("label",{children:"  :"}),s.jsxs("div",{className:ze.bonusAccrualModeOptions,children:[s.jsxs("label",{className:ze.bonusModeOption,children:[s.jsx("input",{type:"radio",name:"bonusAccrualMode",value:"tier",checked:Z==="tier",onChange:Qe=>{A(Qe.target.value),ee(null)},disabled:!te.tier||z.is_fixed_percent}),s.jsxs("span",{children:["  (",((it=te.tier)==null?void 0:it.bonus_percent)||z.bonus_percent,"%)"]})]}),s.jsxs("label",{className:ze.bonusModeOption,children:[s.jsx("input",{type:"radio",name:"bonusAccrualMode",value:"settings",checked:Z==="settings",onChange:Qe=>{A(Qe.target.value),ee(null)},disabled:z.is_fixed_percent}),s.jsxs("span",{children:["   (",z.bonus_percent,"%)"]})]})]}),z.is_fixed_percent&&s.jsx("div",{className:ze.bonusModeHint,children:" ,   "})]}),te.recent_transactions&&te.recent_transactions.length>0&&s.jsxs("div",{className:ze.bonusHistory,children:[s.jsx("div",{className:ze.bonusHistoryTitle,children:" :"}),s.jsx("div",{className:ze.bonusHistoryList,children:te.recent_transactions.slice(0,5).map(Qe=>s.jsxs("div",{className:ze.bonusHistoryItem,children:[s.jsx("div",{className:ze.bonusHistoryType,children:Qe.type==="accrual"?"":""}),s.jsxs("div",{className:`${ze.bonusHistoryAmount} ${parseFloat(Qe.amount)>=0?ze.positive:ze.negative}`,children:[parseFloat(Qe.amount)>=0?"+":"",parseFloat(Qe.amount).toFixed(2)]}),s.jsx("div",{className:ze.bonusHistoryDate,children:new Date(Qe.created_at).toLocaleDateString("ru-RU")})]},Qe.id))})]}),(()=>{var et;const zt=Gs(Lt===1?a:i,Lt===1?he:Pe,Lt===1?qe:Ge);let Xe=0;return z.is_fixed_percent&&M===null?Xe=parseFloat(z.bonus_percent||0):M!==null?Xe=M:Z==="tier"&&((et=te.tier)!=null&&et.bonus_percent)?Xe=parseFloat(te.tier.bonus_percent):Xe=parseFloat(z.bonus_percent||0),zt!==null&&zt>0?s.jsxs("div",{className:ze.bonusPredictionCard,children:[s.jsx("div",{className:ze.bonusPredictionLabel,children:"  :"}),s.jsxs("div",{className:ze.bonusPredictionValue,children:["+",zt," "]}),s.jsxs("div",{className:ze.bonusPredictionHint,children:["( ",zt," )"]}),s.jsxs("div",{className:ze.bonusPercentInfo,children:[" : ",parseFloat(Xe).toFixed(2),"%"]})]}):null})(),!z.is_fixed_percent&&s.jsxs("div",{className:ze.bonusAccrualControl,children:[s.jsx("label",{children:"    (%):"}),s.jsx("input",{type:"number",step:"0.01",min:"0",max:"100",value:M!==null?M:"",onChange:Qe=>ee(Qe.target.value?parseFloat(Qe.target.value):null),placeholder:Z==="tier"&&((Le=te.tier)!=null&&Le.bonus_percent)?te.tier.bonus_percent:z.bonus_percent||"5.00",className:ze.bonusPercentInput})]}),parseFloat(te.balance||0)>0&&s.jsxs("div",{className:ze.bonusRedemptionButtonWrapper,children:[s.jsxs("button",{type:"button",onClick:()=>me(!oe),className:`${ze.bonusRedemptionToggleButton} ${oe?ze.active:""}`,children:[s.jsx(vi,{})," ",oe?"  ":" "]}),oe&&s.jsxs("div",{className:ze.bonusRedemptionControl,children:[s.jsx("label",{className:ze.bonusRedemptionLabel,children:" :"}),s.jsxs("div",{className:ze.bonusRedemptionType,children:[s.jsxs("label",{className:ze.radioOption,children:[s.jsx("input",{type:"radio",value:"percent",checked:ne==="percent",onChange:Qe=>{re(Qe.target.value),ae(0)}}),s.jsx("span",{children:"  "})]}),s.jsxs("label",{className:ze.radioOption,children:[s.jsx("input",{type:"radio",value:"amount",checked:ne==="amount",onChange:Qe=>{re(Qe.target.value),Q(0)}}),s.jsx("span",{children:" "})]})]}),ne==="percent"?s.jsxs("div",{className:ze.bonusRedemptionInputWrapper,children:[s.jsxs("div",{className:ze.bonusRedemptionInput,children:[s.jsx("input",{type:"number",min:"0",max:"100",step:"1",value:G||"",onChange:Qe=>{const Tt=Qe.target.value?parseFloat(Qe.target.value):0;Q(Math.min(100,Math.max(0,Tt)))},placeholder:"0",className:G>0?ze.hasValue:""}),s.jsx("span",{className:ze.inputSuffix,children:"%"})]}),G>0&&s.jsxs("div",{className:ze.bonusRedemptionPreview,children:[" : ",s.jsxs("span",{className:ze.bonusRedemptionPreviewValue,children:[Math.round(parseFloat(te.balance||0)*G/100)," "]})]})]}):s.jsxs("div",{className:ze.bonusRedemptionInputWrapper,children:[s.jsxs("div",{className:ze.bonusRedemptionInput,children:[s.jsx("input",{type:"number",min:"0",max:parseFloat(te.balance||0),step:"0.01",value:Y||"",onChange:Qe=>{const Tt=Qe.target.value;if(Tt===""||Tt===null){ae(0);return}const Wt=parseFloat(Tt);if(isNaN(Wt)){ae(0);return}parseFloat(te.balance||0),ae(Math.max(0,Wt))},placeholder:"0.00",className:`${Y>0?ze.hasValue:""} ${Y>parseFloat(te.balance||0)?ze.inputError:""}`}),s.jsx("span",{className:ze.inputSuffix,children:""})]}),Y>0&&s.jsxs("div",{className:`${ze.bonusRedemptionPreview} ${Y>parseFloat(te.balance||0)?ze.bonusRedemptionPreviewError:""}`,children:[" : ",s.jsxs("span",{className:ze.bonusRedemptionPreviewValue,children:[Y.toFixed(2)," "]}),Y>parseFloat(te.balance||0)&&s.jsx("span",{className:ze.bonusRedemptionError,children:"  "})]}),s.jsxs("div",{className:ze.bonusRedemptionHint,children:[": ",s.jsxs("strong",{children:[parseFloat(te.balance||0).toFixed(2)," "]})]})]})]})]})]})]}),s.jsxs("div",{className:ze.paymentForm,children:[s.jsxs("div",{className:ze.formGroup,children:[s.jsx("label",{children:" "}),s.jsx("select",{value:B,onChange:Qe=>O(Qe.target.value),children:Ae.map(Qe=>s.jsx("option",{value:Qe.code,children:Qe.name},Qe.id))})]}),s.jsxs("div",{className:ze.formGroup,children:[s.jsx("label",{children:" QR- "}),s.jsxs("button",{type:"button",onClick:()=>K(!0),className:ze.qrButtonLarge,title:" QR-",children:[s.jsx(fm,{size:32}),s.jsx("span",{className:ze.qrButtonText,children:" QR-"})]}),s.jsx("p",{className:ze.qrButtonDescription,children:" QR-         "})]})]})]})}),s.jsx("div",{className:ze.modalFooter,children:fn?s.jsxs(s.Fragment,{children:[s.jsx("button",{className:ze.primaryButton,onClick:aa,children:" PDF"}),s.jsxs("button",{className:ze.primaryButton,onClick:ji,children:[s.jsx(Vh,{}),"  "]}),s.jsx("button",{className:ze.secondaryButton,onClick:()=>{P(!1),jn(!1),r([]),U(""),H(""),J(null),ee(null),Q(0),ae(0),re("percent"),Ze(0)},children:""})]}):s.jsxs(s.Fragment,{children:[s.jsx("button",{className:ze.secondaryButton,onClick:()=>P(!1),children:""}),s.jsxs("button",{className:ze.successButton,onClick:Ks,disabled:fn||dt,children:[s.jsx(Xr,{})," ",dt?"":" "]})]})})]})}),se&&Vn&&s.jsx(f$,{locationId:Vn,onCustomerSelected:Qe=>{J(Qe),U(Qe.user.full_name||Qe.user.username),Qe.bonus_redemption_percent?(re("percent"),Q(Qe.bonus_redemption_percent)):Qe.bonus_redemption_amount&&(re("amount"),ae(Qe.bonus_redemption_amount)),K(!1)},onClose:()=>K(!1)})]})},jWe="_container_1mxdm_3",CWe="_header_1mxdm_14",SWe="_title_1mxdm_54",NWe="_bonusHistoryButton_1mxdm_66",kWe="_tabs_1mxdm_91",IWe="_tab_1mxdm_91",EWe="_active_1mxdm_127",TWe="_tabBadge_1mxdm_132",DWe="_content_1mxdm_144",AWe="_productsTab_1mxdm_150",MWe="_filtersSection_1mxdm_156",RWe="_searchSection_1mxdm_166",BWe="_searchInputGroup_1mxdm_176",OWe="_searchIcon_1mxdm_192",LWe="_searchInput_1mxdm_176",$We="_scannerButton_1mxdm_214",PWe="_scannerActive_1mxdm_236",FWe="_searchButton_1mxdm_243",HWe="_filterCheckbox_1mxdm_271",qWe="_searchResults_1mxdm_295",VWe="_productsGrid_1mxdm_300",zWe="_productCard_1mxdm_306",UWe="_selected_1mxdm_325",WWe="_productImageWrapper_1mxdm_330",YWe="_productImage_1mxdm_330",GWe="_discountBadgeOverlay_1mxdm_352",QWe="_productInfo_1mxdm_366",XWe="_productTitle_1mxdm_374",KWe="_productSku_1mxdm_387",ZWe="_attributes_1mxdm_393",JWe="_attributeBadge_1mxdm_399",eYe="_priceSection_1mxdm_408",tYe="_priceRow_1mxdm_415",nYe="_discountedPrice_1mxdm_421",sYe="_originalPrice_1mxdm_427",aYe="_stockInfo_1mxdm_434",rYe="_addToCartButton_1mxdm_440",iYe="_cartsTab_1mxdm_467",oYe="_cartCard_1mxdm_473",cYe="_cartHeader_1mxdm_483",lYe="_cartCount_1mxdm_499",uYe="_cartBody_1mxdm_508",dYe="_emptyCart_1mxdm_518",hYe="_cartItems_1mxdm_538",fYe="_cartItem_1mxdm_538",mYe="_cartItemImage_1mxdm_571",pYe="_cartItemContent_1mxdm_590",gYe="_cartItemTop_1mxdm_602",_Ye="_cartItemTitle_1mxdm_609",vYe="_cartItemAttributes_1mxdm_625",xYe="_cartItemAttribute_1mxdm_625",bYe="_attributeName_1mxdm_647",yYe="_attributeValue_1mxdm_652",wYe="_expandAttributesButton_1mxdm_656",jYe="_cartItemMeta_1mxdm_681",CYe="_cartItemSku_1mxdm_692",SYe="_cartItemUnit_1mxdm_700",NYe="_itemBatchSelection_1mxdm_707",kYe="_fifoCheckboxGroup_1mxdm_716",IYe="_fifoCheckboxLabel_1mxdm_722",EYe="_fifoCheckbox_1mxdm_716",TYe="_fifoLabel_1mxdm_741",DYe="_availableQtyBadge_1mxdm_748",AYe="_fifoTooltipIcon_1mxdm_753",MYe="_fifoTooltip_1mxdm_753",RYe="_batchSelectWrapper_1mxdm_786",BYe="_batchSelectLabel_1mxdm_792",OYe="_batchSelect_1mxdm_786",LYe="_removeItemButton_1mxdm_817",$Ye="_quantityControl_1mxdm_847",PYe="_quantityInputWrapper_1mxdm_859",FYe="_cartItemBottom_1mxdm_899",HYe="_cartItemBottomLeft_1mxdm_909",qYe="_cartItemPrice_1mxdm_917",VYe="_priceOriginal_1mxdm_927",zYe="_priceFinal_1mxdm_935",UYe="_discountButton_1mxdm_943",WYe="_quantityButton_1mxdm_998",YYe="_quantityInput_1mxdm_859",GYe="_cartFooter_1mxdm_1081",QYe="_cartTotals_1mxdm_1091",XYe="_totalRow_1mxdm_1098",KYe="_grandTotal_1mxdm_1106",ZYe="_discountValue_1mxdm_1115",JYe="_cartActions_1mxdm_1119",eGe="_clearCartButton_1mxdm_1126",tGe="_checkoutButton_1mxdm_1127",nGe="_empty_1mxdm_518",sGe="_error_1mxdm_1181",aGe="_searchableSelectWrapper_1mxdm_1189",rGe="_searchableLabel_1mxdm_1195",iGe="_requiredMark_1mxdm_1204",oGe="_searchableSelect_1mxdm_1189",cGe="_searchableControl_1mxdm_1212",lGe="_disabled_1mxdm_1234",uGe="_searchableValue_1mxdm_1239",dGe="_selectedName_1mxdm_1246",hGe="_selectedSubLabel_1mxdm_1251",fGe="_searchablePlaceholder_1mxdm_1257",mGe="_searchableCaret_1mxdm_1262",pGe="_searchableDropdown_1mxdm_1271",gGe="_searchableSearch_1mxdm_1285",_Ge="_searchableList_1mxdm_1303",vGe="_searchableItem_1mxdm_1308",xGe="_searchableItemName_1mxdm_1329",bGe="_searchableItemSubLabel_1mxdm_1334",yGe="_searchableEmpty_1mxdm_1340",wGe="_modalOverlay_1mxdm_1348",jGe="_modal_1mxdm_1348",CGe="_modalHeader_1mxdm_1383",SGe="_modalBody_1mxdm_1402",NGe="_modalFooter_1mxdm_1409",kGe="_receiptAndBonusContainer_1mxdm_1453",IGe="_receiptPreview_1mxdm_1459",EGe="_receiptHeader_1mxdm_1469",TGe="_receiptItems_1mxdm_1482",DGe="_receiptItem_1mxdm_1482",AGe="_receiptItemName_1mxdm_1494",MGe="_receiptItemDetails_1mxdm_1499",RGe="_receiptItemAttribute_1mxdm_1508",BGe="_receiptItemPrices_1mxdm_1517",OGe="_receiptPriceRow_1mxdm_1523",LGe="_receiptDiscountRow_1mxdm_1524",$Ge="_receiptTotalRow_1mxdm_1525",PGe="_receiptSummary_1mxdm_1537",FGe="_receiptSummarySection_1mxdm_1543",HGe="_receiptSummaryRow_1mxdm_1550",qGe="_receiptSummarySaleRow_1mxdm_1556",VGe="_receiptTotalSection_1mxdm_1566",zGe="_receiptGrandTotal_1mxdm_1572",UGe="_summaryDiscount_1mxdm_1577",WGe="_bonusSection_1mxdm_1582",YGe="_bonusSectionHeader_1mxdm_1592",GGe="_bonusInfo_1mxdm_1608",QGe="_bonusBalanceDisplay_1mxdm_1614",XGe="_bonusTierDisplay_1mxdm_1615",KGe="_bonusBalanceLabel_1mxdm_1621",ZGe="_bonusTierLabel_1mxdm_1622",JGe="_bonusBalanceValue_1mxdm_1627",eQe="_bonusTierValue_1mxdm_1628",tQe="_bonusBalanceHint_1mxdm_1634",nQe="_discountControls_1mxdm_1642",sQe="_discountType_1mxdm_1648",aQe="_radioLabel_1mxdm_1654",rQe="_discountInput_1mxdm_1698",iQe="_inputUnit_1mxdm_1731",oQe="_primaryButton_1mxdm_1738",cQe="_secondaryButton_1mxdm_1758",lQe="_successButton_1mxdm_1779",uQe="_receiptItemMain_1mxdm_1809",dQe="_totalLabel_1mxdm_1815",hQe="_totalValue_1mxdm_1816",fQe="_priceLabel_1mxdm_1824",mQe="_priceValue_1mxdm_1829",pQe="_paymentForm_1mxdm_1835",gQe="_formGroup_1mxdm_1844",_Qe="_qrButtonLarge_1mxdm_1900",vQe="_qrButtonText_1mxdm_1927",xQe="_qrButtonDescription_1mxdm_1932",bQe="_bonusAccrualModeSelector_1mxdm_1942",yQe="_bonusAccrualModeOptions_1mxdm_1959",wQe="_bonusModeOption_1mxdm_1965",jQe="_bonusModeHint_1mxdm_2012",CQe="_bonusAccrualControl_1mxdm_2024",SQe="_bonusPercentInput_1mxdm_2040",NQe="_bonusPredictionCard_1mxdm_2058",kQe="_bonusPredictionLabel_1mxdm_2067",IQe="_bonusPredictionValue_1mxdm_2073",EQe="_bonusPredictionHint_1mxdm_2080",TQe="_bonusPercentInfo_1mxdm_2087",DQe="_bonusRedemptionButtonWrapper_1mxdm_2095",AQe="_bonusRedemptionToggleButton_1mxdm_2101",MQe="_bonusRedemptionControl_1mxdm_2142",RQe="_bonusRedemptionLabel_1mxdm_2150",BQe="_bonusRedemptionType_1mxdm_2160",OQe="_radioOption_1mxdm_2170",LQe="_bonusRedemptionInputWrapper_1mxdm_2199",$Qe="_bonusRedemptionInput_1mxdm_2199",PQe="_hasValue_1mxdm_2238",FQe="_inputError_1mxdm_2243",HQe="_inputSuffix_1mxdm_2252",qQe="_bonusRedemptionPreview_1mxdm_2259",VQe="_bonusRedemptionPreviewError_1mxdm_2273",zQe="_bonusRedemptionPreviewValue_1mxdm_2278",UQe="_bonusRedemptionError_1mxdm_2288",WQe="_bonusRedemptionHint_1mxdm_2297",YQe="_bonusHistory_1mxdm_66",GQe="_bonusHistoryTitle_1mxdm_2308",QQe="_bonusHistoryList_1mxdm_2315",XQe="_bonusHistoryItem_1mxdm_2323",KQe="_bonusHistoryType_1mxdm_2334",ZQe="_bonusHistoryAmount_1mxdm_2339",JQe="_positive_1mxdm_2344",eXe="_negative_1mxdm_2348",tXe="_bonusHistoryDate_1mxdm_2352",nXe="_receiptCompleted_1mxdm_2359",sXe="_receiptImageContainer_1mxdm_2366",aXe="_receiptImage_1mxdm_2366",rXe="_receiptImagePlaceholder_1mxdm_2378",iXe="_receiptInfo_1mxdm_2397",oXe="_receiptBonusInfo_1mxdm_2423",cXe="_receiptLoading_1mxdm_2451",Ve={container:jWe,header:CWe,title:SWe,bonusHistoryButton:NWe,tabs:kWe,tab:IWe,active:EWe,tabBadge:TWe,content:DWe,productsTab:AWe,filtersSection:MWe,searchSection:RWe,searchInputGroup:BWe,searchIcon:OWe,searchInput:LWe,scannerButton:$We,scannerActive:PWe,searchButton:FWe,filterCheckbox:HWe,searchResults:qWe,productsGrid:VWe,productCard:zWe,selected:UWe,productImageWrapper:WWe,productImage:YWe,discountBadgeOverlay:GWe,productInfo:QWe,productTitle:XWe,productSku:KWe,attributes:ZWe,attributeBadge:JWe,priceSection:eYe,priceRow:tYe,discountedPrice:nYe,originalPrice:sYe,stockInfo:aYe,addToCartButton:rYe,cartsTab:iYe,cartCard:oYe,cartHeader:cYe,cartCount:lYe,cartBody:uYe,emptyCart:dYe,cartItems:hYe,cartItem:fYe,cartItemImage:mYe,cartItemContent:pYe,cartItemTop:gYe,cartItemTitle:_Ye,cartItemAttributes:vYe,cartItemAttribute:xYe,attributeName:bYe,attributeValue:yYe,expandAttributesButton:wYe,cartItemMeta:jYe,cartItemSku:CYe,cartItemUnit:SYe,itemBatchSelection:NYe,fifoCheckboxGroup:kYe,fifoCheckboxLabel:IYe,fifoCheckbox:EYe,fifoLabel:TYe,availableQtyBadge:DYe,fifoTooltipIcon:AYe,fifoTooltip:MYe,batchSelectWrapper:RYe,batchSelectLabel:BYe,batchSelect:OYe,removeItemButton:LYe,quantityControl:$Ye,quantityInputWrapper:PYe,cartItemBottom:FYe,cartItemBottomLeft:HYe,cartItemPrice:qYe,priceOriginal:VYe,priceFinal:zYe,discountButton:UYe,quantityButton:WYe,quantityInput:YYe,cartFooter:GYe,cartTotals:QYe,totalRow:XYe,grandTotal:KYe,discountValue:ZYe,cartActions:JYe,clearCartButton:eGe,checkoutButton:tGe,empty:nGe,error:sGe,searchableSelectWrapper:aGe,searchableLabel:rGe,requiredMark:iGe,searchableSelect:oGe,searchableControl:cGe,disabled:lGe,searchableValue:uGe,selectedName:dGe,selectedSubLabel:hGe,searchablePlaceholder:fGe,searchableCaret:mGe,searchableDropdown:pGe,searchableSearch:gGe,searchableList:_Ge,searchableItem:vGe,searchableItemName:xGe,searchableItemSubLabel:bGe,searchableEmpty:yGe,modalOverlay:wGe,modal:jGe,modalHeader:CGe,modalBody:SGe,modalFooter:NGe,receiptAndBonusContainer:kGe,receiptPreview:IGe,receiptHeader:EGe,receiptItems:TGe,receiptItem:DGe,receiptItemName:AGe,receiptItemDetails:MGe,receiptItemAttribute:RGe,receiptItemPrices:BGe,receiptPriceRow:OGe,receiptDiscountRow:LGe,receiptTotalRow:$Ge,receiptSummary:PGe,receiptSummarySection:FGe,receiptSummaryRow:HGe,receiptSummarySaleRow:qGe,receiptTotalSection:VGe,receiptGrandTotal:zGe,summaryDiscount:UGe,bonusSection:WGe,bonusSectionHeader:YGe,bonusInfo:GGe,bonusBalanceDisplay:QGe,bonusTierDisplay:XGe,bonusBalanceLabel:KGe,bonusTierLabel:ZGe,bonusBalanceValue:JGe,bonusTierValue:eQe,bonusBalanceHint:tQe,discountControls:nQe,discountType:sQe,radioLabel:aQe,discountInput:rQe,inputUnit:iQe,primaryButton:oQe,secondaryButton:cQe,successButton:lQe,receiptItemMain:uQe,totalLabel:dQe,totalValue:hQe,priceLabel:fQe,priceValue:mQe,paymentForm:pQe,formGroup:gQe,qrButtonLarge:_Qe,qrButtonText:vQe,qrButtonDescription:xQe,bonusAccrualModeSelector:bQe,bonusAccrualModeOptions:yQe,bonusModeOption:wQe,bonusModeHint:jQe,bonusAccrualControl:CQe,bonusPercentInput:SQe,bonusPredictionCard:NQe,bonusPredictionLabel:kQe,bonusPredictionValue:IQe,bonusPredictionHint:EQe,bonusPercentInfo:TQe,bonusRedemptionButtonWrapper:DQe,bonusRedemptionToggleButton:AQe,bonusRedemptionControl:MQe,bonusRedemptionLabel:RQe,bonusRedemptionType:BQe,radioOption:OQe,bonusRedemptionInputWrapper:LQe,bonusRedemptionInput:$Qe,hasValue:PQe,inputError:FQe,inputSuffix:HQe,bonusRedemptionPreview:qQe,bonusRedemptionPreviewError:VQe,bonusRedemptionPreviewValue:zQe,bonusRedemptionError:UQe,bonusRedemptionHint:WQe,bonusHistory:YQe,bonusHistoryTitle:GQe,bonusHistoryList:QQe,bonusHistoryItem:XQe,bonusHistoryType:KQe,bonusHistoryAmount:ZQe,positive:JQe,negative:eXe,bonusHistoryDate:tXe,receiptCompleted:nXe,receiptImageContainer:sXe,receiptImage:aXe,receiptImagePlaceholder:rXe,receiptInfo:iXe,receiptBonusInfo:oXe,receiptLoading:cXe},R7=({options:e=[],value:t,onChange:n,disabled:a,placeholder:r="    ...",icon:i,label:o,getOptionLabel:c,getOptionSubLabel:l,required:d=!1})=>{const[f,g]=_.useState(!1),[b,w]=_.useState(""),[C,S]=_.useState(0),k=_.useRef(null),E=e.find(O=>String(O.id)===String(t))||null,D=b.trim().toLowerCase(),R=D?e.filter(O=>c(O).toLowerCase().includes(D)||l&&l(O).toLowerCase().includes(D)):e;_.useEffect(()=>{if(!f)return;const O=$=>{k.current&&!k.current.contains($.target)&&(g(!1),w(""))};return document.addEventListener("mousedown",O),()=>document.removeEventListener("mousedown",O)},[f]),_.useEffect(()=>{f&&S(0)},[f,D]);const P=O=>{if(!f&&(O.key==="ArrowDown"||O.key==="Enter")){g(!0);return}if(f)if(O.key==="ArrowDown")O.preventDefault(),S($=>Math.min($+1,R.length-1));else if(O.key==="ArrowUp")O.preventDefault(),S($=>Math.max($-1,0));else if(O.key==="Enter"){O.preventDefault();const $=R[C];$&&(n($.id),w(""),g(!1))}else O.key==="Escape"&&(O.preventDefault(),g(!1),w(""))},B=O=>{n(O.id),w(""),g(!1)};return s.jsxs("div",{className:Ve.searchableSelectWrapper,children:[o&&s.jsxs("label",{className:Ve.searchableLabel,children:[i&&s.jsx(i,{})," ",o,d&&s.jsx("span",{className:Ve.requiredMark,children:" *"})]}),s.jsxs("div",{className:Ve.searchableSelect,ref:k,children:[s.jsxs("div",{className:`${Ve.searchableControl} ${a?Ve.disabled:""}`,onClick:()=>!a&&g(O=>!O),onKeyDown:P,tabIndex:a?-1:0,children:[s.jsx("div",{className:Ve.searchableValue,children:E?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:Ve.selectedName,children:c(E)}),l&&s.jsx("div",{className:Ve.selectedSubLabel,children:l(E)})]}):s.jsx("div",{className:Ve.searchablePlaceholder,children:r})}),s.jsx("div",{className:Ve.searchableCaret})]}),f&&s.jsxs("div",{className:Ve.searchableDropdown,onKeyDown:P,children:[s.jsx("input",{autoFocus:!0,className:Ve.searchableSearch,value:b,onChange:O=>w(O.target.value),placeholder:"..."}),s.jsx("div",{className:Ve.searchableList,role:"listbox",tabIndex:0,children:R.length===0?s.jsx("div",{className:Ve.searchableEmpty,children:"  "}):R.map((O,$)=>s.jsxs("div",{role:"option","aria-selected":String(O.id)===String(t),className:`${Ve.searchableItem} ${$===C?Ve.searchableItemActive:""}`,onMouseEnter:()=>S($),onClick:()=>B(O),children:[s.jsx("div",{className:Ve.searchableItemName,children:c(O)}),l&&s.jsx("div",{className:Ve.searchableItemSubLabel,children:l(O)})]},O.id))})]})]})]})},lXe=()=>{var Wt,zt;const{business_slug:e}=ha(),t=Is(),{getFileUrl:n}=Er(),[a,r]=_.useState([]),[i,o]=_.useState([]),[c,l]=_.useState(null),[d,f]=_.useState(null),[g,b]=_.useState(""),[w,C]=_.useState(""),[S,k]=_.useState(""),[E,D]=_.useState(!0),[R,P]=_.useState(!1),[B,O]=_.useState("cash"),[$,U]=_.useState(""),[F,H]=_.useState(""),[se,K]=_.useState(!1),[te,J]=_.useState(null),[z,V]=_.useState(null),[M,ee]=_.useState(null),[Z,A]=_.useState("tier"),[G,Q]=_.useState(0),[Y,ae]=_.useState(0),[ne,re]=_.useState("percent"),[oe,me]=_.useState(!1),[Ce,Ne]=_.useState([]),[Ee,ve]=_.useState([]),[Se,fe]=_.useState(!0),[de,pe]=_.useState(null),[ce,Re]=_.useState(0),[Ae,ie]=_.useState([]),[ge,be]=_.useState(!1),[Fe,je]=_.useState(1),[qe,tt]=_.useState("percent"),[he,Ze]=_.useState(0),[Pe,bt]=_.useState(0),[Ge,ue]=_.useState("percent"),[De,xe]=_.useState(!1),[Ye,at]=_.useState(null),[lt,Mt]=_.useState(1),[pn,Qn]=_.useState("percent"),[yt,ln]=_.useState(0),[fn,jn]=_.useState(!1),[dt,It]=_.useState(!1),[st,Rt]=_.useState(null),[Lt,on]=_.useState(1),[vn,ss]=_.useState(!1),[hs,xs]=_.useState(!1),fs=_.useRef(null),Hn=_.useRef(null),Xt=_.useRef(!1),[ia,Ca]=_.useState([]),[Vn,Na]=_.useState(null),[Qs,ta]=_.useState(!0),[vs,za]=_.useState({}),[ur,Us]=_.useState(null),[Ms,Xs]=_.useState(new Set),[Cr,Ua]=_.useState(new Set),[Qa,qt]=_.useState("products"),Zn=_.useCallback(async()=>{try{ta(!0);const Xe=await Be.get(`/api/business/${e}/locations/`),et=Array.isArray(Xe.data)?Xe.data:Xe.data.locations||[];if(Ca(et),et.length>0){const Je=et.find(ot=>ot.is_primary);Na((Je==null?void 0:Je.id)||et[0].id)}ta(!1)}catch(Xe){console.error("Failed to fetch locations:",Xe),pe("   "),ta(!1)}},[e]),Ts=_.useCallback(async()=>{if(Vn)try{const Xe=await Be.get(`api/business/${e}/bonus-settings/?location=${Vn}`);V(Xe.data)}catch(Xe){console.error("Failed to fetch bonus settings:",Xe),V(null)}},[e,Vn]),rr=_.useCallback(async()=>{var Xe,et;if(Vn){if(Xt.current&&vn&&!w){Xt.current=!1;return}Xt.current=!1;try{fe(!0),pe(null);const Je={location:String(Vn)};w&&(Je.search=w),S&&(Je.category=S),E&&(Je.in_stock="true"),console.log("Fetching products with params:",Je);const ot=await Be.get(`/api/business/${e}/sales-products/`,{params:Je});console.log("Products response:",ot.data),Ne(ot.data.products||[]),fe(!1),vn&&(Xt.current=!0,b(""),C(""),xs(!1),setTimeout(()=>{fs.current&&fs.current.focus()},100))}catch(Je){((et=(Xe=Je.response)==null?void 0:Xe.data)==null?void 0:et.error)==="location_required"?pe(",  "):pe(Je.message),fe(!1),vn&&(Xt.current=!0,b(""),C(""),xs(!1),setTimeout(()=>{fs.current&&fs.current.focus()},100))}}},[e,w,S,Vn,vn,E]),Ma=async()=>{Xt.current=!1,C(g),vn&&xs(!0)},js=Xe=>{const et=Xe.target.value,Je=g.length;if(vn&&Je>0&&et.length<Je&&et.length<5&&(C(""),xs(!1),Hn.current&&(clearTimeout(Hn.current),Hn.current=null)),b(et),vn&&et.length>=13){Hn.current&&clearTimeout(Hn.current);const ot=et;Hn.current=setTimeout(()=>{fs.current&&fs.current.value===ot&&ot.length>=13&&(C(ot),xs(!0))},150)}},Ds=Xe=>{Xe.key==="Enter"&&(Xe.preventDefault(),g.trim()&&Ma())},cs=_.useCallback(async()=>{try{const Xe=await Be.get(`/api/business/${e}/categories/`);ve(Xe.data)}catch(Xe){console.error("Failed to fetch categories:",Xe)}},[e]),qa=Xe=>{let et=Xe.originalPrice;return Xe.hasOriginalDiscount&&(et=et*(1-Xe.discount/100)),Xe.itemDiscountPercent>0?et=et*(1-Xe.itemDiscountPercent/100):Xe.itemDiscountAmount>0&&(et=et-Xe.itemDiscountAmount),Math.round(et)},ls=_.useCallback(async()=>{try{const Xe=await Be.get("/api/business/payment-methods/");ie(Xe.data),Xe.data.length>0&&O(Xe.data[0].code)}catch(Xe){console.error("Failed to fetch payment methods:",Xe)}},[]);_.useEffect(()=>{Zn(),cs(),ls()},[Zn,cs,ls]),_.useEffect(()=>{Vn?(Xt.current=!1,rr()):Ne([])},[Vn,w,S,E,rr]),_.useEffect(()=>{Ts()},[Ts]),_.useEffect(()=>{vn?(Xt.current=!0,b(""),C(""),xs(!1),setTimeout(()=>{fs.current&&fs.current.focus()},100)):(Hn.current&&(clearTimeout(Hn.current),Hn.current=null),xs(!1),Xt.current=!1)},[vn]);const sa=(Xe,et,Je=1)=>{const ot=Je===1?r:o,Ut=et.available_quantity_in_location??0;if(Ut<=0){alert("    ");return}if(!et.price&&et.price!==0){alert("      ");return}ot(Ft=>{var hn,as;const In=Ft.find(Qt=>Qt.variantId===et.id&&Qt.productId===Xe.id),gn=Xe.unit_display||".",Xn=gn===".",Gt=Xn?1:.1,Dn=Xn?1:.1;if(In){const Qt=In.quantity+Dn;if(Qt<=Ut){const ys=Xn?Math.floor(Qt):parseFloat(Qt.toFixed(3));return Ft.map(jt=>jt.variantId===et.id&&jt.productId===Xe.id?{...jt,quantity:ys,unitDisplay:gn}:jt)}else return alert("    "),Ft}else{const Qt=et.discount>0,ys=parseFloat(et.price),jt=Qt?Math.round(ys*(1-et.discount/100)):ys,rn=ia.find(On=>On.id===Vn);return za(On=>({...On,[et.id]:!0})),[...Ft,{productId:Xe.id,productName:Xe.name,variantId:et.id,sku:et.sku,attributes:et.attributes,price:jt,originalPrice:ys,discount:et.discount||0,quantity:Gt,stock:Ut,unitDisplay:gn,image:((hn=Xe.images.find(On=>On.is_main))==null?void 0:hn.image)||((as=Xe.images[0])==null?void 0:as.image),itemDiscountAmount:0,itemDiscountPercent:0,location:Vn,locationName:(rn==null?void 0:rn.name)||" ",hasOriginalDiscount:Qt,useFifo:!0,batchId:null,batchInfo:null}]}})},Gs=Xe=>Xe.reduce((et,Je)=>et+Je.originalPrice*Je.quantity,0),Ks=(Xe,et=he,Je=qe)=>{let Ut=Xe.reduce((Ft,In)=>Ft+qa(In)*In.quantity,0);return Je==="percent"&&et>0?Ut=Ut*(1-et/100):Je==="amount"&&et>0&&(Ut=Math.max(0,Ut-et)),Math.round(Ut)},vr=(Xe,et=he,Je=qe)=>{let ot=Ks(Xe,et,Je);if(te&&ne&&oe){let Ut=0;const Ft=parseFloat(te.balance||0);ne==="percent"&&G>0?Ut=Ft*G/100:ne==="amount"&&Y>0&&(Ut=Y),Ut=Math.min(Ut,ot),Ut=Math.round(Ut),ot=ot-Ut}return Math.max(0,Math.round(ot))},Ws=(Xe,et=he,Je=qe)=>Gs(Xe)-Ks(Xe,et,Je),Ja=(Xe,et=he,Je=qe)=>{var In;if(!te||!z||!z.is_enabled)return null;const ot=Ks(Xe,et,Je);if(ot<parseFloat(z.min_purchase_amount||0))return null;let Ut=0;z.is_fixed_percent&&M===null?Ut=parseFloat(z.bonus_percent||0):M!==null?Ut=parseFloat(M):Z==="tier"&&((In=te.tier)!=null&&In.bonus_percent)?Ut=parseFloat(te.tier.bonus_percent):Ut=parseFloat(z.bonus_percent||0);let Ft=ot*Ut/100;if(z.max_bonus_percent){const gn=ot*parseFloat(z.max_bonus_percent)/100;Ft=Math.min(Ft,gn)}return z.max_bonus_amount&&(Ft=Math.min(Ft,parseFloat(z.max_bonus_amount))),Math.max(0,Math.round(Ft))},ji=async()=>{var Ut,Ft,In,gn,Xn,Gt,Dn;if(dt)return;const Xe=Lt===1?a:i,et=Lt===1?he:Pe,Je=Lt===1?qe:Ge;if(Xe.filter(hn=>hn.useFifo===!1&&!hn.batchId).length>0){alert("    FIFO   ");return}if(te){const hn=parseFloat(te.balance||0);if(ne==="amount"&&Y>hn){alert(`   . : ${hn.toFixed(2)} `);return}if(ne==="percent"&&G>0&&hn*G/100>hn){alert(`   . : ${hn.toFixed(2)} `);return}}It(!0);try{const hn={items:Xe.map(Qt=>{const jt=(Qt.unitDisplay||".")===".";let rn=Qt.quantity;jt?rn=Math.floor(Qt.quantity):rn=parseFloat(Qt.quantity.toFixed(3));const On={variant:Qt.variantId,location:Qt.location,quantity:rn,discount_amount:Qt.itemDiscountAmount||0,discount_percent:Qt.itemDiscountPercent||0,use_fifo:Qt.useFifo!==!1};return Qt.useFifo===!1&&Qt.batchId&&(On.batch_id=Qt.batchId),On}),payment_method:B,customer:((Ut=te==null?void 0:te.user)==null?void 0:Ut.id)||null,customer_name:$||((Ft=te==null?void 0:te.user)==null?void 0:Ft.full_name)||null,customer_phone:F||null,discount_amount:Je==="amount"?et:0,discount_percent:Je==="percent"?et:0,bonus_redemption_percent:ne==="percent"&&G>0?G:null,bonus_redemption_amount:ne==="amount"&&Y>0?Y:null,bonus_percent_override:M||null,bonus_accrual_mode:Z};console.log("  :",hn);const as=await Be.post(`/api/business/${e}/create-receipt/`,hn);console.log(" :",as.data),console.log("receipt_preview_image:",(In=as.data)==null?void 0:In.receipt_preview_image),console.log("receipt_pdf_file:",(gn=as.data)==null?void 0:gn.receipt_pdf_file),Rt(as.data),jn(!0),await rr(),Lt===1?(r([]),Ze(0)):(o([]),bt(0)),za({}),J(null),ee(null),A("tier"),Q(0),ae(0),re("percent"),me(!1),U(""),H("")}catch(hn){console.error("Sale error:",((Xn=hn.response)==null?void 0:Xn.data)||hn.message),alert("   : "+(((Dn=(Gt=hn.response)==null?void 0:Gt.data)==null?void 0:Dn.message)||hn.message))}finally{It(!1)}},aa=()=>{Fe===1||(bt(he),ue(qe)),be(!1)},Rs=(Xe,et)=>{et(Je=>Je.map(ot=>ot.variantId===Ye?{...ot,itemDiscountAmount:pn==="amount"?parseFloat(yt):0,itemDiscountPercent:pn==="percent"?parseFloat(yt):0,price:qa(ot)}:ot)),xe(!1),ln(0)},qn=(Xe,et,Je)=>{const ot=Je===1?he:Pe,Ut=Je===1?qe:Ge,Ft=Gs(Xe),In=Ks(Xe,ot,Ut),gn=vr(Xe,ot,Ut);return s.jsxs("div",{className:Ve.cartFooter,children:[s.jsxs("div",{className:Ve.cartTotals,children:[s.jsxs("div",{className:Ve.totalRow,children:[s.jsx("span",{children:"  :"}),s.jsxs("span",{children:[Ft.toLocaleString()," "]})]}),Xe.some(Xn=>Xn.hasOriginalDiscount)&&s.jsxs("div",{className:Ve.totalRow,children:[s.jsx("span",{children:" :"}),s.jsxs("span",{className:Ve.discountValue,children:["-",Xe.reduce((Xn,Gt)=>Gt.hasOriginalDiscount?Xn+(Gt.originalPrice-Math.round(Gt.originalPrice*(1-Gt.discount/100)))*Gt.quantity:Xn,0).toLocaleString()," "]})]}),Xe.some(Xn=>Xn.itemDiscountPercent>0||Xn.itemDiscountAmount>0)&&s.jsxs("div",{className:Ve.totalRow,children:[s.jsx("span",{children:" :"}),s.jsxs("span",{className:Ve.discountValue,children:["-",Xe.reduce((Xn,Gt)=>{const Dn=Gt.hasOriginalDiscount?Math.round(Gt.originalPrice*(1-Gt.discount/100)):Gt.originalPrice,hn=qa(Gt);return Xn+(Dn-hn)*Gt.quantity},0).toLocaleString()," "]})]}),ot>0&&s.jsxs("div",{className:Ve.totalRow,children:[s.jsx("span",{children:"   :"}),s.jsxs("span",{className:Ve.discountValue,children:["-",(Ut==="percent"?(Ft-Xe.reduce((Xn,Gt)=>{Gt.hasOriginalDiscount&&(Xn+=(Gt.originalPrice-Math.round(Gt.originalPrice*(1-Gt.discount/100)))*Gt.quantity);const Dn=Gt.hasOriginalDiscount?Math.round(Gt.originalPrice*(1-Gt.discount/100)):Gt.originalPrice,hn=qa(Gt);return Xn+=(Dn-hn)*Gt.quantity,Xn},0))*ot/100:ot).toLocaleString()," "]})]}),s.jsxs("div",{className:`${Ve.totalRow} ${Ve.grandTotal}`,children:[s.jsx("span",{children:"  :"}),s.jsxs("span",{children:[gn.toLocaleString()," "]})]}),te&&ne&&oe&&(()=>{const Xn=parseFloat(te.balance||0);let Gt=0;return ne==="percent"&&G>0?Gt=Math.min(Xn*G/100,In):ne==="amount"&&Y>0&&(Gt=Math.min(Y,In)),Gt=Math.round(Gt),Gt>0?s.jsxs("div",{className:Ve.totalRow,style:{color:"var(--accent-green)",fontSize:"14px",marginTop:"4px"},children:[s.jsx("span",{children:" :"}),s.jsxs("span",{children:["-",Gt," "]})]}):null})()]}),s.jsxs("div",{className:Ve.cartActions,children:[s.jsxs("button",{className:Ve.discountButton,onClick:()=>{je(Je),be(!0)},disabled:Xe.length===0,children:[s.jsx(vd,{})," "]}),s.jsxs("button",{className:Ve.clearCartButton,onClick:()=>{et([]),Je===1&&za({})},disabled:Xe.length===0,children:[s.jsx(zh,{})," "]}),s.jsxs("button",{className:Ve.checkoutButton,onClick:()=>{on(Je),P(!0)},disabled:Xe.length===0,children:[s.jsx(Bx,{})," "]})]})]})},it=async()=>{if(!(st!=null&&st.receipt_pdf_file)){console.error("PDF    ");return}await qm(st.receipt_pdf_file)},Le=async()=>{st!=null&&st.receipt_pdf_file&&await T0(st.receipt_pdf_file)},Qe=()=>{if(Se)return s.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"200px"},children:s.jsx(Fn,{size:"medium"})});if(de)return s.jsxs("div",{className:Ve.error,children:[": ",de]});if(Ce.length===0)return s.jsx("div",{className:Ve.empty,children:"  "});const Xe=Ce.flatMap(et=>et.variants.map(Je=>({product:et,variant:Je,availableQty:Je.available_quantity_in_location??0})));return Xe.sort((et,Je)=>et.availableQty>0&&Je.availableQty===0?-1:et.availableQty===0&&Je.availableQty>0?1:et.availableQty>0&&Je.availableQty>0?Je.availableQty-et.availableQty:0),s.jsx("div",{className:Ve.productsGrid,children:Xe.map(({product:et,variant:Je})=>{var Qt,ys;const ot=Je.available_quantity_in_location??0,Ut=((Qt=et.images.find(jt=>jt.is_main))==null?void 0:Qt.image)||((ys=et.images[0])==null?void 0:ys.image),Ft=Je.price!==null&&Je.price!==void 0,In=`${et.id}-${Je.id}`,gn=Ms.has(In),Xn=gn?Je.attributes:Je.attributes.slice(0,2),Gt=Je.attributes.length>2,Dn=Ft&&Je.discount>0?Math.round(Je.price*(1-Je.discount/100)):Ft?parseFloat(Je.price):null,hn=Ft?parseFloat(Je.price):null,as=jt=>{jt.stopPropagation(),Xs(rn=>{const On=new Set(rn);return On.has(In)?On.delete(In):On.add(In),On})};return s.jsxs("div",{className:`${Ve.productCard} ${(c==null?void 0:c.id)===et.id&&(d==null?void 0:d.id)===Je.id?Ve.selected:""}`,onClick:()=>{l(et),f(Je),Re(0)},children:[s.jsxs("div",{className:Ve.productImageWrapper,children:[s.jsx("div",{className:Ve.productImage,children:s.jsx("img",{src:Ut,alt:et.name,onError:jt=>{jt.target.src="https://via.placeholder.com/300x400?text=No+Image"}})}),Je.discount>0&&Ft&&s.jsxs("div",{className:Ve.discountBadgeOverlay,children:["-",Je.discount,"%"]})]}),s.jsxs("div",{className:Ve.productInfo,children:[s.jsxs("div",{className:Ve.productHeader,children:[s.jsx("h4",{className:Ve.productTitle,title:et.name,children:et.name}),Je.sku&&s.jsx("span",{className:Ve.productSku,title:`: ${Je.sku}`,children:Je.sku})]}),Xn.length>0&&s.jsxs("div",{className:Ve.attributesContainer,children:[s.jsx("div",{className:Ve.attributes,children:Xn.map(jt=>s.jsx("span",{className:Ve.attributeBadge,title:`${jt.category_attribute_name}: ${jt.custom_value||jt.predefined_value_name}`,children:jt.custom_value||jt.predefined_value_name},jt.id))}),Gt&&s.jsx("button",{className:Ve.expandAttributesButton,onClick:as,title:gn?" ":"  ",children:gn?s.jsxs(s.Fragment,{children:[s.jsx(ko,{})," "]}):s.jsxs(s.Fragment,{children:[s.jsx(No,{}),"   (",Je.attributes.length-2,")"]})})]}),s.jsxs("div",{className:Ve.productDetails,children:[s.jsx("div",{className:Ve.priceSection,children:Ft?Je.discount>0?s.jsx("div",{className:Ve.priceContainer,children:s.jsxs("div",{className:Ve.priceRow,children:[s.jsxs("span",{className:Ve.discountedPrice,children:[Dn.toLocaleString()," "]}),s.jsxs("span",{className:Ve.originalPrice,children:[hn.toLocaleString()," "]})]})}):s.jsx("div",{className:Ve.priceContainer,children:s.jsxs("span",{className:Ve.regularPrice,children:[hn.toLocaleString()," "]})}):s.jsx("span",{className:Ve.noPrice,children:"  "})}),s.jsx("div",{className:Ve.stockInfo,children:s.jsx("span",{className:`${Ve.stockBadge} ${ot>0?Ve.inStock:Ve.outOfStock}`,children:ot>0?s.jsxs(s.Fragment,{children:[s.jsx("span",{className:Ve.stockIcon,children:""}),ot," ",(et==null?void 0:et.unit_display)||"."]}):s.jsxs(s.Fragment,{children:[s.jsx("span",{className:Ve.stockIcon,children:""}),"  "]})})})]}),s.jsxs("div",{className:Ve.productActions,children:[s.jsxs("button",{className:`${Ve.addToCartButton} ${Ve.cartButton1}`,onClick:jt=>{jt.stopPropagation(),sa(et,Je,1)},disabled:ot<=0||!Ft,title:"   1",children:[s.jsx(Va,{}),"  1"]}),s.jsxs("button",{className:`${Ve.addToCartButton} ${Ve.cartButton2}`,onClick:jt=>{jt.stopPropagation(),sa(et,Je,2)},disabled:ot<=0||!Ft,title:"   2",children:[s.jsx(Va,{}),"  2"]})]})]})]},`${et.id}-${Je.id}`)})})},Tt=(Xe,et,Je)=>Xe.length===0?s.jsxs("div",{className:Ve.emptyCart,children:[s.jsx(Ah,{size:"2em"}),s.jsx("p",{children:"   "})]}):s.jsx("div",{className:Ve.cartItems,children:Xe.map(ot=>{var Xn;const Ut=qa(ot);ot.hasOriginalDiscount?Math.round(ot.originalPrice*(1-ot.discount/100)):ot.originalPrice;const Ft=ot.itemDiscountPercent>0||ot.itemDiscountAmount>0,In=Ce.find(Gt=>Gt.id===ot.productId),gn=In==null?void 0:In.variants.find(Gt=>Gt.id===ot.variantId);return s.jsxs("div",{className:Ve.cartItem,children:[s.jsx("div",{className:Ve.cartItemImage,children:s.jsx("img",{src:ot.image,alt:ot.productName,onError:Gt=>{Gt.target.src="https://via.placeholder.com/120x120?text=No+Image"}})}),s.jsxs("div",{className:Ve.cartItemContent,children:[s.jsxs("div",{className:Ve.cartItemTop,children:[s.jsx("h5",{className:Ve.cartItemTitle,children:ot.productName}),s.jsx("button",{className:Ve.removeItemButton,onClick:()=>{et(Gt=>Gt.filter(Dn=>!(Dn.variantId===ot.variantId&&(ot.batchId===null||Dn.batchId===ot.batchId))))},title:" ",children:s.jsx(da,{})})]}),ot.attributes&&ot.attributes.length>0&&s.jsxs("div",{className:Ve.cartItemAttributes,children:[(Cr.has(ot.variantId)?ot.attributes:ot.attributes.slice(0,3)).map(Gt=>s.jsxs("span",{className:Ve.cartItemAttribute,children:[s.jsxs("span",{className:Ve.attributeName,children:[Gt.category_attribute_name,":"]}),s.jsx("span",{className:Ve.attributeValue,children:Gt.custom_value||Gt.predefined_value_name})]},Gt.id)),ot.attributes.length>3&&s.jsx("button",{className:Ve.expandAttributesButton,onClick:Gt=>{Gt.stopPropagation(),Ua(Dn=>{const hn=new Set(Dn);return hn.has(ot.variantId)?hn.delete(ot.variantId):hn.add(ot.variantId),hn})},children:Cr.has(ot.variantId)?s.jsxs(s.Fragment,{children:[" ",s.jsx(ko,{})]}):s.jsxs(s.Fragment,{children:["+",ot.attributes.length-3,"  ",s.jsx(No,{})]})})]}),s.jsxs("div",{className:Ve.cartItemMeta,children:[s.jsxs("span",{className:Ve.cartItemSku,children:[": ",ot.sku]}),ot.unitDisplay&&s.jsxs("span",{className:Ve.cartItemUnit,children:[" ",ot.unitDisplay]})]}),((Xn=gn==null?void 0:gn.stocks_data)==null?void 0:Xn.stocks)&&s.jsxs("div",{className:Ve.itemBatchSelection,children:[s.jsx("div",{className:Ve.fifoCheckboxGroup,children:s.jsxs("label",{className:Ve.fifoCheckboxLabel,children:[s.jsx("input",{type:"checkbox",checked:ot.useFifo!==!1,onChange:Gt=>{const Dn=Gt.target.checked;et(hn=>hn.map(as=>as.variantId===ot.variantId?{...as,useFifo:Dn,batchId:Dn?null:as.batchId,batchInfo:Dn?null:as.batchInfo}:as))},className:Ve.fifoCheckbox}),s.jsxs("span",{className:Ve.fifoLabel,children:["FIFO",s.jsxs("span",{className:Ve.availableQtyBadge,children:["( : ",(gn==null?void 0:gn.available_quantity_in_location)??ot.stock??0," ",ot.unitDisplay||(In==null?void 0:In.unit_display)||".",")"]})]}),s.jsxs("div",{className:Ve.fifoTooltipIcon,onMouseEnter:()=>Us(ot.variantId),onMouseLeave:()=>Us(null),children:["?",ur===ot.variantId&&s.jsx("div",{className:Ve.fifoTooltip,children:"FIFO (First In, First Out)    ,           .       ."})]})]})}),ot.useFifo===!1&&s.jsxs("div",{className:Ve.batchSelectWrapper,children:[s.jsx("label",{className:Ve.batchSelectLabel,children:":"}),s.jsxs("select",{value:ot.batchId||"",onChange:Gt=>{const Dn=Gt.target.value?parseInt(Gt.target.value):null,hn=gn.stocks_data.stocks.find(Qt=>{var ys;return((ys=Qt.batch_info)==null?void 0:ys.id)===Dn}),as=hn!=null&&hn.batch_info?{id:hn.batch_info.id,batch_number:hn.batch_info.batch_number,received_date:hn.batch_info.received_date}:null;et(Qt=>Qt.map(ys=>ys.variantId===ot.variantId?{...ys,batchId:Dn,batchInfo:as}:ys))},className:Ve.batchSelect,children:[s.jsx("option",{value:"",children:"--   --"}),gn.stocks_data.stocks.filter(Gt=>Gt.batch_info&&parseFloat(Gt.available_quantity||0)>0).map(Gt=>{const Dn=Gt.batch_info,as=new Date(Dn.received_date).toLocaleString("ru-RU",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"});return s.jsxs("option",{value:Dn.id,children:[Dn.batch_number," - ",as," (: ",Gt.available_quantity," ",Gt.unit_display||ot.unitDisplay||(In==null?void 0:In.unit_display)||".",")"]},Dn.id)})]})]})]}),s.jsx("div",{className:Ve.cartItemBottom,children:s.jsxs("div",{className:Ve.cartItemBottomLeft,children:[s.jsx("div",{className:Ve.quantityControl,children:(()=>{const Gt=ot.unitDisplay||".",Dn=Gt===".",hn=Dn?1:.5,as=Dn?1:.1,Qt=Dn?1:.1;return s.jsxs(s.Fragment,{children:[s.jsx("button",{className:Ve.quantityButton,onClick:()=>{const ys=ot.quantity-hn,jt=Xe.find(ws=>ws.variantId===ot.variantId);if(!jt)return;const On=(jt.unitDisplay||".")===".";let bs;On?bs=Math.max(1,Math.floor(ys)||1):bs=Math.max(.001,parseFloat(ys)||.001),bs>jt.stock&&(alert("   "),bs=jt.stock),et(ws=>ws.map(fa=>fa.variantId===ot.variantId?{...fa,quantity:bs}:fa))},children:s.jsx(DR,{})}),s.jsxs("div",{className:Ve.quantityInputWrapper,children:[s.jsx("input",{type:"number",value:ot.quantity,onChange:ys=>{const jt=ys.target.value;if(jt===""||jt===null){et(ir=>ir.map(tr=>tr.variantId===ot.variantId?{...tr,quantity:""}:tr));return}const rn=parseFloat(jt);if(isNaN(rn))return;const On=Xe.find(ir=>ir.variantId===ot.variantId);if(!On)return;const ws=(On.unitDisplay||".")===".";let fa;ws?fa=Math.max(1,Math.floor(rn)||1):fa=Math.max(.001,parseFloat(rn)||.001),fa>On.stock&&(alert("   "),fa=On.stock),et(ir=>ir.map(tr=>tr.variantId===ot.variantId?{...tr,quantity:fa}:tr))},onBlur:ys=>{const jt=ys.target.value;if(jt===""||jt===null||parseFloat(jt)<Qt){const rn=Xe.find(fa=>fa.variantId===ot.variantId);if(!rn)return;const ws=(rn.unitDisplay||".")==="."?1:.1;et(fa=>fa.map(ir=>ir.variantId===ot.variantId?{...ir,quantity:ws}:ir))}else{const rn=parseFloat(jt);if(!isNaN(rn)){const On=Xe.find(ir=>ir.variantId===ot.variantId);if(!On)return;const fa=(On.unitDisplay||".")==="."?Math.floor(rn):parseFloat(rn.toFixed(3));et(ir=>ir.map(tr=>tr.variantId===ot.variantId?{...tr,quantity:fa}:tr))}}},step:as,min:Qt,max:ot.stock,className:Ve.quantityInput}),s.jsx("span",{className:Ve.quantityUnit,children:Gt})]}),s.jsx("button",{className:Ve.quantityButton,onClick:()=>{const ys=ot.quantity+hn,jt=Xe.find(rn=>rn.variantId===ot.variantId);if(jt&&ys<=jt.stock){const On=(jt.unitDisplay||".")===".";let bs;On?bs=Math.floor(ys):bs=parseFloat(ys.toFixed(3)),et(ws=>ws.map(fa=>fa.variantId===ot.variantId?{...fa,quantity:bs}:fa))}},disabled:ot.quantity>=ot.stock,children:s.jsx(Va,{})})]})})()}),s.jsxs("button",{className:Ve.discountButton,onClick:()=>{at(ot.variantId),Mt(Je),Qn(ot.itemDiscountPercent>0?"percent":"amount"),ln(ot.itemDiscountPercent>0?ot.itemDiscountPercent:ot.itemDiscountAmount),xe(!0)},title:"  ",children:[s.jsx(vd,{})," "]}),s.jsx("div",{className:Ve.cartItemPrice,children:ot.hasOriginalDiscount||Ft?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:Ve.priceOriginal,children:[(ot.originalPrice*ot.quantity).toLocaleString()," "]}),s.jsxs("div",{className:Ve.priceFinal,children:[(Ut*ot.quantity).toLocaleString()," "]})]}):s.jsxs("div",{className:Ve.priceFinal,children:[(Ut*ot.quantity).toLocaleString()," "]})})]})})]})]},ot.variantId)})});return s.jsxs("div",{className:Ve.container,children:[s.jsxs("div",{className:Ve.header,children:[s.jsxs("h1",{className:Ve.title,children:[s.jsx(Bx,{})," "]}),s.jsx("button",{onClick:()=>t(`/business/${e}/bonus-history`),className:Ve.bonusHistoryButton,title:" ",children:s.jsx(vi,{})})]}),s.jsxs("div",{className:Ve.tabs,children:[s.jsxs("button",{className:`${Ve.tab} ${Qa==="products"?Ve.active:""}`,onClick:()=>qt("products"),children:[s.jsx(Ah,{})," ",Ce.length>0&&s.jsx("span",{className:Ve.tabBadge,children:Ce.length})]}),s.jsxs("button",{className:`${Ve.tab} ${Qa==="carts"?Ve.active:""}`,onClick:()=>qt("carts"),children:[s.jsx(sS,{})," ",(a.length>0||i.length>0)&&s.jsx("span",{className:Ve.tabBadge,children:a.length+i.length})]})]}),s.jsx("div",{className:Ve.content,children:Qa==="products"?s.jsxs("div",{className:Ve.productsTab,children:[s.jsxs("div",{className:Ve.filtersSection,children:[s.jsx(R7,{options:ia,value:Vn,onChange:Xe=>{Na(Xe),r([]),o([]),za({}),b(""),C(""),k(""),pe(null)},disabled:Qs,placeholder:Qs?"...":" ...",icon:sS,label:"",required:!0,getOptionLabel:Xe=>Xe.name+(Xe.is_primary?" ":""),getOptionSubLabel:Xe=>{var et;return((et=Xe.location_type_detail)==null?void 0:et.name)||(Xe.address?Xe.address:"")}}),s.jsx(R7,{options:[{id:"",name:" "},...Ee],value:S,onChange:k,disabled:!Vn,placeholder:" ...",icon:Ah,label:"",getOptionLabel:Xe=>Xe.name,getOptionSubLabel:Xe=>Xe.full_path||""})]}),s.jsxs("div",{className:Ve.searchSection,children:[s.jsxs("div",{className:Ve.searchInputGroup,children:[s.jsx(hi,{className:Ve.searchIcon}),s.jsx("input",{ref:fs,type:"text",placeholder:vn?" -...":"  ,   -...",value:g,onChange:vn?js:Xe=>b(Xe.target.value),onKeyDown:vn?Ds:Xe=>{Xe.key==="Enter"&&Ma()},disabled:!Vn,className:Ve.searchInput}),s.jsx("button",{className:`${Ve.scannerButton} ${vn?Ve.scannerActive:""}`,onClick:()=>{ss(Xe=>!Xe),setTimeout(()=>{fs.current&&fs.current.focus()},100)},type:"button",disabled:!Vn,children:vn?s.jsx(Xr,{}):s.jsx(CR,{})}),s.jsx("button",{className:Ve.searchButton,onClick:Ma,disabled:!Vn,children:s.jsx(hi,{})})]}),s.jsx("div",{className:Ve.filterCheckbox,children:s.jsxs("label",{children:[s.jsx("input",{type:"checkbox",checked:E,onChange:Xe=>D(Xe.target.checked),disabled:!Vn}),s.jsx("span",{children:"   "})]})})]}),s.jsx("div",{className:Ve.searchResults,children:Qe()})]}):s.jsxs("div",{className:Ve.cartsTab,children:[s.jsxs("div",{className:Ve.cartCard,children:[s.jsxs("div",{className:Ve.cartHeader,children:[s.jsx("h4",{children:" 1"}),a.length>0&&s.jsx("span",{className:Ve.cartCount,children:a.length})]}),s.jsxs("div",{className:Ve.cartBody,children:[Tt(a,r,1),qn(a,r,1)]})]}),s.jsxs("div",{className:Ve.cartCard,children:[s.jsxs("div",{className:Ve.cartHeader,children:[s.jsx("h4",{children:" 2"}),i.length>0&&s.jsx("span",{className:Ve.cartCount,children:i.length})]}),s.jsxs("div",{className:Ve.cartBody,children:[Tt(i,o,2),qn(i,o,2)]})]})]})}),ge&&s.jsx("div",{className:Ve.modalOverlay,children:s.jsxs("div",{className:Ve.modal,tabIndex:-1,"aria-modal":"true",role:"dialog",children:[s.jsxs("div",{className:Ve.modalHeader,children:[s.jsxs("h4",{children:["    ( ",Fe,")"]}),s.jsx(Li,{onClick:()=>be(!1)})]}),s.jsx("div",{className:Ve.modalBody,children:s.jsxs("div",{className:Ve.discountControls,children:[s.jsxs("div",{className:Ve.discountType,role:"radiogroup","aria-label":" ",children:[s.jsxs("label",{className:Ve.radioLabel,children:[s.jsx("input",{type:"radio",checked:qe==="percent",onChange:()=>tt("percent")}),s.jsx("span",{children:""})]}),s.jsxs("label",{className:Ve.radioLabel,children:[s.jsx("input",{type:"radio",checked:qe==="amount",onChange:()=>tt("amount")}),s.jsx("span",{children:""})]})]}),s.jsx("div",{className:Ve.discountInput,children:qe==="percent"?s.jsxs(s.Fragment,{children:[s.jsx("input",{type:"number",value:he,autoFocus:!0,onChange:Xe=>Ze(Math.min(100,Math.max(0,Number(Xe.target.value)))),min:"0",max:"100",placeholder:"0"}),s.jsx("span",{className:Ve.inputUnit,children:"%"})]}):s.jsxs(s.Fragment,{children:[s.jsx("input",{type:"number",value:he,autoFocus:!0,onChange:Xe=>Ze(Math.max(0,Number(Xe.target.value))),min:"0",placeholder:"0"}),s.jsx("span",{className:Ve.inputUnit,children:""})]})})]})}),s.jsxs("div",{className:Ve.modalFooter,children:[s.jsx("button",{className:Ve.secondaryButton,onClick:()=>be(!1),children:""}),s.jsx("button",{className:Ve.primaryButton,onClick:aa,children:""})]})]})}),De&&s.jsx("div",{className:Ve.modalOverlay,children:s.jsxs("div",{className:Ve.modal,tabIndex:-1,"aria-modal":"true",role:"dialog",children:[s.jsxs("div",{className:Ve.modalHeader,children:[s.jsx("h4",{children:"  "}),s.jsx(Li,{onClick:()=>xe(!1)})]}),s.jsx("div",{className:Ve.modalBody,children:s.jsxs("div",{className:Ve.discountControls,children:[s.jsxs("div",{className:Ve.discountType,role:"radiogroup","aria-label":" ",children:[s.jsxs("label",{className:Ve.radioLabel,children:[s.jsx("input",{type:"radio",checked:pn==="percent",onChange:()=>Qn("percent")}),s.jsx("span",{children:""})]}),s.jsxs("label",{className:Ve.radioLabel,children:[s.jsx("input",{type:"radio",checked:pn==="amount",onChange:()=>Qn("amount")}),s.jsx("span",{children:""})]})]}),s.jsx("div",{className:Ve.discountInput,children:pn==="percent"?s.jsxs(s.Fragment,{children:[s.jsx("input",{type:"number",value:yt,autoFocus:!0,onChange:Xe=>ln(Math.min(100,Math.max(0,Number(Xe.target.value)))),min:"0",max:"100",placeholder:"0"}),s.jsx("span",{className:Ve.inputUnit,children:"%"})]}):s.jsxs(s.Fragment,{children:[s.jsx("input",{type:"number",value:yt,autoFocus:!0,onChange:Xe=>ln(Math.max(0,Number(Xe.target.value))),min:"0",placeholder:"0"}),s.jsx("span",{className:Ve.inputUnit,children:""})]})}),Ye&&(()=>{const et=(lt===1?a:i).find(Je=>Je.variantId===Ye);return et?s.jsxs("div",{className:Ve.currentDiscountInfo,children:[s.jsxs("p",{children:[s.jsx("span",{children:" :"}),s.jsxs("span",{className:Ve.nowPrice,children:[et.price.toLocaleString()," "]})]}),s.jsxs("p",{children:[s.jsx("span",{children:" :"}),s.jsxs("span",{className:Ve.oldPrice,children:[et.originalPrice.toLocaleString()," "]})]}),et.hasOriginalDiscount&&s.jsxs("p",{children:[s.jsx("span",{children:" :"}),s.jsxs("span",{className:Ve.discountValueAccent,children:[et.discount,"%"]})]})]}):null})()]})}),s.jsxs("div",{className:Ve.modalFooter,children:[s.jsx("button",{className:Ve.secondaryButton,onClick:()=>xe(!1),children:""}),s.jsx("button",{className:Ve.primaryButton,onClick:()=>{lt===1?Rs(a,r):Rs(i,o)},children:""})]})]})}),R&&s.jsx("div",{className:Ve.modalOverlay,children:s.jsxs("div",{className:Ve.modal,children:[s.jsxs("div",{className:Ve.modalHeader,children:[s.jsx("h4",{children:fn?" ":" "}),s.jsx(Li,{onClick:()=>{fn&&(jn(!1),Rt(null),Lt===1?(r([]),Ze(0)):(o([]),bt(0)),U(""),H(""),J(null),ee(null),Q(0),ae(0),re("percent"),me(!1)),P(!1)}})]}),s.jsx("div",{className:Ve.modalBody,children:fn?st?s.jsxs("div",{className:Ve.receiptCompleted,children:[st.receipt_preview_image?s.jsx("div",{className:Ve.receiptImageContainer,children:s.jsx("img",{src:st.receipt_preview_image||n(st.receipt_preview_image),alt:` ${st.number}`,className:Ve.receiptImage,onError:Xe=>{console.error("   :",st.receipt_preview_image);const et=st.receipt_preview_image||n(st.receipt_preview_image);console.error(" URL:",et),Xe.target.src="https://via.placeholder.com/300x400?text=No+Image"},onLoad:()=>{const Xe=st.receipt_preview_image||n(st.receipt_preview_image);console.log("   :",Xe)}})}):s.jsx("div",{className:Ve.receiptImageContainer,children:s.jsxs("div",{className:Ve.receiptImagePlaceholder,children:[s.jsx("p",{children:"  "}),s.jsxs("small",{children:["PDF : ",st.receipt_pdf_file?"":""]})]})}),s.jsxs("div",{className:Ve.receiptInfo,children:[s.jsxs("h5",{children:[" #",st.number]}),s.jsxs("p",{children:[s.jsx("strong",{children:":"})," ",new Date(st.created_at).toLocaleString()]}),s.jsxs("p",{children:[s.jsx("strong",{children:":"})," ",parseFloat(st.total_amount).toLocaleString()," "]}),s.jsxs("p",{children:[s.jsx("strong",{children:" :"})," ",st.payment_method]}),st.customer_name&&s.jsxs("p",{children:[s.jsx("strong",{children:":"})," ",st.customer_name]}),st.customer_phone&&s.jsxs("p",{children:[s.jsx("strong",{children:":"})," ",st.customer_phone]}),st.bonus_info&&s.jsxs("div",{className:Ve.receiptBonusInfo,children:[s.jsxs("h6",{children:[s.jsx(vi,{}),"   "]}),st.bonus_info.tier&&s.jsxs("p",{children:[s.jsx("strong",{children:" :"})," ",st.bonus_info.tier.name," (",st.bonus_info.tier.bonus_percent,"%)"]}),s.jsxs("p",{children:[s.jsx("strong",{children:" :"})," ",parseFloat(st.bonus_info.bonus_percent||0).toFixed(2),"%"]}),parseFloat(st.bonus_info.accrued||0)>0&&s.jsxs("p",{children:[s.jsx("strong",{children:" :"})," ","+",Math.round(parseFloat(st.bonus_info.accrued))," "]}),parseFloat(st.bonus_info.redeemed||0)>0&&s.jsxs("p",{children:[s.jsx("strong",{children:" :"})," ","-",Math.round(parseFloat(st.bonus_info.redeemed))," "]}),s.jsxs("p",{children:[s.jsx("strong",{children:"  :"})," ",parseFloat(st.bonus_info.balance_after||0).toFixed(2)," "]})]})]})]}):s.jsx("div",{className:Ve.receiptLoading,children:s.jsx("p",{children:" ..."})}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:Ve.receiptAndBonusContainer,children:[s.jsxs("div",{className:Ve.receiptPreview,children:[s.jsxs("div",{className:Ve.receiptHeader,children:[s.jsxs("h5",{children:[" #",new Date().getTime().toString().slice(-6)]}),s.jsx("p",{children:new Date().toLocaleString("ru-RU")})]}),s.jsx("div",{className:Ve.receiptItems,children:(Lt===1?a:i).map(Xe=>{const et=qa(Xe),Je=Xe.originalPrice,ot=Xe.itemDiscountPercent>0||Xe.itemDiscountAmount>0,Ut=Xe.hasOriginalDiscount,Ft=Ut?Math.round(Je*(1-Xe.discount/100)):Je;return s.jsx("div",{className:Ve.receiptItem,children:s.jsxs("div",{className:Ve.receiptItemMain,children:[s.jsxs("div",{className:Ve.receiptItemName,children:[Xe.productName,s.jsx("div",{className:Ve.receiptItemDetails,children:Xe.attributes.map(In=>s.jsxs("span",{className:Ve.receiptItemAttribute,children:[s.jsxs("span",{className:Ve.attributeName,children:[In.category_attribute_name,":"]}),s.jsx("span",{className:Ve.attributeValue,children:In.custom_value||In.predefined_value_name})]},In.id))})]}),s.jsxs("div",{className:Ve.receiptItemPrices,children:[s.jsxs("div",{className:Ve.receiptPriceRow,children:[s.jsxs("span",{className:Ve.priceLabel,children:[Xe.quantity,"  ",Je.toLocaleString()," "]}),s.jsxs("span",{className:Ve.priceValue,children:[(Je*Xe.quantity).toLocaleString()," "]})]}),Ut&&s.jsxs("div",{className:Ve.receiptDiscountRow,children:[s.jsxs("span",{className:Ve.discountLabel,children:[s.jsx(vd,{size:12}),"  ",Xe.discount,"%"]}),s.jsxs("span",{className:Ve.discountValue,children:["-",Math.round(Je*Xe.discount/100*Xe.quantity).toLocaleString()," "]})]}),ot&&s.jsxs("div",{className:Ve.receiptDiscountRow,children:[s.jsxs("span",{className:Ve.discountLabel,children:[s.jsx(vd,{size:12})," ",Xe.itemDiscountPercent>0?`.  ${Xe.itemDiscountPercent}%`:` ${Xe.itemDiscountAmount} `]}),s.jsxs("span",{className:Ve.discountValue,children:["-",Xe.itemDiscountPercent>0?Math.round(Ft*Xe.itemDiscountPercent/100*Xe.quantity).toLocaleString():(Xe.itemDiscountAmount*Xe.quantity).toLocaleString()," "]})]}),s.jsxs("div",{className:Ve.receiptTotalRow,children:[s.jsx("span",{className:Ve.totalLabel,children:"  :"}),s.jsxs("span",{className:Ve.totalValue,children:[(et*Xe.quantity).toLocaleString()," "]})]})]})]})},Xe.variantId)})}),s.jsxs("div",{className:Ve.receiptSummary,children:[s.jsx("div",{className:Ve.receiptSummarySection,children:(()=>{const Xe=Lt===1?a:i,et=Lt===1?he:Pe,Je=Lt===1?qe:Ge,ot=Gs(Xe);return Ks(Xe,et,Je),Ws(Xe,et,Je),s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:Ve.receiptSummaryRow,children:[s.jsx("span",{children:":"}),s.jsxs("span",{children:[ot.toLocaleString()," "]})]}),Xe.some(Ut=>Ut.hasOriginalDiscount)&&s.jsxs("div",{className:Ve.receiptSummaryRow,children:[s.jsx("span",{children:" :"}),s.jsxs("span",{className:Ve.summaryDiscount,children:["-",Xe.reduce((Ut,Ft)=>Ft.hasOriginalDiscount?Ut+(Ft.originalPrice-Math.round(Ft.originalPrice*(1-Ft.discount/100)))*Ft.quantity:Ut,0).toLocaleString()," "]})]}),Xe.some(Ut=>Ut.itemDiscountPercent>0||Ut.itemDiscountAmount>0)&&s.jsxs("div",{className:Ve.receiptSummaryRow,children:[s.jsx("span",{children:" :"}),s.jsxs("span",{className:Ve.summaryDiscount,children:["-",Xe.reduce((Ut,Ft)=>{const In=Ft.hasOriginalDiscount?Math.round(Ft.originalPrice*(1-Ft.discount/100)):Ft.originalPrice,gn=qa(Ft);return Ut+(In-gn)*Ft.quantity},0).toLocaleString()," "]})]}),et>0&&s.jsxs("div",{className:Ve.receiptSummaryRow,children:[s.jsx("span",{children:"   :"}),s.jsxs("span",{className:Ve.summaryDiscount,children:["-",(Je==="percent"?(ot-Xe.reduce((Ut,Ft)=>{Ft.hasOriginalDiscount&&(Ut+=(Ft.originalPrice-Math.round(Ft.originalPrice*(1-Ft.discount/100)))*Ft.quantity);const In=Ft.hasOriginalDiscount?Math.round(Ft.originalPrice*(1-Ft.discount/100)):Ft.originalPrice,gn=qa(Ft);return Ut+=(In-gn)*Ft.quantity,Ut},0))*et/100:et).toLocaleString()," "]})]})]})})()}),s.jsxs("div",{className:Ve.receiptSummarySaleRow,children:[s.jsx("span",{children:"  :"}),s.jsxs("span",{className:Ve.summaryDiscount,children:["-",Ws(Lt===1?a:i,Lt===1?he:Pe,Lt===1?qe:Ge).toLocaleString()," "]})]}),s.jsxs("div",{className:Ve.receiptTotalSection,children:[s.jsxs("div",{className:Ve.receiptTotalRow,children:[s.jsx("span",{children:"  :"}),s.jsxs("span",{className:Ve.receiptGrandTotal,children:[vr(Lt===1?a:i,Lt===1?he:Pe,Lt===1?qe:Ge).toLocaleString()," "]})]}),te&&ne&&oe&&(()=>{const ot=Ks(Lt===1?a:i,Lt===1?he:Pe,Lt===1?qe:Ge),Ut=parseFloat(te.balance||0);let Ft=0;return ne==="percent"&&G>0?Ft=Math.min(Ut*G/100,ot):ne==="amount"&&Y>0&&(Ft=Math.min(Y,ot)),Ft=Math.round(Ft),Ft>0?s.jsxs("div",{className:Ve.receiptTotalRow,style:{color:"var(--accent-green)",fontSize:"14px",marginTop:"8px"},children:[s.jsx("span",{children:" :"}),s.jsxs("span",{children:["-",Ft," "]})]}):null})()]})]})]}),te&&z&&z.is_enabled&&s.jsxs("div",{className:Ve.bonusSection,children:[s.jsx("div",{className:Ve.bonusSectionHeader,children:s.jsxs("h5",{children:[s.jsx(vi,{})," "]})}),s.jsxs("div",{className:Ve.bonusInfo,children:[s.jsxs("div",{className:Ve.bonusBalanceDisplay,children:[s.jsx("div",{className:Ve.bonusBalanceLabel,children:" :"}),s.jsxs("div",{className:Ve.bonusBalanceValue,children:[parseFloat(te.balance||0).toFixed(2)," ",s.jsx("span",{className:Ve.bonusBalanceHint,children:" (1  = 1 )"})]})]}),te.tier&&s.jsxs("div",{className:Ve.bonusTierDisplay,children:[s.jsx("div",{className:Ve.bonusTierLabel,children:":"}),s.jsxs("div",{className:Ve.bonusTierValue,children:[te.tier.name," (",te.tier.bonus_percent,"%)"]})]})]}),s.jsxs("div",{className:Ve.bonusAccrualModeSelector,children:[s.jsx("label",{children:"  :"}),s.jsxs("div",{className:Ve.bonusAccrualModeOptions,children:[s.jsxs("label",{className:Ve.bonusModeOption,children:[s.jsx("input",{type:"radio",name:"bonusAccrualMode",value:"tier",checked:Z==="tier",onChange:Xe=>{A(Xe.target.value),ee(null)},disabled:!te.tier||z.is_fixed_percent}),s.jsxs("span",{children:["  (",((Wt=te.tier)==null?void 0:Wt.bonus_percent)||z.bonus_percent,"%)"]})]}),s.jsxs("label",{className:Ve.bonusModeOption,children:[s.jsx("input",{type:"radio",name:"bonusAccrualMode",value:"settings",checked:Z==="settings",onChange:Xe=>{A(Xe.target.value),ee(null)},disabled:z.is_fixed_percent}),s.jsxs("span",{children:["   (",z.bonus_percent,"%)"]})]})]}),z.is_fixed_percent&&s.jsx("div",{className:Ve.bonusModeHint,children:" ,   "})]}),te.recent_transactions&&te.recent_transactions.length>0&&s.jsxs("div",{className:Ve.bonusHistory,children:[s.jsx("div",{className:Ve.bonusHistoryTitle,children:" :"}),s.jsx("div",{className:Ve.bonusHistoryList,children:te.recent_transactions.slice(0,5).map(Xe=>s.jsxs("div",{className:Ve.bonusHistoryItem,children:[s.jsx("div",{className:Ve.bonusHistoryType,children:Xe.type==="accrual"?"":""}),s.jsxs("div",{className:`${Ve.bonusHistoryAmount} ${parseFloat(Xe.amount)>=0?Ve.positive:Ve.negative}`,children:[parseFloat(Xe.amount)>=0?"+":"",parseFloat(Xe.amount).toFixed(2)]}),s.jsx("div",{className:Ve.bonusHistoryDate,children:new Date(Xe.created_at).toLocaleDateString("ru-RU")})]},Xe.id))})]}),(()=>{var Ft;const ot=Ja(Lt===1?a:i,Lt===1?he:Pe,Lt===1?qe:Ge);let Ut=0;return z.is_fixed_percent&&M===null?Ut=parseFloat(z.bonus_percent||0):M!==null?Ut=M:Z==="tier"&&((Ft=te.tier)!=null&&Ft.bonus_percent)?Ut=parseFloat(te.tier.bonus_percent):Ut=parseFloat(z.bonus_percent||0),ot!==null&&ot>0?s.jsxs("div",{className:Ve.bonusPredictionCard,children:[s.jsx("div",{className:Ve.bonusPredictionLabel,children:"  :"}),s.jsxs("div",{className:Ve.bonusPredictionValue,children:["+",ot," "]}),s.jsxs("div",{className:Ve.bonusPredictionHint,children:["( ",ot," )"]}),s.jsxs("div",{className:Ve.bonusPercentInfo,children:[" : ",parseFloat(Ut).toFixed(2),"%"]})]}):null})(),!z.is_fixed_percent&&s.jsxs("div",{className:Ve.bonusAccrualControl,children:[s.jsx("label",{children:"    (%):"}),s.jsx("input",{type:"number",step:"0.01",min:"0",max:"100",value:M!==null?M:"",onChange:Xe=>ee(Xe.target.value?parseFloat(Xe.target.value):null),placeholder:Z==="tier"&&((zt=te.tier)!=null&&zt.bonus_percent)?te.tier.bonus_percent:z.bonus_percent||"5.00",className:Ve.bonusPercentInput})]}),parseFloat(te.balance||0)>0&&s.jsxs("div",{className:Ve.bonusRedemptionButtonWrapper,children:[s.jsxs("button",{type:"button",onClick:()=>me(!oe),className:`${Ve.bonusRedemptionToggleButton} ${oe?Ve.active:""}`,children:[s.jsx(vi,{})," ",oe?"  ":" "]}),oe&&s.jsxs("div",{className:Ve.bonusRedemptionControl,children:[s.jsx("label",{className:Ve.bonusRedemptionLabel,children:" :"}),s.jsxs("div",{className:Ve.bonusRedemptionType,children:[s.jsxs("label",{className:Ve.radioOption,children:[s.jsx("input",{type:"radio",value:"percent",checked:ne==="percent",onChange:Xe=>{re(Xe.target.value),ae(0)}}),s.jsx("span",{children:"  "})]}),s.jsxs("label",{className:Ve.radioOption,children:[s.jsx("input",{type:"radio",value:"amount",checked:ne==="amount",onChange:Xe=>{re(Xe.target.value),Q(0)}}),s.jsx("span",{children:" "})]})]}),ne==="percent"?s.jsxs("div",{className:Ve.bonusRedemptionInputWrapper,children:[s.jsxs("div",{className:Ve.bonusRedemptionInput,children:[s.jsx("input",{type:"number",min:"0",max:"100",step:"1",value:G||"",onChange:Xe=>{const et=Xe.target.value?parseFloat(Xe.target.value):0;Q(Math.min(100,Math.max(0,et)))},placeholder:"0",className:G>0?Ve.hasValue:""}),s.jsx("span",{className:Ve.inputSuffix,children:"%"})]}),G>0&&s.jsxs("div",{className:Ve.bonusRedemptionPreview,children:[" : ",s.jsxs("span",{className:Ve.bonusRedemptionPreviewValue,children:[Math.round(parseFloat(te.balance||0)*G/100)," "]})]})]}):s.jsxs("div",{className:Ve.bonusRedemptionInputWrapper,children:[s.jsxs("div",{className:Ve.bonusRedemptionInput,children:[s.jsx("input",{type:"number",min:"0",max:parseFloat(te.balance||0),step:"0.01",value:Y||"",onChange:Xe=>{const et=Xe.target.value;if(et===""||et===null){ae(0);return}const Je=parseFloat(et);if(isNaN(Je)){ae(0);return}parseFloat(te.balance||0),ae(Math.max(0,Je))},placeholder:"0.00",className:`${Y>0?Ve.hasValue:""} ${Y>parseFloat(te.balance||0)?Ve.inputError:""}`}),s.jsx("span",{className:Ve.inputSuffix,children:""})]}),Y>0&&s.jsxs("div",{className:`${Ve.bonusRedemptionPreview} ${Y>parseFloat(te.balance||0)?Ve.bonusRedemptionPreviewError:""}`,children:[" : ",s.jsxs("span",{className:Ve.bonusRedemptionPreviewValue,children:[Y.toFixed(2)," "]}),Y>parseFloat(te.balance||0)&&s.jsx("span",{className:Ve.bonusRedemptionError,children:"  "})]}),s.jsxs("div",{className:Ve.bonusRedemptionHint,children:[": ",s.jsxs("strong",{children:[parseFloat(te.balance||0).toFixed(2)," "]})]})]})]})]})]})]}),s.jsxs("div",{className:Ve.paymentForm,children:[s.jsxs("div",{className:Ve.formGroup,children:[s.jsx("label",{children:" "}),s.jsx("select",{value:B,onChange:Xe=>O(Xe.target.value),children:Ae.map(Xe=>s.jsx("option",{value:Xe.code,children:Xe.name},Xe.id))})]}),s.jsxs("div",{className:Ve.formGroup,children:[s.jsx("label",{children:" QR- "}),s.jsxs("button",{type:"button",onClick:()=>K(!0),className:Ve.qrButtonLarge,title:" QR-",children:[s.jsx(fm,{size:32}),s.jsx("span",{className:Ve.qrButtonText,children:" QR-"})]}),s.jsx("p",{className:Ve.qrButtonDescription,children:" QR-         "})]})]})]})}),s.jsx("div",{className:Ve.modalFooter,children:fn?s.jsxs(s.Fragment,{children:[s.jsx("button",{className:Ve.primaryButton,onClick:Le,children:" PDF"}),s.jsxs("button",{className:Ve.primaryButton,onClick:it,children:[s.jsx(Vh,{}),"  "]}),s.jsx("button",{className:Ve.secondaryButton,onClick:()=>{P(!1),jn(!1),r([]),U(""),H(""),J(null),ee(null),Q(0),ae(0),re("percent"),Ze(0)},children:""})]}):s.jsxs(s.Fragment,{children:[s.jsx("button",{className:Ve.secondaryButton,onClick:()=>P(!1),children:""}),s.jsxs("button",{className:Ve.successButton,onClick:ji,disabled:fn||dt,children:[s.jsx(Xr,{})," ",dt?"":" "]})]})})]})}),se&&Vn&&s.jsx(f$,{locationId:Vn,onCustomerSelected:Xe=>{J(Xe),U(Xe.user.full_name||Xe.user.username),Xe.bonus_redemption_percent?(re("percent"),Q(Xe.bonus_redemption_percent)):Xe.bonus_redemption_amount&&(re("amount"),ae(Xe.bonus_redemption_amount)),K(!1)},onClose:()=>K(!1)})]})},uXe="_contentWrapper_1rc8s_32",dXe="_accountContainer_1rc8s_76",hXe="_accountSidebar_1rc8s_93",fXe="_accountMenu_1rc8s_113",mXe="_menuButton_1rc8s_122",pXe="_active_1rc8s_163",gXe="_accountContent_1rc8s_198",_Xe="_settingsTab_1rc8s_206",vXe="_sectionHeader_1rc8s_236",xXe="_formGroup_1rc8s_257",bXe="_editField_1rc8s_272",yXe="_saveButton_1rc8s_353 _button_1rc8s_317",wXe="_editButton_1rc8s_375 _button_1rc8s_317",jXe="_cancelButton_1rc8s_392 _button_1rc8s_317",CXe="_addButton_1rc8s_407 _button_1rc8s_317",SXe="_deleteButton_1rc8s_424 _button_1rc8s_317",NXe="_listContainer_1rc8s_451",kXe="_listItem_1rc8s_457",IXe="_itemInfo_1rc8s_495",EXe="_itemActions_1rc8s_520",TXe="_activeBadge_1rc8s_528",DXe="_defaultBadge_1rc8s_557",AXe="_settingsGrid_1rc8s_573",MXe="_settingsItem_1rc8s_580",RXe="_settingsIcon_1rc8s_621",BXe="_dialogOverlay_1rc8s_660",OXe="_dialog_1rc8s_660",LXe="_dialogHeader_1rc8s_724",$Xe="_closeButton_1rc8s_752",PXe="_dialogContent_1rc8s_773",FXe="_dialogFooter_1rc8s_777",HXe="_checkboxLabel_1rc8s_787",qXe="_fileInput_1rc8s_815",VXe="_fileLabel_1rc8s_830",zXe="_emptyMessage_1rc8s_856",UXe="_infoAlert_1rc8s_868",WXe="_errorContainer_1rc8s_907",YXe="_errorIcon_1rc8s_917",GXe="_photoSection_1rc8s_987",QXe="_logoUploadContainer_1rc8s_995",XXe="_logoPreview_1rc8s_1004",KXe="_logoImage_1rc8s_1024",ZXe="_logoPlaceholder_1rc8s_1030",JXe="_uploadControls_1rc8s_1051",eKe="_uploadButton_1rc8s_1058",tKe="_spinning_1rc8s_1084",nKe="_removeButton_1rc8s_1097",sKe="_uploadInfo_1rc8s_1119",aKe="_templateEditor_1rc8s_1149",rKe="_codeEditor_1rc8s_1153",iKe="_receiptPreviewContainer_1rc8s_1180",oKe="_receiptPreview_1rc8s_1180",cKe="_templateVariables_1rc8s_1206",lKe="_variablesGrid_1rc8s_1234",uKe="_previewButton_1rc8s_1281 _button_1rc8s_317",dKe="_actions_1rc8s_1298",hKe="_businessInfo_1rc8s_1304",nn={contentWrapper:uXe,accountContainer:dXe,accountSidebar:hXe,accountMenu:fXe,menuButton:mXe,active:pXe,accountContent:gXe,settingsTab:_Xe,sectionHeader:vXe,formGroup:xXe,editField:bXe,saveButton:yXe,editButton:wXe,cancelButton:jXe,addButton:CXe,deleteButton:SXe,listContainer:NXe,listItem:kXe,itemInfo:IXe,itemActions:EXe,activeBadge:TXe,defaultBadge:DXe,settingsGrid:AXe,settingsItem:MXe,settingsIcon:RXe,dialogOverlay:BXe,dialog:OXe,dialogHeader:LXe,closeButton:$Xe,dialogContent:PXe,dialogFooter:FXe,checkboxLabel:HXe,fileInput:qXe,fileLabel:VXe,emptyMessage:zXe,infoAlert:UXe,errorContainer:WXe,errorIcon:YXe,photoSection:GXe,logoUploadContainer:QXe,logoPreview:XXe,logoImage:KXe,logoPlaceholder:ZXe,uploadControls:JXe,uploadButton:eKe,spinning:tKe,removeButton:nKe,uploadInfo:sKe,templateEditor:aKe,codeEditor:rKe,receiptPreviewContainer:iKe,receiptPreview:oKe,templateVariables:cKe,variablesGrid:lKe,previewButton:uKe,actions:dKe,businessInfo:hKe},fKe="_container_195y8_13",mKe="_loading_195y8_17",pKe="_spinner_195y8_27",gKe="_header_195y8_41",_Ke="_headerActions_195y8_58",vKe="_createButton_195y8_64",xKe="_refreshButton_195y8_65",bKe="_section_195y8_110",yKe="_sectionHeader_195y8_114",wKe="_deletedCount_195y8_132",jKe="_toggleDeletedButton_195y8_139",CKe="_filtersPanel_195y8_161",SKe="_searchBox_195y8_169",NKe="_searchIcon_195y8_175",kKe="_searchInput_195y8_185",IKe="_clearSearch_195y8_207",EKe="_filterBox_195y8_231",TKe="_filterIcon_195y8_236",DKe="_filterSelect_195y8_247",AKe="_filterResults_195y8_277",MKe="_invitesGrid_195y8_293",RKe="_inviteCard_195y8_299",BKe="_inviteHeader_195y8_314",OKe="_inviteActions_195y8_327",LKe="_qrButton_195y8_342",$Ke="_copyButton_195y8_348",PKe="_cancelButton_195y8_354",FKe="_inviteDetails_195y8_360",HKe="_inviteLocations_195y8_372",qKe="_employeesGrid_195y8_386",VKe="_employeeCard_195y8_392",zKe="_deletedCard_195y8_407",UKe="_employeeHeader_195y8_418",WKe="_employeeInfo_195y8_425",YKe="_inactiveBadge_195y8_431",GKe="_deletedBadge_195y8_443",QKe="_employeeActions_195y8_456",XKe="_editButton_195y8_461",KKe="_deleteButton_195y8_462",ZKe="_restoreButton_195y8_463",JKe="_employeeDetails_195y8_496",eZe="_employeeLocations_195y8_508",tZe="_permissionCount_195y8_531",nZe="_emptyState_195y8_543",sZe="_hint_195y8_563",aZe="_modalOverlay_195y8_569",rZe="_modal_195y8_569",iZe="_qrModal_195y8_584",oZe="_largeModal_195y8_596",cZe="_modalHeader_195y8_604",lZe="_closeButton_195y8_621",uZe="_inviteForm_195y8_642",dZe="_formGroup_195y8_646",hZe="_checkboxGroup_195y8_714",fZe="_permissionsGroup_195y8_715",mZe="_checkboxLabel_195y8_726",pZe="_permissionLabel_195y8_752",gZe="_permissionInfo_195y8_776",_Ze="_permissionCode_195y8_783",vZe="_permissionDesc_195y8_790",xZe="_modalFooter_195y8_796",bZe="_cancelBtn_195y8_805",yZe="_submitBtn_195y8_806",wZe="_qrContent_195y8_842",jZe="_qrCode_195y8_850",CZe="_qrInstruction_195y8_861",SZe="_linkBox_195y8_868",NZe="_linkInput_195y8_874",kZe="_copyLinkButton_195y8_884",IZe="_qrExpiry_195y8_903",EZe="_editTabs_195y8_910",TZe="_editTab_195y8_910",DZe="_activeEditTab_195y8_938",AZe="_locationsManager_195y8_945",MZe="_locationBlock_195y8_951",RZe="_locationBlockHeader_195y8_958",BZe="_removeLocationBtn_195y8_976",OZe="_addLocationBlock_195y8_991",LZe="_addLocationButton_195y8_1007",tn={container:fKe,loading:mKe,spinner:pKe,header:gKe,headerActions:_Ke,createButton:vKe,refreshButton:xKe,section:bKe,sectionHeader:yKe,deletedCount:wKe,toggleDeletedButton:jKe,filtersPanel:CKe,searchBox:SKe,searchIcon:NKe,searchInput:kKe,clearSearch:IKe,filterBox:EKe,filterIcon:TKe,filterSelect:DKe,filterResults:AKe,invitesGrid:MKe,inviteCard:RKe,inviteHeader:BKe,inviteActions:OKe,qrButton:LKe,copyButton:$Ke,cancelButton:PKe,inviteDetails:FKe,inviteLocations:HKe,employeesGrid:qKe,employeeCard:VKe,deletedCard:zKe,employeeHeader:UKe,employeeInfo:WKe,inactiveBadge:YKe,deletedBadge:GKe,employeeActions:QKe,editButton:XKe,deleteButton:KKe,restoreButton:ZKe,employeeDetails:JKe,employeeLocations:eZe,permissionCount:tZe,emptyState:nZe,hint:sZe,modalOverlay:aZe,modal:rZe,qrModal:iZe,largeModal:oZe,modalHeader:cZe,closeButton:lZe,inviteForm:uZe,formGroup:dZe,checkboxGroup:hZe,permissionsGroup:fZe,checkboxLabel:mZe,permissionLabel:pZe,permissionInfo:gZe,permissionCode:_Ze,permissionDesc:vZe,modalFooter:xZe,cancelBtn:bZe,submitBtn:yZe,qrContent:wZe,qrCode:jZe,qrInstruction:CZe,linkBox:SZe,linkInput:NZe,copyLinkButton:kZe,qrExpiry:IZe,editTabs:EZe,editTab:TZe,activeEditTab:DZe,locationsManager:AZe,locationBlock:MZe,locationBlockHeader:RZe,removeLocationBtn:BZe,addLocationBlock:OZe,addLocationButton:LZe},m$=({businessSlug:e})=>{const[t,n]=_.useState([]),[a,r]=_.useState([]),[i,o]=_.useState([]),[c,l]=_.useState([]),[d,f]=_.useState(!0),[g,b]=_.useState(!1),[w,C]=_.useState(!1),[S,k]=_.useState(null),[E,D]=_.useState(null),[R,P]=_.useState(!1),[B,O]=_.useState({name:"",is_active:!0,notes:"",employee_locations:[]}),[$,U]=_.useState("info"),[F,H]=_.useState({location_id:"",position:"",permission_ids:[]}),[se,K]=_.useState(""),[te,J]=_.useState("all"),[z,V]=_.useState(!1),M=()=>{const fe=new Date;return fe.setDate(fe.getDate()+7),fe.toISOString().slice(0,16)},[ee,Z]=_.useState({employee_name:"",position:"",location_ids:[],permission_ids:[],notes:"",expires_at:M()});_.useEffect(()=>{A()},[e,R]);const A=async()=>{try{f(!0);const[fe,de,pe,ce]=await Promise.all([Be.get(`api/business/${e}/employees/?include_deleted=${R}`),Be.get(`api/business/${e}/invites/`),Be.get(`api/business/${e}/locations/`),Be.get("api/permissions/flat/")]);n(fe.data),r(de.data),o(pe.data),l(ce.data)}catch(fe){console.error("  :",fe)}finally{f(!1)}},G=async fe=>{fe.preventDefault();try{const de={...ee,expires_at:new Date(ee.expires_at).toISOString()},pe=await Be.post(`api/business/${e}/invites/create/`,de);k(pe.data),C(!0),b(!1),Z({employee_name:"",position:"",location_ids:[],permission_ids:[],notes:"",expires_at:M()}),A()}catch(de){console.error("  :",de),alert("   ")}},Q=async fe=>{if(window.confirm("  ?"))try{await Be.delete(`api/business/${e}/invites/${fe}/cancel/`),A()}catch(de){console.error("  :",de),alert("   ")}},Y=fe=>{D(fe),O({name:fe.name||"",is_active:fe.is_active,notes:fe.notes||"",employee_locations:fe.employee_locations||[]})},ae=async fe=>{fe.preventDefault();try{await Be.patch(`api/business/${e}/employees/${E.id}/update/`,{name:B.name,is_active:B.is_active,notes:B.notes}),A(),D(null)}catch(de){console.error("  :",de),alert("    ")}},ne=async(fe,de)=>{try{await Be.patch(`api/business/${e}/employees/${E.id}/locations/${fe}/`,de);const pe=B.employee_locations.map(Re=>Re.id===fe?{...Re,...de}:Re);O({...B,employee_locations:pe});const ce=await Be.get(`api/business/${e}/employees/${E.id}/`);D(ce.data),O({...B,employee_locations:ce.data.employee_locations})}catch(pe){console.error("  :",pe),alert("    ")}},re=async(fe,de,pe)=>{try{await Be.post(`api/business/${e}/employees/${E.id}/locations/`,{location_id:fe,position:de,permission_ids:pe});const ce=await Be.get(`api/business/${e}/employees/${E.id}/`);D(ce.data),O({...B,employee_locations:ce.data.employee_locations})}catch(ce){console.error("  :",ce),alert("   ")}},oe=async fe=>{if(window.confirm("    ?"))try{await Be.delete(`api/business/${e}/employees/${E.id}/locations/${fe}/`),O({...B,employee_locations:B.employee_locations.filter(de=>de.location!==fe)})}catch(de){console.error("  :",de),alert("   ")}},me=async fe=>{if(window.confirm("  ?         ."))try{await Be.delete(`api/business/${e}/employees/${fe}/delete/`),A()}catch(de){console.error("  :",de),alert("   ")}},Ce=async fe=>{if(window.confirm("  ?"))try{await Be.post(`api/business/${e}/employees/${fe}/restore/`),A()}catch(de){console.error("  :",de),alert("   ")}},Ne=fe=>{const de=`${window.location.origin}/invite/employee/${fe.token}/`;navigator.clipboard.writeText(de),alert("    !")},ve=(()=>{let fe=t;if(se.trim()){const de=se.toLowerCase();fe=fe.filter(pe=>{const ce=(pe.name||pe.full_name||"").toLowerCase(),Re=(pe.user_email||"").toLowerCase(),Ae=(pe.user_phone||"").toLowerCase();return ce.includes(de)||Re.includes(de)||Ae.includes(de)})}return te!=="all"&&(fe=fe.filter(de=>{var pe;return(pe=de.employee_locations)==null?void 0:pe.some(ce=>ce.location===parseInt(te))})),fe})(),Se=async()=>{V(!0),await A(),setTimeout(()=>V(!1),500)};return d?s.jsxs("div",{className:tn.loading,children:[s.jsx("div",{className:tn.spinner}),s.jsx("p",{children:" ..."})]}):s.jsxs("div",{className:tn.container,children:[s.jsxs("div",{className:tn.header,children:[s.jsxs("h2",{children:[s.jsx(om,{}),"  "]}),s.jsxs("div",{className:tn.headerActions,children:[s.jsxs(os.button,{className:tn.refreshButton,onClick:Se,disabled:z,whileHover:{scale:1.05},whileTap:{scale:.95},animate:{rotate:z?360:0},transition:{duration:.5,repeat:z?1/0:0,ease:"linear"},children:[s.jsx(mQ,{})," "]}),s.jsxs(os.button,{className:tn.createButton,onClick:()=>b(!0),whileHover:{scale:1.05},whileTap:{scale:.95},children:[s.jsx(WI,{}),"  "]})]})]}),a.length>0&&s.jsxs("div",{className:tn.section,children:[s.jsxs("h3",{children:[s.jsx(fm,{}),"   (",a.length,")"]}),s.jsx("div",{className:tn.invitesGrid,children:a.map(fe=>s.jsxs(os.div,{className:tn.inviteCard,initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:[s.jsxs("div",{className:tn.inviteHeader,children:[s.jsx("h4",{children:fe.employee_name||" "}),s.jsxs("div",{className:tn.inviteActions,children:[s.jsx("button",{className:tn.qrButton,onClick:()=>{k(fe),C(!0)},title:" QR-",children:s.jsx(fm,{})}),s.jsx("button",{className:tn.copyButton,onClick:()=>Ne(fe),title:" ",children:s.jsx(Ad,{})}),s.jsx("button",{className:tn.cancelButton,onClick:()=>Q(fe.id),title:" ",children:s.jsx(da,{})})]})]}),s.jsxs("div",{className:tn.inviteDetails,children:[fe.position&&s.jsxs("p",{children:[s.jsx(om,{})," ",fe.position]}),s.jsxs("p",{children:[s.jsx(Sm,{})," : ",new Date(fe.created_at).toLocaleDateString("ru-RU")]}),s.jsxs("p",{children:[s.jsx(Ol,{})," :"," ",new Date(fe.expires_at).toLocaleDateString("ru-RU")]}),fe.locations_details.length>0&&s.jsxs("div",{className:tn.inviteLocations,children:[s.jsx(cr,{})," :",s.jsx("ul",{children:fe.locations_details.map(de=>s.jsx("li",{children:de.name},de.id))})]})]})]},fe.id))})]}),s.jsxs("div",{className:tn.section,children:[s.jsxs("div",{className:tn.sectionHeader,children:[s.jsxs("h3",{children:[s.jsx(om,{}),"  (",t.filter(fe=>!fe.is_deleted).length,")",R&&t.filter(fe=>fe.is_deleted).length>0&&s.jsxs("span",{className:tn.deletedCount,children:["+",t.filter(fe=>fe.is_deleted).length," "]})]}),s.jsxs(os.button,{className:tn.toggleDeletedButton,onClick:()=>P(!R),whileHover:{scale:1.05},whileTap:{scale:.95},children:[R?s.jsx(gd,{}):s.jsx(fo,{}),R?" ":" "]})]}),s.jsxs("div",{className:tn.filtersPanel,children:[s.jsxs("div",{className:tn.searchBox,children:[s.jsx(hi,{className:tn.searchIcon}),s.jsx("input",{type:"text",placeholder:"  , email  ...",value:se,onChange:fe=>K(fe.target.value),className:tn.searchInput}),se&&s.jsx("button",{className:tn.clearSearch,onClick:()=>K(""),children:s.jsx(da,{})})]}),s.jsxs("div",{className:tn.filterBox,children:[s.jsx(tf,{className:tn.filterIcon}),s.jsxs("select",{value:te,onChange:fe=>J(fe.target.value),className:tn.filterSelect,children:[s.jsx("option",{value:"all",children:" "}),i.map(fe=>s.jsx("option",{value:fe.id,children:fe.name},fe.id))]})]}),(se||te!=="all")&&s.jsxs("div",{className:tn.filterResults,children:[": ",s.jsx("strong",{children:ve.length}),"  ",t.length]})]}),s.jsx("div",{className:tn.employeesGrid,children:ve.length===0?s.jsxs("div",{className:tn.emptyState,children:[s.jsx(om,{size:64}),t.length===0?s.jsxs(s.Fragment,{children:[s.jsx("p",{children:"  "}),s.jsx("p",{className:tn.hint,children:' " "    '})]}):s.jsxs(s.Fragment,{children:[s.jsx("p",{children:"    "}),s.jsx("p",{className:tn.hint,children:"   "})]})]}):ve.map(fe=>s.jsxs(os.div,{className:`${tn.employeeCard} ${fe.is_deleted?tn.deletedCard:""}`,initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:[s.jsxs("div",{className:tn.employeeHeader,children:[s.jsxs("div",{className:tn.employeeInfo,children:[s.jsx("h4",{children:fe.name||fe.full_name||" "}),fe.is_deleted&&s.jsx("span",{className:tn.deletedBadge,children:" "}),!fe.is_active&&!fe.is_deleted&&s.jsx("span",{className:tn.inactiveBadge,children:""})]}),s.jsx("div",{className:tn.employeeActions,children:fe.is_deleted?s.jsx("button",{className:tn.restoreButton,onClick:()=>Ce(fe.id),title:"",children:s.jsx(H3,{})}):s.jsxs(s.Fragment,{children:[s.jsx("button",{className:tn.editButton,onClick:()=>Y(fe),title:"",children:s.jsx(rl,{})}),s.jsx("button",{className:tn.deleteButton,onClick:()=>me(fe.id),title:"",children:s.jsx(Ir,{})})]})})]}),s.jsxs("div",{className:tn.employeeDetails,children:[fe.user_email&&s.jsxs("p",{children:[" ",fe.user_email]}),fe.user_phone&&s.jsxs("p",{children:[" ",fe.user_phone]}),fe.hired_date&&s.jsxs("p",{children:[s.jsx(Sm,{})," :"," ",new Date(fe.hired_date).toLocaleDateString("ru-RU")]}),fe.employee_locations&&fe.employee_locations.length>0&&s.jsxs("div",{className:tn.employeeLocations,children:[s.jsx(cr,{})," :",s.jsx("ul",{children:fe.employee_locations.map(de=>s.jsxs("li",{children:[de.location_name,de.position&&` (${de.position})`,de.permissions.length>0&&s.jsxs("span",{className:tn.permissionCount,children:[s.jsx(TR,{})," ",de.permissions.length]})]},de.id))})]})]})]},fe.id))})]}),s.jsx(Xc,{children:g&&s.jsx(os.div,{className:tn.modalOverlay,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>b(!1),children:s.jsxs(os.div,{className:tn.modal,initial:{opacity:0,scale:.8,y:50},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.8,y:50},onClick:fe=>fe.stopPropagation(),children:[s.jsxs("div",{className:tn.modalHeader,children:[s.jsxs("h3",{children:[s.jsx(WI,{}),"    "]}),s.jsx("button",{className:tn.closeButton,onClick:()=>b(!1),children:s.jsx(da,{})})]}),s.jsxs("form",{onSubmit:G,className:tn.inviteForm,children:[s.jsxs("div",{className:tn.formGroup,children:[s.jsx("label",{children:"   "}),s.jsx("input",{type:"text",value:ee.employee_name,onChange:fe=>Z({...ee,employee_name:fe.target.value}),placeholder:" ",required:!0})]}),s.jsxs("div",{className:tn.formGroup,children:[s.jsx("label",{children:""}),s.jsx("input",{type:"text",value:ee.position,onChange:fe=>Z({...ee,position:fe.target.value}),placeholder:",   .."})]}),s.jsxs("div",{className:tn.formGroup,children:[s.jsx("label",{children:"  "}),s.jsx("input",{type:"datetime-local",value:ee.expires_at,onChange:fe=>Z({...ee,expires_at:fe.target.value}),required:!0}),s.jsx("small",{children:"     "})]}),s.jsxs("div",{className:tn.formGroup,children:[s.jsx("label",{children:" (   )"}),s.jsx("div",{className:tn.checkboxGroup,children:i.map(fe=>s.jsxs("label",{className:tn.checkboxLabel,children:[s.jsx("input",{type:"checkbox",checked:ee.location_ids.includes(fe.id),onChange:de=>{de.target.checked?Z({...ee,location_ids:[...ee.location_ids,fe.id]}):Z({...ee,location_ids:ee.location_ids.filter(pe=>pe!==fe.id)})}}),s.jsx("span",{children:fe.name})]},fe.id))})]}),s.jsxs("div",{className:tn.formGroup,children:[s.jsx("label",{children:" "}),s.jsx("div",{className:tn.permissionsGroup,children:c.map(fe=>s.jsxs("label",{className:tn.permissionLabel,children:[s.jsx("input",{type:"checkbox",checked:ee.permission_ids.includes(fe.id),onChange:de=>{de.target.checked?Z({...ee,permission_ids:[...ee.permission_ids,fe.id]}):Z({...ee,permission_ids:ee.permission_ids.filter(pe=>pe!==fe.id)})}}),s.jsxs("div",{className:tn.permissionInfo,children:[s.jsx("span",{className:tn.permissionCode,children:fe.code}),fe.description&&s.jsx("span",{className:tn.permissionDesc,children:fe.description})]})]},fe.id))})]}),s.jsxs("div",{className:tn.formGroup,children:[s.jsx("label",{children:" ()"}),s.jsx("textarea",{value:ee.notes,onChange:fe=>Z({...ee,notes:fe.target.value}),rows:3,placeholder:" ..."})]}),s.jsxs("div",{className:tn.modalFooter,children:[s.jsx("button",{type:"button",className:tn.cancelBtn,onClick:()=>b(!1),children:""}),s.jsxs("button",{type:"submit",className:tn.submitBtn,children:[s.jsx(Xr,{}),"  "]})]})]})]})})}),s.jsx(Xc,{children:w&&S&&s.jsx(os.div,{className:tn.modalOverlay,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>C(!1),children:s.jsxs(os.div,{className:tn.qrModal,initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},onClick:fe=>fe.stopPropagation(),children:[s.jsxs("div",{className:tn.modalHeader,children:[s.jsxs("h3",{children:[s.jsx(fm,{}),"   ",S.employee_name]}),s.jsx("button",{className:tn.closeButton,onClick:()=>C(!1),children:s.jsx(da,{})})]}),s.jsxs("div",{className:tn.qrContent,children:[s.jsx("div",{className:tn.qrCode,children:s.jsx(Dm,{value:`${window.location.origin}/invite/employee/${S.token}/`,size:256,level:"H",includeMargin:!0})}),s.jsx("p",{className:tn.qrInstruction,children:" QR-    "}),s.jsxs("div",{className:tn.linkBox,children:[s.jsx("input",{type:"text",value:`${window.location.origin}/invite/employee/${S.token}/`,readOnly:!0,className:tn.linkInput}),s.jsxs("button",{className:tn.copyLinkButton,onClick:()=>Ne(S),children:[s.jsx(Ad,{})," "]})]}),s.jsxs("p",{className:tn.qrExpiry,children:["  :"," ",new Date(S.expires_at).toLocaleDateString("ru-RU")]})]})]})})}),s.jsx(Xc,{children:E&&s.jsx(os.div,{className:tn.modalOverlay,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>{D(null),U("info")},children:s.jsxs(os.div,{className:`${tn.modal} ${tn.largeModal}`,initial:{opacity:0,scale:.8,y:50},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.8,y:50},onClick:fe=>fe.stopPropagation(),children:[s.jsxs("div",{className:tn.modalHeader,children:[s.jsxs("h3",{children:[s.jsx(rl,{}),"  : ",E.name||E.full_name]}),s.jsx("button",{className:tn.closeButton,onClick:()=>{D(null),U("info")},children:s.jsx(da,{})})]}),s.jsxs("div",{className:tn.editTabs,children:[s.jsxs("button",{className:`${tn.editTab} ${$==="info"?tn.activeEditTab:""}`,onClick:()=>U("info"),type:"button",children:[s.jsx(oc,{}),"  "]}),s.jsxs("button",{className:`${tn.editTab} ${$==="locations"?tn.activeEditTab:""}`,onClick:()=>U("locations"),type:"button",children:[s.jsx(cr,{}),"  (",B.employee_locations.length,")"]})]}),$==="info"&&s.jsxs("form",{onSubmit:ae,className:tn.inviteForm,children:[s.jsxs("div",{className:tn.formGroup,children:[s.jsx("label",{children:"  "}),s.jsx("input",{type:"text",value:B.name,onChange:fe=>O({...B,name:fe.target.value}),required:!0})]}),s.jsx("div",{className:tn.formGroup,children:s.jsxs("label",{className:tn.checkboxLabel,children:[s.jsx("input",{type:"checkbox",checked:B.is_active,onChange:fe=>O({...B,is_active:fe.target.checked})}),s.jsx("span",{children:""})]})}),s.jsxs("div",{className:tn.formGroup,children:[s.jsx("label",{children:""}),s.jsx("textarea",{value:B.notes,onChange:fe=>O({...B,notes:fe.target.value}),rows:3})]}),s.jsxs("div",{className:tn.modalFooter,children:[s.jsx("button",{type:"button",className:tn.cancelBtn,onClick:()=>{D(null),U("info")},children:""}),s.jsxs("button",{type:"submit",className:tn.submitBtn,children:[s.jsx(Xr,{})," "]})]})]}),$==="locations"&&s.jsxs("div",{className:tn.inviteForm,children:[s.jsxs("div",{className:tn.locationsManager,children:[B.employee_locations.map(fe=>{var de;return s.jsxs("div",{className:tn.locationBlock,children:[s.jsxs("div",{className:tn.locationBlockHeader,children:[s.jsxs("h4",{children:[s.jsx(cr,{})," ",fe.location_name]}),s.jsx("button",{className:tn.removeLocationBtn,onClick:()=>oe(fe.location),type:"button",children:s.jsx(Ir,{})})]}),s.jsxs("div",{className:tn.formGroup,children:[s.jsx("label",{children:""}),s.jsx("input",{type:"text",value:fe.position||"",onChange:pe=>{ne(fe.id,{position:pe.target.value})},placeholder:", ..."})]}),s.jsxs("div",{className:tn.formGroup,children:[s.jsxs("label",{children:["  (",((de=fe.permissions)==null?void 0:de.length)||0,")"]}),s.jsx("div",{className:tn.permissionsGroup,children:c.map(pe=>{var Re;const ce=(Re=fe.permissions)==null?void 0:Re.some(Ae=>Ae.permission.id===pe.id);return s.jsxs("label",{className:tn.permissionLabel,children:[s.jsx("input",{type:"checkbox",checked:ce,onChange:Ae=>{var be;const ie=((be=fe.permissions)==null?void 0:be.map(Fe=>Fe.permission.id))||[],ge=Ae.target.checked?[...ie,pe.id]:ie.filter(Fe=>Fe!==pe.id);ne(fe.id,{permission_ids:ge})}}),s.jsxs("div",{className:tn.permissionInfo,children:[s.jsx("span",{className:tn.permissionCode,children:pe.code}),pe.description&&s.jsx("span",{className:tn.permissionDesc,children:pe.description})]})]},pe.id)})})]})]},fe.id)}),s.jsxs("div",{className:tn.addLocationBlock,children:[s.jsxs("h4",{children:[s.jsx(cr,{}),"   "]}),s.jsxs("div",{className:tn.formGroup,children:[s.jsx("label",{children:" "}),s.jsxs("select",{value:F.location_id,onChange:fe=>H({...F,location_id:fe.target.value}),children:[s.jsx("option",{value:"",children:" "}),i.filter(fe=>!B.employee_locations.some(de=>de.location===fe.id)).map(fe=>s.jsx("option",{value:fe.id,children:fe.name},fe.id))]})]}),s.jsxs("div",{className:tn.formGroup,children:[s.jsx("label",{children:""}),s.jsx("input",{type:"text",value:F.position,onChange:fe=>H({...F,position:fe.target.value}),placeholder:", ..."})]}),s.jsxs("div",{className:tn.formGroup,children:[s.jsx("label",{children:" "}),s.jsx("div",{className:tn.permissionsGroup,children:c.map(fe=>s.jsxs("label",{className:tn.permissionLabel,children:[s.jsx("input",{type:"checkbox",checked:F.permission_ids.includes(fe.id),onChange:de=>{de.target.checked?H({...F,permission_ids:[...F.permission_ids,fe.id]}):H({...F,permission_ids:F.permission_ids.filter(pe=>pe!==fe.id)})}}),s.jsxs("div",{className:tn.permissionInfo,children:[s.jsx("span",{className:tn.permissionCode,children:fe.code}),fe.description&&s.jsx("span",{className:tn.permissionDesc,children:fe.description})]})]},fe.id))})]}),s.jsxs("button",{type:"button",className:tn.addLocationButton,onClick:()=>{F.location_id&&(re(parseInt(F.location_id),F.position,F.permission_ids),H({location_id:"",position:"",permission_ids:[]}))},disabled:!F.location_id,children:[s.jsx(Xr,{}),"  "]})]})]}),s.jsx("div",{className:tn.modalFooter,children:s.jsx("button",{type:"button",className:tn.cancelBtn,onClick:()=>{D(null),U("info")},children:""})})]})]})})})]})},$Ze="_container_9jyou_30",PZe="_header_9jyou_38",FZe="_locationSelector_9jyou_74",HZe="_error_9jyou_117",qZe="_loading_9jyou_128",VZe="_settingsForm_9jyou_135",zZe="_section_9jyou_145",UZe="_settingRow_9jyou_151",WZe="_toggle_9jyou_231",YZe="_active_9jyou_253",GZe="_hint_9jyou_264",QZe="_actions_9jyou_282",XZe="_saveButton_9jyou_288",KZe="_tiersSection_9jyou_316",ZZe="_sectionHeader_9jyou_325",JZe="_addButton_9jyou_356",eJe="_tiersList_9jyou_378",tJe="_tierCard_9jyou_384",nJe="_tierInfo_9jyou_419",sJe="_tierDetails_9jyou_426",aJe="_badge_9jyou_434",rJe="_tierActions_9jyou_447",iJe="_editButton_9jyou_452",oJe="_deleteButton_9jyou_453",cJe="_modalOverlay_9jyou_491",lJe="_modal_9jyou_491",uJe="_formGroup_9jyou_529",dJe="_modalActions_9jyou_581",hJe="_cancelButton_9jyou_590",Ys={container:$Ze,header:PZe,locationSelector:FZe,error:HZe,loading:qZe,settingsForm:VZe,section:zZe,settingRow:UZe,toggle:WZe,active:YZe,hint:GZe,actions:QZe,saveButton:XZe,tiersSection:KZe,sectionHeader:ZZe,addButton:JZe,tiersList:eJe,tierCard:tJe,tierInfo:nJe,tierDetails:sJe,badge:aJe,tierActions:rJe,editButton:iJe,deleteButton:oJe,modalOverlay:cJe,modal:lJe,formGroup:uJe,modalActions:dJe,cancelButton:hJe},p$=()=>{const{business_slug:e}=ha(),[t,n]=_.useState(null),[a,r]=_.useState("all"),[i,o]=_.useState([]),[c,l]=_.useState(!0),[d,f]=_.useState(!1),[g,b]=_.useState(null),[w,C]=_.useState([]),[S,k]=_.useState(!1),[E,D]=_.useState(null);_.useEffect(()=>{R()},[e,a]);const R=async()=>{var $,U;try{l(!0);const[F,H]=await Promise.all([Be.get(`api/business/${e}/locations/`),Be.get(`api/business/${e}/user-tiers/`)]);o(F.data),C(H.data);const se=a==="all"?"":`?location=${a}`,K=await Be.get(`api/business/${e}/bonus-settings/${se}`),{bonus_scope:te,...J}=K.data;n(J)}catch(F){console.error(" :",F),b(((U=($=F.response)==null?void 0:$.data)==null?void 0:U.error)||"  ")}finally{l(!1)}},P=async()=>{var $,U;if(!(a==="all"&&!window.confirm(` ,     ?

           .

           .`)))try{f(!0),b(null);const{bonus_scope:F,...H}=t,se={...H,location:a==="all"?null:parseInt(a)};let K;t!=null&&t.id?K=await Be.patch(`api/business/${e}/bonus-settings/`,se):K=await Be.post(`api/business/${e}/bonus-settings/`,se),n(K.data),alert(" !")}catch(F){console.error(" :",F),b(((U=($=F.response)==null?void 0:$.data)==null?void 0:U.error)||" ")}finally{f(!1)}},B=async $=>{try{E?await Be.patch(`api/business/${e}/user-tiers/`,{...$,id:E.id}):await Be.post(`api/business/${e}/user-tiers/`,$),await R(),k(!1),D(null)}catch(U){console.error("  :",U),alert("  ")}},O=async $=>{if(window.confirm("  ?"))try{await Be.delete(`api/business/${e}/user-tiers/`,{data:{id:$}}),await R()}catch(U){console.error("  :",U),alert("  ")}};return c?s.jsx("div",{className:Ys.loading,children:"..."}):t?s.jsxs("div",{className:Ys.container,children:[s.jsxs("div",{className:Ys.header,children:[s.jsxs("h2",{children:[s.jsx(vi,{}),"   "]}),s.jsxs("div",{className:Ys.locationSelector,children:[s.jsx("label",{children:":"}),s.jsxs("select",{value:a,onChange:$=>r($.target.value),children:[s.jsx("option",{value:"all",children:"  ()"}),i.map($=>s.jsx("option",{value:$.id,children:$.name},$.id))]})]})]}),g&&s.jsx("div",{className:Ys.error,children:g}),s.jsxs("div",{className:Ys.settingsForm,children:[s.jsxs("div",{className:Ys.section,children:[s.jsxs("div",{className:Ys.settingRow,children:[s.jsxs("label",{children:[s.jsx(Pf,{}),"   "]}),s.jsxs("button",{className:`${Ys.toggle} ${t.is_enabled?Ys.active:""}`,onClick:()=>n({...t,is_enabled:!t.is_enabled}),children:[t.is_enabled?s.jsx(Pf,{}):s.jsx(Xw,{}),t.is_enabled?"":""]})]}),s.jsxs("div",{className:Ys.settingRow,children:[s.jsxs("label",{children:[s.jsx(iS,{}),"    (%)"]}),s.jsx("input",{type:"number",step:"0.01",min:"0",max:"100",value:t.bonus_percent||"",onChange:$=>n({...t,bonus_percent:$.target.value})})]}),s.jsxs("div",{className:Ys.settingRow,children:[s.jsxs("label",{children:[s.jsx(Pf,{}),"  "]}),s.jsxs("button",{className:`${Ys.toggle} ${t.is_fixed_percent?Ys.active:""}`,onClick:()=>n({...t,is_fixed_percent:!t.is_fixed_percent}),children:[t.is_fixed_percent?s.jsx(Pf,{}):s.jsx(Xw,{}),t.is_fixed_percent?"":""]}),s.jsxs("span",{className:Ys.hint,children:[s.jsx(li,{}),"  ,       "]})]}),s.jsxs("div",{className:Ys.settingRow,children:[s.jsxs("label",{children:[s.jsx(aS,{}),"     "]}),s.jsx("input",{type:"number",step:"0.01",min:"0",value:t.min_purchase_amount||"",onChange:$=>n({...t,min_purchase_amount:$.target.value})})]}),s.jsxs("div",{className:Ys.settingRow,children:[s.jsxs("label",{children:[s.jsx(iS,{}),"      (%)"]}),s.jsx("input",{type:"number",step:"0.01",min:"0",max:"100",value:t.max_bonus_percent||"",onChange:$=>n({...t,max_bonus_percent:$.target.value||null}),placeholder:" "})]}),s.jsxs("div",{className:Ys.settingRow,children:[s.jsxs("label",{children:[s.jsx(aS,{}),"     "]}),s.jsx("input",{type:"number",step:"0.01",min:"0",value:t.max_bonus_amount||"",onChange:$=>n({...t,max_bonus_amount:$.target.value||null}),placeholder:" "})]}),s.jsxs("div",{className:Ys.settingRow,children:[s.jsxs("label",{children:[s.jsx(Vo,{}),"    ()"]}),s.jsx("input",{type:"number",min:"1",value:t.bonus_expiry_days||"",onChange:$=>n({...t,bonus_expiry_days:parseInt($.target.value)})})]}),s.jsxs("div",{className:Ys.settingRow,children:[s.jsxs("label",{children:[s.jsx(Pf,{}),"   "]}),s.jsxs("button",{className:`${Ys.toggle} ${t.auto_upgrade_enabled?Ys.active:""}`,onClick:()=>n({...t,auto_upgrade_enabled:!t.auto_upgrade_enabled}),children:[t.auto_upgrade_enabled?s.jsx(Pf,{}):s.jsx(Xw,{}),t.auto_upgrade_enabled?"":""]})]})]}),s.jsx("div",{className:Ys.actions,children:s.jsxs("button",{className:Ys.saveButton,onClick:P,disabled:d,children:[s.jsx(ic,{})," ",d?"...":" "]})})]}),s.jsxs("div",{className:Ys.tiersSection,children:[s.jsxs("div",{className:Ys.sectionHeader,children:[s.jsx("h3",{children:" "}),s.jsxs("button",{className:Ys.addButton,onClick:()=>{D(null),k(!0)},children:[s.jsx(Va,{}),"  "]})]}),s.jsx("div",{className:Ys.tiersList,children:w.map($=>s.jsxs("div",{className:Ys.tierCard,children:[s.jsxs("div",{className:Ys.tierInfo,children:[s.jsx("h4",{children:$.name}),s.jsxs("div",{className:Ys.tierDetails,children:[s.jsxs("span",{children:[": ",$.bonus_percent,"%"]}),s.jsxs("span",{children:[" : ",$.min_purchases_for_upgrade," "]}),$.is_default&&s.jsx("span",{className:Ys.badge,children:" "})]})]}),s.jsxs("div",{className:Ys.tierActions,children:[s.jsx("button",{className:Ys.editButton,onClick:()=>{D($),k(!0)},children:s.jsx(rl,{})}),s.jsx("button",{className:Ys.deleteButton,onClick:()=>O($.id),children:s.jsx(zh,{})})]})]},$.id))})]}),S&&s.jsx(fJe,{tier:E,onSave:B,onClose:()=>{k(!1),D(null)}})]}):s.jsx("div",{className:Ys.error,children:"   "})},fJe=({tier:e,onSave:t,onClose:n})=>{const[a,r]=_.useState({tier_code:(e==null?void 0:e.tier_code)||"novice",name:(e==null?void 0:e.name)||"",bonus_percent:(e==null?void 0:e.bonus_percent)||"5.00",min_purchases_for_upgrade:(e==null?void 0:e.min_purchases_for_upgrade)||0,is_default:(e==null?void 0:e.is_default)||!1,order:(e==null?void 0:e.order)||0}),i=o=>{o.preventDefault(),t(a)};return s.jsx("div",{className:Ys.modalOverlay,onClick:n,children:s.jsxs("div",{className:Ys.modal,onClick:o=>o.stopPropagation(),children:[s.jsx("h3",{children:e?" ":" "}),s.jsxs("form",{onSubmit:i,children:[s.jsxs("div",{className:Ys.formGroup,children:[s.jsx("label",{children:" :"}),s.jsxs("select",{value:a.tier_code,onChange:o=>r({...a,tier_code:o.target.value}),children:[s.jsx("option",{value:"novice",children:""}),s.jsx("option",{value:"regular",children:""}),s.jsx("option",{value:"vip",children:"VIP"})]})]}),s.jsxs("div",{className:Ys.formGroup,children:[s.jsx("label",{children:":"}),s.jsx("input",{type:"text",value:a.name,onChange:o=>r({...a,name:o.target.value}),required:!0})]}),s.jsxs("div",{className:Ys.formGroup,children:[s.jsx("label",{children:" :"}),s.jsx("input",{type:"number",step:"0.01",min:"0",max:"100",value:a.bonus_percent,onChange:o=>r({...a,bonus_percent:o.target.value}),required:!0})]}),s.jsxs("div",{className:Ys.formGroup,children:[s.jsx("label",{children:"   :"}),s.jsx("input",{type:"number",min:"0",value:a.min_purchases_for_upgrade,onChange:o=>r({...a,min_purchases_for_upgrade:parseInt(o.target.value)})})]}),s.jsx("div",{className:Ys.formGroup,children:s.jsxs("label",{children:[s.jsx("input",{type:"checkbox",checked:a.is_default,onChange:o=>r({...a,is_default:o.target.checked})}),"  "]})}),s.jsxs("div",{className:Ys.formGroup,children:[s.jsx("label",{children:" :"}),s.jsx("input",{type:"number",min:"0",value:a.order,onChange:o=>r({...a,order:parseInt(o.target.value)})})]}),s.jsxs("div",{className:Ys.modalActions,children:[s.jsxs("button",{type:"submit",className:Ys.saveButton,children:[s.jsx(ic,{})," "]}),s.jsx("button",{type:"button",onClick:n,className:Ys.cancelButton,children:""})]})]})]})})},mJe=()=>{const{business_slug:e}=ha(),[t,n]=_.useState("general"),[a,r]=_.useState({name:"",description:"",phone:"",address:"",business_logo:null,receipt_html_template:"",receipt_css_template:""}),[i,o]=_.useState([]),[c,l]=_.useState([]),[d,f]=_.useState([]),[g,b]=_.useState([]),[w,C]=_.useState(""),[S,k]=_.useState(!0),[E,D]=_.useState(null),[R,P]=_.useState(!1),[B,O]=_.useState(!1),[$,U]=_.useState(null),[F,H]=_.useState({name:"",address:"",location_type:"",city:"",contact_phone:"",is_active:!0,description:"",opening_hours:{}}),[se,K]=_.useState(!1),[te,J]=_.useState({barcodePrinter:"",receiptPrinter:"",availablePrinters:[]}),[z,V]=_.useState(!1),[M,ee]=_.useState(null);_.useEffect(()=>{t==="printers"&&(async()=>{const re=[" 1"," 2"," 3"],oe=JSON.parse(localStorage.getItem(`${e}_printerSettings`)||"{}");J({availablePrinters:re,barcodePrinter:oe.barcodePrinter||"",receiptPrinter:oe.receiptPrinter||""})})()},[t,e]),_.useEffect(()=>{(async()=>{try{k(!0);const[re,oe,me,Ce]=await Promise.all([Be.get(`api/business/${e}/settings/`),Be.get(`api/business/${e}/locations/`),Be.get("api/location-types/"),Be.get("api/countries/")]);r(re.data),re.data.business_logo?ee(re.data.business_logo):ee(null),o(oe.data),l(me.data),f(Ce.data),k(!1)}catch(re){D(re.message),k(!1)}})()},[e]),_.useEffect(()=>{(async()=>{if(w)try{const re=await Be.get(`api/cities/?country=${w}`);b(re.data)}catch(re){console.error("  :",re),b([])}else b([])})()},[w]);const Z=async()=>{var ne;try{const re=await Be.patch(`api/business/${e}/settings/`,a);r(re.data),P(!1)}catch(re){D(((ne=re.response)==null?void 0:ne.data)||re.message)}},A=async ne=>{var oe,me;const re=ne.target.files[0];if(re){if(!re.type.startsWith("image/")){D("   ");return}if(re.size>5*1024*1024){D("     5MB");return}try{V(!0),D(null);const Ce=new FileReader;Ce.onloadend=()=>{ee(Ce.result)},Ce.readAsDataURL(re);const Ne=new FormData;Ne.append("logo",re);const Ee=await Be.post(`api/business/${e}/upload-logo/`,Ne,{headers:{"Content-Type":"multipart/form-data"}}),ve=await Be.get(`api/business/${e}/settings/`);r(ve.data),ee(Ee.data.logo_url||ve.data.business_logo),alert("  !")}catch(Ce){console.error("  :",Ce),D(((me=(oe=Ce.response)==null?void 0:oe.data)==null?void 0:me.detail)||"   "),ee(null)}finally{V(!1)}}},G=async()=>{var ne;try{if($){const re=await Be.patch(`api/business/${e}/locations/${$.id}/`,F);o(i.map(oe=>oe.id===$.id?re.data:oe))}else{const re=await Be.post(`api/business/${e}/locations/`,F);o([...i,re.data])}O(!1),U(null),C(""),b([]),H({name:"",address:"",location_type:"",city:"",contact_phone:"",is_active:!0,description:"",opening_hours:{}})}catch(re){D(((ne=re.response)==null?void 0:ne.data)||re.message)}},Q=async ne=>{var re;try{await Be.delete(`api/business/${e}/locations/${ne}/`),o(i.filter(oe=>oe.id!==ne))}catch(oe){D(((re=oe.response)==null?void 0:re.data)||oe.message)}},Y=async ne=>{var re;if(U(ne),ne.city_detail){const oe=(re=ne.city_detail.country_detail)==null?void 0:re.id;if(oe){C(oe);try{const me=await Be.get(`api/cities/?country=${oe}`);b(me.data)}catch(me){console.error("  :",me)}}}H({name:ne.name,address:ne.address,location_type:ne.location_type,city:ne.city||"",contact_phone:ne.contact_phone,is_active:ne.is_active,description:ne.description,opening_hours:ne.opening_hours||{}}),O(!0)},ae=()=>a.receipt_html_template.replace(/{{ business\.name }}/g,a.name||" ").replace(/{{ business\.address }}/g,a.address||" ").replace(/{{ receipt\.number }}/g,"000001").replace(/{{ receipt\.created_at\.strftime\("%d\.%m\.%Y %H:%M"\) }}/g,new Date().toLocaleString("ru-RU")).replace(/{{ cashier or "" }}/g," ").replace(/{% for sale in sales %}([\s\S]*?){% endfor %}/g,(re,oe)=>[{variant:{name:" 1"},quantity:2,price_per_unit:1500,total_price:3e3},{variant:{name:" 2   "},quantity:1,price_per_unit:4500,total_price:4500}].map(Ce=>oe.replace(/{{ sale\.variant\.name\|truncate\(18,true\) }}/g,Ce.variant.name.substring(0,18)).replace(/{{ sale\.quantity }}/g,Ce.quantity).replace(/{{ "%.2f"\|format\(sale\.price_per_unit\) }}/g,Ce.price_per_unit.toFixed(2)).replace(/{{ "%.2f"\|format\(sale\.total_price\) }}/g,Ce.total_price.toFixed(2))).join("")).replace(/{{ "%.2f"\|format\(receipt\.total_amount\) }}/g,"7500.00").replace(/{{ receipt\.discount_percent }}/g,"10").replace(/{{ receipt\.discount_amount }}/g,"750").replace(/{{ now\.strftime\("%d\.%m\.%Y %H:%M:%S"\) }}/g,new Date().toLocaleString("ru-RU"));return S?s.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh"},children:s.jsx(Fn,{size:"large"})}):E?s.jsxs(os.div,{className:nn.errorContainer,initial:{opacity:0},animate:{opacity:1},children:[s.jsx(li,{className:nn.errorIcon}),s.jsx("span",{children:E})]}):s.jsxs("div",{className:nn.contentWrapper,children:[s.jsxs("div",{className:nn.accountContainer,children:[s.jsx("div",{className:nn.accountSidebar,children:s.jsxs("div",{className:nn.accountMenu,children:[s.jsxs("button",{className:`${nn.menuButton} ${t==="general"?nn.active:""}`,onClick:()=>n("general"),children:[s.jsx(km,{})," "]}),s.jsxs("button",{className:`${nn.menuButton} ${t==="locations"?nn.active:""}`,onClick:()=>n("locations"),children:[s.jsx(cr,{}),"   "]}),s.jsxs("button",{className:`${nn.menuButton} ${t==="receipts"?nn.active:""}`,onClick:()=>n("receipts"),children:[s.jsx($o,{}),"  "]}),s.jsxs("button",{className:`${nn.menuButton} ${t==="printers"?nn.active:""}`,onClick:()=>n("printers"),children:[s.jsx(dg,{})," "]}),s.jsxs("button",{className:`${nn.menuButton} ${t==="employees"?nn.active:""}`,onClick:()=>n("employees"),children:[s.jsx(dg,{})," "]}),s.jsxs("button",{className:`${nn.menuButton} ${t==="bonus"?nn.active:""}`,onClick:()=>n("bonus"),children:[s.jsx(pm,{})," "]}),s.jsxs("button",{className:`${nn.menuButton} ${t==="products"?nn.active:""}`,onClick:()=>n("products"),children:[s.jsx(pm,{})," "]}),s.jsxs("button",{className:`${nn.menuButton} ${t==="photos"?nn.active:""}`,onClick:()=>n("photos"),children:[s.jsx(kl,{})," "]})]})}),s.jsx("div",{className:nn.accountContent,children:s.jsxs(os.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},children:[t==="general"&&s.jsxs(os.div,{className:nn.settingsTab,initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4},children:[s.jsxs("h1",{children:[s.jsx(Ac,{}),"  "]}),s.jsxs("div",{className:nn.businessInfo,children:[s.jsxs("div",{className:nn.sectionHeader,children:[s.jsx("h2",{children:"  "}),R?s.jsxs("div",{className:nn.actions,children:[s.jsxs("button",{className:nn.saveButton,onClick:Z,children:[s.jsx(ic,{})," "]}),s.jsx("button",{className:nn.cancelButton,onClick:()=>P(!1),children:""})]}):s.jsxs("button",{className:nn.editButton,onClick:()=>P(!0),children:[s.jsx(rl,{})," "]})]}),R?s.jsxs(os.div,{className:nn.settingsGrid,initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.3},children:[s.jsxs("div",{className:nn.formGroup,children:[s.jsx("label",{children:" "}),s.jsx("input",{type:"text",value:a.name,onChange:ne=>r({...a,name:ne.target.value}),className:nn.editField})]}),s.jsxs("div",{className:nn.formGroup,children:[s.jsx("label",{children:""}),s.jsx("textarea",{value:a.description,onChange:ne=>r({...a,description:ne.target.value}),className:nn.editField})]}),s.jsxs("div",{className:nn.formGroup,children:[s.jsx("label",{children:""}),s.jsx("input",{type:"text",value:a.phone,onChange:ne=>r({...a,phone:ne.target.value}),className:nn.editField})]}),s.jsxs("div",{className:nn.formGroup,children:[s.jsx("label",{children:""}),s.jsx("input",{type:"text",value:a.address,onChange:ne=>r({...a,address:ne.target.value}),className:nn.editField})]}),s.jsxs("div",{className:nn.formGroup,children:[s.jsx("label",{children:""}),s.jsxs("div",{className:nn.fileInput,children:[s.jsx("input",{type:"file",id:"logo-upload",onChange:ne=>{}}),s.jsxs("label",{htmlFor:"logo-upload",className:nn.fileLabel,children:[s.jsx(kl,{}),"  "]})]})]})]}):s.jsxs(os.div,{className:nn.settingsGrid,initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.3},children:[s.jsxs("div",{className:nn.settingsItem,children:[s.jsx("div",{className:nn.settingsIcon,children:s.jsx(Ac,{})}),s.jsxs("div",{children:[s.jsx("h3",{children:""}),s.jsx("p",{children:a.name})]})]}),s.jsxs("div",{className:nn.settingsItem,children:[s.jsx("div",{className:nn.settingsIcon,children:s.jsx(li,{})}),s.jsxs("div",{children:[s.jsx("h3",{children:""}),s.jsx("p",{children:a.description||" "})]})]}),s.jsxs("div",{className:nn.settingsItem,children:[s.jsx("div",{className:nn.settingsIcon,children:s.jsx(Vh,{})}),s.jsxs("div",{children:[s.jsx("h3",{children:""}),s.jsx("p",{children:a.phone||" "})]})]}),s.jsxs("div",{className:nn.settingsItem,children:[s.jsx("div",{className:nn.settingsIcon,children:s.jsx(cr,{})}),s.jsxs("div",{children:[s.jsx("h3",{children:""}),s.jsx("p",{children:a.address||" "})]})]})]})]})]}),t==="locations"&&s.jsxs(os.div,{className:nn.settingsTab,initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4},children:[s.jsxs("h1",{children:[s.jsx(cr,{}),"   "]}),s.jsxs("div",{className:nn.sectionHeader,children:[s.jsx("h2",{children:" "}),s.jsxs("button",{className:nn.addButton,onClick:()=>O(!0),children:[s.jsx(Va,{}),"  "]})]}),s.jsx("div",{className:nn.listContainer,children:i.length===0?s.jsx(os.div,{className:nn.emptyMessage,initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4},children:"    "}):i.map((ne,re)=>{var oe;return s.jsxs(os.div,{className:nn.listItem,initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.4,delay:re*.1},whileHover:{scale:1.02},children:[s.jsxs("div",{className:nn.itemInfo,children:[s.jsxs("h4",{children:[ne.name,ne.is_active&&s.jsx("span",{className:nn.activeBadge,children:""}),ne.is_primary&&s.jsx("span",{className:nn.defaultBadge,children:""})]}),s.jsxs("p",{children:[s.jsx(cr,{})," ",ne.address]}),s.jsxs("p",{children:[((oe=c.find(me=>me.id===ne.location_type))==null?void 0:oe.name)||" "," ",ne.contact_phone&&`  ${ne.contact_phone}`]})]}),s.jsxs("div",{className:nn.itemActions,children:[s.jsx("button",{className:nn.editButton,onClick:()=>Y(ne),children:s.jsx(rl,{})}),s.jsx("button",{className:nn.deleteButton,onClick:()=>Q(ne.id),disabled:ne.is_primary,children:s.jsx(zh,{})})]})]},ne.id)})})]}),t==="receipts"&&s.jsxs(os.div,{className:nn.settingsTab,initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4},children:[s.jsxs("h1",{children:[s.jsx($o,{}),"  "]}),s.jsxs("div",{className:nn.sectionHeader,children:[s.jsx("h2",{children:"  "}),s.jsxs("div",{className:nn.actions,children:[s.jsxs("button",{className:nn.previewButton,onClick:()=>K(!se),children:[se?s.jsx(NR,{}):s.jsx(fo,{}),se?"":""]}),s.jsxs("button",{className:nn.saveButton,onClick:Z,children:[s.jsx(ic,{})," "]})]})]}),se?s.jsx("div",{className:nn.receiptPreviewContainer,children:s.jsx("iframe",{title:"receipt-preview",srcDoc:ae(),className:nn.receiptPreview})}):s.jsxs("div",{className:nn.templateEditor,children:[s.jsxs("div",{className:nn.formGroup,children:[s.jsx("label",{children:"HTML  "}),s.jsx("textarea",{value:a.receipt_html_template,onChange:ne=>r({...a,receipt_html_template:ne.target.value}),className:nn.codeEditor,spellCheck:"false",rows:20})]}),s.jsxs("div",{className:nn.formGroup,children:[s.jsx("label",{children:"CSS   ()"}),s.jsx("textarea",{value:a.receipt_css_template,onChange:ne=>r({...a,receipt_css_template:ne.target.value}),className:nn.codeEditor,spellCheck:"false",rows:10})]})]}),s.jsxs("div",{className:nn.templateVariables,children:[s.jsx("h3",{children:" :"}),s.jsxs("div",{className:nn.variablesGrid,children:[s.jsxs("div",{children:[s.jsx("h4",{children:"  :"}),s.jsxs("ul",{children:[s.jsxs("li",{children:[s.jsx("code",{children:"{{ business.name }}"})," -  "]}),s.jsxs("li",{children:[s.jsx("code",{children:"{{ business.address }}"})," -  "]})]})]}),s.jsxs("div",{children:[s.jsx("h4",{children:"  :"}),s.jsxs("ul",{children:[s.jsxs("li",{children:[s.jsx("code",{children:"{{ receipt.number }}"})," -  "]}),s.jsxs("li",{children:[s.jsx("code",{children:'{{ receipt.created_at.strftime("%d.%m.%Y %H:%M") }}'})," -   "]}),s.jsxs("li",{children:[s.jsx("code",{children:"{{ receipt.total_amount }}"})," -  "]})]})]}),s.jsxs("div",{children:[s.jsx("h4",{children:":"}),s.jsxs("ul",{children:[s.jsxs("li",{children:[s.jsx("code",{children:"{% for sale in sales %}"})," -   "]}),s.jsxs("li",{children:[s.jsx("code",{children:"{{ sale.variant.name }}"})," -  "]}),s.jsxs("li",{children:[s.jsx("code",{children:"{{ sale.quantity }}"})," - "]}),s.jsxs("li",{children:[s.jsx("code",{children:"{{ sale.price_per_unit }}"})," -   "]}),s.jsxs("li",{children:[s.jsx("code",{children:"{{ sale.total_price }}"})," -  "]})]})]})]})]})]}),t==="printers"&&s.jsxs(os.div,{className:nn.settingsTab,initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4},children:[s.jsxs("h1",{children:[s.jsx(dg,{}),"  "]}),s.jsxs("div",{className:nn.infoAlert,children:[s.jsx(li,{}),"   "]})]}),t==="employees"&&s.jsx(os.div,{className:nn.settingsTab,initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4},children:s.jsx(m$,{businessSlug:e})}),t==="bonus"&&s.jsx(os.div,{className:nn.settingsTab,initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4},children:s.jsx(p$,{})}),t==="photos"&&s.jsxs(os.div,{className:nn.settingsTab,initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4},children:[s.jsxs("h1",{children:[s.jsx(kl,{}),"  "]}),s.jsxs("div",{className:nn.photoSection,children:[s.jsx("div",{className:nn.sectionHeader,children:s.jsxs("div",{children:[s.jsx("h2",{children:" "}),s.jsx("p",{children:"   .       WebP."})]})}),s.jsxs("div",{className:nn.logoUploadContainer,children:[s.jsx("div",{className:nn.logoPreview,children:M?s.jsx("img",{src:M,alt:" ",className:nn.logoImage}):s.jsxs("div",{className:nn.logoPlaceholder,children:[s.jsx(kl,{}),s.jsx("p",{children:"  "})]})}),s.jsxs("div",{className:nn.uploadControls,children:[s.jsx("label",{htmlFor:"logo-upload",className:nn.uploadButton,children:z?s.jsxs(s.Fragment,{children:[s.jsx(Po,{className:nn.spinning})," ..."]}):s.jsxs(s.Fragment,{children:[s.jsx(kl,{})," ",M?" ":" "]})}),s.jsx("input",{type:"file",id:"logo-upload",accept:"image/*",onChange:A,disabled:z,style:{display:"none"}}),M&&s.jsxs("button",{className:nn.removeButton,onClick:async()=>{var ne,re;try{await Be.patch(`api/business/${e}/settings/`,{business_logo:null});const oe=await Be.get(`api/business/${e}/settings/`);r(oe.data),ee(null),alert(" ")}catch(oe){D(((re=(ne=oe.response)==null?void 0:ne.data)==null?void 0:re.detail)||"   ")}},children:[s.jsx(zh,{}),"  "]})]}),s.jsxs("div",{className:nn.uploadInfo,children:[s.jsx(li,{}),s.jsx("p",{children:" : 512x512px.   : 5MB.  : JPG, PNG, GIF, WebP."})]})]})]})]}),t==="products"&&s.jsxs(os.div,{className:nn.settingsTab,initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4},children:[s.jsxs("h1",{children:[s.jsx(pm,{}),"  "]}),s.jsxs("div",{className:nn.infoAlert,children:[s.jsx(li,{}),"   "]})]})]})})]}),B&&s.jsx(os.div,{className:nn.dialogOverlay,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>{O(!1),U(null)},children:s.jsxs(os.div,{className:nn.dialog,initial:{opacity:0,scale:.8,y:50},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.8,y:50},transition:{type:"spring",duration:.5},onClick:ne=>ne.stopPropagation(),children:[s.jsxs("div",{className:nn.dialogHeader,children:[s.jsx("h3",{children:$?" ":"  "}),s.jsx("button",{className:nn.closeButton,onClick:()=>{O(!1),U(null)},children:""})]}),s.jsxs("div",{className:nn.dialogContent,children:[s.jsxs("div",{className:nn.formGroup,children:[s.jsx("label",{children:" "}),s.jsx("input",{type:"text",value:F.name,onChange:ne=>H({...F,name:ne.target.value}),className:nn.editField})]}),s.jsxs("div",{className:nn.formGroup,children:[s.jsx("label",{children:""}),s.jsx("input",{type:"text",value:F.address,onChange:ne=>H({...F,address:ne.target.value}),className:nn.editField})]}),s.jsxs("div",{className:nn.formGroup,children:[s.jsx("label",{children:""}),s.jsxs("select",{value:w,onChange:ne=>{C(ne.target.value),H({...F,city:""})},className:nn.editField,children:[s.jsx("option",{value:"",children:" "}),d.map(ne=>s.jsx("option",{value:ne.id,children:ne.name},ne.id))]})]}),s.jsxs("div",{className:nn.formGroup,children:[s.jsx("label",{children:""}),s.jsxs("select",{value:F.city,onChange:ne=>H({...F,city:ne.target.value}),className:nn.editField,disabled:!w,children:[s.jsx("option",{value:"",children:" "}),g.map(ne=>s.jsx("option",{value:ne.id,children:ne.name},ne.id))]})]}),s.jsxs("div",{className:nn.formGroup,children:[s.jsx("label",{children:" "}),s.jsxs("select",{value:F.location_type,onChange:ne=>H({...F,location_type:ne.target.value}),className:nn.editField,children:[s.jsx("option",{value:"",children:" "}),c.map(ne=>s.jsx("option",{value:ne.id,children:ne.name},ne.id))]})]}),s.jsxs("div",{className:nn.formGroup,children:[s.jsx("label",{children:" "}),s.jsx("input",{type:"text",value:F.contact_phone,onChange:ne=>H({...F,contact_phone:ne.target.value}),className:nn.editField})]}),s.jsx("div",{className:nn.formGroup,children:s.jsxs("label",{className:nn.checkboxLabel,children:[s.jsx("input",{type:"checkbox",checked:F.is_active,onChange:ne=>H({...F,is_active:ne.target.checked})}),s.jsx("span",{children:""})]})}),s.jsxs("div",{className:nn.formGroup,children:[s.jsx("label",{children:""}),s.jsx("textarea",{value:F.description,onChange:ne=>H({...F,description:ne.target.value}),className:nn.editField})]})]}),s.jsxs("div",{className:nn.dialogFooter,children:[s.jsx("button",{className:nn.cancelButton,onClick:()=>{O(!1),U(null)},children:""}),s.jsxs("button",{className:nn.saveButton,onClick:G,children:[s.jsx(ic,{})," "]})]})]})})]})},pJe="_container_17g1q_5",gJe="_loadingContainer_17g1q_25",_Je="_header_17g1q_43",vJe="_title_17g1q_123",xJe="_tabSelector_17g1q_141",bJe="_tabSelectorButton_17g1q_155",yJe="_tabMenu_17g1q_227",wJe="_tabMenuItem_17g1q_257",jJe="_active_17g1q_311",CJe="_content_17g1q_345",SJe="_tabContent_17g1q_355",NJe="_sectionHeader_17g1q_367",kJe="_actions_17g1q_401",IJe="_editButton_17g1q_413",EJe="_saveButton_17g1q_415",TJe="_cancelButton_17g1q_417",DJe="_addButton_17g1q_419",AJe="_previewButton_17g1q_421",MJe="_formContainer_17g1q_501",RJe="_formGroup_17g1q_513",BJe="_formInput_17g1q_537",OJe="_formTextarea_17g1q_539",LJe="_formSelect_17g1q_541",$Je="_checkboxLabel_17g1q_591",PJe="_infoContainer_17g1q_625",FJe="_infoItem_17g1q_637",HJe="_listContainer_17g1q_701",qJe="_listItem_17g1q_713",VJe="_itemInfo_17g1q_735",zJe="_activeBadge_17g1q_771",UJe="_defaultBadge_17g1q_773",WJe="_itemActions_17g1q_831",YJe="_deleteButton_17g1q_899",GJe="_emptyMessage_17g1q_929",QJe="_error_17g1q_943",XJe="_templateEditor_17g1q_969",KJe="_codeEditor_17g1q_981",ZJe="_receiptPreviewContainer_17g1q_1019",JJe="_receiptPreview_17g1q_1019",eet="_logoUploadContainer_17g1q_1051",tet="_logoPreview_17g1q_1063",net="_logoImage_17g1q_1085",set="_logoPlaceholder_17g1q_1099",aet="_uploadControls_17g1q_1125",ret="_uploadButton_17g1q_1137",iet="_removeButton_17g1q_1185",oet="_uploadInfo_17g1q_1233",cet="_spinning_17g1q_1271",uet="_infoAlert_17g1q_1297",det="_modalOverlay_17g1q_1323",het="_modal_17g1q_1323",fet="_modalHeader_17g1q_1393",met="_modalBody_17g1q_1431",pet="_modalFooter_17g1q_1445",Sn={container:pJe,loadingContainer:gJe,header:_Je,title:vJe,tabSelector:xJe,tabSelectorButton:bJe,tabMenu:yJe,tabMenuItem:wJe,active:jJe,content:CJe,tabContent:SJe,sectionHeader:NJe,actions:kJe,editButton:IJe,saveButton:EJe,cancelButton:TJe,addButton:DJe,previewButton:AJe,formContainer:MJe,formGroup:RJe,formInput:BJe,formTextarea:OJe,formSelect:LJe,checkboxLabel:$Je,infoContainer:PJe,infoItem:FJe,listContainer:HJe,listItem:qJe,itemInfo:VJe,activeBadge:zJe,defaultBadge:UJe,itemActions:WJe,deleteButton:YJe,emptyMessage:GJe,error:QJe,templateEditor:XJe,codeEditor:KJe,receiptPreviewContainer:ZJe,receiptPreview:JJe,logoUploadContainer:eet,logoPreview:tet,logoImage:net,logoPlaceholder:set,uploadControls:aet,uploadButton:ret,removeButton:iet,uploadInfo:oet,spinning:cet,infoAlert:uet,modalOverlay:det,modal:het,modalHeader:fet,modalBody:met,modalFooter:pet},get=()=>{const{business_slug:e}=ha();Is();const[t,n]=_.useState("general"),[a,r]=_.useState(!1),[i,o]=_.useState({name:"",description:"",phone:"",address:"",business_logo:null,receipt_html_template:"",receipt_css_template:""}),[c,l]=_.useState([]),[d,f]=_.useState([]),[g,b]=_.useState([]),[w,C]=_.useState([]),[S,k]=_.useState(""),[E,D]=_.useState(!0),[R,P]=_.useState(null),[B,O]=_.useState(!1),[$,U]=_.useState(!1),[F,H]=_.useState(null),[se,K]=_.useState({name:"",address:"",location_type:"",city:"",contact_phone:"",is_active:!0,description:"",opening_hours:{}}),[te,J]=_.useState(!1),[z,V]=_.useState(!1),[M,ee]=_.useState(null);_.useEffect(()=>{(async()=>{try{D(!0);const[me,Ce,Ne,Ee]=await Promise.all([Be.get(`api/business/${e}/settings/`),Be.get(`api/business/${e}/locations/`),Be.get("api/location-types/"),Be.get("api/countries/")]);o(me.data),me.data.business_logo?ee(me.data.business_logo):ee(null),l(Ce.data),f(Ne.data),b(Ee.data),D(!1)}catch(me){P(me.message),D(!1)}})()},[e]),_.useEffect(()=>{(async()=>{if(S)try{const me=await Be.get(`api/cities/?country=${S}`);C(me.data)}catch(me){console.error("  :",me),C([])}else C([])})()},[S]);const Z=async()=>{var oe;try{const me=await Be.patch(`api/business/${e}/settings/`,i);o(me.data),O(!1)}catch(me){P(((oe=me.response)==null?void 0:oe.data)||me.message)}},A=async oe=>{var Ce,Ne;const me=oe.target.files[0];if(me){if(!me.type.startsWith("image/")){P("   ");return}if(me.size>5*1024*1024){P("     5MB");return}try{V(!0),P(null);const Ee=new FileReader;Ee.onloadend=()=>{ee(Ee.result)},Ee.readAsDataURL(me);const ve=new FormData;ve.append("logo",me);const Se=await Be.post(`api/business/${e}/upload-logo/`,ve,{headers:{"Content-Type":"multipart/form-data"}}),fe=await Be.get(`api/business/${e}/settings/`);o(fe.data),ee(Se.data.logo_url||fe.data.business_logo),alert("  !")}catch(Ee){console.error("  :",Ee),P(((Ne=(Ce=Ee.response)==null?void 0:Ce.data)==null?void 0:Ne.detail)||"   "),ee(null)}finally{V(!1)}}},G=async()=>{var oe;try{if(F){const me=await Be.patch(`api/business/${e}/locations/${F.id}/`,se);l(c.map(Ce=>Ce.id===F.id?me.data:Ce))}else{const me=await Be.post(`api/business/${e}/locations/`,se);l([...c,me.data])}U(!1),H(null),k(""),C([]),K({name:"",address:"",location_type:"",city:"",contact_phone:"",is_active:!0,description:"",opening_hours:{}})}catch(me){P(((oe=me.response)==null?void 0:oe.data)||me.message)}},Q=async oe=>{var me;if(window.confirm("  ?"))try{await Be.delete(`api/business/${e}/locations/${oe}/`),l(c.filter(Ce=>Ce.id!==oe))}catch(Ce){P(((me=Ce.response)==null?void 0:me.data)||Ce.message)}},Y=async oe=>{var me;if(H(oe),oe.city_detail){const Ce=(me=oe.city_detail.country_detail)==null?void 0:me.id;if(Ce){k(Ce);try{const Ne=await Be.get(`api/cities/?country=${Ce}`);C(Ne.data)}catch(Ne){console.error("  :",Ne)}}}K({name:oe.name,address:oe.address,location_type:oe.location_type,city:oe.city||"",contact_phone:oe.contact_phone,is_active:oe.is_active,description:oe.description,opening_hours:oe.opening_hours||{}}),U(!0)},ae=()=>i.receipt_html_template.replace(/{{ business\.name }}/g,i.name||" ").replace(/{{ business\.address }}/g,i.address||" ").replace(/{{ receipt\.number }}/g,"000001").replace(/{{ receipt\.created_at\.strftime\("%d\.%m\.%Y %H:%M"\) }}/g,new Date().toLocaleString("ru-RU")).replace(/{{ cashier or "" }}/g," ").replace(/{% for sale in sales %}([\s\S]*?){% endfor %}/g,(me,Ce)=>[{variant:{name:" 1"},quantity:2,price_per_unit:1500,total_price:3e3},{variant:{name:" 2   "},quantity:1,price_per_unit:4500,total_price:4500}].map(Ee=>Ce.replace(/{{ sale\.variant\.name\|truncate\(18,true\) }}/g,Ee.variant.name.substring(0,18)).replace(/{{ sale\.quantity }}/g,Ee.quantity).replace(/{{ "%.2f"\|format\(sale\.price_per_unit\) }}/g,Ee.price_per_unit.toFixed(2)).replace(/{{ "%.2f"\|format\(sale\.total_price\) }}/g,Ee.total_price.toFixed(2))).join("")).replace(/{{ "%.2f"\|format\(receipt\.total_amount\) }}/g,"7500.00").replace(/{{ receipt\.discount_percent }}/g,"10").replace(/{{ receipt\.discount_amount }}/g,"750").replace(/{{ now\.strftime\("%d\.%m\.%Y %H:%M:%S"\) }}/g,new Date().toLocaleString("ru-RU")),ne=oe=>({general:"",locations:"  ",receipts:" ",printers:"",employees:"",bonus:"",products:"",photos:""})[oe]||oe,re=oe=>{const Ce={general:km,locations:cr,receipts:$o,printers:dg,employees:dg,bonus:pm,products:pm,photos:kl}[oe]||km;return s.jsx(Ce,{})};return E?s.jsx("div",{className:Sn.loadingContainer,children:s.jsx(Fn,{size:"large"})}):R&&!i.name?s.jsxs("div",{className:Sn.container,children:[s.jsxs("div",{className:Sn.header,children:[s.jsx("h1",{className:Sn.title,children:""}),s.jsx("div",{style:{width:"44px"}})]}),s.jsx("div",{className:Sn.content,children:s.jsxs("div",{className:Sn.error,children:[s.jsx(li,{})," ",R]})})]}):s.jsxs("div",{className:Sn.container,children:[s.jsxs("div",{className:Sn.header,children:[s.jsx("h1",{className:Sn.title,children:""}),s.jsx("div",{style:{width:"44px"}})]}),s.jsxs("div",{className:Sn.tabSelector,children:[s.jsxs("button",{className:Sn.tabSelectorButton,onClick:()=>r(!a),children:[re(t),s.jsx("span",{children:ne(t)}),a?s.jsx(ko,{}):s.jsx(No,{})]}),s.jsx(Xc,{children:a&&s.jsx(os.div,{className:Sn.tabMenu,initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},children:["general","locations","receipts","printers","employees","bonus","products","photos"].map(oe=>s.jsxs("button",{className:`${Sn.tabMenuItem} ${t===oe?Sn.active:""}`,onClick:()=>{n(oe),r(!1)},children:[re(oe),s.jsx("span",{children:ne(oe)})]},oe))})})]}),s.jsx("div",{className:Sn.content,children:s.jsxs(Xc,{mode:"wait",children:[t==="general"&&s.jsxs(os.div,{className:Sn.tabContent,initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},children:[s.jsxs("div",{className:Sn.sectionHeader,children:[s.jsx("h2",{children:" "}),B?s.jsxs("div",{className:Sn.actions,children:[s.jsxs("button",{className:Sn.saveButton,onClick:Z,children:[s.jsx(ic,{})," "]}),s.jsx("button",{className:Sn.cancelButton,onClick:()=>O(!1),children:""})]}):s.jsxs("button",{className:Sn.editButton,onClick:()=>O(!0),children:[s.jsx(rl,{})," "]})]}),B?s.jsxs("div",{className:Sn.formContainer,children:[s.jsxs("div",{className:Sn.formGroup,children:[s.jsx("label",{children:" "}),s.jsx("input",{type:"text",value:i.name,onChange:oe=>o({...i,name:oe.target.value}),className:Sn.formInput})]}),s.jsxs("div",{className:Sn.formGroup,children:[s.jsx("label",{children:""}),s.jsx("textarea",{value:i.description,onChange:oe=>o({...i,description:oe.target.value}),className:Sn.formTextarea,rows:4})]}),s.jsxs("div",{className:Sn.formGroup,children:[s.jsx("label",{children:""}),s.jsx("input",{type:"text",value:i.phone,onChange:oe=>o({...i,phone:oe.target.value}),className:Sn.formInput})]}),s.jsxs("div",{className:Sn.formGroup,children:[s.jsx("label",{children:""}),s.jsx("input",{type:"text",value:i.address,onChange:oe=>o({...i,address:oe.target.value}),className:Sn.formInput})]})]}):s.jsxs("div",{className:Sn.infoContainer,children:[s.jsxs("div",{className:Sn.infoItem,children:[s.jsx(Ac,{}),s.jsxs("div",{children:[s.jsx("h3",{children:""}),s.jsx("p",{children:i.name})]})]}),s.jsxs("div",{className:Sn.infoItem,children:[s.jsx(li,{}),s.jsxs("div",{children:[s.jsx("h3",{children:""}),s.jsx("p",{children:i.description||" "})]})]}),s.jsxs("div",{className:Sn.infoItem,children:[s.jsx(Ac,{}),s.jsxs("div",{children:[s.jsx("h3",{children:""}),s.jsx("p",{children:i.phone||" "})]})]}),s.jsxs("div",{className:Sn.infoItem,children:[s.jsx(cr,{}),s.jsxs("div",{children:[s.jsx("h3",{children:""}),s.jsx("p",{children:i.address||" "})]})]})]})]},"general"),t==="locations"&&s.jsxs(os.div,{className:Sn.tabContent,initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},children:[s.jsxs("div",{className:Sn.sectionHeader,children:[s.jsx("h2",{children:"  "}),s.jsxs("button",{className:Sn.addButton,onClick:()=>U(!0),children:[s.jsx(Va,{})," "]})]}),s.jsx("div",{className:Sn.listContainer,children:c.length===0?s.jsx("div",{className:Sn.emptyMessage,children:"    "}):c.map(oe=>{var me;return s.jsxs("div",{className:Sn.listItem,children:[s.jsxs("div",{className:Sn.itemInfo,children:[s.jsxs("h4",{children:[oe.name,oe.is_active&&s.jsx("span",{className:Sn.activeBadge,children:""}),oe.is_primary&&s.jsx("span",{className:Sn.defaultBadge,children:""})]}),s.jsxs("p",{children:[s.jsx(cr,{})," ",oe.address]}),s.jsxs("p",{children:[((me=d.find(Ce=>Ce.id===oe.location_type))==null?void 0:me.name)||" ",oe.contact_phone&&`   ${oe.contact_phone}`]})]}),s.jsxs("div",{className:Sn.itemActions,children:[s.jsx("button",{className:Sn.editButton,onClick:()=>Y(oe),children:s.jsx(rl,{})}),s.jsx("button",{className:Sn.deleteButton,onClick:()=>Q(oe.id),disabled:oe.is_primary,children:s.jsx(zh,{})})]})]},oe.id)})})]},"locations"),t==="receipts"&&s.jsxs(os.div,{className:Sn.tabContent,initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},children:[s.jsxs("div",{className:Sn.sectionHeader,children:[s.jsx("h2",{children:" "}),s.jsxs("div",{className:Sn.actions,children:[s.jsxs("button",{className:Sn.previewButton,onClick:()=>J(!te),children:[te?s.jsx(NR,{}):s.jsx(fo,{}),te?"":""]}),s.jsxs("button",{className:Sn.saveButton,onClick:Z,children:[s.jsx(ic,{})," "]})]})]}),te?s.jsx("div",{className:Sn.receiptPreviewContainer,children:s.jsx("iframe",{title:"receipt-preview",srcDoc:ae(),className:Sn.receiptPreview})}):s.jsxs("div",{className:Sn.templateEditor,children:[s.jsxs("div",{className:Sn.formGroup,children:[s.jsx("label",{children:"HTML  "}),s.jsx("textarea",{value:i.receipt_html_template,onChange:oe=>o({...i,receipt_html_template:oe.target.value}),className:Sn.codeEditor,spellCheck:"false",rows:15})]}),s.jsxs("div",{className:Sn.formGroup,children:[s.jsx("label",{children:"CSS   ()"}),s.jsx("textarea",{value:i.receipt_css_template,onChange:oe=>o({...i,receipt_css_template:oe.target.value}),className:Sn.codeEditor,spellCheck:"false",rows:10})]})]})]},"receipts"),t==="printers"&&s.jsx(os.div,{className:Sn.tabContent,initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},children:s.jsxs("div",{className:Sn.infoAlert,children:[s.jsx(li,{}),"   "]})},"printers"),t==="employees"&&s.jsx(os.div,{className:Sn.tabContent,initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},children:s.jsx(m$,{businessSlug:e})},"employees"),t==="bonus"&&s.jsx(os.div,{className:Sn.tabContent,initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},children:s.jsx(p$,{})},"bonus"),t==="products"&&s.jsx(os.div,{className:Sn.tabContent,initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},children:s.jsxs("div",{className:Sn.infoAlert,children:[s.jsx(li,{}),"   "]})},"products"),t==="photos"&&s.jsxs(os.div,{className:Sn.tabContent,initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},children:[s.jsx("div",{className:Sn.sectionHeader,children:s.jsx("h2",{children:" "})}),s.jsxs("div",{className:Sn.logoUploadContainer,children:[s.jsx("div",{className:Sn.logoPreview,children:M?s.jsx("img",{src:M,alt:" ",className:Sn.logoImage}):s.jsxs("div",{className:Sn.logoPlaceholder,children:[s.jsx(kl,{}),s.jsx("p",{children:"  "})]})}),s.jsxs("div",{className:Sn.uploadControls,children:[s.jsx("label",{htmlFor:"logo-upload",className:Sn.uploadButton,children:z?s.jsxs(s.Fragment,{children:[s.jsx(Po,{className:Sn.spinning})," ..."]}):s.jsxs(s.Fragment,{children:[s.jsx(kl,{})," ",M?" ":" "]})}),s.jsx("input",{type:"file",id:"logo-upload",accept:"image/*",onChange:A,disabled:z,style:{display:"none"}}),M&&s.jsxs("button",{className:Sn.removeButton,onClick:async()=>{var oe,me;try{await Be.patch(`api/business/${e}/settings/`,{business_logo:null});const Ce=await Be.get(`api/business/${e}/settings/`);o(Ce.data),ee(null),alert(" ")}catch(Ce){P(((me=(oe=Ce.response)==null?void 0:oe.data)==null?void 0:me.detail)||"   ")}},children:[s.jsx(zh,{}),"  "]})]}),s.jsxs("div",{className:Sn.uploadInfo,children:[s.jsx(li,{}),s.jsx("p",{children:" : 512x512px.   : 5MB."})]})]})]},"photos")]})}),$&&s.jsx("div",{className:Sn.modalOverlay,onClick:()=>{U(!1),H(null)},children:s.jsxs(os.div,{className:Sn.modal,initial:{y:"100%"},animate:{y:0},exit:{y:"100%"},onClick:oe=>oe.stopPropagation(),children:[s.jsxs("div",{className:Sn.modalHeader,children:[s.jsx("h2",{children:F?" ":"  "}),s.jsx(Li,{onClick:()=>{U(!1),H(null)}})]}),s.jsxs("div",{className:Sn.modalBody,children:[s.jsxs("div",{className:Sn.formGroup,children:[s.jsx("label",{children:" "}),s.jsx("input",{type:"text",value:se.name,onChange:oe=>K({...se,name:oe.target.value}),className:Sn.formInput})]}),s.jsxs("div",{className:Sn.formGroup,children:[s.jsx("label",{children:""}),s.jsx("input",{type:"text",value:se.address,onChange:oe=>K({...se,address:oe.target.value}),className:Sn.formInput})]}),s.jsxs("div",{className:Sn.formGroup,children:[s.jsx("label",{children:""}),s.jsxs("select",{value:S,onChange:oe=>{k(oe.target.value),K({...se,city:""})},className:Sn.formSelect,children:[s.jsx("option",{value:"",children:" "}),g.map(oe=>s.jsx("option",{value:oe.id,children:oe.name},oe.id))]})]}),s.jsxs("div",{className:Sn.formGroup,children:[s.jsx("label",{children:""}),s.jsxs("select",{value:se.city,onChange:oe=>K({...se,city:oe.target.value}),className:Sn.formSelect,disabled:!S,children:[s.jsx("option",{value:"",children:" "}),w.map(oe=>s.jsx("option",{value:oe.id,children:oe.name},oe.id))]})]}),s.jsxs("div",{className:Sn.formGroup,children:[s.jsx("label",{children:" "}),s.jsxs("select",{value:se.location_type,onChange:oe=>K({...se,location_type:oe.target.value}),className:Sn.formSelect,children:[s.jsx("option",{value:"",children:" "}),d.map(oe=>s.jsx("option",{value:oe.id,children:oe.name},oe.id))]})]}),s.jsxs("div",{className:Sn.formGroup,children:[s.jsx("label",{children:" "}),s.jsx("input",{type:"text",value:se.contact_phone,onChange:oe=>K({...se,contact_phone:oe.target.value}),className:Sn.formInput})]}),s.jsx("div",{className:Sn.formGroup,children:s.jsxs("label",{className:Sn.checkboxLabel,children:[s.jsx("input",{type:"checkbox",checked:se.is_active,onChange:oe=>K({...se,is_active:oe.target.checked})}),s.jsx("span",{children:""})]})}),s.jsxs("div",{className:Sn.formGroup,children:[s.jsx("label",{children:""}),s.jsx("textarea",{value:se.description,onChange:oe=>K({...se,description:oe.target.value}),className:Sn.formTextarea,rows:4})]})]}),s.jsxs("div",{className:Sn.modalFooter,children:[s.jsx("button",{className:Sn.cancelButton,onClick:()=>{U(!1),H(null)},children:""}),s.jsxs("button",{className:Sn.saveButton,onClick:G,children:[s.jsx(ic,{})," "]})]})]})})]})};var _et=b0();const zs=Ti(_et);function Es(){return Es=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Es.apply(null,arguments)}var vet=Symbol.for("react.element"),xet=Symbol.for("react.transitional.element"),bet=Symbol.for("react.fragment");function g$(e){return e&&Ls(e)==="object"&&(e.$$typeof===vet||e.$$typeof===xet)&&e.type===bet}function vb(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=[];return nt.Children.forEach(e,function(a){a==null&&!t.keepEmpty||(Array.isArray(a)?n=n.concat(vb(a)):g$(a)&&a.props?n=n.concat(vb(a.props.children,t)):n.push(a))}),n}var tN={},yet=function(t){};function wet(e,t){}function jet(e,t){}function Cet(){tN={}}function _$(e,t,n){!t&&!tN[n]&&(e(!1,n),tN[n]=!0)}function qo(e,t){_$(wet,e,t)}function Net(e,t){_$(jet,e,t)}qo.preMessage=yet;qo.resetWarned=Cet;qo.noteOnce=Net;function Qg(e){return e instanceof HTMLElement||e instanceof SVGElement}function ket(e){return e&&Ls(e)==="object"&&Qg(e.nativeElement)?e.nativeElement:Qg(e)?e:null}function lx(e){var t=ket(e);if(t)return t;if(e instanceof nt.Component){var n;return(n=Nx.findDOMNode)===null||n===void 0?void 0:n.call(Nx,e)}return null}var Jj={exports:{}},or={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var B7;function Iet(){if(B7)return or;B7=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),o=Symbol.for("react.context"),c=Symbol.for("react.server_context"),l=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),g=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),w=Symbol.for("react.offscreen"),C;C=Symbol.for("react.module.reference");function S(k){if(typeof k=="object"&&k!==null){var E=k.$$typeof;switch(E){case e:switch(k=k.type,k){case n:case r:case a:case d:case f:return k;default:switch(k=k&&k.$$typeof,k){case c:case o:case l:case b:case g:case i:return k;default:return E}}case t:return E}}}return or.ContextConsumer=o,or.ContextProvider=i,or.Element=e,or.ForwardRef=l,or.Fragment=n,or.Lazy=b,or.Memo=g,or.Portal=t,or.Profiler=r,or.StrictMode=a,or.Suspense=d,or.SuspenseList=f,or.isAsyncMode=function(){return!1},or.isConcurrentMode=function(){return!1},or.isContextConsumer=function(k){return S(k)===o},or.isContextProvider=function(k){return S(k)===i},or.isElement=function(k){return typeof k=="object"&&k!==null&&k.$$typeof===e},or.isForwardRef=function(k){return S(k)===l},or.isFragment=function(k){return S(k)===n},or.isLazy=function(k){return S(k)===b},or.isMemo=function(k){return S(k)===g},or.isPortal=function(k){return S(k)===t},or.isProfiler=function(k){return S(k)===r},or.isStrictMode=function(k){return S(k)===a},or.isSuspense=function(k){return S(k)===d},or.isSuspenseList=function(k){return S(k)===f},or.isValidElementType=function(k){return typeof k=="string"||typeof k=="function"||k===n||k===r||k===a||k===d||k===f||k===w||typeof k=="object"&&k!==null&&(k.$$typeof===b||k.$$typeof===g||k.$$typeof===i||k.$$typeof===o||k.$$typeof===l||k.$$typeof===C||k.getModuleId!==void 0)},or.typeOf=S,or}var O7;function Eet(){return O7||(O7=1,Jj.exports=Iet()),Jj.exports}var eC=Eet();function R4(e,t,n){var a=_.useRef({});return(!("value"in a.current)||n(a.current.condition,t))&&(a.current.value=e(),a.current.condition=t),a.current.value}var Tet=Number(_.version.split(".")[0]),B4=function(t,n){typeof t=="function"?t(n):Ls(t)==="object"&&t&&"current"in t&&(t.current=n)},jy=function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];var r=n.filter(Boolean);return r.length<=1?r[0]:function(i){n.forEach(function(o){B4(o,i)})}},Cy=function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return R4(function(){return jy.apply(void 0,n)},n,function(r,i){return r.length!==i.length||r.every(function(o,c){return o!==i[c]})})},D0=function(t){var n,a;if(!t)return!1;if(v$(t)&&Tet>=19)return!0;var r=eC.isMemo(t)?t.type.type:t.type;return!(typeof r=="function"&&!((n=r.prototype)!==null&&n!==void 0&&n.render)&&r.$$typeof!==eC.ForwardRef||typeof t=="function"&&!((a=t.prototype)!==null&&a!==void 0&&a.render)&&t.$$typeof!==eC.ForwardRef)};function v$(e){return _.isValidElement(e)&&!g$(e)}var Sy=function(t){if(t&&v$(t)){var n=t;return n.props.propertyIsEnumerable("ref")?n.props.ref:n.ref}return null},nN=_.createContext(null);function Det(e){var t=e.children,n=e.onBatchResize,a=_.useRef(0),r=_.useRef([]),i=_.useContext(nN),o=_.useCallback(function(c,l,d){a.current+=1;var f=a.current;r.current.push({size:c,element:l,data:d}),Promise.resolve().then(function(){f===a.current&&(n==null||n(r.current),r.current=[])}),i==null||i(c,l,d)},[n,i]);return _.createElement(nN.Provider,{value:o},t)}var Cd=new Map;function Aet(e){e.forEach(function(t){var n,a=t.target;(n=Cd.get(a))===null||n===void 0||n.forEach(function(r){return r(a)})})}var x$=new FB(Aet);function Met(e,t){Cd.has(e)||(Cd.set(e,new Set),x$.observe(e)),Cd.get(e).add(t)}function Ret(e,t){Cd.has(e)&&(Cd.get(e).delete(t),Cd.get(e).size||(x$.unobserve(e),Cd.delete(e)))}function Pi(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function L7(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,iO(a.key),a)}}function Fi(e,t,n){return t&&L7(e.prototype,t),n&&L7(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Xg(e,t){return Xg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Xg(e,t)}function Pd(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Xg(e,t)}function Kg(e){return Kg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Kg(e)}function O4(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(O4=function(){return!!e})()}function wa(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Bet(e,t){if(t&&(Ls(t)=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wa(e)}function Fd(e){var t=O4();return function(){var n,a=Kg(e);if(t){var r=Kg(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Bet(this,n)}}var Oet=function(e){Pd(n,e);var t=Fd(n);function n(){return Pi(this,n),t.apply(this,arguments)}return Fi(n,[{key:"render",value:function(){return this.props.children}}]),n}(_.Component);function Let(e,t){var n=e.children,a=e.disabled,r=_.useRef(null),i=_.useRef(null),o=_.useContext(nN),c=typeof n=="function",l=c?n(r):n,d=_.useRef({width:-1,height:-1,offsetWidth:-1,offsetHeight:-1}),f=!c&&_.isValidElement(l)&&D0(l),g=f?Sy(l):null,b=Cy(g,r),w=function(){var E;return lx(r.current)||(r.current&&Ls(r.current)==="object"?lx((E=r.current)===null||E===void 0?void 0:E.nativeElement):null)||lx(i.current)};_.useImperativeHandle(t,function(){return w()});var C=_.useRef(e);C.current=e;var S=_.useCallback(function(k){var E=C.current,D=E.onResize,R=E.data,P=k.getBoundingClientRect(),B=P.width,O=P.height,$=k.offsetWidth,U=k.offsetHeight,F=Math.floor(B),H=Math.floor(O);if(d.current.width!==F||d.current.height!==H||d.current.offsetWidth!==$||d.current.offsetHeight!==U){var se={width:F,height:H,offsetWidth:$,offsetHeight:U};d.current=se;var K=$===Math.round(B)?B:$,te=U===Math.round(O)?O:U,J=vt(vt({},se),{},{offsetWidth:K,offsetHeight:te});o==null||o(J,k,R),D&&Promise.resolve().then(function(){D(J,k)})}},[]);return _.useEffect(function(){var k=w();return k&&!a&&Met(k,S),function(){return Ret(k,S)}},[r.current,a]),_.createElement(Oet,{ref:i},f?_.cloneElement(l,{ref:b}):l)}var $et=_.forwardRef(Let),Pet="rc-observer-key";function Fet(e,t){var n=e.children,a=typeof n=="function"?[n]:vb(n);return a.map(function(r,i){var o=(r==null?void 0:r.key)||"".concat(Pet,"-").concat(i);return _.createElement($et,Es({},e,{key:o,ref:i===0?t:void 0}),r)})}var af=_.forwardRef(Fet);af.Collection=Det;function sN(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,a=Array(t);n<t;n++)a[n]=e[n];return a}function Het(e){if(Array.isArray(e))return sN(e)}function b$(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function L4(e,t){if(e){if(typeof e=="string")return sN(e,t);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?sN(e,t):void 0}}function qet(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ps(e){return Het(e)||b$(e)||L4(e)||qet()}var y$=function(t){return+setTimeout(t,16)},w$=function(t){return clearTimeout(t)};typeof window<"u"&&"requestAnimationFrame"in window&&(y$=function(t){return window.requestAnimationFrame(t)},w$=function(t){return window.cancelAnimationFrame(t)});var $7=0,$4=new Map;function j$(e){$4.delete(e)}var no=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;$7+=1;var a=$7;function r(i){if(i===0)j$(a),t();else{var o=y$(function(){r(i-1)});$4.set(a,o)}}return r(n),a};no.cancel=function(e){var t=$4.get(e);return j$(e),w$(t)};function C$(e){if(Array.isArray(e))return e}function Vet(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var a,r,i,o,c=[],l=!0,d=!1;try{if(i=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(a=i.call(n)).done)&&(c.push(a.value),c.length!==t);l=!0);}catch(f){d=!0,r=f}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw r}}return c}}function S$(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function St(e,t){return C$(e)||Vet(e,t)||L4(e,t)||S$()}function Zg(e){for(var t=0,n,a=0,r=e.length;r>=4;++a,r-=4)n=e.charCodeAt(a)&255|(e.charCodeAt(++a)&255)<<8|(e.charCodeAt(++a)&255)<<16|(e.charCodeAt(++a)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,t=(n&65535)*1540483477+((n>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(r){case 3:t^=(e.charCodeAt(a+2)&255)<<16;case 2:t^=(e.charCodeAt(a+1)&255)<<8;case 1:t^=e.charCodeAt(a)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}function lc(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function zet(e,t){if(!e)return!1;if(e.contains)return e.contains(t);for(var n=t;n;){if(n===e)return!0;n=n.parentNode}return!1}var P7="data-rc-order",F7="data-rc-priority",Uet="rc-util-key",aN=new Map;function N$(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=e.mark;return t?t.startsWith("data-")?t:"data-".concat(t):Uet}function Ny(e){if(e.attachTo)return e.attachTo;var t=document.querySelector("head");return t||document.body}function Wet(e){return e==="queue"?"prependQueue":e?"prepend":"append"}function P4(e){return Array.from((aN.get(e)||e).children).filter(function(t){return t.tagName==="STYLE"})}function k$(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!lc())return null;var n=t.csp,a=t.prepend,r=t.priority,i=r===void 0?0:r,o=Wet(a),c=o==="prependQueue",l=document.createElement("style");l.setAttribute(P7,o),c&&i&&l.setAttribute(F7,"".concat(i)),n!=null&&n.nonce&&(l.nonce=n==null?void 0:n.nonce),l.innerHTML=e;var d=Ny(t),f=d.firstChild;if(a){if(c){var g=(t.styles||P4(d)).filter(function(b){if(!["prepend","prependQueue"].includes(b.getAttribute(P7)))return!1;var w=Number(b.getAttribute(F7)||0);return i>=w});if(g.length)return d.insertBefore(l,g[g.length-1].nextSibling),l}d.insertBefore(l,f)}else d.appendChild(l);return l}function I$(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=Ny(t);return(t.styles||P4(n)).find(function(a){return a.getAttribute(N$(t))===e})}function Jg(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=I$(e,t);if(n){var a=Ny(t);a.removeChild(n)}}function Yet(e,t){var n=aN.get(e);if(!n||!zet(document,n)){var a=k$("",t),r=a.parentNode;aN.set(e,r),e.removeChild(a)}}function Su(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=Ny(n),r=P4(a),i=vt(vt({},n),{},{styles:r});Yet(a,i);var o=I$(t,i);if(o){var c,l;if((c=i.csp)!==null&&c!==void 0&&c.nonce&&o.nonce!==((l=i.csp)===null||l===void 0?void 0:l.nonce)){var d;o.nonce=(d=i.csp)===null||d===void 0?void 0:d.nonce}return o.innerHTML!==e&&(o.innerHTML=e),o}var f=k$(e,i);return f.setAttribute(N$(i),t),f}function Get(e,t){if(e==null)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;n[a]=e[a]}return n}function di(e,t){if(e==null)return{};var n,a,r=Get(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function rN(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,a=new Set;function r(i,o){var c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,l=a.has(i);if(qo(!l,"Warning: There may be circular references"),l)return!1;if(i===o)return!0;if(n&&c>1)return!1;a.add(i);var d=c+1;if(Array.isArray(i)){if(!Array.isArray(o)||i.length!==o.length)return!1;for(var f=0;f<i.length;f++)if(!r(i[f],o[f],d))return!1;return!0}if(i&&o&&Ls(i)==="object"&&Ls(o)==="object"){var g=Object.keys(i);return g.length!==Object.keys(o).length?!1:g.every(function(b){return r(i[b],o[b],d)})}return!1}return r(e,t)}var Qet="%";function iN(e){return e.join(Qet)}var Xet=function(){function e(t){Pi(this,e),pt(this,"instanceId",void 0),pt(this,"cache",new Map),pt(this,"extracted",new Set),this.instanceId=t}return Fi(e,[{key:"get",value:function(n){return this.opGet(iN(n))}},{key:"opGet",value:function(n){return this.cache.get(n)||null}},{key:"update",value:function(n,a){return this.opUpdate(iN(n),a)}},{key:"opUpdate",value:function(n,a){var r=this.cache.get(n),i=a(r);i===null?this.cache.delete(n):this.cache.set(n,i)}}]),e}(),Vm="data-token-hash",nl="data-css-hash",Sd="__cssinjs_instance__";function Ket(){var e=Math.random().toString(12).slice(2);if(typeof document<"u"&&document.head&&document.body){var t=document.body.querySelectorAll("style[".concat(nl,"]"))||[],n=document.head.firstChild;Array.from(t).forEach(function(r){r[Sd]=r[Sd]||e,r[Sd]===e&&document.head.insertBefore(r,n)});var a={};Array.from(document.querySelectorAll("style[".concat(nl,"]"))).forEach(function(r){var i=r.getAttribute(nl);if(a[i]){if(r[Sd]===e){var o;(o=r.parentNode)===null||o===void 0||o.removeChild(r)}}else a[i]=!0})}return new Xet(e)}var A0=_.createContext({hashPriority:"low",cache:Ket(),defaultCache:!0});function Zet(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}var F4=function(){function e(){Pi(this,e),pt(this,"cache",void 0),pt(this,"keys",void 0),pt(this,"cacheCallTimes",void 0),this.cache=new Map,this.keys=[],this.cacheCallTimes=0}return Fi(e,[{key:"size",value:function(){return this.keys.length}},{key:"internalGet",value:function(n){var a,r,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,o={map:this.cache};return n.forEach(function(c){if(!o)o=void 0;else{var l;o=(l=o)===null||l===void 0||(l=l.map)===null||l===void 0?void 0:l.get(c)}}),(a=o)!==null&&a!==void 0&&a.value&&i&&(o.value[1]=this.cacheCallTimes++),(r=o)===null||r===void 0?void 0:r.value}},{key:"get",value:function(n){var a;return(a=this.internalGet(n,!0))===null||a===void 0?void 0:a[0]}},{key:"has",value:function(n){return!!this.internalGet(n)}},{key:"set",value:function(n,a){var r=this;if(!this.has(n)){if(this.size()+1>e.MAX_CACHE_SIZE+e.MAX_CACHE_OFFSET){var i=this.keys.reduce(function(d,f){var g=St(d,2),b=g[1];return r.internalGet(f)[1]<b?[f,r.internalGet(f)[1]]:d},[this.keys[0],this.cacheCallTimes]),o=St(i,1),c=o[0];this.delete(c)}this.keys.push(n)}var l=this.cache;n.forEach(function(d,f){if(f===n.length-1)l.set(d,{value:[a,r.cacheCallTimes++]});else{var g=l.get(d);g?g.map||(g.map=new Map):l.set(d,{map:new Map}),l=l.get(d).map}})}},{key:"deleteByPath",value:function(n,a){var r=n.get(a[0]);if(a.length===1){var i;return r.map?n.set(a[0],{map:r.map}):n.delete(a[0]),(i=r.value)===null||i===void 0?void 0:i[0]}var o=this.deleteByPath(r.map,a.slice(1));return(!r.map||r.map.size===0)&&!r.value&&n.delete(a[0]),o}},{key:"delete",value:function(n){if(this.has(n))return this.keys=this.keys.filter(function(a){return!Zet(a,n)}),this.deleteByPath(this.cache,n)}}]),e}();pt(F4,"MAX_CACHE_SIZE",20);pt(F4,"MAX_CACHE_OFFSET",5);var H7=0,E$=function(){function e(t){Pi(this,e),pt(this,"derivatives",void 0),pt(this,"id",void 0),this.derivatives=Array.isArray(t)?t:[t],this.id=H7,t.length===0&&(t.length>0,void 0),H7+=1}return Fi(e,[{key:"getDerivativeToken",value:function(n){return this.derivatives.reduce(function(a,r){return r(n,a)},void 0)}}]),e}(),tC=new F4;function oN(e){var t=Array.isArray(e)?e:[e];return tC.has(t)||tC.set(t,new E$(t)),tC.get(t)}var Jet=new WeakMap,nC={};function ett(e,t){for(var n=Jet,a=0;a<t.length;a+=1){var r=t[a];n.has(r)||n.set(r,new WeakMap),n=n.get(r)}return n.has(nC)||n.set(nC,e()),n.get(nC)}var q7=new WeakMap;function yg(e){var t=q7.get(e)||"";return t||(Object.keys(e).forEach(function(n){var a=e[n];t+=n,a instanceof E$?t+=a.id:a&&Ls(a)==="object"?t+=yg(a):t+=a}),t=Zg(t),q7.set(e,t)),t}function V7(e,t){return Zg("".concat(t,"_").concat(yg(e)))}var cN=lc();function ms(e){return typeof e=="number"?"".concat(e,"px"):e}function xb(e,t,n){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},r=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(r)return e;var i=vt(vt({},a),{},pt(pt({},Vm,t),nl,n)),o=Object.keys(i).map(function(c){var l=i[c];return l?"".concat(c,'="').concat(l,'"'):null}).filter(function(c){return c}).join(" ");return"<style ".concat(o,">").concat(e,"</style>")}var ux=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return"--".concat(n?"".concat(n,"-"):"").concat(t).replace(/([a-z0-9])([A-Z])/g,"$1-$2").replace(/([A-Z]+)([A-Z][a-z0-9]+)/g,"$1-$2").replace(/([a-z])([A-Z0-9])/g,"$1-$2").toLowerCase()},ttt=function(t,n,a){return Object.keys(t).length?".".concat(n).concat(a!=null&&a.scope?".".concat(a.scope):"","{").concat(Object.entries(t).map(function(r){var i=St(r,2),o=i[0],c=i[1];return"".concat(o,":").concat(c,";")}).join(""),"}"):""},T$=function(t,n,a){var r={},i={};return Object.entries(t).forEach(function(o){var c,l,d=St(o,2),f=d[0],g=d[1];if(a!=null&&(c=a.preserve)!==null&&c!==void 0&&c[f])i[f]=g;else if((typeof g=="string"||typeof g=="number")&&!(a!=null&&(l=a.ignore)!==null&&l!==void 0&&l[f])){var b,w=ux(f,a==null?void 0:a.prefix);r[w]=typeof g=="number"&&!(a!=null&&(b=a.unitless)!==null&&b!==void 0&&b[f])?"".concat(g,"px"):String(g),i[f]="var(".concat(w,")")}}),[i,ttt(r,n,{scope:a==null?void 0:a.scope})]},z7=lc()?_.useLayoutEffect:_.useEffect,Ur=function(t,n){var a=_.useRef(!0);z7(function(){return t(a.current)},n),z7(function(){return a.current=!1,function(){a.current=!0}},[])},lN=function(t,n){Ur(function(a){if(!a)return t()},n)},ntt=vt({},Xm),U7=ntt.useInsertionEffect,stt=function(t,n,a){_.useMemo(t,a),Ur(function(){return n(!0)},a)},att=U7?function(e,t,n){return U7(function(){return e(),t()},n)}:stt,rtt=vt({},Xm),itt=rtt.useInsertionEffect,ott=function(t){var n=[],a=!1;function r(i){a||n.push(i)}return _.useEffect(function(){return a=!1,function(){a=!0,n.length&&n.forEach(function(i){return i()})}},t),r},ctt=function(){return function(t){t()}},ltt=typeof itt<"u"?ott:ctt;function H4(e,t,n,a,r){var i=_.useContext(A0),o=i.cache,c=[e].concat(ps(t)),l=iN(c),d=ltt([l]),f=function(C){o.opUpdate(l,function(S){var k=S||[void 0,void 0],E=St(k,2),D=E[0],R=D===void 0?0:D,P=E[1],B=P,O=B||n(),$=[R,O];return C?C($):$})};_.useMemo(function(){f()},[l]);var g=o.opGet(l),b=g[1];return att(function(){r==null||r(b)},function(w){return f(function(C){var S=St(C,2),k=S[0],E=S[1];return w&&k===0&&(r==null||r(b)),[k+1,E]}),function(){o.opUpdate(l,function(C){var S=C||[],k=St(S,2),E=k[0],D=E===void 0?0:E,R=k[1],P=D-1;return P===0?(d(function(){(w||!o.opGet(l))&&(a==null||a(R,!1))}),null):[D-1,R]})}},[l]),b}var utt={},dtt="css",bh=new Map;function htt(e){bh.set(e,(bh.get(e)||0)+1)}function ftt(e,t){if(typeof document<"u"){var n=document.querySelectorAll("style[".concat(Vm,'="').concat(e,'"]'));n.forEach(function(a){if(a[Sd]===t){var r;(r=a.parentNode)===null||r===void 0||r.removeChild(a)}})}}var mtt=0;function ptt(e,t){bh.set(e,(bh.get(e)||0)-1);var n=new Set;bh.forEach(function(a,r){a<=0&&n.add(r)}),bh.size-n.size>mtt&&n.forEach(function(a){ftt(a,t),bh.delete(a)})}var gtt=function(t,n,a,r){var i=a.getDerivativeToken(t),o=vt(vt({},i),n);return r&&(o=r(o)),o},D$="token";function _tt(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=_.useContext(A0),r=a.cache.instanceId,i=a.container,o=n.salt,c=o===void 0?"":o,l=n.override,d=l===void 0?utt:l,f=n.formatToken,g=n.getComputedToken,b=n.cssVar,w=ett(function(){return Object.assign.apply(Object,[{}].concat(ps(t)))},t),C=yg(w),S=yg(d),k=b?yg(b):"",E=H4(D$,[c,e.id,C,S,k],function(){var D,R=g?g(w,d,e):gtt(w,d,e,f),P=vt({},R),B="";if(b){var O=T$(R,b.key,{prefix:b.prefix,ignore:b.ignore,unitless:b.unitless,preserve:b.preserve}),$=St(O,2);R=$[0],B=$[1]}var U=V7(R,c);R._tokenKey=U,P._tokenKey=V7(P,c);var F=(D=b==null?void 0:b.key)!==null&&D!==void 0?D:U;R._themeKey=F,htt(F);var H="".concat(dtt,"-").concat(Zg(U));return R._hashId=H,[R,H,P,B,(b==null?void 0:b.key)||""]},function(D){ptt(D[0]._themeKey,r)},function(D){var R=St(D,4),P=R[0],B=R[3];if(b&&B){var O=Su(B,Zg("css-variables-".concat(P._themeKey)),{mark:nl,prepend:"queue",attachTo:i,priority:-999});O[Sd]=r,O.setAttribute(Vm,P._themeKey)}});return E}var vtt=function(t,n,a){var r=St(t,5),i=r[2],o=r[3],c=r[4],l=a||{},d=l.plain;if(!o)return null;var f=i._tokenKey,g=-999,b={"data-rc-order":"prependQueue","data-rc-priority":"".concat(g)},w=xb(o,c,f,b,d);return[g,f,w]},xtt={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},A$="comm",M$="rule",R$="decl",btt="@import",ytt="@namespace",wtt="@keyframes",jtt="@layer",B$=Math.abs,q4=String.fromCharCode;function O$(e){return e.trim()}function dx(e,t,n){return e.replace(t,n)}function Ctt(e,t,n){return e.indexOf(t,n)}function ym(e,t){return e.charCodeAt(t)|0}function zm(e,t,n){return e.slice(t,n)}function Cl(e){return e.length}function Stt(e){return e.length}function xv(e,t){return t.push(e),e}var ky=1,Um=1,L$=0,Lc=0,Ei=0,fp="";function V4(e,t,n,a,r,i,o,c){return{value:e,root:t,parent:n,type:a,props:r,children:i,line:ky,column:Um,length:o,return:"",siblings:c}}function Ntt(){return Ei}function ktt(){return Ei=Lc>0?ym(fp,--Lc):0,Um--,Ei===10&&(Um=1,ky--),Ei}function sl(){return Ei=Lc<L$?ym(fp,Lc++):0,Um++,Ei===10&&(Um=1,ky++),Ei}function Nd(){return ym(fp,Lc)}function hx(){return Lc}function Iy(e,t){return zm(fp,e,t)}function e0(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Itt(e){return ky=Um=1,L$=Cl(fp=e),Lc=0,[]}function Ett(e){return fp="",e}function sC(e){return O$(Iy(Lc-1,uN(e===91?e+2:e===40?e+1:e)))}function Ttt(e){for(;(Ei=Nd())&&Ei<33;)sl();return e0(e)>2||e0(Ei)>3?"":" "}function Dtt(e,t){for(;--t&&sl()&&!(Ei<48||Ei>102||Ei>57&&Ei<65||Ei>70&&Ei<97););return Iy(e,hx()+(t<6&&Nd()==32&&sl()==32))}function uN(e){for(;sl();)switch(Ei){case e:return Lc;case 34:case 39:e!==34&&e!==39&&uN(Ei);break;case 40:e===41&&uN(e);break;case 92:sl();break}return Lc}function Att(e,t){for(;sl()&&e+Ei!==57;)if(e+Ei===84&&Nd()===47)break;return"/*"+Iy(t,Lc-1)+"*"+q4(e===47?e:sl())}function Mtt(e){for(;!e0(Nd());)sl();return Iy(e,Lc)}function Rtt(e){return Ett(fx("",null,null,null,[""],e=Itt(e),0,[0],e))}function fx(e,t,n,a,r,i,o,c,l){for(var d=0,f=0,g=o,b=0,w=0,C=0,S=1,k=1,E=1,D=0,R="",P=r,B=i,O=a,$=R;k;)switch(C=D,D=sl()){case 40:if(C!=108&&ym($,g-1)==58){Ctt($+=dx(sC(D),"&","&\f"),"&\f",B$(d?c[d-1]:0))!=-1&&(E=-1);break}case 34:case 39:case 91:$+=sC(D);break;case 9:case 10:case 13:case 32:$+=Ttt(C);break;case 92:$+=Dtt(hx()-1,7);continue;case 47:switch(Nd()){case 42:case 47:xv(Btt(Att(sl(),hx()),t,n,l),l),(e0(C||1)==5||e0(Nd()||1)==5)&&Cl($)&&zm($,-1,void 0)!==" "&&($+=" ");break;default:$+="/"}break;case 123*S:c[d++]=Cl($)*E;case 125*S:case 59:case 0:switch(D){case 0:case 125:k=0;case 59+f:E==-1&&($=dx($,/\f/g,"")),w>0&&(Cl($)-g||S===0&&C===47)&&xv(w>32?Y7($+";",a,n,g-1,l):Y7(dx($," ","")+";",a,n,g-2,l),l);break;case 59:$+=";";default:if(xv(O=W7($,t,n,d,f,r,c,R,P=[],B=[],g,i),i),D===123)if(f===0)fx($,t,O,O,P,i,g,c,B);else{switch(b){case 99:if(ym($,3)===110)break;case 108:if(ym($,2)===97)break;default:f=0;case 100:case 109:case 115:}f?fx(e,O,O,a&&xv(W7(e,O,O,0,0,r,c,R,r,P=[],g,B),B),r,B,g,c,a?P:B):fx($,O,O,O,[""],B,0,c,B)}}d=f=w=0,S=E=1,R=$="",g=o;break;case 58:g=1+Cl($),w=C;default:if(S<1){if(D==123)--S;else if(D==125&&S++==0&&ktt()==125)continue}switch($+=q4(D),D*S){case 38:E=f>0?1:($+="\f",-1);break;case 44:c[d++]=(Cl($)-1)*E,E=1;break;case 64:Nd()===45&&($+=sC(sl())),b=Nd(),f=g=Cl(R=$+=Mtt(hx())),D++;break;case 45:C===45&&Cl($)==2&&(S=0)}}return i}function W7(e,t,n,a,r,i,o,c,l,d,f,g){for(var b=r-1,w=r===0?i:[""],C=Stt(w),S=0,k=0,E=0;S<a;++S)for(var D=0,R=zm(e,b+1,b=B$(k=o[S])),P=e;D<C;++D)(P=O$(k>0?w[D]+" "+R:dx(R,/&\f/g,w[D])))&&(l[E++]=P);return V4(e,t,n,r===0?M$:c,l,d,f,g)}function Btt(e,t,n,a){return V4(e,t,n,A$,q4(Ntt()),zm(e,2,-2),0,a)}function Y7(e,t,n,a,r){return V4(e,t,n,R$,zm(e,0,a),zm(e,a+1,-1),a,r)}function dN(e,t){for(var n="",a=0;a<e.length;a++)n+=t(e[a],a,e,t)||"";return n}function Ott(e,t,n,a){switch(e.type){case jtt:if(e.children.length)break;case btt:case ytt:case R$:return e.return=e.return||e.value;case A$:return"";case wtt:return e.return=e.value+"{"+dN(e.children,a)+"}";case M$:if(!Cl(e.value=e.props.join(",")))return""}return Cl(n=dN(e.children,a))?e.return=e.value+"{"+n+"}":""}var G7="data-ant-cssinjs-cache-path",$$="_FILE_STYLE__",Hh,P$=!0;function Ltt(){if(!Hh&&(Hh={},lc())){var e=document.createElement("div");e.className=G7,e.style.position="fixed",e.style.visibility="hidden",e.style.top="-9999px",document.body.appendChild(e);var t=getComputedStyle(e).content||"";t=t.replace(/^"/,"").replace(/"$/,""),t.split(";").forEach(function(r){var i=r.split(":"),o=St(i,2),c=o[0],l=o[1];Hh[c]=l});var n=document.querySelector("style[".concat(G7,"]"));if(n){var a;P$=!1,(a=n.parentNode)===null||a===void 0||a.removeChild(n)}document.body.removeChild(e)}}function $tt(e){return Ltt(),!!Hh[e]}function Ptt(e){var t=Hh[e],n=null;if(t&&lc())if(P$)n=$$;else{var a=document.querySelector("style[".concat(nl,'="').concat(Hh[e],'"]'));a?n=a.innerHTML:delete Hh[e]}return[n,t]}var Ftt="_skip_check_",F$="_multi_value_";function mx(e){var t=dN(Rtt(e),Ott);return t.replace(/\{%%%\:[^;];}/g,";")}function Htt(e){return Ls(e)==="object"&&e&&(Ftt in e||F$ in e)}function Q7(e,t,n){if(!t)return e;var a=".".concat(t),r=n==="low"?":where(".concat(a,")"):a,i=e.split(",").map(function(o){var c,l=o.trim().split(/\s+/),d=l[0]||"",f=((c=d.match(/^\w+/))===null||c===void 0?void 0:c[0])||"";return d="".concat(f).concat(r).concat(d.slice(f.length)),[d].concat(ps(l.slice(1))).join(" ")});return i.join(",")}var qtt=function e(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{root:!0,parentSelectors:[]},r=a.root,i=a.injectHash,o=a.parentSelectors,c=n.hashId,l=n.layer;n.path;var d=n.hashPriority,f=n.transformers,g=f===void 0?[]:f;n.linters;var b="",w={};function C(E){var D=E.getName(c);if(!w[D]){var R=e(E.style,n,{root:!1,parentSelectors:o}),P=St(R,1),B=P[0];w[D]="@keyframes ".concat(E.getName(c)).concat(B)}}function S(E){var D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return E.forEach(function(R){Array.isArray(R)?S(R,D):R&&D.push(R)}),D}var k=S(Array.isArray(t)?t:[t]);return k.forEach(function(E){var D=typeof E=="string"&&!r?{}:E;if(typeof D=="string")b+="".concat(D,`
`);else if(D._keyframe)C(D);else{var R=g.reduce(function(P,B){var O;return(B==null||(O=B.visit)===null||O===void 0?void 0:O.call(B,P))||P},D);Object.keys(R).forEach(function(P){var B=R[P];if(Ls(B)==="object"&&B&&(P!=="animationName"||!B._keyframe)&&!Htt(B)){var O=!1,$=P.trim(),U=!1;(r||i)&&c?$.startsWith("@")?O=!0:$==="&"?$=Q7("",c,d):$=Q7(P,c,d):r&&!c&&($==="&"||$==="")&&($="",U=!0);var F=e(B,n,{root:U,injectHash:O,parentSelectors:[].concat(ps(o),[$])}),H=St(F,2),se=H[0],K=H[1];w=vt(vt({},w),K),b+="".concat($).concat(se)}else{let z=function(V,M){var ee=V.replace(/[A-Z]/g,function(A){return"-".concat(A.toLowerCase())}),Z=M;!xtt[V]&&typeof Z=="number"&&Z!==0&&(Z="".concat(Z,"px")),V==="animationName"&&M!==null&&M!==void 0&&M._keyframe&&(C(M),Z=M.getName(c)),b+="".concat(ee,":").concat(Z,";")};var te,J=(te=B==null?void 0:B.value)!==null&&te!==void 0?te:B;Ls(B)==="object"&&B!==null&&B!==void 0&&B[F$]&&Array.isArray(J)?J.forEach(function(V){z(P,V)}):z(P,J)}})}}),r?l&&(b&&(b="@layer ".concat(l.name," {").concat(b,"}")),l.dependencies&&(w["@layer ".concat(l.name)]=l.dependencies.map(function(E){return"@layer ".concat(E,", ").concat(l.name,";")}).join(`
`))):b="{".concat(b,"}"),[b,w]};function H$(e,t){return Zg("".concat(e.join("%")).concat(t))}function Vtt(){return null}var q$="style";function hN(e,t){var n=e.token,a=e.path,r=e.hashId,i=e.layer,o=e.nonce,c=e.clientOnly,l=e.order,d=l===void 0?0:l,f=_.useContext(A0),g=f.autoClear;f.mock;var b=f.defaultCache,w=f.hashPriority,C=f.container,S=f.ssrInline,k=f.transformers,E=f.linters,D=f.cache,R=f.layer,P=n._tokenKey,B=[P];R&&B.push("layer"),B.push.apply(B,ps(a));var O=cN,$=H4(q$,B,function(){var K=B.join("|");if($tt(K)){var te=Ptt(K),J=St(te,2),z=J[0],V=J[1];if(z)return[z,P,V,{},c,d]}var M=t(),ee=qtt(M,{hashId:r,hashPriority:w,layer:R?i:void 0,path:a.join("-"),transformers:k,linters:E}),Z=St(ee,2),A=Z[0],G=Z[1],Q=mx(A),Y=H$(B,Q);return[Q,P,Y,G,c,d]},function(K,te){var J=St(K,3),z=J[2];(te||g)&&cN&&Jg(z,{mark:nl,attachTo:C})},function(K){var te=St(K,4),J=te[0];te[1];var z=te[2],V=te[3];if(O&&J!==$$){var M={mark:nl,prepend:R?!1:"queue",attachTo:C,priority:d},ee=typeof o=="function"?o():o;ee&&(M.csp={nonce:ee});var Z=[],A=[];Object.keys(V).forEach(function(Q){Q.startsWith("@layer")?Z.push(Q):A.push(Q)}),Z.forEach(function(Q){Su(mx(V[Q]),"_layer-".concat(Q),vt(vt({},M),{},{prepend:!0}))});var G=Su(J,z,M);G[Sd]=D.instanceId,G.setAttribute(Vm,P),A.forEach(function(Q){Su(mx(V[Q]),"_effect-".concat(Q),M)})}}),U=St($,3),F=U[0],H=U[1],se=U[2];return function(K){var te;return!S||O||!b?te=_.createElement(Vtt,null):te=_.createElement("style",Es({},pt(pt({},Vm,H),nl,se),{dangerouslySetInnerHTML:{__html:F}})),_.createElement(_.Fragment,null,te,K)}}var ztt=function(t,n,a){var r=St(t,6),i=r[0],o=r[1],c=r[2],l=r[3],d=r[4],f=r[5],g=a||{},b=g.plain;if(d)return null;var w=i,C={"data-rc-order":"prependQueue","data-rc-priority":"".concat(f)};return w=xb(i,o,c,C,b),l&&Object.keys(l).forEach(function(S){if(!n[S]){n[S]=!0;var k=mx(l[S]),E=xb(k,o,"_effect-".concat(S),C,b);S.startsWith("@layer")?w=E+w:w+=E}}),[f,c,w]},V$="cssVar",Utt=function(t,n){var a=t.key,r=t.prefix,i=t.unitless,o=t.ignore,c=t.token,l=t.scope,d=l===void 0?"":l,f=_.useContext(A0),g=f.cache.instanceId,b=f.container,w=c._tokenKey,C=[].concat(ps(t.path),[a,d,w]),S=H4(V$,C,function(){var k=n(),E=T$(k,a,{prefix:r,unitless:i,ignore:o,scope:d}),D=St(E,2),R=D[0],P=D[1],B=H$(C,P);return[R,P,B,a]},function(k){var E=St(k,3),D=E[2];cN&&Jg(D,{mark:nl,attachTo:b})},function(k){var E=St(k,3),D=E[1],R=E[2];if(D){var P=Su(D,R,{mark:nl,prepend:"queue",attachTo:b,priority:-999});P[Sd]=g,P.setAttribute(Vm,a)}});return S},Wtt=function(t,n,a){var r=St(t,4),i=r[1],o=r[2],c=r[3],l=a||{},d=l.plain;if(!i)return null;var f=-999,g={"data-rc-order":"prependQueue","data-rc-priority":"".concat(f)},b=xb(i,c,o,g,d);return[f,o,b]};pt(pt(pt({},q$,ztt),D$,vtt),V$,Wtt);var bo=function(){function e(t,n){Pi(this,e),pt(this,"name",void 0),pt(this,"style",void 0),pt(this,"_keyframe",!0),this.name=t,this.style=n}return Fi(e,[{key:"getName",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return n?"".concat(n,"-").concat(this.name):this.name}}]),e}();function Qf(e){return e.notSplit=!0,e}Qf(["borderTop","borderBottom"]),Qf(["borderTop"]),Qf(["borderBottom"]),Qf(["borderLeft","borderRight"]),Qf(["borderLeft"]),Qf(["borderRight"]);var z4=_.createContext({});function Ytt(e){return C$(e)||b$(e)||L4(e)||S$()}function Dl(e,t){for(var n=e,a=0;a<t.length;a+=1){if(n==null)return;n=n[t[a]]}return n}function z$(e,t,n,a){if(!t.length)return n;var r=Ytt(t),i=r[0],o=r.slice(1),c;return!e&&typeof i=="number"?c=[]:Array.isArray(e)?c=ps(e):c=vt({},e),a&&n===void 0&&o.length===1?delete c[i][o[0]]:c[i]=z$(c[i],o,n,a),c}function Wc(e,t,n){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;return t.length&&a&&n===void 0&&!Dl(e,t.slice(0,-1))?e:z$(e,t,n,a)}function Gtt(e){return Ls(e)==="object"&&e!==null&&Object.getPrototypeOf(e)===Object.prototype}function X7(e){return Array.isArray(e)?[]:{}}var Qtt=typeof Reflect>"u"?Object.keys:Reflect.ownKeys;function um(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var a=X7(t[0]);return t.forEach(function(r){function i(o,c){var l=new Set(c),d=Dl(r,o),f=Array.isArray(d);if(f||Gtt(d)){if(!l.has(d)){l.add(d);var g=Dl(a,o);f?a=Wc(a,o,[]):(!g||Ls(g)!=="object")&&(a=Wc(a,o,X7(d))),Qtt(d).forEach(function(b){i([].concat(ps(o),[b]),l)})}}else a=Wc(a,o,d)}i([])}),a}const Xtt=_.createContext({}),Ktt=_.createContext(void 0);var Ztt={items_per_page:"/ page",jump_to:"Go to",jump_to_confirm:"confirm",page:"Page",prev_page:"Previous Page",next_page:"Next Page",prev_5:"Previous 5 Pages",next_5:"Next 5 Pages",prev_3:"Previous 3 Pages",next_3:"Next 3 Pages",page_size:"Page Size"},Jtt={yearFormat:"YYYY",dayFormat:"D",cellMeridiemFormat:"A",monthBeforeYear:!0},ent=vt(vt({},Jtt),{},{locale:"en_US",today:"Today",now:"Now",backToToday:"Back to today",ok:"OK",clear:"Clear",week:"Week",month:"Month",year:"Year",timeSelect:"select time",dateSelect:"select date",weekSelect:"Choose a week",monthSelect:"Choose a month",yearSelect:"Choose a year",decadeSelect:"Choose a decade",dateFormat:"M/D/YYYY",dateTimeFormat:"M/D/YYYY HH:mm:ss",previousMonth:"Previous month (PageUp)",nextMonth:"Next month (PageDown)",previousYear:"Last year (Control + left)",nextYear:"Next year (Control + right)",previousDecade:"Last decade",nextDecade:"Next decade",previousCentury:"Last century",nextCentury:"Next century"});const U$={placeholder:"Select time",rangePlaceholder:["Start time","End time"]},bb={lang:Object.assign({placeholder:"Select date",yearPlaceholder:"Select year",quarterPlaceholder:"Select quarter",monthPlaceholder:"Select month",weekPlaceholder:"Select week",rangePlaceholder:["Start date","End date"],rangeYearPlaceholder:["Start year","End year"],rangeQuarterPlaceholder:["Start quarter","End quarter"],rangeMonthPlaceholder:["Start month","End month"],rangeWeekPlaceholder:["Start week","End week"]},ent),timePickerLocale:Object.assign({},U$)},Zo="${label} is not a valid ${type}",Wm={locale:"en",Pagination:Ztt,DatePicker:bb,TimePicker:U$,Calendar:bb,global:{placeholder:"Please select",close:"Close"},Table:{filterTitle:"Filter menu",filterConfirm:"OK",filterReset:"Reset",filterEmptyText:"No filters",filterCheckAll:"Select all items",filterSearchPlaceholder:"Search in filters",emptyText:"No data",selectAll:"Select current page",selectInvert:"Invert current page",selectNone:"Clear all data",selectionAll:"Select all data",sortTitle:"Sort",expand:"Expand row",collapse:"Collapse row",triggerDesc:"Click to sort descending",triggerAsc:"Click to sort ascending",cancelSort:"Click to cancel sorting"},Tour:{Next:"Next",Previous:"Previous",Finish:"Finish"},Modal:{okText:"OK",cancelText:"Cancel",justOkText:"OK"},Popconfirm:{okText:"OK",cancelText:"Cancel"},Transfer:{titles:["",""],searchPlaceholder:"Search here",itemUnit:"item",itemsUnit:"items",remove:"Remove",selectCurrent:"Select current page",removeCurrent:"Remove current page",selectAll:"Select all data",deselectAll:"Deselect all data",removeAll:"Remove all data",selectInvert:"Invert current page"},Upload:{uploading:"Uploading...",removeFile:"Remove file",uploadError:"Upload error",previewFile:"Preview file",downloadFile:"Download file"},Empty:{description:"No data"},Icon:{icon:"icon"},Text:{edit:"Edit",copy:"Copy",copied:"Copied",expand:"Expand",collapse:"Collapse"},Form:{optional:"(optional)",defaultValidateMessages:{default:"Field validation error for ${label}",required:"Please enter ${label}",enum:"${label} must be one of [${enum}]",whitespace:"${label} cannot be a blank character",date:{format:"${label} date format is invalid",parse:"${label} cannot be converted to a date",invalid:"${label} is an invalid date"},types:{string:Zo,method:Zo,array:Zo,object:Zo,number:Zo,date:Zo,boolean:Zo,integer:Zo,float:Zo,regexp:Zo,email:Zo,url:Zo,hex:Zo},string:{len:"${label} must be ${len} characters",min:"${label} must be at least ${min} characters",max:"${label} must be up to ${max} characters",range:"${label} must be between ${min}-${max} characters"},number:{len:"${label} must be equal to ${len}",min:"${label} must be minimum ${min}",max:"${label} must be maximum ${max}",range:"${label} must be between ${min}-${max}"},array:{len:"Must be ${len} ${label}",min:"At least ${min} ${label}",max:"At most ${max} ${label}",range:"The amount of ${label} must be between ${min}-${max}"},pattern:{mismatch:"${label} does not match the pattern ${pattern}"}}},Image:{preview:"Preview"},QRCode:{expired:"QR code expired",refresh:"Refresh",scanned:"Scanned"},ColorPicker:{presetEmpty:"Empty",transparent:"Transparent",singleColor:"Single",gradientColor:"Gradient"}};Object.assign({},Wm.Modal);let px=[];const K7=()=>px.reduce((e,t)=>Object.assign(Object.assign({},e),t),Wm.Modal);function tnt(e){if(e){const t=Object.assign({},e);return px.push(t),K7(),()=>{px=px.filter(n=>n!==t),K7()}}Object.assign({},Wm.Modal)}const U4=_.createContext(void 0),W$=(e,t)=>{const n=_.useContext(U4),a=_.useMemo(()=>{var i;const o=t||Wm[e],c=(i=n==null?void 0:n[e])!==null&&i!==void 0?i:{};return Object.assign(Object.assign({},typeof o=="function"?o():o),c||{})},[e,t,n]),r=_.useMemo(()=>{const i=n==null?void 0:n.locale;return n!=null&&n.exist&&!i?Wm.locale:i},[n]);return[a,r]},nnt="internalMark",snt=e=>{const{locale:t={},children:n,_ANT_MARK__:a}=e;_.useEffect(()=>tnt(t==null?void 0:t.Modal),[t]);const r=_.useMemo(()=>Object.assign(Object.assign({},t),{exist:!0}),[t]);return _.createElement(U4.Provider,{value:r},n)},Y$={blue:"#1677FF",purple:"#722ED1",cyan:"#13C2C2",green:"#52C41A",magenta:"#EB2F96",pink:"#EB2F96",red:"#F5222D",orange:"#FA8C16",yellow:"#FADB14",volcano:"#FA541C",geekblue:"#2F54EB",gold:"#FAAD14",lime:"#A0D911"},t0=Object.assign(Object.assign({},Y$),{colorPrimary:"#1677ff",colorSuccess:"#52c41a",colorWarning:"#faad14",colorError:"#ff4d4f",colorInfo:"#1677ff",colorLink:"",colorTextBase:"",colorBgBase:"",fontFamily:`-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial,
'Noto Sans', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol',
'Noto Color Emoji'`,fontFamilyCode:"'SFMono-Regular', Consolas, 'Liberation Mono', Menlo, Courier, monospace",fontSize:14,lineWidth:1,lineType:"solid",motionUnit:.1,motionBase:0,motionEaseOutCirc:"cubic-bezier(0.08, 0.82, 0.17, 1)",motionEaseInOutCirc:"cubic-bezier(0.78, 0.14, 0.15, 0.86)",motionEaseOut:"cubic-bezier(0.215, 0.61, 0.355, 1)",motionEaseInOut:"cubic-bezier(0.645, 0.045, 0.355, 1)",motionEaseOutBack:"cubic-bezier(0.12, 0.4, 0.29, 1.46)",motionEaseInBack:"cubic-bezier(0.71, -0.46, 0.88, 0.6)",motionEaseInQuint:"cubic-bezier(0.755, 0.05, 0.855, 0.06)",motionEaseOutQuint:"cubic-bezier(0.23, 1, 0.32, 1)",borderRadius:6,sizeUnit:4,sizeStep:4,sizePopupArrow:16,controlHeight:32,zIndexBase:0,zIndexPopupBase:1e3,opacityImage:1,wireframe:!1,motion:!0}),zi=Math.round;function aC(e,t){const n=e.replace(/^[^(]*\((.*)/,"$1").replace(/\).*/,"").match(/\d*\.?\d+%?/g)||[],a=n.map(r=>parseFloat(r));for(let r=0;r<3;r+=1)a[r]=t(a[r]||0,n[r]||"",r);return n[3]?a[3]=n[3].includes("%")?a[3]/100:a[3]:a[3]=1,a}const Z7=(e,t,n)=>n===0?e:e/100;function T1(e,t){const n=t||255;return e>n?n:e<0?0:e}class kr{constructor(t){pt(this,"isValid",!0),pt(this,"r",0),pt(this,"g",0),pt(this,"b",0),pt(this,"a",1),pt(this,"_h",void 0),pt(this,"_s",void 0),pt(this,"_l",void 0),pt(this,"_v",void 0),pt(this,"_max",void 0),pt(this,"_min",void 0),pt(this,"_brightness",void 0);function n(r){return r[0]in t&&r[1]in t&&r[2]in t}if(t)if(typeof t=="string"){let i=function(o){return r.startsWith(o)};var a=i;const r=t.trim();/^#?[A-F\d]{3,8}$/i.test(r)?this.fromHexString(r):i("rgb")?this.fromRgbString(r):i("hsl")?this.fromHslString(r):(i("hsv")||i("hsb"))&&this.fromHsvString(r)}else if(t instanceof kr)this.r=t.r,this.g=t.g,this.b=t.b,this.a=t.a,this._h=t._h,this._s=t._s,this._l=t._l,this._v=t._v;else if(n("rgb"))this.r=T1(t.r),this.g=T1(t.g),this.b=T1(t.b),this.a=typeof t.a=="number"?T1(t.a,1):1;else if(n("hsl"))this.fromHsl(t);else if(n("hsv"))this.fromHsv(t);else throw new Error("@ant-design/fast-color: unsupported input "+JSON.stringify(t))}setR(t){return this._sc("r",t)}setG(t){return this._sc("g",t)}setB(t){return this._sc("b",t)}setA(t){return this._sc("a",t,1)}setHue(t){const n=this.toHsv();return n.h=t,this._c(n)}getLuminance(){function t(i){const o=i/255;return o<=.03928?o/12.92:Math.pow((o+.055)/1.055,2.4)}const n=t(this.r),a=t(this.g),r=t(this.b);return .2126*n+.7152*a+.0722*r}getHue(){if(typeof this._h>"u"){const t=this.getMax()-this.getMin();t===0?this._h=0:this._h=zi(60*(this.r===this.getMax()?(this.g-this.b)/t+(this.g<this.b?6:0):this.g===this.getMax()?(this.b-this.r)/t+2:(this.r-this.g)/t+4))}return this._h}getSaturation(){if(typeof this._s>"u"){const t=this.getMax()-this.getMin();t===0?this._s=0:this._s=t/this.getMax()}return this._s}getLightness(){return typeof this._l>"u"&&(this._l=(this.getMax()+this.getMin())/510),this._l}getValue(){return typeof this._v>"u"&&(this._v=this.getMax()/255),this._v}getBrightness(){return typeof this._brightness>"u"&&(this._brightness=(this.r*299+this.g*587+this.b*114)/1e3),this._brightness}darken(t=10){const n=this.getHue(),a=this.getSaturation();let r=this.getLightness()-t/100;return r<0&&(r=0),this._c({h:n,s:a,l:r,a:this.a})}lighten(t=10){const n=this.getHue(),a=this.getSaturation();let r=this.getLightness()+t/100;return r>1&&(r=1),this._c({h:n,s:a,l:r,a:this.a})}mix(t,n=50){const a=this._c(t),r=n/100,i=c=>(a[c]-this[c])*r+this[c],o={r:zi(i("r")),g:zi(i("g")),b:zi(i("b")),a:zi(i("a")*100)/100};return this._c(o)}tint(t=10){return this.mix({r:255,g:255,b:255,a:1},t)}shade(t=10){return this.mix({r:0,g:0,b:0,a:1},t)}onBackground(t){const n=this._c(t),a=this.a+n.a*(1-this.a),r=i=>zi((this[i]*this.a+n[i]*n.a*(1-this.a))/a);return this._c({r:r("r"),g:r("g"),b:r("b"),a})}isDark(){return this.getBrightness()<128}isLight(){return this.getBrightness()>=128}equals(t){return this.r===t.r&&this.g===t.g&&this.b===t.b&&this.a===t.a}clone(){return this._c(this)}toHexString(){let t="#";const n=(this.r||0).toString(16);t+=n.length===2?n:"0"+n;const a=(this.g||0).toString(16);t+=a.length===2?a:"0"+a;const r=(this.b||0).toString(16);if(t+=r.length===2?r:"0"+r,typeof this.a=="number"&&this.a>=0&&this.a<1){const i=zi(this.a*255).toString(16);t+=i.length===2?i:"0"+i}return t}toHsl(){return{h:this.getHue(),s:this.getSaturation(),l:this.getLightness(),a:this.a}}toHslString(){const t=this.getHue(),n=zi(this.getSaturation()*100),a=zi(this.getLightness()*100);return this.a!==1?`hsla(${t},${n}%,${a}%,${this.a})`:`hsl(${t},${n}%,${a}%)`}toHsv(){return{h:this.getHue(),s:this.getSaturation(),v:this.getValue(),a:this.a}}toRgb(){return{r:this.r,g:this.g,b:this.b,a:this.a}}toRgbString(){return this.a!==1?`rgba(${this.r},${this.g},${this.b},${this.a})`:`rgb(${this.r},${this.g},${this.b})`}toString(){return this.toRgbString()}_sc(t,n,a){const r=this.clone();return r[t]=T1(n,a),r}_c(t){return new this.constructor(t)}getMax(){return typeof this._max>"u"&&(this._max=Math.max(this.r,this.g,this.b)),this._max}getMin(){return typeof this._min>"u"&&(this._min=Math.min(this.r,this.g,this.b)),this._min}fromHexString(t){const n=t.replace("#","");function a(r,i){return parseInt(n[r]+n[i||r],16)}n.length<6?(this.r=a(0),this.g=a(1),this.b=a(2),this.a=n[3]?a(3)/255:1):(this.r=a(0,1),this.g=a(2,3),this.b=a(4,5),this.a=n[6]?a(6,7)/255:1)}fromHsl({h:t,s:n,l:a,a:r}){if(this._h=t%360,this._s=n,this._l=a,this.a=typeof r=="number"?r:1,n<=0){const b=zi(a*255);this.r=b,this.g=b,this.b=b}let i=0,o=0,c=0;const l=t/60,d=(1-Math.abs(2*a-1))*n,f=d*(1-Math.abs(l%2-1));l>=0&&l<1?(i=d,o=f):l>=1&&l<2?(i=f,o=d):l>=2&&l<3?(o=d,c=f):l>=3&&l<4?(o=f,c=d):l>=4&&l<5?(i=f,c=d):l>=5&&l<6&&(i=d,c=f);const g=a-d/2;this.r=zi((i+g)*255),this.g=zi((o+g)*255),this.b=zi((c+g)*255)}fromHsv({h:t,s:n,v:a,a:r}){this._h=t%360,this._s=n,this._v=a,this.a=typeof r=="number"?r:1;const i=zi(a*255);if(this.r=i,this.g=i,this.b=i,n<=0)return;const o=t/60,c=Math.floor(o),l=o-c,d=zi(a*(1-n)*255),f=zi(a*(1-n*l)*255),g=zi(a*(1-n*(1-l))*255);switch(c){case 0:this.g=g,this.b=d;break;case 1:this.r=f,this.b=d;break;case 2:this.r=d,this.b=g;break;case 3:this.r=d,this.g=f;break;case 4:this.r=g,this.g=d;break;case 5:default:this.g=d,this.b=f;break}}fromHsvString(t){const n=aC(t,Z7);this.fromHsv({h:n[0],s:n[1],v:n[2],a:n[3]})}fromHslString(t){const n=aC(t,Z7);this.fromHsl({h:n[0],s:n[1],l:n[2],a:n[3]})}fromRgbString(t){const n=aC(t,(a,r)=>r.includes("%")?zi(a/100*255):a);this.r=n[0],this.g=n[1],this.b=n[2],this.a=n[3]}}var bv=2,J7=.16,ant=.05,rnt=.05,int=.15,G$=5,Q$=4,ont=[{index:7,amount:15},{index:6,amount:25},{index:5,amount:30},{index:5,amount:45},{index:5,amount:65},{index:5,amount:85},{index:4,amount:90},{index:3,amount:95},{index:2,amount:97},{index:1,amount:98}];function e9(e,t,n){var a;return Math.round(e.h)>=60&&Math.round(e.h)<=240?a=n?Math.round(e.h)-bv*t:Math.round(e.h)+bv*t:a=n?Math.round(e.h)+bv*t:Math.round(e.h)-bv*t,a<0?a+=360:a>=360&&(a-=360),a}function t9(e,t,n){if(e.h===0&&e.s===0)return e.s;var a;return n?a=e.s-J7*t:t===Q$?a=e.s+J7:a=e.s+ant*t,a>1&&(a=1),n&&t===G$&&a>.1&&(a=.1),a<.06&&(a=.06),Math.round(a*100)/100}function n9(e,t,n){var a;return n?a=e.v+rnt*t:a=e.v-int*t,a=Math.max(0,Math.min(1,a)),Math.round(a*100)/100}function n0(e){for(var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=[],a=new kr(e),r=a.toHsv(),i=G$;i>0;i-=1){var o=new kr({h:e9(r,i,!0),s:t9(r,i,!0),v:n9(r,i,!0)});n.push(o)}n.push(a);for(var c=1;c<=Q$;c+=1){var l=new kr({h:e9(r,c),s:t9(r,c),v:n9(r,c)});n.push(l)}return t.theme==="dark"?ont.map(function(d){var f=d.index,g=d.amount;return new kr(t.backgroundColor||"#141414").mix(n[f],g).toHexString()}):n.map(function(d){return d.toHexString()})}var rC={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1677FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"},fN=["#fff1f0","#ffccc7","#ffa39e","#ff7875","#ff4d4f","#f5222d","#cf1322","#a8071a","#820014","#5c0011"];fN.primary=fN[5];var mN=["#fff2e8","#ffd8bf","#ffbb96","#ff9c6e","#ff7a45","#fa541c","#d4380d","#ad2102","#871400","#610b00"];mN.primary=mN[5];var pN=["#fff7e6","#ffe7ba","#ffd591","#ffc069","#ffa940","#fa8c16","#d46b08","#ad4e00","#873800","#612500"];pN.primary=pN[5];var gN=["#fffbe6","#fff1b8","#ffe58f","#ffd666","#ffc53d","#faad14","#d48806","#ad6800","#874d00","#613400"];gN.primary=gN[5];var _N=["#feffe6","#ffffb8","#fffb8f","#fff566","#ffec3d","#fadb14","#d4b106","#ad8b00","#876800","#614700"];_N.primary=_N[5];var vN=["#fcffe6","#f4ffb8","#eaff8f","#d3f261","#bae637","#a0d911","#7cb305","#5b8c00","#3f6600","#254000"];vN.primary=vN[5];var xN=["#f6ffed","#d9f7be","#b7eb8f","#95de64","#73d13d","#52c41a","#389e0d","#237804","#135200","#092b00"];xN.primary=xN[5];var bN=["#e6fffb","#b5f5ec","#87e8de","#5cdbd3","#36cfc9","#13c2c2","#08979c","#006d75","#00474f","#002329"];bN.primary=bN[5];var yb=["#e6f4ff","#bae0ff","#91caff","#69b1ff","#4096ff","#1677ff","#0958d9","#003eb3","#002c8c","#001d66"];yb.primary=yb[5];var yN=["#f0f5ff","#d6e4ff","#adc6ff","#85a5ff","#597ef7","#2f54eb","#1d39c4","#10239e","#061178","#030852"];yN.primary=yN[5];var wN=["#f9f0ff","#efdbff","#d3adf7","#b37feb","#9254de","#722ed1","#531dab","#391085","#22075e","#120338"];wN.primary=wN[5];var jN=["#fff0f6","#ffd6e7","#ffadd2","#ff85c0","#f759ab","#eb2f96","#c41d7f","#9e1068","#780650","#520339"];jN.primary=jN[5];var CN=["#a6a6a6","#999999","#8c8c8c","#808080","#737373","#666666","#404040","#1a1a1a","#000000","#000000"];CN.primary=CN[5];var iC={red:fN,volcano:mN,orange:pN,gold:gN,yellow:_N,lime:vN,green:xN,cyan:bN,blue:yb,geekblue:yN,purple:wN,magenta:jN,grey:CN};function cnt(e,{generateColorPalettes:t,generateNeutralColorPalettes:n}){const{colorSuccess:a,colorWarning:r,colorError:i,colorInfo:o,colorPrimary:c,colorBgBase:l,colorTextBase:d}=e,f=t(c),g=t(a),b=t(r),w=t(i),C=t(o),S=n(l,d),k=e.colorLink||e.colorInfo,E=t(k),D=new kr(w[1]).mix(new kr(w[3]),50).toHexString();return Object.assign(Object.assign({},S),{colorPrimaryBg:f[1],colorPrimaryBgHover:f[2],colorPrimaryBorder:f[3],colorPrimaryBorderHover:f[4],colorPrimaryHover:f[5],colorPrimary:f[6],colorPrimaryActive:f[7],colorPrimaryTextHover:f[8],colorPrimaryText:f[9],colorPrimaryTextActive:f[10],colorSuccessBg:g[1],colorSuccessBgHover:g[2],colorSuccessBorder:g[3],colorSuccessBorderHover:g[4],colorSuccessHover:g[4],colorSuccess:g[6],colorSuccessActive:g[7],colorSuccessTextHover:g[8],colorSuccessText:g[9],colorSuccessTextActive:g[10],colorErrorBg:w[1],colorErrorBgHover:w[2],colorErrorBgFilledHover:D,colorErrorBgActive:w[3],colorErrorBorder:w[3],colorErrorBorderHover:w[4],colorErrorHover:w[5],colorError:w[6],colorErrorActive:w[7],colorErrorTextHover:w[8],colorErrorText:w[9],colorErrorTextActive:w[10],colorWarningBg:b[1],colorWarningBgHover:b[2],colorWarningBorder:b[3],colorWarningBorderHover:b[4],colorWarningHover:b[4],colorWarning:b[6],colorWarningActive:b[7],colorWarningTextHover:b[8],colorWarningText:b[9],colorWarningTextActive:b[10],colorInfoBg:C[1],colorInfoBgHover:C[2],colorInfoBorder:C[3],colorInfoBorderHover:C[4],colorInfoHover:C[4],colorInfo:C[6],colorInfoActive:C[7],colorInfoTextHover:C[8],colorInfoText:C[9],colorInfoTextActive:C[10],colorLinkHover:E[4],colorLink:E[6],colorLinkActive:E[7],colorBgMask:new kr("#000").setA(.45).toRgbString(),colorWhite:"#fff"})}const lnt=e=>{let t=e,n=e,a=e,r=e;return e<6&&e>=5?t=e+1:e<16&&e>=6?t=e+2:e>=16&&(t=16),e<7&&e>=5?n=4:e<8&&e>=7?n=5:e<14&&e>=8?n=6:e<16&&e>=14?n=7:e>=16&&(n=8),e<6&&e>=2?a=1:e>=6&&(a=2),e>4&&e<8?r=4:e>=8&&(r=6),{borderRadius:e,borderRadiusXS:a,borderRadiusSM:n,borderRadiusLG:t,borderRadiusOuter:r}};function unt(e){const{motionUnit:t,motionBase:n,borderRadius:a,lineWidth:r}=e;return Object.assign({motionDurationFast:`${(n+t).toFixed(1)}s`,motionDurationMid:`${(n+t*2).toFixed(1)}s`,motionDurationSlow:`${(n+t*3).toFixed(1)}s`,lineWidthBold:r+1},lnt(a))}const dnt=e=>{const{controlHeight:t}=e;return{controlHeightSM:t*.75,controlHeightXS:t*.5,controlHeightLG:t*1.25}};function gx(e){return(e+8)/e}function hnt(e){const t=Array.from({length:10}).map((n,a)=>{const r=a-1,i=e*Math.pow(Math.E,r/5),o=a>1?Math.floor(i):Math.ceil(i);return Math.floor(o/2)*2});return t[1]=e,t.map(n=>({size:n,lineHeight:gx(n)}))}const fnt=e=>{const t=hnt(e),n=t.map(f=>f.size),a=t.map(f=>f.lineHeight),r=n[1],i=n[0],o=n[2],c=a[1],l=a[0],d=a[2];return{fontSizeSM:i,fontSize:r,fontSizeLG:o,fontSizeXL:n[3],fontSizeHeading1:n[6],fontSizeHeading2:n[5],fontSizeHeading3:n[4],fontSizeHeading4:n[3],fontSizeHeading5:n[2],lineHeight:c,lineHeightLG:d,lineHeightSM:l,fontHeight:Math.round(c*r),fontHeightLG:Math.round(d*o),fontHeightSM:Math.round(l*i),lineHeightHeading1:a[6],lineHeightHeading2:a[5],lineHeightHeading3:a[4],lineHeightHeading4:a[3],lineHeightHeading5:a[2]}};function mnt(e){const{sizeUnit:t,sizeStep:n}=e;return{sizeXXL:t*(n+8),sizeXL:t*(n+4),sizeLG:t*(n+2),sizeMD:t*(n+1),sizeMS:t*n,size:t*n,sizeSM:t*(n-1),sizeXS:t*(n-2),sizeXXS:t*(n-3)}}const Sc=(e,t)=>new kr(e).setA(t).toRgbString(),D1=(e,t)=>new kr(e).darken(t).toHexString(),pnt=e=>{const t=n0(e);return{1:t[0],2:t[1],3:t[2],4:t[3],5:t[4],6:t[5],7:t[6],8:t[4],9:t[5],10:t[6]}},gnt=(e,t)=>{const n=e||"#fff",a=t||"#000";return{colorBgBase:n,colorTextBase:a,colorText:Sc(a,.88),colorTextSecondary:Sc(a,.65),colorTextTertiary:Sc(a,.45),colorTextQuaternary:Sc(a,.25),colorFill:Sc(a,.15),colorFillSecondary:Sc(a,.06),colorFillTertiary:Sc(a,.04),colorFillQuaternary:Sc(a,.02),colorBgSolid:Sc(a,1),colorBgSolidHover:Sc(a,.75),colorBgSolidActive:Sc(a,.95),colorBgLayout:D1(n,4),colorBgContainer:D1(n,0),colorBgElevated:D1(n,0),colorBgSpotlight:Sc(a,.85),colorBgBlur:"transparent",colorBorder:D1(n,15),colorBorderSecondary:D1(n,6)}};function _nt(e){rC.pink=rC.magenta,iC.pink=iC.magenta;const t=Object.keys(Y$).map(n=>{const a=e[n]===rC[n]?iC[n]:n0(e[n]);return Array.from({length:10},()=>1).reduce((r,i,o)=>(r[`${n}-${o+1}`]=a[o],r[`${n}${o+1}`]=a[o],r),{})}).reduce((n,a)=>(n=Object.assign(Object.assign({},n),a),n),{});return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},e),t),cnt(e,{generateColorPalettes:pnt,generateNeutralColorPalettes:gnt})),fnt(e.fontSize)),mnt(e)),dnt(e)),unt(e))}const X$=oN(_nt),SN={token:t0,override:{override:t0},hashed:!0},K$=nt.createContext(SN),wb="ant",W4="anticon",vnt=["outlined","borderless","filled","underlined"],xnt=(e,t)=>t||(e?`${wb}-${e}`:wb),Io=_.createContext({getPrefixCls:xnt,iconPrefixCls:W4}),{Consumer:nIt}=Io,s9={};function Z$(e){const t=_.useContext(Io),{getPrefixCls:n,direction:a,getPopupContainer:r}=t,i=t[e];return Object.assign(Object.assign({classNames:s9,styles:s9},i),{getPrefixCls:n,direction:a,getPopupContainer:r})}const bnt=`-ant-${Date.now()}-${Math.random()}`;function ynt(e,t){const n={},a=(o,c)=>{let l=o.clone();return l=(c==null?void 0:c(l))||l,l.toRgbString()},r=(o,c)=>{const l=new kr(o),d=n0(l.toRgbString());n[`${c}-color`]=a(l),n[`${c}-color-disabled`]=d[1],n[`${c}-color-hover`]=d[4],n[`${c}-color-active`]=d[6],n[`${c}-color-outline`]=l.clone().setA(.2).toRgbString(),n[`${c}-color-deprecated-bg`]=d[0],n[`${c}-color-deprecated-border`]=d[2]};if(t.primaryColor){r(t.primaryColor,"primary");const o=new kr(t.primaryColor),c=n0(o.toRgbString());c.forEach((d,f)=>{n[`primary-${f+1}`]=d}),n["primary-color-deprecated-l-35"]=a(o,d=>d.lighten(35)),n["primary-color-deprecated-l-20"]=a(o,d=>d.lighten(20)),n["primary-color-deprecated-t-20"]=a(o,d=>d.tint(20)),n["primary-color-deprecated-t-50"]=a(o,d=>d.tint(50)),n["primary-color-deprecated-f-12"]=a(o,d=>d.setA(d.a*.12));const l=new kr(c[0]);n["primary-color-active-deprecated-f-30"]=a(l,d=>d.setA(d.a*.3)),n["primary-color-active-deprecated-d-02"]=a(l,d=>d.darken(2))}return t.successColor&&r(t.successColor,"success"),t.warningColor&&r(t.warningColor,"warning"),t.errorColor&&r(t.errorColor,"error"),t.infoColor&&r(t.infoColor,"info"),`
  :root {
    ${Object.keys(n).map(o=>`--${e}-${o}: ${n[o]};`).join(`
`)}
  }
  `.trim()}function wnt(e,t){const n=ynt(e,t);lc()&&Su(n,`${bnt}-dynamic-theme`)}const Ym=_.createContext(!1),jnt=({children:e,disabled:t})=>{const n=_.useContext(Ym);return _.createElement(Ym.Provider,{value:t??n},e)},Gm=_.createContext(void 0),Cnt=({children:e,size:t})=>{const n=_.useContext(Gm);return _.createElement(Gm.Provider,{value:t||n},e)};function Snt(){const e=_.useContext(Ym),t=_.useContext(Gm);return{componentDisabled:e,componentSize:t}}var J$=Fi(function e(){Pi(this,e)}),eP="CALC_UNIT",Nnt=new RegExp(eP,"g");function oC(e){return typeof e=="number"?"".concat(e).concat(eP):e}var knt=function(e){Pd(n,e);var t=Fd(n);function n(a,r){var i;Pi(this,n),i=t.call(this),pt(wa(i),"result",""),pt(wa(i),"unitlessCssVar",void 0),pt(wa(i),"lowPriority",void 0);var o=Ls(a);return i.unitlessCssVar=r,a instanceof n?i.result="(".concat(a.result,")"):o==="number"?i.result=oC(a):o==="string"&&(i.result=a),i}return Fi(n,[{key:"add",value:function(r){return r instanceof n?this.result="".concat(this.result," + ").concat(r.getResult()):(typeof r=="number"||typeof r=="string")&&(this.result="".concat(this.result," + ").concat(oC(r))),this.lowPriority=!0,this}},{key:"sub",value:function(r){return r instanceof n?this.result="".concat(this.result," - ").concat(r.getResult()):(typeof r=="number"||typeof r=="string")&&(this.result="".concat(this.result," - ").concat(oC(r))),this.lowPriority=!0,this}},{key:"mul",value:function(r){return this.lowPriority&&(this.result="(".concat(this.result,")")),r instanceof n?this.result="".concat(this.result," * ").concat(r.getResult(!0)):(typeof r=="number"||typeof r=="string")&&(this.result="".concat(this.result," * ").concat(r)),this.lowPriority=!1,this}},{key:"div",value:function(r){return this.lowPriority&&(this.result="(".concat(this.result,")")),r instanceof n?this.result="".concat(this.result," / ").concat(r.getResult(!0)):(typeof r=="number"||typeof r=="string")&&(this.result="".concat(this.result," / ").concat(r)),this.lowPriority=!1,this}},{key:"getResult",value:function(r){return this.lowPriority||r?"(".concat(this.result,")"):this.result}},{key:"equal",value:function(r){var i=this,o=r||{},c=o.unit,l=!0;return typeof c=="boolean"?l=c:Array.from(this.unitlessCssVar).some(function(d){return i.result.includes(d)})&&(l=!1),this.result=this.result.replace(Nnt,l?"px":""),typeof this.lowPriority<"u"?"calc(".concat(this.result,")"):this.result}}]),n}(J$),Int=function(e){Pd(n,e);var t=Fd(n);function n(a){var r;return Pi(this,n),r=t.call(this),pt(wa(r),"result",0),a instanceof n?r.result=a.result:typeof a=="number"&&(r.result=a),r}return Fi(n,[{key:"add",value:function(r){return r instanceof n?this.result+=r.result:typeof r=="number"&&(this.result+=r),this}},{key:"sub",value:function(r){return r instanceof n?this.result-=r.result:typeof r=="number"&&(this.result-=r),this}},{key:"mul",value:function(r){return r instanceof n?this.result*=r.result:typeof r=="number"&&(this.result*=r),this}},{key:"div",value:function(r){return r instanceof n?this.result/=r.result:typeof r=="number"&&(this.result/=r),this}},{key:"equal",value:function(){return this.result}}]),n}(J$),Ent=function(t,n){var a=t==="css"?knt:Int;return function(r){return new a(r,n)}},a9=function(t,n){return"".concat([n,t.replace(/([A-Z]+)([A-Z][a-z]+)/g,"$1-$2").replace(/([a-z])([A-Z])/g,"$1-$2")].filter(Boolean).join("-"))};function sr(e){var t=_.useRef();t.current=e;var n=_.useCallback(function(){for(var a,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(a=t.current)===null||a===void 0?void 0:a.call.apply(a,[t].concat(i))},[]);return n}function s0(e){var t=_.useRef(!1),n=_.useState(e),a=St(n,2),r=a[0],i=a[1];_.useEffect(function(){return t.current=!1,function(){t.current=!0}},[]);function o(c,l){l&&t.current||i(c)}return[r,o]}function cC(e){return e!==void 0}function Pl(e,t){var n=t||{},a=n.defaultValue,r=n.value,i=n.onChange,o=n.postState,c=s0(function(){return cC(r)?r:cC(a)?typeof a=="function"?a():a:typeof e=="function"?e():e}),l=St(c,2),d=l[0],f=l[1],g=r!==void 0?r:d,b=o?o(g):g,w=sr(i),C=s0([g]),S=St(C,2),k=S[0],E=S[1];lN(function(){var R=k[0];d!==R&&w(d,R)},[k]),lN(function(){cC(r)||f(r)},[r]);var D=sr(function(R,P){f(R,P),E([g],P)});return[b,D]}function r9(e,t,n,a){var r=vt({},t[e]);if(a!=null&&a.deprecatedTokens){var i=a.deprecatedTokens;i.forEach(function(c){var l=St(c,2),d=l[0],f=l[1];if(r!=null&&r[d]||r!=null&&r[f]){var g;(g=r[f])!==null&&g!==void 0||(r[f]=r==null?void 0:r[d])}})}var o=vt(vt({},n),r);return Object.keys(o).forEach(function(c){o[c]===t[c]&&delete o[c]}),o}var tP=typeof CSSINJS_STATISTIC<"u",NN=!0;function uc(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(!tP)return Object.assign.apply(Object,[{}].concat(t));NN=!1;var a={};return t.forEach(function(r){if(Ls(r)==="object"){var i=Object.keys(r);i.forEach(function(o){Object.defineProperty(a,o,{configurable:!0,enumerable:!0,get:function(){return r[o]}})})}}),NN=!0,a}var i9={};function Tnt(){}var Dnt=function(t){var n,a=t,r=Tnt;return tP&&typeof Proxy<"u"&&(n=new Set,a=new Proxy(t,{get:function(o,c){if(NN){var l;(l=n)===null||l===void 0||l.add(c)}return o[c]}}),r=function(o,c){var l;i9[o]={global:Array.from(n),component:vt(vt({},(l=i9[o])===null||l===void 0?void 0:l.component),c)}}),{token:a,keys:n,flush:r}};function o9(e,t,n){if(typeof n=="function"){var a;return n(uc(t,(a=t[e])!==null&&a!==void 0?a:{}))}return n??{}}function Ant(e){return e==="js"?{max:Math.max,min:Math.min}:{max:function(){for(var n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return"max(".concat(a.map(function(i){return ms(i)}).join(","),")")},min:function(){for(var n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return"min(".concat(a.map(function(i){return ms(i)}).join(","),")")}}}var Mnt=1e3*60*10,Rnt=function(){function e(){Pi(this,e),pt(this,"map",new Map),pt(this,"objectIDMap",new WeakMap),pt(this,"nextID",0),pt(this,"lastAccessBeat",new Map),pt(this,"accessBeat",0)}return Fi(e,[{key:"set",value:function(n,a){this.clear();var r=this.getCompositeKey(n);this.map.set(r,a),this.lastAccessBeat.set(r,Date.now())}},{key:"get",value:function(n){var a=this.getCompositeKey(n),r=this.map.get(a);return this.lastAccessBeat.set(a,Date.now()),this.accessBeat+=1,r}},{key:"getCompositeKey",value:function(n){var a=this,r=n.map(function(i){return i&&Ls(i)==="object"?"obj_".concat(a.getObjectID(i)):"".concat(Ls(i),"_").concat(i)});return r.join("|")}},{key:"getObjectID",value:function(n){if(this.objectIDMap.has(n))return this.objectIDMap.get(n);var a=this.nextID;return this.objectIDMap.set(n,a),this.nextID+=1,a}},{key:"clear",value:function(){var n=this;if(this.accessBeat>1e4){var a=Date.now();this.lastAccessBeat.forEach(function(r,i){a-r>Mnt&&(n.map.delete(i),n.lastAccessBeat.delete(i))}),this.accessBeat=0}}}]),e}(),c9=new Rnt;function Bnt(e,t){return nt.useMemo(function(){var n=c9.get(t);if(n)return n;var a=e();return c9.set(t,a),a},t)}var Ont=function(){return{}};function Lnt(e){var t=e.useCSP,n=t===void 0?Ont:t,a=e.useToken,r=e.usePrefix,i=e.getResetStyles,o=e.getCommonStyle,c=e.getCompUnitless;function l(b,w,C,S){var k=Array.isArray(b)?b[0]:b;function E(U){return"".concat(String(k)).concat(U.slice(0,1).toUpperCase()).concat(U.slice(1))}var D=(S==null?void 0:S.unitless)||{},R=typeof c=="function"?c(b):{},P=vt(vt({},R),{},pt({},E("zIndexPopup"),!0));Object.keys(D).forEach(function(U){P[E(U)]=D[U]});var B=vt(vt({},S),{},{unitless:P,prefixToken:E}),O=f(b,w,C,B),$=d(k,C,B);return function(U){var F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:U,H=O(U,F),se=St(H,2),K=se[1],te=$(F),J=St(te,2),z=J[0],V=J[1];return[z,K,V]}}function d(b,w,C){var S=C.unitless,k=C.injectStyle,E=k===void 0?!0:k,D=C.prefixToken,R=C.ignore,P=function($){var U=$.rootCls,F=$.cssVar,H=F===void 0?{}:F,se=a(),K=se.realToken;return Utt({path:[b],prefix:H.prefix,key:H.key,unitless:S,ignore:R,token:K,scope:U},function(){var te=o9(b,K,w),J=r9(b,K,te,{deprecatedTokens:C==null?void 0:C.deprecatedTokens});return Object.keys(te).forEach(function(z){J[D(z)]=J[z],delete J[z]}),J}),null},B=function($){var U=a(),F=U.cssVar;return[function(H){return E&&F?nt.createElement(nt.Fragment,null,nt.createElement(P,{rootCls:$,cssVar:F,component:b}),H):H},F==null?void 0:F.key]};return B}function f(b,w,C){var S=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},k=Array.isArray(b)?b:[b,b],E=St(k,1),D=E[0],R=k.join("-"),P=e.layer||{name:"antd"};return function(B){var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:B,$=a(),U=$.theme,F=$.realToken,H=$.hashId,se=$.token,K=$.cssVar,te=r(),J=te.rootPrefixCls,z=te.iconPrefixCls,V=n(),M=K?"css":"js",ee=Bnt(function(){var ae=new Set;return K&&Object.keys(S.unitless||{}).forEach(function(ne){ae.add(ux(ne,K.prefix)),ae.add(ux(ne,a9(D,K.prefix)))}),Ent(M,ae)},[M,D,K==null?void 0:K.prefix]),Z=Ant(M),A=Z.max,G=Z.min,Q={theme:U,token:se,hashId:H,nonce:function(){return V.nonce},clientOnly:S.clientOnly,layer:P,order:S.order||-999};typeof i=="function"&&hN(vt(vt({},Q),{},{clientOnly:!1,path:["Shared",J]}),function(){return i(se,{prefix:{rootPrefixCls:J,iconPrefixCls:z},csp:V})});var Y=hN(vt(vt({},Q),{},{path:[R,B,z]}),function(){if(S.injectStyle===!1)return[];var ae=Dnt(se),ne=ae.token,re=ae.flush,oe=o9(D,F,C),me=".".concat(B),Ce=r9(D,F,oe,{deprecatedTokens:S.deprecatedTokens});K&&oe&&Ls(oe)==="object"&&Object.keys(oe).forEach(function(Se){oe[Se]="var(".concat(ux(Se,a9(D,K.prefix)),")")});var Ne=uc(ne,{componentCls:me,prefixCls:B,iconCls:".".concat(z),antCls:".".concat(J),calc:ee,max:A,min:G},K?oe:Ce),Ee=w(Ne,{hashId:H,prefixCls:B,rootPrefixCls:J,iconPrefixCls:z});re(D,Ce);var ve=typeof o=="function"?o(Ne,B,O,S.resetFont):null;return[S.resetStyle===!1?null:ve,Ee]});return[Y,H]}}function g(b,w,C){var S=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},k=f(b,w,C,vt({resetStyle:!1,order:-998},S)),E=function(R){var P=R.prefixCls,B=R.rootCls,O=B===void 0?P:B;return k(P,O),null};return E}return{genStyleHooks:l,genSubStyleComponent:g,genComponentStyleHook:f}}const Y4=["blue","purple","cyan","green","magenta","pink","red","orange","yellow","volcano","geekblue","lime","gold"],$nt="5.26.7";function lC(e){return e>=0&&e<=255}function tg(e,t){const{r:n,g:a,b:r,a:i}=new kr(e).toRgb();if(i<1)return e;const{r:o,g:c,b:l}=new kr(t).toRgb();for(let d=.01;d<=1;d+=.01){const f=Math.round((n-o*(1-d))/d),g=Math.round((a-c*(1-d))/d),b=Math.round((r-l*(1-d))/d);if(lC(f)&&lC(g)&&lC(b))return new kr({r:f,g,b,a:Math.round(d*100)/100}).toRgbString()}return new kr({r:n,g:a,b:r,a:1}).toRgbString()}var Pnt=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]]);return n};function nP(e){const{override:t}=e,n=Pnt(e,["override"]),a=Object.assign({},t);Object.keys(t0).forEach(b=>{delete a[b]});const r=Object.assign(Object.assign({},n),a),i=480,o=576,c=768,l=992,d=1200,f=1600;if(r.motion===!1){const b="0s";r.motionDurationFast=b,r.motionDurationMid=b,r.motionDurationSlow=b}return Object.assign(Object.assign(Object.assign({},r),{colorFillContent:r.colorFillSecondary,colorFillContentHover:r.colorFill,colorFillAlter:r.colorFillQuaternary,colorBgContainerDisabled:r.colorFillTertiary,colorBorderBg:r.colorBgContainer,colorSplit:tg(r.colorBorderSecondary,r.colorBgContainer),colorTextPlaceholder:r.colorTextQuaternary,colorTextDisabled:r.colorTextQuaternary,colorTextHeading:r.colorText,colorTextLabel:r.colorTextSecondary,colorTextDescription:r.colorTextTertiary,colorTextLightSolid:r.colorWhite,colorHighlight:r.colorError,colorBgTextHover:r.colorFillSecondary,colorBgTextActive:r.colorFill,colorIcon:r.colorTextTertiary,colorIconHover:r.colorText,colorErrorOutline:tg(r.colorErrorBg,r.colorBgContainer),colorWarningOutline:tg(r.colorWarningBg,r.colorBgContainer),fontSizeIcon:r.fontSizeSM,lineWidthFocus:r.lineWidth*3,lineWidth:r.lineWidth,controlOutlineWidth:r.lineWidth*2,controlInteractiveSize:r.controlHeight/2,controlItemBgHover:r.colorFillTertiary,controlItemBgActive:r.colorPrimaryBg,controlItemBgActiveHover:r.colorPrimaryBgHover,controlItemBgActiveDisabled:r.colorFill,controlTmpOutline:r.colorFillQuaternary,controlOutline:tg(r.colorPrimaryBg,r.colorBgContainer),lineType:r.lineType,borderRadius:r.borderRadius,borderRadiusXS:r.borderRadiusXS,borderRadiusSM:r.borderRadiusSM,borderRadiusLG:r.borderRadiusLG,fontWeightStrong:600,opacityLoading:.65,linkDecoration:"none",linkHoverDecoration:"none",linkFocusDecoration:"none",controlPaddingHorizontal:12,controlPaddingHorizontalSM:8,paddingXXS:r.sizeXXS,paddingXS:r.sizeXS,paddingSM:r.sizeSM,padding:r.size,paddingMD:r.sizeMD,paddingLG:r.sizeLG,paddingXL:r.sizeXL,paddingContentHorizontalLG:r.sizeLG,paddingContentVerticalLG:r.sizeMS,paddingContentHorizontal:r.sizeMS,paddingContentVertical:r.sizeSM,paddingContentHorizontalSM:r.size,paddingContentVerticalSM:r.sizeXS,marginXXS:r.sizeXXS,marginXS:r.sizeXS,marginSM:r.sizeSM,margin:r.size,marginMD:r.sizeMD,marginLG:r.sizeLG,marginXL:r.sizeXL,marginXXL:r.sizeXXL,boxShadow:`
      0 6px 16px 0 rgba(0, 0, 0, 0.08),
      0 3px 6px -4px rgba(0, 0, 0, 0.12),
      0 9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowSecondary:`
      0 6px 16px 0 rgba(0, 0, 0, 0.08),
      0 3px 6px -4px rgba(0, 0, 0, 0.12),
      0 9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowTertiary:`
      0 1px 2px 0 rgba(0, 0, 0, 0.03),
      0 1px 6px -1px rgba(0, 0, 0, 0.02),
      0 2px 4px 0 rgba(0, 0, 0, 0.02)
    `,screenXS:i,screenXSMin:i,screenXSMax:o-1,screenSM:o,screenSMMin:o,screenSMMax:c-1,screenMD:c,screenMDMin:c,screenMDMax:l-1,screenLG:l,screenLGMin:l,screenLGMax:d-1,screenXL:d,screenXLMin:d,screenXLMax:f-1,screenXXL:f,screenXXLMin:f,boxShadowPopoverArrow:"2px 2px 5px rgba(0, 0, 0, 0.05)",boxShadowCard:`
      0 1px 2px -2px ${new kr("rgba(0, 0, 0, 0.16)").toRgbString()},
      0 3px 6px 0 ${new kr("rgba(0, 0, 0, 0.12)").toRgbString()},
      0 5px 12px 4px ${new kr("rgba(0, 0, 0, 0.09)").toRgbString()}
    `,boxShadowDrawerRight:`
      -6px 0 16px 0 rgba(0, 0, 0, 0.08),
      -3px 0 6px -4px rgba(0, 0, 0, 0.12),
      -9px 0 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowDrawerLeft:`
      6px 0 16px 0 rgba(0, 0, 0, 0.08),
      3px 0 6px -4px rgba(0, 0, 0, 0.12),
      9px 0 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowDrawerUp:`
      0 6px 16px 0 rgba(0, 0, 0, 0.08),
      0 3px 6px -4px rgba(0, 0, 0, 0.12),
      0 9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowDrawerDown:`
      0 -6px 16px 0 rgba(0, 0, 0, 0.08),
      0 -3px 6px -4px rgba(0, 0, 0, 0.12),
      0 -9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowTabsOverflowLeft:"inset 10px 0 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowRight:"inset -10px 0 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowTop:"inset 0 10px 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowBottom:"inset 0 -10px 8px -8px rgba(0, 0, 0, 0.08)"}),a)}var l9=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]]);return n};const sP={lineHeight:!0,lineHeightSM:!0,lineHeightLG:!0,lineHeightHeading1:!0,lineHeightHeading2:!0,lineHeightHeading3:!0,lineHeightHeading4:!0,lineHeightHeading5:!0,opacityLoading:!0,fontWeightStrong:!0,zIndexPopupBase:!0,zIndexBase:!0,opacityImage:!0},Fnt={size:!0,sizeSM:!0,sizeLG:!0,sizeMD:!0,sizeXS:!0,sizeXXS:!0,sizeMS:!0,sizeXL:!0,sizeXXL:!0,sizeUnit:!0,sizeStep:!0,motionBase:!0,motionUnit:!0},Hnt={screenXS:!0,screenXSMin:!0,screenXSMax:!0,screenSM:!0,screenSMMin:!0,screenSMMax:!0,screenMD:!0,screenMDMin:!0,screenMDMax:!0,screenLG:!0,screenLGMin:!0,screenLGMax:!0,screenXL:!0,screenXLMin:!0,screenXLMax:!0,screenXXL:!0,screenXXLMin:!0},aP=(e,t,n)=>{const a=n.getDerivativeToken(e),{override:r}=t,i=l9(t,["override"]);let o=Object.assign(Object.assign({},a),{override:r});return o=nP(o),i&&Object.entries(i).forEach(([c,l])=>{const{theme:d}=l,f=l9(l,["theme"]);let g=f;d&&(g=aP(Object.assign(Object.assign({},o),f),{override:f},d)),o[c]=g}),o};function rf(){const{token:e,hashed:t,theme:n,override:a,cssVar:r}=nt.useContext(K$),i=`${$nt}-${t||""}`,o=n||X$,[c,l,d]=_tt(o,[t0,e],{salt:i,override:a,getComputedToken:aP,formatToken:nP,cssVar:r&&{prefix:r.prefix,key:r.key,unitless:sP,ignore:Fnt,preserve:Hnt}});return[o,d,t?l:"",c,r]}const qnt={overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},jb=(e,t=!1)=>({boxSizing:"border-box",margin:0,padding:0,color:e.colorText,fontSize:e.fontSize,lineHeight:e.lineHeight,listStyle:"none",fontFamily:t?"inherit":e.fontFamily}),G4=()=>({display:"inline-flex",alignItems:"center",color:"inherit",fontStyle:"normal",lineHeight:0,textAlign:"center",textTransform:"none",verticalAlign:"-0.125em",textRendering:"optimizeLegibility","-webkit-font-smoothing":"antialiased","-moz-osx-font-smoothing":"grayscale","> *":{lineHeight:1},svg:{display:"inline-block"}}),Vnt=()=>({"&::before":{display:"table",content:'""'},"&::after":{display:"table",clear:"both",content:'""'}}),znt=e=>({a:{color:e.colorLink,textDecoration:e.linkDecoration,backgroundColor:"transparent",outline:"none",cursor:"pointer",transition:`color ${e.motionDurationSlow}`,"-webkit-text-decoration-skip":"objects","&:hover":{color:e.colorLinkHover},"&:active":{color:e.colorLinkActive},"&:active, &:hover":{textDecoration:e.linkHoverDecoration,outline:0},"&:focus":{textDecoration:e.linkFocusDecoration,outline:0},"&[disabled]":{color:e.colorTextDisabled,cursor:"not-allowed"}}}),Unt=(e,t,n,a)=>{const r=`[class^="${t}"], [class*=" ${t}"]`,i=n?`.${n}`:r,o={boxSizing:"border-box","&::before, &::after":{boxSizing:"border-box"}};let c={};return a!==!1&&(c={fontFamily:e.fontFamily,fontSize:e.fontSize}),{[i]:Object.assign(Object.assign(Object.assign({},c),o),{[r]:o})}},Wnt=(e,t)=>({outline:`${ms(e.lineWidthFocus)} solid ${e.colorPrimaryBorder}`,outlineOffset:t??1,transition:"outline-offset 0s, outline 0s"}),Ynt=(e,t)=>({"&:focus-visible":Object.assign({},Wnt(e,t))}),rP=e=>({[`.${e}`]:Object.assign(Object.assign({},G4()),{[`.${e} .${e}-icon`]:{display:"block"}})}),{genStyleHooks:Ey,genComponentStyleHook:Gnt,genSubStyleComponent:Qnt}=Lnt({usePrefix:()=>{const{getPrefixCls:e,iconPrefixCls:t}=_.useContext(Io);return{rootPrefixCls:e(),iconPrefixCls:t}},useToken:()=>{const[e,t,n,a,r]=rf();return{theme:e,realToken:t,hashId:n,token:a,cssVar:r}},useCSP:()=>{const{csp:e}=_.useContext(Io);return e??{}},getResetStyles:(e,t)=>{var n;const a=znt(e);return[a,{"&":a},rP((n=t==null?void 0:t.prefix.iconPrefixCls)!==null&&n!==void 0?n:W4)]},getCommonStyle:Unt,getCompUnitless:()=>sP}),Xnt=(e,t)=>{const[n,a]=rf();return hN({token:a,hashId:"",path:["ant-design-icons",e],nonce:()=>t==null?void 0:t.nonce,layer:{name:"antd"}},()=>[rP(e)])},Knt=Object.assign({},Xm),{useId:u9}=Knt,Znt=()=>"",Jnt=typeof u9>"u"?Znt:u9;function est(e,t,n){var a;const r=e||{},i=r.inherit===!1||!t?Object.assign(Object.assign({},SN),{hashed:(a=t==null?void 0:t.hashed)!==null&&a!==void 0?a:SN.hashed,cssVar:t==null?void 0:t.cssVar}):t,o=Jnt();return R4(()=>{var c,l;if(!e)return t;const d=Object.assign({},i.components);Object.keys(e.components||{}).forEach(b=>{d[b]=Object.assign(Object.assign({},d[b]),e.components[b])});const f=`css-var-${o.replace(/:/g,"")}`,g=((c=r.cssVar)!==null&&c!==void 0?c:i.cssVar)&&Object.assign(Object.assign(Object.assign({prefix:n==null?void 0:n.prefixCls},typeof i.cssVar=="object"?i.cssVar:{}),typeof r.cssVar=="object"?r.cssVar:{}),{key:typeof r.cssVar=="object"&&((l=r.cssVar)===null||l===void 0?void 0:l.key)||f});return Object.assign(Object.assign(Object.assign({},i),r),{token:Object.assign(Object.assign({},i.token),r.token),components:d,cssVar:g})},[r,i],(c,l)=>c.some((d,f)=>{const g=l[f];return!rN(d,g,!0)}))}var tst=["children"],iP=_.createContext({});function nst(e){var t=e.children,n=di(e,tst);return _.createElement(iP.Provider,{value:n},t)}var sst=function(e){Pd(n,e);var t=Fd(n);function n(){return Pi(this,n),t.apply(this,arguments)}return Fi(n,[{key:"render",value:function(){return this.props.children}}]),n}(_.Component);function ast(e){var t=_.useReducer(function(c){return c+1},0),n=St(t,2),a=n[1],r=_.useRef(e),i=sr(function(){return r.current}),o=sr(function(c){r.current=typeof c=="function"?c(r.current):c,a()});return[i,o]}var pd="none",yv="appear",wv="enter",jv="leave",d9="none",Yc="prepare",dm="start",hm="active",Q4="end",oP="prepared";function h9(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit".concat(e)]="webkit".concat(t),n["Moz".concat(e)]="moz".concat(t),n["ms".concat(e)]="MS".concat(t),n["O".concat(e)]="o".concat(t.toLowerCase()),n}function rst(e,t){var n={animationend:h9("Animation","AnimationEnd"),transitionend:h9("Transition","TransitionEnd")};return e&&("AnimationEvent"in t||delete n.animationend.animation,"TransitionEvent"in t||delete n.transitionend.transition),n}var ist=rst(lc(),typeof window<"u"?window:{}),cP={};if(lc()){var ost=document.createElement("div");cP=ost.style}var Cv={};function lP(e){if(Cv[e])return Cv[e];var t=ist[e];if(t)for(var n=Object.keys(t),a=n.length,r=0;r<a;r+=1){var i=n[r];if(Object.prototype.hasOwnProperty.call(t,i)&&i in cP)return Cv[e]=t[i],Cv[e]}return""}var uP=lP("animationend"),dP=lP("transitionend"),hP=!!(uP&&dP),f9=uP||"animationend",m9=dP||"transitionend";function p9(e,t){if(!e)return null;if(Ls(e)==="object"){var n=t.replace(/-\w/g,function(a){return a[1].toUpperCase()});return e[n]}return"".concat(e,"-").concat(t)}const cst=function(e){var t=_.useRef();function n(r){r&&(r.removeEventListener(m9,e),r.removeEventListener(f9,e))}function a(r){t.current&&t.current!==r&&n(t.current),r&&r!==t.current&&(r.addEventListener(m9,e),r.addEventListener(f9,e),t.current=r)}return _.useEffect(function(){return function(){n(t.current)}},[]),[a,n]};var fP=lc()?_.useLayoutEffect:_.useEffect;const lst=function(){var e=_.useRef(null);function t(){no.cancel(e.current)}function n(a){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;t();var i=no(function(){r<=1?a({isCanceled:function(){return i!==e.current}}):n(a,r-1)});e.current=i}return _.useEffect(function(){return function(){t()}},[]),[n,t]};var ust=[Yc,dm,hm,Q4],dst=[Yc,oP],mP=!1,hst=!0;function pP(e){return e===hm||e===Q4}const fst=function(e,t,n){var a=s0(d9),r=St(a,2),i=r[0],o=r[1],c=lst(),l=St(c,2),d=l[0],f=l[1];function g(){o(Yc,!0)}var b=t?dst:ust;return fP(function(){if(i!==d9&&i!==Q4){var w=b.indexOf(i),C=b[w+1],S=n(i);S===mP?o(C,!0):C&&d(function(k){function E(){k.isCanceled()||o(C,!0)}S===!0?E():Promise.resolve(S).then(E)})}},[e,i]),_.useEffect(function(){return function(){f()}},[]),[g,i]};function mst(e,t,n,a){var r=a.motionEnter,i=r===void 0?!0:r,o=a.motionAppear,c=o===void 0?!0:o,l=a.motionLeave,d=l===void 0?!0:l,f=a.motionDeadline,g=a.motionLeaveImmediately,b=a.onAppearPrepare,w=a.onEnterPrepare,C=a.onLeavePrepare,S=a.onAppearStart,k=a.onEnterStart,E=a.onLeaveStart,D=a.onAppearActive,R=a.onEnterActive,P=a.onLeaveActive,B=a.onAppearEnd,O=a.onEnterEnd,$=a.onLeaveEnd,U=a.onVisibleChanged,F=s0(),H=St(F,2),se=H[0],K=H[1],te=ast(pd),J=St(te,2),z=J[0],V=J[1],M=s0(null),ee=St(M,2),Z=ee[0],A=ee[1],G=z(),Q=_.useRef(!1),Y=_.useRef(null);function ae(){return n()}var ne=_.useRef(!1);function re(){V(pd),A(null,!0)}var oe=sr(function(ge){var be=z();if(be!==pd){var Fe=ae();if(!(ge&&!ge.deadline&&ge.target!==Fe)){var je=ne.current,qe;be===yv&&je?qe=B==null?void 0:B(Fe,ge):be===wv&&je?qe=O==null?void 0:O(Fe,ge):be===jv&&je&&(qe=$==null?void 0:$(Fe,ge)),je&&qe!==!1&&re()}}}),me=cst(oe),Ce=St(me,1),Ne=Ce[0],Ee=function(be){switch(be){case yv:return pt(pt(pt({},Yc,b),dm,S),hm,D);case wv:return pt(pt(pt({},Yc,w),dm,k),hm,R);case jv:return pt(pt(pt({},Yc,C),dm,E),hm,P);default:return{}}},ve=_.useMemo(function(){return Ee(G)},[G]),Se=fst(G,!e,function(ge){if(ge===Yc){var be=ve[Yc];return be?be(ae()):mP}if(pe in ve){var Fe;A(((Fe=ve[pe])===null||Fe===void 0?void 0:Fe.call(ve,ae(),null))||null)}return pe===hm&&G!==pd&&(Ne(ae()),f>0&&(clearTimeout(Y.current),Y.current=setTimeout(function(){oe({deadline:!0})},f))),pe===oP&&re(),hst}),fe=St(Se,2),de=fe[0],pe=fe[1],ce=pP(pe);ne.current=ce;var Re=_.useRef(null);fP(function(){if(!(Q.current&&Re.current===t)){K(t);var ge=Q.current;Q.current=!0;var be;!ge&&t&&c&&(be=yv),ge&&t&&i&&(be=wv),(ge&&!t&&d||!ge&&g&&!t&&d)&&(be=jv);var Fe=Ee(be);be&&(e||Fe[Yc])?(V(be),de()):V(pd),Re.current=t}},[t]),_.useEffect(function(){(G===yv&&!c||G===wv&&!i||G===jv&&!d)&&V(pd)},[c,i,d]),_.useEffect(function(){return function(){Q.current=!1,clearTimeout(Y.current)}},[]);var Ae=_.useRef(!1);_.useEffect(function(){se&&(Ae.current=!0),se!==void 0&&G===pd&&((Ae.current||se)&&(U==null||U(se)),Ae.current=!0)},[se,G]);var ie=Z;return ve[Yc]&&pe===dm&&(ie=vt({transition:"none"},ie)),[G,pe,ie,se??t]}function pst(e){var t=e;Ls(e)==="object"&&(t=e.transitionSupport);function n(r,i){return!!(r.motionName&&t&&i!==!1)}var a=_.forwardRef(function(r,i){var o=r.visible,c=o===void 0?!0:o,l=r.removeOnLeave,d=l===void 0?!0:l,f=r.forceRender,g=r.children,b=r.motionName,w=r.leavedClassName,C=r.eventProps,S=_.useContext(iP),k=S.motion,E=n(r,k),D=_.useRef(),R=_.useRef();function P(){try{return D.current instanceof HTMLElement?D.current:lx(R.current)}catch{return null}}var B=mst(E,c,P,r),O=St(B,4),$=O[0],U=O[1],F=O[2],H=O[3],se=_.useRef(H);H&&(se.current=!0);var K=_.useCallback(function(ee){D.current=ee,B4(i,ee)},[i]),te,J=vt(vt({},C),{},{visible:c});if(!g)te=null;else if($===pd)H?te=g(vt({},J),K):!d&&se.current&&w?te=g(vt(vt({},J),{},{className:w}),K):f||!d&&!w?te=g(vt(vt({},J),{},{style:{display:"none"}}),K):te=null;else{var z;U===Yc?z="prepare":pP(U)?z="active":U===dm&&(z="start");var V=p9(b,"".concat($,"-").concat(z));te=g(vt(vt({},J),{},{className:zs(p9(b,$),pt(pt({},V,V&&z),b,typeof b=="string")),style:F}),K)}if(_.isValidElement(te)&&D0(te)){var M=Sy(te);M||(te=_.cloneElement(te,{ref:K}))}return _.createElement(sst,{ref:R},te)});return a.displayName="CSSMotion",a}const M0=pst(hP);var kN="add",IN="keep",EN="remove",uC="removed";function gst(e){var t;return e&&Ls(e)==="object"&&"key"in e?t=e:t={key:e},vt(vt({},t),{},{key:String(t.key)})}function TN(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return e.map(gst)}function _st(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=[],a=0,r=t.length,i=TN(e),o=TN(t);i.forEach(function(d){for(var f=!1,g=a;g<r;g+=1){var b=o[g];if(b.key===d.key){a<g&&(n=n.concat(o.slice(a,g).map(function(w){return vt(vt({},w),{},{status:kN})})),a=g),n.push(vt(vt({},b),{},{status:IN})),a+=1,f=!0;break}}f||n.push(vt(vt({},d),{},{status:EN}))}),a<r&&(n=n.concat(o.slice(a).map(function(d){return vt(vt({},d),{},{status:kN})})));var c={};n.forEach(function(d){var f=d.key;c[f]=(c[f]||0)+1});var l=Object.keys(c).filter(function(d){return c[d]>1});return l.forEach(function(d){n=n.filter(function(f){var g=f.key,b=f.status;return g!==d||b!==EN}),n.forEach(function(f){f.key===d&&(f.status=IN)})}),n}var vst=["component","children","onVisibleChanged","onAllRemoved"],xst=["status"],bst=["eventProps","visible","children","motionName","motionAppear","motionEnter","motionLeave","motionLeaveImmediately","motionDeadline","removeOnLeave","leavedClassName","onAppearPrepare","onAppearStart","onAppearActive","onAppearEnd","onEnterStart","onEnterActive","onEnterEnd","onLeaveStart","onLeaveActive","onLeaveEnd"];function yst(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:M0,n=function(a){Pd(i,a);var r=Fd(i);function i(){var o;Pi(this,i);for(var c=arguments.length,l=new Array(c),d=0;d<c;d++)l[d]=arguments[d];return o=r.call.apply(r,[this].concat(l)),pt(wa(o),"state",{keyEntities:[]}),pt(wa(o),"removeKey",function(f){o.setState(function(g){var b=g.keyEntities.map(function(w){return w.key!==f?w:vt(vt({},w),{},{status:uC})});return{keyEntities:b}},function(){var g=o.state.keyEntities,b=g.filter(function(w){var C=w.status;return C!==uC}).length;b===0&&o.props.onAllRemoved&&o.props.onAllRemoved()})}),o}return Fi(i,[{key:"render",value:function(){var c=this,l=this.state.keyEntities,d=this.props,f=d.component,g=d.children,b=d.onVisibleChanged;d.onAllRemoved;var w=di(d,vst),C=f||_.Fragment,S={};return bst.forEach(function(k){S[k]=w[k],delete w[k]}),delete w.keys,_.createElement(C,w,l.map(function(k,E){var D=k.status,R=di(k,xst),P=D===kN||D===IN;return _.createElement(t,Es({},S,{key:R.key,visible:P,eventProps:R,onVisibleChanged:function(O){b==null||b(O,{key:R.key}),O||c.removeKey(R.key)}}),function(B,O){return g(vt(vt({},B),{},{index:E}),O)})}))}}],[{key:"getDerivedStateFromProps",value:function(c,l){var d=c.keys,f=l.keyEntities,g=TN(d),b=_st(f,g);return{keyEntities:b.filter(function(w){var C=f.find(function(S){var k=S.key;return w.key===k});return!(C&&C.status===uC&&w.status===EN)})}}}]),i}(_.Component);return pt(n,"defaultProps",{component:"div"}),n}yst(hP);const g9=_.createContext(!0);function wst(e){const t=_.useContext(g9),{children:n}=e,[,a]=rf(),{motion:r}=a,i=_.useRef(!1);return i.current||(i.current=t!==r),i.current?_.createElement(g9.Provider,{value:r},_.createElement(nst,{motion:r},n)):n}const jst=()=>null;var Cst=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]]);return n};const Sst=["getTargetContainer","getPopupContainer","renderEmpty","input","pagination","form","select","button"];let gP;function Nst(){return gP||wb}function kst(e){return Object.keys(e).some(t=>t.endsWith("Color"))}const Ist=e=>{const{prefixCls:t,iconPrefixCls:n,theme:a,holderRender:r}=e;t!==void 0&&(gP=t),a&&kst(a)&&wnt(Nst(),a)},Est=e=>{const{children:t,csp:n,autoInsertSpaceInButton:a,alert:r,anchor:i,form:o,locale:c,componentSize:l,direction:d,space:f,splitter:g,virtual:b,dropdownMatchSelectWidth:w,popupMatchSelectWidth:C,popupOverflow:S,legacyLocale:k,parentContext:E,iconPrefixCls:D,theme:R,componentDisabled:P,segmented:B,statistic:O,spin:$,calendar:U,carousel:F,cascader:H,collapse:se,typography:K,checkbox:te,descriptions:J,divider:z,drawer:V,skeleton:M,steps:ee,image:Z,layout:A,list:G,mentions:Q,modal:Y,progress:ae,result:ne,slider:re,breadcrumb:oe,menu:me,pagination:Ce,input:Ne,textArea:Ee,empty:ve,badge:Se,radio:fe,rate:de,switch:pe,transfer:ce,avatar:Re,message:Ae,tag:ie,table:ge,card:be,tabs:Fe,timeline:je,timePicker:qe,upload:tt,notification:he,tree:Ze,colorPicker:Pe,datePicker:bt,rangePicker:Ge,flex:ue,wave:De,dropdown:xe,warning:Ye,tour:at,tooltip:lt,popover:Mt,popconfirm:pn,floatButtonGroup:Qn,variant:yt,inputNumber:ln,treeSelect:fn}=e,jn=_.useCallback((Hn,Xt)=>{const{prefixCls:ia}=e;if(Xt)return Xt;const Ca=ia||E.getPrefixCls("");return Hn?`${Ca}-${Hn}`:Ca},[E.getPrefixCls,e.prefixCls]),dt=D||E.iconPrefixCls||W4,It=n||E.csp;Xnt(dt,It);const st=est(R,E.theme,{prefixCls:jn("")}),Rt={csp:It,autoInsertSpaceInButton:a,alert:r,anchor:i,locale:c||k,direction:d,space:f,splitter:g,virtual:b,popupMatchSelectWidth:C??w,popupOverflow:S,getPrefixCls:jn,iconPrefixCls:dt,theme:st,segmented:B,statistic:O,spin:$,calendar:U,carousel:F,cascader:H,collapse:se,typography:K,checkbox:te,descriptions:J,divider:z,drawer:V,skeleton:M,steps:ee,image:Z,input:Ne,textArea:Ee,layout:A,list:G,mentions:Q,modal:Y,progress:ae,result:ne,slider:re,breadcrumb:oe,menu:me,pagination:Ce,empty:ve,badge:Se,radio:fe,rate:de,switch:pe,transfer:ce,avatar:Re,message:Ae,tag:ie,table:ge,card:be,tabs:Fe,timeline:je,timePicker:qe,upload:tt,notification:he,tree:Ze,colorPicker:Pe,datePicker:bt,rangePicker:Ge,flex:ue,wave:De,dropdown:xe,warning:Ye,tour:at,tooltip:lt,popover:Mt,popconfirm:pn,floatButtonGroup:Qn,variant:yt,inputNumber:ln,treeSelect:fn},Lt=Object.assign({},E);Object.keys(Rt).forEach(Hn=>{Rt[Hn]!==void 0&&(Lt[Hn]=Rt[Hn])}),Sst.forEach(Hn=>{const Xt=e[Hn];Xt&&(Lt[Hn]=Xt)}),typeof a<"u"&&(Lt.button=Object.assign({autoInsertSpace:a},Lt.button));const on=R4(()=>Lt,Lt,(Hn,Xt)=>{const ia=Object.keys(Hn),Ca=Object.keys(Xt);return ia.length!==Ca.length||ia.some(Vn=>Hn[Vn]!==Xt[Vn])}),{layer:vn}=_.useContext(A0),ss=_.useMemo(()=>({prefixCls:dt,csp:It,layer:vn?"antd":void 0}),[dt,It,vn]);let hs=_.createElement(_.Fragment,null,_.createElement(jst,{dropdownMatchSelectWidth:w}),t);const xs=_.useMemo(()=>{var Hn,Xt,ia,Ca;return um(((Hn=Wm.Form)===null||Hn===void 0?void 0:Hn.defaultValidateMessages)||{},((ia=(Xt=on.locale)===null||Xt===void 0?void 0:Xt.Form)===null||ia===void 0?void 0:ia.defaultValidateMessages)||{},((Ca=on.form)===null||Ca===void 0?void 0:Ca.validateMessages)||{},(o==null?void 0:o.validateMessages)||{})},[on,o==null?void 0:o.validateMessages]);Object.keys(xs).length>0&&(hs=_.createElement(Ktt.Provider,{value:xs},hs)),c&&(hs=_.createElement(snt,{locale:c,_ANT_MARK__:nnt},hs)),hs=_.createElement(z4.Provider,{value:ss},hs),l&&(hs=_.createElement(Cnt,{size:l},hs)),hs=_.createElement(wst,null,hs);const fs=_.useMemo(()=>{const Hn=st||{},{algorithm:Xt,token:ia,components:Ca,cssVar:Vn}=Hn,Na=Cst(Hn,["algorithm","token","components","cssVar"]),Qs=Xt&&(!Array.isArray(Xt)||Xt.length>0)?oN(Xt):X$,ta={};Object.entries(Ca||{}).forEach(([za,ur])=>{const Us=Object.assign({},ur);"algorithm"in Us&&(Us.algorithm===!0?Us.theme=Qs:(Array.isArray(Us.algorithm)||typeof Us.algorithm=="function")&&(Us.theme=oN(Us.algorithm)),delete Us.algorithm),ta[za]=Us});const vs=Object.assign(Object.assign({},t0),ia);return Object.assign(Object.assign({},Na),{theme:Qs,token:vs,components:ta,override:Object.assign({override:vs},ta),cssVar:Vn})},[st]);return R&&(hs=_.createElement(K$.Provider,{value:fs},hs)),on.warning&&(hs=_.createElement(Xtt.Provider,{value:on.warning},hs)),P!==void 0&&(hs=_.createElement(jnt,{disabled:P},hs)),_.createElement(Io.Provider,{value:on},hs)},Hl=e=>{const t=_.useContext(Io),n=_.useContext(U4);return _.createElement(Est,Object.assign({parentContext:t,legacyLocale:n},e))};Hl.ConfigContext=Io;Hl.SizeContext=Gm;Hl.config=Ist;Hl.useConfig=Snt;Object.defineProperty(Hl,"SizeContext",{get:()=>Gm});function _P(e){var t;return e==null||(t=e.getRootNode)===null||t===void 0?void 0:t.call(e)}function Tst(e){return _P(e)instanceof ShadowRoot}function Cb(e){return Tst(e)?_P(e):null}function Dst(e){return e.replace(/-(.)/g,function(t,n){return n.toUpperCase()})}function Ast(e,t){qo(e,"[@ant-design/icons] ".concat(t))}function _9(e){return Ls(e)==="object"&&typeof e.name=="string"&&typeof e.theme=="string"&&(Ls(e.icon)==="object"||typeof e.icon=="function")}function v9(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Object.keys(e).reduce(function(t,n){var a=e[n];switch(n){case"class":t.className=a,delete t.class;break;default:delete t[n],t[Dst(n)]=a}return t},{})}function DN(e,t,n){return n?nt.createElement(e.tag,vt(vt({key:t},v9(e.attrs)),n),(e.children||[]).map(function(a,r){return DN(a,"".concat(t,"-").concat(e.tag,"-").concat(r))})):nt.createElement(e.tag,vt({key:t},v9(e.attrs)),(e.children||[]).map(function(a,r){return DN(a,"".concat(t,"-").concat(e.tag,"-").concat(r))}))}function vP(e){return n0(e)[0]}function xP(e){return e?Array.isArray(e)?e:[e]:[]}var Mst=`
.anticon {
  display: inline-flex;
  align-items: center;
  color: inherit;
  font-style: normal;
  line-height: 0;
  text-align: center;
  text-transform: none;
  vertical-align: -0.125em;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

.anticon > * {
  line-height: 1;
}

.anticon svg {
  display: inline-block;
}

.anticon::before {
  display: none;
}

.anticon .anticon-icon {
  display: block;
}

.anticon[tabindex] {
  cursor: pointer;
}

.anticon-spin::before,
.anticon-spin {
  display: inline-block;
  -webkit-animation: loadingCircle 1s infinite linear;
  animation: loadingCircle 1s infinite linear;
}

@-webkit-keyframes loadingCircle {
  100% {
    -webkit-transform: rotate(360deg);
    transform: rotate(360deg);
  }
}

@keyframes loadingCircle {
  100% {
    -webkit-transform: rotate(360deg);
    transform: rotate(360deg);
  }
}
`,Rst=function(t){var n=_.useContext(z4),a=n.csp,r=n.prefixCls,i=n.layer,o=Mst;r&&(o=o.replace(/anticon/g,r)),i&&(o="@layer ".concat(i,` {
`).concat(o,`
}`)),_.useEffect(function(){var c=t.current,l=Cb(c);Su(o,"@ant-design-icons",{prepend:!i,csp:a,attachTo:l})},[])},Bst=["icon","className","onClick","style","primaryColor","secondaryColor"],wg={primaryColor:"#333",secondaryColor:"#E6E6E6",calculated:!1};function Ost(e){var t=e.primaryColor,n=e.secondaryColor;wg.primaryColor=t,wg.secondaryColor=n||vP(t),wg.calculated=!!n}function Lst(){return vt({},wg)}var mp=function(t){var n=t.icon,a=t.className,r=t.onClick,i=t.style,o=t.primaryColor,c=t.secondaryColor,l=di(t,Bst),d=_.useRef(),f=wg;if(o&&(f={primaryColor:o,secondaryColor:c||vP(o)}),Rst(d),Ast(_9(n),"icon should be icon definiton, but got ".concat(n)),!_9(n))return null;var g=n;return g&&typeof g.icon=="function"&&(g=vt(vt({},g),{},{icon:g.icon(f.primaryColor,f.secondaryColor)})),DN(g.icon,"svg-".concat(g.name),vt(vt({className:a,onClick:r,style:i,"data-icon":g.name,width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},l),{},{ref:d}))};mp.displayName="IconReact";mp.getTwoToneColors=Lst;mp.setTwoToneColors=Ost;function bP(e){var t=xP(e),n=St(t,2),a=n[0],r=n[1];return mp.setTwoToneColors({primaryColor:a,secondaryColor:r})}function $st(){var e=mp.getTwoToneColors();return e.calculated?[e.primaryColor,e.secondaryColor]:e.primaryColor}var Pst=["className","icon","spin","rotate","tabIndex","onClick","twoToneColor"];bP(yb.primary);var Pc=_.forwardRef(function(e,t){var n=e.className,a=e.icon,r=e.spin,i=e.rotate,o=e.tabIndex,c=e.onClick,l=e.twoToneColor,d=di(e,Pst),f=_.useContext(z4),g=f.prefixCls,b=g===void 0?"anticon":g,w=f.rootClassName,C=zs(w,b,pt(pt({},"".concat(b,"-").concat(a.name),!!a.name),"".concat(b,"-spin"),!!r||a.name==="loading"),n),S=o;S===void 0&&c&&(S=-1);var k=i?{msTransform:"rotate(".concat(i,"deg)"),transform:"rotate(".concat(i,"deg)")}:void 0,E=xP(l),D=St(E,2),R=D[0],P=D[1];return _.createElement("span",Es({role:"img","aria-label":a.name},d,{ref:t,tabIndex:S,onClick:c,className:C}),_.createElement(mp,{icon:a,primaryColor:R,secondaryColor:P,style:k}))});Pc.displayName="AntdIcon";Pc.getTwoToneColor=$st;Pc.setTwoToneColor=bP;var Fst={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64c247.4 0 448 200.6 448 448S759.4 960 512 960 64 759.4 64 512 264.6 64 512 64zm127.98 274.82h-.04l-.08.06L512 466.75 384.14 338.88c-.04-.05-.06-.06-.08-.06a.12.12 0 00-.07 0c-.03 0-.05.01-.09.05l-45.02 45.02a.2.2 0 00-.05.09.12.12 0 000 .07v.02a.27.27 0 00.06.06L466.75 512 338.88 639.86c-.05.04-.06.06-.06.08a.12.12 0 000 .07c0 .03.01.05.05.09l45.02 45.02a.2.2 0 00.09.05.12.12 0 00.07 0c.02 0 .04-.01.08-.05L512 557.25l127.86 127.87c.04.04.06.05.08.05a.12.12 0 00.07 0c.03 0 .05-.01.09-.05l45.02-45.02a.2.2 0 00.05-.09.12.12 0 000-.07v-.02a.27.27 0 00-.05-.06L557.25 512l127.87-127.86c.04-.04.05-.06.05-.08a.12.12 0 000-.07c0-.03-.01-.05-.05-.09l-45.02-45.02a.2.2 0 00-.09-.05.12.12 0 00-.07 0z"}}]},name:"close-circle",theme:"filled"},Hst=function(t,n){return _.createElement(Pc,Es({},t,{ref:n,icon:Fst}))},qst=_.forwardRef(Hst),Vst={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M799.86 166.31c.02 0 .04.02.08.06l57.69 57.7c.04.03.05.05.06.08a.12.12 0 010 .06c0 .03-.02.05-.06.09L569.93 512l287.7 287.7c.04.04.05.06.06.09a.12.12 0 010 .07c0 .02-.02.04-.06.08l-57.7 57.69c-.03.04-.05.05-.07.06a.12.12 0 01-.07 0c-.03 0-.05-.02-.09-.06L512 569.93l-287.7 287.7c-.04.04-.06.05-.09.06a.12.12 0 01-.07 0c-.02 0-.04-.02-.08-.06l-57.69-57.7c-.04-.03-.05-.05-.06-.07a.12.12 0 010-.07c0-.03.02-.05.06-.09L454.07 512l-287.7-287.7c-.04-.04-.05-.06-.06-.09a.12.12 0 010-.07c0-.02.02-.04.06-.08l57.7-57.69c.03-.04.05-.05.07-.06a.12.12 0 01.07 0c.03 0 .05.02.09.06L512 454.07l287.7-287.7c.04-.04.06-.05.09-.06a.12.12 0 01.07 0z"}}]},name:"close",theme:"outlined"},zst=function(t,n){return _.createElement(Pc,Es({},t,{ref:n,icon:Vst}))},Ust=_.forwardRef(zst),Wst=`accept acceptCharset accessKey action allowFullScreen allowTransparency
    alt async autoComplete autoFocus autoPlay capture cellPadding cellSpacing challenge
    charSet checked classID className colSpan cols content contentEditable contextMenu
    controls coords crossOrigin data dateTime default defer dir disabled download draggable
    encType form formAction formEncType formMethod formNoValidate formTarget frameBorder
    headers height hidden high href hrefLang htmlFor httpEquiv icon id inputMode integrity
    is keyParams keyType kind label lang list loop low manifest marginHeight marginWidth max maxLength media
    mediaGroup method min minLength multiple muted name noValidate nonce open
    optimum pattern placeholder poster preload radioGroup readOnly rel required
    reversed role rowSpan rows sandbox scope scoped scrolling seamless selected
    shape size sizes span spellCheck src srcDoc srcLang srcSet start step style
    summary tabIndex target title type useMap value width wmode wrap`,Yst=`onCopy onCut onPaste onCompositionEnd onCompositionStart onCompositionUpdate onKeyDown
    onKeyPress onKeyUp onFocus onBlur onChange onInput onSubmit onClick onContextMenu onDoubleClick
    onDrag onDragEnd onDragEnter onDragExit onDragLeave onDragOver onDragStart onDrop onMouseDown
    onMouseEnter onMouseLeave onMouseMove onMouseOut onMouseOver onMouseUp onSelect onTouchCancel
    onTouchEnd onTouchMove onTouchStart onScroll onWheel onAbort onCanPlay onCanPlayThrough
    onDurationChange onEmptied onEncrypted onEnded onError onLoadedData onLoadedMetadata
    onLoadStart onPause onPlay onPlaying onProgress onRateChange onSeeked onSeeking onStalled onSuspend onTimeUpdate onVolumeChange onWaiting onLoad onError`,Gst="".concat(Wst," ").concat(Yst).split(/[\s\n]+/),Qst="aria-",Xst="data-";function x9(e,t){return e.indexOf(t)===0}function X4(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n;t===!1?n={aria:!0,data:!0,attr:!0}:t===!0?n={aria:!0}:n=vt({},t);var a={};return Object.keys(e).forEach(function(r){(n.aria&&(r==="role"||x9(r,Qst))||n.data&&x9(r,Xst)||n.attr&&Gst.includes(r))&&(a[r]=e[r])}),a}function Kst(e){return e&&nt.isValidElement(e)&&e.type===nt.Fragment}const Zst=(e,t,n)=>nt.isValidElement(e)?nt.cloneElement(e,typeof n=="function"?n(e.props||{}):n):t;function yP(e,t){return Zst(e,e,t)}const wP=e=>{const[,,,,t]=rf();return t?`${e}-css-var`:""};var Jst={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M988 548c-19.9 0-36-16.1-36-36 0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 00-94.3-139.9 437.71 437.71 0 00-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.3C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3.1 19.9-16 36-35.9 36z"}}]},name:"loading",theme:"outlined"},eat=function(t,n){return _.createElement(Pc,Es({},t,{ref:n,icon:Jst}))},jP=_.forwardRef(eat);const tat=nt.createContext(void 0),hh=100,CP={Modal:hh,Drawer:hh,Popover:hh,Popconfirm:hh,Tooltip:hh,Tour:hh,FloatButton:hh},nat={SelectLike:50,Dropdown:50,DatePicker:50,Menu:50,ImagePreview:1};function sat(e){return e in CP}const SP=(e,t)=>{const[,n]=rf(),a=nt.useContext(tat),r=sat(e);let i;if(t!==void 0)i=[t,t];else{let o=a??0;r?o+=(a?0:n.zIndexPopupBase)+CP[e]:o+=nat[e],i=[a===void 0?t:o,o]}return i};function NP(e,t){this.v=e,this.k=t}function ho(e,t,n,a){var r=Object.defineProperty;try{r({},"",{})}catch{r=0}ho=function(o,c,l,d){if(c)r?r(o,c,{value:l,enumerable:!d,configurable:!d,writable:!d}):o[c]=l;else{var f=function(b,w){ho(o,b,function(C){return this._invoke(b,w,C)})};f("next",0),f("throw",1),f("return",2)}},ho(e,t,n,a)}function K4(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var e,t,n=typeof Symbol=="function"?Symbol:{},a=n.iterator||"@@iterator",r=n.toStringTag||"@@toStringTag";function i(w,C,S,k){var E=C&&C.prototype instanceof c?C:c,D=Object.create(E.prototype);return ho(D,"_invoke",function(R,P,B){var O,$,U,F=0,H=B||[],se=!1,K={p:0,n:0,v:e,a:te,f:te.bind(e,4),d:function(z,V){return O=z,$=0,U=e,K.n=V,o}};function te(J,z){for($=J,U=z,t=0;!se&&F&&!V&&t<H.length;t++){var V,M=H[t],ee=K.p,Z=M[2];J>3?(V=Z===z)&&(U=M[($=M[4])?5:($=3,3)],M[4]=M[5]=e):M[0]<=ee&&((V=J<2&&ee<M[1])?($=0,K.v=z,K.n=M[1]):ee<Z&&(V=J<3||M[0]>z||z>Z)&&(M[4]=J,M[5]=z,K.n=Z,$=0))}if(V||J>1)return o;throw se=!0,z}return function(J,z,V){if(F>1)throw TypeError("Generator is already running");for(se&&z===1&&te(z,V),$=z,U=V;(t=$<2?e:U)||!se;){O||($?$<3?($>1&&(K.n=-1),te($,U)):K.n=U:K.v=U);try{if(F=2,O){if($||(J="next"),t=O[J]){if(!(t=t.call(O,U)))throw TypeError("iterator result is not an object");if(!t.done)return t;U=t.value,$<2&&($=0)}else $===1&&(t=O.return)&&t.call(O),$<2&&(U=TypeError("The iterator does not provide a '"+J+"' method"),$=1);O=e}else if((t=(se=K.n<0)?U:R.call(P,K))!==o)break}catch(M){O=e,$=1,U=M}finally{F=1}}return{value:t,done:se}}}(w,S,k),!0),D}var o={};function c(){}function l(){}function d(){}t=Object.getPrototypeOf;var f=[][a]?t(t([][a]())):(ho(t={},a,function(){return this}),t),g=d.prototype=c.prototype=Object.create(f);function b(w){return Object.setPrototypeOf?Object.setPrototypeOf(w,d):(w.__proto__=d,ho(w,r,"GeneratorFunction")),w.prototype=Object.create(g),w}return l.prototype=d,ho(g,"constructor",d),ho(d,"constructor",l),l.displayName="GeneratorFunction",ho(d,r,"GeneratorFunction"),ho(g),ho(g,r,"Generator"),ho(g,a,function(){return this}),ho(g,"toString",function(){return"[object Generator]"}),(K4=function(){return{w:i,m:b}})()}function Sb(e,t){function n(r,i,o,c){try{var l=e[r](i),d=l.value;return d instanceof NP?t.resolve(d.v).then(function(f){n("next",f,o,c)},function(f){n("throw",f,o,c)}):t.resolve(d).then(function(f){l.value=f,o(l)},function(f){return n("throw",f,o,c)})}catch(f){c(f)}}var a;this.next||(ho(Sb.prototype),ho(Sb.prototype,typeof Symbol=="function"&&Symbol.asyncIterator||"@asyncIterator",function(){return this})),ho(this,"_invoke",function(r,i,o){function c(){return new t(function(l,d){n(r,o,l,d)})}return a=a?a.then(c,c):c()},!0)}function kP(e,t,n,a,r){return new Sb(K4().w(e,t,n,a),r||Promise)}function aat(e,t,n,a,r){var i=kP(e,t,n,a,r);return i.next().then(function(o){return o.done?o.value:i.next()})}function rat(e){var t=Object(e),n=[];for(var a in t)n.unshift(a);return function r(){for(;n.length;)if((a=n.pop())in t)return r.value=a,r.done=!1,r;return r.done=!0,r}}function b9(e){if(e!=null){var t=e[typeof Symbol=="function"&&Symbol.iterator||"@@iterator"],n=0;if(t)return t.call(e);if(typeof e.next=="function")return e;if(!isNaN(e.length))return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}}throw new TypeError(Ls(e)+" is not iterable")}function xo(){var e=K4(),t=e.m(xo),n=(Object.getPrototypeOf?Object.getPrototypeOf(t):t.__proto__).constructor;function a(o){var c=typeof o=="function"&&o.constructor;return!!c&&(c===n||(c.displayName||c.name)==="GeneratorFunction")}var r={throw:1,return:2,break:3,continue:3};function i(o){var c,l;return function(d){c||(c={stop:function(){return l(d.a,2)},catch:function(){return d.v},abrupt:function(g,b){return l(d.a,r[g],b)},delegateYield:function(g,b,w){return c.resultName=b,l(d.d,b9(g),w)},finish:function(g){return l(d.f,g)}},l=function(g,b,w){d.p=c.prev,d.n=c.next;try{return g(b,w)}finally{c.next=d.n}}),c.resultName&&(c[c.resultName]=d.v,c.resultName=void 0),c.sent=d.v,c.next=d.n;try{return o.call(this,c)}finally{d.p=c.prev,d.n=c.next}}}return(xo=function(){return{wrap:function(l,d,f,g){return e.w(i(l),d,f,g&&g.reverse())},isGeneratorFunction:a,mark:e.m,awrap:function(l,d){return new NP(l,d)},AsyncIterator:Sb,async:function(l,d,f,g,b){return(a(d)?kP:aat)(i(l),d,f,g,b)},keys:rat,values:b9}})()}function y9(e,t,n,a,r,i,o){try{var c=e[i](o),l=c.value}catch(d){return void n(d)}c.done?t(l):Promise.resolve(l).then(a,r)}function of(e){return function(){var t=this,n=arguments;return new Promise(function(a,r){var i=e.apply(t,n);function o(l){y9(i,a,r,o,c,"next",l)}function c(l){y9(i,a,r,o,c,"throw",l)}o(void 0)})}}var R0=vt({},cz),iat=R0.version,dC=R0.render,oat=R0.unmountComponentAtNode,Ty;try{var cat=Number((iat||"").split(".")[0]);cat>=18&&(Ty=R0.createRoot)}catch{}function w9(e){var t=R0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;t&&Ls(t)==="object"&&(t.usingClientEntryPoint=e)}var Nb="__rc_react_root__";function lat(e,t){w9(!0);var n=t[Nb]||Ty(t);w9(!1),n.render(e),t[Nb]=n}function uat(e,t){dC==null||dC(e,t)}function dat(e,t){if(Ty){lat(e,t);return}uat(e,t)}function hat(e){return AN.apply(this,arguments)}function AN(){return AN=of(xo().mark(function e(t){return xo().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",Promise.resolve().then(function(){var r;(r=t[Nb])===null||r===void 0||r.unmount(),delete t[Nb]}));case 1:case"end":return a.stop()}},e)})),AN.apply(this,arguments)}function fat(e){oat(e)}function mat(e){return MN.apply(this,arguments)}function MN(){return MN=of(xo().mark(function e(t){return xo().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(Ty===void 0){a.next=2;break}return a.abrupt("return",hat(t));case 2:fat(t);case 3:case"end":return a.stop()}},e)})),MN.apply(this,arguments)}const pat=(e,t)=>(dat(e,t),()=>mat(t));let gat=pat;function _at(e){return gat}function Z4(e,t){var n=Object.assign({},e);return Array.isArray(t)&&t.forEach(function(a){delete n[a]}),n}const J4=function(e){if(!e)return!1;if(e instanceof Element){if(e.offsetParent)return!0;if(e.getBBox){var t=e.getBBox(),n=t.width,a=t.height;if(n||a)return!0}if(e.getBoundingClientRect){var r=e.getBoundingClientRect(),i=r.width,o=r.height;if(i||o)return!0}}return!1},vat=e=>{const{componentCls:t,colorPrimary:n}=e;return{[t]:{position:"absolute",background:"transparent",pointerEvents:"none",boxSizing:"border-box",color:`var(--wave-color, ${n})`,boxShadow:"0 0 0 0 currentcolor",opacity:.2,"&.wave-motion-appear":{transition:[`box-shadow 0.4s ${e.motionEaseOutCirc}`,`opacity 2s ${e.motionEaseOutCirc}`].join(","),"&-active":{boxShadow:"0 0 0 6px currentcolor",opacity:0},"&.wave-quick":{transition:[`box-shadow ${e.motionDurationSlow} ${e.motionEaseInOut}`,`opacity ${e.motionDurationSlow} ${e.motionEaseInOut}`].join(",")}}}}},xat=Gnt("Wave",e=>[vat(e)]),IP=`${wb}-wave-target`;function hC(e){return e&&e!=="#fff"&&e!=="#ffffff"&&e!=="rgb(255, 255, 255)"&&e!=="rgba(255, 255, 255, 1)"&&!/rgba\((?:\d*, ){3}0\)/.test(e)&&e!=="transparent"}function bat(e){const{borderTopColor:t,borderColor:n,backgroundColor:a}=getComputedStyle(e);return hC(t)?t:hC(n)?n:hC(a)?a:null}function fC(e){return Number.isNaN(e)?0:e}const yat=e=>{const{className:t,target:n,component:a,registerUnmount:r}=e,i=_.useRef(null),o=_.useRef(null);_.useEffect(()=>{o.current=r()},[]);const[c,l]=_.useState(null),[d,f]=_.useState([]),[g,b]=_.useState(0),[w,C]=_.useState(0),[S,k]=_.useState(0),[E,D]=_.useState(0),[R,P]=_.useState(!1),B={left:g,top:w,width:S,height:E,borderRadius:d.map(U=>`${U}px`).join(" ")};c&&(B["--wave-color"]=c);function O(){const U=getComputedStyle(n);l(bat(n));const F=U.position==="static",{borderLeftWidth:H,borderTopWidth:se}=U;b(F?n.offsetLeft:fC(-parseFloat(H))),C(F?n.offsetTop:fC(-parseFloat(se))),k(n.offsetWidth),D(n.offsetHeight);const{borderTopLeftRadius:K,borderTopRightRadius:te,borderBottomLeftRadius:J,borderBottomRightRadius:z}=U;f([K,te,z,J].map(V=>fC(parseFloat(V))))}if(_.useEffect(()=>{if(n){const U=no(()=>{O(),P(!0)});let F;return typeof ResizeObserver<"u"&&(F=new ResizeObserver(O),F.observe(n)),()=>{no.cancel(U),F==null||F.disconnect()}}},[]),!R)return null;const $=(a==="Checkbox"||a==="Radio")&&(n==null?void 0:n.classList.contains(IP));return _.createElement(M0,{visible:!0,motionAppear:!0,motionName:"wave-motion",motionDeadline:5e3,onAppearEnd:(U,F)=>{var H,se;if(F.deadline||F.propertyName==="opacity"){const K=(H=i.current)===null||H===void 0?void 0:H.parentElement;(se=o.current)===null||se===void 0||se.call(o).then(()=>{K==null||K.remove()})}return!1}},({className:U},F)=>_.createElement("div",{ref:jy(i,F),className:zs(t,U,{"wave-quick":$}),style:B}))},wat=(e,t)=>{var n;const{component:a}=t;if(a==="Checkbox"&&!(!((n=e.querySelector("input"))===null||n===void 0)&&n.checked))return;const r=document.createElement("div");r.style.position="absolute",r.style.left="0px",r.style.top="0px",e==null||e.insertBefore(r,e==null?void 0:e.firstChild);const i=_at();let o=null;function c(){return o}o=i(_.createElement(yat,Object.assign({},t,{target:e,registerUnmount:c})),r)},jat=(e,t,n)=>{const{wave:a}=_.useContext(Io),[,r,i]=rf(),o=sr(d=>{const f=e.current;if(a!=null&&a.disabled||!f)return;const g=f.querySelector(`.${IP}`)||f,{showEffect:b}=a||{};(b||wat)(g,{className:t,token:r,component:n,event:d,hashId:i})}),c=_.useRef(null);return d=>{no.cancel(c.current),c.current=no(()=>{o(d)})}},Cat=e=>{const{children:t,disabled:n,component:a}=e,{getPrefixCls:r}=_.useContext(Io),i=_.useRef(null),o=r("wave"),[,c]=xat(o),l=jat(i,zs(o,c),a);if(nt.useEffect(()=>{const f=i.current;if(!f||f.nodeType!==1||n)return;const g=b=>{!J4(b.target)||!f.getAttribute||f.getAttribute("disabled")||f.disabled||f.className.includes("disabled")||f.className.includes("-leave")||l(b)};return f.addEventListener("click",g,!0),()=>{f.removeEventListener("click",g,!0)}},[n]),!nt.isValidElement(t))return t??null;const d=D0(t)?jy(Sy(t),i):i;return yP(t,{ref:d})},e6=e=>{const t=nt.useContext(Gm);return nt.useMemo(()=>e?typeof e=="string"?e??t:typeof e=="function"?e(t):t:t,[e,t])},EP=_.createContext(null),t6=(e,t)=>{const n=_.useContext(EP),a=_.useMemo(()=>{if(!n)return"";const{compactDirection:r,isFirstItem:i,isLastItem:o}=n,c=r==="vertical"?"-vertical-":"-";return zs(`${e}-compact${c}item`,{[`${e}-compact${c}first-item`]:i,[`${e}-compact${c}last-item`]:o,[`${e}-compact${c}item-rtl`]:t==="rtl"})},[e,t,n]);return{compactSize:n==null?void 0:n.compactSize,compactDirection:n==null?void 0:n.compactDirection,compactItemClassnames:a}},Sat=e=>{const{children:t}=e;return _.createElement(EP.Provider,{value:null},t)};var Nat=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]]);return n};const TP=_.createContext(void 0),kat=e=>{const{getPrefixCls:t,direction:n}=_.useContext(Io),{prefixCls:a,size:r,className:i}=e,o=Nat(e,["prefixCls","size","className"]),c=t("btn-group",a),[,,l]=rf(),d=_.useMemo(()=>{switch(r){case"large":return"lg";case"small":return"sm";default:return""}},[r]),f=zs(c,{[`${c}-${d}`]:d,[`${c}-rtl`]:n==="rtl"},i,l);return _.createElement(TP.Provider,{value:r},_.createElement("div",Object.assign({},o,{className:f})))},j9=/^[\u4E00-\u9FA5]{2}$/,RN=j9.test.bind(j9);function C9(e){return typeof e=="string"}function mC(e){return e==="text"||e==="link"}function Iat(e,t){if(e==null)return;const n=t?" ":"";return typeof e!="string"&&typeof e!="number"&&C9(e.type)&&RN(e.props.children)?yP(e,{children:e.props.children.split("").join(n)}):C9(e)?RN(e)?nt.createElement("span",null,e.split("").join(n)):nt.createElement("span",null,e):Kst(e)?nt.createElement("span",null,e):e}function Eat(e,t){let n=!1;const a=[];return nt.Children.forEach(e,r=>{const i=typeof r,o=i==="string"||i==="number";if(n&&o){const c=a.length-1,l=a[c];a[c]=`${l}${r}`}else a.push(r);n=o}),nt.Children.map(a,r=>Iat(r,t))}["default","primary","danger"].concat(ps(Y4));const BN=_.forwardRef((e,t)=>{const{className:n,style:a,children:r,prefixCls:i}=e,o=zs(`${i}-icon`,n);return nt.createElement("span",{ref:t,className:o,style:a},r)}),S9=_.forwardRef((e,t)=>{const{prefixCls:n,className:a,style:r,iconClassName:i}=e,o=zs(`${n}-loading-icon`,a);return nt.createElement(BN,{prefixCls:n,className:o,style:r,ref:t},nt.createElement(jP,{className:i}))}),pC=()=>({width:0,opacity:0,transform:"scale(0)"}),gC=e=>({width:e.scrollWidth,opacity:1,transform:"scale(1)"}),Tat=e=>{const{prefixCls:t,loading:n,existIcon:a,className:r,style:i,mount:o}=e,c=!!n;return a?nt.createElement(S9,{prefixCls:t,className:r,style:i}):nt.createElement(M0,{visible:c,motionName:`${t}-loading-icon-motion`,motionAppear:!o,motionEnter:!o,motionLeave:!o,removeOnLeave:!0,onAppearStart:pC,onAppearActive:gC,onEnterStart:pC,onEnterActive:gC,onLeaveStart:gC,onLeaveActive:pC},({className:l,style:d},f)=>{const g=Object.assign(Object.assign({},i),d);return nt.createElement(S9,{prefixCls:t,className:zs(r,l),style:g,ref:f})})},N9=(e,t)=>({[`> span, > ${e}`]:{"&:not(:last-child)":{[`&, & > ${e}`]:{"&:not(:disabled)":{borderInlineEndColor:t}}},"&:not(:first-child)":{[`&, & > ${e}`]:{"&:not(:disabled)":{borderInlineStartColor:t}}}}}),Dat=e=>{const{componentCls:t,fontSize:n,lineWidth:a,groupBorderColor:r,colorErrorHover:i}=e;return{[`${t}-group`]:[{position:"relative",display:"inline-flex",[`> span, > ${t}`]:{"&:not(:last-child)":{[`&, & > ${t}`]:{borderStartEndRadius:0,borderEndEndRadius:0}},"&:not(:first-child)":{marginInlineStart:e.calc(a).mul(-1).equal(),[`&, & > ${t}`]:{borderStartStartRadius:0,borderEndStartRadius:0}}},[t]:{position:"relative",zIndex:1,"&:hover, &:focus, &:active":{zIndex:2},"&[disabled]":{zIndex:0}},[`${t}-icon-only`]:{fontSize:n}},N9(`${t}-primary`,r),N9(`${t}-danger`,i)]}};var Aat=["b"],Mat=["v"],_C=function(t){return Math.round(Number(t||0))},Rat=function(t){if(t instanceof kr)return t;if(t&&Ls(t)==="object"&&"h"in t&&"b"in t){var n=t,a=n.b,r=di(n,Aat);return vt(vt({},r),{},{v:a})}return typeof t=="string"&&/hsb/.test(t)?t.replace(/hsb/,"hsv"):t},a0=function(e){Pd(n,e);var t=Fd(n);function n(a){return Pi(this,n),t.call(this,Rat(a))}return Fi(n,[{key:"toHsbString",value:function(){var r=this.toHsb(),i=_C(r.s*100),o=_C(r.b*100),c=_C(r.h),l=r.a,d="hsb(".concat(c,", ").concat(i,"%, ").concat(o,"%)"),f="hsba(".concat(c,", ").concat(i,"%, ").concat(o,"%, ").concat(l.toFixed(l===0?0:2),")");return l===1?d:f}},{key:"toHsb",value:function(){var r=this.toHsv(),i=r.v,o=di(r,Mat);return vt(vt({},o),{},{b:i,a:this.a})}}]),n}(kr),Bat=function(t){return t instanceof a0?t:new a0(t)};Bat("#1677ff");const Oat=(e,t)=>(e==null?void 0:e.replace(/[^\w/]/g,"").slice(0,t?8:6))||"",Lat=(e,t)=>e?Oat(e,t):"";let $at=function(){function e(t){Pi(this,e);var n;if(this.cleared=!1,t instanceof e){this.metaColor=t.metaColor.clone(),this.colors=(n=t.colors)===null||n===void 0?void 0:n.map(r=>({color:new e(r.color),percent:r.percent})),this.cleared=t.cleared;return}const a=Array.isArray(t);a&&t.length?(this.colors=t.map(({color:r,percent:i})=>({color:new e(r),percent:i})),this.metaColor=new a0(this.colors[0].color.metaColor)):this.metaColor=new a0(a?"":t),(!t||a&&!this.colors)&&(this.metaColor=this.metaColor.setA(0),this.cleared=!0)}return Fi(e,[{key:"toHsb",value:function(){return this.metaColor.toHsb()}},{key:"toHsbString",value:function(){return this.metaColor.toHsbString()}},{key:"toHex",value:function(){return Lat(this.toHexString(),this.metaColor.a<1)}},{key:"toHexString",value:function(){return this.metaColor.toHexString()}},{key:"toRgb",value:function(){return this.metaColor.toRgb()}},{key:"toRgbString",value:function(){return this.metaColor.toRgbString()}},{key:"isGradient",value:function(){return!!this.colors&&!this.cleared}},{key:"getColors",value:function(){return this.colors||[{color:this,percent:0}]}},{key:"toCssString",value:function(){const{colors:n}=this;return n?`linear-gradient(90deg, ${n.map(r=>`${r.color.toRgbString()} ${r.percent}%`).join(", ")})`:this.metaColor.toRgbString()}},{key:"equals",value:function(n){return!n||this.isGradient()!==n.isGradient()?!1:this.isGradient()?this.colors.length===n.colors.length&&this.colors.every((a,r)=>{const i=n.colors[r];return a.percent===i.percent&&a.color.equals(i.color)}):this.toHexString()===n.toHexString()}}])}();const Pat=e=>({animationDuration:e,animationFillMode:"both"}),Fat=e=>({animationDuration:e,animationFillMode:"both"}),DP=(e,t,n,a,r=!1)=>{const i=r?"&":"";return{[`
      ${i}${e}-enter,
      ${i}${e}-appear
    `]:Object.assign(Object.assign({},Pat(a)),{animationPlayState:"paused"}),[`${i}${e}-leave`]:Object.assign(Object.assign({},Fat(a)),{animationPlayState:"paused"}),[`
      ${i}${e}-enter${e}-enter-active,
      ${i}${e}-appear${e}-appear-active
    `]:{animationName:t,animationPlayState:"running"},[`${i}${e}-leave${e}-leave-active`]:{animationName:n,animationPlayState:"running",pointerEvents:"none"}}},Hat=new bo("antMoveDownIn",{"0%":{transform:"translate3d(0, 100%, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),qat=new bo("antMoveDownOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(0, 100%, 0)",transformOrigin:"0 0",opacity:0}}),Vat=new bo("antMoveLeftIn",{"0%":{transform:"translate3d(-100%, 0, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),zat=new bo("antMoveLeftOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(-100%, 0, 0)",transformOrigin:"0 0",opacity:0}}),Uat=new bo("antMoveRightIn",{"0%":{transform:"translate3d(100%, 0, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),Wat=new bo("antMoveRightOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(100%, 0, 0)",transformOrigin:"0 0",opacity:0}}),Yat=new bo("antMoveUpIn",{"0%":{transform:"translate3d(0, -100%, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),Gat=new bo("antMoveUpOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(0, -100%, 0)",transformOrigin:"0 0",opacity:0}}),Qat={"move-up":{inKeyframes:Yat,outKeyframes:Gat},"move-down":{inKeyframes:Hat,outKeyframes:qat},"move-left":{inKeyframes:Vat,outKeyframes:zat},"move-right":{inKeyframes:Uat,outKeyframes:Wat}},k9=(e,t)=>{const{antCls:n}=e,a=`${n}-${t}`,{inKeyframes:r,outKeyframes:i}=Qat[t];return[DP(a,r,i,e.motionDurationMid),{[`
        ${a}-enter,
        ${a}-appear
      `]:{opacity:0,animationTimingFunction:e.motionEaseOutCirc},[`${a}-leave`]:{animationTimingFunction:e.motionEaseInOutCirc}}]},AP=new bo("antSlideUpIn",{"0%":{transform:"scaleY(0.8)",transformOrigin:"0% 0%",opacity:0},"100%":{transform:"scaleY(1)",transformOrigin:"0% 0%",opacity:1}}),MP=new bo("antSlideUpOut",{"0%":{transform:"scaleY(1)",transformOrigin:"0% 0%",opacity:1},"100%":{transform:"scaleY(0.8)",transformOrigin:"0% 0%",opacity:0}}),RP=new bo("antSlideDownIn",{"0%":{transform:"scaleY(0.8)",transformOrigin:"100% 100%",opacity:0},"100%":{transform:"scaleY(1)",transformOrigin:"100% 100%",opacity:1}}),BP=new bo("antSlideDownOut",{"0%":{transform:"scaleY(1)",transformOrigin:"100% 100%",opacity:1},"100%":{transform:"scaleY(0.8)",transformOrigin:"100% 100%",opacity:0}}),Xat=new bo("antSlideLeftIn",{"0%":{transform:"scaleX(0.8)",transformOrigin:"0% 0%",opacity:0},"100%":{transform:"scaleX(1)",transformOrigin:"0% 0%",opacity:1}}),Kat=new bo("antSlideLeftOut",{"0%":{transform:"scaleX(1)",transformOrigin:"0% 0%",opacity:1},"100%":{transform:"scaleX(0.8)",transformOrigin:"0% 0%",opacity:0}}),Zat=new bo("antSlideRightIn",{"0%":{transform:"scaleX(0.8)",transformOrigin:"100% 0%",opacity:0},"100%":{transform:"scaleX(1)",transformOrigin:"100% 0%",opacity:1}}),Jat=new bo("antSlideRightOut",{"0%":{transform:"scaleX(1)",transformOrigin:"100% 0%",opacity:1},"100%":{transform:"scaleX(0.8)",transformOrigin:"100% 0%",opacity:0}}),ert={"slide-up":{inKeyframes:AP,outKeyframes:MP},"slide-down":{inKeyframes:RP,outKeyframes:BP},"slide-left":{inKeyframes:Xat,outKeyframes:Kat},"slide-right":{inKeyframes:Zat,outKeyframes:Jat}},I9=(e,t)=>{const{antCls:n}=e,a=`${n}-${t}`,{inKeyframes:r,outKeyframes:i}=ert[t];return[DP(a,r,i,e.motionDurationMid),{[`
      ${a}-enter,
      ${a}-appear
    `]:{transform:"scale(0)",transformOrigin:"0% 0%",opacity:0,animationTimingFunction:e.motionEaseOutQuint,"&-prepare":{transform:"scale(1)"}},[`${a}-leave`]:{animationTimingFunction:e.motionEaseInQuint}}]},trt=(e,t)=>{const{r:n,g:a,b:r,a:i}=e.toRgb(),o=new a0(e.toRgbString()).onBackground(t).toHsv();return i<=.5?o.v>.5:n*.299+a*.587+r*.114>192},OP=e=>{const{paddingInline:t,onlyIconSize:n}=e;return uc(e,{buttonPaddingHorizontal:t,buttonPaddingVertical:0,buttonIconOnlyFontSize:n})},LP=e=>{var t,n,a,r,i,o;const c=(t=e.contentFontSize)!==null&&t!==void 0?t:e.fontSize,l=(n=e.contentFontSizeSM)!==null&&n!==void 0?n:e.fontSize,d=(a=e.contentFontSizeLG)!==null&&a!==void 0?a:e.fontSizeLG,f=(r=e.contentLineHeight)!==null&&r!==void 0?r:gx(c),g=(i=e.contentLineHeightSM)!==null&&i!==void 0?i:gx(l),b=(o=e.contentLineHeightLG)!==null&&o!==void 0?o:gx(d),w=trt(new $at(e.colorBgSolid),"#fff")?"#000":"#fff",C=Y4.reduce((S,k)=>Object.assign(Object.assign({},S),{[`${k}ShadowColor`]:`0 ${ms(e.controlOutlineWidth)} 0 ${tg(e[`${k}1`],e.colorBgContainer)}`}),{});return Object.assign(Object.assign({},C),{fontWeight:400,defaultShadow:`0 ${e.controlOutlineWidth}px 0 ${e.controlTmpOutline}`,primaryShadow:`0 ${e.controlOutlineWidth}px 0 ${e.controlOutline}`,dangerShadow:`0 ${e.controlOutlineWidth}px 0 ${e.colorErrorOutline}`,primaryColor:e.colorTextLightSolid,dangerColor:e.colorTextLightSolid,borderColorDisabled:e.colorBorder,defaultGhostColor:e.colorBgContainer,ghostBg:"transparent",defaultGhostBorderColor:e.colorBgContainer,paddingInline:e.paddingContentHorizontal-e.lineWidth,paddingInlineLG:e.paddingContentHorizontal-e.lineWidth,paddingInlineSM:8-e.lineWidth,onlyIconSize:"inherit",onlyIconSizeSM:"inherit",onlyIconSizeLG:"inherit",groupBorderColor:e.colorPrimaryHover,linkHoverBg:"transparent",textTextColor:e.colorText,textTextHoverColor:e.colorText,textTextActiveColor:e.colorText,textHoverBg:e.colorFillTertiary,defaultColor:e.colorText,defaultBg:e.colorBgContainer,defaultBorderColor:e.colorBorder,defaultBorderColorDisabled:e.colorBorder,defaultHoverBg:e.colorBgContainer,defaultHoverColor:e.colorPrimaryHover,defaultHoverBorderColor:e.colorPrimaryHover,defaultActiveBg:e.colorBgContainer,defaultActiveColor:e.colorPrimaryActive,defaultActiveBorderColor:e.colorPrimaryActive,solidTextColor:w,contentFontSize:c,contentFontSizeSM:l,contentFontSizeLG:d,contentLineHeight:f,contentLineHeightSM:g,contentLineHeightLG:b,paddingBlock:Math.max((e.controlHeight-c*f)/2-e.lineWidth,0),paddingBlockSM:Math.max((e.controlHeightSM-l*g)/2-e.lineWidth,0),paddingBlockLG:Math.max((e.controlHeightLG-d*b)/2-e.lineWidth,0)})},nrt=e=>{const{componentCls:t,iconCls:n,fontWeight:a,opacityLoading:r,motionDurationSlow:i,motionEaseInOut:o,marginXS:c,calc:l}=e;return{[t]:{outline:"none",position:"relative",display:"inline-flex",gap:e.marginXS,alignItems:"center",justifyContent:"center",fontWeight:a,whiteSpace:"nowrap",textAlign:"center",backgroundImage:"none",background:"transparent",border:`${ms(e.lineWidth)} ${e.lineType} transparent`,cursor:"pointer",transition:`all ${e.motionDurationMid} ${e.motionEaseInOut}`,userSelect:"none",touchAction:"manipulation",color:e.colorText,"&:disabled > *":{pointerEvents:"none"},[`${t}-icon > svg`]:G4(),"> a":{color:"currentColor"},"&:not(:disabled)":Ynt(e),[`&${t}-two-chinese-chars::first-letter`]:{letterSpacing:"0.34em"},[`&${t}-two-chinese-chars > *:not(${n})`]:{marginInlineEnd:"-0.34em",letterSpacing:"0.34em"},[`&${t}-icon-only`]:{paddingInline:0,[`&${t}-compact-item`]:{flex:"none"},[`&${t}-round`]:{width:"auto"}},[`&${t}-loading`]:{opacity:r,cursor:"default"},[`${t}-loading-icon`]:{transition:["width","opacity","margin"].map(d=>`${d} ${i} ${o}`).join(",")},[`&:not(${t}-icon-end)`]:{[`${t}-loading-icon-motion`]:{"&-appear-start, &-enter-start":{marginInlineEnd:l(c).mul(-1).equal()},"&-appear-active, &-enter-active":{marginInlineEnd:0},"&-leave-start":{marginInlineEnd:0},"&-leave-active":{marginInlineEnd:l(c).mul(-1).equal()}}},"&-icon-end":{flexDirection:"row-reverse",[`${t}-loading-icon-motion`]:{"&-appear-start, &-enter-start":{marginInlineStart:l(c).mul(-1).equal()},"&-appear-active, &-enter-active":{marginInlineStart:0},"&-leave-start":{marginInlineStart:0},"&-leave-active":{marginInlineStart:l(c).mul(-1).equal()}}}}}},$P=(e,t,n)=>({[`&:not(:disabled):not(${e}-disabled)`]:{"&:hover":t,"&:active":n}}),srt=e=>({minWidth:e.controlHeight,paddingInlineStart:0,paddingInlineEnd:0,borderRadius:"50%"}),art=e=>({borderRadius:e.controlHeight,paddingInlineStart:e.calc(e.controlHeight).div(2).equal(),paddingInlineEnd:e.calc(e.controlHeight).div(2).equal()}),rrt=e=>({cursor:"not-allowed",borderColor:e.borderColorDisabled,color:e.colorTextDisabled,background:e.colorBgContainerDisabled,boxShadow:"none"}),Dy=(e,t,n,a,r,i,o,c)=>({[`&${e}-background-ghost`]:Object.assign(Object.assign({color:n||void 0,background:t,borderColor:a||void 0,boxShadow:"none"},$P(e,Object.assign({background:t},o),Object.assign({background:t},c))),{"&:disabled":{cursor:"not-allowed",color:r||void 0,borderColor:i||void 0}})}),irt=e=>({[`&:disabled, &${e.componentCls}-disabled`]:Object.assign({},rrt(e))}),ort=e=>({[`&:disabled, &${e.componentCls}-disabled`]:{cursor:"not-allowed",color:e.colorTextDisabled}}),Ay=(e,t,n,a)=>{const i=a&&["link","text"].includes(a)?ort:irt;return Object.assign(Object.assign({},i(e)),$P(e.componentCls,t,n))},My=(e,t,n,a,r)=>({[`&${e.componentCls}-variant-solid`]:Object.assign({color:t,background:n},Ay(e,a,r))}),Ry=(e,t,n,a,r)=>({[`&${e.componentCls}-variant-outlined, &${e.componentCls}-variant-dashed`]:Object.assign({borderColor:t,background:n},Ay(e,a,r))}),By=e=>({[`&${e.componentCls}-variant-dashed`]:{borderStyle:"dashed"}}),Oy=(e,t,n,a)=>({[`&${e.componentCls}-variant-filled`]:Object.assign({boxShadow:"none",background:t},Ay(e,n,a))}),ql=(e,t,n,a,r)=>({[`&${e.componentCls}-variant-${n}`]:Object.assign({color:t,boxShadow:"none"},Ay(e,a,r,n))}),crt=e=>{const{componentCls:t}=e;return Y4.reduce((n,a)=>{const r=e[`${a}6`],i=e[`${a}1`],o=e[`${a}5`],c=e[`${a}2`],l=e[`${a}3`],d=e[`${a}7`];return Object.assign(Object.assign({},n),{[`&${t}-color-${a}`]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({color:r,boxShadow:e[`${a}ShadowColor`]},My(e,e.colorTextLightSolid,r,{background:o},{background:d})),Ry(e,r,e.colorBgContainer,{color:o,borderColor:o,background:e.colorBgContainer},{color:d,borderColor:d,background:e.colorBgContainer})),By(e)),Oy(e,i,{background:c},{background:l})),ql(e,r,"link",{color:o},{color:d})),ql(e,r,"text",{color:o,background:i},{color:d,background:l}))})},{})},lrt=e=>Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({color:e.defaultColor,boxShadow:e.defaultShadow},My(e,e.solidTextColor,e.colorBgSolid,{color:e.solidTextColor,background:e.colorBgSolidHover},{color:e.solidTextColor,background:e.colorBgSolidActive})),By(e)),Oy(e,e.colorFillTertiary,{background:e.colorFillSecondary},{background:e.colorFill})),Dy(e.componentCls,e.ghostBg,e.defaultGhostColor,e.defaultGhostBorderColor,e.colorTextDisabled,e.colorBorder)),ql(e,e.textTextColor,"link",{color:e.colorLinkHover,background:e.linkHoverBg},{color:e.colorLinkActive})),urt=e=>Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({color:e.colorPrimary,boxShadow:e.primaryShadow},Ry(e,e.colorPrimary,e.colorBgContainer,{color:e.colorPrimaryTextHover,borderColor:e.colorPrimaryHover,background:e.colorBgContainer},{color:e.colorPrimaryTextActive,borderColor:e.colorPrimaryActive,background:e.colorBgContainer})),By(e)),Oy(e,e.colorPrimaryBg,{background:e.colorPrimaryBgHover},{background:e.colorPrimaryBorder})),ql(e,e.colorPrimaryText,"text",{color:e.colorPrimaryTextHover,background:e.colorPrimaryBg},{color:e.colorPrimaryTextActive,background:e.colorPrimaryBorder})),ql(e,e.colorPrimaryText,"link",{color:e.colorPrimaryTextHover,background:e.linkHoverBg},{color:e.colorPrimaryTextActive})),Dy(e.componentCls,e.ghostBg,e.colorPrimary,e.colorPrimary,e.colorTextDisabled,e.colorBorder,{color:e.colorPrimaryHover,borderColor:e.colorPrimaryHover},{color:e.colorPrimaryActive,borderColor:e.colorPrimaryActive})),drt=e=>Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({color:e.colorError,boxShadow:e.dangerShadow},My(e,e.dangerColor,e.colorError,{background:e.colorErrorHover},{background:e.colorErrorActive})),Ry(e,e.colorError,e.colorBgContainer,{color:e.colorErrorHover,borderColor:e.colorErrorBorderHover},{color:e.colorErrorActive,borderColor:e.colorErrorActive})),By(e)),Oy(e,e.colorErrorBg,{background:e.colorErrorBgFilledHover},{background:e.colorErrorBgActive})),ql(e,e.colorError,"text",{color:e.colorErrorHover,background:e.colorErrorBg},{color:e.colorErrorHover,background:e.colorErrorBgActive})),ql(e,e.colorError,"link",{color:e.colorErrorHover},{color:e.colorErrorActive})),Dy(e.componentCls,e.ghostBg,e.colorError,e.colorError,e.colorTextDisabled,e.colorBorder,{color:e.colorErrorHover,borderColor:e.colorErrorHover},{color:e.colorErrorActive,borderColor:e.colorErrorActive})),hrt=e=>Object.assign(Object.assign({},ql(e,e.colorLink,"link",{color:e.colorLinkHover},{color:e.colorLinkActive})),Dy(e.componentCls,e.ghostBg,e.colorInfo,e.colorInfo,e.colorTextDisabled,e.colorBorder,{color:e.colorInfoHover,borderColor:e.colorInfoHover},{color:e.colorInfoActive,borderColor:e.colorInfoActive})),frt=e=>{const{componentCls:t}=e;return Object.assign({[`${t}-color-default`]:lrt(e),[`${t}-color-primary`]:urt(e),[`${t}-color-dangerous`]:drt(e),[`${t}-color-link`]:hrt(e)},crt(e))},mrt=e=>Object.assign(Object.assign(Object.assign(Object.assign({},Ry(e,e.defaultBorderColor,e.defaultBg,{color:e.defaultHoverColor,borderColor:e.defaultHoverBorderColor,background:e.defaultHoverBg},{color:e.defaultActiveColor,borderColor:e.defaultActiveBorderColor,background:e.defaultActiveBg})),ql(e,e.textTextColor,"text",{color:e.textTextHoverColor,background:e.textHoverBg},{color:e.textTextActiveColor,background:e.colorBgTextActive})),My(e,e.primaryColor,e.colorPrimary,{background:e.colorPrimaryHover,color:e.primaryColor},{background:e.colorPrimaryActive,color:e.primaryColor})),ql(e,e.colorLink,"link",{color:e.colorLinkHover,background:e.linkHoverBg},{color:e.colorLinkActive})),n6=(e,t="")=>{const{componentCls:n,controlHeight:a,fontSize:r,borderRadius:i,buttonPaddingHorizontal:o,iconCls:c,buttonPaddingVertical:l,buttonIconOnlyFontSize:d}=e;return[{[t]:{fontSize:r,height:a,padding:`${ms(l)} ${ms(o)}`,borderRadius:i,[`&${n}-icon-only`]:{width:a,[c]:{fontSize:d}}}},{[`${n}${n}-circle${t}`]:srt(e)},{[`${n}${n}-round${t}`]:art(e)}]},prt=e=>{const t=uc(e,{fontSize:e.contentFontSize});return n6(t,e.componentCls)},grt=e=>{const t=uc(e,{controlHeight:e.controlHeightSM,fontSize:e.contentFontSizeSM,padding:e.paddingXS,buttonPaddingHorizontal:e.paddingInlineSM,buttonPaddingVertical:0,borderRadius:e.borderRadiusSM,buttonIconOnlyFontSize:e.onlyIconSizeSM});return n6(t,`${e.componentCls}-sm`)},_rt=e=>{const t=uc(e,{controlHeight:e.controlHeightLG,fontSize:e.contentFontSizeLG,buttonPaddingHorizontal:e.paddingInlineLG,buttonPaddingVertical:0,borderRadius:e.borderRadiusLG,buttonIconOnlyFontSize:e.onlyIconSizeLG});return n6(t,`${e.componentCls}-lg`)},vrt=e=>{const{componentCls:t}=e;return{[t]:{[`&${t}-block`]:{width:"100%"}}}},xrt=Ey("Button",e=>{const t=OP(e);return[nrt(t),prt(t),grt(t),_rt(t),vrt(t),frt(t),mrt(t),Dat(t)]},LP,{unitless:{fontWeight:!0,contentLineHeight:!0,contentLineHeightSM:!0,contentLineHeightLG:!0}});function brt(e,t,n){const{focusElCls:a,focus:r,borderElCls:i}=n,o=i?"> *":"",c=["hover",r?"focus":null,"active"].filter(Boolean).map(l=>`&:${l} ${o}`).join(",");return{[`&-item:not(${t}-last-item)`]:{marginInlineEnd:e.calc(e.lineWidth).mul(-1).equal()},"&-item":Object.assign(Object.assign({[c]:{zIndex:2}},a?{[`&${a}`]:{zIndex:2}}:{}),{[`&[disabled] ${o}`]:{zIndex:0}})}}function yrt(e,t,n){const{borderElCls:a}=n,r=a?`> ${a}`:"";return{[`&-item:not(${t}-first-item):not(${t}-last-item) ${r}`]:{borderRadius:0},[`&-item:not(${t}-last-item)${t}-first-item`]:{[`& ${r}, &${e}-sm ${r}, &${e}-lg ${r}`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`&-item:not(${t}-first-item)${t}-last-item`]:{[`& ${r}, &${e}-sm ${r}, &${e}-lg ${r}`]:{borderStartStartRadius:0,borderEndStartRadius:0}}}}function s6(e,t={focus:!0}){const{componentCls:n}=e,a=`${n}-compact`;return{[a]:Object.assign(Object.assign({},brt(e,a,t)),yrt(n,a,t))}}function wrt(e,t){return{[`&-item:not(${t}-last-item)`]:{marginBottom:e.calc(e.lineWidth).mul(-1).equal()},"&-item":{"&:hover,&:focus,&:active":{zIndex:2},"&[disabled]":{zIndex:0}}}}function jrt(e,t){return{[`&-item:not(${t}-first-item):not(${t}-last-item)`]:{borderRadius:0},[`&-item${t}-first-item:not(${t}-last-item)`]:{[`&, &${e}-sm, &${e}-lg`]:{borderEndEndRadius:0,borderEndStartRadius:0}},[`&-item${t}-last-item:not(${t}-first-item)`]:{[`&, &${e}-sm, &${e}-lg`]:{borderStartStartRadius:0,borderStartEndRadius:0}}}}function Crt(e){const t=`${e.componentCls}-compact-vertical`;return{[t]:Object.assign(Object.assign({},wrt(e,t)),jrt(e.componentCls,t))}}const Srt=e=>{const{componentCls:t,colorPrimaryHover:n,lineWidth:a,calc:r}=e,i=r(a).mul(-1).equal(),o=c=>{const l=`${t}-compact${c?"-vertical":""}-item${t}-primary:not([disabled])`;return{[`${l} + ${l}::before`]:{position:"absolute",top:c?i:0,insetInlineStart:c?0:i,backgroundColor:n,content:'""',width:c?"100%":a,height:c?a:"100%"}}};return Object.assign(Object.assign({},o()),o(!0))},Nrt=Qnt(["Button","compact"],e=>{const t=OP(e);return[s6(t),Crt(t),Srt(t)]},LP);var krt=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]]);return n};function Irt(e){if(typeof e=="object"&&e){let t=e==null?void 0:e.delay;return t=!Number.isNaN(t)&&typeof t=="number"?t:0,{loading:t<=0,delay:t}}return{loading:!!e,delay:0}}const Ert={default:["default","outlined"],primary:["primary","solid"],dashed:["default","dashed"],link:["link","link"],text:["default","text"]},Trt=nt.forwardRef((e,t)=>{var n,a;const{loading:r=!1,prefixCls:i,color:o,variant:c,type:l,danger:d=!1,shape:f="default",size:g,styles:b,disabled:w,className:C,rootClassName:S,children:k,icon:E,iconPosition:D="start",ghost:R=!1,block:P=!1,htmlType:B="button",classNames:O,style:$={},autoInsertSpace:U,autoFocus:F}=e,H=krt(e,["loading","prefixCls","color","variant","type","danger","shape","size","styles","disabled","className","rootClassName","children","icon","iconPosition","ghost","block","htmlType","classNames","style","autoInsertSpace","autoFocus"]),se=l||"default",{button:K}=nt.useContext(Io),[te,J]=_.useMemo(()=>{if(o&&c)return[o,c];if(l||d){const at=Ert[se]||[];return d?["danger",at[1]]:at}return K!=null&&K.color&&(K!=null&&K.variant)?[K.color,K.variant]:["default","outlined"]},[l,o,c,d,K==null?void 0:K.variant,K==null?void 0:K.color]),V=te==="danger"?"dangerous":te,{getPrefixCls:M,direction:ee,autoInsertSpace:Z,className:A,style:G,classNames:Q,styles:Y}=Z$("button"),ae=(n=U??Z)!==null&&n!==void 0?n:!0,ne=M("btn",i),[re,oe,me]=xrt(ne),Ce=_.useContext(Ym),Ne=w??Ce,Ee=_.useContext(TP),ve=_.useMemo(()=>Irt(r),[r]),[Se,fe]=_.useState(ve.loading),[de,pe]=_.useState(!1),ce=_.useRef(null),Re=Cy(t,ce),Ae=_.Children.count(k)===1&&!E&&!mC(J),ie=_.useRef(!0);nt.useEffect(()=>(ie.current=!1,()=>{ie.current=!0}),[]),_.useLayoutEffect(()=>{let at=null;ve.delay>0?at=setTimeout(()=>{at=null,fe(!0)},ve.delay):fe(ve.loading);function lt(){at&&(clearTimeout(at),at=null)}return lt},[ve.delay,ve.loading]),_.useEffect(()=>{if(!ce.current||!ae)return;const at=ce.current.textContent||"";Ae&&RN(at)?de||pe(!0):de&&pe(!1)}),_.useEffect(()=>{F&&ce.current&&ce.current.focus()},[]);const ge=nt.useCallback(at=>{var lt;if(Se||Ne){at.preventDefault();return}(lt=e.onClick)===null||lt===void 0||lt.call(e,("href"in e,at))},[e.onClick,Se,Ne]),{compactSize:be,compactItemClassnames:Fe}=t6(ne,ee),je={large:"lg",small:"sm",middle:void 0},qe=e6(at=>{var lt,Mt;return(Mt=(lt=g??be)!==null&&lt!==void 0?lt:Ee)!==null&&Mt!==void 0?Mt:at}),tt=qe&&(a=je[qe])!==null&&a!==void 0?a:"",he=Se?"loading":E,Ze=Z4(H,["navigate"]),Pe=zs(ne,oe,me,{[`${ne}-${f}`]:f!=="default"&&f,[`${ne}-${se}`]:se,[`${ne}-dangerous`]:d,[`${ne}-color-${V}`]:V,[`${ne}-variant-${J}`]:J,[`${ne}-${tt}`]:tt,[`${ne}-icon-only`]:!k&&k!==0&&!!he,[`${ne}-background-ghost`]:R&&!mC(J),[`${ne}-loading`]:Se,[`${ne}-two-chinese-chars`]:de&&ae&&!Se,[`${ne}-block`]:P,[`${ne}-rtl`]:ee==="rtl",[`${ne}-icon-end`]:D==="end"},Fe,C,S,A),bt=Object.assign(Object.assign({},G),$),Ge=zs(O==null?void 0:O.icon,Q.icon),ue=Object.assign(Object.assign({},(b==null?void 0:b.icon)||{}),Y.icon||{}),De=E&&!Se?nt.createElement(BN,{prefixCls:ne,className:Ge,style:ue},E):r&&typeof r=="object"&&r.icon?nt.createElement(BN,{prefixCls:ne,className:Ge,style:ue},r.icon):nt.createElement(Tat,{existIcon:!!E,prefixCls:ne,loading:Se,mount:ie.current}),xe=k||k===0?Eat(k,Ae&&ae):null;if(Ze.href!==void 0)return re(nt.createElement("a",Object.assign({},Ze,{className:zs(Pe,{[`${ne}-disabled`]:Ne}),href:Ne?void 0:Ze.href,style:bt,onClick:ge,ref:Re,tabIndex:Ne?-1:0}),De,xe));let Ye=nt.createElement("button",Object.assign({},H,{type:B,className:Pe,style:bt,onClick:ge,disabled:Ne,ref:Re}),De,xe,Fe&&nt.createElement(Nrt,{prefixCls:ne}));return mC(J)||(Ye=nt.createElement(Cat,{component:"Button",disabled:Se},Ye)),re(Ye)}),a6=Trt;a6.Group=kat;a6.__ANT_BUTTON=!0;var PP=_.createContext(null),E9=[];function Drt(e,t){var n=_.useState(function(){if(!lc())return null;var C=document.createElement("div");return C}),a=St(n,1),r=a[0],i=_.useRef(!1),o=_.useContext(PP),c=_.useState(E9),l=St(c,2),d=l[0],f=l[1],g=o||(i.current?void 0:function(C){f(function(S){var k=[C].concat(ps(S));return k})});function b(){r.parentElement||document.body.appendChild(r),i.current=!0}function w(){var C;(C=r.parentElement)===null||C===void 0||C.removeChild(r),i.current=!1}return Ur(function(){return e?o?o(b):b():w(),w},[e]),Ur(function(){d.length&&(d.forEach(function(C){return C()}),f(E9))},[d]),[r,g]}function Art(e){var t="rc-scrollbar-measure-".concat(Math.random().toString(36).substring(7)),n=document.createElement("div");n.id=t;var a=n.style;a.position="absolute",a.left="0",a.top="0",a.width="100px",a.height="100px",a.overflow="scroll";var r,i;if(e){var o=getComputedStyle(e);a.scrollbarColor=o.scrollbarColor,a.scrollbarWidth=o.scrollbarWidth;var c=getComputedStyle(e,"::-webkit-scrollbar"),l=parseInt(c.width,10),d=parseInt(c.height,10);try{var f=l?"width: ".concat(c.width,";"):"",g=d?"height: ".concat(c.height,";"):"";Su(`
#`.concat(t,`::-webkit-scrollbar {
`).concat(f,`
`).concat(g,`
}`),t)}catch(C){console.error(C),r=l,i=d}}document.body.appendChild(n);var b=e&&r&&!isNaN(r)?r:n.offsetWidth-n.clientWidth,w=e&&i&&!isNaN(i)?i:n.offsetHeight-n.clientHeight;return document.body.removeChild(n),Jg(t),{width:b,height:w}}function Mrt(e){return typeof document>"u"||!e||!(e instanceof Element)?{width:0,height:0}:Art(e)}function Rrt(){return document.body.scrollHeight>(window.innerHeight||document.documentElement.clientHeight)&&window.innerWidth>document.body.offsetWidth}var Brt="rc-util-locker-".concat(Date.now()),T9=0;function Ort(e){var t=!!e,n=_.useState(function(){return T9+=1,"".concat(Brt,"_").concat(T9)}),a=St(n,1),r=a[0];Ur(function(){if(t){var i=Mrt(document.body).width,o=Rrt();Su(`
html body {
  overflow-y: hidden;
  `.concat(o?"width: calc(100% - ".concat(i,"px);"):"",`
}`),r)}else Jg(r);return function(){Jg(r)}},[t,r])}var Lrt=!1;function $rt(e){return Lrt}var D9=function(t){return t===!1?!1:!lc()||!t?null:typeof t=="string"?document.querySelector(t):typeof t=="function"?t():t},FP=_.forwardRef(function(e,t){var n=e.open,a=e.autoLock,r=e.getContainer;e.debug;var i=e.autoDestroy,o=i===void 0?!0:i,c=e.children,l=_.useState(n),d=St(l,2),f=d[0],g=d[1],b=f||n;_.useEffect(function(){(o||n)&&g(n)},[n,o]);var w=_.useState(function(){return D9(r)}),C=St(w,2),S=C[0],k=C[1];_.useEffect(function(){var se=D9(r);k(se??null)});var E=Drt(b&&!S),D=St(E,2),R=D[0],P=D[1],B=S??R;Ort(a&&n&&lc()&&(B===R||B===document.body));var O=null;if(c&&D0(c)&&t){var $=c;O=$.ref}var U=Cy(O,t);if(!b||!lc()||S===void 0)return null;var F=B===!1||$rt(),H=c;return t&&(H=_.cloneElement(c,{ref:U})),_.createElement(PP.Provider,{value:P},F?H:tp.createPortal(H,B))});function Prt(){var e=vt({},Xm);return e.useId}var A9=0,M9=Prt();const Frt=M9?function(t){var n=M9();return t||n}:function(t){var n=_.useState("ssr-id"),a=St(n,2),r=a[0],i=a[1];return _.useEffect(function(){var o=A9;A9+=1,i("rc_unique_".concat(o))},[]),t||r};var kh="RC_FORM_INTERNAL_HOOKS",wr=function(){qo(!1,"Can not find FormContext. Please make sure you wrap Field under Form.")},Qm=_.createContext({getFieldValue:wr,getFieldsValue:wr,getFieldError:wr,getFieldWarning:wr,getFieldsError:wr,isFieldsTouched:wr,isFieldTouched:wr,isFieldValidating:wr,isFieldsValidating:wr,resetFields:wr,setFields:wr,setFieldValue:wr,setFieldsValue:wr,validateFields:wr,submit:wr,getInternalHooks:function(){return wr(),{dispatch:wr,initEntityValue:wr,registerField:wr,useSubscribe:wr,setInitialValues:wr,destroyForm:wr,setCallbacks:wr,registerWatch:wr,getFields:wr,setValidateMessages:wr,setPreserve:wr,getInitialValue:wr}}}),kb=_.createContext(null);function ON(e){return e==null?[]:Array.isArray(e)?e:[e]}function Hrt(e){return e&&!!e._init}function LN(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var t=JSON.parse(JSON.stringify(this));return t.clone=this.clone,t}}}var $N=LN();function qrt(e){try{return Function.toString.call(e).indexOf("[native code]")!==-1}catch{return typeof e=="function"}}function Vrt(e,t,n){if(O4())return Reflect.construct.apply(null,arguments);var a=[null];a.push.apply(a,t);var r=new(e.bind.apply(e,a));return n&&Xg(r,n.prototype),r}function PN(e){var t=typeof Map=="function"?new Map:void 0;return PN=function(a){if(a===null||!qrt(a))return a;if(typeof a!="function")throw new TypeError("Super expression must either be null or a function");if(t!==void 0){if(t.has(a))return t.get(a);t.set(a,r)}function r(){return Vrt(a,arguments,Kg(this).constructor)}return r.prototype=Object.create(a.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),Xg(r,a)},PN(e)}var zrt=/%[sdj%]/g,Urt=function(){};function FN(e){if(!e||!e.length)return null;var t={};return e.forEach(function(n){var a=n.field;t[a]=t[a]||[],t[a].push(n)}),t}function rc(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];var r=0,i=n.length;if(typeof e=="function")return e.apply(null,n);if(typeof e=="string"){var o=e.replace(zrt,function(c){if(c==="%%")return"%";if(r>=i)return c;switch(c){case"%s":return String(n[r++]);case"%d":return Number(n[r++]);case"%j":try{return JSON.stringify(n[r++])}catch{return"[Circular]"}break;default:return c}});return o}return e}function Wrt(e){return e==="string"||e==="url"||e==="hex"||e==="email"||e==="date"||e==="pattern"}function $i(e,t){return!!(e==null||t==="array"&&Array.isArray(e)&&!e.length||Wrt(t)&&typeof e=="string"&&!e)}function Yrt(e,t,n){var a=[],r=0,i=e.length;function o(c){a.push.apply(a,ps(c||[])),r++,r===i&&n(a)}e.forEach(function(c){t(c,o)})}function R9(e,t,n){var a=0,r=e.length;function i(o){if(o&&o.length){n(o);return}var c=a;a=a+1,c<r?t(e[c],i):n([])}i([])}function Grt(e){var t=[];return Object.keys(e).forEach(function(n){t.push.apply(t,ps(e[n]||[]))}),t}var B9=function(e){Pd(n,e);var t=Fd(n);function n(a,r){var i;return Pi(this,n),i=t.call(this,"Async Validation Error"),pt(wa(i),"errors",void 0),pt(wa(i),"fields",void 0),i.errors=a,i.fields=r,i}return Fi(n)}(PN(Error));function Qrt(e,t,n,a,r){if(t.first){var i=new Promise(function(b,w){var C=function(E){return a(E),E.length?w(new B9(E,FN(E))):b(r)},S=Grt(e);R9(S,n,C)});return i.catch(function(b){return b}),i}var o=t.firstFields===!0?Object.keys(e):t.firstFields||[],c=Object.keys(e),l=c.length,d=0,f=[],g=new Promise(function(b,w){var C=function(k){if(f.push.apply(f,k),d++,d===l)return a(f),f.length?w(new B9(f,FN(f))):b(r)};c.length||(a(f),b(r)),c.forEach(function(S){var k=e[S];o.indexOf(S)!==-1?R9(k,n,C):Yrt(k,n,C)})});return g.catch(function(b){return b}),g}function Xrt(e){return!!(e&&e.message!==void 0)}function Krt(e,t){for(var n=e,a=0;a<t.length;a++){if(n==null)return n;n=n[t[a]]}return n}function O9(e,t){return function(n){var a;return e.fullFields?a=Krt(t,e.fullFields):a=t[n.field||e.fullField],Xrt(n)?(n.field=n.field||e.fullField,n.fieldValue=a,n):{message:typeof n=="function"?n():n,fieldValue:a,field:n.field||e.fullField}}}function L9(e,t){if(t){for(var n in t)if(t.hasOwnProperty(n)){var a=t[n];Ls(a)==="object"&&Ls(e[n])==="object"?e[n]=vt(vt({},e[n]),a):e[n]=a}}return e}var Xf="enum",Zrt=function(t,n,a,r,i){t[Xf]=Array.isArray(t[Xf])?t[Xf]:[],t[Xf].indexOf(n)===-1&&r.push(rc(i.messages[Xf],t.fullField,t[Xf].join(", ")))},Jrt=function(t,n,a,r,i){if(t.pattern){if(t.pattern instanceof RegExp)t.pattern.lastIndex=0,t.pattern.test(n)||r.push(rc(i.messages.pattern.mismatch,t.fullField,n,t.pattern));else if(typeof t.pattern=="string"){var o=new RegExp(t.pattern);o.test(n)||r.push(rc(i.messages.pattern.mismatch,t.fullField,n,t.pattern))}}},eit=function(t,n,a,r,i){var o=typeof t.len=="number",c=typeof t.min=="number",l=typeof t.max=="number",d=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,f=n,g=null,b=typeof n=="number",w=typeof n=="string",C=Array.isArray(n);if(b?g="number":w?g="string":C&&(g="array"),!g)return!1;C&&(f=n.length),w&&(f=n.replace(d,"_").length),o?f!==t.len&&r.push(rc(i.messages[g].len,t.fullField,t.len)):c&&!l&&f<t.min?r.push(rc(i.messages[g].min,t.fullField,t.min)):l&&!c&&f>t.max?r.push(rc(i.messages[g].max,t.fullField,t.max)):c&&l&&(f<t.min||f>t.max)&&r.push(rc(i.messages[g].range,t.fullField,t.min,t.max))},HP=function(t,n,a,r,i,o){t.required&&(!a.hasOwnProperty(t.field)||$i(n,o||t.type))&&r.push(rc(i.messages.required,t.fullField))},Sv;const tit=function(){if(Sv)return Sv;var e="[a-fA-F\\d:]",t=function(O){return O&&O.includeBoundaries?"(?:(?<=\\s|^)(?=".concat(e,")|(?<=").concat(e,")(?=\\s|$))"):""},n="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",a="[a-fA-F\\d]{1,4}",r=["(?:".concat(a,":){7}(?:").concat(a,"|:)"),"(?:".concat(a,":){6}(?:").concat(n,"|:").concat(a,"|:)"),"(?:".concat(a,":){5}(?::").concat(n,"|(?::").concat(a,"){1,2}|:)"),"(?:".concat(a,":){4}(?:(?::").concat(a,"){0,1}:").concat(n,"|(?::").concat(a,"){1,3}|:)"),"(?:".concat(a,":){3}(?:(?::").concat(a,"){0,2}:").concat(n,"|(?::").concat(a,"){1,4}|:)"),"(?:".concat(a,":){2}(?:(?::").concat(a,"){0,3}:").concat(n,"|(?::").concat(a,"){1,5}|:)"),"(?:".concat(a,":){1}(?:(?::").concat(a,"){0,4}:").concat(n,"|(?::").concat(a,"){1,6}|:)"),"(?::(?:(?::".concat(a,"){0,5}:").concat(n,"|(?::").concat(a,"){1,7}|:))")],i="(?:%[0-9a-zA-Z]{1,})?",o="(?:".concat(r.join("|"),")").concat(i),c=new RegExp("(?:^".concat(n,"$)|(?:^").concat(o,"$)")),l=new RegExp("^".concat(n,"$")),d=new RegExp("^".concat(o,"$")),f=function(O){return O&&O.exact?c:new RegExp("(?:".concat(t(O)).concat(n).concat(t(O),")|(?:").concat(t(O)).concat(o).concat(t(O),")"),"g")};f.v4=function(B){return B&&B.exact?l:new RegExp("".concat(t(B)).concat(n).concat(t(B)),"g")},f.v6=function(B){return B&&B.exact?d:new RegExp("".concat(t(B)).concat(o).concat(t(B)),"g")};var g="(?:(?:[a-z]+:)?//)",b="(?:\\S+(?::\\S*)?@)?",w=f.v4().source,C=f.v6().source,S="(?:(?:[a-z\\u00a1-\\uffff0-9][-_]*)*[a-z\\u00a1-\\uffff0-9]+)",k="(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*",E="(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))",D="(?::\\d{2,5})?",R='(?:[/?#][^\\s"]*)?',P="(?:".concat(g,"|www\\.)").concat(b,"(?:localhost|").concat(w,"|").concat(C,"|").concat(S).concat(k).concat(E,")").concat(D).concat(R);return Sv=new RegExp("(?:^".concat(P,"$)"),"i"),Sv};var $9={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i},ng={integer:function(t){return ng.number(t)&&parseInt(t,10)===t},float:function(t){return ng.number(t)&&!ng.integer(t)},array:function(t){return Array.isArray(t)},regexp:function(t){if(t instanceof RegExp)return!0;try{return!!new RegExp(t)}catch{return!1}},date:function(t){return typeof t.getTime=="function"&&typeof t.getMonth=="function"&&typeof t.getYear=="function"&&!isNaN(t.getTime())},number:function(t){return isNaN(t)?!1:typeof t=="number"},object:function(t){return Ls(t)==="object"&&!ng.array(t)},method:function(t){return typeof t=="function"},email:function(t){return typeof t=="string"&&t.length<=320&&!!t.match($9.email)},url:function(t){return typeof t=="string"&&t.length<=2048&&!!t.match(tit())},hex:function(t){return typeof t=="string"&&!!t.match($9.hex)}},nit=function(t,n,a,r,i){if(t.required&&n===void 0){HP(t,n,a,r,i);return}var o=["integer","float","array","regexp","object","method","email","number","date","url","hex"],c=t.type;o.indexOf(c)>-1?ng[c](n)||r.push(rc(i.messages.types[c],t.fullField,t.type)):c&&Ls(n)!==t.type&&r.push(rc(i.messages.types[c],t.fullField,t.type))},sit=function(t,n,a,r,i){(/^\s+$/.test(n)||n==="")&&r.push(rc(i.messages.whitespace,t.fullField))};const Ha={required:HP,whitespace:sit,type:nit,range:eit,enum:Zrt,pattern:Jrt};var ait=function(t,n,a,r,i){var o=[],c=t.required||!t.required&&r.hasOwnProperty(t.field);if(c){if($i(n)&&!t.required)return a();Ha.required(t,n,r,o,i)}a(o)},rit=function(t,n,a,r,i){var o=[],c=t.required||!t.required&&r.hasOwnProperty(t.field);if(c){if(n==null&&!t.required)return a();Ha.required(t,n,r,o,i,"array"),n!=null&&(Ha.type(t,n,r,o,i),Ha.range(t,n,r,o,i))}a(o)},iit=function(t,n,a,r,i){var o=[],c=t.required||!t.required&&r.hasOwnProperty(t.field);if(c){if($i(n)&&!t.required)return a();Ha.required(t,n,r,o,i),n!==void 0&&Ha.type(t,n,r,o,i)}a(o)},oit=function(t,n,a,r,i){var o=[],c=t.required||!t.required&&r.hasOwnProperty(t.field);if(c){if($i(n,"date")&&!t.required)return a();if(Ha.required(t,n,r,o,i),!$i(n,"date")){var l;n instanceof Date?l=n:l=new Date(n),Ha.type(t,l,r,o,i),l&&Ha.range(t,l.getTime(),r,o,i)}}a(o)},cit="enum",lit=function(t,n,a,r,i){var o=[],c=t.required||!t.required&&r.hasOwnProperty(t.field);if(c){if($i(n)&&!t.required)return a();Ha.required(t,n,r,o,i),n!==void 0&&Ha[cit](t,n,r,o,i)}a(o)},uit=function(t,n,a,r,i){var o=[],c=t.required||!t.required&&r.hasOwnProperty(t.field);if(c){if($i(n)&&!t.required)return a();Ha.required(t,n,r,o,i),n!==void 0&&(Ha.type(t,n,r,o,i),Ha.range(t,n,r,o,i))}a(o)},dit=function(t,n,a,r,i){var o=[],c=t.required||!t.required&&r.hasOwnProperty(t.field);if(c){if($i(n)&&!t.required)return a();Ha.required(t,n,r,o,i),n!==void 0&&(Ha.type(t,n,r,o,i),Ha.range(t,n,r,o,i))}a(o)},hit=function(t,n,a,r,i){var o=[],c=t.required||!t.required&&r.hasOwnProperty(t.field);if(c){if($i(n)&&!t.required)return a();Ha.required(t,n,r,o,i),n!==void 0&&Ha.type(t,n,r,o,i)}a(o)},fit=function(t,n,a,r,i){var o=[],c=t.required||!t.required&&r.hasOwnProperty(t.field);if(c){if(n===""&&(n=void 0),$i(n)&&!t.required)return a();Ha.required(t,n,r,o,i),n!==void 0&&(Ha.type(t,n,r,o,i),Ha.range(t,n,r,o,i))}a(o)},mit=function(t,n,a,r,i){var o=[],c=t.required||!t.required&&r.hasOwnProperty(t.field);if(c){if($i(n)&&!t.required)return a();Ha.required(t,n,r,o,i),n!==void 0&&Ha.type(t,n,r,o,i)}a(o)},pit=function(t,n,a,r,i){var o=[],c=t.required||!t.required&&r.hasOwnProperty(t.field);if(c){if($i(n,"string")&&!t.required)return a();Ha.required(t,n,r,o,i),$i(n,"string")||Ha.pattern(t,n,r,o,i)}a(o)},git=function(t,n,a,r,i){var o=[],c=t.required||!t.required&&r.hasOwnProperty(t.field);if(c){if($i(n)&&!t.required)return a();Ha.required(t,n,r,o,i),$i(n)||Ha.type(t,n,r,o,i)}a(o)},_it=function(t,n,a,r,i){var o=[],c=Array.isArray(n)?"array":Ls(n);Ha.required(t,n,r,o,i,c),a(o)},vit=function(t,n,a,r,i){var o=[],c=t.required||!t.required&&r.hasOwnProperty(t.field);if(c){if($i(n,"string")&&!t.required)return a();Ha.required(t,n,r,o,i,"string"),$i(n,"string")||(Ha.type(t,n,r,o,i),Ha.range(t,n,r,o,i),Ha.pattern(t,n,r,o,i),t.whitespace===!0&&Ha.whitespace(t,n,r,o,i))}a(o)},vC=function(t,n,a,r,i){var o=t.type,c=[],l=t.required||!t.required&&r.hasOwnProperty(t.field);if(l){if($i(n,o)&&!t.required)return a();Ha.required(t,n,r,c,i,o),$i(n,o)||Ha.type(t,n,r,c,i)}a(c)};const jg={string:vit,method:hit,number:fit,boolean:iit,regexp:git,integer:dit,float:uit,array:rit,object:mit,enum:lit,pattern:pit,date:oit,url:vC,hex:vC,email:vC,required:_it,any:ait};var B0=function(){function e(t){Pi(this,e),pt(this,"rules",null),pt(this,"_messages",$N),this.define(t)}return Fi(e,[{key:"define",value:function(n){var a=this;if(!n)throw new Error("Cannot configure a schema with no rules");if(Ls(n)!=="object"||Array.isArray(n))throw new Error("Rules must be an object");this.rules={},Object.keys(n).forEach(function(r){var i=n[r];a.rules[r]=Array.isArray(i)?i:[i]})}},{key:"messages",value:function(n){return n&&(this._messages=L9(LN(),n)),this._messages}},{key:"validate",value:function(n){var a=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(){},o=n,c=r,l=i;if(typeof c=="function"&&(l=c,c={}),!this.rules||Object.keys(this.rules).length===0)return l&&l(null,o),Promise.resolve(o);function d(C){var S=[],k={};function E(R){if(Array.isArray(R)){var P;S=(P=S).concat.apply(P,ps(R))}else S.push(R)}for(var D=0;D<C.length;D++)E(C[D]);S.length?(k=FN(S),l(S,k)):l(null,o)}if(c.messages){var f=this.messages();f===$N&&(f=LN()),L9(f,c.messages),c.messages=f}else c.messages=this.messages();var g={},b=c.keys||Object.keys(this.rules);b.forEach(function(C){var S=a.rules[C],k=o[C];S.forEach(function(E){var D=E;typeof D.transform=="function"&&(o===n&&(o=vt({},o)),k=o[C]=D.transform(k),k!=null&&(D.type=D.type||(Array.isArray(k)?"array":Ls(k)))),typeof D=="function"?D={validator:D}:D=vt({},D),D.validator=a.getValidationMethod(D),D.validator&&(D.field=C,D.fullField=D.fullField||C,D.type=a.getType(D),g[C]=g[C]||[],g[C].push({rule:D,value:k,source:o,field:C}))})});var w={};return Qrt(g,c,function(C,S){var k=C.rule,E=(k.type==="object"||k.type==="array")&&(Ls(k.fields)==="object"||Ls(k.defaultField)==="object");E=E&&(k.required||!k.required&&C.value),k.field=C.field;function D($,U){return vt(vt({},U),{},{fullField:"".concat(k.fullField,".").concat($),fullFields:k.fullFields?[].concat(ps(k.fullFields),[$]):[$]})}function R(){var $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],U=Array.isArray($)?$:[$];!c.suppressWarning&&U.length&&e.warning("async-validator:",U),U.length&&k.message!==void 0&&(U=[].concat(k.message));var F=U.map(O9(k,o));if(c.first&&F.length)return w[k.field]=1,S(F);if(!E)S(F);else{if(k.required&&!C.value)return k.message!==void 0?F=[].concat(k.message).map(O9(k,o)):c.error&&(F=[c.error(k,rc(c.messages.required,k.field))]),S(F);var H={};k.defaultField&&Object.keys(C.value).map(function(te){H[te]=k.defaultField}),H=vt(vt({},H),C.rule.fields);var se={};Object.keys(H).forEach(function(te){var J=H[te],z=Array.isArray(J)?J:[J];se[te]=z.map(D.bind(null,te))});var K=new e(se);K.messages(c.messages),C.rule.options&&(C.rule.options.messages=c.messages,C.rule.options.error=c.error),K.validate(C.value,C.rule.options||c,function(te){var J=[];F&&F.length&&J.push.apply(J,ps(F)),te&&te.length&&J.push.apply(J,ps(te)),S(J.length?J:null)})}}var P;if(k.asyncValidator)P=k.asyncValidator(k,C.value,R,C.source,c);else if(k.validator){try{P=k.validator(k,C.value,R,C.source,c)}catch($){var B,O;(B=(O=console).error)===null||B===void 0||B.call(O,$),c.suppressValidatorError||setTimeout(function(){throw $},0),R($.message)}P===!0?R():P===!1?R(typeof k.message=="function"?k.message(k.fullField||k.field):k.message||"".concat(k.fullField||k.field," fails")):P instanceof Array?R(P):P instanceof Error&&R(P.message)}P&&P.then&&P.then(function(){return R()},function($){return R($)})},function(C){d(C)},o)}},{key:"getType",value:function(n){if(n.type===void 0&&n.pattern instanceof RegExp&&(n.type="pattern"),typeof n.validator!="function"&&n.type&&!jg.hasOwnProperty(n.type))throw new Error(rc("Unknown rule type %s",n.type));return n.type||"string"}},{key:"getValidationMethod",value:function(n){if(typeof n.validator=="function")return n.validator;var a=Object.keys(n),r=a.indexOf("message");return r!==-1&&a.splice(r,1),a.length===1&&a[0]==="required"?jg.required:jg[this.getType(n)]||void 0}}]),e}();pt(B0,"register",function(t,n){if(typeof n!="function")throw new Error("Cannot register a validator by type, validator is not a function");jg[t]=n});pt(B0,"warning",Urt);pt(B0,"messages",$N);pt(B0,"validators",jg);var Jo="'${name}' is not a valid ${type}",qP={default:"Validation error on field '${name}'",required:"'${name}' is required",enum:"'${name}' must be one of [${enum}]",whitespace:"'${name}' cannot be empty",date:{format:"'${name}' is invalid for format date",parse:"'${name}' could not be parsed as date",invalid:"'${name}' is invalid date"},types:{string:Jo,method:Jo,array:Jo,object:Jo,number:Jo,date:Jo,boolean:Jo,integer:Jo,float:Jo,regexp:Jo,email:Jo,url:Jo,hex:Jo},string:{len:"'${name}' must be exactly ${len} characters",min:"'${name}' must be at least ${min} characters",max:"'${name}' cannot be longer than ${max} characters",range:"'${name}' must be between ${min} and ${max} characters"},number:{len:"'${name}' must equal ${len}",min:"'${name}' cannot be less than ${min}",max:"'${name}' cannot be greater than ${max}",range:"'${name}' must be between ${min} and ${max}"},array:{len:"'${name}' must be exactly ${len} in length",min:"'${name}' cannot be less than ${min} in length",max:"'${name}' cannot be greater than ${max} in length",range:"'${name}' must be between ${min} and ${max} in length"},pattern:{mismatch:"'${name}' does not match pattern ${pattern}"}},P9=B0;function xit(e,t){return e.replace(/\\?\$\{\w+\}/g,function(n){if(n.startsWith("\\"))return n.slice(1);var a=n.slice(2,-1);return t[a]})}var F9="CODE_LOGIC_ERROR";function HN(e,t,n,a,r){return qN.apply(this,arguments)}function qN(){return qN=of(xo().mark(function e(t,n,a,r,i){var o,c,l,d,f,g,b,w,C;return xo().wrap(function(k){for(;;)switch(k.prev=k.next){case 0:return o=vt({},a),delete o.ruleIndex,P9.warning=function(){},o.validator&&(c=o.validator,o.validator=function(){try{return c.apply(void 0,arguments)}catch(E){return console.error(E),Promise.reject(F9)}}),l=null,o&&o.type==="array"&&o.defaultField&&(l=o.defaultField,delete o.defaultField),d=new P9(pt({},t,[o])),f=um(qP,r.validateMessages),d.messages(f),g=[],k.prev=10,k.next=13,Promise.resolve(d.validate(pt({},t,n),vt({},r)));case 13:k.next=18;break;case 15:k.prev=15,k.t0=k.catch(10),k.t0.errors&&(g=k.t0.errors.map(function(E,D){var R=E.message,P=R===F9?f.default:R;return _.isValidElement(P)?_.cloneElement(P,{key:"error_".concat(D)}):P}));case 18:if(!(!g.length&&l)){k.next=23;break}return k.next=21,Promise.all(n.map(function(E,D){return HN("".concat(t,".").concat(D),E,l,r,i)}));case 21:return b=k.sent,k.abrupt("return",b.reduce(function(E,D){return[].concat(ps(E),ps(D))},[]));case 23:return w=vt(vt({},a),{},{name:t,enum:(a.enum||[]).join(", ")},i),C=g.map(function(E){return typeof E=="string"?xit(E,w):E}),k.abrupt("return",C);case 26:case"end":return k.stop()}},e,null,[[10,15]])})),qN.apply(this,arguments)}function bit(e,t,n,a,r,i){var o=e.join("."),c=n.map(function(f,g){var b=f.validator,w=vt(vt({},f),{},{ruleIndex:g});return b&&(w.validator=function(C,S,k){var E=!1,D=function(){for(var B=arguments.length,O=new Array(B),$=0;$<B;$++)O[$]=arguments[$];Promise.resolve().then(function(){qo(!E,"Your validator function has already return a promise. `callback` will be ignored."),E||k.apply(void 0,O)})},R=b(C,S,D);E=R&&typeof R.then=="function"&&typeof R.catch=="function",qo(E,"`callback` is deprecated. Please return a promise instead."),E&&R.then(function(){k()}).catch(function(P){k(P||" ")})}),w}).sort(function(f,g){var b=f.warningOnly,w=f.ruleIndex,C=g.warningOnly,S=g.ruleIndex;return!!b==!!C?w-S:b?1:-1}),l;if(r===!0)l=new Promise(function(){var f=of(xo().mark(function g(b,w){var C,S,k;return xo().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:C=0;case 1:if(!(C<c.length)){D.next=12;break}return S=c[C],D.next=5,HN(o,t,S,a,i);case 5:if(k=D.sent,!k.length){D.next=9;break}return w([{errors:k,rule:S}]),D.abrupt("return");case 9:C+=1,D.next=1;break;case 12:b([]);case 13:case"end":return D.stop()}},g)}));return function(g,b){return f.apply(this,arguments)}}());else{var d=c.map(function(f){return HN(o,t,f,a,i).then(function(g){return{errors:g,rule:f}})});l=(r?wit(d):yit(d)).then(function(f){return Promise.reject(f)})}return l.catch(function(f){return f}),l}function yit(e){return VN.apply(this,arguments)}function VN(){return VN=of(xo().mark(function e(t){return xo().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",Promise.all(t).then(function(r){var i,o=(i=[]).concat.apply(i,ps(r));return o}));case 1:case"end":return a.stop()}},e)})),VN.apply(this,arguments)}function wit(e){return zN.apply(this,arguments)}function zN(){return zN=of(xo().mark(function e(t){var n;return xo().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return n=0,r.abrupt("return",new Promise(function(i){t.forEach(function(o){o.then(function(c){c.errors.length&&i([c]),n+=1,n===t.length&&i([])})})}));case 2:case"end":return r.stop()}},e)})),zN.apply(this,arguments)}function _i(e){return ON(e)}function H9(e,t){var n={};return t.forEach(function(a){var r=Dl(e,a);n=Wc(n,a,r)}),n}function wm(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return e&&e.some(function(a){return VP(t,a,n)})}function VP(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return!e||!t||!n&&e.length!==t.length?!1:t.every(function(a,r){return e[r]===a})}function jit(e,t){if(e===t)return!0;if(!e&&t||e&&!t||!e||!t||Ls(e)!=="object"||Ls(t)!=="object")return!1;var n=Object.keys(e),a=Object.keys(t),r=new Set([].concat(n,a));return ps(r).every(function(i){var o=e[i],c=t[i];return typeof o=="function"&&typeof c=="function"?!0:o===c})}function Cit(e){var t=arguments.length<=1?void 0:arguments[1];return t&&t.target&&Ls(t.target)==="object"&&e in t.target?t.target[e]:t}function q9(e,t,n){var a=e.length;if(t<0||t>=a||n<0||n>=a)return e;var r=e[t],i=t-n;return i>0?[].concat(ps(e.slice(0,n)),[r],ps(e.slice(n,t)),ps(e.slice(t+1,a))):i<0?[].concat(ps(e.slice(0,t)),ps(e.slice(t+1,n+1)),[r],ps(e.slice(n+1,a))):e}var Sit=["name"],Nc=[];function xC(e,t,n,a,r,i){return typeof e=="function"?e(t,n,"source"in i?{source:i.source}:{}):a!==r}var r6=function(e){Pd(n,e);var t=Fd(n);function n(a){var r;if(Pi(this,n),r=t.call(this,a),pt(wa(r),"state",{resetCount:0}),pt(wa(r),"cancelRegisterFunc",null),pt(wa(r),"mounted",!1),pt(wa(r),"touched",!1),pt(wa(r),"dirty",!1),pt(wa(r),"validatePromise",void 0),pt(wa(r),"prevValidating",void 0),pt(wa(r),"errors",Nc),pt(wa(r),"warnings",Nc),pt(wa(r),"cancelRegister",function(){var l=r.props,d=l.preserve,f=l.isListField,g=l.name;r.cancelRegisterFunc&&r.cancelRegisterFunc(f,d,_i(g)),r.cancelRegisterFunc=null}),pt(wa(r),"getNamePath",function(){var l=r.props,d=l.name,f=l.fieldContext,g=f.prefixName,b=g===void 0?[]:g;return d!==void 0?[].concat(ps(b),ps(d)):[]}),pt(wa(r),"getRules",function(){var l=r.props,d=l.rules,f=d===void 0?[]:d,g=l.fieldContext;return f.map(function(b){return typeof b=="function"?b(g):b})}),pt(wa(r),"refresh",function(){r.mounted&&r.setState(function(l){var d=l.resetCount;return{resetCount:d+1}})}),pt(wa(r),"metaCache",null),pt(wa(r),"triggerMetaEvent",function(l){var d=r.props.onMetaChange;if(d){var f=vt(vt({},r.getMeta()),{},{destroy:l});rN(r.metaCache,f)||d(f),r.metaCache=f}else r.metaCache=null}),pt(wa(r),"onStoreChange",function(l,d,f){var g=r.props,b=g.shouldUpdate,w=g.dependencies,C=w===void 0?[]:w,S=g.onReset,k=f.store,E=r.getNamePath(),D=r.getValue(l),R=r.getValue(k),P=d&&wm(d,E);switch(f.type==="valueUpdate"&&f.source==="external"&&!rN(D,R)&&(r.touched=!0,r.dirty=!0,r.validatePromise=null,r.errors=Nc,r.warnings=Nc,r.triggerMetaEvent()),f.type){case"reset":if(!d||P){r.touched=!1,r.dirty=!1,r.validatePromise=void 0,r.errors=Nc,r.warnings=Nc,r.triggerMetaEvent(),S==null||S(),r.refresh();return}break;case"remove":{if(b&&xC(b,l,k,D,R,f)){r.reRender();return}break}case"setField":{var B=f.data;if(P){"touched"in B&&(r.touched=B.touched),"validating"in B&&!("originRCField"in B)&&(r.validatePromise=B.validating?Promise.resolve([]):null),"errors"in B&&(r.errors=B.errors||Nc),"warnings"in B&&(r.warnings=B.warnings||Nc),r.dirty=!0,r.triggerMetaEvent(),r.reRender();return}else if("value"in B&&wm(d,E,!0)){r.reRender();return}if(b&&!E.length&&xC(b,l,k,D,R,f)){r.reRender();return}break}case"dependenciesUpdate":{var O=C.map(_i);if(O.some(function($){return wm(f.relatedFields,$)})){r.reRender();return}break}default:if(P||(!C.length||E.length||b)&&xC(b,l,k,D,R,f)){r.reRender();return}break}b===!0&&r.reRender()}),pt(wa(r),"validateRules",function(l){var d=r.getNamePath(),f=r.getValue(),g=l||{},b=g.triggerName,w=g.validateOnly,C=w===void 0?!1:w,S=Promise.resolve().then(of(xo().mark(function k(){var E,D,R,P,B,O,$;return xo().wrap(function(F){for(;;)switch(F.prev=F.next){case 0:if(r.mounted){F.next=2;break}return F.abrupt("return",[]);case 2:if(E=r.props,D=E.validateFirst,R=D===void 0?!1:D,P=E.messageVariables,B=E.validateDebounce,O=r.getRules(),b&&(O=O.filter(function(H){return H}).filter(function(H){var se=H.validateTrigger;if(!se)return!0;var K=ON(se);return K.includes(b)})),!(B&&b)){F.next=10;break}return F.next=8,new Promise(function(H){setTimeout(H,B)});case 8:if(r.validatePromise===S){F.next=10;break}return F.abrupt("return",[]);case 10:return $=bit(d,f,O,l,R,P),$.catch(function(H){return H}).then(function(){var H=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Nc;if(r.validatePromise===S){var se;r.validatePromise=null;var K=[],te=[];(se=H.forEach)===null||se===void 0||se.call(H,function(J){var z=J.rule.warningOnly,V=J.errors,M=V===void 0?Nc:V;z?te.push.apply(te,ps(M)):K.push.apply(K,ps(M))}),r.errors=K,r.warnings=te,r.triggerMetaEvent(),r.reRender()}}),F.abrupt("return",$);case 13:case"end":return F.stop()}},k)})));return C||(r.validatePromise=S,r.dirty=!0,r.errors=Nc,r.warnings=Nc,r.triggerMetaEvent(),r.reRender()),S}),pt(wa(r),"isFieldValidating",function(){return!!r.validatePromise}),pt(wa(r),"isFieldTouched",function(){return r.touched}),pt(wa(r),"isFieldDirty",function(){if(r.dirty||r.props.initialValue!==void 0)return!0;var l=r.props.fieldContext,d=l.getInternalHooks(kh),f=d.getInitialValue;return f(r.getNamePath())!==void 0}),pt(wa(r),"getErrors",function(){return r.errors}),pt(wa(r),"getWarnings",function(){return r.warnings}),pt(wa(r),"isListField",function(){return r.props.isListField}),pt(wa(r),"isList",function(){return r.props.isList}),pt(wa(r),"isPreserve",function(){return r.props.preserve}),pt(wa(r),"getMeta",function(){r.prevValidating=r.isFieldValidating();var l={touched:r.isFieldTouched(),validating:r.prevValidating,errors:r.errors,warnings:r.warnings,name:r.getNamePath(),validated:r.validatePromise===null};return l}),pt(wa(r),"getOnlyChild",function(l){if(typeof l=="function"){var d=r.getMeta();return vt(vt({},r.getOnlyChild(l(r.getControlled(),d,r.props.fieldContext))),{},{isFunction:!0})}var f=vb(l);return f.length!==1||!_.isValidElement(f[0])?{child:f,isFunction:!1}:{child:f[0],isFunction:!1}}),pt(wa(r),"getValue",function(l){var d=r.props.fieldContext.getFieldsValue,f=r.getNamePath();return Dl(l||d(!0),f)}),pt(wa(r),"getControlled",function(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},d=r.props,f=d.name,g=d.trigger,b=d.validateTrigger,w=d.getValueFromEvent,C=d.normalize,S=d.valuePropName,k=d.getValueProps,E=d.fieldContext,D=b!==void 0?b:E.validateTrigger,R=r.getNamePath(),P=E.getInternalHooks,B=E.getFieldsValue,O=P(kh),$=O.dispatch,U=r.getValue(),F=k||function(J){return pt({},S,J)},H=l[g],se=f!==void 0?F(U):{},K=vt(vt({},l),se);K[g]=function(){r.touched=!0,r.dirty=!0,r.triggerMetaEvent();for(var J,z=arguments.length,V=new Array(z),M=0;M<z;M++)V[M]=arguments[M];w?J=w.apply(void 0,V):J=Cit.apply(void 0,[S].concat(V)),C&&(J=C(J,U,B(!0))),J!==U&&$({type:"updateValue",namePath:R,value:J}),H&&H.apply(void 0,V)};var te=ON(D||[]);return te.forEach(function(J){var z=K[J];K[J]=function(){z&&z.apply(void 0,arguments);var V=r.props.rules;V&&V.length&&$({type:"validateField",namePath:R,triggerName:J})}}),K}),a.fieldContext){var i=a.fieldContext.getInternalHooks,o=i(kh),c=o.initEntityValue;c(wa(r))}return r}return Fi(n,[{key:"componentDidMount",value:function(){var r=this.props,i=r.shouldUpdate,o=r.fieldContext;if(this.mounted=!0,o){var c=o.getInternalHooks,l=c(kh),d=l.registerField;this.cancelRegisterFunc=d(this)}i===!0&&this.reRender()}},{key:"componentWillUnmount",value:function(){this.cancelRegister(),this.triggerMetaEvent(!0),this.mounted=!1}},{key:"reRender",value:function(){this.mounted&&this.forceUpdate()}},{key:"render",value:function(){var r=this.state.resetCount,i=this.props.children,o=this.getOnlyChild(i),c=o.child,l=o.isFunction,d;return l?d=c:_.isValidElement(c)?d=_.cloneElement(c,this.getControlled(c.props)):(qo(!c,"`children` of Field is not validate ReactElement."),d=c),_.createElement(_.Fragment,{key:r},d)}}]),n}(_.Component);pt(r6,"contextType",Qm);pt(r6,"defaultProps",{trigger:"onChange",valuePropName:"value"});function zP(e){var t,n=e.name,a=di(e,Sit),r=_.useContext(Qm),i=_.useContext(kb),o=n!==void 0?_i(n):void 0,c=(t=a.isListField)!==null&&t!==void 0?t:!!i,l="keep";return c||(l="_".concat((o||[]).join("_"))),_.createElement(r6,Es({key:l,name:o,isListField:c},a,{fieldContext:r}))}function Nit(e){var t=e.name,n=e.initialValue,a=e.children,r=e.rules,i=e.validateTrigger,o=e.isListField,c=_.useContext(Qm),l=_.useContext(kb),d=_.useRef({keys:[],id:0}),f=d.current,g=_.useMemo(function(){var S=_i(c.prefixName)||[];return[].concat(ps(S),ps(_i(t)))},[c.prefixName,t]),b=_.useMemo(function(){return vt(vt({},c),{},{prefixName:g})},[c,g]),w=_.useMemo(function(){return{getKey:function(k){var E=g.length,D=k[E];return[f.keys[D],k.slice(E+1)]}}},[g]);if(typeof a!="function")return qo(!1,"Form.List only accepts function as children."),null;var C=function(k,E,D){var R=D.source;return R==="internal"?!1:k!==E};return _.createElement(kb.Provider,{value:w},_.createElement(Qm.Provider,{value:b},_.createElement(zP,{name:[],shouldUpdate:C,rules:r,validateTrigger:i,initialValue:n,isList:!0,isListField:o??!!l},function(S,k){var E=S.value,D=E===void 0?[]:E,R=S.onChange,P=c.getFieldValue,B=function(){var F=P(g||[]);return F||[]},O={add:function(F,H){var se=B();H>=0&&H<=se.length?(f.keys=[].concat(ps(f.keys.slice(0,H)),[f.id],ps(f.keys.slice(H))),R([].concat(ps(se.slice(0,H)),[F],ps(se.slice(H))))):(f.keys=[].concat(ps(f.keys),[f.id]),R([].concat(ps(se),[F]))),f.id+=1},remove:function(F){var H=B(),se=new Set(Array.isArray(F)?F:[F]);se.size<=0||(f.keys=f.keys.filter(function(K,te){return!se.has(te)}),R(H.filter(function(K,te){return!se.has(te)})))},move:function(F,H){if(F!==H){var se=B();F<0||F>=se.length||H<0||H>=se.length||(f.keys=q9(f.keys,F,H),R(q9(se,F,H)))}}},$=D||[];return Array.isArray($)||($=[]),a($.map(function(U,F){var H=f.keys[F];return H===void 0&&(f.keys[F]=f.id,H=f.keys[F],f.id+=1),{name:F,key:H,isListField:!0}}),O,k)})))}function kit(e){var t=!1,n=e.length,a=[];return e.length?new Promise(function(r,i){e.forEach(function(o,c){o.catch(function(l){return t=!0,l}).then(function(l){n-=1,a[c]=l,!(n>0)&&(t&&i(a),r(a))})})}):Promise.resolve([])}var UP="__@field_split__";function bC(e){return e.map(function(t){return"".concat(Ls(t),":").concat(t)}).join(UP)}var Kf=function(){function e(){Pi(this,e),pt(this,"kvs",new Map)}return Fi(e,[{key:"set",value:function(n,a){this.kvs.set(bC(n),a)}},{key:"get",value:function(n){return this.kvs.get(bC(n))}},{key:"update",value:function(n,a){var r=this.get(n),i=a(r);i?this.set(n,i):this.delete(n)}},{key:"delete",value:function(n){this.kvs.delete(bC(n))}},{key:"map",value:function(n){return ps(this.kvs.entries()).map(function(a){var r=St(a,2),i=r[0],o=r[1],c=i.split(UP);return n({key:c.map(function(l){var d=l.match(/^([^:]*):(.*)$/),f=St(d,3),g=f[1],b=f[2];return g==="number"?Number(b):b}),value:o})})}},{key:"toJSON",value:function(){var n={};return this.map(function(a){var r=a.key,i=a.value;return n[r.join(".")]=i,null}),n}}]),e}(),Iit=["name"],Eit=Fi(function e(t){var n=this;Pi(this,e),pt(this,"formHooked",!1),pt(this,"forceRootUpdate",void 0),pt(this,"subscribable",!0),pt(this,"store",{}),pt(this,"fieldEntities",[]),pt(this,"initialValues",{}),pt(this,"callbacks",{}),pt(this,"validateMessages",null),pt(this,"preserve",null),pt(this,"lastValidatePromise",null),pt(this,"getForm",function(){return{getFieldValue:n.getFieldValue,getFieldsValue:n.getFieldsValue,getFieldError:n.getFieldError,getFieldWarning:n.getFieldWarning,getFieldsError:n.getFieldsError,isFieldsTouched:n.isFieldsTouched,isFieldTouched:n.isFieldTouched,isFieldValidating:n.isFieldValidating,isFieldsValidating:n.isFieldsValidating,resetFields:n.resetFields,setFields:n.setFields,setFieldValue:n.setFieldValue,setFieldsValue:n.setFieldsValue,validateFields:n.validateFields,submit:n.submit,_init:!0,getInternalHooks:n.getInternalHooks}}),pt(this,"getInternalHooks",function(a){return a===kh?(n.formHooked=!0,{dispatch:n.dispatch,initEntityValue:n.initEntityValue,registerField:n.registerField,useSubscribe:n.useSubscribe,setInitialValues:n.setInitialValues,destroyForm:n.destroyForm,setCallbacks:n.setCallbacks,setValidateMessages:n.setValidateMessages,getFields:n.getFields,setPreserve:n.setPreserve,getInitialValue:n.getInitialValue,registerWatch:n.registerWatch}):(qo(!1,"`getInternalHooks` is internal usage. Should not call directly."),null)}),pt(this,"useSubscribe",function(a){n.subscribable=a}),pt(this,"prevWithoutPreserves",null),pt(this,"setInitialValues",function(a,r){if(n.initialValues=a||{},r){var i,o=um(a,n.store);(i=n.prevWithoutPreserves)===null||i===void 0||i.map(function(c){var l=c.key;o=Wc(o,l,Dl(a,l))}),n.prevWithoutPreserves=null,n.updateStore(o)}}),pt(this,"destroyForm",function(a){if(a)n.updateStore({});else{var r=new Kf;n.getFieldEntities(!0).forEach(function(i){n.isMergedPreserve(i.isPreserve())||r.set(i.getNamePath(),!0)}),n.prevWithoutPreserves=r}}),pt(this,"getInitialValue",function(a){var r=Dl(n.initialValues,a);return a.length?um(r):r}),pt(this,"setCallbacks",function(a){n.callbacks=a}),pt(this,"setValidateMessages",function(a){n.validateMessages=a}),pt(this,"setPreserve",function(a){n.preserve=a}),pt(this,"watchList",[]),pt(this,"registerWatch",function(a){return n.watchList.push(a),function(){n.watchList=n.watchList.filter(function(r){return r!==a})}}),pt(this,"notifyWatch",function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];if(n.watchList.length){var r=n.getFieldsValue(),i=n.getFieldsValue(!0);n.watchList.forEach(function(o){o(r,i,a)})}}),pt(this,"timeoutId",null),pt(this,"warningUnhooked",function(){}),pt(this,"updateStore",function(a){n.store=a}),pt(this,"getFieldEntities",function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return a?n.fieldEntities.filter(function(r){return r.getNamePath().length}):n.fieldEntities}),pt(this,"getFieldsMap",function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,r=new Kf;return n.getFieldEntities(a).forEach(function(i){var o=i.getNamePath();r.set(o,i)}),r}),pt(this,"getFieldEntitiesForNamePathList",function(a){if(!a)return n.getFieldEntities(!0);var r=n.getFieldsMap(!0);return a.map(function(i){var o=_i(i);return r.get(o)||{INVALIDATE_NAME_PATH:_i(i)}})}),pt(this,"getFieldsValue",function(a,r){n.warningUnhooked();var i,o,c;if(a===!0||Array.isArray(a)?(i=a,o=r):a&&Ls(a)==="object"&&(c=a.strict,o=a.filter),i===!0&&!o)return n.store;var l=n.getFieldEntitiesForNamePathList(Array.isArray(i)?i:null),d=[];return l.forEach(function(f){var g,b,w="INVALIDATE_NAME_PATH"in f?f.INVALIDATE_NAME_PATH:f.getNamePath();if(c){var C,S;if((C=(S=f).isList)!==null&&C!==void 0&&C.call(S))return}else if(!i&&(g=(b=f).isListField)!==null&&g!==void 0&&g.call(b))return;if(!o)d.push(w);else{var k="getMeta"in f?f.getMeta():null;o(k)&&d.push(w)}}),H9(n.store,d.map(_i))}),pt(this,"getFieldValue",function(a){n.warningUnhooked();var r=_i(a);return Dl(n.store,r)}),pt(this,"getFieldsError",function(a){n.warningUnhooked();var r=n.getFieldEntitiesForNamePathList(a);return r.map(function(i,o){return i&&!("INVALIDATE_NAME_PATH"in i)?{name:i.getNamePath(),errors:i.getErrors(),warnings:i.getWarnings()}:{name:_i(a[o]),errors:[],warnings:[]}})}),pt(this,"getFieldError",function(a){n.warningUnhooked();var r=_i(a),i=n.getFieldsError([r])[0];return i.errors}),pt(this,"getFieldWarning",function(a){n.warningUnhooked();var r=_i(a),i=n.getFieldsError([r])[0];return i.warnings}),pt(this,"isFieldsTouched",function(){n.warningUnhooked();for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];var o=r[0],c=r[1],l,d=!1;r.length===0?l=null:r.length===1?Array.isArray(o)?(l=o.map(_i),d=!1):(l=null,d=o):(l=o.map(_i),d=c);var f=n.getFieldEntities(!0),g=function(k){return k.isFieldTouched()};if(!l)return d?f.every(function(S){return g(S)||S.isList()}):f.some(g);var b=new Kf;l.forEach(function(S){b.set(S,[])}),f.forEach(function(S){var k=S.getNamePath();l.forEach(function(E){E.every(function(D,R){return k[R]===D})&&b.update(E,function(D){return[].concat(ps(D),[S])})})});var w=function(k){return k.some(g)},C=b.map(function(S){var k=S.value;return k});return d?C.every(w):C.some(w)}),pt(this,"isFieldTouched",function(a){return n.warningUnhooked(),n.isFieldsTouched([a])}),pt(this,"isFieldsValidating",function(a){n.warningUnhooked();var r=n.getFieldEntities();if(!a)return r.some(function(o){return o.isFieldValidating()});var i=a.map(_i);return r.some(function(o){var c=o.getNamePath();return wm(i,c)&&o.isFieldValidating()})}),pt(this,"isFieldValidating",function(a){return n.warningUnhooked(),n.isFieldsValidating([a])}),pt(this,"resetWithFieldInitialValue",function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=new Kf,i=n.getFieldEntities(!0);i.forEach(function(l){var d=l.props.initialValue,f=l.getNamePath();if(d!==void 0){var g=r.get(f)||new Set;g.add({entity:l,value:d}),r.set(f,g)}});var o=function(d){d.forEach(function(f){var g=f.props.initialValue;if(g!==void 0){var b=f.getNamePath(),w=n.getInitialValue(b);if(w!==void 0)qo(!1,"Form already set 'initialValues' with path '".concat(b.join("."),"'. Field can not overwrite it."));else{var C=r.get(b);if(C&&C.size>1)qo(!1,"Multiple Field with path '".concat(b.join("."),"' set 'initialValue'. Can not decide which one to pick."));else if(C){var S=n.getFieldValue(b),k=f.isListField();!k&&(!a.skipExist||S===void 0)&&n.updateStore(Wc(n.store,b,ps(C)[0].value))}}}})},c;a.entities?c=a.entities:a.namePathList?(c=[],a.namePathList.forEach(function(l){var d=r.get(l);if(d){var f;(f=c).push.apply(f,ps(ps(d).map(function(g){return g.entity})))}})):c=i,o(c)}),pt(this,"resetFields",function(a){n.warningUnhooked();var r=n.store;if(!a){n.updateStore(um(n.initialValues)),n.resetWithFieldInitialValue(),n.notifyObservers(r,null,{type:"reset"}),n.notifyWatch();return}var i=a.map(_i);i.forEach(function(o){var c=n.getInitialValue(o);n.updateStore(Wc(n.store,o,c))}),n.resetWithFieldInitialValue({namePathList:i}),n.notifyObservers(r,i,{type:"reset"}),n.notifyWatch(i)}),pt(this,"setFields",function(a){n.warningUnhooked();var r=n.store,i=[];a.forEach(function(o){var c=o.name,l=di(o,Iit),d=_i(c);i.push(d),"value"in l&&n.updateStore(Wc(n.store,d,l.value)),n.notifyObservers(r,[d],{type:"setField",data:o})}),n.notifyWatch(i)}),pt(this,"getFields",function(){var a=n.getFieldEntities(!0),r=a.map(function(i){var o=i.getNamePath(),c=i.getMeta(),l=vt(vt({},c),{},{name:o,value:n.getFieldValue(o)});return Object.defineProperty(l,"originRCField",{value:!0}),l});return r}),pt(this,"initEntityValue",function(a){var r=a.props.initialValue;if(r!==void 0){var i=a.getNamePath(),o=Dl(n.store,i);o===void 0&&n.updateStore(Wc(n.store,i,r))}}),pt(this,"isMergedPreserve",function(a){var r=a!==void 0?a:n.preserve;return r??!0}),pt(this,"registerField",function(a){n.fieldEntities.push(a);var r=a.getNamePath();if(n.notifyWatch([r]),a.props.initialValue!==void 0){var i=n.store;n.resetWithFieldInitialValue({entities:[a],skipExist:!0}),n.notifyObservers(i,[a.getNamePath()],{type:"valueUpdate",source:"internal"})}return function(o,c){var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];if(n.fieldEntities=n.fieldEntities.filter(function(g){return g!==a}),!n.isMergedPreserve(c)&&(!o||l.length>1)){var d=o?void 0:n.getInitialValue(r);if(r.length&&n.getFieldValue(r)!==d&&n.fieldEntities.every(function(g){return!VP(g.getNamePath(),r)})){var f=n.store;n.updateStore(Wc(f,r,d,!0)),n.notifyObservers(f,[r],{type:"remove"}),n.triggerDependenciesUpdate(f,r)}}n.notifyWatch([r])}}),pt(this,"dispatch",function(a){switch(a.type){case"updateValue":{var r=a.namePath,i=a.value;n.updateValue(r,i);break}case"validateField":{var o=a.namePath,c=a.triggerName;n.validateFields([o],{triggerName:c});break}}}),pt(this,"notifyObservers",function(a,r,i){if(n.subscribable){var o=vt(vt({},i),{},{store:n.getFieldsValue(!0)});n.getFieldEntities().forEach(function(c){var l=c.onStoreChange;l(a,r,o)})}else n.forceRootUpdate()}),pt(this,"triggerDependenciesUpdate",function(a,r){var i=n.getDependencyChildrenFields(r);return i.length&&n.validateFields(i),n.notifyObservers(a,i,{type:"dependenciesUpdate",relatedFields:[r].concat(ps(i))}),i}),pt(this,"updateValue",function(a,r){var i=_i(a),o=n.store;n.updateStore(Wc(n.store,i,r)),n.notifyObservers(o,[i],{type:"valueUpdate",source:"internal"}),n.notifyWatch([i]);var c=n.triggerDependenciesUpdate(o,i),l=n.callbacks.onValuesChange;if(l){var d=H9(n.store,[i]);l(d,n.getFieldsValue())}n.triggerOnFieldsChange([i].concat(ps(c)))}),pt(this,"setFieldsValue",function(a){n.warningUnhooked();var r=n.store;if(a){var i=um(n.store,a);n.updateStore(i)}n.notifyObservers(r,null,{type:"valueUpdate",source:"external"}),n.notifyWatch()}),pt(this,"setFieldValue",function(a,r){n.setFields([{name:a,value:r,errors:[],warnings:[]}])}),pt(this,"getDependencyChildrenFields",function(a){var r=new Set,i=[],o=new Kf;n.getFieldEntities().forEach(function(l){var d=l.props.dependencies;(d||[]).forEach(function(f){var g=_i(f);o.update(g,function(){var b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:new Set;return b.add(l),b})})});var c=function l(d){var f=o.get(d)||new Set;f.forEach(function(g){if(!r.has(g)){r.add(g);var b=g.getNamePath();g.isFieldDirty()&&b.length&&(i.push(b),l(b))}})};return c(a),i}),pt(this,"triggerOnFieldsChange",function(a,r){var i=n.callbacks.onFieldsChange;if(i){var o=n.getFields();if(r){var c=new Kf;r.forEach(function(d){var f=d.name,g=d.errors;c.set(f,g)}),o.forEach(function(d){d.errors=c.get(d.name)||d.errors})}var l=o.filter(function(d){var f=d.name;return wm(a,f)});l.length&&i(l,o)}}),pt(this,"validateFields",function(a,r){n.warningUnhooked();var i,o;Array.isArray(a)||typeof a=="string"||typeof r=="string"?(i=a,o=r):o=a;var c=!!i,l=c?i.map(_i):[],d=[],f=String(Date.now()),g=new Set,b=o||{},w=b.recursive,C=b.dirty;n.getFieldEntities(!0).forEach(function(D){if(c||l.push(D.getNamePath()),!(!D.props.rules||!D.props.rules.length)&&!(C&&!D.isFieldDirty())){var R=D.getNamePath();if(g.add(R.join(f)),!c||wm(l,R,w)){var P=D.validateRules(vt({validateMessages:vt(vt({},qP),n.validateMessages)},o));d.push(P.then(function(){return{name:R,errors:[],warnings:[]}}).catch(function(B){var O,$=[],U=[];return(O=B.forEach)===null||O===void 0||O.call(B,function(F){var H=F.rule.warningOnly,se=F.errors;H?U.push.apply(U,ps(se)):$.push.apply($,ps(se))}),$.length?Promise.reject({name:R,errors:$,warnings:U}):{name:R,errors:$,warnings:U}}))}}});var S=kit(d);n.lastValidatePromise=S,S.catch(function(D){return D}).then(function(D){var R=D.map(function(P){var B=P.name;return B});n.notifyObservers(n.store,R,{type:"validateFinish"}),n.triggerOnFieldsChange(R,D)});var k=S.then(function(){return n.lastValidatePromise===S?Promise.resolve(n.getFieldsValue(l)):Promise.reject([])}).catch(function(D){var R=D.filter(function(P){return P&&P.errors.length});return Promise.reject({values:n.getFieldsValue(l),errorFields:R,outOfDate:n.lastValidatePromise!==S})});k.catch(function(D){return D});var E=l.filter(function(D){return g.has(D.join(f))});return n.triggerOnFieldsChange(E),k}),pt(this,"submit",function(){n.warningUnhooked(),n.validateFields().then(function(a){var r=n.callbacks.onFinish;if(r)try{r(a)}catch(i){console.error(i)}}).catch(function(a){var r=n.callbacks.onFinishFailed;r&&r(a)})}),this.forceRootUpdate=t});function WP(e){var t=_.useRef(),n=_.useState({}),a=St(n,2),r=a[1];if(!t.current)if(e)t.current=e;else{var i=function(){r({})},o=new Eit(i);t.current=o.getForm()}return[t.current]}var UN=_.createContext({triggerFormChange:function(){},triggerFormFinish:function(){},registerForm:function(){},unregisterForm:function(){}}),Tit=function(t){var n=t.validateMessages,a=t.onFormChange,r=t.onFormFinish,i=t.children,o=_.useContext(UN),c=_.useRef({});return _.createElement(UN.Provider,{value:vt(vt({},o),{},{validateMessages:vt(vt({},o.validateMessages),n),triggerFormChange:function(d,f){a&&a(d,{changedFields:f,forms:c.current}),o.triggerFormChange(d,f)},triggerFormFinish:function(d,f){r&&r(d,{values:f,forms:c.current}),o.triggerFormFinish(d,f)},registerForm:function(d,f){d&&(c.current=vt(vt({},c.current),{},pt({},d,f))),o.registerForm(d,f)},unregisterForm:function(d){var f=vt({},c.current);delete f[d],c.current=f,o.unregisterForm(d)}})},i)},Dit=["name","initialValues","fields","form","preserve","children","component","validateMessages","validateTrigger","onValuesChange","onFieldsChange","onFinish","onFinishFailed","clearOnDestroy"],Ait=function(t,n){var a=t.name,r=t.initialValues,i=t.fields,o=t.form,c=t.preserve,l=t.children,d=t.component,f=d===void 0?"form":d,g=t.validateMessages,b=t.validateTrigger,w=b===void 0?"onChange":b,C=t.onValuesChange,S=t.onFieldsChange,k=t.onFinish,E=t.onFinishFailed,D=t.clearOnDestroy,R=di(t,Dit),P=_.useRef(null),B=_.useContext(UN),O=WP(o),$=St(O,1),U=$[0],F=U.getInternalHooks(kh),H=F.useSubscribe,se=F.setInitialValues,K=F.setCallbacks,te=F.setValidateMessages,J=F.setPreserve,z=F.destroyForm;_.useImperativeHandle(n,function(){return vt(vt({},U),{},{nativeElement:P.current})}),_.useEffect(function(){return B.registerForm(a,U),function(){B.unregisterForm(a)}},[B,U,a]),te(vt(vt({},B.validateMessages),g)),K({onValuesChange:C,onFieldsChange:function(ae){if(B.triggerFormChange(a,ae),S){for(var ne=arguments.length,re=new Array(ne>1?ne-1:0),oe=1;oe<ne;oe++)re[oe-1]=arguments[oe];S.apply(void 0,[ae].concat(re))}},onFinish:function(ae){B.triggerFormFinish(a,ae),k&&k(ae)},onFinishFailed:E}),J(c);var V=_.useRef(null);se(r,!V.current),V.current||(V.current=!0),_.useEffect(function(){return function(){return z(D)}},[]);var M,ee=typeof l=="function";if(ee){var Z=U.getFieldsValue(!0);M=l(Z,U)}else M=l;H(!ee);var A=_.useRef();_.useEffect(function(){jit(A.current||[],i||[])||U.setFields(i||[]),A.current=i},[i,U]);var G=_.useMemo(function(){return vt(vt({},U),{},{validateTrigger:w})},[U,w]),Q=_.createElement(kb.Provider,{value:null},_.createElement(Qm.Provider,{value:G},M));return f===!1?Q:_.createElement(f,Es({},R,{ref:P,onSubmit:function(ae){ae.preventDefault(),ae.stopPropagation(),U.submit()},onReset:function(ae){var ne;ae.preventDefault(),U.resetFields(),(ne=R.onReset)===null||ne===void 0||ne.call(R,ae)}}),Q)};function V9(e){try{return JSON.stringify(e)}catch{return Math.random()}}function Mit(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var a=t[0],r=t[1],i=r===void 0?{}:r,o=Hrt(i)?{form:i}:i,c=o.form,l=_.useState(),d=St(l,2),f=d[0],g=d[1],b=_.useMemo(function(){return V9(f)},[f]),w=_.useRef(b);w.current=b;var C=_.useContext(Qm),S=c||C,k=S&&S._init,E=_i(a),D=_.useRef(E);return D.current=E,_.useEffect(function(){if(k){var R=S.getFieldsValue,P=S.getInternalHooks,B=P(kh),O=B.registerWatch,$=function(se,K){var te=o.preserve?K:se;return typeof a=="function"?a(te):Dl(te,D.current)},U=O(function(H,se){var K=$(H,se),te=V9(K);w.current!==te&&(w.current=te,g(K))}),F=$(R(),R(!0));return f!==F&&g(F),U}},[k]),f}var Rit=_.forwardRef(Ait),O0=Rit;O0.FormProvider=Tit;O0.Field=zP;O0.List=Nit;O0.useForm=WP;O0.useWatch=Mit;const Ib=_.createContext({}),Bit=({children:e,status:t,override:n})=>{const a=_.useContext(Ib),r=_.useMemo(()=>{const i=Object.assign({},a);return n&&delete i.isFormItemInput,t&&(delete i.status,delete i.hasFeedback,delete i.feedbackIcon),i},[t,n,a]);return _.createElement(Ib.Provider,{value:r},e)},Oit=_.createContext(void 0),YP=e=>{const{space:t,form:n,children:a}=e;if(a==null)return null;let r=a;return n&&(r=nt.createElement(Bit,{override:!0,status:!0},r)),t&&(r=nt.createElement(Sat,null,r)),r};function Lit(e){return t=>_.createElement(Hl,{theme:{token:{motion:!1,zIndexPopupBase:0}}},_.createElement(e,Object.assign({},t)))}const GP=(e,t,n,a,r)=>Lit(o=>{const{prefixCls:c,style:l}=o,d=_.useRef(null),[f,g]=_.useState(0),[b,w]=_.useState(0),[C,S]=Pl(!1,{value:o.open}),{getPrefixCls:k}=_.useContext(Io),E=k(a,c);_.useEffect(()=>{if(S(!0),typeof ResizeObserver<"u"){const P=new ResizeObserver(O=>{const $=O[0].target;g($.offsetHeight+8),w($.offsetWidth)}),B=setInterval(()=>{var O;const $=`.${E}-dropdown`,U=(O=d.current)===null||O===void 0?void 0:O.querySelector($);U&&(clearInterval(B),P.observe(U))},10);return()=>{clearInterval(B),P.disconnect()}}},[]);let D=Object.assign(Object.assign({},o),{style:Object.assign(Object.assign({},l),{margin:0}),open:C,visible:C,getPopupContainer:()=>d.current});Object.assign(D,{[t]:{overflow:{adjustX:!1,adjustY:!1}}});const R={paddingBottom:f,position:"relative",minWidth:b};return _.createElement("div",{ref:d,style:R},_.createElement(e,Object.assign({},D)))}),$it=function(){if(typeof navigator>"u"||typeof window>"u")return!1;var e=navigator.userAgent||navigator.vendor||window.opera;return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(e==null?void 0:e.substr(0,4))};var Pit=["prefixCls","invalidate","item","renderItem","responsive","responsiveDisabled","registerSize","itemKey","className","style","children","display","order","component"],Zf=void 0;function Fit(e,t){var n=e.prefixCls,a=e.invalidate,r=e.item,i=e.renderItem,o=e.responsive,c=e.responsiveDisabled,l=e.registerSize,d=e.itemKey,f=e.className,g=e.style,b=e.children,w=e.display,C=e.order,S=e.component,k=S===void 0?"div":S,E=di(e,Pit),D=o&&!w;function R(U){l(d,U)}_.useEffect(function(){return function(){R(null)}},[]);var P=i&&r!==Zf?i(r,{index:C}):b,B;a||(B={opacity:D?0:1,height:D?0:Zf,overflowY:D?"hidden":Zf,order:o?C:Zf,pointerEvents:D?"none":Zf,position:D?"absolute":Zf});var O={};D&&(O["aria-hidden"]=!0);var $=_.createElement(k,Es({className:zs(!a&&n,f),style:vt(vt({},B),g)},O,E,{ref:t}),P);return o&&($=_.createElement(af,{onResize:function(F){var H=F.offsetWidth;R(H)},disabled:c},$)),$}var Cg=_.forwardRef(Fit);Cg.displayName="Item";function Hit(e){if(typeof MessageChannel>"u")no(e);else{var t=new MessageChannel;t.port1.onmessage=function(){return e()},t.port2.postMessage(void 0)}}function qit(){var e=_.useRef(null),t=function(a){e.current||(e.current=[],Hit(function(){tp.unstable_batchedUpdates(function(){e.current.forEach(function(r){r()}),e.current=null})})),e.current.push(a)};return t}function A1(e,t){var n=_.useState(t),a=St(n,2),r=a[0],i=a[1],o=sr(function(c){e(function(){i(c)})});return[r,o]}var Eb=nt.createContext(null),Vit=["component"],zit=["className"],Uit=["className"],Wit=function(t,n){var a=_.useContext(Eb);if(!a){var r=t.component,i=r===void 0?"div":r,o=di(t,Vit);return _.createElement(i,Es({},o,{ref:n}))}var c=a.className,l=di(a,zit),d=t.className,f=di(t,Uit);return _.createElement(Eb.Provider,{value:null},_.createElement(Cg,Es({ref:n,className:zs(c,d)},l,f)))},QP=_.forwardRef(Wit);QP.displayName="RawItem";var Yit=["prefixCls","data","renderItem","renderRawItem","itemKey","itemWidth","ssr","style","className","maxCount","renderRest","renderRawRest","suffix","component","itemComponent","onVisibleChange"],XP="responsive",KP="invalidate";function Git(e){return"+ ".concat(e.length," ...")}function Qit(e,t){var n=e.prefixCls,a=n===void 0?"rc-overflow":n,r=e.data,i=r===void 0?[]:r,o=e.renderItem,c=e.renderRawItem,l=e.itemKey,d=e.itemWidth,f=d===void 0?10:d,g=e.ssr,b=e.style,w=e.className,C=e.maxCount,S=e.renderRest,k=e.renderRawRest,E=e.suffix,D=e.component,R=D===void 0?"div":D,P=e.itemComponent,B=e.onVisibleChange,O=di(e,Yit),$=g==="full",U=qit(),F=A1(U,null),H=St(F,2),se=H[0],K=H[1],te=se||0,J=A1(U,new Map),z=St(J,2),V=z[0],M=z[1],ee=A1(U,0),Z=St(ee,2),A=Z[0],G=Z[1],Q=A1(U,0),Y=St(Q,2),ae=Y[0],ne=Y[1],re=A1(U,0),oe=St(re,2),me=oe[0],Ce=oe[1],Ne=_.useState(null),Ee=St(Ne,2),ve=Ee[0],Se=Ee[1],fe=_.useState(null),de=St(fe,2),pe=de[0],ce=de[1],Re=_.useMemo(function(){return pe===null&&$?Number.MAX_SAFE_INTEGER:pe||0},[pe,se]),Ae=_.useState(!1),ie=St(Ae,2),ge=ie[0],be=ie[1],Fe="".concat(a,"-item"),je=Math.max(A,ae),qe=C===XP,tt=i.length&&qe,he=C===KP,Ze=tt||typeof C=="number"&&i.length>C,Pe=_.useMemo(function(){var st=i;return tt?se===null&&$?st=i:st=i.slice(0,Math.min(i.length,te/f)):typeof C=="number"&&(st=i.slice(0,C)),st},[i,f,se,C,tt]),bt=_.useMemo(function(){return tt?i.slice(Re+1):i.slice(Pe.length)},[i,Pe,tt,Re]),Ge=_.useCallback(function(st,Rt){var Lt;return typeof l=="function"?l(st):(Lt=l&&(st==null?void 0:st[l]))!==null&&Lt!==void 0?Lt:Rt},[l]),ue=_.useCallback(o||function(st){return st},[o]);function De(st,Rt,Lt){pe===st&&(Rt===void 0||Rt===ve)||(ce(st),Lt||(be(st<i.length-1),B==null||B(st)),Rt!==void 0&&Se(Rt))}function xe(st,Rt){K(Rt.clientWidth)}function Ye(st,Rt){M(function(Lt){var on=new Map(Lt);return Rt===null?on.delete(st):on.set(st,Rt),on})}function at(st,Rt){ne(Rt),G(ae)}function lt(st,Rt){Ce(Rt)}function Mt(st){return V.get(Ge(Pe[st],st))}Ur(function(){if(te&&typeof je=="number"&&Pe){var st=me,Rt=Pe.length,Lt=Rt-1;if(!Rt){De(0,null);return}for(var on=0;on<Rt;on+=1){var vn=Mt(on);if($&&(vn=vn||0),vn===void 0){De(on-1,void 0,!0);break}if(st+=vn,Lt===0&&st<=te||on===Lt-1&&st+Mt(Lt)<=te){De(Lt,null);break}else if(st+je>te){De(on-1,st-vn-me+ae);break}}E&&Mt(0)+me>te&&Se(null)}},[te,V,ae,me,Ge,Pe]);var pn=ge&&!!bt.length,Qn={};ve!==null&&tt&&(Qn={position:"absolute",left:ve,top:0});var yt={prefixCls:Fe,responsive:tt,component:P,invalidate:he},ln=c?function(st,Rt){var Lt=Ge(st,Rt);return _.createElement(Eb.Provider,{key:Lt,value:vt(vt({},yt),{},{order:Rt,item:st,itemKey:Lt,registerSize:Ye,display:Rt<=Re})},c(st,Rt))}:function(st,Rt){var Lt=Ge(st,Rt);return _.createElement(Cg,Es({},yt,{order:Rt,key:Lt,item:st,renderItem:ue,itemKey:Lt,registerSize:Ye,display:Rt<=Re}))},fn={order:pn?Re:Number.MAX_SAFE_INTEGER,className:"".concat(Fe,"-rest"),registerSize:at,display:pn},jn=S||Git,dt=k?_.createElement(Eb.Provider,{value:vt(vt({},yt),fn)},k(bt)):_.createElement(Cg,Es({},yt,fn),typeof jn=="function"?jn(bt):jn),It=_.createElement(R,Es({className:zs(!he&&a,w),style:b,ref:t},O),Pe.map(ln),Ze?dt:null,E&&_.createElement(Cg,Es({},yt,{responsive:qe,responsiveDisabled:!tt,order:Re,className:"".concat(Fe,"-suffix"),registerSize:lt,display:!0,style:Qn}),E));return qe?_.createElement(af,{onResize:xe,disabled:!tt},It):It}var L0=_.forwardRef(Qit);L0.displayName="Overflow";L0.Item=QP;L0.RESPONSIVE=XP;L0.INVALIDATE=KP;function Xit(e){var t=e.prefixCls,n=e.align,a=e.arrow,r=e.arrowPos,i=a||{},o=i.className,c=i.content,l=r.x,d=l===void 0?0:l,f=r.y,g=f===void 0?0:f,b=_.useRef();if(!n||!n.points)return null;var w={position:"absolute"};if(n.autoArrow!==!1){var C=n.points[0],S=n.points[1],k=C[0],E=C[1],D=S[0],R=S[1];k===D||!["t","b"].includes(k)?w.top=g:k==="t"?w.top=0:w.bottom=0,E===R||!["l","r"].includes(E)?w.left=d:E==="l"?w.left=0:w.right=0}return _.createElement("div",{ref:b,className:zs("".concat(t,"-arrow"),o),style:w},c)}function Kit(e){var t=e.prefixCls,n=e.open,a=e.zIndex,r=e.mask,i=e.motion;return r?_.createElement(M0,Es({},i,{motionAppear:!0,visible:n,removeOnLeave:!0}),function(o){var c=o.className;return _.createElement("div",{style:{zIndex:a},className:zs("".concat(t,"-mask"),c)})}):null}var Zit=_.memo(function(e){var t=e.children;return t},function(e,t){return t.cache}),Jit=_.forwardRef(function(e,t){var n=e.popup,a=e.className,r=e.prefixCls,i=e.style,o=e.target,c=e.onVisibleChanged,l=e.open,d=e.keepDom,f=e.fresh,g=e.onClick,b=e.mask,w=e.arrow,C=e.arrowPos,S=e.align,k=e.motion,E=e.maskMotion,D=e.forceRender,R=e.getPopupContainer,P=e.autoDestroy,B=e.portal,O=e.zIndex,$=e.onMouseEnter,U=e.onMouseLeave,F=e.onPointerEnter,H=e.onPointerDownCapture,se=e.ready,K=e.offsetX,te=e.offsetY,J=e.offsetR,z=e.offsetB,V=e.onAlign,M=e.onPrepare,ee=e.stretch,Z=e.targetWidth,A=e.targetHeight,G=typeof n=="function"?n():n,Q=l||d,Y=(R==null?void 0:R.length)>0,ae=_.useState(!R||!Y),ne=St(ae,2),re=ne[0],oe=ne[1];if(Ur(function(){!re&&Y&&o&&oe(!0)},[re,Y,o]),!re)return null;var me="auto",Ce={left:"-1000vw",top:"-1000vh",right:me,bottom:me};if(se||!l){var Ne,Ee=S.points,ve=S.dynamicInset||((Ne=S._experimental)===null||Ne===void 0?void 0:Ne.dynamicInset),Se=ve&&Ee[0][1]==="r",fe=ve&&Ee[0][0]==="b";Se?(Ce.right=J,Ce.left=me):(Ce.left=K,Ce.right=me),fe?(Ce.bottom=z,Ce.top=me):(Ce.top=te,Ce.bottom=me)}var de={};return ee&&(ee.includes("height")&&A?de.height=A:ee.includes("minHeight")&&A&&(de.minHeight=A),ee.includes("width")&&Z?de.width=Z:ee.includes("minWidth")&&Z&&(de.minWidth=Z)),l||(de.pointerEvents="none"),_.createElement(B,{open:D||Q,getContainer:R&&function(){return R(o)},autoDestroy:P},_.createElement(Kit,{prefixCls:r,open:l,zIndex:O,mask:b,motion:E}),_.createElement(af,{onResize:V,disabled:!l},function(pe){return _.createElement(M0,Es({motionAppear:!0,motionEnter:!0,motionLeave:!0,removeOnLeave:!1,forceRender:D,leavedClassName:"".concat(r,"-hidden")},k,{onAppearPrepare:M,onEnterPrepare:M,visible:l,onVisibleChanged:function(Re){var Ae;k==null||(Ae=k.onVisibleChanged)===null||Ae===void 0||Ae.call(k,Re),c(Re)}}),function(ce,Re){var Ae=ce.className,ie=ce.style,ge=zs(r,Ae,a);return _.createElement("div",{ref:jy(pe,t,Re),className:ge,style:vt(vt(vt(vt({"--arrow-x":"".concat(C.x||0,"px"),"--arrow-y":"".concat(C.y||0,"px")},Ce),de),ie),{},{boxSizing:"border-box",zIndex:O},i),onMouseEnter:$,onMouseLeave:U,onPointerEnter:F,onClick:g,onPointerDownCapture:H},w&&_.createElement(Xit,{prefixCls:r,arrow:w,arrowPos:C,align:S}),_.createElement(Zit,{cache:!l&&!f},G))})}))}),eot=_.forwardRef(function(e,t){var n=e.children,a=e.getTriggerDOMNode,r=D0(n),i=_.useCallback(function(c){B4(t,a?a(c):c)},[a]),o=Cy(i,Sy(n));return r?_.cloneElement(n,{ref:o}):n}),z9=_.createContext(null);function U9(e){return e?Array.isArray(e)?e:[e]:[]}function tot(e,t,n,a){return _.useMemo(function(){var r=U9(n??t),i=U9(a??t),o=new Set(r),c=new Set(i);return e&&(o.has("hover")&&(o.delete("hover"),o.add("click")),c.has("hover")&&(c.delete("hover"),c.add("click"))),[o,c]},[e,t,n,a])}function not(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0;return n?e[0]===t[0]:e[0]===t[0]&&e[1]===t[1]}function sot(e,t,n,a){for(var r=n.points,i=Object.keys(e),o=0;o<i.length;o+=1){var c,l=i[o];if(not((c=e[l])===null||c===void 0?void 0:c.points,r,a))return"".concat(t,"-placement-").concat(l)}return""}function W9(e,t,n,a){return t||(n?{motionName:"".concat(e,"-").concat(n)}:a?{motionName:a}:null)}function $0(e){return e.ownerDocument.defaultView}function WN(e){for(var t=[],n=e==null?void 0:e.parentElement,a=["hidden","scroll","clip","auto"];n;){var r=$0(n).getComputedStyle(n),i=r.overflowX,o=r.overflowY,c=r.overflow;[i,o,c].some(function(l){return a.includes(l)})&&t.push(n),n=n.parentElement}return t}function r0(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return Number.isNaN(e)?t:e}function M1(e){return r0(parseFloat(e),0)}function Y9(e,t){var n=vt({},e);return(t||[]).forEach(function(a){if(!(a instanceof HTMLBodyElement||a instanceof HTMLHtmlElement)){var r=$0(a).getComputedStyle(a),i=r.overflow,o=r.overflowClipMargin,c=r.borderTopWidth,l=r.borderBottomWidth,d=r.borderLeftWidth,f=r.borderRightWidth,g=a.getBoundingClientRect(),b=a.offsetHeight,w=a.clientHeight,C=a.offsetWidth,S=a.clientWidth,k=M1(c),E=M1(l),D=M1(d),R=M1(f),P=r0(Math.round(g.width/C*1e3)/1e3),B=r0(Math.round(g.height/b*1e3)/1e3),O=(C-S-D-R)*P,$=(b-w-k-E)*B,U=k*B,F=E*B,H=D*P,se=R*P,K=0,te=0;if(i==="clip"){var J=M1(o);K=J*P,te=J*B}var z=g.x+H-K,V=g.y+U-te,M=z+g.width+2*K-H-se-O,ee=V+g.height+2*te-U-F-$;n.left=Math.max(n.left,z),n.top=Math.max(n.top,V),n.right=Math.min(n.right,M),n.bottom=Math.min(n.bottom,ee)}}),n}function G9(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n="".concat(t),a=n.match(/^(.*)\%$/);return a?e*(parseFloat(a[1])/100):parseFloat(n)}function Q9(e,t){var n=t||[],a=St(n,2),r=a[0],i=a[1];return[G9(e.width,r),G9(e.height,i)]}function X9(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return[e[0],e[1]]}function Jf(e,t){var n=t[0],a=t[1],r,i;return n==="t"?i=e.y:n==="b"?i=e.y+e.height:i=e.y+e.height/2,a==="l"?r=e.x:a==="r"?r=e.x+e.width:r=e.x+e.width/2,{x:r,y:i}}function ud(e,t){var n={t:"b",b:"t",l:"r",r:"l"};return e.map(function(a,r){return r===t?n[a]||"c":a}).join("")}function aot(e,t,n,a,r,i,o){var c=_.useState({ready:!1,offsetX:0,offsetY:0,offsetR:0,offsetB:0,arrowX:0,arrowY:0,scaleX:1,scaleY:1,align:r[a]||{}}),l=St(c,2),d=l[0],f=l[1],g=_.useRef(0),b=_.useMemo(function(){return t?WN(t):[]},[t]),w=_.useRef({}),C=function(){w.current={}};e||C();var S=sr(function(){if(t&&n&&e){let gn=function(Gt,Dn){var hn=arguments.length>2&&arguments[2]!==void 0?arguments[2]:qe,as=Q.x+Gt,Qt=Q.y+Dn,ys=as+fe,jt=Qt+Se,rn=Math.max(as,hn.left),On=Math.max(Qt,hn.top),bs=Math.min(ys,hn.right),ws=Math.min(jt,hn.bottom);return Math.max(0,(bs-rn)*(ws-On))},Xn=function(){ta=Q.y+on,vs=ta+Se,za=Q.x+Lt,ur=za+fe};var Ft=gn,In=Xn,D,R,P,B,O=t,$=O.ownerDocument,U=$0(O),F=U.getComputedStyle(O),H=F.position,se=O.style.left,K=O.style.top,te=O.style.right,J=O.style.bottom,z=O.style.overflow,V=vt(vt({},r[a]),i),M=$.createElement("div");(D=O.parentElement)===null||D===void 0||D.appendChild(M),M.style.left="".concat(O.offsetLeft,"px"),M.style.top="".concat(O.offsetTop,"px"),M.style.position=H,M.style.height="".concat(O.offsetHeight,"px"),M.style.width="".concat(O.offsetWidth,"px"),O.style.left="0",O.style.top="0",O.style.right="auto",O.style.bottom="auto",O.style.overflow="hidden";var ee;if(Array.isArray(n))ee={x:n[0],y:n[1],width:0,height:0};else{var Z,A,G=n.getBoundingClientRect();G.x=(Z=G.x)!==null&&Z!==void 0?Z:G.left,G.y=(A=G.y)!==null&&A!==void 0?A:G.top,ee={x:G.x,y:G.y,width:G.width,height:G.height}}var Q=O.getBoundingClientRect(),Y=U.getComputedStyle(O),ae=Y.height,ne=Y.width;Q.x=(R=Q.x)!==null&&R!==void 0?R:Q.left,Q.y=(P=Q.y)!==null&&P!==void 0?P:Q.top;var re=$.documentElement,oe=re.clientWidth,me=re.clientHeight,Ce=re.scrollWidth,Ne=re.scrollHeight,Ee=re.scrollTop,ve=re.scrollLeft,Se=Q.height,fe=Q.width,de=ee.height,pe=ee.width,ce={left:0,top:0,right:oe,bottom:me},Re={left:-ve,top:-Ee,right:Ce-ve,bottom:Ne-Ee},Ae=V.htmlRegion,ie="visible",ge="visibleFirst";Ae!=="scroll"&&Ae!==ge&&(Ae=ie);var be=Ae===ge,Fe=Y9(Re,b),je=Y9(ce,b),qe=Ae===ie?je:Fe,tt=be?je:qe;O.style.left="auto",O.style.top="auto",O.style.right="0",O.style.bottom="0";var he=O.getBoundingClientRect();O.style.left=se,O.style.top=K,O.style.right=te,O.style.bottom=J,O.style.overflow=z,(B=O.parentElement)===null||B===void 0||B.removeChild(M);var Ze=r0(Math.round(fe/parseFloat(ne)*1e3)/1e3),Pe=r0(Math.round(Se/parseFloat(ae)*1e3)/1e3);if(Ze===0||Pe===0||Qg(n)&&!J4(n))return;var bt=V.offset,Ge=V.targetOffset,ue=Q9(Q,bt),De=St(ue,2),xe=De[0],Ye=De[1],at=Q9(ee,Ge),lt=St(at,2),Mt=lt[0],pn=lt[1];ee.x-=Mt,ee.y-=pn;var Qn=V.points||[],yt=St(Qn,2),ln=yt[0],fn=yt[1],jn=X9(fn),dt=X9(ln),It=Jf(ee,jn),st=Jf(Q,dt),Rt=vt({},V),Lt=It.x-st.x+xe,on=It.y-st.y+Ye,vn=gn(Lt,on),ss=gn(Lt,on,je),hs=Jf(ee,["t","l"]),xs=Jf(Q,["t","l"]),fs=Jf(ee,["b","r"]),Hn=Jf(Q,["b","r"]),Xt=V.overflow||{},ia=Xt.adjustX,Ca=Xt.adjustY,Vn=Xt.shiftX,Na=Xt.shiftY,Qs=function(Dn){return typeof Dn=="boolean"?Dn:Dn>=0},ta,vs,za,ur;Xn();var Us=Qs(Ca),Ms=dt[0]===jn[0];if(Us&&dt[0]==="t"&&(vs>tt.bottom||w.current.bt)){var Xs=on;Ms?Xs-=Se-de:Xs=hs.y-Hn.y-Ye;var Cr=gn(Lt,Xs),Ua=gn(Lt,Xs,je);Cr>vn||Cr===vn&&(!be||Ua>=ss)?(w.current.bt=!0,on=Xs,Ye=-Ye,Rt.points=[ud(dt,0),ud(jn,0)]):w.current.bt=!1}if(Us&&dt[0]==="b"&&(ta<tt.top||w.current.tb)){var Qa=on;Ms?Qa+=Se-de:Qa=fs.y-xs.y-Ye;var qt=gn(Lt,Qa),Zn=gn(Lt,Qa,je);qt>vn||qt===vn&&(!be||Zn>=ss)?(w.current.tb=!0,on=Qa,Ye=-Ye,Rt.points=[ud(dt,0),ud(jn,0)]):w.current.tb=!1}var Ts=Qs(ia),rr=dt[1]===jn[1];if(Ts&&dt[1]==="l"&&(ur>tt.right||w.current.rl)){var Ma=Lt;rr?Ma-=fe-pe:Ma=hs.x-Hn.x-xe;var js=gn(Ma,on),Ds=gn(Ma,on,je);js>vn||js===vn&&(!be||Ds>=ss)?(w.current.rl=!0,Lt=Ma,xe=-xe,Rt.points=[ud(dt,1),ud(jn,1)]):w.current.rl=!1}if(Ts&&dt[1]==="r"&&(za<tt.left||w.current.lr)){var cs=Lt;rr?cs+=fe-pe:cs=fs.x-xs.x-xe;var qa=gn(cs,on),ls=gn(cs,on,je);qa>vn||qa===vn&&(!be||ls>=ss)?(w.current.lr=!0,Lt=cs,xe=-xe,Rt.points=[ud(dt,1),ud(jn,1)]):w.current.lr=!1}Xn();var sa=Vn===!0?0:Vn;typeof sa=="number"&&(za<je.left&&(Lt-=za-je.left-xe,ee.x+pe<je.left+sa&&(Lt+=ee.x-je.left+pe-sa)),ur>je.right&&(Lt-=ur-je.right-xe,ee.x>je.right-sa&&(Lt+=ee.x-je.right+sa)));var Gs=Na===!0?0:Na;typeof Gs=="number"&&(ta<je.top&&(on-=ta-je.top-Ye,ee.y+de<je.top+Gs&&(on+=ee.y-je.top+de-Gs)),vs>je.bottom&&(on-=vs-je.bottom-Ye,ee.y>je.bottom-Gs&&(on+=ee.y-je.bottom+Gs)));var Ks=Q.x+Lt,vr=Ks+fe,Ws=Q.y+on,Ja=Ws+Se,ji=ee.x,aa=ji+pe,Rs=ee.y,qn=Rs+de,it=Math.max(Ks,ji),Le=Math.min(vr,aa),Qe=(it+Le)/2,Tt=Qe-Ks,Wt=Math.max(Ws,Rs),zt=Math.min(Ja,qn),Xe=(Wt+zt)/2,et=Xe-Ws;o==null||o(t,Rt);var Je=he.right-Q.x-(Lt+Q.width),ot=he.bottom-Q.y-(on+Q.height);Ze===1&&(Lt=Math.round(Lt),Je=Math.round(Je)),Pe===1&&(on=Math.round(on),ot=Math.round(ot));var Ut={ready:!0,offsetX:Lt/Ze,offsetY:on/Pe,offsetR:Je/Ze,offsetB:ot/Pe,arrowX:Tt/Ze,arrowY:et/Pe,scaleX:Ze,scaleY:Pe,align:Rt};f(Ut)}}),k=function(){g.current+=1;var R=g.current;Promise.resolve().then(function(){g.current===R&&S()})},E=function(){f(function(R){return vt(vt({},R),{},{ready:!1})})};return Ur(E,[a]),Ur(function(){e||E()},[e]),[d.ready,d.offsetX,d.offsetY,d.offsetR,d.offsetB,d.arrowX,d.arrowY,d.scaleX,d.scaleY,d.align,k]}function rot(e,t,n,a,r){Ur(function(){if(e&&t&&n){let b=function(){a(),r()};var g=b,i=t,o=n,c=WN(i),l=WN(o),d=$0(o),f=new Set([d].concat(ps(c),ps(l)));return f.forEach(function(w){w.addEventListener("scroll",b,{passive:!0})}),d.addEventListener("resize",b,{passive:!0}),a(),function(){f.forEach(function(w){w.removeEventListener("scroll",b),d.removeEventListener("resize",b)})}}},[e,t,n])}function iot(e,t,n,a,r,i,o,c){var l=_.useRef(e);l.current=e;var d=_.useRef(!1);_.useEffect(function(){if(t&&a&&(!r||i)){var g=function(){d.current=!1},b=function(k){var E;l.current&&!o(((E=k.composedPath)===null||E===void 0||(E=E.call(k))===null||E===void 0?void 0:E[0])||k.target)&&!d.current&&c(!1)},w=$0(a);w.addEventListener("pointerdown",g,!0),w.addEventListener("mousedown",b,!0),w.addEventListener("contextmenu",b,!0);var C=Cb(n);return C&&(C.addEventListener("mousedown",b,!0),C.addEventListener("contextmenu",b,!0)),function(){w.removeEventListener("pointerdown",g,!0),w.removeEventListener("mousedown",b,!0),w.removeEventListener("contextmenu",b,!0),C&&(C.removeEventListener("mousedown",b,!0),C.removeEventListener("contextmenu",b,!0))}}},[t,n,a,r,i]);function f(){d.current=!0}return f}var oot=["prefixCls","children","action","showAction","hideAction","popupVisible","defaultPopupVisible","onPopupVisibleChange","afterPopupVisibleChange","mouseEnterDelay","mouseLeaveDelay","focusDelay","blurDelay","mask","maskClosable","getPopupContainer","forceRender","autoDestroy","destroyPopupOnHide","popup","popupClassName","popupStyle","popupPlacement","builtinPlacements","popupAlign","zIndex","stretch","getPopupClassNameFromAlign","fresh","alignPoint","onPopupClick","onPopupAlign","arrow","popupMotion","maskMotion","popupTransitionName","popupAnimation","maskTransitionName","maskAnimation","className","getTriggerDOMNode"];function cot(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:FP,t=_.forwardRef(function(n,a){var r=n.prefixCls,i=r===void 0?"rc-trigger-popup":r,o=n.children,c=n.action,l=c===void 0?"hover":c,d=n.showAction,f=n.hideAction,g=n.popupVisible,b=n.defaultPopupVisible,w=n.onPopupVisibleChange,C=n.afterPopupVisibleChange,S=n.mouseEnterDelay,k=n.mouseLeaveDelay,E=k===void 0?.1:k,D=n.focusDelay,R=n.blurDelay,P=n.mask,B=n.maskClosable,O=B===void 0?!0:B,$=n.getPopupContainer,U=n.forceRender,F=n.autoDestroy,H=n.destroyPopupOnHide,se=n.popup,K=n.popupClassName,te=n.popupStyle,J=n.popupPlacement,z=n.builtinPlacements,V=z===void 0?{}:z,M=n.popupAlign,ee=n.zIndex,Z=n.stretch,A=n.getPopupClassNameFromAlign,G=n.fresh,Q=n.alignPoint,Y=n.onPopupClick,ae=n.onPopupAlign,ne=n.arrow,re=n.popupMotion,oe=n.maskMotion,me=n.popupTransitionName,Ce=n.popupAnimation,Ne=n.maskTransitionName,Ee=n.maskAnimation,ve=n.className,Se=n.getTriggerDOMNode,fe=di(n,oot),de=F||H||!1,pe=_.useState(!1),ce=St(pe,2),Re=ce[0],Ae=ce[1];Ur(function(){Ae($it())},[]);var ie=_.useRef({}),ge=_.useContext(z9),be=_.useMemo(function(){return{registerSubPopup:function(rn,On){ie.current[rn]=On,ge==null||ge.registerSubPopup(rn,On)}}},[ge]),Fe=Frt(),je=_.useState(null),qe=St(je,2),tt=qe[0],he=qe[1],Ze=_.useRef(null),Pe=sr(function(jt){Ze.current=jt,Qg(jt)&&tt!==jt&&he(jt),ge==null||ge.registerSubPopup(Fe,jt)}),bt=_.useState(null),Ge=St(bt,2),ue=Ge[0],De=Ge[1],xe=_.useRef(null),Ye=sr(function(jt){Qg(jt)&&ue!==jt&&(De(jt),xe.current=jt)}),at=_.Children.only(o),lt=(at==null?void 0:at.props)||{},Mt={},pn=sr(function(jt){var rn,On,bs=ue;return(bs==null?void 0:bs.contains(jt))||((rn=Cb(bs))===null||rn===void 0?void 0:rn.host)===jt||jt===bs||(tt==null?void 0:tt.contains(jt))||((On=Cb(tt))===null||On===void 0?void 0:On.host)===jt||jt===tt||Object.values(ie.current).some(function(ws){return(ws==null?void 0:ws.contains(jt))||jt===ws})}),Qn=W9(i,re,Ce,me),yt=W9(i,oe,Ee,Ne),ln=_.useState(b||!1),fn=St(ln,2),jn=fn[0],dt=fn[1],It=g??jn,st=sr(function(jt){g===void 0&&dt(jt)});Ur(function(){dt(g||!1)},[g]);var Rt=_.useRef(It);Rt.current=It;var Lt=_.useRef([]);Lt.current=[];var on=sr(function(jt){var rn;st(jt),((rn=Lt.current[Lt.current.length-1])!==null&&rn!==void 0?rn:It)!==jt&&(Lt.current.push(jt),w==null||w(jt))}),vn=_.useRef(),ss=function(){clearTimeout(vn.current)},hs=function(rn){var On=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;ss(),On===0?on(rn):vn.current=setTimeout(function(){on(rn)},On*1e3)};_.useEffect(function(){return ss},[]);var xs=_.useState(!1),fs=St(xs,2),Hn=fs[0],Xt=fs[1];Ur(function(jt){(!jt||It)&&Xt(!0)},[It]);var ia=_.useState(null),Ca=St(ia,2),Vn=Ca[0],Na=Ca[1],Qs=_.useState(null),ta=St(Qs,2),vs=ta[0],za=ta[1],ur=function(rn){za([rn.clientX,rn.clientY])},Us=aot(It,tt,Q&&vs!==null?vs:ue,J,V,M,ae),Ms=St(Us,11),Xs=Ms[0],Cr=Ms[1],Ua=Ms[2],Qa=Ms[3],qt=Ms[4],Zn=Ms[5],Ts=Ms[6],rr=Ms[7],Ma=Ms[8],js=Ms[9],Ds=Ms[10],cs=tot(Re,l,d,f),qa=St(cs,2),ls=qa[0],sa=qa[1],Gs=ls.has("click"),Ks=sa.has("click")||sa.has("contextMenu"),vr=sr(function(){Hn||Ds()}),Ws=function(){Rt.current&&Q&&Ks&&hs(!1)};rot(It,ue,tt,vr,Ws),Ur(function(){vr()},[vs,J]),Ur(function(){It&&!(V!=null&&V[J])&&vr()},[JSON.stringify(M)]);var Ja=_.useMemo(function(){var jt=sot(V,i,js,Q);return zs(jt,A==null?void 0:A(js))},[js,A,V,i,Q]);_.useImperativeHandle(a,function(){return{nativeElement:xe.current,popupElement:Ze.current,forceAlign:vr}});var ji=_.useState(0),aa=St(ji,2),Rs=aa[0],qn=aa[1],it=_.useState(0),Le=St(it,2),Qe=Le[0],Tt=Le[1],Wt=function(){if(Z&&ue){var rn=ue.getBoundingClientRect();qn(rn.width),Tt(rn.height)}},zt=function(){Wt(),vr()},Xe=function(rn){Xt(!1),Ds(),C==null||C(rn)},et=function(){return new Promise(function(rn){Wt(),Na(function(){return rn})})};Ur(function(){Vn&&(Ds(),Vn(),Na(null))},[Vn]);function Je(jt,rn,On,bs){Mt[jt]=function(ws){var fa;bs==null||bs(ws),hs(rn,On);for(var ir=arguments.length,tr=new Array(ir>1?ir-1:0),Di=1;Di<ir;Di++)tr[Di-1]=arguments[Di];(fa=lt[jt])===null||fa===void 0||fa.call.apply(fa,[lt,ws].concat(tr))}}(Gs||Ks)&&(Mt.onClick=function(jt){var rn;Rt.current&&Ks?hs(!1):!Rt.current&&Gs&&(ur(jt),hs(!0));for(var On=arguments.length,bs=new Array(On>1?On-1:0),ws=1;ws<On;ws++)bs[ws-1]=arguments[ws];(rn=lt.onClick)===null||rn===void 0||rn.call.apply(rn,[lt,jt].concat(bs))});var ot=iot(It,Ks,ue,tt,P,O,pn,hs),Ut=ls.has("hover"),Ft=sa.has("hover"),In,gn;Ut&&(Je("onMouseEnter",!0,S,function(jt){ur(jt)}),Je("onPointerEnter",!0,S,function(jt){ur(jt)}),In=function(rn){(It||Hn)&&tt!==null&&tt!==void 0&&tt.contains(rn.target)&&hs(!0,S)},Q&&(Mt.onMouseMove=function(jt){var rn;(rn=lt.onMouseMove)===null||rn===void 0||rn.call(lt,jt)})),Ft&&(Je("onMouseLeave",!1,E),Je("onPointerLeave",!1,E),gn=function(){hs(!1,E)}),ls.has("focus")&&Je("onFocus",!0,D),sa.has("focus")&&Je("onBlur",!1,R),ls.has("contextMenu")&&(Mt.onContextMenu=function(jt){var rn;Rt.current&&sa.has("contextMenu")?hs(!1):(ur(jt),hs(!0)),jt.preventDefault();for(var On=arguments.length,bs=new Array(On>1?On-1:0),ws=1;ws<On;ws++)bs[ws-1]=arguments[ws];(rn=lt.onContextMenu)===null||rn===void 0||rn.call.apply(rn,[lt,jt].concat(bs))}),ve&&(Mt.className=zs(lt.className,ve));var Xn=_.useRef(!1);Xn.current||(Xn.current=U||It||Hn);var Gt=vt(vt({},lt),Mt),Dn={},hn=["onContextMenu","onClick","onMouseDown","onTouchStart","onMouseEnter","onMouseLeave","onFocus","onBlur"];hn.forEach(function(jt){fe[jt]&&(Dn[jt]=function(){for(var rn,On=arguments.length,bs=new Array(On),ws=0;ws<On;ws++)bs[ws]=arguments[ws];(rn=Gt[jt])===null||rn===void 0||rn.call.apply(rn,[Gt].concat(bs)),fe[jt].apply(fe,bs)})});var as=_.cloneElement(at,vt(vt({},Gt),Dn)),Qt={x:Zn,y:Ts},ys=ne?vt({},ne!==!0?ne:{}):null;return _.createElement(_.Fragment,null,_.createElement(af,{disabled:!It,ref:Ye,onResize:zt},_.createElement(eot,{getTriggerDOMNode:Se},as)),Xn.current&&_.createElement(z9.Provider,{value:be},_.createElement(Jit,{portal:e,ref:Pe,prefixCls:i,popup:se,className:zs(K,Ja),style:te,target:ue,onMouseEnter:In,onMouseLeave:gn,onPointerEnter:In,zIndex:ee,open:It,keepDom:Hn,fresh:G,onClick:Y,onPointerDownCapture:ot,mask:P,motion:Qn,maskMotion:yt,onVisibleChanged:Xe,onPrepare:et,forceRender:U,autoDestroy:de,getPopupContainer:$,align:js,arrow:ys,arrowPos:Qt,ready:Xs,offsetX:Cr,offsetY:Ua,offsetR:Qa,offsetB:qt,onAlign:vr,stretch:Z,targetWidth:Rs/rr,targetHeight:Qe/Ma})))});return t}const lot=cot(FP);function ZP(e,t,n){return zs({[`${e}-status-success`]:t==="success",[`${e}-status-warning`]:t==="warning",[`${e}-status-error`]:t==="error",[`${e}-status-validating`]:t==="validating",[`${e}-has-feedback`]:n})}const JP=(e,t)=>t||e,eF=(e,t,n=void 0)=>{var a,r;const{variant:i,[e]:o}=_.useContext(Io),c=_.useContext(Oit),l=o==null?void 0:o.variant;let d;typeof t<"u"?d=t:n===!1?d="borderless":d=(r=(a=c??l)!==null&&a!==void 0?a:i)!==null&&r!==void 0?r:"outlined";const f=vnt.includes(d);return[d,f]},uot=e=>{const{multipleSelectItemHeight:t,paddingXXS:n,lineWidth:a,INTERNAL_FIXED_ITEM_MARGIN:r}=e,i=e.max(e.calc(n).sub(a).equal(),0),o=e.max(e.calc(i).sub(r).equal(),0);return{basePadding:i,containerPadding:o,itemHeight:ms(t),itemLineHeight:ms(e.calc(t).sub(e.calc(e.lineWidth).mul(2)).equal())}},dot=e=>{const{componentCls:t,iconCls:n,borderRadiusSM:a,motionDurationSlow:r,paddingXS:i,multipleItemColorDisabled:o,multipleItemBorderColorDisabled:c,colorIcon:l,colorIconHover:d,INTERNAL_FIXED_ITEM_MARGIN:f}=e;return{[`${t}-selection-overflow`]:{position:"relative",display:"flex",flex:"auto",flexWrap:"wrap",maxWidth:"100%","&-item":{flex:"none",alignSelf:"center",maxWidth:"calc(100% - 4px)",display:"inline-flex"},[`${t}-selection-item`]:{display:"flex",alignSelf:"center",flex:"none",boxSizing:"border-box",maxWidth:"100%",marginBlock:f,borderRadius:a,cursor:"default",transition:`font-size ${r}, line-height ${r}, height ${r}`,marginInlineEnd:e.calc(f).mul(2).equal(),paddingInlineStart:i,paddingInlineEnd:e.calc(i).div(2).equal(),[`${t}-disabled&`]:{color:o,borderColor:c,cursor:"not-allowed"},"&-content":{display:"inline-block",marginInlineEnd:e.calc(i).div(2).equal(),overflow:"hidden",whiteSpace:"pre",textOverflow:"ellipsis"},"&-remove":Object.assign(Object.assign({},G4()),{display:"inline-flex",alignItems:"center",color:l,fontWeight:"bold",fontSize:10,lineHeight:"inherit",cursor:"pointer",[`> ${n}`]:{verticalAlign:"-0.2em"},"&:hover":{color:d}})}}}};var hot={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M912 190h-69.9c-9.8 0-19.1 4.5-25.1 12.2L404.7 724.5 207 474a32 32 0 00-25.1-12.2H112c-6.7 0-10.4 7.7-6.3 12.9l273.9 347c12.8 16.2 37.4 16.2 50.3 0l488.4-618.9c4.1-5.1.4-12.8-6.3-12.8z"}}]},name:"check",theme:"outlined"},fot=function(t,n){return _.createElement(Pc,Es({},t,{ref:n,icon:hot}))},mot=_.forwardRef(fot),pot={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M884 256h-75c-5.1 0-9.9 2.5-12.9 6.6L512 654.2 227.9 262.6c-3-4.1-7.8-6.6-12.9-6.6h-75c-6.5 0-10.3 7.4-6.5 12.7l352.6 486.1c12.8 17.6 39 17.6 51.7 0l352.6-486.1c3.9-5.3.1-12.7-6.4-12.7z"}}]},name:"down",theme:"outlined"},got=function(t,n){return _.createElement(Pc,Es({},t,{ref:n,icon:pot}))},_ot=_.forwardRef(got),vot={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M909.6 854.5L649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0011.6 0l43.6-43.5a8.2 8.2 0 000-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z"}}]},name:"search",theme:"outlined"},xot=function(t,n){return _.createElement(Pc,Es({},t,{ref:n,icon:vot}))},bot=_.forwardRef(xot);function yot({suffixIcon:e,clearIcon:t,menuItemSelectedIcon:n,removeIcon:a,loading:r,multiple:i,hasFeedback:o,prefixCls:c,showSuffixIcon:l,feedbackIcon:d,showArrow:f,componentName:g}){const b=t??_.createElement(qst,null),w=E=>e===null&&!o&&!f?null:_.createElement(_.Fragment,null,l!==!1&&E,o&&d);let C=null;if(e!==void 0)C=w(e);else if(r)C=w(_.createElement(jP,{spin:!0}));else{const E=`${c}-suffix`;C=({open:D,showSearch:R})=>w(D&&R?_.createElement(bot,{className:E}):_.createElement(_ot,{className:E}))}let S=null;n!==void 0?S=n:i?S=_.createElement(mot,null):S=null;let k=null;return a!==void 0?k=a:k=_.createElement(Ust,null),{clearIcon:b,suffixIcon:C,itemIcon:S,removeIcon:k}}function wot(e){const{sizePopupArrow:t,borderRadiusXS:n,borderRadiusOuter:a}=e,r=t/2,i=0,o=r,c=a*1/Math.sqrt(2),l=r-a*(1-1/Math.sqrt(2)),d=r-n*(1/Math.sqrt(2)),f=a*(Math.sqrt(2)-1)+n*(1/Math.sqrt(2)),g=2*r-d,b=f,w=2*r-c,C=l,S=2*r-i,k=o,E=r*Math.sqrt(2)+a*(Math.sqrt(2)-2),D=a*(Math.sqrt(2)-1),R=`polygon(${D}px 100%, 50% ${D}px, ${2*r-D}px 100%, ${D}px 100%)`,P=`path('M ${i} ${o} A ${a} ${a} 0 0 0 ${c} ${l} L ${d} ${f} A ${n} ${n} 0 0 1 ${g} ${b} L ${w} ${C} A ${a} ${a} 0 0 0 ${S} ${k} Z')`;return{arrowShadowWidth:E,arrowPath:P,arrowPolygon:R}}const jot=(e,t,n)=>{const{sizePopupArrow:a,arrowPolygon:r,arrowPath:i,arrowShadowWidth:o,borderRadiusXS:c,calc:l}=e;return{pointerEvents:"none",width:a,height:a,overflow:"hidden","&::before":{position:"absolute",bottom:0,insetInlineStart:0,width:a,height:l(a).div(2).equal(),background:t,clipPath:{_multi_value_:!0,value:[r,i]},content:'""'},"&::after":{content:'""',position:"absolute",width:o,height:o,bottom:0,insetInline:0,margin:"auto",borderRadius:{_skip_check_:!0,value:`0 0 ${ms(c)} 0`},transform:"translateY(50%) rotate(-135deg)",boxShadow:n,zIndex:0,background:"transparent"}}};var _x={exports:{}},Cot=_x.exports,K9;function Sot(){return K9||(K9=1,function(e,t){(function(n,a){e.exports=a()})(Cot,function(){return function(n,a){a.prototype.weekday=function(r){var i=this.$locale().weekStart||0,o=this.$W,c=(o<i?o+7:o)-i;return this.$utils().u(r)?c:this.subtract(c,"day").add(r,"day")}}})}(_x)),_x.exports}var Not=Sot();const kot=Ti(Not);var vx={exports:{}},Iot=vx.exports,Z9;function Eot(){return Z9||(Z9=1,function(e,t){(function(n,a){e.exports=a()})(Iot,function(){return function(n,a,r){var i=a.prototype,o=function(g){return g&&(g.indexOf?g:g.s)},c=function(g,b,w,C,S){var k=g.name?g:g.$locale(),E=o(k[b]),D=o(k[w]),R=E||D.map(function(B){return B.slice(0,C)});if(!S)return R;var P=k.weekStart;return R.map(function(B,O){return R[(O+(P||0))%7]})},l=function(){return r.Ls[r.locale()]},d=function(g,b){return g.formats[b]||function(w){return w.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(C,S,k){return S||k.slice(1)})}(g.formats[b.toUpperCase()])},f=function(){var g=this;return{months:function(b){return b?b.format("MMMM"):c(g,"months")},monthsShort:function(b){return b?b.format("MMM"):c(g,"monthsShort","months",3)},firstDayOfWeek:function(){return g.$locale().weekStart||0},weekdays:function(b){return b?b.format("dddd"):c(g,"weekdays")},weekdaysMin:function(b){return b?b.format("dd"):c(g,"weekdaysMin","weekdays",2)},weekdaysShort:function(b){return b?b.format("ddd"):c(g,"weekdaysShort","weekdays",3)},longDateFormat:function(b){return d(g.$locale(),b)},meridiem:this.$locale().meridiem,ordinal:this.$locale().ordinal}};i.localeData=function(){return f.bind(this)()},r.localeData=function(){var g=l();return{firstDayOfWeek:function(){return g.weekStart||0},weekdays:function(){return r.weekdays()},weekdaysShort:function(){return r.weekdaysShort()},weekdaysMin:function(){return r.weekdaysMin()},months:function(){return r.months()},monthsShort:function(){return r.monthsShort()},longDateFormat:function(b){return d(g,b)},meridiem:g.meridiem,ordinal:g.ordinal}},r.months=function(){return c(l(),"months")},r.monthsShort=function(){return c(l(),"monthsShort","months",3)},r.weekdays=function(g){return c(l(),"weekdays",null,null,g)},r.weekdaysShort=function(g){return c(l(),"weekdaysShort","weekdays",3,g)},r.weekdaysMin=function(g){return c(l(),"weekdaysMin","weekdays",2,g)}}})}(vx)),vx.exports}var Tot=Eot();const Dot=Ti(Tot);var xx={exports:{}},Aot=xx.exports,J9;function Mot(){return J9||(J9=1,function(e,t){(function(n,a){e.exports=a()})(Aot,function(){var n="week",a="year";return function(r,i,o){var c=i.prototype;c.week=function(l){if(l===void 0&&(l=null),l!==null)return this.add(7*(l-this.week()),"day");var d=this.$locale().yearStart||1;if(this.month()===11&&this.date()>25){var f=o(this).startOf(a).add(1,a).date(d),g=o(this).endOf(n);if(f.isBefore(g))return 1}var b=o(this).startOf(a).date(d).startOf(n).subtract(1,"millisecond"),w=this.diff(b,n,!0);return w<0?o(this).startOf("week").week():Math.ceil(w)},c.weeks=function(l){return l===void 0&&(l=null),this.week(l)}}})}(xx)),xx.exports}var Rot=Mot();const Bot=Ti(Rot);var bx={exports:{}},Oot=bx.exports,eA;function Lot(){return eA||(eA=1,function(e,t){(function(n,a){e.exports=a()})(Oot,function(){return function(n,a){a.prototype.weekYear=function(){var r=this.month(),i=this.week(),o=this.year();return i===1&&r===11?o+1:r===0&&i>=52?o-1:o}}})}(bx)),bx.exports}var $ot=Lot();const Pot=Ti($ot);var yx={exports:{}},Fot=yx.exports,tA;function Hot(){return tA||(tA=1,function(e,t){(function(n,a){e.exports=a()})(Fot,function(){return function(n,a){var r=a.prototype,i=r.format;r.format=function(o){var c=this,l=this.$locale();if(!this.isValid())return i.bind(this)(o);var d=this.$utils(),f=(o||"YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,function(g){switch(g){case"Q":return Math.ceil((c.$M+1)/3);case"Do":return l.ordinal(c.$D);case"gggg":return c.weekYear();case"GGGG":return c.isoWeekYear();case"wo":return l.ordinal(c.week(),"W");case"w":case"ww":return d.s(c.week(),g==="w"?1:2,"0");case"W":case"WW":return d.s(c.isoWeek(),g==="W"?1:2,"0");case"k":case"kk":return d.s(String(c.$H===0?24:c.$H),g==="k"?1:2,"0");case"X":return Math.floor(c.$d.getTime()/1e3);case"x":return c.$d.getTime();case"z":return"["+c.offsetName()+"]";case"zzz":return"["+c.offsetName("long")+"]";default:return g}});return i.bind(this)(f)}}})}(yx)),yx.exports}var qot=Hot();const Vot=Ti(qot);var wx={exports:{}},zot=wx.exports,nA;function Uot(){return nA||(nA=1,function(e,t){(function(n,a){e.exports=a()})(zot,function(){var n={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},a=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|Q|YYYY|YY?|ww?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,r=/\d/,i=/\d\d/,o=/\d\d?/,c=/\d*[^-_:/,()\s\d]+/,l={},d=function(k){return(k=+k)+(k>68?1900:2e3)},f=function(k){return function(E){this[k]=+E}},g=[/[+-]\d\d:?(\d\d)?|Z/,function(k){(this.zone||(this.zone={})).offset=function(E){if(!E||E==="Z")return 0;var D=E.match(/([+-]|\d\d)/g),R=60*D[1]+(+D[2]||0);return R===0?0:D[0]==="+"?-R:R}(k)}],b=function(k){var E=l[k];return E&&(E.indexOf?E:E.s.concat(E.f))},w=function(k,E){var D,R=l.meridiem;if(R){for(var P=1;P<=24;P+=1)if(k.indexOf(R(P,0,E))>-1){D=P>12;break}}else D=k===(E?"pm":"PM");return D},C={A:[c,function(k){this.afternoon=w(k,!1)}],a:[c,function(k){this.afternoon=w(k,!0)}],Q:[r,function(k){this.month=3*(k-1)+1}],S:[r,function(k){this.milliseconds=100*+k}],SS:[i,function(k){this.milliseconds=10*+k}],SSS:[/\d{3}/,function(k){this.milliseconds=+k}],s:[o,f("seconds")],ss:[o,f("seconds")],m:[o,f("minutes")],mm:[o,f("minutes")],H:[o,f("hours")],h:[o,f("hours")],HH:[o,f("hours")],hh:[o,f("hours")],D:[o,f("day")],DD:[i,f("day")],Do:[c,function(k){var E=l.ordinal,D=k.match(/\d+/);if(this.day=D[0],E)for(var R=1;R<=31;R+=1)E(R).replace(/\[|\]/g,"")===k&&(this.day=R)}],w:[o,f("week")],ww:[i,f("week")],M:[o,f("month")],MM:[i,f("month")],MMM:[c,function(k){var E=b("months"),D=(b("monthsShort")||E.map(function(R){return R.slice(0,3)})).indexOf(k)+1;if(D<1)throw new Error;this.month=D%12||D}],MMMM:[c,function(k){var E=b("months").indexOf(k)+1;if(E<1)throw new Error;this.month=E%12||E}],Y:[/[+-]?\d+/,f("year")],YY:[i,function(k){this.year=d(k)}],YYYY:[/\d{4}/,f("year")],Z:g,ZZ:g};function S(k){var E,D;E=k,D=l&&l.formats;for(var R=(k=E.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(H,se,K){var te=K&&K.toUpperCase();return se||D[K]||n[K]||D[te].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(J,z,V){return z||V.slice(1)})})).match(a),P=R.length,B=0;B<P;B+=1){var O=R[B],$=C[O],U=$&&$[0],F=$&&$[1];R[B]=F?{regex:U,parser:F}:O.replace(/^\[|\]$/g,"")}return function(H){for(var se={},K=0,te=0;K<P;K+=1){var J=R[K];if(typeof J=="string")te+=J.length;else{var z=J.regex,V=J.parser,M=H.slice(te),ee=z.exec(M)[0];V.call(se,ee),H=H.replace(ee,"")}}return function(Z){var A=Z.afternoon;if(A!==void 0){var G=Z.hours;A?G<12&&(Z.hours+=12):G===12&&(Z.hours=0),delete Z.afternoon}}(se),se}}return function(k,E,D){D.p.customParseFormat=!0,k&&k.parseTwoDigitYear&&(d=k.parseTwoDigitYear);var R=E.prototype,P=R.parse;R.parse=function(B){var O=B.date,$=B.utc,U=B.args;this.$u=$;var F=U[1];if(typeof F=="string"){var H=U[2]===!0,se=U[3]===!0,K=H||se,te=U[2];se&&(te=U[2]),l=this.$locale(),!H&&te&&(l=D.Ls[te]),this.$d=function(M,ee,Z,A){try{if(["x","X"].indexOf(ee)>-1)return new Date((ee==="X"?1e3:1)*M);var G=S(ee)(M),Q=G.year,Y=G.month,ae=G.day,ne=G.hours,re=G.minutes,oe=G.seconds,me=G.milliseconds,Ce=G.zone,Ne=G.week,Ee=new Date,ve=ae||(Q||Y?1:Ee.getDate()),Se=Q||Ee.getFullYear(),fe=0;Q&&!Y||(fe=Y>0?Y-1:Ee.getMonth());var de,pe=ne||0,ce=re||0,Re=oe||0,Ae=me||0;return Ce?new Date(Date.UTC(Se,fe,ve,pe,ce,Re,Ae+60*Ce.offset*1e3)):Z?new Date(Date.UTC(Se,fe,ve,pe,ce,Re,Ae)):(de=new Date(Se,fe,ve,pe,ce,Re,Ae),Ne&&(de=A(de).week(Ne).toDate()),de)}catch{return new Date("")}}(O,F,$,D),this.init(),te&&te!==!0&&(this.$L=this.locale(te).$L),K&&O!=this.format(F)&&(this.$d=new Date("")),l={}}else if(F instanceof Array)for(var J=F.length,z=1;z<=J;z+=1){U[1]=F[z-1];var V=D.apply(this,U);if(V.isValid()){this.$d=V.$d,this.$L=V.$L,this.init();break}z===J&&(this.$d=new Date(""))}else P.call(this,B)}}})}(wx)),wx.exports}var Wot=Uot();const Yot=Ti(Wot);Kn.extend(Yot);Kn.extend(Vot);Kn.extend(kot);Kn.extend(Dot);Kn.extend(Bot);Kn.extend(Pot);Kn.extend(function(e,t){var n=t.prototype,a=n.format;n.format=function(i){var o=(i||"").replace("Wo","wo");return a.bind(this)(o)}});var Got={bn_BD:"bn-bd",by_BY:"be",en_GB:"en-gb",en_US:"en",fr_BE:"fr",fr_CA:"fr-ca",hy_AM:"hy-am",kmr_IQ:"ku",nl_BE:"nl-be",pt_BR:"pt-br",zh_CN:"zh-cn",zh_HK:"zh-hk",zh_TW:"zh-tw"},fh=function(t){var n=Got[t];return n||t.split("_")[0]},Qot={getNow:function(){var t=Kn();return typeof t.tz=="function"?t.tz():t},getFixedDate:function(t){return Kn(t,["YYYY-M-DD","YYYY-MM-DD"])},getEndDate:function(t){return t.endOf("month")},getWeekDay:function(t){var n=t.locale("en");return n.weekday()+n.localeData().firstDayOfWeek()},getYear:function(t){return t.year()},getMonth:function(t){return t.month()},getDate:function(t){return t.date()},getHour:function(t){return t.hour()},getMinute:function(t){return t.minute()},getSecond:function(t){return t.second()},getMillisecond:function(t){return t.millisecond()},addYear:function(t,n){return t.add(n,"year")},addMonth:function(t,n){return t.add(n,"month")},addDate:function(t,n){return t.add(n,"day")},setYear:function(t,n){return t.year(n)},setMonth:function(t,n){return t.month(n)},setDate:function(t,n){return t.date(n)},setHour:function(t,n){return t.hour(n)},setMinute:function(t,n){return t.minute(n)},setSecond:function(t,n){return t.second(n)},setMillisecond:function(t,n){return t.millisecond(n)},isAfter:function(t,n){return t.isAfter(n)},isValidate:function(t){return t.isValid()},locale:{getWeekFirstDay:function(t){return Kn().locale(fh(t)).localeData().firstDayOfWeek()},getWeekFirstDate:function(t,n){return n.locale(fh(t)).weekday(0)},getWeek:function(t,n){return n.locale(fh(t)).week()},getShortWeekDays:function(t){return Kn().locale(fh(t)).localeData().weekdaysMin()},getShortMonths:function(t){return Kn().locale(fh(t)).localeData().monthsShort()},format:function(t,n,a){return n.locale(fh(t)).format(a)},parse:function(t,n,a){for(var r=fh(t),i=0;i<a.length;i+=1){var o=a[i],c=n;if(o.includes("wo")||o.includes("Wo")){for(var l=c.split("-")[0],d=c.split("-")[1],f=Kn(l,"YYYY").startOf("year").locale(r),g=0;g<=52;g+=1){var b=f.add(g,"week");if(b.format("Wo")===d)return b}return null}var w=Kn(c,o,!0).locale(r);if(w.isValid())return w}return null}}};function Xot(e,t){return e!==void 0?e:t?"bottomRight":"bottomLeft"}var ul=_.createContext(null),Kot={bottomLeft:{points:["tl","bl"],offset:[0,4],overflow:{adjustX:1,adjustY:1}},bottomRight:{points:["tr","br"],offset:[0,4],overflow:{adjustX:1,adjustY:1}},topLeft:{points:["bl","tl"],offset:[0,-4],overflow:{adjustX:0,adjustY:1}},topRight:{points:["br","tr"],offset:[0,-4],overflow:{adjustX:0,adjustY:1}}};function tF(e){var t=e.popupElement,n=e.popupStyle,a=e.popupClassName,r=e.popupAlign,i=e.transitionName,o=e.getPopupContainer,c=e.children,l=e.range,d=e.placement,f=e.builtinPlacements,g=f===void 0?Kot:f,b=e.direction,w=e.visible,C=e.onClose,S=_.useContext(ul),k=S.prefixCls,E="".concat(k,"-dropdown"),D=Xot(d,b==="rtl");return _.createElement(lot,{showAction:[],hideAction:["click"],popupPlacement:D,builtinPlacements:g,prefixCls:E,popupTransitionName:i,popup:t,popupAlign:r,popupVisible:w,popupClassName:zs(a,pt(pt({},"".concat(E,"-range"),l),"".concat(E,"-rtl"),b==="rtl")),popupStyle:n,stretch:"minWidth",getPopupContainer:o,onPopupVisibleChange:function(P){P||C()}},c)}function i6(e,t){for(var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"0",a=String(e);a.length<t;)a="".concat(n).concat(a);return a}function cf(e){return e==null?[]:Array.isArray(e)?e:[e]}function Sg(e,t,n){var a=ps(e);return a[t]=n,a}function Ly(e,t){var n={},a=t||Object.keys(e);return a.forEach(function(r){e[r]!==void 0&&(n[r]=e[r])}),n}function nF(e,t,n){if(n)return n;switch(e){case"time":return t.fieldTimeFormat;case"datetime":return t.fieldDateTimeFormat;case"month":return t.fieldMonthFormat;case"year":return t.fieldYearFormat;case"quarter":return t.fieldQuarterFormat;case"week":return t.fieldWeekFormat;default:return t.fieldDateFormat}}function sF(e,t,n){var a=n!==void 0?n:t[t.length-1],r=t.find(function(i){return e[i]});return a!==r?e[r]:void 0}function aF(e){return Ly(e,["placement","builtinPlacements","popupAlign","getPopupContainer","transitionName","direction"])}function o6(e,t,n,a){var r=_.useMemo(function(){return e||function(o,c){var l=o;return t&&c.type==="date"?t(l,c.today):n&&c.type==="month"?n(l,c.locale):c.originNode}},[e,n,t]),i=_.useCallback(function(o,c){return r(o,vt(vt({},c),{},{range:a}))},[r,a]);return i}function rF(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],a=_.useState([!1,!1]),r=St(a,2),i=r[0],o=r[1],c=function(f,g){o(function(b){return Sg(b,g,f)})},l=_.useMemo(function(){return i.map(function(d,f){if(d)return!0;var g=e[f];return g?!!(!n[f]&&!g||g&&t(g,{activeIndex:f})):!1})},[e,i,t,n]);return[l,c]}function iF(e,t,n,a,r){var i="",o=[];return e&&o.push(r?"hh":"HH"),t&&o.push("mm"),n&&o.push("ss"),i=o.join(":"),a&&(i+=".SSS"),r&&(i+=" A"),i}function Zot(e,t,n,a,r,i){var o=e.fieldDateTimeFormat,c=e.fieldDateFormat,l=e.fieldTimeFormat,d=e.fieldMonthFormat,f=e.fieldYearFormat,g=e.fieldWeekFormat,b=e.fieldQuarterFormat,w=e.yearFormat,C=e.cellYearFormat,S=e.cellQuarterFormat,k=e.dayFormat,E=e.cellDateFormat,D=iF(t,n,a,r,i);return vt(vt({},e),{},{fieldDateTimeFormat:o||"YYYY-MM-DD ".concat(D),fieldDateFormat:c||"YYYY-MM-DD",fieldTimeFormat:l||D,fieldMonthFormat:d||"YYYY-MM",fieldYearFormat:f||"YYYY",fieldWeekFormat:g||"gggg-wo",fieldQuarterFormat:b||"YYYY-[Q]Q",yearFormat:w||"YYYY",cellYearFormat:C||"YYYY",cellQuarterFormat:S||"[Q]Q",cellDateFormat:E||k||"D"})}function oF(e,t){var n=t.showHour,a=t.showMinute,r=t.showSecond,i=t.showMillisecond,o=t.use12Hours;return nt.useMemo(function(){return Zot(e,n,a,r,i,o)},[e,n,a,r,i,o])}function R1(e,t,n){return n??t.some(function(a){return e.includes(a)})}var Jot=["showNow","showHour","showMinute","showSecond","showMillisecond","use12Hours","hourStep","minuteStep","secondStep","millisecondStep","hideDisabledOptions","defaultValue","disabledHours","disabledMinutes","disabledSeconds","disabledMilliseconds","disabledTime","changeOnScroll","defaultOpenValue"];function ect(e){var t=Ly(e,Jot),n=e.format,a=e.picker,r=null;return n&&(r=n,Array.isArray(r)&&(r=r[0]),r=Ls(r)==="object"?r.format:r),a==="time"&&(t.format=r),[t,r]}function tct(e){return e&&typeof e=="string"}function cF(e,t,n,a){return[e,t,n,a].some(function(r){return r!==void 0})}function lF(e,t,n,a,r){var i=t,o=n,c=a;if(!e&&!i&&!o&&!c&&!r)i=!0,o=!0,c=!0;else if(e){var l,d,f,g=[i,o,c].some(function(C){return C===!1}),b=[i,o,c].some(function(C){return C===!0}),w=g?!0:!b;i=(l=i)!==null&&l!==void 0?l:w,o=(d=o)!==null&&d!==void 0?d:w,c=(f=c)!==null&&f!==void 0?f:w}return[i,o,c,r]}function uF(e){var t=e.showTime,n=ect(e),a=St(n,2),r=a[0],i=a[1],o=t&&Ls(t)==="object"?t:{},c=vt(vt({defaultOpenValue:o.defaultOpenValue||o.defaultValue},r),o),l=c.showMillisecond,d=c.showHour,f=c.showMinute,g=c.showSecond,b=cF(d,f,g,l),w=lF(b,d,f,g,l),C=St(w,3);return d=C[0],f=C[1],g=C[2],[c,vt(vt({},c),{},{showHour:d,showMinute:f,showSecond:g,showMillisecond:l}),c.format,i]}function dF(e,t,n,a,r){var i=e==="time";if(e==="datetime"||i){for(var o=a,c=nF(e,r,null),l=c,d=[t,n],f=0;f<d.length;f+=1){var g=cf(d[f])[0];if(tct(g)){l=g;break}}var b=o.showHour,w=o.showMinute,C=o.showSecond,S=o.showMillisecond,k=o.use12Hours,E=R1(l,["a","A","LT","LLL","LTS"],k),D=cF(b,w,C,S);D||(b=R1(l,["H","h","k","LT","LLL"]),w=R1(l,["m","LT","LLL"]),C=R1(l,["s","LTS"]),S=R1(l,["SSS"]));var R=lF(D,b,w,C,S),P=St(R,3);b=P[0],w=P[1],C=P[2];var B=t||iF(b,w,C,S,E);return vt(vt({},o),{},{format:B,showHour:b,showMinute:w,showSecond:C,showMillisecond:S,use12Hours:E})}return null}function nct(e,t,n){if(t===!1)return null;var a=t&&Ls(t)==="object"?t:{};return a.clearIcon||n||_.createElement("span",{className:"".concat(e,"-clear-btn")})}var yC=7;function Hd(e,t,n){return!e&&!t||e===t?!0:!e||!t?!1:n()}function YN(e,t,n){return Hd(t,n,function(){var a=Math.floor(e.getYear(t)/10),r=Math.floor(e.getYear(n)/10);return a===r})}function Jh(e,t,n){return Hd(t,n,function(){return e.getYear(t)===e.getYear(n)})}function sA(e,t){var n=Math.floor(e.getMonth(t)/3);return n+1}function sct(e,t,n){return Hd(t,n,function(){return Jh(e,t,n)&&sA(e,t)===sA(e,n)})}function c6(e,t,n){return Hd(t,n,function(){return Jh(e,t,n)&&e.getMonth(t)===e.getMonth(n)})}function l6(e,t,n){return Hd(t,n,function(){return Jh(e,t,n)&&c6(e,t,n)&&e.getDate(t)===e.getDate(n)})}function hF(e,t,n){return Hd(t,n,function(){return e.getHour(t)===e.getHour(n)&&e.getMinute(t)===e.getMinute(n)&&e.getSecond(t)===e.getSecond(n)})}function fF(e,t,n){return Hd(t,n,function(){return l6(e,t,n)&&hF(e,t,n)&&e.getMillisecond(t)===e.getMillisecond(n)})}function sg(e,t,n,a){return Hd(n,a,function(){var r=e.locale.getWeekFirstDate(t,n),i=e.locale.getWeekFirstDate(t,a);return Jh(e,r,i)&&e.locale.getWeek(t,n)===e.locale.getWeek(t,a)})}function _o(e,t,n,a,r){switch(r){case"date":return l6(e,n,a);case"week":return sg(e,t.locale,n,a);case"month":return c6(e,n,a);case"quarter":return sct(e,n,a);case"year":return Jh(e,n,a);case"decade":return YN(e,n,a);case"time":return hF(e,n,a);default:return fF(e,n,a)}}function $y(e,t,n,a){return!t||!n||!a?!1:e.isAfter(a,t)&&e.isAfter(n,a)}function Nv(e,t,n,a,r){return _o(e,t,n,a,r)?!0:e.isAfter(n,a)}function act(e,t,n){var a=t.locale.getWeekFirstDay(e),r=t.setDate(n,1),i=t.getWeekDay(r),o=t.addDate(r,a-i);return t.getMonth(o)===t.getMonth(n)&&t.getDate(o)>1&&(o=t.addDate(o,-7)),o}function Oi(e,t){var n=t.generateConfig,a=t.locale,r=t.format;return e?typeof r=="function"?r(e):n.locale.format(a.locale,e,r):""}function Tb(e,t,n){var a=t,r=["getHour","getMinute","getSecond","getMillisecond"],i=["setHour","setMinute","setSecond","setMillisecond"];return i.forEach(function(o,c){n?a=e[o](a,e[r[c]](n)):a=e[o](a,0)}),a}function rct(e,t,n,a,r){var i=sr(function(o,c){return!!(n&&n(o,c)||a&&e.isAfter(a,o)&&!_o(e,t,a,o,c.type)||r&&e.isAfter(o,r)&&!_o(e,t,r,o,c.type))});return i}function ict(e,t,n){return _.useMemo(function(){var a=nF(e,t,n),r=cf(a),i=r[0],o=Ls(i)==="object"&&i.type==="mask"?i.format:null;return[r.map(function(c){return typeof c=="string"||typeof c=="function"?c:c.format}),o]},[e,t,n])}function oct(e,t,n){return typeof e[0]=="function"||n?!0:t}function cct(e,t,n,a){var r=sr(function(i,o){var c=vt({type:t},o);if(delete c.activeIndex,!e.isValidate(i)||n&&n(i,c))return!0;if((t==="date"||t==="time")&&a){var l,d=o&&o.activeIndex===1?"end":"start",f=((l=a.disabledTime)===null||l===void 0?void 0:l.call(a,i,d,{from:c.from}))||{},g=f.disabledHours,b=f.disabledMinutes,w=f.disabledSeconds,C=f.disabledMilliseconds,S=a.disabledHours,k=a.disabledMinutes,E=a.disabledSeconds,D=g||S,R=b||k,P=w||E,B=e.getHour(i),O=e.getMinute(i),$=e.getSecond(i),U=e.getMillisecond(i);if(D&&D().includes(B)||R&&R(B).includes(O)||P&&P(B,O).includes($)||C&&C(B,O,$).includes(U))return!0}return!1});return r}function kv(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=_.useMemo(function(){var a=e&&cf(e);return t&&a&&(a[1]=a[1]||a[0]),a},[e,t]);return n}function mF(e,t){var n=e.generateConfig,a=e.locale,r=e.picker,i=r===void 0?"date":r,o=e.prefixCls,c=o===void 0?"rc-picker":o,l=e.styles,d=l===void 0?{}:l,f=e.classNames,g=f===void 0?{}:f,b=e.order,w=b===void 0?!0:b,C=e.components,S=C===void 0?{}:C,k=e.inputRender,E=e.allowClear,D=e.clearIcon,R=e.needConfirm,P=e.multiple,B=e.format,O=e.inputReadOnly,$=e.disabledDate,U=e.minDate,F=e.maxDate,H=e.showTime,se=e.value,K=e.defaultValue,te=e.pickerValue,J=e.defaultPickerValue,z=kv(se),V=kv(K),M=kv(te),ee=kv(J),Z=i==="date"&&H?"datetime":i,A=Z==="time"||Z==="datetime",G=A||P,Q=R??A,Y=uF(e),ae=St(Y,4),ne=ae[0],re=ae[1],oe=ae[2],me=ae[3],Ce=oF(a,re),Ne=_.useMemo(function(){return dF(Z,oe,me,ne,Ce)},[Z,oe,me,ne,Ce]),Ee=_.useMemo(function(){return vt(vt({},e),{},{prefixCls:c,locale:Ce,picker:i,styles:d,classNames:g,order:w,components:vt({input:k},S),clearIcon:nct(c,E,D),showTime:Ne,value:z,defaultValue:V,pickerValue:M,defaultPickerValue:ee},t==null?void 0:t())},[e]),ve=ict(Z,Ce,B),Se=St(ve,2),fe=Se[0],de=Se[1],pe=oct(fe,O,P),ce=rct(n,a,$,U,F),Re=cct(n,i,ce,Ne),Ae=_.useMemo(function(){return vt(vt({},Ee),{},{needConfirm:Q,inputReadOnly:pe,disabledDate:ce})},[Ee,Q,pe,ce]);return[Ae,Z,G,fe,de,Re]}function lct(e,t,n){var a=Pl(t,{value:e}),r=St(a,2),i=r[0],o=r[1],c=nt.useRef(e),l=nt.useRef(),d=function(){no.cancel(l.current)},f=sr(function(){o(c.current),n&&i!==c.current&&n(c.current)}),g=sr(function(b,w){d(),c.current=b,b||w?f():l.current=no(f)});return nt.useEffect(function(){return d},[]),[i,g]}function pF(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],a=arguments.length>3?arguments[3]:void 0,r=n.every(function(f){return f})?!1:e,i=lct(r,t||!1,a),o=St(i,2),c=o[0],l=o[1];function d(f){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};(!g.inherit||c)&&l(f,g.force)}return[c,d]}function gF(e){var t=_.useRef();return _.useImperativeHandle(e,function(){var n;return{nativeElement:(n=t.current)===null||n===void 0?void 0:n.nativeElement,focus:function(r){var i;(i=t.current)===null||i===void 0||i.focus(r)},blur:function(){var r;(r=t.current)===null||r===void 0||r.blur()}}}),t}function _F(e,t){return _.useMemo(function(){return e||(t?(qo(!1,"`ranges` is deprecated. Please use `presets` instead."),Object.entries(t).map(function(n){var a=St(n,2),r=a[0],i=a[1];return{label:r,value:i}})):[])},[e,t])}function u6(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,a=_.useRef(t);a.current=t,lN(function(){if(e)a.current(e);else{var r=no(function(){a.current(e)},n);return function(){no.cancel(r)}}},[e])}function vF(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,a=_.useState(0),r=St(a,2),i=r[0],o=r[1],c=_.useState(!1),l=St(c,2),d=l[0],f=l[1],g=_.useRef([]),b=_.useRef(null),w=_.useRef(null),C=function(P){b.current=P},S=function(P){return b.current===P},k=function(P){f(P)},E=function(P){return P&&(w.current=P),w.current},D=function(P){var B=g.current,O=new Set(B.filter(function(U){return P[U]||t[U]})),$=B[B.length-1]===0?1:0;return O.size>=2||e[$]?null:$};return u6(d||n,function(){d||(g.current=[],C(null))}),_.useEffect(function(){d&&g.current.push(i)},[d,i]),[d,k,E,i,o,D,g.current,C,S]}function uct(e,t,n,a,r,i){var o=n[n.length-1],c=function(d,f){var g=St(e,2),b=g[0],w=g[1],C=vt(vt({},f),{},{from:sF(e,n)});return o===1&&t[0]&&b&&!_o(a,r,b,d,C.type)&&a.isAfter(b,d)||o===0&&t[1]&&w&&!_o(a,r,w,d,C.type)&&a.isAfter(d,w)?!0:i==null?void 0:i(d,C)};return c}function ag(e,t,n,a){switch(t){case"date":case"week":return e.addMonth(n,a);case"month":case"quarter":return e.addYear(n,a);case"year":return e.addYear(n,a*10);case"decade":return e.addYear(n,a*100);default:return n}}var wC=[];function xF(e,t,n,a,r,i,o,c){var l=arguments.length>8&&arguments[8]!==void 0?arguments[8]:wC,d=arguments.length>9&&arguments[9]!==void 0?arguments[9]:wC,f=arguments.length>10&&arguments[10]!==void 0?arguments[10]:wC,g=arguments.length>11?arguments[11]:void 0,b=arguments.length>12?arguments[12]:void 0,w=arguments.length>13?arguments[13]:void 0,C=o==="time",S=i||0,k=function(M){var ee=e.getNow();return C&&(ee=Tb(e,ee)),l[M]||n[M]||ee},E=St(d,2),D=E[0],R=E[1],P=Pl(function(){return k(0)},{value:D}),B=St(P,2),O=B[0],$=B[1],U=Pl(function(){return k(1)},{value:R}),F=St(U,2),H=F[0],se=F[1],K=_.useMemo(function(){var V=[O,H][S];return C?V:Tb(e,V,f[S])},[C,O,H,S,e,f]),te=function(M){var ee=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"panel",Z=[$,se][S];Z(M);var A=[O,H];A[S]=M,g&&(!_o(e,t,O,A[0],o)||!_o(e,t,H,A[1],o))&&g(A,{source:ee,range:S===1?"end":"start",mode:a})},J=function(M,ee){if(c){var Z={date:"month",week:"month",month:"year",quarter:"year"},A=Z[o];if(A&&!_o(e,t,M,ee,A))return ag(e,o,ee,-1);if(o==="year"&&M){var G=Math.floor(e.getYear(M)/10),Q=Math.floor(e.getYear(ee)/10);if(G!==Q)return ag(e,o,ee,-1)}}return ee},z=_.useRef(null);return Ur(function(){if(r&&!l[S]){var V=C?null:e.getNow();if(z.current!==null&&z.current!==S?V=[O,H][S^1]:n[S]?V=S===0?n[0]:J(n[0],n[1]):n[S^1]&&(V=n[S^1]),V){b&&e.isAfter(b,V)&&(V=b);var M=c?ag(e,o,V,1):V;w&&e.isAfter(M,w)&&(V=c?ag(e,o,w,-1):w),te(V,"reset")}}},[r,S,n[S]]),_.useEffect(function(){r?z.current=S:z.current=null},[r,S]),Ur(function(){r&&l&&l[S]&&te(l[S],"reset")},[r,S]),[K,te]}function bF(e,t){var n=_.useRef(e),a=_.useState({}),r=St(a,2),i=r[1],o=function(d){return d&&t!==void 0?t:n.current},c=function(d){n.current=d,i({})};return[o,c,o(!0)]}var dct=[];function yF(e,t,n){var a=function(o){return o.map(function(c){return Oi(c,{generateConfig:e,locale:t,format:n[0]})})},r=function(o,c){for(var l=Math.max(o.length,c.length),d=-1,f=0;f<l;f+=1){var g=o[f]||null,b=c[f]||null;if(g!==b&&!fF(e,g,b)){d=f;break}}return[d<0,d!==0]};return[a,r]}function wF(e,t){return ps(e).sort(function(n,a){return t.isAfter(n,a)?1:-1})}function hct(e){var t=bF(e),n=St(t,2),a=n[0],r=n[1],i=sr(function(){r(e)});return _.useEffect(function(){i()},[e]),[a,r]}function jF(e,t,n,a,r,i,o,c,l){var d=Pl(i,{value:o}),f=St(d,2),g=f[0],b=f[1],w=g||dct,C=hct(w),S=St(C,2),k=S[0],E=S[1],D=yF(e,t,n),R=St(D,2),P=R[0],B=R[1],O=sr(function(U){var F=ps(U);if(a)for(var H=0;H<2;H+=1)F[H]=F[H]||null;else r&&(F=wF(F.filter(function(V){return V}),e));var se=B(k(),F),K=St(se,2),te=K[0],J=K[1];if(!te&&(E(F),c)){var z=P(F);c(F,z,{range:J?"end":"start"})}}),$=function(){l&&l(k())};return[w,b,k,O,$]}function CF(e,t,n,a,r,i,o,c,l,d){var f=e.generateConfig,g=e.locale,b=e.picker,w=e.onChange,C=e.allowEmpty,S=e.order,k=i.some(function(te){return te})?!1:S,E=yF(f,g,o),D=St(E,2),R=D[0],P=D[1],B=bF(t),O=St(B,2),$=O[0],U=O[1],F=sr(function(){U(t)});_.useEffect(function(){F()},[t]);var H=sr(function(te){var J=te===null,z=ps(te||$());if(J)for(var V=Math.max(i.length,z.length),M=0;M<V;M+=1)i[M]||(z[M]=null);k&&z[0]&&z[1]&&(z=wF(z,f)),r(z);var ee=z,Z=St(ee,2),A=Z[0],G=Z[1],Q=!A,Y=!G,ae=C?(!Q||C[0])&&(!Y||C[1]):!0,ne=!S||Q||Y||_o(f,g,A,G,b)||f.isAfter(G,A),re=(i[0]||!A||!d(A,{activeIndex:0}))&&(i[1]||!G||!d(G,{from:A,activeIndex:1})),oe=J||ae&&ne&&re;if(oe){n(z);var me=P(z,t),Ce=St(me,1),Ne=Ce[0];w&&!Ne&&w(J&&z.every(function(Ee){return!Ee})?null:z,R(z))}return oe}),se=sr(function(te,J){var z=Sg($(),te,a()[te]);U(z),J&&H()}),K=!c&&!l;return u6(!K,function(){K&&(H(),r(t),F())},2),[se,H]}function SF(e,t,n,a,r){return t!=="date"&&t!=="time"?!1:n!==void 0?n:a!==void 0?a:!r&&(e==="date"||e==="time")}function fct(e,t,n,a,r,i){var o=e;function c(g,b,w){var C=i[g](o),S=w.find(function(R){return R.value===C});if(!S||S.disabled){var k=w.filter(function(R){return!R.disabled}),E=ps(k).reverse(),D=E.find(function(R){return R.value<=C})||k[0];D&&(C=D.value,o=i[b](o,C))}return C}var l=c("getHour","setHour",t()),d=c("getMinute","setMinute",n(l)),f=c("getSecond","setSecond",a(l,d));return c("getMillisecond","setMillisecond",r(l,d,f)),o}function Iv(){return[]}function Ev(e,t){for(var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,r=arguments.length>4&&arguments[4]!==void 0?arguments[4]:[],i=arguments.length>5&&arguments[5]!==void 0?arguments[5]:2,o=[],c=n>=1?n|0:1,l=e;l<=t;l+=c){var d=r.includes(l);(!d||!a)&&o.push({label:i6(l,i),value:l,disabled:d})}return o}function d6(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,a=t||{},r=a.use12Hours,i=a.hourStep,o=i===void 0?1:i,c=a.minuteStep,l=c===void 0?1:c,d=a.secondStep,f=d===void 0?1:d,g=a.millisecondStep,b=g===void 0?100:g,w=a.hideDisabledOptions,C=a.disabledTime,S=a.disabledHours,k=a.disabledMinutes,E=a.disabledSeconds,D=_.useMemo(function(){return n||e.getNow()},[n,e]),R=_.useCallback(function(ee){var Z=(C==null?void 0:C(ee))||{};return[Z.disabledHours||S||Iv,Z.disabledMinutes||k||Iv,Z.disabledSeconds||E||Iv,Z.disabledMilliseconds||Iv]},[C,S,k,E]),P=_.useMemo(function(){return R(D)},[D,R]),B=St(P,4),O=B[0],$=B[1],U=B[2],F=B[3],H=_.useCallback(function(ee,Z,A,G){var Q=Ev(0,23,o,w,ee()),Y=r?Q.map(function(oe){return vt(vt({},oe),{},{label:i6(oe.value%12||12,2)})}):Q,ae=function(me){return Ev(0,59,l,w,Z(me))},ne=function(me,Ce){return Ev(0,59,f,w,A(me,Ce))},re=function(me,Ce,Ne){return Ev(0,999,b,w,G(me,Ce,Ne),3)};return[Y,ae,ne,re]},[w,o,r,b,l,f]),se=_.useMemo(function(){return H(O,$,U,F)},[H,O,$,U,F]),K=St(se,4),te=K[0],J=K[1],z=K[2],V=K[3],M=function(Z,A){var G=function(){return te},Q=J,Y=z,ae=V;if(A){var ne=R(A),re=St(ne,4),oe=re[0],me=re[1],Ce=re[2],Ne=re[3],Ee=H(oe,me,Ce,Ne),ve=St(Ee,4),Se=ve[0],fe=ve[1],de=ve[2],pe=ve[3];G=function(){return Se},Q=fe,Y=de,ae=pe}var ce=fct(Z,G,Q,Y,ae,e);return ce};return[M,te,J,z,V]}function mct(e){var t=e.mode,n=e.internalMode,a=e.renderExtraFooter,r=e.showNow,i=e.showTime,o=e.onSubmit,c=e.onNow,l=e.invalid,d=e.needConfirm,f=e.generateConfig,g=e.disabledDate,b=_.useContext(ul),w=b.prefixCls,C=b.locale,S=b.button,k=S===void 0?"button":S,E=f.getNow(),D=d6(f,i,E),R=St(D,1),P=R[0],B=a==null?void 0:a(t),O=g(E,{type:t}),$=function(){if(!O){var J=P(E);c(J)}},U="".concat(w,"-now"),F="".concat(U,"-btn"),H=r&&_.createElement("li",{className:U},_.createElement("a",{className:zs(F,O&&"".concat(F,"-disabled")),"aria-disabled":O,onClick:$},n==="date"?C.today:C.now)),se=d&&_.createElement("li",{className:"".concat(w,"-ok")},_.createElement(k,{disabled:l,onClick:o},C.ok)),K=(H||se)&&_.createElement("ul",{className:"".concat(w,"-ranges")},H,se);return!B&&!K?null:_.createElement("div",{className:"".concat(w,"-footer")},B&&_.createElement("div",{className:"".concat(w,"-footer-extra")},B),K)}function NF(e,t,n){function a(r,i){var o=r.findIndex(function(l){return _o(e,t,l,i,n)});if(o===-1)return[].concat(ps(r),[i]);var c=ps(r);return c.splice(o,1),c}return a}var lf=_.createContext(null);function Py(){return _.useContext(lf)}function pp(e,t){var n=e.prefixCls,a=e.generateConfig,r=e.locale,i=e.disabledDate,o=e.minDate,c=e.maxDate,l=e.cellRender,d=e.hoverValue,f=e.hoverRangeValue,g=e.onHover,b=e.values,w=e.pickerValue,C=e.onSelect,S=e.prevIcon,k=e.nextIcon,E=e.superPrevIcon,D=e.superNextIcon,R=a.getNow(),P={now:R,values:b,pickerValue:w,prefixCls:n,disabledDate:i,minDate:o,maxDate:c,cellRender:l,hoverValue:d,hoverRangeValue:f,onHover:g,locale:r,generateConfig:a,onSelect:C,panelType:t,prevIcon:S,nextIcon:k,superPrevIcon:E,superNextIcon:D};return[P,R]}var Td=_.createContext({});function P0(e){for(var t=e.rowNum,n=e.colNum,a=e.baseDate,r=e.getCellDate,i=e.prefixColumn,o=e.rowClassName,c=e.titleFormat,l=e.getCellText,d=e.getCellClassName,f=e.headerCells,g=e.cellSelection,b=g===void 0?!0:g,w=e.disabledDate,C=Py(),S=C.prefixCls,k=C.panelType,E=C.now,D=C.disabledDate,R=C.cellRender,P=C.onHover,B=C.hoverValue,O=C.hoverRangeValue,$=C.generateConfig,U=C.values,F=C.locale,H=C.onSelect,se=w||D,K="".concat(S,"-cell"),te=_.useContext(Td),J=te.onCellDblClick,z=function(Y){return U.some(function(ae){return ae&&_o($,F,Y,ae,k)})},V=[],M=0;M<t;M+=1){for(var ee=[],Z=void 0,A=function(){var Y=M*n+G,ae=r(a,Y),ne=se==null?void 0:se(ae,{type:k});G===0&&(Z=ae,i&&ee.push(i(Z)));var re=!1,oe=!1,me=!1;if(b&&O){var Ce=St(O,2),Ne=Ce[0],Ee=Ce[1];re=$y($,Ne,Ee,ae),oe=_o($,F,ae,Ne,k),me=_o($,F,ae,Ee,k)}var ve=c?Oi(ae,{locale:F,format:c,generateConfig:$}):void 0,Se=_.createElement("div",{className:"".concat(K,"-inner")},l(ae));ee.push(_.createElement("td",{key:G,title:ve,className:zs(K,vt(pt(pt(pt(pt(pt(pt({},"".concat(K,"-disabled"),ne),"".concat(K,"-hover"),(B||[]).some(function(fe){return _o($,F,ae,fe,k)})),"".concat(K,"-in-range"),re&&!oe&&!me),"".concat(K,"-range-start"),oe),"".concat(K,"-range-end"),me),"".concat(S,"-cell-selected"),!O&&k!=="week"&&z(ae)),d(ae))),onClick:function(){ne||H(ae)},onDoubleClick:function(){!ne&&J&&J()},onMouseEnter:function(){ne||P==null||P(ae)},onMouseLeave:function(){ne||P==null||P(null)}},R?R(ae,{prefixCls:S,originNode:Se,today:E,type:k,locale:F}):Se))},G=0;G<n;G+=1)A();V.push(_.createElement("tr",{key:M,className:o==null?void 0:o(Z)},ee))}return _.createElement("div",{className:"".concat(S,"-body")},_.createElement("table",{className:"".concat(S,"-content")},f&&_.createElement("thead",null,_.createElement("tr",null,f)),_.createElement("tbody",null,V)))}var Tv={visibility:"hidden"};function gp(e){var t=e.offset,n=e.superOffset,a=e.onChange,r=e.getStart,i=e.getEnd,o=e.children,c=Py(),l=c.prefixCls,d=c.prevIcon,f=d===void 0?"":d,g=c.nextIcon,b=g===void 0?"":g,w=c.superPrevIcon,C=w===void 0?"":w,S=c.superNextIcon,k=S===void 0?"":S,E=c.minDate,D=c.maxDate,R=c.generateConfig,P=c.locale,B=c.pickerValue,O=c.panelType,$="".concat(l,"-header"),U=_.useContext(Td),F=U.hidePrev,H=U.hideNext,se=U.hideHeader,K=_.useMemo(function(){if(!E||!t||!i)return!1;var Q=i(t(-1,B));return!Nv(R,P,Q,E,O)},[E,t,B,i,R,P,O]),te=_.useMemo(function(){if(!E||!n||!i)return!1;var Q=i(n(-1,B));return!Nv(R,P,Q,E,O)},[E,n,B,i,R,P,O]),J=_.useMemo(function(){if(!D||!t||!r)return!1;var Q=r(t(1,B));return!Nv(R,P,D,Q,O)},[D,t,B,r,R,P,O]),z=_.useMemo(function(){if(!D||!n||!r)return!1;var Q=r(n(1,B));return!Nv(R,P,D,Q,O)},[D,n,B,r,R,P,O]),V=function(Y){t&&a(t(Y,B))},M=function(Y){n&&a(n(Y,B))};if(se)return null;var ee="".concat($,"-prev-btn"),Z="".concat($,"-next-btn"),A="".concat($,"-super-prev-btn"),G="".concat($,"-super-next-btn");return _.createElement("div",{className:$},n&&_.createElement("button",{type:"button","aria-label":P.previousYear,onClick:function(){return M(-1)},tabIndex:-1,className:zs(A,te&&"".concat(A,"-disabled")),disabled:te,style:F?Tv:{}},C),t&&_.createElement("button",{type:"button","aria-label":P.previousMonth,onClick:function(){return V(-1)},tabIndex:-1,className:zs(ee,K&&"".concat(ee,"-disabled")),disabled:K,style:F?Tv:{}},f),_.createElement("div",{className:"".concat($,"-view")},o),t&&_.createElement("button",{type:"button","aria-label":P.nextMonth,onClick:function(){return V(1)},tabIndex:-1,className:zs(Z,J&&"".concat(Z,"-disabled")),disabled:J,style:H?Tv:{}},b),n&&_.createElement("button",{type:"button","aria-label":P.nextYear,onClick:function(){return M(1)},tabIndex:-1,className:zs(G,z&&"".concat(G,"-disabled")),disabled:z,style:H?Tv:{}},k))}function Fy(e){var t=e.prefixCls,n=e.panelName,a=n===void 0?"date":n,r=e.locale,i=e.generateConfig,o=e.pickerValue,c=e.onPickerValueChange,l=e.onModeChange,d=e.mode,f=d===void 0?"date":d,g=e.disabledDate,b=e.onSelect,w=e.onHover,C=e.showWeek,S="".concat(t,"-").concat(a,"-panel"),k="".concat(t,"-cell"),E=f==="week",D=pp(e,f),R=St(D,2),P=R[0],B=R[1],O=i.locale.getWeekFirstDay(r.locale),$=i.setDate(o,1),U=act(r.locale,i,$),F=i.getMonth(o),H=C===void 0?E:C,se=H?function(Q){var Y=g==null?void 0:g(Q,{type:"week"});return _.createElement("td",{key:"week",className:zs(k,"".concat(k,"-week"),pt({},"".concat(k,"-disabled"),Y)),onClick:function(){Y||b(Q)},onMouseEnter:function(){Y||w==null||w(Q)},onMouseLeave:function(){Y||w==null||w(null)}},_.createElement("div",{className:"".concat(k,"-inner")},i.locale.getWeek(r.locale,Q)))}:null,K=[],te=r.shortWeekDays||(i.locale.getShortWeekDays?i.locale.getShortWeekDays(r.locale):[]);se&&K.push(_.createElement("th",{key:"empty"},_.createElement("span",{style:{width:0,height:0,position:"absolute",overflow:"hidden",opacity:0}},r.week)));for(var J=0;J<yC;J+=1)K.push(_.createElement("th",{key:J},te[(J+O)%yC]));var z=function(Y,ae){return i.addDate(Y,ae)},V=function(Y){return Oi(Y,{locale:r,format:r.cellDateFormat,generateConfig:i})},M=function(Y){var ae=pt(pt({},"".concat(t,"-cell-in-view"),c6(i,Y,o)),"".concat(t,"-cell-today"),l6(i,Y,B));return ae},ee=r.shortMonths||(i.locale.getShortMonths?i.locale.getShortMonths(r.locale):[]),Z=_.createElement("button",{type:"button","aria-label":r.yearSelect,key:"year",onClick:function(){l("year",o)},tabIndex:-1,className:"".concat(t,"-year-btn")},Oi(o,{locale:r,format:r.yearFormat,generateConfig:i})),A=_.createElement("button",{type:"button","aria-label":r.monthSelect,key:"month",onClick:function(){l("month",o)},tabIndex:-1,className:"".concat(t,"-month-btn")},r.monthFormat?Oi(o,{locale:r,format:r.monthFormat,generateConfig:i}):ee[F]),G=r.monthBeforeYear?[A,Z]:[Z,A];return _.createElement(lf.Provider,{value:P},_.createElement("div",{className:zs(S,C&&"".concat(S,"-show-week"))},_.createElement(gp,{offset:function(Y){return i.addMonth(o,Y)},superOffset:function(Y){return i.addYear(o,Y)},onChange:c,getStart:function(Y){return i.setDate(Y,1)},getEnd:function(Y){var ae=i.setDate(Y,1);return ae=i.addMonth(ae,1),i.addDate(ae,-1)}},G),_.createElement(P0,Es({titleFormat:r.fieldDateFormat},e,{colNum:yC,rowNum:6,baseDate:U,headerCells:K,getCellDate:z,getCellText:V,getCellClassName:M,prefixColumn:se,cellSelection:!E}))))}var pct=1/3;function gct(e,t){var n=_.useRef(!1),a=_.useRef(null),r=_.useRef(null),i=function(){return n.current},o=function(){no.cancel(a.current),n.current=!1},c=_.useRef(),l=function(){var g=e.current;if(r.current=null,c.current=0,g){var b=g.querySelector('[data-value="'.concat(t,'"]')),w=g.querySelector("li"),C=function S(){o(),n.current=!0,c.current+=1;var k=g.scrollTop,E=w.offsetTop,D=b.offsetTop,R=D-E;if(D===0&&b!==w||!J4(g)){c.current<=5&&(a.current=no(S));return}var P=k+(R-k)*pct,B=Math.abs(R-P);if(r.current!==null&&r.current<B){o();return}if(r.current=B,B<=1){g.scrollTop=R,o();return}g.scrollTop=P,a.current=no(S)};b&&w&&C()}},d=sr(l);return[d,o,i]}var _ct=300;function vct(e){return e.map(function(t){var n=t.value,a=t.label,r=t.disabled;return[n,a,r].join(",")}).join(";")}function B1(e){var t=e.units,n=e.value,a=e.optionalValue,r=e.type,i=e.onChange,o=e.onHover,c=e.onDblClick,l=e.changeOnScroll,d=Py(),f=d.prefixCls,g=d.cellRender,b=d.now,w=d.locale,C="".concat(f,"-time-panel"),S="".concat(f,"-time-panel-cell"),k=_.useRef(null),E=_.useRef(),D=function(){clearTimeout(E.current)},R=gct(k,n??a),P=St(R,3),B=P[0],O=P[1],$=P[2];Ur(function(){return B(),D(),function(){O(),D()}},[n,a,vct(t)]);var U=function(se){D();var K=se.target;!$()&&l&&(E.current=setTimeout(function(){var te=k.current,J=te.querySelector("li").offsetTop,z=Array.from(te.querySelectorAll("li")),V=z.map(function(G){return G.offsetTop-J}),M=V.map(function(G,Q){return t[Q].disabled?Number.MAX_SAFE_INTEGER:Math.abs(G-K.scrollTop)}),ee=Math.min.apply(Math,ps(M)),Z=M.findIndex(function(G){return G===ee}),A=t[Z];A&&!A.disabled&&i(A.value)},_ct))},F="".concat(C,"-column");return _.createElement("ul",{className:F,ref:k,"data-type":r,onScroll:U},t.map(function(H){var se=H.label,K=H.value,te=H.disabled,J=_.createElement("div",{className:"".concat(S,"-inner")},se);return _.createElement("li",{key:K,className:zs(S,pt(pt({},"".concat(S,"-selected"),n===K),"".concat(S,"-disabled"),te)),onClick:function(){te||i(K)},onDoubleClick:function(){!te&&c&&c()},onMouseEnter:function(){o(K)},onMouseLeave:function(){o(null)},"data-value":K},g?g(K,{prefixCls:f,originNode:J,today:b,type:"time",subType:r,locale:w}):J)}))}function dd(e){return e<12}function xct(e){var t=e.showHour,n=e.showMinute,a=e.showSecond,r=e.showMillisecond,i=e.use12Hours,o=e.changeOnScroll,c=Py(),l=c.prefixCls,d=c.values,f=c.generateConfig,g=c.locale,b=c.onSelect,w=c.onHover,C=w===void 0?function(){}:w,S=c.pickerValue,k=(d==null?void 0:d[0])||null,E=_.useContext(Td),D=E.onCellDblClick,R=d6(f,e,k),P=St(R,5),B=P[0],O=P[1],$=P[2],U=P[3],F=P[4],H=function(Mt){var pn=k&&f[Mt](k),Qn=S&&f[Mt](S);return[pn,Qn]},se=H("getHour"),K=St(se,2),te=K[0],J=K[1],z=H("getMinute"),V=St(z,2),M=V[0],ee=V[1],Z=H("getSecond"),A=St(Z,2),G=A[0],Q=A[1],Y=H("getMillisecond"),ae=St(Y,2),ne=ae[0],re=ae[1],oe=te===null?null:dd(te)?"am":"pm",me=_.useMemo(function(){return i?dd(te)?O.filter(function(lt){return dd(lt.value)}):O.filter(function(lt){return!dd(lt.value)}):O},[te,O,i]),Ce=function(Mt,pn){var Qn,yt=Mt.filter(function(ln){return!ln.disabled});return pn??(yt==null||(Qn=yt[0])===null||Qn===void 0?void 0:Qn.value)},Ne=Ce(O,te),Ee=_.useMemo(function(){return $(Ne)},[$,Ne]),ve=Ce(Ee,M),Se=_.useMemo(function(){return U(Ne,ve)},[U,Ne,ve]),fe=Ce(Se,G),de=_.useMemo(function(){return F(Ne,ve,fe)},[F,Ne,ve,fe]),pe=Ce(de,ne),ce=_.useMemo(function(){if(!i)return[];var lt=f.getNow(),Mt=f.setHour(lt,6),pn=f.setHour(lt,18),Qn=function(ln,fn){var jn=g.cellMeridiemFormat;return jn?Oi(ln,{generateConfig:f,locale:g,format:jn}):fn};return[{label:Qn(Mt,"AM"),value:"am",disabled:O.every(function(yt){return yt.disabled||!dd(yt.value)})},{label:Qn(pn,"PM"),value:"pm",disabled:O.every(function(yt){return yt.disabled||dd(yt.value)})}]},[O,i,f,g]),Re=function(Mt){var pn=B(Mt);b(pn)},Ae=_.useMemo(function(){var lt=k||S||f.getNow(),Mt=function(Qn){return Qn!=null};return Mt(te)?(lt=f.setHour(lt,te),lt=f.setMinute(lt,M),lt=f.setSecond(lt,G),lt=f.setMillisecond(lt,ne)):Mt(J)?(lt=f.setHour(lt,J),lt=f.setMinute(lt,ee),lt=f.setSecond(lt,Q),lt=f.setMillisecond(lt,re)):Mt(Ne)&&(lt=f.setHour(lt,Ne),lt=f.setMinute(lt,ve),lt=f.setSecond(lt,fe),lt=f.setMillisecond(lt,pe)),lt},[k,S,te,M,G,ne,Ne,ve,fe,pe,J,ee,Q,re,f]),ie=function(Mt,pn){return Mt===null?null:f[pn](Ae,Mt)},ge=function(Mt){return ie(Mt,"setHour")},be=function(Mt){return ie(Mt,"setMinute")},Fe=function(Mt){return ie(Mt,"setSecond")},je=function(Mt){return ie(Mt,"setMillisecond")},qe=function(Mt){return Mt===null?null:Mt==="am"&&!dd(te)?f.setHour(Ae,te-12):Mt==="pm"&&dd(te)?f.setHour(Ae,te+12):Ae},tt=function(Mt){Re(ge(Mt))},he=function(Mt){Re(be(Mt))},Ze=function(Mt){Re(Fe(Mt))},Pe=function(Mt){Re(je(Mt))},bt=function(Mt){Re(qe(Mt))},Ge=function(Mt){C(ge(Mt))},ue=function(Mt){C(be(Mt))},De=function(Mt){C(Fe(Mt))},xe=function(Mt){C(je(Mt))},Ye=function(Mt){C(qe(Mt))},at={onDblClick:D,changeOnScroll:o};return _.createElement("div",{className:"".concat(l,"-content")},t&&_.createElement(B1,Es({units:me,value:te,optionalValue:J,type:"hour",onChange:tt,onHover:Ge},at)),n&&_.createElement(B1,Es({units:Ee,value:M,optionalValue:ee,type:"minute",onChange:he,onHover:ue},at)),a&&_.createElement(B1,Es({units:Se,value:G,optionalValue:Q,type:"second",onChange:Ze,onHover:De},at)),r&&_.createElement(B1,Es({units:de,value:ne,optionalValue:re,type:"millisecond",onChange:Pe,onHover:xe},at)),i&&_.createElement(B1,Es({units:ce,value:oe,type:"meridiem",onChange:bt,onHover:Ye},at)))}function kF(e){var t=e.prefixCls,n=e.value,a=e.locale,r=e.generateConfig,i=e.showTime,o=i||{},c=o.format,l="".concat(t,"-time-panel"),d=pp(e,"time"),f=St(d,1),g=f[0];return _.createElement(lf.Provider,{value:g},_.createElement("div",{className:zs(l)},_.createElement(gp,null,n?Oi(n,{locale:a,format:c,generateConfig:r}):""),_.createElement(xct,i)))}function bct(e){var t=e.prefixCls,n=e.generateConfig,a=e.showTime,r=e.onSelect,i=e.value,o=e.pickerValue,c=e.onHover,l="".concat(t,"-datetime-panel"),d=d6(n,a),f=St(d,1),g=f[0],b=function(k){return i?Tb(n,k,i):Tb(n,k,o)},w=function(k){c==null||c(k&&b(k))},C=function(k){var E=b(k);r(g(E,E))};return _.createElement("div",{className:l},_.createElement(Fy,Es({},e,{onSelect:C,onHover:w})),_.createElement(kF,e))}function yct(e){var t=e.prefixCls,n=e.locale,a=e.generateConfig,r=e.pickerValue,i=e.disabledDate,o=e.onPickerValueChange,c="".concat(t,"-decade-panel"),l=pp(e,"decade"),d=St(l,1),f=d[0],g=function(O){var $=Math.floor(a.getYear(O)/100)*100;return a.setYear(O,$)},b=function(O){var $=g(O);return a.addYear($,99)},w=g(r),C=b(r),S=a.addYear(w,-10),k=function(O,$){return a.addYear(O,$*10)},E=function(O){var $=n.cellYearFormat,U=Oi(O,{locale:n,format:$,generateConfig:a}),F=Oi(a.addYear(O,9),{locale:n,format:$,generateConfig:a});return"".concat(U,"-").concat(F)},D=function(O){return pt({},"".concat(t,"-cell-in-view"),YN(a,O,w)||YN(a,O,C)||$y(a,w,C,O))},R=i?function(B,O){var $=a.setDate(B,1),U=a.setMonth($,0),F=a.setYear(U,Math.floor(a.getYear(U)/10)*10),H=a.addYear(F,10),se=a.addDate(H,-1);return i(F,O)&&i(se,O)}:null,P="".concat(Oi(w,{locale:n,format:n.yearFormat,generateConfig:a}),"-").concat(Oi(C,{locale:n,format:n.yearFormat,generateConfig:a}));return _.createElement(lf.Provider,{value:f},_.createElement("div",{className:c},_.createElement(gp,{superOffset:function(O){return a.addYear(r,O*100)},onChange:o,getStart:g,getEnd:b},P),_.createElement(P0,Es({},e,{disabledDate:R,colNum:3,rowNum:4,baseDate:S,getCellDate:k,getCellText:E,getCellClassName:D}))))}function wct(e){var t=e.prefixCls,n=e.locale,a=e.generateConfig,r=e.pickerValue,i=e.disabledDate,o=e.onPickerValueChange,c=e.onModeChange,l="".concat(t,"-month-panel"),d=pp(e,"month"),f=St(d,1),g=f[0],b=a.setMonth(r,0),w=n.shortMonths||(a.locale.getShortMonths?a.locale.getShortMonths(n.locale):[]),C=function(P,B){return a.addMonth(P,B)},S=function(P){var B=a.getMonth(P);return n.monthFormat?Oi(P,{locale:n,format:n.monthFormat,generateConfig:a}):w[B]},k=function(){return pt({},"".concat(t,"-cell-in-view"),!0)},E=i?function(R,P){var B=a.setDate(R,1),O=a.setMonth(B,a.getMonth(B)+1),$=a.addDate(O,-1);return i(B,P)&&i($,P)}:null,D=_.createElement("button",{type:"button",key:"year","aria-label":n.yearSelect,onClick:function(){c("year")},tabIndex:-1,className:"".concat(t,"-year-btn")},Oi(r,{locale:n,format:n.yearFormat,generateConfig:a}));return _.createElement(lf.Provider,{value:g},_.createElement("div",{className:l},_.createElement(gp,{superOffset:function(P){return a.addYear(r,P)},onChange:o,getStart:function(P){return a.setMonth(P,0)},getEnd:function(P){return a.setMonth(P,11)}},D),_.createElement(P0,Es({},e,{disabledDate:E,titleFormat:n.fieldMonthFormat,colNum:3,rowNum:4,baseDate:b,getCellDate:C,getCellText:S,getCellClassName:k}))))}function jct(e){var t=e.prefixCls,n=e.locale,a=e.generateConfig,r=e.pickerValue,i=e.onPickerValueChange,o=e.onModeChange,c="".concat(t,"-quarter-panel"),l=pp(e,"quarter"),d=St(l,1),f=d[0],g=a.setMonth(r,0),b=function(E,D){return a.addMonth(E,D*3)},w=function(E){return Oi(E,{locale:n,format:n.cellQuarterFormat,generateConfig:a})},C=function(){return pt({},"".concat(t,"-cell-in-view"),!0)},S=_.createElement("button",{type:"button",key:"year","aria-label":n.yearSelect,onClick:function(){o("year")},tabIndex:-1,className:"".concat(t,"-year-btn")},Oi(r,{locale:n,format:n.yearFormat,generateConfig:a}));return _.createElement(lf.Provider,{value:f},_.createElement("div",{className:c},_.createElement(gp,{superOffset:function(E){return a.addYear(r,E)},onChange:i,getStart:function(E){return a.setMonth(E,0)},getEnd:function(E){return a.setMonth(E,11)}},S),_.createElement(P0,Es({},e,{titleFormat:n.fieldQuarterFormat,colNum:4,rowNum:1,baseDate:g,getCellDate:b,getCellText:w,getCellClassName:C}))))}function Cct(e){var t=e.prefixCls,n=e.generateConfig,a=e.locale,r=e.value,i=e.hoverValue,o=e.hoverRangeValue,c=a.locale,l="".concat(t,"-week-panel-row"),d=function(g){var b={};if(o){var w=St(o,2),C=w[0],S=w[1],k=sg(n,c,C,g),E=sg(n,c,S,g);b["".concat(l,"-range-start")]=k,b["".concat(l,"-range-end")]=E,b["".concat(l,"-range-hover")]=!k&&!E&&$y(n,C,S,g)}return i&&(b["".concat(l,"-hover")]=i.some(function(D){return sg(n,c,g,D)})),zs(l,pt({},"".concat(l,"-selected"),!o&&sg(n,c,r,g)),b)};return _.createElement(Fy,Es({},e,{mode:"week",panelName:"week",rowClassName:d}))}function Sct(e){var t=e.prefixCls,n=e.locale,a=e.generateConfig,r=e.pickerValue,i=e.disabledDate,o=e.onPickerValueChange,c=e.onModeChange,l="".concat(t,"-year-panel"),d=pp(e,"year"),f=St(d,1),g=f[0],b=function($){var U=Math.floor(a.getYear($)/10)*10;return a.setYear($,U)},w=function($){var U=b($);return a.addYear(U,9)},C=b(r),S=w(r),k=a.addYear(C,-1),E=function($,U){return a.addYear($,U)},D=function($){return Oi($,{locale:n,format:n.cellYearFormat,generateConfig:a})},R=function($){return pt({},"".concat(t,"-cell-in-view"),Jh(a,$,C)||Jh(a,$,S)||$y(a,C,S,$))},P=i?function(O,$){var U=a.setMonth(O,0),F=a.setDate(U,1),H=a.addYear(F,1),se=a.addDate(H,-1);return i(F,$)&&i(se,$)}:null,B=_.createElement("button",{type:"button",key:"decade","aria-label":n.decadeSelect,onClick:function(){c("decade")},tabIndex:-1,className:"".concat(t,"-decade-btn")},Oi(C,{locale:n,format:n.yearFormat,generateConfig:a}),"-",Oi(S,{locale:n,format:n.yearFormat,generateConfig:a}));return _.createElement(lf.Provider,{value:g},_.createElement("div",{className:l},_.createElement(gp,{superOffset:function($){return a.addYear(r,$*10)},onChange:o,getStart:b,getEnd:w},B),_.createElement(P0,Es({},e,{disabledDate:P,titleFormat:n.fieldYearFormat,colNum:3,rowNum:4,baseDate:k,getCellDate:E,getCellText:D,getCellClassName:R}))))}var Nct={date:Fy,datetime:bct,week:Cct,month:wct,quarter:jct,year:Sct,decade:yct,time:kF};function kct(e,t){var n,a=e.locale,r=e.generateConfig,i=e.direction,o=e.prefixCls,c=e.tabIndex,l=c===void 0?0:c,d=e.multiple,f=e.defaultValue,g=e.value,b=e.onChange,w=e.onSelect,C=e.defaultPickerValue,S=e.pickerValue,k=e.onPickerValueChange,E=e.mode,D=e.onPanelChange,R=e.picker,P=R===void 0?"date":R,B=e.showTime,O=e.hoverValue,$=e.hoverRangeValue,U=e.cellRender,F=e.dateRender,H=e.monthCellRender,se=e.components,K=se===void 0?{}:se,te=e.hideHeader,J=((n=_.useContext(ul))===null||n===void 0?void 0:n.prefixCls)||o||"rc-picker",z=_.useRef();_.useImperativeHandle(t,function(){return{nativeElement:z.current}});var V=uF(e),M=St(V,4),ee=M[0],Z=M[1],A=M[2],G=M[3],Q=oF(a,Z),Y=P==="date"&&B?"datetime":P,ae=_.useMemo(function(){return dF(Y,A,G,ee,Q)},[Y,A,G,ee,Q]),ne=r.getNow(),re=Pl(P,{value:E,postState:function(Ye){return Ye||"date"}}),oe=St(re,2),me=oe[0],Ce=oe[1],Ne=me==="date"&&ae?"datetime":me,Ee=NF(r,a,Y),ve=Pl(f,{value:g}),Se=St(ve,2),fe=Se[0],de=Se[1],pe=_.useMemo(function(){var xe=cf(fe).filter(function(Ye){return Ye});return d?xe:xe.slice(0,1)},[fe,d]),ce=sr(function(xe){de(xe),b&&(xe===null||pe.length!==xe.length||pe.some(function(Ye,at){return!_o(r,a,Ye,xe[at],Y)}))&&(b==null||b(d?xe:xe[0]))}),Re=sr(function(xe){if(w==null||w(xe),me===P){var Ye=d?Ee(pe,xe):[xe];ce(Ye)}}),Ae=Pl(C||pe[0]||ne,{value:S}),ie=St(Ae,2),ge=ie[0],be=ie[1];_.useEffect(function(){pe[0]&&!S&&be(pe[0])},[pe[0]]);var Fe=function(Ye,at){D==null||D(Ye||S,at||me)},je=function(Ye){var at=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;be(Ye),k==null||k(Ye),at&&Fe(Ye)},qe=function(Ye,at){Ce(Ye),at&&je(at),Fe(at,Ye)},tt=function(Ye){if(Re(Ye),je(Ye),me!==P){var at=["decade","year"],lt=[].concat(at,["month"]),Mt={quarter:[].concat(at,["quarter"]),week:[].concat(ps(lt),["week"]),date:[].concat(ps(lt),["date"])},pn=Mt[P]||lt,Qn=pn.indexOf(me),yt=pn[Qn+1];yt&&qe(yt,Ye)}},he=_.useMemo(function(){var xe,Ye;if(Array.isArray($)){var at=St($,2);xe=at[0],Ye=at[1]}else xe=$;return!xe&&!Ye?null:(xe=xe||Ye,Ye=Ye||xe,r.isAfter(xe,Ye)?[Ye,xe]:[xe,Ye])},[$,r]),Ze=o6(U,F,H),Pe=K[Ne]||Nct[Ne]||Fy,bt=_.useContext(Td),Ge=_.useMemo(function(){return vt(vt({},bt),{},{hideHeader:te})},[bt,te]),ue="".concat(J,"-panel"),De=Ly(e,["showWeek","prevIcon","nextIcon","superPrevIcon","superNextIcon","disabledDate","minDate","maxDate","onHover"]);return _.createElement(Td.Provider,{value:Ge},_.createElement("div",{ref:z,tabIndex:l,className:zs(ue,pt({},"".concat(ue,"-rtl"),i==="rtl"))},_.createElement(Pe,Es({},De,{showTime:ae,prefixCls:J,locale:Q,generateConfig:r,onModeChange:qe,pickerValue:ge,onPickerValueChange:function(Ye){je(Ye,!0)},value:pe[0],onSelect:tt,values:pe,cellRender:Ze,hoverRangeValue:he,hoverValue:O}))))}var jC=_.memo(_.forwardRef(kct));function Ict(e){var t=e.picker,n=e.multiplePanel,a=e.pickerValue,r=e.onPickerValueChange,i=e.needConfirm,o=e.onSubmit,c=e.range,l=e.hoverValue,d=_.useContext(ul),f=d.prefixCls,g=d.generateConfig,b=_.useCallback(function(D,R){return ag(g,t,D,R)},[g,t]),w=_.useMemo(function(){return b(a,1)},[a,b]),C=function(R){r(b(R,-1))},S={onCellDblClick:function(){i&&o()}},k=t==="time",E=vt(vt({},e),{},{hoverValue:null,hoverRangeValue:null,hideHeader:k});return c?E.hoverRangeValue=l:E.hoverValue=l,n?_.createElement("div",{className:"".concat(f,"-panels")},_.createElement(Td.Provider,{value:vt(vt({},S),{},{hideNext:!0})},_.createElement(jC,E)),_.createElement(Td.Provider,{value:vt(vt({},S),{},{hidePrev:!0})},_.createElement(jC,Es({},E,{pickerValue:w,onPickerValueChange:C})))):_.createElement(Td.Provider,{value:vt({},S)},_.createElement(jC,E))}function aA(e){return typeof e=="function"?e():e}function Ect(e){var t=e.prefixCls,n=e.presets,a=e.onClick,r=e.onHover;return n.length?_.createElement("div",{className:"".concat(t,"-presets")},_.createElement("ul",null,n.map(function(i,o){var c=i.label,l=i.value;return _.createElement("li",{key:o,onClick:function(){a(aA(l))},onMouseEnter:function(){r(aA(l))},onMouseLeave:function(){r(null)}},c)}))):null}function IF(e){var t=e.panelRender,n=e.internalMode,a=e.picker,r=e.showNow,i=e.range,o=e.multiple,c=e.activeInfo,l=c===void 0?[0,0,0]:c,d=e.presets,f=e.onPresetHover,g=e.onPresetSubmit,b=e.onFocus,w=e.onBlur,C=e.onPanelMouseDown,S=e.direction,k=e.value,E=e.onSelect,D=e.isInvalid,R=e.defaultOpenValue,P=e.onOk,B=e.onSubmit,O=_.useContext(ul),$=O.prefixCls,U="".concat($,"-panel"),F=S==="rtl",H=_.useRef(null),se=_.useRef(null),K=_.useState(0),te=St(K,2),J=te[0],z=te[1],V=_.useState(0),M=St(V,2),ee=M[0],Z=M[1],A=_.useState(0),G=St(A,2),Q=G[0],Y=G[1],ae=function(tt){tt.width&&z(tt.width)},ne=St(l,3),re=ne[0],oe=ne[1],me=ne[2],Ce=_.useState(0),Ne=St(Ce,2),Ee=Ne[0],ve=Ne[1];_.useEffect(function(){ve(10)},[re]),_.useEffect(function(){if(i&&se.current){var qe,tt=((qe=H.current)===null||qe===void 0?void 0:qe.offsetWidth)||0,he=se.current.getBoundingClientRect();if(!he.height||he.right<0){ve(function(Ge){return Math.max(0,Ge-1)});return}var Ze=(F?oe-tt:re)-he.left;if(Y(Ze),J&&J<me){var Pe=F?he.right-(oe-tt+J):re+tt-he.left-J,bt=Math.max(0,Pe);Z(bt)}else Z(0)}},[Ee,F,J,re,oe,me,i]);function Se(qe){return qe.filter(function(tt){return tt})}var fe=_.useMemo(function(){return Se(cf(k))},[k]),de=a==="time"&&!fe.length,pe=_.useMemo(function(){return de?Se([R]):fe},[de,fe,R]),ce=de?R:fe,Re=_.useMemo(function(){return pe.length?pe.some(function(qe){return D(qe)}):!0},[pe,D]),Ae=function(){de&&E(R),P(),B()},ie=_.createElement("div",{className:"".concat($,"-panel-layout")},_.createElement(Ect,{prefixCls:$,presets:d,onClick:g,onHover:f}),_.createElement("div",null,_.createElement(Ict,Es({},e,{value:ce})),_.createElement(mct,Es({},e,{showNow:o?!1:r,invalid:Re,onSubmit:Ae}))));t&&(ie=t(ie));var ge="".concat(U,"-container"),be="marginLeft",Fe="marginRight",je=_.createElement("div",{onMouseDown:C,tabIndex:-1,className:zs(ge,"".concat($,"-").concat(n,"-panel-container")),style:pt(pt({},F?Fe:be,ee),F?be:Fe,"auto"),onFocus:b,onBlur:w},ie);return i&&(je=_.createElement("div",{onMouseDown:C,ref:se,className:zs("".concat($,"-range-wrapper"),"".concat($,"-").concat(a,"-range-wrapper"))},_.createElement("div",{ref:H,className:"".concat($,"-range-arrow"),style:{left:Q}}),_.createElement(af,{onResize:ae},je))),je}function EF(e,t){var n=e.format,a=e.maskFormat,r=e.generateConfig,i=e.locale,o=e.preserveInvalidOnBlur,c=e.inputReadOnly,l=e.required,d=e["aria-required"],f=e.onSubmit,g=e.onFocus,b=e.onBlur,w=e.onInputChange,C=e.onInvalid,S=e.open,k=e.onOpenChange,E=e.onKeyDown,D=e.onChange,R=e.activeHelp,P=e.name,B=e.autoComplete,O=e.id,$=e.value,U=e.invalid,F=e.placeholder,H=e.disabled,se=e.activeIndex,K=e.allHelp,te=e.picker,J=function(Q,Y){var ae=r.locale.parse(i.locale,Q,[Y]);return ae&&r.isValidate(ae)?ae:null},z=n[0],V=_.useCallback(function(G){return Oi(G,{locale:i,format:z,generateConfig:r})},[i,r,z]),M=_.useMemo(function(){return $.map(V)},[$,V]),ee=_.useMemo(function(){var G=te==="time"?8:10,Q=typeof z=="function"?z(r.getNow()).length:z.length;return Math.max(G,Q)+2},[z,te,r]),Z=function(Q){for(var Y=0;Y<n.length;Y+=1){var ae=n[Y];if(typeof ae=="string"){var ne=J(Q,ae);if(ne)return ne}}return!1},A=function(Q){function Y(re){return Q!==void 0?re[Q]:re}var ae=X4(e,{aria:!0,data:!0}),ne=vt(vt({},ae),{},{format:a,validateFormat:function(oe){return!!Z(oe)},preserveInvalidOnBlur:o,readOnly:c,required:l,"aria-required":d,name:P,autoComplete:B,size:ee,id:Y(O),value:Y(M)||"",invalid:Y(U),placeholder:Y(F),active:se===Q,helped:K||R&&se===Q,disabled:Y(H),onFocus:function(oe){g(oe,Q)},onBlur:function(oe){b(oe,Q)},onSubmit:f,onChange:function(oe){w();var me=Z(oe);if(me){C(!1,Q),D(me,Q);return}C(!!oe,Q)},onHelp:function(){k(!0,{index:Q})},onKeyDown:function(oe){var me=!1;if(E==null||E(oe,function(){me=!0}),!oe.defaultPrevented&&!me)switch(oe.key){case"Escape":k(!1,{index:Q});break;case"Enter":S||k(!0);break}}},t==null?void 0:t({valueTexts:M}));return Object.keys(ne).forEach(function(re){ne[re]===void 0&&delete ne[re]}),ne};return[A,V]}var Tct=["onMouseEnter","onMouseLeave"];function TF(e){return _.useMemo(function(){return Ly(e,Tct)},[e])}var Dct=["icon","type"],Act=["onClear"];function Hy(e){var t=e.icon,n=e.type,a=di(e,Dct),r=_.useContext(ul),i=r.prefixCls;return t?_.createElement("span",Es({className:"".concat(i,"-").concat(n)},a),t):null}function GN(e){var t=e.onClear,n=di(e,Act);return _.createElement(Hy,Es({},n,{type:"clear",role:"button",onMouseDown:function(r){r.preventDefault()},onClick:function(r){r.stopPropagation(),t()}}))}var CC=["YYYY","MM","DD","HH","mm","ss","SSS"],rA="",Mct=function(){function e(t){Pi(this,e),pt(this,"format",void 0),pt(this,"maskFormat",void 0),pt(this,"cells",void 0),pt(this,"maskCells",void 0),this.format=t;var n=CC.map(function(c){return"(".concat(c,")")}).join("|"),a=new RegExp(n,"g");this.maskFormat=t.replace(a,function(c){return rA.repeat(c.length)});var r=new RegExp("(".concat(CC.join("|"),")")),i=(t.split(r)||[]).filter(function(c){return c}),o=0;this.cells=i.map(function(c){var l=CC.includes(c),d=o,f=o+c.length;return o=f,{text:c,mask:l,start:d,end:f}}),this.maskCells=this.cells.filter(function(c){return c.mask})}return Fi(e,[{key:"getSelection",value:function(n){var a=this.maskCells[n]||{},r=a.start,i=a.end;return[r||0,i||0]}},{key:"match",value:function(n){for(var a=0;a<this.maskFormat.length;a+=1){var r=this.maskFormat[a],i=n[a];if(!i||r!==rA&&r!==i)return!1}return!0}},{key:"size",value:function(){return this.maskCells.length}},{key:"getMaskCellIndex",value:function(n){for(var a=Number.MAX_SAFE_INTEGER,r=0,i=0;i<this.maskCells.length;i+=1){var o=this.maskCells[i],c=o.start,l=o.end;if(n>=c&&n<=l)return i;var d=Math.min(Math.abs(n-c),Math.abs(n-l));d<a&&(a=d,r=i)}return r}}]),e}();function Rct(e){var t={YYYY:[0,9999,new Date().getFullYear()],MM:[1,12],DD:[1,31],HH:[0,23],mm:[0,59],ss:[0,59],SSS:[0,999]};return t[e]}var Bct=["active","showActiveCls","suffixIcon","format","validateFormat","onChange","onInput","helped","onHelp","onSubmit","onKeyDown","preserveInvalidOnBlur","invalid","clearIcon"],QN=_.forwardRef(function(e,t){var n=e.active,a=e.showActiveCls,r=a===void 0?!0:a,i=e.suffixIcon,o=e.format,c=e.validateFormat,l=e.onChange;e.onInput;var d=e.helped,f=e.onHelp,g=e.onSubmit,b=e.onKeyDown,w=e.preserveInvalidOnBlur,C=w===void 0?!1:w,S=e.invalid,k=e.clearIcon,E=di(e,Bct),D=e.value,R=e.onFocus,P=e.onBlur,B=e.onMouseUp,O=_.useContext(ul),$=O.prefixCls,U=O.input,F=U===void 0?"input":U,H="".concat($,"-input"),se=_.useState(!1),K=St(se,2),te=K[0],J=K[1],z=_.useState(D),V=St(z,2),M=V[0],ee=V[1],Z=_.useState(""),A=St(Z,2),G=A[0],Q=A[1],Y=_.useState(null),ae=St(Y,2),ne=ae[0],re=ae[1],oe=_.useState(null),me=St(oe,2),Ce=me[0],Ne=me[1],Ee=M||"";_.useEffect(function(){ee(D)},[D]);var ve=_.useRef(),Se=_.useRef();_.useImperativeHandle(t,function(){return{nativeElement:ve.current,inputElement:Se.current,focus:function(xe){Se.current.focus(xe)},blur:function(){Se.current.blur()}}});var fe=_.useMemo(function(){return new Mct(o||"")},[o]),de=_.useMemo(function(){return d?[0,0]:fe.getSelection(ne)},[fe,ne,d]),pe=St(de,2),ce=pe[0],Re=pe[1],Ae=function(xe){xe&&xe!==o&&xe!==D&&f()},ie=sr(function(De){c(De)&&l(De),ee(De),Ae(De)}),ge=function(xe){if(!o){var Ye=xe.target.value;Ae(Ye),ee(Ye),l(Ye)}},be=function(xe){var Ye=xe.clipboardData.getData("text");c(Ye)&&ie(Ye)},Fe=_.useRef(!1),je=function(){Fe.current=!0},qe=function(xe){var Ye=xe.target,at=Ye.selectionStart,lt=fe.getMaskCellIndex(at);re(lt),Ne({}),B==null||B(xe),Fe.current=!1},tt=function(xe){J(!0),re(0),Q(""),R(xe)},he=function(xe){P(xe)},Ze=function(xe){J(!1),he(xe)};u6(n,function(){!n&&!C&&ee(D)});var Pe=function(xe){xe.key==="Enter"&&c(Ee)&&g(),b==null||b(xe)},bt=function(xe){Pe(xe);var Ye=xe.key,at=null,lt=null,Mt=Re-ce,pn=o.slice(ce,Re),Qn=function(jn){re(function(dt){var It=dt+jn;return It=Math.max(It,0),It=Math.min(It,fe.size()-1),It})},yt=function(jn){var dt=Rct(pn),It=St(dt,3),st=It[0],Rt=It[1],Lt=It[2],on=Ee.slice(ce,Re),vn=Number(on);if(isNaN(vn))return String(Lt||(jn>0?st:Rt));var ss=vn+jn,hs=Rt-st+1;return String(st+(hs+ss-st)%hs)};switch(Ye){case"Backspace":case"Delete":at="",lt=pn;break;case"ArrowLeft":at="",Qn(-1);break;case"ArrowRight":at="",Qn(1);break;case"ArrowUp":at="",lt=yt(1);break;case"ArrowDown":at="",lt=yt(-1);break;default:isNaN(Number(Ye))||(at=G+Ye,lt=at);break}if(at!==null&&(Q(at),at.length>=Mt&&(Qn(1),Q(""))),lt!==null){var ln=Ee.slice(0,ce)+i6(lt,Mt)+Ee.slice(Re);ie(ln.slice(0,o.length))}Ne({})},Ge=_.useRef();Ur(function(){if(!(!te||!o||Fe.current)){if(!fe.match(Ee)){ie(o);return}return Se.current.setSelectionRange(ce,Re),Ge.current=no(function(){Se.current.setSelectionRange(ce,Re)}),function(){no.cancel(Ge.current)}}},[fe,o,te,Ee,ne,ce,Re,Ce,ie]);var ue=o?{onFocus:tt,onBlur:Ze,onKeyDown:bt,onMouseDown:je,onMouseUp:qe,onPaste:be}:{};return _.createElement("div",{ref:ve,className:zs(H,pt(pt({},"".concat(H,"-active"),n&&r),"".concat(H,"-placeholder"),d))},_.createElement(F,Es({ref:Se,"aria-invalid":S,autoComplete:"off"},E,{onKeyDown:Pe,onBlur:he},ue,{value:Ee,onChange:ge})),_.createElement(Hy,{type:"suffix",icon:i}),k)}),Oct=["id","prefix","clearIcon","suffixIcon","separator","activeIndex","activeHelp","allHelp","focused","onFocus","onBlur","onKeyDown","locale","generateConfig","placeholder","className","style","onClick","onClear","value","onChange","onSubmit","onInputChange","format","maskFormat","preserveInvalidOnBlur","onInvalid","disabled","invalid","inputReadOnly","direction","onOpenChange","onActiveInfo","placement","onMouseDown","required","aria-required","autoFocus","tabIndex"],Lct=["index"];function $ct(e,t){var n=e.id,a=e.prefix,r=e.clearIcon,i=e.suffixIcon,o=e.separator,c=o===void 0?"~":o,l=e.activeIndex;e.activeHelp,e.allHelp;var d=e.focused;e.onFocus,e.onBlur,e.onKeyDown,e.locale,e.generateConfig;var f=e.placeholder,g=e.className,b=e.style,w=e.onClick,C=e.onClear,S=e.value;e.onChange,e.onSubmit,e.onInputChange,e.format,e.maskFormat,e.preserveInvalidOnBlur,e.onInvalid;var k=e.disabled,E=e.invalid;e.inputReadOnly;var D=e.direction;e.onOpenChange;var R=e.onActiveInfo;e.placement;var P=e.onMouseDown;e.required,e["aria-required"];var B=e.autoFocus,O=e.tabIndex,$=di(e,Oct),U=D==="rtl",F=_.useContext(ul),H=F.prefixCls,se=_.useMemo(function(){if(typeof n=="string")return[n];var Ce=n||{};return[Ce.start,Ce.end]},[n]),K=_.useRef(),te=_.useRef(),J=_.useRef(),z=function(Ne){var Ee;return(Ee=[te,J][Ne])===null||Ee===void 0?void 0:Ee.current};_.useImperativeHandle(t,function(){return{nativeElement:K.current,focus:function(Ne){if(Ls(Ne)==="object"){var Ee,ve=Ne||{},Se=ve.index,fe=Se===void 0?0:Se,de=di(ve,Lct);(Ee=z(fe))===null||Ee===void 0||Ee.focus(de)}else{var pe;(pe=z(Ne??0))===null||pe===void 0||pe.focus()}},blur:function(){var Ne,Ee;(Ne=z(0))===null||Ne===void 0||Ne.blur(),(Ee=z(1))===null||Ee===void 0||Ee.blur()}}});var V=TF($),M=_.useMemo(function(){return Array.isArray(f)?f:[f,f]},[f]),ee=EF(vt(vt({},e),{},{id:se,placeholder:M})),Z=St(ee,1),A=Z[0],G=_.useState({position:"absolute",width:0}),Q=St(G,2),Y=Q[0],ae=Q[1],ne=sr(function(){var Ce=z(l);if(Ce){var Ne=Ce.nativeElement.getBoundingClientRect(),Ee=K.current.getBoundingClientRect(),ve=Ne.left-Ee.left;ae(function(Se){return vt(vt({},Se),{},{width:Ne.width,left:ve})}),R([Ne.left,Ne.right,Ee.width])}});_.useEffect(function(){ne()},[l]);var re=r&&(S[0]&&!k[0]||S[1]&&!k[1]),oe=B&&!k[0],me=B&&!oe&&!k[1];return _.createElement(af,{onResize:ne},_.createElement("div",Es({},V,{className:zs(H,"".concat(H,"-range"),pt(pt(pt(pt({},"".concat(H,"-focused"),d),"".concat(H,"-disabled"),k.every(function(Ce){return Ce})),"".concat(H,"-invalid"),E.some(function(Ce){return Ce})),"".concat(H,"-rtl"),U),g),style:b,ref:K,onClick:w,onMouseDown:function(Ne){var Ee=Ne.target;Ee!==te.current.inputElement&&Ee!==J.current.inputElement&&Ne.preventDefault(),P==null||P(Ne)}}),a&&_.createElement("div",{className:"".concat(H,"-prefix")},a),_.createElement(QN,Es({ref:te},A(0),{autoFocus:oe,tabIndex:O,"date-range":"start"})),_.createElement("div",{className:"".concat(H,"-range-separator")},c),_.createElement(QN,Es({ref:J},A(1),{autoFocus:me,tabIndex:O,"date-range":"end"})),_.createElement("div",{className:"".concat(H,"-active-bar"),style:Y}),_.createElement(Hy,{type:"suffix",icon:i}),re&&_.createElement(GN,{icon:r,onClear:C})))}var Pct=_.forwardRef($ct);function iA(e,t){var n=e??t;return Array.isArray(n)?n:[n,n]}function Dv(e){return e===1?"end":"start"}function Fct(e,t){var n=mF(e,function(){var et=e.disabled,Je=e.allowEmpty,ot=iA(et,!1),Ut=iA(Je,!1);return{disabled:ot,allowEmpty:Ut}}),a=St(n,6),r=a[0],i=a[1],o=a[2],c=a[3],l=a[4],d=a[5],f=r.prefixCls,g=r.styles,b=r.classNames,w=r.defaultValue,C=r.value,S=r.needConfirm,k=r.onKeyDown,E=r.disabled,D=r.allowEmpty,R=r.disabledDate,P=r.minDate,B=r.maxDate,O=r.defaultOpen,$=r.open,U=r.onOpenChange,F=r.locale,H=r.generateConfig,se=r.picker,K=r.showNow,te=r.showToday,J=r.showTime,z=r.mode,V=r.onPanelChange,M=r.onCalendarChange,ee=r.onOk,Z=r.defaultPickerValue,A=r.pickerValue,G=r.onPickerValueChange,Q=r.inputReadOnly,Y=r.suffixIcon,ae=r.onFocus,ne=r.onBlur,re=r.presets,oe=r.ranges,me=r.components,Ce=r.cellRender,Ne=r.dateRender,Ee=r.monthCellRender,ve=r.onClick,Se=gF(t),fe=pF($,O,E,U),de=St(fe,2),pe=de[0],ce=de[1],Re=function(Je,ot){(E.some(function(Ut){return!Ut})||!Je)&&ce(Je,ot)},Ae=jF(H,F,c,!0,!1,w,C,M,ee),ie=St(Ae,5),ge=ie[0],be=ie[1],Fe=ie[2],je=ie[3],qe=ie[4],tt=Fe(),he=vF(E,D,pe),Ze=St(he,9),Pe=Ze[0],bt=Ze[1],Ge=Ze[2],ue=Ze[3],De=Ze[4],xe=Ze[5],Ye=Ze[6],at=Ze[7],lt=Ze[8],Mt=function(Je,ot){bt(!0),ae==null||ae(Je,{range:Dv(ot??ue)})},pn=function(Je,ot){bt(!1),ne==null||ne(Je,{range:Dv(ot??ue)})},Qn=_.useMemo(function(){if(!J)return null;var et=J.disabledTime,Je=et?function(ot){var Ut=Dv(ue),Ft=sF(tt,Ye,ue);return et(ot,Ut,{from:Ft})}:void 0;return vt(vt({},J),{},{disabledTime:Je})},[J,ue,tt,Ye]),yt=Pl([se,se],{value:z}),ln=St(yt,2),fn=ln[0],jn=ln[1],dt=fn[ue]||se,It=dt==="date"&&Qn?"datetime":dt,st=It===se&&It!=="time",Rt=SF(se,dt,K,te,!0),Lt=CF(r,ge,be,Fe,je,E,c,Pe,pe,d),on=St(Lt,2),vn=on[0],ss=on[1],hs=uct(tt,E,Ye,H,F,R),xs=rF(tt,d,D),fs=St(xs,2),Hn=fs[0],Xt=fs[1],ia=xF(H,F,tt,fn,pe,ue,i,st,Z,A,Qn==null?void 0:Qn.defaultOpenValue,G,P,B),Ca=St(ia,2),Vn=Ca[0],Na=Ca[1],Qs=sr(function(et,Je,ot){var Ut=Sg(fn,ue,Je);if((Ut[0]!==fn[0]||Ut[1]!==fn[1])&&jn(Ut),V&&ot!==!1){var Ft=ps(tt);et&&(Ft[ue]=et),V(Ft,Ut)}}),ta=function(Je,ot){return Sg(tt,ot,Je)},vs=function(Je,ot){var Ut=tt;Je&&(Ut=ta(Je,ue)),at(ue);var Ft=xe(Ut);je(Ut),vn(ue,Ft===null),Ft===null?Re(!1,{force:!0}):ot||Se.current.focus({index:Ft})},za=function(Je){var ot,Ut=Je.target.getRootNode();if(!Se.current.nativeElement.contains((ot=Ut.activeElement)!==null&&ot!==void 0?ot:document.activeElement)){var Ft=E.findIndex(function(In){return!In});Ft>=0&&Se.current.focus({index:Ft})}Re(!0),ve==null||ve(Je)},ur=function(){ss(null),Re(!1,{force:!0})},Us=_.useState(null),Ms=St(Us,2),Xs=Ms[0],Cr=Ms[1],Ua=_.useState(null),Qa=St(Ua,2),qt=Qa[0],Zn=Qa[1],Ts=_.useMemo(function(){return qt||tt},[tt,qt]);_.useEffect(function(){pe||Zn(null)},[pe]);var rr=_.useState([0,0,0]),Ma=St(rr,2),js=Ma[0],Ds=Ma[1],cs=_F(re,oe),qa=function(Je){Zn(Je),Cr("preset")},ls=function(Je){var ot=ss(Je);ot&&Re(!1,{force:!0})},sa=function(Je){vs(Je)},Gs=function(Je){Zn(Je?ta(Je,ue):null),Cr("cell")},Ks=function(Je){Re(!0),Mt(Je)},vr=function(){Ge("panel")},Ws=function(Je){var ot=Sg(tt,ue,Je);je(ot),!S&&!o&&i===It&&vs(Je)},Ja=function(){Re(!1)},ji=o6(Ce,Ne,Ee,Dv(ue)),aa=tt[ue]||null,Rs=sr(function(et){return d(et,{activeIndex:ue})}),qn=_.useMemo(function(){var et=X4(r,!1),Je=Z4(r,[].concat(ps(Object.keys(et)),["onChange","onCalendarChange","style","className","onPanelChange","disabledTime"]));return Je},[r]),it=_.createElement(IF,Es({},qn,{showNow:Rt,showTime:Qn,range:!0,multiplePanel:st,activeInfo:js,disabledDate:hs,onFocus:Ks,onBlur:pn,onPanelMouseDown:vr,picker:se,mode:dt,internalMode:It,onPanelChange:Qs,format:l,value:aa,isInvalid:Rs,onChange:null,onSelect:Ws,pickerValue:Vn,defaultOpenValue:cf(J==null?void 0:J.defaultOpenValue)[ue],onPickerValueChange:Na,hoverValue:Ts,onHover:Gs,needConfirm:S,onSubmit:vs,onOk:qe,presets:cs,onPresetHover:qa,onPresetSubmit:ls,onNow:sa,cellRender:ji})),Le=function(Je,ot){var Ut=ta(Je,ot);je(Ut)},Qe=function(){Ge("input")},Tt=function(Je,ot){var Ut=Ye.length,Ft=Ye[Ut-1];if(Ut&&Ft!==ot&&S&&!D[Ft]&&!lt(Ft)&&tt[Ft]){Se.current.focus({index:Ft});return}Ge("input"),Re(!0,{inherit:!0}),ue!==ot&&pe&&!S&&o&&vs(null,!0),De(ot),Mt(Je,ot)},Wt=function(Je,ot){if(Re(!1),!S&&Ge()==="input"){var Ut=xe(tt);vn(ue,Ut===null)}pn(Je,ot)},zt=function(Je,ot){Je.key==="Tab"&&vs(null,!0),k==null||k(Je,ot)},Xe=_.useMemo(function(){return{prefixCls:f,locale:F,generateConfig:H,button:me.button,input:me.input}},[f,F,H,me.button,me.input]);return Ur(function(){pe&&ue!==void 0&&Qs(null,se,!1)},[pe,ue,se]),Ur(function(){var et=Ge();!pe&&et==="input"&&(Re(!1),vs(null,!0)),!pe&&o&&!S&&et==="panel"&&(Re(!0),vs())},[pe]),_.createElement(ul.Provider,{value:Xe},_.createElement(tF,Es({},aF(r),{popupElement:it,popupStyle:g.popup,popupClassName:b.popup,visible:pe,onClose:Ja,range:!0}),_.createElement(Pct,Es({},r,{ref:Se,suffixIcon:Y,activeIndex:Pe||pe?ue:null,activeHelp:!!qt,allHelp:!!qt&&Xs==="preset",focused:Pe,onFocus:Tt,onBlur:Wt,onKeyDown:zt,onSubmit:vs,value:Ts,maskFormat:l,onChange:Le,onInputChange:Qe,format:c,inputReadOnly:Q,disabled:E,open:pe,onOpenChange:Re,onClick:za,onClear:ur,invalid:Hn,onInvalid:Xt,onActiveInfo:Ds}))))}var Hct=_.forwardRef(Fct);function qct(e){var t=e.prefixCls,n=e.value,a=e.onRemove,r=e.removeIcon,i=r===void 0?"":r,o=e.formatDate,c=e.disabled,l=e.maxTagCount,d=e.placeholder,f="".concat(t,"-selector"),g="".concat(t,"-selection"),b="".concat(g,"-overflow");function w(k,E){return _.createElement("span",{className:zs("".concat(g,"-item")),title:typeof k=="string"?k:null},_.createElement("span",{className:"".concat(g,"-item-content")},k),!c&&E&&_.createElement("span",{onMouseDown:function(R){R.preventDefault()},onClick:E,className:"".concat(g,"-item-remove")},i))}function C(k){var E=o(k),D=function(P){P&&P.stopPropagation(),a(k)};return w(E,D)}function S(k){var E="+ ".concat(k.length," ...");return w(E)}return _.createElement("div",{className:f},_.createElement(L0,{prefixCls:b,data:n,renderItem:C,renderRest:S,itemKey:function(E){return o(E)},maxCount:l}),!n.length&&_.createElement("span",{className:"".concat(t,"-selection-placeholder")},d))}var Vct=["id","open","prefix","clearIcon","suffixIcon","activeHelp","allHelp","focused","onFocus","onBlur","onKeyDown","locale","generateConfig","placeholder","className","style","onClick","onClear","internalPicker","value","onChange","onSubmit","onInputChange","multiple","maxTagCount","format","maskFormat","preserveInvalidOnBlur","onInvalid","disabled","invalid","inputReadOnly","direction","onOpenChange","onMouseDown","required","aria-required","autoFocus","tabIndex","removeIcon"];function zct(e,t){e.id;var n=e.open,a=e.prefix,r=e.clearIcon,i=e.suffixIcon;e.activeHelp,e.allHelp;var o=e.focused;e.onFocus,e.onBlur,e.onKeyDown;var c=e.locale,l=e.generateConfig,d=e.placeholder,f=e.className,g=e.style,b=e.onClick,w=e.onClear,C=e.internalPicker,S=e.value,k=e.onChange,E=e.onSubmit;e.onInputChange;var D=e.multiple,R=e.maxTagCount;e.format,e.maskFormat,e.preserveInvalidOnBlur,e.onInvalid;var P=e.disabled,B=e.invalid;e.inputReadOnly;var O=e.direction;e.onOpenChange;var $=e.onMouseDown;e.required,e["aria-required"];var U=e.autoFocus,F=e.tabIndex,H=e.removeIcon,se=di(e,Vct),K=O==="rtl",te=_.useContext(ul),J=te.prefixCls,z=_.useRef(),V=_.useRef();_.useImperativeHandle(t,function(){return{nativeElement:z.current,focus:function(oe){var me;(me=V.current)===null||me===void 0||me.focus(oe)},blur:function(){var oe;(oe=V.current)===null||oe===void 0||oe.blur()}}});var M=TF(se),ee=function(oe){k([oe])},Z=function(oe){var me=S.filter(function(Ce){return Ce&&!_o(l,c,Ce,oe,C)});k(me),n||E()},A=EF(vt(vt({},e),{},{onChange:ee}),function(re){var oe=re.valueTexts;return{value:oe[0]||"",active:o}}),G=St(A,2),Q=G[0],Y=G[1],ae=!!(r&&S.length&&!P),ne=D?_.createElement(_.Fragment,null,_.createElement(qct,{prefixCls:J,value:S,onRemove:Z,formatDate:Y,maxTagCount:R,disabled:P,removeIcon:H,placeholder:d}),_.createElement("input",{className:"".concat(J,"-multiple-input"),value:S.map(Y).join(","),ref:V,readOnly:!0,autoFocus:U,tabIndex:F}),_.createElement(Hy,{type:"suffix",icon:i}),ae&&_.createElement(GN,{icon:r,onClear:w})):_.createElement(QN,Es({ref:V},Q(),{autoFocus:U,tabIndex:F,suffixIcon:i,clearIcon:ae&&_.createElement(GN,{icon:r,onClear:w}),showActiveCls:!1}));return _.createElement("div",Es({},M,{className:zs(J,pt(pt(pt(pt(pt({},"".concat(J,"-multiple"),D),"".concat(J,"-focused"),o),"".concat(J,"-disabled"),P),"".concat(J,"-invalid"),B),"".concat(J,"-rtl"),K),f),style:g,ref:z,onClick:b,onMouseDown:function(oe){var me,Ce=oe.target;Ce!==((me=V.current)===null||me===void 0?void 0:me.inputElement)&&oe.preventDefault(),$==null||$(oe)}}),a&&_.createElement("div",{className:"".concat(J,"-prefix")},a),ne)}var Uct=_.forwardRef(zct);function Wct(e,t){var n=mF(e),a=St(n,6),r=a[0],i=a[1],o=a[2],c=a[3],l=a[4],d=a[5],f=r,g=f.prefixCls,b=f.styles,w=f.classNames,C=f.order,S=f.defaultValue,k=f.value,E=f.needConfirm,D=f.onChange,R=f.onKeyDown,P=f.disabled,B=f.disabledDate,O=f.minDate,$=f.maxDate,U=f.defaultOpen,F=f.open,H=f.onOpenChange,se=f.locale,K=f.generateConfig,te=f.picker,J=f.showNow,z=f.showToday,V=f.showTime,M=f.mode,ee=f.onPanelChange,Z=f.onCalendarChange,A=f.onOk,G=f.multiple,Q=f.defaultPickerValue,Y=f.pickerValue,ae=f.onPickerValueChange,ne=f.inputReadOnly,re=f.suffixIcon,oe=f.removeIcon,me=f.onFocus,Ce=f.onBlur,Ne=f.presets,Ee=f.components,ve=f.cellRender,Se=f.dateRender,fe=f.monthCellRender,de=f.onClick,pe=gF(t);function ce(qn){return qn===null?null:G?qn:qn[0]}var Re=NF(K,se,i),Ae=pF(F,U,[P],H),ie=St(Ae,2),ge=ie[0],be=ie[1],Fe=function(it,Le,Qe){if(Z){var Tt=vt({},Qe);delete Tt.range,Z(ce(it),ce(Le),Tt)}},je=function(it){A==null||A(ce(it))},qe=jF(K,se,c,!1,C,S,k,Fe,je),tt=St(qe,5),he=tt[0],Ze=tt[1],Pe=tt[2],bt=tt[3],Ge=tt[4],ue=Pe(),De=vF([P]),xe=St(De,4),Ye=xe[0],at=xe[1],lt=xe[2],Mt=xe[3],pn=function(it){at(!0),me==null||me(it,{})},Qn=function(it){at(!1),Ce==null||Ce(it,{})},yt=Pl(te,{value:M}),ln=St(yt,2),fn=ln[0],jn=ln[1],dt=fn==="date"&&V?"datetime":fn,It=SF(te,fn,J,z),st=D&&function(qn,it){D(ce(qn),ce(it))},Rt=CF(vt(vt({},r),{},{onChange:st}),he,Ze,Pe,bt,[],c,Ye,ge,d),Lt=St(Rt,2),on=Lt[1],vn=rF(ue,d),ss=St(vn,2),hs=ss[0],xs=ss[1],fs=_.useMemo(function(){return hs.some(function(qn){return qn})},[hs]),Hn=function(it,Le){if(ae){var Qe=vt(vt({},Le),{},{mode:Le.mode[0]});delete Qe.range,ae(it[0],Qe)}},Xt=xF(K,se,ue,[fn],ge,Mt,i,!1,Q,Y,cf(V==null?void 0:V.defaultOpenValue),Hn,O,$),ia=St(Xt,2),Ca=ia[0],Vn=ia[1],Na=sr(function(qn,it,Le){if(jn(it),ee&&Le!==!1){var Qe=qn||ue[ue.length-1];ee(Qe,it)}}),Qs=function(){on(Pe()),be(!1,{force:!0})},ta=function(it){!P&&!pe.current.nativeElement.contains(document.activeElement)&&pe.current.focus(),be(!0),de==null||de(it)},vs=function(){on(null),be(!1,{force:!0})},za=_.useState(null),ur=St(za,2),Us=ur[0],Ms=ur[1],Xs=_.useState(null),Cr=St(Xs,2),Ua=Cr[0],Qa=Cr[1],qt=_.useMemo(function(){var qn=[Ua].concat(ps(ue)).filter(function(it){return it});return G?qn:qn.slice(0,1)},[ue,Ua,G]),Zn=_.useMemo(function(){return!G&&Ua?[Ua]:ue.filter(function(qn){return qn})},[ue,Ua,G]);_.useEffect(function(){ge||Qa(null)},[ge]);var Ts=_F(Ne),rr=function(it){Qa(it),Ms("preset")},Ma=function(it){var Le=G?Re(Pe(),it):[it],Qe=on(Le);Qe&&!G&&be(!1,{force:!0})},js=function(it){Ma(it)},Ds=function(it){Qa(it),Ms("cell")},cs=function(it){be(!0),pn(it)},qa=function(it){if(lt("panel"),!(G&&dt!==te)){var Le=G?Re(Pe(),it):[it];bt(Le),!E&&!o&&i===dt&&Qs()}},ls=function(){be(!1)},sa=o6(ve,Se,fe),Gs=_.useMemo(function(){var qn=X4(r,!1),it=Z4(r,[].concat(ps(Object.keys(qn)),["onChange","onCalendarChange","style","className","onPanelChange"]));return vt(vt({},it),{},{multiple:r.multiple})},[r]),Ks=_.createElement(IF,Es({},Gs,{showNow:It,showTime:V,disabledDate:B,onFocus:cs,onBlur:Qn,picker:te,mode:fn,internalMode:dt,onPanelChange:Na,format:l,value:ue,isInvalid:d,onChange:null,onSelect:qa,pickerValue:Ca,defaultOpenValue:V==null?void 0:V.defaultOpenValue,onPickerValueChange:Vn,hoverValue:qt,onHover:Ds,needConfirm:E,onSubmit:Qs,onOk:Ge,presets:Ts,onPresetHover:rr,onPresetSubmit:Ma,onNow:js,cellRender:sa})),vr=function(it){bt(it)},Ws=function(){lt("input")},Ja=function(it){lt("input"),be(!0,{inherit:!0}),pn(it)},ji=function(it){be(!1),Qn(it)},aa=function(it,Le){it.key==="Tab"&&Qs(),R==null||R(it,Le)},Rs=_.useMemo(function(){return{prefixCls:g,locale:se,generateConfig:K,button:Ee.button,input:Ee.input}},[g,se,K,Ee.button,Ee.input]);return Ur(function(){ge&&Mt!==void 0&&Na(null,te,!1)},[ge,Mt,te]),Ur(function(){var qn=lt();!ge&&qn==="input"&&(be(!1),Qs()),!ge&&o&&!E&&qn==="panel"&&Qs()},[ge]),_.createElement(ul.Provider,{value:Rs},_.createElement(tF,Es({},aF(r),{popupElement:Ks,popupStyle:b.popup,popupClassName:w.popup,visible:ge,onClose:ls}),_.createElement(Uct,Es({},r,{ref:pe,suffixIcon:re,removeIcon:oe,activeHelp:!!Ua,allHelp:!!Ua&&Us==="preset",focused:Ye,onFocus:Ja,onBlur:ji,onKeyDown:aa,onSubmit:Qs,value:Zn,maskFormat:l,onChange:vr,onInputChange:Ws,internalPicker:i,format:c,inputReadOnly:ne,disabled:P,open:ge,onOpenChange:be,onClick:ta,onClear:vs,invalid:fs,onInvalid:function(it){xs(it,0)}}))))}var Yct=_.forwardRef(Wct);function h6(e){return uc(e,{inputAffixPadding:e.paddingXXS})}const f6=e=>{const{controlHeight:t,fontSize:n,lineHeight:a,lineWidth:r,controlHeightSM:i,controlHeightLG:o,fontSizeLG:c,lineHeightLG:l,paddingSM:d,controlPaddingHorizontalSM:f,controlPaddingHorizontal:g,colorFillAlter:b,colorPrimaryHover:w,colorPrimary:C,controlOutlineWidth:S,controlOutline:k,colorErrorOutline:E,colorWarningOutline:D,colorBgContainer:R,inputFontSize:P,inputFontSizeLG:B,inputFontSizeSM:O}=e,$=P||n,U=O||$,F=B||c,H=Math.round((t-$*a)/2*10)/10-r,se=Math.round((i-U*a)/2*10)/10-r,K=Math.ceil((o-F*l)/2*10)/10-r;return{paddingBlock:Math.max(H,0),paddingBlockSM:Math.max(se,0),paddingBlockLG:Math.max(K,0),paddingInline:d-r,paddingInlineSM:f-r,paddingInlineLG:g-r,addonBg:b,activeBorderColor:C,hoverBorderColor:w,activeShadow:`0 0 0 ${S}px ${k}`,errorActiveShadow:`0 0 0 ${S}px ${E}`,warningActiveShadow:`0 0 0 ${S}px ${D}`,hoverBg:R,activeBg:R,inputFontSize:$,inputFontSizeLG:F,inputFontSizeSM:U}},Gct=e=>({borderColor:e.hoverBorderColor,backgroundColor:e.hoverBg}),m6=e=>({color:e.colorTextDisabled,backgroundColor:e.colorBgContainerDisabled,borderColor:e.colorBorder,boxShadow:"none",cursor:"not-allowed",opacity:1,"input[disabled], textarea[disabled]":{cursor:"not-allowed"},"&:hover:not([disabled])":Object.assign({},Gct(uc(e,{hoverBorderColor:e.colorBorder,hoverBg:e.colorBgContainerDisabled})))}),DF=(e,t)=>({background:e.colorBgContainer,borderWidth:e.lineWidth,borderStyle:e.lineType,borderColor:t.borderColor,"&:hover":{borderColor:t.hoverBorderColor,backgroundColor:e.hoverBg},"&:focus, &:focus-within":{borderColor:t.activeBorderColor,boxShadow:t.activeShadow,outline:0,backgroundColor:e.activeBg}}),oA=(e,t)=>({[`&${e.componentCls}-status-${t.status}:not(${e.componentCls}-disabled)`]:Object.assign(Object.assign({},DF(e,t)),{[`${e.componentCls}-prefix, ${e.componentCls}-suffix`]:{color:t.affixColor}}),[`&${e.componentCls}-status-${t.status}${e.componentCls}-disabled`]:{borderColor:t.borderColor}}),AF=(e,t)=>({"&-outlined":Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},DF(e,{borderColor:e.colorBorder,hoverBorderColor:e.hoverBorderColor,activeBorderColor:e.activeBorderColor,activeShadow:e.activeShadow})),{[`&${e.componentCls}-disabled, &[disabled]`]:Object.assign({},m6(e))}),oA(e,{status:"error",borderColor:e.colorError,hoverBorderColor:e.colorErrorBorderHover,activeBorderColor:e.colorError,activeShadow:e.errorActiveShadow,affixColor:e.colorError})),oA(e,{status:"warning",borderColor:e.colorWarning,hoverBorderColor:e.colorWarningBorderHover,activeBorderColor:e.colorWarning,activeShadow:e.warningActiveShadow,affixColor:e.colorWarning})),t)}),cA=(e,t)=>({[`&${e.componentCls}-group-wrapper-status-${t.status}`]:{[`${e.componentCls}-group-addon`]:{borderColor:t.addonBorderColor,color:t.addonColor}}}),Qct=e=>({"&-outlined":Object.assign(Object.assign(Object.assign({[`${e.componentCls}-group`]:{"&-addon":{background:e.addonBg,border:`${ms(e.lineWidth)} ${e.lineType} ${e.colorBorder}`},"&-addon:first-child":{borderInlineEnd:0},"&-addon:last-child":{borderInlineStart:0}}},cA(e,{status:"error",addonBorderColor:e.colorError,addonColor:e.colorErrorText})),cA(e,{status:"warning",addonBorderColor:e.colorWarning,addonColor:e.colorWarningText})),{[`&${e.componentCls}-group-wrapper-disabled`]:{[`${e.componentCls}-group-addon`]:Object.assign({},m6(e))}})}),MF=(e,t)=>{const{componentCls:n}=e;return{"&-borderless":Object.assign({background:"transparent",border:"none","&:focus, &:focus-within":{outline:"none"},[`&${n}-disabled, &[disabled]`]:{color:e.colorTextDisabled,cursor:"not-allowed"},[`&${n}-status-error`]:{"&, & input, & textarea":{color:e.colorError}},[`&${n}-status-warning`]:{"&, & input, & textarea":{color:e.colorWarning}}},t)}},RF=(e,t)=>{var n;return{background:t.bg,borderWidth:e.lineWidth,borderStyle:e.lineType,borderColor:"transparent","input&, & input, textarea&, & textarea":{color:(n=t==null?void 0:t.inputColor)!==null&&n!==void 0?n:"unset"},"&:hover":{background:t.hoverBg},"&:focus, &:focus-within":{outline:0,borderColor:t.activeBorderColor,backgroundColor:e.activeBg}}},lA=(e,t)=>({[`&${e.componentCls}-status-${t.status}:not(${e.componentCls}-disabled)`]:Object.assign(Object.assign({},RF(e,t)),{[`${e.componentCls}-prefix, ${e.componentCls}-suffix`]:{color:t.affixColor}})}),BF=(e,t)=>({"&-filled":Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},RF(e,{bg:e.colorFillTertiary,hoverBg:e.colorFillSecondary,activeBorderColor:e.activeBorderColor})),{[`&${e.componentCls}-disabled, &[disabled]`]:Object.assign({},m6(e))}),lA(e,{status:"error",bg:e.colorErrorBg,hoverBg:e.colorErrorBgHover,activeBorderColor:e.colorError,inputColor:e.colorErrorText,affixColor:e.colorError})),lA(e,{status:"warning",bg:e.colorWarningBg,hoverBg:e.colorWarningBgHover,activeBorderColor:e.colorWarning,inputColor:e.colorWarningText,affixColor:e.colorWarning})),t)}),uA=(e,t)=>({[`&${e.componentCls}-group-wrapper-status-${t.status}`]:{[`${e.componentCls}-group-addon`]:{background:t.addonBg,color:t.addonColor}}}),Xct=e=>({"&-filled":Object.assign(Object.assign(Object.assign({[`${e.componentCls}-group-addon`]:{background:e.colorFillTertiary,"&:last-child":{position:"static"}}},uA(e,{status:"error",addonBg:e.colorErrorBg,addonColor:e.colorErrorText})),uA(e,{status:"warning",addonBg:e.colorWarningBg,addonColor:e.colorWarningText})),{[`&${e.componentCls}-group-wrapper-disabled`]:{[`${e.componentCls}-group`]:{"&-addon":{background:e.colorFillTertiary,color:e.colorTextDisabled},"&-addon:first-child":{borderInlineStart:`${ms(e.lineWidth)} ${e.lineType} ${e.colorBorder}`,borderTop:`${ms(e.lineWidth)} ${e.lineType} ${e.colorBorder}`,borderBottom:`${ms(e.lineWidth)} ${e.lineType} ${e.colorBorder}`},"&-addon:last-child":{borderInlineEnd:`${ms(e.lineWidth)} ${e.lineType} ${e.colorBorder}`,borderTop:`${ms(e.lineWidth)} ${e.lineType} ${e.colorBorder}`,borderBottom:`${ms(e.lineWidth)} ${e.lineType} ${e.colorBorder}`}}}})}),OF=(e,t)=>({background:e.colorBgContainer,borderWidth:`${ms(e.lineWidth)} 0`,borderStyle:`${e.lineType} none`,borderColor:`transparent transparent ${t.borderColor} transparent`,borderRadius:0,"&:hover":{borderColor:`transparent transparent ${t.borderColor} transparent`,backgroundColor:e.hoverBg},"&:focus, &:focus-within":{borderColor:`transparent transparent ${t.activeBorderColor} transparent`,outline:0,backgroundColor:e.activeBg}}),dA=(e,t)=>({[`&${e.componentCls}-status-${t.status}:not(${e.componentCls}-disabled)`]:Object.assign(Object.assign({},OF(e,t)),{[`${e.componentCls}-prefix, ${e.componentCls}-suffix`]:{color:t.affixColor}}),[`&${e.componentCls}-status-${t.status}${e.componentCls}-disabled`]:{borderColor:`transparent transparent ${t.borderColor} transparent`}}),LF=(e,t)=>({"&-underlined":Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},OF(e,{borderColor:e.colorBorder,hoverBorderColor:e.hoverBorderColor,activeBorderColor:e.activeBorderColor,activeShadow:e.activeShadow})),{[`&${e.componentCls}-disabled, &[disabled]`]:{color:e.colorTextDisabled,boxShadow:"none",cursor:"not-allowed","&:hover":{borderColor:`transparent transparent ${e.colorBorder} transparent`}},"input[disabled], textarea[disabled]":{cursor:"not-allowed"}}),dA(e,{status:"error",borderColor:e.colorError,hoverBorderColor:e.colorErrorBorderHover,activeBorderColor:e.colorError,activeShadow:e.errorActiveShadow,affixColor:e.colorError})),dA(e,{status:"warning",borderColor:e.colorWarning,hoverBorderColor:e.colorWarningBorderHover,activeBorderColor:e.colorWarning,activeShadow:e.warningActiveShadow,affixColor:e.colorWarning})),t)}),$F=e=>({"&::-moz-placeholder":{opacity:1},"&::placeholder":{color:e,userSelect:"none"},"&:placeholder-shown":{textOverflow:"ellipsis"}}),PF=e=>{const{paddingBlockLG:t,lineHeightLG:n,borderRadiusLG:a,paddingInlineLG:r}=e;return{padding:`${ms(t)} ${ms(r)}`,fontSize:e.inputFontSizeLG,lineHeight:n,borderRadius:a}},FF=e=>({padding:`${ms(e.paddingBlockSM)} ${ms(e.paddingInlineSM)}`,fontSize:e.inputFontSizeSM,borderRadius:e.borderRadiusSM}),HF=e=>Object.assign(Object.assign({position:"relative",display:"inline-block",width:"100%",minWidth:0,padding:`${ms(e.paddingBlock)} ${ms(e.paddingInline)}`,color:e.colorText,fontSize:e.inputFontSize,lineHeight:e.lineHeight,borderRadius:e.borderRadius,transition:`all ${e.motionDurationMid}`},$F(e.colorTextPlaceholder)),{"&-lg":Object.assign({},PF(e)),"&-sm":Object.assign({},FF(e)),"&-rtl, &-textarea-rtl":{direction:"rtl"}}),Kct=e=>{const{componentCls:t,antCls:n}=e;return{position:"relative",display:"table",width:"100%",borderCollapse:"separate",borderSpacing:0,"&[class*='col-']":{paddingInlineEnd:e.paddingXS,"&:last-child":{paddingInlineEnd:0}},[`&-lg ${t}, &-lg > ${t}-group-addon`]:Object.assign({},PF(e)),[`&-sm ${t}, &-sm > ${t}-group-addon`]:Object.assign({},FF(e)),[`&-lg ${n}-select-single ${n}-select-selector`]:{height:e.controlHeightLG},[`&-sm ${n}-select-single ${n}-select-selector`]:{height:e.controlHeightSM},[`> ${t}`]:{display:"table-cell","&:not(:first-child):not(:last-child)":{borderRadius:0}},[`${t}-group`]:{"&-addon, &-wrap":{display:"table-cell",width:1,whiteSpace:"nowrap",verticalAlign:"middle","&:not(:first-child):not(:last-child)":{borderRadius:0}},"&-wrap > *":{display:"block !important"},"&-addon":{position:"relative",padding:`0 ${ms(e.paddingInline)}`,color:e.colorText,fontWeight:"normal",fontSize:e.inputFontSize,textAlign:"center",borderRadius:e.borderRadius,transition:`all ${e.motionDurationSlow}`,lineHeight:1,[`${n}-select`]:{margin:`${ms(e.calc(e.paddingBlock).add(1).mul(-1).equal())} ${ms(e.calc(e.paddingInline).mul(-1).equal())}`,[`&${n}-select-single:not(${n}-select-customize-input):not(${n}-pagination-size-changer)`]:{[`${n}-select-selector`]:{backgroundColor:"inherit",border:`${ms(e.lineWidth)} ${e.lineType} transparent`,boxShadow:"none"}}},[`${n}-cascader-picker`]:{margin:`-9px ${ms(e.calc(e.paddingInline).mul(-1).equal())}`,backgroundColor:"transparent",[`${n}-cascader-input`]:{textAlign:"start",border:0,boxShadow:"none"}}}},[t]:{width:"100%",marginBottom:0,textAlign:"inherit","&:focus":{zIndex:1,borderInlineEndWidth:1},"&:hover":{zIndex:1,borderInlineEndWidth:1,[`${t}-search-with-button &`]:{zIndex:0}}},[`> ${t}:first-child, ${t}-group-addon:first-child`]:{borderStartEndRadius:0,borderEndEndRadius:0,[`${n}-select ${n}-select-selector`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`> ${t}-affix-wrapper`]:{[`&:not(:first-child) ${t}`]:{borderStartStartRadius:0,borderEndStartRadius:0},[`&:not(:last-child) ${t}`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`> ${t}:last-child, ${t}-group-addon:last-child`]:{borderStartStartRadius:0,borderEndStartRadius:0,[`${n}-select ${n}-select-selector`]:{borderStartStartRadius:0,borderEndStartRadius:0}},[`${t}-affix-wrapper`]:{"&:not(:last-child)":{borderStartEndRadius:0,borderEndEndRadius:0,[`${t}-search &`]:{borderStartStartRadius:e.borderRadius,borderEndStartRadius:e.borderRadius}},[`&:not(:first-child), ${t}-search &:not(:first-child)`]:{borderStartStartRadius:0,borderEndStartRadius:0}},[`&${t}-group-compact`]:Object.assign(Object.assign({display:"block"},Vnt()),{[`${t}-group-addon, ${t}-group-wrap, > ${t}`]:{"&:not(:first-child):not(:last-child)":{borderInlineEndWidth:e.lineWidth,"&:hover, &:focus":{zIndex:1}}},"& > *":{display:"inline-flex",float:"none",verticalAlign:"top",borderRadius:0},[`
        & > ${t}-affix-wrapper,
        & > ${t}-number-affix-wrapper,
        & > ${n}-picker-range
      `]:{display:"inline-flex"},"& > *:not(:last-child)":{marginInlineEnd:e.calc(e.lineWidth).mul(-1).equal(),borderInlineEndWidth:e.lineWidth},[t]:{float:"none"},[`& > ${n}-select > ${n}-select-selector,
      & > ${n}-select-auto-complete ${t},
      & > ${n}-cascader-picker ${t},
      & > ${t}-group-wrapper ${t}`]:{borderInlineEndWidth:e.lineWidth,borderRadius:0,"&:hover, &:focus":{zIndex:1}},[`& > ${n}-select-focused`]:{zIndex:1},[`& > ${n}-select > ${n}-select-arrow`]:{zIndex:1},[`& > *:first-child,
      & > ${n}-select:first-child > ${n}-select-selector,
      & > ${n}-select-auto-complete:first-child ${t},
      & > ${n}-cascader-picker:first-child ${t}`]:{borderStartStartRadius:e.borderRadius,borderEndStartRadius:e.borderRadius},[`& > *:last-child,
      & > ${n}-select:last-child > ${n}-select-selector,
      & > ${n}-cascader-picker:last-child ${t},
      & > ${n}-cascader-picker-focused:last-child ${t}`]:{borderInlineEndWidth:e.lineWidth,borderStartEndRadius:e.borderRadius,borderEndEndRadius:e.borderRadius},[`& > ${n}-select-auto-complete ${t}`]:{verticalAlign:"top"},[`${t}-group-wrapper + ${t}-group-wrapper`]:{marginInlineStart:e.calc(e.lineWidth).mul(-1).equal(),[`${t}-affix-wrapper`]:{borderRadius:0}},[`${t}-group-wrapper:not(:last-child)`]:{[`&${t}-search > ${t}-group`]:{[`& > ${t}-group-addon > ${t}-search-button`]:{borderRadius:0},[`& > ${t}`]:{borderStartStartRadius:e.borderRadius,borderStartEndRadius:0,borderEndEndRadius:0,borderEndStartRadius:e.borderRadius}}}})}},Zct=e=>{const{componentCls:t,controlHeightSM:n,lineWidth:a,calc:r}=e,o=r(n).sub(r(a).mul(2)).sub(16).div(2).equal();return{[t]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},jb(e)),HF(e)),AF(e)),BF(e)),MF(e)),LF(e)),{'&[type="color"]':{height:e.controlHeight,[`&${t}-lg`]:{height:e.controlHeightLG},[`&${t}-sm`]:{height:n,paddingTop:o,paddingBottom:o}},'&[type="search"]::-webkit-search-cancel-button, &[type="search"]::-webkit-search-decoration':{appearance:"none"}})}},Jct=e=>{const{componentCls:t}=e;return{[`${t}-clear-icon`]:{margin:0,padding:0,lineHeight:0,color:e.colorTextQuaternary,fontSize:e.fontSizeIcon,verticalAlign:-1,cursor:"pointer",transition:`color ${e.motionDurationSlow}`,border:"none",outline:"none",backgroundColor:"transparent","&:hover":{color:e.colorIcon},"&:active":{color:e.colorText},"&-hidden":{visibility:"hidden"},"&-has-suffix":{margin:`0 ${ms(e.inputAffixPadding)}`}}}},elt=e=>{const{componentCls:t,inputAffixPadding:n,colorTextDescription:a,motionDurationSlow:r,colorIcon:i,colorIconHover:o,iconCls:c}=e,l=`${t}-affix-wrapper`,d=`${t}-affix-wrapper-disabled`;return{[l]:Object.assign(Object.assign(Object.assign(Object.assign({},HF(e)),{display:"inline-flex",[`&:not(${t}-disabled):hover`]:{zIndex:1,[`${t}-search-with-button &`]:{zIndex:0}},"&-focused, &:focus":{zIndex:1},[`> input${t}`]:{padding:0},[`> input${t}, > textarea${t}`]:{fontSize:"inherit",border:"none",borderRadius:0,outline:"none",background:"transparent",color:"inherit","&::-ms-reveal":{display:"none"},"&:focus":{boxShadow:"none !important"}},"&::before":{display:"inline-block",width:0,visibility:"hidden",content:'"\\a0"'},[t]:{"&-prefix, &-suffix":{display:"flex",flex:"none",alignItems:"center","> *:not(:last-child)":{marginInlineEnd:e.paddingXS}},"&-show-count-suffix":{color:a,direction:"ltr"},"&-show-count-has-suffix":{marginInlineEnd:e.paddingXXS},"&-prefix":{marginInlineEnd:n},"&-suffix":{marginInlineStart:n}}}),Jct(e)),{[`${c}${t}-password-icon`]:{color:i,cursor:"pointer",transition:`all ${r}`,"&:hover":{color:o}}}),[`${t}-underlined`]:{borderRadius:0},[d]:{[`${c}${t}-password-icon`]:{color:i,cursor:"not-allowed","&:hover":{color:i}}}}},tlt=e=>{const{componentCls:t,borderRadiusLG:n,borderRadiusSM:a}=e;return{[`${t}-group`]:Object.assign(Object.assign(Object.assign({},jb(e)),Kct(e)),{"&-rtl":{direction:"rtl"},"&-wrapper":Object.assign(Object.assign(Object.assign({display:"inline-block",width:"100%",textAlign:"start",verticalAlign:"top","&-rtl":{direction:"rtl"},"&-lg":{[`${t}-group-addon`]:{borderRadius:n,fontSize:e.inputFontSizeLG}},"&-sm":{[`${t}-group-addon`]:{borderRadius:a}}},Qct(e)),Xct(e)),{[`&:not(${t}-compact-first-item):not(${t}-compact-last-item)${t}-compact-item`]:{[`${t}, ${t}-group-addon`]:{borderRadius:0}},[`&:not(${t}-compact-last-item)${t}-compact-first-item`]:{[`${t}, ${t}-group-addon`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`&:not(${t}-compact-first-item)${t}-compact-last-item`]:{[`${t}, ${t}-group-addon`]:{borderStartStartRadius:0,borderEndStartRadius:0}},[`&:not(${t}-compact-last-item)${t}-compact-item`]:{[`${t}-affix-wrapper`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`&:not(${t}-compact-first-item)${t}-compact-item`]:{[`${t}-affix-wrapper`]:{borderStartStartRadius:0,borderEndStartRadius:0}}})})}},nlt=e=>{const{componentCls:t,antCls:n}=e,a=`${t}-search`;return{[a]:{[t]:{"&:hover, &:focus":{[`+ ${t}-group-addon ${a}-button:not(${n}-btn-color-primary):not(${n}-btn-variant-text)`]:{borderInlineStartColor:e.colorPrimaryHover}}},[`${t}-affix-wrapper`]:{height:e.controlHeight,borderRadius:0},[`${t}-lg`]:{lineHeight:e.calc(e.lineHeightLG).sub(2e-4).equal()},[`> ${t}-group`]:{[`> ${t}-group-addon:last-child`]:{insetInlineStart:-1,padding:0,border:0,[`${a}-button`]:{marginInlineEnd:-1,borderStartStartRadius:0,borderEndStartRadius:0,boxShadow:"none"},[`${a}-button:not(${n}-btn-color-primary)`]:{color:e.colorTextDescription,"&:hover":{color:e.colorPrimaryHover},"&:active":{color:e.colorPrimaryActive},[`&${n}-btn-loading::before`]:{inset:0}}}},[`${a}-button`]:{height:e.controlHeight,"&:hover, &:focus":{zIndex:1}},"&-large":{[`${t}-affix-wrapper, ${a}-button`]:{height:e.controlHeightLG}},"&-small":{[`${t}-affix-wrapper, ${a}-button`]:{height:e.controlHeightSM}},"&-rtl":{direction:"rtl"},[`&${t}-compact-item`]:{[`&:not(${t}-compact-last-item)`]:{[`${t}-group-addon`]:{[`${t}-search-button`]:{marginInlineEnd:e.calc(e.lineWidth).mul(-1).equal(),borderRadius:0}}},[`&:not(${t}-compact-first-item)`]:{[`${t},${t}-affix-wrapper`]:{borderRadius:0}},[`> ${t}-group-addon ${t}-search-button,
        > ${t},
        ${t}-affix-wrapper`]:{"&:hover, &:focus, &:active":{zIndex:2}},[`> ${t}-affix-wrapper-focused`]:{zIndex:2}}}}},slt=e=>{const{componentCls:t}=e;return{[`${t}-out-of-range`]:{[`&, & input, & textarea, ${t}-show-count-suffix, ${t}-data-count`]:{color:e.colorError}}}};Ey(["Input","Shared"],e=>{const t=uc(e,h6(e));return[Zct(t),elt(t)]},f6,{resetFont:!1});Ey(["Input","Component"],e=>{const t=uc(e,h6(e));return[tlt(t),nlt(t),slt(t),s6(t)]},f6,{resetFont:!1});const SC=(e,t)=>{const{componentCls:n,controlHeight:a}=e,r=t?`${n}-${t}`:"",i=uot(e);return[{[`${n}-multiple${r}`]:{paddingBlock:i.containerPadding,paddingInlineStart:i.basePadding,minHeight:a,[`${n}-selection-item`]:{height:i.itemHeight,lineHeight:ms(i.itemLineHeight)}}}]},alt=e=>{const{componentCls:t,calc:n,lineWidth:a}=e,r=uc(e,{fontHeight:e.fontSize,selectHeight:e.controlHeightSM,multipleSelectItemHeight:e.multipleItemHeightSM,borderRadius:e.borderRadiusSM,borderRadiusSM:e.borderRadiusXS,controlHeight:e.controlHeightSM}),i=uc(e,{fontHeight:n(e.multipleItemHeightLG).sub(n(a).mul(2).equal()).equal(),fontSize:e.fontSizeLG,selectHeight:e.controlHeightLG,multipleSelectItemHeight:e.multipleItemHeightLG,borderRadius:e.borderRadiusLG,borderRadiusSM:e.borderRadius,controlHeight:e.controlHeightLG});return[SC(r,"small"),SC(e),SC(i,"large"),{[`${t}${t}-multiple`]:Object.assign(Object.assign({width:"100%",cursor:"text",[`${t}-selector`]:{flex:"auto",padding:0,position:"relative","&:after":{margin:0},[`${t}-selection-placeholder`]:{position:"absolute",top:"50%",insetInlineStart:e.inputPaddingHorizontalBase,insetInlineEnd:0,transform:"translateY(-50%)",transition:`all ${e.motionDurationSlow}`,overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",flex:1,color:e.colorTextPlaceholder,pointerEvents:"none"}}},dot(e)),{[`${t}-multiple-input`]:{width:0,height:0,border:0,visibility:"hidden",position:"absolute",zIndex:-1}})}]},rlt=e=>{const{pickerCellCls:t,pickerCellInnerCls:n,cellHeight:a,borderRadiusSM:r,motionDurationMid:i,cellHoverBg:o,lineWidth:c,lineType:l,colorPrimary:d,cellActiveWithRangeBg:f,colorTextLightSolid:g,colorTextDisabled:b,cellBgDisabled:w,colorFillSecondary:C}=e;return{"&::before":{position:"absolute",top:"50%",insetInlineStart:0,insetInlineEnd:0,zIndex:1,height:a,transform:"translateY(-50%)",content:'""',pointerEvents:"none"},[n]:{position:"relative",zIndex:2,display:"inline-block",minWidth:a,height:a,lineHeight:ms(a),borderRadius:r,transition:`background ${i}`},[`&:hover:not(${t}-in-view):not(${t}-disabled),
    &:hover:not(${t}-selected):not(${t}-range-start):not(${t}-range-end):not(${t}-disabled)`]:{[n]:{background:o}},[`&-in-view${t}-today ${n}`]:{"&::before":{position:"absolute",top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,zIndex:1,border:`${ms(c)} ${l} ${d}`,borderRadius:r,content:'""'}},[`&-in-view${t}-in-range,
      &-in-view${t}-range-start,
      &-in-view${t}-range-end`]:{position:"relative",[`&:not(${t}-disabled):before`]:{background:f}},[`&-in-view${t}-selected,
      &-in-view${t}-range-start,
      &-in-view${t}-range-end`]:{[`&:not(${t}-disabled) ${n}`]:{color:g,background:d},[`&${t}-disabled ${n}`]:{background:C}},[`&-in-view${t}-range-start:not(${t}-disabled):before`]:{insetInlineStart:"50%"},[`&-in-view${t}-range-end:not(${t}-disabled):before`]:{insetInlineEnd:"50%"},[`&-in-view${t}-range-start:not(${t}-range-end) ${n}`]:{borderStartStartRadius:r,borderEndStartRadius:r,borderStartEndRadius:0,borderEndEndRadius:0},[`&-in-view${t}-range-end:not(${t}-range-start) ${n}`]:{borderStartStartRadius:0,borderEndStartRadius:0,borderStartEndRadius:r,borderEndEndRadius:r},"&-disabled":{color:b,cursor:"not-allowed",[n]:{background:"transparent"},"&::before":{background:w}},[`&-disabled${t}-today ${n}::before`]:{borderColor:b}}},ilt=e=>{const{componentCls:t,pickerCellCls:n,pickerCellInnerCls:a,pickerYearMonthCellWidth:r,pickerControlIconSize:i,cellWidth:o,paddingSM:c,paddingXS:l,paddingXXS:d,colorBgContainer:f,lineWidth:g,lineType:b,borderRadiusLG:w,colorPrimary:C,colorTextHeading:S,colorSplit:k,pickerControlIconBorderWidth:E,colorIcon:D,textHeight:R,motionDurationMid:P,colorIconHover:B,fontWeightStrong:O,cellHeight:$,pickerCellPaddingVertical:U,colorTextDisabled:F,colorText:H,fontSize:se,motionDurationSlow:K,withoutTimeCellHeight:te,pickerQuarterPanelContentHeight:J,borderRadiusSM:z,colorTextLightSolid:V,cellHoverBg:M,timeColumnHeight:ee,timeColumnWidth:Z,timeCellHeight:A,controlItemBgActive:G,marginXXS:Q,pickerDatePanelPaddingHorizontal:Y,pickerControlIconMargin:ae}=e,ne=e.calc(o).mul(7).add(e.calc(Y).mul(2)).equal();return{[t]:{"&-panel":{display:"inline-flex",flexDirection:"column",textAlign:"center",background:f,borderRadius:w,outline:"none","&-focused":{borderColor:C},"&-rtl":{[`${t}-prev-icon,
              ${t}-super-prev-icon`]:{transform:"rotate(45deg)"},[`${t}-next-icon,
              ${t}-super-next-icon`]:{transform:"rotate(-135deg)"},[`${t}-time-panel`]:{[`${t}-content`]:{direction:"ltr","> *":{direction:"rtl"}}}}},"&-decade-panel,\n        &-year-panel,\n        &-quarter-panel,\n        &-month-panel,\n        &-week-panel,\n        &-date-panel,\n        &-time-panel":{display:"flex",flexDirection:"column",width:ne},"&-header":{display:"flex",padding:`0 ${ms(l)}`,color:S,borderBottom:`${ms(g)} ${b} ${k}`,"> *":{flex:"none"},button:{padding:0,color:D,lineHeight:ms(R),background:"transparent",border:0,cursor:"pointer",transition:`color ${P}`,fontSize:"inherit",display:"inline-flex",alignItems:"center",justifyContent:"center","&:empty":{display:"none"}},"> button":{minWidth:"1.6em",fontSize:se,"&:hover":{color:B},"&:disabled":{opacity:.25,pointerEvents:"none"}},"&-view":{flex:"auto",fontWeight:O,lineHeight:ms(R),"> button":{color:"inherit",fontWeight:"inherit",verticalAlign:"top","&:not(:first-child)":{marginInlineStart:l},"&:hover":{color:C}}}},"&-prev-icon,\n        &-next-icon,\n        &-super-prev-icon,\n        &-super-next-icon":{position:"relative",width:i,height:i,"&::before":{position:"absolute",top:0,insetInlineStart:0,width:i,height:i,border:"0 solid currentcolor",borderBlockStartWidth:E,borderInlineStartWidth:E,content:'""'}},"&-super-prev-icon,\n        &-super-next-icon":{"&::after":{position:"absolute",top:ae,insetInlineStart:ae,display:"inline-block",width:i,height:i,border:"0 solid currentcolor",borderBlockStartWidth:E,borderInlineStartWidth:E,content:'""'}},"&-prev-icon, &-super-prev-icon":{transform:"rotate(-45deg)"},"&-next-icon, &-super-next-icon":{transform:"rotate(135deg)"},"&-content":{width:"100%",tableLayout:"fixed",borderCollapse:"collapse","th, td":{position:"relative",minWidth:$,fontWeight:"normal"},th:{height:e.calc($).add(e.calc(U).mul(2)).equal(),color:H,verticalAlign:"middle"}},"&-cell":Object.assign({padding:`${ms(U)} 0`,color:F,cursor:"pointer","&-in-view":{color:H}},rlt(e)),"&-decade-panel,\n        &-year-panel,\n        &-quarter-panel,\n        &-month-panel":{[`${t}-content`]:{height:e.calc(te).mul(4).equal()},[a]:{padding:`0 ${ms(l)}`}},"&-quarter-panel":{[`${t}-content`]:{height:J}},"&-decade-panel":{[a]:{padding:`0 ${ms(e.calc(l).div(2).equal())}`},[`${t}-cell::before`]:{display:"none"}},"&-year-panel,\n        &-quarter-panel,\n        &-month-panel":{[`${t}-body`]:{padding:`0 ${ms(l)}`},[a]:{width:r}},"&-date-panel":{[`${t}-body`]:{padding:`${ms(l)} ${ms(Y)}`},[`${t}-content th`]:{boxSizing:"border-box",padding:0}},"&-week-panel":{[`${t}-cell`]:{[`&:hover ${a},
            &-selected ${a},
            ${a}`]:{background:"transparent !important"}},"&-row":{td:{"&:before":{transition:`background ${P}`},"&:first-child:before":{borderStartStartRadius:z,borderEndStartRadius:z},"&:last-child:before":{borderStartEndRadius:z,borderEndEndRadius:z}},"&:hover td:before":{background:M},"&-range-start td, &-range-end td, &-selected td, &-hover td":{[`&${n}`]:{"&:before":{background:C},[`&${t}-cell-week`]:{color:new kr(V).setA(.5).toHexString()},[a]:{color:V}}},"&-range-hover td:before":{background:G}}},"&-week-panel, &-date-panel-show-week":{[`${t}-body`]:{padding:`${ms(l)} ${ms(c)}`},[`${t}-content th`]:{width:"auto"}},"&-datetime-panel":{display:"flex",[`${t}-time-panel`]:{borderInlineStart:`${ms(g)} ${b} ${k}`},[`${t}-date-panel,
          ${t}-time-panel`]:{transition:`opacity ${K}`},"&-active":{[`${t}-date-panel,
            ${t}-time-panel`]:{opacity:.3,"&-active":{opacity:1}}}},"&-time-panel":{width:"auto",minWidth:"auto",[`${t}-content`]:{display:"flex",flex:"auto",height:ee},"&-column":{flex:"1 0 auto",width:Z,margin:`${ms(d)} 0`,padding:0,overflowY:"hidden",textAlign:"start",listStyle:"none",transition:`background ${P}`,overflowX:"hidden","&::-webkit-scrollbar":{width:8,backgroundColor:"transparent"},"&::-webkit-scrollbar-thumb":{backgroundColor:e.colorTextTertiary,borderRadius:e.borderRadiusSM},"&":{scrollbarWidth:"thin",scrollbarColor:`${e.colorTextTertiary} transparent`},"&::after":{display:"block",height:`calc(100% - ${ms(A)})`,content:'""'},"&:not(:first-child)":{borderInlineStart:`${ms(g)} ${b} ${k}`},"&-active":{background:new kr(G).setA(.2).toHexString()},"&:hover":{overflowY:"auto"},"> li":{margin:0,padding:0,[`&${t}-time-panel-cell`]:{marginInline:Q,[`${t}-time-panel-cell-inner`]:{display:"block",width:e.calc(Z).sub(e.calc(Q).mul(2)).equal(),height:A,margin:0,paddingBlock:0,paddingInlineEnd:0,paddingInlineStart:e.calc(Z).sub(A).div(2).equal(),color:H,lineHeight:ms(A),borderRadius:z,cursor:"pointer",transition:`background ${P}`,"&:hover":{background:M}},"&-selected":{[`${t}-time-panel-cell-inner`]:{background:G}},"&-disabled":{[`${t}-time-panel-cell-inner`]:{color:F,background:"transparent",cursor:"not-allowed"}}}}}}}}},olt=e=>{const{componentCls:t,textHeight:n,lineWidth:a,paddingSM:r,antCls:i,colorPrimary:o,cellActiveWithRangeBg:c,colorPrimaryBorder:l,lineType:d,colorSplit:f}=e;return{[`${t}-dropdown`]:{[`${t}-footer`]:{borderTop:`${ms(a)} ${d} ${f}`,"&-extra":{padding:`0 ${ms(r)}`,lineHeight:ms(e.calc(n).sub(e.calc(a).mul(2)).equal()),textAlign:"start","&:not(:last-child)":{borderBottom:`${ms(a)} ${d} ${f}`}}},[`${t}-panels + ${t}-footer ${t}-ranges`]:{justifyContent:"space-between"},[`${t}-ranges`]:{marginBlock:0,paddingInline:ms(r),overflow:"hidden",textAlign:"start",listStyle:"none",display:"flex",justifyContent:"center",alignItems:"center","> li":{lineHeight:ms(e.calc(n).sub(e.calc(a).mul(2)).equal()),display:"inline-block"},[`${t}-now-btn-disabled`]:{pointerEvents:"none",color:e.colorTextDisabled},[`${t}-preset > ${i}-tag-blue`]:{color:o,background:c,borderColor:l,cursor:"pointer"},[`${t}-ok`]:{paddingBlock:e.calc(a).mul(2).equal(),marginInlineStart:"auto"}}}}},clt=e=>{const{componentCls:t,controlHeightLG:n,paddingXXS:a,padding:r}=e;return{pickerCellCls:`${t}-cell`,pickerCellInnerCls:`${t}-cell-inner`,pickerYearMonthCellWidth:e.calc(n).mul(1.5).equal(),pickerQuarterPanelContentHeight:e.calc(n).mul(1.4).equal(),pickerCellPaddingVertical:e.calc(a).add(e.calc(a).div(2)).equal(),pickerCellBorderGap:2,pickerControlIconSize:7,pickerControlIconMargin:4,pickerControlIconBorderWidth:1.5,pickerDatePanelPaddingHorizontal:e.calc(r).add(e.calc(a).div(2)).equal()}},llt=e=>{const{colorBgContainerDisabled:t,controlHeight:n,controlHeightSM:a,controlHeightLG:r,paddingXXS:i,lineWidth:o}=e,c=i*2,l=o*2,d=Math.min(n-c,n-l),f=Math.min(a-c,a-l),g=Math.min(r-c,r-l);return{INTERNAL_FIXED_ITEM_MARGIN:Math.floor(i/2),cellHoverBg:e.controlItemBgHover,cellActiveWithRangeBg:e.controlItemBgActive,cellHoverWithRangeBg:new kr(e.colorPrimary).lighten(35).toHexString(),cellRangeBorderColor:new kr(e.colorPrimary).lighten(20).toHexString(),cellBgDisabled:t,timeColumnWidth:r*1.4,timeColumnHeight:28*8,timeCellHeight:28,cellWidth:a*1.5,cellHeight:a,textHeight:r,withoutTimeCellHeight:r*1.65,multipleItemBg:e.colorFillSecondary,multipleItemBorderColor:"transparent",multipleItemHeight:d,multipleItemHeightSM:f,multipleItemHeightLG:g,multipleSelectorBgDisabled:t,multipleItemColorDisabled:e.colorTextDisabled,multipleItemBorderColorDisabled:"transparent"}},ult=e=>Object.assign(Object.assign(Object.assign(Object.assign({},f6(e)),llt(e)),wot(e)),{presetsWidth:120,presetsMaxWidth:200,zIndexPopup:e.zIndexPopupBase+50}),dlt=e=>{const{componentCls:t}=e;return{[t]:[Object.assign(Object.assign(Object.assign(Object.assign({},AF(e)),LF(e)),BF(e)),MF(e)),{"&-outlined":{[`&${t}-multiple ${t}-selection-item`]:{background:e.multipleItemBg,border:`${ms(e.lineWidth)} ${e.lineType} ${e.multipleItemBorderColor}`}},"&-filled":{[`&${t}-multiple ${t}-selection-item`]:{background:e.colorBgContainer,border:`${ms(e.lineWidth)} ${e.lineType} ${e.colorSplit}`}},"&-borderless":{[`&${t}-multiple ${t}-selection-item`]:{background:e.multipleItemBg,border:`${ms(e.lineWidth)} ${e.lineType} ${e.multipleItemBorderColor}`}},"&-underlined":{[`&${t}-multiple ${t}-selection-item`]:{background:e.multipleItemBg,border:`${ms(e.lineWidth)} ${e.lineType} ${e.multipleItemBorderColor}`}}}]}},NC=(e,t)=>({padding:`${ms(e)} ${ms(t)}`}),hlt=e=>{const{componentCls:t,colorError:n,colorWarning:a}=e;return{[`${t}:not(${t}-disabled):not([disabled])`]:{[`&${t}-status-error`]:{[`${t}-active-bar`]:{background:n}},[`&${t}-status-warning`]:{[`${t}-active-bar`]:{background:a}}}}},flt=e=>{var t;const{componentCls:n,antCls:a,paddingInline:r,lineWidth:i,lineType:o,colorBorder:c,borderRadius:l,motionDurationMid:d,colorTextDisabled:f,colorTextPlaceholder:g,fontSizeLG:b,inputFontSizeLG:w,fontSizeSM:C,inputFontSizeSM:S,controlHeightSM:k,paddingInlineSM:E,paddingXS:D,marginXS:R,colorIcon:P,lineWidthBold:B,colorPrimary:O,motionDurationSlow:$,zIndexPopup:U,paddingXXS:F,sizePopupArrow:H,colorBgElevated:se,borderRadiusLG:K,boxShadowSecondary:te,borderRadiusSM:J,colorSplit:z,cellHoverBg:V,presetsWidth:M,presetsMaxWidth:ee,boxShadowPopoverArrow:Z,fontHeight:A,lineHeightLG:G}=e;return[{[n]:Object.assign(Object.assign(Object.assign({},jb(e)),NC(e.paddingBlock,e.paddingInline)),{position:"relative",display:"inline-flex",alignItems:"center",lineHeight:1,borderRadius:l,transition:`border ${d}, box-shadow ${d}, background ${d}`,[`${n}-prefix`]:{flex:"0 0 auto",marginInlineEnd:e.inputAffixPadding},[`${n}-input`]:{position:"relative",display:"inline-flex",alignItems:"center",width:"100%","> input":Object.assign(Object.assign({position:"relative",display:"inline-block",width:"100%",color:"inherit",fontSize:(t=e.inputFontSize)!==null&&t!==void 0?t:e.fontSize,lineHeight:e.lineHeight,transition:`all ${d}`},$F(g)),{flex:"auto",minWidth:1,height:"auto",padding:0,background:"transparent",border:0,fontFamily:"inherit","&:focus":{boxShadow:"none",outline:0},"&[disabled]":{background:"transparent",color:f,cursor:"not-allowed"}}),"&-placeholder":{"> input":{color:g}}},"&-large":Object.assign(Object.assign({},NC(e.paddingBlockLG,e.paddingInlineLG)),{[`${n}-input > input`]:{fontSize:w??b,lineHeight:G}}),"&-small":Object.assign(Object.assign({},NC(e.paddingBlockSM,e.paddingInlineSM)),{[`${n}-input > input`]:{fontSize:S??C}}),[`${n}-suffix`]:{display:"flex",flex:"none",alignSelf:"center",marginInlineStart:e.calc(D).div(2).equal(),color:f,lineHeight:1,pointerEvents:"none",transition:`opacity ${d}, color ${d}`,"> *":{verticalAlign:"top","&:not(:last-child)":{marginInlineEnd:R}}},[`${n}-clear`]:{position:"absolute",top:"50%",insetInlineEnd:0,color:f,lineHeight:1,transform:"translateY(-50%)",cursor:"pointer",opacity:0,transition:`opacity ${d}, color ${d}`,"> *":{verticalAlign:"top"},"&:hover":{color:P}},"&:hover":{[`${n}-clear`]:{opacity:1},[`${n}-suffix:not(:last-child)`]:{opacity:0}},[`${n}-separator`]:{position:"relative",display:"inline-block",width:"1em",height:b,color:f,fontSize:b,verticalAlign:"top",cursor:"default",[`${n}-focused &`]:{color:P},[`${n}-range-separator &`]:{[`${n}-disabled &`]:{cursor:"not-allowed"}}},"&-range":{position:"relative",display:"inline-flex",[`${n}-active-bar`]:{bottom:e.calc(i).mul(-1).equal(),height:B,background:O,opacity:0,transition:`all ${$} ease-out`,pointerEvents:"none"},[`&${n}-focused`]:{[`${n}-active-bar`]:{opacity:1}},[`${n}-range-separator`]:{alignItems:"center",padding:`0 ${ms(D)}`,lineHeight:1}},"&-range, &-multiple":{[`${n}-clear`]:{insetInlineEnd:r},[`&${n}-small`]:{[`${n}-clear`]:{insetInlineEnd:E}}},"&-dropdown":Object.assign(Object.assign(Object.assign({},jb(e)),ilt(e)),{pointerEvents:"none",position:"absolute",top:-9999,left:{_skip_check_:!0,value:-9999},zIndex:U,[`&${n}-dropdown-hidden`]:{display:"none"},"&-rtl":{direction:"rtl"},[`&${n}-dropdown-placement-bottomLeft,
            &${n}-dropdown-placement-bottomRight`]:{[`${n}-range-arrow`]:{top:0,display:"block",transform:"translateY(-100%)"}},[`&${n}-dropdown-placement-topLeft,
            &${n}-dropdown-placement-topRight`]:{[`${n}-range-arrow`]:{bottom:0,display:"block",transform:"translateY(100%) rotate(180deg)"}},[`&${a}-slide-up-appear, &${a}-slide-up-enter`]:{[`${n}-range-arrow${n}-range-arrow`]:{transition:"none"}},[`&${a}-slide-up-enter${a}-slide-up-enter-active${n}-dropdown-placement-topLeft,
          &${a}-slide-up-enter${a}-slide-up-enter-active${n}-dropdown-placement-topRight,
          &${a}-slide-up-appear${a}-slide-up-appear-active${n}-dropdown-placement-topLeft,
          &${a}-slide-up-appear${a}-slide-up-appear-active${n}-dropdown-placement-topRight`]:{animationName:RP},[`&${a}-slide-up-enter${a}-slide-up-enter-active${n}-dropdown-placement-bottomLeft,
          &${a}-slide-up-enter${a}-slide-up-enter-active${n}-dropdown-placement-bottomRight,
          &${a}-slide-up-appear${a}-slide-up-appear-active${n}-dropdown-placement-bottomLeft,
          &${a}-slide-up-appear${a}-slide-up-appear-active${n}-dropdown-placement-bottomRight`]:{animationName:AP},[`&${a}-slide-up-leave ${n}-panel-container`]:{pointerEvents:"none"},[`&${a}-slide-up-leave${a}-slide-up-leave-active${n}-dropdown-placement-topLeft,
          &${a}-slide-up-leave${a}-slide-up-leave-active${n}-dropdown-placement-topRight`]:{animationName:BP},[`&${a}-slide-up-leave${a}-slide-up-leave-active${n}-dropdown-placement-bottomLeft,
          &${a}-slide-up-leave${a}-slide-up-leave-active${n}-dropdown-placement-bottomRight`]:{animationName:MP},[`${n}-panel > ${n}-time-panel`]:{paddingTop:F},[`${n}-range-wrapper`]:{display:"flex",position:"relative"},[`${n}-range-arrow`]:Object.assign(Object.assign({position:"absolute",zIndex:1,display:"none",paddingInline:e.calc(r).mul(1.5).equal(),boxSizing:"content-box",transition:`all ${$} ease-out`},jot(e,se,Z)),{"&:before":{insetInlineStart:e.calc(r).mul(1.5).equal()}}),[`${n}-panel-container`]:{overflow:"hidden",verticalAlign:"top",background:se,borderRadius:K,boxShadow:te,transition:`margin ${$}`,display:"inline-block",pointerEvents:"auto",[`${n}-panel-layout`]:{display:"flex",flexWrap:"nowrap",alignItems:"stretch"},[`${n}-presets`]:{display:"flex",flexDirection:"column",minWidth:M,maxWidth:ee,ul:{height:0,flex:"auto",listStyle:"none",overflow:"auto",margin:0,padding:D,borderInlineEnd:`${ms(i)} ${o} ${z}`,li:Object.assign(Object.assign({},qnt),{borderRadius:J,paddingInline:D,paddingBlock:e.calc(k).sub(A).div(2).equal(),cursor:"pointer",transition:`all ${$}`,"+ li":{marginTop:R},"&:hover":{background:V}})}},[`${n}-panels`]:{display:"inline-flex",flexWrap:"nowrap","&:last-child":{[`${n}-panel`]:{borderWidth:0}}},[`${n}-panel`]:{verticalAlign:"top",background:"transparent",borderRadius:0,borderWidth:0,[`${n}-content, table`]:{textAlign:"center"},"&-focused":{borderColor:c}}}}),"&-dropdown-range":{padding:`${ms(e.calc(H).mul(2).div(3).equal())} 0`,"&-hidden":{display:"none"}},"&-rtl":{direction:"rtl",[`${n}-separator`]:{transform:"scale(-1, 1)"},[`${n}-footer`]:{"&-extra":{direction:"rtl"}}}})},I9(e,"slide-up"),I9(e,"slide-down"),k9(e,"move-up"),k9(e,"move-down")]},qF=Ey("DatePicker",e=>{const t=uc(h6(e),clt(e),{inputPaddingHorizontalBase:e.calc(e.paddingSM).sub(1).equal(),multipleSelectItemHeight:e.multipleItemHeight,selectHeight:e.controlHeight});return[olt(t),flt(t),dlt(t),hlt(t),alt(t),s6(e,{focusElCls:`${e.componentCls}-focused`})]},ult);var mlt={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 184H712v-64c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v64H384v-64c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v64H144c-17.7 0-32 14.3-32 32v664c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V216c0-17.7-14.3-32-32-32zm-40 656H184V460h656v380zM184 392V256h128v48c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-48h256v48c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-48h128v136H184z"}}]},name:"calendar",theme:"outlined"},plt=function(t,n){return _.createElement(Pc,Es({},t,{ref:n,icon:mlt}))},VF=_.forwardRef(plt),glt={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M686.7 638.6L544.1 535.5V288c0-4.4-3.6-8-8-8H488c-4.4 0-8 3.6-8 8v275.4c0 2.6 1.2 5 3.3 6.5l165.4 120.6c3.6 2.6 8.6 1.8 11.2-1.7l28.6-39c2.6-3.7 1.8-8.7-1.8-11.2z"}}]},name:"clock-circle",theme:"outlined"},_lt=function(t,n){return _.createElement(Pc,Es({},t,{ref:n,icon:glt}))},zF=_.forwardRef(_lt),vlt={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M873.1 596.2l-164-208A32 32 0 00684 376h-64.8c-6.7 0-10.4 7.7-6.3 13l144.3 183H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h695.9c26.8 0 41.7-30.8 25.2-51.8z"}}]},name:"swap-right",theme:"outlined"},xlt=function(t,n){return _.createElement(Pc,Es({},t,{ref:n,icon:vlt}))},blt=_.forwardRef(xlt);function ylt(e,t,n){return n!==void 0?n:t==="year"&&e.lang.yearPlaceholder?e.lang.yearPlaceholder:t==="quarter"&&e.lang.quarterPlaceholder?e.lang.quarterPlaceholder:t==="month"&&e.lang.monthPlaceholder?e.lang.monthPlaceholder:t==="week"&&e.lang.weekPlaceholder?e.lang.weekPlaceholder:t==="time"&&e.timePickerLocale.placeholder?e.timePickerLocale.placeholder:e.lang.placeholder}function wlt(e,t,n){return n!==void 0?n:t==="year"&&e.lang.yearPlaceholder?e.lang.rangeYearPlaceholder:t==="quarter"&&e.lang.quarterPlaceholder?e.lang.rangeQuarterPlaceholder:t==="month"&&e.lang.monthPlaceholder?e.lang.rangeMonthPlaceholder:t==="week"&&e.lang.weekPlaceholder?e.lang.rangeWeekPlaceholder:t==="time"&&e.timePickerLocale.placeholder?e.timePickerLocale.rangePlaceholder:e.lang.rangePlaceholder}function UF(e,t){const{allowClear:n=!0}=e,{clearIcon:a,removeIcon:r}=yot(Object.assign(Object.assign({},e),{prefixCls:t,componentName:"DatePicker"}));return[_.useMemo(()=>n===!1?!1:Object.assign({clearIcon:a},n===!0?{}:n),[n,a]),r]}const[jlt,Clt]=["week","WeekPicker"],[Slt,Nlt]=["month","MonthPicker"],[klt,Ilt]=["year","YearPicker"],[Elt,Tlt]=["quarter","QuarterPicker"],[XN,hA]=["time","TimePicker"],Dlt=e=>_.createElement(a6,Object.assign({size:"small",type:"primary"},e));function WF(e){return _.useMemo(()=>Object.assign({button:Dlt},e),[e])}function YF(e,...t){const n=e||{};return t.reduce((a,r)=>(Object.keys(r||{}).forEach(i=>{const o=n[i],c=r[i];if(o&&typeof o=="object")if(c&&typeof c=="object")a[i]=YF(o,a[i],c);else{const{_default:l}=o;a[i]=a[i]||{},a[i][l]=zs(a[i][l],c)}else a[i]=zs(a[i],c)}),a),{})}function Alt(e,...t){return _.useMemo(()=>YF.apply(void 0,[e].concat(t)),[t])}function Mlt(...e){return _.useMemo(()=>e.reduce((t,n={})=>(Object.keys(n).forEach(a=>{t[a]=Object.assign(Object.assign({},t[a]),n[a])}),t),{}),[e])}function KN(e,t){const n=Object.assign({},e);return Object.keys(t).forEach(a=>{if(a!=="_default"){const r=t[a],i=n[a]||{};n[a]=r?KN(i,r):i}}),n}function Rlt(e,t,n){const a=Alt.apply(void 0,[n].concat(ps(e))),r=Mlt.apply(void 0,ps(t));return _.useMemo(()=>[KN(a,n),KN(r,n)],[a,r])}const GF=(e,t,n,a,r)=>{const{classNames:i,styles:o}=Z$(e),[c,l]=Rlt([i,t],[o,n],{popup:{_default:"root"}});return _.useMemo(()=>{var d,f;const g=Object.assign(Object.assign({},c),{popup:Object.assign(Object.assign({},c.popup),{root:zs((d=c.popup)===null||d===void 0?void 0:d.root,a)})}),b=Object.assign(Object.assign({},l),{popup:Object.assign(Object.assign({},l.popup),{root:Object.assign(Object.assign({},(f=l.popup)===null||f===void 0?void 0:f.root),r)})});return[g,b]},[c,l,a,r])};var Blt=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]]);return n};const Olt=e=>_.forwardRef((n,a)=>{var r;const{prefixCls:i,getPopupContainer:o,components:c,className:l,style:d,placement:f,size:g,disabled:b,bordered:w=!0,placeholder:C,popupStyle:S,popupClassName:k,dropdownClassName:E,status:D,rootClassName:R,variant:P,picker:B,styles:O,classNames:$}=n,U=Blt(n,["prefixCls","getPopupContainer","components","className","style","placement","size","disabled","bordered","placeholder","popupStyle","popupClassName","dropdownClassName","status","rootClassName","variant","picker","styles","classNames"]),F=B===XN?"timePicker":"datePicker",H=_.useRef(null),{getPrefixCls:se,direction:K,getPopupContainer:te,rangePicker:J}=_.useContext(Io),z=se("picker",i),{compactSize:V,compactItemClassnames:M}=t6(z,K),ee=se(),[Z,A]=eF("rangePicker",P,w),G=wP(z),[Q,Y,ae]=qF(z,G),[ne,re]=GF(F,$,O,k||E,S),[oe]=UF(n,z),me=WF(c),Ce=e6(ie=>{var ge;return(ge=g??V)!==null&&ge!==void 0?ge:ie}),Ne=_.useContext(Ym),Ee=b??Ne,ve=_.useContext(Ib),{hasFeedback:Se,status:fe,feedbackIcon:de}=ve,pe=_.createElement(_.Fragment,null,B===XN?_.createElement(zF,null):_.createElement(VF,null),Se&&de);_.useImperativeHandle(a,()=>H.current);const[ce]=W$("Calendar",bb),Re=Object.assign(Object.assign({},ce),n.locale),[Ae]=SP("DatePicker",(r=re.popup.root)===null||r===void 0?void 0:r.zIndex);return Q(_.createElement(YP,{space:!0},_.createElement(Hct,Object.assign({separator:_.createElement("span",{"aria-label":"to",className:`${z}-separator`},_.createElement(blt,null)),disabled:Ee,ref:H,placement:f,placeholder:wlt(Re,B,C),suffixIcon:pe,prevIcon:_.createElement("span",{className:`${z}-prev-icon`}),nextIcon:_.createElement("span",{className:`${z}-next-icon`}),superPrevIcon:_.createElement("span",{className:`${z}-super-prev-icon`}),superNextIcon:_.createElement("span",{className:`${z}-super-next-icon`}),transitionName:`${ee}-slide-up`,picker:B},U,{className:zs({[`${z}-${Ce}`]:Ce,[`${z}-${Z}`]:A},ZP(z,JP(fe,D),Se),Y,M,l,J==null?void 0:J.className,ae,G,R,ne.root),style:Object.assign(Object.assign(Object.assign({},J==null?void 0:J.style),d),re.root),locale:Re.lang,prefixCls:z,getPopupContainer:o||te,generateConfig:e,components:me,direction:K,classNames:{popup:zs(Y,ae,G,R,ne.popup.root)},styles:{popup:Object.assign(Object.assign({},re.popup.root),{zIndex:Ae})},allowClear:oe}))))});var Llt=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]]);return n};const $lt=e=>{const t=(l,d)=>{const f=d===hA?"timePicker":"datePicker";return _.forwardRef((b,w)=>{var C;const{prefixCls:S,getPopupContainer:k,components:E,style:D,className:R,rootClassName:P,size:B,bordered:O,placement:$,placeholder:U,popupStyle:F,popupClassName:H,dropdownClassName:se,disabled:K,status:te,variant:J,onCalendarChange:z,styles:V,classNames:M}=b,ee=Llt(b,["prefixCls","getPopupContainer","components","style","className","rootClassName","size","bordered","placement","placeholder","popupStyle","popupClassName","dropdownClassName","disabled","status","variant","onCalendarChange","styles","classNames"]),{getPrefixCls:Z,direction:A,getPopupContainer:G,[f]:Q}=_.useContext(Io),Y=Z("picker",S),{compactSize:ae,compactItemClassnames:ne}=t6(Y,A),re=_.useRef(null),[oe,me]=eF("datePicker",J,O),Ce=wP(Y),[Ne,Ee,ve]=qF(Y,Ce);_.useImperativeHandle(w,()=>re.current);const Se={showToday:!0},fe=l||b.picker,de=Z(),{onSelect:pe,multiple:ce}=ee,Re=pe&&l==="time"&&!ce,Ae=(at,lt,Mt)=>{z==null||z(at,lt,Mt),Re&&pe(at)},[ie,ge]=GF(f,M,V,H||se,F),[be,Fe]=UF(b,Y),je=WF(E),qe=e6(at=>{var lt;return(lt=B??ae)!==null&&lt!==void 0?lt:at}),tt=_.useContext(Ym),he=K??tt,Ze=_.useContext(Ib),{hasFeedback:Pe,status:bt,feedbackIcon:Ge}=Ze,ue=_.createElement(_.Fragment,null,fe==="time"?_.createElement(zF,null):_.createElement(VF,null),Pe&&Ge),[De]=W$("DatePicker",bb),xe=Object.assign(Object.assign({},De),b.locale),[Ye]=SP("DatePicker",(C=ge.popup.root)===null||C===void 0?void 0:C.zIndex);return Ne(_.createElement(YP,{space:!0},_.createElement(Yct,Object.assign({ref:re,placeholder:ylt(xe,fe,U),suffixIcon:ue,placement:$,prevIcon:_.createElement("span",{className:`${Y}-prev-icon`}),nextIcon:_.createElement("span",{className:`${Y}-next-icon`}),superPrevIcon:_.createElement("span",{className:`${Y}-super-prev-icon`}),superNextIcon:_.createElement("span",{className:`${Y}-super-next-icon`}),transitionName:`${de}-slide-up`,picker:l,onCalendarChange:Ae},Se,ee,{locale:xe.lang,className:zs({[`${Y}-${qe}`]:qe,[`${Y}-${oe}`]:me},ZP(Y,JP(bt,te),Pe),Ee,ne,Q==null?void 0:Q.className,R,ve,Ce,P,ie.root),style:Object.assign(Object.assign(Object.assign({},Q==null?void 0:Q.style),D),ge.root),prefixCls:Y,getPopupContainer:k||G,generateConfig:e,components:je,direction:A,disabled:he,classNames:{popup:zs(Ee,ve,Ce,P,ie.popup.root)},styles:{popup:Object.assign(Object.assign({},ge.popup.root),{zIndex:Ye})},allowClear:be,removeIcon:Fe}))))})},n=t(),a=t(jlt,Clt),r=t(Slt,Nlt),i=t(klt,Ilt),o=t(Elt,Tlt),c=t(XN,hA);return{DatePicker:n,WeekPicker:a,MonthPicker:r,YearPicker:i,TimePicker:c,QuarterPicker:o}},QF=e=>{const{DatePicker:t,WeekPicker:n,MonthPicker:a,YearPicker:r,TimePicker:i,QuarterPicker:o}=$lt(e),c=Olt(e),l=t;return l.WeekPicker=n,l.MonthPicker=a,l.YearPicker=r,l.RangePicker=c,l.TimePicker=i,l.QuarterPicker=o,l},Du=QF(Qot),Plt=GP(Du,"popupAlign",void 0,"picker");Du._InternalPanelDoNotUseOrYouWillBeFired=Plt;const Flt=GP(Du.RangePicker,"popupAlign",void 0,"picker");Du._InternalRangePanelDoNotUseOrYouWillBeFired=Flt;Du.generatePicker=QF;var O1={},kC={exports:{}},fA;function qy(){return fA||(fA=1,function(e){function t(n){return n&&n.__esModule?n:{default:n}}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}(kC)),kC.exports}var L1={},mA;function Hlt(){if(mA)return L1;mA=1,Object.defineProperty(L1,"__esModule",{value:!0}),L1.default=void 0;var e={items_per_page:"/ .",jump_to:"",jump_to_confirm:"",page:"",prev_page:"",next_page:"",prev_5:" 5",next_5:" 5",prev_3:" 3",next_3:" 3",page_size:" "};return L1.default=e,L1}var $1={},P1={},F1={},IC={exports:{}},EC={exports:{}},TC={exports:{}},DC={exports:{}},pA;function XF(){return pA||(pA=1,function(e){function t(n){"@babel/helpers - typeof";return e.exports=t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}(DC)),DC.exports}var AC={exports:{}},gA;function qlt(){return gA||(gA=1,function(e){var t=XF().default;function n(a,r){if(t(a)!="object"||!a)return a;var i=a[Symbol.toPrimitive];if(i!==void 0){var o=i.call(a,r||"default");if(t(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(a)}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports}(AC)),AC.exports}var _A;function Vlt(){return _A||(_A=1,function(e){var t=XF().default,n=qlt();function a(r){var i=n(r,"string");return t(i)=="symbol"?i:i+""}e.exports=a,e.exports.__esModule=!0,e.exports.default=e.exports}(TC)),TC.exports}var vA;function zlt(){return vA||(vA=1,function(e){var t=Vlt();function n(a,r,i){return(r=t(r))in a?Object.defineProperty(a,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):a[r]=i,a}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports}(EC)),EC.exports}var xA;function Ult(){return xA||(xA=1,function(e){var t=zlt();function n(r,i){var o=Object.keys(r);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(r);i&&(c=c.filter(function(l){return Object.getOwnPropertyDescriptor(r,l).enumerable})),o.push.apply(o,c)}return o}function a(r){for(var i=1;i<arguments.length;i++){var o=arguments[i]!=null?arguments[i]:{};i%2?n(Object(o),!0).forEach(function(c){t(r,c,o[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(o)):n(Object(o)).forEach(function(c){Object.defineProperty(r,c,Object.getOwnPropertyDescriptor(o,c))})}return r}e.exports=a,e.exports.__esModule=!0,e.exports.default=e.exports}(IC)),IC.exports}var H1={},bA;function Wlt(){return bA||(bA=1,Object.defineProperty(H1,"__esModule",{value:!0}),H1.commonLocale=void 0,H1.commonLocale={yearFormat:"YYYY",dayFormat:"D",cellMeridiemFormat:"A",monthBeforeYear:!0}),H1}var yA;function Ylt(){if(yA)return F1;yA=1;var e=qy().default;Object.defineProperty(F1,"__esModule",{value:!0}),F1.default=void 0;var t=e(Ult()),n=Wlt(),a=(0,t.default)((0,t.default)({},n.commonLocale),{},{locale:"ru_RU",today:"",now:"",backToToday:" ",ok:"",clear:"",week:"",month:"",year:"",timeSelect:" ",dateSelect:" ",monthSelect:" ",yearSelect:" ",decadeSelect:" ",dateFormat:"D-M-YYYY",dateTimeFormat:"D-M-YYYY HH:mm:ss",previousMonth:"  (PageUp)",nextMonth:"  (PageDown)",previousYear:"  (Control + left)",nextYear:"  (Control + right)",previousDecade:" ",nextDecade:" ",previousCentury:" ",nextCentury:" "});return F1.default=a,F1}var q1={},wA;function KF(){if(wA)return q1;wA=1,Object.defineProperty(q1,"__esModule",{value:!0}),q1.default=void 0;const e={placeholder:" ",rangePlaceholder:[" "," "]};return q1.default=e,q1}var jA;function ZF(){if(jA)return P1;jA=1;var e=qy().default;Object.defineProperty(P1,"__esModule",{value:!0}),P1.default=void 0;var t=e(Ylt()),n=e(KF());const a={lang:Object.assign({placeholder:" ",yearPlaceholder:" ",quarterPlaceholder:" ",monthPlaceholder:" ",weekPlaceholder:" ",rangePlaceholder:[" "," "],rangeYearPlaceholder:[" "," "],rangeMonthPlaceholder:[" "," "],rangeWeekPlaceholder:[" "," "],shortWeekDays:["","","","","","",""],shortMonths:["","","","","","","","","","","",""]},t.default),timePickerLocale:Object.assign({},n.default)};return P1.default=a,P1}var CA;function Glt(){if(CA)return $1;CA=1;var e=qy().default;Object.defineProperty($1,"__esModule",{value:!0}),$1.default=void 0;var t=e(ZF());return $1.default=t.default,$1}var SA;function Qlt(){if(SA)return O1;SA=1;var e=qy().default;Object.defineProperty(O1,"__esModule",{value:!0}),O1.default=void 0;var t=e(Hlt()),n=e(Glt()),a=e(ZF()),r=e(KF());const i="${label}    ${type}",o={locale:"ru",Pagination:t.default,DatePicker:a.default,TimePicker:r.default,Calendar:n.default,global:{placeholder:" ",close:""},Table:{filterTitle:"",filterConfirm:"OK",filterReset:"",filterEmptyText:" ",filterCheckAll:"  ",filterSearchPlaceholder:"  ",emptyText:" ",selectAll:" ",selectInvert:" ",selectNone:"  ",selectionAll:"  ",sortTitle:"",expand:" ",collapse:" ",triggerDesc:"    ",triggerAsc:"    ",cancelSort:",   "},Tour:{Next:"",Previous:"",Finish:""},Modal:{okText:"OK",cancelText:"",justOkText:"OK"},Popconfirm:{okText:"OK",cancelText:""},Transfer:{titles:["",""],searchPlaceholder:"",itemUnit:".",itemsUnit:".",remove:"",selectAll:"  ",deselectAll:"  ",selectCurrent:"  ",selectInvert:" ",removeAll:"  ",removeCurrent:"  "},Upload:{uploading:"...",removeFile:" ",uploadError:"   ",previewFile:" ",downloadFile:" "},Empty:{description:" "},Icon:{icon:""},Text:{edit:"",copy:"",copied:"",expand:"",collapse:""},Form:{optional:"()",defaultValidateMessages:{default:"   ${label}",required:",  ${label}",enum:"${label}     [${enum}]",whitespace:"${label}    ",date:{format:"${label}    ",parse:"${label}      ",invalid:"${label}    "},types:{string:i,method:i,array:i,object:i,number:i,date:i,boolean:i,integer:i,float:i,regexp:i,email:i,url:i,hex:i},string:{len:"${label}   ${len} ",min:"${label}      ${min} ",max:"${label}      ${max} ",range:" ${label}    ${min}-${max} "},number:{len:"${label}    ${len}",min:"${label}      ${min}",max:"${label}      ${max}",range:"${label}    ${min}-${max}"},array:{len:"  ${label}    ${len}",min:"  ${label}      ${min}",max:"  ${label}      ${max}",range:"  ${label}    ${min}  ${max}"},pattern:{mismatch:"${label}    ${pattern}"}}},Image:{preview:""},QRCode:{expired:"QR- ",refresh:""},ColorPicker:{presetEmpty:"",transparent:"",singleColor:" ",gradientColor:""}};return O1.default=o,O1}var MC,NA;function Xlt(){return NA||(NA=1,MC=Qlt()),MC}var Klt=Xlt();const Db=Ti(Klt),Zlt="_container_1u6v9_30",Jlt="_header_1u6v9_51",eut="_businessInfo_1u6v9_80",tut="_tabs_1u6v9_90",nut="_tabButton_1u6v9_104",sut="_active_1u6v9_143",aut="_content_1u6v9_160",rut="_exportButton_1u6v9_164",iut="_filters_1u6v9_195",out="_searchBar_1u6v9_211",cut="_dateFilter_1u6v9_277",lut="_dateRangePicker_1u6v9_285",uut="_calendarIcon_1u6v9_293",dut="_dateInput_1u6v9_302",hut="_datePickerActions_1u6v9_319",fut="_applyButton_1u6v9_326",mut="_resetButton_1u6v9_327",put="_dateRangeDisplay_1u6v9_362",gut="_error_1u6v9_375",_ut="_empty_1u6v9_376",vut="_receiptsList_1u6v9_397",xut="_returnsList_1u6v9_398",but="_receiptsTable_1u6v9_408",yut="_returnsTable_1u6v9_409",wut="_itemsTable_1u6v9_410",jut="_status_1u6v9_474",Cut="_paid_1u6v9_487",Sut="_unpaid_1u6v9_493",Nut="_actions_1u6v9_499",kut="_viewButton_1u6v9_505",Iut="_printButton_1u6v9_506",Eut="_pdfButton_1u6v9_507",Tut="_returnButton_1u6v9_508",Dut="_pagination_1u6v9_575",Aut="_modalOverlay_1u6v9_626",Mut="_modalContent_1u6v9_651",Rut="_modalBody_1u6v9_666",But="_exportForm_1u6v9_672",Out="_formGroup_1u6v9_678",Lut="_searchableSelect_1u6v9_712",$ut="_searchableSelectTrigger_1u6v9_716",Put="_searchableSelectValue_1u6v9_735",Fut="_searchableSelectArrow_1u6v9_740",Hut="_searchableSelectDropdown_1u6v9_747",qut="_searchableSelectSearch_1u6v9_761",Vut="_searchableSelectOptions_1u6v9_791",zut="_searchableSelectOption_1u6v9_791",Uut="_searchableSelectOptionSelected_1u6v9_808",Wut="_searchableSelectNoResults_1u6v9_814",Yut="_modalActions_1u6v9_822",Gut="_exportSubmitButton_1u6v9_829",Qut="_cancelButton_1u6v9_853",Xut="_modalHeader_1u6v9_886",Kut="_receiptDetails_1u6v9_948",Zut="_receiptMeta_1u6v9_957",Jut="_receiptActions_1u6v9_983",edt="_receiptItems_1u6v9_989",tdt="_returnsHistory_1u6v9_990",ndt="_customerInfo_1u6v9_1000",sdt="_productInfo_1u6v9_1012",adt="_productImage_1u6v9_1019",rdt="_productDetails_1u6v9_1036",idt="_productName_1u6v9_1044",odt="_productSku_1u6v9_1052",cdt="_attributesContainer_1u6v9_1058",ldt="_attributesToggle_1u6v9_1065",udt="_productAttributes_1u6v9_1093",ddt="_attributeItem_1u6v9_1116",hdt="_attributeName_1u6v9_1124",fdt="_attributeValue_1u6v9_1130",mdt="_variantName_1u6v9_1135",pdt="_defectYes_1u6v9_1141",gdt="_defectNo_1u6v9_1150",_dt="_returnForm_1u6v9_1159",vdt="_formRow_1u6v9_1166",xdt="_formRowCheckbox_1u6v9_1210",bdt="_checkboxLabel_1u6v9_1220",ydt="_readonlyValue_1u6v9_1237",wdt="_modalActionsRight_1u6v9_1247",jdt="_submitReturnButton_1u6v9_1257",Cdt="_datePickerPopper_1u6v9_1312",Sdt="_bonusInfo_1u6v9_1504",Ndt="_bonusAccrued_1u6v9_1511",kdt="_bonusRedeemed_1u6v9_1512",Idt="_bonusLabel_1u6v9_1529",Edt="_bonusValue_1u6v9_1535",an={container:Zlt,header:Jlt,businessInfo:eut,tabs:tut,tabButton:nut,active:sut,content:aut,exportButton:rut,filters:iut,searchBar:out,dateFilter:cut,dateRangePicker:lut,calendarIcon:uut,dateInput:dut,datePickerActions:hut,applyButton:fut,resetButton:mut,dateRangeDisplay:put,error:gut,empty:_ut,receiptsList:vut,returnsList:xut,receiptsTable:but,returnsTable:yut,itemsTable:wut,status:jut,paid:Cut,unpaid:Sut,actions:Nut,viewButton:kut,printButton:Iut,pdfButton:Eut,returnButton:Tut,pagination:Dut,modalOverlay:Aut,modalContent:Mut,modalBody:Rut,exportForm:But,formGroup:Out,searchableSelect:Lut,searchableSelectTrigger:$ut,searchableSelectValue:Put,searchableSelectArrow:Fut,searchableSelectDropdown:Hut,searchableSelectSearch:qut,searchableSelectOptions:Vut,searchableSelectOption:zut,searchableSelectOptionSelected:Uut,searchableSelectNoResults:Wut,modalActions:Yut,exportSubmitButton:Gut,cancelButton:Qut,modalHeader:Xut,receiptDetails:Kut,receiptMeta:Zut,receiptActions:Jut,receiptItems:edt,returnsHistory:tdt,customerInfo:ndt,productInfo:sdt,productImage:adt,productDetails:rdt,productName:idt,productSku:odt,attributesContainer:cdt,attributesToggle:ldt,productAttributes:udt,attributeItem:ddt,attributeName:hdt,attributeValue:fdt,variantName:mdt,defectYes:pdt,defectNo:gdt,returnForm:_dt,formRow:vdt,formRowCheckbox:xdt,checkboxLabel:bdt,readonlyValue:ydt,modalActionsRight:wdt,submitReturnButton:jdt,datePickerPopper:Cdt,bonusInfo:Sdt,bonusAccrued:Ndt,bonusRedeemed:kdt,bonusLabel:Idt,bonusValue:Edt};var jx={exports:{}},Tdt=jx.exports,kA;function Ddt(){return kA||(kA=1,function(e,t){(function(n,a){e.exports=a(o$())})(Tdt,function(n){function a(C){return C&&typeof C=="object"&&"default"in C?C:{default:C}}var r=a(n),i="___________".split("_"),o="___________".split("_"),c="._._._.____._._._._.".split("_"),l="._.__.____._._._._.".split("_"),d=/D[oD]?(\[[^[\]]*\]|\s)+MMMM?/;function f(C,S,k){var E,D;return k==="m"?S?"":"":C+" "+(E=+C,D={mm:S?"__":"__",hh:"__",dd:"__",MM:"__",yy:"__"}[k].split("_"),E%10==1&&E%100!=11?D[0]:E%10>=2&&E%10<=4&&(E%100<10||E%100>=20)?D[1]:D[2])}var g=function(C,S){return d.test(S)?i[C.month()]:o[C.month()]};g.s=o,g.f=i;var b=function(C,S){return d.test(S)?c[C.month()]:l[C.month()]};b.s=l,b.f=c;var w={name:"ru",weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),months:g,monthsShort:b,weekStart:1,yearStart:4,formats:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY .",LLL:"D MMMM YYYY ., H:mm",LLLL:"dddd, D MMMM YYYY ., H:mm"},relativeTime:{future:" %s",past:"%s ",s:" ",m:f,mm:f,h:"",hh:f,d:"",dd:f,M:"",MM:f,y:"",yy:f},ordinal:function(C){return C},meridiem:function(C){return C<4?"":C<12?"":C<17?"":""}};return r.default.locale(w,null,!0),w})}(jx)),jx.exports}Ddt();Kn.extend(I0);Kn.extend(E0);Kn.locale("ru");const Adt=()=>{var be,Fe,je,qe,tt;const{business_slug:e}=ha(),[t,n]=ep();Er();const[a,r]=_.useState("receipts"),[i,o]=_.useState([]),[c,l]=_.useState([]),[d,f]=_.useState(!0),[g,b]=_.useState(null),[w,C]=_.useState({current_page:1,total_pages:1,has_next:!1,has_previous:!1}),[S,k]=_.useState(null),[E,D]=_.useState(""),[R,P]=_.useState([null,null]),[B,O]=R,$=Intl.DateTimeFormat().resolvedOptions().timeZone,[U,F]=_.useState({open:!1,sale:null,maxQty:1}),[H,se]=_.useState({quantity:1,reason:"",is_defect:!1}),[K,te]=_.useState(!1),[J,z]=_.useState(new Set),[V,M]=_.useState(!1),[ee,Z]=_.useState([]),[A,G]=_.useState({location:"",startDate:null,endDate:null}),[Q,Y]=_.useState(!1),ae=he=>{r(he),he==="receipts"?ne(1):he==="returns"&&re(1)},ne=async(he=1)=>{try{f(!0);const Ze={page:he};E&&(Ze.search=E),B&&(Ze.start=Kn(B).tz($).startOf("day").utc().format()),O&&(Ze.end=Kn(O).tz($).endOf("day").utc().format());const Pe=await Be.get(`/api/business/${e}/receipts/`,{params:Ze});o(Pe.data.results),C(Pe.data.pagination),b(null)}catch(Ze){b(Ze.message)}finally{f(!1)}},re=async(he=1)=>{try{f(!0);const Ze={page:he};E&&(Ze.search=E),B&&(Ze.start=Kn(B).tz($).startOf("day").utc().format()),O&&(Ze.end=Kn(O).tz($).endOf("day").utc().format());const Pe=await Be.get(`/api/business/${e}/returns/`,{params:Ze});l(Pe.data.results),C(Pe.data.pagination),b(null)}catch(Ze){b(Ze.message)}finally{f(!1)}},oe=async he=>{try{f(!0);const Ze=await Be.get(`/api/business/${e}/receipts/${he}/`);k(Ze.data),b(null)}catch(Ze){b(Ze.message)}finally{f(!1)}},me=async he=>{se({quantity:1,reason:"",is_defect:!1}),F({open:!0,sale:he,maxQty:he.available_to_return||1})},Ce=()=>{F({open:!1,sale:null,maxQty:1}),b(null)},Ne=async()=>{var Ze,Pe;if(!((Ze=U.sale)!=null&&Ze.id)){b("    .");return}const he=Number(H.quantity);if(!he||he<1){b("     1.");return}if(he>(U.maxQty||1)){b(`   : ${U.maxQty}.`);return}te(!0);try{const bt={sale:U.sale.id,quantity:he,reason:H.reason||"",is_defect:!!H.is_defect};await Be.post(`/api/business/${e}/returns/create/`,bt),a!=="returns"&&r("returns"),await re(1),S&&await oe(S.id),Ce(),b(null),alert("  .")}catch(bt){const Ge=(Pe=bt==null?void 0:bt.response)!=null&&Pe.data?JSON.stringify(bt.response.data):bt.message;b(`   : ${Ge}`)}finally{te(!1)}},Ee=he=>{var Ze,Pe;he&&he.length===2?P([((Ze=he[0])==null?void 0:Ze.toDate())||null,((Pe=he[1])==null?void 0:Pe.toDate())||null]):P([null,null])},ve=()=>{a==="receipts"?ne(1):a==="returns"&&re(1)},Se=()=>{P([null,null]),a==="receipts"?ne(1):a==="returns"&&re(1)},fe=()=>{M(!0),G({location:"",startDate:null,endDate:null})},de=()=>{M(!1)},pe=he=>{he&&he.length===2?G(Ze=>{var Pe,bt;return{...Ze,startDate:((Pe=he[0])==null?void 0:Pe.toDate())||null,endDate:((bt=he[1])==null?void 0:bt.toDate())||null}}):G(Ze=>({...Ze,startDate:null,endDate:null}))},ce=async()=>{var he,Ze;try{Y(!0);const Pe={};A.location&&(Pe.location=A.location),A.startDate&&(Pe.start=Kn(A.startDate).tz($).startOf("day").utc().format()),A.endDate&&(Pe.end=Kn(A.endDate).tz($).endOf("day").utc().format());const bt=await Be.get(`/api/business/${e}/receipts/export-excel/`,{params:Pe,responseType:"blob"}),Ge=window.URL.createObjectURL(new Blob([bt.data])),ue=document.createElement("a");ue.href=Ge;const De=bt.headers["content-disposition"];let xe=`_${new Date().toISOString().split("T")[0]}.xlsx`;if(De){const Ye=De.match(/filename="(.+)"/);Ye&&(xe=Ye[1])}ue.setAttribute("download",xe),document.body.appendChild(ue),ue.click(),ue.remove(),window.URL.revokeObjectURL(Ge),de()}catch(Pe){console.error("   Excel:",Pe),alert("   Excel: "+(((Ze=(he=Pe.response)==null?void 0:he.data)==null?void 0:Ze.detail)||Pe.message))}finally{Y(!1)}},Re=he=>he?Kn(he).tz($).format("DD.MM.YYYY HH:mm"):" ",Ae=({locations:he,value:Ze,onChange:Pe})=>{const[bt,Ge]=_.useState(!1),[ue,De]=_.useState(""),xe=_.useRef(null),Ye=he.filter(Mt=>Mt.name.toLowerCase().includes(ue.toLowerCase())),at=he.find(Mt=>String(Mt.id)===String(Ze));_.useEffect(()=>{const Mt=pn=>{xe.current&&!xe.current.contains(pn.target)&&(Ge(!1),De(""))};return document.addEventListener("mousedown",Mt),()=>document.removeEventListener("mousedown",Mt)},[]);const lt=Mt=>{Pe(Mt),Ge(!1),De("")};return s.jsxs("div",{className:an.searchableSelect,ref:xe,children:[s.jsxs("div",{className:an.searchableSelectTrigger,onClick:()=>Ge(!bt),children:[s.jsx("span",{className:an.searchableSelectValue,children:at?at.name:" "}),s.jsx(al,{className:an.searchableSelectArrow,style:{transform:bt?"rotate(180deg)":"none",transition:"transform 0.3s ease"}})]}),bt&&s.jsxs("div",{className:an.searchableSelectDropdown,children:[s.jsxs("div",{className:an.searchableSelectSearch,children:[s.jsx(hi,{}),s.jsx("input",{type:"text",placeholder:" ...",value:ue,onChange:Mt=>De(Mt.target.value),onClick:Mt=>Mt.stopPropagation(),autoFocus:!0})]}),s.jsxs("div",{className:an.searchableSelectOptions,children:[s.jsx("div",{className:`${an.searchableSelectOption} ${Ze?"":an.searchableSelectOptionSelected}`,onClick:()=>lt(""),children:" "}),Ye.length===0?s.jsx("div",{className:an.searchableSelectNoResults,children:"  "}):Ye.map(Mt=>s.jsx("div",{className:`${an.searchableSelectOption} ${String(Mt.id)===String(Ze)?an.searchableSelectOptionSelected:""}`,onClick:()=>lt(Mt.id),children:Mt.name},Mt.id))]})]})]})},ie=he=>{he.preventDefault(),a==="receipts"?ne(1):a==="returns"&&re(1)},ge=he=>{a==="receipts"?ne(he):a==="returns"&&re(he)};return _.useEffect(()=>{a==="receipts"?ne():a==="returns"&&re()},[e,a]),_.useEffect(()=>{e&&(async()=>{try{const Ze=await Be.get(`/api/business/${e}/locations/`);Z(Ze.data)}catch(Ze){console.error("  :",Ze)}})()},[e]),_.useEffect(()=>{const he=t.get("receipt");he&&!S&&(oe(parseInt(he)),t.delete("receipt"),n(t,{replace:!0}))},[t]),d&&!S?s.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh"},children:s.jsx(Fn,{size:"large"})}):g&&!S?s.jsxs("div",{className:an.error,children:[": ",g]}):s.jsxs("div",{className:an.container,children:[s.jsxs("div",{className:an.header,children:[s.jsx("h1",{children:" "}),s.jsx("div",{className:an.businessInfo,children:s.jsxs("span",{children:[": ",e]})})]}),s.jsxs("div",{className:an.tabs,children:[s.jsxs("button",{className:`${an.tabButton} ${a==="receipts"?an.active:""}`,onClick:()=>ae("receipts"),children:[s.jsx($o,{}),"  "]}),s.jsxs("button",{className:`${an.tabButton} ${a==="returns"?an.active:""}`,onClick:()=>ae("returns"),children:[s.jsx(Th,{})," "]})]}),s.jsxs("div",{className:an.content,children:[s.jsxs("div",{className:an.filters,children:[s.jsx("div",{className:an.searchBar,children:s.jsxs("form",{onSubmit:ie,children:[s.jsx("input",{type:"text",placeholder:a==="returns"?"     ...":"   ...",value:E,onChange:he=>D(he.target.value)}),s.jsx("button",{type:"submit",children:s.jsx(hi,{})})]})}),s.jsxs("div",{className:an.dateFilter,children:[s.jsxs("div",{className:an.dateRangePicker,children:[s.jsx(Vo,{className:an.calendarIcon}),s.jsx(Hl,{locale:Db,children:s.jsx(Du.RangePicker,{value:B&&O?[Kn(B),Kn(O)]:null,onChange:Ee,format:"DD.MM.YYYY",className:an.dateInput,disabledDate:he=>he&&he>Kn().endOf("day"),placeholder:["",""],getPopupContainer:he=>he.parentElement,popupClassName:an.datePickerPopper})}),(B||O)&&s.jsxs("div",{className:an.datePickerActions,children:[s.jsx("button",{className:an.applyButton,onClick:ve,children:""}),s.jsx("button",{className:an.resetButton,onClick:Se,children:""})]})]}),s.jsx("div",{className:an.dateRangeDisplay,children:B&&O?`${Re(B)} - ${Re(O)}`:" "})]}),s.jsxs("button",{onClick:fe,className:an.exportButton,children:[s.jsx(Dh,{}),"   Excel"]})]}),a==="receipts"?s.jsx("div",{className:an.receiptsList,children:i.length===0?s.jsx("div",{className:an.empty,children:"  "}):s.jsxs("table",{className:an.receiptsTable,children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:""}),s.jsx("th",{children:""}),s.jsx("th",{children:""}),s.jsx("th",{children:" "}),s.jsx("th",{children:""}),s.jsx("th",{children:""})]})}),s.jsx("tbody",{children:i.map(he=>s.jsxs("tr",{children:[s.jsx("td",{children:s.jsxs("strong",{children:["#",he.number]})}),s.jsx("td",{children:new Date(he.created_at).toLocaleString("ru-RU",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})}),s.jsx("td",{children:s.jsxs("strong",{children:[parseFloat(he.total_amount).toLocaleString("ru-RU")," "]})}),s.jsx("td",{children:he.payment_method||" "}),s.jsx("td",{children:s.jsx("span",{className:`${an.status} ${he.is_paid?an.paid:an.unpaid}`,children:he.is_paid?"":" "})}),s.jsx("td",{children:s.jsxs("div",{className:an.actions,children:[s.jsxs("button",{onClick:()=>oe(he.id),className:an.viewButton,children:[s.jsx(fo,{})," "]}),s.jsxs("button",{onClick:()=>qm(he.receipt_pdf_file),className:an.printButton,children:[s.jsx(Vh,{})," "]})]})})]},he.id))})]})}):s.jsx("div",{className:an.returnsList,children:c.length===0?s.jsx("div",{className:an.empty,children:"  "}):s.jsxs("table",{className:an.returnsTable,children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:""}),s.jsx("th",{children:""}),s.jsx("th",{children:""}),s.jsx("th",{children:" "}),s.jsx("th",{children:""}),s.jsx("th",{children:" "}),s.jsx("th",{children:""}),s.jsx("th",{children:""})]})}),s.jsx("tbody",{children:c.map(he=>s.jsxs("tr",{children:[s.jsx("td",{children:s.jsxs("strong",{children:["#",he.receipt_number]})}),s.jsx("td",{children:s.jsxs("div",{className:an.productInfo,children:[s.jsx("div",{className:an.productName,children:he.product_name}),s.jsx("div",{className:an.variantName,children:he.variant_name})]})}),s.jsx("td",{children:s.jsx("strong",{children:he.quantity})}),s.jsx("td",{children:new Date(he.return_date).toLocaleString("ru-RU",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})}),s.jsx("td",{children:he.reason||""}),s.jsx("td",{children:s.jsxs("strong",{children:[parseFloat(he.refund_amount).toLocaleString("ru-RU")," "]})}),s.jsx("td",{children:he.is_defect?s.jsx("span",{className:an.defectYes,children:""}):s.jsx("span",{className:an.defectNo,children:""})}),s.jsx("td",{children:he.location_name})]},he.id))})]})}),w.total_pages>1&&s.jsxs("div",{className:an.pagination,children:[s.jsx("button",{disabled:!w.has_previous,onClick:()=>ge(w.current_page-1),children:s.jsx(Kc,{})}),Array.from({length:Math.min(5,w.total_pages)},(he,Ze)=>{let Pe;return w.total_pages<=5||w.current_page<=3?Pe=Ze+1:w.current_page>=w.total_pages-2?Pe=w.total_pages-4+Ze:Pe=w.current_page-2+Ze,s.jsx("button",{className:w.current_page===Pe?an.active:"",onClick:()=>ge(Pe),children:Pe},Pe)}),s.jsx("button",{disabled:!w.has_next,onClick:()=>ge(w.current_page+1),children:s.jsx(Zc,{})})]})]}),S&&s.jsx("div",{className:an.modalOverlay,children:s.jsxs("div",{className:an.modalContent,children:[s.jsxs("div",{className:an.modalHeader,children:[s.jsxs("h2",{children:["  ",S.number]}),s.jsx(Li,{onClick:()=>k(null)})]}),s.jsxs("div",{className:an.receiptDetails,children:[s.jsxs("div",{className:an.receiptMeta,children:[s.jsxs("div",{children:[s.jsx("strong",{children:":"})," ",new Date(S.created_at).toLocaleString("ru-RU",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})]}),s.jsxs("div",{children:[s.jsx("strong",{children:":"})," ",parseFloat(S.total_amount).toLocaleString("ru-RU")," "]}),s.jsxs("div",{children:[s.jsx("strong",{children:"  :"})," ",parseFloat(S.total_returns_amount||0).toLocaleString("ru-RU")," "]}),s.jsxs("div",{children:[s.jsx("strong",{children:"  ( - ):"})," ",parseFloat(S.profit_with_returns||0).toLocaleString("ru-RU")," "]}),s.jsxs("div",{children:[s.jsx("strong",{children:":"})," ",S.payment_method||" "]}),S.discount_amount>0&&s.jsxs("div",{children:[s.jsx("strong",{children:" ():"})," ",parseFloat(S.discount_amount).toLocaleString("ru-RU")," "]}),S.discount_percent>0&&s.jsxs("div",{children:[s.jsx("strong",{children:" ():"})," ",S.discount_percent,"%"]})]}),s.jsxs("div",{className:an.receiptActions,children:[s.jsxs("button",{onClick:()=>qm(S.receipt_pdf_file),className:an.printButton,children:[s.jsx(Vh,{}),"  "]}),s.jsxs("button",{onClick:()=>T0(S.receipt_pdf_file),className:an.pdfButton,children:[s.jsx(qb,{}),"  PDF"]})]}),s.jsxs("div",{className:an.receiptItems,children:[s.jsx("h3",{children:" :"}),s.jsxs("table",{className:an.itemsTable,children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:""}),s.jsx("th",{children:""}),s.jsx("th",{children:""}),s.jsx("th",{children:""}),s.jsx("th",{children:""}),s.jsx("th",{children:""}),s.jsx("th",{children:""}),s.jsx("th",{children:""}),s.jsx("th",{children:""})]})}),s.jsx("tbody",{children:(be=S==null?void 0:S.sales)==null?void 0:be.map(he=>{var Ze,Pe,bt,Ge,ue;return s.jsxs("tr",{children:[s.jsx("td",{children:s.jsxs("div",{className:an.productInfo,children:[((Pe=(Ze=he.variant)==null?void 0:Ze.product_main_image)==null?void 0:Pe.image)&&s.jsx("img",{src:he.variant.product_main_image.image,alt:he.variant.product_name,className:an.productImage}),s.jsxs("div",{className:an.productDetails,children:[s.jsx("div",{className:an.productName,children:((bt=he.variant)==null?void 0:bt.product_name)||""}),s.jsxs("div",{className:an.productSku,children:[": ",((Ge=he.variant)==null?void 0:Ge.sku)||""]}),((ue=he.variant)==null?void 0:ue.attributes)&&he.variant.attributes.length>0&&s.jsxs("div",{className:an.attributesContainer,children:[s.jsx("button",{type:"button",className:an.attributesToggle,onClick:()=>{const De=new Set(J);De.has(he.id)?De.delete(he.id):De.add(he.id),z(De)},children:J.has(he.id)?s.jsxs(s.Fragment,{children:[s.jsx(ko,{}),"  "]}):s.jsxs(s.Fragment,{children:[s.jsx(No,{}),"   (",he.variant.attributes.length,")"]})}),J.has(he.id)&&s.jsx("div",{className:an.productAttributes,children:he.variant.attributes.map(De=>s.jsxs("div",{className:an.attributeItem,children:[s.jsxs("span",{className:an.attributeName,children:[De.category_attribute_name,":"]}),s.jsx("span",{className:an.attributeValue,children:De.predefined_value_name||De.custom_value})]},De.id))})]})]})]})}),s.jsxs("td",{children:[parseFloat(he.final_price_per_unit||he.price_per_unit).toLocaleString("ru-RU")," "]}),s.jsx("td",{children:s.jsx("strong",{children:he.quantity})}),s.jsx("td",{children:he.returned_quantity||0}),s.jsx("td",{children:s.jsx("strong",{children:he.quantity-(he.returned_quantity||0)})}),s.jsx("td",{children:s.jsxs("strong",{children:[parseFloat(he.total_price).toLocaleString("ru-RU")," "]})}),s.jsxs("td",{children:[(he.discount_amount>0||he.discount_percent>0)&&s.jsxs("div",{children:[he.discount_amount>0&&`${he.discount_amount} `,he.discount_amount>0&&he.discount_percent>0&&", ",he.discount_percent>0&&`${he.discount_percent}%`,S.discount_percent>0&&` (+${S.discount_percent}%  )`]}),!(he.discount_amount>0||he.discount_percent>0||S.discount_percent>0)&&"-"]}),s.jsx("td",{children:he.bonus_accrued&&parseFloat(he.bonus_accrued)>0||he.bonus_redeemed&&parseFloat(he.bonus_redeemed)>0?s.jsxs("div",{className:an.bonusInfo,children:[he.bonus_accrued&&parseFloat(he.bonus_accrued)>0&&s.jsxs("div",{className:an.bonusAccrued,children:[s.jsx("span",{className:an.bonusLabel,children:":"}),s.jsxs("span",{className:an.bonusValue,children:["+",parseFloat(he.bonus_accrued).toFixed(2)]})]}),he.bonus_redeemed&&parseFloat(he.bonus_redeemed)>0&&s.jsxs("div",{className:an.bonusRedeemed,children:[s.jsx("span",{className:an.bonusLabel,children:":"}),s.jsxs("span",{className:an.bonusValue,children:["-",parseFloat(he.bonus_redeemed).toFixed(2)]})]})]}):s.jsx("span",{children:"-"})}),s.jsx("td",{children:s.jsxs("button",{type:"button",className:an.returnButton,onClick:()=>me(he),title:" ",disabled:he.available_to_return===0,children:[s.jsx(Th,{})," "]})})]},he.id)})})]})]}),((Fe=S==null?void 0:S.sales)==null?void 0:Fe.some(he=>{var Ze;return((Ze=he.returns)==null?void 0:Ze.length)>0}))&&s.jsxs("div",{className:an.returnsHistory,children:[s.jsx("h3",{children:" :"}),s.jsxs("table",{className:an.returnsTable,children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:""}),s.jsx("th",{children:""}),s.jsx("th",{children:" "}),s.jsx("th",{children:""}),s.jsx("th",{children:" "}),s.jsx("th",{children:""}),s.jsx("th",{children:""}),s.jsx("th",{children:""})]})}),s.jsx("tbody",{children:S.sales.flatMap(he=>he.returns.map(Ze=>s.jsxs("tr",{children:[s.jsx("td",{children:s.jsxs("div",{className:an.productInfo,children:[s.jsx("div",{className:an.productName,children:he.variant.product_name}),s.jsx("div",{className:an.variantName,children:he.variant.name})]})}),s.jsx("td",{children:Ze.quantity}),s.jsx("td",{children:new Date(Ze.return_date).toLocaleString("ru-RU",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})}),s.jsx("td",{children:Ze.reason||""}),s.jsx("td",{children:s.jsxs("strong",{children:[parseFloat(Ze.refund_amount).toLocaleString("ru-RU")," "]})}),s.jsx("td",{children:Ze.is_defect?s.jsx("span",{className:an.defectYes,children:""}):s.jsx("span",{className:an.defectNo,children:""})}),s.jsx("td",{children:Ze.location_name||""}),s.jsx("td",{children:Ze.created_by_name||""})]},Ze.id)))})]})]}),(S.customer_name||S.customer_phone)&&s.jsxs("div",{className:an.customerInfo,children:[s.jsx("h3",{children:"  :"}),S.customer_name&&s.jsxs("div",{children:[s.jsx("strong",{children:":"})," ",S.customer_name]}),S.customer_phone&&s.jsxs("div",{children:[s.jsx("strong",{children:":"})," ",S.customer_phone]})]})]})]})}),V&&s.jsx("div",{className:an.modalOverlay,onClick:de,children:s.jsxs("div",{className:an.modalContent,onClick:he=>he.stopPropagation(),children:[s.jsxs("div",{className:an.modalHeader,children:[s.jsx("h2",{children:"   Excel"}),s.jsx(Li,{onClick:de})]}),s.jsx("div",{className:an.modalBody,children:s.jsxs("div",{className:an.exportForm,children:[s.jsxs("div",{className:an.formGroup,children:[s.jsx("label",{children:":"}),s.jsx(Ae,{locations:ee,value:A.location,onChange:he=>G(Ze=>({...Ze,location:he}))})]}),s.jsxs("div",{className:an.formGroup,children:[s.jsx("label",{children:":"}),s.jsx(Hl,{locale:Db,children:s.jsx(Du.RangePicker,{value:A.startDate&&A.endDate?[Kn(A.startDate),Kn(A.endDate)]:null,onChange:pe,format:"DD.MM.YYYY",className:an.dateInput,disabledDate:he=>he&&he>Kn().endOf("day"),placeholder:["",""],getPopupContainer:he=>he.parentElement})})]}),s.jsxs("div",{className:an.modalActions,children:[s.jsx("button",{onClick:ce,disabled:Q,className:an.exportSubmitButton,children:Q?"...":""}),s.jsx("button",{onClick:de,className:an.cancelButton,disabled:Q,children:""})]})]})})]})}),U.open&&s.jsx("div",{className:an.modalOverlay,children:s.jsxs("div",{className:an.modalContent,children:[s.jsxs("div",{className:an.modalHeader,children:[s.jsxs("h2",{children:["  ",((qe=(je=U.sale)==null?void 0:je.variant)==null?void 0:qe.product_name)||""," ( #",(tt=U.sale)==null?void 0:tt.id,")"]}),s.jsx(Li,{onClick:Ce})]}),s.jsxs("div",{className:an.returnForm,children:[g&&s.jsx("div",{className:an.error,children:g}),s.jsxs("div",{className:an.formRow,children:[s.jsx("label",{children:"  "}),s.jsx("div",{className:an.readonlyValue,children:U.maxQty})]}),s.jsxs("div",{className:an.formRow,children:[s.jsx("label",{children:""}),s.jsx("input",{type:"number",min:1,max:U.maxQty||1,value:H.quantity,onChange:he=>se(Ze=>({...Ze,quantity:he.target.value}))})]}),s.jsxs("div",{className:an.formRow,children:[s.jsx("label",{children:""}),s.jsx("textarea",{placeholder:"  ,    ..",value:H.reason,onChange:he=>se(Ze=>({...Ze,reason:he.target.value}))})]}),s.jsx("div",{className:an.formRowCheckbox,children:s.jsxs("label",{className:an.checkboxLabel,children:[s.jsx("input",{type:"checkbox",checked:H.is_defect,onChange:he=>se(Ze=>({...Ze,is_defect:he.target.checked}))}),""]})}),s.jsxs("div",{className:an.modalActionsRight,children:[s.jsx("button",{className:an.cancelButton,type:"button",onClick:Ce,disabled:K,children:""}),s.jsx("button",{className:an.submitReturnButton,type:"button",onClick:Ne,disabled:K,children:K?"...":" "})]})]})]})})]})},Mdt="_container_xz9cs_5",Rdt="_header_xz9cs_27",Bdt="_title_xz9cs_105",Odt="_tabs_xz9cs_131",Ldt="_tab_xz9cs_131",$dt="_active_xz9cs_203",Pdt="_filtersSection_xz9cs_215",Fdt="_searchForm_xz9cs_227",Hdt="_searchInputGroup_xz9cs_235",qdt="_searchIcon_xz9cs_267",Vdt="_searchInput_xz9cs_235",zdt="_searchButton_xz9cs_311",Udt="_filterToggle_xz9cs_353",Wdt="_dateFilterPanel_xz9cs_405",Ydt="_dateInput_xz9cs_427",Gdt="_dateFilterActions_xz9cs_471",Qdt="_applyButton_xz9cs_481",Xdt="_resetButton_xz9cs_483",Kdt="_dateRangeDisplay_xz9cs_555",Zdt="_content_xz9cs_575",Jdt="_loadingContainer_xz9cs_585",eht="_error_xz9cs_601",tht="_empty_xz9cs_621",nht="_emptyIcon_xz9cs_643",sht="_receiptsList_xz9cs_665",aht="_receiptCard_xz9cs_677",rht="_receiptCardHeader_xz9cs_711",iht="_receiptNumber_xz9cs_725",oht="_receiptAmount_xz9cs_743",cht="_receiptCardMeta_xz9cs_755",lht="_receiptDate_xz9cs_773",uht="_receiptPayment_xz9cs_785",dht="_receiptCardFooter_xz9cs_793",hht="_status_xz9cs_809",fht="_paid_xz9cs_823",mht="_unpaid_xz9cs_835",pht="_receiptActions_xz9cs_847",ght="_actionButton_xz9cs_857",_ht="_returnsList_xz9cs_907",vht="_returnCard_xz9cs_919",xht="_returnCardHeader_xz9cs_935",bht="_returnReceiptNumber_xz9cs_949",yht="_returnAmount_xz9cs_967",wht="_returnProductInfo_xz9cs_979",jht="_returnProductName_xz9cs_991",Cht="_returnVariantName_xz9cs_1005",Sht="_returnCardMeta_xz9cs_1017",Nht="_returnMetaRow_xz9cs_1029",kht="_returnMetaLabel_xz9cs_1043",Iht="_returnMetaValue_xz9cs_1053",Eht="_defectBadge_xz9cs_1063",Tht="_defectYes_xz9cs_1077",Dht="_defectNo_xz9cs_1089",Aht="_pagination_xz9cs_1103",Mht="_paginationButton_xz9cs_1121",Rht="_paginationInfo_xz9cs_1179",Bht="_modalOverlay_xz9cs_1193",Oht="_modal_xz9cs_1193",Lht="_modalHeader_xz9cs_1263",$ht="_modalBody_xz9cs_1301",Pht="_receiptDetails_xz9cs_1317",Fht="_receiptMeta_xz9cs_1329",Hht="_metaRow_xz9cs_1349",qht="_metaLabel_xz9cs_1363",Vht="_metaValue_xz9cs_1373",zht="_actionButtonLarge_xz9cs_1395",Uht="_sectionTitle_xz9cs_1469",Wht="_receiptItems_xz9cs_1483",Yht="_saleItem_xz9cs_1495",Ght="_saleItemHeader_xz9cs_1515",Qht="_saleProductInfo_xz9cs_1529",Xht="_saleProductImage_xz9cs_1543",Kht="_saleProductDetails_xz9cs_1561",Zht="_saleProductName_xz9cs_1571",Jht="_saleProductSku_xz9cs_1587",eft="_saleItemPrice_xz9cs_1599",tft="_saleItemDetails_xz9cs_1613",nft="_saleDetailRow_xz9cs_1629",sft="_bonusInfo_xz9cs_1661",aft="_bonusAccrued_xz9cs_1673",rft="_bonusRedeemed_xz9cs_1683",ift="_attributesSection_xz9cs_1693",oft="_attributesToggle_xz9cs_1701",cft="_productAttributes_xz9cs_1751",lft="_attributeItem_xz9cs_1771",uft="_attributeName_xz9cs_1783",dft="_attributeValue_xz9cs_1793",hft="_returnButton_xz9cs_1801",fft="_returnsHistory_xz9cs_1851",mft="_returnHistoryItem_xz9cs_1863",pft="_returnHistoryHeader_xz9cs_1877",gft="_returnHistoryProduct_xz9cs_1895",_ft="_returnHistoryAmount_xz9cs_1907",vft="_returnHistoryDetails_xz9cs_1919",xft="_returnHistoryRow_xz9cs_1931",bft="_customerInfo_xz9cs_1963",yft="_customerRow_xz9cs_1977",wft="_returnForm_xz9cs_2023",jft="_formRow_xz9cs_2035",Cft="_readonlyValue_xz9cs_2109",Sft="_formRowCheckbox_xz9cs_2135",Nft="_checkboxLabel_xz9cs_2145",kft="_modalActions_xz9cs_2181",Ift="_cancelButton_xz9cs_2197",Eft="_submitButton_xz9cs_2199",kt={container:Mdt,header:Rdt,title:Bdt,tabs:Odt,tab:Ldt,active:$dt,filtersSection:Pdt,searchForm:Fdt,searchInputGroup:Hdt,searchIcon:qdt,searchInput:Vdt,searchButton:zdt,filterToggle:Udt,dateFilterPanel:Wdt,dateInput:Ydt,dateFilterActions:Gdt,applyButton:Qdt,resetButton:Xdt,dateRangeDisplay:Kdt,content:Zdt,loadingContainer:Jdt,error:eht,empty:tht,emptyIcon:nht,receiptsList:sht,receiptCard:aht,receiptCardHeader:rht,receiptNumber:iht,receiptAmount:oht,receiptCardMeta:cht,receiptDate:lht,receiptPayment:uht,receiptCardFooter:dht,status:hht,paid:fht,unpaid:mht,receiptActions:pht,actionButton:ght,returnsList:_ht,returnCard:vht,returnCardHeader:xht,returnReceiptNumber:bht,returnAmount:yht,returnProductInfo:wht,returnProductName:jht,returnVariantName:Cht,returnCardMeta:Sht,returnMetaRow:Nht,returnMetaLabel:kht,returnMetaValue:Iht,defectBadge:Eht,defectYes:Tht,defectNo:Dht,pagination:Aht,paginationButton:Mht,paginationInfo:Rht,modalOverlay:Bht,modal:Oht,modalHeader:Lht,modalBody:$ht,receiptDetails:Pht,receiptMeta:Fht,metaRow:Hht,metaLabel:qht,metaValue:Vht,actionButtonLarge:zht,sectionTitle:Uht,receiptItems:Wht,saleItem:Yht,saleItemHeader:Ght,saleProductInfo:Qht,saleProductImage:Xht,saleProductDetails:Kht,saleProductName:Zht,saleProductSku:Jht,saleItemPrice:eft,saleItemDetails:tft,saleDetailRow:nft,bonusInfo:sft,bonusAccrued:aft,bonusRedeemed:rft,attributesSection:ift,attributesToggle:oft,productAttributes:cft,attributeItem:lft,attributeName:uft,attributeValue:dft,returnButton:hft,returnsHistory:fft,returnHistoryItem:mft,returnHistoryHeader:pft,returnHistoryProduct:gft,returnHistoryAmount:_ft,returnHistoryDetails:vft,returnHistoryRow:xft,customerInfo:bft,customerRow:yft,returnForm:wft,formRow:jft,readonlyValue:Cft,formRowCheckbox:Sft,checkboxLabel:Nft,modalActions:kft,cancelButton:Ift,submitButton:Eft};Kn.extend(I0);Kn.extend(E0);Kn.locale("ru");const Tft=()=>{var Ee,ve,Se,fe;const{business_slug:e}=ha();Is();const[t,n]=ep();Er();const[a,r]=_.useState("receipts"),[i,o]=_.useState([]),[c,l]=_.useState([]),[d,f]=_.useState(!0),[g,b]=_.useState(null),[w,C]=_.useState({current_page:1,total_pages:1,has_next:!1,has_previous:!1}),[S,k]=_.useState(null),[E,D]=_.useState(""),[R,P]=_.useState([null,null]),[B,O]=R,$=Intl.DateTimeFormat().resolvedOptions().timeZone,[U,F]=_.useState({open:!1,sale:null,maxQty:1}),[H,se]=_.useState({quantity:1,reason:"",is_defect:!1}),[K,te]=_.useState(!1),[J,z]=_.useState(new Set),[V,M]=_.useState(!1),ee=de=>{r(de),de==="receipts"?Z(1):de==="returns"&&A(1)},Z=async(de=1)=>{try{f(!0);const pe={page:de};E&&(pe.search=E),B&&(pe.start=Kn(B).tz($).startOf("day").utc().format()),O&&(pe.end=Kn(O).tz($).endOf("day").utc().format());const ce=await Be.get(`/api/business/${e}/receipts/`,{params:pe});o(ce.data.results),C(ce.data.pagination),b(null)}catch(pe){b(pe.message)}finally{f(!1)}},A=async(de=1)=>{try{f(!0);const pe={page:de};E&&(pe.search=E),B&&(pe.start=Kn(B).tz($).startOf("day").utc().format()),O&&(pe.end=Kn(O).tz($).endOf("day").utc().format());const ce=await Be.get(`/api/business/${e}/returns/`,{params:pe});l(ce.data.results),C(ce.data.pagination),b(null)}catch(pe){b(pe.message)}finally{f(!1)}},G=async de=>{try{f(!0);const pe=await Be.get(`/api/business/${e}/receipts/${de}/`);k(pe.data),b(null)}catch(pe){b(pe.message)}finally{f(!1)}},Q=async de=>{se({quantity:1,reason:"",is_defect:!1}),F({open:!0,sale:de,maxQty:de.available_to_return||1})},Y=()=>{F({open:!1,sale:null,maxQty:1}),b(null)},ae=async()=>{var pe,ce;if(!((pe=U.sale)!=null&&pe.id)){b("    .");return}const de=Number(H.quantity);if(!de||de<1){b("     1.");return}if(de>(U.maxQty||1)){b(`   : ${U.maxQty}.`);return}te(!0);try{const Re={sale:U.sale.id,quantity:de,reason:H.reason||"",is_defect:!!H.is_defect};await Be.post(`/api/business/${e}/returns/create/`,Re),a!=="returns"&&r("returns"),await A(1),S&&await G(S.id),Y(),b(null),alert("  .")}catch(Re){const Ae=(ce=Re==null?void 0:Re.response)!=null&&ce.data?JSON.stringify(Re.response.data):Re.message;b(`   : ${Ae}`)}finally{te(!1)}},ne=de=>{var pe,ce;de&&de.length===2?P([((pe=de[0])==null?void 0:pe.toDate())||null,((ce=de[1])==null?void 0:ce.toDate())||null]):P([null,null])},re=()=>{a==="receipts"?Z(1):a==="returns"&&A(1),M(!1)},oe=()=>{P([null,null]),a==="receipts"?Z(1):a==="returns"&&A(1),M(!1)},me=de=>de?Kn(de).tz($).format("DD.MM.YYYY HH:mm"):" ",Ce=de=>{de.preventDefault(),a==="receipts"?Z(1):a==="returns"&&A(1)},Ne=de=>{a==="receipts"?Z(de):a==="returns"&&A(de)};return _.useEffect(()=>{a==="receipts"?Z():a==="returns"&&A()},[e,a]),_.useEffect(()=>{const de=t.get("receipt");de&&!S&&(G(parseInt(de)),t.delete("receipt"),n(t,{replace:!0}))},[t]),d&&!S&&i.length===0&&c.length===0?s.jsx("div",{className:kt.loadingContainer,children:s.jsx(Fn,{size:"large"})}):s.jsxs("div",{className:kt.container,children:[s.jsx("div",{className:kt.header,children:s.jsx("h1",{className:kt.title,children:""})}),s.jsxs("div",{className:kt.tabs,children:[s.jsxs("button",{className:`${kt.tab} ${a==="receipts"?kt.active:""}`,onClick:()=>ee("receipts"),children:[s.jsx($o,{})," "]}),s.jsxs("button",{className:`${kt.tab} ${a==="returns"?kt.active:""}`,onClick:()=>ee("returns"),children:[s.jsx(Th,{})," "]})]}),s.jsxs("div",{className:kt.filtersSection,children:[s.jsx("form",{onSubmit:Ce,className:kt.searchForm,children:s.jsxs("div",{className:kt.searchInputGroup,children:[s.jsx(hi,{className:kt.searchIcon}),s.jsx("input",{type:"text",placeholder:a==="returns"?"     ...":"   ...",value:E,onChange:de=>D(de.target.value),className:kt.searchInput}),s.jsx("button",{type:"submit",className:kt.searchButton,children:""})]})}),s.jsxs("button",{className:kt.filterToggle,onClick:()=>M(!V),children:[s.jsx(Vo,{})," ",B&&O?" ":" "]}),V&&s.jsxs("div",{className:kt.dateFilterPanel,children:[s.jsx(Hl,{locale:Db,children:s.jsx(Du.RangePicker,{value:B&&O?[Kn(B),Kn(O)]:null,onChange:ne,format:"DD.MM.YYYY",className:kt.dateInput,disabledDate:de=>de&&de>Kn().endOf("day"),placeholder:["",""],getPopupContainer:de=>de.parentElement})}),s.jsxs("div",{className:kt.dateFilterActions,children:[s.jsx("button",{className:kt.applyButton,onClick:re,children:""}),s.jsx("button",{className:kt.resetButton,onClick:oe,children:""})]}),B&&O&&s.jsxs("div",{className:kt.dateRangeDisplay,children:[me(B)," - ",me(O)]})]})]}),s.jsxs("div",{className:kt.content,children:[g&&!S&&s.jsxs("div",{className:kt.error,children:[": ",g]}),a==="receipts"?s.jsx("div",{className:kt.receiptsList,children:d&&i.length===0?s.jsx("div",{className:kt.loadingContainer,children:s.jsx(Fn,{})}):i.length===0?s.jsxs("div",{className:kt.empty,children:[s.jsx($o,{className:kt.emptyIcon}),s.jsx("p",{children:"  "})]}):s.jsx(s.Fragment,{children:i.map(de=>s.jsxs("div",{className:kt.receiptCard,onClick:()=>G(de.id),children:[s.jsxs("div",{className:kt.receiptCardHeader,children:[s.jsxs("div",{className:kt.receiptNumber,children:[s.jsx($o,{})," #",de.number]}),s.jsxs("div",{className:kt.receiptAmount,children:[parseFloat(de.total_amount).toLocaleString("ru-RU")," "]})]}),s.jsxs("div",{className:kt.receiptCardMeta,children:[s.jsx("div",{className:kt.receiptDate,children:new Date(de.created_at).toLocaleString("ru-RU",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})}),s.jsx("div",{className:kt.receiptPayment,children:de.payment_method||" "})]}),s.jsxs("div",{className:kt.receiptCardFooter,children:[s.jsx("span",{className:`${kt.status} ${de.is_paid?kt.paid:kt.unpaid}`,children:de.is_paid?"":" "}),s.jsx("div",{className:kt.receiptActions,children:s.jsx("button",{onClick:pe=>{pe.stopPropagation(),qm(de.receipt_pdf_file)},className:kt.actionButton,children:s.jsx(Vh,{})})})]})]},de.id))})}):s.jsx("div",{className:kt.returnsList,children:d&&c.length===0?s.jsx("div",{className:kt.loadingContainer,children:s.jsx(Fn,{})}):c.length===0?s.jsxs("div",{className:kt.empty,children:[s.jsx(Th,{className:kt.emptyIcon}),s.jsx("p",{children:"  "})]}):s.jsx(s.Fragment,{children:c.map(de=>s.jsxs("div",{className:kt.returnCard,children:[s.jsxs("div",{className:kt.returnCardHeader,children:[s.jsxs("div",{className:kt.returnReceiptNumber,children:[s.jsx($o,{}),"  #",de.receipt_number]}),s.jsxs("div",{className:kt.returnAmount,children:["-",parseFloat(de.refund_amount).toLocaleString("ru-RU")," "]})]}),s.jsxs("div",{className:kt.returnProductInfo,children:[s.jsx("div",{className:kt.returnProductName,children:de.product_name}),s.jsx("div",{className:kt.returnVariantName,children:de.variant_name})]}),s.jsxs("div",{className:kt.returnCardMeta,children:[s.jsxs("div",{className:kt.returnMetaRow,children:[s.jsx("span",{className:kt.returnMetaLabel,children:":"}),s.jsx("span",{className:kt.returnMetaValue,children:de.quantity})]}),s.jsxs("div",{className:kt.returnMetaRow,children:[s.jsx("span",{className:kt.returnMetaLabel,children:":"}),s.jsx("span",{className:kt.returnMetaValue,children:new Date(de.return_date).toLocaleString("ru-RU",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})})]}),de.reason&&s.jsxs("div",{className:kt.returnMetaRow,children:[s.jsx("span",{className:kt.returnMetaLabel,children:":"}),s.jsx("span",{className:kt.returnMetaValue,children:de.reason})]}),s.jsxs("div",{className:kt.returnMetaRow,children:[s.jsx("span",{className:kt.returnMetaLabel,children:":"}),s.jsx("span",{className:`${kt.defectBadge} ${de.is_defect?kt.defectYes:kt.defectNo}`,children:de.is_defect?"":""})]}),s.jsxs("div",{className:kt.returnMetaRow,children:[s.jsx("span",{className:kt.returnMetaLabel,children:":"}),s.jsx("span",{className:kt.returnMetaValue,children:de.location_name})]})]})]},de.id))})}),w.total_pages>1&&s.jsxs("div",{className:kt.pagination,children:[s.jsx("button",{className:kt.paginationButton,disabled:!w.has_previous,onClick:()=>Ne(w.current_page-1),children:s.jsx(Kc,{})}),s.jsxs("div",{className:kt.paginationInfo,children:[" ",w.current_page,"  ",w.total_pages]}),s.jsx("button",{className:kt.paginationButton,disabled:!w.has_next,onClick:()=>Ne(w.current_page+1),children:s.jsx(Zc,{})})]})]}),S&&s.jsx("div",{className:kt.modalOverlay,onClick:()=>k(null),children:s.jsxs("div",{className:kt.modal,onClick:de=>de.stopPropagation(),children:[s.jsxs("div",{className:kt.modalHeader,children:[s.jsxs("h2",{children:["  ",S.number]}),s.jsx(Li,{onClick:()=>k(null)})]}),s.jsx("div",{className:kt.modalBody,children:s.jsxs("div",{className:kt.receiptDetails,children:[s.jsxs("div",{className:kt.receiptMeta,children:[s.jsxs("div",{className:kt.metaRow,children:[s.jsx("span",{className:kt.metaLabel,children:":"}),s.jsx("span",{className:kt.metaValue,children:new Date(S.created_at).toLocaleString("ru-RU",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})})]}),s.jsxs("div",{className:kt.metaRow,children:[s.jsx("span",{className:kt.metaLabel,children:":"}),s.jsxs("span",{className:kt.metaValue,children:[parseFloat(S.total_amount).toLocaleString("ru-RU")," "]})]}),s.jsxs("div",{className:kt.metaRow,children:[s.jsx("span",{className:kt.metaLabel,children:":"}),s.jsx("span",{className:kt.metaValue,children:S.payment_method||" "})]}),S.total_returns_amount>0&&s.jsxs("div",{className:kt.metaRow,children:[s.jsx("span",{className:kt.metaLabel,children:":"}),s.jsxs("span",{className:kt.metaValue,children:[parseFloat(S.total_returns_amount||0).toLocaleString("ru-RU")," "]})]}),S.profit_with_returns!==void 0&&s.jsxs("div",{className:kt.metaRow,children:[s.jsx("span",{className:kt.metaLabel,children:":"}),s.jsxs("span",{className:kt.metaValue,children:[parseFloat(S.profit_with_returns||0).toLocaleString("ru-RU")," "]})]}),(S.discount_amount>0||S.discount_percent>0)&&s.jsxs("div",{className:kt.metaRow,children:[s.jsx("span",{className:kt.metaLabel,children:":"}),s.jsxs("span",{className:kt.metaValue,children:[S.discount_amount>0&&`${parseFloat(S.discount_amount).toLocaleString("ru-RU")} `,S.discount_amount>0&&S.discount_percent>0&&", ",S.discount_percent>0&&`${S.discount_percent}%`]})]})]}),s.jsxs("div",{className:kt.receiptActions,children:[s.jsxs("button",{onClick:()=>qm(S.receipt_pdf_file),className:kt.actionButtonLarge,children:[s.jsx(Vh,{}),"  "]}),s.jsxs("button",{onClick:()=>T0(S.receipt_pdf_file),className:kt.actionButtonLarge,children:[s.jsx(qb,{}),"  PDF"]})]}),s.jsxs("div",{className:kt.receiptItems,children:[s.jsx("h3",{className:kt.sectionTitle,children:" :"}),(Ee=S==null?void 0:S.sales)==null?void 0:Ee.map(de=>{var pe,ce,Re,Ae,ie;return s.jsxs("div",{className:kt.saleItem,children:[s.jsxs("div",{className:kt.saleItemHeader,children:[s.jsxs("div",{className:kt.saleProductInfo,children:[((ce=(pe=de.variant)==null?void 0:pe.product_main_image)==null?void 0:ce.image)&&s.jsx("img",{src:de.variant.product_main_image.image,alt:de.variant.product_name,className:kt.saleProductImage}),s.jsxs("div",{className:kt.saleProductDetails,children:[s.jsx("div",{className:kt.saleProductName,children:((Re=de.variant)==null?void 0:Re.product_name)||""}),s.jsxs("div",{className:kt.saleProductSku,children:[": ",((Ae=de.variant)==null?void 0:Ae.sku)||""]})]})]}),s.jsxs("div",{className:kt.saleItemPrice,children:[parseFloat(de.total_price).toLocaleString("ru-RU")," "]})]}),s.jsxs("div",{className:kt.saleItemDetails,children:[s.jsxs("div",{className:kt.saleDetailRow,children:[s.jsx("span",{children:"  :"}),s.jsxs("span",{children:[parseFloat(de.final_price_per_unit||de.price_per_unit).toLocaleString("ru-RU")," "]})]}),s.jsxs("div",{className:kt.saleDetailRow,children:[s.jsx("span",{children:":"}),s.jsx("span",{children:s.jsx("strong",{children:de.quantity})})]}),de.returned_quantity>0&&s.jsxs("div",{className:kt.saleDetailRow,children:[s.jsx("span",{children:":"}),s.jsx("span",{children:de.returned_quantity})]}),s.jsxs("div",{className:kt.saleDetailRow,children:[s.jsx("span",{children:":"}),s.jsx("span",{children:s.jsx("strong",{children:de.quantity-(de.returned_quantity||0)})})]}),(de.discount_amount>0||de.discount_percent>0)&&s.jsxs("div",{className:kt.saleDetailRow,children:[s.jsx("span",{children:":"}),s.jsxs("span",{children:[de.discount_amount>0&&`${de.discount_amount} `,de.discount_amount>0&&de.discount_percent>0&&", ",de.discount_percent>0&&`${de.discount_percent}%`,S.discount_percent>0&&` (+${S.discount_percent}%  )`]})]}),(de.bonus_accrued&&parseFloat(de.bonus_accrued)>0||de.bonus_redeemed&&parseFloat(de.bonus_redeemed)>0)&&s.jsxs("div",{className:kt.saleDetailRow,children:[s.jsx("span",{children:":"}),s.jsxs("div",{className:kt.bonusInfo,children:[de.bonus_accrued&&parseFloat(de.bonus_accrued)>0&&s.jsxs("span",{className:kt.bonusAccrued,children:["+",parseFloat(de.bonus_accrued).toFixed(2)]}),de.bonus_redeemed&&parseFloat(de.bonus_redeemed)>0&&s.jsxs("span",{className:kt.bonusRedeemed,children:["-",parseFloat(de.bonus_redeemed).toFixed(2)]})]})]}),((ie=de.variant)==null?void 0:ie.attributes)&&de.variant.attributes.length>0&&s.jsxs("div",{className:kt.attributesSection,children:[s.jsx("button",{type:"button",className:kt.attributesToggle,onClick:()=>{const ge=new Set(J);ge.has(de.id)?ge.delete(de.id):ge.add(de.id),z(ge)},children:J.has(de.id)?s.jsxs(s.Fragment,{children:[s.jsx(ko,{}),"  "]}):s.jsxs(s.Fragment,{children:[s.jsx(No,{}),"   (",de.variant.attributes.length,")"]})}),J.has(de.id)&&s.jsx("div",{className:kt.productAttributes,children:de.variant.attributes.map(ge=>s.jsxs("div",{className:kt.attributeItem,children:[s.jsxs("span",{className:kt.attributeName,children:[ge.category_attribute_name,":"]}),s.jsx("span",{className:kt.attributeValue,children:ge.predefined_value_name||ge.custom_value})]},ge.id))})]})]}),de.available_to_return>0&&s.jsxs("button",{type:"button",className:kt.returnButton,onClick:()=>Q(de),children:[s.jsx(Th,{}),"   (",de.available_to_return," .)"]})]},de.id)})]}),((ve=S==null?void 0:S.sales)==null?void 0:ve.some(de=>{var pe;return((pe=de.returns)==null?void 0:pe.length)>0}))&&s.jsxs("div",{className:kt.returnsHistory,children:[s.jsx("h3",{className:kt.sectionTitle,children:" :"}),S.sales.flatMap(de=>de.returns.map(pe=>s.jsxs("div",{className:kt.returnHistoryItem,children:[s.jsxs("div",{className:kt.returnHistoryHeader,children:[s.jsx("div",{className:kt.returnHistoryProduct,children:de.variant.product_name}),s.jsxs("div",{className:kt.returnHistoryAmount,children:["-",parseFloat(pe.refund_amount).toLocaleString("ru-RU")," "]})]}),s.jsxs("div",{className:kt.returnHistoryDetails,children:[s.jsxs("div",{className:kt.returnHistoryRow,children:[s.jsx("span",{children:":"}),s.jsx("span",{children:pe.quantity})]}),s.jsxs("div",{className:kt.returnHistoryRow,children:[s.jsx("span",{children:":"}),s.jsx("span",{children:new Date(pe.return_date).toLocaleString("ru-RU",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})})]}),pe.reason&&s.jsxs("div",{className:kt.returnHistoryRow,children:[s.jsx("span",{children:":"}),s.jsx("span",{children:pe.reason})]}),s.jsxs("div",{className:kt.returnHistoryRow,children:[s.jsx("span",{children:":"}),s.jsx("span",{className:`${kt.defectBadge} ${pe.is_defect?kt.defectYes:kt.defectNo}`,children:pe.is_defect?"":""})]}),s.jsxs("div",{className:kt.returnHistoryRow,children:[s.jsx("span",{children:":"}),s.jsx("span",{children:pe.location_name||""})]}),pe.created_by_name&&s.jsxs("div",{className:kt.returnHistoryRow,children:[s.jsx("span",{children:":"}),s.jsx("span",{children:pe.created_by_name})]})]})]},pe.id)))]}),(S.customer_name||S.customer_phone)&&s.jsxs("div",{className:kt.customerInfo,children:[s.jsx("h3",{className:kt.sectionTitle,children:"  :"}),S.customer_name&&s.jsxs("div",{className:kt.customerRow,children:[s.jsx("span",{children:":"}),s.jsx("span",{children:S.customer_name})]}),S.customer_phone&&s.jsxs("div",{className:kt.customerRow,children:[s.jsx("span",{children:":"}),s.jsx("span",{children:S.customer_phone})]})]})]})})]})}),U.open&&s.jsx("div",{className:kt.modalOverlay,onClick:Y,children:s.jsxs("div",{className:kt.modal,onClick:de=>de.stopPropagation(),children:[s.jsxs("div",{className:kt.modalHeader,children:[s.jsxs("h2",{children:["  ",((fe=(Se=U.sale)==null?void 0:Se.variant)==null?void 0:fe.product_name)||""]}),s.jsx(Li,{onClick:Y})]}),s.jsx("div",{className:kt.modalBody,children:s.jsxs("div",{className:kt.returnForm,children:[g&&s.jsx("div",{className:kt.error,children:g}),s.jsxs("div",{className:kt.formRow,children:[s.jsx("label",{children:"  "}),s.jsx("div",{className:kt.readonlyValue,children:U.maxQty})]}),s.jsxs("div",{className:kt.formRow,children:[s.jsx("label",{children:""}),s.jsx("input",{type:"number",min:1,max:U.maxQty||1,value:H.quantity,onChange:de=>se(pe=>({...pe,quantity:de.target.value}))})]}),s.jsxs("div",{className:kt.formRow,children:[s.jsx("label",{children:""}),s.jsx("textarea",{placeholder:"  ,    ..",value:H.reason,onChange:de=>se(pe=>({...pe,reason:de.target.value})),rows:4})]}),s.jsx("div",{className:kt.formRowCheckbox,children:s.jsxs("label",{className:kt.checkboxLabel,children:[s.jsx("input",{type:"checkbox",checked:H.is_defect,onChange:de=>se(pe=>({...pe,is_defect:de.target.checked}))}),""]})}),s.jsxs("div",{className:kt.modalActions,children:[s.jsx("button",{className:kt.cancelButton,type:"button",onClick:Y,disabled:K,children:""}),s.jsx("button",{className:kt.submitButton,type:"button",onClick:ae,disabled:K,children:K?"...":" "})]})]})})]})})]})},Dft="_container_bt5ro_1",Aft="_loadingBox_bt5ro_17",Mft="_errorBox_bt5ro_19",Rft="_spinner_bt5ro_47",Bft="_buttonSpinner_bt5ro_61",Oft="_errorIcon_bt5ro_89",Lft="_backButton_bt5ro_121",$ft="_inviteBox_bt5ro_153",Pft="_header_bt5ro_175",Fft="_headerIcon_bt5ro_189",Hft="_content_bt5ro_215",qft="_businessInfo_bt5ro_223",Vft="_invitedBy_bt5ro_249",zft="_infoBlock_bt5ro_259",Uft="_permissionsList_bt5ro_343",Wft="_permCode_bt5ro_367",Yft="_permDesc_bt5ro_391",Gft="_expiryWarning_bt5ro_401",Qft="_authNotice_bt5ro_447",Xft="_userInfo_bt5ro_475",Kft="_actions_bt5ro_515",Zft="_declineButton_bt5ro_531",Jft="_acceptButton_bt5ro_533",jr={container:Dft,loadingBox:Aft,errorBox:Mft,spinner:Rft,buttonSpinner:Bft,errorIcon:Oft,backButton:Lft,inviteBox:$ft,header:Pft,headerIcon:Fft,content:Hft,businessInfo:qft,invitedBy:Vft,infoBlock:zft,permissionsList:Uft,permCode:Wft,permDesc:Yft,expiryWarning:Gft,authNotice:Qft,userInfo:Xft,actions:Kft,declineButton:Zft,acceptButton:Jft},emt=()=>{const{token:e}=ha(),t=Is(),[n,a]=_.useState(null),[r,i]=_.useState(!0),[o,c]=_.useState(null),[l,d]=_.useState(!1),[f,g]=_.useState(null);_.useEffect(()=>{b()},[e]);const b=async()=>{var C,S;try{i(!0);const k=await Be.get(`api/invite/${e}/`);a(k.data),g(k.data.current_user||{is_authenticated:!1})}catch(k){c(((S=(C=k.response)==null?void 0:C.data)==null?void 0:S.error)||"  ")}finally{i(!1)}},w=async()=>{var C,S;if(!(f!=null&&f.is_authenticated)){sessionStorage.setItem("pending_invite_token",e),t("/registration-login?redirect="+encodeURIComponent(`/invite/employee/${e}`));return}try{d(!0),await Be.post("api/invite/accept/",{token:e}),t(`/business/${n.business_slug}/main`,{state:{message:"    !"}})}catch(k){c(((S=(C=k.response)==null?void 0:C.data)==null?void 0:S.error)||"   "),d(!1)}};return r?s.jsx("div",{className:jr.container,children:s.jsxs("div",{className:jr.loadingBox,children:[s.jsx(Po,{className:jr.spinner}),s.jsx("p",{children:" ..."})]})}):o?s.jsx("div",{className:jr.container,children:s.jsxs(os.div,{className:jr.errorBox,initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},children:[s.jsx(pQ,{className:jr.errorIcon}),s.jsx("h2",{children:""}),s.jsx("p",{children:o}),s.jsx("button",{className:jr.backButton,onClick:()=>t("/"),children:"  "})]})}):s.jsx("div",{className:jr.container,children:s.jsxs(os.div,{className:jr.inviteBox,initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:.5},children:[s.jsxs("div",{className:jr.header,children:[s.jsx(Ac,{className:jr.headerIcon}),s.jsx("h1",{children:"  "})]}),s.jsxs("div",{className:jr.content,children:[s.jsxs("div",{className:jr.businessInfo,children:[s.jsx("h2",{children:n.business_name}),s.jsxs("p",{className:jr.invitedBy,children:[" : ",n.invited_by_name]})]}),n.employee_name&&s.jsxs("div",{className:jr.infoBlock,children:[s.jsx(om,{}),s.jsxs("div",{children:[s.jsx("strong",{children:" :"}),s.jsx("p",{children:n.employee_name})]})]}),n.position&&s.jsxs("div",{className:jr.infoBlock,children:[s.jsx(om,{}),s.jsxs("div",{children:[s.jsx("strong",{children:":"}),s.jsx("p",{children:n.position})]})]}),n.locations_details&&n.locations_details.length>0&&s.jsxs("div",{className:jr.infoBlock,children:[s.jsx(cr,{}),s.jsxs("div",{children:[s.jsx("strong",{children:":"}),s.jsx("ul",{children:n.locations_details.map(C=>s.jsxs("li",{children:[C.name,C.address&&` - ${C.address}`]},C.id))})]})]}),n.permissions_details&&n.permissions_details.length>0&&s.jsxs("div",{className:jr.infoBlock,children:[s.jsx(TR,{}),s.jsxs("div",{children:[s.jsx("strong",{children:" :"}),s.jsx("ul",{className:jr.permissionsList,children:n.permissions_details.map(C=>s.jsxs("li",{children:[s.jsx("span",{className:jr.permCode,children:C.code}),C.description&&s.jsx("span",{className:jr.permDesc,children:C.description})]},C.id))})]})]}),s.jsxs("div",{className:jr.expiryWarning,children:[s.jsx(Ol,{}),s.jsxs("p",{children:["  :"," ",new Date(n.expires_at).toLocaleDateString("ru-RU",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})]})]}),f!=null&&f.is_authenticated?s.jsx("div",{className:jr.userInfo,children:s.jsxs("p",{children:["  : ",s.jsx("strong",{children:f.full_name||f.username})]})}):s.jsx("div",{className:jr.authNotice,children:s.jsx("p",{children:"      .       ."})})]}),s.jsxs("div",{className:jr.actions,children:[s.jsx("button",{className:jr.declineButton,onClick:()=>t("/"),disabled:l,children:""}),s.jsx("button",{className:jr.acceptButton,onClick:w,disabled:l,children:l?s.jsxs(s.Fragment,{children:[s.jsx(Po,{className:jr.buttonSpinner}),"..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Bl,{}),f!=null&&f.is_authenticated?`  ${f.full_name||f.username}`:"  "]})})]})]})})},tmt="_container_1gtnn_1",nmt="_header_1gtnn_9",smt="_backButton_1gtnn_16",amt="_filters_1gtnn_37",rmt="_filterGroup_1gtnn_47",imt="_locationSelect_1gtnn_58",omt="_saveButton_1gtnn_68",cmt="_loading_1gtnn_90",lmt="_emptyState_1gtnn_91",umt="_productsList_1gtnn_98",dmt="_productCard_1gtnn_103",hmt="_productHeader_1gtnn_117",fmt="_productImage_1gtnn_129",mmt="_productInfo_1gtnn_137",pmt="_category_1gtnn_142",gmt="_variantsList_1gtnn_148",_mt="_variantRow_1gtnn_159",vmt="_variantInfo_1gtnn_175",xmt="_variantSku_1gtnn_179",bmt="_priceRange_1gtnn_186",ymt="_priceRangeText_1gtnn_194",wmt="_variantAttributes_1gtnn_205",jmt="_attributeTag_1gtnn_211",Cmt="_priceInput_1gtnn_220",Smt="_priceField_1gtnn_226",Nmt="_currency_1gtnn_242",kmt="_viewModeToggle_1gtnn_247",Imt="_toggleButton_1gtnn_255",Emt="_toggleButtonActive_1gtnn_272",Tmt="_boundVariantActions_1gtnn_283",Dmt="_boundPrice_1gtnn_289",Amt="_boundPriceValue_1gtnn_294",Mmt="_unbindButton_1gtnn_304",Ba={container:tmt,header:nmt,backButton:smt,filters:amt,filterGroup:rmt,locationSelect:imt,saveButton:omt,loading:cmt,emptyState:lmt,productsList:umt,productCard:dmt,productHeader:hmt,productImage:fmt,productInfo:mmt,category:pmt,variantsList:gmt,variantRow:_mt,variantInfo:vmt,variantSku:xmt,priceRange:bmt,priceRangeText:ymt,variantAttributes:wmt,attributeTag:jmt,priceInput:Cmt,priceField:Smt,currency:Nmt,viewModeToggle:kmt,toggleButton:Imt,toggleButtonActive:Emt,boundVariantActions:Tmt,boundPrice:Dmt,boundPriceValue:Amt,unbindButton:Mmt},Rmt=()=>{const{business_slug:e}=ha(),t=Is(),{getFileUrl:n}=Er(),[a,r]=_.useState([]),[i,o]=_.useState(null),[c,l]=_.useState([]),[d,f]=_.useState(!0),[g,b]=_.useState(!1),[w,C]=_.useState({}),[S,k]=_.useState("unbound"),[E,D]=_.useState({});_.useEffect(()=>{(async()=>{try{const H=await Be.get(`/api/business/${e}/locations/`);r(H.data.results||H.data),H.data.results&&H.data.results.length>0?o(H.data.results[0]):H.data.length>0&&o(H.data[0])}catch(H){console.error("  :",H)}})()},[e]),_.useEffect(()=>{i&&(S==="unbound"?R():P())},[i,e,S]);const R=async()=>{f(!0);try{const F=await Be.get(`/api/business/${e}/variants-without-location-price/${i.id}/`);l(F.data.products||[]),f(!1)}catch(F){console.error("  :",F),f(!1)}},P=async()=>{f(!0);try{const F=await Be.get(`/api/business/${e}/location-prices/${i.id}/`);l(F.data.products||[]),f(!1)}catch(F){console.error("   :",F),f(!1)}},B=(F,H)=>{C(se=>({...se,[F]:H}))},O=async()=>{var F,H;if(i){b(!0);try{const se=Object.entries(w).map(([K,te])=>({variant_id:K,selling_price:te,is_active:!0})).filter(K=>K.selling_price>0);if(se.length===0){alert("   "),b(!1);return}await Be.post(`/api/business/${e}/location-price/bulk-create/`,{location_id:i.id,prices:se}),alert(`  ${se.length} `),C({}),R()}catch(se){console.error(" :",se),alert("  : "+(((H=(F=se.response)==null?void 0:F.data)==null?void 0:H.detail)||se.message))}finally{b(!1)}}},$=F=>{const H=a.find(se=>se.id===parseInt(F));o(H),C({})},U=async(F,H)=>{var se,K;if(window.confirm(" ,       ?")){D(te=>({...te,[F]:!0}));try{await Be.delete(`/api/business/${e}/location-price/${F}/delete/`),P()}catch(te){console.error("  :",te),alert("  : "+(((K=(se=te.response)==null?void 0:se.data)==null?void 0:K.detail)||te.message))}finally{D(te=>{const J={...te};return delete J[F],J})}}};return s.jsxs("div",{className:Ba.container,children:[s.jsxs("div",{className:Ba.header,children:[s.jsx("button",{className:Ba.backButton,onClick:()=>t(`/business/${e}/products/`),children:"   "}),s.jsx("h2",{children:"   "})]}),s.jsxs("div",{className:Ba.filters,children:[s.jsxs("div",{className:Ba.filterGroup,children:[s.jsx("label",{children:" :"}),s.jsx("select",{value:(i==null?void 0:i.id)||"",onChange:F=>$(F.target.value),className:Ba.locationSelect,children:a.map(F=>s.jsx("option",{value:F.id,children:F.name},F.id))})]}),s.jsxs("div",{className:Ba.viewModeToggle,children:[s.jsx("button",{className:`${Ba.toggleButton} ${S==="unbound"?Ba.toggleButtonActive:""}`,onClick:()=>k("unbound"),children:""}),s.jsx("button",{className:`${Ba.toggleButton} ${S==="bound"?Ba.toggleButtonActive:""}`,onClick:()=>k("bound"),children:""})]}),i&&S==="unbound"&&s.jsx("button",{className:Ba.saveButton,onClick:O,disabled:g||Object.keys(w).length===0,children:g?"...":` (${Object.keys(w).length})`})]}),d?s.jsx("div",{className:Ba.loading,children:"..."}):c.length===0?s.jsx("div",{className:Ba.emptyState,children:s.jsx("p",{children:S==="unbound"?"      ":"     "})}):s.jsx("div",{className:Ba.productsList,children:c.map(F=>s.jsxs("div",{className:Ba.productCard,children:[s.jsxs("div",{className:Ba.productHeader,children:[F.main_image&&s.jsx("img",{src:n(F.main_image.image),alt:F.name,className:Ba.productImage}),s.jsxs("div",{className:Ba.productInfo,children:[s.jsx("h3",{children:F.name}),s.jsx("p",{className:Ba.category,children:F.category_name})]})]}),s.jsxs("div",{className:Ba.variantsList,children:[s.jsx("h4",{children:":"}),F.variants.map(H=>s.jsxs("div",{className:Ba.variantRow,children:[s.jsxs("div",{className:Ba.variantInfo,children:[s.jsxs("span",{className:Ba.variantSku,children:[": ",H.sku]}),H.attributes.length>0&&s.jsx("div",{className:Ba.variantAttributes,children:H.attributes.map((se,K)=>s.jsxs("span",{className:Ba.attributeTag,children:[se.name,": ",se.value]},K))}),(H.min_price||H.max_price)&&s.jsx("div",{className:Ba.priceRange,children:H.min_price&&H.max_price&&H.min_price===H.max_price?s.jsxs("span",{className:Ba.priceRangeText,children:["   : ",s.jsxs("strong",{children:[H.min_price.toLocaleString("ru-RU")," "]})]}):s.jsxs("span",{className:Ba.priceRangeText,children:["   :",H.min_price&&s.jsxs("strong",{children:[" ",H.min_price.toLocaleString("ru-RU")," "]}),H.min_price&&H.max_price&&H.min_price!==H.max_price&&s.jsxs(s.Fragment,{children:[" - ",s.jsxs("strong",{children:[H.max_price.toLocaleString("ru-RU")," "]})]})]})})]}),S==="unbound"?s.jsxs("div",{className:Ba.priceInput,children:[s.jsx("input",{type:"number",placeholder:H.min_price?` ${H.min_price.toLocaleString("ru-RU")}`:"",value:w[H.id]||"",onChange:se=>B(H.id,se.target.value),min:"0",step:"0.01",className:Ba.priceField}),s.jsx("span",{className:Ba.currency,children:""})]}):s.jsxs("div",{className:Ba.boundVariantActions,children:[s.jsx("div",{className:Ba.boundPrice,children:s.jsxs("span",{className:Ba.boundPriceValue,children:[H.selling_price!==void 0&&H.selling_price!==null?Number(H.selling_price).toLocaleString("ru-RU"):"0"," "]})}),s.jsx("button",{className:Ba.unbindButton,onClick:()=>U(H.price_id,H.id),disabled:E[H.price_id]||!H.price_id,children:E[H.price_id]?"...":""})]})]},H.id))]})]},F.id))})]})},Bmt="_container_znuil_1",Omt="_header_znuil_9",Lmt="_titleSection_znuil_18",$mt="_titleIcon_znuil_24",Pmt="_title_znuil_18",Fmt="_createButton_znuil_36",Hmt="_loadingContainer_znuil_60",qmt="_errorContainer_znuil_61",Vmt="_emptyState_znuil_89",zmt="_emptyIcon_znuil_99",Umt="_tabs_znuil_117",Wmt="_tab_znuil_117",Ymt="_tabActive_znuil_145",Gmt="_batchesGrid_znuil_150",ri={container:Bmt,header:Omt,titleSection:Lmt,titleIcon:$mt,title:Pmt,createButton:Fmt,loadingContainer:Hmt,errorContainer:qmt,emptyState:Vmt,emptyIcon:zmt,tabs:Umt,tab:Wmt,tabActive:Ymt,batchesGrid:Gmt},Qmt="_card_mbpc5_1",Xmt="_header_mbpc5_27",Kmt="_batchNumber_mbpc5_34",Zmt="_statusBadge_mbpc5_43",Jmt="_status_draft_mbpc5_51",ept="_status_completed_mbpc5_57",tpt="_actions_mbpc5_63",npt="_viewButton_mbpc5_68",spt="_deleteButton_mbpc5_69",apt="_content_mbpc5_92",rpt="_infoRow_mbpc5_98",ipt="_icon_mbpc5_105",opt="_label_mbpc5_110",cpt="_value_mbpc5_114",lpt="_stats_mbpc5_120",upt="_statItem_mbpc5_129",dpt="_statIcon_mbpc5_135",hpt="_statContent_mbpc5_140",fpt="_statValue_mbpc5_145",mpt="_unitsList_mbpc5_152",ppt="_unitBadge_mbpc5_161",gpt="_unitQuantity_mbpc5_181",_pt="_unitName_mbpc5_189",vpt="_statLabel_mbpc5_196",xpt="_footer_mbpc5_203",bpt="_createdAt_mbpc5_209",xa={card:Qmt,header:Xmt,batchNumber:Kmt,statusBadge:Zmt,status_draft:Jmt,status_completed:ept,actions:tpt,viewButton:npt,deleteButton:spt,content:apt,infoRow:rpt,icon:ipt,label:opt,value:cpt,stats:lpt,statItem:upt,statIcon:dpt,statContent:hpt,statValue:fpt,unitsList:mpt,unitBadge:ppt,unitQuantity:gpt,unitName:_pt,statLabel:vpt,footer:xpt,createdAt:bpt},JF=({batch:e,onView:t,onDelete:n})=>{const a=i=>new Date(i).toLocaleDateString("ru-RU",{year:"numeric",month:"long",day:"numeric"}),r=e.status==="completed";return s.jsxs("div",{className:xa.card,children:[s.jsxs("div",{className:xa.header,children:[s.jsxs("div",{className:xa.batchNumber,children:[e.batch_number,s.jsx("span",{className:`${xa.statusBadge} ${xa[`status_${e.status}`]}`,children:e.status==="completed"?" ":" "})]}),s.jsxs("div",{className:xa.actions,children:[s.jsx("button",{className:xa.viewButton,onClick:t,title:"",children:s.jsx(fo,{})}),s.jsx("button",{className:xa.deleteButton,onClick:n,title:r?" (   )":"",children:s.jsx(Ir,{})})]})]}),s.jsxs("div",{className:xa.content,children:[s.jsxs("div",{className:xa.infoRow,children:[s.jsx(Vo,{className:xa.icon}),s.jsx("span",{className:xa.label,children:" :"}),s.jsx("span",{className:xa.value,children:a(e.received_date)})]}),e.received_by_name&&s.jsxs("div",{className:xa.infoRow,children:[s.jsx("span",{className:xa.label,children:":"}),s.jsx("span",{className:xa.value,children:e.received_by_name})]}),e.supplier&&s.jsxs("div",{className:xa.infoRow,children:[s.jsx("span",{className:xa.label,children:":"}),s.jsx("span",{className:xa.value,children:e.supplier})]}),s.jsxs("div",{className:xa.stats,children:[e.total_items_by_unit&&e.total_items_by_unit.length>0?s.jsxs("div",{className:xa.statItem,children:[s.jsx(Rc,{className:xa.statIcon}),s.jsxs("div",{className:xa.statContent,children:[s.jsx("div",{className:xa.unitsList,children:e.total_items_by_unit.map((i,o)=>{const c=i.formatted_quantity!==void 0?i.formatted_quantity:i.quantity===Math.floor(i.quantity)?Math.floor(i.quantity):parseFloat(i.quantity.toFixed(3));return s.jsxs("div",{className:xa.unitBadge,children:[s.jsx("span",{className:xa.unitQuantity,children:typeof c=="number"?c.toLocaleString("ru-RU",{maximumFractionDigits:3,minimumFractionDigits:0}):c}),s.jsx("span",{className:xa.unitName,children:i.unit})]},o)})}),s.jsx("div",{className:xa.statLabel,children:""})]})]}):s.jsxs("div",{className:xa.statItem,children:[s.jsx(Rc,{className:xa.statIcon}),s.jsxs("div",{className:xa.statContent,children:[s.jsx("div",{className:xa.statValue,children:e.total_items||0}),s.jsx("div",{className:xa.statLabel,children:""})]})]}),s.jsxs("div",{className:xa.statItem,children:[s.jsx(cr,{className:xa.statIcon}),s.jsxs("div",{className:xa.statContent,children:[s.jsx("div",{className:xa.statValue,children:e.total_locations||0}),s.jsx("div",{className:xa.statLabel,children:""})]})]})]})]}),s.jsx("div",{className:xa.footer,children:s.jsxs("span",{className:xa.createdAt,children:[": ",a(e.created_at)]})})]})},ypt="_card_1owts_1",wpt="_header_1owts_73",jpt="_transferNumber_1owts_87",Cpt="_statusBadge_1owts_107",Spt="_status_draft_1owts_125",Npt="_status_completed_1owts_137",kpt="_status_cancelled_1owts_149",Ipt="_actions_1owts_161",Ept="_viewButton_1owts_173",Tpt="_deleteButton_1owts_175",Dpt="_content_1owts_229",Apt="_locations_1owts_241",Mpt="_locationRow_1owts_261",Rpt="_arrow_1owts_273",Bpt="_locationLabel_1owts_291",Opt="_locationValue_1owts_305",Lpt="_icon_1owts_319",$pt="_stats_1owts_331",Ppt="_statItem_1owts_345",Fpt="_statIcon_1owts_359",Hpt="_statContent_1owts_371",qpt="_statValue_1owts_383",Vpt="_statLabel_1owts_395",zpt="_infoRow_1owts_405",Upt="_label_1owts_419",Wpt="_value_1owts_429",Ypt="_footer_1owts_437",Gpt="_createdAt_1owts_449",Oa={card:ypt,header:wpt,transferNumber:jpt,statusBadge:Cpt,status_draft:Spt,status_completed:Npt,status_cancelled:kpt,actions:Ipt,viewButton:Ept,deleteButton:Tpt,content:Dpt,locations:Apt,locationRow:Mpt,arrow:Rpt,locationLabel:Bpt,locationValue:Opt,icon:Lpt,stats:$pt,statItem:Ppt,statIcon:Fpt,statContent:Hpt,statValue:qpt,statLabel:Vpt,infoRow:zpt,label:Upt,value:Wpt,footer:Ypt,createdAt:Gpt},eH=({transfer:e,onView:t,onDelete:n})=>{const a=c=>c?new Date(c).toLocaleDateString("ru-RU",{year:"numeric",month:"long",day:"numeric"}):" ",i=(()=>{switch(e.status){case"completed":return{text:" ",className:Oa.status_completed};case"cancelled":return{text:" ",className:Oa.status_cancelled};default:return{text:" ",className:Oa.status_draft}}})(),o=e.status==="draft";return s.jsxs("div",{className:Oa.card,onClick:t,children:[s.jsxs("div",{className:Oa.header,children:[s.jsxs("div",{className:Oa.transferNumber,children:[e.transfer_number,s.jsx("span",{className:`${Oa.statusBadge} ${i.className}`,children:i.text})]}),s.jsxs("div",{className:Oa.actions,onClick:c=>c.stopPropagation(),children:[s.jsx("button",{className:Oa.viewButton,onClick:t,title:"",children:s.jsx(fo,{})}),o&&s.jsx("button",{className:Oa.deleteButton,onClick:n,title:"",children:s.jsx(Ir,{})})]})]}),s.jsxs("div",{className:Oa.content,children:[s.jsxs("div",{className:Oa.locations,children:[s.jsxs("div",{className:Oa.locationRow,children:[s.jsx(cr,{className:Oa.icon}),s.jsx("span",{className:Oa.locationLabel,children:":"}),s.jsx("span",{className:Oa.locationValue,children:e.from_location_name})]}),s.jsx("div",{className:Oa.arrow,children:s.jsx(Pb,{})}),s.jsxs("div",{className:Oa.locationRow,children:[s.jsx(cr,{className:Oa.icon}),s.jsx("span",{className:Oa.locationLabel,children:":"}),s.jsx("span",{className:Oa.locationValue,children:e.to_location_name})]})]}),s.jsx("div",{className:Oa.stats,children:s.jsxs("div",{className:Oa.statItem,children:[s.jsx(Jc,{className:Oa.statIcon}),s.jsxs("div",{className:Oa.statContent,children:[s.jsx("div",{className:Oa.statValue,children:e.total_quantity?parseFloat(e.total_quantity).toLocaleString("ru-RU"):"0"}),s.jsx("div",{className:Oa.statLabel,children:""})]})]})}),e.created_by_name&&s.jsxs("div",{className:Oa.infoRow,children:[s.jsx("span",{className:Oa.label,children:":"}),s.jsx("span",{className:Oa.value,children:e.created_by_name})]}),e.completed_at&&s.jsxs("div",{className:Oa.infoRow,children:[s.jsx(Vo,{className:Oa.icon}),s.jsx("span",{className:Oa.label,children:":"}),s.jsx("span",{className:Oa.value,children:a(e.completed_at)})]})]}),s.jsx("div",{className:Oa.footer,children:s.jsxs("span",{className:Oa.createdAt,children:[": ",a(e.created_at)]})})]})},Qpt="_overlay_k2joq_1",Xpt="_modal_k2joq_15",Kpt="_header_k2joq_26",Zpt="_title_k2joq_34",Jpt="_closeButton_k2joq_44",e1t="_form_k2joq_60",t1t="_formGroup_k2joq_67",n1t="_helpText_k2joq_99",s1t="_stocksSection_k2joq_105",a1t="_stocksHeader_k2joq_110",r1t="_addButton_k2joq_123",i1t="_stocksList_k2joq_141",o1t="_stockRow_k2joq_147",c1t="_selectedProductCard_k2joq_270",l1t="_selectedProductImage_k2joq_281",u1t="_selectedNoImage_k2joq_289",d1t="_selectedProductInfo_k2joq_301",h1t="_selectedProductName_k2joq_308",f1t="_selectedProductVariant_k2joq_314",m1t="_selectedAttributes_k2joq_319",p1t="_attributeBadge_k2joq_325",g1t="_stockControls_k2joq_351",_1t="_locationDisplay_k2joq_358",v1t="_priceDisplay_k2joq_372",x1t="_inputWithLabel_k2joq_388",b1t="_quantityInput_k2joq_395",y1t="_currencyLabel_k2joq_399",w1t="_fieldLabel_k2joq_403",j1t="_unitLabel_k2joq_423",C1t="_checkboxLabel_k2joq_441",S1t="_removeButton_k2joq_457",N1t="_emptyStocks_k2joq_472",k1t="_actions_k2joq_478",I1t="_cancelButton_k2joq_486",E1t="_submitButton_k2joq_487",T1t="_documentsSection_k2joq_521",D1t="_sectionHeader_k2joq_527",A1t="_addDocumentButton_k2joq_534",M1t="_documentUploadForm_k2joq_554",R1t="_documentUploadActions_k2joq_581",B1t="_documentsList_k2joq_624",O1t="_documentCard_k2joq_631",L1t="_documentIcon_k2joq_641",$1t="_documentInfo_k2joq_646",P1t="_documentName_k2joq_653",F1t="_documentDescription_k2joq_658",H1t="_defectSection_k2joq_663",q1t="_addDefectButton_k2joq_674",V1t="_defectForm_k2joq_694",z1t="_defectFormRow_k2joq_704",U1t="_defectFormActions_k2joq_710",W1t="_addDefectBtn_k2joq_715",Y1t="_cancelDefectBtn_k2joq_731",G1t="_defectsList_k2joq_747",Q1t="_defectItem_k2joq_753",X1t="_defectQuantity_k2joq_763",K1t="_defectReason_k2joq_769",Z1t="_removeDefectBtn_k2joq_775",J1t="_textInput_k2joq_790",egt="_activeFlagsSection_k2joq_800",tgt="_activeFlagsTitle_k2joq_809",ngt="_activeFlagsList_k2joq_818",sgt="_activeFlagItem_k2joq_824",agt="_flagLabel_k2joq_855",$n={overlay:Qpt,modal:Xpt,header:Kpt,title:Zpt,closeButton:Jpt,form:e1t,formGroup:t1t,helpText:n1t,stocksSection:s1t,stocksHeader:a1t,addButton:r1t,stocksList:i1t,stockRow:o1t,selectedProductCard:c1t,selectedProductImage:l1t,selectedNoImage:u1t,selectedProductInfo:d1t,selectedProductName:h1t,selectedProductVariant:f1t,selectedAttributes:m1t,attributeBadge:p1t,stockControls:g1t,locationDisplay:_1t,priceDisplay:v1t,inputWithLabel:x1t,quantityInput:b1t,currencyLabel:y1t,fieldLabel:w1t,unitLabel:j1t,checkboxLabel:C1t,removeButton:S1t,emptyStocks:N1t,actions:k1t,cancelButton:I1t,submitButton:E1t,documentsSection:T1t,sectionHeader:D1t,addDocumentButton:A1t,documentUploadForm:M1t,documentUploadActions:R1t,documentsList:B1t,documentCard:O1t,documentIcon:L1t,documentInfo:$1t,documentName:P1t,documentDescription:F1t,defectSection:H1t,addDefectButton:q1t,defectForm:V1t,defectFormRow:z1t,defectFormActions:U1t,addDefectBtn:W1t,cancelDefectBtn:Y1t,defectsList:G1t,defectItem:Q1t,defectQuantity:X1t,defectReason:K1t,removeDefectBtn:Z1t,textInput:J1t,activeFlagsSection:egt,activeFlagsTitle:tgt,activeFlagsList:ngt,activeFlagItem:sgt,flagLabel:agt},rgt="_overlay_csyx2_1",igt="_modal_csyx2_15",ogt="_header_csyx2_27",cgt="_title_csyx2_35",lgt="_closeButton_csyx2_42",ugt="_searchSection_csyx2_58",dgt="_searchBox_csyx2_65",hgt="_searchIcon_csyx2_72",fgt="_searchButton_csyx2_97",mgt="_spinner_csyx2_121",pgt="_filterSection_csyx2_134",ggt="_locationFilter_csyx2_139",_gt="_sortControl_csyx2_167",vgt="_sortButton_csyx2_172",xgt="_active_csyx2_192",bgt="_content_csyx2_220",ygt="_loading_csyx2_226",wgt="_emptyState_csyx2_232",jgt="_productGrid_csyx2_238",Cgt="_productCard_csyx2_244",Sgt="_selected_csyx2_263",Ngt="_checkbox_csyx2_269",kgt="_productImage_csyx2_291",Igt="_noImagePlaceholder_csyx2_298",Egt="_productInfo_csyx2_310",Tgt="_productName_csyx2_316",Dgt="_productVariant_csyx2_327",Agt="_attributes_csyx2_332",Mgt="_attribute_csyx2_332",Rgt="_attributeMore_csyx2_347",Bgt="_locationInfo_csyx2_357",Ogt="_locationName_csyx2_366",Lgt="_price_csyx2_381",$gt="_quantity_csyx2_396",Pgt="_productCategory_csyx2_410",Fgt="_footer_csyx2_418",Hgt="_selectedCount_csyx2_426",qgt="_actions_csyx2_431",Vgt="_cancelButton_csyx2_436",zgt="_confirmButton_csyx2_437",oa={overlay:rgt,modal:igt,header:ogt,title:cgt,closeButton:lgt,searchSection:ugt,searchBox:dgt,searchIcon:hgt,searchButton:fgt,spinner:mgt,filterSection:pgt,locationFilter:ggt,sortControl:_gt,sortButton:vgt,active:xgt,content:bgt,loading:ygt,emptyState:wgt,productGrid:jgt,productCard:Cgt,selected:Sgt,checkbox:Ngt,productImage:kgt,noImagePlaceholder:Igt,productInfo:Egt,productName:Tgt,productVariant:Dgt,attributes:Agt,attribute:Mgt,attributeMore:Rgt,locationInfo:Bgt,locationName:Ogt,price:Lgt,quantity:$gt,productCategory:Pgt,footer:Fgt,selectedCount:Hgt,actions:qgt,cancelButton:Vgt,confirmButton:zgt},tH=({businessSlug:e,onSelect:t,onClose:n,selectedVariants:a=[]})=>{const{getFileUrl:r}=Er(),[i,o]=_.useState([]),[c,l]=_.useState([]),[d,f]=_.useState([]),[g,b]=_.useState(null),[w,C]=_.useState(!1),[S,k]=_.useState(""),[E,D]=_.useState(""),[R,P]=_.useState("newest"),[B,O]=_.useState(a),[$,U]=_.useState({has_next:!1,current_page:1}),F=_.useCallback(async()=>{try{const ee=await Be.get(`/api/business/${e}/locations/`);f(ee.data.results||ee.data||[])}catch(ee){console.error("  :",ee)}},[e]),H=_.useCallback(async(ee=1,Z=!1)=>{var A;C(!0);try{const G=R==="newest"?"-created_at":"created_at",Q=g?`&location=${g}`:"",ae=`&page=${ee}&page_size=20`,ne=await Be.get(`/api/v1/business/${e}/products/?sort=${G}${Q}${ae}`),re=[];(A=ne.data.products)==null||A.forEach(oe=>{var Ne;const me=oe.main_image,Ce=oe.unit_display||".";(Ne=oe.variants)==null||Ne.forEach(Ee=>{var ve;(ve=Ee.locations)==null||ve.forEach(Se=>{re.push({id:`${Ee.id}-${Se.id}`,variant_id:Ee.id,variant_name:Ee.name,product_name:oe.name,product_id:oe.id,full_name:`${oe.name} ${Ee.name||""}`.trim(),main_image:me,category_name:oe.category_name,attributes:Ee.attributes||[],location_id:Se.location_id,location_name:Se.location_name,location_price_id:Se.id,price:Se.price,quantity:Se.quantity,variant_on_location_id:Se.id,unit_display:Se.unit_display||Ce,is_active_on_marketplace:Se.is_active_on_marketplace||!1,is_active_for_offline_sale:Se.is_active_for_offline_sale||!1,is_active_on_own_site:Se.is_active_on_own_site||!1})})})}),Z?(o(oe=>[...oe,...re]),l(oe=>[...oe,...re])):(o(re),l(re)),ne.data.pagination&&U(ne.data.pagination)}catch(G){console.error("  :",G)}finally{C(!1)}},[e,R,g]);_.useEffect(()=>{F()},[F]),_.useEffect(()=>{o([]),l([]),U({has_next:!1,current_page:1}),H(1,!1)},[R,g]);const se=_.useCallback(async()=>{if(!$.has_next||w)return;const ee=$.current_page+1;await H(ee,!0)},[$,w,H]),K=ee=>{O(Z=>Z.some(G=>G.id===ee.id)?Z.filter(G=>G.id!==ee.id):[...Z,ee])},te=()=>{t(B),n()},J=ee=>B.some(Z=>Z.id===ee),z=()=>{k(E)},V=ee=>{ee.key==="Enter"&&z()},M=S?c.filter(ee=>{var Z,A;return ee.full_name.toLowerCase().includes(S.toLowerCase())||ee.product_name.toLowerCase().includes(S.toLowerCase())||((Z=ee.category_name)==null?void 0:Z.toLowerCase().includes(S.toLowerCase()))||((A=ee.location_name)==null?void 0:A.toLowerCase().includes(S.toLowerCase()))}):c;return s.jsx("div",{className:oa.overlay,onClick:n,children:s.jsxs("div",{className:oa.modal,onClick:ee=>ee.stopPropagation(),children:[s.jsxs("div",{className:oa.header,children:[s.jsx("h2",{className:oa.title,children:" "}),s.jsx("button",{className:oa.closeButton,onClick:n,children:s.jsx(da,{})})]}),s.jsxs("div",{className:oa.searchSection,children:[s.jsxs("div",{className:oa.searchBox,children:[s.jsx(hi,{className:oa.searchIcon}),s.jsx("input",{type:"text",placeholder:" ...",value:E,onChange:ee=>D(ee.target.value),onKeyPress:V}),s.jsx("button",{type:"button",className:oa.searchButton,onClick:z,disabled:w,children:w?s.jsx(Po,{className:oa.spinner}):""})]}),s.jsx("div",{className:oa.filterSection,children:s.jsxs("select",{className:oa.locationFilter,value:g||"",onChange:ee=>b(ee.target.value||null),children:[s.jsx("option",{value:"",children:" "}),d.map(ee=>s.jsx("option",{value:ee.id,children:ee.name},ee.id))]})}),s.jsxs("div",{className:oa.sortControl,children:[s.jsxs("button",{className:`${oa.sortButton} ${R==="newest"?oa.active:""}`,onClick:()=>P("newest"),children:[s.jsx(hQ,{}),""]}),s.jsxs("button",{className:`${oa.sortButton} ${R==="oldest"?oa.active:""}`,onClick:()=>P("oldest"),children:[s.jsx(fQ,{}),""]})]})]}),s.jsx("div",{className:oa.content,id:"product-selector-scrollable",children:w&&i.length===0?s.jsx("div",{className:oa.loading,children:"..."}):M.length===0?s.jsx("div",{className:oa.emptyState,children:s.jsx("p",{children:"  "})}):s.jsx(Q3,{dataLength:i.length,next:se,hasMore:$.has_next&&!S,loader:s.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",padding:"20px"},children:s.jsx(Fn,{size:"small"})}),scrollableTarget:"product-selector-scrollable",className:oa.productGrid,children:M.map(ee=>{var Z,A;return s.jsxs("div",{className:`${oa.productCard} ${J(ee.id)?oa.selected:""}`,onClick:()=>K(ee),children:[s.jsx("div",{className:oa.checkbox,children:J(ee.id)&&s.jsx(Xr,{})}),(Z=ee.main_image)!=null&&Z.image?s.jsx("img",{src:r(ee.main_image.image),alt:ee.full_name,className:oa.productImage,onError:G=>{G.target.onerror=null,G.target.src="https://via.placeholder.com/200x280?text=No+Image"}}):s.jsx("div",{className:oa.noImagePlaceholder,children:""}),s.jsxs("div",{className:oa.productInfo,children:[s.jsx("div",{className:oa.productName,children:ee.product_name}),s.jsx("div",{className:oa.productVariant,children:ee.variant_name||" "}),ee.attributes&&ee.attributes.length>0&&s.jsxs("div",{className:oa.attributes,children:[ee.attributes.slice(0,3).map((G,Q)=>s.jsxs("span",{className:oa.attribute,children:[G.attribute_name,": ",G.display_value||G.custom_value]},Q)),ee.attributes.length>3&&s.jsxs("span",{className:oa.attributeMore,children:["+",ee.attributes.length-3," "]})]}),s.jsxs("div",{className:oa.locationInfo,children:[s.jsx("div",{className:oa.locationName,children:ee.location_name}),s.jsxs("div",{className:oa.price,children:[(A=ee.price)==null?void 0:A.toLocaleString("ru-RU")," "]}),ee.quantity!==null&&s.jsxs("div",{className:oa.quantity,children:[ee.quantity," ."]})]}),s.jsx("div",{className:oa.productCategory,children:ee.category_name})]})]},ee.id)})})}),s.jsxs("div",{className:oa.footer,children:[s.jsxs("div",{className:oa.selectedCount,children:[": ",B.length]}),s.jsxs("div",{className:oa.actions,children:[s.jsx("button",{className:oa.cancelButton,onClick:n,children:""}),s.jsx("button",{className:oa.confirmButton,onClick:te,disabled:B.length===0,children:" "})]})]})]})})},nH=({businessSlug:e,onClose:t,onSuccess:n})=>{const{getFileUrl:a}=Er(),[r,i]=_.useState(!1),[o,c]=_.useState([]),[l,d]=_.useState([]),[f,g]=_.useState(!1),[b,w]=_.useState({batch_number:"",received_date:new Date().toISOString().slice(0,16),supplier:"",notes:"",received_by:""}),[C,S]=_.useState([]),[k,E]=_.useState([]),[D,R]=_.useState({document:null,name:"",description:""}),[P,B]=_.useState(null),[O,$]=_.useState(0),[U,F]=_.useState("");_.useEffect(()=>{H(),se()},[]);const H=async()=>{try{const Y=await Be.get(`/api/business/${e}/locations/`);c(Y.data.results||Y.data)}catch(Y){console.error("  :",Y)}},se=async()=>{try{const Y=await Be.get(`/api/business/${e}/employees/`);d(Y.data)}catch(Y){console.error("  :",Y)}},K=(Y,ae)=>{w(ne=>({...ne,[Y]:ae}))},te=()=>{g(!0)},J=Y=>{if(Y.length===0)return;const ae=Y.map(ne=>({variant_on_location_id:ne.variant_on_location_id,variant_id:ne.variant_id,location_id:ne.location_id,location_name:ne.location_name,quantity:1,cost_price:"",reserved_quantity:0,defects:[],is_available_for_sale:!0,is_active_on_marketplace:ne.is_active_on_marketplace||!1,is_active_for_offline_sale:ne.is_active_for_offline_sale||!1,is_active_on_own_site:ne.is_active_on_own_site||!1,variant_name:`${ne.product_name} ${ne.variant_name||""}`.trim(),variant_data:{name:ne.variant_name,main_image:ne.main_image,attributes:ne.attributes},price:ne.price,unit_display:ne.unit_display||"."}));S([...C,...ae]),g(!1)},z=Y=>{S(C.filter((ae,ne)=>ne!==Y))},V=(Y,ae,ne)=>{const re=[...C];re[Y]={...re[Y],[ae]:ne},S(re)},M=Y=>{const ae=typeof O=="number"?O:parseFloat(O)||0;if(!ae||ae<=0){alert("  ");return}if(!U.trim()){alert("  ");return}const ne=C[Y],re=ne.defects||[],oe=re.reduce((Ee,ve)=>{const Se=typeof ve.quantity=="number"?ve.quantity:parseFloat(ve.quantity)||0;return Ee+Se},0),me=typeof ne.quantity=="number"?ne.quantity:parseFloat(ne.quantity)||0;if(oe+ae>me){alert(`   (${oe+ae})      (${me})`);return}const Ce={quantity:ae,reason:U,created_at:new Date().toISOString()},Ne=[...C];Ne[Y]={...Ne[Y],defects:[...re,Ce]},S(Ne),B(null),$(0),F("")},ee=(Y,ae)=>{const ne=[...C];ne[Y].defects=ne[Y].defects.filter((re,oe)=>oe!==ae),S(ne)},Z=Y=>{R(ae=>({...ae,document:Y.target.files[0]}))},A=()=>{if(!D.document||!D.name){alert("     ");return}const Y={document:D.document,name:D.name,description:D.description,file_url:URL.createObjectURL(D.document)};E([...k,Y]),R({document:null,name:"",description:""})},G=Y=>{E(k.filter((ae,ne)=>ne!==Y))},Q=async Y=>{var ae,ne;if(Y.preventDefault(),C.length===0){alert("      ");return}i(!0);try{const re={...b,stocks:C.filter(oe=>oe.variant_on_location_id).map(oe=>{let me=oe.quantity;me===""||me===null||me===void 0?me=oe.unit_display==="."?1:.001:(me=typeof me=="number"?me:parseFloat(me),isNaN(me)?me=oe.unit_display==="."?1:.001:me=oe.unit_display==="."?Math.max(1,Math.floor(me)):Math.max(.001,me));let Ce=oe.reserved_quantity;return Ce===""||Ce===null||Ce===void 0?Ce=0:(Ce=typeof Ce=="number"?Ce:parseFloat(Ce),isNaN(Ce)?Ce=0:(Ce=oe.unit_display==="."?Math.max(0,Math.floor(Ce)):Math.max(0,Ce),Ce=Math.min(Ce,me))),{variant_on_location_id:oe.variant_on_location_id,quantity:me,cost_price:oe.cost_price||null,reserved_quantity:Ce,defects:oe.defects||[],is_available_for_sale:oe.is_available_for_sale,is_active_on_marketplace:oe.is_active_on_marketplace||!1,is_active_for_offline_sale:oe.is_active_for_offline_sale||!1,is_active_on_own_site:oe.is_active_on_own_site||!1}})};re.received_by||delete re.received_by,(!re.batch_number||re.batch_number.trim()==="")&&delete re.batch_number,await n(re,k)}catch(re){console.error("  :",re),alert(((ne=(ae=re.response)==null?void 0:ae.data)==null?void 0:ne.detail)||"   ")}finally{i(!1)}};return r?s.jsx("div",{className:$n.overlay,children:s.jsx("div",{className:$n.modal,children:s.jsx(Fn,{})})}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:$n.overlay,onClick:t,children:s.jsxs("div",{className:$n.modal,onClick:Y=>Y.stopPropagation(),children:[s.jsxs("div",{className:$n.header,children:[s.jsxs("h2",{className:$n.title,children:[s.jsx(Rc,{}),"  "]}),s.jsx("button",{className:$n.closeButton,onClick:t,children:s.jsx(da,{})})]}),s.jsxs("form",{onSubmit:Q,className:$n.form,children:[s.jsxs("div",{className:$n.formGroup,children:[s.jsx("label",{children:"  ()"}),s.jsx("input",{type:"text",value:b.batch_number,onChange:Y=>K("batch_number",Y.target.value),placeholder:"  ,   "}),s.jsx("small",{className:$n.helpText,children:"    "})]}),s.jsxs("div",{className:$n.formGroup,children:[s.jsx("label",{children:"  *"}),s.jsx("input",{type:"datetime-local",required:!0,value:b.received_date,onChange:Y=>K("received_date",Y.target.value)})]}),s.jsxs("div",{className:$n.formGroup,children:[s.jsx("label",{children:""}),s.jsx("input",{type:"text",value:b.supplier,onChange:Y=>K("supplier",Y.target.value),placeholder:" "})]}),s.jsxs("div",{className:$n.formGroup,children:[s.jsx("label",{children:" "}),s.jsxs("select",{value:b.received_by,onChange:Y=>K("received_by",Y.target.value),children:[s.jsx("option",{value:"",children:" "}),l.map(Y=>s.jsx("option",{value:Y.user||"",children:Y.name||Y.full_name||` #${Y.id}`},Y.id))]})]}),s.jsxs("div",{className:$n.formGroup,children:[s.jsx("label",{children:""}),s.jsx("textarea",{value:b.notes,onChange:Y=>K("notes",Y.target.value),rows:"3",placeholder:" "})]}),s.jsxs("div",{className:$n.stocksSection,children:[s.jsxs("div",{className:$n.stocksHeader,children:[s.jsxs("h3",{children:["   (",C.length,")"]}),s.jsxs("button",{type:"button",className:$n.addButton,onClick:te,children:[s.jsx(Va,{})," "]})]}),s.jsxs("div",{className:$n.stocksList,children:[C.map((Y,ae)=>{var ne;return s.jsxs("div",{className:$n.stockRow,children:[Y.variant_data&&s.jsxs("div",{className:$n.selectedProductCard,children:[(ne=Y.variant_data.main_image)!=null&&ne.image?s.jsx("img",{src:a(Y.variant_data.main_image.image),alt:Y.variant_name,className:$n.selectedProductImage,onError:re=>{re.target.onerror=null,re.target.src="https://via.placeholder.com/70x98?text=No+Image"}}):s.jsx("div",{className:$n.selectedNoImage,children:s.jsx(Rc,{size:40})}),s.jsxs("div",{className:$n.selectedProductInfo,children:[s.jsx("div",{className:$n.selectedProductName,children:Y.variant_name}),s.jsx("div",{className:$n.selectedProductVariant,children:Y.variant_data.name||" "}),Y.variant_data.attributes&&Y.variant_data.attributes.length>0&&s.jsx("div",{className:$n.selectedAttributes,children:Y.variant_data.attributes.map((re,oe)=>s.jsxs("span",{className:$n.attributeBadge,children:[re.attribute_name,": ",re.display_value||re.custom_value]},oe))})]})]}),s.jsxs("div",{className:$n.stockControls,children:[Y.location_name&&s.jsxs("div",{className:$n.locationDisplay,children:[s.jsx("strong",{children:":"})," ",Y.location_name,Y.price&&s.jsxs("span",{className:$n.priceDisplay,children:[": ",Y.price.toLocaleString("ru-RU")," "]})]}),s.jsxs("div",{className:$n.inputWithLabel,children:[s.jsx("label",{className:$n.fieldLabel,children:""}),s.jsx("input",{type:"number",min:Y.unit_display==="."?"1":"0.001",step:Y.unit_display==="."?"1":"0.001",value:Y.quantity===null||Y.quantity===void 0?"":Y.quantity,onChange:re=>{const oe=re.target.value;if(oe===""){V(ae,"quantity","");return}const me=Y.unit_display==="."?oe.includes(".")?Math.floor(parseFloat(oe)):parseInt(oe):parseFloat(oe);isNaN(me)||V(ae,"quantity",me)},onBlur:re=>{const oe=re.target.value;if(oe===""||oe===null||oe===void 0){const me=Y.unit_display==="."?1:.001;V(ae,"quantity",me)}else{const me=Y.unit_display==="."?Math.max(1,parseInt(oe)||1):Math.max(.001,parseFloat(oe)||.001);V(ae,"quantity",me)}},required:!0,className:$n.quantityInput,placeholder:"-"}),s.jsx("span",{className:$n.unitLabel,children:Y.unit_display||"."})]}),s.jsxs("div",{className:$n.inputWithLabel,children:[s.jsx("label",{className:$n.fieldLabel,children:""}),s.jsx("input",{type:"number",step:"0.01",min:"0",value:Y.cost_price,onChange:re=>V(ae,"cost_price",parseFloat(re.target.value)||""),className:$n.quantityInput,placeholder:"0.00",title:"  "}),s.jsx("span",{className:$n.currencyLabel,children:""})]}),s.jsxs("div",{className:$n.inputWithLabel,children:[s.jsx("label",{className:$n.fieldLabel,children:" "}),s.jsx("input",{type:"number",min:"0",step:Y.unit_display==="."?"1":"0.001",max:Y.quantity||0,value:Y.reserved_quantity===null||Y.reserved_quantity===void 0?"":Y.reserved_quantity,onChange:re=>{const oe=re.target.value;if(oe===""){V(ae,"reserved_quantity","");return}const me=Y.unit_display==="."?oe.includes(".")?Math.floor(parseFloat(oe)):parseInt(oe):parseFloat(oe);if(!isNaN(me)){const Ce=typeof Y.quantity=="number"?Y.quantity:parseFloat(Y.quantity)||0;V(ae,"reserved_quantity",Math.min(Math.max(0,me),Ce))}},onBlur:re=>{const oe=re.target.value;if(oe===""||oe===null||oe===void 0)V(ae,"reserved_quantity",0);else{const me=Y.unit_display==="."?Math.max(0,parseInt(oe)||0):Math.max(0,parseFloat(oe)||0),Ce=typeof Y.quantity=="number"?Y.quantity:parseFloat(Y.quantity)||0;V(ae,"reserved_quantity",Math.min(me,Ce))}},className:$n.quantityInput,placeholder:"0",title:`  (  ,  ${Y.quantity||0})`}),s.jsx("span",{className:$n.unitLabel,children:Y.unit_display||"."})]}),s.jsxs("label",{className:$n.checkboxLabel,children:[s.jsx("input",{type:"checkbox",checked:Y.is_available_for_sale,onChange:re=>V(ae,"is_available_for_sale",re.target.checked)}),""]}),s.jsxs("div",{className:$n.activeFlagsSection,children:[s.jsx("div",{className:$n.activeFlagsTitle,children:" :"}),s.jsxs("div",{className:$n.activeFlagsList,children:[s.jsxs("label",{className:$n.activeFlagItem,children:[s.jsx("input",{type:"checkbox",checked:Y.is_active_on_marketplace||!1,onChange:re=>V(ae,"is_active_on_marketplace",re.target.checked),disabled:!Y.quantity||Y.quantity===0,title:!Y.quantity||Y.quantity===0?"  ":""}),s.jsx("span",{className:$n.flagLabel,children:" "})]}),s.jsxs("label",{className:$n.activeFlagItem,children:[s.jsx("input",{type:"checkbox",checked:Y.is_active_for_offline_sale||!1,onChange:re=>V(ae,"is_active_for_offline_sale",re.target.checked),disabled:!Y.quantity||Y.quantity===0,title:!Y.quantity||Y.quantity===0?"  ":""}),s.jsx("span",{className:$n.flagLabel,children:" "})]}),s.jsxs("label",{className:$n.activeFlagItem,children:[s.jsx("input",{type:"checkbox",checked:Y.is_active_on_own_site||!1,onChange:re=>V(ae,"is_active_on_own_site",re.target.checked),disabled:!Y.quantity||Y.quantity===0,title:!Y.quantity||Y.quantity===0?"  ":""}),s.jsx("span",{className:$n.flagLabel,children:"  "})]})]})]}),s.jsx("button",{type:"button",className:$n.removeButton,onClick:()=>z(ae),children:s.jsx(Ir,{})})]}),P===ae?s.jsxs("div",{className:$n.defectForm,children:[s.jsxs("div",{className:$n.defectFormRow,children:[s.jsxs("div",{className:$n.inputWithLabel,children:[s.jsx("label",{className:$n.fieldLabel,children:" "}),s.jsx("input",{type:"number",min:"1",value:O,onChange:re=>$(parseInt(re.target.value)||0),className:$n.quantityInput,placeholder:"0"})]}),s.jsxs("div",{className:$n.inputWithLabel,children:[s.jsx("label",{className:$n.fieldLabel,children:" "}),s.jsx("input",{type:"text",value:U,onChange:re=>F(re.target.value),className:$n.textInput,placeholder:":  "})]})]}),s.jsxs("div",{className:$n.defectFormActions,children:[s.jsx("button",{type:"button",className:$n.addDefectBtn,onClick:()=>M(ae),children:""}),s.jsx("button",{type:"button",className:$n.cancelDefectBtn,onClick:()=>{B(null),$(0),F("")},children:""})]})]}):s.jsxs("div",{className:$n.defectSection,children:[s.jsx("button",{type:"button",className:$n.addDefectButton,onClick:()=>{B(ae),$(0),F("")},children:"  "}),Y.defects&&Y.defects.length>0&&s.jsx("div",{className:$n.defectsList,children:Y.defects.map((re,oe)=>s.jsxs("div",{className:$n.defectItem,children:[s.jsxs("span",{className:$n.defectQuantity,children:[re.quantity," ",Y.unit_display||"."]}),s.jsxs("span",{className:$n.defectReason,children:[" ",re.reason]}),s.jsx("button",{type:"button",className:$n.removeDefectBtn,onClick:()=>ee(ae,oe),children:s.jsx(Ir,{size:12})})]},oe))})]})]},ae)}),C.length===0&&s.jsx("div",{className:$n.emptyStocks,children:s.jsx("p",{children:"   "})})]})]}),s.jsxs("div",{className:$n.documentsSection,children:[s.jsx("div",{className:$n.sectionHeader,children:s.jsxs("h3",{children:[" (",k.length,")"]})}),s.jsx("input",{type:"file",id:"documentUploadCreate",style:{display:"none"},onChange:Z}),D.document?s.jsxs("div",{className:$n.documentUploadForm,children:[s.jsx("input",{type:"text",placeholder:"  ()",value:D.name,onChange:Y=>R(ae=>({...ae,name:Y.target.value}))}),s.jsx("textarea",{placeholder:" ()",value:D.description,onChange:Y=>R(ae=>({...ae,description:Y.target.value})),rows:"2"}),s.jsxs("div",{className:$n.documentUploadActions,children:[s.jsxs("button",{type:"button",onClick:A,disabled:!D.name,children:[s.jsx(Va,{}),""]}),s.jsx("button",{type:"button",onClick:()=>R({document:null,name:"",description:""}),children:""})]})]}):s.jsxs("button",{type:"button",className:$n.addDocumentButton,onClick:()=>document.getElementById("documentUploadCreate").click(),children:[s.jsx(Va,{})," "]}),k.length>0&&s.jsx("div",{className:$n.documentsList,children:k.map((Y,ae)=>s.jsxs("div",{className:$n.documentCard,children:[s.jsx(xu,{className:$n.documentIcon}),s.jsxs("div",{className:$n.documentInfo,children:[s.jsx("div",{className:$n.documentName,children:Y.name}),Y.description&&s.jsx("div",{className:$n.documentDescription,children:Y.description})]}),s.jsx("button",{type:"button",className:$n.deleteButton,onClick:()=>G(ae),children:s.jsx(Ir,{})})]},ae))})]}),s.jsxs("div",{className:$n.actions,children:[s.jsx("button",{type:"button",className:$n.cancelButton,onClick:t,children:""}),s.jsx("button",{type:"submit",className:$n.submitButton,disabled:r,children:" "})]})]})]})}),f&&s.jsx(tH,{businessSlug:e,onSelect:J,onClose:()=>g(!1)})]})},Ugt="_overlay_eeswu_1",Wgt="_modal_eeswu_15",Ygt="_header_eeswu_26",Ggt="_title_eeswu_38",Qgt="_closeButton_eeswu_48",Xgt="_content_eeswu_64",Kgt="_statusBadge_eeswu_68",Zgt="_status_eeswu_68",Jgt="_status_draft_eeswu_87",e0t="_status_completed_eeswu_93",t0t="_completedInfo_eeswu_99",n0t="_infoSection_eeswu_104",s0t="_stocksSection_eeswu_105",a0t="_stocksList_eeswu_109",r0t="_stockRow_eeswu_115",i0t="_selectedProductCard_eeswu_125",o0t="_selectedProductImage_eeswu_136",c0t="_selectedNoImage_eeswu_144",l0t="_selectedProductInfo_eeswu_156",u0t="_selectedProductName_eeswu_163",d0t="_selectedProductVariant_eeswu_169",h0t="_selectedAttributes_eeswu_174",f0t="_attributeBadge_eeswu_180",m0t="_stockControls_eeswu_190",p0t="_locationDisplay_eeswu_197",g0t="_priceDisplay_eeswu_211",_0t="_inputWithLabel_eeswu_217",v0t="_quantityInput_eeswu_224",x0t="_currencyLabel_eeswu_228",b0t="_fieldLabel_eeswu_232",y0t="_stockInfoReadonly_eeswu_239",w0t="_infoRow_eeswu_249",j0t="_infoLabel_eeswu_258",C0t="_infoValue_eeswu_264",S0t="_select_eeswu_125",N0t="_unitLabel_eeswu_292",k0t="_checkboxLabel_eeswu_310",I0t="_removeButton_eeswu_326",E0t="_emptyStocks_eeswu_341",T0t="_addButton_eeswu_347",D0t="_sectionHeader_eeswu_365",A0t="_editButton_eeswu_378",M0t="_infoGrid_eeswu_401",R0t="_infoItem_eeswu_407",B0t="_infoItemFull_eeswu_413",O0t="_summarySection_eeswu_457",L0t="_summaryItem_eeswu_466",$0t="_summaryLabel_eeswu_476",P0t="_summaryValue_eeswu_481",F0t="_stocksTable_eeswu_493",H0t="_tableHeader_eeswu_499",q0t="_tableRow_eeswu_512",V0t="_colProduct_eeswu_525",z0t="_colLocation_eeswu_530",U0t="_colQuantity_eeswu_534",W0t="_colReserved_eeswu_535",Y0t="_colDefect_eeswu_536",G0t="_colAvailable_eeswu_537",Q0t="_statusActive_eeswu_543",X0t="_statusInactive_eeswu_544",K0t="_emptyState_eeswu_562",Z0t="_footer_eeswu_577",J0t="_deleteBatchButton_eeswu_585",e_t="_completeButton_eeswu_609",t_t="_closeBtn_eeswu_633",n_t="_documentsSection_eeswu_648",s_t="_documentUploadForm_eeswu_653",a_t="_documentUploadActions_eeswu_680",r_t="_documentsList_eeswu_723",i_t="_documentCard_eeswu_730",o_t="_documentIcon_eeswu_740",c_t="_documentInfo_eeswu_745",l_t="_documentName_eeswu_752",u_t="_documentDescription_eeswu_757",d_t="_documentMeta_eeswu_762",h_t="_documentActions_eeswu_767",f_t="_viewButton_eeswu_772",m_t="_downloadButton_eeswu_773",p_t="_deleteButton_eeswu_774",g_t="_addDocumentButton_eeswu_806",__t="_slideUp_eeswu_1",v_t="_activeFlagsSection_eeswu_975",x_t="_activeFlagItem_eeswu_979",b_t="_actions_eeswu_1022",y_t="_defectFormRow_eeswu_1139",w_t="_defectFormActions_eeswu_1144",j_t="_addDefectBtn_eeswu_1149",C_t="_cancelDefectBtn_eeswu_1150",S_t="_addDefectButton_eeswu_1157",N_t="_textInput_eeswu_1166",k_t="_deleteStockButton_eeswu_1267",I_t="_colStatus_eeswu_1276",E_t="_colActions_eeswu_1280",T_t="_addStockButton_eeswu_1301",D_t="_actionButton_eeswu_1321",A_t="_editControls_eeswu_1338",M_t="_smallInput_eeswu_1344",R_t="_editableValue_eeswu_1354",B_t="_saveBtn_eeswu_1366",O_t="_cancelBtn_eeswu_1381",L_t="_defectSection_eeswu_1396",$_t="_defectForm_eeswu_1139",P_t="_defectsList_eeswu_1480",F_t="_defectItem_eeswu_1486",H_t="_defectQuantity_eeswu_1496",q_t="_defectReason_eeswu_1502",V_t="_removeDefectBtn_eeswu_1508",z_t="_activeFlagsTitle_eeswu_1542",U_t="_activeFlagsList_eeswu_1551",W_t="_flagLabel_eeswu_1588",Kt={overlay:Ugt,modal:Wgt,header:Ygt,title:Ggt,closeButton:Qgt,content:Xgt,statusBadge:Kgt,status:Zgt,status_draft:Jgt,status_completed:e0t,completedInfo:t0t,infoSection:n0t,stocksSection:s0t,stocksList:a0t,stockRow:r0t,selectedProductCard:i0t,selectedProductImage:o0t,selectedNoImage:c0t,selectedProductInfo:l0t,selectedProductName:u0t,selectedProductVariant:d0t,selectedAttributes:h0t,attributeBadge:f0t,stockControls:m0t,locationDisplay:p0t,priceDisplay:g0t,inputWithLabel:_0t,quantityInput:v0t,currencyLabel:x0t,fieldLabel:b0t,stockInfoReadonly:y0t,infoRow:w0t,infoLabel:j0t,infoValue:C0t,select:S0t,unitLabel:N0t,checkboxLabel:k0t,removeButton:I0t,emptyStocks:E0t,addButton:T0t,sectionHeader:D0t,editButton:A0t,infoGrid:M0t,infoItem:R0t,infoItemFull:B0t,summarySection:O0t,summaryItem:L0t,summaryLabel:$0t,summaryValue:P0t,stocksTable:F0t,tableHeader:H0t,tableRow:q0t,colProduct:V0t,colLocation:z0t,colQuantity:U0t,colReserved:W0t,colDefect:Y0t,colAvailable:G0t,statusActive:Q0t,statusInactive:X0t,emptyState:K0t,footer:Z0t,deleteBatchButton:J0t,completeButton:e_t,closeBtn:t_t,documentsSection:n_t,documentUploadForm:s_t,documentUploadActions:a_t,documentsList:r_t,documentCard:i_t,documentIcon:o_t,documentInfo:c_t,documentName:l_t,documentDescription:u_t,documentMeta:d_t,documentActions:h_t,viewButton:f_t,downloadButton:m_t,deleteButton:p_t,addDocumentButton:g_t,slideUp:__t,activeFlagsSection:v_t,activeFlagItem:x_t,actions:b_t,defectFormRow:y_t,defectFormActions:w_t,addDefectBtn:j_t,cancelDefectBtn:C_t,addDefectButton:S_t,textInput:N_t,deleteStockButton:k_t,colStatus:I_t,colActions:E_t,addStockButton:T_t,actionButton:D_t,editControls:A_t,smallInput:M_t,editableValue:R_t,saveBtn:B_t,cancelBtn:O_t,defectSection:L_t,defectForm:$_t,defectsList:P_t,defectItem:F_t,defectQuantity:H_t,defectReason:q_t,removeDefectBtn:V_t,activeFlagsTitle:z_t,activeFlagsList:U_t,flagLabel:W_t},sH=({businessSlug:e,batch:t,onClose:n,onUpdate:a,onDelete:r})=>{var pe;const{getFileUrl:i}=Er(),[o,c]=_.useState(!1),[l,d]=_.useState(!t.status||t.status==="draft"),[f,g]=_.useState(!1),[b,w]=_.useState(!1),[C,S]=_.useState([]),[k,E]=_.useState([]),[D,R]=_.useState({batch_number:t.batch_number,received_date:(pe=t.received_date)==null?void 0:pe.slice(0,16),supplier:t.supplier||"",notes:t.notes||"",received_by:t.received_by?String(t.received_by):""}),[P,B]=_.useState(t.documents||[]),[O,$]=_.useState({document:null,name:"",description:""}),[U,F]=_.useState([]),[H,se]=_.useState(null),[K,te]=_.useState(null),[J,z]=_.useState(0),[V,M]=_.useState(0),[ee,Z]=_.useState("");_.useEffect(()=>{A(),G()},[]),_.useEffect(()=>{t.stocks&&F(t.stocks.map(ce=>({...ce,variant_on_location_id:ce.variant_on_location_id,location_name:ce.location_name||"",unit_display:ce.unit_display||".",price:ce.selling_price||ce.price||null,is_active_on_marketplace:ce.is_active_on_marketplace||!1,is_active_for_offline_sale:ce.is_active_for_offline_sale||!1,is_active_on_own_site:ce.is_active_on_own_site||!1,variant_data:ce.variant_data||{product_name:ce.variant_name,main_image:ce.main_image||null,attributes:[]}})))},[t]);const A=async()=>{try{const ce=await Be.get(`/api/business/${e}/locations/`);S(ce.data.results||ce.data)}catch(ce){console.error("  :",ce)}},G=async()=>{try{const ce=await Be.get(`/api/business/${e}/employees/`);E(ce.data)}catch(ce){console.error("  :",ce)}},Q=(ce,Re)=>{R(Ae=>({...Ae,[ce]:Re}))},Y=ce=>{if(ce.length===0)return;const Re=ce.map(Ae=>({variant_on_location_id:Ae.variant_on_location_id,variant_id:Ae.variant_id,location_id:Ae.location_id,location_name:Ae.location_name,quantity:1,cost_price:"",reserved_quantity:0,defects:[],is_available_for_sale:!0,is_active_on_marketplace:Ae.is_active_on_marketplace||!1,is_active_for_offline_sale:Ae.is_active_for_offline_sale||!1,is_active_on_own_site:Ae.is_active_on_own_site||!1,variant_name:`${Ae.product_name} ${Ae.variant_name||""}`.trim(),variant_data:{name:Ae.variant_name,main_image:Ae.main_image,attributes:Ae.attributes},price:Ae.price,unit_display:Ae.unit_display||"."}));F([...U,...Re]),w(!1)},ae=ce=>{if(!V||V<=0){alert("  ");return}if(!ee.trim()){alert("  ");return}const Re=U[ce],Ae=Re.defects||[],ie=Ae.reduce((Fe,je)=>Fe+je.quantity,0);if(ie+V>Re.quantity){alert(`   (${ie+V})      (${Re.quantity})`);return}const ge={quantity:V,reason:ee,created_at:new Date().toISOString()},be=[...U];be[ce]={...be[ce],defects:[...Ae,ge]},F(be),te(null),M(0),Z("")},ne=(ce,Re)=>{const Ae=[...U];Ae[ce].defects=Ae[ce].defects.filter((ie,ge)=>ge!==Re),F(Ae)},re=ce=>{F(U.filter((Re,Ae)=>Ae!==ce))},oe=(ce,Re,Ae)=>{const ie=[...U];ie[ce]={...ie[ce],[Re]:Ae},F(ie)},me=async()=>{var ce,Re;c(!0);try{const Ae={...D,stocks:U.filter(ie=>ie.variant_on_location_id).map(ie=>{let ge=ie.quantity;ge===""||ge===null||ge===void 0?ge=ie.unit_display==="."?1:.001:(ge=typeof ge=="number"?ge:parseFloat(ge),isNaN(ge)?ge=ie.unit_display==="."?1:.001:ge=ie.unit_display==="."?Math.max(1,Math.floor(ge)):Math.max(.001,ge));let be=ie.reserved_quantity;be===""||be===null||be===void 0?be=0:(be=typeof be=="number"?be:parseFloat(be),isNaN(be)?be=0:(be=ie.unit_display==="."?Math.max(0,Math.floor(be)):Math.max(0,be),be=Math.min(be,ge)));const Fe=parseInt(ie.variant_on_location_id);if(isNaN(Fe))throw console.error("Invalid variant_on_location_id:",ie.variant_on_location_id),new Error(` ID     : ${ie.variant_name||" "}`);return{variant_on_location_id:Fe,quantity:ge,cost_price:ie.cost_price||null,reserved_quantity:be,defects:ie.defects||[],is_available_for_sale:ie.is_available_for_sale,is_active_on_marketplace:ie.is_active_on_marketplace||!1,is_active_for_offline_sale:ie.is_active_for_offline_sale||!1,is_active_on_own_site:ie.is_active_on_own_site||!1}})};Ae.received_by?Ae.received_by=parseInt(Ae.received_by)||null:delete Ae.received_by,console.log("Updating batch with data:",Ae),await Be.patch(`/api/business/${e}/batches/${t.id}/update/`,Ae),d(!1),a()}catch(Ae){console.error("  :",Ae),alert(((Re=(ce=Ae.response)==null?void 0:ce.data)==null?void 0:Re.detail)||"   ")}finally{c(!1)}},Ce=async()=>{var ce,Re;if(confirm(" ,    ?      .")){c(!0);try{await Be.post(`/api/business/${e}/batches/${t.id}/complete/`),a()}catch(Ae){console.error("  :",Ae),alert(((Re=(ce=Ae.response)==null?void 0:ce.data)==null?void 0:Re.detail)||"   ")}finally{c(!1)}}},Ne=async()=>{var Re,Ae;const ce=t.status==="completed"?" ,     ?           .":" ,    ?    .";if(confirm(ce)){c(!0);try{await r(t.id),n()}catch(ie){console.error("  :",ie);const ge=((Ae=(Re=ie.response)==null?void 0:Re.data)==null?void 0:Ae.detail)||"   ";alert(ge)}finally{c(!1)}}},Ee=ce=>{$(Re=>({...Re,document:ce.target.files[0]}))},ve=()=>{if(!O.document||!O.name){alert("     ");return}g(!0);const ce=new FormData;ce.append("document",O.document),ce.append("name",O.name),O.description&&ce.append("description",O.description),Be.post(`/api/business/${e}/batches/${t.id}/documents/`,ce).then(()=>{a(),$({document:null,name:"",description:""})}).catch(Re=>{console.error("  :",Re),alert("   ")}).finally(()=>g(!1))},Se=ce=>{confirm(" ?")&&Be.delete(`/api/business/${e}/batches/${t.id}/documents/${ce}/`).then(()=>a()).catch(Re=>{console.error("  :",Re),alert("   ")})},fe=ce=>new Date(ce).toLocaleDateString("ru-RU",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}),de=t.status==="completed";return s.jsxs("div",{className:Kt.overlay,onClick:n,children:[s.jsxs("div",{className:Kt.modal,onClick:ce=>ce.stopPropagation(),children:[s.jsxs("div",{className:Kt.header,children:[s.jsxs("h2",{className:Kt.title,children:[s.jsx(Rc,{})," ",t.batch_number]}),s.jsx("button",{className:Kt.closeButton,onClick:n,children:s.jsx(da,{})})]}),s.jsxs("div",{className:Kt.content,children:[s.jsxs("div",{className:Kt.statusBadge,children:[s.jsx("span",{className:`${Kt.status} ${Kt[`status_${t.status}`]}`,children:t.status==="completed"?" ":" "}),t.status==="completed"&&t.completed_at&&s.jsxs("div",{className:Kt.completedInfo,children:[" ",fe(t.completed_at),t.completed_by_name&&`  ${t.completed_by_name}`]})]}),s.jsxs("div",{className:Kt.infoSection,children:[s.jsxs("div",{className:Kt.sectionHeader,children:[s.jsx("h3",{children:"  "}),!de&&s.jsx("button",{className:Kt.editButton,onClick:()=>l?me():d(!0),disabled:o,children:l?s.jsx(ic,{}):""})]}),s.jsxs("div",{className:Kt.infoGrid,children:[s.jsxs("div",{className:Kt.infoItem,children:[s.jsxs("label",{children:[s.jsx(Vo,{}),"  "]}),l&&!de?s.jsx("input",{type:"datetime-local",value:D.received_date,onChange:ce=>Q("received_date",ce.target.value)}):s.jsx("span",{children:fe(t.received_date)})]}),s.jsxs("div",{className:Kt.infoItem,children:[s.jsxs("label",{children:[s.jsx(oc,{}),"  "]}),l&&!de?s.jsxs("select",{value:D.received_by,onChange:ce=>Q("received_by",ce.target.value),children:[s.jsx("option",{value:"",children:" "}),k.map(ce=>s.jsx("option",{value:ce.user||"",children:ce.name||ce.full_name||` #${ce.id}`},ce.id))]}):s.jsx("span",{children:t.received_by_name||"-"})]}),s.jsxs("div",{className:Kt.infoItem,children:[s.jsxs("label",{children:[s.jsx(cr,{})," "]}),l&&!de?s.jsx("input",{type:"text",value:D.supplier,onChange:ce=>Q("supplier",ce.target.value),placeholder:" "}):s.jsx("span",{children:t.supplier||"-"})]}),s.jsxs("div",{className:Kt.infoItemFull,children:[s.jsx("label",{children:" "}),l&&!de?s.jsx("textarea",{value:D.notes,onChange:ce=>Q("notes",ce.target.value),rows:"3",placeholder:" "}):s.jsx("span",{children:t.notes||"-"})]})]}),s.jsxs("div",{className:Kt.summarySection,children:[s.jsxs("div",{className:Kt.summaryItem,children:[s.jsx("span",{className:Kt.summaryLabel,children:" :"}),s.jsxs("span",{className:Kt.summaryValue,children:[t.total_cost||0," "]})]}),s.jsxs("div",{className:Kt.summaryItem,children:[s.jsx("span",{className:Kt.summaryLabel,children:" :"}),s.jsxs("span",{className:Kt.summaryValue,children:[t.total_selling_price||0," "]})]})]})]}),s.jsxs("div",{className:Kt.stocksSection,children:[s.jsxs("div",{className:Kt.sectionHeader,children:[s.jsxs("h3",{children:["   (",U.length,")"]}),!de&&s.jsxs("button",{className:Kt.addButton,onClick:()=>w(!0),children:[s.jsx(Va,{}),"  "]})]}),U.length>0?s.jsx("div",{className:Kt.stocksList,children:U.map((ce,Re)=>{var Ae,ie,ge;return s.jsxs("div",{className:Kt.stockRow,children:[ce.variant_data&&s.jsxs("div",{className:Kt.selectedProductCard,children:[(Ae=ce.variant_data.main_image)!=null&&Ae.image?s.jsx("img",{src:i(ce.variant_data.main_image.image),alt:ce.variant_name,className:Kt.selectedProductImage,onError:be=>{be.target.onerror=null,be.target.src="https://via.placeholder.com/70x98?text=No+Image"}}):s.jsx("div",{className:Kt.selectedNoImage,children:s.jsx(Rc,{size:40})}),s.jsxs("div",{className:Kt.selectedProductInfo,children:[s.jsx("div",{className:Kt.selectedProductName,children:ce.variant_name}),s.jsx("div",{className:Kt.selectedProductVariant,children:ce.variant_data.name||" "}),ce.variant_data.attributes&&ce.variant_data.attributes.length>0&&s.jsx("div",{className:Kt.selectedAttributes,children:ce.variant_data.attributes.map((be,Fe)=>s.jsxs("span",{className:Kt.attributeBadge,children:[be.attribute_name,": ",be.display_value||be.custom_value]},Fe))})]})]}),de?s.jsxs("div",{className:Kt.stockInfoReadonly,children:[s.jsxs("div",{className:Kt.infoRow,children:[s.jsx("span",{className:Kt.infoLabel,children:":"}),s.jsx("span",{className:Kt.infoValue,children:ce.location_name})]}),s.jsxs("div",{className:Kt.infoRow,children:[s.jsx("span",{className:Kt.infoLabel,children:":"}),s.jsxs("span",{className:Kt.infoValue,children:[ce.quantity," ",ce.unit_display||"."]})]}),s.jsxs("div",{className:Kt.infoRow,children:[s.jsx("span",{className:Kt.infoLabel,children:":"}),s.jsxs("span",{className:Kt.infoValue,children:[ce.reserved_quantity||0," ",ce.unit_display||"."]})]}),s.jsxs("div",{className:Kt.infoRow,children:[s.jsx("span",{className:Kt.infoLabel,children:":"}),s.jsxs("span",{className:Kt.infoValue,children:[ce.defect_quantity||0," ",ce.unit_display||"."]})]}),s.jsxs("div",{className:Kt.infoRow,children:[s.jsx("span",{className:Kt.infoLabel,children:":"}),s.jsxs("span",{className:Kt.infoValue,children:[ce.available_quantity||0," ",ce.unit_display||"."]})]}),s.jsxs("div",{className:Kt.infoRow,children:[s.jsx("span",{className:Kt.infoLabel,children:":"}),s.jsx("span",{className:ce.is_available_for_sale?Kt.statusActive:Kt.statusInactive,children:ce.is_available_for_sale?"":""})]})]}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:Kt.stockControls,children:[ce.location_name&&s.jsxs("div",{className:Kt.locationDisplay,children:[s.jsx("strong",{children:":"})," ",ce.location_name,ce.price&&s.jsxs("span",{className:Kt.priceDisplay,children:[": ",ce.price.toLocaleString("ru-RU")," "]})]}),s.jsxs("div",{className:Kt.inputWithLabel,children:[s.jsx("label",{className:Kt.fieldLabel,children:""}),s.jsx("input",{type:"number",min:"0.001",step:ce.unit_display==="."?"1":"0.001",value:ce.quantity===null||ce.quantity===void 0?"":ce.quantity,onChange:be=>{const Fe=be.target.value;if(Fe===""){oe(Re,"quantity","");return}const je=ce.unit_display==="."?Fe.includes(".")?Math.floor(parseFloat(Fe)):parseInt(Fe):parseFloat(Fe);isNaN(je)||oe(Re,"quantity",je)},onBlur:be=>{const Fe=be.target.value;if(Fe===""||Fe===null||Fe===void 0){const je=ce.unit_display==="."?1:.001;oe(Re,"quantity",je)}else{const je=ce.unit_display==="."?Math.max(1,parseInt(Fe)||1):Math.max(.001,parseFloat(Fe)||.001);oe(Re,"quantity",je)}},required:!0,className:Kt.quantityInput,placeholder:"-"}),s.jsx("span",{className:Kt.unitLabel,children:ce.unit_display||"."})]}),s.jsxs("div",{className:Kt.inputWithLabel,children:[s.jsx("label",{className:Kt.fieldLabel,children:""}),s.jsx("input",{type:"number",step:"0.01",min:"0",value:ce.cost_price,onChange:be=>oe(Re,"cost_price",parseFloat(be.target.value)||""),className:Kt.quantityInput,placeholder:"0.00",title:"  "}),s.jsx("span",{className:Kt.currencyLabel,children:""})]}),s.jsxs("div",{className:Kt.inputWithLabel,children:[s.jsx("label",{className:Kt.fieldLabel,children:" "}),s.jsx("input",{type:"number",min:"0",step:ce.unit_display==="."?"1":"0.001",max:ce.quantity||0,value:ce.reserved_quantity===null||ce.reserved_quantity===void 0?"":ce.reserved_quantity,onChange:be=>{const Fe=be.target.value;if(Fe===""){oe(Re,"reserved_quantity","");return}const je=ce.unit_display==="."?Fe.includes(".")?Math.floor(parseFloat(Fe)):parseInt(Fe):parseFloat(Fe);if(!isNaN(je)){const qe=typeof ce.quantity=="number"?ce.quantity:parseFloat(ce.quantity)||0;oe(Re,"reserved_quantity",Math.min(Math.max(0,je),qe))}},onBlur:be=>{const Fe=be.target.value;if(Fe===""||Fe===null||Fe===void 0)oe(Re,"reserved_quantity",0);else{const je=ce.unit_display==="."?Math.max(0,parseInt(Fe)||0):Math.max(0,parseFloat(Fe)||0),qe=typeof ce.quantity=="number"?ce.quantity:parseFloat(ce.quantity)||0;oe(Re,"reserved_quantity",Math.min(je,qe))}},className:Kt.quantityInput,placeholder:"0",title:`  (  ,  ${ce.quantity||0})`}),s.jsx("span",{className:Kt.unitLabel,children:ce.unit_display||"."})]}),s.jsxs("label",{className:Kt.checkboxLabel,children:[s.jsx("input",{type:"checkbox",checked:ce.is_available_for_sale,onChange:be=>oe(Re,"is_available_for_sale",be.target.checked)})," "]}),s.jsxs("div",{className:Kt.activeFlagsSection,children:[s.jsx("div",{className:Kt.activeFlagsTitle,children:" :"}),s.jsxs("div",{className:Kt.activeFlagsList,children:[s.jsxs("label",{className:Kt.activeFlagItem,children:[s.jsx("input",{type:"checkbox",checked:ce.is_active_on_marketplace||!1,onChange:be=>oe(Re,"is_active_on_marketplace",be.target.checked),disabled:!ce.quantity||ce.quantity===0,title:!ce.quantity||ce.quantity===0?"  ":""}),s.jsx("span",{className:Kt.flagLabel,children:" "})]}),s.jsxs("label",{className:Kt.activeFlagItem,children:[s.jsx("input",{type:"checkbox",checked:ce.is_active_for_offline_sale||!1,onChange:be=>oe(Re,"is_active_for_offline_sale",be.target.checked),disabled:!ce.quantity||ce.quantity===0,title:!ce.quantity||ce.quantity===0?"  ":""}),s.jsx("span",{className:Kt.flagLabel,children:" "})]}),s.jsxs("label",{className:Kt.activeFlagItem,children:[s.jsx("input",{type:"checkbox",checked:ce.is_active_on_own_site||!1,onChange:be=>oe(Re,"is_active_on_own_site",be.target.checked),disabled:!ce.quantity||ce.quantity===0,title:!ce.quantity||ce.quantity===0?"  ":""}),s.jsx("span",{className:Kt.flagLabel,children:"  "})]})]})]}),s.jsx("button",{type:"button",className:Kt.removeButton,onClick:()=>re(Re),children:s.jsx(Ir,{})})]}),K===Re?s.jsxs("div",{className:Kt.defectForm,children:[s.jsxs("div",{className:Kt.defectFormRow,children:[s.jsxs("div",{className:Kt.inputWithLabel,children:[s.jsx("label",{className:Kt.fieldLabel,children:" "}),s.jsx("input",{type:"number",min:"0.001",step:((ie=U[K])==null?void 0:ie.unit_display)==="."?"1":"0.001",value:V,onChange:be=>{var qe;const je=(((qe=U[K])==null?void 0:qe.unit_display)||".")==="."?parseInt(be.target.value)||0:parseFloat(be.target.value)||0;M(je)},className:Kt.quantityInput,placeholder:"0"}),s.jsx("span",{className:Kt.unitLabel,children:((ge=U[K])==null?void 0:ge.unit_display)||"."})]}),s.jsxs("div",{className:Kt.inputWithLabel,children:[s.jsx("label",{className:Kt.fieldLabel,children:" "}),s.jsx("input",{type:"text",value:ee,onChange:be=>Z(be.target.value),className:Kt.textInput,placeholder:":  "})]})]}),s.jsxs("div",{className:Kt.defectFormActions,children:[s.jsx("button",{type:"button",className:Kt.addDefectBtn,onClick:()=>ae(Re),children:""}),s.jsx("button",{type:"button",className:Kt.cancelDefectBtn,onClick:()=>{te(null),M(0),Z("")},children:""})]})]}):s.jsxs("div",{className:Kt.defectSection,children:[s.jsx("button",{type:"button",className:Kt.addDefectButton,onClick:()=>{te(Re),M(0),Z("")},children:"  "}),ce.defects&&ce.defects.length>0&&s.jsx("div",{className:Kt.defectsList,children:ce.defects.map((be,Fe)=>s.jsxs("div",{className:Kt.defectItem,children:[s.jsxs("span",{className:Kt.defectQuantity,children:[be.quantity," ",ce.unit_display||"."]}),s.jsxs("span",{className:Kt.defectReason,children:[" ",be.reason]}),s.jsx("button",{type:"button",className:Kt.removeDefectBtn,onClick:()=>ne(Re,Fe),children:s.jsx(Ir,{size:12})})]},Fe))})]})]})]},Re)})}):s.jsxs("div",{className:Kt.emptyState,children:[s.jsx(Rc,{}),s.jsx("p",{children:"   "})]})]}),s.jsxs("div",{className:Kt.documentsSection,children:[s.jsxs("div",{className:Kt.sectionHeader,children:[s.jsxs("h3",{children:[" (",P.length,")"]}),!de&&s.jsxs("button",{className:Kt.addDocumentButton,onClick:()=>document.getElementById("documentUpload").click(),children:[s.jsx(Va,{}),"  "]})]}),s.jsx("input",{type:"file",id:"documentUpload",style:{display:"none"},onChange:Ee}),O.document&&s.jsxs("div",{className:Kt.documentUploadForm,children:[s.jsx("input",{type:"text",placeholder:"  *",value:O.name,onChange:ce=>$(Re=>({...Re,name:ce.target.value}))}),s.jsx("textarea",{placeholder:" ()",value:O.description,onChange:ce=>$(Re=>({...Re,description:ce.target.value})),rows:"2"}),s.jsxs("div",{className:Kt.documentUploadActions,children:[s.jsx("button",{type:"button",onClick:ve,disabled:f||!O.name,children:f?"...":""}),s.jsx("button",{type:"button",onClick:()=>$({document:null,name:"",description:""}),children:""})]})]}),P&&P.length>0?s.jsx("div",{className:Kt.documentsList,children:P.map(ce=>s.jsxs("div",{className:Kt.documentCard,children:[s.jsx(xu,{className:Kt.documentIcon}),s.jsxs("div",{className:Kt.documentInfo,children:[s.jsx("div",{className:Kt.documentName,children:ce.name}),ce.description&&s.jsx("div",{className:Kt.documentDescription,children:ce.description}),s.jsxs("div",{className:Kt.documentMeta,children:[ce.uploaded_by_name&&s.jsxs("span",{children:[": ",ce.uploaded_by_name]}),ce.uploaded_at&&s.jsxs("span",{children:[": ",fe(ce.uploaded_at)]})]})]}),s.jsxs("div",{className:Kt.documentActions,children:[ce.file_url&&s.jsxs(s.Fragment,{children:[s.jsx("a",{href:ce.file_url,target:"_blank",rel:"noopener noreferrer",className:Kt.viewButton,children:s.jsx(fo,{})}),s.jsx("a",{href:ce.file_url,download:!0,className:Kt.downloadButton,children:s.jsx(Hb,{})})]}),!de&&s.jsx("button",{className:Kt.deleteButton,onClick:()=>Se(ce.id),children:s.jsx(Ir,{})})]})]},ce.id))}):s.jsxs("div",{className:Kt.emptyState,children:[s.jsx(xu,{}),s.jsx("p",{children:" "})]})]})]}),s.jsxs("div",{className:Kt.footer,children:[!de&&s.jsxs(s.Fragment,{children:[s.jsxs("button",{className:Kt.deleteBatchButton,onClick:Ne,disabled:o,children:[s.jsx(Ol,{}),"  "]}),s.jsx("button",{className:Kt.completeButton,onClick:Ce,disabled:o,children:"  "})]}),s.jsx("button",{className:Kt.closeBtn,onClick:n,children:""})]})]}),b&&s.jsx(tH,{businessSlug:e,onSelect:Y,onClose:()=>w(!1)})]})},Y_t="_overlay_ksc5b_1",G_t="_modal_ksc5b_15",Q_t="_header_ksc5b_26",X_t="_title_ksc5b_38",K_t="_closeButton_ksc5b_48",Z_t="_content_ksc5b_64",J_t="_statusBadge_ksc5b_68",evt="_status_ksc5b_68",tvt="_status_draft_ksc5b_88",nvt="_status_completed_ksc5b_94",svt="_status_cancelled_ksc5b_100",avt="_completedInfo_ksc5b_106",rvt="_infoSection_ksc5b_111",ivt="_itemsSection_ksc5b_112",ovt="_documentsSection_ksc5b_113",cvt="_locationsInfo_ksc5b_126",lvt="_locationCard_ksc5b_137",uvt="_locationIcon_ksc5b_148",dvt="_locationLabel_ksc5b_154",hvt="_locationName_ksc5b_162",fvt="_arrow_ksc5b_168",mvt="_infoRow_ksc5b_177",pvt="_icon_ksc5b_185",gvt="_label_ksc5b_191",_vt="_value_ksc5b_197",vvt="_formGroup_ksc5b_202",xvt="_itemsList_ksc5b_239",bvt="_itemCard_ksc5b_245",yvt="_itemHeader_ksc5b_257",wvt="_itemInfo_ksc5b_264",jvt="_itemImage_ksc5b_270",Cvt="_noImage_ksc5b_278",Svt="_itemMeta_ksc5b_299",Nvt="_itemDetails_ksc5b_305",kvt="_quantityInfo_ksc5b_313",Ivt="_quantityLabel_ksc5b_319",Evt="_quantityValue_ksc5b_324",Tvt="_itemNotes_ksc5b_330",Dvt="_notesLabel_ksc5b_337",Avt="_notesValue_ksc5b_341",Mvt="_removeButton_ksc5b_345",Rvt="_sectionHeader_ksc5b_360",Bvt="_emptyState_ksc5b_367",Ovt="_documentsList_ksc5b_382",Lvt="_documentCard_ksc5b_389",$vt="_documentIcon_ksc5b_399",Pvt="_documentInfo_ksc5b_405",Fvt="_documentName_ksc5b_412",Hvt="_documentDescription_ksc5b_418",qvt="_documentMeta_ksc5b_423",Vvt="_documentActions_ksc5b_428",zvt="_downloadButton_ksc5b_434",Uvt="_deleteButton_ksc5b_435",Wvt="_addDocumentSection_ksc5b_462",Yvt="_addDocumentButton_ksc5b_470",Gvt="_footer_ksc5b_495",Qvt="_editButton_ksc5b_505",Xvt="_saveButton_ksc5b_506",Kvt="_completeButton_ksc5b_507",Zvt="_cancelButton_ksc5b_508",Jvt="_cancelEditButton_ksc5b_509",ext="_deleteBatchButton_ksc5b_510",txt="_closeBtn_ksc5b_511",zn={overlay:Y_t,modal:G_t,header:Q_t,title:X_t,closeButton:K_t,content:Z_t,statusBadge:J_t,status:evt,status_draft:tvt,status_completed:nvt,status_cancelled:svt,completedInfo:avt,infoSection:rvt,itemsSection:ivt,documentsSection:ovt,locationsInfo:cvt,locationCard:lvt,locationIcon:uvt,locationLabel:dvt,locationName:hvt,arrow:fvt,infoRow:mvt,icon:pvt,label:gvt,value:_vt,formGroup:vvt,itemsList:xvt,itemCard:bvt,itemHeader:yvt,itemInfo:wvt,itemImage:jvt,noImage:Cvt,itemMeta:Svt,itemDetails:Nvt,quantityInfo:kvt,quantityLabel:Ivt,quantityValue:Evt,itemNotes:Tvt,notesLabel:Dvt,notesValue:Avt,removeButton:Mvt,sectionHeader:Rvt,emptyState:Bvt,documentsList:Ovt,documentCard:Lvt,documentIcon:$vt,documentInfo:Pvt,documentName:Fvt,documentDescription:Hvt,documentMeta:qvt,documentActions:Vvt,downloadButton:zvt,deleteButton:Uvt,addDocumentSection:Wvt,addDocumentButton:Yvt,footer:Gvt,editButton:Qvt,saveButton:Xvt,completeButton:Kvt,cancelButton:Zvt,cancelEditButton:Jvt,deleteBatchButton:ext,closeBtn:txt},aH=({businessSlug:e,transfer:t,onClose:n,onUpdate:a,onDelete:r})=>{const{getFileUrl:i}=Er(),[o,c]=_.useState(!1),[l,d]=_.useState(t.status==="draft"),[f,g]=_.useState(!1),[b,w]=_.useState({notes:t.notes||""}),[C,S]=_.useState(t.documents||[]),[k,E]=_.useState({document:null,name:"",description:""}),[D,R]=_.useState(t.items||[]);_.useEffect(()=>{w({notes:t.notes||""}),S(t.documents||[]),R(t.items||[]),d(t.status==="draft")},[t]);const P=Z=>Z?new Date(Z).toLocaleDateString("ru-RU",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}):" ",O=(()=>{switch(t.status){case"completed":return{text:" ",className:zn.status_completed};case"cancelled":return{text:" ",className:zn.status_cancelled};default:return{text:" ",className:zn.status_draft}}})(),$=t.status==="draft",U=t.status==="draft"&&D.length>0,F=t.status==="completed",H=(Z,A)=>{w(G=>({...G,[Z]:A}))},se=async()=>{var Z,A;c(!0);try{await Be.patch(`/api/business/${e}/transfers/${t.id}/update/`,b),d(!1),a()}catch(G){console.error("  :",G),alert(((A=(Z=G.response)==null?void 0:Z.data)==null?void 0:A.detail)||"   ")}finally{c(!1)}},K=async()=>{var Z,A;if(confirm(" ,    ?      .")){c(!0);try{await Be.post(`/api/business/${e}/transfers/${t.id}/complete/`),a()}catch(G){console.error("  :",G),alert(((A=(Z=G.response)==null?void 0:Z.data)==null?void 0:A.detail)||"   ")}finally{c(!1)}}},te=async()=>{var Z,A;if(confirm(" ,    ?      .")){c(!0);try{await Be.post(`/api/business/${e}/transfers/${t.id}/cancel/`),a()}catch(G){console.error("  :",G),alert(((A=(Z=G.response)==null?void 0:Z.data)==null?void 0:A.detail)||"   ")}finally{c(!1)}}},J=async()=>{var A,G;const Z=t.status==="completed"?" ,     ?     .":" ,    ?    .";if(confirm(Z)){c(!0);try{await r(t.id),n()}catch(Q){console.error("  :",Q);const Y=((G=(A=Q.response)==null?void 0:A.data)==null?void 0:G.detail)||"   ";alert(Y)}finally{c(!1)}}},z=Z=>{E(A=>({...A,document:Z.target.files[0]}))},V=async()=>{var Z,A;if(!k.document||!k.name){alert("     ");return}g(!0);try{const G=new FormData;G.append("document",k.document),G.append("name",k.name),k.description&&G.append("description",k.description);const Q=await Be.post(`/api/business/${e}/transfers/${t.id}/add-document/`,G,{headers:{"Content-Type":"multipart/form-data"}});S([...C,Q.data]),E({document:null,name:"",description:""}),a()}catch(G){console.error("  :",G),alert(((A=(Z=G.response)==null?void 0:Z.data)==null?void 0:A.detail)||"   ")}finally{g(!1)}},M=async Z=>{var A,G;if(confirm(" ,     ?"))try{await Be.delete(`/api/business/${e}/transfers/${t.id}/delete-document/${Z}/`),S(C.filter(Q=>Q.id!==Z)),a()}catch(Q){console.error("  :",Q),alert(((G=(A=Q.response)==null?void 0:A.data)==null?void 0:G.detail)||"   ")}},ee=async Z=>{var A,G;if(confirm(" ,       ?"))try{await Be.delete(`/api/business/${e}/transfers/${t.id}/remove-item/${Z}/`),R(D.filter(Q=>Q.id!==Z)),a()}catch(Q){console.error("  :",Q),alert(((G=(A=Q.response)==null?void 0:A.data)==null?void 0:G.detail)||"   ")}};return s.jsx("div",{className:zn.overlay,onClick:n,children:s.jsxs("div",{className:zn.modal,onClick:Z=>Z.stopPropagation(),children:[s.jsxs("div",{className:zn.header,children:[s.jsxs("div",{className:zn.title,children:[s.jsx(Jc,{}),s.jsxs("span",{children:[" ",t.transfer_number]})]}),s.jsx("button",{className:zn.closeButton,onClick:n,children:s.jsx(da,{})})]}),s.jsxs("div",{className:zn.content,children:[s.jsxs("div",{className:zn.statusBadge,children:[s.jsx("span",{className:`${zn.status} ${O.className}`,children:O.text}),t.completed_at&&s.jsxs("div",{className:zn.completedInfo,children:[": ",P(t.completed_at),t.completed_by_name&&`  ${t.completed_by_name}`]})]}),s.jsxs("div",{className:zn.infoSection,children:[s.jsx("h3",{children:"  "}),s.jsxs("div",{className:zn.locationsInfo,children:[s.jsxs("div",{className:zn.locationCard,children:[s.jsx(cr,{className:zn.locationIcon}),s.jsxs("div",{children:[s.jsx("div",{className:zn.locationLabel,children:" "}),s.jsx("div",{className:zn.locationName,children:t.from_location_name})]})]}),s.jsx("div",{className:zn.arrow,children:s.jsx(Pb,{})}),s.jsxs("div",{className:zn.locationCard,children:[s.jsx(cr,{className:zn.locationIcon}),s.jsxs("div",{children:[s.jsx("div",{className:zn.locationLabel,children:" "}),s.jsx("div",{className:zn.locationName,children:t.to_location_name})]})]})]}),s.jsxs("div",{className:zn.infoRow,children:[s.jsx(Vo,{className:zn.icon}),s.jsx("span",{className:zn.label,children:":"}),s.jsx("span",{className:zn.value,children:P(t.created_at)})]}),t.created_by_name&&s.jsxs("div",{className:zn.infoRow,children:[s.jsx(oc,{className:zn.icon}),s.jsx("span",{className:zn.label,children:":"}),s.jsx("span",{className:zn.value,children:t.created_by_name})]}),l?s.jsxs("div",{className:zn.formGroup,children:[s.jsx("label",{children:""}),s.jsx("textarea",{value:b.notes,onChange:Z=>H("notes",Z.target.value),rows:3,disabled:o})]}):t.notes&&s.jsxs("div",{className:zn.infoRow,children:[s.jsx("span",{className:zn.label,children:":"}),s.jsx("span",{className:zn.value,children:t.notes})]})]}),s.jsxs("div",{className:zn.itemsSection,children:[s.jsx("div",{className:zn.sectionHeader,children:s.jsxs("h3",{children:["   (",D.length,")"]})}),D.length===0?s.jsxs("div",{className:zn.emptyState,children:[s.jsx(Jc,{}),s.jsx("p",{children:"   "})]}):s.jsx("div",{className:zn.itemsList,children:D.map(Z=>{var A,G,Q;return s.jsxs("div",{className:zn.itemCard,children:[s.jsxs("div",{className:zn.itemHeader,children:[s.jsxs("div",{className:zn.itemInfo,children:[(G=(A=Z.variant_data)==null?void 0:A.main_image)!=null&&G.image?s.jsx("img",{src:i(Z.variant_data.main_image.image),alt:Z.variant_name,className:zn.itemImage,onError:Y=>{Y.target.onerror=null,Y.target.src="https://via.placeholder.com/70x98?text=No+Image"}}):s.jsx("div",{className:zn.noImage,children:" "}),s.jsxs("div",{children:[s.jsx("h4",{children:Z.variant_name}),s.jsxs("p",{className:zn.itemMeta,children:[": ",Z.batch_number||" "]}),s.jsxs("p",{className:zn.itemMeta,children:[": ",Z.location_name]})]})]}),$&&s.jsx("button",{className:zn.removeButton,onClick:()=>ee(Z.id),title:" ",children:s.jsx(Ir,{})})]}),s.jsxs("div",{className:zn.itemDetails,children:[s.jsxs("div",{className:zn.quantityInfo,children:[s.jsx("span",{className:zn.quantityLabel,children:":"}),s.jsxs("span",{className:zn.quantityValue,children:[parseFloat(Z.quantity).toLocaleString("ru-RU")," ",((Q=Z.variant_data)==null?void 0:Q.unit_display)||"."]})]}),Z.notes&&s.jsxs("div",{className:zn.itemNotes,children:[s.jsx("span",{className:zn.notesLabel,children:":"}),s.jsx("span",{className:zn.notesValue,children:Z.notes})]})]})]},Z.id)})})]}),s.jsxs("div",{className:zn.documentsSection,children:[s.jsx("div",{className:zn.sectionHeader,children:s.jsxs("h3",{children:[" (",C.length,")"]})}),C.length===0?s.jsxs("div",{className:zn.emptyState,children:[s.jsx(xu,{}),s.jsx("p",{children:" "})]}):s.jsx("div",{className:zn.documentsList,children:C.map(Z=>s.jsxs("div",{className:zn.documentCard,children:[s.jsx(xu,{className:zn.documentIcon}),s.jsxs("div",{className:zn.documentInfo,children:[s.jsx("div",{className:zn.documentName,children:Z.name}),Z.description&&s.jsx("div",{className:zn.documentDescription,children:Z.description}),Z.uploaded_by_name&&s.jsxs("div",{className:zn.documentMeta,children:[": ",Z.uploaded_by_name,"  ",P(Z.uploaded_at)]})]}),s.jsxs("div",{className:zn.documentActions,children:[Z.file_url&&s.jsx("a",{href:Z.file_url,target:"_blank",rel:"noopener noreferrer",className:zn.downloadButton,title:"",children:s.jsx(xu,{})}),$&&s.jsx("button",{className:zn.deleteButton,onClick:()=>M(Z.id),title:"",children:s.jsx(Ir,{})})]})]},Z.id))}),$&&s.jsxs("div",{className:zn.addDocumentSection,children:[s.jsxs("div",{className:zn.formGroup,children:[s.jsx("label",{children:" "}),s.jsx("input",{type:"text",value:k.name,onChange:Z=>E(A=>({...A,name:Z.target.value})),placeholder:": ,  ",disabled:f})]}),s.jsxs("div",{className:zn.formGroup,children:[s.jsx("label",{children:" ()"}),s.jsx("input",{type:"text",value:k.description,onChange:Z=>E(A=>({...A,description:Z.target.value})),placeholder:" ",disabled:f})]}),s.jsxs("div",{className:zn.formGroup,children:[s.jsx("label",{children:""}),s.jsx("input",{type:"file",onChange:z,disabled:f,accept:".pdf,.doc,.docx,.jpg,.jpeg,.png"})]}),s.jsx("button",{className:zn.addDocumentButton,onClick:V,disabled:f||!k.document||!k.name,children:f?s.jsx(Fn,{}):s.jsxs(s.Fragment,{children:[s.jsx(Va,{}),"  "]})})]})]})]}),s.jsxs("div",{className:zn.footer,children:[l?s.jsxs(s.Fragment,{children:[s.jsx("button",{className:zn.saveButton,onClick:se,disabled:o,children:o?s.jsx(Fn,{}):s.jsxs(s.Fragment,{children:[s.jsx(ic,{})," "]})}),s.jsx("button",{className:zn.cancelEditButton,onClick:()=>{d(!1),w({notes:t.notes||""})},disabled:o,children:""})]}):s.jsxs(s.Fragment,{children:[$&&s.jsx("button",{className:zn.editButton,onClick:()=>d(!0),disabled:o,children:""}),U&&s.jsx("button",{className:zn.completeButton,onClick:K,disabled:o,children:o?s.jsx(Fn,{}):s.jsxs(s.Fragment,{children:[s.jsx(Xr,{}),"  "]})}),F&&s.jsx("button",{className:zn.cancelButton,onClick:te,disabled:o,children:o?s.jsx(Fn,{}):s.jsxs(s.Fragment,{children:[s.jsx(rQ,{}),"  "]})}),$&&s.jsx("button",{className:zn.deleteBatchButton,onClick:J,disabled:o,children:o?s.jsx(Fn,{}):s.jsxs(s.Fragment,{children:[s.jsx(Ir,{})," "]})})]}),s.jsx("button",{className:zn.closeBtn,onClick:n,disabled:o,children:""})]})]})})},nxt=()=>{const{business_slug:e}=ha(),t=Is(),[n,a]=ep(),[r,i]=_.useState(()=>n.get("tab")==="transfers"?"transfers":"batches"),[o,c]=_.useState([]),[l,d]=_.useState([]),[f,g]=_.useState(!0),[b,w]=_.useState(null),[C,S]=_.useState(!1),[k,E]=_.useState(null),[D,R]=_.useState(!1),[P,B]=_.useState(null),[O,$]=_.useState(!1);_.useEffect(()=>{const A=n.get("tab");A==="transfers"?(r!=="transfers"&&i("transfers"),r==="transfers"&&U(!1)):A!=="transfers"&&r==="transfers"&&A!==null&&i("batches")},[n]),_.useEffect(()=>{r==="batches"?H():r==="transfers"&&U()},[e,r]);const U=async(A=!0)=>{try{A&&g(!0);const G=await Be.get(`/api/business/${e}/transfers/`);d(G.data)}catch(G){console.error("  :",G),w("   ")}finally{A&&g(!1)}};_.useEffect(()=>{const A=n.get("batch");A&&!k&&!f&&(F(parseInt(A)),n.delete("batch"),a(n,{replace:!0}))},[n,f]);const F=async(A,G=!0)=>{try{G&&g(!0);const Q=await Be.get(`/api/business/${e}/batches/${A}/`);E(Q.data),G&&R(!0)}catch(Q){console.error("   :",Q),G&&alert("    ")}finally{G&&g(!1)}},H=async(A=!0)=>{try{A&&g(!0);const G=await Be.get(`/api/business/${e}/batches/`);c(G.data)}catch(G){console.error("  :",G),w("   ")}finally{A&&g(!1)}},se=async(A,G)=>{try{const Y=(await Be.post(`/api/business/${e}/batches/create/`,A)).data.id;if(G&&G.length>0)for(const ae of G){const ne=new FormData;ne.append("document",ae.document),ne.append("name",ae.name),ae.description&&ne.append("description",ae.description),await Be.post(`/api/business/${e}/batches/${Y}/add-document/`,ne,{headers:{"Content-Type":"multipart/form-data"}})}return await H(),S(!1),!0}catch(Q){throw console.error("  :",Q),Q}},K=async A=>{var Y,ae;const G=o.find(ne=>ne.id===A),Q=G&&G.status==="completed"?" ,     ?           .":" ,     ?    .";if(window.confirm(Q))try{await Be.delete(`/api/business/${e}/batches/${A}/delete/`),c(o.filter(ne=>ne.id!==A)),await H(!1)}catch(ne){console.error("  :",ne);const re=((ae=(Y=ne.response)==null?void 0:Y.data)==null?void 0:ae.detail)||"   ";alert(re)}},te=async A=>{try{const G=await Be.get(`/api/business/${e}/batches/${A}/`);E(G.data),R(!0)}catch(G){console.error("   :",G)}},J=()=>{R(!1),E(null),H()},z=async()=>{await H(!1),k&&k.id&&await F(k.id,!1)},V=async A=>{try{const Q=(await Be.get(`/api/business/${e}/transfers/${A}/`)).data;Q.status==="draft"?t(`/business/${e}/transfers/create?transfer_id=${A}`):(B(Q),$(!0))}catch(G){console.error("   :",G),alert("    ")}},M=async A=>{var G,Q;if(A){const Y=l.find(ne=>ne.id===A);if(!Y)return;const ae=Y.status==="completed"?" ,     ?     .":" ,     ?    .";if(!window.confirm(ae))return;try{await Be.delete(`/api/business/${e}/transfers/${A}/delete/`),d(l.filter(ne=>ne.id!==A)),await U(!1)}catch(ne){console.error("  :",ne);const re=((Q=(G=ne.response)==null?void 0:G.data)==null?void 0:Q.detail)||"   ";alert(re)}}else await U(!1)},ee=()=>{$(!1),B(null),U(!1)},Z=async()=>{if(await U(!1),P&&P.id)try{const A=await Be.get(`/api/business/${e}/transfers/${P.id}/`);B(A.data)}catch(A){console.error("   :",A)}};return f?s.jsx("div",{className:ri.loadingContainer,children:s.jsx(Fn,{})}):b?s.jsxs("div",{className:ri.errorContainer,children:[s.jsx("p",{children:b}),s.jsx("button",{onClick:H,children:" "})]}):s.jsxs("div",{className:ri.container,children:[s.jsxs("div",{className:ri.header,children:[s.jsxs("div",{className:ri.titleSection,children:[r==="batches"?s.jsx(Rc,{className:ri.titleIcon}):s.jsx(Jc,{className:ri.titleIcon}),s.jsx("h1",{className:ri.title,children:r==="batches"?" ":" "})]}),s.jsxs("button",{className:ri.createButton,onClick:()=>{r==="batches"?S(!0):t(`/business/${e}/transfers/create`)},children:[s.jsx(Va,{}),s.jsx("span",{children:r==="batches"?" ":" "})]})]}),s.jsxs("div",{className:ri.tabs,children:[s.jsxs("button",{className:`${ri.tab} ${r==="batches"?ri.tabActive:""}`,onClick:()=>{i("batches"),n.delete("tab"),a(n)},children:[s.jsx(Rc,{}),s.jsx("span",{children:""})]}),s.jsxs("button",{className:`${ri.tab} ${r==="transfers"?ri.tabActive:""}`,onClick:()=>{i("transfers"),n.set("tab","transfers"),a(n)},children:[s.jsx(Jc,{}),s.jsx("span",{children:""})]})]}),r==="batches"?o.length===0?s.jsxs("div",{className:ri.emptyState,children:[s.jsx(Rc,{className:ri.emptyIcon}),s.jsx("h2",{children:" "}),s.jsx("p",{children:"   "}),s.jsxs("button",{className:ri.createButton,onClick:()=>S(!0),children:[s.jsx(Va,{}),s.jsx("span",{children:" "})]})]}):s.jsx("div",{className:ri.batchesGrid,children:o.map(A=>s.jsx(JF,{batch:A,onView:()=>te(A.id),onDelete:()=>K(A.id)},A.id))}):l.length===0?s.jsxs("div",{className:ri.emptyState,children:[s.jsx(Jc,{className:ri.emptyIcon}),s.jsx("h2",{children:" "}),s.jsx("p",{children:"   "}),s.jsxs("button",{className:ri.createButton,onClick:()=>t(`/business/${e}/transfers/create`),children:[s.jsx(Va,{}),s.jsx("span",{children:" "})]})]}):s.jsx("div",{className:ri.batchesGrid,children:l.map(A=>s.jsx(eH,{transfer:A,onView:()=>V(A.id),onDelete:()=>M(A.id)},A.id))}),C&&s.jsx(nH,{businessSlug:e,onClose:()=>S(!1),onSuccess:se}),D&&k&&s.jsx(sH,{businessSlug:e,batch:k,onClose:J,onUpdate:z,onDelete:K}),O&&P&&s.jsx(aH,{businessSlug:e,transfer:P,onClose:ee,onUpdate:Z,onDelete:M})]})},sxt="_container_1twde_3",axt="_header_1twde_16",rxt="_title_1twde_59",ixt="_createButton_1twde_68",oxt="_tabs_1twde_93",cxt="_tab_1twde_93",lxt="_tabActive_1twde_145",uxt="_content_1twde_168",dxt="_loadingContainer_1twde_176",hxt="_errorContainer_1twde_177",fxt="_emptyState_1twde_211",mxt="_emptyIcon_1twde_222",pxt="_emptyCreateButton_1twde_241",gxt="_batchesList_1twde_265",ki={container:sxt,header:axt,title:rxt,createButton:ixt,tabs:oxt,tab:cxt,tabActive:lxt,content:uxt,loadingContainer:dxt,errorContainer:hxt,emptyState:fxt,emptyIcon:mxt,emptyCreateButton:pxt,batchesList:gxt},_xt=()=>{const{business_slug:e}=ha(),t=Is(),[n,a]=ep(),[r,i]=_.useState(()=>n.get("tab")==="transfers"?"transfers":"batches"),[o,c]=_.useState([]),[l,d]=_.useState([]),[f,g]=_.useState(!0),[b,w]=_.useState(null),[C,S]=_.useState(!1),[k,E]=_.useState(null),[D,R]=_.useState(!1),[P,B]=_.useState(null),[O,$]=_.useState(!1);_.useEffect(()=>{const A=n.get("tab");A==="transfers"?(r!=="transfers"&&i("transfers"),r==="transfers"&&H(!1)):A!=="transfers"&&r==="transfers"&&A!==null&&i("batches")},[n]),_.useEffect(()=>{r==="batches"?F():r==="transfers"&&H()},[e,r]),_.useEffect(()=>{const A=n.get("batch");A&&!k&&!f&&(U(parseInt(A)),n.delete("batch"),a(n,{replace:!0}))},[n,f]);const U=async(A,G=!0)=>{try{G&&g(!0);const Q=await Be.get(`/api/business/${e}/batches/${A}/`);E(Q.data),G&&R(!0)}catch(Q){console.error("   :",Q),G&&alert("    ")}finally{G&&g(!1)}},F=async(A=!0)=>{try{A&&g(!0);const G=await Be.get(`/api/business/${e}/batches/`);c(G.data)}catch(G){console.error("  :",G),w("   ")}finally{A&&g(!1)}},H=async(A=!0)=>{try{A&&g(!0);const G=await Be.get(`/api/business/${e}/transfers/`);d(G.data)}catch(G){console.error("  :",G),w("   ")}finally{A&&g(!1)}},se=async(A,G)=>{try{const Y=(await Be.post(`/api/business/${e}/batches/create/`,A)).data.id;if(G&&G.length>0)for(const ae of G){const ne=new FormData;ne.append("document",ae.document),ne.append("name",ae.name),ae.description&&ne.append("description",ae.description),await Be.post(`/api/business/${e}/batches/${Y}/add-document/`,ne,{headers:{"Content-Type":"multipart/form-data"}})}return await F(),S(!1),!0}catch(Q){throw console.error("  :",Q),Q}},K=async A=>{var Y,ae;const G=o.find(ne=>ne.id===A),Q=G&&G.status==="completed"?" ,     ?           .":" ,     ?    .";if(window.confirm(Q))try{await Be.delete(`/api/business/${e}/batches/${A}/delete/`),c(o.filter(ne=>ne.id!==A)),await F(!1)}catch(ne){console.error("  :",ne);const re=((ae=(Y=ne.response)==null?void 0:Y.data)==null?void 0:ae.detail)||"   ";alert(re)}},te=async A=>{try{const G=await Be.get(`/api/business/${e}/batches/${A}/`);E(G.data),R(!0)}catch(G){console.error("   :",G)}},J=()=>{R(!1),E(null),F()},z=async()=>{await F(!1),k&&k.id&&await U(k.id,!1)},V=async A=>{try{const Q=(await Be.get(`/api/business/${e}/transfers/${A}/`)).data;Q.status==="draft"?t(`/business/${e}/transfers/create?transfer_id=${A}`):(B(Q),$(!0))}catch(G){console.error("   :",G),alert("    ")}},M=async A=>{var G,Q;if(A){const Y=l.find(ne=>ne.id===A);if(!Y)return;const ae=Y.status==="completed"?" ,     ?     .":" ,     ?    .";if(!window.confirm(ae))return;try{await Be.delete(`/api/business/${e}/transfers/${A}/delete/`),d(l.filter(ne=>ne.id!==A)),await H(!1)}catch(ne){console.error("  :",ne);const re=((Q=(G=ne.response)==null?void 0:G.data)==null?void 0:Q.detail)||"   ";alert(re)}}else await H(!1)},ee=()=>{$(!1),B(null),H(!1)},Z=async()=>{if(await H(!1),P&&P.id)try{const A=await Be.get(`/api/business/${e}/transfers/${P.id}/`);B(A.data)}catch(A){console.error("   :",A)}};return f?s.jsx("div",{className:ki.loadingContainer,children:s.jsx(Fn,{})}):b?s.jsxs("div",{className:ki.errorContainer,children:[s.jsx("p",{children:b}),s.jsx("button",{onClick:F,children:" "})]}):s.jsxs("div",{className:ki.container,children:[s.jsxs("div",{className:ki.header,children:[s.jsx("h1",{className:ki.title,children:r==="batches"?"":""}),s.jsx("button",{type:"button",className:ki.createButton,onClick:()=>{r==="batches"?S(!0):t(`/business/${e}/transfers/create`)},"aria-label":r==="batches"?" ":" ",children:s.jsx(Va,{})})]}),s.jsxs("div",{className:ki.tabs,children:[s.jsxs("button",{className:`${ki.tab} ${r==="batches"?ki.tabActive:""}`,onClick:()=>{i("batches"),n.delete("tab"),a(n)},children:[s.jsx(Rc,{}),s.jsx("span",{children:""})]}),s.jsxs("button",{className:`${ki.tab} ${r==="transfers"?ki.tabActive:""}`,onClick:()=>{i("transfers"),n.set("tab","transfers"),a(n)},children:[s.jsx(Jc,{}),s.jsx("span",{children:""})]})]}),s.jsx("div",{className:ki.content,children:r==="batches"?o.length===0?s.jsxs("div",{className:ki.emptyState,children:[s.jsx(Rc,{className:ki.emptyIcon}),s.jsx("h2",{children:" "}),s.jsx("p",{children:"   "}),s.jsxs("button",{className:ki.emptyCreateButton,onClick:()=>S(!0),children:[s.jsx(Va,{}),s.jsx("span",{children:" "})]})]}):s.jsx("div",{className:ki.batchesList,children:o.map(A=>s.jsx(JF,{batch:A,onView:()=>te(A.id),onDelete:()=>K(A.id)},A.id))}):l.length===0?s.jsxs("div",{className:ki.emptyState,children:[s.jsx(Jc,{className:ki.emptyIcon}),s.jsx("h2",{children:" "}),s.jsx("p",{children:"   "}),s.jsxs("button",{className:ki.emptyCreateButton,onClick:()=>t(`/business/${e}/transfers/create`),children:[s.jsx(Va,{}),s.jsx("span",{children:" "})]})]}):s.jsx("div",{className:ki.batchesList,children:l.map(A=>s.jsx(eH,{transfer:A,onView:()=>V(A.id),onDelete:()=>M(A.id)},A.id))})}),C&&s.jsx(nH,{businessSlug:e,onClose:()=>S(!1),onSuccess:se}),D&&k&&s.jsx(sH,{businessSlug:e,batch:k,onClose:J,onUpdate:z,onDelete:K}),O&&P&&s.jsx(aH,{businessSlug:e,transfer:P,onClose:ee,onUpdate:Z,onDelete:M})]})},vxt="_container_jyjm1_1",xxt="_header_jyjm1_9",bxt="_backButton_jyjm1_16",yxt="_title_jyjm1_35",wxt="_titleIcon_jyjm1_45",jxt="_form_jyjm1_50",Cxt="_formSection_jyjm1_56",Sxt="_sectionHeader_jyjm1_63",Nxt="_sectionTitle_jyjm1_70",kxt="_toggleButton_jyjm1_77",Ixt="_collapsedMessage_jyjm1_98",Ext="_collapsedCount_jyjm1_111",Txt="_formRow_jyjm1_117",Dxt="_formGroup_jyjm1_124",Axt="_itemsList_jyjm1_203",Mxt="_itemCard_jyjm1_209",Rxt="_itemHeader_jyjm1_216",Bxt="_itemInfo_jyjm1_223",Oxt="_itemImage_jyjm1_229",Lxt="_noImage_jyjm1_237",$xt="_itemMeta_jyjm1_257",Pxt="_removeButton_jyjm1_263",Fxt="_itemControls_jyjm1_277",Hxt="_emptyItems_jyjm1_283",qxt="_emptySubtext_jyjm1_289",Vxt="_emptyMessage_jyjm1_295",zxt="_stocksGrid_jyjm1_309",Uxt="_stockCard_jyjm1_316",Wxt="_stockImage_jyjm1_335",Yxt="_stockNoImage_jyjm1_342",Gxt="_stockInfo_jyjm1_353",Qxt="_stockName_jyjm1_359",Xxt="_stockBatch_jyjm1_371",Kxt="_stockQuantities_jyjm1_377",Zxt="_quantityRow_jyjm1_386",Jxt="_quantityLabel_jyjm1_393",ebt="_quantityValue_jyjm1_397",tbt="_quantityValueAvailable_jyjm1_402",nbt="_quantityValueReserved_jyjm1_407",sbt="_quantityValueDefect_jyjm1_412",abt="_stockAction_jyjm1_417",rbt="_addIcon_jyjm1_432",ibt="_modalOverlay_jyjm1_437",obt="_quantityModal_jyjm1_451",cbt="_modalHeader_jyjm1_462",lbt="_modalCloseButton_jyjm1_477",ubt="_modalContent_jyjm1_493",dbt="_modalStockInfo_jyjm1_500",hbt="_modalStockImage_jyjm1_506",fbt="_modalStockNoImage_jyjm1_514",mbt="_modalQuantities_jyjm1_538",pbt="_quantityInfo_jyjm1_548",gbt="_availableText_jyjm1_564",_bt="_reservedText_jyjm1_568",vbt="_defectText_jyjm1_572",xbt="_modalFormGroup_jyjm1_576",bbt="_quantityInputWrapper_jyjm1_588",ybt="_quantityInput_jyjm1_588",wbt="_unitLabel_jyjm1_612",jbt="_helpText_jyjm1_620",Cbt="_modalActions_jyjm1_626",Sbt="_modalCancelButton_jyjm1_634",Nbt="_modalAddButton_jyjm1_635",kbt="_itemQuantities_jyjm1_673",Ibt="_availableBadge_jyjm1_681",Ebt="_reservedBadge_jyjm1_682",Tbt="_defectBadge_jyjm1_683",Dbt="_actions_jyjm1_708",Abt="_cancelButton_jyjm1_716",Mbt="_submitButton_jyjm1_717",Rbt="_completeButton_jyjm1_718",Bbt="_documentsList_jyjm1_771",Obt="_documentCard_jyjm1_778",Lbt="_documentIcon_jyjm1_788",$bt="_documentInfo_jyjm1_794",Pbt="_documentName_jyjm1_801",Fbt="_documentDescription_jyjm1_807",Hbt="_documentMeta_jyjm1_812",qbt="_documentActions_jyjm1_817",Vbt="_downloadButton_jyjm1_823",zbt="_deleteDocumentButton_jyjm1_824",Ubt="_addDocumentSection_jyjm1_851",Wbt="_addDocumentButton_jyjm1_859",cn={container:vxt,header:xxt,backButton:bxt,title:yxt,titleIcon:wxt,form:jxt,formSection:Cxt,sectionHeader:Sxt,sectionTitle:Nxt,toggleButton:kxt,collapsedMessage:Ixt,collapsedCount:Ext,formRow:Txt,formGroup:Dxt,itemsList:Axt,itemCard:Mxt,itemHeader:Rxt,itemInfo:Bxt,itemImage:Oxt,noImage:Lxt,itemMeta:$xt,removeButton:Pxt,itemControls:Fxt,emptyItems:Hxt,emptySubtext:qxt,emptyMessage:Vxt,stocksGrid:zxt,stockCard:Uxt,stockImage:Wxt,stockNoImage:Yxt,stockInfo:Gxt,stockName:Qxt,stockBatch:Xxt,stockQuantities:Kxt,quantityRow:Zxt,quantityLabel:Jxt,quantityValue:ebt,quantityValueAvailable:tbt,quantityValueReserved:nbt,quantityValueDefect:sbt,stockAction:abt,addIcon:rbt,modalOverlay:ibt,quantityModal:obt,modalHeader:cbt,modalCloseButton:lbt,modalContent:ubt,modalStockInfo:dbt,modalStockImage:hbt,modalStockNoImage:fbt,modalQuantities:mbt,quantityInfo:pbt,availableText:gbt,reservedText:_bt,defectText:vbt,modalFormGroup:xbt,quantityInputWrapper:bbt,quantityInput:ybt,unitLabel:wbt,helpText:jbt,modalActions:Cbt,modalCancelButton:Sbt,modalAddButton:Nbt,itemQuantities:kbt,availableBadge:Ibt,reservedBadge:Ebt,defectBadge:Tbt,actions:Dbt,cancelButton:Abt,submitButton:Mbt,completeButton:Rbt,documentsList:Bbt,documentCard:Obt,documentIcon:Lbt,documentInfo:$bt,documentName:Pbt,documentDescription:Fbt,documentMeta:Hbt,documentActions:qbt,downloadButton:Vbt,deleteDocumentButton:zbt,addDocumentSection:Ubt,addDocumentButton:Wbt},rH=()=>{var Ne,Ee;const{business_slug:e}=ha(),t=Is(),[n]=ep(),a=n.get("transfer_id"),r=!!a,{getFileUrl:i}=Er(),[o,c]=_.useState(!1),[l,d]=_.useState(!1),[f,g]=_.useState([]),[b,w]=_.useState([]),[C,S]=_.useState(null),[k,E]=_.useState({from_location:"",to_location:"",notes:""}),[D,R]=_.useState([]),[P,B]=_.useState([]),[O,$]=_.useState({document:null,name:"",description:""}),[U,F]=_.useState(null),[H,se]=_.useState(""),[K,te]=_.useState(!1),[J,z]=_.useState(!0);_.useEffect(()=>{V(),r&&a&&M(a)},[]),_.useEffect(()=>{k.from_location?ee(k.from_location):(w([]),R([]))},[k.from_location]);const V=async()=>{try{const ve=await Be.get(`/api/business/${e}/locations/?warehouses_only=true`),Se=ve.data.results||ve.data||[];g(Se),Se.length===0&&console.warn("    ")}catch(ve){console.error("  :",ve),alert("   ")}},M=async ve=>{try{c(!0);const fe=(await Be.get(`/api/business/${e}/transfers/${ve}/`)).data;if(S(fe),E({from_location:fe.from_location.toString(),to_location:fe.to_location.toString(),notes:fe.notes||""}),fe.items&&fe.items.length>0){const de=fe.items.map(pe=>{var ge,be,Fe;const ce=parseFloat(pe.available_quantity||0),Re=parseFloat(pe.reserved_quantity||0),Ae=parseFloat(pe.defect_quantity||0),ie=ce+Re+Ae;return{id:pe.id,stock_id:pe.stock_id,stock:pe.stock,quantity:parseFloat(pe.quantity),notes:pe.notes||"",variant_name:pe.variant_name,variant_data:pe.variant_data||((ge=pe.stock)==null?void 0:ge.variant_data),available_quantity:ce,reserved_quantity:Re,defect_quantity:Ae,total_quantity:parseFloat(((be=pe.stock)==null?void 0:be.quantity)||0),max_transferable:ie,batch_number:pe.batch_number||" ",location_name:pe.location_name,unit_display:pe.unit_display||((Fe=pe.variant_data)==null?void 0:Fe.unit_display)||"."}});R(de)}fe.documents&&B(fe.documents),fe.from_location&&await ee(fe.from_location)}catch(Se){console.error("  :",Se),alert("   "),t(`/business/${e}/batches?tab=transfers`)}finally{c(!1)}},ee=async ve=>{try{const Se=await Be.get(`/api/business/${e}/transfers/available-stocks/${ve}/`);w(Se.data)}catch(Se){console.error("   :",Se),alert("    "),w([])}},Z=(ve,Se)=>{E(fe=>({...fe,[ve]:Se}))},A=ve=>{if(D.some(Se=>Se.stock_id===ve.id)){alert("     ");return}F(ve),se(""),te(!0)},G=()=>{if(!U)return;const ve=parseFloat(H),Se=U.unit_display===".",fe=Se?1:.001;if(!ve||ve<fe){alert(`  (: ${fe} ${U.unit_display||"."})`);return}if(Se&&!Number.isInteger(ve)){alert("        ");return}const de=parseFloat(U.available_quantity||0),pe=parseFloat(U.reserved_quantity||0),ce=parseFloat(U.defect_quantity||0),Re=de+pe+ce,Ae=parseFloat(U.quantity||0);if(ve>Re){alert(`   .   : ${Re} ${U.unit_display||"."} (: ${de}, : ${pe}, : ${ce})`);return}const ie={stock_id:U.id,stock:U,quantity:ve,notes:"",variant_name:U.variant_name,variant_data:U.variant_data,available_quantity:de,reserved_quantity:pe,defect_quantity:ce,total_quantity:Ae,max_transferable:Re,batch_number:U.batch_number||" ",location_name:U.location_name,unit_display:U.unit_display||"."};R([...D,ie]),F(null),se(""),te(!1)},Q=()=>{te(!1),F(null),se("")},Y=(ve,Se,fe)=>{const de=[...D],pe=de[ve];if(Se==="quantity"){const ce=pe.unit_display===".";if(fe!==""){const Re=parseFloat(fe);if(ce&&!isNaN(Re)&&!Number.isInteger(Re)){const Ae=Math.floor(Re);fe=Ae>0?Ae.toString():"1"}if(!isNaN(Re)){const Ae=parseFloat(pe.max_transferable||0);if(Re>Ae){const ie=parseFloat(pe.available_quantity||0),ge=parseFloat(pe.reserved_quantity||0),be=parseFloat(pe.defect_quantity||0);alert(`   .   : ${Ae} ${pe.unit_display||"."} (: ${ie}, : ${ge}, : ${be})`);return}}}}de[ve]={...pe,[Se]:fe},R(de)},ae=async ve=>{var Se,fe,de,pe;if(ve.preventDefault(),!k.from_location||!k.to_location){alert(" -  -");return}if(k.from_location===k.to_location){alert("-  -   ");return}if(D.length===0){alert("      ");return}c(!0);try{const ce={from_location:parseInt(k.from_location),to_location:parseInt(k.to_location),notes:k.notes||"",items:D.map(Re=>({stock_id:Re.stock_id,quantity:parseFloat(Re.quantity),notes:Re.notes||""}))};r?await Be.patch(`/api/business/${e}/transfers/${a}/update/`,ce):await Be.post(`/api/business/${e}/transfers/create/`,ce),t(`/business/${e}/batches?tab=transfers`)}catch(ce){console.error(` ${r?"":""} :`,ce);const Re=((fe=(Se=ce.response)==null?void 0:Se.data)==null?void 0:fe.detail)||((pe=(de=ce.response)==null?void 0:de.data)==null?void 0:pe.items)||`  ${r?"":""} `;alert(typeof Re=="string"?Re:JSON.stringify(Re))}finally{c(!1)}},ne=async()=>{var ve,Se;if(confirm(" ,    ?      .")){c(!0);try{await Be.post(`/api/business/${e}/transfers/${a}/complete/`),t(`/business/${e}/batches?tab=transfers`)}catch(fe){console.error("  :",fe),alert(((Se=(ve=fe.response)==null?void 0:ve.data)==null?void 0:Se.detail)||"   ")}finally{c(!1)}}},re=ve=>{$(Se=>({...Se,document:ve.target.files[0]}))},oe=async()=>{var ve,Se;if(!O.document||!O.name){alert("     ");return}d(!0);try{const fe=new FormData;fe.append("document",O.document),fe.append("name",O.name),O.description&&fe.append("description",O.description);const de=await Be.post(`/api/business/${e}/transfers/${a}/add-document/`,fe,{headers:{"Content-Type":"multipart/form-data"}});B([...P,de.data]),$({document:null,name:"",description:""}),document.getElementById("documentUpload").value=""}catch(fe){console.error("  :",fe),alert(((Se=(ve=fe.response)==null?void 0:ve.data)==null?void 0:Se.detail)||"   ")}finally{d(!1)}},me=async ve=>{var Se,fe;if(confirm(" ,     ?"))try{await Be.delete(`/api/business/${e}/transfers/${a}/delete-document/${ve}/`),B(P.filter(de=>de.id!==ve))}catch(de){console.error("  :",de),alert(((fe=(Se=de.response)==null?void 0:Se.data)==null?void 0:fe.detail)||"   ")}},Ce=async ve=>{var fe,de;const Se=D[ve];if(r&&Se.id){if(!confirm(" ,       ?"))return;try{await Be.delete(`/api/business/${e}/transfers/${a}/remove-item/${Se.id}/`),R(D.filter((pe,ce)=>ce!==ve))}catch(pe){console.error("  :",pe),alert(((de=(fe=pe.response)==null?void 0:fe.data)==null?void 0:de.detail)||"   ")}}else R(D.filter((pe,ce)=>ce!==ve))};return s.jsxs("div",{className:cn.container,children:[s.jsxs("div",{className:cn.header,children:[s.jsxs("button",{className:cn.backButton,onClick:()=>t(`/business/${e}/batches?tab=transfers`),children:[s.jsx(Cm,{}),s.jsx("span",{children:""})]}),s.jsxs("h1",{className:cn.title,children:[s.jsx(Jc,{className:cn.titleIcon}),r?`  ${(C==null?void 0:C.transfer_number)||""}`:" "]})]}),s.jsxs("form",{onSubmit:ae,className:cn.form,children:[s.jsxs("div",{className:cn.formSection,children:[s.jsx("h2",{className:cn.sectionTitle,children:"  "}),f.length===0?s.jsxs("div",{className:cn.emptyMessage,children:[s.jsx("p",{children:"    ."}),s.jsx("p",{children:"    ,  is_warehouse = true."})]}):s.jsx(s.Fragment,{children:s.jsxs("div",{className:cn.formRow,children:[s.jsxs("div",{className:cn.formGroup,children:[s.jsx("label",{children:"- *"}),s.jsxs("select",{value:k.from_location,onChange:ve=>Z("from_location",ve.target.value),required:!0,disabled:o||r,children:[s.jsx("option",{value:"",children:" "}),f.map(ve=>s.jsxs("option",{value:ve.id,children:[ve.name," ",ve.city_detail?`(${ve.city_detail.name})`:""]},ve.id))]})]}),s.jsxs("div",{className:cn.formGroup,children:[s.jsx("label",{children:"- *"}),s.jsxs("select",{value:k.to_location,onChange:ve=>Z("to_location",ve.target.value),required:!0,disabled:o||!k.from_location||r,children:[s.jsx("option",{value:"",children:" "}),f.filter(ve=>{const Se=k.from_location?parseInt(k.from_location):null;return Se?ve.id!==Se:!0}).map(ve=>s.jsxs("option",{value:ve.id,children:[ve.name," ",ve.city_detail?`(${ve.city_detail.name})`:""]},ve.id))]})]})]})}),s.jsxs("div",{className:cn.formGroup,children:[s.jsx("label",{children:""}),s.jsx("textarea",{value:k.notes,onChange:ve=>Z("notes",ve.target.value),placeholder:"   ...",rows:3,disabled:o})]})]}),k.from_location&&s.jsxs("div",{className:cn.formSection,children:[s.jsxs("div",{className:cn.sectionHeader,children:[s.jsx("h2",{className:cn.sectionTitle,children:"  "}),b.length>0&&s.jsx("button",{type:"button",className:cn.toggleButton,onClick:()=>z(!J),title:J?" ":" ",children:J?s.jsxs(s.Fragment,{children:[s.jsx(ko,{}),s.jsx("span",{children:""})]}):s.jsxs(s.Fragment,{children:[s.jsx(No,{}),s.jsx("span",{children:""})]})})]}),b.length===0?s.jsxs("div",{className:cn.emptyItems,children:[s.jsx("p",{children:"       "}),s.jsx("p",{className:cn.emptySubtext,children:"    available_quantity > 0   /"})]}):s.jsxs(s.Fragment,{children:[J&&s.jsx("div",{className:cn.stocksGrid,children:b.filter(ve=>!D.some(Se=>Se.stock_id===ve.id)).map(ve=>{var Ae,ie;const Se=parseFloat(ve.available_quantity||0),fe=parseFloat(ve.reserved_quantity||0),de=parseFloat(ve.defect_quantity||0),pe=parseFloat(ve.quantity||0),ce=Se+fe+de,Re=ve.unit_display||".";return s.jsxs("div",{className:cn.stockCard,onClick:()=>A(ve),children:[(ie=(Ae=ve.variant_data)==null?void 0:Ae.main_image)!=null&&ie.image?s.jsx("img",{src:i(ve.variant_data.main_image.image),alt:ve.variant_name,className:cn.stockImage,onError:ge=>{ge.target.onerror=null,ge.target.src="https://via.placeholder.com/200x280?text=No+Image"}}):s.jsx("div",{className:cn.stockNoImage,children:s.jsx(Jc,{size:24})}),s.jsxs("div",{className:cn.stockInfo,children:[s.jsx("h4",{className:cn.stockName,children:ve.variant_name}),s.jsxs("p",{className:cn.stockBatch,children:[": ",ve.batch_number||" "]}),s.jsxs("div",{className:cn.stockQuantities,children:[s.jsxs("div",{className:cn.quantityRow,children:[s.jsx("span",{className:cn.quantityLabel,children:":"}),s.jsxs("span",{className:cn.quantityValue,children:[pe," ",Re]})]}),ce>0&&s.jsxs("div",{className:cn.quantityRow,children:[s.jsx("span",{className:cn.quantityLabel,children:" :"}),s.jsxs("span",{className:cn.quantityValueAvailable,style:{fontWeight:700},children:[ce," ",Re]})]}),Se>0&&s.jsxs("div",{className:cn.quantityRow,children:[s.jsx("span",{className:cn.quantityLabel,children:":"}),s.jsxs("span",{className:cn.quantityValueAvailable,children:[Se," ",Re]})]}),fe>0&&s.jsxs("div",{className:cn.quantityRow,children:[s.jsx("span",{className:cn.quantityLabel,children:":"}),s.jsxs("span",{className:cn.quantityValueReserved,children:[fe," ",Re]})]}),de>0&&s.jsxs("div",{className:cn.quantityRow,children:[s.jsx("span",{className:cn.quantityLabel,children:":"}),s.jsxs("span",{className:cn.quantityValueDefect,children:[de," ",Re]})]})]})]}),s.jsx("div",{className:cn.stockAction,children:s.jsx(Va,{className:cn.addIcon})})]},ve.id)})}),!J&&s.jsxs("div",{className:cn.collapsedMessage,children:[s.jsx("p",{children:'  .  ""    .'}),s.jsxs("p",{className:cn.collapsedCount,children:[" : ",b.filter(ve=>!D.some(Se=>Se.stock_id===ve.id)).length]})]})]}),D.length>0&&s.jsx("div",{className:cn.itemsList,children:D.map((ve,Se)=>{var fe,de;return s.jsxs("div",{className:cn.itemCard,children:[s.jsxs("div",{className:cn.itemHeader,children:[s.jsxs("div",{className:cn.itemInfo,children:[(de=(fe=ve.variant_data)==null?void 0:fe.main_image)!=null&&de.image?s.jsx("img",{src:i(ve.variant_data.main_image.image),alt:ve.variant_name,className:cn.itemImage,onError:pe=>{pe.target.onerror=null,pe.target.src="https://via.placeholder.com/70x98?text=No+Image"}}):s.jsx("div",{className:cn.noImage,children:" "}),s.jsxs("div",{children:[s.jsx("h4",{children:ve.variant_name}),s.jsxs("p",{className:cn.itemMeta,children:[": ",ve.batch_number]}),s.jsxs("div",{className:cn.itemQuantities,children:[s.jsxs("span",{children:[": ",ve.total_quantity," ",ve.unit_display||"."]}),ve.available_quantity>0&&s.jsxs("span",{className:cn.availableBadge,children:[": ",ve.available_quantity]}),ve.reserved_quantity>0&&s.jsxs("span",{className:cn.reservedBadge,children:[": ",ve.reserved_quantity]}),ve.defect_quantity>0&&s.jsxs("span",{className:cn.defectBadge,children:[": ",ve.defect_quantity]})]})]})]}),s.jsx("button",{type:"button",className:cn.removeButton,onClick:()=>Ce(Se),disabled:o,children:s.jsx(Ir,{})})]}),s.jsxs("div",{className:cn.itemControls,children:[s.jsxs("div",{className:cn.formGroup,children:[s.jsxs("label",{children:["   (: ",ve.max_transferable," ",ve.unit_display||".",")"]}),s.jsxs("div",{className:cn.quantityInputWrapper,children:[s.jsx("input",{type:"number",step:ve.unit_display==="."?"1":"0.001",min:ve.unit_display==="."?"1":"0.001",max:ve.max_transferable,value:ve.quantity,onChange:pe=>{const ce=pe.target.value,Re=ve.unit_display===".";if(ce===""){Y(Se,"quantity",ce);return}Re?/^\d+$/.test(ce)&&Y(Se,"quantity",ce):/^\d*\.?\d*$/.test(ce)&&Y(Se,"quantity",ce)},onBlur:pe=>{const ce=parseFloat(pe.target.value),Re=ve.unit_display===".",Ae=Re?1:.001;if(isNaN(ce)||ce<Ae)Y(Se,"quantity",Ae.toString());else{const ie=parseFloat(ve.max_transferable||0),ge=Math.min(ce,ie);if(Re){const be=Math.floor(ge);Y(Se,"quantity",Math.max(1,be).toString())}else{const be=Math.round(ge/.001)*.001;Y(Se,"quantity",Math.max(.001,be).toFixed(3).replace(/\.?0+$/,""))}}},disabled:o,className:cn.quantityInput}),s.jsx("span",{className:cn.unitLabel,children:ve.unit_display||"."})]}),s.jsx("small",{className:cn.helpText,children:ve.unit_display==="."?"        .        .":"       "})]}),s.jsxs("div",{className:cn.formGroup,children:[s.jsx("label",{children:"  "}),s.jsx("input",{type:"text",value:ve.notes,onChange:pe=>Y(Se,"notes",pe.target.value),placeholder:"",disabled:o})]})]})]},Se)})}),D.length===0&&k.from_location&&s.jsx("div",{className:cn.emptyItems,children:s.jsx("p",{children:"   "})})]}),r&&s.jsxs("div",{className:cn.formSection,children:[s.jsx("h2",{className:cn.sectionTitle,children:""}),P.length>0&&s.jsx("div",{className:cn.documentsList,children:P.map(ve=>s.jsxs("div",{className:cn.documentCard,children:[s.jsx(xu,{className:cn.documentIcon}),s.jsxs("div",{className:cn.documentInfo,children:[s.jsx("div",{className:cn.documentName,children:ve.name}),ve.description&&s.jsx("div",{className:cn.documentDescription,children:ve.description}),ve.uploaded_by_name&&s.jsxs("div",{className:cn.documentMeta,children:[": ",ve.uploaded_by_name,"  ",new Date(ve.uploaded_at).toLocaleDateString("ru-RU")]})]}),s.jsxs("div",{className:cn.documentActions,children:[ve.file_url&&s.jsx("a",{href:ve.file_url,target:"_blank",rel:"noopener noreferrer",className:cn.downloadButton,title:"",children:s.jsx(Hb,{})}),s.jsx("button",{className:cn.deleteDocumentButton,onClick:()=>me(ve.id),title:"",children:s.jsx(Ir,{})})]})]},ve.id))}),s.jsxs("div",{className:cn.addDocumentSection,children:[s.jsxs("div",{className:cn.formGroup,children:[s.jsx("label",{children:"  *"}),s.jsx("input",{type:"text",value:O.name,onChange:ve=>$(Se=>({...Se,name:ve.target.value})),placeholder:": ,  ",disabled:l})]}),s.jsxs("div",{className:cn.formGroup,children:[s.jsx("label",{children:" ()"}),s.jsx("input",{type:"text",value:O.description,onChange:ve=>$(Se=>({...Se,description:ve.target.value})),placeholder:" ",disabled:l})]}),s.jsxs("div",{className:cn.formGroup,children:[s.jsx("label",{children:" *"}),s.jsx("input",{type:"file",id:"documentUpload",onChange:re,disabled:l,accept:".pdf,.doc,.docx,.jpg,.jpeg,.png"})]}),s.jsx("button",{type:"button",className:cn.addDocumentButton,onClick:oe,disabled:l||!O.document||!O.name,children:l?s.jsx(Fn,{}):s.jsxs(s.Fragment,{children:[s.jsx(Va,{}),"  "]})})]})]}),s.jsxs("div",{className:cn.actions,children:[s.jsx("button",{type:"button",className:cn.cancelButton,onClick:()=>t(`/business/${e}/batches?tab=transfers`),disabled:o,children:""}),r&&(C==null?void 0:C.status)==="draft"&&s.jsx("button",{type:"button",className:cn.completeButton,onClick:ne,disabled:o||D.length===0,children:o?s.jsx(Fn,{}):s.jsxs(s.Fragment,{children:[s.jsx(Xr,{}),"  "]})}),s.jsx("button",{type:"submit",className:cn.submitButton,disabled:o||D.length===0||!k.from_location||!k.to_location,children:o?s.jsx(Fn,{}):r?" ":" "})]})]}),K&&U&&s.jsx("div",{className:cn.modalOverlay,onClick:Q,children:s.jsxs("div",{className:cn.quantityModal,onClick:ve=>ve.stopPropagation(),children:[s.jsxs("div",{className:cn.modalHeader,children:[s.jsx("h3",{children:"   "}),s.jsx("button",{type:"button",className:cn.modalCloseButton,onClick:Q,children:s.jsx(da,{})})]}),s.jsxs("div",{className:cn.modalContent,children:[s.jsxs("div",{className:cn.modalStockInfo,children:[(Ee=(Ne=U.variant_data)==null?void 0:Ne.main_image)!=null&&Ee.image?s.jsx("img",{src:i(U.variant_data.main_image.image),alt:U.variant_name,className:cn.modalStockImage,onError:ve=>{ve.target.onerror=null,ve.target.src="https://via.placeholder.com/80x112?text=No+Image"}}):s.jsx("div",{className:cn.modalStockNoImage,children:s.jsx(Jc,{size:32})}),s.jsxs("div",{children:[s.jsx("h4",{children:U.variant_name}),s.jsxs("p",{children:[": ",U.batch_number||" "]})]})]}),s.jsxs("div",{className:cn.modalQuantities,children:[s.jsxs("div",{className:cn.quantityInfo,children:[s.jsx("span",{children:"  :"}),s.jsxs("strong",{children:[parseFloat(U.quantity||0)," ",U.unit_display||"."]})]}),(()=>{const ve=parseFloat(U.available_quantity||0),Se=parseFloat(U.reserved_quantity||0),fe=parseFloat(U.defect_quantity||0),de=ve+Se+fe;return de>0?s.jsxs("div",{className:cn.quantityInfo,style:{borderTop:"2px solid var(--royal-emerald)",paddingTop:"0.75rem",marginTop:"0.5rem"},children:[s.jsx("span",{children:" :"}),s.jsxs("strong",{className:cn.availableText,style:{fontSize:"1.1rem"},children:[de," ",U.unit_display||"."]})]}):null})(),parseFloat(U.available_quantity||0)>0&&s.jsxs("div",{className:cn.quantityInfo,children:[s.jsx("span",{children:":"}),s.jsxs("strong",{className:cn.availableText,children:[parseFloat(U.available_quantity||0)," ",U.unit_display||"."]})]}),parseFloat(U.reserved_quantity||0)>0&&s.jsxs("div",{className:cn.quantityInfo,children:[s.jsx("span",{children:" :"}),s.jsxs("strong",{className:cn.reservedText,children:[parseFloat(U.reserved_quantity||0)," ",U.unit_display||"."]})]}),parseFloat(U.defect_quantity||0)>0&&s.jsxs("div",{className:cn.quantityInfo,children:[s.jsx("span",{children:":"}),s.jsxs("strong",{className:cn.defectText,children:[parseFloat(U.defect_quantity||0)," ",U.unit_display||"."]})]})]}),s.jsxs("div",{className:cn.modalFormGroup,children:[s.jsxs("label",{children:["   (: ",parseFloat(U.available_quantity||0)+parseFloat(U.reserved_quantity||0)+parseFloat(U.defect_quantity||0)," ",U.unit_display||".",")"]}),s.jsxs("div",{className:cn.quantityInputWrapper,children:[s.jsx("input",{type:"number",step:U.unit_display==="."?"1":"0.001",min:U.unit_display==="."?"1":"0.001",max:parseFloat(U.available_quantity||0)+parseFloat(U.reserved_quantity||0)+parseFloat(U.defect_quantity||0),value:H,onChange:ve=>{const Se=ve.target.value,fe=U.unit_display===".";if(Se===""){se(Se);return}fe?/^\d+$/.test(Se)&&se(Se):/^\d*\.?\d*$/.test(Se)&&se(Se)},onBlur:ve=>{const Se=parseFloat(ve.target.value),fe=U.unit_display===".",de=fe?1:.001;if(isNaN(Se)||Se<de)se("");else{const pe=parseFloat(U.available_quantity||0)+parseFloat(U.reserved_quantity||0)+parseFloat(U.defect_quantity||0),ce=Math.min(Se,pe);if(fe){const Re=Math.floor(ce);se(Math.max(1,Re).toString())}else{const Re=Math.round(ce/.001)*.001;se(Math.max(.001,Re).toFixed(3).replace(/\.?0+$/,""))}}},autoFocus:!0,placeholder:"0",className:cn.quantityInput}),s.jsx("span",{className:cn.unitLabel,children:U.unit_display||"."})]}),s.jsx("small",{className:cn.helpText,children:U.unit_display==="."?"        .         .":"        "})]})]}),s.jsxs("div",{className:cn.modalActions,children:[s.jsx("button",{type:"button",className:cn.modalCancelButton,onClick:Q,children:""}),s.jsxs("button",{type:"button",className:cn.modalAddButton,onClick:G,disabled:!H||parseFloat(H)<=0,children:[s.jsx(Va,{}),s.jsx("span",{children:""})]})]})]})})]})},Ybt=rH,Gbt="_container_1yepw_30",Qbt="_header_1yepw_40",Xbt="_createButton_1yepw_68",Kbt="_content_1yepw_96",Zbt="_filters_1yepw_100",Jbt="_searchBar_1yepw_116",eyt="_filterSelect_1yepw_182",tyt="_checkboxLabel_1yepw_216",nyt="_error_1yepw_245",syt="_tasksList_1yepw_256",ayt="_taskCard_1yepw_263",ryt="_subtask_1yepw_278",iyt="_taskHeader_1yepw_284",oyt="_taskTitleRow_1yepw_288",cyt="_taskTitleLink_1yepw_305",lyt="_taskBadges_1yepw_315",uyt="_badgeWrapper_1yepw_321",dyt="_badge_1yepw_321",hyt="_clickableBadge_1yepw_338",fyt="_quickEditDropdown_1yepw_348",myt="_quickEditOption_1yepw_373",pyt="_active_1yepw_393",gyt="_priorityLow_1yepw_410",_yt="_priorityMedium_1yepw_416",vyt="_priorityHigh_1yepw_422",xyt="_priorityCritical_1yepw_428",byt="_statusTodo_1yepw_434",yyt="_statusInProgress_1yepw_440",wyt="_statusReview_1yepw_446",jyt="_statusDone_1yepw_452",Cyt="_statusCancelled_1yepw_458",Syt="_taskMeta_1yepw_464",Nyt="_metaItem_1yepw_473",kyt="_taskBody_1yepw_479",Iyt="_taskDescription_1yepw_485",Eyt="_taskFiles_1yepw_493",Tyt="_fileItem_1yepw_506",Dyt="_deleteFileButton_1yepw_537",Ayt="_taskActions_1yepw_555",Myt="_actionButton_1yepw_562",Ryt="_actionButtonDanger_1yepw_587",Byt="_subtasks_1yepw_610",Oyt="_emptyState_1yepw_625",Lyt="_modalOverlay_1yepw_637",$yt="_modalContent_1yepw_650",Pyt="_modalHeader_1yepw_674",Fyt="_closeButton_1yepw_693",Hyt="_modalBody_1yepw_723",qyt="_employeeList_1yepw_826",Vyt="_inputError_1yepw_839",zyt="_employeeButton_1yepw_862",Uyt="_employeeButtonSelected_1yepw_888",Wyt="_employeeInfo_1yepw_898",Yyt="_employeeNameRow_1yepw_905",Gyt="_employeeIcon_1yepw_912",Qyt="_employeeName_1yepw_905",Xyt="_employeeEmail_1yepw_926",Kyt="_checkIcon_1yepw_936",Zyt="_emptyEmployees_1yepw_944",Jyt="_formError_1yepw_959",e2t="_fieldError_1yepw_971",t2t="_formRow_1yepw_988",n2t="_modalFooter_1yepw_994",s2t="_cancelButton_1yepw_1003",a2t="_saveButton_1yepw_1028",r2t="_searchableSelect_1yepw_1058",i2t="_searchableSelectTrigger_1yepw_1067",o2t="_searchableSelectValue_1yepw_1092",c2t="_searchableSelectArrow_1yepw_1098",l2t="_searchableSelectDropdown_1yepw_1105",u2t="_searchableSelectSearch_1yepw_1121",d2t="_searchableSelectOptions_1yepw_1144",h2t="_searchableSelectOption_1yepw_1144",f2t="_searchableSelectOptionSelected_1yepw_1183",m2t="_searchableSelectNoResults_1yepw_1189",yn={container:Gbt,header:Qbt,createButton:Xbt,content:Kbt,filters:Zbt,searchBar:Jbt,filterSelect:eyt,checkboxLabel:tyt,error:nyt,tasksList:syt,taskCard:ayt,subtask:ryt,taskHeader:iyt,taskTitleRow:oyt,taskTitleLink:cyt,taskBadges:lyt,badgeWrapper:uyt,badge:dyt,clickableBadge:hyt,quickEditDropdown:fyt,quickEditOption:myt,active:pyt,priorityLow:gyt,priorityMedium:_yt,priorityHigh:vyt,priorityCritical:xyt,statusTodo:byt,statusInProgress:yyt,statusReview:wyt,statusDone:jyt,statusCancelled:Cyt,taskMeta:Syt,metaItem:Nyt,taskBody:kyt,taskDescription:Iyt,taskFiles:Eyt,fileItem:Tyt,deleteFileButton:Dyt,taskActions:Ayt,actionButton:Myt,actionButtonDanger:Ryt,subtasks:Byt,emptyState:Oyt,modalOverlay:Lyt,modalContent:$yt,modalHeader:Pyt,closeButton:Fyt,modalBody:Hyt,employeeList:qyt,inputError:Vyt,employeeButton:zyt,employeeButtonSelected:Uyt,employeeInfo:Wyt,employeeNameRow:Yyt,employeeIcon:Gyt,employeeName:Qyt,employeeEmail:Xyt,checkIcon:Kyt,emptyEmployees:Zyt,formError:Jyt,fieldError:e2t,formRow:t2t,modalFooter:n2t,cancelButton:s2t,saveButton:a2t,searchableSelect:r2t,searchableSelectTrigger:i2t,searchableSelectValue:o2t,searchableSelectArrow:c2t,searchableSelectDropdown:l2t,searchableSelectSearch:u2t,searchableSelectOptions:d2t,searchableSelectOption:h2t,searchableSelectOptionSelected:f2t,searchableSelectNoResults:m2t},p2t=()=>{const{business_slug:e}=ha();Is();const[t,n]=_.useState([]),[a,r]=_.useState(!0),[i,o]=_.useState(null),[c,l]=_.useState(null),[d,f]=_.useState(""),[g,b]=_.useState(""),[w,C]=_.useState(""),[S,k]=_.useState(""),[E,D]=_.useState(!0),[R,P]=_.useState(!1),[B,O]=_.useState(null),[$,U]=_.useState({title:"",description:"",priority:"medium",status:"todo",due_date:"",location:"",parent_task:"",assignee_ids:[]}),[F,H]=_.useState([]),[se,K]=_.useState([]),[te,J]=_.useState(!1),[z,V]=_.useState(null),[M,ee]=_.useState({}),[Z,A]=_.useState(null),[G,Q]=_.useState(null);_.useEffect(()=>{Y(),ae(),ne()},[e,d,g,w,S,E]),_.useEffect(()=>{const ie=ge=>{Z&&!ge.target.closest(`.${yn.badgeWrapper}`)&&(A(null),Q(null))};return document.addEventListener("mousedown",ie),()=>{document.removeEventListener("mousedown",ie)}},[Z]);const Y=async()=>{var ie,ge;try{r(!0);const be={page:1,page_size:50};d&&(be.status=d),g&&(be.priority=g),w&&(be.location=w),S&&(be.search=S),be.show_subtasks=E;const Fe=await Be.get(`/api/business/${e}/tasks/`,{params:be});n(Fe.data.results||[]),l(Fe.data.pagination)}catch(be){console.error("  :",be),o(((ge=(ie=be.response)==null?void 0:ie.data)==null?void 0:ge.detail)||"  ")}finally{r(!1)}},ae=async()=>{try{const ie=await Be.get(`/api/business/${e}/locations/`);H(ie.data||[])}catch(ie){console.error("  :",ie)}},ne=async()=>{try{const ge=((await Be.get(`/api/business/${e}/employees/`)).data||[]).map(be=>({id:be.user,name:be.name||be.full_name||" ",email:be.user_email||""}));K(ge)}catch(ie){console.error("  :",ie),K([])}},re=()=>{O(null),U({title:"",description:"",priority:"medium",status:"todo",due_date:"",location:"",parent_task:"",assignee_ids:[]}),ee({}),P(!0)},oe=ie=>{O(ie),U({title:ie.title,description:ie.description||"",priority:ie.priority,status:ie.status,due_date:ie.due_date?ie.due_date.split("T")[0]:"",location:ie.location_id||"",parent_task:ie.parent_task_id||"",assignee_ids:ie.assignees.map(ge=>ge.id)}),ee({}),P(!0)},me=async()=>{var ie;try{J(!0),ee({});const ge={...$,location:$.location||null,parent_task:$.parent_task||null,due_date:$.due_date?$.due_date:null};B?await Be.patch(`/api/business/${e}/tasks/${B.id}/`,ge):await Be.post(`/api/business/${e}/tasks/`,ge),P(!1),ee({}),Y()}catch(ge){if(console.error("  :",ge),(ie=ge.response)!=null&&ie.data){const be=ge.response.data;if(typeof be=="object"&&!be.detail){const Fe={};Object.keys(be).forEach(je=>{const qe=be[je];Array.isArray(qe)?Fe[je]=qe.join(", "):typeof qe=="string"?Fe[je]=qe:typeof qe=="object"&&qe.length&&(Fe[je]=qe[0])}),ee(Fe)}else ee({non_field_errors:be.detail||"  "})}else ee({non_field_errors:"  .    ."})}finally{J(!1)}},Ce=async ie=>{var ge,be;if(window.confirm(" ?"))try{await Be.delete(`/api/business/${e}/tasks/${ie}/`),Y()}catch(Fe){console.error("  :",Fe),alert(((be=(ge=Fe.response)==null?void 0:ge.data)==null?void 0:be.detail)||"  ")}},Ne=async(ie,ge)=>{var be,Fe;try{await Be.patch(`/api/business/${e}/tasks/${ie}/`,{status:ge}),A(null),Q(null),Y()}catch(je){console.error("  :",je),alert(((Fe=(be=je.response)==null?void 0:be.data)==null?void 0:Fe.detail)||"  ")}},Ee=async(ie,ge)=>{var be,Fe;try{await Be.patch(`/api/business/${e}/tasks/${ie}/`,{priority:ge}),A(null),Q(null),Y()}catch(je){console.error("  :",je),alert(((Fe=(be=je.response)==null?void 0:be.data)==null?void 0:Fe.detail)||"  ")}},ve=()=>[{value:"todo",label:" ",color:"#969696"},{value:"in_progress",label:" ",color:"#6496ff"},{value:"review",label:" ",color:"#ffc864"},{value:"done",label:"",color:"#64c864"},{value:"cancelled",label:"",color:"#ff4757"}],Se=()=>[{value:"low",label:"",color:"#64c864"},{value:"medium",label:"",color:"#d4af37"},{value:"high",label:"",color:"#ffa500"},{value:"critical",label:"",color:"#ff4757"}],fe=async(ie,ge)=>{var be,Fe;try{V(ie);const je=new FormData;je.append("file",ge),je.append("name",ge.name),await Be.post(`/api/business/${e}/tasks/${ie}/files/`,je,{headers:{"Content-Type":"multipart/form-data"}}),Y()}catch(je){console.error("  :",je),alert(((Fe=(be=je.response)==null?void 0:be.data)==null?void 0:Fe.detail)||"  ")}finally{V(null)}},de=async(ie,ge)=>{var be,Fe;if(window.confirm(" ?"))try{await Be.delete(`/api/business/${e}/tasks/${ie}/files/${ge}/`),Y()}catch(je){console.error("  :",je),alert(((Fe=(be=je.response)==null?void 0:be.data)==null?void 0:Fe.detail)||"  ")}},pe=ie=>ie?new Date(ie).toLocaleDateString("ru-RU"):"",ce=ie=>({low:yn.priorityLow,medium:yn.priorityMedium,high:yn.priorityHigh,critical:yn.priorityCritical})[ie]||yn.priorityMedium,Re=ie=>({todo:yn.statusTodo,in_progress:yn.statusInProgress,review:yn.statusReview,done:yn.statusDone,cancelled:yn.statusCancelled})[ie]||yn.statusTodo;if(a&&t.length===0)return s.jsx(Fn,{});const Ae=ie=>{ie.preventDefault(),Y()};return a&&t.length===0?s.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh"},children:s.jsx(Fn,{size:"large"})}):s.jsxs("div",{className:yn.container,children:[s.jsxs("div",{className:yn.header,children:[s.jsx("h1",{children:""}),s.jsx("div",{className:yn.businessInfo,children:s.jsxs("span",{children:[": ",e]})}),s.jsxs("button",{className:yn.createButton,onClick:re,children:[s.jsx(Va,{}),"  "]})]}),s.jsxs("div",{className:yn.filters,children:[s.jsx("div",{className:yn.searchBar,children:s.jsxs("form",{onSubmit:Ae,children:[s.jsx("input",{type:"text",placeholder:"    ...",value:S,onChange:ie=>k(ie.target.value)}),s.jsx("button",{type:"submit",children:s.jsx(hi,{})})]})}),s.jsxs("select",{value:d,onChange:ie=>f(ie.target.value),className:yn.filterSelect,children:[s.jsx("option",{value:"",children:" "}),s.jsx("option",{value:"todo",children:" "}),s.jsx("option",{value:"in_progress",children:" "}),s.jsx("option",{value:"review",children:" "}),s.jsx("option",{value:"done",children:""}),s.jsx("option",{value:"cancelled",children:""})]}),s.jsxs("select",{value:g,onChange:ie=>b(ie.target.value),className:yn.filterSelect,children:[s.jsx("option",{value:"",children:" "}),s.jsx("option",{value:"low",children:""}),s.jsx("option",{value:"medium",children:""}),s.jsx("option",{value:"high",children:""}),s.jsx("option",{value:"critical",children:""})]}),s.jsx(oH,{options:F,value:w,onChange:ie=>C(ie),placeholder:" ...",emptyOption:" "}),s.jsxs("label",{className:yn.checkboxLabel,children:[s.jsx("input",{type:"checkbox",checked:E,onChange:ie=>D(ie.target.checked)})," "]})]}),s.jsxs("div",{className:yn.content,children:[i&&s.jsx("div",{className:yn.error,children:i}),s.jsx("div",{className:yn.tasksList,children:t.length===0?s.jsx("div",{className:yn.emptyState,children:" .   !"}):t.map(ie=>s.jsx(iH,{task:ie,onEdit:oe,onDelete:Ce,onFileUpload:fe,onFileDelete:de,uploadingFile:z,getPriorityColor:ce,getStatusColor:Re,formatDate:pe,business_slug:e,quickEditTaskId:Z,setQuickEditTaskId:A,quickEditType:G,setQuickEditType:Q,onQuickStatusChange:Ne,onQuickPriorityChange:Ee,getStatusOptions:ve,getPriorityOptions:Se},ie.id))})]}),R&&s.jsx(g2t,{taskForm:$,setTaskForm:U,editingTask:B,locations:F,employees:se,tasks:t,onSave:me,onClose:()=>{P(!1),ee({})},saving:te,formErrors:M,setFormErrors:ee})]})},iH=({task:e,onEdit:t,onDelete:n,onFileUpload:a,onFileDelete:r,uploadingFile:i,getPriorityColor:o,getStatusColor:c,formatDate:l,business_slug:d,quickEditTaskId:f,setQuickEditTaskId:g,quickEditType:b,setQuickEditType:w,onQuickStatusChange:C,onQuickPriorityChange:S,getStatusOptions:k,getPriorityOptions:E})=>{const[D,R]=_.useState(!1),P=nt.useRef(null);return s.jsxs("div",{className:`${yn.taskCard} ${e.parent_task_id?yn.subtask:""}`,children:[s.jsxs("div",{className:yn.taskHeader,onClick:()=>R(!D),children:[s.jsxs("div",{className:yn.taskTitleRow,children:[s.jsx("h3",{children:s.jsx(Pa,{to:`/business/${d}/tasks/${e.id}`,onClick:B=>B.stopPropagation(),className:yn.taskTitleLink,children:e.title})}),s.jsxs("div",{className:yn.taskBadges,children:[s.jsxs("div",{className:yn.badgeWrapper,style:{position:"relative"},children:[s.jsxs("span",{className:`${yn.badge} ${o(e.priority)} ${yn.clickableBadge}`,onClick:B=>{B.stopPropagation(),g(f===e.id&&b==="priority"?null:e.id),w(f===e.id&&b==="priority"?null:"priority")},children:[e.priority_display,s.jsx(al,{style:{marginLeft:"6px",fontSize:"12px"}})]}),f===e.id&&b==="priority"&&s.jsx("div",{className:yn.quickEditDropdown,onClick:B=>B.stopPropagation(),children:E().map(B=>s.jsx("div",{className:`${yn.quickEditOption} ${e.priority===B.value?yn.active:""}`,onClick:()=>S(e.id,B.value),style:{borderLeftColor:B.color},children:B.label},B.value))})]}),s.jsxs("div",{className:yn.badgeWrapper,style:{position:"relative"},children:[s.jsxs("span",{className:`${yn.badge} ${c(e.status)} ${yn.clickableBadge}`,onClick:B=>{B.stopPropagation(),g(f===e.id&&b==="status"?null:e.id),w(f===e.id&&b==="status"?null:"status")},children:[e.status_display,s.jsx(al,{style:{marginLeft:"6px",fontSize:"12px"}})]}),f===e.id&&b==="status"&&s.jsx("div",{className:yn.quickEditDropdown,onClick:B=>B.stopPropagation(),children:k().map(B=>s.jsx("div",{className:`${yn.quickEditOption} ${e.status===B.value?yn.active:""}`,onClick:()=>C(e.id,B.value),style:{borderLeftColor:B.color},children:B.label},B.value))})]})]})]}),s.jsxs("div",{className:yn.taskMeta,children:[e.location_name&&s.jsxs("span",{className:yn.metaItem,children:[s.jsx(cr,{})," ",e.location_name]}),e.due_date&&s.jsxs("span",{className:yn.metaItem,children:[s.jsx(Sm,{})," ",l(e.due_date)]}),e.assignees.length>0&&s.jsxs("span",{className:yn.metaItem,children:[s.jsx(Lg,{})," ",e.assignees.map(B=>B.name||B.full_name).join(", ")]})]})]}),D&&s.jsxs("div",{className:yn.taskBody,children:[e.description&&s.jsx("div",{className:yn.taskDescription,children:e.description}),e.files&&e.files.length>0&&s.jsxs("div",{className:yn.taskFiles,children:[s.jsx("h4",{children:":"}),e.files.map(B=>s.jsxs("div",{className:yn.fileItem,children:[s.jsxs("a",{href:B.file_url,target:"_blank",rel:"noopener noreferrer",children:[s.jsx(Vb,{})," ",B.name]}),s.jsx("button",{className:yn.deleteFileButton,onClick:()=>r(e.id,B.id),children:s.jsx(da,{})})]},B.id))]}),s.jsxs("div",{className:yn.taskActions,children:[s.jsx("input",{type:"file",ref:P,style:{display:"none"},onChange:B=>{B.target.files[0]&&a(e.id,B.target.files[0])}}),s.jsxs(Pa,{to:`/business/${d}/tasks/${e.id}`,className:yn.actionButton,children:[s.jsx(fo,{})," "]}),s.jsxs("button",{className:yn.actionButton,onClick:()=>{var B;return(B=P.current)==null?void 0:B.click()},disabled:i===e.id,children:[s.jsx(Im,{}),"  "]}),s.jsxs("button",{className:yn.actionButton,onClick:()=>t(e),children:[s.jsx(rl,{})," "]}),s.jsxs("button",{className:yn.actionButtonDanger,onClick:()=>n(e.id),children:[s.jsx(Ir,{})," "]})]}),e.subtasks&&e.subtasks.length>0&&s.jsxs("div",{className:yn.subtasks,children:[s.jsx("h4",{children:":"}),e.subtasks.map(B=>s.jsx(iH,{task:B,onEdit:t,onDelete:n,onFileUpload:a,onFileDelete:r,uploadingFile:i,getPriorityColor:o,getStatusColor:c,formatDate:l,business_slug:d},B.id))]})]})]})},g2t=({taskForm:e,setTaskForm:t,editingTask:n,locations:a,employees:r,tasks:i,onSave:o,onClose:c,saving:l,formErrors:d,setFormErrors:f})=>{const g=b=>{if(d[b]){const w={...d};delete w[b],f(w)}};return s.jsx("div",{className:yn.modalOverlay,onClick:c,children:s.jsxs("div",{className:yn.modalContent,onClick:b=>b.stopPropagation(),children:[s.jsxs("div",{className:yn.modalHeader,children:[s.jsx("h2",{children:n?" ":" "}),s.jsx("button",{className:yn.closeButton,onClick:c,children:s.jsx(da,{})})]}),s.jsxs("div",{className:yn.modalBody,children:[d.non_field_errors&&s.jsx("div",{className:yn.formError,children:d.non_field_errors}),s.jsxs("label",{children:[" *",s.jsx("input",{type:"text",value:e.title,onChange:b=>{t({...e,title:b.target.value}),g("title")},required:!0,className:d.title?yn.inputError:""}),d.title&&s.jsx("span",{className:yn.fieldError,children:d.title})]}),s.jsxs("label",{children:["",s.jsx("textarea",{value:e.description,onChange:b=>{t({...e,description:b.target.value}),g("description")},rows:4,className:d.description?yn.inputError:""}),d.description&&s.jsx("span",{className:yn.fieldError,children:d.description})]}),s.jsxs("div",{className:yn.formRow,children:[s.jsxs("label",{children:["",s.jsxs("select",{value:e.priority,onChange:b=>t({...e,priority:b.target.value}),children:[s.jsx("option",{value:"low",children:""}),s.jsx("option",{value:"medium",children:""}),s.jsx("option",{value:"high",children:""}),s.jsx("option",{value:"critical",children:""})]})]}),s.jsxs("label",{children:["",s.jsxs("select",{value:e.status,onChange:b=>t({...e,status:b.target.value}),children:[s.jsx("option",{value:"todo",children:" "}),s.jsx("option",{value:"in_progress",children:" "}),s.jsx("option",{value:"review",children:" "}),s.jsx("option",{value:"done",children:""}),s.jsx("option",{value:"cancelled",children:""})]})]})]}),s.jsxs("label",{children:[" ",s.jsx("input",{type:"date",value:e.due_date,onChange:b=>{t({...e,due_date:b.target.value}),g("due_date")},className:d.due_date?yn.inputError:""}),d.due_date&&s.jsx("span",{className:yn.fieldError,children:d.due_date})]}),s.jsxs("label",{children:["",s.jsx(oH,{options:a,value:e.location,onChange:b=>{t({...e,location:b}),g("location")},placeholder:" ...",emptyOption:" ",error:!!d.location}),d.location&&s.jsx("span",{className:yn.fieldError,children:d.location})]}),!n&&s.jsxs("label",{children:[" ",s.jsxs("select",{value:e.parent_task,onChange:b=>{t({...e,parent_task:b.target.value}),g("parent_task")},className:d.parent_task?yn.inputError:"",children:[s.jsx("option",{value:"",children:" ( )"}),i.filter(b=>!b.parent_task_id).map(b=>s.jsx("option",{value:b.id,children:b.title},b.id))]}),d.parent_task&&s.jsx("span",{className:yn.fieldError,children:d.parent_task})]}),s.jsxs("label",{children:["",s.jsx("div",{className:`${yn.employeeList} ${d.assignee_ids?yn.inputError:""}`,children:r.length===0?s.jsx("div",{className:yn.emptyEmployees,children:"  "}):r.map(b=>{const w=e.assignee_ids.includes(b.id);return s.jsx("button",{type:"button",className:`${yn.employeeButton} ${w?yn.employeeButtonSelected:""}`,onClick:()=>{let C;w?C=e.assignee_ids.filter(S=>S!==b.id):C=[...e.assignee_ids,b.id],t({...e,assignee_ids:C}),g("assignee_ids")},children:s.jsxs("div",{className:yn.employeeInfo,children:[s.jsxs("div",{className:yn.employeeNameRow,children:[s.jsx(oc,{className:yn.employeeIcon}),s.jsx("span",{className:yn.employeeName,children:b.name}),w&&s.jsx(Xr,{className:yn.checkIcon})]}),b.email&&s.jsxs("span",{className:yn.employeeEmail,children:[s.jsx(Nl,{})," ",b.email]})]})},b.id)})}),d.assignee_ids&&s.jsx("span",{className:yn.fieldError,children:d.assignee_ids})]})]}),s.jsxs("div",{className:yn.modalFooter,children:[s.jsx("button",{className:yn.cancelButton,onClick:c,disabled:l,children:""}),s.jsx("button",{className:yn.saveButton,onClick:o,disabled:l||!e.title,children:l?"...":""})]})]})})},oH=({options:e,value:t,onChange:n,placeholder:a="...",emptyOption:r=" ",className:i="",error:o=!1})=>{const[c,l]=_.useState(!1),[d,f]=_.useState(""),g=nt.useRef(null),b=e.filter(S=>S.name.toLowerCase().includes(d.toLowerCase())),w=e.find(S=>String(S.id)===String(t));_.useEffect(()=>{const S=k=>{g.current&&!g.current.contains(k.target)&&(l(!1),f(""))};return document.addEventListener("mousedown",S),()=>document.removeEventListener("mousedown",S)},[]);const C=S=>{n(S),l(!1),f("")};return s.jsxs("div",{className:`${yn.searchableSelect} ${i} ${o?yn.inputError:""}`,ref:g,children:[s.jsxs("div",{className:yn.searchableSelectTrigger,onClick:()=>l(!c),children:[s.jsx("span",{className:yn.searchableSelectValue,children:w?w.name:r}),s.jsx(al,{className:yn.searchableSelectArrow,style:{transform:c?"rotate(180deg)":"none",transition:"transform 0.3s ease"}})]}),c&&s.jsxs("div",{className:yn.searchableSelectDropdown,children:[s.jsxs("div",{className:yn.searchableSelectSearch,children:[s.jsx(hi,{}),s.jsx("input",{type:"text",placeholder:a,value:d,onChange:S=>f(S.target.value),onClick:S=>S.stopPropagation(),autoFocus:!0})]}),s.jsxs("div",{className:yn.searchableSelectOptions,children:[s.jsx("div",{className:`${yn.searchableSelectOption} ${t?"":yn.searchableSelectOptionSelected}`,onClick:()=>C(""),children:r}),b.length===0?s.jsx("div",{className:yn.searchableSelectNoResults,children:"  "}):b.map(S=>s.jsx("div",{className:`${yn.searchableSelectOption} ${String(S.id)===String(t)?yn.searchableSelectOptionSelected:""}`,onClick:()=>C(S.id),children:S.name},S.id))]})]})]})},_2t="_container_suntx_5",v2t="_header_suntx_27",x2t="_title_suntx_107",b2t="_createButton_suntx_129",y2t="_filtersSection_suntx_179",w2t="_searchForm_suntx_191",j2t="_searchInputGroup_suntx_199",C2t="_searchIcon_suntx_231",S2t="_searchInput_suntx_199",N2t="_searchButton_suntx_275",k2t="_filterToggle_suntx_317",I2t="_filtersPanel_suntx_369",E2t="_filterRow_suntx_391",T2t="_filterLabel_suntx_403",D2t="_filterSelect_suntx_415",A2t="_checkboxLabel_suntx_453",M2t="_content_suntx_491",R2t="_loadingContainer_suntx_501",B2t="_error_suntx_517",O2t="_emptyState_suntx_537",L2t="_emptyIcon_suntx_559",$2t="_tasksList_suntx_583",P2t="_taskCard_suntx_595",F2t="_subtask_suntx_611",H2t="_taskHeader_suntx_621",q2t="_taskTitleRow_suntx_643",V2t="_taskTitle_suntx_643",z2t="_taskBadges_suntx_681",U2t="_badgeWrapper_suntx_695",W2t="_badge_suntx_695",Y2t="_clickableBadge_suntx_725",G2t="_quickEditDropdown_suntx_747",Q2t="_quickEditOption_suntx_773",X2t="_active_suntx_803",K2t="_priorityLow_suntx_815",Z2t="_priorityMedium_suntx_827",J2t="_priorityHigh_suntx_839",ewt="_priorityCritical_suntx_851",twt="_statusTodo_suntx_865",nwt="_statusInProgress_suntx_877",swt="_statusReview_suntx_889",awt="_statusDone_suntx_901",rwt="_statusCancelled_suntx_913",iwt="_taskMeta_suntx_925",owt="_metaItem_suntx_941",cwt="_taskBody_suntx_955",lwt="_taskDescription_suntx_969",uwt="_taskFiles_suntx_987",dwt="_fileItem_suntx_1009",hwt="_fileLink_suntx_1031",fwt="_deleteFileButton_suntx_1059",mwt="_taskActions_suntx_1105",pwt="_actionButton_suntx_1119",gwt="_actionButtonDanger_suntx_1121",_wt="_subtasks_suntx_1195",vwt="_modalOverlay_suntx_1223",xwt="_modal_suntx_1223",bwt="_modalHeader_suntx_1293",ywt="_modalBody_suntx_1331",wwt="_formRow_suntx_1345",jwt="_inputError_suntx_1425",Cwt="_fieldError_suntx_1435",Swt="_formError_suntx_1447",Nwt="_employeeList_suntx_1467",kwt="_emptyEmployees_suntx_1491",Iwt="_employeeButton_suntx_1507",Ewt="_employeeButtonSelected_suntx_1541",Twt="_employeeInfo_suntx_1551",Dwt="_employeeNameRow_suntx_1563",Awt="_employeeIcon_suntx_1575",Mwt="_employeeName_suntx_1563",Rwt="_checkIcon_suntx_1599",Bwt="_employeeEmail_suntx_1609",Owt="_modalFooter_suntx_1627",Lwt="_cancelButton_suntx_1647",$wt="_saveButton_suntx_1649",Pwt="_searchableSelect_suntx_1735",Fwt="_searchableSelectTrigger_suntx_1743",Hwt="_searchableSelectValue_suntx_1785",qwt="_searchableSelectArrow_suntx_1795",Vwt="_searchableSelectDropdown_suntx_1807",zwt="_searchableSelectSearch_suntx_1835",Uwt="_searchableSelectOptions_suntx_1891",Wwt="_searchableSelectOption_suntx_1891",Ywt="_searchableSelectOptionSelected_suntx_1929",Gwt="_searchableSelectNoResults_suntx_1941",Jt={container:_2t,header:v2t,title:x2t,createButton:b2t,filtersSection:y2t,searchForm:w2t,searchInputGroup:j2t,searchIcon:C2t,searchInput:S2t,searchButton:N2t,filterToggle:k2t,filtersPanel:I2t,filterRow:E2t,filterLabel:T2t,filterSelect:D2t,checkboxLabel:A2t,content:M2t,loadingContainer:R2t,error:B2t,emptyState:O2t,emptyIcon:L2t,tasksList:$2t,taskCard:P2t,subtask:F2t,taskHeader:H2t,taskTitleRow:q2t,taskTitle:V2t,taskBadges:z2t,badgeWrapper:U2t,badge:W2t,clickableBadge:Y2t,quickEditDropdown:G2t,quickEditOption:Q2t,active:X2t,priorityLow:K2t,priorityMedium:Z2t,priorityHigh:J2t,priorityCritical:ewt,statusTodo:twt,statusInProgress:nwt,statusReview:swt,statusDone:awt,statusCancelled:rwt,taskMeta:iwt,metaItem:owt,taskBody:cwt,taskDescription:lwt,taskFiles:uwt,fileItem:dwt,fileLink:hwt,deleteFileButton:fwt,taskActions:mwt,actionButton:pwt,actionButtonDanger:gwt,subtasks:_wt,modalOverlay:vwt,modal:xwt,modalHeader:bwt,modalBody:ywt,formRow:wwt,inputError:jwt,fieldError:Cwt,formError:Swt,employeeList:Nwt,emptyEmployees:kwt,employeeButton:Iwt,employeeButtonSelected:Ewt,employeeInfo:Twt,employeeNameRow:Dwt,employeeIcon:Awt,employeeName:Mwt,checkIcon:Rwt,employeeEmail:Bwt,modalFooter:Owt,cancelButton:Lwt,saveButton:$wt,searchableSelect:Pwt,searchableSelectTrigger:Fwt,searchableSelectValue:Hwt,searchableSelectArrow:qwt,searchableSelectDropdown:Vwt,searchableSelectSearch:zwt,searchableSelectOptions:Uwt,searchableSelectOption:Wwt,searchableSelectOptionSelected:Ywt,searchableSelectNoResults:Gwt},Qwt=()=>{const{business_slug:e}=ha();Is();const[t,n]=_.useState([]),[a,r]=_.useState(!0),[i,o]=_.useState(null),[c,l]=_.useState(null),[d,f]=_.useState(""),[g,b]=_.useState(""),[w,C]=_.useState(""),[S,k]=_.useState(""),[E,D]=_.useState(!0),[R,P]=_.useState(!1),[B,O]=_.useState(!1),[$,U]=_.useState(null),[F,H]=_.useState({title:"",description:"",priority:"medium",status:"todo",due_date:"",location:"",parent_task:"",assignee_ids:[]}),[se,K]=_.useState([]),[te,J]=_.useState([]),[z,V]=_.useState(!1),[M,ee]=_.useState(null),[Z,A]=_.useState({}),[G,Q]=_.useState(null),[Y,ae]=_.useState(null);_.useEffect(()=>{ne(),re(),oe()},[e,d,g,w,S,E]),_.useEffect(()=>{const be=Fe=>{G&&!Fe.target.closest(`.${Jt.badgeWrapper}`)&&(Q(null),ae(null))};return document.addEventListener("mousedown",be),()=>{document.removeEventListener("mousedown",be)}},[G]);const ne=async()=>{var be,Fe;try{r(!0);const je={page:1,page_size:50};d&&(je.status=d),g&&(je.priority=g),w&&(je.location=w),S&&(je.search=S),je.show_subtasks=E;const qe=await Be.get(`/api/business/${e}/tasks/`,{params:je});n(qe.data.results||[]),l(qe.data.pagination)}catch(je){console.error("  :",je),o(((Fe=(be=je.response)==null?void 0:be.data)==null?void 0:Fe.detail)||"  ")}finally{r(!1)}},re=async()=>{try{const be=await Be.get(`/api/business/${e}/locations/`);K(be.data||[])}catch(be){console.error("  :",be)}},oe=async()=>{try{const Fe=((await Be.get(`/api/business/${e}/employees/`)).data||[]).map(je=>({id:je.user,name:je.name||je.full_name||" ",email:je.user_email||""}));J(Fe)}catch(be){console.error("  :",be),J([])}},me=()=>{U(null),H({title:"",description:"",priority:"medium",status:"todo",due_date:"",location:"",parent_task:"",assignee_ids:[]}),A({}),O(!0)},Ce=be=>{U(be),H({title:be.title,description:be.description||"",priority:be.priority,status:be.status,due_date:be.due_date?be.due_date.split("T")[0]:"",location:be.location_id||"",parent_task:be.parent_task_id||"",assignee_ids:be.assignees.map(Fe=>Fe.id)}),A({}),O(!0)},Ne=async()=>{var be;try{V(!0),A({});const Fe={...F,location:F.location||null,parent_task:F.parent_task||null,due_date:F.due_date?F.due_date:null};$?await Be.patch(`/api/business/${e}/tasks/${$.id}/`,Fe):await Be.post(`/api/business/${e}/tasks/`,Fe),O(!1),A({}),ne()}catch(Fe){if(console.error("  :",Fe),(be=Fe.response)!=null&&be.data){const je=Fe.response.data;if(typeof je=="object"&&!je.detail){const qe={};Object.keys(je).forEach(tt=>{const he=je[tt];Array.isArray(he)?qe[tt]=he.join(", "):typeof he=="string"?qe[tt]=he:typeof he=="object"&&he.length&&(qe[tt]=he[0])}),A(qe)}else A({non_field_errors:je.detail||"  "})}else A({non_field_errors:"  .    ."})}finally{V(!1)}},Ee=async be=>{var Fe,je;if(window.confirm(" ?"))try{await Be.delete(`/api/business/${e}/tasks/${be}/`),ne()}catch(qe){console.error("  :",qe),alert(((je=(Fe=qe.response)==null?void 0:Fe.data)==null?void 0:je.detail)||"  ")}},ve=async(be,Fe)=>{var je,qe;try{await Be.patch(`/api/business/${e}/tasks/${be}/`,{status:Fe}),Q(null),ae(null),ne()}catch(tt){console.error("  :",tt),alert(((qe=(je=tt.response)==null?void 0:je.data)==null?void 0:qe.detail)||"  ")}},Se=async(be,Fe)=>{var je,qe;try{await Be.patch(`/api/business/${e}/tasks/${be}/`,{priority:Fe}),Q(null),ae(null),ne()}catch(tt){console.error("  :",tt),alert(((qe=(je=tt.response)==null?void 0:je.data)==null?void 0:qe.detail)||"  ")}},fe=()=>[{value:"todo",label:" ",color:"#969696"},{value:"in_progress",label:" ",color:"#6496ff"},{value:"review",label:" ",color:"#ffc864"},{value:"done",label:"",color:"#64c864"},{value:"cancelled",label:"",color:"#ff4757"}],de=()=>[{value:"low",label:"",color:"#64c864"},{value:"medium",label:"",color:"#d4af37"},{value:"high",label:"",color:"#ffa500"},{value:"critical",label:"",color:"#ff4757"}],pe=async(be,Fe)=>{var je,qe;try{ee(be);const tt=new FormData;tt.append("file",Fe),tt.append("name",Fe.name),await Be.post(`/api/business/${e}/tasks/${be}/files/`,tt,{headers:{"Content-Type":"multipart/form-data"}}),ne()}catch(tt){console.error("  :",tt),alert(((qe=(je=tt.response)==null?void 0:je.data)==null?void 0:qe.detail)||"  ")}finally{ee(null)}},ce=async(be,Fe)=>{var je,qe;if(window.confirm(" ?"))try{await Be.delete(`/api/business/${e}/tasks/${be}/files/${Fe}/`),ne()}catch(tt){console.error("  :",tt),alert(((qe=(je=tt.response)==null?void 0:je.data)==null?void 0:qe.detail)||"  ")}},Re=be=>be?new Date(be).toLocaleDateString("ru-RU"):"",Ae=be=>({low:Jt.priorityLow,medium:Jt.priorityMedium,high:Jt.priorityHigh,critical:Jt.priorityCritical})[be]||Jt.priorityMedium,ie=be=>({todo:Jt.statusTodo,in_progress:Jt.statusInProgress,review:Jt.statusReview,done:Jt.statusDone,cancelled:Jt.statusCancelled})[be]||Jt.statusTodo,ge=be=>{be.preventDefault(),ne()};return a&&t.length===0?s.jsx("div",{className:Jt.loadingContainer,children:s.jsx(Fn,{size:"large"})}):s.jsxs("div",{className:Jt.container,children:[s.jsxs("div",{className:Jt.header,children:[s.jsx("h1",{className:Jt.title,children:""}),s.jsx("button",{className:Jt.createButton,onClick:me,children:s.jsx(Va,{})})]}),s.jsxs("div",{className:Jt.filtersSection,children:[s.jsx("form",{onSubmit:ge,className:Jt.searchForm,children:s.jsxs("div",{className:Jt.searchInputGroup,children:[s.jsx(hi,{className:Jt.searchIcon}),s.jsx("input",{type:"text",placeholder:"    ...",value:S,onChange:be=>k(be.target.value),className:Jt.searchInput}),s.jsx("button",{type:"submit",className:Jt.searchButton,children:""})]})}),s.jsxs("button",{className:Jt.filterToggle,onClick:()=>P(!R),children:[s.jsx(tf,{})," ",R?" ":" ",R?s.jsx(ko,{}):s.jsx(No,{})]}),R&&s.jsxs("div",{className:Jt.filtersPanel,children:[s.jsxs("div",{className:Jt.filterRow,children:[s.jsx("label",{className:Jt.filterLabel,children:""}),s.jsxs("select",{value:d,onChange:be=>f(be.target.value),className:Jt.filterSelect,children:[s.jsx("option",{value:"",children:" "}),s.jsx("option",{value:"todo",children:" "}),s.jsx("option",{value:"in_progress",children:" "}),s.jsx("option",{value:"review",children:" "}),s.jsx("option",{value:"done",children:""}),s.jsx("option",{value:"cancelled",children:""})]})]}),s.jsxs("div",{className:Jt.filterRow,children:[s.jsx("label",{className:Jt.filterLabel,children:""}),s.jsxs("select",{value:g,onChange:be=>b(be.target.value),className:Jt.filterSelect,children:[s.jsx("option",{value:"",children:" "}),s.jsx("option",{value:"low",children:""}),s.jsx("option",{value:"medium",children:""}),s.jsx("option",{value:"high",children:""}),s.jsx("option",{value:"critical",children:""})]})]}),s.jsxs("div",{className:Jt.filterRow,children:[s.jsx("label",{className:Jt.filterLabel,children:""}),s.jsx(lH,{options:se,value:w,onChange:be=>C(be),placeholder:" ...",emptyOption:" "})]}),s.jsx("div",{className:Jt.filterRow,children:s.jsxs("label",{className:Jt.checkboxLabel,children:[s.jsx("input",{type:"checkbox",checked:E,onChange:be=>D(be.target.checked)})," "]})})]})]}),s.jsxs("div",{className:Jt.content,children:[i&&s.jsx("div",{className:Jt.error,children:i}),s.jsx("div",{className:Jt.tasksList,children:t.length===0?s.jsxs("div",{className:Jt.emptyState,children:[s.jsx(FaTasks,{className:Jt.emptyIcon}),s.jsx("p",{children:" .   !"})]}):t.map(be=>s.jsx(cH,{task:be,onEdit:Ce,onDelete:Ee,onFileUpload:pe,onFileDelete:ce,uploadingFile:M,getPriorityColor:Ae,getStatusColor:ie,formatDate:Re,business_slug:e,quickEditTaskId:G,setQuickEditTaskId:Q,quickEditType:Y,setQuickEditType:ae,onQuickStatusChange:ve,onQuickPriorityChange:Se,getStatusOptions:fe,getPriorityOptions:de},be.id))})]}),B&&s.jsx(Xwt,{taskForm:F,setTaskForm:H,editingTask:$,locations:se,employees:te,tasks:t,onSave:Ne,onClose:()=>{O(!1),A({})},saving:z,formErrors:Z,setFormErrors:A})]})},cH=({task:e,onEdit:t,onDelete:n,onFileUpload:a,onFileDelete:r,uploadingFile:i,getPriorityColor:o,getStatusColor:c,formatDate:l,business_slug:d,quickEditTaskId:f,setQuickEditTaskId:g,quickEditType:b,setQuickEditType:w,onQuickStatusChange:C,onQuickPriorityChange:S,getStatusOptions:k,getPriorityOptions:E})=>{const[D,R]=_.useState(!1),P=nt.useRef(null),B=Is();return s.jsxs("div",{className:`${Jt.taskCard} ${e.parent_task_id?Jt.subtask:""}`,children:[s.jsxs("div",{className:Jt.taskHeader,onClick:()=>R(!D),children:[s.jsxs("div",{className:Jt.taskTitleRow,children:[s.jsx("h3",{className:Jt.taskTitle,onClick:O=>{O.stopPropagation(),B(`/business/${d}/tasks/${e.id}`)},children:e.title}),s.jsxs("div",{className:Jt.taskBadges,children:[s.jsxs("div",{className:Jt.badgeWrapper,children:[s.jsxs("span",{className:`${Jt.badge} ${o(e.priority)} ${Jt.clickableBadge}`,onClick:O=>{O.stopPropagation(),g(f===e.id&&b==="priority"?null:e.id),w(f===e.id&&b==="priority"?null:"priority")},children:[e.priority_display,s.jsx(al,{})]}),f===e.id&&b==="priority"&&s.jsx("div",{className:Jt.quickEditDropdown,onClick:O=>O.stopPropagation(),children:E().map(O=>s.jsx("div",{className:`${Jt.quickEditOption} ${e.priority===O.value?Jt.active:""}`,onClick:()=>S(e.id,O.value),style:{borderLeftColor:O.color},children:O.label},O.value))})]}),s.jsxs("div",{className:Jt.badgeWrapper,children:[s.jsxs("span",{className:`${Jt.badge} ${c(e.status)} ${Jt.clickableBadge}`,onClick:O=>{O.stopPropagation(),g(f===e.id&&b==="status"?null:e.id),w(f===e.id&&b==="status"?null:"status")},children:[e.status_display,s.jsx(al,{})]}),f===e.id&&b==="status"&&s.jsx("div",{className:Jt.quickEditDropdown,onClick:O=>O.stopPropagation(),children:k().map(O=>s.jsx("div",{className:`${Jt.quickEditOption} ${e.status===O.value?Jt.active:""}`,onClick:()=>C(e.id,O.value),style:{borderLeftColor:O.color},children:O.label},O.value))})]})]})]}),s.jsxs("div",{className:Jt.taskMeta,children:[e.location_name&&s.jsxs("span",{className:Jt.metaItem,children:[s.jsx(cr,{})," ",e.location_name]}),e.due_date&&s.jsxs("span",{className:Jt.metaItem,children:[s.jsx(Sm,{})," ",l(e.due_date)]}),e.assignees.length>0&&s.jsxs("span",{className:Jt.metaItem,children:[s.jsx(Lg,{})," ",e.assignees.map(O=>O.name||O.full_name).join(", ")]})]})]}),D&&s.jsxs("div",{className:Jt.taskBody,children:[e.description&&s.jsx("div",{className:Jt.taskDescription,children:e.description}),e.files&&e.files.length>0&&s.jsxs("div",{className:Jt.taskFiles,children:[s.jsx("h4",{children:":"}),e.files.map(O=>s.jsxs("div",{className:Jt.fileItem,children:[s.jsxs("a",{href:O.file_url,target:"_blank",rel:"noopener noreferrer",className:Jt.fileLink,children:[s.jsx(Vb,{})," ",O.name]}),s.jsx("button",{className:Jt.deleteFileButton,onClick:()=>r(e.id,O.id),children:s.jsx(da,{})})]},O.id))]}),s.jsxs("div",{className:Jt.taskActions,children:[s.jsx("input",{type:"file",ref:P,style:{display:"none"},onChange:O=>{O.target.files[0]&&a(e.id,O.target.files[0])}}),s.jsxs("button",{className:Jt.actionButton,onClick:()=>B(`/business/${d}/tasks/${e.id}`),children:[s.jsx(fo,{})," "]}),s.jsxs("button",{className:Jt.actionButton,onClick:()=>{var O;return(O=P.current)==null?void 0:O.click()},disabled:i===e.id,children:[s.jsx(Im,{})," ",i===e.id?"...":""]}),s.jsxs("button",{className:Jt.actionButton,onClick:()=>t(e),children:[s.jsx(rl,{})," "]}),s.jsxs("button",{className:Jt.actionButtonDanger,onClick:()=>n(e.id),children:[s.jsx(Ir,{})," "]})]}),e.subtasks&&e.subtasks.length>0&&s.jsxs("div",{className:Jt.subtasks,children:[s.jsx("h4",{children:":"}),e.subtasks.map(O=>s.jsx(cH,{task:O,onEdit:t,onDelete:n,onFileUpload:a,onFileDelete:r,uploadingFile:i,getPriorityColor:o,getStatusColor:c,formatDate:l,business_slug:d},O.id))]})]})]})},Xwt=({taskForm:e,setTaskForm:t,editingTask:n,locations:a,employees:r,tasks:i,onSave:o,onClose:c,saving:l,formErrors:d,setFormErrors:f})=>{const g=b=>{if(d[b]){const w={...d};delete w[b],f(w)}};return s.jsx("div",{className:Jt.modalOverlay,onClick:c,children:s.jsxs("div",{className:Jt.modal,onClick:b=>b.stopPropagation(),children:[s.jsxs("div",{className:Jt.modalHeader,children:[s.jsx("h2",{children:n?" ":" "}),s.jsx(Li,{onClick:c})]}),s.jsxs("div",{className:Jt.modalBody,children:[d.non_field_errors&&s.jsx("div",{className:Jt.formError,children:d.non_field_errors}),s.jsx("div",{className:Jt.formRow,children:s.jsxs("label",{children:[" *",s.jsx("input",{type:"text",value:e.title,onChange:b=>{t({...e,title:b.target.value}),g("title")},required:!0,className:d.title?Jt.inputError:""}),d.title&&s.jsx("span",{className:Jt.fieldError,children:d.title})]})}),s.jsx("div",{className:Jt.formRow,children:s.jsxs("label",{children:["",s.jsx("textarea",{value:e.description,onChange:b=>{t({...e,description:b.target.value}),g("description")},rows:4,className:d.description?Jt.inputError:""}),d.description&&s.jsx("span",{className:Jt.fieldError,children:d.description})]})}),s.jsx("div",{className:Jt.formRow,children:s.jsxs("label",{children:["",s.jsxs("select",{value:e.priority,onChange:b=>t({...e,priority:b.target.value}),children:[s.jsx("option",{value:"low",children:""}),s.jsx("option",{value:"medium",children:""}),s.jsx("option",{value:"high",children:""}),s.jsx("option",{value:"critical",children:""})]})]})}),s.jsx("div",{className:Jt.formRow,children:s.jsxs("label",{children:["",s.jsxs("select",{value:e.status,onChange:b=>t({...e,status:b.target.value}),children:[s.jsx("option",{value:"todo",children:" "}),s.jsx("option",{value:"in_progress",children:" "}),s.jsx("option",{value:"review",children:" "}),s.jsx("option",{value:"done",children:""}),s.jsx("option",{value:"cancelled",children:""})]})]})}),s.jsx("div",{className:Jt.formRow,children:s.jsxs("label",{children:[" ",s.jsx("input",{type:"date",value:e.due_date,onChange:b=>{t({...e,due_date:b.target.value}),g("due_date")},className:d.due_date?Jt.inputError:""}),d.due_date&&s.jsx("span",{className:Jt.fieldError,children:d.due_date})]})}),s.jsx("div",{className:Jt.formRow,children:s.jsxs("label",{children:["",s.jsx(lH,{options:a,value:e.location,onChange:b=>{t({...e,location:b}),g("location")},placeholder:" ...",emptyOption:" ",error:!!d.location}),d.location&&s.jsx("span",{className:Jt.fieldError,children:d.location})]})}),!n&&s.jsx("div",{className:Jt.formRow,children:s.jsxs("label",{children:[" ",s.jsxs("select",{value:e.parent_task,onChange:b=>{t({...e,parent_task:b.target.value}),g("parent_task")},className:d.parent_task?Jt.inputError:"",children:[s.jsx("option",{value:"",children:" ( )"}),i.filter(b=>!b.parent_task_id).map(b=>s.jsx("option",{value:b.id,children:b.title},b.id))]}),d.parent_task&&s.jsx("span",{className:Jt.fieldError,children:d.parent_task})]})}),s.jsx("div",{className:Jt.formRow,children:s.jsxs("label",{children:["",s.jsx("div",{className:`${Jt.employeeList} ${d.assignee_ids?Jt.inputError:""}`,children:r.length===0?s.jsx("div",{className:Jt.emptyEmployees,children:"  "}):r.map(b=>{const w=e.assignee_ids.includes(b.id);return s.jsx("button",{type:"button",className:`${Jt.employeeButton} ${w?Jt.employeeButtonSelected:""}`,onClick:()=>{let C;w?C=e.assignee_ids.filter(S=>S!==b.id):C=[...e.assignee_ids,b.id],t({...e,assignee_ids:C}),g("assignee_ids")},children:s.jsxs("div",{className:Jt.employeeInfo,children:[s.jsxs("div",{className:Jt.employeeNameRow,children:[s.jsx(oc,{className:Jt.employeeIcon}),s.jsx("span",{className:Jt.employeeName,children:b.name}),w&&s.jsx(Xr,{className:Jt.checkIcon})]}),b.email&&s.jsxs("span",{className:Jt.employeeEmail,children:[s.jsx(Nl,{})," ",b.email]})]})},b.id)})}),d.assignee_ids&&s.jsx("span",{className:Jt.fieldError,children:d.assignee_ids})]})})]}),s.jsxs("div",{className:Jt.modalFooter,children:[s.jsx("button",{className:Jt.cancelButton,onClick:c,disabled:l,children:""}),s.jsx("button",{className:Jt.saveButton,onClick:o,disabled:l||!e.title,children:l?"...":""})]})]})})},lH=({options:e,value:t,onChange:n,placeholder:a="...",emptyOption:r=" ",className:i="",error:o=!1})=>{const[c,l]=_.useState(!1),[d,f]=_.useState(""),g=nt.useRef(null),b=e.filter(S=>S.name.toLowerCase().includes(d.toLowerCase())),w=e.find(S=>String(S.id)===String(t));_.useEffect(()=>{const S=k=>{g.current&&!g.current.contains(k.target)&&(l(!1),f(""))};return document.addEventListener("mousedown",S),()=>document.removeEventListener("mousedown",S)},[]);const C=S=>{n(S),l(!1),f("")};return s.jsxs("div",{className:`${Jt.searchableSelect} ${i} ${o?Jt.inputError:""}`,ref:g,children:[s.jsxs("div",{className:Jt.searchableSelectTrigger,onClick:()=>l(!c),children:[s.jsx("span",{className:Jt.searchableSelectValue,children:w?w.name:r}),s.jsx(al,{className:Jt.searchableSelectArrow,style:{transform:c?"rotate(180deg)":"none",transition:"transform 0.3s ease"}})]}),c&&s.jsxs("div",{className:Jt.searchableSelectDropdown,children:[s.jsxs("div",{className:Jt.searchableSelectSearch,children:[s.jsx(hi,{}),s.jsx("input",{type:"text",placeholder:a,value:d,onChange:S=>f(S.target.value),onClick:S=>S.stopPropagation(),autoFocus:!0})]}),s.jsxs("div",{className:Jt.searchableSelectOptions,children:[s.jsx("div",{className:`${Jt.searchableSelectOption} ${t?"":Jt.searchableSelectOptionSelected}`,onClick:()=>C(""),children:r}),b.length===0?s.jsx("div",{className:Jt.searchableSelectNoResults,children:"  "}):b.map(S=>s.jsx("div",{className:`${Jt.searchableSelectOption} ${String(S.id)===String(t)?Jt.searchableSelectOptionSelected:""}`,onClick:()=>C(S.id),children:S.name},S.id))]})]})]})},Kwt="_container_3ii76_30",Zwt="_taskHeader_3ii76_41",Jwt="_backButtonHeader_3ii76_52",ejt="_taskHeaderContent_3ii76_77",tjt="_taskHeaderLeft_3ii76_85",njt="_taskHeaderBadges_3ii76_103",sjt="_badgeWrapper_3ii76_109",ajt="_taskHeaderRight_3ii76_113",rjt="_taskHeaderMeta_3ii76_120",ijt="_content_3ii76_135",ojt="_mainColumn_3ii76_142",cjt="_sidebar_3ii76_148",ljt="_card_3ii76_155",ujt="_cardHeader_3ii76_164",djt="_cardBody_3ii76_189",hjt="_badge_3ii76_109",fjt="_clickableBadge_3ii76_208",mjt="_quickEditDropdown_3ii76_218",pjt="_quickEditOption_3ii76_243",gjt="_active_3ii76_263",_jt="_priorityLow_3ii76_280",vjt="_priorityMedium_3ii76_286",xjt="_priorityHigh_3ii76_292",bjt="_priorityCritical_3ii76_298",yjt="_statusTodo_3ii76_304",wjt="_statusInProgress_3ii76_310",jjt="_statusReview_3ii76_316",Cjt="_statusDone_3ii76_322",Sjt="_statusCancelled_3ii76_328",Njt="_descriptionText_3ii76_335",kjt="_progressSection_3ii76_350",Ijt="_progressInfo_3ii76_356",Ejt="_progressPercentage_3ii76_365",Tjt="_progressBar_3ii76_371",Djt="_progressBarFill_3ii76_381",Ajt="_progressStats_3ii76_389",Mjt="_checklistList_3ii76_397",Rjt="_checklistItem_3ii76_404",Bjt="_checklistLabel_3ii76_422",Ojt="_checklistCheckbox_3ii76_431",Ljt="_checklistText_3ii76_439",$jt="_checklistTextCompleted_3ii76_447",Pjt="_checklistDelete_3ii76_453",Fjt="_checklistForm_3ii76_475",Hjt="_checklistInput_3ii76_482",qjt="_checklistAddButton_3ii76_504",Vjt="_emptyChecklist_3ii76_536",zjt="_filesList_3ii76_547",Ujt="_fileItem_3ii76_553",Wjt="_commentsList_3ii76_596",Yjt="_comment_3ii76_596",Gjt="_commentAvatar_3ii76_641",Qjt="_commentContent_3ii76_656",Xjt="_commentHeader_3ii76_663",Kjt="_commentAuthor_3ii76_671",Zjt="_commentDate_3ii76_677",Jjt="_commentText_3ii76_683",eCt="_noComments_3ii76_690",tCt="_commentForm_3ii76_700",nCt="_commentInput_3ii76_705",sCt="_commentFormActions_3ii76_731",aCt="_commentButton_3ii76_736",rCt="_infoItem_3ii76_769",iCt="_infoValue_3ii76_787",oCt="_assigneesList_3ii76_802",cCt="_assigneeItem_3ii76_808",lCt="_assigneeAvatar_3ii76_824",uCt="_actionsList_3ii76_846",dCt="_actionButton_3ii76_852",hCt="_actionButtonSuccess_3ii76_853",fCt="_actionButtonWarning_3ii76_854",mCt="_actionButtonDanger_3ii76_855",pCt="_error_3ii76_916",gCt="_backButton_3ii76_52",_Ct="_modalOverlay_3ii76_953",vCt="_modalContent_3ii76_966",xCt="_modalHeader_3ii76_991",bCt="_modalClose_3ii76_1010",yCt="_modalBody_3ii76_1042",wCt="_modalFooter_3ii76_1049",jCt="_modalButtonCancel_3ii76_1058",CCt="_modalButtonSave_3ii76_1059",SCt="_formGroup_3ii76_1107",NCt="_formInput_3ii76_1123",kCt="_formTextarea_3ii76_1124",ICt="_formSelect_3ii76_1125",ECt="_formRow_3ii76_1157",TCt="_assigneesSelector_3ii76_1163",DCt="_employeeSelectButton_3ii76_1175",ACt="_selected_3ii76_1196",Bt={container:Kwt,taskHeader:Zwt,backButtonHeader:Jwt,taskHeaderContent:ejt,taskHeaderLeft:tjt,taskHeaderBadges:njt,badgeWrapper:sjt,taskHeaderRight:ajt,taskHeaderMeta:rjt,content:ijt,mainColumn:ojt,sidebar:cjt,card:ljt,cardHeader:ujt,cardBody:djt,badge:hjt,clickableBadge:fjt,quickEditDropdown:mjt,quickEditOption:pjt,active:gjt,priorityLow:_jt,priorityMedium:vjt,priorityHigh:xjt,priorityCritical:bjt,statusTodo:yjt,statusInProgress:wjt,statusReview:jjt,statusDone:Cjt,statusCancelled:Sjt,descriptionText:Njt,progressSection:kjt,progressInfo:Ijt,progressPercentage:Ejt,progressBar:Tjt,progressBarFill:Djt,progressStats:Ajt,checklistList:Mjt,checklistItem:Rjt,checklistLabel:Bjt,checklistCheckbox:Ojt,checklistText:Ljt,checklistTextCompleted:$jt,checklistDelete:Pjt,checklistForm:Fjt,checklistInput:Hjt,checklistAddButton:qjt,emptyChecklist:Vjt,filesList:zjt,fileItem:Ujt,commentsList:Wjt,comment:Yjt,commentAvatar:Gjt,commentContent:Qjt,commentHeader:Xjt,commentAuthor:Kjt,commentDate:Zjt,commentText:Jjt,noComments:eCt,commentForm:tCt,commentInput:nCt,commentFormActions:sCt,commentButton:aCt,infoItem:rCt,infoValue:iCt,assigneesList:oCt,assigneeItem:cCt,assigneeAvatar:lCt,actionsList:uCt,actionButton:dCt,actionButtonSuccess:hCt,actionButtonWarning:fCt,actionButtonDanger:mCt,error:pCt,backButton:gCt,modalOverlay:_Ct,modalContent:vCt,modalHeader:xCt,modalClose:bCt,modalBody:yCt,modalFooter:wCt,modalButtonCancel:jCt,modalButtonSave:CCt,formGroup:SCt,formInput:NCt,formTextarea:kCt,formSelect:ICt,formRow:ECt,assigneesSelector:TCt,employeeSelectButton:DCt,selected:ACt},MCt=()=>{const{business_slug:e,task_id:t}=ha(),n=Is(),[a,r]=_.useState(null),[i,o]=_.useState(!0),[c,l]=_.useState(null),[d,f]=_.useState([]),[g,b]=_.useState([]),[w,C]=_.useState(""),[S,k]=_.useState(""),[E,D]=_.useState(!1),[R,P]=_.useState(!1),[B,O]=_.useState([]),[$,U]=_.useState([]),[F,H]=_.useState(!1),[se,K]=_.useState(!1),[te,J]=_.useState(!1),[z,V]=_.useState({title:"",description:"",priority:"medium",status:"todo",due_date:"",location:"",assignee_ids:[]}),[M,ee]=_.useState([]),[Z,A]=_.useState(null);_.useEffect(()=>{G(),Q(),Y(),ae(),ne()},[e,t]),_.useEffect(()=>{const he=Ze=>{Z&&!Ze.target.closest(`.${Bt.badgeWrapper}`)&&A(null)};return document.addEventListener("mousedown",he),()=>{document.removeEventListener("mousedown",he)}},[Z]);const G=async()=>{var he,Ze;try{o(!0);const Pe=await Be.get(`/api/business/${e}/tasks/${t}/`);r(Pe.data)}catch(Pe){console.error("  :",Pe),l(((Ze=(he=Pe.response)==null?void 0:he.data)==null?void 0:Ze.detail)||"  ")}finally{o(!1)}},Q=async()=>{try{const he=await Be.get(`/api/business/${e}/tasks/${t}/comments/`);f(he.data||[])}catch(he){console.error("  :",he)}},Y=async()=>{try{const he=await Be.get(`/api/business/${e}/tasks/${t}/checklist/`);b(he.data||[])}catch(he){console.error("  -:",he)}},ae=async()=>{try{const he=await Be.get(`/api/business/${e}/locations/`);O(he.data||[])}catch(he){console.error("  :",he)}},ne=async()=>{try{const Ze=((await Be.get(`/api/business/${e}/employees/`)).data||[]).map(Pe=>({id:Pe.user,name:Pe.name||Pe.full_name||" ",email:Pe.user_email||""}));U(Ze)}catch(he){console.error("  :",he)}},re=async()=>{var he,Ze;if(w.trim())try{D(!0);const Pe=await Be.post(`/api/business/${e}/tasks/${t}/comments/`,{text:w});f([...d,Pe.data]),C("")}catch(Pe){console.error("  :",Pe),alert(((Ze=(he=Pe.response)==null?void 0:he.data)==null?void 0:Ze.detail)||"  ")}finally{D(!1)}},oe=async()=>{var he,Ze;if(S.trim())try{P(!0);const Pe=await Be.post(`/api/business/${e}/tasks/${t}/checklist/`,{text:S,order:g.length});b([...g,Pe.data]),k(""),G()}catch(Pe){console.error("  :",Pe),alert(((Ze=(he=Pe.response)==null?void 0:he.data)==null?void 0:Ze.detail)||"  ")}finally{P(!1)}},me=async he=>{var Ze,Pe;try{const bt=await Be.patch(`/api/business/${e}/tasks/${t}/checklist/${he.id}/`,{is_completed:!he.is_completed});b(g.map(Ge=>Ge.id===he.id?bt.data:Ge)),G()}catch(bt){console.error("  :",bt),alert(((Pe=(Ze=bt.response)==null?void 0:Ze.data)==null?void 0:Pe.detail)||"  ")}},Ce=async he=>{var Ze,Pe;if(window.confirm(" ?"))try{await Be.delete(`/api/business/${e}/tasks/${t}/checklist/${he}/`),b(g.filter(bt=>bt.id!==he)),G()}catch(bt){console.error("  :",bt),alert(((Pe=(Ze=bt.response)==null?void 0:Ze.data)==null?void 0:Pe.detail)||"  ")}},Ne=()=>{a&&(V({title:a.title,description:a.description||"",priority:a.priority,status:a.status,due_date:a.due_date?a.due_date.split("T")[0]:"",location:a.location_id||"",assignee_ids:a.assignees.map(he=>he.id)}),H(!0))},Ee=async()=>{var he,Ze;try{J(!0);const Pe={...z,location:z.location||null,due_date:z.due_date?z.due_date:null};await Be.patch(`/api/business/${e}/tasks/${t}/`,Pe),H(!1),G()}catch(Pe){console.error("  :",Pe),alert(((Ze=(he=Pe.response)==null?void 0:he.data)==null?void 0:Ze.detail)||"  ")}finally{J(!1)}},ve=async()=>{var he,Ze;if(window.confirm(" ?"))try{await Be.patch(`/api/business/${e}/tasks/${t}/`,{status:"done"}),G()}catch(Pe){console.error("  :",Pe),alert(((Ze=(he=Pe.response)==null?void 0:he.data)==null?void 0:Ze.detail)||"  ")}},Se=()=>{a&&(ee(a.assignees.map(he=>he.id)),K(!0))},fe=async()=>{var he,Ze;try{J(!0),await Be.patch(`/api/business/${e}/tasks/${t}/`,{assignee_ids:M}),K(!1),G()}catch(Pe){console.error("  :",Pe),alert(((Ze=(he=Pe.response)==null?void 0:he.data)==null?void 0:Ze.detail)||"  ")}finally{J(!1)}},de=async()=>{var he,Ze;if(window.confirm(" ,     ?    ."))try{await Be.delete(`/api/business/${e}/tasks/${t}/`),n(`/business/${e}/tasks`)}catch(Pe){console.error("  :",Pe),alert(((Ze=(he=Pe.response)==null?void 0:he.data)==null?void 0:Ze.detail)||"  ")}},pe=he=>{ee(Ze=>Ze.includes(he)?Ze.filter(Pe=>Pe!==he):[...Ze,he])},ce=async he=>{var Ze,Pe;try{await Be.patch(`/api/business/${e}/tasks/${t}/`,{status:he}),A(null),G()}catch(bt){console.error("  :",bt),alert(((Pe=(Ze=bt.response)==null?void 0:Ze.data)==null?void 0:Pe.detail)||"  ")}},Re=async he=>{var Ze,Pe;try{await Be.patch(`/api/business/${e}/tasks/${t}/`,{priority:he}),A(null),G()}catch(bt){console.error("  :",bt),alert(((Pe=(Ze=bt.response)==null?void 0:Ze.data)==null?void 0:Pe.detail)||"  ")}},Ae=()=>[{value:"todo",label:" ",color:"#969696"},{value:"in_progress",label:" ",color:"#6496ff"},{value:"review",label:" ",color:"#ffc864"},{value:"done",label:"",color:"#64c864"},{value:"cancelled",label:"",color:"#ff4757"}],ie=()=>[{value:"low",label:"",color:"#64c864"},{value:"medium",label:"",color:"#d4af37"},{value:"high",label:"",color:"#ffa500"},{value:"critical",label:"",color:"#ff4757"}],ge=he=>he?Kn(he).format("DD.MM.YYYY HH:mm"):"",be=he=>({low:Bt.priorityLow,medium:Bt.priorityMedium,high:Bt.priorityHigh,critical:Bt.priorityCritical})[he]||Bt.priorityMedium,Fe=he=>({todo:Bt.statusTodo,in_progress:Bt.statusInProgress,review:Bt.statusReview,done:Bt.statusDone,cancelled:Bt.statusCancelled})[he]||Bt.statusTodo,je=he=>{if(!he)return"?";const Ze=he.split(" ");return Ze.length>=2?(Ze[0][0]+Ze[1][0]).toUpperCase():he.substring(0,2).toUpperCase()};if(i)return s.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh"},children:s.jsx(Fn,{size:"large"})});if(c||!a)return s.jsxs("div",{className:Bt.container,children:[s.jsx("div",{className:Bt.error,children:c||"  "}),s.jsxs("button",{className:Bt.backButton,onClick:()=>n(`/business/${e}/tasks`),children:[s.jsx(Cm,{}),"    "]})]});const qe=B.find(he=>he.id===a.location_id),tt=a.progress||{completed:0,total:0,percentage:0};return s.jsxs("div",{className:Bt.container,children:[s.jsxs("div",{className:Bt.taskHeader,children:[s.jsxs("button",{className:Bt.backButtonHeader,onClick:()=>n(`/business/${e}/tasks`),children:[s.jsx(Cm,{})," "]}),s.jsxs("div",{className:Bt.taskHeaderContent,children:[s.jsxs("div",{className:Bt.taskHeaderLeft,children:[s.jsx("h1",{children:a.title}),s.jsxs("div",{className:Bt.taskHeaderBadges,children:[s.jsx("span",{className:`${Bt.badge} ${Fe(a.status)}`,children:a.status_display}),s.jsx("span",{className:`${Bt.badge} ${be(a.priority)}`,children:a.priority_display})]})]}),s.jsxs("div",{className:Bt.taskHeaderRight,children:[a.created_at&&s.jsxs("div",{className:Bt.taskHeaderMeta,children:[s.jsx(Sm,{}),s.jsxs("span",{children:[": ",ge(a.created_at)]})]}),a.due_date&&s.jsxs("div",{className:Bt.taskHeaderMeta,children:[s.jsx(Nm,{}),s.jsxs("span",{children:[": ",ge(a.due_date)]})]})]})]})]}),s.jsxs("div",{className:Bt.content,children:[s.jsxs("div",{className:Bt.mainColumn,children:[a.description&&s.jsxs("div",{className:Bt.card,children:[s.jsxs("div",{className:Bt.cardHeader,children:[s.jsx(xu,{}),s.jsx("h3",{children:" "})]}),s.jsx("div",{className:Bt.cardBody,children:s.jsx("div",{className:Bt.descriptionText,children:a.description.split(`
`).map((he,Ze)=>s.jsx("p",{children:he||""},Ze))})})]}),tt.total>0&&s.jsxs("div",{className:Bt.card,children:[s.jsxs("div",{className:Bt.cardHeader,children:[s.jsx(Wb,{}),s.jsx("h3",{children:" "})]}),s.jsx("div",{className:Bt.cardBody,children:s.jsxs("div",{className:Bt.progressSection,children:[s.jsxs("div",{className:Bt.progressInfo,children:[s.jsx("span",{children:" "}),s.jsxs("span",{className:Bt.progressPercentage,children:[tt.percentage,"%"]})]}),s.jsx("div",{className:Bt.progressBar,children:s.jsx("div",{className:Bt.progressBarFill,style:{width:`${tt.percentage}%`}})}),s.jsxs("div",{className:Bt.progressStats,children:[tt.completed,"  ",tt.total,"  "]})]})})]}),s.jsxs("div",{className:Bt.card,children:[s.jsxs("div",{className:Bt.cardHeader,children:[s.jsx(SR,{}),s.jsx("h3",{children:"-"})]}),s.jsxs("div",{className:Bt.cardBody,children:[s.jsxs("div",{className:Bt.checklistList,children:[g.map(he=>s.jsxs("div",{className:Bt.checklistItem,children:[s.jsxs("label",{className:Bt.checklistLabel,children:[s.jsx("input",{type:"checkbox",checked:he.is_completed,onChange:()=>me(he),className:Bt.checklistCheckbox}),s.jsx("span",{className:`${Bt.checklistText} ${he.is_completed?Bt.checklistTextCompleted:""}`,children:he.text})]}),s.jsx("button",{className:Bt.checklistDelete,onClick:()=>Ce(he.id),title:"",children:s.jsx(da,{})})]},he.id)),g.length===0&&s.jsx("div",{className:Bt.emptyChecklist,children:"    -"})]}),s.jsxs("div",{className:Bt.checklistForm,children:[s.jsx("input",{type:"text",value:S,onChange:he=>k(he.target.value),onKeyPress:he=>{he.key==="Enter"&&oe()},placeholder:" ...",className:Bt.checklistInput}),s.jsx("button",{onClick:oe,disabled:!S.trim()||R,className:Bt.checklistAddButton,children:R?"...":s.jsx(Va,{})})]})]})]}),a.files&&a.files.length>0&&s.jsxs("div",{className:Bt.card,children:[s.jsxs("div",{className:Bt.cardHeader,children:[s.jsx(MR,{}),s.jsx("h3",{children:""})]}),s.jsx("div",{className:Bt.cardBody,children:s.jsx("div",{className:Bt.filesList,children:a.files.map(he=>s.jsxs("a",{href:he.file_url,target:"_blank",rel:"noopener noreferrer",className:Bt.fileItem,children:[s.jsx(Vb,{}),s.jsx("span",{children:he.name}),s.jsx(P3,{})]},he.id))})})]}),s.jsxs("div",{className:Bt.card,children:[s.jsxs("div",{className:Bt.cardHeader,children:[s.jsx(IR,{}),s.jsxs("h3",{children:[" (",d.length,")"]})]}),s.jsxs("div",{className:Bt.cardBody,children:[s.jsxs("div",{className:Bt.commentsList,children:[d.map(he=>s.jsxs("div",{className:Bt.comment,children:[s.jsx("div",{className:Bt.commentAvatar,children:je(he.author_name)}),s.jsxs("div",{className:Bt.commentContent,children:[s.jsxs("div",{className:Bt.commentHeader,children:[s.jsx("span",{className:Bt.commentAuthor,children:he.author_name}),s.jsx("span",{className:Bt.commentDate,children:ge(he.created_at)})]}),s.jsx("div",{className:Bt.commentText,children:he.text})]})]},he.id)),d.length===0&&s.jsx("div",{className:Bt.noComments,children:"  "})]}),s.jsxs("div",{className:Bt.commentForm,children:[s.jsx("textarea",{value:w,onChange:he=>C(he.target.value),placeholder:"  ...",rows:4,className:Bt.commentInput}),s.jsx("div",{className:Bt.commentFormActions,children:s.jsxs("button",{onClick:re,disabled:!w.trim()||E,className:Bt.commentButton,children:[s.jsx(AR,{})," "]})})]})]})]})]}),s.jsxs("div",{className:Bt.sidebar,children:[s.jsxs("div",{className:Bt.card,children:[s.jsxs("div",{className:Bt.cardHeader,children:[s.jsx(li,{}),s.jsx("h3",{children:""})]}),s.jsxs("div",{className:Bt.cardBody,children:[a.assignees&&a.assignees.length>0&&s.jsxs("div",{className:Bt.infoItem,children:[s.jsx("label",{children:":"}),s.jsx("div",{className:Bt.assigneesList,children:a.assignees.map(he=>s.jsxs("div",{className:Bt.assigneeItem,children:[s.jsx("div",{className:Bt.assigneeAvatar,children:je(he.name)}),s.jsx("span",{children:he.name})]},he.id))})]}),a.created_by_name&&s.jsxs("div",{className:Bt.infoItem,children:[s.jsx("label",{children:":"}),s.jsxs("div",{className:Bt.assigneeItem,children:[s.jsx("div",{className:Bt.assigneeAvatar,children:je(a.created_by_name)}),s.jsx("span",{children:a.created_by_name})]})]}),s.jsxs("div",{className:Bt.infoItem,children:[s.jsx("label",{children:":"}),s.jsxs("div",{className:Bt.badgeWrapper,style:{position:"relative"},children:[s.jsxs("span",{className:`${Bt.badge} ${be(a.priority)} ${Bt.clickableBadge}`,onClick:()=>A(Z==="priority"?null:"priority"),children:[a.priority_display,s.jsx(al,{style:{marginLeft:"8px",fontSize:"12px"}})]}),Z==="priority"&&s.jsx("div",{className:Bt.quickEditDropdown,onClick:he=>he.stopPropagation(),children:ie().map(he=>s.jsx("div",{className:`${Bt.quickEditOption} ${a.priority===he.value?Bt.active:""}`,onClick:()=>Re(he.value),style:{borderLeftColor:he.color},children:he.label},he.value))})]})]}),s.jsxs("div",{className:Bt.infoItem,children:[s.jsx("label",{children:":"}),s.jsxs("div",{className:Bt.badgeWrapper,style:{position:"relative"},children:[s.jsxs("span",{className:`${Bt.badge} ${Fe(a.status)} ${Bt.clickableBadge}`,onClick:()=>A(Z==="status"?null:"status"),children:[a.status_display,s.jsx(al,{style:{marginLeft:"8px",fontSize:"12px"}})]}),Z==="status"&&s.jsx("div",{className:Bt.quickEditDropdown,onClick:he=>he.stopPropagation(),children:Ae().map(he=>s.jsx("div",{className:`${Bt.quickEditOption} ${a.status===he.value?Bt.active:""}`,onClick:()=>ce(he.value),style:{borderLeftColor:he.color},children:he.label},he.value))})]})]}),qe&&s.jsxs("div",{className:Bt.infoItem,children:[s.jsx("label",{children:":"}),s.jsxs("span",{className:Bt.infoValue,children:[s.jsx(cr,{})," ",qe.name]})]}),a.due_date&&s.jsxs("div",{className:Bt.infoItem,children:[s.jsx("label",{children:" :"}),s.jsx("span",{className:Bt.infoValue,children:ge(a.due_date)})]})]})]}),s.jsxs("div",{className:Bt.card,children:[s.jsxs("div",{className:Bt.cardHeader,children:[s.jsx(km,{}),s.jsx("h3",{children:""})]}),s.jsx("div",{className:Bt.cardBody,children:s.jsxs("div",{className:Bt.actionsList,children:[s.jsxs("button",{className:Bt.actionButton,onClick:Ne,children:[s.jsx(rl,{}),"  "]}),a.status!=="done"&&s.jsxs("button",{className:Bt.actionButtonSuccess,onClick:ve,children:[s.jsx(Xr,{}),"  "]}),s.jsxs("button",{className:Bt.actionButtonWarning,onClick:Se,children:[s.jsx(Th,{}),"  "]}),s.jsxs("button",{className:Bt.actionButtonDanger,onClick:de,children:[s.jsx(Ir,{}),"  "]})]})})]})]})]}),F&&s.jsx("div",{className:Bt.modalOverlay,onClick:()=>H(!1),children:s.jsxs("div",{className:Bt.modalContent,onClick:he=>he.stopPropagation(),children:[s.jsxs("div",{className:Bt.modalHeader,children:[s.jsx("h2",{children:" "}),s.jsx("button",{className:Bt.modalClose,onClick:()=>H(!1),children:s.jsx(da,{})})]}),s.jsxs("div",{className:Bt.modalBody,children:[s.jsxs("div",{className:Bt.formGroup,children:[s.jsx("label",{children:"  *"}),s.jsx("input",{type:"text",value:z.title,onChange:he=>V({...z,title:he.target.value}),className:Bt.formInput})]}),s.jsxs("div",{className:Bt.formGroup,children:[s.jsx("label",{children:""}),s.jsx("textarea",{value:z.description,onChange:he=>V({...z,description:he.target.value}),rows:5,className:Bt.formTextarea})]}),s.jsxs("div",{className:Bt.formRow,children:[s.jsxs("div",{className:Bt.formGroup,children:[s.jsx("label",{children:""}),s.jsxs("select",{value:z.priority,onChange:he=>V({...z,priority:he.target.value}),className:Bt.formSelect,children:[s.jsx("option",{value:"low",children:""}),s.jsx("option",{value:"medium",children:""}),s.jsx("option",{value:"high",children:""}),s.jsx("option",{value:"critical",children:""})]})]}),s.jsxs("div",{className:Bt.formGroup,children:[s.jsx("label",{children:""}),s.jsxs("select",{value:z.status,onChange:he=>V({...z,status:he.target.value}),className:Bt.formSelect,children:[s.jsx("option",{value:"todo",children:" "}),s.jsx("option",{value:"in_progress",children:" "}),s.jsx("option",{value:"review",children:" "}),s.jsx("option",{value:"done",children:""}),s.jsx("option",{value:"cancelled",children:""})]})]})]}),s.jsxs("div",{className:Bt.formRow,children:[s.jsxs("div",{className:Bt.formGroup,children:[s.jsx("label",{children:" "}),s.jsx("input",{type:"date",value:z.due_date,onChange:he=>V({...z,due_date:he.target.value}),className:Bt.formInput})]}),s.jsxs("div",{className:Bt.formGroup,children:[s.jsx("label",{children:""}),s.jsxs("select",{value:z.location,onChange:he=>V({...z,location:he.target.value}),className:Bt.formSelect,children:[s.jsx("option",{value:"",children:" "}),B.map(he=>s.jsx("option",{value:he.id,children:he.name},he.id))]})]})]}),s.jsxs("div",{className:Bt.formGroup,children:[s.jsx("label",{children:""}),s.jsx("div",{className:Bt.assigneesSelector,children:$.map(he=>s.jsx("button",{type:"button",className:`${Bt.employeeSelectButton} ${z.assignee_ids.includes(he.id)?Bt.selected:""}`,onClick:()=>{const Ze=z.assignee_ids.includes(he.id)?z.assignee_ids.filter(Pe=>Pe!==he.id):[...z.assignee_ids,he.id];V({...z,assignee_ids:Ze})},children:he.name},he.id))})]})]}),s.jsxs("div",{className:Bt.modalFooter,children:[s.jsx("button",{className:Bt.modalButtonCancel,onClick:()=>H(!1),children:""}),s.jsx("button",{className:Bt.modalButtonSave,onClick:Ee,disabled:te||!z.title.trim(),children:te?"...":""})]})]})}),se&&s.jsx("div",{className:Bt.modalOverlay,onClick:()=>K(!1),children:s.jsxs("div",{className:Bt.modalContent,onClick:he=>he.stopPropagation(),children:[s.jsxs("div",{className:Bt.modalHeader,children:[s.jsx("h2",{children:" "}),s.jsx("button",{className:Bt.modalClose,onClick:()=>K(!1),children:s.jsx(da,{})})]}),s.jsx("div",{className:Bt.modalBody,children:s.jsxs("div",{className:Bt.formGroup,children:[s.jsx("label",{children:" "}),s.jsx("div",{className:Bt.assigneesSelector,children:$.map(he=>s.jsx("button",{type:"button",className:`${Bt.employeeSelectButton} ${M.includes(he.id)?Bt.selected:""}`,onClick:()=>pe(he.id),children:he.name},he.id))})]})}),s.jsxs("div",{className:Bt.modalFooter,children:[s.jsx("button",{className:Bt.modalButtonCancel,onClick:()=>K(!1),children:""}),s.jsx("button",{className:Bt.modalButtonSave,onClick:fe,disabled:te,children:te?"...":""})]})]})})]})},RCt="_container_4ohx2_5",BCt="_loadingContainer_4ohx2_25",OCt="_header_4ohx2_43",LCt="_backButton_4ohx2_75",$Ct="_title_4ohx2_125",PCt="_menuButton_4ohx2_157",FCt="_content_4ohx2_209",HCt="_error_4ohx2_225",qCt="_taskBadgesSection_4ohx2_247",VCt="_badgesRow_4ohx2_263",zCt="_badgeWrapper_4ohx2_277",UCt="_badge_4ohx2_263",WCt="_clickableBadge_4ohx2_307",YCt="_quickEditDropdown_4ohx2_329",GCt="_quickEditOption_4ohx2_355",QCt="_active_4ohx2_385",XCt="_taskMeta_4ohx2_395",KCt="_metaItem_4ohx2_411",ZCt="_priorityLow_4ohx2_427",JCt="_priorityMedium_4ohx2_439",eSt="_priorityHigh_4ohx2_451",tSt="_priorityCritical_4ohx2_463",nSt="_statusTodo_4ohx2_477",sSt="_statusInProgress_4ohx2_489",aSt="_statusReview_4ohx2_501",rSt="_statusDone_4ohx2_513",iSt="_statusCancelled_4ohx2_525",oSt="_card_4ohx2_539",cSt="_cardHeader_4ohx2_555",lSt="_cardBody_4ohx2_597",uSt="_descriptionText_4ohx2_605",dSt="_progressSection_4ohx2_631",hSt="_progressInfo_4ohx2_643",fSt="_progressPercentage_4ohx2_659",mSt="_progressBar_4ohx2_671",pSt="_progressBarFill_4ohx2_687",gSt="_progressStats_4ohx2_701",_St="_checklistList_4ohx2_715",vSt="_checklistItem_4ohx2_729",xSt="_checklistLabel_4ohx2_751",bSt="_checklistCheckbox_4ohx2_771",ySt="_checklistText_4ohx2_787",wSt="_checklistTextCompleted_4ohx2_801",jSt="_checklistDelete_4ohx2_811",CSt="_emptyChecklist_4ohx2_859",SSt="_checklistForm_4ohx2_875",NSt="_checklistInput_4ohx2_887",kSt="_checklistAddButton_4ohx2_923",ISt="_filesList_4ohx2_981",ESt="_fileItem_4ohx2_995",TSt="_emptyFiles_4ohx2_1073",DSt="_uploadButton_4ohx2_1091",ASt="_assigneesList_4ohx2_1157",MSt="_assigneeItem_4ohx2_1169",RSt="_assigneeAvatar_4ohx2_1189",BSt="_assigneeInfo_4ohx2_1217",OSt="_assigneeName_4ohx2_1231",LSt="_assigneeEmail_4ohx2_1243",$St="_commentsList_4ohx2_1257",PSt="_comment_4ohx2_1257",FSt="_commentAvatar_4ohx2_1281",HSt="_commentContent_4ohx2_1309",qSt="_commentHeader_4ohx2_1323",VSt="_commentAuthor_4ohx2_1339",zSt="_commentDate_4ohx2_1351",USt="_commentText_4ohx2_1363",WSt="_noComments_4ohx2_1379",YSt="_commentForm_4ohx2_1395",GSt="_commentInput_4ohx2_1407",QSt="_commentButton_4ohx2_1445",XSt="_actionsList_4ohx2_1505",KSt="_actionButton_4ohx2_1517",ZSt="_actionButtonSuccess_4ohx2_1519",JSt="_actionButtonWarning_4ohx2_1521",eNt="_actionButtonDanger_4ohx2_1523",tNt="_modalOverlay_4ohx2_1633",nNt="_modal_4ohx2_1633",sNt="_slideUp_4ohx2_1",aNt="_modalHeader_4ohx2_1703",rNt="_modalBody_4ohx2_1741",iNt="_formRow_4ohx2_1755",oNt="_formInput_4ohx2_1781",cNt="_formTextarea_4ohx2_1783",lNt="_formSelect_4ohx2_1785",uNt="_assigneesSelector_4ohx2_1835",dNt="_employeeSelectButton_4ohx2_1859",hNt="_selected_4ohx2_1905",fNt="_checkIcon_4ohx2_1915",mNt="_modalFooter_4ohx2_1925",pNt="_cancelButton_4ohx2_1945",gNt="_saveButton_4ohx2_1947",At={container:RCt,loadingContainer:BCt,header:OCt,backButton:LCt,title:$Ct,menuButton:PCt,content:FCt,error:HCt,taskBadgesSection:qCt,badgesRow:VCt,badgeWrapper:zCt,badge:UCt,clickableBadge:WCt,quickEditDropdown:YCt,quickEditOption:GCt,active:QCt,taskMeta:XCt,metaItem:KCt,priorityLow:ZCt,priorityMedium:JCt,priorityHigh:eSt,priorityCritical:tSt,statusTodo:nSt,statusInProgress:sSt,statusReview:aSt,statusDone:rSt,statusCancelled:iSt,card:oSt,cardHeader:cSt,cardBody:lSt,descriptionText:uSt,progressSection:dSt,progressInfo:hSt,progressPercentage:fSt,progressBar:mSt,progressBarFill:pSt,progressStats:gSt,checklistList:_St,checklistItem:vSt,checklistLabel:xSt,checklistCheckbox:bSt,checklistText:ySt,checklistTextCompleted:wSt,checklistDelete:jSt,emptyChecklist:CSt,checklistForm:SSt,checklistInput:NSt,checklistAddButton:kSt,filesList:ISt,fileItem:ESt,emptyFiles:TSt,uploadButton:DSt,assigneesList:ASt,assigneeItem:MSt,assigneeAvatar:RSt,assigneeInfo:BSt,assigneeName:OSt,assigneeEmail:LSt,commentsList:$St,comment:PSt,commentAvatar:FSt,commentContent:HSt,commentHeader:qSt,commentAuthor:VSt,commentDate:zSt,commentText:USt,noComments:WSt,commentForm:YSt,commentInput:GSt,commentButton:QSt,actionsList:XSt,actionButton:KSt,actionButtonSuccess:ZSt,actionButtonWarning:JSt,actionButtonDanger:eNt,modalOverlay:tNt,modal:nNt,slideUp:sNt,modalHeader:aNt,modalBody:rNt,formRow:iNt,formInput:oNt,formTextarea:cNt,formSelect:lNt,assigneesSelector:uNt,employeeSelectButton:dNt,selected:hNt,checkIcon:fNt,modalFooter:mNt,cancelButton:pNt,saveButton:gNt},_Nt=()=>{const{business_slug:e,task_id:t}=ha(),n=Is(),[a,r]=_.useState(null),[i,o]=_.useState(!0),[c,l]=_.useState(null),[d,f]=_.useState([]),[g,b]=_.useState([]),[w,C]=_.useState(""),[S,k]=_.useState(""),[E,D]=_.useState(!1),[R,P]=_.useState(!1),[B,O]=_.useState([]),[$,U]=_.useState([]),[F,H]=_.useState(!1),[se,K]=_.useState(!1),[te,J]=_.useState(!1),[z,V]=_.useState({title:"",description:"",priority:"medium",status:"todo",due_date:"",location:"",assignee_ids:[]}),[M,ee]=_.useState([]),[Z,A]=_.useState(null),[G,Q]=_.useState(null),[Y,ae]=_.useState(!1);_.useEffect(()=>{ne(),re(),oe(),me(),Ce()},[e,t]),_.useEffect(()=>{const ue=De=>{Z&&!De.target.closest(`.${At.badgeWrapper}`)&&A(null)};return document.addEventListener("mousedown",ue),()=>{document.removeEventListener("mousedown",ue)}},[Z]);const ne=async()=>{var ue,De;try{o(!0);const xe=await Be.get(`/api/business/${e}/tasks/${t}/`);r(xe.data)}catch(xe){console.error("  :",xe),l(((De=(ue=xe.response)==null?void 0:ue.data)==null?void 0:De.detail)||"  ")}finally{o(!1)}},re=async()=>{try{const ue=await Be.get(`/api/business/${e}/tasks/${t}/comments/`);f(ue.data||[])}catch(ue){console.error("  :",ue)}},oe=async()=>{try{const ue=await Be.get(`/api/business/${e}/tasks/${t}/checklist/`);b(ue.data||[])}catch(ue){console.error("  -:",ue)}},me=async()=>{try{const ue=await Be.get(`/api/business/${e}/locations/`);O(ue.data||[])}catch(ue){console.error("  :",ue)}},Ce=async()=>{try{const De=((await Be.get(`/api/business/${e}/employees/`)).data||[]).map(xe=>({id:xe.user,name:xe.name||xe.full_name||" ",email:xe.user_email||""}));U(De)}catch(ue){console.error("  :",ue)}},Ne=async()=>{var ue,De;if(w.trim())try{D(!0);const xe=await Be.post(`/api/business/${e}/tasks/${t}/comments/`,{text:w});f([...d,xe.data]),C("")}catch(xe){console.error("  :",xe),alert(((De=(ue=xe.response)==null?void 0:ue.data)==null?void 0:De.detail)||"  ")}finally{D(!1)}},Ee=async()=>{var ue,De;if(S.trim())try{P(!0);const xe=await Be.post(`/api/business/${e}/tasks/${t}/checklist/`,{text:S,order:g.length});b([...g,xe.data]),k(""),ne()}catch(xe){console.error("  :",xe),alert(((De=(ue=xe.response)==null?void 0:ue.data)==null?void 0:De.detail)||"  ")}finally{P(!1)}},ve=async ue=>{var De,xe;try{const Ye=await Be.patch(`/api/business/${e}/tasks/${t}/checklist/${ue.id}/`,{is_completed:!ue.is_completed});b(g.map(at=>at.id===ue.id?Ye.data:at)),ne()}catch(Ye){console.error("  :",Ye),alert(((xe=(De=Ye.response)==null?void 0:De.data)==null?void 0:xe.detail)||"  ")}},Se=async ue=>{var De,xe;if(window.confirm(" ?"))try{await Be.delete(`/api/business/${e}/tasks/${t}/checklist/${ue}/`),b(g.filter(Ye=>Ye.id!==ue)),ne()}catch(Ye){console.error("  :",Ye),alert(((xe=(De=Ye.response)==null?void 0:De.data)==null?void 0:xe.detail)||"  ")}},fe=async ue=>{var De,xe;try{ae(!0);const Ye=new FormData;Ye.append("file",ue),Ye.append("name",ue.name),await Be.post(`/api/business/${e}/tasks/${t}/files/`,Ye,{headers:{"Content-Type":"multipart/form-data"}}),ne()}catch(Ye){console.error("  :",Ye),alert(((xe=(De=Ye.response)==null?void 0:De.data)==null?void 0:xe.detail)||"  ")}finally{ae(!1)}},de=()=>{a&&(V({title:a.title,description:a.description||"",priority:a.priority,status:a.status,due_date:a.due_date?a.due_date.split("T")[0]:"",location:a.location_id||"",assignee_ids:a.assignees.map(ue=>ue.id)}),H(!0))},pe=async()=>{var ue,De;try{J(!0);const xe={...z,location:z.location||null,due_date:z.due_date?z.due_date:null};await Be.patch(`/api/business/${e}/tasks/${t}/`,xe),H(!1),ne()}catch(xe){console.error("  :",xe),alert(((De=(ue=xe.response)==null?void 0:ue.data)==null?void 0:De.detail)||"  ")}finally{J(!1)}},ce=async()=>{var ue,De;if(window.confirm(" ?"))try{await Be.patch(`/api/business/${e}/tasks/${t}/`,{status:"done"}),ne()}catch(xe){console.error("  :",xe),alert(((De=(ue=xe.response)==null?void 0:ue.data)==null?void 0:De.detail)||"  ")}},Re=()=>{a&&(ee(a.assignees.map(ue=>ue.id)),K(!0))},Ae=async()=>{var ue,De;try{J(!0),await Be.patch(`/api/business/${e}/tasks/${t}/`,{assignee_ids:M}),K(!1),ne()}catch(xe){console.error("  :",xe),alert(((De=(ue=xe.response)==null?void 0:ue.data)==null?void 0:De.detail)||"  ")}finally{J(!1)}},ie=async()=>{var ue,De;if(window.confirm(" ,     ?    ."))try{await Be.delete(`/api/business/${e}/tasks/${t}/`),n(`/business/${e}/tasks`)}catch(xe){console.error("  :",xe),alert(((De=(ue=xe.response)==null?void 0:ue.data)==null?void 0:De.detail)||"  ")}},ge=ue=>{ee(De=>De.includes(ue)?De.filter(xe=>xe!==ue):[...De,ue])},be=async ue=>{var De,xe;try{await Be.patch(`/api/business/${e}/tasks/${t}/`,{status:ue}),A(null),ne()}catch(Ye){console.error("  :",Ye),alert(((xe=(De=Ye.response)==null?void 0:De.data)==null?void 0:xe.detail)||"  ")}},Fe=async ue=>{var De,xe;try{await Be.patch(`/api/business/${e}/tasks/${t}/`,{priority:ue}),A(null),ne()}catch(Ye){console.error("  :",Ye),alert(((xe=(De=Ye.response)==null?void 0:De.data)==null?void 0:xe.detail)||"  ")}},je=()=>[{value:"todo",label:" ",color:"#969696"},{value:"in_progress",label:" ",color:"#6496ff"},{value:"review",label:" ",color:"#ffc864"},{value:"done",label:"",color:"#64c864"},{value:"cancelled",label:"",color:"#ff4757"}],qe=()=>[{value:"low",label:"",color:"#64c864"},{value:"medium",label:"",color:"#d4af37"},{value:"high",label:"",color:"#ffa500"},{value:"critical",label:"",color:"#ff4757"}],tt=ue=>ue?Kn(ue).format("DD.MM.YYYY HH:mm"):"",he=ue=>({low:At.priorityLow,medium:At.priorityMedium,high:At.priorityHigh,critical:At.priorityCritical})[ue]||At.priorityMedium,Ze=ue=>({todo:At.statusTodo,in_progress:At.statusInProgress,review:At.statusReview,done:At.statusDone,cancelled:At.statusCancelled})[ue]||At.statusTodo,Pe=ue=>{if(!ue)return"?";const De=ue.split(" ");return De.length>=2?(De[0][0]+De[1][0]).toUpperCase():ue.substring(0,2).toUpperCase()};if(i)return s.jsx("div",{className:At.loadingContainer,children:s.jsx(Fn,{size:"large"})});if(c||!a)return s.jsxs("div",{className:At.container,children:[s.jsxs("div",{className:At.header,children:[s.jsx("h1",{className:At.title,children:""}),s.jsx("div",{style:{width:"44px"}})]}),s.jsx("div",{className:At.content,children:s.jsx("div",{className:At.error,children:c||"  "})})]});const bt=B.find(ue=>ue.id===a.location_id),Ge=a.progress||{completed:0,total:0,percentage:0};return s.jsxs("div",{className:At.container,children:[s.jsxs("div",{className:At.header,children:[s.jsxs("div",{className:At.headerContent,children:[s.jsx("h1",{className:At.title,children:a.title}),s.jsx("span",{className:`${At.badge} ${At[`status${a.status.charAt(0).toUpperCase()+a.status.slice(1)}`]}`,children:a.status_display})]}),s.jsx("button",{className:At.menuButton,onClick:()=>{},children:s.jsx(km,{})})]}),s.jsxs("div",{className:At.content,children:[s.jsxs("div",{className:At.taskBadgesSection,children:[s.jsxs("div",{className:At.badgesRow,children:[s.jsxs("div",{className:At.badgeWrapper,children:[s.jsxs("span",{className:`${At.badge} ${Ze(a.status)} ${At.clickableBadge}`,onClick:()=>A(Z==="status"?null:"status"),children:[a.status_display,s.jsx(al,{})]}),Z==="status"&&s.jsx("div",{className:At.quickEditDropdown,onClick:ue=>ue.stopPropagation(),children:je().map(ue=>s.jsx("div",{className:`${At.quickEditOption} ${a.status===ue.value?At.active:""}`,onClick:()=>be(ue.value),style:{borderLeftColor:ue.color},children:ue.label},ue.value))})]}),s.jsxs("div",{className:At.badgeWrapper,children:[s.jsxs("span",{className:`${At.badge} ${he(a.priority)} ${At.clickableBadge}`,onClick:()=>A(Z==="priority"?null:"priority"),children:[a.priority_display,s.jsx(al,{})]}),Z==="priority"&&s.jsx("div",{className:At.quickEditDropdown,onClick:ue=>ue.stopPropagation(),children:qe().map(ue=>s.jsx("div",{className:`${At.quickEditOption} ${a.priority===ue.value?At.active:""}`,onClick:()=>Fe(ue.value),style:{borderLeftColor:ue.color},children:ue.label},ue.value))})]})]}),s.jsxs("div",{className:At.taskMeta,children:[a.created_at&&s.jsxs("div",{className:At.metaItem,children:[s.jsx(Sm,{})," : ",tt(a.created_at)]}),a.due_date&&s.jsxs("div",{className:At.metaItem,children:[s.jsx(Nm,{})," : ",tt(a.due_date)]}),bt&&s.jsxs("div",{className:At.metaItem,children:[s.jsx(cr,{})," ",bt.name]})]})]}),a.description&&s.jsxs("div",{className:At.card,children:[s.jsxs("div",{className:At.cardHeader,children:[s.jsx(xu,{}),s.jsx("h3",{children:""})]}),s.jsx("div",{className:At.cardBody,children:s.jsx("div",{className:At.descriptionText,children:a.description.split(`
`).map((ue,De)=>s.jsx("p",{children:ue||""},De))})})]}),Ge.total>0&&s.jsxs("div",{className:At.card,children:[s.jsxs("div",{className:At.cardHeader,children:[s.jsx(Wb,{}),s.jsx("h3",{children:""})]}),s.jsx("div",{className:At.cardBody,children:s.jsxs("div",{className:At.progressSection,children:[s.jsxs("div",{className:At.progressInfo,children:[s.jsx("span",{children:" "}),s.jsxs("span",{className:At.progressPercentage,children:[Ge.percentage,"%"]})]}),s.jsx("div",{className:At.progressBar,children:s.jsx("div",{className:At.progressBarFill,style:{width:`${Ge.percentage}%`}})}),s.jsxs("div",{className:At.progressStats,children:[Ge.completed,"  ",Ge.total,"  "]})]})})]}),s.jsxs("div",{className:At.card,children:[s.jsxs("div",{className:At.cardHeader,children:[s.jsx(SR,{}),s.jsx("h3",{children:"-"})]}),s.jsxs("div",{className:At.cardBody,children:[s.jsxs("div",{className:At.checklistList,children:[g.map(ue=>s.jsxs("div",{className:At.checklistItem,children:[s.jsxs("label",{className:At.checklistLabel,children:[s.jsx("input",{type:"checkbox",checked:ue.is_completed,onChange:()=>ve(ue),className:At.checklistCheckbox}),s.jsx("span",{className:`${At.checklistText} ${ue.is_completed?At.checklistTextCompleted:""}`,children:ue.text})]}),s.jsx("button",{className:At.checklistDelete,onClick:()=>Se(ue.id),children:s.jsx(da,{})})]},ue.id)),g.length===0&&s.jsx("div",{className:At.emptyChecklist,children:"    -"})]}),s.jsxs("div",{className:At.checklistForm,children:[s.jsx("input",{type:"text",value:S,onChange:ue=>k(ue.target.value),onKeyPress:ue=>{ue.key==="Enter"&&Ee()},placeholder:" ...",className:At.checklistInput}),s.jsx("button",{onClick:Ee,disabled:!S.trim()||R,className:At.checklistAddButton,children:R?"...":s.jsx(Va,{})})]})]})]}),s.jsxs("div",{className:At.card,children:[s.jsxs("div",{className:At.cardHeader,children:[s.jsx(MR,{}),s.jsx("h3",{children:""})]}),s.jsxs("div",{className:At.cardBody,children:[a.files&&a.files.length>0?s.jsx("div",{className:At.filesList,children:a.files.map(ue=>s.jsxs("a",{href:ue.file_url,target:"_blank",rel:"noopener noreferrer",className:At.fileItem,children:[s.jsx(Vb,{}),s.jsx("span",{children:ue.name}),s.jsx(P3,{})]},ue.id))}):s.jsx("div",{className:At.emptyFiles,children:" "}),s.jsx("input",{type:"file",ref:ue=>Q(ue),style:{display:"none"},onChange:ue=>{ue.target.files[0]&&fe(ue.target.files[0])}}),s.jsxs("button",{className:At.uploadButton,onClick:()=>G==null?void 0:G.click(),disabled:Y,children:[s.jsx(Im,{})," ",Y?"...":" "]})]})]}),a.assignees&&a.assignees.length>0&&s.jsxs("div",{className:At.card,children:[s.jsxs("div",{className:At.cardHeader,children:[s.jsx(oc,{}),s.jsx("h3",{children:""})]}),s.jsx("div",{className:At.cardBody,children:s.jsx("div",{className:At.assigneesList,children:a.assignees.map(ue=>s.jsxs("div",{className:At.assigneeItem,children:[s.jsx("div",{className:At.assigneeAvatar,children:Pe(ue.name)}),s.jsxs("div",{className:At.assigneeInfo,children:[s.jsx("span",{className:At.assigneeName,children:ue.name}),ue.email&&s.jsx("span",{className:At.assigneeEmail,children:ue.email})]})]},ue.id))})})]}),a.created_by_name&&s.jsxs("div",{className:At.card,children:[s.jsxs("div",{className:At.cardHeader,children:[s.jsx(li,{}),s.jsx("h3",{children:""})]}),s.jsx("div",{className:At.cardBody,children:s.jsxs("div",{className:At.assigneeItem,children:[s.jsx("div",{className:At.assigneeAvatar,children:Pe(a.created_by_name)}),s.jsx("span",{className:At.assigneeName,children:a.created_by_name})]})})]}),s.jsxs("div",{className:At.card,children:[s.jsxs("div",{className:At.cardHeader,children:[s.jsx(IR,{}),s.jsxs("h3",{children:[" (",d.length,")"]})]}),s.jsxs("div",{className:At.cardBody,children:[s.jsxs("div",{className:At.commentsList,children:[d.map(ue=>s.jsxs("div",{className:At.comment,children:[s.jsx("div",{className:At.commentAvatar,children:Pe(ue.author_name)}),s.jsxs("div",{className:At.commentContent,children:[s.jsxs("div",{className:At.commentHeader,children:[s.jsx("span",{className:At.commentAuthor,children:ue.author_name}),s.jsx("span",{className:At.commentDate,children:tt(ue.created_at)})]}),s.jsx("div",{className:At.commentText,children:ue.text})]})]},ue.id)),d.length===0&&s.jsx("div",{className:At.noComments,children:"  "})]}),s.jsxs("div",{className:At.commentForm,children:[s.jsx("textarea",{value:w,onChange:ue=>C(ue.target.value),placeholder:"  ...",rows:4,className:At.commentInput}),s.jsxs("button",{onClick:Ne,disabled:!w.trim()||E,className:At.commentButton,children:[s.jsx(AR,{})," ",E?"...":""]})]})]})]}),s.jsxs("div",{className:At.card,children:[s.jsxs("div",{className:At.cardHeader,children:[s.jsx(km,{}),s.jsx("h3",{children:""})]}),s.jsx("div",{className:At.cardBody,children:s.jsxs("div",{className:At.actionsList,children:[s.jsxs("button",{className:At.actionButton,onClick:de,children:[s.jsx(rl,{}),"  "]}),a.status!=="done"&&s.jsxs("button",{className:At.actionButtonSuccess,onClick:ce,children:[s.jsx(Xr,{}),"  "]}),s.jsxs("button",{className:At.actionButtonWarning,onClick:Re,children:[s.jsx(Th,{}),"  "]}),s.jsxs("button",{className:At.actionButtonDanger,onClick:ie,children:[s.jsx(Ir,{}),"  "]})]})})]})]}),F&&s.jsx("div",{className:At.modalOverlay,onClick:()=>H(!1),children:s.jsxs("div",{className:At.modal,onClick:ue=>ue.stopPropagation(),children:[s.jsxs("div",{className:At.modalHeader,children:[s.jsx("h2",{children:" "}),s.jsx(Li,{onClick:()=>H(!1)})]}),s.jsxs("div",{className:At.modalBody,children:[s.jsx("div",{className:At.formRow,children:s.jsxs("label",{children:["  *",s.jsx("input",{type:"text",value:z.title,onChange:ue=>V({...z,title:ue.target.value}),className:At.formInput})]})}),s.jsx("div",{className:At.formRow,children:s.jsxs("label",{children:["",s.jsx("textarea",{value:z.description,onChange:ue=>V({...z,description:ue.target.value}),rows:5,className:At.formTextarea})]})}),s.jsx("div",{className:At.formRow,children:s.jsxs("label",{children:["",s.jsxs("select",{value:z.priority,onChange:ue=>V({...z,priority:ue.target.value}),className:At.formSelect,children:[s.jsx("option",{value:"low",children:""}),s.jsx("option",{value:"medium",children:""}),s.jsx("option",{value:"high",children:""}),s.jsx("option",{value:"critical",children:""})]})]})}),s.jsx("div",{className:At.formRow,children:s.jsxs("label",{children:["",s.jsxs("select",{value:z.status,onChange:ue=>V({...z,status:ue.target.value}),className:At.formSelect,children:[s.jsx("option",{value:"todo",children:" "}),s.jsx("option",{value:"in_progress",children:" "}),s.jsx("option",{value:"review",children:" "}),s.jsx("option",{value:"done",children:""}),s.jsx("option",{value:"cancelled",children:""})]})]})}),s.jsx("div",{className:At.formRow,children:s.jsxs("label",{children:[" ",s.jsx("input",{type:"date",value:z.due_date,onChange:ue=>V({...z,due_date:ue.target.value}),className:At.formInput})]})}),s.jsx("div",{className:At.formRow,children:s.jsxs("label",{children:["",s.jsxs("select",{value:z.location,onChange:ue=>V({...z,location:ue.target.value}),className:At.formSelect,children:[s.jsx("option",{value:"",children:" "}),B.map(ue=>s.jsx("option",{value:ue.id,children:ue.name},ue.id))]})]})}),s.jsx("div",{className:At.formRow,children:s.jsxs("label",{children:["",s.jsx("div",{className:At.assigneesSelector,children:$.map(ue=>s.jsxs("button",{type:"button",className:`${At.employeeSelectButton} ${z.assignee_ids.includes(ue.id)?At.selected:""}`,onClick:()=>{const De=z.assignee_ids.includes(ue.id)?z.assignee_ids.filter(xe=>xe!==ue.id):[...z.assignee_ids,ue.id];V({...z,assignee_ids:De})},children:[s.jsx(oc,{})," ",ue.name,z.assignee_ids.includes(ue.id)&&s.jsx(Xr,{className:At.checkIcon})]},ue.id))})]})})]}),s.jsxs("div",{className:At.modalFooter,children:[s.jsx("button",{className:At.cancelButton,onClick:()=>H(!1),children:""}),s.jsx("button",{className:At.saveButton,onClick:pe,disabled:te||!z.title.trim(),children:te?"...":""})]})]})}),se&&s.jsx("div",{className:At.modalOverlay,onClick:()=>K(!1),children:s.jsxs("div",{className:At.modal,onClick:ue=>ue.stopPropagation(),children:[s.jsxs("div",{className:At.modalHeader,children:[s.jsx("h2",{children:" "}),s.jsx(Li,{onClick:()=>K(!1)})]}),s.jsx("div",{className:At.modalBody,children:s.jsx("div",{className:At.formRow,children:s.jsxs("label",{children:[" ",s.jsx("div",{className:At.assigneesSelector,children:$.map(ue=>s.jsxs("button",{type:"button",className:`${At.employeeSelectButton} ${M.includes(ue.id)?At.selected:""}`,onClick:()=>ge(ue.id),children:[s.jsx(oc,{})," ",ue.name,M.includes(ue.id)&&s.jsx(Xr,{className:At.checkIcon})]},ue.id))})]})})}),s.jsxs("div",{className:At.modalFooter,children:[s.jsx("button",{className:At.cancelButton,onClick:()=>K(!1),children:""}),s.jsx("button",{className:At.saveButton,onClick:Ae,disabled:te,children:te?"...":""})]})]})})]})},vNt="_container_yynb4_30",xNt="_header_yynb4_51",bNt="_businessInfo_yynb4_80",yNt="_createButton_yynb4_90",wNt="_content_yynb4_116",jNt="_filters_yynb4_120",CNt="_searchBar_yynb4_136",SNt="_searchInput_yynb4_159",NNt="_filterSelect_yynb4_202",kNt="_inventoryList_yynb4_231",INt="_inventoryCard_yynb4_238",ENt="_cardHeader_yynb4_271",TNt="_cardHeaderLeft_yynb4_280",DNt="_cardHeaderRight_yynb4_294",ANt="_badge_yynb4_300",MNt="_statusDraft_yynb4_311",RNt="_statusInProgress_yynb4_317",BNt="_statusCompleted_yynb4_323",ONt="_statusCancelled_yynb4_329",LNt="_date_yynb4_335",$Nt="_deleteButton_yynb4_341",PNt="_notes_yynb4_370",FNt="_stats_yynb4_381",HNt="_statItem_yynb4_388",qNt="_statLabel_yynb4_398",VNt="_statValue_yynb4_406",zNt="_statMatch_yynb4_412",UNt="_statShortage_yynb4_416",WNt="_statSurplus_yynb4_420",YNt="_meta_yynb4_424",GNt="_emptyState_yynb4_442",QNt="_pagination_yynb4_453",XNt="_pageButton_yynb4_466",KNt="_pageInfo_yynb4_496",ZNt="_modalOverlay_yynb4_503",JNt="_modalContent_yynb4_515",e3t="_modalHeader_yynb4_527",t3t="_closeButton_yynb4_546",n3t="_modalBody_yynb4_570",s3t="_formGroup_yynb4_578",a3t="_formSelect_yynb4_592",r3t="_formTextarea_yynb4_593",i3t="_modalFooter_yynb4_618",o3t="_cancelButton_yynb4_626",c3t="_saveButton_yynb4_627",_s={container:vNt,header:xNt,businessInfo:bNt,createButton:yNt,content:wNt,filters:jNt,searchBar:CNt,searchInput:SNt,filterSelect:NNt,inventoryList:kNt,inventoryCard:INt,cardHeader:ENt,cardHeaderLeft:TNt,cardHeaderRight:DNt,badge:ANt,statusDraft:MNt,statusInProgress:RNt,statusCompleted:BNt,statusCancelled:ONt,date:LNt,deleteButton:$Nt,notes:PNt,stats:FNt,statItem:HNt,statLabel:qNt,statValue:VNt,statMatch:zNt,statShortage:UNt,statSurplus:WNt,meta:YNt,emptyState:GNt,pagination:QNt,pageButton:XNt,pageInfo:KNt,modalOverlay:ZNt,modalContent:JNt,modalHeader:e3t,closeButton:t3t,modalBody:n3t,formGroup:s3t,formSelect:a3t,formTextarea:r3t,modalFooter:i3t,cancelButton:o3t,saveButton:c3t},l3t=()=>{const{business_slug:e}=ha(),t=Is(),[n,a]=_.useState([]),[r,i]=_.useState(!0),[o,c]=_.useState([]),[l,d]=_.useState({status:"",location:"",search:""}),[f,g]=_.useState({page:1,page_size:20,total_pages:1,count:0}),[b,w]=_.useState(!1),[C,S]=_.useState({location:"",notes:""}),[k,E]=_.useState(!1),[D,R]=_.useState(null);_.useEffect(()=>{P(),B()},[e,l,f.page]);const P=async()=>{try{i(!0);const H={page:f.page,page_size:f.page_size,...l},se=await Be.get(`/api/business/${e}/inventory/`,{params:H});a(se.data.results||[]),g(K=>({...K,total_pages:se.data.total_pages||1,count:se.data.count||0}))}catch(H){console.error("  :",H)}finally{i(!1)}},B=async()=>{try{const H=await Be.get(`/api/business/${e}/locations/`);c(H.data||[])}catch(H){console.error("  :",H)}},O=async()=>{var H,se;if(!C.location){alert(" ");return}try{E(!0);const K=await Be.post(`/api/business/${e}/inventory/`,C);w(!1),S({location:"",notes:""}),t(`/business/${e}/inventory/${K.data.id}`)}catch(K){console.error("  :",K),alert(((se=(H=K.response)==null?void 0:H.data)==null?void 0:se.detail)||"  ")}finally{E(!1)}},$=H=>({draft:_s.statusDraft,in_progress:_s.statusInProgress,completed:_s.statusCompleted,cancelled:_s.statusCancelled})[H]||_s.statusDraft,U=H=>H?Kn(H).format("DD.MM.YYYY HH:mm"):"",F=async(H,se,K)=>{var te,J;if(H.stopPropagation(),!!window.confirm(" ,     ?"))try{R(se),await Be.delete(`/api/business/${e}/inventory/${se}/`),P()}catch(z){console.error("  :",z),alert(((J=(te=z.response)==null?void 0:te.data)==null?void 0:J.detail)||"  ")}finally{R(null)}};return r&&n.length===0?s.jsx(Fn,{}):s.jsxs("div",{className:_s.container,children:[s.jsxs("div",{className:_s.header,children:[s.jsx("h1",{children:""}),s.jsx("div",{className:_s.businessInfo,children:s.jsxs("span",{children:[": ",e]})}),s.jsxs("button",{className:_s.createButton,onClick:()=>w(!0),children:[s.jsx(Va,{}),"  "]})]}),s.jsxs("div",{className:_s.content,children:[s.jsxs("div",{className:_s.filters,children:[s.jsx("div",{className:_s.searchBar,children:s.jsxs("form",{onSubmit:H=>{H.preventDefault()},children:[s.jsx("input",{type:"text",placeholder:"    ...",value:l.search,onChange:H=>d({...l,search:H.target.value}),className:_s.searchInput}),s.jsx("button",{type:"submit",children:s.jsx(hi,{})})]})}),s.jsxs("select",{value:l.status,onChange:H=>d({...l,status:H.target.value}),className:_s.filterSelect,children:[s.jsx("option",{value:"",children:" "}),s.jsx("option",{value:"draft",children:""}),s.jsx("option",{value:"in_progress",children:" "}),s.jsx("option",{value:"completed",children:""}),s.jsx("option",{value:"cancelled",children:""})]}),s.jsxs("select",{value:l.location,onChange:H=>d({...l,location:H.target.value}),className:_s.filterSelect,children:[s.jsx("option",{value:"",children:" "}),o.map(H=>s.jsx("option",{value:H.id,children:H.name},H.id))]})]}),s.jsxs("div",{className:_s.inventoryList,children:[n.map(H=>s.jsxs("div",{className:_s.inventoryCard,onClick:()=>t(`/business/${e}/inventory/${H.id}`),children:[s.jsxs("div",{className:_s.cardHeader,children:[s.jsxs("div",{className:_s.cardHeaderLeft,children:[s.jsx("h3",{children:H.location_name}),s.jsx("span",{className:`${_s.badge} ${$(H.status)}`,children:H.status_display})]}),s.jsxs("div",{className:_s.cardHeaderRight,children:[s.jsx("span",{className:_s.date,children:U(H.created_at)}),s.jsx("button",{className:_s.deleteButton,onClick:se=>F(se,H.id,H.status),disabled:D===H.id,title:" ",children:D===H.id?s.jsx(Po,{style:{animation:"spin 1s linear infinite"}}):s.jsx(Ir,{})})]})]}),H.notes&&s.jsx("div",{className:_s.notes,children:H.notes}),s.jsxs("div",{className:_s.stats,children:[s.jsxs("div",{className:_s.statItem,children:[s.jsx("span",{className:_s.statLabel,children:" :"}),s.jsx("span",{className:_s.statValue,children:H.total_items||0})]}),s.jsxs("div",{className:_s.statItem,children:[s.jsx("span",{className:_s.statLabel,children:":"}),s.jsx("span",{className:`${_s.statValue} ${_s.statMatch}`,children:H.matched_items||0})]}),s.jsxs("div",{className:_s.statItem,children:[s.jsx("span",{className:_s.statLabel,children:":"}),s.jsx("span",{className:`${_s.statValue} ${_s.statShortage}`,children:H.shortage_items||0})]}),s.jsxs("div",{className:_s.statItem,children:[s.jsx("span",{className:_s.statLabel,children:":"}),s.jsx("span",{className:`${_s.statValue} ${_s.statSurplus}`,children:H.surplus_items||0})]}),H.total_difference!==0&&s.jsxs("div",{className:_s.statItem,children:[s.jsx("span",{className:_s.statLabel,children:":"}),s.jsxs("span",{className:`${_s.statValue} ${H.total_difference>0?_s.statSurplus:_s.statShortage}`,children:[H.total_difference>0?"+":"",H.total_difference]})]})]}),H.started_at&&s.jsxs("div",{className:_s.meta,children:[s.jsx(Nm,{}),": ",U(H.started_at)]}),H.completed_at&&s.jsxs("div",{className:_s.meta,children:[s.jsx(Xr,{}),": ",U(H.completed_at)]})]},H.id)),n.length===0&&!r&&s.jsx("div",{className:_s.emptyState,children:" "})]}),f.total_pages>1&&s.jsxs("div",{className:_s.pagination,children:[s.jsx("button",{onClick:()=>g({...f,page:f.page-1}),disabled:f.page===1,className:_s.pageButton,children:s.jsx(Kc,{})}),s.jsxs("span",{className:_s.pageInfo,children:[" ",f.page,"  ",f.total_pages]}),s.jsx("button",{onClick:()=>g({...f,page:f.page+1}),disabled:f.page>=f.total_pages,className:_s.pageButton,children:s.jsx(Zc,{})})]})]}),b&&s.jsx("div",{className:_s.modalOverlay,onClick:()=>w(!1),children:s.jsxs("div",{className:_s.modalContent,onClick:H=>H.stopPropagation(),children:[s.jsxs("div",{className:_s.modalHeader,children:[s.jsx("h2",{children:" "}),s.jsx("button",{className:_s.closeButton,onClick:()=>w(!1),children:s.jsx(da,{})})]}),s.jsxs("div",{className:_s.modalBody,children:[s.jsxs("div",{className:_s.formGroup,children:[s.jsx("label",{children:"/ *"}),s.jsxs("select",{value:C.location,onChange:H=>S({...C,location:H.target.value}),className:_s.formSelect,children:[s.jsx("option",{value:"",children:" "}),o.map(H=>s.jsx("option",{value:H.id,children:H.name},H.id))]})]}),s.jsxs("div",{className:_s.formGroup,children:[s.jsx("label",{children:""}),s.jsx("textarea",{value:C.notes,onChange:H=>S({...C,notes:H.target.value}),rows:4,className:_s.formTextarea,placeholder:" ..."})]})]}),s.jsxs("div",{className:_s.modalFooter,children:[s.jsx("button",{className:_s.cancelButton,onClick:()=>w(!1),children:""}),s.jsx("button",{className:_s.saveButton,onClick:O,disabled:k||!C.location,children:k?"...":""})]})]})})]})},u3t="_container_rmqw9_5",d3t="_loadingContainer_rmqw9_25",h3t="_header_rmqw9_43",f3t="_title_rmqw9_125",m3t="_createButton_rmqw9_141",p3t="_filtersSection_rmqw9_193",g3t="_searchForm_rmqw9_205",_3t="_searchInputGroup_rmqw9_213",v3t="_searchIcon_rmqw9_245",x3t="_searchInput_rmqw9_213",b3t="_filterToggle_rmqw9_289",y3t="_filtersPanel_rmqw9_341",w3t="_filterRow_rmqw9_363",j3t="_filterLabel_rmqw9_375",C3t="_filterSelect_rmqw9_387",S3t="_content_rmqw9_427",N3t="_inventoryList_rmqw9_437",k3t="_inventoryCard_rmqw9_449",I3t="_cardHeader_rmqw9_481",E3t="_cardHeaderLeft_rmqw9_497",T3t="_locationName_rmqw9_511",D3t="_locationIcon_rmqw9_523",A3t="_badge_rmqw9_551",M3t="_statusDraft_rmqw9_571",R3t="_statusInProgress_rmqw9_583",B3t="_statusCompleted_rmqw9_595",O3t="_statusCancelled_rmqw9_607",L3t="_deleteButton_rmqw9_619",$3t="_spinner_rmqw9_677",P3t="_notes_rmqw9_703",F3t="_stats_rmqw9_725",H3t="_statRow_rmqw9_745",q3t="_statItem_rmqw9_755",V3t="_statLabel_rmqw9_769",z3t="_statValue_rmqw9_781",U3t="_statMatch_rmqw9_793",W3t="_statShortage_rmqw9_801",Y3t="_statSurplus_rmqw9_809",G3t="_meta_rmqw9_817",Q3t="_metaItem_rmqw9_833",X3t="_emptyState_rmqw9_861",K3t="_emptyIcon_rmqw9_883",Z3t="_emptyButton_rmqw9_905",J3t="_pagination_rmqw9_955",e4t="_pageButton_rmqw9_975",t4t="_pageInfo_rmqw9_1033",n4t="_modalOverlay_rmqw9_1047",s4t="_modal_rmqw9_1047",a4t="_modalHeader_rmqw9_1117",r4t="_modalBody_rmqw9_1155",i4t="_formRow_rmqw9_1169",o4t="_formSelect_rmqw9_1195",c4t="_formTextarea_rmqw9_1197",l4t="_modalFooter_rmqw9_1245",u4t="_cancelButton_rmqw9_1265",d4t="_saveButton_rmqw9_1267",Un={container:u3t,loadingContainer:d3t,header:h3t,title:f3t,createButton:m3t,filtersSection:p3t,searchForm:g3t,searchInputGroup:_3t,searchIcon:v3t,searchInput:x3t,filterToggle:b3t,filtersPanel:y3t,filterRow:w3t,filterLabel:j3t,filterSelect:C3t,content:S3t,inventoryList:N3t,inventoryCard:k3t,cardHeader:I3t,cardHeaderLeft:E3t,locationName:T3t,locationIcon:D3t,badge:A3t,statusDraft:M3t,statusInProgress:R3t,statusCompleted:B3t,statusCancelled:O3t,deleteButton:L3t,spinner:$3t,notes:P3t,stats:F3t,statRow:H3t,statItem:q3t,statLabel:V3t,statValue:z3t,statMatch:U3t,statShortage:W3t,statSurplus:Y3t,meta:G3t,metaItem:Q3t,emptyState:X3t,emptyIcon:K3t,emptyButton:Z3t,pagination:J3t,pageButton:e4t,pageInfo:t4t,modalOverlay:n4t,modal:s4t,modalHeader:a4t,modalBody:r4t,formRow:i4t,formSelect:o4t,formTextarea:c4t,modalFooter:l4t,cancelButton:u4t,saveButton:d4t},h4t=()=>{const{business_slug:e}=ha(),t=Is(),[n,a]=_.useState([]),[r,i]=_.useState(!0),[o,c]=_.useState([]),[l,d]=_.useState({status:"",location:"",search:""}),[f,g]=_.useState({page:1,page_size:20,total_pages:1,count:0}),[b,w]=_.useState(!1),[C,S]=_.useState({location:"",notes:""}),[k,E]=_.useState(!1),[D,R]=_.useState(null),[P,B]=_.useState(!1);_.useEffect(()=>{O(),$()},[e,l,f.page]);const O=async()=>{try{i(!0);const K={page:f.page,page_size:f.page_size,...l},te=await Be.get(`/api/business/${e}/inventory/`,{params:K});a(te.data.results||[]),g(J=>({...J,total_pages:te.data.total_pages||1,count:te.data.count||0}))}catch(K){console.error("  :",K)}finally{i(!1)}},$=async()=>{try{const K=await Be.get(`/api/business/${e}/locations/`);c(K.data||[])}catch(K){console.error("  :",K)}},U=async()=>{var K,te;if(!C.location){alert(" ");return}try{E(!0);const J=await Be.post(`/api/business/${e}/inventory/`,C);w(!1),S({location:"",notes:""}),t(`/business/${e}/inventory/${J.data.id}`)}catch(J){console.error("  :",J),alert(((te=(K=J.response)==null?void 0:K.data)==null?void 0:te.detail)||"  ")}finally{E(!1)}},F=K=>({draft:Un.statusDraft,in_progress:Un.statusInProgress,completed:Un.statusCompleted,cancelled:Un.statusCancelled})[K]||Un.statusDraft,H=K=>K?Kn(K).format("DD.MM.YYYY HH:mm"):"",se=async(K,te,J)=>{var z,V;if(K.stopPropagation(),!!window.confirm(" ,     ?"))try{R(te),await Be.delete(`/api/business/${e}/inventory/${te}/`),O()}catch(M){console.error("  :",M),alert(((V=(z=M.response)==null?void 0:z.data)==null?void 0:V.detail)||"  ")}finally{R(null)}};return r&&n.length===0?s.jsx("div",{className:Un.loadingContainer,children:s.jsx(Fn,{size:"large"})}):s.jsxs("div",{className:Un.container,children:[s.jsxs("div",{className:Un.header,children:[s.jsx("h1",{className:Un.title,children:""}),s.jsx("button",{className:Un.createButton,onClick:()=>w(!0),children:s.jsx(Va,{})})]}),s.jsxs("div",{className:Un.filtersSection,children:[s.jsx("form",{onSubmit:K=>{K.preventDefault()},className:Un.searchForm,children:s.jsxs("div",{className:Un.searchInputGroup,children:[s.jsx(hi,{className:Un.searchIcon}),s.jsx("input",{type:"text",placeholder:"    ...",value:l.search,onChange:K=>d({...l,search:K.target.value}),className:Un.searchInput})]})}),s.jsxs("button",{className:Un.filterToggle,onClick:()=>B(!P),children:[s.jsx(tf,{})," ",P?" ":" ",P?s.jsx(ko,{}):s.jsx(No,{})]}),P&&s.jsxs("div",{className:Un.filtersPanel,children:[s.jsxs("div",{className:Un.filterRow,children:[s.jsx("label",{className:Un.filterLabel,children:""}),s.jsxs("select",{value:l.status,onChange:K=>d({...l,status:K.target.value}),className:Un.filterSelect,children:[s.jsx("option",{value:"",children:" "}),s.jsx("option",{value:"draft",children:""}),s.jsx("option",{value:"in_progress",children:" "}),s.jsx("option",{value:"completed",children:""}),s.jsx("option",{value:"cancelled",children:""})]})]}),s.jsxs("div",{className:Un.filterRow,children:[s.jsx("label",{className:Un.filterLabel,children:""}),s.jsxs("select",{value:l.location,onChange:K=>d({...l,location:K.target.value}),className:Un.filterSelect,children:[s.jsx("option",{value:"",children:" "}),o.map(K=>s.jsx("option",{value:K.id,children:K.name},K.id))]})]})]})]}),s.jsxs("div",{className:Un.content,children:[s.jsxs("div",{className:Un.inventoryList,children:[n.map(K=>s.jsxs("div",{className:Un.inventoryCard,onClick:()=>t(`/business/${e}/inventory/${K.id}`),children:[s.jsxs("div",{className:Un.cardHeader,children:[s.jsxs("div",{className:Un.cardHeaderLeft,children:[s.jsxs("div",{className:Un.locationName,children:[s.jsx(oS,{className:Un.locationIcon}),s.jsx("h3",{children:K.location_name})]}),s.jsx("span",{className:`${Un.badge} ${F(K.status)}`,children:K.status_display})]}),s.jsx("button",{className:Un.deleteButton,onClick:te=>se(te,K.id,K.status),disabled:D===K.id,title:" ",children:D===K.id?s.jsx(Po,{className:Un.spinner}):s.jsx(Ir,{})})]}),K.notes&&s.jsx("div",{className:Un.notes,children:K.notes}),s.jsxs("div",{className:Un.stats,children:[s.jsxs("div",{className:Un.statRow,children:[s.jsxs("div",{className:Un.statItem,children:[s.jsx("span",{className:Un.statLabel,children:":"}),s.jsx("span",{className:Un.statValue,children:K.total_items||0})]}),s.jsxs("div",{className:Un.statItem,children:[s.jsx("span",{className:Un.statLabel,children:":"}),s.jsx("span",{className:`${Un.statValue} ${Un.statMatch}`,children:K.matched_items||0})]})]}),s.jsxs("div",{className:Un.statRow,children:[s.jsxs("div",{className:Un.statItem,children:[s.jsx("span",{className:Un.statLabel,children:":"}),s.jsx("span",{className:`${Un.statValue} ${Un.statShortage}`,children:K.shortage_items||0})]}),s.jsxs("div",{className:Un.statItem,children:[s.jsx("span",{className:Un.statLabel,children:":"}),s.jsx("span",{className:`${Un.statValue} ${Un.statSurplus}`,children:K.surplus_items||0})]})]}),K.total_difference!==0&&s.jsx("div",{className:Un.statRow,children:s.jsxs("div",{className:Un.statItem,children:[s.jsx("span",{className:Un.statLabel,children:":"}),s.jsxs("span",{className:`${Un.statValue} ${K.total_difference>0?Un.statSurplus:Un.statShortage}`,children:[K.total_difference>0?"+":"",K.total_difference]})]})})]}),s.jsxs("div",{className:Un.meta,children:[s.jsxs("div",{className:Un.metaItem,children:[s.jsx(Nm,{}),s.jsxs("span",{children:[": ",H(K.created_at)]})]}),K.started_at&&s.jsxs("div",{className:Un.metaItem,children:[s.jsx(Nm,{}),s.jsxs("span",{children:[": ",H(K.started_at)]})]}),K.completed_at&&s.jsxs("div",{className:Un.metaItem,children:[s.jsx(Xr,{}),s.jsxs("span",{children:[": ",H(K.completed_at)]})]})]})]},K.id)),n.length===0&&!r&&s.jsxs("div",{className:Un.emptyState,children:[s.jsx(oS,{className:Un.emptyIcon}),s.jsx("p",{children:" "}),s.jsxs("button",{className:Un.emptyButton,onClick:()=>w(!0),children:[s.jsx(Va,{}),"  "]})]})]}),f.total_pages>1&&s.jsxs("div",{className:Un.pagination,children:[s.jsx("button",{onClick:()=>g({...f,page:f.page-1}),disabled:f.page===1,className:Un.pageButton,children:s.jsx(Kc,{})}),s.jsxs("span",{className:Un.pageInfo,children:[f.page," / ",f.total_pages]}),s.jsx("button",{onClick:()=>g({...f,page:f.page+1}),disabled:f.page>=f.total_pages,className:Un.pageButton,children:s.jsx(Zc,{})})]})]}),b&&s.jsx("div",{className:Un.modalOverlay,onClick:()=>w(!1),children:s.jsxs("div",{className:Un.modal,onClick:K=>K.stopPropagation(),children:[s.jsxs("div",{className:Un.modalHeader,children:[s.jsx("h2",{children:" "}),s.jsx(Li,{onClick:()=>w(!1)})]}),s.jsxs("div",{className:Un.modalBody,children:[s.jsx("div",{className:Un.formRow,children:s.jsxs("label",{children:["/ *",s.jsxs("select",{value:C.location,onChange:K=>S({...C,location:K.target.value}),className:Un.formSelect,children:[s.jsx("option",{value:"",children:" "}),o.map(K=>s.jsx("option",{value:K.id,children:K.name},K.id))]})]})}),s.jsx("div",{className:Un.formRow,children:s.jsxs("label",{children:["",s.jsx("textarea",{value:C.notes,onChange:K=>S({...C,notes:K.target.value}),rows:4,className:Un.formTextarea,placeholder:" ..."})]})})]}),s.jsxs("div",{className:Un.modalFooter,children:[s.jsx("button",{className:Un.cancelButton,onClick:()=>w(!1),children:""}),s.jsx("button",{className:Un.saveButton,onClick:U,disabled:k||!C.location,children:k?"...":""})]})]})})]})},f4t="_container_x6jsn_30",m4t="_header_x6jsn_51",p4t="_backButton_x6jsn_67",g4t="_headerContent_x6jsn_92",_4t="_badge_x6jsn_112",v4t="_statusDraft_x6jsn_123",x4t="_statusIn_progress_x6jsn_129",b4t="_statusCompleted_x6jsn_135",y4t="_statusCancelled_x6jsn_141",w4t="_stats_x6jsn_147",j4t="_statCard_x6jsn_156",C4t="_statLabel_x6jsn_189",S4t="_statValue_x6jsn_198",N4t="_statMatch_x6jsn_204",k4t="_statShortage_x6jsn_208",I4t="_statSurplus_x6jsn_212",E4t="_actions_x6jsn_216",T4t="_actionButton_x6jsn_225",D4t="_actionButtonSuccess_x6jsn_226",A4t="_scanSection_x6jsn_262",M4t="_scanForm_x6jsn_273",R4t="_scanInput_x6jsn_278",B4t="_scanButton_x6jsn_301",O4t="_filters_x6jsn_327",L4t="_searchBar_x6jsn_343",$4t="_searchInput_x6jsn_366",P4t="_filterSelect_x6jsn_409",F4t="_itemsList_x6jsn_438",H4t="_itemCard_x6jsn_445",q4t="_statusMatch_x6jsn_477",V4t="_statusShortage_x6jsn_481",z4t="_statusSurplus_x6jsn_485",U4t="_itemHeader_x6jsn_489",W4t="_itemImage_x6jsn_498",Y4t="_itemInfo_x6jsn_509",G4t="_sku_x6jsn_520",Q4t="_itemBody_x6jsn_526",X4t="_quantityRow_x6jsn_532",K4t="_quantityItem_x6jsn_538",Z4t="_expectedQty_x6jsn_556",J4t="_countedQty_x6jsn_557",e6t="_quantityInput_x6jsn_563",t6t="_differenceQty_x6jsn_587",n6t="_differenceShortage_x6jsn_593",s6t="_differenceSurplus_x6jsn_597",a6t="_itemNotes_x6jsn_619",r6t="_emptyState_x6jsn_629",i6t="_error_x6jsn_640",ds={container:f4t,header:m4t,backButton:p4t,headerContent:g4t,badge:_4t,statusDraft:v4t,statusIn_progress:x4t,statusCompleted:b4t,statusCancelled:y4t,stats:w4t,statCard:j4t,statLabel:C4t,statValue:S4t,statMatch:N4t,statShortage:k4t,statSurplus:I4t,actions:E4t,actionButton:T4t,actionButtonSuccess:D4t,scanSection:A4t,scanForm:M4t,scanInput:R4t,scanButton:B4t,filters:O4t,searchBar:L4t,searchInput:$4t,filterSelect:P4t,itemsList:F4t,itemCard:H4t,statusMatch:q4t,statusShortage:V4t,statusSurplus:z4t,itemHeader:U4t,itemImage:W4t,itemInfo:Y4t,sku:G4t,itemBody:Q4t,quantityRow:X4t,quantityItem:K4t,expectedQty:Z4t,countedQty:J4t,quantityInput:e6t,differenceQty:t6t,differenceShortage:n6t,differenceSurplus:s6t,itemNotes:a6t,emptyState:r6t,error:i6t},o6t=()=>{const{business_slug:e,session_id:t}=ha(),n=Is(),[a,r]=_.useState(null),[i,o]=_.useState([]),[c,l]=_.useState(!0),[d,f]=_.useState(""),[g,b]=_.useState(""),[w,C]=_.useState(""),[S,k]=_.useState(null),[E,D]=_.useState({}),R=_.useRef(null),{getFileUrl:P}=Er();_.useEffect(()=>{B(),O()},[e,t]),_.useEffect(()=>{(a==null?void 0:a.status)==="in_progress"&&R.current&&R.current.focus()},[a==null?void 0:a.status]);const B=async()=>{var V,M;try{l(!0);const ee=await Be.get(`/api/business/${e}/inventory/${t}/`);r(ee.data)}catch(ee){console.error("  :",ee),alert(((M=(V=ee.response)==null?void 0:V.data)==null?void 0:M.detail)||"  ")}finally{l(!1)}},O=async()=>{try{const V={};w&&(V.status=w),g&&(V.search=g);const M=await Be.get(`/api/business/${e}/inventory/${t}/items/`,{params:V});o(M.data||[])}catch(V){console.error("  :",V)}};_.useEffect(()=>{O()},[w,g]);const $=async()=>{var V,M;if(window.confirm(" ?        ."))try{await Be.post(`/api/business/${e}/inventory/${t}/start/`),B(),O(),R.current&&R.current.focus()}catch(ee){console.error("  :",ee),alert(((M=(V=ee.response)==null?void 0:V.data)==null?void 0:M.detail)||"  ")}},U=async()=>{var V,M;if(window.confirm(" ?    ."))try{await Be.post(`/api/business/${e}/inventory/${t}/complete/`),B(),alert(" !  .")}catch(ee){console.error("  :",ee),alert(((M=(V=ee.response)==null?void 0:V.data)==null?void 0:M.detail)||"  ")}},F=async V=>{var M,ee;if(V.trim())try{const Z=await Be.get(`/api/business/${e}/locations/${a.location}/variants/`,{params:{sku:V.trim()}});if(Z.data.length===0){alert("   SKU     ");return}const A=Z.data[0];let G=i.find(Y=>Y.variant_on_location===A.id);G||(G=(await Be.post(`/api/business/${e}/inventory/${t}/items/`,{variant_on_location:A.id,counted_quantity:0})).data,o([...i,G]));const Q=document.getElementById(`quantity-${G.id}`);Q&&(Q.focus(),Q.select())}catch(Z){console.error("  :",Z),alert(((ee=(M=Z.response)==null?void 0:M.data)==null?void 0:ee.detail)||"  ")}},H=V=>{V.preventDefault(),d.trim()&&(F(d),f(""))},se=(V,M)=>{const ee=i.find(Q=>Q.id===V),A=((ee==null?void 0:ee.unit_display)||".")===".";if(M===""||M===null){D(Q=>({...Q,[V]:""}));return}if(A&&M.includes(".")){const Q=Math.floor(parseFloat(M)||0);D(Y=>({...Y,[V]:Q.toString()}));return}const G=parseFloat(M);!isNaN(G)&&G>=0&&D(Q=>({...Q,[V]:M}))},K=async V=>{var Y,ae;const M=E[V],ee=i.find(ne=>ne.id===V),A=((ee==null?void 0:ee.unit_display)||".")===".";let G;if(M===""||M===null||M===void 0)G=0;else if(A)G=Math.max(0,Math.floor(parseFloat(M)||0));else{const ne=parseFloat(M)||0;ne<0?G=0:G=parseFloat(ne.toFixed(3))}D(ne=>{const re={...ne};return delete re[V],re});const Q=parseFloat((ee==null?void 0:ee.counted_quantity)||0);if(!(ee&&Math.abs(Q-G)<.001)){k(V);try{let ne;if(A)ne=G;else if(M!==""&&M!==null&&M!==void 0){const oe=parseFloat(M);!isNaN(oe)&&oe>=0?ne=oe.toFixed(3):ne=G.toFixed(3)}else ne=G.toFixed(3);const re=await Be.patch(`/api/business/${e}/inventory/${t}/items/${V}/`,{counted_quantity:ne});o(i.map(oe=>oe.id===V?re.data:oe)),R.current&&setTimeout(()=>R.current.focus(),100)}catch(ne){console.error("  :",ne),alert(((ae=(Y=ne.response)==null?void 0:Y.data)==null?void 0:ae.detail)||"  ")}finally{k(null)}}},te=V=>({match:ds.statusMatch,shortage:ds.statusShortage,surplus:ds.statusSurplus})[V]||ds.statusMatch;if(c)return s.jsx(Fn,{});if(!a)return s.jsxs("div",{className:ds.container,children:[s.jsx("div",{className:ds.error,children:"   "}),s.jsx("button",{className:ds.backButton,onClick:()=>n(`/business/${e}/inventory`),children:"  "})]});const J=a.status==="draft"||a.status==="in_progress",z=a.status==="in_progress";return s.jsxs("div",{className:ds.container,children:[s.jsxs("div",{className:ds.header,children:[s.jsxs("button",{className:ds.backButton,onClick:()=>n(`/business/${e}/inventory`),children:[s.jsx(Cm,{})," "]}),s.jsxs("div",{className:ds.headerContent,children:[s.jsx("h1",{children:a.location_name}),s.jsx("span",{className:`${ds.badge} ${ds[`status${a.status.charAt(0).toUpperCase()+a.status.slice(1)}`]}`,children:a.status_display})]})]}),s.jsxs("div",{className:ds.stats,children:[s.jsxs("div",{className:ds.statCard,children:[s.jsx("div",{className:ds.statLabel,children:" "}),s.jsx("div",{className:ds.statValue,children:a.total_items||0})]}),s.jsxs("div",{className:ds.statCard,children:[s.jsx("div",{className:ds.statLabel,children:""}),s.jsx("div",{className:`${ds.statValue} ${ds.statMatch}`,children:a.matched_items||0})]}),s.jsxs("div",{className:ds.statCard,children:[s.jsx("div",{className:ds.statLabel,children:""}),s.jsx("div",{className:`${ds.statValue} ${ds.statShortage}`,children:a.shortage_items||0})]}),s.jsxs("div",{className:ds.statCard,children:[s.jsx("div",{className:ds.statLabel,children:""}),s.jsx("div",{className:`${ds.statValue} ${ds.statSurplus}`,children:a.surplus_items||0})]}),a.total_difference!==0&&s.jsxs("div",{className:ds.statCard,children:[s.jsx("div",{className:ds.statLabel,children:" "}),s.jsxs("div",{className:`${ds.statValue} ${a.total_difference>0?ds.statSurplus:ds.statShortage}`,children:[a.total_difference>0?"+":"",a.total_difference]})]})]}),a.status==="draft"&&s.jsx("div",{className:ds.actions,children:s.jsxs("button",{className:ds.actionButton,onClick:$,children:[s.jsx(BR,{}),"  "]})}),z&&s.jsx("div",{className:ds.actions,children:s.jsxs("button",{className:ds.actionButtonSuccess,onClick:U,children:[s.jsx(Xr,{}),"  "]})}),z&&s.jsx("div",{className:ds.scanSection,children:s.jsxs("form",{onSubmit:H,className:ds.scanForm,children:[s.jsx("input",{ref:R,type:"text",value:d,onChange:V=>f(V.target.value),placeholder:"    SKU...",className:ds.scanInput,autoFocus:!0}),s.jsxs("button",{type:"submit",className:ds.scanButton,children:[s.jsx(hi,{})," "]})]})}),s.jsxs("div",{className:ds.filters,children:[s.jsx("div",{className:ds.searchBar,children:s.jsxs("form",{onSubmit:V=>{V.preventDefault()},children:[s.jsx("input",{type:"text",placeholder:"    SKU...",value:g,onChange:V=>b(V.target.value),className:ds.searchInput}),s.jsx("button",{type:"submit",children:s.jsx(hi,{})})]})}),s.jsxs("select",{value:w,onChange:V=>C(V.target.value),className:ds.filterSelect,children:[s.jsx("option",{value:"",children:" "}),s.jsx("option",{value:"match",children:""}),s.jsx("option",{value:"shortage",children:""}),s.jsx("option",{value:"surplus",children:""})]})]}),s.jsxs("div",{className:ds.itemsList,children:[i.map(V=>{var M;return s.jsxs("div",{className:`${ds.itemCard} ${te(V.status)}`,children:[s.jsxs("div",{className:ds.itemHeader,children:[((M=V.main_image)==null?void 0:M.image)&&s.jsx("img",{src:P(V.main_image.image),alt:V.variant_name||V.product_name,className:ds.itemImage,onError:ee=>{ee.target.style.display="none"}}),s.jsxs("div",{className:ds.itemInfo,children:[s.jsx("h3",{children:V.variant_name||V.product_name}),V.variant_sku&&s.jsxs("span",{className:ds.sku,children:["SKU: ",V.variant_sku]})]}),s.jsx("span",{className:`${ds.badge} ${te(V.status)}`,children:V.status_display})]}),s.jsxs("div",{className:ds.itemBody,children:[s.jsxs("div",{className:ds.quantityRow,children:[s.jsxs("div",{className:ds.quantityItem,children:[s.jsx("label",{children:":"}),s.jsxs("span",{className:ds.expectedQty,children:[V.expected_quantity," ",V.unit_display||"."]})]}),s.jsxs("div",{className:ds.quantityItem,children:[s.jsx("label",{children:":"}),J?(()=>{const ee=V.unit_display||".",Z=ee===".",A=Z?1:.5;return s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"4px"},children:[s.jsx("input",{id:`quantity-${V.id}`,type:"number",min:0,step:A,value:E[V.id]!==void 0?E[V.id]:V.counted_quantity!==null&&V.counted_quantity!==void 0?Z?Math.floor(parseFloat(V.counted_quantity)):parseFloat(V.counted_quantity):0,onChange:Q=>se(V.id,Q.target.value),onBlur:()=>K(V.id),className:ds.quantityInput,disabled:S===V.id}),s.jsx("span",{style:{fontSize:"0.9em",color:"var(--silver-whisper)"},children:ee})]})})():s.jsxs("span",{className:ds.countedQty,children:[V.counted_quantity||0," ",V.unit_display||"."]})]}),s.jsxs("div",{className:ds.quantityItem,children:[s.jsx("label",{children:":"}),s.jsxs("span",{className:`${ds.differenceQty} ${V.difference>0?ds.differenceSurplus:V.difference<0?ds.differenceShortage:""}`,children:[V.difference>0?"+":"",V.difference," ",V.unit_display||"."]})]})]}),V.notes&&s.jsxs("div",{className:ds.itemNotes,children:[s.jsx("strong",{children:":"})," ",V.notes]})]})]},V.id)}),i.length===0&&s.jsx("div",{className:ds.emptyState,children:a.status==="draft"?' " "   ':"   "})]})]})},c6t="_container_demt1_3",l6t="_loadingContainer_demt1_13",u6t="_header_demt1_22",d6t="_backButton_demt1_38",h6t="_headerContent_demt1_63",f6t="_title_demt1_70",m6t="_badge_demt1_79",p6t="_statusDraft_demt1_89",g6t="_statusIn_progress_demt1_95",_6t="_statusCompleted_demt1_101",v6t="_statusCancelled_demt1_107",x6t="_stats_demt1_114",b6t="_statCard_demt1_123",y6t="_statLabel_demt1_134",w6t="_statValue_demt1_141",j6t="_statMatch_demt1_147",C6t="_statShortage_demt1_151",S6t="_statSurplus_demt1_155",N6t="_actions_demt1_160",k6t="_actionButton_demt1_166",I6t="_actionButtonSuccess_demt1_167",E6t="_scanSection_demt1_199",T6t="_scanForm_demt1_205",D6t="_scanInput_demt1_211",A6t="_scanButton_demt1_234",M6t="_filtersSection_demt1_258",R6t="_searchForm_demt1_264",B6t="_searchInputGroup_demt1_268",O6t="_searchIcon_demt1_284",L6t="_searchInput_demt1_268",$6t="_filterToggle_demt1_306",P6t="_filtersPanel_demt1_332",F6t="_filterRow_demt1_343",H6t="_filterLabel_demt1_349",q6t="_filterSelect_demt1_355",V6t="_content_demt1_375",z6t="_itemsList_demt1_380",U6t="_itemCard_demt1_386",W6t="_statusMatch_demt1_394",Y6t="_statusShortage_demt1_398",G6t="_statusSurplus_demt1_402",Q6t="_itemHeader_demt1_406",X6t="_itemImage_demt1_414",K6t="_itemInfo_demt1_425",Z6t="_sku_demt1_440",J6t="_itemBody_demt1_446",e8t="_quantityRow_demt1_452",t8t="_quantityItem_demt1_461",n8t="_expectedQty_demt1_475",s8t="_countedQty_demt1_476",a8t="_quantityInputWrapper_demt1_482",r8t="_quantityInput_demt1_482",i8t="_unitDisplay_demt1_516",o8t="_updateSpinner_demt1_522",c8t="_spin_demt1_1",l8t="_differenceQty_demt1_537",u8t="_differenceSurplus_demt1_542",d8t="_differenceShortage_demt1_546",h8t="_itemNotes_demt1_550",f8t="_emptyState_demt1_582",m8t="_emptyIcon_demt1_593",p8t="_error_demt1_604",Wn={container:c6t,loadingContainer:l6t,header:u6t,backButton:d6t,headerContent:h6t,title:f6t,badge:m6t,statusDraft:p6t,statusIn_progress:g6t,statusCompleted:_6t,statusCancelled:v6t,stats:x6t,statCard:b6t,statLabel:y6t,statValue:w6t,statMatch:j6t,statShortage:C6t,statSurplus:S6t,actions:N6t,actionButton:k6t,actionButtonSuccess:I6t,scanSection:E6t,scanForm:T6t,scanInput:D6t,scanButton:A6t,filtersSection:M6t,searchForm:R6t,searchInputGroup:B6t,searchIcon:O6t,searchInput:L6t,filterToggle:$6t,filtersPanel:P6t,filterRow:F6t,filterLabel:H6t,filterSelect:q6t,content:V6t,itemsList:z6t,itemCard:U6t,statusMatch:W6t,statusShortage:Y6t,statusSurplus:G6t,itemHeader:Q6t,itemImage:X6t,itemInfo:K6t,sku:Z6t,itemBody:J6t,quantityRow:e8t,quantityItem:t8t,expectedQty:n8t,countedQty:s8t,quantityInputWrapper:a8t,quantityInput:r8t,unitDisplay:i8t,updateSpinner:o8t,spin:c8t,differenceQty:l8t,differenceSurplus:u8t,differenceShortage:d8t,itemNotes:h8t,emptyState:f8t,emptyIcon:m8t,error:p8t},g8t=()=>{const{business_slug:e,session_id:t}=ha();Is();const[n,a]=_.useState(null),[r,i]=_.useState([]),[o,c]=_.useState(!0),[l,d]=_.useState(""),[f,g]=_.useState(""),[b,w]=_.useState(""),[C,S]=_.useState(null),[k,E]=_.useState({}),[D,R]=_.useState(!1),P=_.useRef(null),{getFileUrl:B}=Er();_.useEffect(()=>{O(),$()},[e,t]),_.useEffect(()=>{(n==null?void 0:n.status)==="in_progress"&&P.current&&P.current.focus()},[n==null?void 0:n.status]),_.useEffect(()=>{$()},[b,f]);const O=async()=>{var M,ee;try{c(!0);const Z=await Be.get(`/api/business/${e}/inventory/${t}/`);a(Z.data)}catch(Z){console.error("  :",Z),alert(((ee=(M=Z.response)==null?void 0:M.data)==null?void 0:ee.detail)||"  ")}finally{c(!1)}},$=async()=>{try{const M={};b&&(M.status=b),f&&(M.search=f);const ee=await Be.get(`/api/business/${e}/inventory/${t}/items/`,{params:M});i(ee.data||[])}catch(M){console.error("  :",M)}},U=async()=>{var M,ee;if(window.confirm(" ?        ."))try{await Be.post(`/api/business/${e}/inventory/${t}/start/`),O(),$(),P.current&&P.current.focus()}catch(Z){console.error("  :",Z),alert(((ee=(M=Z.response)==null?void 0:M.data)==null?void 0:ee.detail)||"  ")}},F=async()=>{var M,ee;if(window.confirm(" ?    ."))try{await Be.post(`/api/business/${e}/inventory/${t}/complete/`),O(),alert(" !  .")}catch(Z){console.error("  :",Z),alert(((ee=(M=Z.response)==null?void 0:M.data)==null?void 0:ee.detail)||"  ")}},H=async M=>{var ee,Z;if(M.trim())try{const A=await Be.get(`/api/business/${e}/locations/${n.location}/variants/`,{params:{sku:M.trim()}});if(A.data.length===0){alert("   SKU     ");return}const G=A.data[0];let Q=r.find(ae=>ae.variant_on_location===G.id);Q||(Q=(await Be.post(`/api/business/${e}/inventory/${t}/items/`,{variant_on_location:G.id,counted_quantity:0})).data,i([...r,Q]));const Y=document.getElementById(`quantity-${Q.id}`);Y&&(Y.focus(),Y.select())}catch(A){console.error("  :",A),alert(((Z=(ee=A.response)==null?void 0:ee.data)==null?void 0:Z.detail)||"  ")}},se=M=>{M.preventDefault(),l.trim()&&(H(l),d(""))},K=(M,ee)=>{const Z=r.find(Y=>Y.id===M),G=((Z==null?void 0:Z.unit_display)||".")===".";if(ee===""||ee===null){E(Y=>({...Y,[M]:""}));return}if(G&&ee.includes(".")){const Y=Math.floor(parseFloat(ee)||0);E(ae=>({...ae,[M]:Y.toString()}));return}const Q=parseFloat(ee);!isNaN(Q)&&Q>=0&&E(Y=>({...Y,[M]:ee}))},te=async M=>{var ae,ne;const ee=k[M],Z=r.find(re=>re.id===M),G=((Z==null?void 0:Z.unit_display)||".")===".";let Q;if(ee===""||ee===null||ee===void 0)Q=0;else if(G)Q=Math.max(0,Math.floor(parseFloat(ee)||0));else{const re=parseFloat(ee)||0;re<0?Q=0:Q=parseFloat(re.toFixed(3))}E(re=>{const oe={...re};return delete oe[M],oe});const Y=parseFloat((Z==null?void 0:Z.counted_quantity)||0);if(!(Z&&Math.abs(Y-Q)<.001)){S(M);try{let re;if(G)re=Q;else if(ee!==""&&ee!==null&&ee!==void 0){const me=parseFloat(ee);!isNaN(me)&&me>=0?re=me.toFixed(3):re=Q.toFixed(3)}else re=Q.toFixed(3);const oe=await Be.patch(`/api/business/${e}/inventory/${t}/items/${M}/`,{counted_quantity:re});i(r.map(me=>me.id===M?oe.data:me)),P.current&&setTimeout(()=>P.current.focus(),100)}catch(re){console.error("  :",re),alert(((ne=(ae=re.response)==null?void 0:ae.data)==null?void 0:ne.detail)||"  ")}finally{S(null)}}},J=M=>({match:Wn.statusMatch,shortage:Wn.statusShortage,surplus:Wn.statusSurplus})[M]||Wn.statusMatch;if(o)return s.jsx("div",{className:Wn.loadingContainer,children:s.jsx(Fn,{size:"large"})});if(!n)return s.jsxs("div",{className:Wn.container,children:[s.jsxs("div",{className:Wn.header,children:[s.jsx("h1",{className:Wn.title,children:""}),s.jsx("div",{style:{width:"44px"}})]}),s.jsx("div",{className:Wn.content,children:s.jsx("div",{className:Wn.error,children:"   "})})]});const z=n.status==="draft"||n.status==="in_progress",V=n.status==="in_progress";return s.jsxs("div",{className:Wn.container,children:[s.jsxs("div",{className:Wn.header,children:[s.jsxs("div",{className:Wn.headerContent,children:[s.jsx("h1",{className:Wn.title,children:n.location_name}),s.jsx("span",{className:`${Wn.badge} ${Wn[`status${n.status.charAt(0).toUpperCase()+n.status.slice(1)}`]}`,children:n.status_display})]}),s.jsx("div",{style:{width:"44px"}})]}),s.jsxs("div",{className:Wn.stats,children:[s.jsxs("div",{className:Wn.statCard,children:[s.jsx("div",{className:Wn.statLabel,children:""}),s.jsx("div",{className:Wn.statValue,children:n.total_items||0})]}),s.jsxs("div",{className:Wn.statCard,children:[s.jsx("div",{className:Wn.statLabel,children:""}),s.jsx("div",{className:`${Wn.statValue} ${Wn.statMatch}`,children:n.matched_items||0})]}),s.jsxs("div",{className:Wn.statCard,children:[s.jsx("div",{className:Wn.statLabel,children:""}),s.jsx("div",{className:`${Wn.statValue} ${Wn.statShortage}`,children:n.shortage_items||0})]}),s.jsxs("div",{className:Wn.statCard,children:[s.jsx("div",{className:Wn.statLabel,children:""}),s.jsx("div",{className:`${Wn.statValue} ${Wn.statSurplus}`,children:n.surplus_items||0})]}),n.total_difference!==0&&s.jsxs("div",{className:Wn.statCard,children:[s.jsx("div",{className:Wn.statLabel,children:""}),s.jsxs("div",{className:`${Wn.statValue} ${n.total_difference>0?Wn.statSurplus:Wn.statShortage}`,children:[n.total_difference>0?"+":"",n.total_difference]})]})]}),n.status==="draft"&&s.jsx("div",{className:Wn.actions,children:s.jsxs("button",{className:Wn.actionButton,onClick:U,children:[s.jsx(BR,{}),"  "]})}),V&&s.jsx("div",{className:Wn.actions,children:s.jsxs("button",{className:Wn.actionButtonSuccess,onClick:F,children:[s.jsx(Xr,{}),"  "]})}),V&&s.jsx("div",{className:Wn.scanSection,children:s.jsxs("form",{onSubmit:se,className:Wn.scanForm,children:[s.jsx("input",{ref:P,type:"text",value:l,onChange:M=>d(M.target.value),placeholder:"    SKU...",className:Wn.scanInput,autoFocus:!0}),s.jsx("button",{type:"submit",className:Wn.scanButton,children:s.jsx(hi,{})})]})}),s.jsxs("div",{className:Wn.filtersSection,children:[s.jsx("form",{onSubmit:M=>{M.preventDefault()},className:Wn.searchForm,children:s.jsxs("div",{className:Wn.searchInputGroup,children:[s.jsx(hi,{className:Wn.searchIcon}),s.jsx("input",{type:"text",placeholder:"    SKU...",value:f,onChange:M=>g(M.target.value),className:Wn.searchInput})]})}),s.jsxs("button",{className:Wn.filterToggle,onClick:()=>R(!D),children:[s.jsx(tf,{})," ",D?" ":" ",D?s.jsx(ko,{}):s.jsx(No,{})]}),D&&s.jsx("div",{className:Wn.filtersPanel,children:s.jsxs("div",{className:Wn.filterRow,children:[s.jsx("label",{className:Wn.filterLabel,children:""}),s.jsxs("select",{value:b,onChange:M=>w(M.target.value),className:Wn.filterSelect,children:[s.jsx("option",{value:"",children:" "}),s.jsx("option",{value:"match",children:""}),s.jsx("option",{value:"shortage",children:""}),s.jsx("option",{value:"surplus",children:""})]})]})})]}),s.jsx("div",{className:Wn.content,children:s.jsxs("div",{className:Wn.itemsList,children:[r.map(M=>{var ee;return s.jsxs("div",{className:`${Wn.itemCard} ${J(M.status)}`,children:[s.jsxs("div",{className:Wn.itemHeader,children:[((ee=M.main_image)==null?void 0:ee.image)&&s.jsx("img",{src:B(M.main_image.image),alt:M.variant_name||M.product_name,className:Wn.itemImage,onError:Z=>{Z.target.style.display="none"}}),s.jsxs("div",{className:Wn.itemInfo,children:[s.jsx("h3",{children:M.variant_name||M.product_name}),M.variant_sku&&s.jsxs("span",{className:Wn.sku,children:["SKU: ",M.variant_sku]})]}),s.jsx("span",{className:`${Wn.badge} ${J(M.status)}`,children:M.status_display})]}),s.jsxs("div",{className:Wn.itemBody,children:[s.jsxs("div",{className:Wn.quantityRow,children:[s.jsxs("div",{className:Wn.quantityItem,children:[s.jsx("label",{children:":"}),s.jsxs("span",{className:Wn.expectedQty,children:[M.expected_quantity," ",M.unit_display||"."]})]}),s.jsxs("div",{className:Wn.quantityItem,children:[s.jsx("label",{children:":"}),z?(()=>{const Z=M.unit_display||".",A=Z===".",G=A?1:.5;return s.jsxs("div",{className:Wn.quantityInputWrapper,children:[s.jsx("input",{id:`quantity-${M.id}`,type:"number",min:0,step:G,value:k[M.id]!==void 0?k[M.id]:M.counted_quantity!==null&&M.counted_quantity!==void 0?A?Math.floor(parseFloat(M.counted_quantity)):parseFloat(M.counted_quantity):0,onChange:Q=>K(M.id,Q.target.value),onBlur:()=>te(M.id),className:Wn.quantityInput,disabled:C===M.id}),s.jsx("span",{className:Wn.unitDisplay,children:Z}),C===M.id&&s.jsx(Po,{className:Wn.updateSpinner})]})})():s.jsxs("span",{className:Wn.countedQty,children:[M.counted_quantity||0," ",M.unit_display||"."]})]}),s.jsxs("div",{className:Wn.quantityItem,children:[s.jsx("label",{children:":"}),s.jsxs("span",{className:`${Wn.differenceQty} ${M.difference>0?Wn.differenceSurplus:M.difference<0?Wn.differenceShortage:""}`,children:[M.difference>0?"+":"",M.difference," ",M.unit_display||"."]})]})]}),M.notes&&s.jsxs("div",{className:Wn.itemNotes,children:[s.jsx("strong",{children:":"})," ",M.notes]})]})]},M.id)}),r.length===0&&s.jsxs("div",{className:Wn.emptyState,children:[s.jsx(oS,{className:Wn.emptyIcon}),s.jsx("p",{children:n.status==="draft"?' " "   ':"   "})]})]})})]})},_8t="_container_riy4f_1",v8t="_content_riy4f_15",x8t="_title_riy4f_35",b8t="_lastUpdated_riy4f_51",y8t="_section_riy4f_65",w8t="_sectionTitle_riy4f_73",j8t="_list_riy4f_103",C8t="_link_riy4f_149",S8t="_backLink_riy4f_171",N8t="_linkButton_riy4f_185",La={container:_8t,content:v8t,title:x8t,lastUpdated:b8t,section:y8t,sectionTitle:w8t,list:j8t,link:C8t,backLink:S8t,linkButton:N8t},k8t=()=>s.jsx("div",{className:La.container,children:s.jsxs("div",{className:La.content,children:[s.jsx("h1",{className:La.title,children:" "}),s.jsxs("p",{className:La.lastUpdated,children:[" : ",new Date().toLocaleDateString("ru-RU")]}),s.jsxs("section",{className:La.section,children:[s.jsx("h2",{className:La.sectionTitle,children:"1.  "}),s.jsx("p",{children:"           - VendorVillage (  ).  ,       ."})]}),s.jsxs("section",{className:La.section,children:[s.jsx("h2",{className:La.sectionTitle,children:"2.   "}),s.jsx("p",{children:"     :"}),s.jsxs("ul",{className:La.list,children:[s.jsx("li",{children:"    (email, )"}),s.jsx("li",{children:"   (,    )"}),s.jsx("li",{children:"    "}),s.jsx("li",{children:"  (IP-,  ,  )"}),s.jsx("li",{children:"   (  )"})]})]}),s.jsxs("section",{className:La.section,children:[s.jsx("h2",{className:La.sectionTitle,children:"3.    "}),s.jsx("p",{children:"     :"}),s.jsxs("ul",{className:La.list,children:[s.jsx("li",{children:"    "}),s.jsx("li",{children:"   "}),s.jsx("li",{children:"      "}),s.jsx("li",{children:"      "}),s.jsx("li",{children:"  "}),s.jsx("li",{children:"  (  )"})]})]}),s.jsxs("section",{className:La.section,children:[s.jsx("h2",{className:La.sectionTitle,children:"4.   "}),s.jsx("p",{children:"     :"}),s.jsxs("ul",{className:La.list,children:[s.jsx("li",{children:"   "}),s.jsx("li",{children:" ,      "}),s.jsx("li",{children:"    "})]})]}),s.jsxs("section",{className:La.section,children:[s.jsx("h2",{className:La.sectionTitle,children:"5.    "}),s.jsx("p",{children:"     ,     ,    ,    .          ."})]}),s.jsxs("section",{className:La.section,children:[s.jsx("h2",{className:La.sectionTitle,children:"6.    "}),s.jsx("p",{children:"            , , , , , , ,      :"}),s.jsxs("ul",{className:La.list,children:[s.jsx("li",{children:"   "}),s.jsx("li",{children:"   "}),s.jsx("li",{children:"    "}),s.jsx("li",{children:"   "}),s.jsx("li",{children:"     "})]})]}),s.jsxs("section",{className:La.section,children:[s.jsx("h2",{className:La.sectionTitle,children:"7.     "}),s.jsx("p",{children:"      ,   :"}),s.jsxs("ul",{className:La.list,children:[s.jsx("li",{children:"      (,  )"}),s.jsx("li",{children:"    "}),s.jsx("li",{children:"   "})]})]}),s.jsxs("section",{className:La.section,children:[s.jsx("h2",{className:La.sectionTitle,children:"8.   cookie"}),s.jsxs("p",{children:["   cookie    ,     .     cookie   ",s.jsx(Pa,{to:"/privacy#cookies",className:La.link,children:"   cookie"}),"."]})]}),s.jsxs("section",{className:La.section,children:[s.jsx("h2",{className:La.sectionTitle,children:"9.    "}),s.jsx("p",{children:"  :"}),s.jsxs("ul",{className:La.list,children:[s.jsx("li",{children:"     "}),s.jsx("li",{children:" ,     "}),s.jsx("li",{children:"     "}),s.jsx("li",{children:"           "})]})]}),s.jsxs("section",{className:La.section,children:[s.jsx("h2",{className:La.sectionTitle,children:"10.  "}),s.jsxs("p",{children:["  ,     ,       : ",s.jsx("a",{href:"mailto:privacy@vendorvillage.ru",className:La.link,children:"privacy@vendorvillage.ru"})]})]}),s.jsxs("section",{className:La.section,children:[s.jsx("h2",{className:La.sectionTitle,children:"11.    "}),s.jsx("p",{children:"          .           .          ."})]}),s.jsx("div",{className:La.backLink,children:s.jsx(Pa,{to:"/",className:La.linkButton,children:"  "})})]})}),I8t="_cookieBanner_9cw1s_1",E8t="_cookieContent_9cw1s_25",T8t="_cookieIcon_9cw1s_34",D8t="_cookieText_9cw1s_59",A8t="_cookieTitle_9cw1s_64",M8t="_cookieDescription_9cw1s_71",R8t="_cookieLink_9cw1s_78",B8t="_cookieActions_9cw1s_90",O8t="_cookieButton_9cw1s_97",L8t="_acceptButton_9cw1s_108",$8t="_declineButton_9cw1s_118",P8t="_closeButton_9cw1s_129",ec={cookieBanner:I8t,cookieContent:E8t,cookieIcon:T8t,cookieText:D8t,cookieTitle:A8t,cookieDescription:M8t,cookieLink:R8t,cookieActions:B8t,cookieButton:O8t,acceptButton:L8t,declineButton:$8t,closeButton:P8t},F8t=()=>{const[e,t]=_.useState(!1);_.useEffect(()=>{const i=localStorage.getItem("cookieConsent"),o=localStorage.getItem("cookieConsentDismissed");if(i==="accepted"||i==="declined")return;if(o){const l=new Date(o);if((new Date-l)/(1e3*60*60)<24)return}const c=setTimeout(()=>{t(!0)},1e3);return()=>clearTimeout(c)},[]);const n=()=>{localStorage.setItem("cookieConsent","accepted"),localStorage.setItem("cookieConsentDate",new Date().toISOString()),localStorage.removeItem("cookieConsentDismissed"),t(!1)},a=()=>{localStorage.setItem("cookieConsent","declined"),localStorage.setItem("cookieConsentDate",new Date().toISOString()),localStorage.removeItem("cookieConsentDismissed"),t(!1)},r=()=>{t(!1),localStorage.setItem("cookieConsentDismissed",new Date().toISOString())};return e?s.jsx("div",{className:ec.cookieBanner,children:s.jsxs("div",{className:ec.cookieContent,children:[s.jsx("div",{className:ec.cookieIcon,children:""}),s.jsxs("div",{className:ec.cookieText,children:[s.jsx("h3",{className:ec.cookieTitle,children:"   cookie"}),s.jsxs("p",{className:ec.cookieDescription,children:["   cookie    ,     .    ,     cookie.   "," ",s.jsx(Pa,{to:"/privacy",className:ec.cookieLink,children:" "}),"."]})]}),s.jsxs("div",{className:ec.cookieActions,children:[s.jsx("button",{onClick:n,className:`${ec.cookieButton} ${ec.acceptButton}`,children:""}),s.jsx("button",{onClick:a,className:`${ec.cookieButton} ${ec.declineButton}`,children:""}),s.jsx("button",{onClick:r,className:ec.closeButton,"aria-label":"",children:s.jsx(da,{})})]})]})}):null},H8t="_container_1wg1j_1",q8t="_header_1wg1j_8",V8t="_exportButton_1wg1j_25",z8t="_error_1wg1j_43",U8t="_filters_1wg1j_52",W8t="_filterGroup_1wg1j_64",Y8t="_tableContainer_1wg1j_89",G8t="_table_1wg1j_89",Q8t="_empty_1wg1j_125",X8t="_userCell_1wg1j_131",K8t="_typeCell_1wg1j_138",Z8t="_accrual_1wg1j_148",J8t="_redemption_1wg1j_153",e5t="_expiry_1wg1j_158",t5t="_adjustment_1wg1j_163",n5t="_amountCell_1wg1j_168",s5t="_positive_1wg1j_173",a5t="_negative_1wg1j_177",r5t="_descriptionCell_1wg1j_181",i5t="_receiptLink_1wg1j_188",o5t="_pagination_1wg1j_202",c5t="_paginationButton_1wg1j_213",l5t="_paginationInfo_1wg1j_240",u5t="_paginationCount_1wg1j_249",d5t="_tabs_1wg1j_256",h5t="_tab_1wg1j_89",f5t="_activeTab_1wg1j_285",m5t="_userSearch_1wg1j_292",p5t="_searchInputWrapper_1wg1j_296",g5t="_searchIcon_1wg1j_301",_5t="_searchInput_1wg1j_296",v5t="_balanceCell_1wg1j_328",x5t="_tierBadge_1wg1j_334",b5t="_noTier_1wg1j_344",y5t="_bonusPercent_1wg1j_354",Ps={container:H8t,header:q8t,exportButton:V8t,error:z8t,filters:U8t,filterGroup:W8t,tableContainer:Y8t,table:G8t,empty:Q8t,userCell:X8t,typeCell:K8t,accrual:Z8t,redemption:J8t,expiry:e5t,adjustment:t5t,amountCell:n5t,positive:s5t,negative:a5t,descriptionCell:r5t,receiptLink:i5t,pagination:o5t,paginationButton:c5t,paginationInfo:l5t,paginationCount:u5t,tabs:d5t,tab:h5t,activeTab:f5t,userSearch:m5t,searchInputWrapper:p5t,searchIcon:g5t,searchInput:_5t,balanceCell:v5t,tierBadge:x5t,noTier:b5t,bonusPercent:y5t},w5t=()=>{const{business_slug:e}=ha(),t=Is(),[n,a]=_.useState("transactions"),[r,i]=_.useState([]),[o,c]=_.useState([]),[l,d]=_.useState(!0),[f,g]=_.useState(null),[b,w]=_.useState([]),[C,S]=_.useState({location:"",transaction_type:"",start_date:"",end_date:"",user_id:""}),[k,E]=_.useState(""),[D,R]=_.useState({page:1,page_size:20,total_pages:1,count:0,has_next:!1,has_previous:!1}),[P,B]=_.useState({page:1,page_size:20,total_pages:1,count:0,has_next:!1,has_previous:!1});_.useEffect(()=>{O()},[e]),_.useEffect(()=>{n==="transactions"?(R(z=>({...z,page:1})),$(1)):n==="users"&&(B(z=>({...z,page:1})),U(1))},[e,C,n]),_.useEffect(()=>{if(n==="users"){const z=setTimeout(()=>{B(V=>({...V,page:1})),U(1)},500);return()=>clearTimeout(z)}},[k]);const O=async()=>{try{const z=await Be.get(`api/business/${e}/locations/`);w(z.data)}catch(z){console.error("  :",z)}},$=async(z=1)=>{var V,M;try{d(!0);const ee={page:z,page_size:D.page_size};C.location&&(ee.location=C.location),C.transaction_type&&(ee.transaction_type=C.transaction_type),C.start_date&&(ee.start_date=C.start_date),C.end_date&&(ee.end_date=C.end_date),C.user_id&&(ee.user_id=C.user_id);const Z=await Be.get(`api/business/${e}/bonus-history/`,{params:ee});i(Z.data.results||[]),R({page:Z.data.page||z,page_size:Z.data.page_size||D.page_size,total_pages:Z.data.total_pages||1,count:Z.data.count||0,has_next:Z.data.has_next||!1,has_previous:Z.data.has_previous||!1}),g(null)}catch(ee){console.error("  :",ee),g(((M=(V=ee.response)==null?void 0:V.data)==null?void 0:M.error)||"   ")}finally{d(!1)}},U=async(z=1)=>{var V,M;try{d(!0);const ee={page:z,page_size:P.page_size};k&&(ee.search=k);const Z=await Be.get(`api/business/${e}/bonus-users/`,{params:ee});c(Z.data.results||[]),B({page:Z.data.page||z,page_size:Z.data.page_size||P.page_size,total_pages:Z.data.total_pages||1,count:Z.data.count||0,has_next:Z.data.has_next||!1,has_previous:Z.data.has_previous||!1}),g(null)}catch(ee){console.error("  :",ee),g(((M=(V=ee.response)==null?void 0:V.data)==null?void 0:M.error)||"  ")}finally{d(!1)}},F=z=>{z>=1&&z<=D.total_pages&&($(z),window.scrollTo({top:0,behavior:"smooth"}))},H=z=>{z>=1&&z<=P.total_pages&&(U(z),window.scrollTo({top:0,behavior:"smooth"}))},se=(z,V)=>{S(M=>({...M,[z]:V}))},K=z=>({accrual:"",redemption:"",expiry:"",adjustment:""})[z]||z,te=z=>z==="accrual"?s.jsx(p0,{}):s.jsx(m0,{}),J=()=>{const z=["","","","",""," ",""],V=r.map(A=>[new Date(A.created_at).toLocaleString("ru-RU"),A.user.full_name||A.user.username,A.location.name,K(A.transaction_type),parseFloat(A.amount).toFixed(2),parseFloat(A.balance_after).toFixed(2),A.description||""]),M=[z,...V].map(A=>A.map(G=>`"${G}"`).join(",")).join(`
`),ee=new Blob(["\uFEFF"+M],{type:"text/csv;charset=utf-8;"}),Z=document.createElement("a");Z.href=URL.createObjectURL(ee),Z.download=`bonus_history_${new Date().toISOString().split("T")[0]}.csv`,Z.click()};return l?s.jsx("div",{className:Ps.container,children:s.jsx(Fn,{size:"large"})}):s.jsxs("div",{className:Ps.container,children:[s.jsxs("div",{className:Ps.header,children:[s.jsxs("h1",{children:[s.jsx(vi,{}),"  "]}),n==="transactions"&&s.jsxs("button",{onClick:J,className:Ps.exportButton,children:[s.jsx(Hb,{}),"   CSV"]})]}),s.jsxs("div",{className:Ps.tabs,children:[s.jsxs("button",{className:`${Ps.tab} ${n==="transactions"?Ps.activeTab:""}`,onClick:()=>a("transactions"),children:[s.jsx(rS,{})," "]}),s.jsxs("button",{className:`${Ps.tab} ${n==="users"?Ps.activeTab:""}`,onClick:()=>a("users"),children:[s.jsx(Lg,{})," "]})]}),f&&s.jsx("div",{className:Ps.error,children:f}),n==="transactions"?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:Ps.filters,children:[s.jsxs("div",{className:Ps.filterGroup,children:[s.jsxs("label",{children:[s.jsx(cr,{})," :"]}),s.jsxs("select",{value:C.location,onChange:z=>se("location",z.target.value),children:[s.jsx("option",{value:"",children:" "}),b.map(z=>s.jsx("option",{value:z.id,children:z.name},z.id))]})]}),s.jsxs("div",{className:Ps.filterGroup,children:[s.jsxs("label",{children:[s.jsx(tf,{}),"  :"]}),s.jsxs("select",{value:C.transaction_type,onChange:z=>se("transaction_type",z.target.value),children:[s.jsx("option",{value:"",children:" "}),s.jsx("option",{value:"accrual",children:""}),s.jsx("option",{value:"redemption",children:""}),s.jsx("option",{value:"expiry",children:""}),s.jsx("option",{value:"adjustment",children:""})]})]}),s.jsxs("div",{className:Ps.filterGroup,children:[s.jsxs("label",{children:[s.jsx(Vo,{}),"  :"]}),s.jsx("input",{type:"date",value:C.start_date,onChange:z=>se("start_date",z.target.value)})]}),s.jsxs("div",{className:Ps.filterGroup,children:[s.jsxs("label",{children:[s.jsx(Vo,{}),"  :"]}),s.jsx("input",{type:"date",value:C.end_date,onChange:z=>se("end_date",z.target.value)})]})]}),s.jsx("div",{className:Ps.tableContainer,children:s.jsxs("table",{className:Ps.table,children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:""}),s.jsx("th",{children:""}),s.jsx("th",{children:""}),s.jsx("th",{children:""}),s.jsx("th",{children:""}),s.jsx("th",{children:" "}),s.jsx("th",{children:""}),s.jsx("th",{children:""})]})}),s.jsx("tbody",{children:r.length===0?s.jsx("tr",{children:s.jsx("td",{colSpan:"8",className:Ps.empty,children:" "})}):r.map(z=>s.jsxs("tr",{children:[s.jsx("td",{children:new Date(z.created_at).toLocaleString("ru-RU")}),s.jsx("td",{children:s.jsxs("div",{className:Ps.userCell,children:[s.jsx(oc,{}),z.user.full_name||z.user.username]})}),s.jsx("td",{children:z.location.name}),s.jsx("td",{children:s.jsxs("div",{className:`${Ps.typeCell} ${Ps[z.transaction_type]}`,children:[te(z.transaction_type),K(z.transaction_type)]})}),s.jsxs("td",{className:`${Ps.amountCell} ${parseFloat(z.amount)>=0?Ps.positive:Ps.negative}`,children:[parseFloat(z.amount)>=0?"+":"",parseFloat(z.amount).toFixed(2)]}),s.jsx("td",{children:parseFloat(z.balance_after).toFixed(2)}),s.jsx("td",{className:Ps.descriptionCell,children:z.description||"-"}),s.jsx("td",{children:z.receipt?s.jsx("button",{className:Ps.receiptLink,onClick:()=>t(`/business/${e}/transactions?receipt=${z.receipt.id}`),children:z.receipt.number}):"-"})]},z.id))})]})}),D.total_pages>1&&s.jsxs("div",{className:Ps.pagination,children:[s.jsx("button",{className:Ps.paginationButton,onClick:()=>F(D.page-1),disabled:!D.has_previous||l,children:""}),s.jsxs("div",{className:Ps.paginationInfo,children:[" ",D.page,"  ",D.total_pages,D.count>0&&s.jsxs("span",{className:Ps.paginationCount,children:["(",D.count," )"]})]}),s.jsx("button",{className:Ps.paginationButton,onClick:()=>F(D.page+1),disabled:!D.has_next||l,children:""})]})]}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:Ps.userSearch,children:s.jsxs("div",{className:Ps.searchInputWrapper,children:[s.jsx(hi,{className:Ps.searchIcon}),s.jsx("input",{type:"text",placeholder:"    email...",value:k,onChange:z=>E(z.target.value),className:Ps.searchInput})]})}),s.jsx("div",{className:Ps.tableContainer,children:s.jsxs("table",{className:Ps.table,children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:""}),s.jsx("th",{children:"Email"}),s.jsx("th",{children:" "}),s.jsx("th",{children:""}),s.jsx("th",{children:" "}),s.jsx("th",{children:" "})]})}),s.jsx("tbody",{children:l?s.jsx("tr",{children:s.jsx("td",{colSpan:"6",className:Ps.empty,children:s.jsx(Fn,{size:"medium"})})}):o.length===0?s.jsx("tr",{children:s.jsx("td",{colSpan:"6",className:Ps.empty,children:"  "})}):o.map(z=>s.jsxs("tr",{children:[s.jsx("td",{children:s.jsxs("div",{className:Ps.userCell,children:[s.jsx(oc,{}),z.user.full_name||z.user.username]})}),s.jsx("td",{children:z.user.email||"-"}),s.jsxs("td",{className:Ps.balanceCell,children:[parseFloat(z.balance||0).toLocaleString("ru-RU",{maximumFractionDigits:2})," "]}),s.jsx("td",{children:z.tier?s.jsx("span",{className:Ps.tierBadge,children:z.tier.name}):s.jsx("span",{className:Ps.noTier,children:" "})}),s.jsx("td",{children:z.tier?s.jsxs("span",{className:Ps.bonusPercent,children:[parseFloat(z.tier.bonus_percent).toFixed(2),"%"]}):"-"}),s.jsx("td",{children:z.total_purchases||0})]},z.user.id))})]})}),P.total_pages>1&&s.jsxs("div",{className:Ps.pagination,children:[s.jsx("button",{className:Ps.paginationButton,onClick:()=>H(P.page-1),disabled:!P.has_previous||l,children:""}),s.jsxs("div",{className:Ps.paginationInfo,children:[" ",P.page,"  ",P.total_pages,P.count>0&&s.jsxs("span",{className:Ps.paginationCount,children:["(",P.count," )"]})]}),s.jsx("button",{className:Ps.paginationButton,onClick:()=>H(P.page+1),disabled:!P.has_next||l,children:""})]})]})]})},j5t="_container_c0zff_5",C5t="_header_c0zff_27",S5t="_title_c0zff_59",N5t="_exportButton_c0zff_83",k5t="_tabs_c0zff_133",I5t="_tab_c0zff_133",E5t="_active_c0zff_205",T5t="_content_c0zff_217",D5t="_error_c0zff_227",A5t="_filtersSection_c0zff_251",M5t="_filterToggle_c0zff_259",R5t="_filtersPanel_c0zff_307",B5t="_filterRow_c0zff_329",O5t="_filterLabel_c0zff_341",L5t="_filterSelect_c0zff_359",$5t="_dateRangePicker_c0zff_393",P5t="_datePickerPopper_c0zff_433",F5t="_transactionsList_c0zff_483",H5t="_transactionCard_c0zff_495",q5t="_transactionHeader_c0zff_521",V5t="_transactionType_c0zff_539",z5t="_typeIcon_c0zff_553",U5t="_accrual_c0zff_575",W5t="_redemption_c0zff_585",Y5t="_expiry_c0zff_587",G5t="_adjustment_c0zff_597",Q5t="_typeLabel_c0zff_607",X5t="_transactionAmount_c0zff_619",K5t="_positive_c0zff_633",Z5t="_negative_c0zff_643",J5t="_transactionBody_c0zff_653",ekt="_transactionRow_c0zff_665",tkt="_transactionLabel_c0zff_679",nkt="_transactionValue_c0zff_693",skt="_receiptLink_c0zff_711",akt="_searchSection_c0zff_757",rkt="_searchInputGroup_c0zff_765",ikt="_searchIcon_c0zff_797",okt="_searchInput_c0zff_765",ckt="_usersList_c0zff_843",lkt="_userCard_c0zff_855",ukt="_userHeader_c0zff_881",dkt="_userInfo_c0zff_901",hkt="_userAvatar_c0zff_915",fkt="_userDetails_c0zff_941",mkt="_userName_c0zff_951",pkt="_userEmail_c0zff_971",gkt="_userBalance_c0zff_989",_kt="_userBody_c0zff_1005",vkt="_userRow_c0zff_1017",xkt="_userLabel_c0zff_1031",bkt="_tierBadge_c0zff_1041",ykt="_noTier_c0zff_1059",wkt="_bonusPercent_c0zff_1071",jkt="_pagination_c0zff_1085",Ckt="_paginationButton_c0zff_1103",Skt="_paginationInfo_c0zff_1163",Nkt="_emptyState_c0zff_1181",kkt="_emptyIcon_c0zff_1201",Ikt="_loadingContainer_c0zff_1227",Bn={container:j5t,header:C5t,title:S5t,exportButton:N5t,tabs:k5t,tab:I5t,active:E5t,content:T5t,error:D5t,filtersSection:A5t,filterToggle:M5t,filtersPanel:R5t,filterRow:B5t,filterLabel:O5t,filterSelect:L5t,dateRangePicker:$5t,datePickerPopper:P5t,transactionsList:F5t,transactionCard:H5t,transactionHeader:q5t,transactionType:V5t,typeIcon:z5t,accrual:U5t,redemption:W5t,expiry:Y5t,adjustment:G5t,typeLabel:Q5t,transactionAmount:X5t,positive:K5t,negative:Z5t,transactionBody:J5t,transactionRow:ekt,transactionLabel:tkt,transactionValue:nkt,receiptLink:skt,searchSection:akt,searchInputGroup:rkt,searchIcon:ikt,searchInput:okt,usersList:ckt,userCard:lkt,userHeader:ukt,userInfo:dkt,userAvatar:hkt,userDetails:fkt,userName:mkt,userEmail:pkt,userBalance:gkt,userBody:_kt,userRow:vkt,userLabel:xkt,tierBadge:bkt,noTier:ykt,bonusPercent:wkt,pagination:jkt,paginationButton:Ckt,paginationInfo:Skt,emptyState:Nkt,emptyIcon:kkt,loadingContainer:Ikt};Kn.extend(I0);Kn.extend(E0);Kn.locale("ru");const Ekt=()=>{const{business_slug:e}=ha(),t=Is(),[n,a]=_.useState("transactions"),[r,i]=_.useState([]),[o,c]=_.useState([]),[l,d]=_.useState(!0),[f,g]=_.useState(null),[b,w]=_.useState([]),[C,S]=_.useState({location:"",transaction_type:"",start_date:"",end_date:"",user_id:""}),[k,E]=_.useState(""),[D,R]=_.useState(!1),[P,B]=_.useState({page:1,page_size:20,total_pages:1,count:0,has_next:!1,has_previous:!1}),[O,$]=_.useState({page:1,page_size:20,total_pages:1,count:0,has_next:!1,has_previous:!1}),[U,F]=_.useState([null,null]),[H,se]=U,K=Intl.DateTimeFormat().resolvedOptions().timeZone;_.useEffect(()=>{te()},[e]),_.useEffect(()=>{n==="transactions"?(B(Y=>({...Y,page:1})),J(1)):n==="users"&&($(Y=>({...Y,page:1})),z(1))},[e,C,n]),_.useEffect(()=>{if(n==="users"){const Y=setTimeout(()=>{$(ae=>({...ae,page:1})),z(1)},500);return()=>clearTimeout(Y)}},[k]);const te=async()=>{try{const Y=await Be.get(`api/business/${e}/locations/`);w(Y.data)}catch(Y){console.error("  :",Y)}},J=async(Y=1)=>{var ae,ne;try{d(!0);const re={page:Y,page_size:P.page_size};C.location&&(re.location=C.location),C.transaction_type&&(re.transaction_type=C.transaction_type),C.start_date&&(re.start_date=C.start_date),C.end_date&&(re.end_date=C.end_date),C.user_id&&(re.user_id=C.user_id);const oe=await Be.get(`api/business/${e}/bonus-history/`,{params:re});i(oe.data.results||[]),B({page:oe.data.page||Y,page_size:oe.data.page_size||P.page_size,total_pages:oe.data.total_pages||1,count:oe.data.count||0,has_next:oe.data.has_next||!1,has_previous:oe.data.has_previous||!1}),g(null)}catch(re){console.error("  :",re),g(((ne=(ae=re.response)==null?void 0:ae.data)==null?void 0:ne.error)||"   ")}finally{d(!1)}},z=async(Y=1)=>{var ae,ne;try{d(!0);const re={page:Y,page_size:O.page_size};k&&(re.search=k);const oe=await Be.get(`api/business/${e}/bonus-users/`,{params:re});c(oe.data.results||[]),$({page:oe.data.page||Y,page_size:oe.data.page_size||O.page_size,total_pages:oe.data.total_pages||1,count:oe.data.count||0,has_next:oe.data.has_next||!1,has_previous:oe.data.has_previous||!1}),g(null)}catch(re){console.error("  :",re),g(((ne=(ae=re.response)==null?void 0:ae.data)==null?void 0:ne.error)||"  ")}finally{d(!1)}},V=Y=>{Y>=1&&Y<=P.total_pages&&J(Y)},M=Y=>{Y>=1&&Y<=O.total_pages&&z(Y)},ee=(Y,ae)=>{S(ne=>({...ne,[Y]:ae}))},Z=Y=>{var ae,ne;Y&&Y.length===2?(F([((ae=Y[0])==null?void 0:ae.toDate())||null,((ne=Y[1])==null?void 0:ne.toDate())||null]),ee("start_date",Y[0]?Kn(Y[0]).tz(K).startOf("day").utc().format():""),ee("end_date",Y[1]?Kn(Y[1]).tz(K).endOf("day").utc().format():"")):(F([null,null]),ee("start_date",""),ee("end_date",""))},A=Y=>({accrual:"",redemption:"",expiry:"",adjustment:""})[Y]||Y,G=Y=>Y==="accrual"?s.jsx(p0,{}):s.jsx(m0,{}),Q=()=>{const Y=["","","","",""," ",""],ae=r.map(me=>[new Date(me.created_at).toLocaleString("ru-RU"),me.user.full_name||me.user.username,me.location.name,A(me.transaction_type),parseFloat(me.amount).toFixed(2),parseFloat(me.balance_after).toFixed(2),me.description||""]),ne=[Y,...ae].map(me=>me.map(Ce=>`"${Ce}"`).join(",")).join(`
`),re=new Blob(["\uFEFF"+ne],{type:"text/csv;charset=utf-8;"}),oe=document.createElement("a");oe.href=URL.createObjectURL(re),oe.download=`bonus_history_${new Date().toISOString().split("T")[0]}.csv`,oe.click()};return l&&r.length===0&&o.length===0?s.jsx("div",{className:Bn.loadingContainer,children:s.jsx(Fn,{size:"large"})}):s.jsxs("div",{className:Bn.container,children:[s.jsxs("div",{className:Bn.header,children:[s.jsxs("h1",{className:Bn.title,children:[s.jsx(vi,{}),"  "]}),n==="transactions"&&s.jsx("button",{onClick:Q,className:Bn.exportButton,children:s.jsx(Hb,{})})]}),s.jsxs("div",{className:Bn.tabs,children:[s.jsxs("button",{className:`${Bn.tab} ${n==="transactions"?Bn.active:""}`,onClick:()=>a("transactions"),children:[s.jsx(rS,{})," "]}),s.jsxs("button",{className:`${Bn.tab} ${n==="users"?Bn.active:""}`,onClick:()=>a("users"),children:[s.jsx(Lg,{})," "]})]}),s.jsxs("div",{className:Bn.content,children:[f&&s.jsx("div",{className:Bn.error,children:f}),n==="transactions"?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:Bn.filtersSection,children:[s.jsxs("button",{className:Bn.filterToggle,onClick:()=>R(!D),children:[s.jsx(tf,{})," ",D?" ":" ",D?s.jsx(ko,{}):s.jsx(No,{})]}),D&&s.jsxs("div",{className:Bn.filtersPanel,children:[s.jsxs("div",{className:Bn.filterRow,children:[s.jsx("label",{className:Bn.filterLabel,children:""}),s.jsxs("select",{value:C.location,onChange:Y=>ee("location",Y.target.value),className:Bn.filterSelect,children:[s.jsx("option",{value:"",children:" "}),b.map(Y=>s.jsx("option",{value:Y.id,children:Y.name},Y.id))]})]}),s.jsxs("div",{className:Bn.filterRow,children:[s.jsx("label",{className:Bn.filterLabel,children:" "}),s.jsxs("select",{value:C.transaction_type,onChange:Y=>ee("transaction_type",Y.target.value),className:Bn.filterSelect,children:[s.jsx("option",{value:"",children:" "}),s.jsx("option",{value:"accrual",children:""}),s.jsx("option",{value:"redemption",children:""}),s.jsx("option",{value:"expiry",children:""}),s.jsx("option",{value:"adjustment",children:""})]})]}),s.jsxs("div",{className:Bn.filterRow,children:[s.jsx("label",{className:Bn.filterLabel,children:""}),s.jsx(Hl,{locale:Db,children:s.jsx(Du.RangePicker,{value:H&&se?[Kn(H),Kn(se)]:null,onChange:Z,format:"DD.MM.YYYY",className:Bn.dateRangePicker,disabledDate:Y=>Y&&Y>Kn().endOf("day"),placeholder:["",""],getPopupContainer:Y=>Y.parentElement,popupClassName:Bn.datePickerPopper,suffixIcon:s.jsx(Vo,{})})})]})]})]}),s.jsx("div",{className:Bn.transactionsList,children:r.length===0?s.jsxs("div",{className:Bn.emptyState,children:[s.jsx(rS,{className:Bn.emptyIcon}),s.jsx("p",{children:" "})]}):r.map(Y=>s.jsxs("div",{className:Bn.transactionCard,children:[s.jsxs("div",{className:Bn.transactionHeader,children:[s.jsxs("div",{className:Bn.transactionType,children:[s.jsx("span",{className:`${Bn.typeIcon} ${Bn[Y.transaction_type]}`,children:G(Y.transaction_type)}),s.jsx("span",{className:Bn.typeLabel,children:A(Y.transaction_type)})]}),s.jsxs("div",{className:`${Bn.transactionAmount} ${parseFloat(Y.amount)>=0?Bn.positive:Bn.negative}`,children:[parseFloat(Y.amount)>=0?"+":"",parseFloat(Y.amount).toFixed(2)]})]}),s.jsxs("div",{className:Bn.transactionBody,children:[s.jsxs("div",{className:Bn.transactionRow,children:[s.jsx("span",{className:Bn.transactionLabel,children:":"}),s.jsxs("span",{className:Bn.transactionValue,children:[s.jsx(oc,{})," ",Y.user.full_name||Y.user.username]})]}),s.jsxs("div",{className:Bn.transactionRow,children:[s.jsx("span",{className:Bn.transactionLabel,children:":"}),s.jsxs("span",{className:Bn.transactionValue,children:[s.jsx(cr,{})," ",Y.location.name]})]}),s.jsxs("div",{className:Bn.transactionRow,children:[s.jsx("span",{className:Bn.transactionLabel,children:":"}),s.jsxs("span",{className:Bn.transactionValue,children:[s.jsx(Vo,{})," ",new Date(Y.created_at).toLocaleString("ru-RU")]})]}),s.jsxs("div",{className:Bn.transactionRow,children:[s.jsx("span",{className:Bn.transactionLabel,children:" :"}),s.jsxs("span",{className:Bn.transactionValue,children:[parseFloat(Y.balance_after).toFixed(2)," "]})]}),Y.description&&s.jsxs("div",{className:Bn.transactionRow,children:[s.jsx("span",{className:Bn.transactionLabel,children:":"}),s.jsx("span",{className:Bn.transactionValue,children:Y.description})]}),Y.receipt&&s.jsx("div",{className:Bn.transactionRow,children:s.jsxs("button",{className:Bn.receiptLink,onClick:()=>t(`/business/${e}/transactions?receipt=${Y.receipt.id}`),children:[s.jsx($o,{}),"  ",Y.receipt.number]})})]})]},Y.id))}),P.total_pages>1&&s.jsxs("div",{className:Bn.pagination,children:[s.jsx("button",{className:Bn.paginationButton,onClick:()=>V(P.page-1),disabled:!P.has_previous||l,children:s.jsx(Kc,{})}),s.jsxs("span",{className:Bn.paginationInfo,children:[P.page," / ",P.total_pages]}),s.jsx("button",{className:Bn.paginationButton,onClick:()=>V(P.page+1),disabled:!P.has_next||l,children:s.jsx(Zc,{})})]})]}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:Bn.searchSection,children:s.jsxs("div",{className:Bn.searchInputGroup,children:[s.jsx(hi,{className:Bn.searchIcon}),s.jsx("input",{type:"text",placeholder:"    email...",value:k,onChange:Y=>E(Y.target.value),className:Bn.searchInput})]})}),s.jsx("div",{className:Bn.usersList,children:l?s.jsx("div",{className:Bn.loadingContainer,children:s.jsx(Fn,{size:"medium"})}):o.length===0?s.jsxs("div",{className:Bn.emptyState,children:[s.jsx(Lg,{className:Bn.emptyIcon}),s.jsx("p",{children:"  "})]}):o.map(Y=>s.jsxs("div",{className:Bn.userCard,children:[s.jsxs("div",{className:Bn.userHeader,children:[s.jsxs("div",{className:Bn.userInfo,children:[s.jsx("div",{className:Bn.userAvatar,children:s.jsx(oc,{})}),s.jsxs("div",{className:Bn.userDetails,children:[s.jsx("h3",{className:Bn.userName,children:Y.user.full_name||Y.user.username}),Y.user.email&&s.jsx("p",{className:Bn.userEmail,children:Y.user.email})]})]}),s.jsxs("div",{className:Bn.userBalance,children:[parseFloat(Y.balance||0).toLocaleString("ru-RU",{maximumFractionDigits:2})," "]})]}),s.jsxs("div",{className:Bn.userBody,children:[s.jsxs("div",{className:Bn.userRow,children:[s.jsx("span",{className:Bn.userLabel,children:":"}),Y.tier?s.jsx("span",{className:Bn.tierBadge,children:Y.tier.name}):s.jsx("span",{className:Bn.noTier,children:" "})]}),s.jsxs("div",{className:Bn.userRow,children:[s.jsx("span",{className:Bn.userLabel,children:" :"}),Y.tier?s.jsxs("span",{className:Bn.bonusPercent,children:[parseFloat(Y.tier.bonus_percent).toFixed(2),"%"]}):s.jsx("span",{children:"-"})]}),s.jsxs("div",{className:Bn.userRow,children:[s.jsx("span",{className:Bn.userLabel,children:":"}),s.jsx("span",{children:Y.total_purchases||0})]})]})]},Y.user.id))}),O.total_pages>1&&s.jsxs("div",{className:Bn.pagination,children:[s.jsx("button",{className:Bn.paginationButton,onClick:()=>M(O.page-1),disabled:!O.has_previous||l,children:s.jsx(Kc,{})}),s.jsxs("span",{className:Bn.paginationInfo,children:[O.page," / ",O.total_pages]}),s.jsx("button",{className:Bn.paginationButton,onClick:()=>M(O.page+1),disabled:!O.has_next||l,children:s.jsx(Zc,{})})]})]})]})]})};function Tkt(){const e=Kr(),t=ef(),n=e.pathname.startsWith("/business/"),a=!n;return _.useEffect(()=>(n?(document.body.classList.add("business-theme"),document.body.classList.remove("marketplace-theme")):(document.body.classList.add("marketplace-theme"),document.body.classList.remove("business-theme")),()=>{document.body.classList.remove("business-theme"),document.body.classList.remove("marketplace-theme")}),[n,a]),_.useEffect(()=>{window.scrollTo(0,0)},[e.pathname]),n?s.jsxs(s.Fragment,{children:[s.jsx(dE,{}),s.jsx(gE,{}),s.jsx(YI,{}),s.jsx(gJ,{}),s.jsx("div",{className:"content-wrapper-business",children:s.jsx(Xc,{mode:"wait",children:s.jsx(os.main,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.3},className:"page-content-business",children:s.jsx(jk,{location:e,children:s.jsx($a,{element:s.jsx(zE,{}),children:s.jsx($a,{element:s.jsx(mTe,{}),children:s.jsxs($a,{element:s.jsx(kTe,{}),children:[s.jsx($a,{path:"/business/:business_slug/location-select",element:s.jsx(JTe,{})}),s.jsx($a,{path:"/business/:business_slug/main",element:s.jsx(ei,{desktopComponent:nke,mobileComponent:fTe})}),s.jsx($a,{path:"/business/:business_slug/products",element:s.jsx(ei,{desktopComponent:Cge,mobileComponent:C0e})}),s.jsx($a,{path:"/business/:business_slug/products/create",element:s.jsx(ei,{desktopComponent:r7e,mobileComponent:h9e})}),s.jsx($a,{path:"/business/:business_slug/products/excel-import",element:s.jsx(ei,{desktopComponent:wAe,mobileComponent:kMe})}),s.jsx($a,{path:"/business/:business_slug/products/:product_id",element:s.jsx(ei,{desktopComponent:FLe,mobileComponent:lHe})}),s.jsx($a,{path:"/business/:business_slug/products/:product_id/edit",element:s.jsx(ei,{desktopComponent:Yxe,mobileComponent:Ybe})}),s.jsx($a,{path:"/business/:business_slug/variants-location-price",element:s.jsx(Rmt,{})}),s.jsx($a,{path:"/business/:business_slug/sale-products",element:s.jsx(ei,{desktopComponent:wWe,mobileComponent:lXe})}),s.jsx($a,{path:"/business/:business_slug/transactions",element:s.jsx(ei,{desktopComponent:Adt,mobileComponent:Tft})}),s.jsx($a,{path:"/business/:business_slug/bonus-history",element:s.jsx(ei,{desktopComponent:w5t,mobileComponent:Ekt})}),s.jsx($a,{path:"/business/:business_slug/settings",element:s.jsx(ei,{desktopComponent:mJe,mobileComponent:get})}),s.jsx($a,{path:"/business/:business_slug/batches",element:s.jsx(ei,{desktopComponent:nxt,mobileComponent:_xt})}),s.jsx($a,{path:"/business/:business_slug/transfers/create",element:s.jsx(ei,{desktopComponent:rH,mobileComponent:Ybt})}),s.jsx($a,{path:"/business/:business_slug/tasks",element:s.jsx(ei,{desktopComponent:p2t,mobileComponent:Qwt})}),s.jsx($a,{path:"/business/:business_slug/tasks/:task_id",element:s.jsx(ei,{desktopComponent:MCt,mobileComponent:_Nt})}),s.jsx($a,{path:"/business/:business_slug/inventory",element:s.jsx(ei,{desktopComponent:l3t,mobileComponent:h4t})}),s.jsx($a,{path:"/business/:business_slug/inventory/:session_id",element:s.jsx(ei,{desktopComponent:o6t,mobileComponent:g8t})})]})})})})},e.pathname)})}),s.jsx(yJ,{}),t&&s.jsx(aJ,{})]}):s.jsxs(s.Fragment,{children:[s.jsx(dE,{}),s.jsx(gE,{}),s.jsx(YI,{}),s.jsx(xZ,{}),s.jsx("div",{className:"content-wrapper",children:s.jsx(CJ,{children:s.jsx(Xc,{mode:"wait",children:s.jsx(os.main,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.3},className:"page-content",children:s.jsxs(jk,{location:e,children:[s.jsxs($a,{element:s.jsx(xpe,{}),children:[s.jsx($a,{path:"/",element:s.jsx(ei,{desktopComponent:Ute,mobileComponent:Bne})}),s.jsx($a,{path:"/registration-login",element:s.jsx(Qme,{})}),s.jsx($a,{path:"/password-reset",element:s.jsx(vpe,{})}),s.jsx($a,{path:"/marketplace",element:s.jsx(One,{})}),s.jsx($a,{path:"/marketplace/categories",element:s.jsx(ei,{desktopComponent:Wne,mobileComponent:rse})}),s.jsx($a,{path:"/marketplace/categories/:pk",element:s.jsx(ei,{desktopComponent:Rse,mobileComponent:hae})}),s.jsx($a,{path:"/marketplace/categories/:pk/products",element:s.jsx(ei,{desktopComponent:_re,mobileComponent:Bie})}),s.jsx($a,{path:"/marketplace/products/:pk",element:s.jsx(ei,{desktopComponent:$ce,mobileComponent:voe})}),s.jsx($a,{path:"/business-categories",element:s.jsx(ei,{desktopComponent:Lne,mobileComponent:$ne})}),s.jsx($a,{path:"/invite/employee/:token",element:s.jsx(emt,{})}),s.jsx($a,{path:"/privacy",element:s.jsx(k8t,{})})]}),s.jsx($a,{element:s.jsx(zE,{}),children:s.jsx($a,{path:"/account",element:s.jsx(ei,{desktopComponent:kde,mobileComponent:ame})})})]})},e.pathname)})})}),s.jsx(YZ,{}),t&&s.jsx(JZ,{}),s.jsx(F8t,{})]})}const Dkt=document.getElementById("root"),Akt=Oq.createRoot(Dkt);Akt.render(s.jsx(ZV,{children:s.jsx(_Z,{children:s.jsx(vZ,{children:s.jsx(QG,{children:s.jsx(Tkt,{})})})})}));
