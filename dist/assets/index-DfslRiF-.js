var iz=Object.defineProperty;var oz=(e,t,n)=>t in e?iz(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Pt=(e,t,n)=>oz(e,typeof t!="symbol"?t+"":t,n);function LN(e,t){for(var n=0;n<t.length;n++){const a=t[n];if(typeof a!="string"&&!Array.isArray(a)){for(const r in a)if(r!=="default"&&!(r in e)){const i=Object.getOwnPropertyDescriptor(a,r);i&&Object.defineProperty(e,r,i.get?i:{enumerable:!0,get:()=>a[r]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))a(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&a(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function a(r){if(r.ep)return;r.ep=!0;const i=n(r);fetch(r.href,i)}})();var ld=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Si(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function cz(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var n=function a(){return this instanceof a?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(a){var r=Object.getOwnPropertyDescriptor(e,a);Object.defineProperty(n,a,r.get?r:{enumerable:!0,get:function(){return e[a]}})}),n}var vw={exports:{}},Up={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var q5;function lz(){if(q5)return Up;q5=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(a,r,i){var o=null;if(i!==void 0&&(o=""+i),r.key!==void 0&&(o=""+r.key),"key"in r){i={};for(var c in r)c!=="key"&&(i[c]=r[c])}else i=r;return r=i.ref,{$$typeof:e,type:a,key:o,ref:r!==void 0?r:null,props:i}}return Up.Fragment=t,Up.jsx=n,Up.jsxs=n,Up}var U5;function uz(){return U5||(U5=1,vw.exports=lz()),vw.exports}var s=uz(),xw={exports:{}},da={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var W5;function dz(){if(W5)return da;W5=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),o=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),g=Symbol.iterator;function b(A){return A===null||typeof A!="object"?null:(A=g&&A[g]||A["@@iterator"],typeof A=="function"?A:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,j={};function N(A,Y,K){this.props=A,this.context=Y,this.refs=j,this.updater=K||w}N.prototype.isReactComponent={},N.prototype.setState=function(A,Y){if(typeof A!="object"&&typeof A!="function"&&A!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,A,Y,"setState")},N.prototype.forceUpdate=function(A){this.updater.enqueueForceUpdate(this,A,"forceUpdate")};function I(){}I.prototype=N.prototype;function M(A,Y,K){this.props=A,this.context=Y,this.refs=j,this.updater=K||w}var B=M.prototype=new I;B.constructor=M,S(B,N.prototype),B.isPureReactComponent=!0;var P=Array.isArray,O={H:null,A:null,T:null,S:null,V:null},R=Object.prototype.hasOwnProperty;function $(A,Y,K,G,oe,ee){return K=ee.ref,{$$typeof:e,type:A,key:Y,ref:K!==void 0?K:null,props:ee}}function U(A,Y){return $(A.type,Y,void 0,void 0,void 0,A.props)}function F(A){return typeof A=="object"&&A!==null&&A.$$typeof===e}function H(A){var Y={"=":"=0",":":"=2"};return"$"+A.replace(/[=:]/g,function(K){return Y[K]})}var ne=/\/+/g;function X(A,Y){return typeof A=="object"&&A!==null&&A.key!=null?H(""+A.key):Y.toString(36)}function te(){}function se(A){switch(A.status){case"fulfilled":return A.value;case"rejected":throw A.reason;default:switch(typeof A.status=="string"?A.then(te,te):(A.status="pending",A.then(function(Y){A.status==="pending"&&(A.status="fulfilled",A.value=Y)},function(Y){A.status==="pending"&&(A.status="rejected",A.reason=Y)})),A.status){case"fulfilled":return A.value;case"rejected":throw A.reason}}throw A}function V(A,Y,K,G,oe){var ee=typeof A;(ee==="undefined"||ee==="boolean")&&(A=null);var ae=!1;if(A===null)ae=!0;else switch(ee){case"bigint":case"string":case"number":ae=!0;break;case"object":switch(A.$$typeof){case e:case t:ae=!0;break;case f:return ae=A._init,V(ae(A._payload),Y,K,G,oe)}}if(ae)return oe=oe(A),ae=G===""?"."+X(A,0):G,P(oe)?(K="",ae!=null&&(K=ae.replace(ne,"$&/")+"/"),V(oe,Y,K,"",function(he){return he})):oe!=null&&(F(oe)&&(oe=U(oe,K+(oe.key==null||A&&A.key===oe.key?"":(""+oe.key).replace(ne,"$&/")+"/")+ae)),Y.push(oe)),1;ae=0;var ie=G===""?".":G+":";if(P(A))for(var ue=0;ue<A.length;ue++)G=A[ue],ee=ie+X(G,ue),ae+=V(G,Y,K,ee,oe);else if(ue=b(A),typeof ue=="function")for(A=ue.call(A),ue=0;!(G=A.next()).done;)G=G.value,ee=ie+X(G,ue++),ae+=V(G,Y,K,ee,oe);else if(ee==="object"){if(typeof A.then=="function")return V(se(A),Y,K,G,oe);throw Y=String(A),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(A).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return ae}function q(A,Y,K){if(A==null)return A;var G=[],oe=0;return V(A,G,"","",function(ee){return Y.call(K,ee,oe++)}),G}function T(A){if(A._status===-1){var Y=A._result;Y=Y(),Y.then(function(K){(A._status===0||A._status===-1)&&(A._status=1,A._result=K)},function(K){(A._status===0||A._status===-1)&&(A._status=2,A._result=K)}),A._status===-1&&(A._status=0,A._result=Y)}if(A._status===1)return A._result.default;throw A._result}var J=typeof reportError=="function"?reportError:function(A){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof A=="object"&&A!==null&&typeof A.message=="string"?String(A.message):String(A),error:A});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",A);return}console.error(A)};function Z(){}return da.Children={map:q,forEach:function(A,Y,K){q(A,function(){Y.apply(this,arguments)},K)},count:function(A){var Y=0;return q(A,function(){Y++}),Y},toArray:function(A){return q(A,function(Y){return Y})||[]},only:function(A){if(!F(A))throw Error("React.Children.only expected to receive a single React element child.");return A}},da.Component=N,da.Fragment=n,da.Profiler=r,da.PureComponent=M,da.StrictMode=a,da.Suspense=l,da.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=O,da.__COMPILER_RUNTIME={__proto__:null,c:function(A){return O.H.useMemoCache(A)}},da.cache=function(A){return function(){return A.apply(null,arguments)}},da.cloneElement=function(A,Y,K){if(A==null)throw Error("The argument must be a React element, but you passed "+A+".");var G=S({},A.props),oe=A.key,ee=void 0;if(Y!=null)for(ae in Y.ref!==void 0&&(ee=void 0),Y.key!==void 0&&(oe=""+Y.key),Y)!R.call(Y,ae)||ae==="key"||ae==="__self"||ae==="__source"||ae==="ref"&&Y.ref===void 0||(G[ae]=Y[ae]);var ae=arguments.length-2;if(ae===1)G.children=K;else if(1<ae){for(var ie=Array(ae),ue=0;ue<ae;ue++)ie[ue]=arguments[ue+2];G.children=ie}return $(A.type,oe,void 0,void 0,ee,G)},da.createContext=function(A){return A={$$typeof:o,_currentValue:A,_currentValue2:A,_threadCount:0,Provider:null,Consumer:null},A.Provider=A,A.Consumer={$$typeof:i,_context:A},A},da.createElement=function(A,Y,K){var G,oe={},ee=null;if(Y!=null)for(G in Y.key!==void 0&&(ee=""+Y.key),Y)R.call(Y,G)&&G!=="key"&&G!=="__self"&&G!=="__source"&&(oe[G]=Y[G]);var ae=arguments.length-2;if(ae===1)oe.children=K;else if(1<ae){for(var ie=Array(ae),ue=0;ue<ae;ue++)ie[ue]=arguments[ue+2];oe.children=ie}if(A&&A.defaultProps)for(G in ae=A.defaultProps,ae)oe[G]===void 0&&(oe[G]=ae[G]);return $(A,ee,void 0,void 0,null,oe)},da.createRef=function(){return{current:null}},da.forwardRef=function(A){return{$$typeof:c,render:A}},da.isValidElement=F,da.lazy=function(A){return{$$typeof:f,_payload:{_status:-1,_result:A},_init:T}},da.memo=function(A,Y){return{$$typeof:d,type:A,compare:Y===void 0?null:Y}},da.startTransition=function(A){var Y=O.T,K={};O.T=K;try{var G=A(),oe=O.S;oe!==null&&oe(K,G),typeof G=="object"&&G!==null&&typeof G.then=="function"&&G.then(Z,J)}catch(ee){J(ee)}finally{O.T=Y}},da.unstable_useCacheRefresh=function(){return O.H.useCacheRefresh()},da.use=function(A){return O.H.use(A)},da.useActionState=function(A,Y,K){return O.H.useActionState(A,Y,K)},da.useCallback=function(A,Y){return O.H.useCallback(A,Y)},da.useContext=function(A){return O.H.useContext(A)},da.useDebugValue=function(){},da.useDeferredValue=function(A,Y){return O.H.useDeferredValue(A,Y)},da.useEffect=function(A,Y,K){var G=O.H;if(typeof K=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return G.useEffect(A,Y)},da.useId=function(){return O.H.useId()},da.useImperativeHandle=function(A,Y,K){return O.H.useImperativeHandle(A,Y,K)},da.useInsertionEffect=function(A,Y){return O.H.useInsertionEffect(A,Y)},da.useLayoutEffect=function(A,Y){return O.H.useLayoutEffect(A,Y)},da.useMemo=function(A,Y){return O.H.useMemo(A,Y)},da.useOptimistic=function(A,Y){return O.H.useOptimistic(A,Y)},da.useReducer=function(A,Y,K){return O.H.useReducer(A,Y,K)},da.useRef=function(A){return O.H.useRef(A)},da.useState=function(A){return O.H.useState(A)},da.useSyncExternalStore=function(A,Y,K){return O.H.useSyncExternalStore(A,Y,K)},da.useTransition=function(){return O.H.useTransition()},da.version="19.1.0",da}var Y5;function Qc(){return Y5||(Y5=1,xw.exports=dz()),xw.exports}var v=Qc();const Je=Si(v),Bm=LN({__proto__:null,default:Je},[v]);var bw={exports:{}},Wp={},yw={exports:{}},ww={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var G5;function hz(){return G5||(G5=1,function(e){function t(q,T){var J=q.length;q.push(T);e:for(;0<J;){var Z=J-1>>>1,A=q[Z];if(0<r(A,T))q[Z]=T,q[J]=A,J=Z;else break e}}function n(q){return q.length===0?null:q[0]}function a(q){if(q.length===0)return null;var T=q[0],J=q.pop();if(J!==T){q[0]=J;e:for(var Z=0,A=q.length,Y=A>>>1;Z<Y;){var K=2*(Z+1)-1,G=q[K],oe=K+1,ee=q[oe];if(0>r(G,J))oe<A&&0>r(ee,G)?(q[Z]=ee,q[oe]=J,Z=oe):(q[Z]=G,q[K]=J,Z=K);else if(oe<A&&0>r(ee,J))q[Z]=ee,q[oe]=J,Z=oe;else break e}}return T}function r(q,T){var J=q.sortIndex-T.sortIndex;return J!==0?J:q.id-T.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,c=o.now();e.unstable_now=function(){return o.now()-c}}var l=[],d=[],f=1,g=null,b=3,w=!1,S=!1,j=!1,N=!1,I=typeof setTimeout=="function"?setTimeout:null,M=typeof clearTimeout=="function"?clearTimeout:null,B=typeof setImmediate<"u"?setImmediate:null;function P(q){for(var T=n(d);T!==null;){if(T.callback===null)a(d);else if(T.startTime<=q)a(d),T.sortIndex=T.expirationTime,t(l,T);else break;T=n(d)}}function O(q){if(j=!1,P(q),!S)if(n(l)!==null)S=!0,R||(R=!0,X());else{var T=n(d);T!==null&&V(O,T.startTime-q)}}var R=!1,$=-1,U=5,F=-1;function H(){return N?!0:!(e.unstable_now()-F<U)}function ne(){if(N=!1,R){var q=e.unstable_now();F=q;var T=!0;try{e:{S=!1,j&&(j=!1,M($),$=-1),w=!0;var J=b;try{t:{for(P(q),g=n(l);g!==null&&!(g.expirationTime>q&&H());){var Z=g.callback;if(typeof Z=="function"){g.callback=null,b=g.priorityLevel;var A=Z(g.expirationTime<=q);if(q=e.unstable_now(),typeof A=="function"){g.callback=A,P(q),T=!0;break t}g===n(l)&&a(l),P(q)}else a(l);g=n(l)}if(g!==null)T=!0;else{var Y=n(d);Y!==null&&V(O,Y.startTime-q),T=!1}}break e}finally{g=null,b=J,w=!1}T=void 0}}finally{T?X():R=!1}}}var X;if(typeof B=="function")X=function(){B(ne)};else if(typeof MessageChannel<"u"){var te=new MessageChannel,se=te.port2;te.port1.onmessage=ne,X=function(){se.postMessage(null)}}else X=function(){I(ne,0)};function V(q,T){$=I(function(){q(e.unstable_now())},T)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(q){q.callback=null},e.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<q?Math.floor(1e3/q):5},e.unstable_getCurrentPriorityLevel=function(){return b},e.unstable_next=function(q){switch(b){case 1:case 2:case 3:var T=3;break;default:T=b}var J=b;b=T;try{return q()}finally{b=J}},e.unstable_requestPaint=function(){N=!0},e.unstable_runWithPriority=function(q,T){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var J=b;b=q;try{return T()}finally{b=J}},e.unstable_scheduleCallback=function(q,T,J){var Z=e.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?Z+J:Z):J=Z,q){case 1:var A=-1;break;case 2:A=250;break;case 5:A=1073741823;break;case 4:A=1e4;break;default:A=5e3}return A=J+A,q={id:f++,callback:T,priorityLevel:q,startTime:J,expirationTime:A,sortIndex:-1},J>Z?(q.sortIndex=J,t(d,q),n(l)===null&&q===n(d)&&(j?(M($),$=-1):j=!0,V(O,J-Z))):(q.sortIndex=A,t(l,q),S||w||(S=!0,R||(R=!0,X()))),q},e.unstable_shouldYield=H,e.unstable_wrapCallback=function(q){var T=b;return function(){var J=b;b=T;try{return q.apply(this,arguments)}finally{b=J}}}}(ww)),ww}var Q5;function fz(){return Q5||(Q5=1,yw.exports=hz()),yw.exports}var Cw={exports:{}},ao={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var X5;function mz(){if(X5)return ao;X5=1;var e=Qc();function t(l){var d="https://react.dev/errors/"+l;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)d+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+l+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var a={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},r=Symbol.for("react.portal");function i(l,d,f){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:g==null?null:""+g,children:l,containerInfo:d,implementation:f}}var o=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(l,d){if(l==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return ao.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,ao.createPortal=function(l,d){var f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(t(299));return i(l,d,null,f)},ao.flushSync=function(l){var d=o.T,f=a.p;try{if(o.T=null,a.p=2,l)return l()}finally{o.T=d,a.p=f,a.d.f()}},ao.preconnect=function(l,d){typeof l=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,a.d.C(l,d))},ao.prefetchDNS=function(l){typeof l=="string"&&a.d.D(l)},ao.preinit=function(l,d){if(typeof l=="string"&&d&&typeof d.as=="string"){var f=d.as,g=c(f,d.crossOrigin),b=typeof d.integrity=="string"?d.integrity:void 0,w=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;f==="style"?a.d.S(l,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:g,integrity:b,fetchPriority:w}):f==="script"&&a.d.X(l,{crossOrigin:g,integrity:b,fetchPriority:w,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},ao.preinitModule=function(l,d){if(typeof l=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var f=c(d.as,d.crossOrigin);a.d.M(l,{crossOrigin:f,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&a.d.M(l)},ao.preload=function(l,d){if(typeof l=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var f=d.as,g=c(f,d.crossOrigin);a.d.L(l,f,{crossOrigin:g,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},ao.preloadModule=function(l,d){if(typeof l=="string")if(d){var f=c(d.as,d.crossOrigin);a.d.m(l,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:f,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else a.d.m(l)},ao.requestFormReset=function(l){a.d.r(l)},ao.unstable_batchedUpdates=function(l,d){return l(d)},ao.useFormState=function(l,d,f){return o.H.useFormState(l,d,f)},ao.useFormStatus=function(){return o.H.useHostTransitionStatus()},ao.version="19.1.0",ao}var K5;function hA(){if(K5)return Cw.exports;K5=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Cw.exports=mz(),Cw.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Z5;function pz(){if(Z5)return Wp;Z5=1;var e=fz(),t=Qc(),n=hA();function a(u){var m="https://react.dev/errors/"+u;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)m+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+u+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(u){return!(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11)}function i(u){var m=u,x=u;if(u.alternate)for(;m.return;)m=m.return;else{u=m;do m=u,(m.flags&4098)!==0&&(x=m.return),u=m.return;while(u)}return m.tag===3?x:null}function o(u){if(u.tag===13){var m=u.memoizedState;if(m===null&&(u=u.alternate,u!==null&&(m=u.memoizedState)),m!==null)return m.dehydrated}return null}function c(u){if(i(u)!==u)throw Error(a(188))}function l(u){var m=u.alternate;if(!m){if(m=i(u),m===null)throw Error(a(188));return m!==u?null:u}for(var x=u,E=m;;){var L=x.return;if(L===null)break;var W=L.alternate;if(W===null){if(E=L.return,E!==null){x=E;continue}break}if(L.child===W.child){for(W=L.child;W;){if(W===x)return c(L),u;if(W===E)return c(L),m;W=W.sibling}throw Error(a(188))}if(x.return!==E.return)x=L,E=W;else{for(var ve=!1,Me=L.child;Me;){if(Me===x){ve=!0,x=L,E=W;break}if(Me===E){ve=!0,E=L,x=W;break}Me=Me.sibling}if(!ve){for(Me=W.child;Me;){if(Me===x){ve=!0,x=W,E=L;break}if(Me===E){ve=!0,E=W,x=L;break}Me=Me.sibling}if(!ve)throw Error(a(189))}}if(x.alternate!==E)throw Error(a(190))}if(x.tag!==3)throw Error(a(188));return x.stateNode.current===x?u:m}function d(u){var m=u.tag;if(m===5||m===26||m===27||m===6)return u;for(u=u.child;u!==null;){if(m=d(u),m!==null)return m;u=u.sibling}return null}var f=Object.assign,g=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),I=Symbol.for("react.provider"),M=Symbol.for("react.consumer"),B=Symbol.for("react.context"),P=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),R=Symbol.for("react.suspense_list"),$=Symbol.for("react.memo"),U=Symbol.for("react.lazy"),F=Symbol.for("react.activity"),H=Symbol.for("react.memo_cache_sentinel"),ne=Symbol.iterator;function X(u){return u===null||typeof u!="object"?null:(u=ne&&u[ne]||u["@@iterator"],typeof u=="function"?u:null)}var te=Symbol.for("react.client.reference");function se(u){if(u==null)return null;if(typeof u=="function")return u.$$typeof===te?null:u.displayName||u.name||null;if(typeof u=="string")return u;switch(u){case S:return"Fragment";case N:return"Profiler";case j:return"StrictMode";case O:return"Suspense";case R:return"SuspenseList";case F:return"Activity"}if(typeof u=="object")switch(u.$$typeof){case w:return"Portal";case B:return(u.displayName||"Context")+".Provider";case M:return(u._context.displayName||"Context")+".Consumer";case P:var m=u.render;return u=u.displayName,u||(u=m.displayName||m.name||"",u=u!==""?"ForwardRef("+u+")":"ForwardRef"),u;case $:return m=u.displayName||null,m!==null?m:se(u.type)||"Memo";case U:m=u._payload,u=u._init;try{return se(u(m))}catch{}}return null}var V=Array.isArray,q=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,T=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J={pending:!1,data:null,method:null,action:null},Z=[],A=-1;function Y(u){return{current:u}}function K(u){0>A||(u.current=Z[A],Z[A]=null,A--)}function G(u,m){A++,Z[A]=u.current,u.current=m}var oe=Y(null),ee=Y(null),ae=Y(null),ie=Y(null);function ue(u,m){switch(G(ae,m),G(ee,u),G(oe,null),m.nodeType){case 9:case 11:u=(u=m.documentElement)&&(u=u.namespaceURI)?v5(u):0;break;default:if(u=m.tagName,m=m.namespaceURI)m=v5(m),u=x5(m,u);else switch(u){case"svg":u=1;break;case"math":u=2;break;default:u=0}}K(oe),G(oe,u)}function he(){K(oe),K(ee),K(ae)}function ge(u){u.memoizedState!==null&&G(ie,u);var m=oe.current,x=x5(m,u.type);m!==x&&(G(ee,u),G(oe,x))}function ye(u){ee.current===u&&(K(oe),K(ee)),ie.current===u&&(K(ie),Fp._currentValue=J)}var je=Object.prototype.hasOwnProperty,Ie=e.unstable_scheduleCallback,me=e.unstable_cancelCallback,de=e.unstable_shouldYield,fe=e.unstable_requestPaint,re=e.unstable_now,xe=e.unstable_getCurrentPriorityLevel,Se=e.unstable_ImmediatePriority,pe=e.unstable_UserBlockingPriority,Ee=e.unstable_NormalPriority,Le=e.unstable_LowPriority,Ue=e.unstable_IdlePriority,Ne=e.log,et=e.unstable_setDisableYieldValue,dt=null,_e=null;function tt(u){if(typeof Ne=="function"&&et(u),_e&&typeof _e.setStrictMode=="function")try{_e.setStrictMode(dt,u)}catch{}}var Fe=Math.clz32?Math.clz32:le,It=Math.log,Xe=Math.LN2;function le(u){return u>>>=0,u===0?32:31-(It(u)/Xe|0)|0}var Ae=256,be=4194304;function We(u){var m=u&42;if(m!==0)return m;switch(u&-u){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return u&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return u}}function st(u,m,x){var E=u.pendingLanes;if(E===0)return 0;var L=0,W=u.suspendedLanes,ve=u.pingedLanes;u=u.warmLanes;var Me=E&134217727;return Me!==0?(E=Me&~W,E!==0?L=We(E):(ve&=Me,ve!==0?L=We(ve):x||(x=Me&~u,x!==0&&(L=We(x))))):(Me=E&~W,Me!==0?L=We(Me):ve!==0?L=We(ve):x||(x=E&~u,x!==0&&(L=We(x)))),L===0?0:m!==0&&m!==L&&(m&W)===0&&(W=L&-L,x=m&-m,W>=x||W===32&&(x&4194048)!==0)?m:L}function ct(u,m){return(u.pendingLanes&~(u.suspendedLanes&~u.pingedLanes)&m)===0}function Mt(u,m){switch(u){case 1:case 2:case 4:case 8:case 64:return m+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return m+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function pn(){var u=Ae;return Ae<<=1,(Ae&4194048)===0&&(Ae=256),u}function Gn(){var u=be;return be<<=1,(be&62914560)===0&&(be=4194304),u}function bt(u){for(var m=[],x=0;31>x;x++)m.push(u);return m}function ln(u,m){u.pendingLanes|=m,m!==268435456&&(u.suspendedLanes=0,u.pingedLanes=0,u.warmLanes=0)}function fn(u,m,x,E,L,W){var ve=u.pendingLanes;u.pendingLanes=x,u.suspendedLanes=0,u.pingedLanes=0,u.warmLanes=0,u.expiredLanes&=x,u.entangledLanes&=x,u.errorRecoveryDisabledLanes&=x,u.shellSuspendCounter=0;var Me=u.entanglements,at=u.expirationTimes,kt=u.hiddenUpdates;for(x=ve&~x;0<x;){var en=31-Fe(x),un=1<<en;Me[en]=0,at[en]=-1;var Tt=kt[en];if(Tt!==null)for(kt[en]=null,en=0;en<Tt.length;en++){var $t=Tt[en];$t!==null&&($t.lane&=-536870913)}x&=~un}E!==0&&wn(u,E,0),W!==0&&L===0&&u.tag!==0&&(u.suspendedLanes|=W&~(ve&~m))}function wn(u,m,x){u.pendingLanes|=m,u.suspendedLanes&=~m;var E=31-Fe(m);u.entangledLanes|=m,u.entanglements[E]=u.entanglements[E]|1073741824|x&4194090}function ut(u,m){var x=u.entangledLanes|=m;for(u=u.entanglements;x;){var E=31-Fe(x),L=1<<E;L&m|u[E]&m&&(u[E]|=m),x&=~L}}function Et(u){switch(u){case 2:u=1;break;case 8:u=4;break;case 32:u=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:u=128;break;case 268435456:u=134217728;break;default:u=0}return u}function nt(u){return u&=-u,2<u?8<u?(u&134217727)!==0?32:268435456:8:2}function Rt(){var u=T.p;return u!==0?u:(u=window.event,u===void 0?32:$5(u.type))}function Lt(u,m){var x=T.p;try{return T.p=u,m()}finally{T.p=x}}var on=Math.random().toString(36).slice(2),vn="__reactFiber$"+on,ns="__reactProps$"+on,us="__reactContainer$"+on,_s="__reactEvents$"+on,ds="__reactListeners$"+on,Pn="__reactHandles$"+on,Xt="__reactResources$"+on,ra="__reactMarker$"+on;function xa(u){delete u[vn],delete u[ns],delete u[_s],delete u[ds],delete u[Pn]}function Hn(u){var m=u[vn];if(m)return m;for(var x=u.parentNode;x;){if(m=x[us]||x[vn]){if(x=m.alternate,m.child!==null||x!==null&&x.child!==null)for(u=C5(u);u!==null;){if(x=u[vn])return x;u=C5(u)}return m}u=x,x=u.parentNode}return null}function ya(u){if(u=u[vn]||u[us]){var m=u.tag;if(m===5||m===6||m===13||m===26||m===27||m===3)return u}return null}function Ys(u){var m=u.tag;if(m===5||m===26||m===27||m===6)return u.stateNode;throw Error(a(33))}function Js(u){var m=u[Xt];return m||(m=u[Xt]={hoistableStyles:new Map,hoistableScripts:new Map}),m}function gs(u){u[ra]=!0}var Pa=new Set,ar={};function Vs(u,m){Ts(u,m),Ts(u+"Capture",m)}function Ts(u,m){for(ar[u]=m,u=0;u<m.length;u++)Pa.add(m[u])}var Gs=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),xr={},Fa={};function qa(u){return je.call(Fa,u)?!0:je.call(xr,u)?!1:Gs.test(u)?Fa[u]=!0:(xr[u]=!0,!1)}function zt(u,m,x){if(qa(m))if(x===null)u.removeAttribute(m);else{switch(typeof x){case"undefined":case"function":case"symbol":u.removeAttribute(m);return;case"boolean":var E=m.toLowerCase().slice(0,5);if(E!=="data-"&&E!=="aria-"){u.removeAttribute(m);return}}u.setAttribute(m,""+x)}}function Kn(u,m,x){if(x===null)u.removeAttribute(m);else{switch(typeof x){case"undefined":case"function":case"symbol":case"boolean":u.removeAttribute(m);return}u.setAttribute(m,""+x)}}function Es(u,m,x,E){if(E===null)u.removeAttribute(x);else{switch(typeof E){case"undefined":case"function":case"symbol":case"boolean":u.removeAttribute(x);return}u.setAttributeNS(m,x,""+E)}}var er,Ia;function ys(u){if(er===void 0)try{throw Error()}catch(x){var m=x.stack.trim().match(/\n( *(at )?)/);er=m&&m[1]||"",Ia=-1<x.stack.indexOf(`
    at`)?" (<anonymous>)":-1<x.stack.indexOf("@")?"@unknown:0:0":""}return`
`+er+u+Ia}var ks=!1;function is(u,m){if(!u||ks)return"";ks=!0;var x=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var E={DetermineComponentFrameRoot:function(){try{if(m){var un=function(){throw Error()};if(Object.defineProperty(un.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(un,[])}catch($t){var Tt=$t}Reflect.construct(u,[],un)}else{try{un.call()}catch($t){Tt=$t}u.call(un.prototype)}}else{try{throw Error()}catch($t){Tt=$t}(un=u())&&typeof un.catch=="function"&&un.catch(function(){})}}catch($t){if($t&&Tt&&typeof $t.stack=="string")return[$t.stack,Tt.stack]}return[null,null]}};E.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var L=Object.getOwnPropertyDescriptor(E.DetermineComponentFrameRoot,"name");L&&L.configurable&&Object.defineProperty(E.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var W=E.DetermineComponentFrameRoot(),ve=W[0],Me=W[1];if(ve&&Me){var at=ve.split(`
`),kt=Me.split(`
`);for(L=E=0;E<at.length&&!at[E].includes("DetermineComponentFrameRoot");)E++;for(;L<kt.length&&!kt[L].includes("DetermineComponentFrameRoot");)L++;if(E===at.length||L===kt.length)for(E=at.length-1,L=kt.length-1;1<=E&&0<=L&&at[E]!==kt[L];)L--;for(;1<=E&&0<=L;E--,L--)if(at[E]!==kt[L]){if(E!==1||L!==1)do if(E--,L--,0>L||at[E]!==kt[L]){var en=`
`+at[E].replace(" at new "," at ");return u.displayName&&en.includes("<anonymous>")&&(en=en.replace("<anonymous>",u.displayName)),en}while(1<=E&&0<=L);break}}}finally{ks=!1,Error.prepareStackTrace=x}return(x=u?u.displayName||u.name:"")?ys(x):""}function La(u){switch(u.tag){case 26:case 27:case 5:return ys(u.type);case 16:return ys("Lazy");case 13:return ys("Suspense");case 19:return ys("SuspenseList");case 0:case 15:return is(u.type,!1);case 11:return is(u.type.render,!1);case 1:return is(u.type,!0);case 31:return ys("Activity");default:return""}}function os(u){try{var m="";do m+=La(u),u=u.return;while(u);return m}catch(x){return`
Error generating stack: `+x.message+`
`+x.stack}}function ta(u){switch(typeof u){case"bigint":case"boolean":case"number":case"string":case"undefined":return u;case"object":return u;default:return""}}function Ws(u){var m=u.type;return(u=u.nodeName)&&u.toLowerCase()==="input"&&(m==="checkbox"||m==="radio")}function Qs(u){var m=Ws(u)?"checked":"value",x=Object.getOwnPropertyDescriptor(u.constructor.prototype,m),E=""+u[m];if(!u.hasOwnProperty(m)&&typeof x<"u"&&typeof x.get=="function"&&typeof x.set=="function"){var L=x.get,W=x.set;return Object.defineProperty(u,m,{configurable:!0,get:function(){return L.call(this)},set:function(ve){E=""+ve,W.call(this,ve)}}),Object.defineProperty(u,m,{enumerable:x.enumerable}),{getValue:function(){return E},setValue:function(ve){E=""+ve},stopTracking:function(){u._valueTracker=null,delete u[m]}}}}function fr(u){u._valueTracker||(u._valueTracker=Qs(u))}function qs(u){if(!u)return!1;var m=u._valueTracker;if(!m)return!0;var x=m.getValue(),E="";return u&&(E=Ws(u)?u.checked?"true":"false":u.value),u=E,u!==x?(m.setValue(u),!0):!1}function Ga(u){if(u=u||(typeof document<"u"?document:void 0),typeof u>"u")return null;try{return u.activeElement||u.body}catch{return u.body}}var _i=/[\n"\\]/g;function na(u){return u.replace(_i,function(m){return"\\"+m.charCodeAt(0).toString(16)+" "})}function As(u,m,x,E,L,W,ve,Me){u.name="",ve!=null&&typeof ve!="function"&&typeof ve!="symbol"&&typeof ve!="boolean"?u.type=ve:u.removeAttribute("type"),m!=null?ve==="number"?(m===0&&u.value===""||u.value!=m)&&(u.value=""+ta(m)):u.value!==""+ta(m)&&(u.value=""+ta(m)):ve!=="submit"&&ve!=="reset"||u.removeAttribute("value"),m!=null?rt(u,ve,ta(m)):x!=null?rt(u,ve,ta(x)):E!=null&&u.removeAttribute("value"),L==null&&W!=null&&(u.defaultChecked=!!W),L!=null&&(u.checked=L&&typeof L!="function"&&typeof L!="symbol"),Me!=null&&typeof Me!="function"&&typeof Me!="symbol"&&typeof Me!="boolean"?u.name=""+ta(Me):u.removeAttribute("name")}function Fn(u,m,x,E,L,W,ve,Me){if(W!=null&&typeof W!="function"&&typeof W!="symbol"&&typeof W!="boolean"&&(u.type=W),m!=null||x!=null){if(!(W!=="submit"&&W!=="reset"||m!=null))return;x=x!=null?""+ta(x):"",m=m!=null?""+ta(m):x,Me||m===u.value||(u.value=m),u.defaultValue=m}E=E??L,E=typeof E!="function"&&typeof E!="symbol"&&!!E,u.checked=Me?u.checked:!!E,u.defaultChecked=!!E,ve!=null&&typeof ve!="function"&&typeof ve!="symbol"&&typeof ve!="boolean"&&(u.name=ve)}function rt(u,m,x){m==="number"&&Ga(u.ownerDocument)===u||u.defaultValue===""+x||(u.defaultValue=""+x)}function Be(u,m,x,E){if(u=u.options,m){m={};for(var L=0;L<x.length;L++)m["$"+x[L]]=!0;for(x=0;x<u.length;x++)L=m.hasOwnProperty("$"+u[x].value),u[x].selected!==L&&(u[x].selected=L),L&&E&&(u[x].defaultSelected=!0)}else{for(x=""+ta(x),m=null,L=0;L<u.length;L++){if(u[L].value===x){u[L].selected=!0,E&&(u[L].defaultSelected=!0);return}m!==null||u[L].disabled||(m=u[L])}m!==null&&(m.selected=!0)}}function Ye(u,m,x){if(m!=null&&(m=""+ta(m),m!==u.value&&(u.value=m),x==null)){u.defaultValue!==m&&(u.defaultValue=m);return}u.defaultValue=x!=null?""+ta(x):""}function Dt(u,m,x,E){if(m==null){if(E!=null){if(x!=null)throw Error(a(92));if(V(E)){if(1<E.length)throw Error(a(93));E=E[0]}x=E}x==null&&(x=""),m=x}x=ta(m),u.defaultValue=x,E=u.textContent,E===x&&E!==""&&E!==null&&(u.value=E)}function Wt(u,m){if(m){var x=u.firstChild;if(x&&x===u.lastChild&&x.nodeType===3){x.nodeValue=m;return}}u.textContent=m}var qt=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ge(u,m,x){var E=m.indexOf("--")===0;x==null||typeof x=="boolean"||x===""?E?u.setProperty(m,""):m==="float"?u.cssFloat="":u[m]="":E?u.setProperty(m,x):typeof x!="number"||x===0||qt.has(m)?m==="float"?u.cssFloat=x:u[m]=(""+x).trim():u[m]=x+"px"}function Ze(u,m,x){if(m!=null&&typeof m!="object")throw Error(a(62));if(u=u.style,x!=null){for(var E in x)!x.hasOwnProperty(E)||m!=null&&m.hasOwnProperty(E)||(E.indexOf("--")===0?u.setProperty(E,""):E==="float"?u.cssFloat="":u[E]="");for(var L in m)E=m[L],m.hasOwnProperty(L)&&x[L]!==E&&Ge(u,L,E)}else for(var W in m)m.hasOwnProperty(W)&&Ge(u,W,m[W])}function Ke(u){if(u.indexOf("-")===-1)return!1;switch(u){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var it=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ut=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ft(u){return Ut.test(""+u)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":u}var En=null;function gn(u){return u=u.target||u.srcElement||window,u.correspondingUseElement&&(u=u.correspondingUseElement),u.nodeType===3?u.parentNode:u}var Qn=null,Gt=null;function Tn(u){var m=ya(u);if(m&&(u=m.stateNode)){var x=u[ns]||null;e:switch(u=m.stateNode,m.type){case"input":if(As(u,x.value,x.defaultValue,x.defaultValue,x.checked,x.defaultChecked,x.type,x.name),m=x.name,x.type==="radio"&&m!=null){for(x=u;x.parentNode;)x=x.parentNode;for(x=x.querySelectorAll('input[name="'+na(""+m)+'"][type="radio"]'),m=0;m<x.length;m++){var E=x[m];if(E!==u&&E.form===u.form){var L=E[ns]||null;if(!L)throw Error(a(90));As(E,L.value,L.defaultValue,L.defaultValue,L.checked,L.defaultChecked,L.type,L.name)}}for(m=0;m<x.length;m++)E=x[m],E.form===u.form&&qs(E)}break e;case"textarea":Ye(u,x.value,x.defaultValue);break e;case"select":m=x.value,m!=null&&Be(u,!!x.multiple,m,!1)}}}var hn=!1;function ss(u,m,x){if(hn)return u(m,x);hn=!0;try{var E=u(m);return E}finally{if(hn=!1,(Qn!==null||Gt!==null)&&(l_(),Qn&&(m=Qn,u=Gt,Gt=Qn=null,Tn(m),u)))for(m=0;m<u.length;m++)Tn(u[m])}}function Qt(u,m){var x=u.stateNode;if(x===null)return null;var E=x[ns]||null;if(E===null)return null;x=E[m];e:switch(m){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(E=!E.disabled)||(u=u.type,E=!(u==="button"||u==="input"||u==="select"||u==="textarea")),u=!E;break e;default:u=!1}if(u)return null;if(x&&typeof x!="function")throw Error(a(231,m,typeof x));return x}var xs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),wt=!1;if(xs)try{var rn={};Object.defineProperty(rn,"passive",{get:function(){wt=!0}}),window.addEventListener("test",rn,rn),window.removeEventListener("test",rn,rn)}catch{wt=!1}var Bn=null,vs=null,bs=null;function ua(){if(bs)return bs;var u,m=vs,x=m.length,E,L="value"in Bn?Bn.value:Bn.textContent,W=L.length;for(u=0;u<x&&m[u]===L[u];u++);var ve=x-u;for(E=1;E<=ve&&m[x-E]===L[W-E];E++);return bs=L.slice(u,1<E?1-E:void 0)}function tr(u){var m=u.keyCode;return"charCode"in u?(u=u.charCode,u===0&&m===13&&(u=13)):u=m,u===10&&(u=13),32<=u||u===13?u:0}function Xa(){return!0}function ji(){return!1}function Sr(u){function m(x,E,L,W,ve){this._reactName=x,this._targetInst=L,this.type=E,this.nativeEvent=W,this.target=ve,this.currentTarget=null;for(var Me in u)u.hasOwnProperty(Me)&&(x=u[Me],this[Me]=x?x(W):W[Me]);return this.isDefaultPrevented=(W.defaultPrevented!=null?W.defaultPrevented:W.returnValue===!1)?Xa:ji,this.isPropagationStopped=ji,this}return f(m.prototype,{preventDefault:function(){this.defaultPrevented=!0;var x=this.nativeEvent;x&&(x.preventDefault?x.preventDefault():typeof x.returnValue!="unknown"&&(x.returnValue=!1),this.isDefaultPrevented=Xa)},stopPropagation:function(){var x=this.nativeEvent;x&&(x.stopPropagation?x.stopPropagation():typeof x.cancelBubble!="unknown"&&(x.cancelBubble=!0),this.isPropagationStopped=Xa)},persist:function(){},isPersistent:Xa}),m}var Zi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(u){return u.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Pe=Sr(Zi),Qe=f({},Zi,{view:0,detail:0}),ft=Sr(Qe),yt,kn,Un,Zn=f({},Qe,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ji,button:0,buttons:0,relatedTarget:function(u){return u.relatedTarget===void 0?u.fromElement===u.srcElement?u.toElement:u.fromElement:u.relatedTarget},movementX:function(u){return"movementX"in u?u.movementX:(u!==Un&&(Un&&u.type==="mousemove"?(yt=u.screenX-Un.screenX,kn=u.screenY-Un.screenY):kn=yt=0,Un=u),yt)},movementY:function(u){return"movementY"in u?u.movementY:kn}}),Cs=Sr(Zn),Ha=f({},Zn,{dataTransfer:0}),jn=Sr(Ha),wa=f({},Qe,{relatedTarget:0}),Oe=Sr(wa),Ve=f({},Zi,{animationName:0,elapsedTime:0,pseudoElement:0}),gt=Sr(Ve),$e=f({},Zi,{clipboardData:function(u){return"clipboardData"in u?u.clipboardData:window.clipboardData}}),Vt=Sr($e),Mn=f({},Zi,{data:0}),Jn=Sr(Mn),Ss={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},jr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Vi={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Wr(u){var m=this.nativeEvent;return m.getModifierState?m.getModifierState(u):(u=Vi[u])?!!m[u]:!1}function Ji(){return Wr}var Xs=f({},Qe,{key:function(u){if(u.key){var m=Ss[u.key]||u.key;if(m!=="Unidentified")return m}return u.type==="keypress"?(u=tr(u),u===13?"Enter":String.fromCharCode(u)):u.type==="keydown"||u.type==="keyup"?jr[u.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ji,charCode:function(u){return u.type==="keypress"?tr(u):0},keyCode:function(u){return u.type==="keydown"||u.type==="keyup"?u.keyCode:0},which:function(u){return u.type==="keypress"?tr(u):u.type==="keydown"||u.type==="keyup"?u.keyCode:0}}),Rl=Sr(Xs),Mr=f({},Zn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Rd=Sr(Mr),Ol=f({},Qe,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ji}),rr=Sr(Ol),Ds=f({},Zi,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ty=Sr(Ds),br=f({},Zn,{deltaX:function(u){return"deltaX"in u?u.deltaX:"wheelDeltaX"in u?-u.wheelDeltaX:0},deltaY:function(u){return"deltaY"in u?u.deltaY:"wheelDeltaY"in u?-u.wheelDeltaY:"wheelDelta"in u?-u.wheelDelta:0},deltaZ:0,deltaMode:0}),Bl=Sr(br),Nu=f({},Zi,{newState:0,oldState:0}),Ay=Sr(Nu),ac=[9,13,27,32],Od=xs&&"CompositionEvent"in window,Eu=null;xs&&"documentMode"in document&&(Eu=document.documentMode);var sp=xs&&"TextEvent"in window&&!Eu,ap=xs&&(!Od||Eu&&8<Eu&&11>=Eu),rp=" ",k0=!1;function Ll(u,m){switch(u){case"keyup":return ac.indexOf(m.keyCode)!==-1;case"keydown":return m.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Kh(u){return u=u.detail,typeof u=="object"&&"data"in u?u.data:null}var ku=!1;function Bd(u,m){switch(u){case"compositionend":return Kh(m);case"keypress":return m.which!==32?null:(k0=!0,rp);case"textInput":return u=m.data,u===rp&&k0?null:u;default:return null}}function My(u,m){if(ku)return u==="compositionend"||!Od&&Ll(u,m)?(u=ua(),bs=vs=Bn=null,ku=!1,u):null;switch(u){case"paste":return null;case"keypress":if(!(m.ctrlKey||m.altKey||m.metaKey)||m.ctrlKey&&m.altKey){if(m.char&&1<m.char.length)return m.char;if(m.which)return String.fromCharCode(m.which)}return null;case"compositionend":return ap&&m.locale!=="ko"?null:m.data;default:return null}}var Jc={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ld(u){var m=u&&u.nodeName&&u.nodeName.toLowerCase();return m==="input"?!!Jc[u.type]:m==="textarea"}function po(u,m,x,E){Qn?Gt?Gt.push(E):Gt=[E]:Qn=E,m=p_(m,"onChange"),0<m.length&&(x=new Pe("onChange","change",null,x,E),u.push({event:x,listeners:m}))}var Iu=null,eo=null;function Ry(u){f5(u,0)}function Du(u){var m=Ys(u);if(qs(m))return u}function I0(u,m){if(u==="change")return m}var ip=!1;if(xs){var yo;if(xs){var op="oninput"in document;if(!op){var Zh=document.createElement("div");Zh.setAttribute("oninput","return;"),op=typeof Zh.oninput=="function"}yo=op}else yo=!1;ip=yo&&(!document.documentMode||9<document.documentMode)}function Tu(){Iu&&(Iu.detachEvent("onpropertychange",Da),eo=Iu=null)}function Da(u){if(u.propertyName==="value"&&Du(eo)){var m=[];po(m,eo,u,gn(u)),ss(Ry,m)}}function Jh(u,m,x){u==="focusin"?(Tu(),Iu=m,eo=x,Iu.attachEvent("onpropertychange",Da)):u==="focusout"&&Tu()}function we(u){if(u==="selectionchange"||u==="keyup"||u==="keydown")return Du(eo)}function h(u,m){if(u==="click")return Du(m)}function p(u,m){if(u==="input"||u==="change")return Du(m)}function _(u,m){return u===m&&(u!==0||1/u===1/m)||u!==u&&m!==m}var y=typeof Object.is=="function"?Object.is:_;function C(u,m){if(y(u,m))return!0;if(typeof u!="object"||u===null||typeof m!="object"||m===null)return!1;var x=Object.keys(u),E=Object.keys(m);if(x.length!==E.length)return!1;for(E=0;E<x.length;E++){var L=x[E];if(!je.call(m,L)||!y(u[L],m[L]))return!1}return!0}function k(u){for(;u&&u.firstChild;)u=u.firstChild;return u}function D(u,m){var x=k(u);u=0;for(var E;x;){if(x.nodeType===3){if(E=u+x.textContent.length,u<=m&&E>=m)return{node:x,offset:m-u};u=E}e:{for(;x;){if(x.nextSibling){x=x.nextSibling;break e}x=x.parentNode}x=void 0}x=k(x)}}function z(u,m){return u&&m?u===m?!0:u&&u.nodeType===3?!1:m&&m.nodeType===3?z(u,m.parentNode):"contains"in u?u.contains(m):u.compareDocumentPosition?!!(u.compareDocumentPosition(m)&16):!1:!1}function Q(u){u=u!=null&&u.ownerDocument!=null&&u.ownerDocument.defaultView!=null?u.ownerDocument.defaultView:window;for(var m=Ga(u.document);m instanceof u.HTMLIFrameElement;){try{var x=typeof m.contentWindow.location.href=="string"}catch{x=!1}if(x)u=m.contentWindow;else break;m=Ga(u.document)}return m}function ce(u){var m=u&&u.nodeName&&u.nodeName.toLowerCase();return m&&(m==="input"&&(u.type==="text"||u.type==="search"||u.type==="tel"||u.type==="url"||u.type==="password")||m==="textarea"||u.contentEditable==="true")}var Ce=xs&&"documentMode"in document&&11>=document.documentMode,ke=null,qe=null,ot=null,lt=!1;function Ct(u,m,x){var E=x.window===x?x.document:x.nodeType===9?x:x.ownerDocument;lt||ke==null||ke!==Ga(E)||(E=ke,"selectionStart"in E&&ce(E)?E={start:E.selectionStart,end:E.selectionEnd}:(E=(E.ownerDocument&&E.ownerDocument.defaultView||window).getSelection(),E={anchorNode:E.anchorNode,anchorOffset:E.anchorOffset,focusNode:E.focusNode,focusOffset:E.focusOffset}),ot&&C(ot,E)||(ot=E,E=p_(qe,"onSelect"),0<E.length&&(m=new Pe("onSelect","select",null,m,x),u.push({event:m,listeners:E}),m.target=ke)))}function Bt(u,m){var x={};return x[u.toLowerCase()]=m.toLowerCase(),x["Webkit"+u]="webkit"+m,x["Moz"+u]="moz"+m,x}var Cn={animationend:Bt("Animation","AnimationEnd"),animationiteration:Bt("Animation","AnimationIteration"),animationstart:Bt("Animation","AnimationStart"),transitionrun:Bt("Transition","TransitionRun"),transitionstart:Bt("Transition","TransitionStart"),transitioncancel:Bt("Transition","TransitionCancel"),transitionend:Bt("Transition","TransitionEnd")},In={},xn={};xs&&(xn=document.createElement("div").style,"AnimationEvent"in window||(delete Cn.animationend.animation,delete Cn.animationiteration.animation,delete Cn.animationstart.animation),"TransitionEvent"in window||delete Cn.transitionend.transition);function ea(u){if(In[u])return In[u];if(!Cn[u])return u;var m=Cn[u],x;for(x in m)if(m.hasOwnProperty(x)&&x in xn)return In[u]=m[x];return u}var Ks=ea("animationend"),qi=ea("animationiteration"),wo=ea("animationstart"),to=ea("transitionrun"),ir=ea("transitionstart"),Ni=ea("transitioncancel"),no=ea("transitionend"),$l=new Map,el="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");el.push("scrollEnd");function $o(u,m){$l.set(u,m),Vs(m,[u])}var D0=new WeakMap;function rc(u,m){if(typeof u=="object"&&u!==null){var x=D0.get(u);return x!==void 0?x:(m={value:u,source:m,stack:os(m)},D0.set(u,m),m)}return{value:u,source:m,stack:os(m)}}var ic=[],ef=0,Oy=0;function T0(){for(var u=ef,m=Oy=ef=0;m<u;){var x=ic[m];ic[m++]=null;var E=ic[m];ic[m++]=null;var L=ic[m];ic[m++]=null;var W=ic[m];if(ic[m++]=null,E!==null&&L!==null){var ve=E.pending;ve===null?L.next=L:(L.next=ve.next,ve.next=L),E.pending=L}W!==0&&K4(x,L,W)}}function A0(u,m,x,E){ic[ef++]=u,ic[ef++]=m,ic[ef++]=x,ic[ef++]=E,Oy|=E,u.lanes|=E,u=u.alternate,u!==null&&(u.lanes|=E)}function By(u,m,x,E){return A0(u,m,x,E),M0(u)}function tf(u,m){return A0(u,null,null,m),M0(u)}function K4(u,m,x){u.lanes|=x;var E=u.alternate;E!==null&&(E.lanes|=x);for(var L=!1,W=u.return;W!==null;)W.childLanes|=x,E=W.alternate,E!==null&&(E.childLanes|=x),W.tag===22&&(u=W.stateNode,u===null||u._visibility&1||(L=!0)),u=W,W=W.return;return u.tag===3?(W=u.stateNode,L&&m!==null&&(L=31-Fe(x),u=W.hiddenUpdates,E=u[L],E===null?u[L]=[m]:E.push(m),m.lane=x|536870912),W):null}function M0(u){if(50<Ap)throw Ap=0,z2=null,Error(a(185));for(var m=u.return;m!==null;)u=m,m=u.return;return u.tag===3?u.stateNode:null}var nf={};function UF(u,m,x,E){this.tag=u,this.key=x,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=m,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=E,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Po(u,m,x,E){return new UF(u,m,x,E)}function Ly(u){return u=u.prototype,!(!u||!u.isReactComponent)}function Pl(u,m){var x=u.alternate;return x===null?(x=Po(u.tag,m,u.key,u.mode),x.elementType=u.elementType,x.type=u.type,x.stateNode=u.stateNode,x.alternate=u,u.alternate=x):(x.pendingProps=m,x.type=u.type,x.flags=0,x.subtreeFlags=0,x.deletions=null),x.flags=u.flags&65011712,x.childLanes=u.childLanes,x.lanes=u.lanes,x.child=u.child,x.memoizedProps=u.memoizedProps,x.memoizedState=u.memoizedState,x.updateQueue=u.updateQueue,m=u.dependencies,x.dependencies=m===null?null:{lanes:m.lanes,firstContext:m.firstContext},x.sibling=u.sibling,x.index=u.index,x.ref=u.ref,x.refCleanup=u.refCleanup,x}function Z4(u,m){u.flags&=65011714;var x=u.alternate;return x===null?(u.childLanes=0,u.lanes=m,u.child=null,u.subtreeFlags=0,u.memoizedProps=null,u.memoizedState=null,u.updateQueue=null,u.dependencies=null,u.stateNode=null):(u.childLanes=x.childLanes,u.lanes=x.lanes,u.child=x.child,u.subtreeFlags=0,u.deletions=null,u.memoizedProps=x.memoizedProps,u.memoizedState=x.memoizedState,u.updateQueue=x.updateQueue,u.type=x.type,m=x.dependencies,u.dependencies=m===null?null:{lanes:m.lanes,firstContext:m.firstContext}),u}function R0(u,m,x,E,L,W){var ve=0;if(E=u,typeof u=="function")Ly(u)&&(ve=1);else if(typeof u=="string")ve=YH(u,x,oe.current)?26:u==="html"||u==="head"||u==="body"?27:5;else e:switch(u){case F:return u=Po(31,x,m,L),u.elementType=F,u.lanes=W,u;case S:return $d(x.children,L,W,m);case j:ve=8,L|=24;break;case N:return u=Po(12,x,m,L|2),u.elementType=N,u.lanes=W,u;case O:return u=Po(13,x,m,L),u.elementType=O,u.lanes=W,u;case R:return u=Po(19,x,m,L),u.elementType=R,u.lanes=W,u;default:if(typeof u=="object"&&u!==null)switch(u.$$typeof){case I:case B:ve=10;break e;case M:ve=9;break e;case P:ve=11;break e;case $:ve=14;break e;case U:ve=16,E=null;break e}ve=29,x=Error(a(130,u===null?"null":typeof u,"")),E=null}return m=Po(ve,x,m,L),m.elementType=u,m.type=E,m.lanes=W,m}function $d(u,m,x,E){return u=Po(7,u,E,m),u.lanes=x,u}function $y(u,m,x){return u=Po(6,u,null,m),u.lanes=x,u}function Py(u,m,x){return m=Po(4,u.children!==null?u.children:[],u.key,m),m.lanes=x,m.stateNode={containerInfo:u.containerInfo,pendingChildren:null,implementation:u.implementation},m}var sf=[],af=0,O0=null,B0=0,oc=[],cc=0,Pd=null,Fl=1,Hl="";function Fd(u,m){sf[af++]=B0,sf[af++]=O0,O0=u,B0=m}function J4(u,m,x){oc[cc++]=Fl,oc[cc++]=Hl,oc[cc++]=Pd,Pd=u;var E=Fl;u=Hl;var L=32-Fe(E)-1;E&=~(1<<L),x+=1;var W=32-Fe(m)+L;if(30<W){var ve=L-L%5;W=(E&(1<<ve)-1).toString(32),E>>=ve,L-=ve,Fl=1<<32-Fe(m)+L|x<<L|E,Hl=W+u}else Fl=1<<W|x<<L|E,Hl=u}function Fy(u){u.return!==null&&(Fd(u,1),J4(u,1,0))}function Hy(u){for(;u===O0;)O0=sf[--af],sf[af]=null,B0=sf[--af],sf[af]=null;for(;u===Pd;)Pd=oc[--cc],oc[cc]=null,Hl=oc[--cc],oc[cc]=null,Fl=oc[--cc],oc[cc]=null}var go=null,Xr=null,Ka=!1,Hd=null,tl=!1,zy=Error(a(519));function zd(u){var m=Error(a(418,""));throw up(rc(m,u)),zy}function e6(u){var m=u.stateNode,x=u.type,E=u.memoizedProps;switch(m[vn]=u,m[ns]=E,x){case"dialog":Sa("cancel",m),Sa("close",m);break;case"iframe":case"object":case"embed":Sa("load",m);break;case"video":case"audio":for(x=0;x<Rp.length;x++)Sa(Rp[x],m);break;case"source":Sa("error",m);break;case"img":case"image":case"link":Sa("error",m),Sa("load",m);break;case"details":Sa("toggle",m);break;case"input":Sa("invalid",m),Fn(m,E.value,E.defaultValue,E.checked,E.defaultChecked,E.type,E.name,!0),fr(m);break;case"select":Sa("invalid",m);break;case"textarea":Sa("invalid",m),Dt(m,E.value,E.defaultValue,E.children),fr(m)}x=E.children,typeof x!="string"&&typeof x!="number"&&typeof x!="bigint"||m.textContent===""+x||E.suppressHydrationWarning===!0||_5(m.textContent,x)?(E.popover!=null&&(Sa("beforetoggle",m),Sa("toggle",m)),E.onScroll!=null&&Sa("scroll",m),E.onScrollEnd!=null&&Sa("scrollend",m),E.onClick!=null&&(m.onclick=g_),m=!0):m=!1,m||zd(u)}function t6(u){for(go=u.return;go;)switch(go.tag){case 5:case 13:tl=!1;return;case 27:case 3:tl=!0;return;default:go=go.return}}function cp(u){if(u!==go)return!1;if(!Ka)return t6(u),Ka=!0,!1;var m=u.tag,x;if((x=m!==3&&m!==27)&&((x=m===5)&&(x=u.type,x=!(x!=="form"&&x!=="button")||aw(u.type,u.memoizedProps)),x=!x),x&&Xr&&zd(u),t6(u),m===13){if(u=u.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(a(317));e:{for(u=u.nextSibling,m=0;u;){if(u.nodeType===8)if(x=u.data,x==="/$"){if(m===0){Xr=Ac(u.nextSibling);break e}m--}else x!=="$"&&x!=="$!"&&x!=="$?"||m++;u=u.nextSibling}Xr=null}}else m===27?(m=Xr,Yu(u.type)?(u=cw,cw=null,Xr=u):Xr=m):Xr=go?Ac(u.stateNode.nextSibling):null;return!0}function lp(){Xr=go=null,Ka=!1}function n6(){var u=Hd;return u!==null&&(jo===null?jo=u:jo.push.apply(jo,u),Hd=null),u}function up(u){Hd===null?Hd=[u]:Hd.push(u)}var Vy=Y(null),Vd=null,zl=null;function Au(u,m,x){G(Vy,m._currentValue),m._currentValue=x}function Vl(u){u._currentValue=Vy.current,K(Vy)}function qy(u,m,x){for(;u!==null;){var E=u.alternate;if((u.childLanes&m)!==m?(u.childLanes|=m,E!==null&&(E.childLanes|=m)):E!==null&&(E.childLanes&m)!==m&&(E.childLanes|=m),u===x)break;u=u.return}}function Uy(u,m,x,E){var L=u.child;for(L!==null&&(L.return=u);L!==null;){var W=L.dependencies;if(W!==null){var ve=L.child;W=W.firstContext;e:for(;W!==null;){var Me=W;W=L;for(var at=0;at<m.length;at++)if(Me.context===m[at]){W.lanes|=x,Me=W.alternate,Me!==null&&(Me.lanes|=x),qy(W.return,x,u),E||(ve=null);break e}W=Me.next}}else if(L.tag===18){if(ve=L.return,ve===null)throw Error(a(341));ve.lanes|=x,W=ve.alternate,W!==null&&(W.lanes|=x),qy(ve,x,u),ve=null}else ve=L.child;if(ve!==null)ve.return=L;else for(ve=L;ve!==null;){if(ve===u){ve=null;break}if(L=ve.sibling,L!==null){L.return=ve.return,ve=L;break}ve=ve.return}L=ve}}function dp(u,m,x,E){u=null;for(var L=m,W=!1;L!==null;){if(!W){if((L.flags&524288)!==0)W=!0;else if((L.flags&262144)!==0)break}if(L.tag===10){var ve=L.alternate;if(ve===null)throw Error(a(387));if(ve=ve.memoizedProps,ve!==null){var Me=L.type;y(L.pendingProps.value,ve.value)||(u!==null?u.push(Me):u=[Me])}}else if(L===ie.current){if(ve=L.alternate,ve===null)throw Error(a(387));ve.memoizedState.memoizedState!==L.memoizedState.memoizedState&&(u!==null?u.push(Fp):u=[Fp])}L=L.return}u!==null&&Uy(m,u,x,E),m.flags|=262144}function L0(u){for(u=u.firstContext;u!==null;){if(!y(u.context._currentValue,u.memoizedValue))return!0;u=u.next}return!1}function qd(u){Vd=u,zl=null,u=u.dependencies,u!==null&&(u.firstContext=null)}function so(u){return s6(Vd,u)}function $0(u,m){return Vd===null&&qd(u),s6(u,m)}function s6(u,m){var x=m._currentValue;if(m={context:m,memoizedValue:x,next:null},zl===null){if(u===null)throw Error(a(308));zl=m,u.dependencies={lanes:0,firstContext:m},u.flags|=524288}else zl=zl.next=m;return x}var WF=typeof AbortController<"u"?AbortController:function(){var u=[],m=this.signal={aborted:!1,addEventListener:function(x,E){u.push(E)}};this.abort=function(){m.aborted=!0,u.forEach(function(x){return x()})}},YF=e.unstable_scheduleCallback,GF=e.unstable_NormalPriority,Ei={$$typeof:B,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Wy(){return{controller:new WF,data:new Map,refCount:0}}function hp(u){u.refCount--,u.refCount===0&&YF(GF,function(){u.controller.abort()})}var fp=null,Yy=0,rf=0,of=null;function QF(u,m){if(fp===null){var x=fp=[];Yy=0,rf=Q2(),of={status:"pending",value:void 0,then:function(E){x.push(E)}}}return Yy++,m.then(a6,a6),m}function a6(){if(--Yy===0&&fp!==null){of!==null&&(of.status="fulfilled");var u=fp;fp=null,rf=0,of=null;for(var m=0;m<u.length;m++)(0,u[m])()}}function XF(u,m){var x=[],E={status:"pending",value:null,reason:null,then:function(L){x.push(L)}};return u.then(function(){E.status="fulfilled",E.value=m;for(var L=0;L<x.length;L++)(0,x[L])(m)},function(L){for(E.status="rejected",E.reason=L,L=0;L<x.length;L++)(0,x[L])(void 0)}),E}var r6=q.S;q.S=function(u,m){typeof m=="object"&&m!==null&&typeof m.then=="function"&&QF(u,m),r6!==null&&r6(u,m)};var Ud=Y(null);function Gy(){var u=Ud.current;return u!==null?u:Nr.pooledCache}function P0(u,m){m===null?G(Ud,Ud.current):G(Ud,m.pool)}function i6(){var u=Gy();return u===null?null:{parent:Ei._currentValue,pool:u}}var mp=Error(a(460)),o6=Error(a(474)),F0=Error(a(542)),Qy={then:function(){}};function c6(u){return u=u.status,u==="fulfilled"||u==="rejected"}function H0(){}function l6(u,m,x){switch(x=u[x],x===void 0?u.push(m):x!==m&&(m.then(H0,H0),m=x),m.status){case"fulfilled":return m.value;case"rejected":throw u=m.reason,d6(u),u;default:if(typeof m.status=="string")m.then(H0,H0);else{if(u=Nr,u!==null&&100<u.shellSuspendCounter)throw Error(a(482));u=m,u.status="pending",u.then(function(E){if(m.status==="pending"){var L=m;L.status="fulfilled",L.value=E}},function(E){if(m.status==="pending"){var L=m;L.status="rejected",L.reason=E}})}switch(m.status){case"fulfilled":return m.value;case"rejected":throw u=m.reason,d6(u),u}throw pp=m,mp}}var pp=null;function u6(){if(pp===null)throw Error(a(459));var u=pp;return pp=null,u}function d6(u){if(u===mp||u===F0)throw Error(a(483))}var Mu=!1;function Xy(u){u.updateQueue={baseState:u.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ky(u,m){u=u.updateQueue,m.updateQueue===u&&(m.updateQueue={baseState:u.baseState,firstBaseUpdate:u.firstBaseUpdate,lastBaseUpdate:u.lastBaseUpdate,shared:u.shared,callbacks:null})}function Ru(u){return{lane:u,tag:0,payload:null,callback:null,next:null}}function Ou(u,m,x){var E=u.updateQueue;if(E===null)return null;if(E=E.shared,(or&2)!==0){var L=E.pending;return L===null?m.next=m:(m.next=L.next,L.next=m),E.pending=m,m=M0(u),K4(u,null,x),m}return A0(u,E,m,x),M0(u)}function gp(u,m,x){if(m=m.updateQueue,m!==null&&(m=m.shared,(x&4194048)!==0)){var E=m.lanes;E&=u.pendingLanes,x|=E,m.lanes=x,ut(u,x)}}function Zy(u,m){var x=u.updateQueue,E=u.alternate;if(E!==null&&(E=E.updateQueue,x===E)){var L=null,W=null;if(x=x.firstBaseUpdate,x!==null){do{var ve={lane:x.lane,tag:x.tag,payload:x.payload,callback:null,next:null};W===null?L=W=ve:W=W.next=ve,x=x.next}while(x!==null);W===null?L=W=m:W=W.next=m}else L=W=m;x={baseState:E.baseState,firstBaseUpdate:L,lastBaseUpdate:W,shared:E.shared,callbacks:E.callbacks},u.updateQueue=x;return}u=x.lastBaseUpdate,u===null?x.firstBaseUpdate=m:u.next=m,x.lastBaseUpdate=m}var Jy=!1;function _p(){if(Jy){var u=of;if(u!==null)throw u}}function vp(u,m,x,E){Jy=!1;var L=u.updateQueue;Mu=!1;var W=L.firstBaseUpdate,ve=L.lastBaseUpdate,Me=L.shared.pending;if(Me!==null){L.shared.pending=null;var at=Me,kt=at.next;at.next=null,ve===null?W=kt:ve.next=kt,ve=at;var en=u.alternate;en!==null&&(en=en.updateQueue,Me=en.lastBaseUpdate,Me!==ve&&(Me===null?en.firstBaseUpdate=kt:Me.next=kt,en.lastBaseUpdate=at))}if(W!==null){var un=L.baseState;ve=0,en=kt=at=null,Me=W;do{var Tt=Me.lane&-536870913,$t=Tt!==Me.lane;if($t?(za&Tt)===Tt:(E&Tt)===Tt){Tt!==0&&Tt===rf&&(Jy=!0),en!==null&&(en=en.next={lane:0,tag:Me.tag,payload:Me.payload,callback:null,next:null});e:{var Ps=u,Ms=Me;Tt=m;var gr=x;switch(Ms.tag){case 1:if(Ps=Ms.payload,typeof Ps=="function"){un=Ps.call(gr,un,Tt);break e}un=Ps;break e;case 3:Ps.flags=Ps.flags&-65537|128;case 0:if(Ps=Ms.payload,Tt=typeof Ps=="function"?Ps.call(gr,un,Tt):Ps,Tt==null)break e;un=f({},un,Tt);break e;case 2:Mu=!0}}Tt=Me.callback,Tt!==null&&(u.flags|=64,$t&&(u.flags|=8192),$t=L.callbacks,$t===null?L.callbacks=[Tt]:$t.push(Tt))}else $t={lane:Tt,tag:Me.tag,payload:Me.payload,callback:Me.callback,next:null},en===null?(kt=en=$t,at=un):en=en.next=$t,ve|=Tt;if(Me=Me.next,Me===null){if(Me=L.shared.pending,Me===null)break;$t=Me,Me=$t.next,$t.next=null,L.lastBaseUpdate=$t,L.shared.pending=null}}while(!0);en===null&&(at=un),L.baseState=at,L.firstBaseUpdate=kt,L.lastBaseUpdate=en,W===null&&(L.shared.lanes=0),Vu|=ve,u.lanes=ve,u.memoizedState=un}}function h6(u,m){if(typeof u!="function")throw Error(a(191,u));u.call(m)}function f6(u,m){var x=u.callbacks;if(x!==null)for(u.callbacks=null,u=0;u<x.length;u++)h6(x[u],m)}var cf=Y(null),z0=Y(0);function m6(u,m){u=Xl,G(z0,u),G(cf,m),Xl=u|m.baseLanes}function e2(){G(z0,Xl),G(cf,cf.current)}function t2(){Xl=z0.current,K(cf),K(z0)}var Bu=0,ga=null,mr=null,vi=null,V0=!1,lf=!1,Wd=!1,q0=0,xp=0,uf=null,KF=0;function ci(){throw Error(a(321))}function n2(u,m){if(m===null)return!1;for(var x=0;x<m.length&&x<u.length;x++)if(!y(u[x],m[x]))return!1;return!0}function s2(u,m,x,E,L,W){return Bu=W,ga=m,m.memoizedState=null,m.updateQueue=null,m.lanes=0,q.H=u===null||u.memoizedState===null?K6:Z6,Wd=!1,W=x(E,L),Wd=!1,lf&&(W=g6(m,x,E,L)),p6(u),W}function p6(u){q.H=X0;var m=mr!==null&&mr.next!==null;if(Bu=0,vi=mr=ga=null,V0=!1,xp=0,uf=null,m)throw Error(a(300));u===null||Oi||(u=u.dependencies,u!==null&&L0(u)&&(Oi=!0))}function g6(u,m,x,E){ga=u;var L=0;do{if(lf&&(uf=null),xp=0,lf=!1,25<=L)throw Error(a(301));if(L+=1,vi=mr=null,u.updateQueue!=null){var W=u.updateQueue;W.lastEffect=null,W.events=null,W.stores=null,W.memoCache!=null&&(W.memoCache.index=0)}q.H=aH,W=m(x,E)}while(lf);return W}function ZF(){var u=q.H,m=u.useState()[0];return m=typeof m.then=="function"?bp(m):m,u=u.useState()[0],(mr!==null?mr.memoizedState:null)!==u&&(ga.flags|=1024),m}function a2(){var u=q0!==0;return q0=0,u}function r2(u,m,x){m.updateQueue=u.updateQueue,m.flags&=-2053,u.lanes&=~x}function i2(u){if(V0){for(u=u.memoizedState;u!==null;){var m=u.queue;m!==null&&(m.pending=null),u=u.next}V0=!1}Bu=0,vi=mr=ga=null,lf=!1,xp=q0=0,uf=null}function Co(){var u={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return vi===null?ga.memoizedState=vi=u:vi=vi.next=u,vi}function xi(){if(mr===null){var u=ga.alternate;u=u!==null?u.memoizedState:null}else u=mr.next;var m=vi===null?ga.memoizedState:vi.next;if(m!==null)vi=m,mr=u;else{if(u===null)throw ga.alternate===null?Error(a(467)):Error(a(310));mr=u,u={memoizedState:mr.memoizedState,baseState:mr.baseState,baseQueue:mr.baseQueue,queue:mr.queue,next:null},vi===null?ga.memoizedState=vi=u:vi=vi.next=u}return vi}function o2(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function bp(u){var m=xp;return xp+=1,uf===null&&(uf=[]),u=l6(uf,u,m),m=ga,(vi===null?m.memoizedState:vi.next)===null&&(m=m.alternate,q.H=m===null||m.memoizedState===null?K6:Z6),u}function U0(u){if(u!==null&&typeof u=="object"){if(typeof u.then=="function")return bp(u);if(u.$$typeof===B)return so(u)}throw Error(a(438,String(u)))}function c2(u){var m=null,x=ga.updateQueue;if(x!==null&&(m=x.memoCache),m==null){var E=ga.alternate;E!==null&&(E=E.updateQueue,E!==null&&(E=E.memoCache,E!=null&&(m={data:E.data.map(function(L){return L.slice()}),index:0})))}if(m==null&&(m={data:[],index:0}),x===null&&(x=o2(),ga.updateQueue=x),x.memoCache=m,x=m.data[m.index],x===void 0)for(x=m.data[m.index]=Array(u),E=0;E<u;E++)x[E]=H;return m.index++,x}function ql(u,m){return typeof m=="function"?m(u):m}function W0(u){var m=xi();return l2(m,mr,u)}function l2(u,m,x){var E=u.queue;if(E===null)throw Error(a(311));E.lastRenderedReducer=x;var L=u.baseQueue,W=E.pending;if(W!==null){if(L!==null){var ve=L.next;L.next=W.next,W.next=ve}m.baseQueue=L=W,E.pending=null}if(W=u.baseState,L===null)u.memoizedState=W;else{m=L.next;var Me=ve=null,at=null,kt=m,en=!1;do{var un=kt.lane&-536870913;if(un!==kt.lane?(za&un)===un:(Bu&un)===un){var Tt=kt.revertLane;if(Tt===0)at!==null&&(at=at.next={lane:0,revertLane:0,action:kt.action,hasEagerState:kt.hasEagerState,eagerState:kt.eagerState,next:null}),un===rf&&(en=!0);else if((Bu&Tt)===Tt){kt=kt.next,Tt===rf&&(en=!0);continue}else un={lane:0,revertLane:kt.revertLane,action:kt.action,hasEagerState:kt.hasEagerState,eagerState:kt.eagerState,next:null},at===null?(Me=at=un,ve=W):at=at.next=un,ga.lanes|=Tt,Vu|=Tt;un=kt.action,Wd&&x(W,un),W=kt.hasEagerState?kt.eagerState:x(W,un)}else Tt={lane:un,revertLane:kt.revertLane,action:kt.action,hasEagerState:kt.hasEagerState,eagerState:kt.eagerState,next:null},at===null?(Me=at=Tt,ve=W):at=at.next=Tt,ga.lanes|=un,Vu|=un;kt=kt.next}while(kt!==null&&kt!==m);if(at===null?ve=W:at.next=Me,!y(W,u.memoizedState)&&(Oi=!0,en&&(x=of,x!==null)))throw x;u.memoizedState=W,u.baseState=ve,u.baseQueue=at,E.lastRenderedState=W}return L===null&&(E.lanes=0),[u.memoizedState,E.dispatch]}function u2(u){var m=xi(),x=m.queue;if(x===null)throw Error(a(311));x.lastRenderedReducer=u;var E=x.dispatch,L=x.pending,W=m.memoizedState;if(L!==null){x.pending=null;var ve=L=L.next;do W=u(W,ve.action),ve=ve.next;while(ve!==L);y(W,m.memoizedState)||(Oi=!0),m.memoizedState=W,m.baseQueue===null&&(m.baseState=W),x.lastRenderedState=W}return[W,E]}function _6(u,m,x){var E=ga,L=xi(),W=Ka;if(W){if(x===void 0)throw Error(a(407));x=x()}else x=m();var ve=!y((mr||L).memoizedState,x);ve&&(L.memoizedState=x,Oi=!0),L=L.queue;var Me=b6.bind(null,E,L,u);if(yp(2048,8,Me,[u]),L.getSnapshot!==m||ve||vi!==null&&vi.memoizedState.tag&1){if(E.flags|=2048,df(9,Y0(),x6.bind(null,E,L,x,m),null),Nr===null)throw Error(a(349));W||(Bu&124)!==0||v6(E,m,x)}return x}function v6(u,m,x){u.flags|=16384,u={getSnapshot:m,value:x},m=ga.updateQueue,m===null?(m=o2(),ga.updateQueue=m,m.stores=[u]):(x=m.stores,x===null?m.stores=[u]:x.push(u))}function x6(u,m,x,E){m.value=x,m.getSnapshot=E,y6(m)&&w6(u)}function b6(u,m,x){return x(function(){y6(m)&&w6(u)})}function y6(u){var m=u.getSnapshot;u=u.value;try{var x=m();return!y(u,x)}catch{return!0}}function w6(u){var m=tf(u,2);m!==null&&qo(m,u,2)}function d2(u){var m=Co();if(typeof u=="function"){var x=u;if(u=x(),Wd){tt(!0);try{x()}finally{tt(!1)}}}return m.memoizedState=m.baseState=u,m.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ql,lastRenderedState:u},m}function C6(u,m,x,E){return u.baseState=x,l2(u,mr,typeof E=="function"?E:ql)}function JF(u,m,x,E,L){if(Q0(u))throw Error(a(485));if(u=m.action,u!==null){var W={payload:L,action:u,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(ve){W.listeners.push(ve)}};q.T!==null?x(!0):W.isTransition=!1,E(W),x=m.pending,x===null?(W.next=m.pending=W,S6(m,W)):(W.next=x.next,m.pending=x.next=W)}}function S6(u,m){var x=m.action,E=m.payload,L=u.state;if(m.isTransition){var W=q.T,ve={};q.T=ve;try{var Me=x(L,E),at=q.S;at!==null&&at(ve,Me),j6(u,m,Me)}catch(kt){h2(u,m,kt)}finally{q.T=W}}else try{W=x(L,E),j6(u,m,W)}catch(kt){h2(u,m,kt)}}function j6(u,m,x){x!==null&&typeof x=="object"&&typeof x.then=="function"?x.then(function(E){N6(u,m,E)},function(E){return h2(u,m,E)}):N6(u,m,x)}function N6(u,m,x){m.status="fulfilled",m.value=x,E6(m),u.state=x,m=u.pending,m!==null&&(x=m.next,x===m?u.pending=null:(x=x.next,m.next=x,S6(u,x)))}function h2(u,m,x){var E=u.pending;if(u.pending=null,E!==null){E=E.next;do m.status="rejected",m.reason=x,E6(m),m=m.next;while(m!==E)}u.action=null}function E6(u){u=u.listeners;for(var m=0;m<u.length;m++)(0,u[m])()}function k6(u,m){return m}function I6(u,m){if(Ka){var x=Nr.formState;if(x!==null){e:{var E=ga;if(Ka){if(Xr){t:{for(var L=Xr,W=tl;L.nodeType!==8;){if(!W){L=null;break t}if(L=Ac(L.nextSibling),L===null){L=null;break t}}W=L.data,L=W==="F!"||W==="F"?L:null}if(L){Xr=Ac(L.nextSibling),E=L.data==="F!";break e}}zd(E)}E=!1}E&&(m=x[0])}}return x=Co(),x.memoizedState=x.baseState=m,E={pending:null,lanes:0,dispatch:null,lastRenderedReducer:k6,lastRenderedState:m},x.queue=E,x=G6.bind(null,ga,E),E.dispatch=x,E=d2(!1),W=_2.bind(null,ga,!1,E.queue),E=Co(),L={state:m,dispatch:null,action:u,pending:null},E.queue=L,x=JF.bind(null,ga,L,W,x),L.dispatch=x,E.memoizedState=u,[m,x,!1]}function D6(u){var m=xi();return T6(m,mr,u)}function T6(u,m,x){if(m=l2(u,m,k6)[0],u=W0(ql)[0],typeof m=="object"&&m!==null&&typeof m.then=="function")try{var E=bp(m)}catch(ve){throw ve===mp?F0:ve}else E=m;m=xi();var L=m.queue,W=L.dispatch;return x!==m.memoizedState&&(ga.flags|=2048,df(9,Y0(),eH.bind(null,L,x),null)),[E,W,u]}function eH(u,m){u.action=m}function A6(u){var m=xi(),x=mr;if(x!==null)return T6(m,x,u);xi(),m=m.memoizedState,x=xi();var E=x.queue.dispatch;return x.memoizedState=u,[m,E,!1]}function df(u,m,x,E){return u={tag:u,create:x,deps:E,inst:m,next:null},m=ga.updateQueue,m===null&&(m=o2(),ga.updateQueue=m),x=m.lastEffect,x===null?m.lastEffect=u.next=u:(E=x.next,x.next=u,u.next=E,m.lastEffect=u),u}function Y0(){return{destroy:void 0,resource:void 0}}function M6(){return xi().memoizedState}function G0(u,m,x,E){var L=Co();E=E===void 0?null:E,ga.flags|=u,L.memoizedState=df(1|m,Y0(),x,E)}function yp(u,m,x,E){var L=xi();E=E===void 0?null:E;var W=L.memoizedState.inst;mr!==null&&E!==null&&n2(E,mr.memoizedState.deps)?L.memoizedState=df(m,W,x,E):(ga.flags|=u,L.memoizedState=df(1|m,W,x,E))}function R6(u,m){G0(8390656,8,u,m)}function O6(u,m){yp(2048,8,u,m)}function B6(u,m){return yp(4,2,u,m)}function L6(u,m){return yp(4,4,u,m)}function $6(u,m){if(typeof m=="function"){u=u();var x=m(u);return function(){typeof x=="function"?x():m(null)}}if(m!=null)return u=u(),m.current=u,function(){m.current=null}}function P6(u,m,x){x=x!=null?x.concat([u]):null,yp(4,4,$6.bind(null,m,u),x)}function f2(){}function F6(u,m){var x=xi();m=m===void 0?null:m;var E=x.memoizedState;return m!==null&&n2(m,E[1])?E[0]:(x.memoizedState=[u,m],u)}function H6(u,m){var x=xi();m=m===void 0?null:m;var E=x.memoizedState;if(m!==null&&n2(m,E[1]))return E[0];if(E=u(),Wd){tt(!0);try{u()}finally{tt(!1)}}return x.memoizedState=[E,m],E}function m2(u,m,x){return x===void 0||(Bu&1073741824)!==0?u.memoizedState=m:(u.memoizedState=x,u=q8(),ga.lanes|=u,Vu|=u,x)}function z6(u,m,x,E){return y(x,m)?x:cf.current!==null?(u=m2(u,x,E),y(u,m)||(Oi=!0),u):(Bu&42)===0?(Oi=!0,u.memoizedState=x):(u=q8(),ga.lanes|=u,Vu|=u,m)}function V6(u,m,x,E,L){var W=T.p;T.p=W!==0&&8>W?W:8;var ve=q.T,Me={};q.T=Me,_2(u,!1,m,x);try{var at=L(),kt=q.S;if(kt!==null&&kt(Me,at),at!==null&&typeof at=="object"&&typeof at.then=="function"){var en=XF(at,E);wp(u,m,en,Vo(u))}else wp(u,m,E,Vo(u))}catch(un){wp(u,m,{then:function(){},status:"rejected",reason:un},Vo())}finally{T.p=W,q.T=ve}}function tH(){}function p2(u,m,x,E){if(u.tag!==5)throw Error(a(476));var L=q6(u).queue;V6(u,L,m,J,x===null?tH:function(){return U6(u),x(E)})}function q6(u){var m=u.memoizedState;if(m!==null)return m;m={memoizedState:J,baseState:J,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ql,lastRenderedState:J},next:null};var x={};return m.next={memoizedState:x,baseState:x,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ql,lastRenderedState:x},next:null},u.memoizedState=m,u=u.alternate,u!==null&&(u.memoizedState=m),m}function U6(u){var m=q6(u).next.queue;wp(u,m,{},Vo())}function g2(){return so(Fp)}function W6(){return xi().memoizedState}function Y6(){return xi().memoizedState}function nH(u){for(var m=u.return;m!==null;){switch(m.tag){case 24:case 3:var x=Vo();u=Ru(x);var E=Ou(m,u,x);E!==null&&(qo(E,m,x),gp(E,m,x)),m={cache:Wy()},u.payload=m;return}m=m.return}}function sH(u,m,x){var E=Vo();x={lane:E,revertLane:0,action:x,hasEagerState:!1,eagerState:null,next:null},Q0(u)?Q6(m,x):(x=By(u,m,x,E),x!==null&&(qo(x,u,E),X6(x,m,E)))}function G6(u,m,x){var E=Vo();wp(u,m,x,E)}function wp(u,m,x,E){var L={lane:E,revertLane:0,action:x,hasEagerState:!1,eagerState:null,next:null};if(Q0(u))Q6(m,L);else{var W=u.alternate;if(u.lanes===0&&(W===null||W.lanes===0)&&(W=m.lastRenderedReducer,W!==null))try{var ve=m.lastRenderedState,Me=W(ve,x);if(L.hasEagerState=!0,L.eagerState=Me,y(Me,ve))return A0(u,m,L,0),Nr===null&&T0(),!1}catch{}finally{}if(x=By(u,m,L,E),x!==null)return qo(x,u,E),X6(x,m,E),!0}return!1}function _2(u,m,x,E){if(E={lane:2,revertLane:Q2(),action:E,hasEagerState:!1,eagerState:null,next:null},Q0(u)){if(m)throw Error(a(479))}else m=By(u,x,E,2),m!==null&&qo(m,u,2)}function Q0(u){var m=u.alternate;return u===ga||m!==null&&m===ga}function Q6(u,m){lf=V0=!0;var x=u.pending;x===null?m.next=m:(m.next=x.next,x.next=m),u.pending=m}function X6(u,m,x){if((x&4194048)!==0){var E=m.lanes;E&=u.pendingLanes,x|=E,m.lanes=x,ut(u,x)}}var X0={readContext:so,use:U0,useCallback:ci,useContext:ci,useEffect:ci,useImperativeHandle:ci,useLayoutEffect:ci,useInsertionEffect:ci,useMemo:ci,useReducer:ci,useRef:ci,useState:ci,useDebugValue:ci,useDeferredValue:ci,useTransition:ci,useSyncExternalStore:ci,useId:ci,useHostTransitionStatus:ci,useFormState:ci,useActionState:ci,useOptimistic:ci,useMemoCache:ci,useCacheRefresh:ci},K6={readContext:so,use:U0,useCallback:function(u,m){return Co().memoizedState=[u,m===void 0?null:m],u},useContext:so,useEffect:R6,useImperativeHandle:function(u,m,x){x=x!=null?x.concat([u]):null,G0(4194308,4,$6.bind(null,m,u),x)},useLayoutEffect:function(u,m){return G0(4194308,4,u,m)},useInsertionEffect:function(u,m){G0(4,2,u,m)},useMemo:function(u,m){var x=Co();m=m===void 0?null:m;var E=u();if(Wd){tt(!0);try{u()}finally{tt(!1)}}return x.memoizedState=[E,m],E},useReducer:function(u,m,x){var E=Co();if(x!==void 0){var L=x(m);if(Wd){tt(!0);try{x(m)}finally{tt(!1)}}}else L=m;return E.memoizedState=E.baseState=L,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:u,lastRenderedState:L},E.queue=u,u=u.dispatch=sH.bind(null,ga,u),[E.memoizedState,u]},useRef:function(u){var m=Co();return u={current:u},m.memoizedState=u},useState:function(u){u=d2(u);var m=u.queue,x=G6.bind(null,ga,m);return m.dispatch=x,[u.memoizedState,x]},useDebugValue:f2,useDeferredValue:function(u,m){var x=Co();return m2(x,u,m)},useTransition:function(){var u=d2(!1);return u=V6.bind(null,ga,u.queue,!0,!1),Co().memoizedState=u,[!1,u]},useSyncExternalStore:function(u,m,x){var E=ga,L=Co();if(Ka){if(x===void 0)throw Error(a(407));x=x()}else{if(x=m(),Nr===null)throw Error(a(349));(za&124)!==0||v6(E,m,x)}L.memoizedState=x;var W={value:x,getSnapshot:m};return L.queue=W,R6(b6.bind(null,E,W,u),[u]),E.flags|=2048,df(9,Y0(),x6.bind(null,E,W,x,m),null),x},useId:function(){var u=Co(),m=Nr.identifierPrefix;if(Ka){var x=Hl,E=Fl;x=(E&~(1<<32-Fe(E)-1)).toString(32)+x,m=""+m+"R"+x,x=q0++,0<x&&(m+="H"+x.toString(32)),m+=""}else x=KF++,m=""+m+"r"+x.toString(32)+"";return u.memoizedState=m},useHostTransitionStatus:g2,useFormState:I6,useActionState:I6,useOptimistic:function(u){var m=Co();m.memoizedState=m.baseState=u;var x={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return m.queue=x,m=_2.bind(null,ga,!0,x),x.dispatch=m,[u,m]},useMemoCache:c2,useCacheRefresh:function(){return Co().memoizedState=nH.bind(null,ga)}},Z6={readContext:so,use:U0,useCallback:F6,useContext:so,useEffect:O6,useImperativeHandle:P6,useInsertionEffect:B6,useLayoutEffect:L6,useMemo:H6,useReducer:W0,useRef:M6,useState:function(){return W0(ql)},useDebugValue:f2,useDeferredValue:function(u,m){var x=xi();return z6(x,mr.memoizedState,u,m)},useTransition:function(){var u=W0(ql)[0],m=xi().memoizedState;return[typeof u=="boolean"?u:bp(u),m]},useSyncExternalStore:_6,useId:W6,useHostTransitionStatus:g2,useFormState:D6,useActionState:D6,useOptimistic:function(u,m){var x=xi();return C6(x,mr,u,m)},useMemoCache:c2,useCacheRefresh:Y6},aH={readContext:so,use:U0,useCallback:F6,useContext:so,useEffect:O6,useImperativeHandle:P6,useInsertionEffect:B6,useLayoutEffect:L6,useMemo:H6,useReducer:u2,useRef:M6,useState:function(){return u2(ql)},useDebugValue:f2,useDeferredValue:function(u,m){var x=xi();return mr===null?m2(x,u,m):z6(x,mr.memoizedState,u,m)},useTransition:function(){var u=u2(ql)[0],m=xi().memoizedState;return[typeof u=="boolean"?u:bp(u),m]},useSyncExternalStore:_6,useId:W6,useHostTransitionStatus:g2,useFormState:A6,useActionState:A6,useOptimistic:function(u,m){var x=xi();return mr!==null?C6(x,mr,u,m):(x.baseState=u,[u,x.queue.dispatch])},useMemoCache:c2,useCacheRefresh:Y6},hf=null,Cp=0;function K0(u){var m=Cp;return Cp+=1,hf===null&&(hf=[]),l6(hf,u,m)}function Sp(u,m){m=m.props.ref,u.ref=m!==void 0?m:null}function Z0(u,m){throw m.$$typeof===g?Error(a(525)):(u=Object.prototype.toString.call(m),Error(a(31,u==="[object Object]"?"object with keys {"+Object.keys(m).join(", ")+"}":u)))}function J6(u){var m=u._init;return m(u._payload)}function e8(u){function m(xt,ht){if(u){var jt=xt.deletions;jt===null?(xt.deletions=[ht],xt.flags|=16):jt.push(ht)}}function x(xt,ht){if(!u)return null;for(;ht!==null;)m(xt,ht),ht=ht.sibling;return null}function E(xt){for(var ht=new Map;xt!==null;)xt.key!==null?ht.set(xt.key,xt):ht.set(xt.index,xt),xt=xt.sibling;return ht}function L(xt,ht){return xt=Pl(xt,ht),xt.index=0,xt.sibling=null,xt}function W(xt,ht,jt){return xt.index=jt,u?(jt=xt.alternate,jt!==null?(jt=jt.index,jt<ht?(xt.flags|=67108866,ht):jt):(xt.flags|=67108866,ht)):(xt.flags|=1048576,ht)}function ve(xt){return u&&xt.alternate===null&&(xt.flags|=67108866),xt}function Me(xt,ht,jt,sn){return ht===null||ht.tag!==6?(ht=$y(jt,xt.mode,sn),ht.return=xt,ht):(ht=L(ht,jt),ht.return=xt,ht)}function at(xt,ht,jt,sn){var ms=jt.type;return ms===S?en(xt,ht,jt.props.children,sn,jt.key):ht!==null&&(ht.elementType===ms||typeof ms=="object"&&ms!==null&&ms.$$typeof===U&&J6(ms)===ht.type)?(ht=L(ht,jt.props),Sp(ht,jt),ht.return=xt,ht):(ht=R0(jt.type,jt.key,jt.props,null,xt.mode,sn),Sp(ht,jt),ht.return=xt,ht)}function kt(xt,ht,jt,sn){return ht===null||ht.tag!==4||ht.stateNode.containerInfo!==jt.containerInfo||ht.stateNode.implementation!==jt.implementation?(ht=Py(jt,xt.mode,sn),ht.return=xt,ht):(ht=L(ht,jt.children||[]),ht.return=xt,ht)}function en(xt,ht,jt,sn,ms){return ht===null||ht.tag!==7?(ht=$d(jt,xt.mode,sn,ms),ht.return=xt,ht):(ht=L(ht,jt),ht.return=xt,ht)}function un(xt,ht,jt){if(typeof ht=="string"&&ht!==""||typeof ht=="number"||typeof ht=="bigint")return ht=$y(""+ht,xt.mode,jt),ht.return=xt,ht;if(typeof ht=="object"&&ht!==null){switch(ht.$$typeof){case b:return jt=R0(ht.type,ht.key,ht.props,null,xt.mode,jt),Sp(jt,ht),jt.return=xt,jt;case w:return ht=Py(ht,xt.mode,jt),ht.return=xt,ht;case U:var sn=ht._init;return ht=sn(ht._payload),un(xt,ht,jt)}if(V(ht)||X(ht))return ht=$d(ht,xt.mode,jt,null),ht.return=xt,ht;if(typeof ht.then=="function")return un(xt,K0(ht),jt);if(ht.$$typeof===B)return un(xt,$0(xt,ht),jt);Z0(xt,ht)}return null}function Tt(xt,ht,jt,sn){var ms=ht!==null?ht.key:null;if(typeof jt=="string"&&jt!==""||typeof jt=="number"||typeof jt=="bigint")return ms!==null?null:Me(xt,ht,""+jt,sn);if(typeof jt=="object"&&jt!==null){switch(jt.$$typeof){case b:return jt.key===ms?at(xt,ht,jt,sn):null;case w:return jt.key===ms?kt(xt,ht,jt,sn):null;case U:return ms=jt._init,jt=ms(jt._payload),Tt(xt,ht,jt,sn)}if(V(jt)||X(jt))return ms!==null?null:en(xt,ht,jt,sn,null);if(typeof jt.then=="function")return Tt(xt,ht,K0(jt),sn);if(jt.$$typeof===B)return Tt(xt,ht,$0(xt,jt),sn);Z0(xt,jt)}return null}function $t(xt,ht,jt,sn,ms){if(typeof sn=="string"&&sn!==""||typeof sn=="number"||typeof sn=="bigint")return xt=xt.get(jt)||null,Me(ht,xt,""+sn,ms);if(typeof sn=="object"&&sn!==null){switch(sn.$$typeof){case b:return xt=xt.get(sn.key===null?jt:sn.key)||null,at(ht,xt,sn,ms);case w:return xt=xt.get(sn.key===null?jt:sn.key)||null,kt(ht,xt,sn,ms);case U:var ba=sn._init;return sn=ba(sn._payload),$t(xt,ht,jt,sn,ms)}if(V(sn)||X(sn))return xt=xt.get(jt)||null,en(ht,xt,sn,ms,null);if(typeof sn.then=="function")return $t(xt,ht,jt,K0(sn),ms);if(sn.$$typeof===B)return $t(xt,ht,jt,$0(ht,sn),ms);Z0(ht,sn)}return null}function Ps(xt,ht,jt,sn){for(var ms=null,ba=null,js=ht,Os=ht=0,Li=null;js!==null&&Os<jt.length;Os++){js.index>Os?(Li=js,js=null):Li=js.sibling;var Qa=Tt(xt,js,jt[Os],sn);if(Qa===null){js===null&&(js=Li);break}u&&js&&Qa.alternate===null&&m(xt,js),ht=W(Qa,ht,Os),ba===null?ms=Qa:ba.sibling=Qa,ba=Qa,js=Li}if(Os===jt.length)return x(xt,js),Ka&&Fd(xt,Os),ms;if(js===null){for(;Os<jt.length;Os++)js=un(xt,jt[Os],sn),js!==null&&(ht=W(js,ht,Os),ba===null?ms=js:ba.sibling=js,ba=js);return Ka&&Fd(xt,Os),ms}for(js=E(js);Os<jt.length;Os++)Li=$t(js,xt,Os,jt[Os],sn),Li!==null&&(u&&Li.alternate!==null&&js.delete(Li.key===null?Os:Li.key),ht=W(Li,ht,Os),ba===null?ms=Li:ba.sibling=Li,ba=Li);return u&&js.forEach(function(Zu){return m(xt,Zu)}),Ka&&Fd(xt,Os),ms}function Ms(xt,ht,jt,sn){if(jt==null)throw Error(a(151));for(var ms=null,ba=null,js=ht,Os=ht=0,Li=null,Qa=jt.next();js!==null&&!Qa.done;Os++,Qa=jt.next()){js.index>Os?(Li=js,js=null):Li=js.sibling;var Zu=Tt(xt,js,Qa.value,sn);if(Zu===null){js===null&&(js=Li);break}u&&js&&Zu.alternate===null&&m(xt,js),ht=W(Zu,ht,Os),ba===null?ms=Zu:ba.sibling=Zu,ba=Zu,js=Li}if(Qa.done)return x(xt,js),Ka&&Fd(xt,Os),ms;if(js===null){for(;!Qa.done;Os++,Qa=jt.next())Qa=un(xt,Qa.value,sn),Qa!==null&&(ht=W(Qa,ht,Os),ba===null?ms=Qa:ba.sibling=Qa,ba=Qa);return Ka&&Fd(xt,Os),ms}for(js=E(js);!Qa.done;Os++,Qa=jt.next())Qa=$t(js,xt,Os,Qa.value,sn),Qa!==null&&(u&&Qa.alternate!==null&&js.delete(Qa.key===null?Os:Qa.key),ht=W(Qa,ht,Os),ba===null?ms=Qa:ba.sibling=Qa,ba=Qa);return u&&js.forEach(function(rz){return m(xt,rz)}),Ka&&Fd(xt,Os),ms}function gr(xt,ht,jt,sn){if(typeof jt=="object"&&jt!==null&&jt.type===S&&jt.key===null&&(jt=jt.props.children),typeof jt=="object"&&jt!==null){switch(jt.$$typeof){case b:e:{for(var ms=jt.key;ht!==null;){if(ht.key===ms){if(ms=jt.type,ms===S){if(ht.tag===7){x(xt,ht.sibling),sn=L(ht,jt.props.children),sn.return=xt,xt=sn;break e}}else if(ht.elementType===ms||typeof ms=="object"&&ms!==null&&ms.$$typeof===U&&J6(ms)===ht.type){x(xt,ht.sibling),sn=L(ht,jt.props),Sp(sn,jt),sn.return=xt,xt=sn;break e}x(xt,ht);break}else m(xt,ht);ht=ht.sibling}jt.type===S?(sn=$d(jt.props.children,xt.mode,sn,jt.key),sn.return=xt,xt=sn):(sn=R0(jt.type,jt.key,jt.props,null,xt.mode,sn),Sp(sn,jt),sn.return=xt,xt=sn)}return ve(xt);case w:e:{for(ms=jt.key;ht!==null;){if(ht.key===ms)if(ht.tag===4&&ht.stateNode.containerInfo===jt.containerInfo&&ht.stateNode.implementation===jt.implementation){x(xt,ht.sibling),sn=L(ht,jt.children||[]),sn.return=xt,xt=sn;break e}else{x(xt,ht);break}else m(xt,ht);ht=ht.sibling}sn=Py(jt,xt.mode,sn),sn.return=xt,xt=sn}return ve(xt);case U:return ms=jt._init,jt=ms(jt._payload),gr(xt,ht,jt,sn)}if(V(jt))return Ps(xt,ht,jt,sn);if(X(jt)){if(ms=X(jt),typeof ms!="function")throw Error(a(150));return jt=ms.call(jt),Ms(xt,ht,jt,sn)}if(typeof jt.then=="function")return gr(xt,ht,K0(jt),sn);if(jt.$$typeof===B)return gr(xt,ht,$0(xt,jt),sn);Z0(xt,jt)}return typeof jt=="string"&&jt!==""||typeof jt=="number"||typeof jt=="bigint"?(jt=""+jt,ht!==null&&ht.tag===6?(x(xt,ht.sibling),sn=L(ht,jt),sn.return=xt,xt=sn):(x(xt,ht),sn=$y(jt,xt.mode,sn),sn.return=xt,xt=sn),ve(xt)):x(xt,ht)}return function(xt,ht,jt,sn){try{Cp=0;var ms=gr(xt,ht,jt,sn);return hf=null,ms}catch(js){if(js===mp||js===F0)throw js;var ba=Po(29,js,null,xt.mode);return ba.lanes=sn,ba.return=xt,ba}finally{}}}var ff=e8(!0),t8=e8(!1),lc=Y(null),nl=null;function Lu(u){var m=u.alternate;G(ki,ki.current&1),G(lc,u),nl===null&&(m===null||cf.current!==null||m.memoizedState!==null)&&(nl=u)}function n8(u){if(u.tag===22){if(G(ki,ki.current),G(lc,u),nl===null){var m=u.alternate;m!==null&&m.memoizedState!==null&&(nl=u)}}else $u()}function $u(){G(ki,ki.current),G(lc,lc.current)}function Ul(u){K(lc),nl===u&&(nl=null),K(ki)}var ki=Y(0);function J0(u){for(var m=u;m!==null;){if(m.tag===13){var x=m.memoizedState;if(x!==null&&(x=x.dehydrated,x===null||x.data==="$?"||ow(x)))return m}else if(m.tag===19&&m.memoizedProps.revealOrder!==void 0){if((m.flags&128)!==0)return m}else if(m.child!==null){m.child.return=m,m=m.child;continue}if(m===u)break;for(;m.sibling===null;){if(m.return===null||m.return===u)return null;m=m.return}m.sibling.return=m.return,m=m.sibling}return null}function v2(u,m,x,E){m=u.memoizedState,x=x(E,m),x=x==null?m:f({},m,x),u.memoizedState=x,u.lanes===0&&(u.updateQueue.baseState=x)}var x2={enqueueSetState:function(u,m,x){u=u._reactInternals;var E=Vo(),L=Ru(E);L.payload=m,x!=null&&(L.callback=x),m=Ou(u,L,E),m!==null&&(qo(m,u,E),gp(m,u,E))},enqueueReplaceState:function(u,m,x){u=u._reactInternals;var E=Vo(),L=Ru(E);L.tag=1,L.payload=m,x!=null&&(L.callback=x),m=Ou(u,L,E),m!==null&&(qo(m,u,E),gp(m,u,E))},enqueueForceUpdate:function(u,m){u=u._reactInternals;var x=Vo(),E=Ru(x);E.tag=2,m!=null&&(E.callback=m),m=Ou(u,E,x),m!==null&&(qo(m,u,x),gp(m,u,x))}};function s8(u,m,x,E,L,W,ve){return u=u.stateNode,typeof u.shouldComponentUpdate=="function"?u.shouldComponentUpdate(E,W,ve):m.prototype&&m.prototype.isPureReactComponent?!C(x,E)||!C(L,W):!0}function a8(u,m,x,E){u=m.state,typeof m.componentWillReceiveProps=="function"&&m.componentWillReceiveProps(x,E),typeof m.UNSAFE_componentWillReceiveProps=="function"&&m.UNSAFE_componentWillReceiveProps(x,E),m.state!==u&&x2.enqueueReplaceState(m,m.state,null)}function Yd(u,m){var x=m;if("ref"in m){x={};for(var E in m)E!=="ref"&&(x[E]=m[E])}if(u=u.defaultProps){x===m&&(x=f({},x));for(var L in u)x[L]===void 0&&(x[L]=u[L])}return x}var e_=typeof reportError=="function"?reportError:function(u){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var m=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof u=="object"&&u!==null&&typeof u.message=="string"?String(u.message):String(u),error:u});if(!window.dispatchEvent(m))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",u);return}console.error(u)};function r8(u){e_(u)}function i8(u){console.error(u)}function o8(u){e_(u)}function t_(u,m){try{var x=u.onUncaughtError;x(m.value,{componentStack:m.stack})}catch(E){setTimeout(function(){throw E})}}function c8(u,m,x){try{var E=u.onCaughtError;E(x.value,{componentStack:x.stack,errorBoundary:m.tag===1?m.stateNode:null})}catch(L){setTimeout(function(){throw L})}}function b2(u,m,x){return x=Ru(x),x.tag=3,x.payload={element:null},x.callback=function(){t_(u,m)},x}function l8(u){return u=Ru(u),u.tag=3,u}function u8(u,m,x,E){var L=x.type.getDerivedStateFromError;if(typeof L=="function"){var W=E.value;u.payload=function(){return L(W)},u.callback=function(){c8(m,x,E)}}var ve=x.stateNode;ve!==null&&typeof ve.componentDidCatch=="function"&&(u.callback=function(){c8(m,x,E),typeof L!="function"&&(qu===null?qu=new Set([this]):qu.add(this));var Me=E.stack;this.componentDidCatch(E.value,{componentStack:Me!==null?Me:""})})}function rH(u,m,x,E,L){if(x.flags|=32768,E!==null&&typeof E=="object"&&typeof E.then=="function"){if(m=x.alternate,m!==null&&dp(m,x,L,!0),x=lc.current,x!==null){switch(x.tag){case 13:return nl===null?q2():x.alternate===null&&Kr===0&&(Kr=3),x.flags&=-257,x.flags|=65536,x.lanes=L,E===Qy?x.flags|=16384:(m=x.updateQueue,m===null?x.updateQueue=new Set([E]):m.add(E),W2(u,E,L)),!1;case 22:return x.flags|=65536,E===Qy?x.flags|=16384:(m=x.updateQueue,m===null?(m={transitions:null,markerInstances:null,retryQueue:new Set([E])},x.updateQueue=m):(x=m.retryQueue,x===null?m.retryQueue=new Set([E]):x.add(E)),W2(u,E,L)),!1}throw Error(a(435,x.tag))}return W2(u,E,L),q2(),!1}if(Ka)return m=lc.current,m!==null?((m.flags&65536)===0&&(m.flags|=256),m.flags|=65536,m.lanes=L,E!==zy&&(u=Error(a(422),{cause:E}),up(rc(u,x)))):(E!==zy&&(m=Error(a(423),{cause:E}),up(rc(m,x))),u=u.current.alternate,u.flags|=65536,L&=-L,u.lanes|=L,E=rc(E,x),L=b2(u.stateNode,E,L),Zy(u,L),Kr!==4&&(Kr=2)),!1;var W=Error(a(520),{cause:E});if(W=rc(W,x),Tp===null?Tp=[W]:Tp.push(W),Kr!==4&&(Kr=2),m===null)return!0;E=rc(E,x),x=m;do{switch(x.tag){case 3:return x.flags|=65536,u=L&-L,x.lanes|=u,u=b2(x.stateNode,E,u),Zy(x,u),!1;case 1:if(m=x.type,W=x.stateNode,(x.flags&128)===0&&(typeof m.getDerivedStateFromError=="function"||W!==null&&typeof W.componentDidCatch=="function"&&(qu===null||!qu.has(W))))return x.flags|=65536,L&=-L,x.lanes|=L,L=l8(L),u8(L,u,x,E),Zy(x,L),!1}x=x.return}while(x!==null);return!1}var d8=Error(a(461)),Oi=!1;function Ui(u,m,x,E){m.child=u===null?t8(m,null,x,E):ff(m,u.child,x,E)}function h8(u,m,x,E,L){x=x.render;var W=m.ref;if("ref"in E){var ve={};for(var Me in E)Me!=="ref"&&(ve[Me]=E[Me])}else ve=E;return qd(m),E=s2(u,m,x,ve,W,L),Me=a2(),u!==null&&!Oi?(r2(u,m,L),Wl(u,m,L)):(Ka&&Me&&Fy(m),m.flags|=1,Ui(u,m,E,L),m.child)}function f8(u,m,x,E,L){if(u===null){var W=x.type;return typeof W=="function"&&!Ly(W)&&W.defaultProps===void 0&&x.compare===null?(m.tag=15,m.type=W,m8(u,m,W,E,L)):(u=R0(x.type,null,E,m,m.mode,L),u.ref=m.ref,u.return=m,m.child=u)}if(W=u.child,!k2(u,L)){var ve=W.memoizedProps;if(x=x.compare,x=x!==null?x:C,x(ve,E)&&u.ref===m.ref)return Wl(u,m,L)}return m.flags|=1,u=Pl(W,E),u.ref=m.ref,u.return=m,m.child=u}function m8(u,m,x,E,L){if(u!==null){var W=u.memoizedProps;if(C(W,E)&&u.ref===m.ref)if(Oi=!1,m.pendingProps=E=W,k2(u,L))(u.flags&131072)!==0&&(Oi=!0);else return m.lanes=u.lanes,Wl(u,m,L)}return y2(u,m,x,E,L)}function p8(u,m,x){var E=m.pendingProps,L=E.children,W=u!==null?u.memoizedState:null;if(E.mode==="hidden"){if((m.flags&128)!==0){if(E=W!==null?W.baseLanes|x:x,u!==null){for(L=m.child=u.child,W=0;L!==null;)W=W|L.lanes|L.childLanes,L=L.sibling;m.childLanes=W&~E}else m.childLanes=0,m.child=null;return g8(u,m,E,x)}if((x&536870912)!==0)m.memoizedState={baseLanes:0,cachePool:null},u!==null&&P0(m,W!==null?W.cachePool:null),W!==null?m6(m,W):e2(),n8(m);else return m.lanes=m.childLanes=536870912,g8(u,m,W!==null?W.baseLanes|x:x,x)}else W!==null?(P0(m,W.cachePool),m6(m,W),$u(),m.memoizedState=null):(u!==null&&P0(m,null),e2(),$u());return Ui(u,m,L,x),m.child}function g8(u,m,x,E){var L=Gy();return L=L===null?null:{parent:Ei._currentValue,pool:L},m.memoizedState={baseLanes:x,cachePool:L},u!==null&&P0(m,null),e2(),n8(m),u!==null&&dp(u,m,E,!0),null}function n_(u,m){var x=m.ref;if(x===null)u!==null&&u.ref!==null&&(m.flags|=4194816);else{if(typeof x!="function"&&typeof x!="object")throw Error(a(284));(u===null||u.ref!==x)&&(m.flags|=4194816)}}function y2(u,m,x,E,L){return qd(m),x=s2(u,m,x,E,void 0,L),E=a2(),u!==null&&!Oi?(r2(u,m,L),Wl(u,m,L)):(Ka&&E&&Fy(m),m.flags|=1,Ui(u,m,x,L),m.child)}function _8(u,m,x,E,L,W){return qd(m),m.updateQueue=null,x=g6(m,E,x,L),p6(u),E=a2(),u!==null&&!Oi?(r2(u,m,W),Wl(u,m,W)):(Ka&&E&&Fy(m),m.flags|=1,Ui(u,m,x,W),m.child)}function v8(u,m,x,E,L){if(qd(m),m.stateNode===null){var W=nf,ve=x.contextType;typeof ve=="object"&&ve!==null&&(W=so(ve)),W=new x(E,W),m.memoizedState=W.state!==null&&W.state!==void 0?W.state:null,W.updater=x2,m.stateNode=W,W._reactInternals=m,W=m.stateNode,W.props=E,W.state=m.memoizedState,W.refs={},Xy(m),ve=x.contextType,W.context=typeof ve=="object"&&ve!==null?so(ve):nf,W.state=m.memoizedState,ve=x.getDerivedStateFromProps,typeof ve=="function"&&(v2(m,x,ve,E),W.state=m.memoizedState),typeof x.getDerivedStateFromProps=="function"||typeof W.getSnapshotBeforeUpdate=="function"||typeof W.UNSAFE_componentWillMount!="function"&&typeof W.componentWillMount!="function"||(ve=W.state,typeof W.componentWillMount=="function"&&W.componentWillMount(),typeof W.UNSAFE_componentWillMount=="function"&&W.UNSAFE_componentWillMount(),ve!==W.state&&x2.enqueueReplaceState(W,W.state,null),vp(m,E,W,L),_p(),W.state=m.memoizedState),typeof W.componentDidMount=="function"&&(m.flags|=4194308),E=!0}else if(u===null){W=m.stateNode;var Me=m.memoizedProps,at=Yd(x,Me);W.props=at;var kt=W.context,en=x.contextType;ve=nf,typeof en=="object"&&en!==null&&(ve=so(en));var un=x.getDerivedStateFromProps;en=typeof un=="function"||typeof W.getSnapshotBeforeUpdate=="function",Me=m.pendingProps!==Me,en||typeof W.UNSAFE_componentWillReceiveProps!="function"&&typeof W.componentWillReceiveProps!="function"||(Me||kt!==ve)&&a8(m,W,E,ve),Mu=!1;var Tt=m.memoizedState;W.state=Tt,vp(m,E,W,L),_p(),kt=m.memoizedState,Me||Tt!==kt||Mu?(typeof un=="function"&&(v2(m,x,un,E),kt=m.memoizedState),(at=Mu||s8(m,x,at,E,Tt,kt,ve))?(en||typeof W.UNSAFE_componentWillMount!="function"&&typeof W.componentWillMount!="function"||(typeof W.componentWillMount=="function"&&W.componentWillMount(),typeof W.UNSAFE_componentWillMount=="function"&&W.UNSAFE_componentWillMount()),typeof W.componentDidMount=="function"&&(m.flags|=4194308)):(typeof W.componentDidMount=="function"&&(m.flags|=4194308),m.memoizedProps=E,m.memoizedState=kt),W.props=E,W.state=kt,W.context=ve,E=at):(typeof W.componentDidMount=="function"&&(m.flags|=4194308),E=!1)}else{W=m.stateNode,Ky(u,m),ve=m.memoizedProps,en=Yd(x,ve),W.props=en,un=m.pendingProps,Tt=W.context,kt=x.contextType,at=nf,typeof kt=="object"&&kt!==null&&(at=so(kt)),Me=x.getDerivedStateFromProps,(kt=typeof Me=="function"||typeof W.getSnapshotBeforeUpdate=="function")||typeof W.UNSAFE_componentWillReceiveProps!="function"&&typeof W.componentWillReceiveProps!="function"||(ve!==un||Tt!==at)&&a8(m,W,E,at),Mu=!1,Tt=m.memoizedState,W.state=Tt,vp(m,E,W,L),_p();var $t=m.memoizedState;ve!==un||Tt!==$t||Mu||u!==null&&u.dependencies!==null&&L0(u.dependencies)?(typeof Me=="function"&&(v2(m,x,Me,E),$t=m.memoizedState),(en=Mu||s8(m,x,en,E,Tt,$t,at)||u!==null&&u.dependencies!==null&&L0(u.dependencies))?(kt||typeof W.UNSAFE_componentWillUpdate!="function"&&typeof W.componentWillUpdate!="function"||(typeof W.componentWillUpdate=="function"&&W.componentWillUpdate(E,$t,at),typeof W.UNSAFE_componentWillUpdate=="function"&&W.UNSAFE_componentWillUpdate(E,$t,at)),typeof W.componentDidUpdate=="function"&&(m.flags|=4),typeof W.getSnapshotBeforeUpdate=="function"&&(m.flags|=1024)):(typeof W.componentDidUpdate!="function"||ve===u.memoizedProps&&Tt===u.memoizedState||(m.flags|=4),typeof W.getSnapshotBeforeUpdate!="function"||ve===u.memoizedProps&&Tt===u.memoizedState||(m.flags|=1024),m.memoizedProps=E,m.memoizedState=$t),W.props=E,W.state=$t,W.context=at,E=en):(typeof W.componentDidUpdate!="function"||ve===u.memoizedProps&&Tt===u.memoizedState||(m.flags|=4),typeof W.getSnapshotBeforeUpdate!="function"||ve===u.memoizedProps&&Tt===u.memoizedState||(m.flags|=1024),E=!1)}return W=E,n_(u,m),E=(m.flags&128)!==0,W||E?(W=m.stateNode,x=E&&typeof x.getDerivedStateFromError!="function"?null:W.render(),m.flags|=1,u!==null&&E?(m.child=ff(m,u.child,null,L),m.child=ff(m,null,x,L)):Ui(u,m,x,L),m.memoizedState=W.state,u=m.child):u=Wl(u,m,L),u}function x8(u,m,x,E){return lp(),m.flags|=256,Ui(u,m,x,E),m.child}var w2={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function C2(u){return{baseLanes:u,cachePool:i6()}}function S2(u,m,x){return u=u!==null?u.childLanes&~x:0,m&&(u|=uc),u}function b8(u,m,x){var E=m.pendingProps,L=!1,W=(m.flags&128)!==0,ve;if((ve=W)||(ve=u!==null&&u.memoizedState===null?!1:(ki.current&2)!==0),ve&&(L=!0,m.flags&=-129),ve=(m.flags&32)!==0,m.flags&=-33,u===null){if(Ka){if(L?Lu(m):$u(),Ka){var Me=Xr,at;if(at=Me){e:{for(at=Me,Me=tl;at.nodeType!==8;){if(!Me){Me=null;break e}if(at=Ac(at.nextSibling),at===null){Me=null;break e}}Me=at}Me!==null?(m.memoizedState={dehydrated:Me,treeContext:Pd!==null?{id:Fl,overflow:Hl}:null,retryLane:536870912,hydrationErrors:null},at=Po(18,null,null,0),at.stateNode=Me,at.return=m,m.child=at,go=m,Xr=null,at=!0):at=!1}at||zd(m)}if(Me=m.memoizedState,Me!==null&&(Me=Me.dehydrated,Me!==null))return ow(Me)?m.lanes=32:m.lanes=536870912,null;Ul(m)}return Me=E.children,E=E.fallback,L?($u(),L=m.mode,Me=s_({mode:"hidden",children:Me},L),E=$d(E,L,x,null),Me.return=m,E.return=m,Me.sibling=E,m.child=Me,L=m.child,L.memoizedState=C2(x),L.childLanes=S2(u,ve,x),m.memoizedState=w2,E):(Lu(m),j2(m,Me))}if(at=u.memoizedState,at!==null&&(Me=at.dehydrated,Me!==null)){if(W)m.flags&256?(Lu(m),m.flags&=-257,m=N2(u,m,x)):m.memoizedState!==null?($u(),m.child=u.child,m.flags|=128,m=null):($u(),L=E.fallback,Me=m.mode,E=s_({mode:"visible",children:E.children},Me),L=$d(L,Me,x,null),L.flags|=2,E.return=m,L.return=m,E.sibling=L,m.child=E,ff(m,u.child,null,x),E=m.child,E.memoizedState=C2(x),E.childLanes=S2(u,ve,x),m.memoizedState=w2,m=L);else if(Lu(m),ow(Me)){if(ve=Me.nextSibling&&Me.nextSibling.dataset,ve)var kt=ve.dgst;ve=kt,E=Error(a(419)),E.stack="",E.digest=ve,up({value:E,source:null,stack:null}),m=N2(u,m,x)}else if(Oi||dp(u,m,x,!1),ve=(x&u.childLanes)!==0,Oi||ve){if(ve=Nr,ve!==null&&(E=x&-x,E=(E&42)!==0?1:Et(E),E=(E&(ve.suspendedLanes|x))!==0?0:E,E!==0&&E!==at.retryLane))throw at.retryLane=E,tf(u,E),qo(ve,u,E),d8;Me.data==="$?"||q2(),m=N2(u,m,x)}else Me.data==="$?"?(m.flags|=192,m.child=u.child,m=null):(u=at.treeContext,Xr=Ac(Me.nextSibling),go=m,Ka=!0,Hd=null,tl=!1,u!==null&&(oc[cc++]=Fl,oc[cc++]=Hl,oc[cc++]=Pd,Fl=u.id,Hl=u.overflow,Pd=m),m=j2(m,E.children),m.flags|=4096);return m}return L?($u(),L=E.fallback,Me=m.mode,at=u.child,kt=at.sibling,E=Pl(at,{mode:"hidden",children:E.children}),E.subtreeFlags=at.subtreeFlags&65011712,kt!==null?L=Pl(kt,L):(L=$d(L,Me,x,null),L.flags|=2),L.return=m,E.return=m,E.sibling=L,m.child=E,E=L,L=m.child,Me=u.child.memoizedState,Me===null?Me=C2(x):(at=Me.cachePool,at!==null?(kt=Ei._currentValue,at=at.parent!==kt?{parent:kt,pool:kt}:at):at=i6(),Me={baseLanes:Me.baseLanes|x,cachePool:at}),L.memoizedState=Me,L.childLanes=S2(u,ve,x),m.memoizedState=w2,E):(Lu(m),x=u.child,u=x.sibling,x=Pl(x,{mode:"visible",children:E.children}),x.return=m,x.sibling=null,u!==null&&(ve=m.deletions,ve===null?(m.deletions=[u],m.flags|=16):ve.push(u)),m.child=x,m.memoizedState=null,x)}function j2(u,m){return m=s_({mode:"visible",children:m},u.mode),m.return=u,u.child=m}function s_(u,m){return u=Po(22,u,null,m),u.lanes=0,u.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},u}function N2(u,m,x){return ff(m,u.child,null,x),u=j2(m,m.pendingProps.children),u.flags|=2,m.memoizedState=null,u}function y8(u,m,x){u.lanes|=m;var E=u.alternate;E!==null&&(E.lanes|=m),qy(u.return,m,x)}function E2(u,m,x,E,L){var W=u.memoizedState;W===null?u.memoizedState={isBackwards:m,rendering:null,renderingStartTime:0,last:E,tail:x,tailMode:L}:(W.isBackwards=m,W.rendering=null,W.renderingStartTime=0,W.last=E,W.tail=x,W.tailMode=L)}function w8(u,m,x){var E=m.pendingProps,L=E.revealOrder,W=E.tail;if(Ui(u,m,E.children,x),E=ki.current,(E&2)!==0)E=E&1|2,m.flags|=128;else{if(u!==null&&(u.flags&128)!==0)e:for(u=m.child;u!==null;){if(u.tag===13)u.memoizedState!==null&&y8(u,x,m);else if(u.tag===19)y8(u,x,m);else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===m)break e;for(;u.sibling===null;){if(u.return===null||u.return===m)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}E&=1}switch(G(ki,E),L){case"forwards":for(x=m.child,L=null;x!==null;)u=x.alternate,u!==null&&J0(u)===null&&(L=x),x=x.sibling;x=L,x===null?(L=m.child,m.child=null):(L=x.sibling,x.sibling=null),E2(m,!1,L,x,W);break;case"backwards":for(x=null,L=m.child,m.child=null;L!==null;){if(u=L.alternate,u!==null&&J0(u)===null){m.child=L;break}u=L.sibling,L.sibling=x,x=L,L=u}E2(m,!0,x,null,W);break;case"together":E2(m,!1,null,null,void 0);break;default:m.memoizedState=null}return m.child}function Wl(u,m,x){if(u!==null&&(m.dependencies=u.dependencies),Vu|=m.lanes,(x&m.childLanes)===0)if(u!==null){if(dp(u,m,x,!1),(x&m.childLanes)===0)return null}else return null;if(u!==null&&m.child!==u.child)throw Error(a(153));if(m.child!==null){for(u=m.child,x=Pl(u,u.pendingProps),m.child=x,x.return=m;u.sibling!==null;)u=u.sibling,x=x.sibling=Pl(u,u.pendingProps),x.return=m;x.sibling=null}return m.child}function k2(u,m){return(u.lanes&m)!==0?!0:(u=u.dependencies,!!(u!==null&&L0(u)))}function iH(u,m,x){switch(m.tag){case 3:ue(m,m.stateNode.containerInfo),Au(m,Ei,u.memoizedState.cache),lp();break;case 27:case 5:ge(m);break;case 4:ue(m,m.stateNode.containerInfo);break;case 10:Au(m,m.type,m.memoizedProps.value);break;case 13:var E=m.memoizedState;if(E!==null)return E.dehydrated!==null?(Lu(m),m.flags|=128,null):(x&m.child.childLanes)!==0?b8(u,m,x):(Lu(m),u=Wl(u,m,x),u!==null?u.sibling:null);Lu(m);break;case 19:var L=(u.flags&128)!==0;if(E=(x&m.childLanes)!==0,E||(dp(u,m,x,!1),E=(x&m.childLanes)!==0),L){if(E)return w8(u,m,x);m.flags|=128}if(L=m.memoizedState,L!==null&&(L.rendering=null,L.tail=null,L.lastEffect=null),G(ki,ki.current),E)break;return null;case 22:case 23:return m.lanes=0,p8(u,m,x);case 24:Au(m,Ei,u.memoizedState.cache)}return Wl(u,m,x)}function C8(u,m,x){if(u!==null)if(u.memoizedProps!==m.pendingProps)Oi=!0;else{if(!k2(u,x)&&(m.flags&128)===0)return Oi=!1,iH(u,m,x);Oi=(u.flags&131072)!==0}else Oi=!1,Ka&&(m.flags&1048576)!==0&&J4(m,B0,m.index);switch(m.lanes=0,m.tag){case 16:e:{u=m.pendingProps;var E=m.elementType,L=E._init;if(E=L(E._payload),m.type=E,typeof E=="function")Ly(E)?(u=Yd(E,u),m.tag=1,m=v8(null,m,E,u,x)):(m.tag=0,m=y2(null,m,E,u,x));else{if(E!=null){if(L=E.$$typeof,L===P){m.tag=11,m=h8(null,m,E,u,x);break e}else if(L===$){m.tag=14,m=f8(null,m,E,u,x);break e}}throw m=se(E)||E,Error(a(306,m,""))}}return m;case 0:return y2(u,m,m.type,m.pendingProps,x);case 1:return E=m.type,L=Yd(E,m.pendingProps),v8(u,m,E,L,x);case 3:e:{if(ue(m,m.stateNode.containerInfo),u===null)throw Error(a(387));E=m.pendingProps;var W=m.memoizedState;L=W.element,Ky(u,m),vp(m,E,null,x);var ve=m.memoizedState;if(E=ve.cache,Au(m,Ei,E),E!==W.cache&&Uy(m,[Ei],x,!0),_p(),E=ve.element,W.isDehydrated)if(W={element:E,isDehydrated:!1,cache:ve.cache},m.updateQueue.baseState=W,m.memoizedState=W,m.flags&256){m=x8(u,m,E,x);break e}else if(E!==L){L=rc(Error(a(424)),m),up(L),m=x8(u,m,E,x);break e}else{switch(u=m.stateNode.containerInfo,u.nodeType){case 9:u=u.body;break;default:u=u.nodeName==="HTML"?u.ownerDocument.body:u}for(Xr=Ac(u.firstChild),go=m,Ka=!0,Hd=null,tl=!0,x=t8(m,null,E,x),m.child=x;x;)x.flags=x.flags&-3|4096,x=x.sibling}else{if(lp(),E===L){m=Wl(u,m,x);break e}Ui(u,m,E,x)}m=m.child}return m;case 26:return n_(u,m),u===null?(x=E5(m.type,null,m.pendingProps,null))?m.memoizedState=x:Ka||(x=m.type,u=m.pendingProps,E=__(ae.current).createElement(x),E[vn]=m,E[ns]=u,Yi(E,x,u),gs(E),m.stateNode=E):m.memoizedState=E5(m.type,u.memoizedProps,m.pendingProps,u.memoizedState),null;case 27:return ge(m),u===null&&Ka&&(E=m.stateNode=S5(m.type,m.pendingProps,ae.current),go=m,tl=!0,L=Xr,Yu(m.type)?(cw=L,Xr=Ac(E.firstChild)):Xr=L),Ui(u,m,m.pendingProps.children,x),n_(u,m),u===null&&(m.flags|=4194304),m.child;case 5:return u===null&&Ka&&((L=E=Xr)&&(E=RH(E,m.type,m.pendingProps,tl),E!==null?(m.stateNode=E,go=m,Xr=Ac(E.firstChild),tl=!1,L=!0):L=!1),L||zd(m)),ge(m),L=m.type,W=m.pendingProps,ve=u!==null?u.memoizedProps:null,E=W.children,aw(L,W)?E=null:ve!==null&&aw(L,ve)&&(m.flags|=32),m.memoizedState!==null&&(L=s2(u,m,ZF,null,null,x),Fp._currentValue=L),n_(u,m),Ui(u,m,E,x),m.child;case 6:return u===null&&Ka&&((u=x=Xr)&&(x=OH(x,m.pendingProps,tl),x!==null?(m.stateNode=x,go=m,Xr=null,u=!0):u=!1),u||zd(m)),null;case 13:return b8(u,m,x);case 4:return ue(m,m.stateNode.containerInfo),E=m.pendingProps,u===null?m.child=ff(m,null,E,x):Ui(u,m,E,x),m.child;case 11:return h8(u,m,m.type,m.pendingProps,x);case 7:return Ui(u,m,m.pendingProps,x),m.child;case 8:return Ui(u,m,m.pendingProps.children,x),m.child;case 12:return Ui(u,m,m.pendingProps.children,x),m.child;case 10:return E=m.pendingProps,Au(m,m.type,E.value),Ui(u,m,E.children,x),m.child;case 9:return L=m.type._context,E=m.pendingProps.children,qd(m),L=so(L),E=E(L),m.flags|=1,Ui(u,m,E,x),m.child;case 14:return f8(u,m,m.type,m.pendingProps,x);case 15:return m8(u,m,m.type,m.pendingProps,x);case 19:return w8(u,m,x);case 31:return E=m.pendingProps,x=m.mode,E={mode:E.mode,children:E.children},u===null?(x=s_(E,x),x.ref=m.ref,m.child=x,x.return=m,m=x):(x=Pl(u.child,E),x.ref=m.ref,m.child=x,x.return=m,m=x),m;case 22:return p8(u,m,x);case 24:return qd(m),E=so(Ei),u===null?(L=Gy(),L===null&&(L=Nr,W=Wy(),L.pooledCache=W,W.refCount++,W!==null&&(L.pooledCacheLanes|=x),L=W),m.memoizedState={parent:E,cache:L},Xy(m),Au(m,Ei,L)):((u.lanes&x)!==0&&(Ky(u,m),vp(m,null,null,x),_p()),L=u.memoizedState,W=m.memoizedState,L.parent!==E?(L={parent:E,cache:E},m.memoizedState=L,m.lanes===0&&(m.memoizedState=m.updateQueue.baseState=L),Au(m,Ei,E)):(E=W.cache,Au(m,Ei,E),E!==L.cache&&Uy(m,[Ei],x,!0))),Ui(u,m,m.pendingProps.children,x),m.child;case 29:throw m.pendingProps}throw Error(a(156,m.tag))}function Yl(u){u.flags|=4}function S8(u,m){if(m.type!=="stylesheet"||(m.state.loading&4)!==0)u.flags&=-16777217;else if(u.flags|=16777216,!A5(m)){if(m=lc.current,m!==null&&((za&4194048)===za?nl!==null:(za&62914560)!==za&&(za&536870912)===0||m!==nl))throw pp=Qy,o6;u.flags|=8192}}function a_(u,m){m!==null&&(u.flags|=4),u.flags&16384&&(m=u.tag!==22?Gn():536870912,u.lanes|=m,_f|=m)}function jp(u,m){if(!Ka)switch(u.tailMode){case"hidden":m=u.tail;for(var x=null;m!==null;)m.alternate!==null&&(x=m),m=m.sibling;x===null?u.tail=null:x.sibling=null;break;case"collapsed":x=u.tail;for(var E=null;x!==null;)x.alternate!==null&&(E=x),x=x.sibling;E===null?m||u.tail===null?u.tail=null:u.tail.sibling=null:E.sibling=null}}function Yr(u){var m=u.alternate!==null&&u.alternate.child===u.child,x=0,E=0;if(m)for(var L=u.child;L!==null;)x|=L.lanes|L.childLanes,E|=L.subtreeFlags&65011712,E|=L.flags&65011712,L.return=u,L=L.sibling;else for(L=u.child;L!==null;)x|=L.lanes|L.childLanes,E|=L.subtreeFlags,E|=L.flags,L.return=u,L=L.sibling;return u.subtreeFlags|=E,u.childLanes=x,m}function oH(u,m,x){var E=m.pendingProps;switch(Hy(m),m.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Yr(m),null;case 1:return Yr(m),null;case 3:return x=m.stateNode,E=null,u!==null&&(E=u.memoizedState.cache),m.memoizedState.cache!==E&&(m.flags|=2048),Vl(Ei),he(),x.pendingContext&&(x.context=x.pendingContext,x.pendingContext=null),(u===null||u.child===null)&&(cp(m)?Yl(m):u===null||u.memoizedState.isDehydrated&&(m.flags&256)===0||(m.flags|=1024,n6())),Yr(m),null;case 26:return x=m.memoizedState,u===null?(Yl(m),x!==null?(Yr(m),S8(m,x)):(Yr(m),m.flags&=-16777217)):x?x!==u.memoizedState?(Yl(m),Yr(m),S8(m,x)):(Yr(m),m.flags&=-16777217):(u.memoizedProps!==E&&Yl(m),Yr(m),m.flags&=-16777217),null;case 27:ye(m),x=ae.current;var L=m.type;if(u!==null&&m.stateNode!=null)u.memoizedProps!==E&&Yl(m);else{if(!E){if(m.stateNode===null)throw Error(a(166));return Yr(m),null}u=oe.current,cp(m)?e6(m):(u=S5(L,E,x),m.stateNode=u,Yl(m))}return Yr(m),null;case 5:if(ye(m),x=m.type,u!==null&&m.stateNode!=null)u.memoizedProps!==E&&Yl(m);else{if(!E){if(m.stateNode===null)throw Error(a(166));return Yr(m),null}if(u=oe.current,cp(m))e6(m);else{switch(L=__(ae.current),u){case 1:u=L.createElementNS("http://www.w3.org/2000/svg",x);break;case 2:u=L.createElementNS("http://www.w3.org/1998/Math/MathML",x);break;default:switch(x){case"svg":u=L.createElementNS("http://www.w3.org/2000/svg",x);break;case"math":u=L.createElementNS("http://www.w3.org/1998/Math/MathML",x);break;case"script":u=L.createElement("div"),u.innerHTML="<script><\/script>",u=u.removeChild(u.firstChild);break;case"select":u=typeof E.is=="string"?L.createElement("select",{is:E.is}):L.createElement("select"),E.multiple?u.multiple=!0:E.size&&(u.size=E.size);break;default:u=typeof E.is=="string"?L.createElement(x,{is:E.is}):L.createElement(x)}}u[vn]=m,u[ns]=E;e:for(L=m.child;L!==null;){if(L.tag===5||L.tag===6)u.appendChild(L.stateNode);else if(L.tag!==4&&L.tag!==27&&L.child!==null){L.child.return=L,L=L.child;continue}if(L===m)break e;for(;L.sibling===null;){if(L.return===null||L.return===m)break e;L=L.return}L.sibling.return=L.return,L=L.sibling}m.stateNode=u;e:switch(Yi(u,x,E),x){case"button":case"input":case"select":case"textarea":u=!!E.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&Yl(m)}}return Yr(m),m.flags&=-16777217,null;case 6:if(u&&m.stateNode!=null)u.memoizedProps!==E&&Yl(m);else{if(typeof E!="string"&&m.stateNode===null)throw Error(a(166));if(u=ae.current,cp(m)){if(u=m.stateNode,x=m.memoizedProps,E=null,L=go,L!==null)switch(L.tag){case 27:case 5:E=L.memoizedProps}u[vn]=m,u=!!(u.nodeValue===x||E!==null&&E.suppressHydrationWarning===!0||_5(u.nodeValue,x)),u||zd(m)}else u=__(u).createTextNode(E),u[vn]=m,m.stateNode=u}return Yr(m),null;case 13:if(E=m.memoizedState,u===null||u.memoizedState!==null&&u.memoizedState.dehydrated!==null){if(L=cp(m),E!==null&&E.dehydrated!==null){if(u===null){if(!L)throw Error(a(318));if(L=m.memoizedState,L=L!==null?L.dehydrated:null,!L)throw Error(a(317));L[vn]=m}else lp(),(m.flags&128)===0&&(m.memoizedState=null),m.flags|=4;Yr(m),L=!1}else L=n6(),u!==null&&u.memoizedState!==null&&(u.memoizedState.hydrationErrors=L),L=!0;if(!L)return m.flags&256?(Ul(m),m):(Ul(m),null)}if(Ul(m),(m.flags&128)!==0)return m.lanes=x,m;if(x=E!==null,u=u!==null&&u.memoizedState!==null,x){E=m.child,L=null,E.alternate!==null&&E.alternate.memoizedState!==null&&E.alternate.memoizedState.cachePool!==null&&(L=E.alternate.memoizedState.cachePool.pool);var W=null;E.memoizedState!==null&&E.memoizedState.cachePool!==null&&(W=E.memoizedState.cachePool.pool),W!==L&&(E.flags|=2048)}return x!==u&&x&&(m.child.flags|=8192),a_(m,m.updateQueue),Yr(m),null;case 4:return he(),u===null&&J2(m.stateNode.containerInfo),Yr(m),null;case 10:return Vl(m.type),Yr(m),null;case 19:if(K(ki),L=m.memoizedState,L===null)return Yr(m),null;if(E=(m.flags&128)!==0,W=L.rendering,W===null)if(E)jp(L,!1);else{if(Kr!==0||u!==null&&(u.flags&128)!==0)for(u=m.child;u!==null;){if(W=J0(u),W!==null){for(m.flags|=128,jp(L,!1),u=W.updateQueue,m.updateQueue=u,a_(m,u),m.subtreeFlags=0,u=x,x=m.child;x!==null;)Z4(x,u),x=x.sibling;return G(ki,ki.current&1|2),m.child}u=u.sibling}L.tail!==null&&re()>o_&&(m.flags|=128,E=!0,jp(L,!1),m.lanes=4194304)}else{if(!E)if(u=J0(W),u!==null){if(m.flags|=128,E=!0,u=u.updateQueue,m.updateQueue=u,a_(m,u),jp(L,!0),L.tail===null&&L.tailMode==="hidden"&&!W.alternate&&!Ka)return Yr(m),null}else 2*re()-L.renderingStartTime>o_&&x!==536870912&&(m.flags|=128,E=!0,jp(L,!1),m.lanes=4194304);L.isBackwards?(W.sibling=m.child,m.child=W):(u=L.last,u!==null?u.sibling=W:m.child=W,L.last=W)}return L.tail!==null?(m=L.tail,L.rendering=m,L.tail=m.sibling,L.renderingStartTime=re(),m.sibling=null,u=ki.current,G(ki,E?u&1|2:u&1),m):(Yr(m),null);case 22:case 23:return Ul(m),t2(),E=m.memoizedState!==null,u!==null?u.memoizedState!==null!==E&&(m.flags|=8192):E&&(m.flags|=8192),E?(x&536870912)!==0&&(m.flags&128)===0&&(Yr(m),m.subtreeFlags&6&&(m.flags|=8192)):Yr(m),x=m.updateQueue,x!==null&&a_(m,x.retryQueue),x=null,u!==null&&u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(x=u.memoizedState.cachePool.pool),E=null,m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(E=m.memoizedState.cachePool.pool),E!==x&&(m.flags|=2048),u!==null&&K(Ud),null;case 24:return x=null,u!==null&&(x=u.memoizedState.cache),m.memoizedState.cache!==x&&(m.flags|=2048),Vl(Ei),Yr(m),null;case 25:return null;case 30:return null}throw Error(a(156,m.tag))}function cH(u,m){switch(Hy(m),m.tag){case 1:return u=m.flags,u&65536?(m.flags=u&-65537|128,m):null;case 3:return Vl(Ei),he(),u=m.flags,(u&65536)!==0&&(u&128)===0?(m.flags=u&-65537|128,m):null;case 26:case 27:case 5:return ye(m),null;case 13:if(Ul(m),u=m.memoizedState,u!==null&&u.dehydrated!==null){if(m.alternate===null)throw Error(a(340));lp()}return u=m.flags,u&65536?(m.flags=u&-65537|128,m):null;case 19:return K(ki),null;case 4:return he(),null;case 10:return Vl(m.type),null;case 22:case 23:return Ul(m),t2(),u!==null&&K(Ud),u=m.flags,u&65536?(m.flags=u&-65537|128,m):null;case 24:return Vl(Ei),null;case 25:return null;default:return null}}function j8(u,m){switch(Hy(m),m.tag){case 3:Vl(Ei),he();break;case 26:case 27:case 5:ye(m);break;case 4:he();break;case 13:Ul(m);break;case 19:K(ki);break;case 10:Vl(m.type);break;case 22:case 23:Ul(m),t2(),u!==null&&K(Ud);break;case 24:Vl(Ei)}}function Np(u,m){try{var x=m.updateQueue,E=x!==null?x.lastEffect:null;if(E!==null){var L=E.next;x=L;do{if((x.tag&u)===u){E=void 0;var W=x.create,ve=x.inst;E=W(),ve.destroy=E}x=x.next}while(x!==L)}}catch(Me){yr(m,m.return,Me)}}function Pu(u,m,x){try{var E=m.updateQueue,L=E!==null?E.lastEffect:null;if(L!==null){var W=L.next;E=W;do{if((E.tag&u)===u){var ve=E.inst,Me=ve.destroy;if(Me!==void 0){ve.destroy=void 0,L=m;var at=x,kt=Me;try{kt()}catch(en){yr(L,at,en)}}}E=E.next}while(E!==W)}}catch(en){yr(m,m.return,en)}}function N8(u){var m=u.updateQueue;if(m!==null){var x=u.stateNode;try{f6(m,x)}catch(E){yr(u,u.return,E)}}}function E8(u,m,x){x.props=Yd(u.type,u.memoizedProps),x.state=u.memoizedState;try{x.componentWillUnmount()}catch(E){yr(u,m,E)}}function Ep(u,m){try{var x=u.ref;if(x!==null){switch(u.tag){case 26:case 27:case 5:var E=u.stateNode;break;case 30:E=u.stateNode;break;default:E=u.stateNode}typeof x=="function"?u.refCleanup=x(E):x.current=E}}catch(L){yr(u,m,L)}}function sl(u,m){var x=u.ref,E=u.refCleanup;if(x!==null)if(typeof E=="function")try{E()}catch(L){yr(u,m,L)}finally{u.refCleanup=null,u=u.alternate,u!=null&&(u.refCleanup=null)}else if(typeof x=="function")try{x(null)}catch(L){yr(u,m,L)}else x.current=null}function k8(u){var m=u.type,x=u.memoizedProps,E=u.stateNode;try{e:switch(m){case"button":case"input":case"select":case"textarea":x.autoFocus&&E.focus();break e;case"img":x.src?E.src=x.src:x.srcSet&&(E.srcset=x.srcSet)}}catch(L){yr(u,u.return,L)}}function I2(u,m,x){try{var E=u.stateNode;IH(E,u.type,x,m),E[ns]=m}catch(L){yr(u,u.return,L)}}function I8(u){return u.tag===5||u.tag===3||u.tag===26||u.tag===27&&Yu(u.type)||u.tag===4}function D2(u){e:for(;;){for(;u.sibling===null;){if(u.return===null||I8(u.return))return null;u=u.return}for(u.sibling.return=u.return,u=u.sibling;u.tag!==5&&u.tag!==6&&u.tag!==18;){if(u.tag===27&&Yu(u.type)||u.flags&2||u.child===null||u.tag===4)continue e;u.child.return=u,u=u.child}if(!(u.flags&2))return u.stateNode}}function T2(u,m,x){var E=u.tag;if(E===5||E===6)u=u.stateNode,m?(x.nodeType===9?x.body:x.nodeName==="HTML"?x.ownerDocument.body:x).insertBefore(u,m):(m=x.nodeType===9?x.body:x.nodeName==="HTML"?x.ownerDocument.body:x,m.appendChild(u),x=x._reactRootContainer,x!=null||m.onclick!==null||(m.onclick=g_));else if(E!==4&&(E===27&&Yu(u.type)&&(x=u.stateNode,m=null),u=u.child,u!==null))for(T2(u,m,x),u=u.sibling;u!==null;)T2(u,m,x),u=u.sibling}function r_(u,m,x){var E=u.tag;if(E===5||E===6)u=u.stateNode,m?x.insertBefore(u,m):x.appendChild(u);else if(E!==4&&(E===27&&Yu(u.type)&&(x=u.stateNode),u=u.child,u!==null))for(r_(u,m,x),u=u.sibling;u!==null;)r_(u,m,x),u=u.sibling}function D8(u){var m=u.stateNode,x=u.memoizedProps;try{for(var E=u.type,L=m.attributes;L.length;)m.removeAttributeNode(L[0]);Yi(m,E,x),m[vn]=u,m[ns]=x}catch(W){yr(u,u.return,W)}}var Gl=!1,li=!1,A2=!1,T8=typeof WeakSet=="function"?WeakSet:Set,Bi=null;function lH(u,m){if(u=u.containerInfo,nw=C_,u=Q(u),ce(u)){if("selectionStart"in u)var x={start:u.selectionStart,end:u.selectionEnd};else e:{x=(x=u.ownerDocument)&&x.defaultView||window;var E=x.getSelection&&x.getSelection();if(E&&E.rangeCount!==0){x=E.anchorNode;var L=E.anchorOffset,W=E.focusNode;E=E.focusOffset;try{x.nodeType,W.nodeType}catch{x=null;break e}var ve=0,Me=-1,at=-1,kt=0,en=0,un=u,Tt=null;t:for(;;){for(var $t;un!==x||L!==0&&un.nodeType!==3||(Me=ve+L),un!==W||E!==0&&un.nodeType!==3||(at=ve+E),un.nodeType===3&&(ve+=un.nodeValue.length),($t=un.firstChild)!==null;)Tt=un,un=$t;for(;;){if(un===u)break t;if(Tt===x&&++kt===L&&(Me=ve),Tt===W&&++en===E&&(at=ve),($t=un.nextSibling)!==null)break;un=Tt,Tt=un.parentNode}un=$t}x=Me===-1||at===-1?null:{start:Me,end:at}}else x=null}x=x||{start:0,end:0}}else x=null;for(sw={focusedElem:u,selectionRange:x},C_=!1,Bi=m;Bi!==null;)if(m=Bi,u=m.child,(m.subtreeFlags&1024)!==0&&u!==null)u.return=m,Bi=u;else for(;Bi!==null;){switch(m=Bi,W=m.alternate,u=m.flags,m.tag){case 0:break;case 11:case 15:break;case 1:if((u&1024)!==0&&W!==null){u=void 0,x=m,L=W.memoizedProps,W=W.memoizedState,E=x.stateNode;try{var Ps=Yd(x.type,L,x.elementType===x.type);u=E.getSnapshotBeforeUpdate(Ps,W),E.__reactInternalSnapshotBeforeUpdate=u}catch(Ms){yr(x,x.return,Ms)}}break;case 3:if((u&1024)!==0){if(u=m.stateNode.containerInfo,x=u.nodeType,x===9)iw(u);else if(x===1)switch(u.nodeName){case"HEAD":case"HTML":case"BODY":iw(u);break;default:u.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((u&1024)!==0)throw Error(a(163))}if(u=m.sibling,u!==null){u.return=m.return,Bi=u;break}Bi=m.return}}function A8(u,m,x){var E=x.flags;switch(x.tag){case 0:case 11:case 15:Fu(u,x),E&4&&Np(5,x);break;case 1:if(Fu(u,x),E&4)if(u=x.stateNode,m===null)try{u.componentDidMount()}catch(ve){yr(x,x.return,ve)}else{var L=Yd(x.type,m.memoizedProps);m=m.memoizedState;try{u.componentDidUpdate(L,m,u.__reactInternalSnapshotBeforeUpdate)}catch(ve){yr(x,x.return,ve)}}E&64&&N8(x),E&512&&Ep(x,x.return);break;case 3:if(Fu(u,x),E&64&&(u=x.updateQueue,u!==null)){if(m=null,x.child!==null)switch(x.child.tag){case 27:case 5:m=x.child.stateNode;break;case 1:m=x.child.stateNode}try{f6(u,m)}catch(ve){yr(x,x.return,ve)}}break;case 27:m===null&&E&4&&D8(x);case 26:case 5:Fu(u,x),m===null&&E&4&&k8(x),E&512&&Ep(x,x.return);break;case 12:Fu(u,x);break;case 13:Fu(u,x),E&4&&O8(u,x),E&64&&(u=x.memoizedState,u!==null&&(u=u.dehydrated,u!==null&&(x=vH.bind(null,x),BH(u,x))));break;case 22:if(E=x.memoizedState!==null||Gl,!E){m=m!==null&&m.memoizedState!==null||li,L=Gl;var W=li;Gl=E,(li=m)&&!W?Hu(u,x,(x.subtreeFlags&8772)!==0):Fu(u,x),Gl=L,li=W}break;case 30:break;default:Fu(u,x)}}function M8(u){var m=u.alternate;m!==null&&(u.alternate=null,M8(m)),u.child=null,u.deletions=null,u.sibling=null,u.tag===5&&(m=u.stateNode,m!==null&&xa(m)),u.stateNode=null,u.return=null,u.dependencies=null,u.memoizedProps=null,u.memoizedState=null,u.pendingProps=null,u.stateNode=null,u.updateQueue=null}var Rr=null,So=!1;function Ql(u,m,x){for(x=x.child;x!==null;)R8(u,m,x),x=x.sibling}function R8(u,m,x){if(_e&&typeof _e.onCommitFiberUnmount=="function")try{_e.onCommitFiberUnmount(dt,x)}catch{}switch(x.tag){case 26:li||sl(x,m),Ql(u,m,x),x.memoizedState?x.memoizedState.count--:x.stateNode&&(x=x.stateNode,x.parentNode.removeChild(x));break;case 27:li||sl(x,m);var E=Rr,L=So;Yu(x.type)&&(Rr=x.stateNode,So=!1),Ql(u,m,x),Bp(x.stateNode),Rr=E,So=L;break;case 5:li||sl(x,m);case 6:if(E=Rr,L=So,Rr=null,Ql(u,m,x),Rr=E,So=L,Rr!==null)if(So)try{(Rr.nodeType===9?Rr.body:Rr.nodeName==="HTML"?Rr.ownerDocument.body:Rr).removeChild(x.stateNode)}catch(W){yr(x,m,W)}else try{Rr.removeChild(x.stateNode)}catch(W){yr(x,m,W)}break;case 18:Rr!==null&&(So?(u=Rr,w5(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,x.stateNode),qp(u)):w5(Rr,x.stateNode));break;case 4:E=Rr,L=So,Rr=x.stateNode.containerInfo,So=!0,Ql(u,m,x),Rr=E,So=L;break;case 0:case 11:case 14:case 15:li||Pu(2,x,m),li||Pu(4,x,m),Ql(u,m,x);break;case 1:li||(sl(x,m),E=x.stateNode,typeof E.componentWillUnmount=="function"&&E8(x,m,E)),Ql(u,m,x);break;case 21:Ql(u,m,x);break;case 22:li=(E=li)||x.memoizedState!==null,Ql(u,m,x),li=E;break;default:Ql(u,m,x)}}function O8(u,m){if(m.memoizedState===null&&(u=m.alternate,u!==null&&(u=u.memoizedState,u!==null&&(u=u.dehydrated,u!==null))))try{qp(u)}catch(x){yr(m,m.return,x)}}function uH(u){switch(u.tag){case 13:case 19:var m=u.stateNode;return m===null&&(m=u.stateNode=new T8),m;case 22:return u=u.stateNode,m=u._retryCache,m===null&&(m=u._retryCache=new T8),m;default:throw Error(a(435,u.tag))}}function M2(u,m){var x=uH(u);m.forEach(function(E){var L=xH.bind(null,u,E);x.has(E)||(x.add(E),E.then(L,L))})}function Fo(u,m){var x=m.deletions;if(x!==null)for(var E=0;E<x.length;E++){var L=x[E],W=u,ve=m,Me=ve;e:for(;Me!==null;){switch(Me.tag){case 27:if(Yu(Me.type)){Rr=Me.stateNode,So=!1;break e}break;case 5:Rr=Me.stateNode,So=!1;break e;case 3:case 4:Rr=Me.stateNode.containerInfo,So=!0;break e}Me=Me.return}if(Rr===null)throw Error(a(160));R8(W,ve,L),Rr=null,So=!1,W=L.alternate,W!==null&&(W.return=null),L.return=null}if(m.subtreeFlags&13878)for(m=m.child;m!==null;)B8(m,u),m=m.sibling}var Tc=null;function B8(u,m){var x=u.alternate,E=u.flags;switch(u.tag){case 0:case 11:case 14:case 15:Fo(m,u),Ho(u),E&4&&(Pu(3,u,u.return),Np(3,u),Pu(5,u,u.return));break;case 1:Fo(m,u),Ho(u),E&512&&(li||x===null||sl(x,x.return)),E&64&&Gl&&(u=u.updateQueue,u!==null&&(E=u.callbacks,E!==null&&(x=u.shared.hiddenCallbacks,u.shared.hiddenCallbacks=x===null?E:x.concat(E))));break;case 26:var L=Tc;if(Fo(m,u),Ho(u),E&512&&(li||x===null||sl(x,x.return)),E&4){var W=x!==null?x.memoizedState:null;if(E=u.memoizedState,x===null)if(E===null)if(u.stateNode===null){e:{E=u.type,x=u.memoizedProps,L=L.ownerDocument||L;t:switch(E){case"title":W=L.getElementsByTagName("title")[0],(!W||W[ra]||W[vn]||W.namespaceURI==="http://www.w3.org/2000/svg"||W.hasAttribute("itemprop"))&&(W=L.createElement(E),L.head.insertBefore(W,L.querySelector("head > title"))),Yi(W,E,x),W[vn]=u,gs(W),E=W;break e;case"link":var ve=D5("link","href",L).get(E+(x.href||""));if(ve){for(var Me=0;Me<ve.length;Me++)if(W=ve[Me],W.getAttribute("href")===(x.href==null||x.href===""?null:x.href)&&W.getAttribute("rel")===(x.rel==null?null:x.rel)&&W.getAttribute("title")===(x.title==null?null:x.title)&&W.getAttribute("crossorigin")===(x.crossOrigin==null?null:x.crossOrigin)){ve.splice(Me,1);break t}}W=L.createElement(E),Yi(W,E,x),L.head.appendChild(W);break;case"meta":if(ve=D5("meta","content",L).get(E+(x.content||""))){for(Me=0;Me<ve.length;Me++)if(W=ve[Me],W.getAttribute("content")===(x.content==null?null:""+x.content)&&W.getAttribute("name")===(x.name==null?null:x.name)&&W.getAttribute("property")===(x.property==null?null:x.property)&&W.getAttribute("http-equiv")===(x.httpEquiv==null?null:x.httpEquiv)&&W.getAttribute("charset")===(x.charSet==null?null:x.charSet)){ve.splice(Me,1);break t}}W=L.createElement(E),Yi(W,E,x),L.head.appendChild(W);break;default:throw Error(a(468,E))}W[vn]=u,gs(W),E=W}u.stateNode=E}else T5(L,u.type,u.stateNode);else u.stateNode=I5(L,E,u.memoizedProps);else W!==E?(W===null?x.stateNode!==null&&(x=x.stateNode,x.parentNode.removeChild(x)):W.count--,E===null?T5(L,u.type,u.stateNode):I5(L,E,u.memoizedProps)):E===null&&u.stateNode!==null&&I2(u,u.memoizedProps,x.memoizedProps)}break;case 27:Fo(m,u),Ho(u),E&512&&(li||x===null||sl(x,x.return)),x!==null&&E&4&&I2(u,u.memoizedProps,x.memoizedProps);break;case 5:if(Fo(m,u),Ho(u),E&512&&(li||x===null||sl(x,x.return)),u.flags&32){L=u.stateNode;try{Wt(L,"")}catch($t){yr(u,u.return,$t)}}E&4&&u.stateNode!=null&&(L=u.memoizedProps,I2(u,L,x!==null?x.memoizedProps:L)),E&1024&&(A2=!0);break;case 6:if(Fo(m,u),Ho(u),E&4){if(u.stateNode===null)throw Error(a(162));E=u.memoizedProps,x=u.stateNode;try{x.nodeValue=E}catch($t){yr(u,u.return,$t)}}break;case 3:if(b_=null,L=Tc,Tc=v_(m.containerInfo),Fo(m,u),Tc=L,Ho(u),E&4&&x!==null&&x.memoizedState.isDehydrated)try{qp(m.containerInfo)}catch($t){yr(u,u.return,$t)}A2&&(A2=!1,L8(u));break;case 4:E=Tc,Tc=v_(u.stateNode.containerInfo),Fo(m,u),Ho(u),Tc=E;break;case 12:Fo(m,u),Ho(u);break;case 13:Fo(m,u),Ho(u),u.child.flags&8192&&u.memoizedState!==null!=(x!==null&&x.memoizedState!==null)&&(P2=re()),E&4&&(E=u.updateQueue,E!==null&&(u.updateQueue=null,M2(u,E)));break;case 22:L=u.memoizedState!==null;var at=x!==null&&x.memoizedState!==null,kt=Gl,en=li;if(Gl=kt||L,li=en||at,Fo(m,u),li=en,Gl=kt,Ho(u),E&8192)e:for(m=u.stateNode,m._visibility=L?m._visibility&-2:m._visibility|1,L&&(x===null||at||Gl||li||Gd(u)),x=null,m=u;;){if(m.tag===5||m.tag===26){if(x===null){at=x=m;try{if(W=at.stateNode,L)ve=W.style,typeof ve.setProperty=="function"?ve.setProperty("display","none","important"):ve.display="none";else{Me=at.stateNode;var un=at.memoizedProps.style,Tt=un!=null&&un.hasOwnProperty("display")?un.display:null;Me.style.display=Tt==null||typeof Tt=="boolean"?"":(""+Tt).trim()}}catch($t){yr(at,at.return,$t)}}}else if(m.tag===6){if(x===null){at=m;try{at.stateNode.nodeValue=L?"":at.memoizedProps}catch($t){yr(at,at.return,$t)}}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===u)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===u)break e;for(;m.sibling===null;){if(m.return===null||m.return===u)break e;x===m&&(x=null),m=m.return}x===m&&(x=null),m.sibling.return=m.return,m=m.sibling}E&4&&(E=u.updateQueue,E!==null&&(x=E.retryQueue,x!==null&&(E.retryQueue=null,M2(u,x))));break;case 19:Fo(m,u),Ho(u),E&4&&(E=u.updateQueue,E!==null&&(u.updateQueue=null,M2(u,E)));break;case 30:break;case 21:break;default:Fo(m,u),Ho(u)}}function Ho(u){var m=u.flags;if(m&2){try{for(var x,E=u.return;E!==null;){if(I8(E)){x=E;break}E=E.return}if(x==null)throw Error(a(160));switch(x.tag){case 27:var L=x.stateNode,W=D2(u);r_(u,W,L);break;case 5:var ve=x.stateNode;x.flags&32&&(Wt(ve,""),x.flags&=-33);var Me=D2(u);r_(u,Me,ve);break;case 3:case 4:var at=x.stateNode.containerInfo,kt=D2(u);T2(u,kt,at);break;default:throw Error(a(161))}}catch(en){yr(u,u.return,en)}u.flags&=-3}m&4096&&(u.flags&=-4097)}function L8(u){if(u.subtreeFlags&1024)for(u=u.child;u!==null;){var m=u;L8(m),m.tag===5&&m.flags&1024&&m.stateNode.reset(),u=u.sibling}}function Fu(u,m){if(m.subtreeFlags&8772)for(m=m.child;m!==null;)A8(u,m.alternate,m),m=m.sibling}function Gd(u){for(u=u.child;u!==null;){var m=u;switch(m.tag){case 0:case 11:case 14:case 15:Pu(4,m,m.return),Gd(m);break;case 1:sl(m,m.return);var x=m.stateNode;typeof x.componentWillUnmount=="function"&&E8(m,m.return,x),Gd(m);break;case 27:Bp(m.stateNode);case 26:case 5:sl(m,m.return),Gd(m);break;case 22:m.memoizedState===null&&Gd(m);break;case 30:Gd(m);break;default:Gd(m)}u=u.sibling}}function Hu(u,m,x){for(x=x&&(m.subtreeFlags&8772)!==0,m=m.child;m!==null;){var E=m.alternate,L=u,W=m,ve=W.flags;switch(W.tag){case 0:case 11:case 15:Hu(L,W,x),Np(4,W);break;case 1:if(Hu(L,W,x),E=W,L=E.stateNode,typeof L.componentDidMount=="function")try{L.componentDidMount()}catch(kt){yr(E,E.return,kt)}if(E=W,L=E.updateQueue,L!==null){var Me=E.stateNode;try{var at=L.shared.hiddenCallbacks;if(at!==null)for(L.shared.hiddenCallbacks=null,L=0;L<at.length;L++)h6(at[L],Me)}catch(kt){yr(E,E.return,kt)}}x&&ve&64&&N8(W),Ep(W,W.return);break;case 27:D8(W);case 26:case 5:Hu(L,W,x),x&&E===null&&ve&4&&k8(W),Ep(W,W.return);break;case 12:Hu(L,W,x);break;case 13:Hu(L,W,x),x&&ve&4&&O8(L,W);break;case 22:W.memoizedState===null&&Hu(L,W,x),Ep(W,W.return);break;case 30:break;default:Hu(L,W,x)}m=m.sibling}}function R2(u,m){var x=null;u!==null&&u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(x=u.memoizedState.cachePool.pool),u=null,m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(u=m.memoizedState.cachePool.pool),u!==x&&(u!=null&&u.refCount++,x!=null&&hp(x))}function O2(u,m){u=null,m.alternate!==null&&(u=m.alternate.memoizedState.cache),m=m.memoizedState.cache,m!==u&&(m.refCount++,u!=null&&hp(u))}function al(u,m,x,E){if(m.subtreeFlags&10256)for(m=m.child;m!==null;)$8(u,m,x,E),m=m.sibling}function $8(u,m,x,E){var L=m.flags;switch(m.tag){case 0:case 11:case 15:al(u,m,x,E),L&2048&&Np(9,m);break;case 1:al(u,m,x,E);break;case 3:al(u,m,x,E),L&2048&&(u=null,m.alternate!==null&&(u=m.alternate.memoizedState.cache),m=m.memoizedState.cache,m!==u&&(m.refCount++,u!=null&&hp(u)));break;case 12:if(L&2048){al(u,m,x,E),u=m.stateNode;try{var W=m.memoizedProps,ve=W.id,Me=W.onPostCommit;typeof Me=="function"&&Me(ve,m.alternate===null?"mount":"update",u.passiveEffectDuration,-0)}catch(at){yr(m,m.return,at)}}else al(u,m,x,E);break;case 13:al(u,m,x,E);break;case 23:break;case 22:W=m.stateNode,ve=m.alternate,m.memoizedState!==null?W._visibility&2?al(u,m,x,E):kp(u,m):W._visibility&2?al(u,m,x,E):(W._visibility|=2,mf(u,m,x,E,(m.subtreeFlags&10256)!==0)),L&2048&&R2(ve,m);break;case 24:al(u,m,x,E),L&2048&&O2(m.alternate,m);break;default:al(u,m,x,E)}}function mf(u,m,x,E,L){for(L=L&&(m.subtreeFlags&10256)!==0,m=m.child;m!==null;){var W=u,ve=m,Me=x,at=E,kt=ve.flags;switch(ve.tag){case 0:case 11:case 15:mf(W,ve,Me,at,L),Np(8,ve);break;case 23:break;case 22:var en=ve.stateNode;ve.memoizedState!==null?en._visibility&2?mf(W,ve,Me,at,L):kp(W,ve):(en._visibility|=2,mf(W,ve,Me,at,L)),L&&kt&2048&&R2(ve.alternate,ve);break;case 24:mf(W,ve,Me,at,L),L&&kt&2048&&O2(ve.alternate,ve);break;default:mf(W,ve,Me,at,L)}m=m.sibling}}function kp(u,m){if(m.subtreeFlags&10256)for(m=m.child;m!==null;){var x=u,E=m,L=E.flags;switch(E.tag){case 22:kp(x,E),L&2048&&R2(E.alternate,E);break;case 24:kp(x,E),L&2048&&O2(E.alternate,E);break;default:kp(x,E)}m=m.sibling}}var Ip=8192;function pf(u){if(u.subtreeFlags&Ip)for(u=u.child;u!==null;)P8(u),u=u.sibling}function P8(u){switch(u.tag){case 26:pf(u),u.flags&Ip&&u.memoizedState!==null&&QH(Tc,u.memoizedState,u.memoizedProps);break;case 5:pf(u);break;case 3:case 4:var m=Tc;Tc=v_(u.stateNode.containerInfo),pf(u),Tc=m;break;case 22:u.memoizedState===null&&(m=u.alternate,m!==null&&m.memoizedState!==null?(m=Ip,Ip=16777216,pf(u),Ip=m):pf(u));break;default:pf(u)}}function F8(u){var m=u.alternate;if(m!==null&&(u=m.child,u!==null)){m.child=null;do m=u.sibling,u.sibling=null,u=m;while(u!==null)}}function Dp(u){var m=u.deletions;if((u.flags&16)!==0){if(m!==null)for(var x=0;x<m.length;x++){var E=m[x];Bi=E,z8(E,u)}F8(u)}if(u.subtreeFlags&10256)for(u=u.child;u!==null;)H8(u),u=u.sibling}function H8(u){switch(u.tag){case 0:case 11:case 15:Dp(u),u.flags&2048&&Pu(9,u,u.return);break;case 3:Dp(u);break;case 12:Dp(u);break;case 22:var m=u.stateNode;u.memoizedState!==null&&m._visibility&2&&(u.return===null||u.return.tag!==13)?(m._visibility&=-3,i_(u)):Dp(u);break;default:Dp(u)}}function i_(u){var m=u.deletions;if((u.flags&16)!==0){if(m!==null)for(var x=0;x<m.length;x++){var E=m[x];Bi=E,z8(E,u)}F8(u)}for(u=u.child;u!==null;){switch(m=u,m.tag){case 0:case 11:case 15:Pu(8,m,m.return),i_(m);break;case 22:x=m.stateNode,x._visibility&2&&(x._visibility&=-3,i_(m));break;default:i_(m)}u=u.sibling}}function z8(u,m){for(;Bi!==null;){var x=Bi;switch(x.tag){case 0:case 11:case 15:Pu(8,x,m);break;case 23:case 22:if(x.memoizedState!==null&&x.memoizedState.cachePool!==null){var E=x.memoizedState.cachePool.pool;E!=null&&E.refCount++}break;case 24:hp(x.memoizedState.cache)}if(E=x.child,E!==null)E.return=x,Bi=E;else e:for(x=u;Bi!==null;){E=Bi;var L=E.sibling,W=E.return;if(M8(E),E===x){Bi=null;break e}if(L!==null){L.return=W,Bi=L;break e}Bi=W}}}var dH={getCacheForType:function(u){var m=so(Ei),x=m.data.get(u);return x===void 0&&(x=u(),m.data.set(u,x)),x}},hH=typeof WeakMap=="function"?WeakMap:Map,or=0,Nr=null,Ca=null,za=0,cr=0,zo=null,zu=!1,gf=!1,B2=!1,Xl=0,Kr=0,Vu=0,Qd=0,L2=0,uc=0,_f=0,Tp=null,jo=null,$2=!1,P2=0,o_=1/0,c_=null,qu=null,Wi=0,Uu=null,vf=null,xf=0,F2=0,H2=null,V8=null,Ap=0,z2=null;function Vo(){if((or&2)!==0&&za!==0)return za&-za;if(q.T!==null){var u=rf;return u!==0?u:Q2()}return Rt()}function q8(){uc===0&&(uc=(za&536870912)===0||Ka?pn():536870912);var u=lc.current;return u!==null&&(u.flags|=32),uc}function qo(u,m,x){(u===Nr&&(cr===2||cr===9)||u.cancelPendingCommit!==null)&&(bf(u,0),Wu(u,za,uc,!1)),ln(u,x),((or&2)===0||u!==Nr)&&(u===Nr&&((or&2)===0&&(Qd|=x),Kr===4&&Wu(u,za,uc,!1)),rl(u))}function U8(u,m,x){if((or&6)!==0)throw Error(a(327));var E=!x&&(m&124)===0&&(m&u.expiredLanes)===0||ct(u,m),L=E?pH(u,m):U2(u,m,!0),W=E;do{if(L===0){gf&&!E&&Wu(u,m,0,!1);break}else{if(x=u.current.alternate,W&&!fH(x)){L=U2(u,m,!1),W=!1;continue}if(L===2){if(W=m,u.errorRecoveryDisabledLanes&W)var ve=0;else ve=u.pendingLanes&-536870913,ve=ve!==0?ve:ve&536870912?536870912:0;if(ve!==0){m=ve;e:{var Me=u;L=Tp;var at=Me.current.memoizedState.isDehydrated;if(at&&(bf(Me,ve).flags|=256),ve=U2(Me,ve,!1),ve!==2){if(B2&&!at){Me.errorRecoveryDisabledLanes|=W,Qd|=W,L=4;break e}W=jo,jo=L,W!==null&&(jo===null?jo=W:jo.push.apply(jo,W))}L=ve}if(W=!1,L!==2)continue}}if(L===1){bf(u,0),Wu(u,m,0,!0);break}e:{switch(E=u,W=L,W){case 0:case 1:throw Error(a(345));case 4:if((m&4194048)!==m)break;case 6:Wu(E,m,uc,!zu);break e;case 2:jo=null;break;case 3:case 5:break;default:throw Error(a(329))}if((m&62914560)===m&&(L=P2+300-re(),10<L)){if(Wu(E,m,uc,!zu),st(E,0,!0)!==0)break e;E.timeoutHandle=b5(W8.bind(null,E,x,jo,c_,$2,m,uc,Qd,_f,zu,W,2,-0,0),L);break e}W8(E,x,jo,c_,$2,m,uc,Qd,_f,zu,W,0,-0,0)}}break}while(!0);rl(u)}function W8(u,m,x,E,L,W,ve,Me,at,kt,en,un,Tt,$t){if(u.timeoutHandle=-1,un=m.subtreeFlags,(un&8192||(un&16785408)===16785408)&&(Pp={stylesheets:null,count:0,unsuspend:GH},P8(m),un=XH(),un!==null)){u.cancelPendingCommit=un(J8.bind(null,u,m,W,x,E,L,ve,Me,at,en,1,Tt,$t)),Wu(u,W,ve,!kt);return}J8(u,m,W,x,E,L,ve,Me,at)}function fH(u){for(var m=u;;){var x=m.tag;if((x===0||x===11||x===15)&&m.flags&16384&&(x=m.updateQueue,x!==null&&(x=x.stores,x!==null)))for(var E=0;E<x.length;E++){var L=x[E],W=L.getSnapshot;L=L.value;try{if(!y(W(),L))return!1}catch{return!1}}if(x=m.child,m.subtreeFlags&16384&&x!==null)x.return=m,m=x;else{if(m===u)break;for(;m.sibling===null;){if(m.return===null||m.return===u)return!0;m=m.return}m.sibling.return=m.return,m=m.sibling}}return!0}function Wu(u,m,x,E){m&=~L2,m&=~Qd,u.suspendedLanes|=m,u.pingedLanes&=~m,E&&(u.warmLanes|=m),E=u.expirationTimes;for(var L=m;0<L;){var W=31-Fe(L),ve=1<<W;E[W]=-1,L&=~ve}x!==0&&wn(u,x,m)}function l_(){return(or&6)===0?(Mp(0),!1):!0}function V2(){if(Ca!==null){if(cr===0)var u=Ca.return;else u=Ca,zl=Vd=null,i2(u),hf=null,Cp=0,u=Ca;for(;u!==null;)j8(u.alternate,u),u=u.return;Ca=null}}function bf(u,m){var x=u.timeoutHandle;x!==-1&&(u.timeoutHandle=-1,TH(x)),x=u.cancelPendingCommit,x!==null&&(u.cancelPendingCommit=null,x()),V2(),Nr=u,Ca=x=Pl(u.current,null),za=m,cr=0,zo=null,zu=!1,gf=ct(u,m),B2=!1,_f=uc=L2=Qd=Vu=Kr=0,jo=Tp=null,$2=!1,(m&8)!==0&&(m|=m&32);var E=u.entangledLanes;if(E!==0)for(u=u.entanglements,E&=m;0<E;){var L=31-Fe(E),W=1<<L;m|=u[L],E&=~W}return Xl=m,T0(),x}function Y8(u,m){ga=null,q.H=X0,m===mp||m===F0?(m=u6(),cr=3):m===o6?(m=u6(),cr=4):cr=m===d8?8:m!==null&&typeof m=="object"&&typeof m.then=="function"?6:1,zo=m,Ca===null&&(Kr=1,t_(u,rc(m,u.current)))}function G8(){var u=q.H;return q.H=X0,u===null?X0:u}function Q8(){var u=q.A;return q.A=dH,u}function q2(){Kr=4,zu||(za&4194048)!==za&&lc.current!==null||(gf=!0),(Vu&134217727)===0&&(Qd&134217727)===0||Nr===null||Wu(Nr,za,uc,!1)}function U2(u,m,x){var E=or;or|=2;var L=G8(),W=Q8();(Nr!==u||za!==m)&&(c_=null,bf(u,m)),m=!1;var ve=Kr;e:do try{if(cr!==0&&Ca!==null){var Me=Ca,at=zo;switch(cr){case 8:V2(),ve=6;break e;case 3:case 2:case 9:case 6:lc.current===null&&(m=!0);var kt=cr;if(cr=0,zo=null,yf(u,Me,at,kt),x&&gf){ve=0;break e}break;default:kt=cr,cr=0,zo=null,yf(u,Me,at,kt)}}mH(),ve=Kr;break}catch(en){Y8(u,en)}while(!0);return m&&u.shellSuspendCounter++,zl=Vd=null,or=E,q.H=L,q.A=W,Ca===null&&(Nr=null,za=0,T0()),ve}function mH(){for(;Ca!==null;)X8(Ca)}function pH(u,m){var x=or;or|=2;var E=G8(),L=Q8();Nr!==u||za!==m?(c_=null,o_=re()+500,bf(u,m)):gf=ct(u,m);e:do try{if(cr!==0&&Ca!==null){m=Ca;var W=zo;t:switch(cr){case 1:cr=0,zo=null,yf(u,m,W,1);break;case 2:case 9:if(c6(W)){cr=0,zo=null,K8(m);break}m=function(){cr!==2&&cr!==9||Nr!==u||(cr=7),rl(u)},W.then(m,m);break e;case 3:cr=7;break e;case 4:cr=5;break e;case 7:c6(W)?(cr=0,zo=null,K8(m)):(cr=0,zo=null,yf(u,m,W,7));break;case 5:var ve=null;switch(Ca.tag){case 26:ve=Ca.memoizedState;case 5:case 27:var Me=Ca;if(!ve||A5(ve)){cr=0,zo=null;var at=Me.sibling;if(at!==null)Ca=at;else{var kt=Me.return;kt!==null?(Ca=kt,u_(kt)):Ca=null}break t}}cr=0,zo=null,yf(u,m,W,5);break;case 6:cr=0,zo=null,yf(u,m,W,6);break;case 8:V2(),Kr=6;break e;default:throw Error(a(462))}}gH();break}catch(en){Y8(u,en)}while(!0);return zl=Vd=null,q.H=E,q.A=L,or=x,Ca!==null?0:(Nr=null,za=0,T0(),Kr)}function gH(){for(;Ca!==null&&!de();)X8(Ca)}function X8(u){var m=C8(u.alternate,u,Xl);u.memoizedProps=u.pendingProps,m===null?u_(u):Ca=m}function K8(u){var m=u,x=m.alternate;switch(m.tag){case 15:case 0:m=_8(x,m,m.pendingProps,m.type,void 0,za);break;case 11:m=_8(x,m,m.pendingProps,m.type.render,m.ref,za);break;case 5:i2(m);default:j8(x,m),m=Ca=Z4(m,Xl),m=C8(x,m,Xl)}u.memoizedProps=u.pendingProps,m===null?u_(u):Ca=m}function yf(u,m,x,E){zl=Vd=null,i2(m),hf=null,Cp=0;var L=m.return;try{if(rH(u,L,m,x,za)){Kr=1,t_(u,rc(x,u.current)),Ca=null;return}}catch(W){if(L!==null)throw Ca=L,W;Kr=1,t_(u,rc(x,u.current)),Ca=null;return}m.flags&32768?(Ka||E===1?u=!0:gf||(za&536870912)!==0?u=!1:(zu=u=!0,(E===2||E===9||E===3||E===6)&&(E=lc.current,E!==null&&E.tag===13&&(E.flags|=16384))),Z8(m,u)):u_(m)}function u_(u){var m=u;do{if((m.flags&32768)!==0){Z8(m,zu);return}u=m.return;var x=oH(m.alternate,m,Xl);if(x!==null){Ca=x;return}if(m=m.sibling,m!==null){Ca=m;return}Ca=m=u}while(m!==null);Kr===0&&(Kr=5)}function Z8(u,m){do{var x=cH(u.alternate,u);if(x!==null){x.flags&=32767,Ca=x;return}if(x=u.return,x!==null&&(x.flags|=32768,x.subtreeFlags=0,x.deletions=null),!m&&(u=u.sibling,u!==null)){Ca=u;return}Ca=u=x}while(u!==null);Kr=6,Ca=null}function J8(u,m,x,E,L,W,ve,Me,at){u.cancelPendingCommit=null;do d_();while(Wi!==0);if((or&6)!==0)throw Error(a(327));if(m!==null){if(m===u.current)throw Error(a(177));if(W=m.lanes|m.childLanes,W|=Oy,fn(u,x,W,ve,Me,at),u===Nr&&(Ca=Nr=null,za=0),vf=m,Uu=u,xf=x,F2=W,H2=L,V8=E,(m.subtreeFlags&10256)!==0||(m.flags&10256)!==0?(u.callbackNode=null,u.callbackPriority=0,bH(Ee,function(){return a5(),null})):(u.callbackNode=null,u.callbackPriority=0),E=(m.flags&13878)!==0,(m.subtreeFlags&13878)!==0||E){E=q.T,q.T=null,L=T.p,T.p=2,ve=or,or|=4;try{lH(u,m,x)}finally{or=ve,T.p=L,q.T=E}}Wi=1,e5(),t5(),n5()}}function e5(){if(Wi===1){Wi=0;var u=Uu,m=vf,x=(m.flags&13878)!==0;if((m.subtreeFlags&13878)!==0||x){x=q.T,q.T=null;var E=T.p;T.p=2;var L=or;or|=4;try{B8(m,u);var W=sw,ve=Q(u.containerInfo),Me=W.focusedElem,at=W.selectionRange;if(ve!==Me&&Me&&Me.ownerDocument&&z(Me.ownerDocument.documentElement,Me)){if(at!==null&&ce(Me)){var kt=at.start,en=at.end;if(en===void 0&&(en=kt),"selectionStart"in Me)Me.selectionStart=kt,Me.selectionEnd=Math.min(en,Me.value.length);else{var un=Me.ownerDocument||document,Tt=un&&un.defaultView||window;if(Tt.getSelection){var $t=Tt.getSelection(),Ps=Me.textContent.length,Ms=Math.min(at.start,Ps),gr=at.end===void 0?Ms:Math.min(at.end,Ps);!$t.extend&&Ms>gr&&(ve=gr,gr=Ms,Ms=ve);var xt=D(Me,Ms),ht=D(Me,gr);if(xt&&ht&&($t.rangeCount!==1||$t.anchorNode!==xt.node||$t.anchorOffset!==xt.offset||$t.focusNode!==ht.node||$t.focusOffset!==ht.offset)){var jt=un.createRange();jt.setStart(xt.node,xt.offset),$t.removeAllRanges(),Ms>gr?($t.addRange(jt),$t.extend(ht.node,ht.offset)):(jt.setEnd(ht.node,ht.offset),$t.addRange(jt))}}}}for(un=[],$t=Me;$t=$t.parentNode;)$t.nodeType===1&&un.push({element:$t,left:$t.scrollLeft,top:$t.scrollTop});for(typeof Me.focus=="function"&&Me.focus(),Me=0;Me<un.length;Me++){var sn=un[Me];sn.element.scrollLeft=sn.left,sn.element.scrollTop=sn.top}}C_=!!nw,sw=nw=null}finally{or=L,T.p=E,q.T=x}}u.current=m,Wi=2}}function t5(){if(Wi===2){Wi=0;var u=Uu,m=vf,x=(m.flags&8772)!==0;if((m.subtreeFlags&8772)!==0||x){x=q.T,q.T=null;var E=T.p;T.p=2;var L=or;or|=4;try{A8(u,m.alternate,m)}finally{or=L,T.p=E,q.T=x}}Wi=3}}function n5(){if(Wi===4||Wi===3){Wi=0,fe();var u=Uu,m=vf,x=xf,E=V8;(m.subtreeFlags&10256)!==0||(m.flags&10256)!==0?Wi=5:(Wi=0,vf=Uu=null,s5(u,u.pendingLanes));var L=u.pendingLanes;if(L===0&&(qu=null),nt(x),m=m.stateNode,_e&&typeof _e.onCommitFiberRoot=="function")try{_e.onCommitFiberRoot(dt,m,void 0,(m.current.flags&128)===128)}catch{}if(E!==null){m=q.T,L=T.p,T.p=2,q.T=null;try{for(var W=u.onRecoverableError,ve=0;ve<E.length;ve++){var Me=E[ve];W(Me.value,{componentStack:Me.stack})}}finally{q.T=m,T.p=L}}(xf&3)!==0&&d_(),rl(u),L=u.pendingLanes,(x&4194090)!==0&&(L&42)!==0?u===z2?Ap++:(Ap=0,z2=u):Ap=0,Mp(0)}}function s5(u,m){(u.pooledCacheLanes&=m)===0&&(m=u.pooledCache,m!=null&&(u.pooledCache=null,hp(m)))}function d_(u){return e5(),t5(),n5(),a5()}function a5(){if(Wi!==5)return!1;var u=Uu,m=F2;F2=0;var x=nt(xf),E=q.T,L=T.p;try{T.p=32>x?32:x,q.T=null,x=H2,H2=null;var W=Uu,ve=xf;if(Wi=0,vf=Uu=null,xf=0,(or&6)!==0)throw Error(a(331));var Me=or;if(or|=4,H8(W.current),$8(W,W.current,ve,x),or=Me,Mp(0,!1),_e&&typeof _e.onPostCommitFiberRoot=="function")try{_e.onPostCommitFiberRoot(dt,W)}catch{}return!0}finally{T.p=L,q.T=E,s5(u,m)}}function r5(u,m,x){m=rc(x,m),m=b2(u.stateNode,m,2),u=Ou(u,m,2),u!==null&&(ln(u,2),rl(u))}function yr(u,m,x){if(u.tag===3)r5(u,u,x);else for(;m!==null;){if(m.tag===3){r5(m,u,x);break}else if(m.tag===1){var E=m.stateNode;if(typeof m.type.getDerivedStateFromError=="function"||typeof E.componentDidCatch=="function"&&(qu===null||!qu.has(E))){u=rc(x,u),x=l8(2),E=Ou(m,x,2),E!==null&&(u8(x,E,m,u),ln(E,2),rl(E));break}}m=m.return}}function W2(u,m,x){var E=u.pingCache;if(E===null){E=u.pingCache=new hH;var L=new Set;E.set(m,L)}else L=E.get(m),L===void 0&&(L=new Set,E.set(m,L));L.has(x)||(B2=!0,L.add(x),u=_H.bind(null,u,m,x),m.then(u,u))}function _H(u,m,x){var E=u.pingCache;E!==null&&E.delete(m),u.pingedLanes|=u.suspendedLanes&x,u.warmLanes&=~x,Nr===u&&(za&x)===x&&(Kr===4||Kr===3&&(za&62914560)===za&&300>re()-P2?(or&2)===0&&bf(u,0):L2|=x,_f===za&&(_f=0)),rl(u)}function i5(u,m){m===0&&(m=Gn()),u=tf(u,m),u!==null&&(ln(u,m),rl(u))}function vH(u){var m=u.memoizedState,x=0;m!==null&&(x=m.retryLane),i5(u,x)}function xH(u,m){var x=0;switch(u.tag){case 13:var E=u.stateNode,L=u.memoizedState;L!==null&&(x=L.retryLane);break;case 19:E=u.stateNode;break;case 22:E=u.stateNode._retryCache;break;default:throw Error(a(314))}E!==null&&E.delete(m),i5(u,x)}function bH(u,m){return Ie(u,m)}var h_=null,wf=null,Y2=!1,f_=!1,G2=!1,Xd=0;function rl(u){u!==wf&&u.next===null&&(wf===null?h_=wf=u:wf=wf.next=u),f_=!0,Y2||(Y2=!0,wH())}function Mp(u,m){if(!G2&&f_){G2=!0;do for(var x=!1,E=h_;E!==null;){if(u!==0){var L=E.pendingLanes;if(L===0)var W=0;else{var ve=E.suspendedLanes,Me=E.pingedLanes;W=(1<<31-Fe(42|u)+1)-1,W&=L&~(ve&~Me),W=W&201326741?W&201326741|1:W?W|2:0}W!==0&&(x=!0,u5(E,W))}else W=za,W=st(E,E===Nr?W:0,E.cancelPendingCommit!==null||E.timeoutHandle!==-1),(W&3)===0||ct(E,W)||(x=!0,u5(E,W));E=E.next}while(x);G2=!1}}function yH(){o5()}function o5(){f_=Y2=!1;var u=0;Xd!==0&&(DH()&&(u=Xd),Xd=0);for(var m=re(),x=null,E=h_;E!==null;){var L=E.next,W=c5(E,m);W===0?(E.next=null,x===null?h_=L:x.next=L,L===null&&(wf=x)):(x=E,(u!==0||(W&3)!==0)&&(f_=!0)),E=L}Mp(u)}function c5(u,m){for(var x=u.suspendedLanes,E=u.pingedLanes,L=u.expirationTimes,W=u.pendingLanes&-62914561;0<W;){var ve=31-Fe(W),Me=1<<ve,at=L[ve];at===-1?((Me&x)===0||(Me&E)!==0)&&(L[ve]=Mt(Me,m)):at<=m&&(u.expiredLanes|=Me),W&=~Me}if(m=Nr,x=za,x=st(u,u===m?x:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),E=u.callbackNode,x===0||u===m&&(cr===2||cr===9)||u.cancelPendingCommit!==null)return E!==null&&E!==null&&me(E),u.callbackNode=null,u.callbackPriority=0;if((x&3)===0||ct(u,x)){if(m=x&-x,m===u.callbackPriority)return m;switch(E!==null&&me(E),nt(x)){case 2:case 8:x=pe;break;case 32:x=Ee;break;case 268435456:x=Ue;break;default:x=Ee}return E=l5.bind(null,u),x=Ie(x,E),u.callbackPriority=m,u.callbackNode=x,m}return E!==null&&E!==null&&me(E),u.callbackPriority=2,u.callbackNode=null,2}function l5(u,m){if(Wi!==0&&Wi!==5)return u.callbackNode=null,u.callbackPriority=0,null;var x=u.callbackNode;if(d_()&&u.callbackNode!==x)return null;var E=za;return E=st(u,u===Nr?E:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),E===0?null:(U8(u,E,m),c5(u,re()),u.callbackNode!=null&&u.callbackNode===x?l5.bind(null,u):null)}function u5(u,m){if(d_())return null;U8(u,m,!0)}function wH(){AH(function(){(or&6)!==0?Ie(Se,yH):o5()})}function Q2(){return Xd===0&&(Xd=pn()),Xd}function d5(u){return u==null||typeof u=="symbol"||typeof u=="boolean"?null:typeof u=="function"?u:Ft(""+u)}function h5(u,m){var x=m.ownerDocument.createElement("input");return x.name=m.name,x.value=m.value,u.id&&x.setAttribute("form",u.id),m.parentNode.insertBefore(x,m),u=new FormData(u),x.parentNode.removeChild(x),u}function CH(u,m,x,E,L){if(m==="submit"&&x&&x.stateNode===L){var W=d5((L[ns]||null).action),ve=E.submitter;ve&&(m=(m=ve[ns]||null)?d5(m.formAction):ve.getAttribute("formAction"),m!==null&&(W=m,ve=null));var Me=new Pe("action","action",null,E,L);u.push({event:Me,listeners:[{instance:null,listener:function(){if(E.defaultPrevented){if(Xd!==0){var at=ve?h5(L,ve):new FormData(L);p2(x,{pending:!0,data:at,method:L.method,action:W},null,at)}}else typeof W=="function"&&(Me.preventDefault(),at=ve?h5(L,ve):new FormData(L),p2(x,{pending:!0,data:at,method:L.method,action:W},W,at))},currentTarget:L}]})}}for(var X2=0;X2<el.length;X2++){var K2=el[X2],SH=K2.toLowerCase(),jH=K2[0].toUpperCase()+K2.slice(1);$o(SH,"on"+jH)}$o(Ks,"onAnimationEnd"),$o(qi,"onAnimationIteration"),$o(wo,"onAnimationStart"),$o("dblclick","onDoubleClick"),$o("focusin","onFocus"),$o("focusout","onBlur"),$o(to,"onTransitionRun"),$o(ir,"onTransitionStart"),$o(Ni,"onTransitionCancel"),$o(no,"onTransitionEnd"),Ts("onMouseEnter",["mouseout","mouseover"]),Ts("onMouseLeave",["mouseout","mouseover"]),Ts("onPointerEnter",["pointerout","pointerover"]),Ts("onPointerLeave",["pointerout","pointerover"]),Vs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Vs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Vs("onBeforeInput",["compositionend","keypress","textInput","paste"]),Vs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Vs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Vs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rp="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),NH=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Rp));function f5(u,m){m=(m&4)!==0;for(var x=0;x<u.length;x++){var E=u[x],L=E.event;E=E.listeners;e:{var W=void 0;if(m)for(var ve=E.length-1;0<=ve;ve--){var Me=E[ve],at=Me.instance,kt=Me.currentTarget;if(Me=Me.listener,at!==W&&L.isPropagationStopped())break e;W=Me,L.currentTarget=kt;try{W(L)}catch(en){e_(en)}L.currentTarget=null,W=at}else for(ve=0;ve<E.length;ve++){if(Me=E[ve],at=Me.instance,kt=Me.currentTarget,Me=Me.listener,at!==W&&L.isPropagationStopped())break e;W=Me,L.currentTarget=kt;try{W(L)}catch(en){e_(en)}L.currentTarget=null,W=at}}}}function Sa(u,m){var x=m[_s];x===void 0&&(x=m[_s]=new Set);var E=u+"__bubble";x.has(E)||(m5(m,u,2,!1),x.add(E))}function Z2(u,m,x){var E=0;m&&(E|=4),m5(x,u,E,m)}var m_="_reactListening"+Math.random().toString(36).slice(2);function J2(u){if(!u[m_]){u[m_]=!0,Pa.forEach(function(x){x!=="selectionchange"&&(NH.has(x)||Z2(x,!1,u),Z2(x,!0,u))});var m=u.nodeType===9?u:u.ownerDocument;m===null||m[m_]||(m[m_]=!0,Z2("selectionchange",!1,m))}}function m5(u,m,x,E){switch($5(m)){case 2:var L=JH;break;case 8:L=ez;break;default:L=fw}x=L.bind(null,m,x,u),L=void 0,!wt||m!=="touchstart"&&m!=="touchmove"&&m!=="wheel"||(L=!0),E?L!==void 0?u.addEventListener(m,x,{capture:!0,passive:L}):u.addEventListener(m,x,!0):L!==void 0?u.addEventListener(m,x,{passive:L}):u.addEventListener(m,x,!1)}function ew(u,m,x,E,L){var W=E;if((m&1)===0&&(m&2)===0&&E!==null)e:for(;;){if(E===null)return;var ve=E.tag;if(ve===3||ve===4){var Me=E.stateNode.containerInfo;if(Me===L)break;if(ve===4)for(ve=E.return;ve!==null;){var at=ve.tag;if((at===3||at===4)&&ve.stateNode.containerInfo===L)return;ve=ve.return}for(;Me!==null;){if(ve=Hn(Me),ve===null)return;if(at=ve.tag,at===5||at===6||at===26||at===27){E=W=ve;continue e}Me=Me.parentNode}}E=E.return}ss(function(){var kt=W,en=gn(x),un=[];e:{var Tt=$l.get(u);if(Tt!==void 0){var $t=Pe,Ps=u;switch(u){case"keypress":if(tr(x)===0)break e;case"keydown":case"keyup":$t=Rl;break;case"focusin":Ps="focus",$t=Oe;break;case"focusout":Ps="blur",$t=Oe;break;case"beforeblur":case"afterblur":$t=Oe;break;case"click":if(x.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":$t=Cs;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":$t=jn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":$t=rr;break;case Ks:case qi:case wo:$t=gt;break;case no:$t=Ty;break;case"scroll":case"scrollend":$t=ft;break;case"wheel":$t=Bl;break;case"copy":case"cut":case"paste":$t=Vt;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":$t=Rd;break;case"toggle":case"beforetoggle":$t=Ay}var Ms=(m&4)!==0,gr=!Ms&&(u==="scroll"||u==="scrollend"),xt=Ms?Tt!==null?Tt+"Capture":null:Tt;Ms=[];for(var ht=kt,jt;ht!==null;){var sn=ht;if(jt=sn.stateNode,sn=sn.tag,sn!==5&&sn!==26&&sn!==27||jt===null||xt===null||(sn=Qt(ht,xt),sn!=null&&Ms.push(Op(ht,sn,jt))),gr)break;ht=ht.return}0<Ms.length&&(Tt=new $t(Tt,Ps,null,x,en),un.push({event:Tt,listeners:Ms}))}}if((m&7)===0){e:{if(Tt=u==="mouseover"||u==="pointerover",$t=u==="mouseout"||u==="pointerout",Tt&&x!==En&&(Ps=x.relatedTarget||x.fromElement)&&(Hn(Ps)||Ps[us]))break e;if(($t||Tt)&&(Tt=en.window===en?en:(Tt=en.ownerDocument)?Tt.defaultView||Tt.parentWindow:window,$t?(Ps=x.relatedTarget||x.toElement,$t=kt,Ps=Ps?Hn(Ps):null,Ps!==null&&(gr=i(Ps),Ms=Ps.tag,Ps!==gr||Ms!==5&&Ms!==27&&Ms!==6)&&(Ps=null)):($t=null,Ps=kt),$t!==Ps)){if(Ms=Cs,sn="onMouseLeave",xt="onMouseEnter",ht="mouse",(u==="pointerout"||u==="pointerover")&&(Ms=Rd,sn="onPointerLeave",xt="onPointerEnter",ht="pointer"),gr=$t==null?Tt:Ys($t),jt=Ps==null?Tt:Ys(Ps),Tt=new Ms(sn,ht+"leave",$t,x,en),Tt.target=gr,Tt.relatedTarget=jt,sn=null,Hn(en)===kt&&(Ms=new Ms(xt,ht+"enter",Ps,x,en),Ms.target=jt,Ms.relatedTarget=gr,sn=Ms),gr=sn,$t&&Ps)t:{for(Ms=$t,xt=Ps,ht=0,jt=Ms;jt;jt=Cf(jt))ht++;for(jt=0,sn=xt;sn;sn=Cf(sn))jt++;for(;0<ht-jt;)Ms=Cf(Ms),ht--;for(;0<jt-ht;)xt=Cf(xt),jt--;for(;ht--;){if(Ms===xt||xt!==null&&Ms===xt.alternate)break t;Ms=Cf(Ms),xt=Cf(xt)}Ms=null}else Ms=null;$t!==null&&p5(un,Tt,$t,Ms,!1),Ps!==null&&gr!==null&&p5(un,gr,Ps,Ms,!0)}}e:{if(Tt=kt?Ys(kt):window,$t=Tt.nodeName&&Tt.nodeName.toLowerCase(),$t==="select"||$t==="input"&&Tt.type==="file")var ms=I0;else if(Ld(Tt))if(ip)ms=p;else{ms=we;var ba=Jh}else $t=Tt.nodeName,!$t||$t.toLowerCase()!=="input"||Tt.type!=="checkbox"&&Tt.type!=="radio"?kt&&Ke(kt.elementType)&&(ms=I0):ms=h;if(ms&&(ms=ms(u,kt))){po(un,ms,x,en);break e}ba&&ba(u,Tt,kt),u==="focusout"&&kt&&Tt.type==="number"&&kt.memoizedProps.value!=null&&rt(Tt,"number",Tt.value)}switch(ba=kt?Ys(kt):window,u){case"focusin":(Ld(ba)||ba.contentEditable==="true")&&(ke=ba,qe=kt,ot=null);break;case"focusout":ot=qe=ke=null;break;case"mousedown":lt=!0;break;case"contextmenu":case"mouseup":case"dragend":lt=!1,Ct(un,x,en);break;case"selectionchange":if(Ce)break;case"keydown":case"keyup":Ct(un,x,en)}var js;if(Od)e:{switch(u){case"compositionstart":var Os="onCompositionStart";break e;case"compositionend":Os="onCompositionEnd";break e;case"compositionupdate":Os="onCompositionUpdate";break e}Os=void 0}else ku?Ll(u,x)&&(Os="onCompositionEnd"):u==="keydown"&&x.keyCode===229&&(Os="onCompositionStart");Os&&(ap&&x.locale!=="ko"&&(ku||Os!=="onCompositionStart"?Os==="onCompositionEnd"&&ku&&(js=ua()):(Bn=en,vs="value"in Bn?Bn.value:Bn.textContent,ku=!0)),ba=p_(kt,Os),0<ba.length&&(Os=new Jn(Os,u,null,x,en),un.push({event:Os,listeners:ba}),js?Os.data=js:(js=Kh(x),js!==null&&(Os.data=js)))),(js=sp?Bd(u,x):My(u,x))&&(Os=p_(kt,"onBeforeInput"),0<Os.length&&(ba=new Jn("onBeforeInput","beforeinput",null,x,en),un.push({event:ba,listeners:Os}),ba.data=js)),CH(un,u,kt,x,en)}f5(un,m)})}function Op(u,m,x){return{instance:u,listener:m,currentTarget:x}}function p_(u,m){for(var x=m+"Capture",E=[];u!==null;){var L=u,W=L.stateNode;if(L=L.tag,L!==5&&L!==26&&L!==27||W===null||(L=Qt(u,x),L!=null&&E.unshift(Op(u,L,W)),L=Qt(u,m),L!=null&&E.push(Op(u,L,W))),u.tag===3)return E;u=u.return}return[]}function Cf(u){if(u===null)return null;do u=u.return;while(u&&u.tag!==5&&u.tag!==27);return u||null}function p5(u,m,x,E,L){for(var W=m._reactName,ve=[];x!==null&&x!==E;){var Me=x,at=Me.alternate,kt=Me.stateNode;if(Me=Me.tag,at!==null&&at===E)break;Me!==5&&Me!==26&&Me!==27||kt===null||(at=kt,L?(kt=Qt(x,W),kt!=null&&ve.unshift(Op(x,kt,at))):L||(kt=Qt(x,W),kt!=null&&ve.push(Op(x,kt,at)))),x=x.return}ve.length!==0&&u.push({event:m,listeners:ve})}var EH=/\r\n?/g,kH=/\u0000|\uFFFD/g;function g5(u){return(typeof u=="string"?u:""+u).replace(EH,`
`).replace(kH,"")}function _5(u,m){return m=g5(m),g5(u)===m}function g_(){}function pr(u,m,x,E,L,W){switch(x){case"children":typeof E=="string"?m==="body"||m==="textarea"&&E===""||Wt(u,E):(typeof E=="number"||typeof E=="bigint")&&m!=="body"&&Wt(u,""+E);break;case"className":Kn(u,"class",E);break;case"tabIndex":Kn(u,"tabindex",E);break;case"dir":case"role":case"viewBox":case"width":case"height":Kn(u,x,E);break;case"style":Ze(u,E,W);break;case"data":if(m!=="object"){Kn(u,"data",E);break}case"src":case"href":if(E===""&&(m!=="a"||x!=="href")){u.removeAttribute(x);break}if(E==null||typeof E=="function"||typeof E=="symbol"||typeof E=="boolean"){u.removeAttribute(x);break}E=Ft(""+E),u.setAttribute(x,E);break;case"action":case"formAction":if(typeof E=="function"){u.setAttribute(x,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof W=="function"&&(x==="formAction"?(m!=="input"&&pr(u,m,"name",L.name,L,null),pr(u,m,"formEncType",L.formEncType,L,null),pr(u,m,"formMethod",L.formMethod,L,null),pr(u,m,"formTarget",L.formTarget,L,null)):(pr(u,m,"encType",L.encType,L,null),pr(u,m,"method",L.method,L,null),pr(u,m,"target",L.target,L,null)));if(E==null||typeof E=="symbol"||typeof E=="boolean"){u.removeAttribute(x);break}E=Ft(""+E),u.setAttribute(x,E);break;case"onClick":E!=null&&(u.onclick=g_);break;case"onScroll":E!=null&&Sa("scroll",u);break;case"onScrollEnd":E!=null&&Sa("scrollend",u);break;case"dangerouslySetInnerHTML":if(E!=null){if(typeof E!="object"||!("__html"in E))throw Error(a(61));if(x=E.__html,x!=null){if(L.children!=null)throw Error(a(60));u.innerHTML=x}}break;case"multiple":u.multiple=E&&typeof E!="function"&&typeof E!="symbol";break;case"muted":u.muted=E&&typeof E!="function"&&typeof E!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(E==null||typeof E=="function"||typeof E=="boolean"||typeof E=="symbol"){u.removeAttribute("xlink:href");break}x=Ft(""+E),u.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",x);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":E!=null&&typeof E!="function"&&typeof E!="symbol"?u.setAttribute(x,""+E):u.removeAttribute(x);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":E&&typeof E!="function"&&typeof E!="symbol"?u.setAttribute(x,""):u.removeAttribute(x);break;case"capture":case"download":E===!0?u.setAttribute(x,""):E!==!1&&E!=null&&typeof E!="function"&&typeof E!="symbol"?u.setAttribute(x,E):u.removeAttribute(x);break;case"cols":case"rows":case"size":case"span":E!=null&&typeof E!="function"&&typeof E!="symbol"&&!isNaN(E)&&1<=E?u.setAttribute(x,E):u.removeAttribute(x);break;case"rowSpan":case"start":E==null||typeof E=="function"||typeof E=="symbol"||isNaN(E)?u.removeAttribute(x):u.setAttribute(x,E);break;case"popover":Sa("beforetoggle",u),Sa("toggle",u),zt(u,"popover",E);break;case"xlinkActuate":Es(u,"http://www.w3.org/1999/xlink","xlink:actuate",E);break;case"xlinkArcrole":Es(u,"http://www.w3.org/1999/xlink","xlink:arcrole",E);break;case"xlinkRole":Es(u,"http://www.w3.org/1999/xlink","xlink:role",E);break;case"xlinkShow":Es(u,"http://www.w3.org/1999/xlink","xlink:show",E);break;case"xlinkTitle":Es(u,"http://www.w3.org/1999/xlink","xlink:title",E);break;case"xlinkType":Es(u,"http://www.w3.org/1999/xlink","xlink:type",E);break;case"xmlBase":Es(u,"http://www.w3.org/XML/1998/namespace","xml:base",E);break;case"xmlLang":Es(u,"http://www.w3.org/XML/1998/namespace","xml:lang",E);break;case"xmlSpace":Es(u,"http://www.w3.org/XML/1998/namespace","xml:space",E);break;case"is":zt(u,"is",E);break;case"innerText":case"textContent":break;default:(!(2<x.length)||x[0]!=="o"&&x[0]!=="O"||x[1]!=="n"&&x[1]!=="N")&&(x=it.get(x)||x,zt(u,x,E))}}function tw(u,m,x,E,L,W){switch(x){case"style":Ze(u,E,W);break;case"dangerouslySetInnerHTML":if(E!=null){if(typeof E!="object"||!("__html"in E))throw Error(a(61));if(x=E.__html,x!=null){if(L.children!=null)throw Error(a(60));u.innerHTML=x}}break;case"children":typeof E=="string"?Wt(u,E):(typeof E=="number"||typeof E=="bigint")&&Wt(u,""+E);break;case"onScroll":E!=null&&Sa("scroll",u);break;case"onScrollEnd":E!=null&&Sa("scrollend",u);break;case"onClick":E!=null&&(u.onclick=g_);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ar.hasOwnProperty(x))e:{if(x[0]==="o"&&x[1]==="n"&&(L=x.endsWith("Capture"),m=x.slice(2,L?x.length-7:void 0),W=u[ns]||null,W=W!=null?W[x]:null,typeof W=="function"&&u.removeEventListener(m,W,L),typeof E=="function")){typeof W!="function"&&W!==null&&(x in u?u[x]=null:u.hasAttribute(x)&&u.removeAttribute(x)),u.addEventListener(m,E,L);break e}x in u?u[x]=E:E===!0?u.setAttribute(x,""):zt(u,x,E)}}}function Yi(u,m,x){switch(m){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Sa("error",u),Sa("load",u);var E=!1,L=!1,W;for(W in x)if(x.hasOwnProperty(W)){var ve=x[W];if(ve!=null)switch(W){case"src":E=!0;break;case"srcSet":L=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,m));default:pr(u,m,W,ve,x,null)}}L&&pr(u,m,"srcSet",x.srcSet,x,null),E&&pr(u,m,"src",x.src,x,null);return;case"input":Sa("invalid",u);var Me=W=ve=L=null,at=null,kt=null;for(E in x)if(x.hasOwnProperty(E)){var en=x[E];if(en!=null)switch(E){case"name":L=en;break;case"type":ve=en;break;case"checked":at=en;break;case"defaultChecked":kt=en;break;case"value":W=en;break;case"defaultValue":Me=en;break;case"children":case"dangerouslySetInnerHTML":if(en!=null)throw Error(a(137,m));break;default:pr(u,m,E,en,x,null)}}Fn(u,W,Me,at,kt,ve,L,!1),fr(u);return;case"select":Sa("invalid",u),E=ve=W=null;for(L in x)if(x.hasOwnProperty(L)&&(Me=x[L],Me!=null))switch(L){case"value":W=Me;break;case"defaultValue":ve=Me;break;case"multiple":E=Me;default:pr(u,m,L,Me,x,null)}m=W,x=ve,u.multiple=!!E,m!=null?Be(u,!!E,m,!1):x!=null&&Be(u,!!E,x,!0);return;case"textarea":Sa("invalid",u),W=L=E=null;for(ve in x)if(x.hasOwnProperty(ve)&&(Me=x[ve],Me!=null))switch(ve){case"value":E=Me;break;case"defaultValue":L=Me;break;case"children":W=Me;break;case"dangerouslySetInnerHTML":if(Me!=null)throw Error(a(91));break;default:pr(u,m,ve,Me,x,null)}Dt(u,E,L,W),fr(u);return;case"option":for(at in x)if(x.hasOwnProperty(at)&&(E=x[at],E!=null))switch(at){case"selected":u.selected=E&&typeof E!="function"&&typeof E!="symbol";break;default:pr(u,m,at,E,x,null)}return;case"dialog":Sa("beforetoggle",u),Sa("toggle",u),Sa("cancel",u),Sa("close",u);break;case"iframe":case"object":Sa("load",u);break;case"video":case"audio":for(E=0;E<Rp.length;E++)Sa(Rp[E],u);break;case"image":Sa("error",u),Sa("load",u);break;case"details":Sa("toggle",u);break;case"embed":case"source":case"link":Sa("error",u),Sa("load",u);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(kt in x)if(x.hasOwnProperty(kt)&&(E=x[kt],E!=null))switch(kt){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,m));default:pr(u,m,kt,E,x,null)}return;default:if(Ke(m)){for(en in x)x.hasOwnProperty(en)&&(E=x[en],E!==void 0&&tw(u,m,en,E,x,void 0));return}}for(Me in x)x.hasOwnProperty(Me)&&(E=x[Me],E!=null&&pr(u,m,Me,E,x,null))}function IH(u,m,x,E){switch(m){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var L=null,W=null,ve=null,Me=null,at=null,kt=null,en=null;for($t in x){var un=x[$t];if(x.hasOwnProperty($t)&&un!=null)switch($t){case"checked":break;case"value":break;case"defaultValue":at=un;default:E.hasOwnProperty($t)||pr(u,m,$t,null,E,un)}}for(var Tt in E){var $t=E[Tt];if(un=x[Tt],E.hasOwnProperty(Tt)&&($t!=null||un!=null))switch(Tt){case"type":W=$t;break;case"name":L=$t;break;case"checked":kt=$t;break;case"defaultChecked":en=$t;break;case"value":ve=$t;break;case"defaultValue":Me=$t;break;case"children":case"dangerouslySetInnerHTML":if($t!=null)throw Error(a(137,m));break;default:$t!==un&&pr(u,m,Tt,$t,E,un)}}As(u,ve,Me,at,kt,en,W,L);return;case"select":$t=ve=Me=Tt=null;for(W in x)if(at=x[W],x.hasOwnProperty(W)&&at!=null)switch(W){case"value":break;case"multiple":$t=at;default:E.hasOwnProperty(W)||pr(u,m,W,null,E,at)}for(L in E)if(W=E[L],at=x[L],E.hasOwnProperty(L)&&(W!=null||at!=null))switch(L){case"value":Tt=W;break;case"defaultValue":Me=W;break;case"multiple":ve=W;default:W!==at&&pr(u,m,L,W,E,at)}m=Me,x=ve,E=$t,Tt!=null?Be(u,!!x,Tt,!1):!!E!=!!x&&(m!=null?Be(u,!!x,m,!0):Be(u,!!x,x?[]:"",!1));return;case"textarea":$t=Tt=null;for(Me in x)if(L=x[Me],x.hasOwnProperty(Me)&&L!=null&&!E.hasOwnProperty(Me))switch(Me){case"value":break;case"children":break;default:pr(u,m,Me,null,E,L)}for(ve in E)if(L=E[ve],W=x[ve],E.hasOwnProperty(ve)&&(L!=null||W!=null))switch(ve){case"value":Tt=L;break;case"defaultValue":$t=L;break;case"children":break;case"dangerouslySetInnerHTML":if(L!=null)throw Error(a(91));break;default:L!==W&&pr(u,m,ve,L,E,W)}Ye(u,Tt,$t);return;case"option":for(var Ps in x)if(Tt=x[Ps],x.hasOwnProperty(Ps)&&Tt!=null&&!E.hasOwnProperty(Ps))switch(Ps){case"selected":u.selected=!1;break;default:pr(u,m,Ps,null,E,Tt)}for(at in E)if(Tt=E[at],$t=x[at],E.hasOwnProperty(at)&&Tt!==$t&&(Tt!=null||$t!=null))switch(at){case"selected":u.selected=Tt&&typeof Tt!="function"&&typeof Tt!="symbol";break;default:pr(u,m,at,Tt,E,$t)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ms in x)Tt=x[Ms],x.hasOwnProperty(Ms)&&Tt!=null&&!E.hasOwnProperty(Ms)&&pr(u,m,Ms,null,E,Tt);for(kt in E)if(Tt=E[kt],$t=x[kt],E.hasOwnProperty(kt)&&Tt!==$t&&(Tt!=null||$t!=null))switch(kt){case"children":case"dangerouslySetInnerHTML":if(Tt!=null)throw Error(a(137,m));break;default:pr(u,m,kt,Tt,E,$t)}return;default:if(Ke(m)){for(var gr in x)Tt=x[gr],x.hasOwnProperty(gr)&&Tt!==void 0&&!E.hasOwnProperty(gr)&&tw(u,m,gr,void 0,E,Tt);for(en in E)Tt=E[en],$t=x[en],!E.hasOwnProperty(en)||Tt===$t||Tt===void 0&&$t===void 0||tw(u,m,en,Tt,E,$t);return}}for(var xt in x)Tt=x[xt],x.hasOwnProperty(xt)&&Tt!=null&&!E.hasOwnProperty(xt)&&pr(u,m,xt,null,E,Tt);for(un in E)Tt=E[un],$t=x[un],!E.hasOwnProperty(un)||Tt===$t||Tt==null&&$t==null||pr(u,m,un,Tt,E,$t)}var nw=null,sw=null;function __(u){return u.nodeType===9?u:u.ownerDocument}function v5(u){switch(u){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function x5(u,m){if(u===0)switch(m){case"svg":return 1;case"math":return 2;default:return 0}return u===1&&m==="foreignObject"?0:u}function aw(u,m){return u==="textarea"||u==="noscript"||typeof m.children=="string"||typeof m.children=="number"||typeof m.children=="bigint"||typeof m.dangerouslySetInnerHTML=="object"&&m.dangerouslySetInnerHTML!==null&&m.dangerouslySetInnerHTML.__html!=null}var rw=null;function DH(){var u=window.event;return u&&u.type==="popstate"?u===rw?!1:(rw=u,!0):(rw=null,!1)}var b5=typeof setTimeout=="function"?setTimeout:void 0,TH=typeof clearTimeout=="function"?clearTimeout:void 0,y5=typeof Promise=="function"?Promise:void 0,AH=typeof queueMicrotask=="function"?queueMicrotask:typeof y5<"u"?function(u){return y5.resolve(null).then(u).catch(MH)}:b5;function MH(u){setTimeout(function(){throw u})}function Yu(u){return u==="head"}function w5(u,m){var x=m,E=0,L=0;do{var W=x.nextSibling;if(u.removeChild(x),W&&W.nodeType===8)if(x=W.data,x==="/$"){if(0<E&&8>E){x=E;var ve=u.ownerDocument;if(x&1&&Bp(ve.documentElement),x&2&&Bp(ve.body),x&4)for(x=ve.head,Bp(x),ve=x.firstChild;ve;){var Me=ve.nextSibling,at=ve.nodeName;ve[ra]||at==="SCRIPT"||at==="STYLE"||at==="LINK"&&ve.rel.toLowerCase()==="stylesheet"||x.removeChild(ve),ve=Me}}if(L===0){u.removeChild(W),qp(m);return}L--}else x==="$"||x==="$?"||x==="$!"?L++:E=x.charCodeAt(0)-48;else E=0;x=W}while(x);qp(m)}function iw(u){var m=u.firstChild;for(m&&m.nodeType===10&&(m=m.nextSibling);m;){var x=m;switch(m=m.nextSibling,x.nodeName){case"HTML":case"HEAD":case"BODY":iw(x),xa(x);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(x.rel.toLowerCase()==="stylesheet")continue}u.removeChild(x)}}function RH(u,m,x,E){for(;u.nodeType===1;){var L=x;if(u.nodeName.toLowerCase()!==m.toLowerCase()){if(!E&&(u.nodeName!=="INPUT"||u.type!=="hidden"))break}else if(E){if(!u[ra])switch(m){case"meta":if(!u.hasAttribute("itemprop"))break;return u;case"link":if(W=u.getAttribute("rel"),W==="stylesheet"&&u.hasAttribute("data-precedence"))break;if(W!==L.rel||u.getAttribute("href")!==(L.href==null||L.href===""?null:L.href)||u.getAttribute("crossorigin")!==(L.crossOrigin==null?null:L.crossOrigin)||u.getAttribute("title")!==(L.title==null?null:L.title))break;return u;case"style":if(u.hasAttribute("data-precedence"))break;return u;case"script":if(W=u.getAttribute("src"),(W!==(L.src==null?null:L.src)||u.getAttribute("type")!==(L.type==null?null:L.type)||u.getAttribute("crossorigin")!==(L.crossOrigin==null?null:L.crossOrigin))&&W&&u.hasAttribute("async")&&!u.hasAttribute("itemprop"))break;return u;default:return u}}else if(m==="input"&&u.type==="hidden"){var W=L.name==null?null:""+L.name;if(L.type==="hidden"&&u.getAttribute("name")===W)return u}else return u;if(u=Ac(u.nextSibling),u===null)break}return null}function OH(u,m,x){if(m==="")return null;for(;u.nodeType!==3;)if((u.nodeType!==1||u.nodeName!=="INPUT"||u.type!=="hidden")&&!x||(u=Ac(u.nextSibling),u===null))return null;return u}function ow(u){return u.data==="$!"||u.data==="$?"&&u.ownerDocument.readyState==="complete"}function BH(u,m){var x=u.ownerDocument;if(u.data!=="$?"||x.readyState==="complete")m();else{var E=function(){m(),x.removeEventListener("DOMContentLoaded",E)};x.addEventListener("DOMContentLoaded",E),u._reactRetry=E}}function Ac(u){for(;u!=null;u=u.nextSibling){var m=u.nodeType;if(m===1||m===3)break;if(m===8){if(m=u.data,m==="$"||m==="$!"||m==="$?"||m==="F!"||m==="F")break;if(m==="/$")return null}}return u}var cw=null;function C5(u){u=u.previousSibling;for(var m=0;u;){if(u.nodeType===8){var x=u.data;if(x==="$"||x==="$!"||x==="$?"){if(m===0)return u;m--}else x==="/$"&&m++}u=u.previousSibling}return null}function S5(u,m,x){switch(m=__(x),u){case"html":if(u=m.documentElement,!u)throw Error(a(452));return u;case"head":if(u=m.head,!u)throw Error(a(453));return u;case"body":if(u=m.body,!u)throw Error(a(454));return u;default:throw Error(a(451))}}function Bp(u){for(var m=u.attributes;m.length;)u.removeAttributeNode(m[0]);xa(u)}var dc=new Map,j5=new Set;function v_(u){return typeof u.getRootNode=="function"?u.getRootNode():u.nodeType===9?u:u.ownerDocument}var Kl=T.d;T.d={f:LH,r:$H,D:PH,C:FH,L:HH,m:zH,X:qH,S:VH,M:UH};function LH(){var u=Kl.f(),m=l_();return u||m}function $H(u){var m=ya(u);m!==null&&m.tag===5&&m.type==="form"?U6(m):Kl.r(u)}var Sf=typeof document>"u"?null:document;function N5(u,m,x){var E=Sf;if(E&&typeof m=="string"&&m){var L=na(m);L='link[rel="'+u+'"][href="'+L+'"]',typeof x=="string"&&(L+='[crossorigin="'+x+'"]'),j5.has(L)||(j5.add(L),u={rel:u,crossOrigin:x,href:m},E.querySelector(L)===null&&(m=E.createElement("link"),Yi(m,"link",u),gs(m),E.head.appendChild(m)))}}function PH(u){Kl.D(u),N5("dns-prefetch",u,null)}function FH(u,m){Kl.C(u,m),N5("preconnect",u,m)}function HH(u,m,x){Kl.L(u,m,x);var E=Sf;if(E&&u&&m){var L='link[rel="preload"][as="'+na(m)+'"]';m==="image"&&x&&x.imageSrcSet?(L+='[imagesrcset="'+na(x.imageSrcSet)+'"]',typeof x.imageSizes=="string"&&(L+='[imagesizes="'+na(x.imageSizes)+'"]')):L+='[href="'+na(u)+'"]';var W=L;switch(m){case"style":W=jf(u);break;case"script":W=Nf(u)}dc.has(W)||(u=f({rel:"preload",href:m==="image"&&x&&x.imageSrcSet?void 0:u,as:m},x),dc.set(W,u),E.querySelector(L)!==null||m==="style"&&E.querySelector(Lp(W))||m==="script"&&E.querySelector($p(W))||(m=E.createElement("link"),Yi(m,"link",u),gs(m),E.head.appendChild(m)))}}function zH(u,m){Kl.m(u,m);var x=Sf;if(x&&u){var E=m&&typeof m.as=="string"?m.as:"script",L='link[rel="modulepreload"][as="'+na(E)+'"][href="'+na(u)+'"]',W=L;switch(E){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":W=Nf(u)}if(!dc.has(W)&&(u=f({rel:"modulepreload",href:u},m),dc.set(W,u),x.querySelector(L)===null)){switch(E){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(x.querySelector($p(W)))return}E=x.createElement("link"),Yi(E,"link",u),gs(E),x.head.appendChild(E)}}}function VH(u,m,x){Kl.S(u,m,x);var E=Sf;if(E&&u){var L=Js(E).hoistableStyles,W=jf(u);m=m||"default";var ve=L.get(W);if(!ve){var Me={loading:0,preload:null};if(ve=E.querySelector(Lp(W)))Me.loading=5;else{u=f({rel:"stylesheet",href:u,"data-precedence":m},x),(x=dc.get(W))&&lw(u,x);var at=ve=E.createElement("link");gs(at),Yi(at,"link",u),at._p=new Promise(function(kt,en){at.onload=kt,at.onerror=en}),at.addEventListener("load",function(){Me.loading|=1}),at.addEventListener("error",function(){Me.loading|=2}),Me.loading|=4,x_(ve,m,E)}ve={type:"stylesheet",instance:ve,count:1,state:Me},L.set(W,ve)}}}function qH(u,m){Kl.X(u,m);var x=Sf;if(x&&u){var E=Js(x).hoistableScripts,L=Nf(u),W=E.get(L);W||(W=x.querySelector($p(L)),W||(u=f({src:u,async:!0},m),(m=dc.get(L))&&uw(u,m),W=x.createElement("script"),gs(W),Yi(W,"link",u),x.head.appendChild(W)),W={type:"script",instance:W,count:1,state:null},E.set(L,W))}}function UH(u,m){Kl.M(u,m);var x=Sf;if(x&&u){var E=Js(x).hoistableScripts,L=Nf(u),W=E.get(L);W||(W=x.querySelector($p(L)),W||(u=f({src:u,async:!0,type:"module"},m),(m=dc.get(L))&&uw(u,m),W=x.createElement("script"),gs(W),Yi(W,"link",u),x.head.appendChild(W)),W={type:"script",instance:W,count:1,state:null},E.set(L,W))}}function E5(u,m,x,E){var L=(L=ae.current)?v_(L):null;if(!L)throw Error(a(446));switch(u){case"meta":case"title":return null;case"style":return typeof x.precedence=="string"&&typeof x.href=="string"?(m=jf(x.href),x=Js(L).hoistableStyles,E=x.get(m),E||(E={type:"style",instance:null,count:0,state:null},x.set(m,E)),E):{type:"void",instance:null,count:0,state:null};case"link":if(x.rel==="stylesheet"&&typeof x.href=="string"&&typeof x.precedence=="string"){u=jf(x.href);var W=Js(L).hoistableStyles,ve=W.get(u);if(ve||(L=L.ownerDocument||L,ve={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},W.set(u,ve),(W=L.querySelector(Lp(u)))&&!W._p&&(ve.instance=W,ve.state.loading=5),dc.has(u)||(x={rel:"preload",as:"style",href:x.href,crossOrigin:x.crossOrigin,integrity:x.integrity,media:x.media,hrefLang:x.hrefLang,referrerPolicy:x.referrerPolicy},dc.set(u,x),W||WH(L,u,x,ve.state))),m&&E===null)throw Error(a(528,""));return ve}if(m&&E!==null)throw Error(a(529,""));return null;case"script":return m=x.async,x=x.src,typeof x=="string"&&m&&typeof m!="function"&&typeof m!="symbol"?(m=Nf(x),x=Js(L).hoistableScripts,E=x.get(m),E||(E={type:"script",instance:null,count:0,state:null},x.set(m,E)),E):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,u))}}function jf(u){return'href="'+na(u)+'"'}function Lp(u){return'link[rel="stylesheet"]['+u+"]"}function k5(u){return f({},u,{"data-precedence":u.precedence,precedence:null})}function WH(u,m,x,E){u.querySelector('link[rel="preload"][as="style"]['+m+"]")?E.loading=1:(m=u.createElement("link"),E.preload=m,m.addEventListener("load",function(){return E.loading|=1}),m.addEventListener("error",function(){return E.loading|=2}),Yi(m,"link",x),gs(m),u.head.appendChild(m))}function Nf(u){return'[src="'+na(u)+'"]'}function $p(u){return"script[async]"+u}function I5(u,m,x){if(m.count++,m.instance===null)switch(m.type){case"style":var E=u.querySelector('style[data-href~="'+na(x.href)+'"]');if(E)return m.instance=E,gs(E),E;var L=f({},x,{"data-href":x.href,"data-precedence":x.precedence,href:null,precedence:null});return E=(u.ownerDocument||u).createElement("style"),gs(E),Yi(E,"style",L),x_(E,x.precedence,u),m.instance=E;case"stylesheet":L=jf(x.href);var W=u.querySelector(Lp(L));if(W)return m.state.loading|=4,m.instance=W,gs(W),W;E=k5(x),(L=dc.get(L))&&lw(E,L),W=(u.ownerDocument||u).createElement("link"),gs(W);var ve=W;return ve._p=new Promise(function(Me,at){ve.onload=Me,ve.onerror=at}),Yi(W,"link",E),m.state.loading|=4,x_(W,x.precedence,u),m.instance=W;case"script":return W=Nf(x.src),(L=u.querySelector($p(W)))?(m.instance=L,gs(L),L):(E=x,(L=dc.get(W))&&(E=f({},x),uw(E,L)),u=u.ownerDocument||u,L=u.createElement("script"),gs(L),Yi(L,"link",E),u.head.appendChild(L),m.instance=L);case"void":return null;default:throw Error(a(443,m.type))}else m.type==="stylesheet"&&(m.state.loading&4)===0&&(E=m.instance,m.state.loading|=4,x_(E,x.precedence,u));return m.instance}function x_(u,m,x){for(var E=x.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),L=E.length?E[E.length-1]:null,W=L,ve=0;ve<E.length;ve++){var Me=E[ve];if(Me.dataset.precedence===m)W=Me;else if(W!==L)break}W?W.parentNode.insertBefore(u,W.nextSibling):(m=x.nodeType===9?x.head:x,m.insertBefore(u,m.firstChild))}function lw(u,m){u.crossOrigin==null&&(u.crossOrigin=m.crossOrigin),u.referrerPolicy==null&&(u.referrerPolicy=m.referrerPolicy),u.title==null&&(u.title=m.title)}function uw(u,m){u.crossOrigin==null&&(u.crossOrigin=m.crossOrigin),u.referrerPolicy==null&&(u.referrerPolicy=m.referrerPolicy),u.integrity==null&&(u.integrity=m.integrity)}var b_=null;function D5(u,m,x){if(b_===null){var E=new Map,L=b_=new Map;L.set(x,E)}else L=b_,E=L.get(x),E||(E=new Map,L.set(x,E));if(E.has(u))return E;for(E.set(u,null),x=x.getElementsByTagName(u),L=0;L<x.length;L++){var W=x[L];if(!(W[ra]||W[vn]||u==="link"&&W.getAttribute("rel")==="stylesheet")&&W.namespaceURI!=="http://www.w3.org/2000/svg"){var ve=W.getAttribute(m)||"";ve=u+ve;var Me=E.get(ve);Me?Me.push(W):E.set(ve,[W])}}return E}function T5(u,m,x){u=u.ownerDocument||u,u.head.insertBefore(x,m==="title"?u.querySelector("head > title"):null)}function YH(u,m,x){if(x===1||m.itemProp!=null)return!1;switch(u){case"meta":case"title":return!0;case"style":if(typeof m.precedence!="string"||typeof m.href!="string"||m.href==="")break;return!0;case"link":if(typeof m.rel!="string"||typeof m.href!="string"||m.href===""||m.onLoad||m.onError)break;switch(m.rel){case"stylesheet":return u=m.disabled,typeof m.precedence=="string"&&u==null;default:return!0}case"script":if(m.async&&typeof m.async!="function"&&typeof m.async!="symbol"&&!m.onLoad&&!m.onError&&m.src&&typeof m.src=="string")return!0}return!1}function A5(u){return!(u.type==="stylesheet"&&(u.state.loading&3)===0)}var Pp=null;function GH(){}function QH(u,m,x){if(Pp===null)throw Error(a(475));var E=Pp;if(m.type==="stylesheet"&&(typeof x.media!="string"||matchMedia(x.media).matches!==!1)&&(m.state.loading&4)===0){if(m.instance===null){var L=jf(x.href),W=u.querySelector(Lp(L));if(W){u=W._p,u!==null&&typeof u=="object"&&typeof u.then=="function"&&(E.count++,E=y_.bind(E),u.then(E,E)),m.state.loading|=4,m.instance=W,gs(W);return}W=u.ownerDocument||u,x=k5(x),(L=dc.get(L))&&lw(x,L),W=W.createElement("link"),gs(W);var ve=W;ve._p=new Promise(function(Me,at){ve.onload=Me,ve.onerror=at}),Yi(W,"link",x),m.instance=W}E.stylesheets===null&&(E.stylesheets=new Map),E.stylesheets.set(m,u),(u=m.state.preload)&&(m.state.loading&3)===0&&(E.count++,m=y_.bind(E),u.addEventListener("load",m),u.addEventListener("error",m))}}function XH(){if(Pp===null)throw Error(a(475));var u=Pp;return u.stylesheets&&u.count===0&&dw(u,u.stylesheets),0<u.count?function(m){var x=setTimeout(function(){if(u.stylesheets&&dw(u,u.stylesheets),u.unsuspend){var E=u.unsuspend;u.unsuspend=null,E()}},6e4);return u.unsuspend=m,function(){u.unsuspend=null,clearTimeout(x)}}:null}function y_(){if(this.count--,this.count===0){if(this.stylesheets)dw(this,this.stylesheets);else if(this.unsuspend){var u=this.unsuspend;this.unsuspend=null,u()}}}var w_=null;function dw(u,m){u.stylesheets=null,u.unsuspend!==null&&(u.count++,w_=new Map,m.forEach(KH,u),w_=null,y_.call(u))}function KH(u,m){if(!(m.state.loading&4)){var x=w_.get(u);if(x)var E=x.get(null);else{x=new Map,w_.set(u,x);for(var L=u.querySelectorAll("link[data-precedence],style[data-precedence]"),W=0;W<L.length;W++){var ve=L[W];(ve.nodeName==="LINK"||ve.getAttribute("media")!=="not all")&&(x.set(ve.dataset.precedence,ve),E=ve)}E&&x.set(null,E)}L=m.instance,ve=L.getAttribute("data-precedence"),W=x.get(ve)||E,W===E&&x.set(null,L),x.set(ve,L),this.count++,E=y_.bind(this),L.addEventListener("load",E),L.addEventListener("error",E),W?W.parentNode.insertBefore(L,W.nextSibling):(u=u.nodeType===9?u.head:u,u.insertBefore(L,u.firstChild)),m.state.loading|=4}}var Fp={$$typeof:B,Provider:null,Consumer:null,_currentValue:J,_currentValue2:J,_threadCount:0};function ZH(u,m,x,E,L,W,ve,Me){this.tag=1,this.containerInfo=u,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=bt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=bt(0),this.hiddenUpdates=bt(null),this.identifierPrefix=E,this.onUncaughtError=L,this.onCaughtError=W,this.onRecoverableError=ve,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Me,this.incompleteTransitions=new Map}function M5(u,m,x,E,L,W,ve,Me,at,kt,en,un){return u=new ZH(u,m,x,ve,Me,at,kt,un),m=1,W===!0&&(m|=24),W=Po(3,null,null,m),u.current=W,W.stateNode=u,m=Wy(),m.refCount++,u.pooledCache=m,m.refCount++,W.memoizedState={element:E,isDehydrated:x,cache:m},Xy(W),u}function R5(u){return u?(u=nf,u):nf}function O5(u,m,x,E,L,W){L=R5(L),E.context===null?E.context=L:E.pendingContext=L,E=Ru(m),E.payload={element:x},W=W===void 0?null:W,W!==null&&(E.callback=W),x=Ou(u,E,m),x!==null&&(qo(x,u,m),gp(x,u,m))}function B5(u,m){if(u=u.memoizedState,u!==null&&u.dehydrated!==null){var x=u.retryLane;u.retryLane=x!==0&&x<m?x:m}}function hw(u,m){B5(u,m),(u=u.alternate)&&B5(u,m)}function L5(u){if(u.tag===13){var m=tf(u,67108864);m!==null&&qo(m,u,67108864),hw(u,67108864)}}var C_=!0;function JH(u,m,x,E){var L=q.T;q.T=null;var W=T.p;try{T.p=2,fw(u,m,x,E)}finally{T.p=W,q.T=L}}function ez(u,m,x,E){var L=q.T;q.T=null;var W=T.p;try{T.p=8,fw(u,m,x,E)}finally{T.p=W,q.T=L}}function fw(u,m,x,E){if(C_){var L=mw(E);if(L===null)ew(u,m,E,S_,x),P5(u,E);else if(nz(L,u,m,x,E))E.stopPropagation();else if(P5(u,E),m&4&&-1<tz.indexOf(u)){for(;L!==null;){var W=ya(L);if(W!==null)switch(W.tag){case 3:if(W=W.stateNode,W.current.memoizedState.isDehydrated){var ve=We(W.pendingLanes);if(ve!==0){var Me=W;for(Me.pendingLanes|=2,Me.entangledLanes|=2;ve;){var at=1<<31-Fe(ve);Me.entanglements[1]|=at,ve&=~at}rl(W),(or&6)===0&&(o_=re()+500,Mp(0))}}break;case 13:Me=tf(W,2),Me!==null&&qo(Me,W,2),l_(),hw(W,2)}if(W=mw(E),W===null&&ew(u,m,E,S_,x),W===L)break;L=W}L!==null&&E.stopPropagation()}else ew(u,m,E,null,x)}}function mw(u){return u=gn(u),pw(u)}var S_=null;function pw(u){if(S_=null,u=Hn(u),u!==null){var m=i(u);if(m===null)u=null;else{var x=m.tag;if(x===13){if(u=o(m),u!==null)return u;u=null}else if(x===3){if(m.stateNode.current.memoizedState.isDehydrated)return m.tag===3?m.stateNode.containerInfo:null;u=null}else m!==u&&(u=null)}}return S_=u,null}function $5(u){switch(u){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(xe()){case Se:return 2;case pe:return 8;case Ee:case Le:return 32;case Ue:return 268435456;default:return 32}default:return 32}}var gw=!1,Gu=null,Qu=null,Xu=null,Hp=new Map,zp=new Map,Ku=[],tz="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function P5(u,m){switch(u){case"focusin":case"focusout":Gu=null;break;case"dragenter":case"dragleave":Qu=null;break;case"mouseover":case"mouseout":Xu=null;break;case"pointerover":case"pointerout":Hp.delete(m.pointerId);break;case"gotpointercapture":case"lostpointercapture":zp.delete(m.pointerId)}}function Vp(u,m,x,E,L,W){return u===null||u.nativeEvent!==W?(u={blockedOn:m,domEventName:x,eventSystemFlags:E,nativeEvent:W,targetContainers:[L]},m!==null&&(m=ya(m),m!==null&&L5(m)),u):(u.eventSystemFlags|=E,m=u.targetContainers,L!==null&&m.indexOf(L)===-1&&m.push(L),u)}function nz(u,m,x,E,L){switch(m){case"focusin":return Gu=Vp(Gu,u,m,x,E,L),!0;case"dragenter":return Qu=Vp(Qu,u,m,x,E,L),!0;case"mouseover":return Xu=Vp(Xu,u,m,x,E,L),!0;case"pointerover":var W=L.pointerId;return Hp.set(W,Vp(Hp.get(W)||null,u,m,x,E,L)),!0;case"gotpointercapture":return W=L.pointerId,zp.set(W,Vp(zp.get(W)||null,u,m,x,E,L)),!0}return!1}function F5(u){var m=Hn(u.target);if(m!==null){var x=i(m);if(x!==null){if(m=x.tag,m===13){if(m=o(x),m!==null){u.blockedOn=m,Lt(u.priority,function(){if(x.tag===13){var E=Vo();E=Et(E);var L=tf(x,E);L!==null&&qo(L,x,E),hw(x,E)}});return}}else if(m===3&&x.stateNode.current.memoizedState.isDehydrated){u.blockedOn=x.tag===3?x.stateNode.containerInfo:null;return}}}u.blockedOn=null}function j_(u){if(u.blockedOn!==null)return!1;for(var m=u.targetContainers;0<m.length;){var x=mw(u.nativeEvent);if(x===null){x=u.nativeEvent;var E=new x.constructor(x.type,x);En=E,x.target.dispatchEvent(E),En=null}else return m=ya(x),m!==null&&L5(m),u.blockedOn=x,!1;m.shift()}return!0}function H5(u,m,x){j_(u)&&x.delete(m)}function sz(){gw=!1,Gu!==null&&j_(Gu)&&(Gu=null),Qu!==null&&j_(Qu)&&(Qu=null),Xu!==null&&j_(Xu)&&(Xu=null),Hp.forEach(H5),zp.forEach(H5)}function N_(u,m){u.blockedOn===m&&(u.blockedOn=null,gw||(gw=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,sz)))}var E_=null;function z5(u){E_!==u&&(E_=u,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){E_===u&&(E_=null);for(var m=0;m<u.length;m+=3){var x=u[m],E=u[m+1],L=u[m+2];if(typeof E!="function"){if(pw(E||x)===null)continue;break}var W=ya(x);W!==null&&(u.splice(m,3),m-=3,p2(W,{pending:!0,data:L,method:x.method,action:E},E,L))}}))}function qp(u){function m(at){return N_(at,u)}Gu!==null&&N_(Gu,u),Qu!==null&&N_(Qu,u),Xu!==null&&N_(Xu,u),Hp.forEach(m),zp.forEach(m);for(var x=0;x<Ku.length;x++){var E=Ku[x];E.blockedOn===u&&(E.blockedOn=null)}for(;0<Ku.length&&(x=Ku[0],x.blockedOn===null);)F5(x),x.blockedOn===null&&Ku.shift();if(x=(u.ownerDocument||u).$$reactFormReplay,x!=null)for(E=0;E<x.length;E+=3){var L=x[E],W=x[E+1],ve=L[ns]||null;if(typeof W=="function")ve||z5(x);else if(ve){var Me=null;if(W&&W.hasAttribute("formAction")){if(L=W,ve=W[ns]||null)Me=ve.formAction;else if(pw(L)!==null)continue}else Me=ve.action;typeof Me=="function"?x[E+1]=Me:(x.splice(E,3),E-=3),z5(x)}}}function _w(u){this._internalRoot=u}k_.prototype.render=_w.prototype.render=function(u){var m=this._internalRoot;if(m===null)throw Error(a(409));var x=m.current,E=Vo();O5(x,E,u,m,null,null)},k_.prototype.unmount=_w.prototype.unmount=function(){var u=this._internalRoot;if(u!==null){this._internalRoot=null;var m=u.containerInfo;O5(u.current,2,null,u,null,null),l_(),m[us]=null}};function k_(u){this._internalRoot=u}k_.prototype.unstable_scheduleHydration=function(u){if(u){var m=Rt();u={blockedOn:null,target:u,priority:m};for(var x=0;x<Ku.length&&m!==0&&m<Ku[x].priority;x++);Ku.splice(x,0,u),x===0&&F5(u)}};var V5=t.version;if(V5!=="19.1.0")throw Error(a(527,V5,"19.1.0"));T.findDOMNode=function(u){var m=u._reactInternals;if(m===void 0)throw typeof u.render=="function"?Error(a(188)):(u=Object.keys(u).join(","),Error(a(268,u)));return u=l(m),u=u!==null?d(u):null,u=u===null?null:u.stateNode,u};var az={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:q,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var I_=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!I_.isDisabled&&I_.supportsFiber)try{dt=I_.inject(az),_e=I_}catch{}}return Wp.createRoot=function(u,m){if(!r(u))throw Error(a(299));var x=!1,E="",L=r8,W=i8,ve=o8,Me=null;return m!=null&&(m.unstable_strictMode===!0&&(x=!0),m.identifierPrefix!==void 0&&(E=m.identifierPrefix),m.onUncaughtError!==void 0&&(L=m.onUncaughtError),m.onCaughtError!==void 0&&(W=m.onCaughtError),m.onRecoverableError!==void 0&&(ve=m.onRecoverableError),m.unstable_transitionCallbacks!==void 0&&(Me=m.unstable_transitionCallbacks)),m=M5(u,1,!1,null,null,x,E,L,W,ve,Me,null),u[us]=m.current,J2(u),new _w(m)},Wp.hydrateRoot=function(u,m,x){if(!r(u))throw Error(a(299));var E=!1,L="",W=r8,ve=i8,Me=o8,at=null,kt=null;return x!=null&&(x.unstable_strictMode===!0&&(E=!0),x.identifierPrefix!==void 0&&(L=x.identifierPrefix),x.onUncaughtError!==void 0&&(W=x.onUncaughtError),x.onCaughtError!==void 0&&(ve=x.onCaughtError),x.onRecoverableError!==void 0&&(Me=x.onRecoverableError),x.unstable_transitionCallbacks!==void 0&&(at=x.unstable_transitionCallbacks),x.formState!==void 0&&(kt=x.formState)),m=M5(u,1,!0,m,x??null,E,L,W,ve,Me,at,kt),m.context=R5(null),x=m.current,E=Vo(),E=Et(E),L=Ru(E),L.callback=null,Ou(x,L,E),x=E,m.current.lanes=x,ln(m,x),rl(m),u[us]=m.current,J2(u),new k_(m)},Wp.version="19.1.0",Wp}var J5;function gz(){if(J5)return bw.exports;J5=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),bw.exports=pz(),bw.exports}var _z=gz(),Yp={},eE;function vz(){if(eE)return Yp;eE=1,Object.defineProperty(Yp,"__esModule",{value:!0}),Yp.parse=o,Yp.serialize=d;const e=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,a=/^[\u0020-\u003A\u003D-\u007E]*$/,r=Object.prototype.toString,i=(()=>{const b=function(){};return b.prototype=Object.create(null),b})();function o(b,w){const S=new i,j=b.length;if(j<2)return S;const N=(w==null?void 0:w.decode)||f;let I=0;do{const M=b.indexOf("=",I);if(M===-1)break;const B=b.indexOf(";",I),P=B===-1?j:B;if(M>P){I=b.lastIndexOf(";",M-1)+1;continue}const O=c(b,I,M),R=l(b,M,O),$=b.slice(O,R);if(S[$]===void 0){let U=c(b,M+1,P),F=l(b,P,U);const H=N(b.slice(U,F));S[$]=H}I=P+1}while(I<j);return S}function c(b,w,S){do{const j=b.charCodeAt(w);if(j!==32&&j!==9)return w}while(++w<S);return S}function l(b,w,S){for(;w>S;){const j=b.charCodeAt(--w);if(j!==32&&j!==9)return w+1}return S}function d(b,w,S){const j=(S==null?void 0:S.encode)||encodeURIComponent;if(!e.test(b))throw new TypeError(`argument name is invalid: ${b}`);const N=j(w);if(!t.test(N))throw new TypeError(`argument val is invalid: ${w}`);let I=b+"="+N;if(!S)return I;if(S.maxAge!==void 0){if(!Number.isInteger(S.maxAge))throw new TypeError(`option maxAge is invalid: ${S.maxAge}`);I+="; Max-Age="+S.maxAge}if(S.domain){if(!n.test(S.domain))throw new TypeError(`option domain is invalid: ${S.domain}`);I+="; Domain="+S.domain}if(S.path){if(!a.test(S.path))throw new TypeError(`option path is invalid: ${S.path}`);I+="; Path="+S.path}if(S.expires){if(!g(S.expires)||!Number.isFinite(S.expires.valueOf()))throw new TypeError(`option expires is invalid: ${S.expires}`);I+="; Expires="+S.expires.toUTCString()}if(S.httpOnly&&(I+="; HttpOnly"),S.secure&&(I+="; Secure"),S.partitioned&&(I+="; Partitioned"),S.priority)switch(typeof S.priority=="string"?S.priority.toLowerCase():void 0){case"low":I+="; Priority=Low";break;case"medium":I+="; Priority=Medium";break;case"high":I+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${S.priority}`)}if(S.sameSite)switch(typeof S.sameSite=="string"?S.sameSite.toLowerCase():S.sameSite){case!0:case"strict":I+="; SameSite=Strict";break;case"lax":I+="; SameSite=Lax";break;case"none":I+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${S.sameSite}`)}return I}function f(b){if(b.indexOf("%")===-1)return b;try{return decodeURIComponent(b)}catch{return b}}function g(b){return r.call(b)==="[object Date]"}return Yp}vz();var tE="popstate";function xz(e={}){function t(a,r){let{pathname:i,search:o,hash:c}=a.location;return wS("",{pathname:i,search:o,hash:c},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function n(a,r){return typeof r=="string"?r:hg(r)}return yz(t,n,null,e)}function Vr(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Nc(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function bz(){return Math.random().toString(36).substring(2,10)}function nE(e,t){return{usr:e.state,key:e.key,idx:t}}function wS(e,t,n=null,a){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Lm(t):t,state:n,key:t&&t.key||a||bz()}}function hg({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Lm(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let a=e.indexOf("?");a>=0&&(t.search=e.substring(a),e=e.substring(0,a)),e&&(t.pathname=e)}return t}function yz(e,t,n,a={}){let{window:r=document.defaultView,v5Compat:i=!1}=a,o=r.history,c="POP",l=null,d=f();d==null&&(d=0,o.replaceState({...o.state,idx:d},""));function f(){return(o.state||{idx:null}).idx}function g(){c="POP";let N=f(),I=N==null?null:N-d;d=N,l&&l({action:c,location:j.location,delta:I})}function b(N,I){c="PUSH";let M=wS(j.location,N,I);d=f()+1;let B=nE(M,d),P=j.createHref(M);try{o.pushState(B,"",P)}catch(O){if(O instanceof DOMException&&O.name==="DataCloneError")throw O;r.location.assign(P)}i&&l&&l({action:c,location:j.location,delta:1})}function w(N,I){c="REPLACE";let M=wS(j.location,N,I);d=f();let B=nE(M,d),P=j.createHref(M);o.replaceState(B,"",P),i&&l&&l({action:c,location:j.location,delta:0})}function S(N){let I=r.location.origin!=="null"?r.location.origin:r.location.href,M=typeof N=="string"?N:hg(N);return M=M.replace(/ $/,"%20"),Vr(I,`No window.location.(origin|href) available to create URL for href: ${M}`),new URL(M,I)}let j={get action(){return c},get location(){return e(r,o)},listen(N){if(l)throw new Error("A history only accepts one active listener");return r.addEventListener(tE,g),l=N,()=>{r.removeEventListener(tE,g),l=null}},createHref(N){return t(r,N)},createURL:S,encodeLocation(N){let I=S(N);return{pathname:I.pathname,search:I.search,hash:I.hash}},push:b,replace:w,go(N){return o.go(N)}};return j}function fA(e,t,n="/"){return wz(e,t,n,!1)}function wz(e,t,n,a){let r=typeof t=="string"?Lm(t):t,i=_u(r.pathname||"/",n);if(i==null)return null;let o=mA(e);Cz(o);let c=null;for(let l=0;c==null&&l<o.length;++l){let d=Rz(i);c=Az(o[l],d,a)}return c}function mA(e,t=[],n=[],a=""){let r=(i,o,c)=>{let l={relativePath:c===void 0?i.path||"":c,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(Vr(l.relativePath.startsWith(a),`Absolute route path "${l.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),l.relativePath=l.relativePath.slice(a.length));let d=cu([a,l.relativePath]),f=n.concat(l);i.children&&i.children.length>0&&(Vr(i.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${d}".`),mA(i.children,t,f,d)),!(i.path==null&&!i.index)&&t.push({path:d,score:Dz(d,i.index),routesMeta:f})};return e.forEach((i,o)=>{var c;if(i.path===""||!((c=i.path)!=null&&c.includes("?")))r(i,o);else for(let l of pA(i.path))r(i,o,l)}),t}function pA(e){let t=e.split("/");if(t.length===0)return[];let[n,...a]=t,r=n.endsWith("?"),i=n.replace(/\?$/,"");if(a.length===0)return r?[i,""]:[i];let o=pA(a.join("/")),c=[];return c.push(...o.map(l=>l===""?i:[i,l].join("/"))),r&&c.push(...o),c.map(l=>e.startsWith("/")&&l===""?"/":l)}function Cz(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:Tz(t.routesMeta.map(a=>a.childrenIndex),n.routesMeta.map(a=>a.childrenIndex)))}var Sz=/^:[\w-]+$/,jz=3,Nz=2,Ez=1,kz=10,Iz=-2,sE=e=>e==="*";function Dz(e,t){let n=e.split("/"),a=n.length;return n.some(sE)&&(a+=Iz),t&&(a+=Nz),n.filter(r=>!sE(r)).reduce((r,i)=>r+(Sz.test(i)?jz:i===""?Ez:kz),a)}function Tz(e,t){return e.length===t.length&&e.slice(0,-1).every((a,r)=>a===t[r])?e[e.length-1]-t[t.length-1]:0}function Az(e,t,n=!1){let{routesMeta:a}=e,r={},i="/",o=[];for(let c=0;c<a.length;++c){let l=a[c],d=c===a.length-1,f=i==="/"?t:t.slice(i.length)||"/",g=dx({path:l.relativePath,caseSensitive:l.caseSensitive,end:d},f),b=l.route;if(!g&&d&&n&&!a[a.length-1].route.index&&(g=dx({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},f)),!g)return null;Object.assign(r,g.params),o.push({params:r,pathname:cu([i,g.pathname]),pathnameBase:$z(cu([i,g.pathnameBase])),route:b}),g.pathnameBase!=="/"&&(i=cu([i,g.pathnameBase]))}return o}function dx(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,a]=Mz(e.path,e.caseSensitive,e.end),r=t.match(n);if(!r)return null;let i=r[0],o=i.replace(/(.)\/+$/,"$1"),c=r.slice(1);return{params:a.reduce((d,{paramName:f,isOptional:g},b)=>{if(f==="*"){let S=c[b]||"";o=i.slice(0,i.length-S.length).replace(/(.)\/+$/,"$1")}const w=c[b];return g&&!w?d[f]=void 0:d[f]=(w||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:o,pattern:e}}function Mz(e,t=!1,n=!0){Nc(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let a=[],r="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,c,l)=>(a.push({paramName:c,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(a.push({paramName:"*"}),r+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":e!==""&&e!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,t?void 0:"i"),a]}function Rz(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Nc(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function _u(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,a=e.charAt(n);return a&&a!=="/"?null:e.slice(n)||"/"}function Oz(e,t="/"){let{pathname:n,search:a="",hash:r=""}=typeof e=="string"?Lm(e):e;return{pathname:n?n.startsWith("/")?n:Bz(n,t):t,search:Pz(a),hash:Fz(r)}}function Bz(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(r=>{r===".."?n.length>1&&n.pop():r!=="."&&n.push(r)}),n.length>1?n.join("/"):"/"}function Sw(e,t,n,a){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Lz(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function $N(e){let t=Lz(e);return t.map((n,a)=>a===t.length-1?n.pathname:n.pathnameBase)}function PN(e,t,n,a=!1){let r;typeof e=="string"?r=Lm(e):(r={...e},Vr(!r.pathname||!r.pathname.includes("?"),Sw("?","pathname","search",r)),Vr(!r.pathname||!r.pathname.includes("#"),Sw("#","pathname","hash",r)),Vr(!r.search||!r.search.includes("#"),Sw("#","search","hash",r)));let i=e===""||r.pathname==="",o=i?"/":r.pathname,c;if(o==null)c=n;else{let g=t.length-1;if(!a&&o.startsWith("..")){let b=o.split("/");for(;b[0]==="..";)b.shift(),g-=1;r.pathname=b.join("/")}c=g>=0?t[g]:"/"}let l=Oz(r,c),d=o&&o!=="/"&&o.endsWith("/"),f=(i||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(d||f)&&(l.pathname+="/"),l}var cu=e=>e.join("/").replace(/\/\/+/g,"/"),$z=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Pz=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Fz=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Hz(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var gA=["POST","PUT","PATCH","DELETE"];new Set(gA);var zz=["GET",...gA];new Set(zz);var $m=v.createContext(null);$m.displayName="DataRouter";var xb=v.createContext(null);xb.displayName="DataRouterState";var _A=v.createContext({isTransitioning:!1});_A.displayName="ViewTransition";var Vz=v.createContext(new Map);Vz.displayName="Fetchers";var qz=v.createContext(null);qz.displayName="Await";var Xc=v.createContext(null);Xc.displayName="Navigation";var Yg=v.createContext(null);Yg.displayName="Location";var Ic=v.createContext({outlet:null,matches:[],isDataRoute:!1});Ic.displayName="Route";var FN=v.createContext(null);FN.displayName="RouteError";function Uz(e,{relative:t}={}){Vr(Pm(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:a}=v.useContext(Xc),{hash:r,pathname:i,search:o}=Gg(e,{relative:t}),c=i;return n!=="/"&&(c=i==="/"?n:cu([n,i])),a.createHref({pathname:c,search:o,hash:r})}function Pm(){return v.useContext(Yg)!=null}function oi(){return Vr(Pm(),"useLocation() may be used only in the context of a <Router> component."),v.useContext(Yg).location}var vA="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function xA(e){v.useContext(Xc).static||v.useLayoutEffect(e)}function Rs(){let{isDataRoute:e}=v.useContext(Ic);return e?iV():Wz()}function Wz(){Vr(Pm(),"useNavigate() may be used only in the context of a <Router> component.");let e=v.useContext($m),{basename:t,navigator:n}=v.useContext(Xc),{matches:a}=v.useContext(Ic),{pathname:r}=oi(),i=JSON.stringify($N(a)),o=v.useRef(!1);return xA(()=>{o.current=!0}),v.useCallback((l,d={})=>{if(Nc(o.current,vA),!o.current)return;if(typeof l=="number"){n.go(l);return}let f=PN(l,JSON.parse(i),r,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:cu([t,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[t,n,i,r,e])}var Yz=v.createContext(null);function Gz(e){let t=v.useContext(Ic).outlet;return t&&v.createElement(Yz.Provider,{value:e},t)}function fa(){let{matches:e}=v.useContext(Ic),t=e[e.length-1];return t?t.params:{}}function Gg(e,{relative:t}={}){let{matches:n}=v.useContext(Ic),{pathname:a}=oi(),r=JSON.stringify($N(n));return v.useMemo(()=>PN(e,JSON.parse(r),a,t==="path"),[e,r,a,t])}function Qz(e,t){return bA(e,t)}function bA(e,t,n,a){var M;Vr(Pm(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:r,static:i}=v.useContext(Xc),{matches:o}=v.useContext(Ic),c=o[o.length-1],l=c?c.params:{},d=c?c.pathname:"/",f=c?c.pathnameBase:"/",g=c&&c.route;{let B=g&&g.path||"";yA(d,!g||B.endsWith("*")||B.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${B}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${B}"> to <Route path="${B==="/"?"*":`${B}/*`}">.`)}let b=oi(),w;if(t){let B=typeof t=="string"?Lm(t):t;Vr(f==="/"||((M=B.pathname)==null?void 0:M.startsWith(f)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${f}" but pathname "${B.pathname}" was given in the \`location\` prop.`),w=B}else w=b;let S=w.pathname||"/",j=S;if(f!=="/"){let B=f.replace(/^\//,"").split("/");j="/"+S.replace(/^\//,"").split("/").slice(B.length).join("/")}let N=!i&&n&&n.matches&&n.matches.length>0?n.matches:fA(e,{pathname:j});Nc(g||N!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),Nc(N==null||N[N.length-1].route.element!==void 0||N[N.length-1].route.Component!==void 0||N[N.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let I=eV(N&&N.map(B=>Object.assign({},B,{params:Object.assign({},l,B.params),pathname:cu([f,r.encodeLocation?r.encodeLocation(B.pathname).pathname:B.pathname]),pathnameBase:B.pathnameBase==="/"?f:cu([f,r.encodeLocation?r.encodeLocation(B.pathnameBase).pathname:B.pathnameBase])})),o,n,a);return t&&I?v.createElement(Yg.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...w},navigationType:"POP"}},I):I}function Xz(){let e=rV(),t=Hz(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,a="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:a},i={padding:"2px 4px",backgroundColor:a},o=null;return console.error("Error handled by React Router default ErrorBoundary:",e),o=v.createElement(v.Fragment,null,v.createElement("p",null," Hey developer "),v.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",v.createElement("code",{style:i},"ErrorBoundary")," or"," ",v.createElement("code",{style:i},"errorElement")," prop on your route.")),v.createElement(v.Fragment,null,v.createElement("h2",null,"Unexpected Application Error!"),v.createElement("h3",{style:{fontStyle:"italic"}},t),n?v.createElement("pre",{style:r},n):null,o)}var Kz=v.createElement(Xz,null),Zz=class extends v.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?v.createElement(Ic.Provider,{value:this.props.routeContext},v.createElement(FN.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Jz({routeContext:e,match:t,children:n}){let a=v.useContext($m);return a&&a.static&&a.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=t.route.id),v.createElement(Ic.Provider,{value:e},n)}function eV(e,t=[],n=null,a=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let r=e,i=n==null?void 0:n.errors;if(i!=null){let l=r.findIndex(d=>d.route.id&&(i==null?void 0:i[d.route.id])!==void 0);Vr(l>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(i).join(",")}`),r=r.slice(0,Math.min(r.length,l+1))}let o=!1,c=-1;if(n)for(let l=0;l<r.length;l++){let d=r[l];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=l),d.route.id){let{loaderData:f,errors:g}=n,b=d.route.loader&&!f.hasOwnProperty(d.route.id)&&(!g||g[d.route.id]===void 0);if(d.route.lazy||b){o=!0,c>=0?r=r.slice(0,c+1):r=[r[0]];break}}}return r.reduceRight((l,d,f)=>{let g,b=!1,w=null,S=null;n&&(g=i&&d.route.id?i[d.route.id]:void 0,w=d.route.errorElement||Kz,o&&(c<0&&f===0?(yA("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,S=null):c===f&&(b=!0,S=d.route.hydrateFallbackElement||null)));let j=t.concat(r.slice(0,f+1)),N=()=>{let I;return g?I=w:b?I=S:d.route.Component?I=v.createElement(d.route.Component,null):d.route.element?I=d.route.element:I=l,v.createElement(Jz,{match:d,routeContext:{outlet:l,matches:j,isDataRoute:n!=null},children:I})};return n&&(d.route.ErrorBoundary||d.route.errorElement||f===0)?v.createElement(Zz,{location:n.location,revalidation:n.revalidation,component:w,error:g,children:N(),routeContext:{outlet:null,matches:j,isDataRoute:!0}}):N()},null)}function HN(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function tV(e){let t=v.useContext($m);return Vr(t,HN(e)),t}function nV(e){let t=v.useContext(xb);return Vr(t,HN(e)),t}function sV(e){let t=v.useContext(Ic);return Vr(t,HN(e)),t}function zN(e){let t=sV(e),n=t.matches[t.matches.length-1];return Vr(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function aV(){return zN("useRouteId")}function rV(){var a;let e=v.useContext(FN),t=nV("useRouteError"),n=zN("useRouteError");return e!==void 0?e:(a=t.errors)==null?void 0:a[n]}function iV(){let{router:e}=tV("useNavigate"),t=zN("useNavigate"),n=v.useRef(!1);return xA(()=>{n.current=!0}),v.useCallback(async(r,i={})=>{Nc(n.current,vA),n.current&&(typeof r=="number"?e.navigate(r):await e.navigate(r,{fromRouteId:t,...i}))},[e,t])}var aE={};function yA(e,t,n){!t&&!aE[e]&&(aE[e]=!0,Nc(!1,n))}v.memo(oV);function oV({routes:e,future:t,state:n}){return bA(e,void 0,n,t)}function hx({to:e,replace:t,state:n,relative:a}){Vr(Pm(),"<Navigate> may be used only in the context of a <Router> component.");let{static:r}=v.useContext(Xc);Nc(!r,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:i}=v.useContext(Ic),{pathname:o}=oi(),c=Rs(),l=PN(e,$N(i),o,a==="path"),d=JSON.stringify(l);return v.useEffect(()=>{c(JSON.parse(d),{replace:t,state:n,relative:a})},[c,d,a,t,n]),null}function fg(e){return Gz(e.context)}function Ra(e){Vr(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function cV({basename:e="/",children:t=null,location:n,navigationType:a="POP",navigator:r,static:i=!1}){Vr(!Pm(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=e.replace(/^\/*/,"/"),c=v.useMemo(()=>({basename:o,navigator:r,static:i,future:{}}),[o,r,i]);typeof n=="string"&&(n=Lm(n));let{pathname:l="/",search:d="",hash:f="",state:g=null,key:b="default"}=n,w=v.useMemo(()=>{let S=_u(l,o);return S==null?null:{location:{pathname:S,search:d,hash:f,state:g,key:b},navigationType:a}},[o,l,d,f,g,b,a]);return Nc(w!=null,`<Router basename="${o}"> is not able to match the URL "${l}${d}${f}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:v.createElement(Xc.Provider,{value:c},v.createElement(Yg.Provider,{children:t,value:w}))}function rE({children:e,location:t}){return Qz(CS(e),t)}function CS(e,t=[]){let n=[];return v.Children.forEach(e,(a,r)=>{if(!v.isValidElement(a))return;let i=[...t,r];if(a.type===v.Fragment){n.push.apply(n,CS(a.props.children,i));return}Vr(a.type===Ra,`[${typeof a.type=="string"?a.type:a.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Vr(!a.props.index||!a.props.children,"An index route cannot have child routes.");let o={id:a.props.id||i.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,hydrateFallbackElement:a.props.hydrateFallbackElement,HydrateFallback:a.props.HydrateFallback,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.hasErrorBoundary===!0||a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(o.children=CS(a.props.children,i)),n.push(o)}),n}var bv="get",yv="application/x-www-form-urlencoded";function bb(e){return e!=null&&typeof e.tagName=="string"}function lV(e){return bb(e)&&e.tagName.toLowerCase()==="button"}function uV(e){return bb(e)&&e.tagName.toLowerCase()==="form"}function dV(e){return bb(e)&&e.tagName.toLowerCase()==="input"}function hV(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function fV(e,t){return e.button===0&&(!t||t==="_self")&&!hV(e)}function SS(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let a=e[n];return t.concat(Array.isArray(a)?a.map(r=>[n,r]):[[n,a]])},[]))}function mV(e,t){let n=SS(e);return t&&t.forEach((a,r)=>{n.has(r)||t.getAll(r).forEach(i=>{n.append(r,i)})}),n}var D_=null;function pV(){if(D_===null)try{new FormData(document.createElement("form"),0),D_=!1}catch{D_=!0}return D_}var gV=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function jw(e){return e!=null&&!gV.has(e)?(Nc(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${yv}"`),null):e}function _V(e,t){let n,a,r,i,o;if(uV(e)){let c=e.getAttribute("action");a=c?_u(c,t):null,n=e.getAttribute("method")||bv,r=jw(e.getAttribute("enctype"))||yv,i=new FormData(e)}else if(lV(e)||dV(e)&&(e.type==="submit"||e.type==="image")){let c=e.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=e.getAttribute("formaction")||c.getAttribute("action");if(a=l?_u(l,t):null,n=e.getAttribute("formmethod")||c.getAttribute("method")||bv,r=jw(e.getAttribute("formenctype"))||jw(c.getAttribute("enctype"))||yv,i=new FormData(c,e),!pV()){let{name:d,type:f,value:g}=e;if(f==="image"){let b=d?`${d}.`:"";i.append(`${b}x`,"0"),i.append(`${b}y`,"0")}else d&&i.append(d,g)}}else{if(bb(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=bv,a=null,r=yv,o=e}return i&&r==="text/plain"&&(o=i,i=void 0),{action:a,method:n.toLowerCase(),encType:r,formData:i,body:o}}function VN(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}async function vV(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function xV(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function bV(e,t,n){let a=await Promise.all(e.map(async r=>{let i=t.routes[r.route.id];if(i){let o=await vV(i,n);return o.links?o.links():[]}return[]}));return SV(a.flat(1).filter(xV).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function iE(e,t,n,a,r,i){let o=(l,d)=>n[d]?l.route.id!==n[d].route.id:!0,c=(l,d)=>{var f;return n[d].pathname!==l.pathname||((f=n[d].route.path)==null?void 0:f.endsWith("*"))&&n[d].params["*"]!==l.params["*"]};return i==="assets"?t.filter((l,d)=>o(l,d)||c(l,d)):i==="data"?t.filter((l,d)=>{var g;let f=a.routes[l.route.id];if(!f||!f.hasLoader)return!1;if(o(l,d)||c(l,d))return!0;if(l.route.shouldRevalidate){let b=l.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:((g=n[0])==null?void 0:g.params)||{},nextUrl:new URL(e,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function yV(e,t,{includeHydrateFallback:n}={}){return wV(e.map(a=>{let r=t.routes[a.route.id];if(!r)return[];let i=[r.module];return r.clientActionModule&&(i=i.concat(r.clientActionModule)),r.clientLoaderModule&&(i=i.concat(r.clientLoaderModule)),n&&r.hydrateFallbackModule&&(i=i.concat(r.hydrateFallbackModule)),r.imports&&(i=i.concat(r.imports)),i}).flat(1))}function wV(e){return[...new Set(e)]}function CV(e){let t={},n=Object.keys(e).sort();for(let a of n)t[a]=e[a];return t}function SV(e,t){let n=new Set;return new Set(t),e.reduce((a,r)=>{let i=JSON.stringify(CV(r));return n.has(i)||(n.add(i),a.push({key:i,link:r})),a},[])}var jV=new Set([100,101,204,205]);function NV(e,t){let n=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n.pathname==="/"?n.pathname="_root.data":t&&_u(n.pathname,t)==="/"?n.pathname=`${t.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function wA(){let e=v.useContext($m);return VN(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function EV(){let e=v.useContext(xb);return VN(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var qN=v.createContext(void 0);qN.displayName="FrameworkContext";function CA(){let e=v.useContext(qN);return VN(e,"You must render this element inside a <HydratedRouter> element"),e}function kV(e,t){let n=v.useContext(qN),[a,r]=v.useState(!1),[i,o]=v.useState(!1),{onFocus:c,onBlur:l,onMouseEnter:d,onMouseLeave:f,onTouchStart:g}=t,b=v.useRef(null);v.useEffect(()=>{if(e==="render"&&o(!0),e==="viewport"){let j=I=>{I.forEach(M=>{o(M.isIntersecting)})},N=new IntersectionObserver(j,{threshold:.5});return b.current&&N.observe(b.current),()=>{N.disconnect()}}},[e]),v.useEffect(()=>{if(a){let j=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(j)}}},[a]);let w=()=>{r(!0)},S=()=>{r(!1),o(!1)};return n?e!=="intent"?[i,b,{}]:[i,b,{onFocus:Gp(c,w),onBlur:Gp(l,S),onMouseEnter:Gp(d,w),onMouseLeave:Gp(f,S),onTouchStart:Gp(g,w)}]:[!1,b,{}]}function Gp(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function IV({page:e,...t}){let{router:n}=wA(),a=v.useMemo(()=>fA(n.routes,e,n.basename),[n.routes,e,n.basename]);return a?v.createElement(TV,{page:e,matches:a,...t}):null}function DV(e){let{manifest:t,routeModules:n}=CA(),[a,r]=v.useState([]);return v.useEffect(()=>{let i=!1;return bV(e,t,n).then(o=>{i||r(o)}),()=>{i=!0}},[e,t,n]),a}function TV({page:e,matches:t,...n}){let a=oi(),{manifest:r,routeModules:i}=CA(),{basename:o}=wA(),{loaderData:c,matches:l}=EV(),d=v.useMemo(()=>iE(e,t,l,r,a,"data"),[e,t,l,r,a]),f=v.useMemo(()=>iE(e,t,l,r,a,"assets"),[e,t,l,r,a]),g=v.useMemo(()=>{if(e===a.pathname+a.search+a.hash)return[];let S=new Set,j=!1;if(t.forEach(I=>{var B;let M=r.routes[I.route.id];!M||!M.hasLoader||(!d.some(P=>P.route.id===I.route.id)&&I.route.id in c&&((B=i[I.route.id])!=null&&B.shouldRevalidate)||M.hasClientLoader?j=!0:S.add(I.route.id))}),S.size===0)return[];let N=NV(e,o);return j&&S.size>0&&N.searchParams.set("_routes",t.filter(I=>S.has(I.route.id)).map(I=>I.route.id).join(",")),[N.pathname+N.search]},[o,c,a,r,d,t,e,i]),b=v.useMemo(()=>yV(f,r),[f,r]),w=DV(f);return v.createElement(v.Fragment,null,g.map(S=>v.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...n})),b.map(S=>v.createElement("link",{key:S,rel:"modulepreload",href:S,...n})),w.map(({key:S,link:j})=>v.createElement("link",{key:S,...j})))}function AV(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var SA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{SA&&(window.__reactRouterVersion="7.5.2")}catch{}function MV({basename:e,children:t,window:n}){let a=v.useRef();a.current==null&&(a.current=xz({window:n,v5Compat:!0}));let r=a.current,[i,o]=v.useState({action:r.action,location:r.location}),c=v.useCallback(l=>{v.startTransition(()=>o(l))},[o]);return v.useLayoutEffect(()=>r.listen(c),[r,c]),v.createElement(cV,{basename:e,children:t,location:i.location,navigationType:i.action,navigator:r})}var jA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ea=v.forwardRef(function({onClick:t,discover:n="render",prefetch:a="none",relative:r,reloadDocument:i,replace:o,state:c,target:l,to:d,preventScrollReset:f,viewTransition:g,...b},w){let{basename:S}=v.useContext(Xc),j=typeof d=="string"&&jA.test(d),N,I=!1;if(typeof d=="string"&&j&&(N=d,SA))try{let F=new URL(window.location.href),H=d.startsWith("//")?new URL(F.protocol+d):new URL(d),ne=_u(H.pathname,S);H.origin===F.origin&&ne!=null?d=ne+H.search+H.hash:I=!0}catch{Nc(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let M=Uz(d,{relative:r}),[B,P,O]=kV(a,b),R=LV(d,{replace:o,state:c,target:l,preventScrollReset:f,relative:r,viewTransition:g});function $(F){t&&t(F),F.defaultPrevented||R(F)}let U=v.createElement("a",{...b,...O,href:N||M,onClick:I||i?t:$,ref:AV(w,P),target:l,"data-discover":!j&&n==="render"?"true":void 0});return B&&!j?v.createElement(v.Fragment,null,U,v.createElement(IV,{page:M})):U});Ea.displayName="Link";var RV=v.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:a="",end:r=!1,style:i,to:o,viewTransition:c,children:l,...d},f){let g=Gg(o,{relative:d.relative}),b=oi(),w=v.useContext(xb),{navigator:S,basename:j}=v.useContext(Xc),N=w!=null&&zV(g)&&c===!0,I=S.encodeLocation?S.encodeLocation(g).pathname:g.pathname,M=b.pathname,B=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;n||(M=M.toLowerCase(),B=B?B.toLowerCase():null,I=I.toLowerCase()),B&&j&&(B=_u(B,j)||B);const P=I!=="/"&&I.endsWith("/")?I.length-1:I.length;let O=M===I||!r&&M.startsWith(I)&&M.charAt(P)==="/",R=B!=null&&(B===I||!r&&B.startsWith(I)&&B.charAt(I.length)==="/"),$={isActive:O,isPending:R,isTransitioning:N},U=O?t:void 0,F;typeof a=="function"?F=a($):F=[a,O?"active":null,R?"pending":null,N?"transitioning":null].filter(Boolean).join(" ");let H=typeof i=="function"?i($):i;return v.createElement(Ea,{...d,"aria-current":U,className:F,ref:f,style:H,to:o,viewTransition:c},typeof l=="function"?l($):l)});RV.displayName="NavLink";var OV=v.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:a,replace:r,state:i,method:o=bv,action:c,onSubmit:l,relative:d,preventScrollReset:f,viewTransition:g,...b},w)=>{let S=FV(),j=HV(c,{relative:d}),N=o.toLowerCase()==="get"?"get":"post",I=typeof c=="string"&&jA.test(c),M=B=>{if(l&&l(B),B.defaultPrevented)return;B.preventDefault();let P=B.nativeEvent.submitter,O=(P==null?void 0:P.getAttribute("formmethod"))||o;S(P||B.currentTarget,{fetcherKey:t,method:O,navigate:n,replace:r,state:i,relative:d,preventScrollReset:f,viewTransition:g})};return v.createElement("form",{ref:w,method:N,action:j,onSubmit:a?l:M,...b,"data-discover":!I&&e==="render"?"true":void 0})});OV.displayName="Form";function BV(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function NA(e){let t=v.useContext($m);return Vr(t,BV(e)),t}function LV(e,{target:t,replace:n,state:a,preventScrollReset:r,relative:i,viewTransition:o}={}){let c=Rs(),l=oi(),d=Gg(e,{relative:i});return v.useCallback(f=>{if(fV(f,t)){f.preventDefault();let g=n!==void 0?n:hg(l)===hg(d);c(e,{replace:g,state:a,preventScrollReset:r,relative:i,viewTransition:o})}},[l,c,d,n,a,t,e,r,i,o])}function Fm(e){Nc(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=v.useRef(SS(e)),n=v.useRef(!1),a=oi(),r=v.useMemo(()=>mV(a.search,n.current?null:t.current),[a.search]),i=Rs(),o=v.useCallback((c,l)=>{const d=SS(typeof c=="function"?c(r):c);n.current=!0,i("?"+d,l)},[i,r]);return[r,o]}var $V=0,PV=()=>`__${String(++$V)}__`;function FV(){let{router:e}=NA("useSubmit"),{basename:t}=v.useContext(Xc),n=aV();return v.useCallback(async(a,r={})=>{let{action:i,method:o,encType:c,formData:l,body:d}=_V(a,t);if(r.navigate===!1){let f=r.fetcherKey||PV();await e.fetch(f,n,r.action||i,{preventScrollReset:r.preventScrollReset,formData:l,body:d,formMethod:r.method||o,formEncType:r.encType||c,flushSync:r.flushSync})}else await e.navigate(r.action||i,{preventScrollReset:r.preventScrollReset,formData:l,body:d,formMethod:r.method||o,formEncType:r.encType||c,replace:r.replace,state:r.state,fromRouteId:n,flushSync:r.flushSync,viewTransition:r.viewTransition})},[e,t,n])}function HV(e,{relative:t}={}){let{basename:n}=v.useContext(Xc),a=v.useContext(Ic);Vr(a,"useFormAction must be used inside a RouteContext");let[r]=a.matches.slice(-1),i={...Gg(e||".",{relative:t})},o=oi();if(e==null){i.search=o.search;let c=new URLSearchParams(i.search),l=c.getAll("index");if(l.some(f=>f==="")){c.delete("index"),l.filter(g=>g).forEach(g=>c.append("index",g));let f=c.toString();i.search=f?`?${f}`:""}}return(!e||e===".")&&r.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(i.pathname=i.pathname==="/"?n:cu([n,i.pathname])),hg(i)}function zV(e,t={}){let n=v.useContext(_A);Vr(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=NA("useViewTransitionState"),r=Gg(e,{relative:t.relative});if(!n.isTransitioning)return!1;let i=_u(n.currentLocation.pathname,a)||n.currentLocation.pathname,o=_u(n.nextLocation.pathname,a)||n.nextLocation.pathname;return dx(r.pathname,o)!=null||dx(r.pathname,i)!=null}new TextEncoder;[...jV];var Hm=hA();const fx=Si(Hm),VV=LN({__proto__:null,default:fx},[Hm]),UN=v.createContext({});function Qg(e){const t=v.useRef(null);return t.current===null&&(t.current=e()),t.current}const WN=typeof window<"u",YN=WN?v.useLayoutEffect:v.useEffect,yb=v.createContext(null);function GN(e,t){e.indexOf(t)===-1&&e.push(t)}function QN(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const vu=(e,t,n)=>n>t?t:n<e?e:n;let XN=()=>{};const xu={},EA=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function kA(e){return typeof e=="object"&&e!==null}const IA=e=>/^0[^.\s]+$/u.test(e);function KN(e){let t;return()=>(t===void 0&&(t=e()),t)}const Sc=e=>e,qV=(e,t)=>n=>t(e(n)),Xg=(...e)=>e.reduce(qV),mg=(e,t,n)=>{const a=t-e;return a===0?1:(n-e)/a};class ZN{constructor(){this.subscriptions=[]}add(t){return GN(this.subscriptions,t),()=>QN(this.subscriptions,t)}notify(t,n,a){const r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](t,n,a);else for(let i=0;i<r;i++){const o=this.subscriptions[i];o&&o(t,n,a)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const yl=e=>e*1e3,wl=e=>e/1e3;function DA(e,t){return t?e*(1e3/t):0}const TA=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,UV=1e-7,WV=12;function YV(e,t,n,a,r){let i,o,c=0;do o=t+(n-t)/2,i=TA(o,a,r)-e,i>0?n=o:t=o;while(Math.abs(i)>UV&&++c<WV);return o}function Kg(e,t,n,a){if(e===t&&n===a)return Sc;const r=i=>YV(i,0,1,e,n);return i=>i===0||i===1?i:TA(r(i),t,a)}const AA=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,MA=e=>t=>1-e(1-t),RA=Kg(.33,1.53,.69,.99),JN=MA(RA),OA=AA(JN),BA=e=>(e*=2)<1?.5*JN(e):.5*(2-Math.pow(2,-10*(e-1))),e3=e=>1-Math.sin(Math.acos(e)),LA=MA(e3),$A=AA(e3),GV=Kg(.42,0,1,1),QV=Kg(0,0,.58,1),PA=Kg(.42,0,.58,1),XV=e=>Array.isArray(e)&&typeof e[0]!="number",FA=e=>Array.isArray(e)&&typeof e[0]=="number",KV={linear:Sc,easeIn:GV,easeInOut:PA,easeOut:QV,circIn:e3,circInOut:$A,circOut:LA,backIn:JN,backInOut:OA,backOut:RA,anticipate:BA},ZV=e=>typeof e=="string",oE=e=>{if(FA(e)){XN(e.length===4);const[t,n,a,r]=e;return Kg(t,n,a,r)}else if(ZV(e))return KV[e];return e},T_=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function JV(e,t){let n=new Set,a=new Set,r=!1,i=!1;const o=new WeakSet;let c={delta:0,timestamp:0,isProcessing:!1};function l(f){o.has(f)&&(d.schedule(f),e()),f(c)}const d={schedule:(f,g=!1,b=!1)=>{const S=b&&r?n:a;return g&&o.add(f),S.has(f)||S.add(f),f},cancel:f=>{a.delete(f),o.delete(f)},process:f=>{if(c=f,r){i=!0;return}r=!0,[n,a]=[a,n],n.forEach(l),n.clear(),r=!1,i&&(i=!1,d.process(f))}};return d}const eq=40;function HA(e,t){let n=!1,a=!0;const r={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,o=T_.reduce((B,P)=>(B[P]=JV(i),B),{}),{setup:c,read:l,resolveKeyframes:d,preUpdate:f,update:g,preRender:b,render:w,postRender:S}=o,j=()=>{const B=xu.useManualTiming?r.timestamp:performance.now();n=!1,xu.useManualTiming||(r.delta=a?1e3/60:Math.max(Math.min(B-r.timestamp,eq),1)),r.timestamp=B,r.isProcessing=!0,c.process(r),l.process(r),d.process(r),f.process(r),g.process(r),b.process(r),w.process(r),S.process(r),r.isProcessing=!1,n&&t&&(a=!1,e(j))},N=()=>{n=!0,a=!0,r.isProcessing||e(j)};return{schedule:T_.reduce((B,P)=>{const O=o[P];return B[P]=(R,$=!1,U=!1)=>(n||N(),O.schedule(R,$,U)),B},{}),cancel:B=>{for(let P=0;P<T_.length;P++)o[T_[P]].cancel(B)},state:r,steps:o}}const{schedule:Tr,cancel:bu,state:Qi,steps:Nw}=HA(typeof requestAnimationFrame<"u"?requestAnimationFrame:Sc,!0);let wv;function tq(){wv=void 0}const Io={now:()=>(wv===void 0&&Io.set(Qi.isProcessing||xu.useManualTiming?Qi.timestamp:performance.now()),wv),set:e=>{wv=e,queueMicrotask(tq)}},zA=e=>t=>typeof t=="string"&&t.startsWith(e),t3=zA("--"),nq=zA("var(--"),n3=e=>nq(e)?sq.test(e.split("/*")[0].trim()):!1,sq=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,zm={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},pg={...zm,transform:e=>vu(0,1,e)},A_={...zm,default:1},q1=e=>Math.round(e*1e5)/1e5,s3=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function aq(e){return e==null}const rq=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,a3=(e,t)=>n=>!!(typeof n=="string"&&rq.test(n)&&n.startsWith(e)||t&&!aq(n)&&Object.prototype.hasOwnProperty.call(n,t)),VA=(e,t,n)=>a=>{if(typeof a!="string")return a;const[r,i,o,c]=a.match(s3);return{[e]:parseFloat(r),[t]:parseFloat(i),[n]:parseFloat(o),alpha:c!==void 0?parseFloat(c):1}},iq=e=>vu(0,255,e),Ew={...zm,transform:e=>Math.round(iq(e))},hh={test:a3("rgb","red"),parse:VA("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:a=1})=>"rgba("+Ew.transform(e)+", "+Ew.transform(t)+", "+Ew.transform(n)+", "+q1(pg.transform(a))+")"};function oq(e){let t="",n="",a="",r="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),a=e.substring(5,7),r=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),a=e.substring(3,4),r=e.substring(4,5),t+=t,n+=n,a+=a,r+=r),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(a,16),alpha:r?parseInt(r,16)/255:1}}const jS={test:a3("#"),parse:oq,transform:hh.transform},Zg=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),rd=Zg("deg"),Cl=Zg("%"),Hs=Zg("px"),cq=Zg("vh"),lq=Zg("vw"),cE={...Cl,parse:e=>Cl.parse(e)/100,transform:e=>Cl.transform(e*100)},qf={test:a3("hsl","hue"),parse:VA("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:a=1})=>"hsla("+Math.round(e)+", "+Cl.transform(q1(t))+", "+Cl.transform(q1(n))+", "+q1(pg.transform(a))+")"},wi={test:e=>hh.test(e)||jS.test(e)||qf.test(e),parse:e=>hh.test(e)?hh.parse(e):qf.test(e)?qf.parse(e):jS.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?hh.transform(e):qf.transform(e),getAnimatableNone:e=>{const t=wi.parse(e);return t.alpha=0,wi.transform(t)}},uq=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function dq(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(s3))==null?void 0:t.length)||0)+(((n=e.match(uq))==null?void 0:n.length)||0)>0}const qA="number",UA="color",hq="var",fq="var(",lE="${}",mq=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function gg(e){const t=e.toString(),n=[],a={color:[],number:[],var:[]},r=[];let i=0;const c=t.replace(mq,l=>(wi.test(l)?(a.color.push(i),r.push(UA),n.push(wi.parse(l))):l.startsWith(fq)?(a.var.push(i),r.push(hq),n.push(l)):(a.number.push(i),r.push(qA),n.push(parseFloat(l))),++i,lE)).split(lE);return{values:n,split:c,indexes:a,types:r}}function WA(e){return gg(e).values}function YA(e){const{split:t,types:n}=gg(e),a=t.length;return r=>{let i="";for(let o=0;o<a;o++)if(i+=t[o],r[o]!==void 0){const c=n[o];c===qA?i+=q1(r[o]):c===UA?i+=wi.transform(r[o]):i+=r[o]}return i}}const pq=e=>typeof e=="number"?0:wi.test(e)?wi.getAnimatableNone(e):e;function gq(e){const t=WA(e);return YA(e)(t.map(pq))}const Cd={test:dq,parse:WA,createTransformer:YA,getAnimatableNone:gq};function kw(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function _q({hue:e,saturation:t,lightness:n,alpha:a}){e/=360,t/=100,n/=100;let r=0,i=0,o=0;if(!t)r=i=o=n;else{const c=n<.5?n*(1+t):n+t-n*t,l=2*n-c;r=kw(l,c,e+1/3),i=kw(l,c,e),o=kw(l,c,e-1/3)}return{red:Math.round(r*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:a}}function mx(e,t){return n=>n>0?t:e}const Gr=(e,t,n)=>e+(t-e)*n,Iw=(e,t,n)=>{const a=e*e,r=n*(t*t-a)+a;return r<0?0:Math.sqrt(r)},vq=[jS,hh,qf],xq=e=>vq.find(t=>t.test(e));function uE(e){const t=xq(e);if(!t)return!1;let n=t.parse(e);return t===qf&&(n=_q(n)),n}const dE=(e,t)=>{const n=uE(e),a=uE(t);if(!n||!a)return mx(e,t);const r={...n};return i=>(r.red=Iw(n.red,a.red,i),r.green=Iw(n.green,a.green,i),r.blue=Iw(n.blue,a.blue,i),r.alpha=Gr(n.alpha,a.alpha,i),hh.transform(r))},NS=new Set(["none","hidden"]);function bq(e,t){return NS.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function yq(e,t){return n=>Gr(e,t,n)}function r3(e){return typeof e=="number"?yq:typeof e=="string"?n3(e)?mx:wi.test(e)?dE:Sq:Array.isArray(e)?GA:typeof e=="object"?wi.test(e)?dE:wq:mx}function GA(e,t){const n=[...e],a=n.length,r=e.map((i,o)=>r3(i)(i,t[o]));return i=>{for(let o=0;o<a;o++)n[o]=r[o](i);return n}}function wq(e,t){const n={...e,...t},a={};for(const r in n)e[r]!==void 0&&t[r]!==void 0&&(a[r]=r3(e[r])(e[r],t[r]));return r=>{for(const i in a)n[i]=a[i](r);return n}}function Cq(e,t){const n=[],a={color:0,var:0,number:0};for(let r=0;r<t.values.length;r++){const i=t.types[r],o=e.indexes[i][a[i]],c=e.values[o]??0;n[r]=c,a[i]++}return n}const Sq=(e,t)=>{const n=Cd.createTransformer(t),a=gg(e),r=gg(t);return a.indexes.var.length===r.indexes.var.length&&a.indexes.color.length===r.indexes.color.length&&a.indexes.number.length>=r.indexes.number.length?NS.has(e)&&!r.values.length||NS.has(t)&&!a.values.length?bq(e,t):Xg(GA(Cq(a,r),r.values),n):mx(e,t)};function QA(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?Gr(e,t,n):r3(e)(e,t)}const jq=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>Tr.update(t,n),stop:()=>bu(t),now:()=>Qi.isProcessing?Qi.timestamp:Io.now()}},XA=(e,t,n=10)=>{let a="";const r=Math.max(Math.round(t/n),2);for(let i=0;i<r;i++)a+=Math.round(e(i/(r-1))*1e4)/1e4+", ";return`linear(${a.substring(0,a.length-2)})`},px=2e4;function i3(e){let t=0;const n=50;let a=e.next(t);for(;!a.done&&t<px;)t+=n,a=e.next(t);return t>=px?1/0:t}function Nq(e,t=100,n){const a=n({...e,keyframes:[0,t]}),r=Math.min(i3(a),px);return{type:"keyframes",ease:i=>a.next(r*i).value/t,duration:wl(r)}}const Eq=5;function KA(e,t,n){const a=Math.max(t-Eq,0);return DA(n-e(a),t-a)}const ti={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},hE=.001;function kq({duration:e=ti.duration,bounce:t=ti.bounce,velocity:n=ti.velocity,mass:a=ti.mass}){let r,i,o=1-t;o=vu(ti.minDamping,ti.maxDamping,o),e=vu(ti.minDuration,ti.maxDuration,wl(e)),o<1?(r=d=>{const f=d*o,g=f*e,b=f-n,w=ES(d,o),S=Math.exp(-g);return hE-b/w*S},i=d=>{const g=d*o*e,b=g*n+n,w=Math.pow(o,2)*Math.pow(d,2)*e,S=Math.exp(-g),j=ES(Math.pow(d,2),o);return(-r(d)+hE>0?-1:1)*((b-w)*S)/j}):(r=d=>{const f=Math.exp(-d*e),g=(d-n)*e+1;return-.001+f*g},i=d=>{const f=Math.exp(-d*e),g=(n-d)*(e*e);return f*g});const c=5/e,l=Dq(r,i,c);if(e=yl(e),isNaN(l))return{stiffness:ti.stiffness,damping:ti.damping,duration:e};{const d=Math.pow(l,2)*a;return{stiffness:d,damping:o*2*Math.sqrt(a*d),duration:e}}}const Iq=12;function Dq(e,t,n){let a=n;for(let r=1;r<Iq;r++)a=a-e(a)/t(a);return a}function ES(e,t){return e*Math.sqrt(1-t*t)}const Tq=["duration","bounce"],Aq=["stiffness","damping","mass"];function fE(e,t){return t.some(n=>e[n]!==void 0)}function Mq(e){let t={velocity:ti.velocity,stiffness:ti.stiffness,damping:ti.damping,mass:ti.mass,isResolvedFromDuration:!1,...e};if(!fE(e,Aq)&&fE(e,Tq))if(e.visualDuration){const n=e.visualDuration,a=2*Math.PI/(n*1.2),r=a*a,i=2*vu(.05,1,1-(e.bounce||0))*Math.sqrt(r);t={...t,mass:ti.mass,stiffness:r,damping:i}}else{const n=kq(e);t={...t,...n,mass:ti.mass},t.isResolvedFromDuration=!0}return t}function gx(e=ti.visualDuration,t=ti.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:a,restDelta:r}=n;const i=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],c={done:!1,value:i},{stiffness:l,damping:d,mass:f,duration:g,velocity:b,isResolvedFromDuration:w}=Mq({...n,velocity:-wl(n.velocity||0)}),S=b||0,j=d/(2*Math.sqrt(l*f)),N=o-i,I=wl(Math.sqrt(l/f)),M=Math.abs(N)<5;a||(a=M?ti.restSpeed.granular:ti.restSpeed.default),r||(r=M?ti.restDelta.granular:ti.restDelta.default);let B;if(j<1){const O=ES(I,j);B=R=>{const $=Math.exp(-j*I*R);return o-$*((S+j*I*N)/O*Math.sin(O*R)+N*Math.cos(O*R))}}else if(j===1)B=O=>o-Math.exp(-I*O)*(N+(S+I*N)*O);else{const O=I*Math.sqrt(j*j-1);B=R=>{const $=Math.exp(-j*I*R),U=Math.min(O*R,300);return o-$*((S+j*I*N)*Math.sinh(U)+O*N*Math.cosh(U))/O}}const P={calculatedDuration:w&&g||null,next:O=>{const R=B(O);if(w)c.done=O>=g;else{let $=O===0?S:0;j<1&&($=O===0?yl(S):KA(B,O,R));const U=Math.abs($)<=a,F=Math.abs(o-R)<=r;c.done=U&&F}return c.value=c.done?o:R,c},toString:()=>{const O=Math.min(i3(P),px),R=XA($=>P.next(O*$).value,O,30);return O+"ms "+R},toTransition:()=>{}};return P}gx.applyToOptions=e=>{const t=Nq(e,100,gx);return e.ease=t.ease,e.duration=yl(t.duration),e.type="keyframes",e};function kS({keyframes:e,velocity:t=0,power:n=.8,timeConstant:a=325,bounceDamping:r=10,bounceStiffness:i=500,modifyTarget:o,min:c,max:l,restDelta:d=.5,restSpeed:f}){const g=e[0],b={done:!1,value:g},w=U=>c!==void 0&&U<c||l!==void 0&&U>l,S=U=>c===void 0?l:l===void 0||Math.abs(c-U)<Math.abs(l-U)?c:l;let j=n*t;const N=g+j,I=o===void 0?N:o(N);I!==N&&(j=I-g);const M=U=>-j*Math.exp(-U/a),B=U=>I+M(U),P=U=>{const F=M(U),H=B(U);b.done=Math.abs(F)<=d,b.value=b.done?I:H};let O,R;const $=U=>{w(b.value)&&(O=U,R=gx({keyframes:[b.value,S(b.value)],velocity:KA(B,U,b.value),damping:r,stiffness:i,restDelta:d,restSpeed:f}))};return $(0),{calculatedDuration:null,next:U=>{let F=!1;return!R&&O===void 0&&(F=!0,P(U),$(U)),O!==void 0&&U>=O?R.next(U-O):(!F&&P(U),b)}}}function Rq(e,t,n){const a=[],r=n||xu.mix||QA,i=e.length-1;for(let o=0;o<i;o++){let c=r(e[o],e[o+1]);if(t){const l=Array.isArray(t)?t[o]||Sc:t;c=Xg(l,c)}a.push(c)}return a}function ZA(e,t,{clamp:n=!0,ease:a,mixer:r}={}){const i=e.length;if(XN(i===t.length),i===1)return()=>t[0];if(i===2&&t[0]===t[1])return()=>t[1];const o=e[0]===e[1];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const c=Rq(t,a,r),l=c.length,d=f=>{if(o&&f<e[0])return t[0];let g=0;if(l>1)for(;g<e.length-2&&!(f<e[g+1]);g++);const b=mg(e[g],e[g+1],f);return c[g](b)};return n?f=>d(vu(e[0],e[i-1],f)):d}function Oq(e,t){const n=e[e.length-1];for(let a=1;a<=t;a++){const r=mg(0,t,a);e.push(Gr(n,1,r))}}function Bq(e){const t=[0];return Oq(t,e.length-1),t}function Lq(e,t){return e.map(n=>n*t)}function $q(e,t){return e.map(()=>t||PA).splice(0,e.length-1)}function U1({duration:e=300,keyframes:t,times:n,ease:a="easeInOut"}){const r=XV(a)?a.map(oE):oE(a),i={done:!1,value:t[0]},o=Lq(n&&n.length===t.length?n:Bq(t),e),c=ZA(o,t,{ease:Array.isArray(r)?r:$q(t,r)});return{calculatedDuration:e,next:l=>(i.value=c(l),i.done=l>=e,i)}}const Pq=e=>e!==null;function o3(e,{repeat:t,repeatType:n="loop"},a,r=1){const i=e.filter(Pq),c=r<0||t&&n!=="loop"&&t%2===1?0:i.length-1;return!c||a===void 0?i[c]:a}const Fq={decay:kS,inertia:kS,tween:U1,keyframes:U1,spring:gx};function JA(e){typeof e.type=="string"&&(e.type=Fq[e.type])}class c3{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const Hq=e=>e/100;class wb extends c3{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var a,r;const{motionValue:n}=this.options;n&&n.updatedAt!==Io.now()&&this.tick(Io.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(r=(a=this.options).onStop)==null||r.call(a))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;JA(t);const{type:n=U1,repeat:a=0,repeatDelay:r=0,repeatType:i,velocity:o=0}=t;let{keyframes:c}=t;const l=n||U1;l!==U1&&typeof c[0]!="number"&&(this.mixKeyframes=Xg(Hq,QA(c[0],c[1])),c=[0,100]);const d=l({...t,keyframes:c});i==="mirror"&&(this.mirroredGenerator=l({...t,keyframes:[...c].reverse(),velocity:-o})),d.calculatedDuration===null&&(d.calculatedDuration=i3(d));const{calculatedDuration:f}=d;this.calculatedDuration=f,this.resolvedDuration=f+r,this.totalDuration=this.resolvedDuration*(a+1)-r,this.generator=d}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:a,totalDuration:r,mixKeyframes:i,mirroredGenerator:o,resolvedDuration:c,calculatedDuration:l}=this;if(this.startTime===null)return a.next(0);const{delay:d=0,keyframes:f,repeat:g,repeatType:b,repeatDelay:w,type:S,onUpdate:j,finalKeyframe:N}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-r/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const I=this.currentTime-d*(this.playbackSpeed>=0?1:-1),M=this.playbackSpeed>=0?I<0:I>r;this.currentTime=Math.max(I,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=r);let B=this.currentTime,P=a;if(g){const U=Math.min(this.currentTime,r)/c;let F=Math.floor(U),H=U%1;!H&&U>=1&&(H=1),H===1&&F--,F=Math.min(F,g+1),!!(F%2)&&(b==="reverse"?(H=1-H,w&&(H-=w/c)):b==="mirror"&&(P=o)),B=vu(0,1,H)*c}const O=M?{done:!1,value:f[0]}:P.next(B);i&&(O.value=i(O.value));let{done:R}=O;!M&&l!==null&&(R=this.playbackSpeed>=0?this.currentTime>=r:this.currentTime<=0);const $=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&R);return $&&S!==kS&&(O.value=o3(f,this.options,N,this.speed)),j&&j(O.value),$&&this.finish(),O}then(t,n){return this.finished.then(t,n)}get duration(){return wl(this.calculatedDuration)}get time(){return wl(this.currentTime)}set time(t){var n;t=yl(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Io.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=wl(this.currentTime))}play(){var r,i;if(this.isStopped)return;const{driver:t=jq,startTime:n}=this.options;this.driver||(this.driver=t(o=>this.tick(o))),(i=(r=this.options).onPlay)==null||i.call(r);const a=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=a):this.holdTime!==null?this.startTime=a-this.holdTime:this.startTime||(this.startTime=n??a),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Io.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(t=this.options).onComplete)==null||n.call(t)}cancel(){var t,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(t=this.options).onCancel)==null||n.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),t.observe(this)}}function zq(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const fh=e=>e*180/Math.PI,IS=e=>{const t=fh(Math.atan2(e[1],e[0]));return DS(t)},Vq={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:IS,rotateZ:IS,skewX:e=>fh(Math.atan(e[1])),skewY:e=>fh(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},DS=e=>(e=e%360,e<0&&(e+=360),e),mE=IS,pE=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),gE=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),qq={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:pE,scaleY:gE,scale:e=>(pE(e)+gE(e))/2,rotateX:e=>DS(fh(Math.atan2(e[6],e[5]))),rotateY:e=>DS(fh(Math.atan2(-e[2],e[0]))),rotateZ:mE,rotate:mE,skewX:e=>fh(Math.atan(e[4])),skewY:e=>fh(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function TS(e){return e.includes("scale")?1:0}function AS(e,t){if(!e||e==="none")return TS(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let a,r;if(n)a=qq,r=n;else{const c=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);a=Vq,r=c}if(!r)return TS(t);const i=a[t],o=r[1].split(",").map(Wq);return typeof i=="function"?i(o):o[i]}const Uq=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return AS(n,t)};function Wq(e){return parseFloat(e.trim())}const Vm=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],qm=new Set(Vm),_E=e=>e===zm||e===Hs,Yq=new Set(["x","y","z"]),Gq=Vm.filter(e=>!Yq.has(e));function Qq(e){const t=[];return Gq.forEach(n=>{const a=e.getValue(n);a!==void 0&&(t.push([n,a.get()]),a.set(n.startsWith("scale")?1:0))}),t}const xh={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>AS(t,"x"),y:(e,{transform:t})=>AS(t,"y")};xh.translateX=xh.x;xh.translateY=xh.y;const bh=new Set;let MS=!1,RS=!1,OS=!1;function eM(){if(RS){const e=Array.from(bh).filter(a=>a.needsMeasurement),t=new Set(e.map(a=>a.element)),n=new Map;t.forEach(a=>{const r=Qq(a);r.length&&(n.set(a,r),a.render())}),e.forEach(a=>a.measureInitialState()),t.forEach(a=>{a.render();const r=n.get(a);r&&r.forEach(([i,o])=>{var c;(c=a.getValue(i))==null||c.set(o)})}),e.forEach(a=>a.measureEndState()),e.forEach(a=>{a.suspendedScrollY!==void 0&&window.scrollTo(0,a.suspendedScrollY)})}RS=!1,MS=!1,bh.forEach(e=>e.complete(OS)),bh.clear()}function tM(){bh.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(RS=!0)})}function Xq(){OS=!0,tM(),eM(),OS=!1}class l3{constructor(t,n,a,r,i,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=a,this.motionValue=r,this.element=i,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(bh.add(this),MS||(MS=!0,Tr.read(tM),Tr.resolveKeyframes(eM))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:a,motionValue:r}=this;if(t[0]===null){const i=r==null?void 0:r.get(),o=t[t.length-1];if(i!==void 0)t[0]=i;else if(a&&n){const c=a.readValue(n,o);c!=null&&(t[0]=c)}t[0]===void 0&&(t[0]=o),r&&i===void 0&&r.set(t[0])}zq(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),bh.delete(this)}cancel(){this.state==="scheduled"&&(bh.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const Kq=e=>e.startsWith("--");function Zq(e,t,n){Kq(t)?e.style.setProperty(t,n):e.style[t]=n}const Jq=KN(()=>window.ScrollTimeline!==void 0),eU={};function tU(e,t){const n=KN(e);return()=>eU[t]??n()}const nM=tU(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),k1=([e,t,n,a])=>`cubic-bezier(${e}, ${t}, ${n}, ${a})`,vE={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:k1([0,.65,.55,1]),circOut:k1([.55,0,1,.45]),backIn:k1([.31,.01,.66,-.59]),backOut:k1([.33,1.53,.69,.99])};function sM(e,t){if(e)return typeof e=="function"?nM()?XA(e,t):"ease-out":FA(e)?k1(e):Array.isArray(e)?e.map(n=>sM(n,t)||vE.easeOut):vE[e]}function nU(e,t,n,{delay:a=0,duration:r=300,repeat:i=0,repeatType:o="loop",ease:c="easeOut",times:l}={},d=void 0){const f={[t]:n};l&&(f.offset=l);const g=sM(c,r);Array.isArray(g)&&(f.easing=g);const b={delay:a,duration:r,easing:Array.isArray(g)?"linear":g,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"};return d&&(b.pseudoElement=d),e.animate(f,b)}function aM(e){return typeof e=="function"&&"applyToOptions"in e}function sU({type:e,...t}){return aM(e)&&nM()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class aU extends c3{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:n,name:a,keyframes:r,pseudoElement:i,allowFlatten:o=!1,finalKeyframe:c,onComplete:l}=t;this.isPseudoElement=!!i,this.allowFlatten=o,this.options=t,XN(typeof t.type!="string");const d=sU(t);this.animation=nU(n,a,r,d,i),d.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const f=o3(r,this.options,c,this.speed);this.updateMotionValue?this.updateMotionValue(f):Zq(n,a,f),this.animation.cancel()}l==null||l(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,n;(n=(t=this.animation).finish)==null||n.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,n;this.isPseudoElement||(n=(t=this.animation).commitStyles)==null||n.call(t)}get duration(){var n,a;const t=((a=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:a.call(n).duration)||0;return wl(Number(t))}get time(){return wl(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=yl(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){var a;return this.allowFlatten&&((a=this.animation.effect)==null||a.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&Jq()?(this.animation.timeline=t,Sc):n(this)}}const rM={anticipate:BA,backInOut:OA,circInOut:$A};function rU(e){return e in rM}function iU(e){typeof e.ease=="string"&&rU(e.ease)&&(e.ease=rM[e.ease])}const xE=10;class oU extends aU{constructor(t){iU(t),JA(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:a,onComplete:r,element:i,...o}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const c=new wb({...o,autoplay:!1}),l=yl(this.finishedTime??this.time);n.setWithVelocity(c.sample(l-xE).value,c.sample(l).value,xE),c.stop()}}const bE=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Cd.test(e)||e==="0")&&!e.startsWith("url("));function cU(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function lU(e,t,n,a){const r=e[0];if(r===null)return!1;if(t==="display"||t==="visibility")return!0;const i=e[e.length-1],o=bE(r,t),c=bE(i,t);return!o||!c?!1:cU(e)||(n==="spring"||aM(n))&&a}function u3(e){return kA(e)&&"offsetHeight"in e}const uU=new Set(["opacity","clipPath","filter","transform"]),dU=KN(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function hU(e){var d;const{motionValue:t,name:n,repeatDelay:a,repeatType:r,damping:i,type:o}=e;if(!u3((d=t==null?void 0:t.owner)==null?void 0:d.current))return!1;const{onUpdate:c,transformTemplate:l}=t.owner.getProps();return dU()&&n&&uU.has(n)&&(n!=="transform"||!l)&&!c&&!a&&r!=="mirror"&&i!==0&&o!=="inertia"}const fU=40;class mU extends c3{constructor({autoplay:t=!0,delay:n=0,type:a="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:o="loop",keyframes:c,name:l,motionValue:d,element:f,...g}){var S;super(),this.stop=()=>{var j,N;this._animation&&(this._animation.stop(),(j=this.stopTimeline)==null||j.call(this)),(N=this.keyframeResolver)==null||N.cancel()},this.createdAt=Io.now();const b={autoplay:t,delay:n,type:a,repeat:r,repeatDelay:i,repeatType:o,name:l,motionValue:d,element:f,...g},w=(f==null?void 0:f.KeyframeResolver)||l3;this.keyframeResolver=new w(c,(j,N,I)=>this.onKeyframesResolved(j,N,b,!I),l,d,f),(S=this.keyframeResolver)==null||S.scheduleResolve()}onKeyframesResolved(t,n,a,r){this.keyframeResolver=void 0;const{name:i,type:o,velocity:c,delay:l,isHandoff:d,onUpdate:f}=a;this.resolvedAt=Io.now(),lU(t,i,o,c)||((xu.instantAnimations||!l)&&(f==null||f(o3(t,a,n))),t[0]=t[t.length-1],a.duration=0,a.repeat=0);const b={startTime:r?this.resolvedAt?this.resolvedAt-this.createdAt>fU?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...a,keyframes:t},w=!d&&hU(b)?new oU({...b,element:b.motionValue.owner.current}):new wb(b);w.finished.then(()=>this.notifyFinished()).catch(Sc),this.pendingTimeline&&(this.stopTimeline=w.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=w}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),Xq()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}const pU=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function gU(e){const t=pU.exec(e);if(!t)return[,];const[,n,a,r]=t;return[`--${n??a}`,r]}function iM(e,t,n=1){const[a,r]=gU(e);if(!a)return;const i=window.getComputedStyle(t).getPropertyValue(a);if(i){const o=i.trim();return EA(o)?parseFloat(o):o}return n3(r)?iM(r,t,n+1):r}function d3(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const oM=new Set(["width","height","top","left","right","bottom",...Vm]),_U={test:e=>e==="auto",parse:e=>e},cM=e=>t=>t.test(e),lM=[zm,Hs,Cl,rd,lq,cq,_U],yE=e=>lM.find(cM(e));function vU(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||IA(e):!0}const xU=new Set(["brightness","contrast","saturate","opacity"]);function bU(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[a]=n.match(s3)||[];if(!a)return e;const r=n.replace(a,"");let i=xU.has(t)?1:0;return a!==n&&(i*=100),t+"("+i+r+")"}const yU=/\b([a-z-]*)\(.*?\)/gu,BS={...Cd,getAnimatableNone:e=>{const t=e.match(yU);return t?t.map(bU).join(" "):e}},wE={...zm,transform:Math.round},wU={rotate:rd,rotateX:rd,rotateY:rd,rotateZ:rd,scale:A_,scaleX:A_,scaleY:A_,scaleZ:A_,skew:rd,skewX:rd,skewY:rd,distance:Hs,translateX:Hs,translateY:Hs,translateZ:Hs,x:Hs,y:Hs,z:Hs,perspective:Hs,transformPerspective:Hs,opacity:pg,originX:cE,originY:cE,originZ:Hs},h3={borderWidth:Hs,borderTopWidth:Hs,borderRightWidth:Hs,borderBottomWidth:Hs,borderLeftWidth:Hs,borderRadius:Hs,radius:Hs,borderTopLeftRadius:Hs,borderTopRightRadius:Hs,borderBottomRightRadius:Hs,borderBottomLeftRadius:Hs,width:Hs,maxWidth:Hs,height:Hs,maxHeight:Hs,top:Hs,right:Hs,bottom:Hs,left:Hs,padding:Hs,paddingTop:Hs,paddingRight:Hs,paddingBottom:Hs,paddingLeft:Hs,margin:Hs,marginTop:Hs,marginRight:Hs,marginBottom:Hs,marginLeft:Hs,backgroundPositionX:Hs,backgroundPositionY:Hs,...wU,zIndex:wE,fillOpacity:pg,strokeOpacity:pg,numOctaves:wE},CU={...h3,color:wi,backgroundColor:wi,outlineColor:wi,fill:wi,stroke:wi,borderColor:wi,borderTopColor:wi,borderRightColor:wi,borderBottomColor:wi,borderLeftColor:wi,filter:BS,WebkitFilter:BS},uM=e=>CU[e];function dM(e,t){let n=uM(e);return n!==BS&&(n=Cd),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const SU=new Set(["auto","none","0"]);function jU(e,t,n){let a=0,r;for(;a<e.length&&!r;){const i=e[a];typeof i=="string"&&!SU.has(i)&&gg(i).values.length&&(r=e[a]),a++}if(r&&n)for(const i of t)e[i]=dM(n,r)}class NU extends l3{constructor(t,n,a,r,i){super(t,n,a,r,i,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:a}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<t.length;l++){let d=t[l];if(typeof d=="string"&&(d=d.trim(),n3(d))){const f=iM(d,n.current);f!==void 0&&(t[l]=f),l===t.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!oM.has(a)||t.length!==2)return;const[r,i]=t,o=yE(r),c=yE(i);if(o!==c)if(_E(o)&&_E(c))for(let l=0;l<t.length;l++){const d=t[l];typeof d=="string"&&(t[l]=parseFloat(d))}else xh[a]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,a=[];for(let r=0;r<t.length;r++)(t[r]===null||vU(t[r]))&&a.push(r);a.length&&jU(t,a,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:a}=this;if(!t||!t.current)return;a==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=xh[a](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const r=n[n.length-1];r!==void 0&&t.getValue(a,r).jump(r,!1)}measureEndState(){var c;const{element:t,name:n,unresolvedKeyframes:a}=this;if(!t||!t.current)return;const r=t.getValue(n);r&&r.jump(this.measuredOrigin,!1);const i=a.length-1,o=a[i];a[i]=xh[n](t.measureViewportBox(),window.getComputedStyle(t.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(c=this.removedTransforms)!=null&&c.length&&this.removedTransforms.forEach(([l,d])=>{t.getValue(l).set(d)}),this.resolveNoneKeyframes()}}function EU(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let a=document;const r=(n==null?void 0:n[e])??a.querySelectorAll(e);return r?Array.from(r):[]}return Array.from(e)}const hM=(e,t)=>t&&typeof e=="number"?t.transform(e):e,CE=30,kU=e=>!isNaN(parseFloat(e)),W1={current:void 0};class IU{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(a,r=!0)=>{var o,c;const i=Io.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(a),this.current!==this.prev&&((o=this.events.change)==null||o.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty();r&&((c=this.events.renderRequest)==null||c.notify(this.current))},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=Io.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=kU(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new ZN);const a=this.events[t].add(n);return t==="change"?()=>{a(),Tr.read(()=>{this.events.change.getSize()||this.stop()})}:a}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,a){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-a}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return W1.current&&W1.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const t=Io.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>CE)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,CE);return DA(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,n;(t=this.dependents)==null||t.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ah(e,t){return new IU(e,t)}const{schedule:f3}=HA(queueMicrotask,!1),Oc={x:!1,y:!1};function fM(){return Oc.x||Oc.y}function DU(e){return e==="x"||e==="y"?Oc[e]?null:(Oc[e]=!0,()=>{Oc[e]=!1}):Oc.x||Oc.y?null:(Oc.x=Oc.y=!0,()=>{Oc.x=Oc.y=!1})}function mM(e,t){const n=EU(e),a=new AbortController,r={passive:!0,...t,signal:a.signal};return[n,r,()=>a.abort()]}function SE(e){return!(e.pointerType==="touch"||fM())}function TU(e,t,n={}){const[a,r,i]=mM(e,n),o=c=>{if(!SE(c))return;const{target:l}=c,d=t(l,c);if(typeof d!="function"||!l)return;const f=g=>{SE(g)&&(d(g),l.removeEventListener("pointerleave",f))};l.addEventListener("pointerleave",f,r)};return a.forEach(c=>{c.addEventListener("pointerenter",o,r)}),i}const pM=(e,t)=>t?e===t?!0:pM(e,t.parentElement):!1,m3=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,AU=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function MU(e){return AU.has(e.tagName)||e.tabIndex!==-1}const Cv=new WeakSet;function jE(e){return t=>{t.key==="Enter"&&e(t)}}function Dw(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const RU=(e,t)=>{const n=e.currentTarget;if(!n)return;const a=jE(()=>{if(Cv.has(n))return;Dw(n,"down");const r=jE(()=>{Dw(n,"up")}),i=()=>Dw(n,"cancel");n.addEventListener("keyup",r,t),n.addEventListener("blur",i,t)});n.addEventListener("keydown",a,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",a),t)};function NE(e){return m3(e)&&!fM()}function OU(e,t,n={}){const[a,r,i]=mM(e,n),o=c=>{const l=c.currentTarget;if(!NE(c))return;Cv.add(l);const d=t(l,c),f=(w,S)=>{window.removeEventListener("pointerup",g),window.removeEventListener("pointercancel",b),Cv.has(l)&&Cv.delete(l),NE(w)&&typeof d=="function"&&d(w,{success:S})},g=w=>{f(w,l===window||l===document||n.useGlobalTarget||pM(l,w.target))},b=w=>{f(w,!1)};window.addEventListener("pointerup",g,r),window.addEventListener("pointercancel",b,r)};return a.forEach(c=>{(n.useGlobalTarget?window:c).addEventListener("pointerdown",o,r),u3(c)&&(c.addEventListener("focus",d=>RU(d,r)),!MU(c)&&!c.hasAttribute("tabindex")&&(c.tabIndex=0))}),i}function gM(e){return kA(e)&&"ownerSVGElement"in e}function BU(e){return gM(e)&&e.tagName==="svg"}function LU(...e){const t=!Array.isArray(e[0]),n=t?0:-1,a=e[0+n],r=e[1+n],i=e[2+n],o=e[3+n],c=ZA(r,i,o);return t?c(a):c}const Fi=e=>!!(e&&e.getVelocity);function $U(e,t,n){const a=e.get();let r=null,i=a,o;const c=typeof a=="string"?a.replace(/[\d.-]/g,""):void 0,l=()=>{r&&(r.stop(),r=null)},d=()=>{l(),r=new wb({keyframes:[kE(e.get()),kE(i)],velocity:e.getVelocity(),type:"spring",restDelta:.001,restSpeed:.01,...n,onUpdate:o})};e.attach((g,b)=>(i=g,o=w=>b(EE(w,c)),Tr.postRender(d),e.get()),l);let f;return Fi(t)&&(f=t.on("change",g=>e.set(EE(g,c))),e.on("destroy",f)),f}function EE(e,t){return t?e+t:e}function kE(e){return typeof e=="number"?e:parseFloat(e)}const PU=[...lM,wi,Cd],FU=e=>PU.find(cM(e)),Jg=v.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class HU extends v.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const a=n.offsetParent,r=u3(a)&&a.offsetWidth||0,i=this.props.sizeRef.current;i.height=n.offsetHeight||0,i.width=n.offsetWidth||0,i.top=n.offsetTop,i.left=n.offsetLeft,i.right=r-i.width-i.left}return null}componentDidUpdate(){}render(){return this.props.children}}function zU({children:e,isPresent:t,anchorX:n}){const a=v.useId(),r=v.useRef(null),i=v.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:o}=v.useContext(Jg);return v.useInsertionEffect(()=>{const{width:c,height:l,top:d,left:f,right:g}=i.current;if(t||!r.current||!c||!l)return;const b=n==="left"?`left: ${f}`:`right: ${g}`;r.current.dataset.motionPopId=a;const w=document.createElement("style");return o&&(w.nonce=o),document.head.appendChild(w),w.sheet&&w.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${c}px !important;
            height: ${l}px !important;
            ${b}px !important;
            top: ${d}px !important;
          }
        `),()=>{document.head.contains(w)&&document.head.removeChild(w)}},[t]),s.jsx(HU,{isPresent:t,childRef:r,sizeRef:i,children:v.cloneElement(e,{ref:r})})}const VU=({children:e,initial:t,isPresent:n,onExitComplete:a,custom:r,presenceAffectsLayout:i,mode:o,anchorX:c})=>{const l=Qg(qU),d=v.useId();let f=!0,g=v.useMemo(()=>(f=!1,{id:d,initial:t,isPresent:n,custom:r,onExitComplete:b=>{l.set(b,!0);for(const w of l.values())if(!w)return;a&&a()},register:b=>(l.set(b,!1),()=>l.delete(b))}),[n,l,a]);return i&&f&&(g={...g}),v.useMemo(()=>{l.forEach((b,w)=>l.set(w,!1))},[n]),v.useEffect(()=>{!n&&!l.size&&a&&a()},[n]),o==="popLayout"&&(e=s.jsx(zU,{isPresent:n,anchorX:c,children:e})),s.jsx(yb.Provider,{value:g,children:e})};function qU(){return new Map}function _M(e=!0){const t=v.useContext(yb);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:a,register:r}=t,i=v.useId();v.useEffect(()=>{if(e)return r(i)},[e]);const o=v.useCallback(()=>e&&a&&a(i),[i,a,e]);return!n&&a?[!1,o]:[!0]}const M_=e=>e.key||"";function IE(e){const t=[];return v.Children.forEach(e,n=>{v.isValidElement(n)&&t.push(n)}),t}const Fc=({children:e,custom:t,initial:n=!0,onExitComplete:a,presenceAffectsLayout:r=!0,mode:i="sync",propagate:o=!1,anchorX:c="left"})=>{const[l,d]=_M(o),f=v.useMemo(()=>IE(e),[e]),g=o&&!l?[]:f.map(M_),b=v.useRef(!0),w=v.useRef(f),S=Qg(()=>new Map),[j,N]=v.useState(f),[I,M]=v.useState(f);YN(()=>{b.current=!1,w.current=f;for(let O=0;O<I.length;O++){const R=M_(I[O]);g.includes(R)?S.delete(R):S.get(R)!==!0&&S.set(R,!1)}},[I,g.length,g.join("-")]);const B=[];if(f!==j){let O=[...f];for(let R=0;R<I.length;R++){const $=I[R],U=M_($);g.includes(U)||(O.splice(R,0,$),B.push($))}return i==="wait"&&B.length&&(O=B),M(IE(O)),N(f),null}const{forceRender:P}=v.useContext(UN);return s.jsx(s.Fragment,{children:I.map(O=>{const R=M_(O),$=o&&!l?!1:f===I||g.includes(R),U=()=>{if(S.has(R))S.set(R,!0);else return;let F=!0;S.forEach(H=>{H||(F=!1)}),F&&(P==null||P(),M(w.current),o&&(d==null||d()),a&&a())};return s.jsx(VU,{isPresent:$,initial:!b.current||n?void 0:!1,custom:t,presenceAffectsLayout:r,mode:i,onExitComplete:$?void 0:U,anchorX:c,children:O},R)})})},vM=v.createContext({strict:!1}),DE={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},um={};for(const e in DE)um[e]={isEnabled:t=>DE[e].some(n=>!!t[n])};function UU(e){for(const t in e)um[t]={...um[t],...e[t]}}const WU=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function _x(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||WU.has(e)}let xM=e=>!_x(e);function YU(e){typeof e=="function"&&(xM=t=>t.startsWith("on")?!_x(t):e(t))}try{YU(require("@emotion/is-prop-valid").default)}catch{}function GU(e,t,n){const a={};for(const r in e)r==="values"&&typeof e.values=="object"||(xM(r)||n===!0&&_x(r)||!t&&!_x(r)||e.draggable&&r.startsWith("onDrag"))&&(a[r]=e[r]);return a}function QU(e){if(typeof Proxy>"u")return e;const t=new Map,n=(...a)=>e(...a);return new Proxy(n,{get:(a,r)=>r==="create"?e:(t.has(r)||t.set(r,e(r)),t.get(r))})}const Cb=v.createContext({});function Sb(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function _g(e){return typeof e=="string"||Array.isArray(e)}const p3=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],g3=["initial",...p3];function jb(e){return Sb(e.animate)||g3.some(t=>_g(e[t]))}function bM(e){return!!(jb(e)||e.variants)}function XU(e,t){if(jb(e)){const{initial:n,animate:a}=e;return{initial:n===!1||_g(n)?n:void 0,animate:_g(a)?a:void 0}}return e.inherit!==!1?t:{}}function KU(e){const{initial:t,animate:n}=XU(e,v.useContext(Cb));return v.useMemo(()=>({initial:t,animate:n}),[TE(t),TE(n)])}function TE(e){return Array.isArray(e)?e.join(" "):e}const ZU=Symbol.for("motionComponentSymbol");function Uf(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function JU(e,t,n){return v.useCallback(a=>{a&&e.onMount&&e.onMount(a),t&&(a?t.mount(a):t.unmount()),n&&(typeof n=="function"?n(a):Uf(n)&&(n.current=a))},[t])}const _3=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),eW="framerAppearId",yM="data-"+_3(eW),wM=v.createContext({});function tW(e,t,n,a,r){var j,N;const{visualElement:i}=v.useContext(Cb),o=v.useContext(vM),c=v.useContext(yb),l=v.useContext(Jg).reducedMotion,d=v.useRef(null);a=a||o.renderer,!d.current&&a&&(d.current=a(e,{visualState:t,parent:i,props:n,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:l}));const f=d.current,g=v.useContext(wM);f&&!f.projection&&r&&(f.type==="html"||f.type==="svg")&&nW(d.current,n,r,g);const b=v.useRef(!1);v.useInsertionEffect(()=>{f&&b.current&&f.update(n,c)});const w=n[yM],S=v.useRef(!!w&&!((j=window.MotionHandoffIsComplete)!=null&&j.call(window,w))&&((N=window.MotionHasOptimisedAnimation)==null?void 0:N.call(window,w)));return YN(()=>{f&&(b.current=!0,window.MotionIsMounted=!0,f.updateFeatures(),f3.render(f.render),S.current&&f.animationState&&f.animationState.animateChanges())}),v.useEffect(()=>{f&&(!S.current&&f.animationState&&f.animationState.animateChanges(),S.current&&(queueMicrotask(()=>{var I;(I=window.MotionHandoffMarkAsComplete)==null||I.call(window,w)}),S.current=!1))}),f}function nW(e,t,n,a){const{layoutId:r,layout:i,drag:o,dragConstraints:c,layoutScroll:l,layoutRoot:d,layoutCrossfade:f}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:CM(e.parent)),e.projection.setOptions({layoutId:r,layout:i,alwaysMeasureLayout:!!o||c&&Uf(c),visualElement:e,animationType:typeof i=="string"?i:"both",initialPromotionConfig:a,crossfade:f,layoutScroll:l,layoutRoot:d})}function CM(e){if(e)return e.options.allowProjection!==!1?e.projection:CM(e.parent)}function sW({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:a,Component:r}){e&&UU(e);function i(c,l){let d;const f={...v.useContext(Jg),...c,layoutId:aW(c)},{isStatic:g}=f,b=KU(c),w=a(c,g);if(!g&&WN){rW();const S=iW(f);d=S.MeasureLayout,b.visualElement=tW(r,w,f,t,S.ProjectionNode)}return s.jsxs(Cb.Provider,{value:b,children:[d&&b.visualElement?s.jsx(d,{visualElement:b.visualElement,...f}):null,n(r,c,JU(w,b.visualElement,l),w,g,b.visualElement)]})}i.displayName=`motion.${typeof r=="string"?r:`create(${r.displayName??r.name??""})`}`;const o=v.forwardRef(i);return o[ZU]=r,o}function aW({layoutId:e}){const t=v.useContext(UN).id;return t&&e!==void 0?t+"-"+e:e}function rW(e,t){v.useContext(vM).strict}function iW(e){const{drag:t,layout:n}=um;if(!t&&!n)return{};const a={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?a.MeasureLayout:void 0,ProjectionNode:a.ProjectionNode}}const vg={};function oW(e){for(const t in e)vg[t]=e[t],t3(t)&&(vg[t].isCSSVariable=!0)}function SM(e,{layout:t,layoutId:n}){return qm.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!vg[e]||e==="opacity")}const cW={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},lW=Vm.length;function uW(e,t,n){let a="",r=!0;for(let i=0;i<lW;i++){const o=Vm[i],c=e[o];if(c===void 0)continue;let l=!0;if(typeof c=="number"?l=c===(o.startsWith("scale")?1:0):l=parseFloat(c)===0,!l||n){const d=hM(c,h3[o]);if(!l){r=!1;const f=cW[o]||o;a+=`${f}(${d}) `}n&&(t[o]=d)}}return a=a.trim(),n?a=n(t,r?"":a):r&&(a="none"),a}function v3(e,t,n){const{style:a,vars:r,transformOrigin:i}=e;let o=!1,c=!1;for(const l in t){const d=t[l];if(qm.has(l)){o=!0;continue}else if(t3(l)){r[l]=d;continue}else{const f=hM(d,h3[l]);l.startsWith("origin")?(c=!0,i[l]=f):a[l]=f}}if(t.transform||(o||n?a.transform=uW(t,e.transform,n):a.transform&&(a.transform="none")),c){const{originX:l="50%",originY:d="50%",originZ:f=0}=i;a.transformOrigin=`${l} ${d} ${f}`}}const x3=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function jM(e,t,n){for(const a in t)!Fi(t[a])&&!SM(a,n)&&(e[a]=t[a])}function dW({transformTemplate:e},t){return v.useMemo(()=>{const n=x3();return v3(n,t,e),Object.assign({},n.vars,n.style)},[t])}function hW(e,t){const n=e.style||{},a={};return jM(a,n,e),Object.assign(a,dW(e,t)),a}function fW(e,t){const n={},a=hW(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,a.userSelect=a.WebkitUserSelect=a.WebkitTouchCallout="none",a.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=a,n}const mW={offset:"stroke-dashoffset",array:"stroke-dasharray"},pW={offset:"strokeDashoffset",array:"strokeDasharray"};function gW(e,t,n=1,a=0,r=!0){e.pathLength=1;const i=r?mW:pW;e[i.offset]=Hs.transform(-a);const o=Hs.transform(t),c=Hs.transform(n);e[i.array]=`${o} ${c}`}function NM(e,{attrX:t,attrY:n,attrScale:a,pathLength:r,pathSpacing:i=1,pathOffset:o=0,...c},l,d,f){if(v3(e,c,d),l){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:g,style:b}=e;g.transform&&(b.transform=g.transform,delete g.transform),(b.transform||g.transformOrigin)&&(b.transformOrigin=g.transformOrigin??"50% 50%",delete g.transformOrigin),b.transform&&(b.transformBox=(f==null?void 0:f.transformBox)??"fill-box",delete g.transformBox),t!==void 0&&(g.x=t),n!==void 0&&(g.y=n),a!==void 0&&(g.scale=a),r!==void 0&&gW(g,r,i,o,!1)}const EM=()=>({...x3(),attrs:{}}),kM=e=>typeof e=="string"&&e.toLowerCase()==="svg";function _W(e,t,n,a){const r=v.useMemo(()=>{const i=EM();return NM(i,t,kM(a),e.transformTemplate,e.style),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};jM(i,e.style,e),r.style={...i,...r.style}}return r}const vW=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function b3(e){return typeof e!="string"||e.includes("-")?!1:!!(vW.indexOf(e)>-1||/[A-Z]/u.test(e))}function xW(e=!1){return(n,a,r,{latestValues:i},o)=>{const l=(b3(n)?_W:fW)(a,i,o,n),d=GU(a,typeof n=="string",e),f=n!==v.Fragment?{...d,...l,ref:r}:{},{children:g}=a,b=v.useMemo(()=>Fi(g)?g.get():g,[g]);return v.createElement(n,{...f,children:b})}}function AE(e){const t=[{},{}];return e==null||e.values.forEach((n,a)=>{t[0][a]=n.get(),t[1][a]=n.getVelocity()}),t}function y3(e,t,n,a){if(typeof t=="function"){const[r,i]=AE(a);t=t(n!==void 0?n:e.custom,r,i)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[r,i]=AE(a);t=t(n!==void 0?n:e.custom,r,i)}return t}function Sv(e){return Fi(e)?e.get():e}function bW({scrapeMotionValuesFromProps:e,createRenderState:t},n,a,r){return{latestValues:yW(n,a,r,e),renderState:t()}}const IM=e=>(t,n)=>{const a=v.useContext(Cb),r=v.useContext(yb),i=()=>bW(e,t,a,r);return n?i():Qg(i)};function yW(e,t,n,a){const r={},i=a(e,{});for(const b in i)r[b]=Sv(i[b]);let{initial:o,animate:c}=e;const l=jb(e),d=bM(e);t&&d&&!l&&e.inherit!==!1&&(o===void 0&&(o=t.initial),c===void 0&&(c=t.animate));let f=n?n.initial===!1:!1;f=f||o===!1;const g=f?c:o;if(g&&typeof g!="boolean"&&!Sb(g)){const b=Array.isArray(g)?g:[g];for(let w=0;w<b.length;w++){const S=y3(e,b[w]);if(S){const{transitionEnd:j,transition:N,...I}=S;for(const M in I){let B=I[M];if(Array.isArray(B)){const P=f?B.length-1:0;B=B[P]}B!==null&&(r[M]=B)}for(const M in j)r[M]=j[M]}}}return r}function w3(e,t,n){var i;const{style:a}=e,r={};for(const o in a)(Fi(a[o])||t.style&&Fi(t.style[o])||SM(o,e)||((i=n==null?void 0:n.getValue(o))==null?void 0:i.liveStyle)!==void 0)&&(r[o]=a[o]);return r}const wW={useVisualState:IM({scrapeMotionValuesFromProps:w3,createRenderState:x3})};function DM(e,t,n){const a=w3(e,t,n);for(const r in e)if(Fi(e[r])||Fi(t[r])){const i=Vm.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;a[i]=e[r]}return a}const CW={useVisualState:IM({scrapeMotionValuesFromProps:DM,createRenderState:EM})};function SW(e,t){return function(a,{forwardMotionProps:r}={forwardMotionProps:!1}){const o={...b3(a)?CW:wW,preloadedFeatures:e,useRender:xW(r),createVisualElement:t,Component:a};return sW(o)}}function xg(e,t,n){const a=e.getProps();return y3(a,t,n!==void 0?n:a.custom,e)}const LS=e=>Array.isArray(e);function jW(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Ah(n))}function NW(e){return LS(e)?e[e.length-1]||0:e}function EW(e,t){const n=xg(e,t);let{transitionEnd:a={},transition:r={},...i}=n||{};i={...i,...a};for(const o in i){const c=NW(i[o]);jW(e,o,c)}}function kW(e){return!!(Fi(e)&&e.add)}function $S(e,t){const n=e.getValue("willChange");if(kW(n))return n.add(t);if(!n&&xu.WillChange){const a=new xu.WillChange("auto");e.addValue("willChange",a),a.add(t)}}function TM(e){return e.props[yM]}const IW=e=>e!==null;function DW(e,{repeat:t,repeatType:n="loop"},a){const r=e.filter(IW),i=t&&n!=="loop"&&t%2===1?0:r.length-1;return r[i]}const TW={type:"spring",stiffness:500,damping:25,restSpeed:10},AW=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),MW={type:"keyframes",duration:.8},RW={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},OW=(e,{keyframes:t})=>t.length>2?MW:qm.has(e)?e.startsWith("scale")?AW(t[1]):TW:RW;function BW({when:e,delay:t,delayChildren:n,staggerChildren:a,staggerDirection:r,repeat:i,repeatType:o,repeatDelay:c,from:l,elapsed:d,...f}){return!!Object.keys(f).length}const C3=(e,t,n,a={},r,i)=>o=>{const c=d3(a,e)||{},l=c.delay||a.delay||0;let{elapsed:d=0}=a;d=d-yl(l);const f={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...c,delay:-d,onUpdate:b=>{t.set(b),c.onUpdate&&c.onUpdate(b)},onComplete:()=>{o(),c.onComplete&&c.onComplete()},name:e,motionValue:t,element:i?void 0:r};BW(c)||Object.assign(f,OW(e,f)),f.duration&&(f.duration=yl(f.duration)),f.repeatDelay&&(f.repeatDelay=yl(f.repeatDelay)),f.from!==void 0&&(f.keyframes[0]=f.from);let g=!1;if((f.type===!1||f.duration===0&&!f.repeatDelay)&&(f.duration=0,f.delay===0&&(g=!0)),(xu.instantAnimations||xu.skipAnimations)&&(g=!0,f.duration=0,f.delay=0),f.allowFlatten=!c.type&&!c.ease,g&&!i&&t.get()!==void 0){const b=DW(f.keyframes,c);if(b!==void 0){Tr.update(()=>{f.onUpdate(b),f.onComplete()});return}}return c.isSync?new wb(f):new mU(f)};function LW({protectedKeys:e,needsAnimating:t},n){const a=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,a}function AM(e,t,{delay:n=0,transitionOverride:a,type:r}={}){let{transition:i=e.getDefaultTransition(),transitionEnd:o,...c}=t;a&&(i=a);const l=[],d=r&&e.animationState&&e.animationState.getState()[r];for(const f in c){const g=e.getValue(f,e.latestValues[f]??null),b=c[f];if(b===void 0||d&&LW(d,f))continue;const w={delay:n,...d3(i||{},f)},S=g.get();if(S!==void 0&&!g.isAnimating&&!Array.isArray(b)&&b===S&&!w.velocity)continue;let j=!1;if(window.MotionHandoffAnimation){const I=TM(e);if(I){const M=window.MotionHandoffAnimation(I,f,Tr);M!==null&&(w.startTime=M,j=!0)}}$S(e,f),g.start(C3(f,g,b,e.shouldReduceMotion&&oM.has(f)?{type:!1}:w,e,j));const N=g.animation;N&&l.push(N)}return o&&Promise.all(l).then(()=>{Tr.update(()=>{o&&EW(e,o)})}),l}function PS(e,t,n={}){var l;const a=xg(e,t,n.type==="exit"?(l=e.presenceContext)==null?void 0:l.custom:void 0);let{transition:r=e.getDefaultTransition()||{}}=a||{};n.transitionOverride&&(r=n.transitionOverride);const i=a?()=>Promise.all(AM(e,a,n)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(d=0)=>{const{delayChildren:f=0,staggerChildren:g,staggerDirection:b}=r;return $W(e,t,f+d,g,b,n)}:()=>Promise.resolve(),{when:c}=r;if(c){const[d,f]=c==="beforeChildren"?[i,o]:[o,i];return d().then(()=>f())}else return Promise.all([i(),o(n.delay)])}function $W(e,t,n=0,a=0,r=1,i){const o=[],c=(e.variantChildren.size-1)*a,l=r===1?(d=0)=>d*a:(d=0)=>c-d*a;return Array.from(e.variantChildren).sort(PW).forEach((d,f)=>{d.notify("AnimationStart",t),o.push(PS(d,t,{...i,delay:n+l(f)}).then(()=>d.notify("AnimationComplete",t)))}),Promise.all(o)}function PW(e,t){return e.sortNodePosition(t)}function FW(e,t,n={}){e.notify("AnimationStart",t);let a;if(Array.isArray(t)){const r=t.map(i=>PS(e,i,n));a=Promise.all(r)}else if(typeof t=="string")a=PS(e,t,n);else{const r=typeof t=="function"?xg(e,t,n.custom):t;a=Promise.all(AM(e,r,n))}return a.then(()=>{e.notify("AnimationComplete",t)})}function MM(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let a=0;a<n;a++)if(t[a]!==e[a])return!1;return!0}const HW=g3.length;function RM(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?RM(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<HW;n++){const a=g3[n],r=e.props[a];(_g(r)||r===!1)&&(t[a]=r)}return t}const zW=[...p3].reverse(),VW=p3.length;function qW(e){return t=>Promise.all(t.map(({animation:n,options:a})=>FW(e,n,a)))}function UW(e){let t=qW(e),n=ME(),a=!0;const r=l=>(d,f)=>{var b;const g=xg(e,f,l==="exit"?(b=e.presenceContext)==null?void 0:b.custom:void 0);if(g){const{transition:w,transitionEnd:S,...j}=g;d={...d,...j,...S}}return d};function i(l){t=l(e)}function o(l){const{props:d}=e,f=RM(e.parent)||{},g=[],b=new Set;let w={},S=1/0;for(let N=0;N<VW;N++){const I=zW[N],M=n[I],B=d[I]!==void 0?d[I]:f[I],P=_g(B),O=I===l?M.isActive:null;O===!1&&(S=N);let R=B===f[I]&&B!==d[I]&&P;if(R&&a&&e.manuallyAnimateOnMount&&(R=!1),M.protectedKeys={...w},!M.isActive&&O===null||!B&&!M.prevProp||Sb(B)||typeof B=="boolean")continue;const $=WW(M.prevProp,B);let U=$||I===l&&M.isActive&&!R&&P||N>S&&P,F=!1;const H=Array.isArray(B)?B:[B];let ne=H.reduce(r(I),{});O===!1&&(ne={});const{prevResolvedValues:X={}}=M,te={...X,...ne},se=T=>{U=!0,b.has(T)&&(F=!0,b.delete(T)),M.needsAnimating[T]=!0;const J=e.getValue(T);J&&(J.liveStyle=!1)};for(const T in te){const J=ne[T],Z=X[T];if(w.hasOwnProperty(T))continue;let A=!1;LS(J)&&LS(Z)?A=!MM(J,Z):A=J!==Z,A?J!=null?se(T):b.add(T):J!==void 0&&b.has(T)?se(T):M.protectedKeys[T]=!0}M.prevProp=B,M.prevResolvedValues=ne,M.isActive&&(w={...w,...ne}),a&&e.blockInitialAnimation&&(U=!1),U&&(!(R&&$)||F)&&g.push(...H.map(T=>({animation:T,options:{type:I}})))}if(b.size){const N={};if(typeof d.initial!="boolean"){const I=xg(e,Array.isArray(d.initial)?d.initial[0]:d.initial);I&&I.transition&&(N.transition=I.transition)}b.forEach(I=>{const M=e.getBaseTarget(I),B=e.getValue(I);B&&(B.liveStyle=!0),N[I]=M??null}),g.push({animation:N})}let j=!!g.length;return a&&(d.initial===!1||d.initial===d.animate)&&!e.manuallyAnimateOnMount&&(j=!1),a=!1,j?t(g):Promise.resolve()}function c(l,d){var g;if(n[l].isActive===d)return Promise.resolve();(g=e.variantChildren)==null||g.forEach(b=>{var w;return(w=b.animationState)==null?void 0:w.setActive(l,d)}),n[l].isActive=d;const f=o(l);for(const b in n)n[b].protectedKeys={};return f}return{animateChanges:o,setActive:c,setAnimateFunction:i,getState:()=>n,reset:()=>{n=ME(),a=!0}}}function WW(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!MM(t,e):!1}function Kd(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function ME(){return{animate:Kd(!0),whileInView:Kd(),whileHover:Kd(),whileTap:Kd(),whileDrag:Kd(),whileFocus:Kd(),exit:Kd()}}class Id{constructor(t){this.isMounted=!1,this.node=t}update(){}}class YW extends Id{constructor(t){super(t),t.animationState||(t.animationState=UW(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Sb(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let GW=0;class QW extends Id{constructor(){super(...arguments),this.id=GW++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:a}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===a)return;const r=this.node.animationState.setActive("exit",!t);n&&!t&&r.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const XW={animation:{Feature:YW},exit:{Feature:QW}};function bg(e,t,n,a={passive:!0}){return e.addEventListener(t,n,a),()=>e.removeEventListener(t,n)}function e0(e){return{point:{x:e.pageX,y:e.pageY}}}const KW=e=>t=>m3(t)&&e(t,e0(t));function Y1(e,t,n,a){return bg(e,t,KW(n),a)}function OM({top:e,left:t,right:n,bottom:a}){return{x:{min:t,max:n},y:{min:e,max:a}}}function ZW({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function JW(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),a=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:a.y,right:a.x}}const BM=1e-4,eY=1-BM,tY=1+BM,LM=.01,nY=0-LM,sY=0+LM;function vo(e){return e.max-e.min}function aY(e,t,n){return Math.abs(e-t)<=n}function RE(e,t,n,a=.5){e.origin=a,e.originPoint=Gr(t.min,t.max,e.origin),e.scale=vo(n)/vo(t),e.translate=Gr(n.min,n.max,e.origin)-e.originPoint,(e.scale>=eY&&e.scale<=tY||isNaN(e.scale))&&(e.scale=1),(e.translate>=nY&&e.translate<=sY||isNaN(e.translate))&&(e.translate=0)}function G1(e,t,n,a){RE(e.x,t.x,n.x,a?a.originX:void 0),RE(e.y,t.y,n.y,a?a.originY:void 0)}function OE(e,t,n){e.min=n.min+t.min,e.max=e.min+vo(t)}function rY(e,t,n){OE(e.x,t.x,n.x),OE(e.y,t.y,n.y)}function BE(e,t,n){e.min=t.min-n.min,e.max=e.min+vo(t)}function Q1(e,t,n){BE(e.x,t.x,n.x),BE(e.y,t.y,n.y)}const LE=()=>({translate:0,scale:1,origin:0,originPoint:0}),Wf=()=>({x:LE(),y:LE()}),$E=()=>({min:0,max:0}),ui=()=>({x:$E(),y:$E()});function vc(e){return[e("x"),e("y")]}function Tw(e){return e===void 0||e===1}function FS({scale:e,scaleX:t,scaleY:n}){return!Tw(e)||!Tw(t)||!Tw(n)}function rh(e){return FS(e)||$M(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function $M(e){return PE(e.x)||PE(e.y)}function PE(e){return e&&e!=="0%"}function vx(e,t,n){const a=e-n,r=t*a;return n+r}function FE(e,t,n,a,r){return r!==void 0&&(e=vx(e,r,a)),vx(e,n,a)+t}function HS(e,t=0,n=1,a,r){e.min=FE(e.min,t,n,a,r),e.max=FE(e.max,t,n,a,r)}function PM(e,{x:t,y:n}){HS(e.x,t.translate,t.scale,t.originPoint),HS(e.y,n.translate,n.scale,n.originPoint)}const HE=.999999999999,zE=1.0000000000001;function iY(e,t,n,a=!1){const r=n.length;if(!r)return;t.x=t.y=1;let i,o;for(let c=0;c<r;c++){i=n[c],o=i.projectionDelta;const{visualElement:l}=i.options;l&&l.props.style&&l.props.style.display==="contents"||(a&&i.options.layoutScroll&&i.scroll&&i!==i.root&&Gf(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,PM(e,o)),a&&rh(i.latestValues)&&Gf(e,i.latestValues))}t.x<zE&&t.x>HE&&(t.x=1),t.y<zE&&t.y>HE&&(t.y=1)}function Yf(e,t){e.min=e.min+t,e.max=e.max+t}function VE(e,t,n,a,r=.5){const i=Gr(e.min,e.max,r);HS(e,t,n,i,a)}function Gf(e,t){VE(e.x,t.x,t.scaleX,t.scale,t.originX),VE(e.y,t.y,t.scaleY,t.scale,t.originY)}function FM(e,t){return OM(JW(e.getBoundingClientRect(),t))}function oY(e,t,n){const a=FM(e,n),{scroll:r}=t;return r&&(Yf(a.x,r.offset.x),Yf(a.y,r.offset.y)),a}const HM=({current:e})=>e?e.ownerDocument.defaultView:null,qE=(e,t)=>Math.abs(e-t);function cY(e,t){const n=qE(e.x,t.x),a=qE(e.y,t.y);return Math.sqrt(n**2+a**2)}class zM{constructor(t,n,{transformPagePoint:a,contextWindow:r,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const g=Mw(this.lastMoveEventInfo,this.history),b=this.startEvent!==null,w=cY(g.offset,{x:0,y:0})>=3;if(!b&&!w)return;const{point:S}=g,{timestamp:j}=Qi;this.history.push({...S,timestamp:j});const{onStart:N,onMove:I}=this.handlers;b||(N&&N(this.lastMoveEvent,g),this.startEvent=this.lastMoveEvent),I&&I(this.lastMoveEvent,g)},this.handlePointerMove=(g,b)=>{this.lastMoveEvent=g,this.lastMoveEventInfo=Aw(b,this.transformPagePoint),Tr.update(this.updatePoint,!0)},this.handlePointerUp=(g,b)=>{this.end();const{onEnd:w,onSessionEnd:S,resumeAnimation:j}=this.handlers;if(this.dragSnapToOrigin&&j&&j(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const N=Mw(g.type==="pointercancel"?this.lastMoveEventInfo:Aw(b,this.transformPagePoint),this.history);this.startEvent&&w&&w(g,N),S&&S(g,N)},!m3(t))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=a,this.contextWindow=r||window;const o=e0(t),c=Aw(o,this.transformPagePoint),{point:l}=c,{timestamp:d}=Qi;this.history=[{...l,timestamp:d}];const{onSessionStart:f}=n;f&&f(t,Mw(c,this.history)),this.removeListeners=Xg(Y1(this.contextWindow,"pointermove",this.handlePointerMove),Y1(this.contextWindow,"pointerup",this.handlePointerUp),Y1(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),bu(this.updatePoint)}}function Aw(e,t){return t?{point:t(e.point)}:e}function UE(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Mw({point:e},t){return{point:e,delta:UE(e,VM(t)),offset:UE(e,lY(t)),velocity:uY(t,.1)}}function lY(e){return e[0]}function VM(e){return e[e.length-1]}function uY(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,a=null;const r=VM(e);for(;n>=0&&(a=e[n],!(r.timestamp-a.timestamp>yl(t)));)n--;if(!a)return{x:0,y:0};const i=wl(r.timestamp-a.timestamp);if(i===0)return{x:0,y:0};const o={x:(r.x-a.x)/i,y:(r.y-a.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function dY(e,{min:t,max:n},a){return t!==void 0&&e<t?e=a?Gr(t,e,a.min):Math.max(e,t):n!==void 0&&e>n&&(e=a?Gr(n,e,a.max):Math.min(e,n)),e}function WE(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function hY(e,{top:t,left:n,bottom:a,right:r}){return{x:WE(e.x,n,r),y:WE(e.y,t,a)}}function YE(e,t){let n=t.min-e.min,a=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,a]=[a,n]),{min:n,max:a}}function fY(e,t){return{x:YE(e.x,t.x),y:YE(e.y,t.y)}}function mY(e,t){let n=.5;const a=vo(e),r=vo(t);return r>a?n=mg(t.min,t.max-a,e.min):a>r&&(n=mg(e.min,e.max-r,t.min)),vu(0,1,n)}function pY(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const zS=.35;function gY(e=zS){return e===!1?e=0:e===!0&&(e=zS),{x:GE(e,"left","right"),y:GE(e,"top","bottom")}}function GE(e,t,n){return{min:QE(e,t),max:QE(e,n)}}function QE(e,t){return typeof e=="number"?e:e[t]||0}const _Y=new WeakMap;class vY{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ui(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const r=f=>{const{dragSnapToOrigin:g}=this.getProps();g?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(e0(f).point)},i=(f,g)=>{const{drag:b,dragPropagation:w,onDragStart:S}=this.getProps();if(b&&!w&&(this.openDragLock&&this.openDragLock(),this.openDragLock=DU(b),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),vc(N=>{let I=this.getAxisMotionValue(N).get()||0;if(Cl.test(I)){const{projection:M}=this.visualElement;if(M&&M.layout){const B=M.layout.layoutBox[N];B&&(I=vo(B)*(parseFloat(I)/100))}}this.originPoint[N]=I}),S&&Tr.postRender(()=>S(f,g)),$S(this.visualElement,"transform");const{animationState:j}=this.visualElement;j&&j.setActive("whileDrag",!0)},o=(f,g)=>{const{dragPropagation:b,dragDirectionLock:w,onDirectionLock:S,onDrag:j}=this.getProps();if(!b&&!this.openDragLock)return;const{offset:N}=g;if(w&&this.currentDirection===null){this.currentDirection=xY(N),this.currentDirection!==null&&S&&S(this.currentDirection);return}this.updateAxis("x",g.point,N),this.updateAxis("y",g.point,N),this.visualElement.render(),j&&j(f,g)},c=(f,g)=>this.stop(f,g),l=()=>vc(f=>{var g;return this.getAnimationState(f)==="paused"&&((g=this.getAxisMotionValue(f).animation)==null?void 0:g.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new zM(t,{onSessionStart:r,onStart:i,onMove:o,onSessionEnd:c,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,contextWindow:HM(this.visualElement)})}stop(t,n){const a=this.isDragging;if(this.cancel(),!a)return;const{velocity:r}=n;this.startAnimation(r);const{onDragEnd:i}=this.getProps();i&&Tr.postRender(()=>i(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:a}=this.getProps();!a&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,a){const{drag:r}=this.getProps();if(!a||!R_(t,r,this.currentDirection))return;const i=this.getAxisMotionValue(t);let o=this.originPoint[t]+a[t];this.constraints&&this.constraints[t]&&(o=dY(o,this.constraints[t],this.elastic[t])),i.set(o)}resolveConstraints(){var i;const{dragConstraints:t,dragElastic:n}=this.getProps(),a=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(i=this.visualElement.projection)==null?void 0:i.layout,r=this.constraints;t&&Uf(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&a?this.constraints=hY(a.layoutBox,t):this.constraints=!1,this.elastic=gY(n),r!==this.constraints&&a&&this.constraints&&!this.hasMutatedConstraints&&vc(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=pY(a.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Uf(t))return!1;const a=t.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const i=oY(a,r.root,this.visualElement.getTransformPagePoint());let o=fY(r.layout.layoutBox,i);if(n){const c=n(ZW(o));this.hasMutatedConstraints=!!c,c&&(o=OM(c))}return o}startAnimation(t){const{drag:n,dragMomentum:a,dragElastic:r,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:c}=this.getProps(),l=this.constraints||{},d=vc(f=>{if(!R_(f,n,this.currentDirection))return;let g=l&&l[f]||{};o&&(g={min:0,max:0});const b=r?200:1e6,w=r?40:1e7,S={type:"inertia",velocity:a?t[f]:0,bounceStiffness:b,bounceDamping:w,timeConstant:750,restDelta:1,restSpeed:10,...i,...g};return this.startAxisValueAnimation(f,S)});return Promise.all(d).then(c)}startAxisValueAnimation(t,n){const a=this.getAxisMotionValue(t);return $S(this.visualElement,t),a.start(C3(t,a,0,n,this.visualElement,!1))}stopAnimation(){vc(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){vc(t=>{var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,a=this.visualElement.getProps(),r=a[n];return r||this.visualElement.getValue(t,(a.initial?a.initial[t]:void 0)||0)}snapToCursor(t){vc(n=>{const{drag:a}=this.getProps();if(!R_(n,a,this.currentDirection))return;const{projection:r}=this.visualElement,i=this.getAxisMotionValue(n);if(r&&r.layout){const{min:o,max:c}=r.layout.layoutBox[n];i.set(t[n]-Gr(o,c,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:a}=this.visualElement;if(!Uf(n)||!a||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};vc(o=>{const c=this.getAxisMotionValue(o);if(c&&this.constraints!==!1){const l=c.get();r[o]=mY({min:l,max:l},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",a.root&&a.root.updateScroll(),a.updateLayout(),this.resolveConstraints(),vc(o=>{if(!R_(o,t,null))return;const c=this.getAxisMotionValue(o),{min:l,max:d}=this.constraints[o];c.set(Gr(l,d,r[o]))})}addListeners(){if(!this.visualElement.current)return;_Y.set(this.visualElement,this);const t=this.visualElement.current,n=Y1(t,"pointerdown",l=>{const{drag:d,dragListener:f=!0}=this.getProps();d&&f&&this.start(l)}),a=()=>{const{dragConstraints:l}=this.getProps();Uf(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,i=r.addEventListener("measure",a);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),Tr.read(a);const o=bg(window,"resize",()=>this.scalePositionWithinConstraints()),c=r.addEventListener("didUpdate",({delta:l,hasLayoutChanged:d})=>{this.isDragging&&d&&(vc(f=>{const g=this.getAxisMotionValue(f);g&&(this.originPoint[f]+=l[f].translate,g.set(g.get()+l[f].translate))}),this.visualElement.render())});return()=>{o(),n(),i(),c&&c()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:a=!1,dragPropagation:r=!1,dragConstraints:i=!1,dragElastic:o=zS,dragMomentum:c=!0}=t;return{...t,drag:n,dragDirectionLock:a,dragPropagation:r,dragConstraints:i,dragElastic:o,dragMomentum:c}}}function R_(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function xY(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class bY extends Id{constructor(t){super(t),this.removeGroupControls=Sc,this.removeListeners=Sc,this.controls=new vY(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Sc}unmount(){this.removeGroupControls(),this.removeListeners()}}const XE=e=>(t,n)=>{e&&Tr.postRender(()=>e(t,n))};class yY extends Id{constructor(){super(...arguments),this.removePointerDownListener=Sc}onPointerDown(t){this.session=new zM(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:HM(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:a,onPanEnd:r}=this.node.getProps();return{onSessionStart:XE(t),onStart:XE(n),onMove:a,onEnd:(i,o)=>{delete this.session,r&&Tr.postRender(()=>r(i,o))}}}mount(){this.removePointerDownListener=Y1(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const jv={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function KE(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Qp={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Hs.test(e))e=parseFloat(e);else return e;const n=KE(e,t.target.x),a=KE(e,t.target.y);return`${n}% ${a}%`}},wY={correct:(e,{treeScale:t,projectionDelta:n})=>{const a=e,r=Cd.parse(e);if(r.length>5)return a;const i=Cd.createTransformer(e),o=typeof r[0]!="number"?1:0,c=n.x.scale*t.x,l=n.y.scale*t.y;r[0+o]/=c,r[1+o]/=l;const d=Gr(c,l,.5);return typeof r[2+o]=="number"&&(r[2+o]/=d),typeof r[3+o]=="number"&&(r[3+o]/=d),i(r)}};class CY extends v.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:a,layoutId:r}=this.props,{projection:i}=t;oW(SY),i&&(n.group&&n.group.add(i),a&&a.register&&r&&a.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),jv.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:a,drag:r,isPresent:i}=this.props,{projection:o}=a;return o&&(o.isPresent=i,r||t.layoutDependency!==n||n===void 0||t.isPresent!==i?o.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?o.promote():o.relegate()||Tr.postRender(()=>{const c=o.getStack();(!c||!c.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),f3.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:a}=this.props,{projection:r}=t;r&&(r.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(r),a&&a.deregister&&a.deregister(r))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function qM(e){const[t,n]=_M(),a=v.useContext(UN);return s.jsx(CY,{...e,layoutGroup:a,switchLayoutGroup:v.useContext(wM),isPresent:t,safeToRemove:n})}const SY={borderRadius:{...Qp,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Qp,borderTopRightRadius:Qp,borderBottomLeftRadius:Qp,borderBottomRightRadius:Qp,boxShadow:wY};function jY(e,t,n){const a=Fi(e)?e:Ah(e);return a.start(C3("",a,t,n)),a.animation}const NY=(e,t)=>e.depth-t.depth;class EY{constructor(){this.children=[],this.isDirty=!1}add(t){GN(this.children,t),this.isDirty=!0}remove(t){QN(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(NY),this.isDirty=!1,this.children.forEach(t)}}function kY(e,t){const n=Io.now(),a=({timestamp:r})=>{const i=r-n;i>=t&&(bu(a),e(i-t))};return Tr.setup(a,!0),()=>bu(a)}const UM=["TopLeft","TopRight","BottomLeft","BottomRight"],IY=UM.length,ZE=e=>typeof e=="string"?parseFloat(e):e,JE=e=>typeof e=="number"||Hs.test(e);function DY(e,t,n,a,r,i){r?(e.opacity=Gr(0,n.opacity??1,TY(a)),e.opacityExit=Gr(t.opacity??1,0,AY(a))):i&&(e.opacity=Gr(t.opacity??1,n.opacity??1,a));for(let o=0;o<IY;o++){const c=`border${UM[o]}Radius`;let l=ek(t,c),d=ek(n,c);if(l===void 0&&d===void 0)continue;l||(l=0),d||(d=0),l===0||d===0||JE(l)===JE(d)?(e[c]=Math.max(Gr(ZE(l),ZE(d),a),0),(Cl.test(d)||Cl.test(l))&&(e[c]+="%")):e[c]=d}(t.rotate||n.rotate)&&(e.rotate=Gr(t.rotate||0,n.rotate||0,a))}function ek(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const TY=WM(0,.5,LA),AY=WM(.5,.95,Sc);function WM(e,t,n){return a=>a<e?0:a>t?1:n(mg(e,t,a))}function tk(e,t){e.min=t.min,e.max=t.max}function hc(e,t){tk(e.x,t.x),tk(e.y,t.y)}function nk(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function sk(e,t,n,a,r){return e-=t,e=vx(e,1/n,a),r!==void 0&&(e=vx(e,1/r,a)),e}function MY(e,t=0,n=1,a=.5,r,i=e,o=e){if(Cl.test(t)&&(t=parseFloat(t),t=Gr(o.min,o.max,t/100)-o.min),typeof t!="number")return;let c=Gr(i.min,i.max,a);e===i&&(c-=t),e.min=sk(e.min,t,n,c,r),e.max=sk(e.max,t,n,c,r)}function ak(e,t,[n,a,r],i,o){MY(e,t[n],t[a],t[r],t.scale,i,o)}const RY=["x","scaleX","originX"],OY=["y","scaleY","originY"];function rk(e,t,n,a){ak(e.x,t,RY,n?n.x:void 0,a?a.x:void 0),ak(e.y,t,OY,n?n.y:void 0,a?a.y:void 0)}function ik(e){return e.translate===0&&e.scale===1}function YM(e){return ik(e.x)&&ik(e.y)}function ok(e,t){return e.min===t.min&&e.max===t.max}function BY(e,t){return ok(e.x,t.x)&&ok(e.y,t.y)}function ck(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function GM(e,t){return ck(e.x,t.x)&&ck(e.y,t.y)}function lk(e){return vo(e.x)/vo(e.y)}function uk(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class LY{constructor(){this.members=[]}add(t){GN(this.members,t),t.scheduleRender()}remove(t){if(QN(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(r=>t===r);if(n===0)return!1;let a;for(let r=n;r>=0;r--){const i=this.members[r];if(i.isPresent!==!1){a=i;break}}return a?(this.promote(a),!0):!1}promote(t,n){const a=this.lead;if(t!==a&&(this.prevLead=a,this.lead=t,t.show(),a)){a.instance&&a.scheduleRender(),t.scheduleRender(),t.resumeFrom=a,n&&(t.resumeFrom.preserveOpacity=!0),a.snapshot&&(t.snapshot=a.snapshot,t.snapshot.latestValues=a.animationValues||a.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:r}=t.options;r===!1&&a.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:a}=t;n.onExitComplete&&n.onExitComplete(),a&&a.options.onExitComplete&&a.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function $Y(e,t,n){let a="";const r=e.x.translate/t.x,i=e.y.translate/t.y,o=(n==null?void 0:n.z)||0;if((r||i||o)&&(a=`translate3d(${r}px, ${i}px, ${o}px) `),(t.x!==1||t.y!==1)&&(a+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:d,rotate:f,rotateX:g,rotateY:b,skewX:w,skewY:S}=n;d&&(a=`perspective(${d}px) ${a}`),f&&(a+=`rotate(${f}deg) `),g&&(a+=`rotateX(${g}deg) `),b&&(a+=`rotateY(${b}deg) `),w&&(a+=`skewX(${w}deg) `),S&&(a+=`skewY(${S}deg) `)}const c=e.x.scale*t.x,l=e.y.scale*t.y;return(c!==1||l!==1)&&(a+=`scale(${c}, ${l})`),a||"none"}const Rw=["","X","Y","Z"],PY={visibility:"hidden"},FY=1e3;let HY=0;function Ow(e,t,n,a){const{latestValues:r}=t;r[e]&&(n[e]=r[e],t.setStaticValue(e,0),a&&(a[e]=0))}function QM(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=TM(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:r,layoutId:i}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",Tr,!(r||i))}const{parent:a}=e;a&&!a.hasCheckedOptimisedAppear&&QM(a)}function XM({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:a,resetTransform:r}){return class{constructor(o={},c=t==null?void 0:t()){this.id=HY++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(qY),this.nodes.forEach(QY),this.nodes.forEach(XY),this.nodes.forEach(UY)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=c?c.root||c:this,this.path=c?[...c.path,c]:[],this.parent=c,this.depth=c?c.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new EY)}addEventListener(o,c){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new ZN),this.eventHandlers.get(o).add(c)}notifyListeners(o,...c){const l=this.eventHandlers.get(o);l&&l.notify(...c)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=gM(o)&&!BU(o),this.instance=o;const{layoutId:c,layout:l,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||c)&&(this.isLayoutDirty=!0),e){let f;const g=()=>this.root.updateBlockedByResize=!1;e(o,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=kY(g,250),jv.hasAnimatedSinceResize&&(jv.hasAnimatedSinceResize=!1,this.nodes.forEach(hk))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&d&&(c||l)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:g,hasRelativeLayoutChanged:b,layout:w})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const S=this.options.transition||d.getDefaultTransition()||tG,{onLayoutAnimationStart:j,onLayoutAnimationComplete:N}=d.getProps(),I=!this.targetLayout||!GM(this.targetLayout,w),M=!g&&b;if(this.options.layoutRoot||this.resumeFrom||M||g&&(I||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const B={...d3(S,"layout"),onPlay:j,onComplete:N};(d.shouldReduceMotion||this.options.layoutRoot)&&(B.delay=0,B.type=!1),this.startAnimation(B),this.setAnimationOrigin(f,M)}else g||hk(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=w})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),bu(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(KY),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&QM(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let f=0;f<this.path.length;f++){const g=this.path[f];g.shouldResetTransform=!0,g.updateScroll("snapshot"),g.options.layoutRoot&&g.willUpdate(!1)}const{layoutId:c,layout:l}=this.options;if(c===void 0&&!l)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(dk);return}this.isUpdating||this.nodes.forEach(YY),this.isUpdating=!1,this.nodes.forEach(GY),this.nodes.forEach(zY),this.nodes.forEach(VY),this.clearAllSnapshots();const c=Io.now();Qi.delta=vu(0,1e3/60,c-Qi.timestamp),Qi.timestamp=c,Qi.isProcessing=!0,Nw.update.process(Qi),Nw.preRender.process(Qi),Nw.render.process(Qi),Qi.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,f3.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(WY),this.sharedNodes.forEach(ZY)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Tr.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Tr.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!vo(this.snapshot.measuredBox.x)&&!vo(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ui(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:c}=this.options;c&&c.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let c=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(c=!1),c&&this.instance){const l=a(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!r)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,c=this.projectionDelta&&!YM(this.projectionDelta),l=this.getTransformTemplate(),d=l?l(this.latestValues,""):void 0,f=d!==this.prevTransformTemplateValue;o&&this.instance&&(c||rh(this.latestValues)||f)&&(r(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const c=this.measurePageBox();let l=this.removeElementScroll(c);return o&&(l=this.removeTransform(l)),nG(l),{animationId:this.root.animationId,measuredBox:c,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var d;const{visualElement:o}=this.options;if(!o)return ui();const c=o.measureViewportBox();if(!(((d=this.scroll)==null?void 0:d.wasRoot)||this.path.some(sG))){const{scroll:f}=this.root;f&&(Yf(c.x,f.offset.x),Yf(c.y,f.offset.y))}return c}removeElementScroll(o){var l;const c=ui();if(hc(c,o),(l=this.scroll)!=null&&l.wasRoot)return c;for(let d=0;d<this.path.length;d++){const f=this.path[d],{scroll:g,options:b}=f;f!==this.root&&g&&b.layoutScroll&&(g.wasRoot&&hc(c,o),Yf(c.x,g.offset.x),Yf(c.y,g.offset.y))}return c}applyTransform(o,c=!1){const l=ui();hc(l,o);for(let d=0;d<this.path.length;d++){const f=this.path[d];!c&&f.options.layoutScroll&&f.scroll&&f!==f.root&&Gf(l,{x:-f.scroll.offset.x,y:-f.scroll.offset.y}),rh(f.latestValues)&&Gf(l,f.latestValues)}return rh(this.latestValues)&&Gf(l,this.latestValues),l}removeTransform(o){const c=ui();hc(c,o);for(let l=0;l<this.path.length;l++){const d=this.path[l];if(!d.instance||!rh(d.latestValues))continue;FS(d.latestValues)&&d.updateSnapshot();const f=ui(),g=d.measurePageBox();hc(f,g),rk(c,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,f)}return rh(this.latestValues)&&rk(c,this.latestValues),c}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Qi.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var b;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==c;if(!(o||l&&this.isSharedProjectionDirty||this.isProjectionDirty||(b=this.parent)!=null&&b.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:f,layoutId:g}=this.options;if(!(!this.layout||!(f||g))){if(this.resolvedRelativeTargetAt=Qi.timestamp,!this.targetDelta&&!this.relativeTarget){const w=this.getClosestProjectingParent();w&&w.layout&&this.animationProgress!==1?(this.relativeParent=w,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ui(),this.relativeTargetOrigin=ui(),Q1(this.relativeTargetOrigin,this.layout.layoutBox,w.layout.layoutBox),hc(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=ui(),this.targetWithTransforms=ui()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),rY(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):hc(this.target,this.layout.layoutBox),PM(this.target,this.targetDelta)):hc(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const w=this.getClosestProjectingParent();w&&!!w.resumingFrom==!!this.resumingFrom&&!w.options.layoutScroll&&w.target&&this.animationProgress!==1?(this.relativeParent=w,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ui(),this.relativeTargetOrigin=ui(),Q1(this.relativeTargetOrigin,this.target,w.target),hc(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||FS(this.parent.latestValues)||$M(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var S;const o=this.getLead(),c=!!this.resumingFrom||this!==o;let l=!0;if((this.isProjectionDirty||(S=this.parent)!=null&&S.isProjectionDirty)&&(l=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===Qi.timestamp&&(l=!1),l)return;const{layout:d,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||f))return;hc(this.layoutCorrected,this.layout.layoutBox);const g=this.treeScale.x,b=this.treeScale.y;iY(this.layoutCorrected,this.treeScale,this.path,c),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=ui());const{target:w}=o;if(!w){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(nk(this.prevProjectionDelta.x,this.projectionDelta.x),nk(this.prevProjectionDelta.y,this.projectionDelta.y)),G1(this.projectionDelta,this.layoutCorrected,w,this.latestValues),(this.treeScale.x!==g||this.treeScale.y!==b||!uk(this.projectionDelta.x,this.prevProjectionDelta.x)||!uk(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",w))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var c;if((c=this.options.visualElement)==null||c.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Wf(),this.projectionDelta=Wf(),this.projectionDeltaWithTransform=Wf()}setAnimationOrigin(o,c=!1){const l=this.snapshot,d=l?l.latestValues:{},f={...this.latestValues},g=Wf();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!c;const b=ui(),w=l?l.source:void 0,S=this.layout?this.layout.source:void 0,j=w!==S,N=this.getStack(),I=!N||N.members.length<=1,M=!!(j&&!I&&this.options.crossfade===!0&&!this.path.some(eG));this.animationProgress=0;let B;this.mixTargetDelta=P=>{const O=P/1e3;fk(g.x,o.x,O),fk(g.y,o.y,O),this.setTargetDelta(g),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Q1(b,this.layout.layoutBox,this.relativeParent.layout.layoutBox),JY(this.relativeTarget,this.relativeTargetOrigin,b,O),B&&BY(this.relativeTarget,B)&&(this.isProjectionDirty=!1),B||(B=ui()),hc(B,this.relativeTarget)),j&&(this.animationValues=f,DY(f,d,this.latestValues,O,M,I)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=O},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var c,l,d;this.notifyListeners("animationStart"),(c=this.currentAnimation)==null||c.stop(),(d=(l=this.resumingFrom)==null?void 0:l.currentAnimation)==null||d.stop(),this.pendingAnimation&&(bu(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Tr.update(()=>{jv.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Ah(0)),this.currentAnimation=jY(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:f=>{this.mixTargetDelta(f),o.onUpdate&&o.onUpdate(f)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(FY),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:c,target:l,layout:d,latestValues:f}=o;if(!(!c||!l||!d)){if(this!==o&&this.layout&&d&&KM(this.options.animationType,this.layout.layoutBox,d.layoutBox)){l=this.target||ui();const g=vo(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+g;const b=vo(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+b}hc(c,l),Gf(c,f),G1(this.projectionDeltaWithTransform,this.layoutCorrected,c,f)}}registerSharedNode(o,c){this.sharedNodes.has(o)||this.sharedNodes.set(o,new LY),this.sharedNodes.get(o).add(c);const d=c.options.initialPromotionConfig;c.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(c):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var c;const{layoutId:o}=this.options;return o?((c=this.getStack())==null?void 0:c.lead)||this:this}getPrevLead(){var c;const{layoutId:o}=this.options;return o?(c=this.getStack())==null?void 0:c.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:c,preserveFollowOpacity:l}={}){const d=this.getStack();d&&d.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),c&&this.setOptions({transition:c})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let c=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(c=!0),!c)return;const d={};l.z&&Ow("z",o,d,this.animationValues);for(let f=0;f<Rw.length;f++)Ow(`rotate${Rw[f]}`,o,d,this.animationValues),Ow(`skew${Rw[f]}`,o,d,this.animationValues);o.render();for(const f in d)o.setStaticValue(f,d[f]),this.animationValues&&(this.animationValues[f]=d[f]);o.scheduleRender()}getProjectionStyles(o){if(!this.instance||this.isSVG)return;if(!this.isVisible)return PY;const c={visibility:""},l=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=Sv(o==null?void 0:o.pointerEvents)||"",c.transform=l?l(this.latestValues,""):"none",c;const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){const w={};return this.options.layoutId&&(w.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,w.pointerEvents=Sv(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!rh(this.latestValues)&&(w.transform=l?l({},""):"none",this.hasProjected=!1),w}const f=d.animationValues||d.latestValues;this.applyTransformsToTarget(),c.transform=$Y(this.projectionDeltaWithTransform,this.treeScale,f),l&&(c.transform=l(f,c.transform));const{x:g,y:b}=this.projectionDelta;c.transformOrigin=`${g.origin*100}% ${b.origin*100}% 0`,d.animationValues?c.opacity=d===this?f.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:c.opacity=d===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const w in vg){if(f[w]===void 0)continue;const{correct:S,applyTo:j,isCSSVariable:N}=vg[w],I=c.transform==="none"?f[w]:S(f[w],d);if(j){const M=j.length;for(let B=0;B<M;B++)c[j[B]]=I}else N?this.options.visualElement.renderState.vars[w]=I:c[w]=I}return this.options.layoutId&&(c.pointerEvents=d===this?Sv(o==null?void 0:o.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var c;return(c=o.currentAnimation)==null?void 0:c.stop()}),this.root.nodes.forEach(dk),this.root.sharedNodes.clear()}}}function zY(e){e.updateLayout()}function VY(e){var n;const t=((n=e.resumeFrom)==null?void 0:n.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:a,measuredBox:r}=e.layout,{animationType:i}=e.options,o=t.source!==e.layout.source;i==="size"?vc(g=>{const b=o?t.measuredBox[g]:t.layoutBox[g],w=vo(b);b.min=a[g].min,b.max=b.min+w}):KM(i,t.layoutBox,a)&&vc(g=>{const b=o?t.measuredBox[g]:t.layoutBox[g],w=vo(a[g]);b.max=b.min+w,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[g].max=e.relativeTarget[g].min+w)});const c=Wf();G1(c,a,t.layoutBox);const l=Wf();o?G1(l,e.applyTransform(r,!0),t.measuredBox):G1(l,a,t.layoutBox);const d=!YM(c);let f=!1;if(!e.resumeFrom){const g=e.getClosestProjectingParent();if(g&&!g.resumeFrom){const{snapshot:b,layout:w}=g;if(b&&w){const S=ui();Q1(S,t.layoutBox,b.layoutBox);const j=ui();Q1(j,a,w.layoutBox),GM(S,j)||(f=!0),g.options.layoutRoot&&(e.relativeTarget=j,e.relativeTargetOrigin=S,e.relativeParent=g)}}}e.notifyListeners("didUpdate",{layout:a,snapshot:t,delta:l,layoutDelta:c,hasLayoutChanged:d,hasRelativeLayoutChanged:f})}else if(e.isLead()){const{onExitComplete:a}=e.options;a&&a()}e.options.transition=void 0}function qY(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function UY(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function WY(e){e.clearSnapshot()}function dk(e){e.clearMeasurements()}function YY(e){e.isLayoutDirty=!1}function GY(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function hk(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function QY(e){e.resolveTargetDelta()}function XY(e){e.calcProjection()}function KY(e){e.resetSkewAndRotation()}function ZY(e){e.removeLeadSnapshot()}function fk(e,t,n){e.translate=Gr(t.translate,0,n),e.scale=Gr(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function mk(e,t,n,a){e.min=Gr(t.min,n.min,a),e.max=Gr(t.max,n.max,a)}function JY(e,t,n,a){mk(e.x,t.x,n.x,a),mk(e.y,t.y,n.y,a)}function eG(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const tG={duration:.45,ease:[.4,0,.1,1]},pk=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),gk=pk("applewebkit/")&&!pk("chrome/")?Math.round:Sc;function _k(e){e.min=gk(e.min),e.max=gk(e.max)}function nG(e){_k(e.x),_k(e.y)}function KM(e,t,n){return e==="position"||e==="preserve-aspect"&&!aY(lk(t),lk(n),.2)}function sG(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const aG=XM({attachResizeListener:(e,t)=>bg(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Bw={current:void 0},ZM=XM({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Bw.current){const e=new aG({});e.mount(window),e.setOptions({layoutScroll:!0}),Bw.current=e}return Bw.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),rG={pan:{Feature:yY},drag:{Feature:bY,ProjectionNode:ZM,MeasureLayout:qM}};function vk(e,t,n){const{props:a}=e;e.animationState&&a.whileHover&&e.animationState.setActive("whileHover",n==="Start");const r="onHover"+n,i=a[r];i&&Tr.postRender(()=>i(t,e0(t)))}class iG extends Id{mount(){const{current:t}=this.node;t&&(this.unmount=TU(t,(n,a)=>(vk(this.node,a,"Start"),r=>vk(this.node,r,"End"))))}unmount(){}}class oG extends Id{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Xg(bg(this.node.current,"focus",()=>this.onFocus()),bg(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function xk(e,t,n){const{props:a}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&a.whileTap&&e.animationState.setActive("whileTap",n==="Start");const r="onTap"+(n==="End"?"":n),i=a[r];i&&Tr.postRender(()=>i(t,e0(t)))}class cG extends Id{mount(){const{current:t}=this.node;t&&(this.unmount=OU(t,(n,a)=>(xk(this.node,a,"Start"),(r,{success:i})=>xk(this.node,r,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const VS=new WeakMap,Lw=new WeakMap,lG=e=>{const t=VS.get(e.target);t&&t(e)},uG=e=>{e.forEach(lG)};function dG({root:e,...t}){const n=e||document;Lw.has(n)||Lw.set(n,{});const a=Lw.get(n),r=JSON.stringify(t);return a[r]||(a[r]=new IntersectionObserver(uG,{root:e,...t})),a[r]}function hG(e,t,n){const a=dG(t);return VS.set(e,n),a.observe(e),()=>{VS.delete(e),a.unobserve(e)}}const fG={some:0,all:1};class mG extends Id{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:a,amount:r="some",once:i}=t,o={root:n?n.current:void 0,rootMargin:a,threshold:typeof r=="number"?r:fG[r]},c=l=>{const{isIntersecting:d}=l;if(this.isInView===d||(this.isInView=d,i&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:f,onViewportLeave:g}=this.node.getProps(),b=d?f:g;b&&b(l)};return hG(this.node.current,o,c)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(pG(t,n))&&this.startObserver()}unmount(){}}function pG({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const gG={inView:{Feature:mG},tap:{Feature:cG},focus:{Feature:oG},hover:{Feature:iG}},_G={layout:{ProjectionNode:ZM,MeasureLayout:qM}},qS={current:null},JM={current:!1};function vG(){if(JM.current=!0,!!WN)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>qS.current=e.matches;e.addListener(t),t()}else qS.current=!1}const xG=new WeakMap;function bG(e,t,n){for(const a in t){const r=t[a],i=n[a];if(Fi(r))e.addValue(a,r);else if(Fi(i))e.addValue(a,Ah(r,{owner:e}));else if(i!==r)if(e.hasValue(a)){const o=e.getValue(a);o.liveStyle===!0?o.jump(r):o.hasAnimated||o.set(r)}else{const o=e.getStaticValue(a);e.addValue(a,Ah(o!==void 0?o:r,{owner:e}))}}for(const a in n)t[a]===void 0&&e.removeValue(a);return t}const bk=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class yG{scrapeMotionValuesFromProps(t,n,a){return{}}constructor({parent:t,props:n,presenceContext:a,reducedMotionConfig:r,blockInitialAnimation:i,visualState:o},c={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=l3,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const b=Io.now();this.renderScheduledAt<b&&(this.renderScheduledAt=b,Tr.render(this.render,!1,!0))};const{latestValues:l,renderState:d}=o;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=d,this.parent=t,this.props=n,this.presenceContext=a,this.depth=t?t.depth+1:0,this.reducedMotionConfig=r,this.options=c,this.blockInitialAnimation=!!i,this.isControllingVariants=jb(n),this.isVariantNode=bM(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:f,...g}=this.scrapeMotionValuesFromProps(n,{},this);for(const b in g){const w=g[b];l[b]!==void 0&&Fi(w)&&w.set(l[b],!1)}}mount(t){this.current=t,xG.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,a)=>this.bindToMotionValue(a,n)),JM.current||vG(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:qS.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),bu(this.notifyUpdate),bu(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const a=qm.has(t);a&&this.onBindTransform&&this.onBindTransform();const r=n.on("change",c=>{this.latestValues[t]=c,this.props.onUpdate&&Tr.preRender(this.notifyUpdate),a&&this.projection&&(this.projection.isTransformDirty=!0)}),i=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{r(),i(),o&&o(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in um){const n=um[t];if(!n)continue;const{isEnabled:a,Feature:r}=n;if(!this.features[t]&&r&&a(this.props)&&(this.features[t]=new r(this)),this.features[t]){const i=this.features[t];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ui()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let a=0;a<bk.length;a++){const r=bk[a];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);const i="on"+r,o=t[i];o&&(this.propEventSubscriptions[r]=this.on(r,o))}this.prevMotionValues=bG(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const a=this.values.get(t);n!==a&&(a&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let a=this.values.get(t);return a===void 0&&n!==void 0&&(a=Ah(n===null?void 0:n,{owner:this}),this.addValue(t,a)),a}readValue(t,n){let a=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return a!=null&&(typeof a=="string"&&(EA(a)||IA(a))?a=parseFloat(a):!FU(a)&&Cd.test(n)&&(a=dM(t,n)),this.setBaseTarget(t,Fi(a)?a.get():a)),Fi(a)?a.get():a}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var i;const{initial:n}=this.props;let a;if(typeof n=="string"||typeof n=="object"){const o=y3(this.props,n,(i=this.presenceContext)==null?void 0:i.custom);o&&(a=o[t])}if(n&&a!==void 0)return a;const r=this.getBaseTargetFromProps(this.props,t);return r!==void 0&&!Fi(r)?r:this.initialValues[t]!==void 0&&a===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new ZN),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class eR extends yG{constructor(){super(...arguments),this.KeyframeResolver=NU}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:a}){delete n[t],delete a[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Fi(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function tR(e,{style:t,vars:n},a,r){Object.assign(e.style,t,r&&r.getProjectionStyles(a));for(const i in n)e.style.setProperty(i,n[i])}function wG(e){return window.getComputedStyle(e)}class CG extends eR{constructor(){super(...arguments),this.type="html",this.renderInstance=tR}readValueFromInstance(t,n){var a;if(qm.has(n))return(a=this.projection)!=null&&a.isProjecting?TS(n):Uq(t,n);{const r=wG(t),i=(t3(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:n}){return FM(t,n)}build(t,n,a){v3(t,n,a.transformTemplate)}scrapeMotionValuesFromProps(t,n,a){return w3(t,n,a)}}const nR=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function SG(e,t,n,a){tR(e,t,void 0,a);for(const r in t.attrs)e.setAttribute(nR.has(r)?r:_3(r),t.attrs[r])}class jG extends eR{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ui}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(qm.has(n)){const a=uM(n);return a&&a.default||0}return n=nR.has(n)?n:_3(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,a){return DM(t,n,a)}build(t,n,a){NM(t,n,this.isSVGTag,a.transformTemplate,a.style)}renderInstance(t,n,a,r){SG(t,n,a,r)}mount(t){this.isSVGTag=kM(t.tagName),super.mount(t)}}const NG=(e,t)=>b3(e)?new jG(t):new CG(t,{allowProjection:e!==v.Fragment}),EG=SW({...XW,...gG,...rG,..._G},NG),rs=QU(EG);function yg(e){const t=Qg(()=>Ah(e)),{isStatic:n}=v.useContext(Jg);if(n){const[,a]=v.useState(e);v.useEffect(()=>t.on("change",a),[])}return t}function sR(e,t){const n=yg(t()),a=()=>n.set(t());return a(),YN(()=>{const r=()=>Tr.preRender(a,!1,!0),i=e.map(o=>o.on("change",r));return()=>{i.forEach(o=>o()),bu(a)}}),n}function kG(e){W1.current=[],e();const t=sR(W1.current,e);return W1.current=void 0,t}function xx(e,t,n,a){if(typeof e=="function")return kG(e);const r=typeof t=="function"?t:LU(t,n,a);return Array.isArray(e)?yk(e,r):yk([e],([i])=>r(i))}function yk(e,t){const n=Qg(()=>[]);return sR(e,()=>{n.length=0;const a=e.length;for(let r=0;r<a;r++)n[r]=e[r].get();return t(n)})}function aR(e,t={}){const{isStatic:n}=v.useContext(Jg),a=()=>Fi(e)?e.get():e;if(n)return xx(a);const r=yg(a());return v.useInsertionEffect(()=>$U(r,e,t),[r,JSON.stringify(t)]),r}const IG="_header_32mqe_2",DG="_scrolled_32mqe_30",TG="_navbar_32mqe_56",AG="_container_32mqe_61",MG="_brand_32mqe_71",RG="_logoIcon_32mqe_119",OG="_navbarCollapse_32mqe_133",BG="_open_32mqe_142",LG="_navbarToggler_32mqe_146",$G="_navbarNav_32mqe_150",PG="_navItem_32mqe_159",FG="_navLink_32mqe_163",HG="_searchForm_32mqe_220",zG="_searchInput_32mqe_229",VG="_searchButton_32mqe_251",qG="_desktopLayout_32mqe_315",UG="_mobileLayout_32mqe_322",WG="_mobileOverlay_32mqe_327",YG="_mobileMenu_32mqe_351",GG="_mobileMenuOpen_32mqe_369",QG="_mobileMenuHeader_32mqe_373",XG="_mobileMenuTitle_32mqe_387",KG="_mobileMenuClose_32mqe_398",ZG="_mobileNavList_32mqe_440",JG="_mobileNavItem_32mqe_450",eQ="_mobileNavLink_32mqe_454",tQ="_mobileSearchForm_32mqe_512",nQ="_mobileSearchInput_32mqe_520",sQ="_mobileSearchButton_32mqe_543",aQ="_mobileBrand_32mqe_579",Is={header:IG,scrolled:DG,navbar:TG,container:AG,brand:MG,logoIcon:RG,navbarCollapse:OG,open:BG,navbarToggler:LG,navbarNav:$G,navItem:PG,navLink:FG,searchForm:HG,searchInput:zG,searchButton:VG,desktopLayout:qG,mobileLayout:UG,mobileOverlay:WG,mobileMenu:YG,mobileMenuOpen:GG,mobileMenuHeader:QG,mobileMenuTitle:XG,mobileMenuClose:KG,mobileNavList:ZG,mobileNavItem:JG,mobileNavLink:eQ,mobileSearchForm:tQ,mobileSearchInput:nQ,mobileSearchButton:sQ,mobileBrand:aQ},wg="data:image/svg+xml,%3c?xml%20version='1.0'%20standalone='no'?%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%2020010904//EN'%20'http://www.w3.org/TR/2001/REC-SVG-20010904/DTD/svg10.dtd'%3e%3csvg%20version='1.0'%20xmlns='http://www.w3.org/2000/svg'%20width='1024.000000pt'%20height='1024.000000pt'%20viewBox='0%200%201024.000000%201024.000000'%20preserveAspectRatio='xMidYMid%20meet'%3e%3cg%20transform='translate(0.000000,1024.000000)%20scale(0.100000,-0.100000)'%20fill='currentColor'%20stroke='none'%3e%3cpath%20d='M4105%208850%20c-113%20-12%20-183%20-31%20-238%20-64%20-46%20-28%20-57%20-41%20-97%20-121%20-25%20-49%20-60%20-128%20-77%20-175%20-17%20-47%20-74%20-197%20-126%20-335%20-202%20-533%20-591%20-1591%20-973%20-2645%20-176%20-485%20-317%20-870%20-544%20-1490%20-78%20-212%20-175%20-477%20-215%20-590%20-40%20-113%20-93%20-259%20-118%20-325%20-76%20-204%20-187%20-522%20-208%20-592%20-48%20-169%20-10%20-246%20138%20-279%2091%20-21%20814%20-32%20989%20-15%20293%2029%20587%20117%20883%20266%20310%20155%20500%20294%20774%20568%20285%20284%20483%20549%20857%201147%20173%20277%20481%20736%20610%20909%20552%20741%201055%201148%201865%201506%20343%20152%20880%20341%201165%20410%2095%2023%20469%2095%20494%2095%2044%200%20-103%2051%20-289%20100%20-239%2063%20-504%2099%20-795%20107%20-395%2011%20-716%20-34%20-1070%20-149%20-200%20-65%20-290%20-102%20-480%20-198%20-299%20-150%20-572%20-329%20-880%20-578%20-145%20-117%20-566%20-541%20-803%20-809%20-251%20-282%20-437%20-474%20-657%20-677%20-300%20-277%20-452%20-404%20-650%20-544%20-130%20-91%20-343%20-215%20-348%20-202%20-2%205%2062%20188%20142%20407%2079%20219%20198%20547%20264%20728%2066%20182%20127%20348%20136%20370%208%2022%2053%20146%20100%20275%2047%20129%20142%20390%20211%20580%2070%20190%20153%20419%20186%20510%2033%2091%2089%20246%20125%20345%2036%2099%2067%20186%2069%20193%209%2026%2022%209%2044%20-55%2052%20-152%20256%20-736%20296%20-848%2024%20-66%2047%20-133%2050%20-148%204%20-15%2011%20-27%2016%20-27%205%200%2051%2039%20102%2086%20433%20406%201072%20835%201543%201038%20150%2064%20383%20146%20415%20146%2010%200%2021%205%2025%2011%2011%2019%20-441%204%20-621%20-20%20-113%20-15%20-462%20-74%20-558%20-94%20-5%20-1%20-88%20221%20-186%20493%20-97%20272%20-185%20509%20-194%20526%20-45%2086%20-102%20125%20-220%20151%20-59%2013%20-163%2016%20-577%2018%20-278%202%20-537%200%20-575%20-5z'/%3e%3cpath%20d='M6449%205253%20c-424%20-431%20-739%20-851%20-1059%20-1417%20-88%20-155%20-261%20-489%20-256%20-494%202%20-2%2055%2045%20118%20105%20193%20184%20485%20443%20500%20443%206%200%2045%20-113%20211%20-625%20301%20-925%20297%20-912%20338%20-959%2076%20-86%20145%20-96%20709%20-96%20558%200%20629%2011%20704%20103%2029%2037%2031%2044%2031%20120%20-1%2086%20-13%20125%20-158%20527%20-25%2069%20-93%20260%20-152%20425%20-200%20562%20-314%20880%20-390%201090%20-100%20273%20-346%20955%20-352%20978%20-3%209%20-11%2017%20-18%2017%20-6%200%20-108%20-98%20-226%20-217z'/%3e%3c/g%3e%3c/svg%3e";function rR(e,t){return function(){return e.apply(t,arguments)}}const{toString:rQ}=Object.prototype,{getPrototypeOf:S3}=Object,{iterator:Nb,toStringTag:iR}=Symbol,Eb=(e=>t=>{const n=rQ.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Kc=e=>(e=e.toLowerCase(),t=>Eb(t)===e),kb=e=>t=>typeof t===e,{isArray:Um}=Array,dm=kb("undefined");function t0(e){return e!==null&&!dm(e)&&e.constructor!==null&&!dm(e.constructor)&&To(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const oR=Kc("ArrayBuffer");function iQ(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&oR(e.buffer),t}const oQ=kb("string"),To=kb("function"),cR=kb("number"),n0=e=>e!==null&&typeof e=="object",cQ=e=>e===!0||e===!1,Nv=e=>{if(Eb(e)!=="object")return!1;const t=S3(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(iR in e)&&!(Nb in e)},lQ=e=>{if(!n0(e)||t0(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},uQ=Kc("Date"),dQ=Kc("File"),hQ=Kc("Blob"),fQ=Kc("FileList"),mQ=e=>n0(e)&&To(e.pipe),pQ=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||To(e.append)&&((t=Eb(e))==="formdata"||t==="object"&&To(e.toString)&&e.toString()==="[object FormData]"))},gQ=Kc("URLSearchParams"),[_Q,vQ,xQ,bQ]=["ReadableStream","Request","Response","Headers"].map(Kc),yQ=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function s0(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let a,r;if(typeof e!="object"&&(e=[e]),Um(e))for(a=0,r=e.length;a<r;a++)t.call(null,e[a],a,e);else{if(t0(e))return;const i=n?Object.getOwnPropertyNames(e):Object.keys(e),o=i.length;let c;for(a=0;a<o;a++)c=i[a],t.call(null,e[c],c,e)}}function lR(e,t){if(t0(e))return null;t=t.toLowerCase();const n=Object.keys(e);let a=n.length,r;for(;a-- >0;)if(r=n[a],t===r.toLowerCase())return r;return null}const mh=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,uR=e=>!dm(e)&&e!==mh;function US(){const{caseless:e,skipUndefined:t}=uR(this)&&this||{},n={},a=(r,i)=>{const o=e&&lR(n,i)||i;Nv(n[o])&&Nv(r)?n[o]=US(n[o],r):Nv(r)?n[o]=US({},r):Um(r)?n[o]=r.slice():(!t||!dm(r))&&(n[o]=r)};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&s0(arguments[r],a);return n}const wQ=(e,t,n,{allOwnKeys:a}={})=>(s0(t,(r,i)=>{n&&To(r)?e[i]=rR(r,n):e[i]=r},{allOwnKeys:a}),e),CQ=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),SQ=(e,t,n,a)=>{e.prototype=Object.create(t.prototype,a),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},jQ=(e,t,n,a)=>{let r,i,o;const c={};if(t=t||{},e==null)return t;do{for(r=Object.getOwnPropertyNames(e),i=r.length;i-- >0;)o=r[i],(!a||a(o,e,t))&&!c[o]&&(t[o]=e[o],c[o]=!0);e=n!==!1&&S3(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},NQ=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const a=e.indexOf(t,n);return a!==-1&&a===n},EQ=e=>{if(!e)return null;if(Um(e))return e;let t=e.length;if(!cR(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},kQ=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&S3(Uint8Array)),IQ=(e,t)=>{const a=(e&&e[Nb]).call(e);let r;for(;(r=a.next())&&!r.done;){const i=r.value;t.call(e,i[0],i[1])}},DQ=(e,t)=>{let n;const a=[];for(;(n=e.exec(t))!==null;)a.push(n);return a},TQ=Kc("HTMLFormElement"),AQ=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,a,r){return a.toUpperCase()+r}),wk=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),MQ=Kc("RegExp"),dR=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),a={};s0(n,(r,i)=>{let o;(o=t(r,i,e))!==!1&&(a[i]=o||r)}),Object.defineProperties(e,a)},RQ=e=>{dR(e,(t,n)=>{if(To(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const a=e[n];if(To(a)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},OQ=(e,t)=>{const n={},a=r=>{r.forEach(i=>{n[i]=!0})};return Um(e)?a(e):a(String(e).split(t)),n},BQ=()=>{},LQ=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function $Q(e){return!!(e&&To(e.append)&&e[iR]==="FormData"&&e[Nb])}const PQ=e=>{const t=new Array(10),n=(a,r)=>{if(n0(a)){if(t.indexOf(a)>=0)return;if(t0(a))return a;if(!("toJSON"in a)){t[r]=a;const i=Um(a)?[]:{};return s0(a,(o,c)=>{const l=n(o,r+1);!dm(l)&&(i[c]=l)}),t[r]=void 0,i}}return a};return n(e,0)},FQ=Kc("AsyncFunction"),HQ=e=>e&&(n0(e)||To(e))&&To(e.then)&&To(e.catch),hR=((e,t)=>e?setImmediate:t?((n,a)=>(mh.addEventListener("message",({source:r,data:i})=>{r===mh&&i===n&&a.length&&a.shift()()},!1),r=>{a.push(r),mh.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",To(mh.postMessage)),zQ=typeof queueMicrotask<"u"?queueMicrotask.bind(mh):typeof process<"u"&&process.nextTick||hR,VQ=e=>e!=null&&To(e[Nb]),Ht={isArray:Um,isArrayBuffer:oR,isBuffer:t0,isFormData:pQ,isArrayBufferView:iQ,isString:oQ,isNumber:cR,isBoolean:cQ,isObject:n0,isPlainObject:Nv,isEmptyObject:lQ,isReadableStream:_Q,isRequest:vQ,isResponse:xQ,isHeaders:bQ,isUndefined:dm,isDate:uQ,isFile:dQ,isBlob:hQ,isRegExp:MQ,isFunction:To,isStream:mQ,isURLSearchParams:gQ,isTypedArray:kQ,isFileList:fQ,forEach:s0,merge:US,extend:wQ,trim:yQ,stripBOM:CQ,inherits:SQ,toFlatObject:jQ,kindOf:Eb,kindOfTest:Kc,endsWith:NQ,toArray:EQ,forEachEntry:IQ,matchAll:DQ,isHTMLForm:TQ,hasOwnProperty:wk,hasOwnProp:wk,reduceDescriptors:dR,freezeMethods:RQ,toObjectSet:OQ,toCamelCase:AQ,noop:BQ,toFiniteNumber:LQ,findKey:lR,global:mh,isContextDefined:uR,isSpecCompliantForm:$Q,toJSONObject:PQ,isAsyncFn:FQ,isThenable:HQ,setImmediate:hR,asap:zQ,isIterable:VQ};function oa(e,t,n,a,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),a&&(this.request=a),r&&(this.response=r,this.status=r.status?r.status:null)}Ht.inherits(oa,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Ht.toJSONObject(this.config),code:this.code,status:this.status}}});const fR=oa.prototype,mR={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{mR[e]={value:e}});Object.defineProperties(oa,mR);Object.defineProperty(fR,"isAxiosError",{value:!0});oa.from=(e,t,n,a,r,i)=>{const o=Object.create(fR);Ht.toFlatObject(e,o,function(f){return f!==Error.prototype},d=>d!=="isAxiosError");const c=e&&e.message?e.message:"Error",l=t==null&&e?e.code:t;return oa.call(o,c,l,n,a,r),e&&o.cause==null&&Object.defineProperty(o,"cause",{value:e,configurable:!0}),o.name=e&&e.name||"Error",i&&Object.assign(o,i),o};const qQ=null;function WS(e){return Ht.isPlainObject(e)||Ht.isArray(e)}function pR(e){return Ht.endsWith(e,"[]")?e.slice(0,-2):e}function Ck(e,t,n){return e?e.concat(t).map(function(r,i){return r=pR(r),!n&&i?"["+r+"]":r}).join(n?".":""):t}function UQ(e){return Ht.isArray(e)&&!e.some(WS)}const WQ=Ht.toFlatObject(Ht,{},null,function(t){return/^is[A-Z]/.test(t)});function Ib(e,t,n){if(!Ht.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=Ht.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(j,N){return!Ht.isUndefined(N[j])});const a=n.metaTokens,r=n.visitor||f,i=n.dots,o=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&Ht.isSpecCompliantForm(t);if(!Ht.isFunction(r))throw new TypeError("visitor must be a function");function d(S){if(S===null)return"";if(Ht.isDate(S))return S.toISOString();if(Ht.isBoolean(S))return S.toString();if(!l&&Ht.isBlob(S))throw new oa("Blob is not supported. Use a Buffer instead.");return Ht.isArrayBuffer(S)||Ht.isTypedArray(S)?l&&typeof Blob=="function"?new Blob([S]):Buffer.from(S):S}function f(S,j,N){let I=S;if(S&&!N&&typeof S=="object"){if(Ht.endsWith(j,"{}"))j=a?j:j.slice(0,-2),S=JSON.stringify(S);else if(Ht.isArray(S)&&UQ(S)||(Ht.isFileList(S)||Ht.endsWith(j,"[]"))&&(I=Ht.toArray(S)))return j=pR(j),I.forEach(function(B,P){!(Ht.isUndefined(B)||B===null)&&t.append(o===!0?Ck([j],P,i):o===null?j:j+"[]",d(B))}),!1}return WS(S)?!0:(t.append(Ck(N,j,i),d(S)),!1)}const g=[],b=Object.assign(WQ,{defaultVisitor:f,convertValue:d,isVisitable:WS});function w(S,j){if(!Ht.isUndefined(S)){if(g.indexOf(S)!==-1)throw Error("Circular reference detected in "+j.join("."));g.push(S),Ht.forEach(S,function(I,M){(!(Ht.isUndefined(I)||I===null)&&r.call(t,I,Ht.isString(M)?M.trim():M,j,b))===!0&&w(I,j?j.concat(M):[M])}),g.pop()}}if(!Ht.isObject(e))throw new TypeError("data must be an object");return w(e),t}function Sk(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(a){return t[a]})}function j3(e,t){this._pairs=[],e&&Ib(e,this,t)}const gR=j3.prototype;gR.append=function(t,n){this._pairs.push([t,n])};gR.toString=function(t){const n=t?function(a){return t.call(this,a,Sk)}:Sk;return this._pairs.map(function(r){return n(r[0])+"="+n(r[1])},"").join("&")};function YQ(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function _R(e,t,n){if(!t)return e;const a=n&&n.encode||YQ;Ht.isFunction(n)&&(n={serialize:n});const r=n&&n.serialize;let i;if(r?i=r(t,n):i=Ht.isURLSearchParams(t)?t.toString():new j3(t,n).toString(a),i){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class jk{constructor(){this.handlers=[]}use(t,n,a){return this.handlers.push({fulfilled:t,rejected:n,synchronous:a?a.synchronous:!1,runWhen:a?a.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){Ht.forEach(this.handlers,function(a){a!==null&&t(a)})}}const vR={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},GQ=typeof URLSearchParams<"u"?URLSearchParams:j3,QQ=typeof FormData<"u"?FormData:null,XQ=typeof Blob<"u"?Blob:null,KQ={isBrowser:!0,classes:{URLSearchParams:GQ,FormData:QQ,Blob:XQ},protocols:["http","https","file","blob","url","data"]},N3=typeof window<"u"&&typeof document<"u",YS=typeof navigator=="object"&&navigator||void 0,ZQ=N3&&(!YS||["ReactNative","NativeScript","NS"].indexOf(YS.product)<0),JQ=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",eX=N3&&window.location.href||"http://localhost",tX=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:N3,hasStandardBrowserEnv:ZQ,hasStandardBrowserWebWorkerEnv:JQ,navigator:YS,origin:eX},Symbol.toStringTag,{value:"Module"})),oo={...tX,...KQ};function nX(e,t){return Ib(e,new oo.classes.URLSearchParams,{visitor:function(n,a,r,i){return oo.isNode&&Ht.isBuffer(n)?(this.append(a,n.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...t})}function sX(e){return Ht.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function aX(e){const t={},n=Object.keys(e);let a;const r=n.length;let i;for(a=0;a<r;a++)i=n[a],t[i]=e[i];return t}function xR(e){function t(n,a,r,i){let o=n[i++];if(o==="__proto__")return!0;const c=Number.isFinite(+o),l=i>=n.length;return o=!o&&Ht.isArray(r)?r.length:o,l?(Ht.hasOwnProp(r,o)?r[o]=[r[o],a]:r[o]=a,!c):((!r[o]||!Ht.isObject(r[o]))&&(r[o]=[]),t(n,a,r[o],i)&&Ht.isArray(r[o])&&(r[o]=aX(r[o])),!c)}if(Ht.isFormData(e)&&Ht.isFunction(e.entries)){const n={};return Ht.forEachEntry(e,(a,r)=>{t(sX(a),r,n,0)}),n}return null}function rX(e,t,n){if(Ht.isString(e))try{return(t||JSON.parse)(e),Ht.trim(e)}catch(a){if(a.name!=="SyntaxError")throw a}return(n||JSON.stringify)(e)}const a0={transitional:vR,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const a=n.getContentType()||"",r=a.indexOf("application/json")>-1,i=Ht.isObject(t);if(i&&Ht.isHTMLForm(t)&&(t=new FormData(t)),Ht.isFormData(t))return r?JSON.stringify(xR(t)):t;if(Ht.isArrayBuffer(t)||Ht.isBuffer(t)||Ht.isStream(t)||Ht.isFile(t)||Ht.isBlob(t)||Ht.isReadableStream(t))return t;if(Ht.isArrayBufferView(t))return t.buffer;if(Ht.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let c;if(i){if(a.indexOf("application/x-www-form-urlencoded")>-1)return nX(t,this.formSerializer).toString();if((c=Ht.isFileList(t))||a.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return Ib(c?{"files[]":t}:t,l&&new l,this.formSerializer)}}return i||r?(n.setContentType("application/json",!1),rX(t)):t}],transformResponse:[function(t){const n=this.transitional||a0.transitional,a=n&&n.forcedJSONParsing,r=this.responseType==="json";if(Ht.isResponse(t)||Ht.isReadableStream(t))return t;if(t&&Ht.isString(t)&&(a&&!this.responseType||r)){const o=!(n&&n.silentJSONParsing)&&r;try{return JSON.parse(t,this.parseReviver)}catch(c){if(o)throw c.name==="SyntaxError"?oa.from(c,oa.ERR_BAD_RESPONSE,this,null,this.response):c}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:oo.classes.FormData,Blob:oo.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Ht.forEach(["delete","get","head","post","put","patch"],e=>{a0.headers[e]={}});const iX=Ht.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),oX=e=>{const t={};let n,a,r;return e&&e.split(`
`).forEach(function(o){r=o.indexOf(":"),n=o.substring(0,r).trim().toLowerCase(),a=o.substring(r+1).trim(),!(!n||t[n]&&iX[n])&&(n==="set-cookie"?t[n]?t[n].push(a):t[n]=[a]:t[n]=t[n]?t[n]+", "+a:a)}),t},Nk=Symbol("internals");function Xp(e){return e&&String(e).trim().toLowerCase()}function Ev(e){return e===!1||e==null?e:Ht.isArray(e)?e.map(Ev):String(e)}function cX(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let a;for(;a=n.exec(e);)t[a[1]]=a[2];return t}const lX=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function $w(e,t,n,a,r){if(Ht.isFunction(a))return a.call(this,t,n);if(r&&(t=n),!!Ht.isString(t)){if(Ht.isString(a))return t.indexOf(a)!==-1;if(Ht.isRegExp(a))return a.test(t)}}function uX(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,a)=>n.toUpperCase()+a)}function dX(e,t){const n=Ht.toCamelCase(" "+t);["get","set","has"].forEach(a=>{Object.defineProperty(e,a+n,{value:function(r,i,o){return this[a].call(this,t,r,i,o)},configurable:!0})})}let Ao=class{constructor(t){t&&this.set(t)}set(t,n,a){const r=this;function i(c,l,d){const f=Xp(l);if(!f)throw new Error("header name must be a non-empty string");const g=Ht.findKey(r,f);(!g||r[g]===void 0||d===!0||d===void 0&&r[g]!==!1)&&(r[g||l]=Ev(c))}const o=(c,l)=>Ht.forEach(c,(d,f)=>i(d,f,l));if(Ht.isPlainObject(t)||t instanceof this.constructor)o(t,n);else if(Ht.isString(t)&&(t=t.trim())&&!lX(t))o(oX(t),n);else if(Ht.isObject(t)&&Ht.isIterable(t)){let c={},l,d;for(const f of t){if(!Ht.isArray(f))throw TypeError("Object iterator must return a key-value pair");c[d=f[0]]=(l=c[d])?Ht.isArray(l)?[...l,f[1]]:[l,f[1]]:f[1]}o(c,n)}else t!=null&&i(n,t,a);return this}get(t,n){if(t=Xp(t),t){const a=Ht.findKey(this,t);if(a){const r=this[a];if(!n)return r;if(n===!0)return cX(r);if(Ht.isFunction(n))return n.call(this,r,a);if(Ht.isRegExp(n))return n.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=Xp(t),t){const a=Ht.findKey(this,t);return!!(a&&this[a]!==void 0&&(!n||$w(this,this[a],a,n)))}return!1}delete(t,n){const a=this;let r=!1;function i(o){if(o=Xp(o),o){const c=Ht.findKey(a,o);c&&(!n||$w(a,a[c],c,n))&&(delete a[c],r=!0)}}return Ht.isArray(t)?t.forEach(i):i(t),r}clear(t){const n=Object.keys(this);let a=n.length,r=!1;for(;a--;){const i=n[a];(!t||$w(this,this[i],i,t,!0))&&(delete this[i],r=!0)}return r}normalize(t){const n=this,a={};return Ht.forEach(this,(r,i)=>{const o=Ht.findKey(a,i);if(o){n[o]=Ev(r),delete n[i];return}const c=t?uX(i):String(i).trim();c!==i&&delete n[i],n[c]=Ev(r),a[c]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return Ht.forEach(this,(a,r)=>{a!=null&&a!==!1&&(n[r]=t&&Ht.isArray(a)?a.join(", "):a)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const a=new this(t);return n.forEach(r=>a.set(r)),a}static accessor(t){const a=(this[Nk]=this[Nk]={accessors:{}}).accessors,r=this.prototype;function i(o){const c=Xp(o);a[c]||(dX(r,o),a[c]=!0)}return Ht.isArray(t)?t.forEach(i):i(t),this}};Ao.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Ht.reduceDescriptors(Ao.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(a){this[n]=a}}});Ht.freezeMethods(Ao);function Pw(e,t){const n=this||a0,a=t||n,r=Ao.from(a.headers);let i=a.data;return Ht.forEach(e,function(c){i=c.call(n,i,r.normalize(),t?t.status:void 0)}),r.normalize(),i}function bR(e){return!!(e&&e.__CANCEL__)}function Wm(e,t,n){oa.call(this,e??"canceled",oa.ERR_CANCELED,t,n),this.name="CanceledError"}Ht.inherits(Wm,oa,{__CANCEL__:!0});function yR(e,t,n){const a=n.config.validateStatus;!n.status||!a||a(n.status)?e(n):t(new oa("Request failed with status code "+n.status,[oa.ERR_BAD_REQUEST,oa.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function hX(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function fX(e,t){e=e||10;const n=new Array(e),a=new Array(e);let r=0,i=0,o;return t=t!==void 0?t:1e3,function(l){const d=Date.now(),f=a[i];o||(o=d),n[r]=l,a[r]=d;let g=i,b=0;for(;g!==r;)b+=n[g++],g=g%e;if(r=(r+1)%e,r===i&&(i=(i+1)%e),d-o<t)return;const w=f&&d-f;return w?Math.round(b*1e3/w):void 0}}function mX(e,t){let n=0,a=1e3/t,r,i;const o=(d,f=Date.now())=>{n=f,r=null,i&&(clearTimeout(i),i=null),e(...d)};return[(...d)=>{const f=Date.now(),g=f-n;g>=a?o(d,f):(r=d,i||(i=setTimeout(()=>{i=null,o(r)},a-g)))},()=>r&&o(r)]}const bx=(e,t,n=3)=>{let a=0;const r=fX(50,250);return mX(i=>{const o=i.loaded,c=i.lengthComputable?i.total:void 0,l=o-a,d=r(l),f=o<=c;a=o;const g={loaded:o,total:c,progress:c?o/c:void 0,bytes:l,rate:d||void 0,estimated:d&&c&&f?(c-o)/d:void 0,event:i,lengthComputable:c!=null,[t?"download":"upload"]:!0};e(g)},n)},Ek=(e,t)=>{const n=e!=null;return[a=>t[0]({lengthComputable:n,total:e,loaded:a}),t[1]]},kk=e=>(...t)=>Ht.asap(()=>e(...t)),pX=oo.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,oo.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(oo.origin),oo.navigator&&/(msie|trident)/i.test(oo.navigator.userAgent)):()=>!0,gX=oo.hasStandardBrowserEnv?{write(e,t,n,a,r,i){const o=[e+"="+encodeURIComponent(t)];Ht.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),Ht.isString(a)&&o.push("path="+a),Ht.isString(r)&&o.push("domain="+r),i===!0&&o.push("secure"),document.cookie=o.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function _X(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function vX(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function wR(e,t,n){let a=!_X(t);return e&&(a||n==!1)?vX(e,t):t}const Ik=e=>e instanceof Ao?{...e}:e;function Mh(e,t){t=t||{};const n={};function a(d,f,g,b){return Ht.isPlainObject(d)&&Ht.isPlainObject(f)?Ht.merge.call({caseless:b},d,f):Ht.isPlainObject(f)?Ht.merge({},f):Ht.isArray(f)?f.slice():f}function r(d,f,g,b){if(Ht.isUndefined(f)){if(!Ht.isUndefined(d))return a(void 0,d,g,b)}else return a(d,f,g,b)}function i(d,f){if(!Ht.isUndefined(f))return a(void 0,f)}function o(d,f){if(Ht.isUndefined(f)){if(!Ht.isUndefined(d))return a(void 0,d)}else return a(void 0,f)}function c(d,f,g){if(g in t)return a(d,f);if(g in e)return a(void 0,d)}const l={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:c,headers:(d,f,g)=>r(Ik(d),Ik(f),g,!0)};return Ht.forEach(Object.keys({...e,...t}),function(f){const g=l[f]||r,b=g(e[f],t[f],f);Ht.isUndefined(b)&&g!==c||(n[f]=b)}),n}const CR=e=>{const t=Mh({},e);let{data:n,withXSRFToken:a,xsrfHeaderName:r,xsrfCookieName:i,headers:o,auth:c}=t;if(t.headers=o=Ao.from(o),t.url=_R(wR(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),c&&o.set("Authorization","Basic "+btoa((c.username||"")+":"+(c.password?unescape(encodeURIComponent(c.password)):""))),Ht.isFormData(n)){if(oo.hasStandardBrowserEnv||oo.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(Ht.isFunction(n.getHeaders)){const l=n.getHeaders(),d=["content-type","content-length"];Object.entries(l).forEach(([f,g])=>{d.includes(f.toLowerCase())&&o.set(f,g)})}}if(oo.hasStandardBrowserEnv&&(a&&Ht.isFunction(a)&&(a=a(t)),a||a!==!1&&pX(t.url))){const l=r&&i&&gX.read(i);l&&o.set(r,l)}return t},xX=typeof XMLHttpRequest<"u",bX=xX&&function(e){return new Promise(function(n,a){const r=CR(e);let i=r.data;const o=Ao.from(r.headers).normalize();let{responseType:c,onUploadProgress:l,onDownloadProgress:d}=r,f,g,b,w,S;function j(){w&&w(),S&&S(),r.cancelToken&&r.cancelToken.unsubscribe(f),r.signal&&r.signal.removeEventListener("abort",f)}let N=new XMLHttpRequest;N.open(r.method.toUpperCase(),r.url,!0),N.timeout=r.timeout;function I(){if(!N)return;const B=Ao.from("getAllResponseHeaders"in N&&N.getAllResponseHeaders()),O={data:!c||c==="text"||c==="json"?N.responseText:N.response,status:N.status,statusText:N.statusText,headers:B,config:e,request:N};yR(function($){n($),j()},function($){a($),j()},O),N=null}"onloadend"in N?N.onloadend=I:N.onreadystatechange=function(){!N||N.readyState!==4||N.status===0&&!(N.responseURL&&N.responseURL.indexOf("file:")===0)||setTimeout(I)},N.onabort=function(){N&&(a(new oa("Request aborted",oa.ECONNABORTED,e,N)),N=null)},N.onerror=function(P){const O=P&&P.message?P.message:"Network Error",R=new oa(O,oa.ERR_NETWORK,e,N);R.event=P||null,a(R),N=null},N.ontimeout=function(){let P=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const O=r.transitional||vR;r.timeoutErrorMessage&&(P=r.timeoutErrorMessage),a(new oa(P,O.clarifyTimeoutError?oa.ETIMEDOUT:oa.ECONNABORTED,e,N)),N=null},i===void 0&&o.setContentType(null),"setRequestHeader"in N&&Ht.forEach(o.toJSON(),function(P,O){N.setRequestHeader(O,P)}),Ht.isUndefined(r.withCredentials)||(N.withCredentials=!!r.withCredentials),c&&c!=="json"&&(N.responseType=r.responseType),d&&([b,S]=bx(d,!0),N.addEventListener("progress",b)),l&&N.upload&&([g,w]=bx(l),N.upload.addEventListener("progress",g),N.upload.addEventListener("loadend",w)),(r.cancelToken||r.signal)&&(f=B=>{N&&(a(!B||B.type?new Wm(null,e,N):B),N.abort(),N=null)},r.cancelToken&&r.cancelToken.subscribe(f),r.signal&&(r.signal.aborted?f():r.signal.addEventListener("abort",f)));const M=hX(r.url);if(M&&oo.protocols.indexOf(M)===-1){a(new oa("Unsupported protocol "+M+":",oa.ERR_BAD_REQUEST,e));return}N.send(i||null)})},yX=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let a=new AbortController,r;const i=function(d){if(!r){r=!0,c();const f=d instanceof Error?d:this.reason;a.abort(f instanceof oa?f:new Wm(f instanceof Error?f.message:f))}};let o=t&&setTimeout(()=>{o=null,i(new oa(`timeout ${t} of ms exceeded`,oa.ETIMEDOUT))},t);const c=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(d=>{d.unsubscribe?d.unsubscribe(i):d.removeEventListener("abort",i)}),e=null)};e.forEach(d=>d.addEventListener("abort",i));const{signal:l}=a;return l.unsubscribe=()=>Ht.asap(c),l}},wX=function*(e,t){let n=e.byteLength;if(n<t){yield e;return}let a=0,r;for(;a<n;)r=a+t,yield e.slice(a,r),a=r},CX=async function*(e,t){for await(const n of SX(e))yield*wX(n,t)},SX=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:a}=await t.read();if(n)break;yield a}}finally{await t.cancel()}},Dk=(e,t,n,a)=>{const r=CX(e,t);let i=0,o,c=l=>{o||(o=!0,a&&a(l))};return new ReadableStream({async pull(l){try{const{done:d,value:f}=await r.next();if(d){c(),l.close();return}let g=f.byteLength;if(n){let b=i+=g;n(b)}l.enqueue(new Uint8Array(f))}catch(d){throw c(d),d}},cancel(l){return c(l),r.return()}},{highWaterMark:2})},Tk=64*1024,{isFunction:O_}=Ht,jX=(({Request:e,Response:t})=>({Request:e,Response:t}))(Ht.global),{ReadableStream:Ak,TextEncoder:Mk}=Ht.global,Rk=(e,...t)=>{try{return!!e(...t)}catch{return!1}},NX=e=>{e=Ht.merge.call({skipUndefined:!0},jX,e);const{fetch:t,Request:n,Response:a}=e,r=t?O_(t):typeof fetch=="function",i=O_(n),o=O_(a);if(!r)return!1;const c=r&&O_(Ak),l=r&&(typeof Mk=="function"?(S=>j=>S.encode(j))(new Mk):async S=>new Uint8Array(await new n(S).arrayBuffer())),d=i&&c&&Rk(()=>{let S=!1;const j=new n(oo.origin,{body:new Ak,method:"POST",get duplex(){return S=!0,"half"}}).headers.has("Content-Type");return S&&!j}),f=o&&c&&Rk(()=>Ht.isReadableStream(new a("").body)),g={stream:f&&(S=>S.body)};r&&["text","arrayBuffer","blob","formData","stream"].forEach(S=>{!g[S]&&(g[S]=(j,N)=>{let I=j&&j[S];if(I)return I.call(j);throw new oa(`Response type '${S}' is not supported`,oa.ERR_NOT_SUPPORT,N)})});const b=async S=>{if(S==null)return 0;if(Ht.isBlob(S))return S.size;if(Ht.isSpecCompliantForm(S))return(await new n(oo.origin,{method:"POST",body:S}).arrayBuffer()).byteLength;if(Ht.isArrayBufferView(S)||Ht.isArrayBuffer(S))return S.byteLength;if(Ht.isURLSearchParams(S)&&(S=S+""),Ht.isString(S))return(await l(S)).byteLength},w=async(S,j)=>{const N=Ht.toFiniteNumber(S.getContentLength());return N??b(j)};return async S=>{let{url:j,method:N,data:I,signal:M,cancelToken:B,timeout:P,onDownloadProgress:O,onUploadProgress:R,responseType:$,headers:U,withCredentials:F="same-origin",fetchOptions:H}=CR(S),ne=t||fetch;$=$?($+"").toLowerCase():"text";let X=yX([M,B&&B.toAbortSignal()],P),te=null;const se=X&&X.unsubscribe&&(()=>{X.unsubscribe()});let V;try{if(R&&d&&N!=="get"&&N!=="head"&&(V=await w(U,I))!==0){let Y=new n(j,{method:"POST",body:I,duplex:"half"}),K;if(Ht.isFormData(I)&&(K=Y.headers.get("content-type"))&&U.setContentType(K),Y.body){const[G,oe]=Ek(V,bx(kk(R)));I=Dk(Y.body,Tk,G,oe)}}Ht.isString(F)||(F=F?"include":"omit");const q=i&&"credentials"in n.prototype,T={...H,signal:X,method:N.toUpperCase(),headers:U.normalize().toJSON(),body:I,duplex:"half",credentials:q?F:void 0};te=i&&new n(j,T);let J=await(i?ne(te,H):ne(j,T));const Z=f&&($==="stream"||$==="response");if(f&&(O||Z&&se)){const Y={};["status","statusText","headers"].forEach(ee=>{Y[ee]=J[ee]});const K=Ht.toFiniteNumber(J.headers.get("content-length")),[G,oe]=O&&Ek(K,bx(kk(O),!0))||[];J=new a(Dk(J.body,Tk,G,()=>{oe&&oe(),se&&se()}),Y)}$=$||"text";let A=await g[Ht.findKey(g,$)||"text"](J,S);return!Z&&se&&se(),await new Promise((Y,K)=>{yR(Y,K,{data:A,headers:Ao.from(J.headers),status:J.status,statusText:J.statusText,config:S,request:te})})}catch(q){throw se&&se(),q&&q.name==="TypeError"&&/Load failed|fetch/i.test(q.message)?Object.assign(new oa("Network Error",oa.ERR_NETWORK,S,te),{cause:q.cause||q}):oa.from(q,q&&q.code,S,te)}}},EX=new Map,SR=e=>{let t=e?e.env:{};const{fetch:n,Request:a,Response:r}=t,i=[a,r,n];let o=i.length,c=o,l,d,f=EX;for(;c--;)l=i[c],d=f.get(l),d===void 0&&f.set(l,d=c?new Map:NX(t)),f=d;return d};SR();const GS={http:qQ,xhr:bX,fetch:{get:SR}};Ht.forEach(GS,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const Ok=e=>`- ${e}`,kX=e=>Ht.isFunction(e)||e===null||e===!1,jR={getAdapter:(e,t)=>{e=Ht.isArray(e)?e:[e];const{length:n}=e;let a,r;const i={};for(let o=0;o<n;o++){a=e[o];let c;if(r=a,!kX(a)&&(r=GS[(c=String(a)).toLowerCase()],r===void 0))throw new oa(`Unknown adapter '${c}'`);if(r&&(Ht.isFunction(r)||(r=r.get(t))))break;i[c||"#"+o]=r}if(!r){const o=Object.entries(i).map(([l,d])=>`adapter ${l} `+(d===!1?"is not supported by the environment":"is not available in the build"));let c=n?o.length>1?`since :
`+o.map(Ok).join(`
`):" "+Ok(o[0]):"as no adapter specified";throw new oa("There is no suitable adapter to dispatch the request "+c,"ERR_NOT_SUPPORT")}return r},adapters:GS};function Fw(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Wm(null,e)}function Bk(e){return Fw(e),e.headers=Ao.from(e.headers),e.data=Pw.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),jR.getAdapter(e.adapter||a0.adapter,e)(e).then(function(a){return Fw(e),a.data=Pw.call(e,e.transformResponse,a),a.headers=Ao.from(a.headers),a},function(a){return bR(a)||(Fw(e),a&&a.response&&(a.response.data=Pw.call(e,e.transformResponse,a.response),a.response.headers=Ao.from(a.response.headers))),Promise.reject(a)})}const NR="1.12.2",Db={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Db[e]=function(a){return typeof a===e||"a"+(t<1?"n ":" ")+e}});const Lk={};Db.transitional=function(t,n,a){function r(i,o){return"[Axios v"+NR+"] Transitional option '"+i+"'"+o+(a?". "+a:"")}return(i,o,c)=>{if(t===!1)throw new oa(r(o," has been removed"+(n?" in "+n:"")),oa.ERR_DEPRECATED);return n&&!Lk[o]&&(Lk[o]=!0,console.warn(r(o," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(i,o,c):!0}};Db.spelling=function(t){return(n,a)=>(console.warn(`${a} is likely a misspelling of ${t}`),!0)};function IX(e,t,n){if(typeof e!="object")throw new oa("options must be an object",oa.ERR_BAD_OPTION_VALUE);const a=Object.keys(e);let r=a.length;for(;r-- >0;){const i=a[r],o=t[i];if(o){const c=e[i],l=c===void 0||o(c,i,e);if(l!==!0)throw new oa("option "+i+" must be "+l,oa.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new oa("Unknown option "+i,oa.ERR_BAD_OPTION)}}const kv={assertOptions:IX,validators:Db},il=kv.validators;let yh=class{constructor(t){this.defaults=t||{},this.interceptors={request:new jk,response:new jk}}async request(t,n){try{return await this._request(t,n)}catch(a){if(a instanceof Error){let r={};Error.captureStackTrace?Error.captureStackTrace(r):r=new Error;const i=r.stack?r.stack.replace(/^.+\n/,""):"";try{a.stack?i&&!String(a.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(a.stack+=`
`+i):a.stack=i}catch{}}throw a}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=Mh(this.defaults,n);const{transitional:a,paramsSerializer:r,headers:i}=n;a!==void 0&&kv.assertOptions(a,{silentJSONParsing:il.transitional(il.boolean),forcedJSONParsing:il.transitional(il.boolean),clarifyTimeoutError:il.transitional(il.boolean)},!1),r!=null&&(Ht.isFunction(r)?n.paramsSerializer={serialize:r}:kv.assertOptions(r,{encode:il.function,serialize:il.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),kv.assertOptions(n,{baseUrl:il.spelling("baseURL"),withXsrfToken:il.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=i&&Ht.merge(i.common,i[n.method]);i&&Ht.forEach(["delete","get","head","post","put","patch","common"],S=>{delete i[S]}),n.headers=Ao.concat(o,i);const c=[];let l=!0;this.interceptors.request.forEach(function(j){typeof j.runWhen=="function"&&j.runWhen(n)===!1||(l=l&&j.synchronous,c.unshift(j.fulfilled,j.rejected))});const d=[];this.interceptors.response.forEach(function(j){d.push(j.fulfilled,j.rejected)});let f,g=0,b;if(!l){const S=[Bk.bind(this),void 0];for(S.unshift(...c),S.push(...d),b=S.length,f=Promise.resolve(n);g<b;)f=f.then(S[g++],S[g++]);return f}b=c.length;let w=n;for(;g<b;){const S=c[g++],j=c[g++];try{w=S(w)}catch(N){j.call(this,N);break}}try{f=Bk.call(this,w)}catch(S){return Promise.reject(S)}for(g=0,b=d.length;g<b;)f=f.then(d[g++],d[g++]);return f}getUri(t){t=Mh(this.defaults,t);const n=wR(t.baseURL,t.url,t.allowAbsoluteUrls);return _R(n,t.params,t.paramsSerializer)}};Ht.forEach(["delete","get","head","options"],function(t){yh.prototype[t]=function(n,a){return this.request(Mh(a||{},{method:t,url:n,data:(a||{}).data}))}});Ht.forEach(["post","put","patch"],function(t){function n(a){return function(i,o,c){return this.request(Mh(c||{},{method:t,headers:a?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}yh.prototype[t]=n(),yh.prototype[t+"Form"]=n(!0)});let DX=class ER{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(i){n=i});const a=this;this.promise.then(r=>{if(!a._listeners)return;let i=a._listeners.length;for(;i-- >0;)a._listeners[i](r);a._listeners=null}),this.promise.then=r=>{let i;const o=new Promise(c=>{a.subscribe(c),i=c}).then(r);return o.cancel=function(){a.unsubscribe(i)},o},t(function(i,o,c){a.reason||(a.reason=new Wm(i,o,c),n(a.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=a=>{t.abort(a)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new ER(function(r){t=r}),cancel:t}}};function TX(e){return function(n){return e.apply(null,n)}}function AX(e){return Ht.isObject(e)&&e.isAxiosError===!0}const QS={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(QS).forEach(([e,t])=>{QS[t]=e});function kR(e){const t=new yh(e),n=rR(yh.prototype.request,t);return Ht.extend(n,yh.prototype,t,{allOwnKeys:!0}),Ht.extend(n,t,null,{allOwnKeys:!0}),n.create=function(r){return kR(Mh(e,r))},n}const gi=kR(a0);gi.Axios=yh;gi.CanceledError=Wm;gi.CancelToken=DX;gi.isCancel=bR;gi.VERSION=NR;gi.toFormData=Ib;gi.AxiosError=oa;gi.Cancel=gi.CanceledError;gi.all=function(t){return Promise.all(t)};gi.spread=TX;gi.isAxiosError=AX;gi.mergeConfig=Mh;gi.AxiosHeaders=Ao;gi.formToJSON=e=>xR(Ht.isHTMLForm(e)?new FormData(e):e);gi.getAdapter=jR.getAdapter;gi.HttpStatusCode=QS;gi.default=gi;const{Axios:ZNt,AxiosError:JNt,CanceledError:e3t,isCancel:t3t,CancelToken:n3t,VERSION:s3t,all:a3t,Cancel:r3t,isAxiosError:i3t,spread:o3t,toFormData:c3t,AxiosHeaders:l3t,HttpStatusCode:u3t,formToJSON:d3t,getAdapter:h3t,mergeConfig:f3t}=gi,MX={development:{API_BASE_URL:"https://api.vendorvillage.store",MEDIA_BASE_URL:"https://api.vendorvillage.store",APP_NAME:"Axione Dev",DEBUG:!0,LOG_LEVEL:"debug"},production:{API_BASE_URL:"https://api.vendorvillage.store",MEDIA_BASE_URL:"https://api.vendorvillage.store",APP_NAME:"Axione",DEBUG:!1,LOG_LEVEL:"error"}},RX=()=>"production",Iv=RX(),OX=MX[Iv],Ym={...OX,ENVIRONMENT:Iv,IS_DEVELOPMENT:Iv==="development",IS_PRODUCTION:Iv==="production"},Dv={debug:(...e)=>{Ym.DEBUG&&console.log("[DEBUG]",...e)},info:(...e)=>{console.info("[INFO]",...e)},warn:(...e)=>{console.warn("[WARN]",...e)},error:(...e)=>{console.error("[ERROR]",...e)}},IR=Ym.API_BASE_URL;Dv.debug("API Base URL:",IR);const Re=gi.create({baseURL:IR,withCredentials:!0,timeout:2e4});let Hw=!1,XS=[];const $k=(e,t=null)=>{XS.forEach(n=>{e?n.reject(e):n.resolve(t)}),XS=[]};function BX(e){const t=document.cookie.match("(?:^|; )"+e.replace(/([$?*|{}\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)");return t?decodeURIComponent(t[1]):null}Re.interceptors.request.use(e=>{const t=(e.method||"get").toLowerCase();if(["post","put","patch","delete"].includes(t)){const n=BX("csrftoken");n&&(e.headers["X-CSRFToken"]=n)}return e});const LX=["accounts/api/auth/login/","accounts/api/auth/register/","accounts/api/auth/verify-email/","accounts/api/auth/password-reset/","accounts/api/auth/password-reset-confirm/","accounts/api/auth/resend-code/","accounts/api/auth/google/","accounts/api/auth/telegram/","accounts/api/token/refresh/"],$X=e=>e?LX.some(t=>e.includes(t)):!1;Re.interceptors.response.use(e=>e,async e=>{var n;const t=e.config;if(((n=e.response)==null?void 0:n.status)===401&&!t._retry&&!$X(t.url)){if(Hw)return new Promise((a,r)=>{XS.push({resolve:a,reject:r})}).then(()=>Re(t)).catch(a=>Promise.reject(a));t._retry=!0,Hw=!0;try{const a=await Re.post("accounts/api/token/refresh/",{},{withCredentials:!0});if(a.status===200)return $k(null,a.data),Re(t)}catch(a){$k(a,null);const r=["/registration-login","/password-reset","/privacy","/","/marketplace","/business-categories","/invite"],i=window.location.pathname;return r.some(c=>i===c||i.startsWith(c+"/"))||(window.location.href="/registration-login"),Promise.reject(a)}finally{Hw=!1}}return Promise.reject(e)});const r0=(e=768)=>{const[t,n]=v.useState(()=>typeof window<"u"?window.innerWidth<=e:!1);return v.useEffect(()=>{if(typeof window>"u")return;const a=window.matchMedia(`(max-width: ${e}px)`),r=i=>{n(i.matches)};return n(a.matches),a.addEventListener?a.addEventListener("change",r):a.addListener(r),()=>{a.removeEventListener?a.removeEventListener("change",r):a.removeListener(r)}},[e]),t};var DR={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Pk=Je.createContext&&Je.createContext(DR),PX=["attr","size","title"];function FX(e,t){if(e==null)return{};var n=HX(e,t),a,r;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)a=i[r],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function HX(e,t){if(e==null)return{};var n={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;n[a]=e[a]}return n}function yx(){return yx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},yx.apply(this,arguments)}function Fk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,a)}return n}function wx(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Fk(Object(n),!0).forEach(function(a){zX(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fk(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function zX(e,t,n){return t=VX(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function VX(e){var t=qX(e,"string");return typeof t=="symbol"?t:t+""}function qX(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function TR(e){return e&&e.map((t,n)=>Je.createElement(t.tag,wx({key:n},t.attr),TR(t.child)))}function Jt(e){return t=>Je.createElement(UX,yx({attr:wx({},e.attr)},t),TR(e.child))}function UX(e){var t=n=>{var{attr:a,size:r,title:i}=e,o=FX(e,PX),c=r||n.size||"1em",l;return n.className&&(l=n.className),e.className&&(l=(l?l+" ":"")+e.className),Je.createElement("svg",yx({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,a,o,{className:l,style:wx(wx({color:e.color||n.color},n.style),e.style),height:c,width:c,xmlns:"http://www.w3.org/2000/svg"}),i&&Je.createElement("title",null,i),e.children)};return Pk!==void 0?Je.createElement(Pk.Consumer,null,n=>t(n)):t(DR)}function WX(e){return Jt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"},child:[]}]})(e)}function YX(e){return Jt({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm121.8 169.9l-40.7 191.8c-3 13.6-11.1 16.9-22.4 10.5l-62-45.7-29.9 28.8c-3.3 3.3-6.1 6.1-12.5 6.1l4.4-63.1 114.9-103.8c5-4.4-1.1-6.9-7.7-2.5l-142 89.4-61.2-19.1c-13.3-4.2-13.6-13.3 2.8-19.7l239.1-92.2c11.1-4 20.8 2.7 17.2 19.5z"},child:[]}]})(e)}function Hk(e){return Jt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M32 448c0 17.7 14.3 32 32 32h384c17.7 0 32-14.3 32-32V160H32v288zm160-212c0-6.6 5.4-12 12-12h104c6.6 0 12 5.4 12 12v8c0 6.6-5.4 12-12 12H204c-6.6 0-12-5.4-12-12v-8zM480 32H32C14.3 32 0 46.3 0 64v48c0 8.8 7.2 16 16 16h480c8.8 0 16-7.2 16-16V64c0-17.7-14.3-32-32-32z"},child:[]}]})(e)}function i0(e){return Jt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M413.1 222.5l22.2 22.2c9.4 9.4 9.4 24.6 0 33.9L241 473c-9.4 9.4-24.6 9.4-33.9 0L12.7 278.6c-9.4-9.4-9.4-24.6 0-33.9l22.2-22.2c9.5-9.5 25-9.3 34.3.4L184 343.4V56c0-13.3 10.7-24 24-24h32c13.3 0 24 10.7 24 24v287.4l114.8-120.5c9.3-9.8 24.8-10 34.3-.4z"},child:[]}]})(e)}function hm(e){return Jt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M257.5 445.1l-22.2 22.2c-9.4 9.4-24.6 9.4-33.9 0L7 273c-9.4-9.4-9.4-24.6 0-33.9L201.4 44.7c9.4-9.4 24.6-9.4 33.9 0l22.2 22.2c9.5 9.5 9.3 25-.4 34.3L136.6 216H424c13.3 0 24 10.7 24 24v32c0 13.3-10.7 24-24 24H136.6l120.5 114.8c9.8 9.3 10 24.8.4 34.3z"},child:[]}]})(e)}function Tb(e){return Jt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M190.5 66.9l22.2-22.2c9.4-9.4 24.6-9.4 33.9 0L441 239c9.4 9.4 9.4 24.6 0 33.9L246.6 467.3c-9.4 9.4-24.6 9.4-33.9 0l-22.2-22.2c-9.5-9.5-9.3-25 .4-34.3L311.4 296H24c-13.3 0-24-10.7-24-24v-32c0-13.3 10.7-24 24-24h287.4L190.9 101.2c-9.8-9.3-10-24.8-.4-34.3z"},child:[]}]})(e)}function o0(e){return Jt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M34.9 289.5l-22.2-22.2c-9.4-9.4-9.4-24.6 0-33.9L207 39c9.4-9.4 24.6-9.4 33.9 0l194.3 194.3c9.4 9.4 9.4 24.6 0 33.9L413 289.4c-9.5 9.5-25 9.3-34.3-.4L264 168.6V456c0 13.3-10.7 24-24 24h-32c-13.3 0-24-10.7-24-24V168.6L69.2 289.1c-9.3 9.8-24.8 10-34.3.4z"},child:[]}]})(e)}function GX(e){return Jt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119.034 8 8 119.033 8 256s111.034 248 248 248 248-111.034 248-248S392.967 8 256 8zm130.108 117.892c65.448 65.448 70 165.481 20.677 235.637L150.47 105.216c70.204-49.356 170.226-44.735 235.638 20.676zM125.892 386.108c-65.448-65.448-70-165.481-20.677-235.637L361.53 406.784c-70.203 49.356-170.226 44.736-235.638-20.676z"},child:[]}]})(e)}function AR(e){return Jt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M0 448V64h18v384H0zm26.857-.273V64H36v383.727h-9.143zm27.143 0V64h8.857v383.727H54zm44.857 0V64h8.857v383.727h-8.857zm36 0V64h17.714v383.727h-17.714zm44.857 0V64h8.857v383.727h-8.857zm18 0V64h8.857v383.727h-8.857zm18 0V64h8.857v383.727h-8.857zm35.715 0V64h18v383.727h-18zm44.857 0V64h18v383.727h-18zm35.999 0V64h18.001v383.727h-18.001zm36.001 0V64h18.001v383.727h-18.001zm26.857 0V64h18v383.727h-18zm45.143 0V64h26.857v383.727h-26.857zm35.714 0V64h9.143v383.727H476zm18 .273V64h18v384h-18z"},child:[]}]})(e)}function KS(e){return Jt({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M425.7 256c-16.9 0-32.8-9-41.4-23.4L320 126l-64.2 106.6c-8.7 14.5-24.6 23.5-41.5 23.5-4.5 0-9-.6-13.3-1.9L64 215v178c0 14.7 10 27.5 24.2 31l216.2 54.1c10.2 2.5 20.9 2.5 31 0L551.8 424c14.2-3.6 24.2-16.4 24.2-31V215l-137 39.1c-4.3 1.3-8.8 1.9-13.3 1.9zm212.6-112.2L586.8 41c-3.1-6.2-9.8-9.8-16.7-8.9L320 64l91.7 152.1c3.8 6.3 11.4 9.3 18.5 7.3l197.9-56.5c9.9-2.9 14.7-13.9 10.2-23.1zM53.2 41L1.7 143.8c-4.6 9.2.3 20.2 10.1 23l197.9 56.5c7.1 2 14.7-1 18.5-7.3L320 64 69.8 32.1c-6.9-.8-13.5 2.7-16.6 8.9z"},child:[]}]})(e)}function jc(e){return Jt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M560 288h-80v96l-32-21.3-32 21.3v-96h-80c-8.8 0-16 7.2-16 16v192c0 8.8 7.2 16 16 16h224c8.8 0 16-7.2 16-16V304c0-8.8-7.2-16-16-16zm-384-64h224c8.8 0 16-7.2 16-16V16c0-8.8-7.2-16-16-16h-80v96l-32-21.3L256 96V0h-80c-8.8 0-16 7.2-16 16v192c0 8.8 7.2 16 16 16zm64 64h-80v96l-32-21.3L96 384v-96H16c-8.8 0-16 7.2-16 16v192c0 8.8 7.2 16 16 16h224c8.8 0 16-7.2 16-16V304c0-8.8-7.2-16-16-16z"},child:[]}]})(e)}function Cc(e){return Jt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M436 480h-20V24c0-13.255-10.745-24-24-24H56C42.745 0 32 10.745 32 24v456H12c-6.627 0-12 5.373-12 12v20h448v-20c0-6.627-5.373-12-12-12zM128 76c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12V76zm0 96c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12v-40zm52 148h-40c-6.627 0-12-5.373-12-12v-40c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40c0 6.627-5.373 12-12 12zm76 160h-64v-84c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v84zm64-172c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12v-40c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40zm0-96c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12v-40c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40zm0-96c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12V76c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40z"},child:[]}]})(e)}function Oo(e){return Jt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M0 464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V192H0v272zm320-196c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM192 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM64 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zM400 64h-48V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H160V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H48C21.5 64 0 85.5 0 112v48h448v-48c0-26.5-21.5-48-48-48z"},child:[]}]})(e)}function fm(e){return Jt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M12 192h424c6.6 0 12 5.4 12 12v260c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V204c0-6.6 5.4-12 12-12zm436-44v-36c0-26.5-21.5-48-48-48h-48V12c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v52H160V12c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v52H48C21.5 64 0 85.5 0 112v36c0 6.6 5.4 12 12 12h424c6.6 0 12-5.4 12-12z"},child:[]}]})(e)}function zk(e){return Jt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M512 144v288c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V144c0-26.5 21.5-48 48-48h88l12.3-32.9c7-18.7 24.9-31.1 44.9-31.1h125.5c20 0 37.9 12.4 44.9 31.1L376 96h88c26.5 0 48 21.5 48 48zM376 288c0-66.2-53.8-120-120-120s-120 53.8-120 120 53.8 120 120 120 120-53.8 120-120zm-32 0c0 48.5-39.5 88-88 88s-88-39.5-88-88 39.5-88 88-88 88 39.5 88 88z"},child:[]}]})(e)}function Wc(e){return Jt({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M31.3 192h257.3c17.8 0 26.7 21.5 14.1 34.1L174.1 354.8c-7.8 7.8-20.5 7.8-28.3 0L17.2 226.1C4.6 213.5 13.5 192 31.3 192z"},child:[]}]})(e)}function Cx(e){return Jt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M511.1 378.8l-26.7-160c-2.6-15.4-15.9-26.7-31.6-26.7H208v-64h96c8.8 0 16-7.2 16-16V16c0-8.8-7.2-16-16-16H48c-8.8 0-16 7.2-16 16v96c0 8.8 7.2 16 16 16h96v64H59.1c-15.6 0-29 11.3-31.6 26.7L.8 378.7c-.6 3.5-.9 7-.9 10.5V480c0 17.7 14.3 32 32 32h448c17.7 0 32-14.3 32-32v-90.7c.1-3.5-.2-7-.8-10.5zM280 248c0-8.8 7.2-16 16-16h16c8.8 0 16 7.2 16 16v16c0 8.8-7.2 16-16 16h-16c-8.8 0-16-7.2-16-16v-16zm-32 64h16c8.8 0 16 7.2 16 16v16c0 8.8-7.2 16-16 16h-16c-8.8 0-16-7.2-16-16v-16c0-8.8 7.2-16 16-16zm-32-80c8.8 0 16 7.2 16 16v16c0 8.8-7.2 16-16 16h-16c-8.8 0-16-7.2-16-16v-16c0-8.8 7.2-16 16-16h16zM80 80V48h192v32H80zm40 200h-16c-8.8 0-16-7.2-16-16v-16c0-8.8 7.2-16 16-16h16c8.8 0 16 7.2 16 16v16c0 8.8-7.2 16-16 16zm16 64v-16c0-8.8 7.2-16 16-16h16c8.8 0 16 7.2 16 16v16c0 8.8-7.2 16-16 16h-16c-8.8 0-16-7.2-16-16zm216 112c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h176c4.4 0 8 3.6 8 8v16zm24-112c0 8.8-7.2 16-16 16h-16c-8.8 0-16-7.2-16-16v-16c0-8.8 7.2-16 16-16h16c8.8 0 16 7.2 16 16v16zm48-80c0 8.8-7.2 16-16 16h-16c-8.8 0-16-7.2-16-16v-16c0-8.8 7.2-16 16-16h16c8.8 0 16 7.2 16 16v16z"},child:[]}]})(e)}function Vk(e){return Jt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M496 384H64V80c0-8.84-7.16-16-16-16H16C7.16 64 0 71.16 0 80v336c0 17.67 14.33 32 32 32h464c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16zM464 96H345.94c-21.38 0-32.09 25.85-16.97 40.97l32.4 32.4L288 242.75l-73.37-73.37c-12.5-12.5-32.76-12.5-45.25 0l-68.69 68.69c-6.25 6.25-6.25 16.38 0 22.63l22.62 22.62c6.25 6.25 16.38 6.25 22.63 0L192 237.25l73.37 73.37c12.5 12.5 32.76 12.5 45.25 0l96-96 32.4 32.4c15.12 15.12 40.97 4.41 40.97-16.97V112c.01-8.84-7.15-16-15.99-16z"},child:[]}]})(e)}function Sl(e){return Jt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"},child:[]}]})(e)}function MR(e){return Jt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 480H48c-26.51 0-48-21.49-48-48V80c0-26.51 21.49-48 48-48h352c26.51 0 48 21.49 48 48v352c0 26.51-21.49 48-48 48zm-204.686-98.059l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.248-16.379-6.249-22.628 0L184 302.745l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.25 16.379 6.25 22.628.001z"},child:[]}]})(e)}function qr(e){return Jt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"},child:[]}]})(e)}function Bo(e){return Jt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M207.029 381.476L12.686 187.132c-9.373-9.373-9.373-24.569 0-33.941l22.667-22.667c9.357-9.357 24.522-9.375 33.901-.04L224 284.505l154.745-154.021c9.379-9.335 24.544-9.317 33.901.04l22.667 22.667c9.373 9.373 9.373 24.569 0 33.941L240.971 381.476c-9.373 9.372-24.569 9.372-33.942 0z"},child:[]}]})(e)}function jl(e){return Jt({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M34.52 239.03L228.87 44.69c9.37-9.37 24.57-9.37 33.94 0l22.67 22.67c9.36 9.36 9.37 24.52.04 33.9L131.49 256l154.02 154.75c9.34 9.38 9.32 24.54-.04 33.9l-22.67 22.67c-9.37 9.37-24.57 9.37-33.94 0L34.52 272.97c-9.37-9.37-9.37-24.57 0-33.94z"},child:[]}]})(e)}function Nl(e){return Jt({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"},child:[]}]})(e)}function Lo(e){return Jt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M240.971 130.524l194.343 194.343c9.373 9.373 9.373 24.569 0 33.941l-22.667 22.667c-9.357 9.357-24.522 9.375-33.901.04L224 227.495 69.255 381.516c-9.379 9.335-24.544 9.317-33.901-.04l-22.667-22.667c-9.373-9.373-9.373-24.569 0-33.941L207.03 130.525c9.372-9.373 24.568-9.373 33.941-.001z"},child:[]}]})(e)}function Cg(e){return Jt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256,8C119,8,8,119,8,256S119,504,256,504,504,393,504,256,393,8,256,8Zm92.49,313h0l-20,25a16,16,0,0,1-22.49,2.5h0l-67-49.72a40,40,0,0,1-15-31.23V112a16,16,0,0,1,16-16h32a16,16,0,0,1,16,16V256l58,42.5A16,16,0,0,1,348.49,321Z"},child:[]}]})(e)}function Ab(e){return Jt({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M537.6 226.6c4.1-10.7 6.4-22.4 6.4-34.6 0-53-43-96-96-96-19.7 0-38.1 6-53.3 16.2C367 64.2 315.3 32 256 32c-88.4 0-160 71.6-160 160 0 2.7.1 5.4.2 8.1C40.2 219.8 0 273.2 0 336c0 79.5 64.5 144 144 144h368c70.7 0 128-57.3 128-128 0-61.9-44-113.6-102.4-125.4zM393.4 288H328v112c0 8.8-7.2 16-16 16h-48c-8.8 0-16-7.2-16-16V288h-65.4c-14.3 0-21.4-17.2-11.3-27.3l105.4-105.4c6.2-6.2 16.4-6.2 22.6 0l105.4 105.4c10.1 10.1 2.9 27.3-11.3 27.3z"},child:[]}]})(e)}function RR(e){return Jt({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M278.9 511.5l-61-17.7c-6.4-1.8-10-8.5-8.2-14.9L346.2 8.7c1.8-6.4 8.5-10 14.9-8.2l61 17.7c6.4 1.8 10 8.5 8.2 14.9L293.8 503.3c-1.9 6.4-8.5 10.1-14.9 8.2zm-114-112.2l43.5-46.4c4.6-4.9 4.3-12.7-.8-17.2L117 256l90.6-79.7c5.1-4.5 5.5-12.3.8-17.2l-43.5-46.4c-4.5-4.8-12.1-5.1-17-.5L3.8 247.2c-5.1 4.7-5.1 12.8 0 17.5l144.1 135.1c4.9 4.6 12.5 4.4 17-.5zm327.2.6l144.1-135.1c5.1-4.7 5.1-12.8 0-17.5L492.1 112.1c-4.8-4.5-12.4-4.3-17 .5L431.6 159c-4.6 4.9-4.3 12.7.8 17.2L523 256l-90.6 79.7c-5.1 4.5-5.5 12.3-.8 17.2l43.5 46.4c4.5 4.9 12.1 5.1 17 .6z"},child:[]}]})(e)}function mm(e){return Jt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.4 315.7l-42.6-24.6c4.3-23.2 4.3-47 0-70.2l42.6-24.6c4.9-2.8 7.1-8.6 5.5-14-11.1-35.6-30-67.8-54.7-94.6-3.8-4.1-10-5.1-14.8-2.3L380.8 110c-17.9-15.4-38.5-27.3-60.8-35.1V25.8c0-5.6-3.9-10.5-9.4-11.7-36.7-8.2-74.3-7.8-109.2 0-5.5 1.2-9.4 6.1-9.4 11.7V75c-22.2 7.9-42.8 19.8-60.8 35.1L88.7 85.5c-4.9-2.8-11-1.9-14.8 2.3-24.7 26.7-43.6 58.9-54.7 94.6-1.7 5.4.6 11.2 5.5 14L67.3 221c-4.3 23.2-4.3 47 0 70.2l-42.6 24.6c-4.9 2.8-7.1 8.6-5.5 14 11.1 35.6 30 67.8 54.7 94.6 3.8 4.1 10 5.1 14.8 2.3l42.6-24.6c17.9 15.4 38.5 27.3 60.8 35.1v49.2c0 5.6 3.9 10.5 9.4 11.7 36.7 8.2 74.3 7.8 109.2 0 5.5-1.2 9.4-6.1 9.4-11.7v-49.2c22.2-7.9 42.8-19.8 60.8-35.1l42.6 24.6c4.9 2.8 11 1.9 14.8-2.3 24.7-26.7 43.6-58.9 54.7-94.6 1.5-5.5-.7-11.3-5.6-14.1zM256 336c-44.1 0-80-35.9-80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80z"},child:[]}]})(e)}function OR(e){return Jt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M0 405.3V448c0 35.3 86 64 192 64s192-28.7 192-64v-42.7C342.7 434.4 267.2 448 192 448S41.3 434.4 0 405.3zM320 128c106 0 192-28.7 192-64S426 0 320 0 128 28.7 128 64s86 64 192 64zM0 300.4V352c0 35.3 86 64 192 64s192-28.7 192-64v-51.6c-41.3 34-116.9 51.6-192 51.6S41.3 334.4 0 300.4zm416 11c57.3-11.1 96-31.7 96-55.4v-42.7c-23.2 16.4-57.3 27.6-96 34.5v63.6zM192 160C86 160 0 195.8 0 240s86 80 192 80 192-35.8 192-80-86-80-192-80zm219.3 56.3c60-10.8 100.7-32 100.7-56.3v-42.7c-35.5 25.1-96.5 38.6-160.7 41.8 29.5 14.3 51.2 33.5 60 57.2z"},child:[]}]})(e)}function BR(e){return Jt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M416 192c0-88.4-93.1-160-208-160S0 103.6 0 192c0 34.3 14.1 65.9 38 92-13.4 30.2-35.5 54.2-35.8 54.5-2.2 2.3-2.8 5.7-1.5 8.7S4.8 352 8 352c36.6 0 66.9-12.3 88.7-25 32.2 15.7 70.3 25 111.3 25 114.9 0 208-71.6 208-160zm122 220c23.9-26 38-57.7 38-92 0-66.9-53.5-124.2-129.3-148.1.9 6.6 1.3 13.3 1.3 20.1 0 105.9-107.7 192-240 192-10.8 0-21.3-.8-31.7-1.9C207.8 439.6 281.8 480 368 480c41 0 79.1-9.2 111.3-25 21.8 12.7 52.1 25 88.7 25 3.2 0 6.1-1.9 7.3-4.8 1.3-2.9.7-6.3-1.5-8.7-.3-.3-22.4-24.2-35.8-54.5z"},child:[]}]})(e)}function Sd(e){return Jt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M320 448v40c0 13.255-10.745 24-24 24H24c-13.255 0-24-10.745-24-24V120c0-13.255 10.745-24 24-24h72v296c0 30.879 25.121 56 56 56h168zm0-344V0H152c-13.255 0-24 10.745-24 24v368c0 13.255 10.745 24 24 24h272c13.255 0 24-10.745 24-24V128H344c-13.2 0-24-10.8-24-24zm120.971-31.029L375.029 7.029A24 24 0 0 0 358.059 0H352v96h96v-6.059a24 24 0 0 0-7.029-16.97z"},child:[]}]})(e)}function ZS(e){return Jt({attr:{viewBox:"0 0 288 512"},child:[{tag:"path",attr:{d:"M209.2 233.4l-108-31.6C88.7 198.2 80 186.5 80 173.5c0-16.3 13.2-29.5 29.5-29.5h66.3c12.2 0 24.2 3.7 34.2 10.5 6.1 4.1 14.3 3.1 19.5-2l34.8-34c7.1-6.9 6.1-18.4-1.8-24.5C238 74.8 207.4 64.1 176 64V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48h-2.5C45.8 64-5.4 118.7.5 183.6c4.2 46.1 39.4 83.6 83.8 96.6l102.5 30c12.5 3.7 21.2 15.3 21.2 28.3 0 16.3-13.2 29.5-29.5 29.5h-66.3C100 368 88 364.3 78 357.5c-6.1-4.1-14.3-3.1-19.5 2l-34.8 34c-7.1 6.9-6.1 18.4 1.8 24.5 24.5 19.2 55.1 29.9 86.5 30v48c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16v-48.2c46.6-.9 90.3-28.6 105.7-72.7 21.5-61.6-14.6-124.8-72.5-141.7z"},child:[]}]})(e)}function Mb(e){return Jt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M216 0h80c13.3 0 24 10.7 24 24v168h87.7c17.8 0 26.7 21.5 14.1 34.1L269.7 378.3c-7.5 7.5-19.8 7.5-27.3 0L90.1 226.1c-12.6-12.6-3.7-34.1 14.1-34.1H192V24c0-13.3 10.7-24 24-24zm296 376v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h146.7l49 49c20.1 20.1 52.5 20.1 72.6 0l49-49H488c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"},child:[]}]})(e)}function Yc(e){return Jt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"},child:[]}]})(e)}function pl(e){return Jt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"},child:[]}]})(e)}function wh(e){return Jt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M0 168v-16c0-13.255 10.745-24 24-24h360V80c0-21.367 25.899-32.042 40.971-16.971l80 80c9.372 9.373 9.372 24.569 0 33.941l-80 80C409.956 271.982 384 261.456 384 240v-48H24c-13.255 0-24-10.745-24-24zm488 152H128v-48c0-21.314-25.862-32.08-40.971-16.971l-80 80c-9.372 9.373-9.372 24.569 0 33.941l80 80C102.057 463.997 128 453.437 128 432v-48h360c13.255 0 24-10.745 24-24v-16c0-13.255-10.745-24-24-24z"},child:[]}]})(e)}function Sx(e){return Jt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zm-248 50c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},child:[]}]})(e)}function lu(e){return Jt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},child:[]}]})(e)}function LR(e){return Jt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M212.686 315.314L120 408l32.922 31.029c15.12 15.12 4.412 40.971-16.97 40.971h-112C10.697 480 0 469.255 0 456V344c0-21.382 25.803-32.09 40.922-16.971L72 360l92.686-92.686c6.248-6.248 16.379-6.248 22.627 0l25.373 25.373c6.249 6.248 6.249 16.378 0 22.627zm22.628-118.628L328 104l-32.922-31.029C279.958 57.851 290.666 32 312.048 32h112C437.303 32 448 42.745 448 56v112c0 21.382-25.803 32.09-40.922 16.971L376 152l-92.686 92.686c-6.248 6.248-16.379 6.248-22.627 0l-25.373-25.373c-6.249-6.248-6.249-16.378 0-22.627z"},child:[]}]})(e)}function $R(e){return Jt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M432,320H400a16,16,0,0,0-16,16V448H64V128H208a16,16,0,0,0,16-16V80a16,16,0,0,0-16-16H48A48,48,0,0,0,0,112V464a48,48,0,0,0,48,48H400a48,48,0,0,0,48-48V336A16,16,0,0,0,432,320ZM488,0h-128c-21.37,0-32.05,25.91-17,41l35.73,35.73L135,320.37a24,24,0,0,0,0,34L157.67,377a24,24,0,0,0,34,0L435.28,133.32,471,169c15,15,41,4.5,41-17V24A24,24,0,0,0,488,0Z"},child:[]}]})(e)}function QX(e){return Jt({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M320 400c-75.85 0-137.25-58.71-142.9-133.11L72.2 185.82c-13.79 17.3-26.48 35.59-36.72 55.59a32.35 32.35 0 0 0 0 29.19C89.71 376.41 197.07 448 320 448c26.91 0 52.87-4 77.89-10.46L346 397.39a144.13 144.13 0 0 1-26 2.61zm313.82 58.1l-110.55-85.44a331.25 331.25 0 0 0 81.25-102.07 32.35 32.35 0 0 0 0-29.19C550.29 135.59 442.93 64 320 64a308.15 308.15 0 0 0-147.32 37.7L45.46 3.37A16 16 0 0 0 23 6.18L3.37 31.45A16 16 0 0 0 6.18 53.9l588.36 454.73a16 16 0 0 0 22.46-2.81l19.64-25.27a16 16 0 0 0-2.82-22.45zm-183.72-142l-39.3-30.38A94.75 94.75 0 0 0 416 256a94.76 94.76 0 0 0-121.31-92.21A47.65 47.65 0 0 1 304 192a46.64 46.64 0 0 1-1.54 10l-73.61-56.89A142.31 142.31 0 0 1 320 112a143.92 143.92 0 0 1 144 144c0 21.63-5.29 41.79-13.9 60.11z"},child:[]}]})(e)}function Cu(e){return Jt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"},child:[]}]})(e)}function uu(e){return Jt({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm64 236c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12v8zm0-64c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12v8zm0-72v8c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12zm96-114.1v6.1H256V0h6.1c6.4 0 12.5 2.5 17 7l97.9 98c4.5 4.5 7 10.6 7 16.9z"},child:[]}]})(e)}function XX(e){return Jt({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zM64 72c0-4.42 3.58-8 8-8h80c4.42 0 8 3.58 8 8v16c0 4.42-3.58 8-8 8H72c-4.42 0-8-3.58-8-8V72zm0 64c0-4.42 3.58-8 8-8h80c4.42 0 8 3.58 8 8v16c0 4.42-3.58 8-8 8H72c-4.42 0-8-3.58-8-8v-16zm192.81 248H304c8.84 0 16 7.16 16 16s-7.16 16-16 16h-47.19c-16.45 0-31.27-9.14-38.64-23.86-2.95-5.92-8.09-6.52-10.17-6.52s-7.22.59-10.02 6.19l-7.67 15.34a15.986 15.986 0 0 1-14.31 8.84c-.38 0-.75-.02-1.14-.05-6.45-.45-12-4.75-14.03-10.89L144 354.59l-10.61 31.88c-5.89 17.66-22.38 29.53-41 29.53H80c-8.84 0-16-7.16-16-16s7.16-16 16-16h12.39c4.83 0 9.11-3.08 10.64-7.66l18.19-54.64c3.3-9.81 12.44-16.41 22.78-16.41s19.48 6.59 22.77 16.41l13.88 41.64c19.77-16.19 54.05-9.7 66 14.16 2.02 4.06 5.96 6.5 10.16 6.5zM377 105L279.1 7c-4.5-4.5-10.6-7-17-7H256v128h128v-6.1c0-6.3-2.5-12.4-7-16.9z"},child:[]}]})(e)}function Ch(e){return Jt({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm60.1 106.5L224 336l60.1 93.5c5.1 8-.6 18.5-10.1 18.5h-34.9c-4.4 0-8.5-2.4-10.6-6.3C208.9 405.5 192 373 192 373c-6.4 14.8-10 20-36.6 68.8-2.1 3.9-6.1 6.3-10.5 6.3H110c-9.5 0-15.2-10.5-10.1-18.5l60.3-93.5-60.3-93.5c-5.2-8 .6-18.5 10.1-18.5h34.8c4.4 0 8.5 2.4 10.6 6.3 26.1 48.8 20 33.6 36.6 68.5 0 0 6.1-11.7 36.6-68.5 2.1-3.9 6.2-6.3 10.6-6.3H274c9.5-.1 15.2 10.4 10.1 18.4zM384 121.9v6.1H256V0h6.1c6.4 0 12.5 2.5 17 7l97.9 98c4.5 4.5 7 10.6 7 16.9z"},child:[]}]})(e)}function Rb(e){return Jt({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M181.9 256.1c-5-16-4.9-46.9-2-46.9 8.4 0 7.6 36.9 2 46.9zm-1.7 47.2c-7.7 20.2-17.3 43.3-28.4 62.7 18.3-7 39-17.2 62.9-21.9-12.7-9.6-24.9-23.4-34.5-40.8zM86.1 428.1c0 .8 13.2-5.4 34.9-40.2-6.7 6.3-29.1 24.5-34.9 40.2zM248 160h136v328c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V24C0 10.7 10.7 0 24 0h200v136c0 13.2 10.8 24 24 24zm-8 171.8c-20-12.2-33.3-29-42.7-53.8 4.5-18.5 11.6-46.6 6.2-64.2-4.7-29.4-42.4-26.5-47.8-6.8-5 18.3-.4 44.1 8.1 77-11.6 27.6-28.7 64.6-40.8 85.8-.1 0-.1.1-.2.1-27.1 13.9-73.6 44.5-54.5 68 5.6 6.9 16 10 21.5 10 17.9 0 35.7-18 61.1-61.8 25.8-8.5 54.1-19.1 79-23.2 21.7 11.8 47.1 19.5 64 19.5 29.2 0 31.2-32 19.7-43.4-13.9-13.6-54.3-9.7-73.6-7.2zM377 105L279 7c-4.5-4.5-10.6-7-17-7h-6v128h128v-6.1c0-6.3-2.5-12.4-7-16.9zm-74.1 255.3c4.1-2.7-2.5-11.9-42.8-9 37.1 15.8 42.8 9 42.8 9z"},child:[]}]})(e)}function Ob(e){return Jt({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm160-14.1v6.1H256V0h6.1c6.4 0 12.5 2.5 17 7l97.9 98c4.5 4.5 7 10.6 7 16.9z"},child:[]}]})(e)}function Gm(e){return Jt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.976 0H24.028C2.71 0-8.047 25.866 7.058 40.971L192 225.941V432c0 7.831 3.821 15.17 10.237 19.662l80 55.98C298.02 518.69 320 507.493 320 487.98V225.941l184.947-184.97C520.021 25.896 509.338 0 487.976 0z"},child:[]}]})(e)}function hi(e){return Jt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M32 448c0 17.7 14.3 32 32 32h160V320H32v128zm256 32h160c17.7 0 32-14.3 32-32V320H288v160zm192-320h-42.1c6.2-12.1 10.1-25.5 10.1-40 0-48.5-39.5-88-88-88-41.6 0-68.5 21.3-103 68.3-34.5-47-61.4-68.3-103-68.3-48.5 0-88 39.5-88 88 0 14.5 3.8 27.9 10.1 40H32c-17.7 0-32 14.3-32 32v80c0 8.8 7.2 16 16 16h480c8.8 0 16-7.2 16-16v-80c0-17.7-14.3-32-32-32zm-326.1 0c-22.1 0-40-17.9-40-40s17.9-40 40-40c19.9 0 34.6 3.3 86.1 80h-86.1zm206.1 0h-86.1c51.4-76.5 65.7-80 86.1-80 22.1 0 40 17.9 40 40s-17.9 40-40 40z"},child:[]}]})(e)}function KX(e){return Jt({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M96 32H32C14.33 32 0 46.33 0 64v64c0 17.67 14.33 32 32 32h64c17.67 0 32-14.33 32-32V64c0-17.67-14.33-32-32-32zm0 160H32c-17.67 0-32 14.33-32 32v64c0 17.67 14.33 32 32 32h64c17.67 0 32-14.33 32-32v-64c0-17.67-14.33-32-32-32zm0 160H32c-17.67 0-32 14.33-32 32v64c0 17.67 14.33 32 32 32h64c17.67 0 32-14.33 32-32v-64c0-17.67-14.33-32-32-32zM288 32h-64c-17.67 0-32 14.33-32 32v64c0 17.67 14.33 32 32 32h64c17.67 0 32-14.33 32-32V64c0-17.67-14.33-32-32-32zm0 160h-64c-17.67 0-32 14.33-32 32v64c0 17.67 14.33 32 32 32h64c17.67 0 32-14.33 32-32v-64c0-17.67-14.33-32-32-32zm0 160h-64c-17.67 0-32 14.33-32 32v64c0 17.67 14.33 32 32 32h64c17.67 0 32-14.33 32-32v-64c0-17.67-14.33-32-32-32z"},child:[]}]})(e)}function JS(e){return Jt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 255.531c.253 136.64-111.18 248.372-247.82 248.468-59.015.042-113.223-20.53-155.822-54.911-11.077-8.94-11.905-25.541-1.839-35.607l11.267-11.267c8.609-8.609 22.353-9.551 31.891-1.984C173.062 425.135 212.781 440 256 440c101.705 0 184-82.311 184-184 0-101.705-82.311-184-184-184-48.814 0-93.149 18.969-126.068 49.932l50.754 50.754c10.08 10.08 2.941 27.314-11.313 27.314H24c-8.837 0-16-7.163-16-16V38.627c0-14.254 17.234-21.393 27.314-11.314l49.372 49.372C129.209 34.136 189.552 8 256 8c136.81 0 247.747 110.78 248 247.531zm-180.912 78.784l9.823-12.63c8.138-10.463 6.253-25.542-4.21-33.679L288 256.349V152c0-13.255-10.745-24-24-24h-16c-13.255 0-24 10.745-24 24v135.651l65.409 50.874c10.463 8.137 25.541 6.253 33.679-4.21z"},child:[]}]})(e)}function gl(e){return Jt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M464 448H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h416c26.51 0 48 21.49 48 48v288c0 26.51-21.49 48-48 48zM112 120c-30.928 0-56 25.072-56 56s25.072 56 56 56 56-25.072 56-56-25.072-56-56-56zM64 384h384V272l-87.515-87.515c-4.686-4.686-12.284-4.686-16.971 0L208 320l-55.515-55.515c-4.686-4.686-12.284-4.686-16.971 0L64 336v48z"},child:[]}]})(e)}function Bb(e){return Jt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M480 416v16c0 26.51-21.49 48-48 48H48c-26.51 0-48-21.49-48-48V176c0-26.51 21.49-48 48-48h16v208c0 44.112 35.888 80 80 80h336zm96-80V80c0-26.51-21.49-48-48-48H144c-26.51 0-48 21.49-48 48v256c0 26.51 21.49 48 48 48h384c26.51 0 48-21.49 48-48zM256 128c0 26.51-21.49 48-48 48s-48-21.49-48-48 21.49-48 48-48 48 21.49 48 48zm-96 144l55.515-55.515c4.686-4.686 12.284-4.686 16.971 0L272 256l135.515-135.515c4.686-4.686 12.284-4.686 16.971 0L512 208v112H160v-48z"},child:[]}]})(e)}function ni(e){return Jt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 110c23.196 0 42 18.804 42 42s-18.804 42-42 42-42-18.804-42-42 18.804-42 42-42zm56 254c0 6.627-5.373 12-12 12h-88c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h12v-64h-12c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h64c6.627 0 12 5.373 12 12v100h12c6.627 0 12 5.373 12 12v24z"},child:[]}]})(e)}function PR(e){return Jt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M512 176.001C512 273.203 433.202 352 336 352c-11.22 0-22.19-1.062-32.827-3.069l-24.012 27.014A23.999 23.999 0 0 1 261.223 384H224v40c0 13.255-10.745 24-24 24h-40v40c0 13.255-10.745 24-24 24H24c-13.255 0-24-10.745-24-24v-78.059c0-6.365 2.529-12.47 7.029-16.971l161.802-161.802C163.108 213.814 160 195.271 160 176 160 78.798 238.797.001 335.999 0 433.488-.001 512 78.511 512 176.001zM336 128c0 26.51 21.49 48 48 48s48-21.49 48-48-21.49-48-48-48-48 21.49-48 48z"},child:[]}]})(e)}function ZX(e){return Jt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M528 448H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h480c26.51 0 48 21.49 48 48v288c0 26.51-21.49 48-48 48zM128 180v-40c0-6.627-5.373-12-12-12H76c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm96 0v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm96 0v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm96 0v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm96 0v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm-336 96v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm96 0v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm96 0v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm96 0v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm-336 96v-40c0-6.627-5.373-12-12-12H76c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm288 0v-40c0-6.627-5.373-12-12-12H172c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h232c6.627 0 12-5.373 12-12zm96 0v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12z"},child:[]}]})(e)}function Lb(e){return Jt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M48 48a48 48 0 1 0 48 48 48 48 0 0 0-48-48zm0 160a48 48 0 1 0 48 48 48 48 0 0 0-48-48zm0 160a48 48 0 1 0 48 48 48 48 0 0 0-48-48zm448 16H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0-320H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16V80a16 16 0 0 0-16-16zm0 160H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16z"},child:[]}]})(e)}function uh(e){return Jt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 224h-24v-72C376 68.2 307.8 0 224 0S72 68.2 72 152v72H48c-26.5 0-48 21.5-48 48v192c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V272c0-26.5-21.5-48-48-48zm-104 0H152v-72c0-39.7 32.3-72 72-72s72 32.3 72 72v72z"},child:[]}]})(e)}function dr(e){return Jt({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M172.268 501.67C26.97 291.031 0 269.413 0 192 0 85.961 85.961 0 192 0s192 85.961 192 192c0 77.413-26.97 99.031-172.268 309.67-9.535 13.774-29.93 13.773-39.464 0zM192 272c44.183 0 80-35.817 80-80s-35.817-80-80-80-80 35.817-80 80 35.817 80 80 80z"},child:[]}]})(e)}function FR(e){return Jt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h384c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(e)}function JX(e){return Jt({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M621.16 54.46C582.37 38.19 543.55 32 504.75 32c-123.17-.01-246.33 62.34-369.5 62.34-30.89 0-61.76-3.92-92.65-13.72-3.47-1.1-6.95-1.62-10.35-1.62C15.04 79 0 92.32 0 110.81v317.26c0 12.63 7.23 24.6 18.84 29.46C57.63 473.81 96.45 480 135.25 480c123.17 0 246.34-62.35 369.51-62.35 30.89 0 61.76 3.92 92.65 13.72 3.47 1.1 6.95 1.62 10.35 1.62 17.21 0 32.25-13.32 32.25-31.81V83.93c-.01-12.64-7.24-24.6-18.85-29.47zM48 132.22c20.12 5.04 41.12 7.57 62.72 8.93C104.84 170.54 79 192.69 48 192.69v-60.47zm0 285v-47.78c34.37 0 62.18 27.27 63.71 61.4-22.53-1.81-43.59-6.31-63.71-13.62zM320 352c-44.19 0-80-42.99-80-96 0-53.02 35.82-96 80-96s80 42.98 80 96c0 53.03-35.83 96-80 96zm272 27.78c-17.52-4.39-35.71-6.85-54.32-8.44 5.87-26.08 27.5-45.88 54.32-49.28v57.72zm0-236.11c-30.89-3.91-54.86-29.7-55.81-61.55 19.54 2.17 38.09 6.23 55.81 12.66v48.89z"},child:[]}]})(e)}function HR(e){return Jt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M476 3.2L12.5 270.6c-18.1 10.4-15.8 35.6 2.2 43.2L121 358.4l287.3-253.2c5.5-4.9 13.3 2.6 8.6 8.3L176 407v80.5c0 23.6 28.5 32.9 42.5 15.8L282 426l124.6 52.2c14.2 6 30.4-2.9 33-18.2l72-432C515 7.8 493.3-6.8 476 3.2z"},child:[]}]})(e)}function zR(e){return Jt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M43.246 466.142c-58.43-60.289-57.341-157.511 1.386-217.581L254.392 34c44.316-45.332 116.351-45.336 160.671 0 43.89 44.894 43.943 117.329 0 162.276L232.214 383.128c-29.855 30.537-78.633 30.111-107.982-.998-28.275-29.97-27.368-77.473 1.452-106.953l143.743-146.835c6.182-6.314 16.312-6.422 22.626-.241l22.861 22.379c6.315 6.182 6.422 16.312.241 22.626L171.427 319.927c-4.932 5.045-5.236 13.428-.648 18.292 4.372 4.634 11.245 4.711 15.688.165l182.849-186.851c19.613-20.062 19.613-52.725-.011-72.798-19.189-19.627-49.957-19.637-69.154 0L90.39 293.295c-34.763 35.56-35.299 93.12-1.191 128.313 34.01 35.093 88.985 35.137 123.058.286l172.06-175.999c6.177-6.319 16.307-6.433 22.626-.256l22.877 22.364c6.319 6.177 6.434 16.307.256 22.626l-172.06 175.998c-59.576 60.938-155.943 60.216-214.77-.485z"},child:[]}]})(e)}function ej(e){return Jt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M112 224c61.9 0 112-50.1 112-112S173.9 0 112 0 0 50.1 0 112s50.1 112 112 112zm0-160c26.5 0 48 21.5 48 48s-21.5 48-48 48-48-21.5-48-48 21.5-48 48-48zm224 224c-61.9 0-112 50.1-112 112s50.1 112 112 112 112-50.1 112-112-50.1-112-112-112zm0 160c-26.5 0-48-21.5-48-48s21.5-48 48-48 48 21.5 48 48-21.5 48-48 48zM392.3.2l31.6-.1c19.4-.1 30.9 21.8 19.7 37.8L77.4 501.6a23.95 23.95 0 0 1-19.6 10.2l-33.4.1c-19.5 0-30.9-21.9-19.7-37.8l368-463.7C377.2 4 384.5.2 392.3.2z"},child:[]}]})(e)}function ud(e){return Jt({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M109.25 173.25c24.99-24.99 24.99-65.52 0-90.51-24.99-24.99-65.52-24.99-90.51 0-24.99 24.99-24.99 65.52 0 90.51 25 25 65.52 25 90.51 0zm256 165.49c-24.99-24.99-65.52-24.99-90.51 0-24.99 24.99-24.99 65.52 0 90.51 24.99 24.99 65.52 24.99 90.51 0 25-24.99 25-65.51 0-90.51zm-1.94-231.43l-22.62-22.62c-12.5-12.5-32.76-12.5-45.25 0L20.69 359.44c-12.5 12.5-12.5 32.76 0 45.25l22.62 22.62c12.5 12.5 32.76 12.5 45.25 0l274.75-274.75c12.5-12.49 12.5-32.75 0-45.25z"},child:[]}]})(e)}function eK(e){return Jt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M493.4 24.6l-104-24c-11.3-2.6-22.9 3.3-27.5 13.9l-48 112c-4.2 9.8-1.4 21.3 6.9 28l60.6 49.6c-36 76.7-98.9 140.5-177.2 177.2l-49.6-60.6c-6.8-8.3-18.2-11.1-28-6.9l-112 48C3.9 366.5-2 378.1.6 389.4l24 104C27.1 504.2 36.7 512 48 512c256.1 0 464-207.5 464-464 0-11.2-7.7-20.9-18.6-23.4z"},child:[]}]})(e)}function VR(e){return Jt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M424.4 214.7L72.4 6.6C43.8-10.3 0 6.1 0 47.9V464c0 37.5 40.7 60.1 72.4 41.3l352-208c31.4-18.5 31.5-64.1 0-82.6z"},child:[]}]})(e)}function E3(e){return Jt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm144 276c0 6.6-5.4 12-12 12h-92v92c0 6.6-5.4 12-12 12h-56c-6.6 0-12-5.4-12-12v-92h-92c-6.6 0-12-5.4-12-12v-56c0-6.6 5.4-12 12-12h92v-92c0-6.6 5.4-12 12-12h56c6.6 0 12 5.4 12 12v92h92c6.6 0 12 5.4 12 12v56z"},child:[]}]})(e)}function $a(e){return Jt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(e)}function Rh(e){return Jt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M448 192V77.25c0-8.49-3.37-16.62-9.37-22.63L393.37 9.37c-6-6-14.14-9.37-22.63-9.37H96C78.33 0 64 14.33 64 32v160c-35.35 0-64 28.65-64 64v112c0 8.84 7.16 16 16 16h48v96c0 17.67 14.33 32 32 32h320c17.67 0 32-14.33 32-32v-96h48c8.84 0 16-7.16 16-16V256c0-35.35-28.65-64-64-64zm-64 256H128v-96h256v96zm0-224H128V64h192v48c0 8.84 7.16 16 16 16h48v96zm48 72c-13.25 0-24-10.75-24-24 0-13.26 10.75-24 24-24s24 10.74 24 24c0 13.25-10.75 24-24 24z"},child:[]}]})(e)}function tm(e){return Jt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M0 224h192V32H0v192zM64 96h64v64H64V96zm192-64v192h192V32H256zm128 128h-64V96h64v64zM0 480h192V288H0v192zm64-128h64v64H64v-64zm352-64h32v128h-96v-32h-32v96h-64V288h96v32h64v-32zm0 160h32v32h-32v-32zm-64 0h32v32h-32v-32z"},child:[]}]})(e)}function Do(e){return Jt({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M358.4 3.2L320 48 265.6 3.2a15.9 15.9 0 0 0-19.2 0L192 48 137.6 3.2a15.9 15.9 0 0 0-19.2 0L64 48 25.6 3.2C15-4.7 0 2.8 0 16v480c0 13.2 15 20.7 25.6 12.8L64 464l54.4 44.8a15.9 15.9 0 0 0 19.2 0L192 464l54.4 44.8a15.9 15.9 0 0 0 19.2 0L320 464l38.4 44.8c10.5 7.9 25.6.4 25.6-12.8V16c0-13.2-15-20.7-25.6-12.8zM320 360c0 4.4-3.6 8-8 8H72c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h240c4.4 0 8 3.6 8 8v16zm0-96c0 4.4-3.6 8-8 8H72c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h240c4.4 0 8 3.6 8 8v16zm0-96c0 4.4-3.6 8-8 8H72c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h240c4.4 0 8 3.6 8 8v16z"},child:[]}]})(e)}function Jo(e){return Jt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M433.941 129.941l-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941zM224 416c-35.346 0-64-28.654-64-64 0-35.346 28.654-64 64-64s64 28.654 64 64c0 35.346-28.654 64-64 64zm96-304.52V212c0 6.627-5.373 12-12 12H76c-6.627 0-12-5.373-12-12V108c0-6.627 5.373-12 12-12h228.52c3.183 0 6.235 1.264 8.485 3.515l3.48 3.48A11.996 11.996 0 0 1 320 111.48z"},child:[]}]})(e)}function ri(e){return Jt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"},child:[]}]})(e)}function qk(e){return Jt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M466.5 83.7l-192-80a48.15 48.15 0 0 0-36.9 0l-192 80C27.7 91.1 16 108.6 16 128c0 198.5 114.5 335.7 221.5 380.3 11.8 4.9 25.1 4.9 36.9 0C360.1 472.6 496 349.3 496 128c0-19.4-11.7-36.9-29.5-44.3zM256.1 446.3l-.1-381 175.9 73.3c-3.3 151.4-82.1 261.1-175.8 307.7z"},child:[]}]})(e)}function nm(e){return Jt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M528.12 301.319l47.273-208C578.806 78.301 567.391 64 551.99 64H159.208l-9.166-44.81C147.758 8.021 137.93 0 126.529 0H24C10.745 0 0 10.745 0 24v16c0 13.255 10.745 24 24 24h69.883l70.248 343.435C147.325 417.1 136 435.222 136 456c0 30.928 25.072 56 56 56s56-25.072 56-56c0-15.674-6.447-29.835-16.824-40h209.647C430.447 426.165 424 440.326 424 456c0 30.928 25.072 56 56 56s56-25.072 56-56c0-22.172-12.888-41.332-31.579-50.405l5.517-24.276c3.413-15.018-8.002-29.319-23.403-29.319H218.117l-6.545-32h293.145c11.206 0 20.92-7.754 23.403-18.681z"},child:[]}]})(e)}function tK(e){return Jt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M304 416h-64a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h64a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm-128-64h-48V48a16 16 0 0 0-16-16H80a16 16 0 0 0-16 16v304H16c-14.19 0-21.37 17.24-11.29 27.31l80 96a16 16 0 0 0 22.62 0l80-96C197.35 369.26 190.22 352 176 352zm256-192H240a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h192a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm-64 128H240a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h128a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zM496 32H240a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h256a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16z"},child:[]}]})(e)}function nK(e){return Jt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M304 416h-64a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h64a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zM16 160h48v304a16 16 0 0 0 16 16h32a16 16 0 0 0 16-16V160h48c14.21 0 21.38-17.24 11.31-27.31l-80-96a16 16 0 0 0-22.62 0l-80 96C-5.35 142.74 1.77 160 16 160zm416 0H240a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h192a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm-64 128H240a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h128a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zM496 32H240a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h256a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16z"},child:[]}]})(e)}function Mo(e){return Jt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M304 48c0 26.51-21.49 48-48 48s-48-21.49-48-48 21.49-48 48-48 48 21.49 48 48zm-48 368c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zm208-208c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zM96 256c0-26.51-21.49-48-48-48S0 229.49 0 256s21.49 48 48 48 48-21.49 48-48zm12.922 99.078c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.491-48-48-48zm294.156 0c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.49-48-48-48zM108.922 60.922c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.491-48-48-48z"},child:[]}]})(e)}function ih(e){return Jt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"},child:[]}]})(e)}function X1(e){return Jt({attr:{viewBox:"0 0 616 512"},child:[{tag:"path",attr:{d:"M602 118.6L537.1 15C531.3 5.7 521 0 510 0H106C95 0 84.7 5.7 78.9 15L14 118.6c-33.5 53.5-3.8 127.9 58.8 136.4 4.5.6 9.1.9 13.7.9 29.6 0 55.8-13 73.8-33.1 18 20.1 44.3 33.1 73.8 33.1 29.6 0 55.8-13 73.8-33.1 18 20.1 44.3 33.1 73.8 33.1 29.6 0 55.8-13 73.8-33.1 18.1 20.1 44.3 33.1 73.8 33.1 4.7 0 9.2-.3 13.7-.9 62.8-8.4 92.6-82.8 59-136.4zM529.5 288c-10 0-19.9-1.5-29.5-3.8V384H116v-99.8c-9.6 2.2-19.5 3.8-29.5 3.8-6 0-12.1-.4-18-1.2-5.6-.8-11.1-2.1-16.4-3.6V480c0 17.7 14.3 32 32 32h448c17.7 0 32-14.3 32-32V283.2c-5.4 1.6-10.8 2.9-16.4 3.6-6.1.8-12.1 1.2-18.2 1.2z"},child:[]}]})(e)}function sK(e){return Jt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M370.72 133.28C339.458 104.008 298.888 87.962 255.848 88c-77.458.068-144.328 53.178-162.791 126.85-1.344 5.363-6.122 9.15-11.651 9.15H24.103c-7.498 0-13.194-6.807-11.807-14.176C33.933 94.924 134.813 8 256 8c66.448 0 126.791 26.136 171.315 68.685L463.03 40.97C478.149 25.851 504 36.559 504 57.941V192c0 13.255-10.745 24-24 24H345.941c-21.382 0-32.09-25.851-16.971-40.971l41.75-41.749zM32 296h134.059c21.382 0 32.09 25.851 16.971 40.971l-41.75 41.75c31.262 29.273 71.835 45.319 114.876 45.28 77.418-.07 144.315-53.144 162.787-126.849 1.344-5.363 6.122-9.15 11.651-9.15h57.304c7.498 0 13.194 6.807 11.807 14.176C478.067 417.076 377.187 504 256 504c-66.448 0-126.791-26.136-171.315-68.685L48.97 471.03C33.851 486.149 8 475.441 8 454.059V320c0-13.255 10.745-24 24-24z"},child:[]}]})(e)}function Sg(e){return Jt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M440.65 12.57l4 82.77A247.16 247.16 0 0 0 255.83 8C134.73 8 33.91 94.92 12.29 209.82A12 12 0 0 0 24.09 224h49.05a12 12 0 0 0 11.67-9.26 175.91 175.91 0 0 1 317-56.94l-101.46-4.86a12 12 0 0 0-12.57 12v47.41a12 12 0 0 0 12 12H500a12 12 0 0 0 12-12V12a12 12 0 0 0-12-12h-47.37a12 12 0 0 0-11.98 12.57zM255.83 432a175.61 175.61 0 0 1-146-77.8l101.8 4.87a12 12 0 0 0 12.57-12v-47.4a12 12 0 0 0-12-12H12a12 12 0 0 0-12 12V500a12 12 0 0 0 12 12h47.35a12 12 0 0 0 12-12.6l-4.15-82.57A247.17 247.17 0 0 0 255.83 504c121.11 0 221.93-86.92 243.55-201.82a12 12 0 0 0-11.8-14.18h-49.05a12 12 0 0 0-11.67 9.26A175.86 175.86 0 0 1 255.83 432z"},child:[]}]})(e)}function K1(e){return Jt({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M497.941 225.941L286.059 14.059A48 48 0 0 0 252.118 0H48C21.49 0 0 21.49 0 48v204.118a48 48 0 0 0 14.059 33.941l211.882 211.882c18.744 18.745 49.136 18.746 67.882 0l204.118-204.118c18.745-18.745 18.745-49.137 0-67.882zM112 160c-26.51 0-48-21.49-48-48s21.49-48 48-48 48 21.49 48 48-21.49 48-48 48zm513.941 133.823L421.823 497.941c-18.745 18.745-49.137 18.745-67.882 0l-.36-.36L527.64 323.522c16.999-16.999 26.36-39.6 26.36-63.64s-9.362-46.641-26.36-63.64L331.397 0h48.721a48 48 0 0 1 33.941 14.059l211.882 211.882c18.745 18.745 18.745 49.137 0 67.882z"},child:[]}]})(e)}function $b(e){return Jt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M139.61 35.5a12 12 0 0 0-17 0L58.93 98.81l-22.7-22.12a12 12 0 0 0-17 0L3.53 92.41a12 12 0 0 0 0 17l47.59 47.4a12.78 12.78 0 0 0 17.61 0l15.59-15.62L156.52 69a12.09 12.09 0 0 0 .09-17zm0 159.19a12 12 0 0 0-17 0l-63.68 63.72-22.7-22.1a12 12 0 0 0-17 0L3.53 252a12 12 0 0 0 0 17L51 316.5a12.77 12.77 0 0 0 17.6 0l15.7-15.69 72.2-72.22a12 12 0 0 0 .09-16.9zM64 368c-26.49 0-48.59 21.5-48.59 48S37.53 464 64 464a48 48 0 0 0 0-96zm432 16H208a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h288a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0-320H208a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h288a16 16 0 0 0 16-16V80a16 16 0 0 0-16-16zm0 160H208a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h288a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16z"},child:[]}]})(e)}function aK(e){return Jt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm121.6 313.1c4.7 4.7 4.7 12.3 0 17L338 377.6c-4.7 4.7-12.3 4.7-17 0L256 312l-65.1 65.6c-4.7 4.7-12.3 4.7-17 0L134.4 338c-4.7-4.7-4.7-12.3 0-17l65.6-65-65.6-65.1c-4.7-4.7-4.7-12.3 0-17l39.6-39.6c4.7-4.7 12.3-4.7 17 0l65 65.7 65.1-65.6c4.7-4.7 12.3-4.7 17 0l39.6 39.6c4.7 4.7 4.7 12.3 0 17L312 256l65.6 65.1z"},child:[]}]})(e)}function aa(e){return Jt({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(e)}function zw(e){return Jt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M384 64H192C85.961 64 0 149.961 0 256s85.961 192 192 192h192c106.039 0 192-85.961 192-192S490.039 64 384 64zM64 256c0-70.741 57.249-128 128-128 70.741 0 128 57.249 128 128 0 70.741-57.249 128-128 128-70.741 0-128-57.249-128-128zm320 128h-48.905c65.217-72.858 65.236-183.12 0-256H384c70.741 0 128 57.249 128 128 0 70.74-57.249 128-128 128z"},child:[]}]})(e)}function Ef(e){return Jt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M384 64H192C86 64 0 150 0 256s86 192 192 192h192c106 0 192-86 192-192S490 64 384 64zm0 320c-70.8 0-128-57.3-128-128 0-70.8 57.3-128 128-128 70.8 0 128 57.3 128 128 0 70.8-57.3 128-128 128z"},child:[]}]})(e)}function Oh(e){return Jt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M32 464a48 48 0 0 0 48 48h288a48 48 0 0 0 48-48V128H32zm272-256a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zM432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16z"},child:[]}]})(e)}function Cr(e){return Jt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(e)}function Hc(e){return Jt({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M624 352h-16V243.9c0-12.7-5.1-24.9-14.1-33.9L494 110.1c-9-9-21.2-14.1-33.9-14.1H416V48c0-26.5-21.5-48-48-48H48C21.5 0 0 21.5 0 48v320c0 26.5 21.5 48 48 48h16c0 53 43 96 96 96s96-43 96-96h128c0 53 43 96 96 96s96-43 96-96h48c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zM160 464c-26.5 0-48-21.5-48-48s21.5-48 48-48 48 21.5 48 48-21.5 48-48 48zm320 0c-26.5 0-48-21.5-48-48s21.5-48 48-48 48 21.5 48 48-21.5 48-48 48zm80-208H416V144h44.1l99.9 99.9V256z"},child:[]}]})(e)}function rK(e){return Jt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M255.545 8c-66.269.119-126.438 26.233-170.86 68.685L48.971 40.971C33.851 25.851 8 36.559 8 57.941V192c0 13.255 10.745 24 24 24h134.059c21.382 0 32.09-25.851 16.971-40.971l-41.75-41.75c30.864-28.899 70.801-44.907 113.23-45.273 92.398-.798 170.283 73.977 169.484 169.442C423.236 348.009 349.816 424 256 424c-41.127 0-79.997-14.678-110.63-41.556-4.743-4.161-11.906-3.908-16.368.553L89.34 422.659c-4.872 4.872-4.631 12.815.482 17.433C133.798 479.813 192.074 504 256 504c136.966 0 247.999-111.033 248-247.998C504.001 119.193 392.354 7.755 255.545 8z"},child:[]}]})(e)}function k3(e){return Jt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M212.333 224.333H12c-6.627 0-12-5.373-12-12V12C0 5.373 5.373 0 12 0h48c6.627 0 12 5.373 12 12v78.112C117.773 39.279 184.26 7.47 258.175 8.007c136.906.994 246.448 111.623 246.157 248.532C504.041 393.258 393.12 504 256.333 504c-64.089 0-122.496-24.313-166.51-64.215-5.099-4.622-5.334-12.554-.467-17.42l33.967-33.967c4.474-4.474 11.662-4.717 16.401-.525C170.76 415.336 211.58 432 256.333 432c97.268 0 176-78.716 176-176 0-97.267-78.716-176-176-176-58.496 0-110.28 28.476-142.274 72.333h98.274c6.627 0 12 5.373 12 12v48c0 6.627-5.373 12-12 12z"},child:[]}]})(e)}function pm(e){return Jt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M296 384h-80c-13.3 0-24-10.7-24-24V192h-87.7c-17.8 0-26.7-21.5-14.1-34.1L242.3 5.7c7.5-7.5 19.8-7.5 27.3 0l152.2 152.2c12.6 12.6 3.7 34.1-14.1 34.1H320v168c0 13.3-10.7 24-24 24zm216-8v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h136v8c0 30.9 25.1 56 56 56h80c30.9 0 56-25.1 56-56v-8h136c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"},child:[]}]})(e)}function Z1(e){return Jt({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M610.5 373.3c2.6-14.1 2.6-28.5 0-42.6l25.8-14.9c3-1.7 4.3-5.2 3.3-8.5-6.7-21.6-18.2-41.2-33.2-57.4-2.3-2.5-6-3.1-9-1.4l-25.8 14.9c-10.9-9.3-23.4-16.5-36.9-21.3v-29.8c0-3.4-2.4-6.4-5.7-7.1-22.3-5-45-4.8-66.2 0-3.3.7-5.7 3.7-5.7 7.1v29.8c-13.5 4.8-26 12-36.9 21.3l-25.8-14.9c-2.9-1.7-6.7-1.1-9 1.4-15 16.2-26.5 35.8-33.2 57.4-1 3.3.4 6.8 3.3 8.5l25.8 14.9c-2.6 14.1-2.6 28.5 0 42.6l-25.8 14.9c-3 1.7-4.3 5.2-3.3 8.5 6.7 21.6 18.2 41.1 33.2 57.4 2.3 2.5 6 3.1 9 1.4l25.8-14.9c10.9 9.3 23.4 16.5 36.9 21.3v29.8c0 3.4 2.4 6.4 5.7 7.1 22.3 5 45 4.8 66.2 0 3.3-.7 5.7-3.7 5.7-7.1v-29.8c13.5-4.8 26-12 36.9-21.3l25.8 14.9c2.9 1.7 6.7 1.1 9-1.4 15-16.2 26.5-35.8 33.2-57.4 1-3.3-.4-6.8-3.3-8.5l-25.8-14.9zM496 400.5c-26.8 0-48.5-21.8-48.5-48.5s21.8-48.5 48.5-48.5 48.5 21.8 48.5 48.5-21.7 48.5-48.5 48.5zM224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm201.2 226.5c-2.3-1.2-4.6-2.6-6.8-3.9l-7.9 4.6c-6 3.4-12.8 5.3-19.6 5.3-10.9 0-21.4-4.6-28.9-12.6-18.3-19.8-32.3-43.9-40.2-69.6-5.5-17.7 1.9-36.4 17.9-45.7l7.9-4.6c-.1-2.6-.1-5.2 0-7.8l-7.9-4.6c-16-9.2-23.4-28-17.9-45.7.9-2.9 2.2-5.8 3.2-8.7-3.8-.3-7.5-1.2-11.4-1.2h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c10.1 0 19.5-3.2 27.2-8.5-1.2-3.8-2-7.7-2-11.8v-9.2z"},child:[]}]})(e)}function Uk(e){return Jt({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M624 208h-64v-64c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v64h-64c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h64v64c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16v-64h64c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zm-400 48c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(e)}function Qf(e){return Jt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm95.8 32.6L272 480l-32-136 32-56h-96l32 56-32 136-47.8-191.4C56.9 292 0 350.3 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-72.1-56.9-130.4-128.2-133.8z"},child:[]}]})(e)}function ec(e){return Jt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(e)}function jg(e){return Jt({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M96 224c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm448 0c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm32 32h-64c-17.6 0-33.5 7.1-45.1 18.6 40.3 22.1 68.9 62 75.1 109.4h66c17.7 0 32-14.3 32-32v-32c0-35.3-28.7-64-64-64zm-256 0c61.9 0 112-50.1 112-112S381.9 32 320 32 208 82.1 208 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C179.6 288 128 339.6 128 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zm-223.7-13.4C161.5 263.1 145.6 256 128 256H64c-35.3 0-64 28.7-64 64v32c0 17.7 14.3 32 32 32h65.9c6.3-47.4 34.9-87.3 75.2-109.4z"},child:[]}]})(e)}function tj(e){return Jt({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M504 352H136.4c-4.4 0-8 3.6-8 8l-.1 48c0 4.4 3.6 8 8 8H504c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8zm0 96H136.1c-4.4 0-8 3.6-8 8l-.1 48c0 4.4 3.6 8 8 8h368c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8zm0-192H136.6c-4.4 0-8 3.6-8 8l-.1 48c0 4.4 3.6 8 8 8H504c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8zm106.5-139L338.4 3.7a48.15 48.15 0 0 0-36.9 0L29.5 117C11.7 124.5 0 141.9 0 161.3V504c0 4.4 3.6 8 8 8h80c4.4 0 8-3.6 8-8V256c0-17.6 14.6-32 32.6-32h382.8c18 0 32.6 14.4 32.6 32v248c0 4.4 3.6 8 8 8h80c4.4 0 8-3.6 8-8V161.3c0-19.4-11.7-36.8-29.5-44.3z"},child:[]}]})(e)}function iK(e){return Jt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M528.1 171.5L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6zM388.6 312.3l23.7 138.4L288 385.4l-124.3 65.3 23.7-138.4-100.6-98 139-20.2 62.2-126 62.2 126 139 20.2-100.6 98z"},child:[]}]})(e)}const oK="_citySelector_17bal_5",cK="_citySelectorButton_17bal_15",lK="_cityIcon_17bal_73",uK="_citySelectorText_17bal_83",dK="_chevronIcon_17bal_99",hK="_citySelectorDropdown_17bal_113",fK="_citySelectorLoading_17bal_167",mK="_citySelectorList_17bal_179",pK="_citySelectorItem_17bal_193",gK="_selected_17bal_241",_K="_citySelectorItemName_17bal_253",vK="_citySelectorBadge_17bal_263",xK="_checkIcon_17bal_285",bK="_mobileOverlay_17bal_299",yK="_mobileModal_17bal_343",wK="_mobileModalDragHandle_17bal_407",CK="_mobileModalHeader_17bal_439",SK="_mobileModalTitle_17bal_467",jK="_mobileModalClose_17bal_481",NK="_mobileModalSearch_17bal_537",EK="_searchIcon_17bal_563",kK="_searchInput_17bal_575",IK="_mobileModalContent_17bal_623",DK="_mobileCityList_17bal_637",TK="_mobileCityItem_17bal_651",AK="_mobileCityInfo_17bal_709",MK="_mobileCityText_17bal_725",RK="_mobileCityIcon_17bal_741",OK="_mobileCityName_17bal_753",BK="_mobileCityBadge_17bal_781",LK="_mobileCheckIcon_17bal_805",$K="_emptyState_17bal_817",PK="_emptyStateIcon_17bal_837",FK="_emptyStateHint_17bal_861",ma={citySelector:oK,citySelectorButton:cK,cityIcon:lK,citySelectorText:uK,chevronIcon:dK,citySelectorDropdown:hK,citySelectorLoading:fK,citySelectorList:mK,citySelectorItem:pK,selected:gK,citySelectorItemName:_K,citySelectorBadge:vK,checkIcon:xK,mobileOverlay:bK,mobileModal:yK,mobileModalDragHandle:wK,mobileModalHeader:CK,mobileModalTitle:SK,mobileModalClose:jK,mobileModalSearch:NK,searchIcon:EK,searchInput:kK,mobileModalContent:IK,mobileCityList:DK,mobileCityItem:TK,mobileCityInfo:AK,mobileCityText:MK,mobileCityIcon:RK,mobileCityName:OK,mobileCityBadge:BK,mobileCheckIcon:LK,emptyState:$K,emptyStateIcon:PK,emptyStateHint:FK},Wk=({selectedCity:e,onSelectCity:t})=>{const n=r0(768),[a,r]=v.useState(!1),[i,o]=v.useState([]),[c,l]=v.useState(!1),[d,f]=v.useState(""),[g,b]=v.useState(0),[w,S]=v.useState(!1),j=v.useRef(null),N=v.useRef(null),I=v.useRef(0);v.useEffect(()=>{a&&(async()=>{try{l(!0);const $=await Re.get("api/countries/");if($.data&&$.data.length>0){const U=$.data[0],F=await Re.get(`api/cities/?country=${U.id}`);o(F.data||[])}l(!1)}catch($){console.error("  :",$),l(!1)}})()},[a]);const M=R=>{if(!n||!a)return;const $=R.target;($.classList.contains(ma.mobileModalDragHandle)||$.closest(`.${ma.mobileModalDragHandle}`)||$.closest(`.${ma.mobileModalHeader}`))&&(S(!0),I.current=R.touches?R.touches[0].clientY:R.clientY,R.preventDefault())};v.useEffect(()=>{if(!n||!a||!w)return;const R=U=>{const H=(U.touches?U.touches[0].clientY:U.clientY)-I.current;H>0&&(b(H),U.preventDefault())},$=()=>{g>100&&(r(!1),f("")),b(0),S(!1)};return document.addEventListener("touchmove",R,{passive:!1}),document.addEventListener("touchend",$),document.addEventListener("mousemove",R),document.addEventListener("mouseup",$),()=>{document.removeEventListener("touchmove",R),document.removeEventListener("touchend",$),document.removeEventListener("mousemove",R),document.removeEventListener("mouseup",$)}},[n,a,w,g]),v.useEffect(()=>{const R=$=>{n?N.current&&!N.current.contains($.target)&&(r(!1),f("")):j.current&&!j.current.contains($.target)&&r(!1)};return a&&!w&&(document.addEventListener("mousedown",R),document.addEventListener("touchstart",R)),()=>{document.removeEventListener("mousedown",R),document.removeEventListener("touchstart",R)}},[a,n,w]),v.useEffect(()=>(n&&a?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow=""}),[n,a]);const B=R=>{t(R),r(!1),f("")},P=i.filter(R=>R.name.toLowerCase().includes(d.toLowerCase())),O=n&&a?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:ma.mobileOverlay,onClick:()=>{r(!1),f("")}}),s.jsxs("div",{className:ma.mobileModal,ref:N,style:{transform:g>0?`translateY(${g}px)`:"translateY(0)",opacity:g>0?Math.max(.3,1-g/300):1},children:[s.jsx("div",{className:ma.mobileModalDragHandle,onTouchStart:M,onMouseDown:M}),s.jsxs("div",{className:ma.mobileModalHeader,onTouchStart:M,onMouseDown:M,children:[s.jsx("h2",{className:ma.mobileModalTitle,children:" "}),s.jsx("button",{className:ma.mobileModalClose,onClick:()=>{r(!1),f("")},"aria-label":"",children:s.jsx(aa,{})})]}),s.jsxs("div",{className:ma.mobileModalSearch,children:[s.jsx(ri,{className:ma.searchIcon}),s.jsx("input",{type:"text",placeholder:" ...",value:d,onChange:R=>f(R.target.value),className:ma.searchInput,autoFocus:!0})]}),s.jsx("div",{className:ma.mobileModalContent,children:c?s.jsx("div",{className:ma.citySelectorLoading,children:s.jsx("p",{children:"..."})}):P.length===0?s.jsxs("div",{className:ma.emptyState,children:[s.jsx(dr,{className:ma.emptyStateIcon}),s.jsx("p",{children:"  "}),d&&s.jsx("p",{className:ma.emptyStateHint,children:"  "})]}):s.jsx("div",{className:ma.mobileCityList,children:P.map(R=>s.jsxs("button",{className:`${ma.mobileCityItem} ${(e==null?void 0:e.id)===R.id?ma.selected:""}`,onClick:()=>B(R),children:[s.jsxs("div",{className:ma.mobileCityInfo,children:[s.jsx(dr,{className:ma.mobileCityIcon}),s.jsxs("div",{className:ma.mobileCityText,children:[s.jsx("span",{className:ma.mobileCityName,children:R.name}),R.is_capital&&s.jsx("span",{className:ma.mobileCityBadge,children:""})]})]}),(e==null?void 0:e.id)===R.id&&s.jsx(qr,{className:ma.mobileCheckIcon})]},R.id))})})]})]}):null;return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:ma.citySelector,ref:j,children:[s.jsxs("button",{className:ma.citySelectorButton,onClick:()=>r(!a),"aria-label":" ",children:[s.jsx(dr,{className:ma.cityIcon}),s.jsx("span",{className:ma.citySelectorText,children:e?e.name:" "}),a?s.jsx(Lo,{className:ma.chevronIcon}):s.jsx(Bo,{className:ma.chevronIcon})]}),!n&&a&&s.jsx("div",{className:ma.citySelectorDropdown,children:c?s.jsx("div",{className:ma.citySelectorLoading,children:s.jsx("p",{children:"..."})}):s.jsx("div",{className:ma.citySelectorList,children:i.map(R=>s.jsxs("button",{className:`${ma.citySelectorItem} ${(e==null?void 0:e.id)===R.id?ma.selected:""}`,onClick:()=>B(R),children:[s.jsx("span",{className:ma.citySelectorItemName,children:R.name}),R.is_capital&&s.jsx("span",{className:ma.citySelectorBadge,children:""}),(e==null?void 0:e.id)===R.id&&s.jsx(qr,{className:ma.checkIcon})]},R.id))})})]}),typeof document<"u"&&O&&Hm.createPortal(O,document.body)]})},Kp="selectedCity",qR=()=>{const[e,t]=v.useState(null),[n,a]=v.useState(!0),r=()=>{const o=localStorage.getItem(Kp);if(o)try{return JSON.parse(o)}catch(c){return console.error("   :",c),localStorage.removeItem(Kp),null}return null};return v.useEffect(()=>{const o=r();t(o),a(!1)},[]),v.useEffect(()=>{const o=l=>{if(l.key===Kp||l.key===null){const d=r();t(d)}};window.addEventListener("storage",o);const c=setInterval(()=>{const l=r();!l&&e?t(null):l&&(!e||l.id!==e.id)&&t(l)},1e3);return()=>{window.removeEventListener("storage",o),clearInterval(c)}},[e]),{selectedCity:e,setSelectedCity:o=>{t(o),o?localStorage.setItem(Kp,JSON.stringify(o)):localStorage.removeItem(Kp)},isLoading:n}},UR=v.createContext(),HK=()=>{const e=v.useContext(UR);if(!e)throw new Error("useTheme must be used within a ThemeProvider");return e},zK=({children:e})=>{const t=()=>{const o=localStorage.getItem("theme");return o||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")},[n,a]=v.useState(t);v.useEffect(()=>{const o=document.documentElement;n==="dark"?(o.classList.add("dark-theme"),o.classList.remove("light-theme")):(o.classList.add("light-theme"),o.classList.remove("dark-theme")),localStorage.setItem("theme",n)},[n]),v.useEffect(()=>{const o=window.matchMedia("(prefers-color-scheme: dark)"),c=l=>{localStorage.getItem("theme")||a(l.matches?"dark":"light")};return o.addEventListener("change",c),()=>o.removeEventListener("change",c)},[]);const i={theme:n,toggleTheme:()=>{a(o=>o==="dark"?"light":"dark")},isDark:n==="dark",isLight:n==="light"};return s.jsx(UR.Provider,{value:i,children:e})},Yk=()=>{const{theme:e,toggleTheme:t}=HK();return s.jsx("button",{className:"theme-toggle",onClick:t,"aria-label":`  ${e==="dark"?"":""} `,title:`  ${e==="dark"?"":""} `,children:e==="dark"?s.jsx("i",{className:"fas fa-sun"}):s.jsx("i",{className:"fas fa-moon"})})},WR=v.createContext(),YR=()=>{const e=v.useContext(WR);if(!e)throw new Error("useSnowfall must be used within a SnowfallProvider");return e},Vw=()=>{const e=new Date,t=e.getMonth(),n=e.getDate();return t===11&&n>=18||t===0&&n<=14},VK=({children:e})=>{const t=Vw(),n=()=>{if(!t)return localStorage.removeItem("snowfallEnabled"),!1;const d=localStorage.getItem("snowfallEnabled");return d!==null?d==="true":t},[a,r]=v.useState(n),[i,o]=v.useState(()=>t?localStorage.getItem("snowfallEnabled")===null:!0);v.useEffect(()=>{const d=()=>{const j=Vw();if(!j){r(!1),o(!0),localStorage.removeItem("snowfallEnabled");return}i&&r(j)};d();const f=new Date,g=new Date(f);g.setDate(g.getDate()+1),g.setHours(0,0,0,0);const b=g.getTime()-f.getTime();let w=null;const S=setTimeout(()=>{d(),w=setInterval(()=>{d()},24*60*60*1e3)},b);return()=>{clearTimeout(S),w&&clearInterval(w)}},[i]);const l={snowfallEnabled:t?a:!1,toggleSnowfall:()=>{Vw()&&r(f=>{const g=!f;return localStorage.setItem("snowfallEnabled",g.toString()),o(!1),g})},isAutoMode:i,isPeriodActive:t};return s.jsx(WR.Provider,{value:l,children:e})},Gk=()=>{const{snowfallEnabled:e,toggleSnowfall:t,isPeriodActive:n}=YR();return n?s.jsx("button",{className:"snowfall-toggle",onClick:t,"aria-label":e?" ":" ",title:e?" ":" ",children:e?s.jsx("i",{className:"fas fa-snowflake"}):s.jsx("i",{className:"far fa-snowflake"})}):null};function qK(){const[e,t]=v.useState(!1),[n,a]=v.useState(!1),{selectedCity:r,setSelectedCity:i}=qR();v.useEffect(()=>{const l=()=>{a(window.scrollY>10)};return window.addEventListener("scroll",l),()=>window.removeEventListener("scroll",l)},[]);const o=()=>{t(!e)},c=()=>{t(!1)};return v.useEffect(()=>(e?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow=""}),[e]),s.jsx("header",{className:`${Is.header} ${n?Is.scrolled:""}`,children:s.jsx("nav",{className:Is.navbar,children:s.jsxs("div",{className:Is.container,children:[s.jsxs("div",{className:Is.desktopLayout,children:[s.jsxs(Ea,{to:"/",className:Is.brand,children:[s.jsx("img",{src:wg,alt:"A",className:Is.logoIcon}),s.jsx("span",{children:"xione"})]}),s.jsxs("div",{className:`${Is.navbarCollapse} ${e?Is.open:""}`,children:[s.jsxs("ul",{className:Is.navbarNav,children:[s.jsx("li",{className:Is.navItem,children:s.jsx(Ea,{to:"/business-categories",className:Is.navLink,children:""})}),s.jsx("li",{className:Is.navItem,children:s.jsx(Ea,{to:"/sites",className:Is.navLink,children:""})})]}),s.jsxs("form",{className:Is.searchForm,role:"search",children:[s.jsx("input",{className:Is.searchInput,type:"text",placeholder:"","aria-label":"Search"}),s.jsx("button",{className:Is.searchButton,type:"submit",children:s.jsx("i",{className:"fas fa-search"})})]}),s.jsxs("ul",{className:Is.navbarNav,children:[s.jsx("li",{className:Is.navItem,children:s.jsxs(Ea,{to:"/cart",className:Is.navLink,children:[s.jsx("i",{className:"fas fa-shopping-cart"})," "]})}),s.jsx("li",{className:Is.navItem,children:s.jsxs(Ea,{to:"/account",className:Is.navLink,children:[s.jsx("i",{className:"fas fa-user"})," "]})}),s.jsx("li",{className:Is.navItem,children:s.jsx(Wk,{selectedCity:r,onSelectCity:i})}),s.jsx("li",{className:Is.navItem,children:s.jsx(Yk,{})}),s.jsx("li",{className:Is.navItem,children:s.jsx(Gk,{})})]})]})]}),s.jsxs("div",{className:Is.mobileLayout,children:[s.jsx("button",{className:`${Is.navbarToggler} ${e?Is.open:""}`,onClick:o,"aria-label":"Toggle navigation",children:s.jsx("i",{className:"fas fa-bars"})}),s.jsxs("form",{className:Is.mobileSearchForm,role:"search",children:[s.jsx("input",{className:Is.mobileSearchInput,type:"text",placeholder:"","aria-label":"Search"}),s.jsx("button",{className:Is.mobileSearchButton,type:"submit",children:s.jsx("i",{className:"fas fa-search"})})]}),s.jsxs(Ea,{to:"/",className:Is.mobileBrand,children:[s.jsx("img",{src:wg,alt:"A",className:Is.logoIcon}),s.jsx("span",{children:"xione"})]})]}),e&&s.jsx("div",{className:Is.mobileOverlay,onClick:c}),s.jsxs("div",{className:`${Is.mobileMenu} ${e?Is.mobileMenuOpen:""}`,children:[s.jsxs("div",{className:Is.mobileMenuHeader,children:[s.jsx("h2",{className:Is.mobileMenuTitle,children:""}),s.jsx("button",{className:Is.mobileMenuClose,onClick:c,"aria-label":" ",children:s.jsx(aa,{})})]}),s.jsxs("ul",{className:Is.mobileNavList,children:[s.jsx("li",{className:Is.mobileNavItem,children:s.jsxs(Ea,{to:"/business-categories",className:Is.mobileNavLink,onClick:c,children:[s.jsx("i",{className:"fas fa-th-large"})," "]})}),s.jsx("li",{className:Is.mobileNavItem,children:s.jsxs(Ea,{to:"/sites",className:Is.mobileNavLink,onClick:c,children:[s.jsx("i",{className:"fas fa-store"})," "]})}),s.jsx("li",{className:Is.mobileNavItem,children:s.jsxs(Ea,{to:"/cart",className:Is.mobileNavLink,onClick:c,children:[s.jsx("i",{className:"fas fa-shopping-cart"})," "]})}),s.jsx("li",{className:Is.mobileNavItem,children:s.jsxs(Ea,{to:"/account",className:Is.mobileNavLink,onClick:c,children:[s.jsx("i",{className:"fas fa-user"})," "]})}),s.jsx("li",{className:Is.mobileNavItem,children:s.jsx("div",{className:Is.mobileNavLink,children:s.jsx(Wk,{selectedCity:r,onSelectCity:i})})}),s.jsx("li",{className:Is.mobileNavItem,children:s.jsx("div",{className:Is.mobileNavLink,children:s.jsx(Yk,{})})}),s.jsx("li",{className:Is.mobileNavItem,children:s.jsx("div",{className:Is.mobileNavLink,children:s.jsx(Gk,{})})})]})]})]})})})}const Qm=()=>{const[e,t]=v.useState(!1),[n,a]=v.useState(!0),[r,i]=v.useState(null),o=v.useCallback(async()=>{try{const d=await Re.get("accounts/api/auth/me/",{withCredentials:!0});return d.data.authenticated?(t(!0),i(d.data.user),!0):(t(!1),i(null),!1)}catch(d){return console.error("  :",d),t(!1),i(null),!1}},[]),c=v.useCallback(async()=>{var d;try{return(await Re.post("accounts/api/token/refresh/",{},{withCredentials:!0})).status===200}catch(f){return console.error("  :",f),((d=f.response)==null?void 0:d.status)===401&&(t(!1),i(null)),!1}},[]),l=v.useCallback(async()=>{try{await Re.post("accounts/api/auth/logout/",{},{withCredentials:!0})}catch(d){console.error("  :",d)}finally{t(!1),i(null),window.location.href="/registration-login"}},[]);return v.useEffect(()=>{(async()=>{a(!0),await o(),a(!1)})()},[o]),{isAuthenticated:e,isLoading:n,user:r,checkAuth:o,refreshToken:c,logout:l}},UK="_footer_1izam_1",WK="_footerContainer_1izam_45",YK="_footerContent_1izam_55",GK="_footerSection_1izam_69",QK="_logoSection_1izam_81",XK="_logoIcon_1izam_95",KK="_logoText_1izam_117",ZK="_description_1izam_139",JK="_socialIcons_1izam_155",eZ="_socialLink_1izam_167",tZ="_sectionTitle_1izam_215",nZ="_footerLinks_1izam_257",sZ="_footerLink_1izam_257",aZ="_linkIcon_1izam_305",rZ="_newsletterDescription_1izam_317",iZ="_newsletterForm_1izam_331",oZ="_inputWrapper_1izam_343",cZ="_newsletterInput_1izam_373",lZ="_newsletterButton_1izam_401",uZ="_subscribeMessage_1izam_445",dZ="_footerBottom_1izam_461",hZ="_footerBottomContent_1izam_473",fZ="_copyright_1izam_489",mZ="_legalLinks_1izam_501",pZ="_legalLink_1izam_501",gZ="_legalIcon_1izam_543",_Z="_separator_1izam_551",Fs={footer:UK,footerContainer:WK,footerContent:YK,footerSection:GK,logoSection:QK,logoIcon:XK,logoText:KK,description:ZK,socialIcons:JK,socialLink:eZ,sectionTitle:tZ,footerLinks:nZ,footerLink:sZ,linkIcon:aZ,newsletterDescription:rZ,newsletterForm:iZ,inputWrapper:oZ,newsletterInput:cZ,newsletterButton:lZ,subscribeMessage:uZ,footerBottom:dZ,footerBottomContent:hZ,copyright:fZ,legalLinks:mZ,legalLink:pZ,legalIcon:gZ,separator:_Z};function vZ(){const{isAuthenticated:e}=Qm(),[t,n]=v.useState(""),[a,r]=v.useState(!1),[i,o]=v.useState(""),c=async d=>{if(d.preventDefault(),!t||!/\S+@\S+\.\S+/.test(t)){o(",   email");return}r(!0),o("");try{setTimeout(()=>{o("  !"),n(""),r(!1)},500)}catch{o(" .  ."),r(!1)}},l=new Date().getFullYear();return s.jsx("footer",{className:Fs.footer,children:s.jsxs("div",{className:Fs.footerContainer,children:[s.jsxs("div",{className:Fs.footerContent,children:[s.jsxs("div",{className:Fs.footerSection,children:[s.jsxs("div",{className:Fs.logoSection,children:[s.jsx("img",{src:wg,alt:"Axione Logo",className:Fs.logoIcon}),s.jsx("h3",{className:Fs.logoText,children:"Axione"})]}),s.jsx("p",{className:Fs.description,children:"       .  ,        ."}),s.jsxs("div",{className:Fs.socialIcons,children:[s.jsx("a",{href:"https://instagram.com",target:"_blank",rel:"noopener noreferrer","aria-label":"Instagram",className:Fs.socialLink,children:s.jsx(WX,{})}),s.jsx("a",{href:"https://t.me",target:"_blank",rel:"noopener noreferrer","aria-label":"Telegram",className:Fs.socialLink,children:s.jsx(YX,{})})]})]}),s.jsxs("div",{className:Fs.footerSection,children:[s.jsx("h4",{className:Fs.sectionTitle,children:""}),s.jsxs("ul",{className:Fs.footerLinks,children:[s.jsx("li",{children:s.jsx(Ea,{to:"/",className:Fs.footerLink,children:""})}),s.jsx("li",{children:s.jsx(Ea,{to:"/marketplace",className:Fs.footerLink,children:""})}),s.jsx("li",{children:s.jsx(Ea,{to:"/marketplace/categories",className:Fs.footerLink,children:""})}),s.jsx("li",{children:s.jsx(Ea,{to:"/business-categories",className:Fs.footerLink,children:" "})}),e?s.jsx("li",{children:s.jsx(Ea,{to:"/account",className:Fs.footerLink,children:" "})}):s.jsx("li",{children:s.jsx(Ea,{to:"/registration-login",className:Fs.footerLink,children:" / "})})]})]}),s.jsxs("div",{className:Fs.footerSection,children:[s.jsx("h4",{className:Fs.sectionTitle,children:""}),s.jsxs("ul",{className:Fs.footerLinks,children:[s.jsx("li",{children:s.jsxs(Ea,{to:"/privacy",className:Fs.footerLink,children:[s.jsx(qk,{className:Fs.linkIcon})," "]})}),s.jsx("li",{children:s.jsxs("a",{href:"mailto:support@axione.ru",className:Fs.footerLink,children:[s.jsx(pl,{className:Fs.linkIcon}),"  "]})}),s.jsx("li",{children:s.jsxs("a",{href:"tel:+79991234567",className:Fs.footerLink,children:[s.jsx(eK,{className:Fs.linkIcon}),"+7 (999) 123-45-67"]})}),s.jsx("li",{children:s.jsxs("span",{className:Fs.footerLink,children:[s.jsx(dr,{className:Fs.linkIcon}),", "]})})]})]}),s.jsxs("div",{className:Fs.footerSection,children:[s.jsx("h4",{className:Fs.sectionTitle,children:""}),s.jsx("p",{className:Fs.newsletterDescription,children:"  ,         "}),s.jsxs("form",{className:Fs.newsletterForm,onSubmit:c,children:[s.jsxs("div",{className:Fs.inputWrapper,children:[s.jsx("input",{type:"email",placeholder:" email",value:t,onChange:d=>n(d.target.value),className:Fs.newsletterInput,required:!0,disabled:a}),s.jsx("button",{type:"submit",className:Fs.newsletterButton,disabled:a,children:a?"...":""})]}),i&&s.jsx("p",{className:Fs.subscribeMessage,children:i})]})]})]}),s.jsx("div",{className:Fs.footerBottom,children:s.jsxs("div",{className:Fs.footerBottomContent,children:[s.jsxs("p",{className:Fs.copyright,children:[" ",l," Axione.   ."]}),s.jsxs("div",{className:Fs.legalLinks,children:[s.jsxs(Ea,{to:"/privacy",className:Fs.legalLink,children:[s.jsx(qk,{className:Fs.legalIcon})," "]}),s.jsx("span",{className:Fs.separator,children:"|"}),s.jsxs("a",{href:"#",className:Fs.legalLink,children:[s.jsx(XX,{className:Fs.legalIcon})," "]})]})]})})]})})}const xZ="_header_e1rdj_2",bZ="_scrolled_e1rdj_13",yZ="_container_e1rdj_21",wZ="_headerContent_e1rdj_27",CZ="_logoLink_e1rdj_34",SZ="_logoIcon_e1rdj_50",jZ="_logoText_e1rdj_63",Ju={header:xZ,scrolled:bZ,container:yZ,headerContent:wZ,logoLink:CZ,logoIcon:SZ,logoText:jZ},NZ=()=>{const[e,t]=v.useState(!1),[n,a]=v.useState(!1);return v.useEffect(()=>{const r=()=>{t(window.scrollY>10)};return window.addEventListener("scroll",r),()=>window.removeEventListener("scroll",r)},[]),s.jsx("header",{className:`${Ju.header} ${e?Ju.scrolled:""}`,children:s.jsx("div",{className:Ju.container,children:s.jsx("div",{className:Ju.headerContent,children:s.jsx("div",{className:Ju.logo,children:s.jsxs(Ea,{to:"/",className:Ju.logoLink,children:[s.jsx("img",{src:wg,alt:"A",className:Ju.logoIcon}),s.jsx("span",{className:Ju.logoText,children:"xione & Business"})]})})})})})};function EZ({children:e,className:t="",onClick:n,mouseX:a,spring:r,distance:i,magnification:o,baseItemSize:c}){const l=v.useRef(null),d=yg(0),f=xx(a,w=>{var j;const S=((j=l.current)==null?void 0:j.getBoundingClientRect())??{x:0};return w-S.x-c/2}),g=xx(f,[-i,0,i],[c,o,c]),b=aR(g,r);return s.jsx(rs.div,{ref:l,style:{width:b,height:b},onHoverStart:()=>d.set(1),onHoverEnd:()=>d.set(0),onFocus:()=>d.set(1),onBlur:()=>d.set(0),onClick:n,className:`dock-item ${t}`,tabIndex:0,role:"button","aria-haspopup":"true",children:v.Children.map(e,w=>v.cloneElement(w,{isHovered:d}))})}function kZ({children:e,className:t="",...n}){const{isHovered:a}=n,[r,i]=v.useState(!1);return v.useEffect(()=>{const o=a.on("change",c=>{i(c===1)});return()=>o()},[a]),s.jsx(Fc,{children:r&&s.jsx(rs.div,{initial:{opacity:0,y:0},animate:{opacity:1,y:-10},exit:{opacity:0,y:0},transition:{duration:.2},className:`dock-label ${t}`,role:"tooltip",style:{x:"-50%"},children:e})})}function IZ({children:e,className:t=""}){return s.jsx("div",{className:`dock-icon ${t}`,children:e})}function DZ({items:e,className:t="",spring:n={mass:.1,stiffness:150,damping:12},magnification:a=70,distance:r=200,panelHeight:i=68,dockHeight:o=256,baseItemSize:c=50}){const l=yg(1/0),d=yg(0),f=v.useMemo(()=>Math.max(o,a+a/2+4),[a,o]),g=xx(d,[0,1],[i,f]),b=aR(g,n);return s.jsx(rs.div,{style:{height:b,scrollbarWidth:"none"},className:"dock-outer",children:s.jsx(rs.div,{onMouseMove:({pageX:w})=>{d.set(1),l.set(w)},onMouseLeave:()=>{d.set(0),l.set(1/0)},className:`dock-panel ${t}`,style:{height:i},role:"toolbar","aria-label":"Application dock",children:e.map((w,S)=>s.jsxs(EZ,{onClick:w.onClick,className:w.className,mouseX:l,spring:n,distance:r,magnification:a,baseItemSize:c,children:[s.jsx(IZ,{children:w.icon}),s.jsx(kZ,{children:w.label})]},S))})})}const TZ="_footer_1xdnx_2",AZ="_container_1xdnx_13",MZ="_topBox_1xdnx_21",RZ="_locationName_1xdnx_58",OZ="_locationHint_1xdnx_67",BZ="_dock_1xdnx_104",LZ="_icon_1xdnx_139",$Z="_iconEmoji_1xdnx_157",PZ="_iconLabel_1xdnx_164",FZ="_active_1xdnx_202",ol={footer:TZ,container:AZ,topBox:MZ,locationName:RZ,locationHint:OZ,dock:BZ,icon:LZ,iconEmoji:$Z,iconLabel:PZ,active:FZ},HZ=({items:e=[{icon:"",label:"",onClick:()=>{},isActive:!0},{icon:"",label:"",onClick:()=>{},isActive:!1},{icon:"",label:"",onClick:()=>{},isActive:!1},{icon:"",label:"",onClick:()=>{},isActive:!1},{icon:"",label:"",onClick:()=>{},isActive:!1}],topBoxText:t=`   
 `,onNavigate:n=null,onLocationClick:a=null,className:r="",spring:i={mass:.1,stiffness:150,damping:12},magnification:o=70,distance:c=200,panelHeight:l=68,dockHeight:d=256,baseItemSize:f=50})=>{const g=Rs(),b=oi(),[w,S]=v.useState("/main"),[j,N]=v.useState(e);v.useEffect(()=>{const P=b.pathname;S(P),N(O=>O.map(R=>({...R,isActive:R.route===P})))},[b.pathname]);const I=P=>{console.log(` : ${P.label}`),S(P.route||P.label),N(O=>O.map(R=>({...R,isActive:R===P}))),P.onClick&&P.onClick(),n&&n(P)},M=(P,O)=>{const R=O.currentTarget;R.style.transform="translateY(-8px) scale(0.95)",setTimeout(()=>{R.style.transform=""},150),I(P)},B=()=>{if(console.log("   -    "),a)a();else{const P=b.pathname.split("/")[2];g(`/business/${P}/location-select`)}};return s.jsx("footer",{className:ol.footer,children:s.jsxs("div",{className:ol.container,children:[s.jsx("div",{className:ol.topBox,onClick:B,children:t.split(`
`).map((P,O)=>s.jsx(Je.Fragment,{children:O===0?s.jsx("div",{className:ol.locationName,children:P}):s.jsx("div",{className:ol.locationHint,children:P})},O))}),s.jsx("div",{className:ol.dock,children:j.map((P,O)=>s.jsxs("div",{className:`${ol.icon} ${P.isActive?ol.active:""}`,onClick:R=>M(P,R),children:[s.jsx("div",{className:ol.iconEmoji,children:(typeof P.icon=="string",P.icon)}),s.jsx("div",{className:ol.iconLabel,children:P.label})]},P.route||P.label||O))})]})})},zZ=()=>{const e=Rs(),t=oi(),n=r0(),a=t.pathname.split("/")[2],[r,i]=v.useState([]),[o,c]=v.useState(!1),[l,d]=v.useState(null);v.useEffect(()=>{a&&(async()=>{try{c(!0);const[N,I]=await Promise.all([Re.get(`/api/business/${a}/locations/`),Re.get(`/api/business/${a}/settings/`)]);i(N.data),d(I.data)}catch(N){console.error("   :",N)}finally{c(!1)}})()},[a]);const f=()=>{const j=localStorage.getItem(`business_${a}_location`);if(j==="all")return"  ";if(j&&r.length>0){const B=r.find(P=>P.id===parseInt(j));if(B)return B.name}const N=t.pathname.split("/");if(N[3]==="location"&&N[4])return N[4];if(N[3]==="main"||N.length===3)return" ";const I=N[3];return{products:" ",batches:"","sale-products":" ",transactions:"",settings:""}[I]||" "},g=j=>{e(`/business/${a}${j}`)},b=()=>{e(`/business/${a}/location-select`)},S=(()=>{if(!l)return[{icon:s.jsx("div",{children:""}),label:"",onClick:()=>g("/main")},{icon:s.jsx("div",{children:""}),label:"",onClick:()=>g("/products")},{icon:s.jsx("div",{children:""}),label:"",onClick:()=>g("/settings")}];const j=(l==null?void 0:l.business_type_name)||"",N=(l==null?void 0:l.import_type)||"accounting_system";return j===""?[{icon:s.jsx("div",{children:""}),label:"",onClick:()=>g("/main")},{icon:s.jsx("div",{children:""}),label:"",onClick:()=>g("/products")},{icon:s.jsx("div",{children:""}),label:"",onClick:()=>g("/sale-products")},{icon:s.jsx("div",{children:""}),label:"",onClick:()=>g("/transactions")},{icon:s.jsx("div",{children:""}),label:"",onClick:()=>g("/tasks")},{icon:s.jsx("div",{children:""}),label:"",onClick:()=>g("/settings")}]:N==="accounting_system"?[{icon:s.jsx("div",{children:""}),label:"",onClick:()=>g("/main")},{icon:s.jsx("div",{children:""}),label:"",onClick:()=>g("/products")},{icon:s.jsx("div",{children:""}),label:"",onClick:()=>g("/batches")},{icon:s.jsx("div",{children:""}),label:"",onClick:()=>g("/sale-products")},{icon:s.jsx("div",{children:""}),label:"",onClick:()=>g("/transactions")},{icon:s.jsx("div",{children:""}),label:"",onClick:()=>g("/tasks")},{icon:s.jsx("div",{children:""}),label:"",onClick:()=>g("/inventory")},{icon:s.jsx("div",{children:""}),label:"",onClick:()=>g("/settings")}]:[{icon:s.jsx("div",{children:""}),label:"",onClick:()=>g("/main")},{icon:s.jsx("div",{children:""}),label:"",onClick:()=>g("/products")},{icon:s.jsx("div",{children:""}),label:" Excel",onClick:()=>g("/products/excel-import")},{icon:s.jsx("div",{children:""}),label:"",onClick:()=>g("/batches")},{icon:s.jsx("div",{children:""}),label:"",onClick:()=>g("/settings")}]})();return n?s.jsx(HZ,{items:S,topBoxText:` ${f()}
   `,onLocationClick:b,panelHeight:68,baseItemSize:50,magnification:70}):s.jsx(DZ,{items:S,panelHeight:68,baseItemSize:50,magnification:70})},VZ=(...e)=>{},Qk=()=>{const{isAuthenticated:e,refreshToken:t}=Qm(),n=v.useRef(null);return v.useEffect(()=>(e?n.current=setInterval(async()=>{try{VZ("  ..."),await t()}catch{}},15*60*1e3):n.current&&(clearInterval(n.current),n.current=null),()=>{n.current&&clearInterval(n.current)}),[e,t]),v.useEffect(()=>{const a=async()=>{var r;if(e)try{await Re.get("accounts/api/auth/me/",{withCredentials:!0})}catch(i){((r=i.response)==null?void 0:r.status)===401&&await t()}};return window.addEventListener("focus",a),()=>window.removeEventListener("focus",a)},[e,t]),null},qZ=({onSelectCity:e,selectedCity:t,onClose:n})=>{const[a,r]=v.useState([]),[i,o]=v.useState(!0),[c,l]=v.useState(null);v.useEffect(()=>{(async()=>{try{o(!0);const b=await Re.get("api/countries/");if(b.data&&b.data.length>0){const w=b.data[0],S=await Re.get(`api/cities/?country=${w.id}`);r(S.data||[])}o(!1)}catch{l("  "),o(!1)}})()},[]);const d=g=>{e(g)};if(i)return s.jsx("div",{className:"city-modal-overlay",onClick:n?g=>g.target===g.currentTarget&&n():void 0,children:s.jsxs("div",{className:"city-modal",onClick:g=>g.stopPropagation(),children:[s.jsxs("div",{className:"city-modal-header",children:[s.jsx("h2",{children:" "}),n&&s.jsx("button",{className:"city-modal-close",onClick:n,"aria-label":"",children:""})]}),s.jsx("div",{className:"city-modal-content",children:s.jsx("p",{children:" ..."})})]})});if(c)return s.jsx("div",{className:"city-modal-overlay",onClick:n?g=>g.target===g.currentTarget&&n():void 0,children:s.jsxs("div",{className:"city-modal",onClick:g=>g.stopPropagation(),children:[s.jsxs("div",{className:"city-modal-header",children:[s.jsx("h2",{children:" "}),n&&s.jsx("button",{className:"city-modal-close",onClick:n,"aria-label":"",children:""})]}),s.jsx("div",{className:"city-modal-content",children:s.jsx("p",{className:"error",children:c})})]})});const f=g=>{g.target===g.currentTarget&&n&&n()};return s.jsx("div",{className:"city-modal-overlay",onClick:f,children:s.jsxs("div",{className:"city-modal",onClick:g=>g.stopPropagation(),children:[s.jsxs("div",{className:"city-modal-header",children:[s.jsx("h2",{children:" "}),n&&s.jsx("button",{className:"city-modal-close",onClick:n,"aria-label":"",children:""})]}),s.jsxs("div",{className:"city-modal-content",children:[s.jsx("p",{className:"city-modal-description",children:",        "}),s.jsx("div",{className:"city-list",children:a.map(g=>s.jsxs("button",{className:`city-item ${(t==null?void 0:t.id)===g.id?"selected":""}`,onClick:()=>d(g),children:[s.jsx("span",{className:"city-name",children:g.name}),g.is_capital&&s.jsx("span",{className:"city-badge",children:""})]},g.id))})]})]})})},UZ=({children:e})=>{const t=oi(),{selectedCity:n,setSelectedCity:a,isLoading:r}=qR(),[i,o]=v.useState(!1),[c,l]=v.useState([]),[d,f]=v.useState(!1),b=["/","/marketplace","/marketplace/categories","/marketplace/products","/business-categories"].some(j=>t.pathname.startsWith(j));v.useEffect(()=>{b&&(async()=>{try{const N=await Re.get("api/countries/");if(N.data&&N.data.length>0){const I=N.data[0],M=await Re.get(`api/cities/?country=${I.id}`);l(M.data||[])}}catch(N){console.error("  :",N)}})()},[b]),v.useEffect(()=>{if(!r&&b&&!n&&c.length>0){o(!0),f(!1);const j=c.find(N=>N.is_capital);j?a(j):c.length>0&&a(c[0])}else n&&i&&d?o(!1):!n&&i&&c.length},[r,b,n,c,a,i,d]);const w=j=>{f(!0),a(j),o(!1)},S=()=>{if(!n&&c.length>0){const j=c.find(N=>N.is_capital);a(j||c[0])}o(!1)};return b?r?s.jsx(s.Fragment,{children:e}):s.jsxs(s.Fragment,{children:[e,i&&s.jsx(qZ,{selectedCity:n,onSelectCity:w,onClose:S})]}):s.jsx(s.Fragment,{children:e})};var qw,Xk;function WZ(){if(Xk)return qw;Xk=1;var e=typeof Element<"u",t=typeof Map=="function",n=typeof Set=="function",a=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function r(i,o){if(i===o)return!0;if(i&&o&&typeof i=="object"&&typeof o=="object"){if(i.constructor!==o.constructor)return!1;var c,l,d;if(Array.isArray(i)){if(c=i.length,c!=o.length)return!1;for(l=c;l--!==0;)if(!r(i[l],o[l]))return!1;return!0}var f;if(t&&i instanceof Map&&o instanceof Map){if(i.size!==o.size)return!1;for(f=i.entries();!(l=f.next()).done;)if(!o.has(l.value[0]))return!1;for(f=i.entries();!(l=f.next()).done;)if(!r(l.value[1],o.get(l.value[0])))return!1;return!0}if(n&&i instanceof Set&&o instanceof Set){if(i.size!==o.size)return!1;for(f=i.entries();!(l=f.next()).done;)if(!o.has(l.value[0]))return!1;return!0}if(a&&ArrayBuffer.isView(i)&&ArrayBuffer.isView(o)){if(c=i.length,c!=o.length)return!1;for(l=c;l--!==0;)if(i[l]!==o[l])return!1;return!0}if(i.constructor===RegExp)return i.source===o.source&&i.flags===o.flags;if(i.valueOf!==Object.prototype.valueOf&&typeof i.valueOf=="function"&&typeof o.valueOf=="function")return i.valueOf()===o.valueOf();if(i.toString!==Object.prototype.toString&&typeof i.toString=="function"&&typeof o.toString=="function")return i.toString()===o.toString();if(d=Object.keys(i),c=d.length,c!==Object.keys(o).length)return!1;for(l=c;l--!==0;)if(!Object.prototype.hasOwnProperty.call(o,d[l]))return!1;if(e&&i instanceof Element)return!1;for(l=c;l--!==0;)if(!((d[l]==="_owner"||d[l]==="__v"||d[l]==="__o")&&i.$$typeof)&&!r(i[d[l]],o[d[l]]))return!1;return!0}return i!==i&&o!==o}return qw=function(o,c){try{return r(o,c)}catch(l){if((l.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw l}},qw}var YZ=WZ();const J1=Si(YZ);function kr(e,t){return!Number.isInteger(e)||!Number.isInteger(t)?Math.random()*(t-e)+e:Math.floor(Math.random()*(t-e+1)+e)}function Zp(e,t,n){return(1-n)*e+n*t}function GZ(e){const t=Math.floor(Math.random()*e.length);return e[t]}function Kk(e){return e?{height:e.offsetHeight,width:e.offsetWidth}:{height:0,width:0}}const Zk=Math.PI*2,ul={color:"#dee4fd",radius:[.5,3],speed:[1,3],wind:[-.5,2],changeFrequency:200,rotationSpeed:[-1,1],opacity:[1,1],enable3DRotation:!1};class Sh{static createSnowflakes(t,n,a){if(!t)return[];const r=[];for(let i=0;i<n;i++)r.push(new Sh(t,a));return r}constructor(t,n={}){this.updateConfig(n);const{radius:a,wind:r,speed:i,rotationSpeed:o,opacity:c,enable3DRotation:l}=this.config;this.params={x:kr(0,t.offsetWidth),y:kr(-t.offsetHeight,0),rotation:kr(0,360),radius:kr(...a),speed:kr(...i),wind:kr(...r),rotationSpeed:kr(...o),nextSpeed:kr(...i),nextWind:kr(...r),nextRotationSpeed:kr(...o),opacity:kr(...c),hasNextOpacity:!1,rotationX:l?kr(0,360):0,rotationY:l?kr(0,360):0,rotationSpeedX:l?kr(-2,2):0,rotationSpeedY:l?kr(-2,2):0,nextRotationSpeedX:l?kr(-2,2):0,nextRotationSpeedY:l?kr(-2,2):0},this.framesSinceLastUpdate=0}selectImage(){this.config.images&&this.config.images.length>0?this.image=GZ(this.config.images):this.image=void 0}updateConfig(t){const n=this.config;this.config={...ul,...t},this.config.changeFrequency=kr(this.config.changeFrequency,this.config.changeFrequency*1.5),this.params&&!J1(this.config.radius,n==null?void 0:n.radius)&&(this.params.radius=kr(...this.config.radius)),J1(this.config.images,n==null?void 0:n.images)||this.selectImage(),n!=null&&n.opacity&&!J1(this.config.opacity,n==null?void 0:n.opacity)&&(this.params.hasNextOpacity=!0)}updateTargetParams(){this.params.nextSpeed=kr(...this.config.speed),this.params.nextWind=kr(...this.config.wind),this.image&&(this.params.nextRotationSpeed=kr(...this.config.rotationSpeed)),this.config.enable3DRotation&&(this.params.nextRotationSpeedX=kr(-2,2),this.params.nextRotationSpeedY=kr(-2,2))}update(t,n,a=1){const{x:r,y:i,rotation:o,rotationSpeed:c,nextRotationSpeed:l,wind:d,speed:f,nextWind:g,nextSpeed:b,radius:w}=this.params;this.params.x=(r+d*a)%(t+w*2),this.params.x>t+w&&(this.params.x=-w),this.params.y=(i+f*a)%(n+w*2),this.params.y>n+w&&(this.params.hasNextOpacity&&(this.params.opacity=kr(...this.config.opacity),this.params.hasNextOpacity=!1),this.params.y=-w),(this.image||this.config.enable3DRotation)&&(this.params.rotation=(o+c)%360),this.config.enable3DRotation&&(this.params.rotationX=(this.params.rotationX+this.params.rotationSpeedX*a)%360,this.params.rotationY=(this.params.rotationY+this.params.rotationSpeedY*a)%360),this.params.speed=Zp(f,b,.01),this.params.wind=Zp(d,g,.01),this.params.rotationSpeed=Zp(c,l,.01),this.config.enable3DRotation&&(this.params.rotationSpeedX=Zp(this.params.rotationSpeedX,this.params.nextRotationSpeedX,.01),this.params.rotationSpeedY=Zp(this.params.rotationSpeedY,this.params.nextRotationSpeedY,.01)),this.framesSinceLastUpdate++>this.config.changeFrequency&&(this.updateTargetParams(),this.framesSinceLastUpdate=0)}getImageOffscreenCanvas(t,n){var a,r;if(t instanceof HTMLImageElement&&t.loading)return t;let i=Sh.offscreenCanvases.get(t);if(i||(i={},Sh.offscreenCanvases.set(t,i)),!(n in i)){const o=document.createElement("canvas");o.width=n,o.height=n,(a=o.getContext("2d"))===null||a===void 0||a.drawImage(t,0,0,n,n),i[n]=o}return(r=i[n])!==null&&r!==void 0?r:t}apply3DTransform(t,n,a){if(this.config.enable3DRotation){const{rotationX:r,rotationY:i}=this.params,o=this.params.rotation||0,c=r*Math.PI/180,l=i*Math.PI/180,d=o*Math.PI/180,f=Math.cos(c),g=Math.sin(c),b=Math.cos(l),w=Math.sin(l),S=Math.cos(d),j=Math.sin(d),N=S*b,I=S*w*g-j*f,M=S*w*f+j*g,B=j*b;t.setTransform(N,I,M,B,n,a)}else{const i=(this.params.rotation||0)*Math.PI/180,o=Math.cos(i),c=Math.sin(i);t.setTransform(o,c,-c,o,n,a)}}drawCircle(t){t.moveTo(this.params.x,this.params.y),t.arc(this.params.x,this.params.y,this.params.radius,0,Zk)}drawCircle3D(t,n){const{x:a,y:r,radius:i}=this.params;t.save(),this.config.enable3DRotation?this.apply3DTransform(t,a,r):t.translate(a,r),t.beginPath(),t.arc(0,0,i,0,Zk),t.fillStyle=n,t.fill(),t.restore()}drawImage(t){const{x:n,y:a,radius:r}=this.params;t.save(),this.params.opacity!==1&&(t.globalAlpha=this.params.opacity),this.apply3DTransform(t,n,a);const i=this.getImageOffscreenCanvas(this.image,r);t.drawImage(i,-(r/2),-(r/2),r,r),t.restore()}}Sh.offscreenCanvases=new WeakMap;const QZ={pointerEvents:"none",backgroundColor:"transparent",position:"absolute",top:0,left:0,width:"100%",height:"100%"},XZ=1e3/60;var Jk=function(e,t,n,a){if(n==="a"&&!a)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?a:n==="a"?a.call(e):a?a.value:t.get(e)},B_=function(e,t,n,a,r){if(a==="m")throw new TypeError("Private method is not writable");if(a==="a"&&!r)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return a==="a"?r.call(e,n):r?r.value=n:t.set(e,n),n},I1,D1;class KZ{get ctx(){return Jk(this,I1,"f")}get canvas(){return Jk(this,D1,"f")}set canvas(t){B_(this,D1,t,"f"),B_(this,I1,t.getContext("2d"),"f")}constructor(t,n){this.lastUpdate=Date.now(),this.snowflakes=[],I1.set(this,void 0),D1.set(this,void 0),B_(this,D1,t,"f"),B_(this,I1,t.getContext("2d"),"f"),this.config={snowflakeCount:150,...ul,...n},this.snowflakes=[],this.snowflakes=Sh.createSnowflakes(t,n.snowflakeCount||150,n),this.play()}updateConfig(t){this.config={...this.config,...t};const n=this.config.snowflakeCount-this.snowflakes.length;n>0&&(this.snowflakes=[...this.snowflakes,...Sh.createSnowflakes(this.canvas,n,t)]),n<0&&(this.snowflakes=this.snowflakes.slice(0,this.config.snowflakeCount));for(const a of this.snowflakes)a.updateConfig(this.config)}render(t=1){const{ctx:n,canvas:a,snowflakes:r}=this;if(!n||!a)return;const{offsetWidth:i,offsetHeight:o}=a;for(const c of r)c.update(i,o,t);if(n.setTransform(1,0,0,1,0,0),n.clearRect(0,0,i,o),this.config.images&&this.config.images.length>0){for(const c of r)c.drawImage(n);return}if(this.config.enable3DRotation)for(const c of r)c.drawCircle3D(n,this.config.color);else{n.beginPath();for(const c of r)c.drawCircle(n);n.fillStyle=this.config.color,n.fill()}}loop(){const t=Date.now(),n=Date.now()-this.lastUpdate;this.lastUpdate=t;const a=n/XZ;this.render(a),this.animationFrame=requestAnimationFrame(()=>this.loop())}play(){this.loop()}pause(){this.animationFrame&&(cancelAnimationFrame(this.animationFrame),this.animationFrame=void 0)}}I1=new WeakMap,D1=new WeakMap;const ZZ=e=>{const[t,n]=v.useState(Kk(e.current)),a=v.useCallback(()=>{e.current&&n(Kk(e.current))},[e]);return v.useEffect(()=>{const{ResizeObserver:r}=window;if(e.current)if(a(),typeof r=="function"){const i=new r(a);return i.observe(e.current),()=>i.disconnect()}else return window.addEventListener("resize",a),()=>window.removeEventListener("resize",a)},[e,a]),t},JZ=e=>v.useMemo(()=>({...QZ,...e||{}}),[e]);function eJ(e,t){const n=v.useRef(t);return J1(t,n.current)||(n.current=t),v.useEffect(e,n.current)}function tJ(e){const[t,n]=v.useState(e);return eJ(()=>n(e),[e]),t}const nJ=({color:e=ul.color,changeFrequency:t=ul.changeFrequency,radius:n=ul.radius,speed:a=ul.speed,wind:r=ul.wind,rotationSpeed:i=ul.rotationSpeed,opacity:o=ul.opacity,snowflakeCount:c=150,images:l,enable3DRotation:d=ul.enable3DRotation,style:f}={})=>{const g=JZ(f),b=v.useRef(null),w=ZZ(b),S=tJ({color:e,changeFrequency:t,radius:n,speed:a,wind:r,rotationSpeed:i,images:l,snowflakeCount:c,opacity:o,enable3DRotation:d}),j=v.useRef(S),N=v.useRef();return v.useEffect(()=>(!N.current&&b.current&&(N.current=new KZ(b.current,j.current)),()=>{var I;(I=N.current)===null||I===void 0||I.pause(),N.current=void 0}),[]),v.useEffect(()=>{N.current&&N.current.updateConfig(S)},[S]),Je.createElement("canvas",{ref:b,height:w.height,width:w.width,style:g,"data-testid":"SnowfallCanvas"})},eI=()=>{const{snowfallEnabled:e}=YR();return e?s.jsx(nJ,{color:"#ffffff",snowflakeCount:100,speed:[.5,2],wind:[-.5,1.5],radius:[.5,2],style:{position:"fixed",width:"100%",height:"100%",zIndex:9999,pointerEvents:"none"}}):null};var Uw={exports:{}},Ww,tI;function sJ(){if(tI)return Ww;tI=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Ww=e,Ww}var Yw,nI;function aJ(){if(nI)return Yw;nI=1;var e=sJ();function t(){}function n(){}return n.resetWarningCache=t,Yw=function(){function a(o,c,l,d,f,g){if(g!==e){var b=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw b.name="Invariant Violation",b}}a.isRequired=a;function r(){return a}var i={array:a,bigint:a,bool:a,func:a,number:a,object:a,string:a,symbol:a,any:a,arrayOf:r,element:a,elementType:a,instanceOf:r,node:a,objectOf:r,oneOf:r,oneOfType:r,shape:r,exact:r,checkPropTypes:n,resetWarningCache:t};return i.PropTypes=i,i},Yw}var sI;function rJ(){return sI||(sI=1,Uw.exports=aJ()()),Uw.exports}var iJ=rJ();const Or=Si(iJ);var Gw,aI;function oJ(){if(aI)return Gw;aI=1;function e(c){return c&&typeof c=="object"&&"default"in c?c.default:c}var t=Qc(),n=e(t);function a(c,l,d){return l in c?Object.defineProperty(c,l,{value:d,enumerable:!0,configurable:!0,writable:!0}):c[l]=d,c}function r(c,l){c.prototype=Object.create(l.prototype),c.prototype.constructor=c,c.__proto__=l}var i=!!(typeof window<"u"&&window.document&&window.document.createElement);function o(c,l,d){if(typeof c!="function")throw new Error("Expected reducePropsToState to be a function.");if(typeof l!="function")throw new Error("Expected handleStateChangeOnClient to be a function.");if(typeof d<"u"&&typeof d!="function")throw new Error("Expected mapStateOnServer to either be undefined or a function.");function f(g){return g.displayName||g.name||"Component"}return function(b){if(typeof b!="function")throw new Error("Expected WrappedComponent to be a React component.");var w=[],S;function j(){S=c(w.map(function(I){return I.props})),N.canUseDOM?l(S):d&&(S=d(S))}var N=function(I){r(M,I);function M(){return I.apply(this,arguments)||this}M.peek=function(){return S},M.rewind=function(){if(M.canUseDOM)throw new Error("You may only call rewind() on the server. Call peek() to read the current state.");var O=S;return S=void 0,w=[],O};var B=M.prototype;return B.UNSAFE_componentWillMount=function(){w.push(this),j()},B.componentDidUpdate=function(){j()},B.componentWillUnmount=function(){var O=w.indexOf(this);w.splice(O,1),j()},B.render=function(){return n.createElement(b,this.props)},M}(t.PureComponent);return a(N,"displayName","SideEffect("+f(b)+")"),a(N,"canUseDOM",i),N}}return Gw=o,Gw}var cJ=oJ();const lJ=Si(cJ);/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var Qw,rI;function uJ(){if(rI)return Qw;rI=1;var e=Object.getOwnPropertySymbols,t=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable;function a(i){if(i==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(i)}function r(){try{if(!Object.assign)return!1;var i=new String("abc");if(i[5]="de",Object.getOwnPropertyNames(i)[0]==="5")return!1;for(var o={},c=0;c<10;c++)o["_"+String.fromCharCode(c)]=c;var l=Object.getOwnPropertyNames(o).map(function(f){return o[f]});if(l.join("")!=="0123456789")return!1;var d={};return"abcdefghijklmnopqrst".split("").forEach(function(f){d[f]=f}),Object.keys(Object.assign({},d)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}return Qw=r()?Object.assign:function(i,o){for(var c,l=a(i),d,f=1;f<arguments.length;f++){c=Object(arguments[f]);for(var g in c)t.call(c,g)&&(l[g]=c[g]);if(e){d=e(c);for(var b=0;b<d.length;b++)n.call(c,d[b])&&(l[d[b]]=c[d[b]])}}return l},Qw}var dJ=uJ();const hJ=Si(dJ);var jh={BODY:"bodyAttributes",HTML:"htmlAttributes",TITLE:"titleAttributes"},sa={BASE:"base",BODY:"body",HEAD:"head",HTML:"html",LINK:"link",META:"meta",NOSCRIPT:"noscript",SCRIPT:"script",STYLE:"style",TITLE:"title"};Object.keys(sa).map(function(e){return sa[e]});var $r={CHARSET:"charset",CSS_TEXT:"cssText",HREF:"href",HTTPEQUIV:"http-equiv",INNER_HTML:"innerHTML",ITEM_PROP:"itemprop",NAME:"name",PROPERTY:"property",REL:"rel",SRC:"src",TARGET:"target"},jx={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},Ng={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate"},fJ=Object.keys(jx).reduce(function(e,t){return e[jx[t]]=t,e},{}),mJ=[sa.NOSCRIPT,sa.SCRIPT,sa.STYLE],$c="data-react-helmet",pJ=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gJ=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},_J=function(){function e(t,n){for(var a=0;a<n.length;a++){var r=n[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),Eo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},vJ=function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},iI=function(e,t){var n={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n},xJ=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e},nj=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return n===!1?String(t):String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},bJ=function(t){var n=sm(t,sa.TITLE),a=sm(t,Ng.TITLE_TEMPLATE);if(a&&n)return a.replace(/%s/g,function(){return Array.isArray(n)?n.join(""):n});var r=sm(t,Ng.DEFAULT_TITLE);return n||r||void 0},yJ=function(t){return sm(t,Ng.ON_CHANGE_CLIENT_STATE)||function(){}},Xw=function(t,n){return n.filter(function(a){return typeof a[t]<"u"}).map(function(a){return a[t]}).reduce(function(a,r){return Eo({},a,r)},{})},wJ=function(t,n){return n.filter(function(a){return typeof a[sa.BASE]<"u"}).map(function(a){return a[sa.BASE]}).reverse().reduce(function(a,r){if(!a.length)for(var i=Object.keys(r),o=0;o<i.length;o++){var c=i[o],l=c.toLowerCase();if(t.indexOf(l)!==-1&&r[l])return a.concat(r)}return a},[])},Jp=function(t,n,a){var r={};return a.filter(function(i){return Array.isArray(i[t])?!0:(typeof i[t]<"u"&&NJ("Helmet: "+t+' should be of type "Array". Instead found type "'+pJ(i[t])+'"'),!1)}).map(function(i){return i[t]}).reverse().reduce(function(i,o){var c={};o.filter(function(b){for(var w=void 0,S=Object.keys(b),j=0;j<S.length;j++){var N=S[j],I=N.toLowerCase();n.indexOf(I)!==-1&&!(w===$r.REL&&b[w].toLowerCase()==="canonical")&&!(I===$r.REL&&b[I].toLowerCase()==="stylesheet")&&(w=I),n.indexOf(N)!==-1&&(N===$r.INNER_HTML||N===$r.CSS_TEXT||N===$r.ITEM_PROP)&&(w=N)}if(!w||!b[w])return!1;var M=b[w].toLowerCase();return r[w]||(r[w]={}),c[w]||(c[w]={}),r[w][M]?!1:(c[w][M]=!0,!0)}).reverse().forEach(function(b){return i.push(b)});for(var l=Object.keys(c),d=0;d<l.length;d++){var f=l[d],g=hJ({},r[f],c[f]);r[f]=g}return i},[]).reverse()},sm=function(t,n){for(var a=t.length-1;a>=0;a--){var r=t[a];if(r.hasOwnProperty(n))return r[n]}return null},CJ=function(t){return{baseTag:wJ([$r.HREF,$r.TARGET],t),bodyAttributes:Xw(jh.BODY,t),defer:sm(t,Ng.DEFER),encode:sm(t,Ng.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:Xw(jh.HTML,t),linkTags:Jp(sa.LINK,[$r.REL,$r.HREF],t),metaTags:Jp(sa.META,[$r.NAME,$r.CHARSET,$r.HTTPEQUIV,$r.PROPERTY,$r.ITEM_PROP],t),noscriptTags:Jp(sa.NOSCRIPT,[$r.INNER_HTML],t),onChangeClientState:yJ(t),scriptTags:Jp(sa.SCRIPT,[$r.SRC,$r.INNER_HTML],t),styleTags:Jp(sa.STYLE,[$r.CSS_TEXT],t),title:bJ(t),titleAttributes:Xw(jh.TITLE,t)}},sj=function(){var e=Date.now();return function(t){var n=Date.now();n-e>16?(e=n,t(n)):setTimeout(function(){sj(t)},0)}}(),oI=function(t){return clearTimeout(t)},SJ=typeof window<"u"?window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||sj:global.requestAnimationFrame||sj,jJ=typeof window<"u"?window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||oI:global.cancelAnimationFrame||oI,NJ=function(t){return console&&typeof console.warn=="function"&&console.warn(t)},e1=null,EJ=function(t){e1&&jJ(e1),t.defer?e1=SJ(function(){cI(t,function(){e1=null})}):(cI(t),e1=null)},cI=function(t,n){var a=t.baseTag,r=t.bodyAttributes,i=t.htmlAttributes,o=t.linkTags,c=t.metaTags,l=t.noscriptTags,d=t.onChangeClientState,f=t.scriptTags,g=t.styleTags,b=t.title,w=t.titleAttributes;aj(sa.BODY,r),aj(sa.HTML,i),kJ(b,w);var S={baseTag:kf(sa.BASE,a),linkTags:kf(sa.LINK,o),metaTags:kf(sa.META,c),noscriptTags:kf(sa.NOSCRIPT,l),scriptTags:kf(sa.SCRIPT,f),styleTags:kf(sa.STYLE,g)},j={},N={};Object.keys(S).forEach(function(I){var M=S[I],B=M.newTags,P=M.oldTags;B.length&&(j[I]=B),P.length&&(N[I]=S[I].oldTags)}),n&&n(),d(t,j,N)},GR=function(t){return Array.isArray(t)?t.join(""):t},kJ=function(t,n){typeof t<"u"&&document.title!==t&&(document.title=GR(t)),aj(sa.TITLE,n)},aj=function(t,n){var a=document.getElementsByTagName(t)[0];if(a){for(var r=a.getAttribute($c),i=r?r.split(","):[],o=[].concat(i),c=Object.keys(n),l=0;l<c.length;l++){var d=c[l],f=n[d]||"";a.getAttribute(d)!==f&&a.setAttribute(d,f),i.indexOf(d)===-1&&i.push(d);var g=o.indexOf(d);g!==-1&&o.splice(g,1)}for(var b=o.length-1;b>=0;b--)a.removeAttribute(o[b]);i.length===o.length?a.removeAttribute($c):a.getAttribute($c)!==c.join(",")&&a.setAttribute($c,c.join(","))}},kf=function(t,n){var a=document.head||document.querySelector(sa.HEAD),r=a.querySelectorAll(t+"["+$c+"]"),i=Array.prototype.slice.call(r),o=[],c=void 0;return n&&n.length&&n.forEach(function(l){var d=document.createElement(t);for(var f in l)if(l.hasOwnProperty(f))if(f===$r.INNER_HTML)d.innerHTML=l.innerHTML;else if(f===$r.CSS_TEXT)d.styleSheet?d.styleSheet.cssText=l.cssText:d.appendChild(document.createTextNode(l.cssText));else{var g=typeof l[f]>"u"?"":l[f];d.setAttribute(f,g)}d.setAttribute($c,"true"),i.some(function(b,w){return c=w,d.isEqualNode(b)})?i.splice(c,1):o.push(d)}),i.forEach(function(l){return l.parentNode.removeChild(l)}),o.forEach(function(l){return a.appendChild(l)}),{oldTags:i,newTags:o}},QR=function(t){return Object.keys(t).reduce(function(n,a){var r=typeof t[a]<"u"?a+'="'+t[a]+'"':""+a;return n?n+" "+r:r},"")},IJ=function(t,n,a,r){var i=QR(a),o=GR(n);return i?"<"+t+" "+$c+'="true" '+i+">"+nj(o,r)+"</"+t+">":"<"+t+" "+$c+'="true">'+nj(o,r)+"</"+t+">"},DJ=function(t,n,a){return n.reduce(function(r,i){var o=Object.keys(i).filter(function(d){return!(d===$r.INNER_HTML||d===$r.CSS_TEXT)}).reduce(function(d,f){var g=typeof i[f]>"u"?f:f+'="'+nj(i[f],a)+'"';return d?d+" "+g:g},""),c=i.innerHTML||i.cssText||"",l=mJ.indexOf(t)===-1;return r+"<"+t+" "+$c+'="true" '+o+(l?"/>":">"+c+"</"+t+">")},"")},XR=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(t).reduce(function(a,r){return a[jx[r]||r]=t[r],a},n)},TJ=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(t).reduce(function(a,r){return a[fJ[r]||r]=t[r],a},n)},AJ=function(t,n,a){var r,i=(r={key:n},r[$c]=!0,r),o=XR(a,i);return[Je.createElement(sa.TITLE,o,n)]},MJ=function(t,n){return n.map(function(a,r){var i,o=(i={key:r},i[$c]=!0,i);return Object.keys(a).forEach(function(c){var l=jx[c]||c;if(l===$r.INNER_HTML||l===$r.CSS_TEXT){var d=a.innerHTML||a.cssText;o.dangerouslySetInnerHTML={__html:d}}else o[l]=a[c]}),Je.createElement(t,o)})},Zl=function(t,n,a){switch(t){case sa.TITLE:return{toComponent:function(){return AJ(t,n.title,n.titleAttributes)},toString:function(){return IJ(t,n.title,n.titleAttributes,a)}};case jh.BODY:case jh.HTML:return{toComponent:function(){return XR(n)},toString:function(){return QR(n)}};default:return{toComponent:function(){return MJ(t,n)},toString:function(){return DJ(t,n,a)}}}},KR=function(t){var n=t.baseTag,a=t.bodyAttributes,r=t.encode,i=t.htmlAttributes,o=t.linkTags,c=t.metaTags,l=t.noscriptTags,d=t.scriptTags,f=t.styleTags,g=t.title,b=g===void 0?"":g,w=t.titleAttributes;return{base:Zl(sa.BASE,n,r),bodyAttributes:Zl(jh.BODY,a,r),htmlAttributes:Zl(jh.HTML,i,r),link:Zl(sa.LINK,o,r),meta:Zl(sa.META,c,r),noscript:Zl(sa.NOSCRIPT,l,r),script:Zl(sa.SCRIPT,d,r),style:Zl(sa.STYLE,f,r),title:Zl(sa.TITLE,{title:b,titleAttributes:w},r)}},RJ=function(t){var n,a;return a=n=function(r){vJ(i,r);function i(){return gJ(this,i),xJ(this,r.apply(this,arguments))}return i.prototype.shouldComponentUpdate=function(c){return!J1(this.props,c)},i.prototype.mapNestedChildrenToProps=function(c,l){if(!l)return null;switch(c.type){case sa.SCRIPT:case sa.NOSCRIPT:return{innerHTML:l};case sa.STYLE:return{cssText:l}}throw new Error("<"+c.type+" /> elements are self-closing and can not contain children. Refer to our API for more information.")},i.prototype.flattenArrayTypeChildren=function(c){var l,d=c.child,f=c.arrayTypeChildren,g=c.newChildProps,b=c.nestedChildren;return Eo({},f,(l={},l[d.type]=[].concat(f[d.type]||[],[Eo({},g,this.mapNestedChildrenToProps(d,b))]),l))},i.prototype.mapObjectTypeChildren=function(c){var l,d,f=c.child,g=c.newProps,b=c.newChildProps,w=c.nestedChildren;switch(f.type){case sa.TITLE:return Eo({},g,(l={},l[f.type]=w,l.titleAttributes=Eo({},b),l));case sa.BODY:return Eo({},g,{bodyAttributes:Eo({},b)});case sa.HTML:return Eo({},g,{htmlAttributes:Eo({},b)})}return Eo({},g,(d={},d[f.type]=Eo({},b),d))},i.prototype.mapArrayTypeChildrenToProps=function(c,l){var d=Eo({},l);return Object.keys(c).forEach(function(f){var g;d=Eo({},d,(g={},g[f]=c[f],g))}),d},i.prototype.warnOnInvalidChildren=function(c,l){return!0},i.prototype.mapChildrenToProps=function(c,l){var d=this,f={};return Je.Children.forEach(c,function(g){if(!(!g||!g.props)){var b=g.props,w=b.children,S=iI(b,["children"]),j=TJ(S);switch(d.warnOnInvalidChildren(g,w),g.type){case sa.LINK:case sa.META:case sa.NOSCRIPT:case sa.SCRIPT:case sa.STYLE:f=d.flattenArrayTypeChildren({child:g,arrayTypeChildren:f,newChildProps:j,nestedChildren:w});break;default:l=d.mapObjectTypeChildren({child:g,newProps:l,newChildProps:j,nestedChildren:w});break}}}),l=this.mapArrayTypeChildrenToProps(f,l),l},i.prototype.render=function(){var c=this.props,l=c.children,d=iI(c,["children"]),f=Eo({},d);return l&&(f=this.mapChildrenToProps(l,f)),Je.createElement(t,f)},_J(i,null,[{key:"canUseDOM",set:function(c){t.canUseDOM=c}}]),i}(Je.Component),n.propTypes={base:Or.object,bodyAttributes:Or.object,children:Or.oneOfType([Or.arrayOf(Or.node),Or.node]),defaultTitle:Or.string,defer:Or.bool,encodeSpecialCharacters:Or.bool,htmlAttributes:Or.object,link:Or.arrayOf(Or.object),meta:Or.arrayOf(Or.object),noscript:Or.arrayOf(Or.object),onChangeClientState:Or.func,script:Or.arrayOf(Or.object),style:Or.arrayOf(Or.object),title:Or.string,titleAttributes:Or.object,titleTemplate:Or.string},n.defaultProps={defer:!0,encodeSpecialCharacters:!0},n.peek=t.peek,n.rewind=function(){var r=t.rewind();return r||(r=KR({baseTag:[],bodyAttributes:{},htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}})),r},a},OJ=function(){return null},BJ=lJ(CJ,EJ,KR)(OJ),Nx=RJ(BJ);Nx.renderStatic=Nx.rewind;const I3=e=>{if(!e)return"";if(/^https?:\/\//i.test(e))return e;const t=Ym.MEDIA_BASE_URL;return e.startsWith("/media/")?`${t}${e}`:e.startsWith("/")?`${t}${e}`:`${t}/media/${e}`},rj=e=>{if(!e)return"";if(/^https?:\/\//i.test(e))return e;const t=Ym.MEDIA_BASE_URL;return e.startsWith("/media/")?`${t}${e}`:e.startsWith("/")?`${t}${e}`:`${t}/media/${e}`},ZR=e=>{const t=I3(e);return t?`url(${t})`:"none"},LJ=(e="")=>`${Ym.API_BASE_URL}${e}`,JR=e=>/^https?:\/\//i.test(e),eO=e=>e?e.split("/").pop():"",tO=e=>{if(!e)return"";const t=eO(e),n=t.lastIndexOf(".");return n>0?t.substring(n+1).toLowerCase():""},$J=e=>{const t=tO(e);return["jpg","jpeg","png","gif","webp","svg","bmp"].includes(t)},PJ=e=>{if(e===0)return"0 Bytes";const t=1024,n=["Bytes","KB","MB","GB"],a=Math.floor(Math.log(e)/Math.log(t));return parseFloat((e/Math.pow(t,a)).toFixed(2))+" "+n[a]},FJ=(e,t={})=>({backgroundImage:ZR(e),...t}),HJ=(e,t="thumb")=>{if(!e)return"";const n=I3(e);if(!n)return"";if(JR(e))return n;const a=n.includes("?")?"&":"?";return`${n}${a}size=${t}`},zJ={getImageUrl:I3,getFileUrl:rj,getBackgroundImageUrl:ZR,getApiUrl:LJ,isExternalUrl:JR,getFileName:eO,getFileExtension:tO,isImageFile:$J,formatFileSize:PJ,createBackgroundImageStyle:FJ,getThumbnailUrl:HJ},Ur=()=>{const e=v.useMemo(()=>zJ,[]);return{getImageUrl:e.getImageUrl,getFileUrl:e.getFileUrl,getBackgroundImageUrl:e.getBackgroundImageUrl,getApiUrl:e.getApiUrl,isExternalUrl:e.isExternalUrl,getFileName:e.getFileName,getFileExtension:e.getFileExtension,isImageFile:e.isImageFile,formatFileSize:e.formatFileSize,createBackgroundImageStyle:e.createBackgroundImageStyle,getThumbnailUrl:e.getThumbnailUrl,utils:e}},VJ=()=>{const e=v.useMemo(()=>Ym,[]),t=(i="")=>{const o=`${e.API_BASE_URL}${i}`;return Dv.debug("API URL:",o),o},n=(i="")=>{if(!i)return"";if(/^https?:\/\//i.test(i))return i;const o=i.startsWith("/media/")?`${e.MEDIA_BASE_URL}${i}`:`${e.MEDIA_BASE_URL}/media/${i}`;return Dv.debug("Media URL:",o),o},a=e.IS_DEVELOPMENT,r=e.IS_PRODUCTION;return{...e,getApiUrl:t,getMediaUrl:n,isDevelopment:a,isProduction:r,logger:Dv}},Pb=({product:e})=>{const t=Rs(),{getImageUrl:n}=Ur(),{logger:a}=VJ(),[r,i]=v.useState(!0),[o,c]=v.useState(!1),l=()=>t(`/marketplace/products/${e.id}`),d=N=>{N.stopPropagation(),a.debug("Add to favorites",e.id)},f=N=>{N.stopPropagation(),a.debug("Add to cart",e.id)},g=e.default_variant,b=e.main_image;v.useEffect(()=>{if(b!=null&&b.image){const N=n(b.image),I=new Image;I.onload=()=>{i(!1),c(!1)},I.onerror=()=>{c(!0),i(!1)},I.src=N,I.complete?(i(!1),c(!1)):(i(!0),c(!1))}else i(!1),c(!1)},[b==null?void 0:b.image,n]);const w=g&&parseFloat(g.discount)>0,S=(g==null?void 0:g.current_price)||e.min_price;parseFloat((g==null?void 0:g.price)||e.min_price);const j=e.min_price!==e.max_price?`${e.min_price.toLocaleString("ru-RU")} - ${e.max_price.toLocaleString("ru-RU")} `:null;return s.jsxs("div",{className:"product-card",onClick:l,children:[s.jsxs("div",{className:"product-image",children:[b!=null&&b.image&&!o?s.jsxs(s.Fragment,{children:[r&&s.jsx("div",{className:"image-skeleton",children:s.jsx("div",{className:"skeleton-shimmer"})}),s.jsx("img",{src:n(b.image),alt:e.name,loading:"lazy",className:`product-img ${r?"image-hidden":"image-visible"}`,onLoad:()=>i(!1),onError:N=>{N.target.onerror=null,c(!0),i(!1)}})]}):s.jsx("div",{className:"no-image","aria-hidden":"true",children:s.jsx("svg",{width:"60",height:"60",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:s.jsx("path",{d:"M4 16L8.5 10.5L11 13.5L14.5 9L20 16M4 16H20M4 16V4H20V16",strokeWidth:"1.5"})})}),s.jsx("button",{className:"favorite-button",onClick:d,"aria-label":"  ",children:""}),w&&s.jsxs("div",{className:"discount-badge",children:["-",Math.round(parseFloat(g.discount)),"%"]})]}),s.jsxs("div",{className:"product-list-info",children:[s.jsxs("div",{className:"price-section",children:[s.jsxs("div",{className:"current-price",children:[parseFloat(S).toLocaleString("ru-RU")," "]}),j&&s.jsx("div",{className:"price-range",children:j})]}),s.jsx("h3",{className:"product-name",children:e.name}),s.jsxs("div",{className:"business-name",children:[s.jsx("span",{children:e.business_name}),e.business_logo&&s.jsx("img",{src:n(e.business_logo),alt:e.business_name,className:"business-logo"})]}),s.jsx("button",{className:"add-to-cart-button",onClick:f,"aria-label":"  ",children:" "})]})]})},qJ="_loaderContainer_1qy54_1",UJ="_loaderWrapper_1qy54_10",WJ="_rotatingRing_1qy54_34",YJ="_rotate_1qy54_1",GJ="_ringSegment_1qy54_41",QJ="_logoContainer_1qy54_81",XJ="_pulse_1qy54_1",KJ="_logo_1qy54_81",ZJ="_logoFloat_1qy54_1",JJ="_logoGlow_1qy54_122",eee="_glowPulse_1qy54_1",tee="_fullscreen_1qy54_211",nee="_center_1qy54_227",see="_inline_1qy54_235",cl={loaderContainer:qJ,loaderWrapper:UJ,"loader-small":"_loader-small_1qy54_18","loader-medium":"_loader-medium_1qy54_23","loader-large":"_loader-large_1qy54_28",rotatingRing:WJ,rotate:YJ,ringSegment:GJ,logoContainer:QJ,pulse:XJ,logo:KJ,logoFloat:ZJ,"light-theme":"_light-theme_1qy54_102","dark-theme":"_dark-theme_1qy54_106",logoGlow:JJ,glowPulse:eee,fullscreen:tee,center:nee,inline:see},Wn=({size:e="medium",className:t=""})=>{const n=cl[`loader-${e}`];return s.jsx("div",{className:`${cl.loaderContainer} ${t}`,children:s.jsxs("div",{className:`${cl.loaderWrapper} ${n}`,children:[s.jsxs("div",{className:cl.rotatingRing,children:[s.jsx("div",{className:cl.ringSegment}),s.jsx("div",{className:cl.ringSegment}),s.jsx("div",{className:cl.ringSegment})]}),s.jsxs("div",{className:cl.logoContainer,children:[s.jsx("img",{src:wg,alt:"Loading",className:cl.logo}),s.jsx("div",{className:cl.logoGlow})]})]})})},nO=({text:e,as:t="div",typingSpeed:n=50,initialDelay:a=0,pauseDuration:r=2e3,deletingSpeed:i=30,loop:o=!0,className:c="",showCursor:l=!0,hideCursorWhileTyping:d=!1,cursorCharacter:f="|",cursorClassName:g="",cursorBlinkDuration:b=.5,textColors:w=[],variableSpeed:S,onSentenceComplete:j,startOnVisible:N=!1,reverseMode:I=!1,...M})=>{var Z;const[B,P]=v.useState(""),[O,R]=v.useState(0),[$,U]=v.useState(!1),[F,H]=v.useState(0),[ne,X]=v.useState(!N),te=v.useRef(null),se=v.useRef(null),V=v.useMemo(()=>Array.isArray(e)?e:[e],[e]),q=v.useCallback(()=>{if(!S)return n;const{min:A,max:Y}=S;return Math.random()*(Y-A)+A},[S,n]),T=()=>{if(w.length!==0)return w[F%w.length]};v.useEffect(()=>{if(!N||!se.current)return;const A=new IntersectionObserver(Y=>{Y.forEach(K=>{K.isIntersecting&&X(!0)})},{threshold:.1});return A.observe(se.current),()=>A.disconnect()},[N]),v.useEffect(()=>{if(!ne)return;let A;const Y=V[F],K=I?Y.split("").reverse().join(""):Y,G=()=>{if($)if(B===""){if(U(!1),F===V.length-1&&!o)return;j&&j(V[F],F),H(oe=>(oe+1)%V.length),R(0),A=setTimeout(()=>{},r)}else A=setTimeout(()=>{P(oe=>oe.slice(0,-1))},i);else if(O<K.length)A=setTimeout(()=>{P(oe=>oe+K[O]),R(oe=>oe+1)},S?q():n);else if(V.length>=1){if(!o&&F===V.length-1)return;A=setTimeout(()=>{U(!0)},r)}};return O===0&&!$&&B===""?A=setTimeout(G,a):G(),()=>clearTimeout(A)},[O,B,$,n,i,r,V,F,o,a,ne,I,S,j]);const J=d&&(O<((Z=V[F])==null?void 0:Z.length)||$);return v.createElement(t,{ref:se,className:`text-type ${c}`,...M},s.jsx("span",{className:"text-type__content",style:{color:T()||"inherit"},children:B}),l&&s.jsx("span",{ref:te,className:`text-type__cursor ${g} ${J?"text-type__cursor--hidden":""}`,children:f}))},aee="_logoloop_vs9a3_1",ree="_vertical_vs9a3_9",iee="_scaleHover_vs9a3_14",oee="_track_vs9a3_25",cee="_trackVertical_vs9a3_34",lee="_listVertical_vs9a3_40",uee="_itemVertical_vs9a3_44",dee="_list_vs9a3_40",hee="_item_vs9a3_44",fee="_node_vs9a3_91",mee="_link_vs9a3_139",pee="_fade_vs9a3_156",fc={logoloop:aee,vertical:ree,scaleHover:iee,track:oee,trackVertical:cee,listVertical:lee,itemVertical:uee,list:dee,item:hee,node:fee,link:mee,fade:pee},zf={SMOOTH_TAU:.25,MIN_COPIES:2,COPY_HEADROOM:2},Kw=e=>typeof e=="number"?`${e}px`:e??void 0,gee=(e,t,n)=>{v.useEffect(()=>{if(!window.ResizeObserver){const r=()=>e();return window.addEventListener("resize",r),e(),()=>window.removeEventListener("resize",r)}const a=t.map(r=>{if(!r.current)return null;const i=new ResizeObserver(e);return i.observe(r.current),i});return e(),()=>{a.forEach(r=>r==null?void 0:r.disconnect())}},[e,t,n])},_ee=(e,t,n)=>{v.useEffect(()=>{var o;const a=((o=e.current)==null?void 0:o.querySelectorAll("img"))??[];if(a.length===0){t();return}let r=a.length;const i=()=>{r-=1,r===0&&t()};return a.forEach(c=>{const l=c;l.complete?i():(l.addEventListener("load",i,{once:!0}),l.addEventListener("error",i,{once:!0}))}),()=>{a.forEach(c=>{c.removeEventListener("load",i),c.removeEventListener("error",i)})}},[t,e,n])},vee=(e,t,n,a,r,i,o)=>{const c=v.useRef(null),l=v.useRef(null),d=v.useRef(0),f=v.useRef(0);v.useEffect(()=>{const g=e.current;if(!g)return;const b=o?a:n;if(b>0){d.current=(d.current%b+b)%b;const S=o?`translate3d(0, ${-d.current}px, 0)`:`translate3d(${-d.current}px, 0, 0)`;g.style.transform=S}const w=S=>{l.current===null&&(l.current=S);const j=Math.max(0,S-l.current)/1e3;l.current=S;const N=r&&i!==void 0?i:t,I=1-Math.exp(-j/zf.SMOOTH_TAU);if(f.current+=(N-f.current)*I,b>0){let M=d.current+f.current*j;M=(M%b+b)%b,d.current=M;const B=o?`translate3d(0, ${-d.current}px, 0)`:`translate3d(${-d.current}px, 0, 0)`;g.style.transform=B}c.current=requestAnimationFrame(w)};return c.current=requestAnimationFrame(w),()=>{c.current!==null&&(cancelAnimationFrame(c.current),c.current=null),l.current=null}},[t,n,a,r,i,o,e])},D3=v.memo(({logos:e,speed:t=120,direction:n="left",width:a="100%",logoHeight:r=28,logoWidth:i,gap:o=32,pauseOnHover:c,hoverSpeed:l,fadeOut:d=!1,fadeOutColor:f,scaleOnHover:g=!1,renderItem:b,ariaLabel:w="Partner logos",className:S,style:j})=>{const N=v.useRef(null),I=v.useRef(null),M=v.useRef(null),[B,P]=v.useState(0),[O,R]=v.useState(0),[$,U]=v.useState(zf.MIN_COPIES),[F,H]=v.useState(!1),ne=v.useMemo(()=>{if(l!==void 0)return l;if(c===!0)return 0;if(c!==!1)return 0},[l,c]),X=n==="up"||n==="down",te=v.useMemo(()=>{const ee=Math.abs(t);let ae;X?ae=n==="up"?1:-1:ae=n==="left"?1:-1;const ie=t<0?-1:1;return ee*ae*ie},[t,n,X]),se=v.useCallback(()=>{var he,ge,ye,je,Ie,me;const ee=((he=N.current)==null?void 0:he.clientWidth)??0,ae=(ye=(ge=M.current)==null?void 0:ge.getBoundingClientRect)==null?void 0:ye.call(ge),ie=(ae==null?void 0:ae.width)??0,ue=(ae==null?void 0:ae.height)??0;if(X){const de=((Ie=(je=N.current)==null?void 0:je.parentElement)==null?void 0:Ie.clientHeight)??0;if(N.current&&de>0){const fe=Math.ceil(de);N.current.style.height!==`${fe}px`&&(N.current.style.height=`${fe}px`)}if(ue>0){R(Math.ceil(ue));const fe=((me=N.current)==null?void 0:me.clientHeight)??de??ue,re=Math.ceil(fe/ue)+zf.COPY_HEADROOM;U(Math.max(zf.MIN_COPIES,re))}}else if(ie>0){P(Math.ceil(ie));const de=Math.ceil(ee/ie)+zf.COPY_HEADROOM;U(Math.max(zf.MIN_COPIES,de))}},[X]);gee(se,[N,M],[e,o,r,X]),_ee(M,se,[e,o,r,X]),vee(I,te,B,O,F,ne,X);const V=v.useMemo(()=>({"--logoloop-gap":`${o}px`,"--logoloop-logoHeight":`${r}px`,...i&&{"--logoloop-logoWidth":`${i}px`},...f&&{"--logoloop-fadeColor":f}}),[o,r,i,f]),q=v.useMemo(()=>[fc.logoloop,X&&fc.vertical,d&&fc.fade,g&&fc.scaleHover,S].filter(Boolean).join(" "),[X,d,g,S]),T=v.useMemo(()=>[fc.track,X&&fc.trackVertical].filter(Boolean).join(" "),[X]),J=v.useMemo(()=>[fc.list,X&&fc.listVertical].filter(Boolean).join(" "),[X]),Z=v.useMemo(()=>[fc.item,X&&fc.itemVertical].filter(Boolean).join(" "),[X]),A=v.useCallback(()=>{ne!==void 0&&H(!0)},[ne]),Y=v.useCallback(()=>{ne!==void 0&&H(!1)},[ne]),K=v.useCallback((ee,ae)=>{if(b)return s.jsx("li",{className:Z,role:"listitem",children:b(ee,ae)},ae);const ie="node"in ee,ue=ie?s.jsx("span",{className:fc.node,"aria-hidden":!!ee.href&&!ee.ariaLabel,children:ee.node}):s.jsx("img",{src:ee.src,srcSet:ee.srcSet,sizes:ee.sizes,width:ee.width,height:ee.height,alt:ee.alt??"",title:ee.title,loading:"lazy",decoding:"async",draggable:!1}),he=ie?ee.ariaLabel??ee.title:ee.alt??ee.title,ge=ee.href?s.jsx("a",{className:fc.link,href:ee.href,"aria-label":he||"logo link",target:"_blank",rel:"noreferrer noopener",children:ue}):ue;return s.jsx("li",{className:Z,role:"listitem",children:ge},ae)},[b,Z]),G=v.useMemo(()=>Array.from({length:$},(ee,ae)=>s.jsx("ul",{className:J,role:"list","aria-hidden":ae>0,ref:ae===0?M:void 0,children:e.map((ie,ue)=>K(ie,`${ae}-${ue}`))},`copy-${ae}`)),[$,e,K,J]),oe=v.useMemo(()=>({width:X?Kw(a)==="100%"?void 0:Kw(a):Kw(a)??"100%",...V,...j}),[a,V,j,X]);return s.jsx("div",{ref:N,className:q,style:oe,role:"region","aria-label":w,children:s.jsx("div",{className:T,ref:I,onMouseEnter:A,onMouseLeave:Y,children:G})})});D3.displayName="LogoLoop";const xee="_mainPage_88tk2_3",bee="_mainPageContainer_88tk2_19",yee="_heroSection_88tk2_37",wee="_heroContent_88tk2_59",Cee="_fadeInUp_88tk2_1",See="_heroTitle_88tk2_75",jee="_heroTitleMain_88tk2_83",Nee="_heroTitleSub_88tk2_127",Eee="_heroDescription_88tk2_143",kee="_searchBar_88tk2_165",Iee="_advertisementLogosSection_88tk2_273",Dee="_servicesSection_88tk2_293",Tee="_servicesCarouselWrapper_88tk2_303",Aee="_servicesCarouselContainer_88tk2_319",Mee="_servicesCarousel_88tk2_303",Ree="_servicesPage_88tk2_343",Oee="_serviceCard_88tk2_361",Bee="_serviceCardBackground_88tk2_391",Lee="_serviceIcon_88tk2_399",$ee="_marketplaceGradient_88tk2_431",Pee="_restaurantsGradient_88tk2_439",Fee="_businessGradient_88tk2_447",Hee="_trcGradient_88tk2_455",zee="_businessSolutionsGradient_88tk2_463",Vee="_itemRouteGradient_88tk2_471",qee="_serviceCardContent_88tk2_479",Uee="_serviceTitle_88tk2_593",Wee="_serviceDescription_88tk2_607",Yee="_serviceLink_88tk2_633",Gee="_serviceLinkComingSoon_88tk2_669",Qee="_serviceCardOverlay_88tk2_683",Xee="_carouselIndicators_88tk2_709",Kee="_carouselIndicator_88tk2_709",Zee="_carouselIndicatorActive_88tk2_751",Jee="_carouselNav_88tk2_763",ete="_marketplaceSection_88tk2_821",tte="_sectionHeader_88tk2_831",nte="_sectionHeaderContent_88tk2_849",ste="_sectionTitle_88tk2_857",ate="_sectionTitleIcon_88tk2_877",rte="_sectionSubtitle_88tk2_901",ite="_sectionViewAll_88tk2_915",ote="_productsGrid_88tk2_957",cte="_loaderContainer_88tk2_969",lte="_errorMessage_88tk2_983",ute="_noProducts_88tk2_1029",dte="_pulse_88tk2_1",Zs={mainPage:xee,mainPageContainer:bee,heroSection:yee,heroContent:wee,fadeInUp:Cee,heroTitle:See,heroTitleMain:jee,heroTitleSub:Nee,heroDescription:Eee,searchBar:kee,advertisementLogosSection:Iee,servicesSection:Dee,servicesCarouselWrapper:Tee,servicesCarouselContainer:Aee,servicesCarousel:Mee,servicesPage:Ree,serviceCard:Oee,serviceCardBackground:Bee,serviceIcon:Lee,marketplaceGradient:$ee,restaurantsGradient:Pee,businessGradient:Fee,trcGradient:Hee,businessSolutionsGradient:zee,itemRouteGradient:Vee,serviceCardContent:qee,serviceTitle:Uee,serviceDescription:Wee,serviceLink:Yee,serviceLinkComingSoon:Gee,serviceCardOverlay:Qee,carouselIndicators:Xee,carouselIndicator:Kee,carouselIndicatorActive:Zee,carouselNav:Jee,marketplaceSection:ete,sectionHeader:tte,sectionHeaderContent:nte,sectionTitle:ste,sectionTitleIcon:ate,sectionSubtitle:rte,sectionViewAll:ite,productsGrid:ote,loaderContainer:cte,errorMessage:lte,noProducts:ute,pulse:dte};function hte(){const e=oi(),[t,n]=v.useState([]),[a,r]=v.useState(!0),[i,o]=v.useState(null),[c,l]=v.useState(""),[d,f]=v.useState(0),g=v.useRef(null),b=`${window.location.origin}${e.pathname}`,w=[{id:1,icon:"fa-shopping-bag",title:"",description:"  ",link:"/business-categories",gradient:"marketplaceGradient",available:!0},{id:2,icon:"fa-utensils",title:"",description:"     ",gradient:"restaurantsGradient",available:!1},{id:3,icon:"fa-store",title:" ",description:"    ",gradient:"businessGradient",available:!1},{id:4,icon:"fa-building",title:"",description:"-    ",gradient:"trcGradient",available:!1},{id:5,icon:"fa-briefcase",title:" ",description:"      ",gradient:"businessSolutionsGradient",available:!1},{id:6,icon:"fa-route",title:"Item Route",description:"     ",gradient:"itemRouteGradient",available:!1}];v.useEffect(()=>{(async()=>{try{r(!0);const O=await Re.get("marketplace/api/products/?page_size=8&sort=-created_at");n(O.data.products||[])}catch(O){console.error("  :",O),o(O.message||"    ")}finally{r(!1)}})()},[]);const S=P=>{P.preventDefault(),c.trim()&&(window.location.href=`/business-categories?search=${encodeURIComponent(c)}`)},j=3,N=Math.ceil(w.length/j),I=()=>{f(P=>(P+1)%N)},M=()=>{f(P=>(P-1+N)%N)},B=P=>{f(P)};return s.jsxs("div",{className:Zs.mainPage,children:[s.jsxs(Nx,{children:[s.jsx("title",{children:"Axione -    : ,   "}),s.jsx("meta",{name:"description",content:"    ,   -    . ,   ."}),s.jsx("meta",{name:"keywords",content:", , , , , ,  "}),s.jsx("meta",{name:"author",content:"Axione"}),s.jsx("meta",{property:"og:title",content:"Axione -    "}),s.jsx("meta",{property:"og:description",content:"    ,   -    ."}),s.jsx("meta",{property:"og:type",content:"website"}),s.jsx("meta",{property:"og:url",content:b}),s.jsx("meta",{name:"twitter:card",content:"summary_large_image"}),s.jsx("meta",{name:"twitter:title",content:"Axione -    "}),s.jsx("meta",{name:"twitter:description",content:"    ,   -    ."}),s.jsx("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0"}),s.jsx("meta",{name:"robots",content:"index, follow"}),s.jsx("link",{rel:"canonical",href:b})]}),s.jsx("section",{className:Zs.heroSection,children:s.jsx("div",{className:Zs.mainPageContainer,children:s.jsxs("div",{className:Zs.heroContent,children:[s.jsxs("h1",{className:Zs.heroTitle,children:[s.jsx("span",{className:Zs.heroTitleMain,children:s.jsx(nO,{text:"   ",as:"span",typingSpeed:100,initialDelay:500,pauseDuration:9e3,showCursor:!0,cursorCharacter:"_",cursorBlinkDuration:.8,loop:!0})}),s.jsx("span",{className:Zs.heroTitleSub,children:",   "})]}),s.jsx("p",{className:Zs.heroDescription,children:"    ,   -    . ,   ."}),s.jsxs("form",{className:Zs.searchBar,onSubmit:S,children:[s.jsx("input",{type:"text",placeholder:" , , ...",value:c,onChange:P=>l(P.target.value)}),s.jsxs("button",{type:"submit",children:[s.jsx("i",{className:"fas fa-search"})," "]})]})]})})}),s.jsx("section",{className:Zs.advertisementLogosSection,children:s.jsx(D3,{logos:[{src:"https://placehold.co/250x400/",alt:"Advertisement 1",href:"#"},{src:"https://placehold.co/250x400/",alt:"Advertisement 2",href:"#"},{src:"https://placehold.co/250x400/",alt:"Advertisement 3",href:"#"},{src:"https://placehold.co/250x400/",alt:"Advertisement 4",href:"#"},{src:"https://placehold.co/250x400/",alt:"Advertisement 5",href:"#"},{src:"https://placehold.co/250x400/",alt:"Advertisement 6",href:"#"}],speed:80,direction:"left",logoHeight:250,logoWidth:400,gap:24,pauseOnHover:!0,fadeOut:!1,scaleOnHover:!0,ariaLabel:" "})}),s.jsx("section",{className:Zs.servicesSection,children:s.jsxs("div",{className:Zs.mainPageContainer,children:[s.jsxs("div",{className:Zs.servicesCarouselWrapper,children:[s.jsx("button",{className:`${Zs.carouselNav} ${Zs.carouselPrev}`,onClick:M,"aria-label":" ",disabled:N<=1,children:s.jsx("i",{className:"fas fa-chevron-left"})}),s.jsx("div",{className:Zs.servicesCarouselContainer,children:s.jsx("div",{className:Zs.servicesCarousel,ref:g,style:{transform:`translateX(-${d*100}%)`},children:Array.from({length:N}).map((P,O)=>s.jsx("div",{className:Zs.servicesPage,children:w.slice(O*j,(O+1)*j).map(R=>s.jsxs("div",{className:`${Zs.serviceCard} ${Zs[R.gradient]}`,children:[s.jsx("div",{className:Zs.serviceCardBackground}),s.jsxs("div",{className:Zs.serviceCardContent,children:[s.jsx("div",{className:Zs.serviceIcon,children:s.jsx("i",{className:`fas ${R.icon}`})}),s.jsx("h3",{className:Zs.serviceTitle,children:R.title}),s.jsx("p",{className:Zs.serviceDescription,children:R.description}),R.available?s.jsxs(Ea,{to:R.link,className:Zs.serviceLink,children:["",s.jsx("i",{className:"fas fa-arrow-right"})]}):s.jsxs("div",{className:`${Zs.serviceLink} ${Zs.serviceLinkComingSoon}`,children:["",s.jsx("i",{className:"fas fa-clock"})]})]}),s.jsx("div",{className:Zs.serviceCardOverlay})]},R.id))},O))})}),s.jsx("button",{className:`${Zs.carouselNav} ${Zs.carouselNext}`,onClick:I,"aria-label":" ",disabled:N<=1,children:s.jsx("i",{className:"fas fa-chevron-right"})})]}),N>1&&s.jsx("div",{className:Zs.carouselIndicators,children:Array.from({length:N}).map((P,O)=>s.jsx("button",{className:`${Zs.carouselIndicator} ${O===d?Zs.carouselIndicatorActive:""}`,onClick:()=>B(O),"aria-label":`   ${O+1}`},O))})]})}),s.jsx("section",{className:Zs.marketplaceSection,children:s.jsxs("div",{className:Zs.mainPageContainer,children:[s.jsx("div",{className:Zs.sectionHeader,children:s.jsxs("div",{className:Zs.sectionHeaderContent,children:[s.jsxs("h2",{className:Zs.sectionTitle,children:[s.jsx("span",{className:Zs.sectionTitleIcon,children:s.jsx("i",{className:"fas fa-shopping-bag"})}),"  "]}),s.jsx("p",{className:Zs.sectionSubtitle,children:",   ,    "})]})}),a&&t.length===0?s.jsx("div",{className:Zs.loaderContainer,children:s.jsx(Wn,{})}):i?s.jsxs("div",{className:Zs.errorMessage,children:[s.jsx("i",{className:"fas fa-exclamation-circle"}),s.jsx("p",{children:i})]}):t.length>0?s.jsx("div",{className:Zs.productsGrid,children:t.map(P=>s.jsx(Pb,{product:P},P.id))}):s.jsxs("div",{className:Zs.noProducts,children:[s.jsx("i",{className:"fas fa-box-open"}),s.jsx("p",{children:"   "})]})]})})]})}const fte="_mainPage_1us1n_3",mte="_heroSection_1us1n_17",pte="_heroContent_1us1n_29",gte="_fadeInUp_1us1n_1",_te="_heroTitle_1us1n_38",vte="_heroTitleMain_1us1n_42",xte="_heroTitleSub_1us1n_64",bte="_heroDescription_1us1n_72",yte="_searchBar_1us1n_84",wte="_advertisementLogosSection_1us1n_150",Cte="_servicesSection_1us1n_160",Ste="_servicesCarouselWrapper_1us1n_166",jte="_navBtn_1us1n_173",Nte="_navBtnLeft_1us1n_177",Ete="_navBtnRight_1us1n_178",kte="_servicesScroll_1us1n_182",Ite="_servicesGrid_1us1n_212",Dte="_serviceCard_1us1n_219",Tte="_serviceCardBackground_1us1n_247",Ate="_serviceIcon_1us1n_251",Mte="_marketplaceGradient_1us1n_267",Rte="_restaurantsGradient_1us1n_271",Ote="_businessGradient_1us1n_275",Bte="_trcGradient_1us1n_279",Lte="_businessSolutionsGradient_1us1n_283",$te="_itemRouteGradient_1us1n_287",Pte="_serviceCardContent_1us1n_291",Fte="_serviceTitle_1us1n_349",Hte="_serviceDescription_1us1n_357",zte="_serviceLink_1us1n_370",Vte="_serviceLinkComingSoon_1us1n_386",qte="_serviceCardOverlay_1us1n_395",Ute="_marketplaceSection_1us1n_409",Wte="_sectionHeader_1us1n_415",Yte="_sectionHeaderContent_1us1n_422",Gte="_sectionTitle_1us1n_426",Qte="_sectionTitleIcon_1us1n_436",Xte="_sectionSubtitle_1us1n_449",Kte="_sectionViewAll_1us1n_456",Zte="_productsGrid_1us1n_481",Jte="_loaderContainer_1us1n_489",ene="_errorMessage_1us1n_496",tne="_noProducts_1us1n_519",ha={mainPage:fte,heroSection:mte,heroContent:pte,fadeInUp:gte,heroTitle:_te,heroTitleMain:vte,heroTitleSub:xte,heroDescription:bte,searchBar:yte,advertisementLogosSection:wte,servicesSection:Cte,servicesCarouselWrapper:Ste,navBtn:jte,navBtnLeft:Nte,navBtnRight:Ete,servicesScroll:kte,servicesGrid:Ite,serviceCard:Dte,serviceCardBackground:Tte,serviceIcon:Ate,marketplaceGradient:Mte,restaurantsGradient:Rte,businessGradient:Ote,trcGradient:Bte,businessSolutionsGradient:Lte,itemRouteGradient:$te,serviceCardContent:Pte,serviceTitle:Fte,serviceDescription:Hte,serviceLink:zte,serviceLinkComingSoon:Vte,serviceCardOverlay:qte,marketplaceSection:Ute,sectionHeader:Wte,sectionHeaderContent:Yte,sectionTitle:Gte,sectionTitleIcon:Qte,sectionSubtitle:Xte,sectionViewAll:Kte,productsGrid:Zte,loaderContainer:Jte,errorMessage:ene,noProducts:tne};function nne(){const e=oi();Rs();const[t,n]=v.useState([]),[a,r]=v.useState(!0),[i,o]=v.useState(null),[c,l]=v.useState(""),d=v.useRef(null),f=`${window.location.origin}${e.pathname}`,g=[{id:1,icon:"fa-shopping-bag",title:"",description:"  ",link:"/business-categories",gradient:"marketplaceGradient",available:!0},{id:2,icon:"fa-utensils",title:"",description:"     ",gradient:"restaurantsGradient",available:!1},{id:3,icon:"fa-store",title:" ",description:"    ",gradient:"businessGradient",available:!1},{id:4,icon:"fa-building",title:"",description:"-    ",gradient:"trcGradient",available:!1},{id:5,icon:"fa-briefcase",title:" ",description:"      ",gradient:"businessSolutionsGradient",available:!1},{id:6,icon:"fa-route",title:"Item Route",description:"     ",gradient:"itemRouteGradient",available:!1}];v.useEffect(()=>{(async()=>{try{r(!0);const j=await Re.get("marketplace/api/products/?page_size=6&sort=-created_at");n(j.data.products||[])}catch(j){console.error("  :",j),o(j.message||"    ")}finally{r(!1)}})()},[]);const b=S=>{S.preventDefault(),c.trim()&&(window.location.href=`/business-categories?search=${encodeURIComponent(c)}`)},w=S=>{d.current&&d.current.scrollBy({left:S==="next"?300:-300,behavior:"smooth"})};return s.jsxs("div",{className:ha.mainPage,children:[s.jsxs(Nx,{children:[s.jsx("title",{children:"Axione -    : ,   "}),s.jsx("meta",{name:"description",content:"    ,   -    . ,   ."}),s.jsx("meta",{name:"keywords",content:", , , , , ,  "}),s.jsx("meta",{name:"author",content:"Axione"}),s.jsx("meta",{property:"og:title",content:"Axione -    "}),s.jsx("meta",{property:"og:description",content:"    ,   -    ."}),s.jsx("meta",{property:"og:type",content:"website"}),s.jsx("meta",{property:"og:url",content:f}),s.jsx("meta",{name:"twitter:card",content:"summary_large_image"}),s.jsx("meta",{name:"twitter:title",content:"Axione -    "}),s.jsx("meta",{name:"twitter:description",content:"    ,   -    ."}),s.jsx("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0"}),s.jsx("meta",{name:"robots",content:"index, follow"}),s.jsx("link",{rel:"canonical",href:f})]}),s.jsx("section",{className:ha.heroSection,children:s.jsxs("div",{className:ha.heroContent,children:[s.jsxs("h1",{className:ha.heroTitle,children:[s.jsx("span",{className:ha.heroTitleMain,children:s.jsx(nO,{text:"   ",as:"span",typingSpeed:100,initialDelay:500,pauseDuration:9e3,showCursor:!0,cursorCharacter:"_",cursorBlinkDuration:.8,loop:!0})}),s.jsx("span",{className:ha.heroTitleSub,children:",   "})]}),s.jsx("p",{className:ha.heroDescription,children:"    ,   -    . ,   ."}),s.jsxs("form",{className:ha.searchBar,onSubmit:b,children:[s.jsx("input",{type:"text",placeholder:" , ...",value:c,onChange:S=>l(S.target.value)}),s.jsx("button",{type:"submit",children:s.jsx(ri,{})})]})]})}),s.jsx("section",{className:ha.advertisementLogosSection,children:s.jsx(D3,{logos:[{src:"https://placehold.co/250x400/",alt:"Advertisement 1",href:"#"},{src:"https://placehold.co/250x400/",alt:"Advertisement 2",href:"#"},{src:"https://placehold.co/250x400/",alt:"Advertisement 3",href:"#"},{src:"https://placehold.co/250x400/",alt:"Advertisement 4",href:"#"},{src:"https://placehold.co/250x400/",alt:"Advertisement 5",href:"#"},{src:"https://placehold.co/250x400/",alt:"Advertisement 6",href:"#"}],speed:80,direction:"left",logoHeight:200,logoWidth:300,gap:16,pauseOnHover:!0,fadeOut:!1,scaleOnHover:!0,ariaLabel:" "})}),s.jsxs("section",{className:ha.servicesSection,children:[s.jsx("div",{className:ha.sectionHeader,children:s.jsxs("h2",{className:ha.sectionTitle,children:[s.jsx("span",{className:ha.sectionTitleIcon,children:s.jsx("i",{className:"fas fa-store"})})," "]})}),s.jsxs("div",{className:ha.servicesCarouselWrapper,children:[s.jsx("button",{className:`${ha.navBtn} ${ha.navBtnLeft}`,onClick:()=>w("prev"),"aria-label":" ",children:s.jsx(jl,{})}),s.jsx("div",{className:ha.servicesScroll,ref:d,children:s.jsx("div",{className:ha.servicesGrid,children:g.map(S=>s.jsxs(Ea,{to:S.available?S.link:"#",className:`${ha.serviceCard} ${ha[S.gradient]}`,onClick:j=>{S.available||j.preventDefault()},children:[s.jsx("div",{className:ha.serviceCardBackground}),s.jsxs("div",{className:ha.serviceCardContent,children:[s.jsx("div",{className:ha.serviceIcon,children:s.jsx("i",{className:`fas ${S.icon}`})}),s.jsx("h3",{className:ha.serviceTitle,children:S.title}),s.jsx("p",{className:ha.serviceDescription,children:S.description}),S.available?s.jsxs("div",{className:ha.serviceLink,children:["",s.jsx("i",{className:"fas fa-arrow-right"})]}):s.jsxs("div",{className:`${ha.serviceLink} ${ha.serviceLinkComingSoon}`,children:["",s.jsx("i",{className:"fas fa-clock"})]})]}),s.jsx("div",{className:ha.serviceCardOverlay})]},S.id))})}),s.jsx("button",{className:`${ha.navBtn} ${ha.navBtnRight}`,onClick:()=>w("next"),"aria-label":" ",children:s.jsx(Nl,{})})]})]}),s.jsxs("section",{className:ha.marketplaceSection,children:[s.jsx("div",{className:ha.sectionHeader,children:s.jsxs("div",{className:ha.sectionHeaderContent,children:[s.jsxs("h2",{className:ha.sectionTitle,children:[s.jsx("span",{className:ha.sectionTitleIcon,children:s.jsx("i",{className:"fas fa-shopping-bag"})}),"  "]}),s.jsx("p",{className:ha.sectionSubtitle,children:",   ,    "})]})}),a&&t.length===0?s.jsx("div",{className:ha.loaderContainer,children:s.jsx(Wn,{})}):i?s.jsxs("div",{className:ha.errorMessage,children:[s.jsx("i",{className:"fas fa-exclamation-circle"}),s.jsx("p",{children:i})]}):t.length>0?s.jsx("div",{className:ha.productsGrid,children:t.map(S=>s.jsx(Pb,{product:S},S.id))}):s.jsxs("div",{className:ha.noProducts,children:[s.jsx("i",{className:"fas fa-box-open"}),s.jsx("p",{children:"   "})]})]})]})}function sne(){const e=[{title:"Item 1",description:"Description for item 1"},{title:"Item 2",description:"Description for item 2"},{title:"Item 3",description:"Description for item 3"},{title:"Item 4",description:"Description for item 4"},{title:"Item 5",description:"Description for item 5"}];return s.jsxs("div",{className:"marketplace-container",children:[s.jsx("h1",{children:"Marketplace Page"}),s.jsx("ul",{className:"marketplace-list",children:e.map((t,n)=>s.jsxs("li",{className:"marketplace-item",children:[s.jsx("h3",{className:"marketplace-item-title",children:t.title}),s.jsx("p",{className:"marketplace-item-description",children:t.description})]},n))})]})}const ane=()=>{const[e,t]=v.useState([]),[n,a]=v.useState(!0);v.useEffect(()=>{(async()=>{try{const o=await Re.get("api/business-categories/");t(o.data)}catch(o){console.error("  :",o)}finally{a(!1)}})()},[]);const r=i=>{switch(i){case"":return"";case"":return"";case"":return"";default:return""}};return n?s.jsx("div",{className:"business-container",children:s.jsxs("div",{className:"loading-container",children:[s.jsx("div",{className:"loading-spinner"}),s.jsx("p",{className:"loading-text",children:" ..."})]})}):s.jsxs("div",{className:"business-container",children:[s.jsx("div",{className:"business-header",children:s.jsxs("h1",{className:"business-title",children:[s.jsx("span",{className:"title-icon",children:""}),s.jsx("span",{children:" "})]})}),s.jsx("div",{className:"business-grid",children:e.map((i,o)=>s.jsxs(Ea,{to:`/${i.url}`,className:"business-card",style:{animationDelay:`${o*.1}s`},children:[s.jsx("div",{className:"card-gradient"}),s.jsxs("div",{className:"card-content",children:[s.jsxs("div",{className:"card-emoji-wrapper",children:[s.jsx("div",{className:"card-emoji",children:r(i.name)}),s.jsx("div",{className:"emoji-glow"})]}),s.jsx("h2",{className:"card-name",children:i.name}),s.jsx("p",{className:"card-description",children:i.description})]}),s.jsxs("div",{className:"explore-button",children:[s.jsx("span",{children:""}),s.jsx("i",{className:"fas fa-arrow-right"})]})]},i.id))})]})},rne=()=>{const{getBackgroundImageUrl:e}=Ur(),[t,n]=v.useState([]),[a,r]=v.useState(!0);return v.useEffect(()=>{(async()=>{try{const o=await Re.get("marketplace/api/categories/");n(o.data)}catch(o){console.error("  :",o)}finally{r(!1)}})()},[]),a?s.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh"},children:s.jsx(Wn,{size:"large"})}):s.jsx("div",{className:"marketplace-container",children:s.jsx("div",{className:"categories-grid",children:t.map(i=>s.jsxs(Ea,{to:`/marketplace/categories/${i.id}`,className:"category-card",style:{backgroundImage:i.big_image?e(i.big_image):"none"},children:[s.jsx("div",{className:"image-overlay"}),s.jsx("div",{className:"category-name",children:i.name})]},i.id))})})},ine=()=>{const{pk:e}=fa(),t=Rs(),{getBackgroundImageUrl:n}=Ur(),[a,r]=v.useState(null),[i,o]=v.useState([]),[c,l]=v.useState(!0),[d,f]=v.useState(null);return v.useEffect(()=>{(async()=>{try{const b=await Re.get(`marketplace/api/categories/${e}/`);if(b.data.should_redirect){t(b.data.redirect_to);return}if(b.data&&b.data.category)r(b.data.category),o(b.data.children||[]);else throw new Error("    ")}catch(b){console.error(" :",b),f(b.message),t("/business-categories",{replace:!0})}finally{l(!1)}})()},[e,t]),c?s.jsxs("div",{className:"loading-spinner",children:[s.jsx("div",{className:"spinner"}),s.jsx("p",{children:" ..."})]}):d?s.jsxs("div",{className:"error-message",children:[s.jsxs("p",{children:[" : ",d]}),s.jsx("button",{onClick:()=>t("/business-categories"),children:"  "})]}):a?parseInt(e,10)===25&&i.length===2?s.jsxs("div",{className:"special-category-container-wrapper",children:[s.jsxs("div",{className:"special-category-header",style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[s.jsx("h1",{children:a.name}),s.jsx("button",{onClick:()=>t(-1),className:"back-button",style:{background:"transparent",border:"1px solid #ccc",borderRadius:"6px",padding:"0.5rem 1rem",cursor:"pointer"},children:" "})]}),s.jsx("div",{className:"special-category-container",children:i.map(g=>s.jsxs("div",{className:"category-card",onClick:()=>t(`/marketplace/categories/${g.id}`),style:{backgroundImage:g.big_image?n(g.big_image):"none"},children:[s.jsx("div",{className:"image-overlay"}),s.jsx("div",{className:"label",children:g.name})]},g.id))})]}):s.jsxs("div",{className:"marketplace-container",children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem"},children:[s.jsx("h1",{children:a.name}),s.jsx("button",{onClick:()=>t(-1),className:"back-button",style:{background:"transparent",border:"1px solid #ccc",borderRadius:"6px",padding:"0.5rem 1rem",cursor:"pointer"},children:" "})]}),i.length>0?s.jsx("div",{className:"categories-grid",children:i.map(g=>s.jsxs("div",{onClick:()=>t(`/marketplace/categories/${g.id}`),className:"category-card",style:{backgroundImage:g.big_image?n(g.big_image):"none"},children:[s.jsx("div",{className:"image-overlay"}),s.jsx("div",{className:"category-name",children:g.name})]},g.id))}):s.jsx("p",{children:" "})]}):s.jsxs("div",{className:"not-found",children:[s.jsx("p",{children:"  "}),s.jsx("button",{onClick:()=>t("/business-categories"),children:"  "})]})},sO=({breadcrumbs:e,productName:t})=>{const n=Rs();return s.jsxs("nav",{className:"product-breadcrumbs",children:[s.jsx("button",{onClick:()=>n("/marketplace/categories"),children:""}),e==null?void 0:e.map((a,r)=>s.jsxs(Je.Fragment,{children:[s.jsx("span",{className:"separator",children:"/"}),s.jsx("button",{onClick:()=>n(`/marketplace/categories/${a.id}`),children:a.name})]},a.id)),t&&s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"separator",children:"/"}),s.jsx("span",{className:"current",children:t})]})]})},one="_filtersContainer_9vhpa_3",cne="_filtersLoading_9vhpa_23",lne="_loadingSpinner_9vhpa_47",une="_attributeSection_9vhpa_77",dne="_filterHeader_9vhpa_133",hne="_filterTitle_9vhpa_197",fne="_filterToggleIcon_9vhpa_219",mne="_expanded_9vhpa_255",pne="_attributeValuesContainer_9vhpa_269",gne="_attributeValues_9vhpa_269",_ne="_attributeValueButton_9vhpa_309",vne="_selected_9vhpa_385",xne="_checkmark_9vhpa_411",bne="_showMoreFilters_9vhpa_449",yne="_chevron_9vhpa_527",wne="_down_9vhpa_567",Cne="_up_9vhpa_577",Gi={filtersContainer:one,filtersLoading:cne,loadingSpinner:lne,attributeSection:une,filterHeader:dne,filterTitle:hne,filterToggleIcon:fne,expanded:mne,attributeValuesContainer:pne,attributeValues:gne,attributeValueButton:_ne,selected:vne,checkmark:xne,showMoreFilters:bne,chevron:yne,down:wne,up:Cne},Ex=({filtersLoading:e,filters:t,visibleFiltersCount:n,expandedFilters:a,toggleFilter:r,isAttributeSelected:i,handleAttributeSelect:o,setVisibleFiltersCount:c})=>s.jsx("div",{className:Gi.filtersContainer,children:e?s.jsxs("div",{className:Gi.filtersLoading,children:[s.jsx("div",{className:Gi.loadingSpinner}),s.jsx("p",{children:" ..."})]}):s.jsxs(s.Fragment,{children:[t.slice(0,n).map(l=>s.jsxs("div",{className:`${Gi.attributeSection} ${a[l.id]?Gi.expanded:""}`,children:[s.jsxs("div",{className:Gi.filterHeader,onClick:()=>r(l.id),children:[s.jsx("h4",{className:Gi.filterTitle,children:l.name}),s.jsx("div",{className:Gi.filterToggleIcon,children:s.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:s.jsx("path",{d:"M6 9L12 15L18 9",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})})]}),s.jsx("div",{className:Gi.attributeValuesContainer,children:s.jsx("div",{className:Gi.attributeValues,children:l.values.map(d=>{const f=d.id?d.id:`val_${d.value}`;return s.jsxs("button",{className:`${Gi.attributeValueButton} ${i(l.id,f)?Gi.selected:""}`,onClick:()=>o(l.id,f),children:[d.value,i(l.id,f)&&s.jsx("span",{className:Gi.checkmark,children:s.jsx("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:s.jsx("path",{d:"M20 6L9 17L4 12",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})})]},`${l.id}-${f}`)})})})]},l.id)),t.length>2&&s.jsxs("button",{className:Gi.showMoreFilters,onClick:()=>{n>=t.length?c(2):c(t.length)},children:[n>=t.length?" ":"  ",s.jsx("span",{className:`${Gi.chevron} ${n>=t.length?Gi.up:Gi.down}`})]})]})}),Sne=()=>{var oe;const{pk:e}=fa(),t=Rs(),n=oi(),[a,r]=v.useState(null),[i,o]=v.useState([]),[c,l]=v.useState(!0),[d,f]=v.useState(!0),[g,b]=v.useState(null),[w,S]=v.useState(""),[j,N]=v.useState("-id"),[I,M]=v.useState(!0),[B,P]=v.useState(""),[O,R]=v.useState(""),[$,U]=v.useState({}),[F,H]=v.useState({}),[ne,X]=v.useState(2),[te,se]=v.useState(!1);v.useEffect(()=>{const ee=new URLSearchParams(n.search);S(ee.get("search")||""),N(ee.get("sort")||"-id"),P(ee.get("price_min")||""),R(ee.get("price_max")||"");const ae={};ee.forEach((ie,ue)=>{ue.startsWith("attr_")&&(ae[ue]=ae[ue]||[],ae[ue].push(ie))}),H(ae)},[n.search]),v.useEffect(()=>{(async()=>{var ae;try{l(!0);const ie=new URLSearchParams(n.search);ie.has("sort")||ie.set("sort","-id");const ue=await Re.get(`marketplace/api/categories/${e}/products/?${ie.toString()}`);r(ue.data.oldData);const he=Array.isArray((ae=ue.data.filters)==null?void 0:ae.filters)?ue.data.filters.filters:[];o(he);const ge={};he.forEach(ye=>{ge[ye.id]=!0}),U(ge)}catch(ie){console.error(" :",ie),b(ie.message||"    ")}finally{l(!1),f(!1)}})()},[e,n.search]);const V=(ee,ae)=>{H(ie=>{const ue={...ie},he=`attr_${ee}`;ue[he]||(ue[he]=[]);const ge=ae.toString();return ue[he].indexOf(ge)===-1?ue[he]=[...ue[he],ge]:(ue[he]=ue[he].filter(je=>je!==ge),ue[he].length===0&&delete ue[he]),ue})},q=(ee,ae)=>{var ue;const ie=`attr_${ee}`;return((ue=F[ie])==null?void 0:ue.includes(ae.toString()))||!1},T=()=>{const ee=new URLSearchParams;w&&ee.set("search",w),B&&ee.set("price_min",B),O&&ee.set("price_max",O),ee.set("sort",j),ee.set("page",1),Object.entries(F).forEach(([ae,ie])=>{ie.forEach(ue=>{ee.append(ae,ue)})}),t(`?${ee.toString()}`)},J=ee=>{ee.preventDefault(),T()},Z=ee=>{const ae=new URLSearchParams(n.search);ae.set("page",ee),t(`?${ae.toString()}`),window.scrollTo(0,0)},A=ee=>{const ae=ee.target.value;N(ae);const ie=new URLSearchParams(n.search);ie.set("sort",ae),ie.set("page",1),t(`?${ie.toString()}`)},Y=ee=>{U(ae=>({...ae,[ee]:!ae[ee]}))},K=()=>{S(""),P(""),R(""),N("-id"),H({}),t(`/marketplace/categories/${e}/products/`)},G=()=>{M(!I)};return c?s.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh"},children:s.jsx(Wn,{size:"large"})}):g?s.jsxs("div",{className:"error-container",children:[s.jsx("div",{className:"error-icon",children:"!"}),s.jsx("h3",{children:" "}),s.jsx("p",{children:g}),s.jsx("button",{className:"primary-button",onClick:()=>window.location.reload(),children:" "})]}):a?!a.products||!a.category?s.jsxs("div",{className:"not-found-container",children:[s.jsx("h3",{children:"  "}),s.jsx("button",{className:"primary-button",onClick:()=>window.location.reload(),children:" "})]}):s.jsxs("div",{className:"products-page",children:[s.jsx(sO,{breadcrumbs:a==null?void 0:a.breadcrumbs}),s.jsxs("div",{className:"page-header",children:[s.jsx("h1",{children:a.category.name}),s.jsxs("div",{className:"header-actions",children:[s.jsx("button",{className:"filter-toggle",onClick:G,children:I?" ":" "}),s.jsxs("form",{onSubmit:J,className:"search-form",children:[s.jsx("input",{type:"text",value:w,onChange:ee=>S(ee.target.value),placeholder:"  ...",className:"search-input"}),s.jsx("button",{type:"submit",className:"search-button",children:s.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[s.jsx("path",{d:"M11 19C15.4183 19 19 15.4183 19 11C19 6.58172 15.4183 3 11 3C6.58172 3 3 6.58172 3 11C3 15.4183 6.58172 19 11 19Z",strokeWidth:"2"}),s.jsx("path",{d:"M21 21L16.65 16.65",strokeWidth:"2"})]})})]})]})]}),s.jsxs("div",{className:"products-container",children:[s.jsxs("aside",{className:`sidebar ${I?"open":"closed"}`,children:[s.jsxs("div",{className:"sidebar-header",children:[s.jsx("h3",{children:""}),s.jsx("button",{className:"close-filters",onClick:G,children:""})]}),a.subcategories&&a.subcategories.length>0&&s.jsxs("div",{className:"filter-section",children:[s.jsx("h4",{className:"filter-title",children:""}),s.jsx("ul",{className:"subcategory-list",children:(te?a.subcategories:a.subcategories.slice(0,5)).map(ee=>s.jsx("li",{className:"subcategory-item",children:s.jsx("button",{className:`subcategory-button ${n.pathname.includes(`/categories/${ee.id}`)?"active":""}`,onClick:()=>t(`/marketplace/categories/${ee.id}/products/`),children:ee.name})},ee.id))}),a.subcategories.length>5&&s.jsxs("button",{className:"show-more-subcategories",onClick:()=>se(!te),children:[te?"":`  (${a.subcategories.length})`,s.jsx("span",{className:`chevron ${te?"up":"down"}`})]})]}),s.jsx(Ex,{filtersLoading:d,filters:i,visibleFiltersCount:ne,expandedFilters:$,toggleFilter:Y,isAttributeSelected:q,handleAttributeSelect:V,setVisibleFiltersCount:X}),s.jsxs("div",{className:"filter-section",children:[s.jsx("h4",{className:"filter-title",children:""}),s.jsxs("div",{className:"price-inputs",children:[s.jsx("input",{type:"number",placeholder:"",className:"price-input",value:B,onChange:ee=>P(ee.target.value),min:"0"}),s.jsx("input",{type:"number",placeholder:"",className:"price-input",value:O,onChange:ee=>R(ee.target.value),min:"0"})]}),s.jsx("button",{className:"apply-filter-button",onClick:T,children:"  "})]}),s.jsx("button",{className:"reset-filters-button",onClick:K,children:"  "})]}),s.jsxs("main",{className:"main-content",children:[s.jsxs("div",{className:"products-header",children:[s.jsxs("p",{className:"products-count",children:[" : ",s.jsx("strong",{children:((oe=a.pagination)==null?void 0:oe.total_items)||a.products.length})]}),s.jsxs("div",{className:"sort-container",children:[s.jsx("label",{className:"sort-label",children:":"}),s.jsxs("select",{value:j,onChange:A,className:"sort-select",children:[s.jsx("option",{value:"-created_at",children:" "}),s.jsx("option",{value:"price",children:"  "}),s.jsx("option",{value:"-price",children:"  "}),s.jsx("option",{value:"name",children:"  (-)"}),s.jsx("option",{value:"-name",children:"  (-)"})]})]})]}),a.products.length>0?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"product-grid",children:a.products.map(ee=>s.jsx(Pb,{product:ee},ee.id))}),a.pagination&&a.pagination.total_pages>1&&s.jsxs("div",{className:"pagination",children:[a.pagination.has_previous&&s.jsx("button",{className:"pagination-arrow",onClick:()=>Z(a.pagination.current_page-1),children:" "}),s.jsx("div",{className:"page-numbers",children:jne(a.pagination.current_page,a.pagination.total_pages).map((ee,ae)=>ee==="..."?s.jsx("span",{className:"pagination-ellipsis",children:"..."},`ellipsis-${ae}`):s.jsx("button",{className:`pagination-number ${ee===a.pagination.current_page?"active":""}`,onClick:()=>Z(ee),children:ee},ee))}),a.pagination.has_next&&s.jsx("button",{className:"pagination-arrow",onClick:()=>Z(a.pagination.current_page+1),children:" "})]})]}):s.jsxs("div",{className:"no-products",children:[s.jsx("svg",{width:"80",height:"80",viewBox:"0 0 24 24",fill:"none",stroke:"rgba(255, 255, 255, 0.3)",className:"no-products-icon",children:s.jsx("path",{d:"M4 16L8.5 10.5L11 13.5L14.5 9L20 16M4 16H20M4 16V4H20V16",strokeWidth:"1.5"})}),s.jsx("h3",{children:"  "}),s.jsx("p",{children:"   "}),s.jsx("button",{className:"primary-button",onClick:K,children:" "})]})]})]})]}):s.jsxs("div",{className:"not-found-container",children:[s.jsx("h3",{children:"  "}),s.jsx("button",{className:"primary-button",onClick:()=>t("/marketplace"),children:"  "})]})};function jne(e,t){return t<=5?Array.from({length:t},(n,a)=>a+1):e<=3?[1,2,3,4,"...",t]:e>=t-2?[1,"...",t-3,t-2,t-1,t]:[1,"...",e-1,e,e+1,"...",t]}function aO(e){return Jt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"},child:[]},{tag:"path",attr:{d:"M13.73 21a2 2 0 0 1-3.46 0"},child:[]}]})(e)}function rO(e){return Jt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"2",y:"7",width:"20",height:"14",rx:"2",ry:"2"},child:[]},{tag:"path",attr:{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16"},child:[]}]})(e)}function kx(e){return Jt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"},child:[]},{tag:"line",attr:{x1:"16",y1:"2",x2:"16",y2:"6"},child:[]},{tag:"line",attr:{x1:"8",y1:"2",x2:"8",y2:"6"},child:[]},{tag:"line",attr:{x1:"3",y1:"10",x2:"21",y2:"10"},child:[]}]})(e)}function Ix(e){return Jt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"9 18 15 12 9 6"},child:[]}]})(e)}function iO(e){return Jt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"2",y1:"12",x2:"22",y2:"12"},child:[]},{tag:"path",attr:{d:"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"},child:[]}]})(e)}function oO(e){return Jt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"},child:[]},{tag:"path",attr:{d:"M7 11V7a5 5 0 0 1 10 0v4"},child:[]}]})(e)}function cO(e){return Jt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"},child:[]},{tag:"polyline",attr:{points:"16 17 21 12 16 7"},child:[]},{tag:"line",attr:{x1:"21",y1:"12",x2:"9",y2:"12"},child:[]}]})(e)}function lO(e){return Jt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"},child:[]},{tag:"polyline",attr:{points:"22,6 12,13 2,6"},child:[]}]})(e)}function uO(e){return Jt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"10",r:"3"},child:[]}]})(e)}function dO(e){return Jt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"},child:[]}]})(e)}function hO(e){return Jt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"},child:[]}]})(e)}function fO(e){return Jt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]},{tag:"path",attr:{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"},child:[]}]})(e)}function mO(e){return Jt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"},child:[]}]})(e)}function Nne(e){return Jt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"9",cy:"21",r:"1"},child:[]},{tag:"circle",attr:{cx:"20",cy:"21",r:"1"},child:[]},{tag:"path",attr:{d:"M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"},child:[]}]})(e)}function Dx(e){return Jt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"12",cy:"7",r:"4"},child:[]}]})(e)}var Zw={},Jw={},t1={},eC={},lI;function Ene(){return lI||(lI=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t={animating:!1,autoplaying:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,dragging:!1,edgeDragged:!1,initialized:!1,lazyLoadedList:[],listHeight:null,listWidth:null,scrolling:!1,slideCount:null,slideHeight:null,slideWidth:null,swipeLeft:null,swiped:!1,swiping:!1,touchObject:{startX:0,startY:0,curX:0,curY:0},trackStyle:{},trackWidth:0,targetSlide:0};e.default=t}(eC)),eC}var tC,uI;function kne(){if(uI)return tC;uI=1;var e="Expected a function",t=NaN,n="[object Symbol]",a=/^\s+|\s+$/g,r=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,o=/^0o[0-7]+$/i,c=parseInt,l=typeof ld=="object"&&ld&&ld.Object===Object&&ld,d=typeof self=="object"&&self&&self.Object===Object&&self,f=l||d||Function("return this")(),g=Object.prototype,b=g.toString,w=Math.max,S=Math.min,j=function(){return f.Date.now()};function N(O,R,$){var U,F,H,ne,X,te,se=0,V=!1,q=!1,T=!0;if(typeof O!="function")throw new TypeError(e);R=P(R)||0,I($)&&(V=!!$.leading,q="maxWait"in $,H=q?w(P($.maxWait)||0,R):H,T="trailing"in $?!!$.trailing:T);function J(ie){var ue=U,he=F;return U=F=void 0,se=ie,ne=O.apply(he,ue),ne}function Z(ie){return se=ie,X=setTimeout(K,R),V?J(ie):ne}function A(ie){var ue=ie-te,he=ie-se,ge=R-ue;return q?S(ge,H-he):ge}function Y(ie){var ue=ie-te,he=ie-se;return te===void 0||ue>=R||ue<0||q&&he>=H}function K(){var ie=j();if(Y(ie))return G(ie);X=setTimeout(K,A(ie))}function G(ie){return X=void 0,T&&U?J(ie):(U=F=void 0,ne)}function oe(){X!==void 0&&clearTimeout(X),se=0,U=te=F=X=void 0}function ee(){return X===void 0?ne:G(j())}function ae(){var ie=j(),ue=Y(ie);if(U=arguments,F=this,te=ie,ue){if(X===void 0)return Z(te);if(q)return X=setTimeout(K,R),J(te)}return X===void 0&&(X=setTimeout(K,R)),ne}return ae.cancel=oe,ae.flush=ee,ae}function I(O){var R=typeof O;return!!O&&(R=="object"||R=="function")}function M(O){return!!O&&typeof O=="object"}function B(O){return typeof O=="symbol"||M(O)&&b.call(O)==n}function P(O){if(typeof O=="number")return O;if(B(O))return t;if(I(O)){var R=typeof O.valueOf=="function"?O.valueOf():O;O=I(R)?R+"":R}if(typeof O!="string")return O===0?O:+O;O=O.replace(a,"");var $=i.test(O);return $||o.test(O)?c(O.slice(2),$?2:8):r.test(O)?t:+O}return tC=N,tC}var nC={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var dI;function c0(){return dI||(dI=1,function(e){(function(){var t={}.hasOwnProperty;function n(){for(var i="",o=0;o<arguments.length;o++){var c=arguments[o];c&&(i=r(i,a(c)))}return i}function a(i){if(typeof i=="string"||typeof i=="number")return i;if(typeof i!="object")return"";if(Array.isArray(i))return n.apply(null,i);if(i.toString!==Object.prototype.toString&&!i.toString.toString().includes("[native code]"))return i.toString();var o="";for(var c in i)t.call(i,c)&&i[c]&&(o=r(o,c));return o}function r(i,o){return o?i?i+" "+o:i+o:i}e.exports?(n.default=n,e.exports=n):window.classNames=n})()}(nC)),nC.exports}var es={},sC={},hI;function pO(){return hI||(hI=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=n(Qc());function n(r){return r&&r.__esModule?r:{default:r}}var a={accessibility:!0,adaptiveHeight:!1,afterChange:null,appendDots:function(i){return t.default.createElement("ul",{style:{display:"block"}},i)},arrows:!0,autoplay:!1,autoplaySpeed:3e3,beforeChange:null,centerMode:!1,centerPadding:"50px",className:"",cssEase:"ease",customPaging:function(i){return t.default.createElement("button",null,i+1)},dots:!1,dotsClass:"slick-dots",draggable:!0,easing:"linear",edgeFriction:.35,fade:!1,focusOnSelect:!1,infinite:!0,initialSlide:0,lazyLoad:null,nextArrow:null,onEdge:null,onInit:null,onLazyLoadError:null,onReInit:null,pauseOnDotsHover:!1,pauseOnFocus:!1,pauseOnHover:!0,prevArrow:null,responsive:null,rows:1,rtl:!1,slide:"div",slidesPerRow:1,slidesToScroll:1,slidesToShow:1,speed:500,swipe:!0,swipeEvent:null,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,useTransform:!0,variableWidth:!1,vertical:!1,waitForAnimate:!0,asNavFor:null,unslick:!1};e.default=a}(sC)),sC}var fI;function l0(){if(fI)return es;fI=1,Object.defineProperty(es,"__esModule",{value:!0}),es.checkSpecKeys=es.checkNavigable=es.changeSlide=es.canUseDOM=es.canGoNext=void 0,es.clamp=d,es.extractObject=void 0,es.filterSettings=J,es.validSettings=es.swipeStart=es.swipeMove=es.swipeEnd=es.slidesOnRight=es.slidesOnLeft=es.slideHandler=es.siblingDirection=es.safePreventDefault=es.lazyStartIndex=es.lazySlidesOnRight=es.lazySlidesOnLeft=es.lazyEndIndex=es.keyHandler=es.initializedState=es.getWidth=es.getTrackLeft=es.getTrackCSS=es.getTrackAnimateCSS=es.getTotalSlides=es.getSwipeDirection=es.getSlideCount=es.getRequiredLazySlides=es.getPreClones=es.getPostClones=es.getOnDemandLazySlides=es.getNavigableIndexes=es.getHeight=void 0;var e=n(Qc()),t=n(pO());function n(Z){return Z&&Z.__esModule?Z:{default:Z}}function a(Z){"@babel/helpers - typeof";return a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(A){return typeof A}:function(A){return A&&typeof Symbol=="function"&&A.constructor===Symbol&&A!==Symbol.prototype?"symbol":typeof A},a(Z)}function r(Z,A){var Y=Object.keys(Z);if(Object.getOwnPropertySymbols){var K=Object.getOwnPropertySymbols(Z);A&&(K=K.filter(function(G){return Object.getOwnPropertyDescriptor(Z,G).enumerable})),Y.push.apply(Y,K)}return Y}function i(Z){for(var A=1;A<arguments.length;A++){var Y=arguments[A]!=null?arguments[A]:{};A%2?r(Object(Y),!0).forEach(function(K){o(Z,K,Y[K])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Z,Object.getOwnPropertyDescriptors(Y)):r(Object(Y)).forEach(function(K){Object.defineProperty(Z,K,Object.getOwnPropertyDescriptor(Y,K))})}return Z}function o(Z,A,Y){return A=c(A),A in Z?Object.defineProperty(Z,A,{value:Y,enumerable:!0,configurable:!0,writable:!0}):Z[A]=Y,Z}function c(Z){var A=l(Z,"string");return a(A)=="symbol"?A:String(A)}function l(Z,A){if(a(Z)!="object"||!Z)return Z;var Y=Z[Symbol.toPrimitive];if(Y!==void 0){var K=Y.call(Z,A);if(a(K)!="object")return K;throw new TypeError("@@toPrimitive must return a primitive value.")}return(A==="string"?String:Number)(Z)}function d(Z,A,Y){return Math.max(A,Math.min(Z,Y))}var f=es.safePreventDefault=function(A){var Y=["onTouchStart","onTouchMove","onWheel"];Y.includes(A._reactName)||A.preventDefault()},g=es.getOnDemandLazySlides=function(A){for(var Y=[],K=b(A),G=w(A),oe=K;oe<G;oe++)A.lazyLoadedList.indexOf(oe)<0&&Y.push(oe);return Y};es.getRequiredLazySlides=function(A){for(var Y=[],K=b(A),G=w(A),oe=K;oe<G;oe++)Y.push(oe);return Y};var b=es.lazyStartIndex=function(A){return A.currentSlide-S(A)},w=es.lazyEndIndex=function(A){return A.currentSlide+j(A)},S=es.lazySlidesOnLeft=function(A){return A.centerMode?Math.floor(A.slidesToShow/2)+(parseInt(A.centerPadding)>0?1:0):0},j=es.lazySlidesOnRight=function(A){return A.centerMode?Math.floor((A.slidesToShow-1)/2)+1+(parseInt(A.centerPadding)>0?1:0):A.slidesToShow},N=es.getWidth=function(A){return A&&A.offsetWidth||0},I=es.getHeight=function(A){return A&&A.offsetHeight||0},M=es.getSwipeDirection=function(A){var Y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,K,G,oe,ee;return K=A.startX-A.curX,G=A.startY-A.curY,oe=Math.atan2(G,K),ee=Math.round(oe*180/Math.PI),ee<0&&(ee=360-Math.abs(ee)),ee<=45&&ee>=0||ee<=360&&ee>=315?"left":ee>=135&&ee<=225?"right":Y===!0?ee>=35&&ee<=135?"up":"down":"vertical"},B=es.canGoNext=function(A){var Y=!0;return A.infinite||(A.centerMode&&A.currentSlide>=A.slideCount-1||A.slideCount<=A.slidesToShow||A.currentSlide>=A.slideCount-A.slidesToShow)&&(Y=!1),Y};es.extractObject=function(A,Y){var K={};return Y.forEach(function(G){return K[G]=A[G]}),K},es.initializedState=function(A){var Y=e.default.Children.count(A.children),K=A.listRef,G=Math.ceil(N(K)),oe=A.trackRef&&A.trackRef.node,ee=Math.ceil(N(oe)),ae;if(A.vertical)ae=G;else{var ie=A.centerMode&&parseInt(A.centerPadding)*2;typeof A.centerPadding=="string"&&A.centerPadding.slice(-1)==="%"&&(ie*=G/100),ae=Math.ceil((G-ie)/A.slidesToShow)}var ue=K&&I(K.querySelector('[data-index="0"]')),he=ue*A.slidesToShow,ge=A.currentSlide===void 0?A.initialSlide:A.currentSlide;A.rtl&&A.currentSlide===void 0&&(ge=Y-1-A.initialSlide);var ye=A.lazyLoadedList||[],je=g(i(i({},A),{},{currentSlide:ge,lazyLoadedList:ye}));ye=ye.concat(je);var Ie={slideCount:Y,slideWidth:ae,listWidth:G,trackWidth:ee,currentSlide:ge,slideHeight:ue,listHeight:he,lazyLoadedList:ye};return A.autoplaying===null&&A.autoplay&&(Ie.autoplaying="playing"),Ie},es.slideHandler=function(A){var Y=A.waitForAnimate,K=A.animating,G=A.fade,oe=A.infinite,ee=A.index,ae=A.slideCount,ie=A.lazyLoad,ue=A.currentSlide,he=A.centerMode,ge=A.slidesToScroll,ye=A.slidesToShow,je=A.useCSS,Ie=A.lazyLoadedList;if(Y&&K)return{};var me=ee,de,fe,re,xe={},Se={},pe=oe?ee:d(ee,0,ae-1);if(G){if(!oe&&(ee<0||ee>=ae))return{};ee<0?me=ee+ae:ee>=ae&&(me=ee-ae),ie&&Ie.indexOf(me)<0&&(Ie=Ie.concat(me)),xe={animating:!0,currentSlide:me,lazyLoadedList:Ie,targetSlide:me},Se={animating:!1,targetSlide:me}}else de=me,me<0?(de=me+ae,oe?ae%ge!==0&&(de=ae-ae%ge):de=0):!B(A)&&me>ue?me=de=ue:he&&me>=ae?(me=oe?ae:ae-1,de=oe?0:ae-1):me>=ae&&(de=me-ae,oe?ae%ge!==0&&(de=0):de=ae-ye),!oe&&me+ye>=ae&&(de=ae-ye),fe=H(i(i({},A),{},{slideIndex:me})),re=H(i(i({},A),{},{slideIndex:de})),oe||(fe===re&&(me=de),fe=re),ie&&(Ie=Ie.concat(g(i(i({},A),{},{currentSlide:me})))),je?(xe={animating:!0,currentSlide:de,trackStyle:F(i(i({},A),{},{left:fe})),lazyLoadedList:Ie,targetSlide:pe},Se={animating:!1,currentSlide:de,trackStyle:U(i(i({},A),{},{left:re})),swipeLeft:null,targetSlide:pe}):xe={currentSlide:de,trackStyle:U(i(i({},A),{},{left:re})),lazyLoadedList:Ie,targetSlide:pe};return{state:xe,nextState:Se}},es.changeSlide=function(A,Y){var K,G,oe,ee,ae,ie=A.slidesToScroll,ue=A.slidesToShow,he=A.slideCount,ge=A.currentSlide,ye=A.targetSlide,je=A.lazyLoad,Ie=A.infinite;if(ee=he%ie!==0,K=ee?0:(he-ge)%ie,Y.message==="previous")oe=K===0?ie:ue-K,ae=ge-oe,je&&!Ie&&(G=ge-oe,ae=G===-1?he-1:G),Ie||(ae=ye-ie);else if(Y.message==="next")oe=K===0?ie:K,ae=ge+oe,je&&!Ie&&(ae=(ge+ie)%he+K),Ie||(ae=ye+ie);else if(Y.message==="dots")ae=Y.index*Y.slidesToScroll;else if(Y.message==="children"){if(ae=Y.index,Ie){var me=se(i(i({},A),{},{targetSlide:ae}));ae>Y.currentSlide&&me==="left"?ae=ae-he:ae<Y.currentSlide&&me==="right"&&(ae=ae+he)}}else Y.message==="index"&&(ae=Number(Y.index));return ae},es.keyHandler=function(A,Y,K){return A.target.tagName.match("TEXTAREA|INPUT|SELECT")||!Y?"":A.keyCode===37?K?"next":"previous":A.keyCode===39?K?"previous":"next":""},es.swipeStart=function(A,Y,K){return A.target.tagName==="IMG"&&f(A),!Y||!K&&A.type.indexOf("mouse")!==-1?"":{dragging:!0,touchObject:{startX:A.touches?A.touches[0].pageX:A.clientX,startY:A.touches?A.touches[0].pageY:A.clientY,curX:A.touches?A.touches[0].pageX:A.clientX,curY:A.touches?A.touches[0].pageY:A.clientY}}},es.swipeMove=function(A,Y){var K=Y.scrolling,G=Y.animating,oe=Y.vertical,ee=Y.swipeToSlide,ae=Y.verticalSwiping,ie=Y.rtl,ue=Y.currentSlide,he=Y.edgeFriction,ge=Y.edgeDragged,ye=Y.onEdge,je=Y.swiped,Ie=Y.swiping,me=Y.slideCount,de=Y.slidesToScroll,fe=Y.infinite,re=Y.touchObject,xe=Y.swipeEvent,Se=Y.listHeight,pe=Y.listWidth;if(!K){if(G)return f(A);oe&&ee&&ae&&f(A);var Ee,Le={},Ue=H(Y);re.curX=A.touches?A.touches[0].pageX:A.clientX,re.curY=A.touches?A.touches[0].pageY:A.clientY,re.swipeLength=Math.round(Math.sqrt(Math.pow(re.curX-re.startX,2)));var Ne=Math.round(Math.sqrt(Math.pow(re.curY-re.startY,2)));if(!ae&&!Ie&&Ne>10)return{scrolling:!0};ae&&(re.swipeLength=Ne);var et=(ie?-1:1)*(re.curX>re.startX?1:-1);ae&&(et=re.curY>re.startY?1:-1);var dt=Math.ceil(me/de),_e=M(Y.touchObject,ae),tt=re.swipeLength;return fe||(ue===0&&(_e==="right"||_e==="down")||ue+1>=dt&&(_e==="left"||_e==="up")||!B(Y)&&(_e==="left"||_e==="up"))&&(tt=re.swipeLength*he,ge===!1&&ye&&(ye(_e),Le.edgeDragged=!0)),!je&&xe&&(xe(_e),Le.swiped=!0),oe?Ee=Ue+tt*(Se/pe)*et:ie?Ee=Ue-tt*et:Ee=Ue+tt*et,ae&&(Ee=Ue+tt*et),Le=i(i({},Le),{},{touchObject:re,swipeLeft:Ee,trackStyle:U(i(i({},Y),{},{left:Ee}))}),Math.abs(re.curX-re.startX)<Math.abs(re.curY-re.startY)*.8||re.swipeLength>10&&(Le.swiping=!0,f(A)),Le}},es.swipeEnd=function(A,Y){var K=Y.dragging,G=Y.swipe,oe=Y.touchObject,ee=Y.listWidth,ae=Y.touchThreshold,ie=Y.verticalSwiping,ue=Y.listHeight,he=Y.swipeToSlide,ge=Y.scrolling,ye=Y.onSwipe,je=Y.targetSlide,Ie=Y.currentSlide,me=Y.infinite;if(!K)return G&&f(A),{};var de=ie?ue/ae:ee/ae,fe=M(oe,ie),re={dragging:!1,edgeDragged:!1,scrolling:!1,swiping:!1,swiped:!1,swipeLeft:null,touchObject:{}};if(ge||!oe.swipeLength)return re;if(oe.swipeLength>de){f(A),ye&&ye(fe);var xe,Se,pe=me?Ie:je;switch(fe){case"left":case"up":Se=pe+R(Y),xe=he?O(Y,Se):Se,re.currentDirection=0;break;case"right":case"down":Se=pe-R(Y),xe=he?O(Y,Se):Se,re.currentDirection=1;break;default:xe=pe}re.triggerSlideHandler=xe}else{var Ee=H(Y);re.trackStyle=F(i(i({},Y),{},{left:Ee}))}return re};var P=es.getNavigableIndexes=function(A){for(var Y=A.infinite?A.slideCount*2:A.slideCount,K=A.infinite?A.slidesToShow*-1:0,G=A.infinite?A.slidesToShow*-1:0,oe=[];K<Y;)oe.push(K),K=G+A.slidesToScroll,G+=Math.min(A.slidesToScroll,A.slidesToShow);return oe},O=es.checkNavigable=function(A,Y){var K=P(A),G=0;if(Y>K[K.length-1])Y=K[K.length-1];else for(var oe in K){if(Y<K[oe]){Y=G;break}G=K[oe]}return Y},R=es.getSlideCount=function(A){var Y=A.centerMode?A.slideWidth*Math.floor(A.slidesToShow/2):0;if(A.swipeToSlide){var K,G=A.listRef,oe=G.querySelectorAll&&G.querySelectorAll(".slick-slide")||[];if(Array.from(oe).every(function(ie){if(A.vertical){if(ie.offsetTop+I(ie)/2>A.swipeLeft*-1)return K=ie,!1}else if(ie.offsetLeft-Y+N(ie)/2>A.swipeLeft*-1)return K=ie,!1;return!0}),!K)return 0;var ee=A.rtl===!0?A.slideCount-A.currentSlide:A.currentSlide,ae=Math.abs(K.dataset.index-ee)||1;return ae}else return A.slidesToScroll},$=es.checkSpecKeys=function(A,Y){return Y.reduce(function(K,G){return K&&A.hasOwnProperty(G)},!0)?null:console.error("Keys Missing:",A)},U=es.getTrackCSS=function(A){$(A,["left","variableWidth","slideCount","slidesToShow","slideWidth"]);var Y,K,G=A.slideCount+2*A.slidesToShow;A.vertical?K=G*A.slideHeight:Y=te(A)*A.slideWidth;var oe={opacity:1,transition:"",WebkitTransition:""};if(A.useTransform){var ee=A.vertical?"translate3d(0px, "+A.left+"px, 0px)":"translate3d("+A.left+"px, 0px, 0px)",ae=A.vertical?"translate3d(0px, "+A.left+"px, 0px)":"translate3d("+A.left+"px, 0px, 0px)",ie=A.vertical?"translateY("+A.left+"px)":"translateX("+A.left+"px)";oe=i(i({},oe),{},{WebkitTransform:ee,transform:ae,msTransform:ie})}else A.vertical?oe.top=A.left:oe.left=A.left;return A.fade&&(oe={opacity:1}),Y&&(oe.width=Y),K&&(oe.height=K),window&&!window.addEventListener&&window.attachEvent&&(A.vertical?oe.marginTop=A.left+"px":oe.marginLeft=A.left+"px"),oe},F=es.getTrackAnimateCSS=function(A){$(A,["left","variableWidth","slideCount","slidesToShow","slideWidth","speed","cssEase"]);var Y=U(A);return A.useTransform?(Y.WebkitTransition="-webkit-transform "+A.speed+"ms "+A.cssEase,Y.transition="transform "+A.speed+"ms "+A.cssEase):A.vertical?Y.transition="top "+A.speed+"ms "+A.cssEase:Y.transition="left "+A.speed+"ms "+A.cssEase,Y},H=es.getTrackLeft=function(A){if(A.unslick)return 0;$(A,["slideIndex","trackRef","infinite","centerMode","slideCount","slidesToShow","slidesToScroll","slideWidth","listWidth","variableWidth","slideHeight"]);var Y=A.slideIndex,K=A.trackRef,G=A.infinite,oe=A.centerMode,ee=A.slideCount,ae=A.slidesToShow,ie=A.slidesToScroll,ue=A.slideWidth,he=A.listWidth,ge=A.variableWidth,ye=A.slideHeight,je=A.fade,Ie=A.vertical,me=0,de,fe,re=0;if(je||A.slideCount===1)return 0;var xe=0;if(G?(xe=-ne(A),ee%ie!==0&&Y+ie>ee&&(xe=-(Y>ee?ae-(Y-ee):ee%ie)),oe&&(xe+=parseInt(ae/2))):(ee%ie!==0&&Y+ie>ee&&(xe=ae-ee%ie),oe&&(xe=parseInt(ae/2))),me=xe*ue,re=xe*ye,Ie?de=Y*ye*-1+re:de=Y*ue*-1+me,ge===!0){var Se,pe=K&&K.node;if(Se=Y+ne(A),fe=pe&&pe.childNodes[Se],de=fe?fe.offsetLeft*-1:0,oe===!0){Se=G?Y+ne(A):Y,fe=pe&&pe.children[Se],de=0;for(var Ee=0;Ee<Se;Ee++)de-=pe&&pe.children[Ee]&&pe.children[Ee].offsetWidth;de-=parseInt(A.centerPadding),de+=fe&&(he-fe.offsetWidth)/2}}return de},ne=es.getPreClones=function(A){return A.unslick||!A.infinite?0:A.variableWidth?A.slideCount:A.slidesToShow+(A.centerMode?1:0)},X=es.getPostClones=function(A){return A.unslick||!A.infinite?0:A.slideCount},te=es.getTotalSlides=function(A){return A.slideCount===1?1:ne(A)+A.slideCount+X(A)},se=es.siblingDirection=function(A){return A.targetSlide>A.currentSlide?A.targetSlide>A.currentSlide+V(A)?"left":"right":A.targetSlide<A.currentSlide-q(A)?"right":"left"},V=es.slidesOnRight=function(A){var Y=A.slidesToShow,K=A.centerMode,G=A.rtl,oe=A.centerPadding;if(K){var ee=(Y-1)/2+1;return parseInt(oe)>0&&(ee+=1),G&&Y%2===0&&(ee+=1),ee}return G?0:Y-1},q=es.slidesOnLeft=function(A){var Y=A.slidesToShow,K=A.centerMode,G=A.rtl,oe=A.centerPadding;if(K){var ee=(Y-1)/2+1;return parseInt(oe)>0&&(ee+=1),!G&&Y%2===0&&(ee+=1),ee}return G?Y-1:0};es.canUseDOM=function(){return!!(typeof window<"u"&&window.document&&window.document.createElement)};var T=es.validSettings=Object.keys(t.default);function J(Z){return T.reduce(function(A,Y){return Z.hasOwnProperty(Y)&&(A[Y]=Z[Y]),A},{})}return es}var n1={},mI;function Ine(){if(mI)return n1;mI=1,Object.defineProperty(n1,"__esModule",{value:!0}),n1.Track=void 0;var e=a(Qc()),t=a(c0()),n=l0();function a(F){return F&&F.__esModule?F:{default:F}}function r(F){"@babel/helpers - typeof";return r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(H){return typeof H}:function(H){return H&&typeof Symbol=="function"&&H.constructor===Symbol&&H!==Symbol.prototype?"symbol":typeof H},r(F)}function i(){return i=Object.assign?Object.assign.bind():function(F){for(var H=1;H<arguments.length;H++){var ne=arguments[H];for(var X in ne)Object.prototype.hasOwnProperty.call(ne,X)&&(F[X]=ne[X])}return F},i.apply(this,arguments)}function o(F,H){if(!(F instanceof H))throw new TypeError("Cannot call a class as a function")}function c(F,H){for(var ne=0;ne<H.length;ne++){var X=H[ne];X.enumerable=X.enumerable||!1,X.configurable=!0,"value"in X&&(X.writable=!0),Object.defineProperty(F,B(X.key),X)}}function l(F,H,ne){return H&&c(F.prototype,H),Object.defineProperty(F,"prototype",{writable:!1}),F}function d(F,H){if(typeof H!="function"&&H!==null)throw new TypeError("Super expression must either be null or a function");F.prototype=Object.create(H&&H.prototype,{constructor:{value:F,writable:!0,configurable:!0}}),Object.defineProperty(F,"prototype",{writable:!1}),H&&f(F,H)}function f(F,H){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(X,te){return X.__proto__=te,X},f(F,H)}function g(F){var H=S();return function(){var X=j(F),te;if(H){var se=j(this).constructor;te=Reflect.construct(X,arguments,se)}else te=X.apply(this,arguments);return b(this,te)}}function b(F,H){if(H&&(r(H)==="object"||typeof H=="function"))return H;if(H!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return w(F)}function w(F){if(F===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return F}function S(){try{var F=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(S=function(){return!!F})()}function j(F){return j=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(ne){return ne.__proto__||Object.getPrototypeOf(ne)},j(F)}function N(F,H){var ne=Object.keys(F);if(Object.getOwnPropertySymbols){var X=Object.getOwnPropertySymbols(F);H&&(X=X.filter(function(te){return Object.getOwnPropertyDescriptor(F,te).enumerable})),ne.push.apply(ne,X)}return ne}function I(F){for(var H=1;H<arguments.length;H++){var ne=arguments[H]!=null?arguments[H]:{};H%2?N(Object(ne),!0).forEach(function(X){M(F,X,ne[X])}):Object.getOwnPropertyDescriptors?Object.defineProperties(F,Object.getOwnPropertyDescriptors(ne)):N(Object(ne)).forEach(function(X){Object.defineProperty(F,X,Object.getOwnPropertyDescriptor(ne,X))})}return F}function M(F,H,ne){return H=B(H),H in F?Object.defineProperty(F,H,{value:ne,enumerable:!0,configurable:!0,writable:!0}):F[H]=ne,F}function B(F){var H=P(F,"string");return r(H)=="symbol"?H:String(H)}function P(F,H){if(r(F)!="object"||!F)return F;var ne=F[Symbol.toPrimitive];if(ne!==void 0){var X=ne.call(F,H);if(r(X)!="object")return X;throw new TypeError("@@toPrimitive must return a primitive value.")}return(H==="string"?String:Number)(F)}var O=function(H){var ne,X,te,se,V;H.rtl?V=H.slideCount-1-H.index:V=H.index,te=V<0||V>=H.slideCount,H.centerMode?(se=Math.floor(H.slidesToShow/2),X=(V-H.currentSlide)%H.slideCount===0,V>H.currentSlide-se-1&&V<=H.currentSlide+se&&(ne=!0)):ne=H.currentSlide<=V&&V<H.currentSlide+H.slidesToShow;var q;H.targetSlide<0?q=H.targetSlide+H.slideCount:H.targetSlide>=H.slideCount?q=H.targetSlide-H.slideCount:q=H.targetSlide;var T=V===q;return{"slick-slide":!0,"slick-active":ne,"slick-center":X,"slick-cloned":te,"slick-current":T}},R=function(H){var ne={};return(H.variableWidth===void 0||H.variableWidth===!1)&&(ne.width=H.slideWidth),H.fade&&(ne.position="relative",H.vertical?ne.top=-H.index*parseInt(H.slideHeight):ne.left=-H.index*parseInt(H.slideWidth),ne.opacity=H.currentSlide===H.index?1:0,ne.zIndex=H.currentSlide===H.index?999:998,H.useCSS&&(ne.transition="opacity "+H.speed+"ms "+H.cssEase+", visibility "+H.speed+"ms "+H.cssEase)),ne},$=function(H,ne){return H.key||ne},U=function(H){var ne,X=[],te=[],se=[],V=e.default.Children.count(H.children),q=(0,n.lazyStartIndex)(H),T=(0,n.lazyEndIndex)(H);return e.default.Children.forEach(H.children,function(J,Z){var A,Y={message:"children",index:Z,slidesToScroll:H.slidesToScroll,currentSlide:H.currentSlide};!H.lazyLoad||H.lazyLoad&&H.lazyLoadedList.indexOf(Z)>=0?A=J:A=e.default.createElement("div",null);var K=R(I(I({},H),{},{index:Z})),G=A.props.className||"",oe=O(I(I({},H),{},{index:Z}));if(X.push(e.default.cloneElement(A,{key:"original"+$(A,Z),"data-index":Z,className:(0,t.default)(oe,G),tabIndex:"-1","aria-hidden":!oe["slick-active"],style:I(I({outline:"none"},A.props.style||{}),K),onClick:function(ie){A.props&&A.props.onClick&&A.props.onClick(ie),H.focusOnSelect&&H.focusOnSelect(Y)}})),H.infinite&&H.fade===!1){var ee=V-Z;ee<=(0,n.getPreClones)(H)&&(ne=-ee,ne>=q&&(A=J),oe=O(I(I({},H),{},{index:ne})),te.push(e.default.cloneElement(A,{key:"precloned"+$(A,ne),"data-index":ne,tabIndex:"-1",className:(0,t.default)(oe,G),"aria-hidden":!oe["slick-active"],style:I(I({},A.props.style||{}),K),onClick:function(ie){A.props&&A.props.onClick&&A.props.onClick(ie),H.focusOnSelect&&H.focusOnSelect(Y)}}))),ne=V+Z,ne<T&&(A=J),oe=O(I(I({},H),{},{index:ne})),se.push(e.default.cloneElement(A,{key:"postcloned"+$(A,ne),"data-index":ne,tabIndex:"-1",className:(0,t.default)(oe,G),"aria-hidden":!oe["slick-active"],style:I(I({},A.props.style||{}),K),onClick:function(ie){A.props&&A.props.onClick&&A.props.onClick(ie),H.focusOnSelect&&H.focusOnSelect(Y)}}))}}),H.rtl?te.concat(X,se).reverse():te.concat(X,se)};return n1.Track=function(F){d(ne,F);var H=g(ne);function ne(){var X;o(this,ne);for(var te=arguments.length,se=new Array(te),V=0;V<te;V++)se[V]=arguments[V];return X=H.call.apply(H,[this].concat(se)),M(w(X),"node",null),M(w(X),"handleRef",function(q){X.node=q}),X}return l(ne,[{key:"render",value:function(){var te=U(this.props),se=this.props,V=se.onMouseEnter,q=se.onMouseOver,T=se.onMouseLeave,J={onMouseEnter:V,onMouseOver:q,onMouseLeave:T};return e.default.createElement("div",i({ref:this.handleRef,className:"slick-track",style:this.props.trackStyle},J),te)}}]),ne}(e.default.PureComponent),n1}var s1={},pI;function Dne(){if(pI)return s1;pI=1;function e(O){"@babel/helpers - typeof";return e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(R){return typeof R}:function(R){return R&&typeof Symbol=="function"&&R.constructor===Symbol&&R!==Symbol.prototype?"symbol":typeof R},e(O)}Object.defineProperty(s1,"__esModule",{value:!0}),s1.Dots=void 0;var t=r(Qc()),n=r(c0()),a=l0();function r(O){return O&&O.__esModule?O:{default:O}}function i(O,R){var $=Object.keys(O);if(Object.getOwnPropertySymbols){var U=Object.getOwnPropertySymbols(O);R&&(U=U.filter(function(F){return Object.getOwnPropertyDescriptor(O,F).enumerable})),$.push.apply($,U)}return $}function o(O){for(var R=1;R<arguments.length;R++){var $=arguments[R]!=null?arguments[R]:{};R%2?i(Object($),!0).forEach(function(U){c(O,U,$[U])}):Object.getOwnPropertyDescriptors?Object.defineProperties(O,Object.getOwnPropertyDescriptors($)):i(Object($)).forEach(function(U){Object.defineProperty(O,U,Object.getOwnPropertyDescriptor($,U))})}return O}function c(O,R,$){return R=g(R),R in O?Object.defineProperty(O,R,{value:$,enumerable:!0,configurable:!0,writable:!0}):O[R]=$,O}function l(O,R){if(!(O instanceof R))throw new TypeError("Cannot call a class as a function")}function d(O,R){for(var $=0;$<R.length;$++){var U=R[$];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty(O,g(U.key),U)}}function f(O,R,$){return R&&d(O.prototype,R),Object.defineProperty(O,"prototype",{writable:!1}),O}function g(O){var R=b(O,"string");return e(R)=="symbol"?R:String(R)}function b(O,R){if(e(O)!="object"||!O)return O;var $=O[Symbol.toPrimitive];if($!==void 0){var U=$.call(O,R);if(e(U)!="object")return U;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(O)}function w(O,R){if(typeof R!="function"&&R!==null)throw new TypeError("Super expression must either be null or a function");O.prototype=Object.create(R&&R.prototype,{constructor:{value:O,writable:!0,configurable:!0}}),Object.defineProperty(O,"prototype",{writable:!1}),R&&S(O,R)}function S(O,R){return S=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(U,F){return U.__proto__=F,U},S(O,R)}function j(O){var R=M();return function(){var U=B(O),F;if(R){var H=B(this).constructor;F=Reflect.construct(U,arguments,H)}else F=U.apply(this,arguments);return N(this,F)}}function N(O,R){if(R&&(e(R)==="object"||typeof R=="function"))return R;if(R!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return I(O)}function I(O){if(O===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O}function M(){try{var O=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(M=function(){return!!O})()}function B(O){return B=Object.setPrototypeOf?Object.getPrototypeOf.bind():function($){return $.__proto__||Object.getPrototypeOf($)},B(O)}var P=function(R){var $;return R.infinite?$=Math.ceil(R.slideCount/R.slidesToScroll):$=Math.ceil((R.slideCount-R.slidesToShow)/R.slidesToScroll)+1,$};return s1.Dots=function(O){w($,O);var R=j($);function $(){return l(this,$),R.apply(this,arguments)}return f($,[{key:"clickHandler",value:function(F,H){H.preventDefault(),this.props.clickHandler(F)}},{key:"render",value:function(){for(var F=this.props,H=F.onMouseEnter,ne=F.onMouseOver,X=F.onMouseLeave,te=F.infinite,se=F.slidesToScroll,V=F.slidesToShow,q=F.slideCount,T=F.currentSlide,J=P({slideCount:q,slidesToScroll:se,slidesToShow:V,infinite:te}),Z={onMouseEnter:H,onMouseOver:ne,onMouseLeave:X},A=[],Y=0;Y<J;Y++){var K=(Y+1)*se-1,G=te?K:(0,a.clamp)(K,0,q-1),oe=G-(se-1),ee=te?oe:(0,a.clamp)(oe,0,q-1),ae=(0,n.default)({"slick-active":te?T>=ee&&T<=G:T===ee}),ie={message:"dots",index:Y,slidesToScroll:se,currentSlide:T},ue=this.clickHandler.bind(this,ie);A=A.concat(t.default.createElement("li",{key:Y,className:ae},t.default.cloneElement(this.props.customPaging(Y),{onClick:ue})))}return t.default.cloneElement(this.props.appendDots(A),o({className:this.props.dotsClass},Z))}}]),$}(t.default.PureComponent),s1}var Zd={},gI;function Tne(){if(gI)return Zd;gI=1;function e(O){"@babel/helpers - typeof";return e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(R){return typeof R}:function(R){return R&&typeof Symbol=="function"&&R.constructor===Symbol&&R!==Symbol.prototype?"symbol":typeof R},e(O)}Object.defineProperty(Zd,"__esModule",{value:!0}),Zd.PrevArrow=Zd.NextArrow=void 0;var t=r(Qc()),n=r(c0()),a=l0();function r(O){return O&&O.__esModule?O:{default:O}}function i(){return i=Object.assign?Object.assign.bind():function(O){for(var R=1;R<arguments.length;R++){var $=arguments[R];for(var U in $)Object.prototype.hasOwnProperty.call($,U)&&(O[U]=$[U])}return O},i.apply(this,arguments)}function o(O,R){var $=Object.keys(O);if(Object.getOwnPropertySymbols){var U=Object.getOwnPropertySymbols(O);R&&(U=U.filter(function(F){return Object.getOwnPropertyDescriptor(O,F).enumerable})),$.push.apply($,U)}return $}function c(O){for(var R=1;R<arguments.length;R++){var $=arguments[R]!=null?arguments[R]:{};R%2?o(Object($),!0).forEach(function(U){l(O,U,$[U])}):Object.getOwnPropertyDescriptors?Object.defineProperties(O,Object.getOwnPropertyDescriptors($)):o(Object($)).forEach(function(U){Object.defineProperty(O,U,Object.getOwnPropertyDescriptor($,U))})}return O}function l(O,R,$){return R=b(R),R in O?Object.defineProperty(O,R,{value:$,enumerable:!0,configurable:!0,writable:!0}):O[R]=$,O}function d(O,R){if(!(O instanceof R))throw new TypeError("Cannot call a class as a function")}function f(O,R){for(var $=0;$<R.length;$++){var U=R[$];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty(O,b(U.key),U)}}function g(O,R,$){return R&&f(O.prototype,R),Object.defineProperty(O,"prototype",{writable:!1}),O}function b(O){var R=w(O,"string");return e(R)=="symbol"?R:String(R)}function w(O,R){if(e(O)!="object"||!O)return O;var $=O[Symbol.toPrimitive];if($!==void 0){var U=$.call(O,R);if(e(U)!="object")return U;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(O)}function S(O,R){if(typeof R!="function"&&R!==null)throw new TypeError("Super expression must either be null or a function");O.prototype=Object.create(R&&R.prototype,{constructor:{value:O,writable:!0,configurable:!0}}),Object.defineProperty(O,"prototype",{writable:!1}),R&&j(O,R)}function j(O,R){return j=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(U,F){return U.__proto__=F,U},j(O,R)}function N(O){var R=B();return function(){var U=P(O),F;if(R){var H=P(this).constructor;F=Reflect.construct(U,arguments,H)}else F=U.apply(this,arguments);return I(this,F)}}function I(O,R){if(R&&(e(R)==="object"||typeof R=="function"))return R;if(R!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return M(O)}function M(O){if(O===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O}function B(){try{var O=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(B=function(){return!!O})()}function P(O){return P=Object.setPrototypeOf?Object.getPrototypeOf.bind():function($){return $.__proto__||Object.getPrototypeOf($)},P(O)}return Zd.PrevArrow=function(O){S($,O);var R=N($);function $(){return d(this,$),R.apply(this,arguments)}return g($,[{key:"clickHandler",value:function(F,H){H&&H.preventDefault(),this.props.clickHandler(F,H)}},{key:"render",value:function(){var F={"slick-arrow":!0,"slick-prev":!0},H=this.clickHandler.bind(this,{message:"previous"});!this.props.infinite&&(this.props.currentSlide===0||this.props.slideCount<=this.props.slidesToShow)&&(F["slick-disabled"]=!0,H=null);var ne={key:"0","data-role":"none",className:(0,n.default)(F),style:{display:"block"},onClick:H},X={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount},te;return this.props.prevArrow?te=t.default.cloneElement(this.props.prevArrow,c(c({},ne),X)):te=t.default.createElement("button",i({key:"0",type:"button"},ne)," ","Previous"),te}}]),$}(t.default.PureComponent),Zd.NextArrow=function(O){S($,O);var R=N($);function $(){return d(this,$),R.apply(this,arguments)}return g($,[{key:"clickHandler",value:function(F,H){H&&H.preventDefault(),this.props.clickHandler(F,H)}},{key:"render",value:function(){var F={"slick-arrow":!0,"slick-next":!0},H=this.clickHandler.bind(this,{message:"next"});(0,a.canGoNext)(this.props)||(F["slick-disabled"]=!0,H=null);var ne={key:"1","data-role":"none",className:(0,n.default)(F),style:{display:"block"},onClick:H},X={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount},te;return this.props.nextArrow?te=t.default.cloneElement(this.props.nextArrow,c(c({},ne),X)):te=t.default.createElement("button",i({key:"1",type:"button"},ne)," ","Next"),te}}]),$}(t.default.PureComponent),Zd}var gO=function(){if(typeof Map<"u")return Map;function e(t,n){var a=-1;return t.some(function(r,i){return r[0]===n?(a=i,!0):!1}),a}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(n){var a=e(this.__entries__,n),r=this.__entries__[a];return r&&r[1]},t.prototype.set=function(n,a){var r=e(this.__entries__,n);~r?this.__entries__[r][1]=a:this.__entries__.push([n,a])},t.prototype.delete=function(n){var a=this.__entries__,r=e(a,n);~r&&a.splice(r,1)},t.prototype.has=function(n){return!!~e(this.__entries__,n)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(n,a){a===void 0&&(a=null);for(var r=0,i=this.__entries__;r<i.length;r++){var o=i[r];n.call(a,o[1],o[0])}},t}()}(),ij=typeof window<"u"&&typeof document<"u"&&window.document===document,Tx=function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()}(),Ane=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(Tx):function(e){return setTimeout(function(){return e(Date.now())},1e3/60)}}(),Mne=2;function Rne(e,t){var n=!1,a=!1,r=0;function i(){n&&(n=!1,e()),a&&c()}function o(){Ane(i)}function c(){var l=Date.now();if(n){if(l-r<Mne)return;a=!0}else n=!0,a=!1,setTimeout(o,t);r=l}return c}var One=20,Bne=["top","right","bottom","left","width","height","size","weight"],Lne=typeof MutationObserver<"u",$ne=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=Rne(this.refresh.bind(this),One)}return e.prototype.addObserver=function(t){~this.observers_.indexOf(t)||this.observers_.push(t),this.connected_||this.connect_()},e.prototype.removeObserver=function(t){var n=this.observers_,a=n.indexOf(t);~a&&n.splice(a,1),!n.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){var t=this.updateObservers_();t&&this.refresh()},e.prototype.updateObservers_=function(){var t=this.observers_.filter(function(n){return n.gatherActive(),n.hasActive()});return t.forEach(function(n){return n.broadcastActive()}),t.length>0},e.prototype.connect_=function(){!ij||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),Lne?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){!ij||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(t){var n=t.propertyName,a=n===void 0?"":n,r=Bne.some(function(i){return!!~a.indexOf(i)});r&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),_O=function(e,t){for(var n=0,a=Object.keys(t);n<a.length;n++){var r=a[n];Object.defineProperty(e,r,{value:t[r],enumerable:!1,writable:!1,configurable:!0})}return e},gm=function(e){var t=e&&e.ownerDocument&&e.ownerDocument.defaultView;return t||Tx},vO=Fb(0,0,0,0);function Ax(e){return parseFloat(e)||0}function _I(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce(function(a,r){var i=e["border-"+r+"-width"];return a+Ax(i)},0)}function Pne(e){for(var t=["top","right","bottom","left"],n={},a=0,r=t;a<r.length;a++){var i=r[a],o=e["padding-"+i];n[i]=Ax(o)}return n}function Fne(e){var t=e.getBBox();return Fb(0,0,t.width,t.height)}function Hne(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return vO;var a=gm(e).getComputedStyle(e),r=Pne(a),i=r.left+r.right,o=r.top+r.bottom,c=Ax(a.width),l=Ax(a.height);if(a.boxSizing==="border-box"&&(Math.round(c+i)!==t&&(c-=_I(a,"left","right")+i),Math.round(l+o)!==n&&(l-=_I(a,"top","bottom")+o)),!Vne(e)){var d=Math.round(c+i)-t,f=Math.round(l+o)-n;Math.abs(d)!==1&&(c-=d),Math.abs(f)!==1&&(l-=f)}return Fb(r.left,r.top,c,l)}var zne=function(){return typeof SVGGraphicsElement<"u"?function(e){return e instanceof gm(e).SVGGraphicsElement}:function(e){return e instanceof gm(e).SVGElement&&typeof e.getBBox=="function"}}();function Vne(e){return e===gm(e).document.documentElement}function qne(e){return ij?zne(e)?Fne(e):Hne(e):vO}function Une(e){var t=e.x,n=e.y,a=e.width,r=e.height,i=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,o=Object.create(i.prototype);return _O(o,{x:t,y:n,width:a,height:r,top:n,right:t+a,bottom:r+n,left:t}),o}function Fb(e,t,n,a){return{x:e,y:t,width:n,height:a}}var Wne=function(){function e(t){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=Fb(0,0,0,0),this.target=t}return e.prototype.isActive=function(){var t=qne(this.target);return this.contentRect_=t,t.width!==this.broadcastWidth||t.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var t=this.contentRect_;return this.broadcastWidth=t.width,this.broadcastHeight=t.height,t},e}(),Yne=function(){function e(t,n){var a=Une(n);_O(this,{target:t,contentRect:a})}return e}(),Gne=function(){function e(t,n,a){if(this.activeObservations_=[],this.observations_=new gO,typeof t!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=t,this.controller_=n,this.callbackCtx_=a}return e.prototype.observe=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(t instanceof gm(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(t)||(n.set(t,new Wne(t)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(t instanceof gm(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(t)&&(n.delete(t),n.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var t=this;this.clearActive(),this.observations_.forEach(function(n){n.isActive()&&t.activeObservations_.push(n)})},e.prototype.broadcastActive=function(){if(this.hasActive()){var t=this.callbackCtx_,n=this.activeObservations_.map(function(a){return new Yne(a.target,a.broadcastRect())});this.callback_.call(t,n,t),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),xO=typeof WeakMap<"u"?new WeakMap:new gO,bO=function(){function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=$ne.getInstance(),a=new Gne(t,n,this);xO.set(this,a)}return e}();["observe","unobserve","disconnect"].forEach(function(e){bO.prototype[e]=function(){var t;return(t=xO.get(this))[e].apply(t,arguments)}});var yO=function(){return typeof Tx.ResizeObserver<"u"?Tx.ResizeObserver:bO}();const Qne=Object.freeze(Object.defineProperty({__proto__:null,default:yO},Symbol.toStringTag,{value:"Module"})),Xne=cz(Qne);var vI;function Kne(){if(vI)return t1;vI=1,Object.defineProperty(t1,"__esModule",{value:!0}),t1.InnerSlider=void 0;var e=d(Qc()),t=d(Ene()),n=d(kne()),a=d(c0()),r=l0(),i=Ine(),o=Dne(),c=Tne(),l=d(Xne);function d(te){return te&&te.__esModule?te:{default:te}}function f(te){"@babel/helpers - typeof";return f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(se){return typeof se}:function(se){return se&&typeof Symbol=="function"&&se.constructor===Symbol&&se!==Symbol.prototype?"symbol":typeof se},f(te)}function g(){return g=Object.assign?Object.assign.bind():function(te){for(var se=1;se<arguments.length;se++){var V=arguments[se];for(var q in V)Object.prototype.hasOwnProperty.call(V,q)&&(te[q]=V[q])}return te},g.apply(this,arguments)}function b(te,se){if(te==null)return{};var V=w(te,se),q,T;if(Object.getOwnPropertySymbols){var J=Object.getOwnPropertySymbols(te);for(T=0;T<J.length;T++)q=J[T],!(se.indexOf(q)>=0)&&Object.prototype.propertyIsEnumerable.call(te,q)&&(V[q]=te[q])}return V}function w(te,se){if(te==null)return{};var V={},q=Object.keys(te),T,J;for(J=0;J<q.length;J++)T=q[J],!(se.indexOf(T)>=0)&&(V[T]=te[T]);return V}function S(te,se){var V=Object.keys(te);if(Object.getOwnPropertySymbols){var q=Object.getOwnPropertySymbols(te);se&&(q=q.filter(function(T){return Object.getOwnPropertyDescriptor(te,T).enumerable})),V.push.apply(V,q)}return V}function j(te){for(var se=1;se<arguments.length;se++){var V=arguments[se]!=null?arguments[se]:{};se%2?S(Object(V),!0).forEach(function(q){H(te,q,V[q])}):Object.getOwnPropertyDescriptors?Object.defineProperties(te,Object.getOwnPropertyDescriptors(V)):S(Object(V)).forEach(function(q){Object.defineProperty(te,q,Object.getOwnPropertyDescriptor(V,q))})}return te}function N(te,se){if(!(te instanceof se))throw new TypeError("Cannot call a class as a function")}function I(te,se){for(var V=0;V<se.length;V++){var q=se[V];q.enumerable=q.enumerable||!1,q.configurable=!0,"value"in q&&(q.writable=!0),Object.defineProperty(te,ne(q.key),q)}}function M(te,se,V){return se&&I(te.prototype,se),Object.defineProperty(te,"prototype",{writable:!1}),te}function B(te,se){if(typeof se!="function"&&se!==null)throw new TypeError("Super expression must either be null or a function");te.prototype=Object.create(se&&se.prototype,{constructor:{value:te,writable:!0,configurable:!0}}),Object.defineProperty(te,"prototype",{writable:!1}),se&&P(te,se)}function P(te,se){return P=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(q,T){return q.__proto__=T,q},P(te,se)}function O(te){var se=U();return function(){var q=F(te),T;if(se){var J=F(this).constructor;T=Reflect.construct(q,arguments,J)}else T=q.apply(this,arguments);return R(this,T)}}function R(te,se){if(se&&(f(se)==="object"||typeof se=="function"))return se;if(se!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $(te)}function $(te){if(te===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return te}function U(){try{var te=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(U=function(){return!!te})()}function F(te){return F=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(V){return V.__proto__||Object.getPrototypeOf(V)},F(te)}function H(te,se,V){return se=ne(se),se in te?Object.defineProperty(te,se,{value:V,enumerable:!0,configurable:!0,writable:!0}):te[se]=V,te}function ne(te){var se=X(te,"string");return f(se)=="symbol"?se:String(se)}function X(te,se){if(f(te)!="object"||!te)return te;var V=te[Symbol.toPrimitive];if(V!==void 0){var q=V.call(te,se);if(f(q)!="object")return q;throw new TypeError("@@toPrimitive must return a primitive value.")}return(se==="string"?String:Number)(te)}return t1.InnerSlider=function(te){B(V,te);var se=O(V);function V(q){var T;N(this,V),T=se.call(this,q),H($(T),"listRefHandler",function(Z){return T.list=Z}),H($(T),"trackRefHandler",function(Z){return T.track=Z}),H($(T),"adaptHeight",function(){if(T.props.adaptiveHeight&&T.list){var Z=T.list.querySelector('[data-index="'.concat(T.state.currentSlide,'"]'));T.list.style.height=(0,r.getHeight)(Z)+"px"}}),H($(T),"componentDidMount",function(){if(T.props.onInit&&T.props.onInit(),T.props.lazyLoad){var Z=(0,r.getOnDemandLazySlides)(j(j({},T.props),T.state));Z.length>0&&(T.setState(function(Y){return{lazyLoadedList:Y.lazyLoadedList.concat(Z)}}),T.props.onLazyLoad&&T.props.onLazyLoad(Z))}var A=j({listRef:T.list,trackRef:T.track},T.props);T.updateState(A,!0,function(){T.adaptHeight(),T.props.autoplay&&T.autoPlay("update")}),T.props.lazyLoad==="progressive"&&(T.lazyLoadTimer=setInterval(T.progressiveLazyLoad,1e3)),T.ro=new l.default(function(){T.state.animating?(T.onWindowResized(!1),T.callbackTimers.push(setTimeout(function(){return T.onWindowResized()},T.props.speed))):T.onWindowResized()}),T.ro.observe(T.list),document.querySelectorAll&&Array.prototype.forEach.call(document.querySelectorAll(".slick-slide"),function(Y){Y.onfocus=T.props.pauseOnFocus?T.onSlideFocus:null,Y.onblur=T.props.pauseOnFocus?T.onSlideBlur:null}),window.addEventListener?window.addEventListener("resize",T.onWindowResized):window.attachEvent("onresize",T.onWindowResized)}),H($(T),"componentWillUnmount",function(){T.animationEndCallback&&clearTimeout(T.animationEndCallback),T.lazyLoadTimer&&clearInterval(T.lazyLoadTimer),T.callbackTimers.length&&(T.callbackTimers.forEach(function(Z){return clearTimeout(Z)}),T.callbackTimers=[]),window.addEventListener?window.removeEventListener("resize",T.onWindowResized):window.detachEvent("onresize",T.onWindowResized),T.autoplayTimer&&clearInterval(T.autoplayTimer),T.ro.disconnect()}),H($(T),"componentDidUpdate",function(Z){if(T.checkImagesLoad(),T.props.onReInit&&T.props.onReInit(),T.props.lazyLoad){var A=(0,r.getOnDemandLazySlides)(j(j({},T.props),T.state));A.length>0&&(T.setState(function(G){return{lazyLoadedList:G.lazyLoadedList.concat(A)}}),T.props.onLazyLoad&&T.props.onLazyLoad(A))}T.adaptHeight();var Y=j(j({listRef:T.list,trackRef:T.track},T.props),T.state),K=T.didPropsChange(Z);K&&T.updateState(Y,K,function(){T.state.currentSlide>=e.default.Children.count(T.props.children)&&T.changeSlide({message:"index",index:e.default.Children.count(T.props.children)-T.props.slidesToShow,currentSlide:T.state.currentSlide}),T.props.autoplay?T.autoPlay("update"):T.pause("paused")})}),H($(T),"onWindowResized",function(Z){T.debouncedResize&&T.debouncedResize.cancel(),T.debouncedResize=(0,n.default)(function(){return T.resizeWindow(Z)},50),T.debouncedResize()}),H($(T),"resizeWindow",function(){var Z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,A=!!(T.track&&T.track.node);if(A){var Y=j(j({listRef:T.list,trackRef:T.track},T.props),T.state);T.updateState(Y,Z,function(){T.props.autoplay?T.autoPlay("update"):T.pause("paused")}),T.setState({animating:!1}),clearTimeout(T.animationEndCallback),delete T.animationEndCallback}}),H($(T),"updateState",function(Z,A,Y){var K=(0,r.initializedState)(Z);Z=j(j(j({},Z),K),{},{slideIndex:K.currentSlide});var G=(0,r.getTrackLeft)(Z);Z=j(j({},Z),{},{left:G});var oe=(0,r.getTrackCSS)(Z);(A||e.default.Children.count(T.props.children)!==e.default.Children.count(Z.children))&&(K.trackStyle=oe),T.setState(K,Y)}),H($(T),"ssrInit",function(){if(T.props.variableWidth){var Z=0,A=0,Y=[],K=(0,r.getPreClones)(j(j(j({},T.props),T.state),{},{slideCount:T.props.children.length})),G=(0,r.getPostClones)(j(j(j({},T.props),T.state),{},{slideCount:T.props.children.length}));T.props.children.forEach(function(fe){Y.push(fe.props.style.width),Z+=fe.props.style.width});for(var oe=0;oe<K;oe++)A+=Y[Y.length-1-oe],Z+=Y[Y.length-1-oe];for(var ee=0;ee<G;ee++)Z+=Y[ee];for(var ae=0;ae<T.state.currentSlide;ae++)A+=Y[ae];var ie={width:Z+"px",left:-A+"px"};if(T.props.centerMode){var ue="".concat(Y[T.state.currentSlide],"px");ie.left="calc(".concat(ie.left," + (100% - ").concat(ue,") / 2 ) ")}return{trackStyle:ie}}var he=e.default.Children.count(T.props.children),ge=j(j(j({},T.props),T.state),{},{slideCount:he}),ye=(0,r.getPreClones)(ge)+(0,r.getPostClones)(ge)+he,je=100/T.props.slidesToShow*ye,Ie=100/ye,me=-Ie*((0,r.getPreClones)(ge)+T.state.currentSlide)*je/100;T.props.centerMode&&(me+=(100-Ie*je/100)/2);var de={width:je+"%",left:me+"%"};return{slideWidth:Ie+"%",trackStyle:de}}),H($(T),"checkImagesLoad",function(){var Z=T.list&&T.list.querySelectorAll&&T.list.querySelectorAll(".slick-slide img")||[],A=Z.length,Y=0;Array.prototype.forEach.call(Z,function(K){var G=function(){return++Y&&Y>=A&&T.onWindowResized()};if(!K.onclick)K.onclick=function(){return K.parentNode.focus()};else{var oe=K.onclick;K.onclick=function(ee){oe(ee),K.parentNode.focus()}}K.onload||(T.props.lazyLoad?K.onload=function(){T.adaptHeight(),T.callbackTimers.push(setTimeout(T.onWindowResized,T.props.speed))}:(K.onload=G,K.onerror=function(){G(),T.props.onLazyLoadError&&T.props.onLazyLoadError()}))})}),H($(T),"progressiveLazyLoad",function(){for(var Z=[],A=j(j({},T.props),T.state),Y=T.state.currentSlide;Y<T.state.slideCount+(0,r.getPostClones)(A);Y++)if(T.state.lazyLoadedList.indexOf(Y)<0){Z.push(Y);break}for(var K=T.state.currentSlide-1;K>=-(0,r.getPreClones)(A);K--)if(T.state.lazyLoadedList.indexOf(K)<0){Z.push(K);break}Z.length>0?(T.setState(function(G){return{lazyLoadedList:G.lazyLoadedList.concat(Z)}}),T.props.onLazyLoad&&T.props.onLazyLoad(Z)):T.lazyLoadTimer&&(clearInterval(T.lazyLoadTimer),delete T.lazyLoadTimer)}),H($(T),"slideHandler",function(Z){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,Y=T.props,K=Y.asNavFor,G=Y.beforeChange,oe=Y.onLazyLoad,ee=Y.speed,ae=Y.afterChange,ie=T.state.currentSlide,ue=(0,r.slideHandler)(j(j(j({index:Z},T.props),T.state),{},{trackRef:T.track,useCSS:T.props.useCSS&&!A})),he=ue.state,ge=ue.nextState;if(he){G&&G(ie,he.currentSlide);var ye=he.lazyLoadedList.filter(function(je){return T.state.lazyLoadedList.indexOf(je)<0});oe&&ye.length>0&&oe(ye),!T.props.waitForAnimate&&T.animationEndCallback&&(clearTimeout(T.animationEndCallback),ae&&ae(ie),delete T.animationEndCallback),T.setState(he,function(){K&&T.asNavForIndex!==Z&&(T.asNavForIndex=Z,K.innerSlider.slideHandler(Z)),ge&&(T.animationEndCallback=setTimeout(function(){var je=ge.animating,Ie=b(ge,["animating"]);T.setState(Ie,function(){T.callbackTimers.push(setTimeout(function(){return T.setState({animating:je})},10)),ae&&ae(he.currentSlide),delete T.animationEndCallback})},ee))})}}),H($(T),"changeSlide",function(Z){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,Y=j(j({},T.props),T.state),K=(0,r.changeSlide)(Y,Z);if(!(K!==0&&!K)&&(A===!0?T.slideHandler(K,A):T.slideHandler(K),T.props.autoplay&&T.autoPlay("update"),T.props.focusOnSelect)){var G=T.list.querySelectorAll(".slick-current");G[0]&&G[0].focus()}}),H($(T),"clickHandler",function(Z){T.clickable===!1&&(Z.stopPropagation(),Z.preventDefault()),T.clickable=!0}),H($(T),"keyHandler",function(Z){var A=(0,r.keyHandler)(Z,T.props.accessibility,T.props.rtl);A!==""&&T.changeSlide({message:A})}),H($(T),"selectHandler",function(Z){T.changeSlide(Z)}),H($(T),"disableBodyScroll",function(){var Z=function(Y){Y=Y||window.event,Y.preventDefault&&Y.preventDefault(),Y.returnValue=!1};window.ontouchmove=Z}),H($(T),"enableBodyScroll",function(){window.ontouchmove=null}),H($(T),"swipeStart",function(Z){T.props.verticalSwiping&&T.disableBodyScroll();var A=(0,r.swipeStart)(Z,T.props.swipe,T.props.draggable);A!==""&&T.setState(A)}),H($(T),"swipeMove",function(Z){var A=(0,r.swipeMove)(Z,j(j(j({},T.props),T.state),{},{trackRef:T.track,listRef:T.list,slideIndex:T.state.currentSlide}));A&&(A.swiping&&(T.clickable=!1),T.setState(A))}),H($(T),"swipeEnd",function(Z){var A=(0,r.swipeEnd)(Z,j(j(j({},T.props),T.state),{},{trackRef:T.track,listRef:T.list,slideIndex:T.state.currentSlide}));if(A){var Y=A.triggerSlideHandler;delete A.triggerSlideHandler,T.setState(A),Y!==void 0&&(T.slideHandler(Y),T.props.verticalSwiping&&T.enableBodyScroll())}}),H($(T),"touchEnd",function(Z){T.swipeEnd(Z),T.clickable=!0}),H($(T),"slickPrev",function(){T.callbackTimers.push(setTimeout(function(){return T.changeSlide({message:"previous"})},0))}),H($(T),"slickNext",function(){T.callbackTimers.push(setTimeout(function(){return T.changeSlide({message:"next"})},0))}),H($(T),"slickGoTo",function(Z){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(Z=Number(Z),isNaN(Z))return"";T.callbackTimers.push(setTimeout(function(){return T.changeSlide({message:"index",index:Z,currentSlide:T.state.currentSlide},A)},0))}),H($(T),"play",function(){var Z;if(T.props.rtl)Z=T.state.currentSlide-T.props.slidesToScroll;else if((0,r.canGoNext)(j(j({},T.props),T.state)))Z=T.state.currentSlide+T.props.slidesToScroll;else return!1;T.slideHandler(Z)}),H($(T),"autoPlay",function(Z){T.autoplayTimer&&clearInterval(T.autoplayTimer);var A=T.state.autoplaying;if(Z==="update"){if(A==="hovered"||A==="focused"||A==="paused")return}else if(Z==="leave"){if(A==="paused"||A==="focused")return}else if(Z==="blur"&&(A==="paused"||A==="hovered"))return;T.autoplayTimer=setInterval(T.play,T.props.autoplaySpeed+50),T.setState({autoplaying:"playing"})}),H($(T),"pause",function(Z){T.autoplayTimer&&(clearInterval(T.autoplayTimer),T.autoplayTimer=null);var A=T.state.autoplaying;Z==="paused"?T.setState({autoplaying:"paused"}):Z==="focused"?(A==="hovered"||A==="playing")&&T.setState({autoplaying:"focused"}):A==="playing"&&T.setState({autoplaying:"hovered"})}),H($(T),"onDotsOver",function(){return T.props.autoplay&&T.pause("hovered")}),H($(T),"onDotsLeave",function(){return T.props.autoplay&&T.state.autoplaying==="hovered"&&T.autoPlay("leave")}),H($(T),"onTrackOver",function(){return T.props.autoplay&&T.pause("hovered")}),H($(T),"onTrackLeave",function(){return T.props.autoplay&&T.state.autoplaying==="hovered"&&T.autoPlay("leave")}),H($(T),"onSlideFocus",function(){return T.props.autoplay&&T.pause("focused")}),H($(T),"onSlideBlur",function(){return T.props.autoplay&&T.state.autoplaying==="focused"&&T.autoPlay("blur")}),H($(T),"render",function(){var Z=(0,a.default)("slick-slider",T.props.className,{"slick-vertical":T.props.vertical,"slick-initialized":!0}),A=j(j({},T.props),T.state),Y=(0,r.extractObject)(A,["fade","cssEase","speed","infinite","centerMode","focusOnSelect","currentSlide","lazyLoad","lazyLoadedList","rtl","slideWidth","slideHeight","listHeight","vertical","slidesToShow","slidesToScroll","slideCount","trackStyle","variableWidth","unslick","centerPadding","targetSlide","useCSS"]),K=T.props.pauseOnHover;Y=j(j({},Y),{},{onMouseEnter:K?T.onTrackOver:null,onMouseLeave:K?T.onTrackLeave:null,onMouseOver:K?T.onTrackOver:null,focusOnSelect:T.props.focusOnSelect&&T.clickable?T.selectHandler:null});var G;if(T.props.dots===!0&&T.state.slideCount>=T.props.slidesToShow){var oe=(0,r.extractObject)(A,["dotsClass","slideCount","slidesToShow","currentSlide","slidesToScroll","clickHandler","children","customPaging","infinite","appendDots"]),ee=T.props.pauseOnDotsHover;oe=j(j({},oe),{},{clickHandler:T.changeSlide,onMouseEnter:ee?T.onDotsLeave:null,onMouseOver:ee?T.onDotsOver:null,onMouseLeave:ee?T.onDotsLeave:null}),G=e.default.createElement(o.Dots,oe)}var ae,ie,ue=(0,r.extractObject)(A,["infinite","centerMode","currentSlide","slideCount","slidesToShow","prevArrow","nextArrow"]);ue.clickHandler=T.changeSlide,T.props.arrows&&(ae=e.default.createElement(c.PrevArrow,ue),ie=e.default.createElement(c.NextArrow,ue));var he=null;T.props.vertical&&(he={height:T.state.listHeight});var ge=null;T.props.vertical===!1?T.props.centerMode===!0&&(ge={padding:"0px "+T.props.centerPadding}):T.props.centerMode===!0&&(ge={padding:T.props.centerPadding+" 0px"});var ye=j(j({},he),ge),je=T.props.touchMove,Ie={className:"slick-list",style:ye,onClick:T.clickHandler,onMouseDown:je?T.swipeStart:null,onMouseMove:T.state.dragging&&je?T.swipeMove:null,onMouseUp:je?T.swipeEnd:null,onMouseLeave:T.state.dragging&&je?T.swipeEnd:null,onTouchStart:je?T.swipeStart:null,onTouchMove:T.state.dragging&&je?T.swipeMove:null,onTouchEnd:je?T.touchEnd:null,onTouchCancel:T.state.dragging&&je?T.swipeEnd:null,onKeyDown:T.props.accessibility?T.keyHandler:null},me={className:Z,dir:"ltr",style:T.props.style};return T.props.unslick&&(Ie={className:"slick-list"},me={className:Z}),e.default.createElement("div",me,T.props.unslick?"":ae,e.default.createElement("div",g({ref:T.listRefHandler},Ie),e.default.createElement(i.Track,g({ref:T.trackRefHandler},Y),T.props.children)),T.props.unslick?"":ie,T.props.unslick?"":G)}),T.list=null,T.track=null,T.state=j(j({},t.default),{},{currentSlide:T.props.initialSlide,targetSlide:T.props.initialSlide?T.props.initialSlide:0,slideCount:e.default.Children.count(T.props.children)}),T.callbackTimers=[],T.clickable=!0,T.debouncedResize=null;var J=T.ssrInit();return T.state=j(j({},T.state),J),T}return M(V,[{key:"didPropsChange",value:function(T){for(var J=!1,Z=0,A=Object.keys(this.props);Z<A.length;Z++){var Y=A[Z];if(!T.hasOwnProperty(Y)){J=!0;break}if(!(f(T[Y])==="object"||typeof T[Y]=="function"||isNaN(T[Y]))&&T[Y]!==this.props[Y]){J=!0;break}}return J||e.default.Children.count(this.props.children)!==e.default.Children.count(T.children)}}]),V}(e.default.Component),t1}var aC,xI;function Zne(){if(xI)return aC;xI=1;var e=function(t){return t.replace(/[A-Z]/g,function(n){return"-"+n.toLowerCase()}).toLowerCase()};return aC=e,aC}var rC,bI;function Jne(){if(bI)return rC;bI=1;var e=Zne(),t=function(r){var i=/[height|width]$/;return i.test(r)},n=function(r){var i="",o=Object.keys(r);return o.forEach(function(c,l){var d=r[c];c=e(c),t(c)&&typeof d=="number"&&(d=d+"px"),d===!0?i+=c:d===!1?i+="not "+c:i+="("+c+": "+d+")",l<o.length-1&&(i+=" and ")}),i},a=function(r){var i="";return typeof r=="string"?r:r instanceof Array?(r.forEach(function(o,c){i+=n(o),c<r.length-1&&(i+=", ")}),i):n(r)};return rC=a,rC}var iC,yI;function ese(){if(yI)return iC;yI=1;function e(t){this.options=t,!t.deferSetup&&this.setup()}return e.prototype={constructor:e,setup:function(){this.options.setup&&this.options.setup(),this.initialised=!0},on:function(){!this.initialised&&this.setup(),this.options.match&&this.options.match()},off:function(){this.options.unmatch&&this.options.unmatch()},destroy:function(){this.options.destroy?this.options.destroy():this.off()},equals:function(t){return this.options===t||this.options.match===t}},iC=e,iC}var oC,wI;function wO(){if(wI)return oC;wI=1;function e(a,r){var i=0,o=a.length,c;for(i;i<o&&(c=r(a[i],i),c!==!1);i++);}function t(a){return Object.prototype.toString.apply(a)==="[object Array]"}function n(a){return typeof a=="function"}return oC={isFunction:n,isArray:t,each:e},oC}var cC,CI;function tse(){if(CI)return cC;CI=1;var e=ese(),t=wO().each;function n(a,r){this.query=a,this.isUnconditional=r,this.handlers=[],this.mql=window.matchMedia(a);var i=this;this.listener=function(o){i.mql=o.currentTarget||o,i.assess()},this.mql.addListener(this.listener)}return n.prototype={constuctor:n,addHandler:function(a){var r=new e(a);this.handlers.push(r),this.matches()&&r.on()},removeHandler:function(a){var r=this.handlers;t(r,function(i,o){if(i.equals(a))return i.destroy(),!r.splice(o,1)})},matches:function(){return this.mql.matches||this.isUnconditional},clear:function(){t(this.handlers,function(a){a.destroy()}),this.mql.removeListener(this.listener),this.handlers.length=0},assess:function(){var a=this.matches()?"on":"off";t(this.handlers,function(r){r[a]()})}},cC=n,cC}var lC,SI;function nse(){if(SI)return lC;SI=1;var e=tse(),t=wO(),n=t.each,a=t.isFunction,r=t.isArray;function i(){if(!window.matchMedia)throw new Error("matchMedia not present, legacy browsers require a polyfill");this.queries={},this.browserIsIncapable=!window.matchMedia("only all").matches}return i.prototype={constructor:i,register:function(o,c,l){var d=this.queries,f=l&&this.browserIsIncapable;return d[o]||(d[o]=new e(o,f)),a(c)&&(c={match:c}),r(c)||(c=[c]),n(c,function(g){a(g)&&(g={match:g}),d[o].addHandler(g)}),this},unregister:function(o,c){var l=this.queries[o];return l&&(c?l.removeHandler(c):(l.clear(),delete this.queries[o])),this}},lC=i,lC}var uC,jI;function sse(){if(jI)return uC;jI=1;var e=nse();return uC=new e,uC}var NI;function ase(){return NI||(NI=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=o(Qc()),n=Kne(),a=o(Jne()),r=o(pO()),i=l0();function o(F){return F&&F.__esModule?F:{default:F}}function c(F){"@babel/helpers - typeof";return c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(H){return typeof H}:function(H){return H&&typeof Symbol=="function"&&H.constructor===Symbol&&H!==Symbol.prototype?"symbol":typeof H},c(F)}function l(){return l=Object.assign?Object.assign.bind():function(F){for(var H=1;H<arguments.length;H++){var ne=arguments[H];for(var X in ne)Object.prototype.hasOwnProperty.call(ne,X)&&(F[X]=ne[X])}return F},l.apply(this,arguments)}function d(F,H){var ne=Object.keys(F);if(Object.getOwnPropertySymbols){var X=Object.getOwnPropertySymbols(F);H&&(X=X.filter(function(te){return Object.getOwnPropertyDescriptor(F,te).enumerable})),ne.push.apply(ne,X)}return ne}function f(F){for(var H=1;H<arguments.length;H++){var ne=arguments[H]!=null?arguments[H]:{};H%2?d(Object(ne),!0).forEach(function(X){O(F,X,ne[X])}):Object.getOwnPropertyDescriptors?Object.defineProperties(F,Object.getOwnPropertyDescriptors(ne)):d(Object(ne)).forEach(function(X){Object.defineProperty(F,X,Object.getOwnPropertyDescriptor(ne,X))})}return F}function g(F,H){if(!(F instanceof H))throw new TypeError("Cannot call a class as a function")}function b(F,H){for(var ne=0;ne<H.length;ne++){var X=H[ne];X.enumerable=X.enumerable||!1,X.configurable=!0,"value"in X&&(X.writable=!0),Object.defineProperty(F,R(X.key),X)}}function w(F,H,ne){return H&&b(F.prototype,H),Object.defineProperty(F,"prototype",{writable:!1}),F}function S(F,H){if(typeof H!="function"&&H!==null)throw new TypeError("Super expression must either be null or a function");F.prototype=Object.create(H&&H.prototype,{constructor:{value:F,writable:!0,configurable:!0}}),Object.defineProperty(F,"prototype",{writable:!1}),H&&j(F,H)}function j(F,H){return j=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(X,te){return X.__proto__=te,X},j(F,H)}function N(F){var H=B();return function(){var X=P(F),te;if(H){var se=P(this).constructor;te=Reflect.construct(X,arguments,se)}else te=X.apply(this,arguments);return I(this,te)}}function I(F,H){if(H&&(c(H)==="object"||typeof H=="function"))return H;if(H!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return M(F)}function M(F){if(F===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return F}function B(){try{var F=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(B=function(){return!!F})()}function P(F){return P=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(ne){return ne.__proto__||Object.getPrototypeOf(ne)},P(F)}function O(F,H,ne){return H=R(H),H in F?Object.defineProperty(F,H,{value:ne,enumerable:!0,configurable:!0,writable:!0}):F[H]=ne,F}function R(F){var H=$(F,"string");return c(H)=="symbol"?H:String(H)}function $(F,H){if(c(F)!="object"||!F)return F;var ne=F[Symbol.toPrimitive];if(ne!==void 0){var X=ne.call(F,H);if(c(X)!="object")return X;throw new TypeError("@@toPrimitive must return a primitive value.")}return(H==="string"?String:Number)(F)}var U=(0,i.canUseDOM)()&&sse();e.default=function(F){S(ne,F);var H=N(ne);function ne(X){var te;return g(this,ne),te=H.call(this,X),O(M(te),"innerSliderRefHandler",function(se){return te.innerSlider=se}),O(M(te),"slickPrev",function(){return te.innerSlider.slickPrev()}),O(M(te),"slickNext",function(){return te.innerSlider.slickNext()}),O(M(te),"slickGoTo",function(se){var V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return te.innerSlider.slickGoTo(se,V)}),O(M(te),"slickPause",function(){return te.innerSlider.pause("paused")}),O(M(te),"slickPlay",function(){return te.innerSlider.autoPlay("play")}),te.state={breakpoint:null},te._responsiveMediaHandlers=[],te}return w(ne,[{key:"media",value:function(te,se){U.register(te,se),this._responsiveMediaHandlers.push({query:te,handler:se})}},{key:"componentDidMount",value:function(){var te=this;if(this.props.responsive){var se=this.props.responsive.map(function(q){return q.breakpoint});se.sort(function(q,T){return q-T}),se.forEach(function(q,T){var J;T===0?J=(0,a.default)({minWidth:0,maxWidth:q}):J=(0,a.default)({minWidth:se[T-1]+1,maxWidth:q}),(0,i.canUseDOM)()&&te.media(J,function(){te.setState({breakpoint:q})})});var V=(0,a.default)({minWidth:se.slice(-1)[0]});(0,i.canUseDOM)()&&this.media(V,function(){te.setState({breakpoint:null})})}}},{key:"componentWillUnmount",value:function(){this._responsiveMediaHandlers.forEach(function(te){U.unregister(te.query,te.handler)})}},{key:"render",value:function(){var te=this,se,V;this.state.breakpoint?(V=this.props.responsive.filter(function(ee){return ee.breakpoint===te.state.breakpoint}),se=V[0].settings==="unslick"?"unslick":f(f(f({},r.default),this.props),V[0].settings)):se=f(f({},r.default),this.props),se.centerMode&&(se.slidesToScroll>1,se.slidesToScroll=1),se.fade&&(se.slidesToShow>1,se.slidesToScroll>1,se.slidesToShow=1,se.slidesToScroll=1);var q=t.default.Children.toArray(this.props.children);q=q.filter(function(ee){return typeof ee=="string"?!!ee.trim():!!ee}),se.variableWidth&&(se.rows>1||se.slidesPerRow>1)&&(console.warn("variableWidth is not supported in case of rows > 1 or slidesPerRow > 1"),se.variableWidth=!1);for(var T=[],J=null,Z=0;Z<q.length;Z+=se.rows*se.slidesPerRow){for(var A=[],Y=Z;Y<Z+se.rows*se.slidesPerRow;Y+=se.slidesPerRow){for(var K=[],G=Y;G<Y+se.slidesPerRow&&(se.variableWidth&&q[G].props.style&&(J=q[G].props.style.width),!(G>=q.length));G+=1)K.push(t.default.cloneElement(q[G],{key:100*Z+10*Y+G,tabIndex:-1,style:{width:"".concat(100/se.slidesPerRow,"%"),display:"inline-block"}}));A.push(t.default.createElement("div",{key:10*Z+Y},K))}se.variableWidth?T.push(t.default.createElement("div",{key:Z,style:{width:J}},A)):T.push(t.default.createElement("div",{key:Z},A))}if(se==="unslick"){var oe="regular slider "+(this.props.className||"");return t.default.createElement("div",{className:oe},q)}else T.length<=se.slidesToShow&&!se.infinite&&(se.unslick=!0);return t.default.createElement(n.InnerSlider,l({style:this.props.style,ref:this.innerSliderRefHandler},(0,i.filterSettings)(se)),T)}}]),ne}(t.default.Component)}(Jw)),Jw}var EI;function rse(){return EI||(EI=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=n(ase());function n(a){return a&&a.__esModule?a:{default:a}}e.default=t.default}(Zw)),Zw}var ise=rse();const dC=Si(ise),ose=({width:e="100%",height:t="100%",background:n="transparent",borderRadius:a="8px",borderColor:r="rgba(255, 255, 255, 0.1)",children:i,glareColor:o="#ffffff",glareOpacity:c=1,glareAngle:l=-30,glareSize:d=300,transitionDuration:f=1250,playOnce:g=!1,className:b="",style:w={}})=>{const S=o.replace("#","");let j=o;if(/^[0-9A-Fa-f]{6}$/.test(S)){const I=parseInt(S.slice(0,2),16),M=parseInt(S.slice(2,4),16),B=parseInt(S.slice(4,6),16);j=`rgba(${I}, ${M}, ${B}, ${c})`}else if(/^[0-9A-Fa-f]{3}$/.test(S)){const I=parseInt(S[0]+S[0],16),M=parseInt(S[1]+S[1],16),B=parseInt(S[2]+S[2],16);j=`rgba(${I}, ${M}, ${B}, ${c})`}const N={"--gh-width":e,"--gh-height":t,"--gh-bg":n,"--gh-br":a,"--gh-angle":`${l}deg`,"--gh-duration":`${f}ms`,"--gh-size":`${d}%`,"--gh-rgba":j,"--gh-border":r};return s.jsx("div",{className:`glare-hover ${g?"glare-hover--play-once":""} ${b}`,style:{...N,...w,display:"flex",flexDirection:"column",justifyContent:"center",width:"100%",height:"100%"},children:i})},cse=()=>{const{pk:e}=fa();Rs();const[t,n]=v.useState(null),[a,r]=v.useState(!0),[i,o]=v.useState(null),[c,l]=v.useState(0),[d,f]=v.useState(1),[g,b]=v.useState("description"),[w,S]=v.useState(null),[j,N]=v.useState({}),I=v.useRef(null),M=v.useRef(null);v.useEffect(()=>{(async()=>{try{r(!0);const V=await Re.get(`marketplace/api/products/${e}/`);if(n(V.data),V.data.product.default_variant){S(V.data.product.default_variant.id);const q={};V.data.product.default_variant.attributes.forEach(T=>{q[T.attribute_id]=T.display_value}),N(q)}}catch(V){o(V.message||"    ")}finally{r(!1)}})()},[e]);const B=()=>t?w?t.product.variants.find(se=>se.id===w):t.product.default_variant:null,P=(se,V)=>{N(q=>{const T={...q,[se]:V},J=t.product.variants.find(Z=>Z.attributes.some(A=>A.attribute_id===Number(se)&&A.display_value===V));if(J){S(J.id);const Z={};return J.attributes.forEach(A=>{Z[A.attribute_id]=A.display_value}),Z}return T})},O=(se,V)=>!t||!t.product||!t.product.variants?!1:t.product.variants.some(T=>T.attributes.some(J=>J.attribute_id===Number(se)&&J.display_value===V)),R=()=>{const se=B();se&&console.log("  :",{productId:t.product.id,variantId:se.id,quantity:d,price:se.current_price})};if(a)return s.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh"},children:s.jsx(Wn,{size:"large"})});if(i)return s.jsx("div",{className:"product-error",children:i});if(!t)return s.jsx("div",{className:"product-not-found",children:"  "});const{product:$,same_products:U}=t,F=B(),H={};$.available_attributes&&Object.entries($.available_attributes).forEach(([se,V])=>{H[V.attribute_id]={name:se,values:V.values,required:V.required}});const ne={dots:!0,infinite:U.length>4,speed:500,slidesToShow:4,slidesToScroll:1,arrows:!0,responsive:[{breakpoint:1024,settings:{slidesToShow:3,slidesToScroll:1}},{breakpoint:768,settings:{slidesToShow:2,slidesToScroll:1}},{breakpoint:480,settings:{slidesToShow:1,slidesToScroll:1}}]},X={asNavFor:M.current,ref:I,arrows:!0,fade:!0,beforeChange:(se,V)=>l(V)},te={asNavFor:I.current,ref:M,slidesToShow:Math.min($.images.length,5),swipeToSlide:!0,focusOnSelect:!0,arrows:!1,centerMode:!1,centerPadding:"0",infinite:!1,variableWidth:!0};return s.jsxs("div",{className:"product-detail",children:[s.jsx(sO,{breadcrumbs:t.breadcrumbs,currentPage:$.name}),s.jsxs("div",{className:"product-main",children:[s.jsxs("div",{className:"product-gallery",children:[s.jsx(dC,{...X,className:"main-slider",children:$.images.map((se,V)=>s.jsx("div",{className:"slide",children:s.jsxs("div",{className:"main-image",children:[s.jsx("div",{className:"blurred-bg",style:{backgroundImage:`url(${se.image})`}}),s.jsx("img",{src:se.image,alt:`Product ${V}`,className:"contained-image"})]})},V))}),s.jsx(dC,{...te,className:"thumbs-slider",children:$.images.map((se,V)=>s.jsx("div",{className:`thumbnail-slide ${c===V?"active":""}`,children:s.jsx("div",{className:"thumbnail",style:{backgroundImage:`url(${se.image})`},onClick:()=>l(V)})},V))})]}),s.jsxs("div",{className:"product-info",children:[s.jsx("h1",{className:"product-title",children:$.name}),s.jsxs("div",{className:"product-meta",children:[s.jsxs("span",{className:"product-id",children:[": ",(F==null?void 0:F.sku)||$.id]}),s.jsx("span",{className:`stock ${(F==null?void 0:F.stock_quantity)>0?"in-stock":"out-of-stock"}`,children:(F==null?void 0:F.stock_quantity)>0?" ":"  "})]}),s.jsxs("div",{className:"product-rating",children:[[...Array(5)].map((se,V)=>V<4?s.jsx(ih,{className:"star filled"},V):s.jsx(iK,{className:"star"},V)),s.jsxs("span",{className:"rating-text",children:["(",Math.floor(Math.random()*50)+1," )"]})]}),F&&s.jsxs("div",{className:"product-price",children:[s.jsxs("span",{className:"current",children:[parseFloat(F.current_price).toLocaleString("ru-RU")," "]}),F.discount>0&&s.jsxs(s.Fragment,{children:[s.jsxs("span",{className:"old",children:[parseFloat(F.price).toLocaleString("ru-RU")," "]}),s.jsxs("span",{className:"discount",children:["-",F.discount,"%"]})]})]}),Object.entries(H).map(([se,V])=>s.jsxs("div",{className:"attribute-selector",children:[s.jsxs("h4",{children:[V.name,":"]}),s.jsx("div",{className:"attribute-values",children:V.values.map(q=>s.jsx("button",{className:`attribute-value ${j[se]===q?"selected":""}`,onClick:()=>P(Number(se),q),disabled:!O(Number(se),q),children:q},q))})]},se)),s.jsx("div",{className:"coming-soon-overlay",children:s.jsxs(ose,{width:"100%",height:"auto",background:"transparent",borderRadius:"8px",borderColor:"rgba(255, 255, 255, 0.1)",glareColor:"#ffffff",glareOpacity:1,glareAngle:-30,glareSize:300,transitionDuration:1250,playOnce:!1,style:{padding:"20px"},children:[s.jsxs("div",{className:"disabled-content",children:[s.jsxs("div",{className:"product-actions",children:[s.jsxs("div",{className:"quantity-control",children:[s.jsx("button",{onClick:()=>f(Math.max(1,d-1)),disabled:!F||F.stock_quantity<=0,children:""}),s.jsx("span",{children:d}),s.jsx("button",{onClick:()=>f(d+1),disabled:!F||F.stock_quantity<=0,children:"+"})]}),s.jsxs("button",{className:"add-to-cart",onClick:R,disabled:!F||F.stock_quantity<=0,children:[s.jsx(Nne,{}),(F==null?void 0:F.stock_quantity)>0?"  ":"  "]})]}),s.jsxs("div",{className:"delivery-info",children:[s.jsxs("div",{className:"delivery-item",children:[s.jsx("div",{className:"icon",children:""}),s.jsxs("div",{children:[s.jsx("h4",{children:" "}),s.jsx("p",{children:"1-3 "})]})]}),s.jsxs("div",{className:"delivery-item",children:[s.jsx("div",{className:"icon",children:""}),s.jsxs("div",{children:[s.jsx("h4",{children:" "}),s.jsx("p",{children:"14   "})]})]})]})]}),s.jsx("div",{className:"coming-soon-text",children:"..."})]})})]})]}),s.jsxs("div",{className:"product-tabs",children:[s.jsx("button",{className:`tab ${g==="description"?"active":""}`,onClick:()=>b("description"),children:""}),s.jsx("button",{className:`tab ${g==="specs"?"active":""}`,onClick:()=>b("specs"),children:""})]}),s.jsxs("div",{className:"tab-content",children:[g==="description"&&s.jsx("div",{className:"description",children:s.jsx("p",{children:$.description||" ."})}),g==="specs"&&s.jsx("div",{className:"specifications",children:s.jsx("table",{children:s.jsx("tbody",{children:F==null?void 0:F.attributes.map(se=>s.jsxs("tr",{children:[s.jsx("td",{children:se.attribute_name}),s.jsx("td",{children:se.display_value})]},se.id))})})}),g==="reviews"&&s.jsx("div",{className:"reviews",children:s.jsxs("div",{className:"review",children:[s.jsxs("div",{className:"review-header",children:[s.jsx("span",{className:"author",children:" ."}),s.jsxs("div",{className:"rating",children:[s.jsx(ih,{className:"filled"}),s.jsx(ih,{className:"filled"}),s.jsx(ih,{className:"filled"}),s.jsx(ih,{className:"filled"}),s.jsx(ih,{})]})]}),s.jsx("p",{className:"text",children:" ,  .  ."}),s.jsx("span",{className:"date",children:"15.01.2023"})]})})]}),t.same_products&&t.same_products.length>0&&s.jsxs("div",{className:"similar-products-section",children:[s.jsx("h2",{className:"section-title",children:" "}),s.jsx("div",{className:"slider-container",children:s.jsx(dC,{...ne,children:t.same_products.map(se=>s.jsx("div",{className:"slide-item",children:s.jsx(Pb,{product:se})},`product-${se.id}`))})})]})]})},kI=()=>{const{isAuthenticated:e,isLoading:t}=Qm(),n=oi();return t?s.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh"},children:s.jsx(Wn,{size:"large"})}):e?s.jsx(fg,{}):s.jsx(hx,{to:"/registration-login",state:{from:n},replace:!0})},lse="_accountPage_1x987_3",use="_pageContainer_1x987_11",dse="_userAvatarSection_1x987_20",hse="_avatarWrapper_1x987_29",fse="_userAvatar_1x987_20",mse="_userAvatarFallback_1x987_52",pse="_userName_1x987_73",gse="_bonusesSection_1x987_86",_se="_statsTop_1x987_92",vse="_statBox_1x987_98",xse="_statIcon_1x987_117",bse="_blue_1x987_129",yse="_green_1x987_133",wse="_purple_1x987_137",Cse="_statContent_1x987_141",Sse="_statValue_1x987_145",jse="_statLabel_1x987_153",Nse="_bonusSection_1x987_159",Ese="_qrSection_1x987_171",kse="_qrHeader_1x987_181",Ise="_qrContainer_1x987_199",Dse="_qrCode_1x987_209",Tse="_qrOverlay_1x987_227",Ase="_qrFooter_1x987_259",Mse="_qrExpiry_1x987_268",Rse="_expiryLabel_1x987_282",Ose="_expiryTime_1x987_287",Bse="_refreshQrButton_1x987_293",Lse="_spinning_1x987_322",$se="_tokenValue_1x987_354",Pse="_copyBtn_1x987_366",Fse="_copied_1x987_388",Hse="_storesSection_1x987_393",zse="_storesHeader_1x987_401",Vse="_storesNav_1x987_414",qse="_navBtn_1x987_419",Use="_storesScroll_1x987_438",Wse="_storesGrid_1x987_460",Yse="_storeCardHorizontal_1x987_468",Gse="_storeHeaderHorizontal_1x987_494",Qse="_storeLogoHorizontal_1x987_501",Xse="_storeInfoHorizontal_1x987_531",Kse="_storeNameHorizontal_1x987_535",Zse="_bonusDisplayHorizontal_1x987_551",Jse="_bonusAmountHorizontal_1x987_560",eae="_bonusLabelHorizontal_1x987_571",tae="_progressSectionHorizontal_1x987_578",nae="_progressLabel_1x987_582",sae="_progressBar_1x987_590",aae="_progressFill_1x987_597",rae="_modalOverlay_1x987_605",iae="_modalContent_1x987_625",oae="_historyModalContent_1x987_643",cae="_modalQr_1x987_659",lae="_modalExpiry_1x987_677",uae="_modalExpiryTime_1x987_691",dae="_modalActions_1x987_697",hae="_historyStoreInfo_1x987_724",fae="_historyStoreName_1x987_732",mae="_historyStoreBalance_1x987_757",pae="_transactionsList_1x987_771",gae="_loadingMore_1x987_799",_ae="_noMoreTransactions_1x987_809",vae="_transactionItem_1x987_817",xae="_transactionHeader_1x987_830",bae="_transactionType_1x987_837",yae="_transactionIconAccrual_1x987_846",wae="_transactionIconRedemption_1x987_851",Cae="_transactionAmount_1x987_856",Sae="_positive_1x987_862",jae="_negative_1x987_866",Nae="_transactionDescription_1x987_870",Eae="_transactionFooter_1x987_877",kae="_transactionDate_1x987_887",Iae="_transactionBalance_1x987_893",Dae="_transactionReceipt_1x987_898",Tae="_sectionHeaderWithNav_1x987_909",Aae="_sectionTitle_1x987_916",Mae="_sectionNav_1x987_930",Rae="_businessesSection_1x987_1038",Oae="_businessesScroll_1x987_1043",Bae="_businessesGrid_1x987_1071",Lae="_businessCard_1x987_1078",$ae="_businessHeader_1x987_1100",Pae="_businessLogo_1x987_1109",Fae="_businessInfo_1x987_1128",Hae="_businessType_1x987_1139",zae="_businessBody_1x987_1147",Vae="_businessActions_1x987_1167",qae="_businessLink_1x987_1172",Uae="_workSection_1x987_1189",Wae="_employmentsScroll_1x987_1194",Yae="_employmentsGrid_1x987_1222",Gae="_employmentCard_1x987_1228",Qae="_employmentHeader_1x987_1249",Xae="_companyLogo_1x987_1258",Kae="_employmentInfo_1x987_1277",Zae="_employeeBadge_1x987_1288",Jae="_employmentDetails_1x987_1296",ere="_detailItem_1x987_1300",tre="_locationsSection_1x987_1309",nre="_locationsList_1x987_1320",sre="_locationItem_1x987_1326",are="_positionTag_1x987_1338",rre="_employmentActions_1x987_1347",ire="_workLink_1x987_1351",ore="_tabsSection_1x987_1368",cre="_tabsHeader_1x987_1373",lre="_tabsGrid_1x987_1377",ure="_tabCard_1x987_1384",dre="_tabIcon_1x987_1401",hre="_tabContent_1x987_1414",fre="_profileCard_1x987_1423",mre="_cardHeader_1x987_1427",pre="_editBtn_1x987_1443",gre="_infoGrid_1x987_1459",_re="_infoItem_1x987_1465",vre="_infoIcon_1x987_1471",xre="_securityGrid_1x987_1492",bre="_securityCard_1x987_1498",yre="_securityHeader_1x987_1510",wre="_securityBtn_1x987_1536",Cre="_balanceCard_1x987_1554",Sre="_balanceAmount_1x987_1569",jre="_balanceActions_1x987_1580",Nre="_balanceBtn_1x987_1586",Ere="_settingsGrid_1x987_1603",kre="_settingCard_1x987_1609",Ire="_settingHeader_1x987_1621",Dre="_settingBtn_1x987_1647",Tre="_emptyState_1x987_1665",Are="_loadingState_1x987_1691",Mre="_loadingWrapper_1x987_1698",Rre="_errorWrapper_1x987_1706",Ore="_errorCard_1x987_1714",Bre="_errorIcon_1x987_1723",Lre="_retryBtn_1x987_1741",$re="_footerSection_1x987_1758",Pre="_logoutButton_1x987_1764",mt={accountPage:lse,pageContainer:use,userAvatarSection:dse,avatarWrapper:hse,userAvatar:fse,userAvatarFallback:mse,userName:pse,bonusesSection:gse,statsTop:_se,statBox:vse,statIcon:xse,blue:bse,green:yse,purple:wse,statContent:Cse,statValue:Sse,statLabel:jse,bonusSection:Nse,qrSection:Ese,qrHeader:kse,qrContainer:Ise,qrCode:Dse,qrOverlay:Tse,qrFooter:Ase,qrExpiry:Mse,expiryLabel:Rse,expiryTime:Ose,refreshQrButton:Bse,spinning:Lse,tokenValue:$se,copyBtn:Pse,copied:Fse,storesSection:Hse,storesHeader:zse,storesNav:Vse,navBtn:qse,storesScroll:Use,storesGrid:Wse,storeCardHorizontal:Yse,storeHeaderHorizontal:Gse,storeLogoHorizontal:Qse,storeInfoHorizontal:Xse,storeNameHorizontal:Kse,bonusDisplayHorizontal:Zse,bonusAmountHorizontal:Jse,bonusLabelHorizontal:eae,progressSectionHorizontal:tae,progressLabel:nae,progressBar:sae,progressFill:aae,modalOverlay:rae,modalContent:iae,historyModalContent:oae,modalQr:cae,modalExpiry:lae,modalExpiryTime:uae,modalActions:dae,historyStoreInfo:hae,historyStoreName:fae,historyStoreBalance:mae,transactionsList:pae,loadingMore:gae,noMoreTransactions:_ae,transactionItem:vae,transactionHeader:xae,transactionType:bae,transactionIconAccrual:yae,transactionIconRedemption:wae,transactionAmount:Cae,positive:Sae,negative:jae,transactionDescription:Nae,transactionFooter:Eae,transactionDate:kae,transactionBalance:Iae,transactionReceipt:Dae,sectionHeaderWithNav:Tae,sectionTitle:Aae,sectionNav:Mae,businessesSection:Rae,businessesScroll:Oae,businessesGrid:Bae,businessCard:Lae,businessHeader:$ae,businessLogo:Pae,businessInfo:Fae,businessType:Hae,businessBody:zae,businessActions:Vae,businessLink:qae,workSection:Uae,employmentsScroll:Wae,employmentsGrid:Yae,employmentCard:Gae,employmentHeader:Qae,companyLogo:Xae,employmentInfo:Kae,employeeBadge:Zae,employmentDetails:Jae,detailItem:ere,locationsSection:tre,locationsList:nre,locationItem:sre,positionTag:are,employmentActions:rre,workLink:ire,tabsSection:ore,tabsHeader:cre,tabsGrid:lre,tabCard:ure,tabIcon:dre,tabContent:hre,profileCard:fre,cardHeader:mre,editBtn:pre,infoGrid:gre,infoItem:_re,infoIcon:vre,securityGrid:xre,securityCard:bre,securityHeader:yre,securityBtn:wre,balanceCard:Cre,balanceAmount:Sre,balanceActions:jre,balanceBtn:Nre,settingsGrid:Ere,settingCard:kre,settingHeader:Ire,settingBtn:Dre,emptyState:Tre,loadingState:Are,loadingWrapper:Mre,errorWrapper:Rre,errorCard:Ore,errorIcon:Bre,retryBtn:Lre,footerSection:$re,logoutButton:Pre};var Fre=Object.defineProperty,Mx=Object.getOwnPropertySymbols,CO=Object.prototype.hasOwnProperty,SO=Object.prototype.propertyIsEnumerable,II=(e,t,n)=>t in e?Fre(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,oj=(e,t)=>{for(var n in t||(t={}))CO.call(t,n)&&II(e,n,t[n]);if(Mx)for(var n of Mx(t))SO.call(t,n)&&II(e,n,t[n]);return e},cj=(e,t)=>{var n={};for(var a in e)CO.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(e!=null&&Mx)for(var a of Mx(e))t.indexOf(a)<0&&SO.call(e,a)&&(n[a]=e[a]);return n};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var Bh;(e=>{const t=class Na{constructor(l,d,f,g){if(this.version=l,this.errorCorrectionLevel=d,this.modules=[],this.isFunction=[],l<Na.MIN_VERSION||l>Na.MAX_VERSION)throw new RangeError("Version value out of range");if(g<-1||g>7)throw new RangeError("Mask value out of range");this.size=l*4+17;let b=[];for(let S=0;S<this.size;S++)b.push(!1);for(let S=0;S<this.size;S++)this.modules.push(b.slice()),this.isFunction.push(b.slice());this.drawFunctionPatterns();const w=this.addEccAndInterleave(f);if(this.drawCodewords(w),g==-1){let S=1e9;for(let j=0;j<8;j++){this.applyMask(j),this.drawFormatBits(j);const N=this.getPenaltyScore();N<S&&(g=j,S=N),this.applyMask(j)}}r(0<=g&&g<=7),this.mask=g,this.applyMask(g),this.drawFormatBits(g),this.isFunction=[]}static encodeText(l,d){const f=e.QrSegment.makeSegments(l);return Na.encodeSegments(f,d)}static encodeBinary(l,d){const f=e.QrSegment.makeBytes(l);return Na.encodeSegments([f],d)}static encodeSegments(l,d,f=1,g=40,b=-1,w=!0){if(!(Na.MIN_VERSION<=f&&f<=g&&g<=Na.MAX_VERSION)||b<-1||b>7)throw new RangeError("Invalid value");let S,j;for(S=f;;S++){const B=Na.getNumDataCodewords(S,d)*8,P=o.getTotalBits(l,S);if(P<=B){j=P;break}if(S>=g)throw new RangeError("Data too long")}for(const B of[Na.Ecc.MEDIUM,Na.Ecc.QUARTILE,Na.Ecc.HIGH])w&&j<=Na.getNumDataCodewords(S,B)*8&&(d=B);let N=[];for(const B of l){n(B.mode.modeBits,4,N),n(B.numChars,B.mode.numCharCountBits(S),N);for(const P of B.getData())N.push(P)}r(N.length==j);const I=Na.getNumDataCodewords(S,d)*8;r(N.length<=I),n(0,Math.min(4,I-N.length),N),n(0,(8-N.length%8)%8,N),r(N.length%8==0);for(let B=236;N.length<I;B^=253)n(B,8,N);let M=[];for(;M.length*8<N.length;)M.push(0);return N.forEach((B,P)=>M[P>>>3]|=B<<7-(P&7)),new Na(S,d,M,b)}getModule(l,d){return 0<=l&&l<this.size&&0<=d&&d<this.size&&this.modules[d][l]}getModules(){return this.modules}drawFunctionPatterns(){for(let f=0;f<this.size;f++)this.setFunctionModule(6,f,f%2==0),this.setFunctionModule(f,6,f%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const l=this.getAlignmentPatternPositions(),d=l.length;for(let f=0;f<d;f++)for(let g=0;g<d;g++)f==0&&g==0||f==0&&g==d-1||f==d-1&&g==0||this.drawAlignmentPattern(l[f],l[g]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(l){const d=this.errorCorrectionLevel.formatBits<<3|l;let f=d;for(let b=0;b<10;b++)f=f<<1^(f>>>9)*1335;const g=(d<<10|f)^21522;r(g>>>15==0);for(let b=0;b<=5;b++)this.setFunctionModule(8,b,a(g,b));this.setFunctionModule(8,7,a(g,6)),this.setFunctionModule(8,8,a(g,7)),this.setFunctionModule(7,8,a(g,8));for(let b=9;b<15;b++)this.setFunctionModule(14-b,8,a(g,b));for(let b=0;b<8;b++)this.setFunctionModule(this.size-1-b,8,a(g,b));for(let b=8;b<15;b++)this.setFunctionModule(8,this.size-15+b,a(g,b));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let l=this.version;for(let f=0;f<12;f++)l=l<<1^(l>>>11)*7973;const d=this.version<<12|l;r(d>>>18==0);for(let f=0;f<18;f++){const g=a(d,f),b=this.size-11+f%3,w=Math.floor(f/3);this.setFunctionModule(b,w,g),this.setFunctionModule(w,b,g)}}drawFinderPattern(l,d){for(let f=-4;f<=4;f++)for(let g=-4;g<=4;g++){const b=Math.max(Math.abs(g),Math.abs(f)),w=l+g,S=d+f;0<=w&&w<this.size&&0<=S&&S<this.size&&this.setFunctionModule(w,S,b!=2&&b!=4)}}drawAlignmentPattern(l,d){for(let f=-2;f<=2;f++)for(let g=-2;g<=2;g++)this.setFunctionModule(l+g,d+f,Math.max(Math.abs(g),Math.abs(f))!=1)}setFunctionModule(l,d,f){this.modules[d][l]=f,this.isFunction[d][l]=!0}addEccAndInterleave(l){const d=this.version,f=this.errorCorrectionLevel;if(l.length!=Na.getNumDataCodewords(d,f))throw new RangeError("Invalid argument");const g=Na.NUM_ERROR_CORRECTION_BLOCKS[f.ordinal][d],b=Na.ECC_CODEWORDS_PER_BLOCK[f.ordinal][d],w=Math.floor(Na.getNumRawDataModules(d)/8),S=g-w%g,j=Math.floor(w/g);let N=[];const I=Na.reedSolomonComputeDivisor(b);for(let B=0,P=0;B<g;B++){let O=l.slice(P,P+j-b+(B<S?0:1));P+=O.length;const R=Na.reedSolomonComputeRemainder(O,I);B<S&&O.push(0),N.push(O.concat(R))}let M=[];for(let B=0;B<N[0].length;B++)N.forEach((P,O)=>{(B!=j-b||O>=S)&&M.push(P[B])});return r(M.length==w),M}drawCodewords(l){if(l.length!=Math.floor(Na.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let d=0;for(let f=this.size-1;f>=1;f-=2){f==6&&(f=5);for(let g=0;g<this.size;g++)for(let b=0;b<2;b++){const w=f-b,j=(f+1&2)==0?this.size-1-g:g;!this.isFunction[j][w]&&d<l.length*8&&(this.modules[j][w]=a(l[d>>>3],7-(d&7)),d++)}}r(d==l.length*8)}applyMask(l){if(l<0||l>7)throw new RangeError("Mask value out of range");for(let d=0;d<this.size;d++)for(let f=0;f<this.size;f++){let g;switch(l){case 0:g=(f+d)%2==0;break;case 1:g=d%2==0;break;case 2:g=f%3==0;break;case 3:g=(f+d)%3==0;break;case 4:g=(Math.floor(f/3)+Math.floor(d/2))%2==0;break;case 5:g=f*d%2+f*d%3==0;break;case 6:g=(f*d%2+f*d%3)%2==0;break;case 7:g=((f+d)%2+f*d%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[d][f]&&g&&(this.modules[d][f]=!this.modules[d][f])}}getPenaltyScore(){let l=0;for(let b=0;b<this.size;b++){let w=!1,S=0,j=[0,0,0,0,0,0,0];for(let N=0;N<this.size;N++)this.modules[b][N]==w?(S++,S==5?l+=Na.PENALTY_N1:S>5&&l++):(this.finderPenaltyAddHistory(S,j),w||(l+=this.finderPenaltyCountPatterns(j)*Na.PENALTY_N3),w=this.modules[b][N],S=1);l+=this.finderPenaltyTerminateAndCount(w,S,j)*Na.PENALTY_N3}for(let b=0;b<this.size;b++){let w=!1,S=0,j=[0,0,0,0,0,0,0];for(let N=0;N<this.size;N++)this.modules[N][b]==w?(S++,S==5?l+=Na.PENALTY_N1:S>5&&l++):(this.finderPenaltyAddHistory(S,j),w||(l+=this.finderPenaltyCountPatterns(j)*Na.PENALTY_N3),w=this.modules[N][b],S=1);l+=this.finderPenaltyTerminateAndCount(w,S,j)*Na.PENALTY_N3}for(let b=0;b<this.size-1;b++)for(let w=0;w<this.size-1;w++){const S=this.modules[b][w];S==this.modules[b][w+1]&&S==this.modules[b+1][w]&&S==this.modules[b+1][w+1]&&(l+=Na.PENALTY_N2)}let d=0;for(const b of this.modules)d=b.reduce((w,S)=>w+(S?1:0),d);const f=this.size*this.size,g=Math.ceil(Math.abs(d*20-f*10)/f)-1;return r(0<=g&&g<=9),l+=g*Na.PENALTY_N4,r(0<=l&&l<=2568888),l}getAlignmentPatternPositions(){if(this.version==1)return[];{const l=Math.floor(this.version/7)+2,d=this.version==32?26:Math.ceil((this.version*4+4)/(l*2-2))*2;let f=[6];for(let g=this.size-7;f.length<l;g-=d)f.splice(1,0,g);return f}}static getNumRawDataModules(l){if(l<Na.MIN_VERSION||l>Na.MAX_VERSION)throw new RangeError("Version number out of range");let d=(16*l+128)*l+64;if(l>=2){const f=Math.floor(l/7)+2;d-=(25*f-10)*f-55,l>=7&&(d-=36)}return r(208<=d&&d<=29648),d}static getNumDataCodewords(l,d){return Math.floor(Na.getNumRawDataModules(l)/8)-Na.ECC_CODEWORDS_PER_BLOCK[d.ordinal][l]*Na.NUM_ERROR_CORRECTION_BLOCKS[d.ordinal][l]}static reedSolomonComputeDivisor(l){if(l<1||l>255)throw new RangeError("Degree out of range");let d=[];for(let g=0;g<l-1;g++)d.push(0);d.push(1);let f=1;for(let g=0;g<l;g++){for(let b=0;b<d.length;b++)d[b]=Na.reedSolomonMultiply(d[b],f),b+1<d.length&&(d[b]^=d[b+1]);f=Na.reedSolomonMultiply(f,2)}return d}static reedSolomonComputeRemainder(l,d){let f=d.map(g=>0);for(const g of l){const b=g^f.shift();f.push(0),d.forEach((w,S)=>f[S]^=Na.reedSolomonMultiply(w,b))}return f}static reedSolomonMultiply(l,d){if(l>>>8||d>>>8)throw new RangeError("Byte out of range");let f=0;for(let g=7;g>=0;g--)f=f<<1^(f>>>7)*285,f^=(d>>>g&1)*l;return r(f>>>8==0),f}finderPenaltyCountPatterns(l){const d=l[1];r(d<=this.size*3);const f=d>0&&l[2]==d&&l[3]==d*3&&l[4]==d&&l[5]==d;return(f&&l[0]>=d*4&&l[6]>=d?1:0)+(f&&l[6]>=d*4&&l[0]>=d?1:0)}finderPenaltyTerminateAndCount(l,d,f){return l&&(this.finderPenaltyAddHistory(d,f),d=0),d+=this.size,this.finderPenaltyAddHistory(d,f),this.finderPenaltyCountPatterns(f)}finderPenaltyAddHistory(l,d){d[0]==0&&(l+=this.size),d.pop(),d.unshift(l)}};t.MIN_VERSION=1,t.MAX_VERSION=40,t.PENALTY_N1=3,t.PENALTY_N2=3,t.PENALTY_N3=40,t.PENALTY_N4=10,t.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],t.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],e.QrCode=t;function n(c,l,d){if(l<0||l>31||c>>>l)throw new RangeError("Value out of range");for(let f=l-1;f>=0;f--)d.push(c>>>f&1)}function a(c,l){return(c>>>l&1)!=0}function r(c){if(!c)throw new Error("Assertion error")}const i=class Jr{constructor(l,d,f){if(this.mode=l,this.numChars=d,this.bitData=f,d<0)throw new RangeError("Invalid argument");this.bitData=f.slice()}static makeBytes(l){let d=[];for(const f of l)n(f,8,d);return new Jr(Jr.Mode.BYTE,l.length,d)}static makeNumeric(l){if(!Jr.isNumeric(l))throw new RangeError("String contains non-numeric characters");let d=[];for(let f=0;f<l.length;){const g=Math.min(l.length-f,3);n(parseInt(l.substring(f,f+g),10),g*3+1,d),f+=g}return new Jr(Jr.Mode.NUMERIC,l.length,d)}static makeAlphanumeric(l){if(!Jr.isAlphanumeric(l))throw new RangeError("String contains unencodable characters in alphanumeric mode");let d=[],f;for(f=0;f+2<=l.length;f+=2){let g=Jr.ALPHANUMERIC_CHARSET.indexOf(l.charAt(f))*45;g+=Jr.ALPHANUMERIC_CHARSET.indexOf(l.charAt(f+1)),n(g,11,d)}return f<l.length&&n(Jr.ALPHANUMERIC_CHARSET.indexOf(l.charAt(f)),6,d),new Jr(Jr.Mode.ALPHANUMERIC,l.length,d)}static makeSegments(l){return l==""?[]:Jr.isNumeric(l)?[Jr.makeNumeric(l)]:Jr.isAlphanumeric(l)?[Jr.makeAlphanumeric(l)]:[Jr.makeBytes(Jr.toUtf8ByteArray(l))]}static makeEci(l){let d=[];if(l<0)throw new RangeError("ECI assignment value out of range");if(l<128)n(l,8,d);else if(l<16384)n(2,2,d),n(l,14,d);else if(l<1e6)n(6,3,d),n(l,21,d);else throw new RangeError("ECI assignment value out of range");return new Jr(Jr.Mode.ECI,0,d)}static isNumeric(l){return Jr.NUMERIC_REGEX.test(l)}static isAlphanumeric(l){return Jr.ALPHANUMERIC_REGEX.test(l)}getData(){return this.bitData.slice()}static getTotalBits(l,d){let f=0;for(const g of l){const b=g.mode.numCharCountBits(d);if(g.numChars>=1<<b)return 1/0;f+=4+b+g.bitData.length}return f}static toUtf8ByteArray(l){l=encodeURI(l);let d=[];for(let f=0;f<l.length;f++)l.charAt(f)!="%"?d.push(l.charCodeAt(f)):(d.push(parseInt(l.substring(f+1,f+3),16)),f+=2);return d}};i.NUMERIC_REGEX=/^[0-9]*$/,i.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,i.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let o=i;e.QrSegment=i})(Bh||(Bh={}));(e=>{(t=>{const n=class{constructor(r,i){this.ordinal=r,this.formatBits=i}};n.LOW=new n(0,1),n.MEDIUM=new n(1,0),n.QUARTILE=new n(2,3),n.HIGH=new n(3,2),t.Ecc=n})(e.QrCode||(e.QrCode={}))})(Bh||(Bh={}));(e=>{(t=>{const n=class{constructor(r,i){this.modeBits=r,this.numBitsCharCount=i}numCharCountBits(r){return this.numBitsCharCount[Math.floor((r+7)/17)]}};n.NUMERIC=new n(1,[10,12,14]),n.ALPHANUMERIC=new n(2,[9,11,13]),n.BYTE=new n(4,[8,16,16]),n.KANJI=new n(8,[8,10,12]),n.ECI=new n(7,[0,0,0]),t.Mode=n})(e.QrSegment||(e.QrSegment={}))})(Bh||(Bh={}));var Xf=Bh;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var Hre={L:Xf.QrCode.Ecc.LOW,M:Xf.QrCode.Ecc.MEDIUM,Q:Xf.QrCode.Ecc.QUARTILE,H:Xf.QrCode.Ecc.HIGH},jO=128,NO="L",EO="#FFFFFF",kO="#000000",IO=!1,DO=1,zre=4,Vre=0,qre=.1;function TO(e,t=0){const n=[];return e.forEach(function(a,r){let i=null;a.forEach(function(o,c){if(!o&&i!==null){n.push(`M${i+t} ${r+t}h${c-i}v1H${i+t}z`),i=null;return}if(c===a.length-1){if(!o)return;i===null?n.push(`M${c+t},${r+t} h1v1H${c+t}z`):n.push(`M${i+t},${r+t} h${c+1-i}v1H${i+t}z`);return}o&&i===null&&(i=c)})}),n.join("")}function AO(e,t){return e.slice().map((n,a)=>a<t.y||a>=t.y+t.h?n:n.map((r,i)=>i<t.x||i>=t.x+t.w?r:!1))}function Ure(e,t,n,a){if(a==null)return null;const r=e.length+n*2,i=Math.floor(t*qre),o=r/t,c=(a.width||i)*o,l=(a.height||i)*o,d=a.x==null?e.length/2-c/2:a.x*o,f=a.y==null?e.length/2-l/2:a.y*o,g=a.opacity==null?1:a.opacity;let b=null;if(a.excavate){let S=Math.floor(d),j=Math.floor(f),N=Math.ceil(c+d-S),I=Math.ceil(l+f-j);b={x:S,y:j,w:N,h:I}}const w=a.crossOrigin;return{x:d,y:f,h:l,w:c,excavation:b,opacity:g,crossOrigin:w}}function Wre(e,t){return t!=null?Math.max(Math.floor(t),0):e?zre:Vre}function MO({value:e,level:t,minVersion:n,includeMargin:a,marginSize:r,imageSettings:i,size:o,boostLevel:c}){let l=Je.useMemo(()=>{const S=(Array.isArray(e)?e:[e]).reduce((j,N)=>(j.push(...Xf.QrSegment.makeSegments(N)),j),[]);return Xf.QrCode.encodeSegments(S,Hre[t],n,void 0,void 0,c)},[e,t,n,c]);const{cells:d,margin:f,numCells:g,calculatedImageSettings:b}=Je.useMemo(()=>{let w=l.getModules();const S=Wre(a,r),j=w.length+S*2,N=Ure(w,o,S,i);return{cells:w,margin:S,numCells:j,calculatedImageSettings:N}},[l,o,i,a,r]);return{qrcode:l,margin:f,cells:d,numCells:g,calculatedImageSettings:b}}var Yre=function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0}(),Gre=Je.forwardRef(function(t,n){const a=t,{value:r,size:i=jO,level:o=NO,bgColor:c=EO,fgColor:l=kO,includeMargin:d=IO,minVersion:f=DO,boostLevel:g,marginSize:b,imageSettings:w}=a,j=cj(a,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:N}=j,I=cj(j,["style"]),M=w==null?void 0:w.src,B=Je.useRef(null),P=Je.useRef(null),O=Je.useCallback(se=>{B.current=se,typeof n=="function"?n(se):n&&(n.current=se)},[n]),[R,$]=Je.useState(!1),{margin:U,cells:F,numCells:H,calculatedImageSettings:ne}=MO({value:r,level:o,minVersion:f,boostLevel:g,includeMargin:d,marginSize:b,imageSettings:w,size:i});Je.useEffect(()=>{if(B.current!=null){const se=B.current,V=se.getContext("2d");if(!V)return;let q=F;const T=P.current,J=ne!=null&&T!==null&&T.complete&&T.naturalHeight!==0&&T.naturalWidth!==0;J&&ne.excavation!=null&&(q=AO(F,ne.excavation));const Z=window.devicePixelRatio||1;se.height=se.width=i*Z;const A=i/H*Z;V.scale(A,A),V.fillStyle=c,V.fillRect(0,0,H,H),V.fillStyle=l,Yre?V.fill(new Path2D(TO(q,U))):F.forEach(function(Y,K){Y.forEach(function(G,oe){G&&V.fillRect(oe+U,K+U,1,1)})}),ne&&(V.globalAlpha=ne.opacity),J&&V.drawImage(T,ne.x+U,ne.y+U,ne.w,ne.h)}}),Je.useEffect(()=>{$(!1)},[M]);const X=oj({height:i,width:i},N);let te=null;return M!=null&&(te=Je.createElement("img",{src:M,key:M,style:{display:"none"},onLoad:()=>{$(!0)},ref:P,crossOrigin:ne==null?void 0:ne.crossOrigin})),Je.createElement(Je.Fragment,null,Je.createElement("canvas",oj({style:X,height:i,width:i,ref:O,role:"img"},I)),te)});Gre.displayName="QRCodeCanvas";var _m=Je.forwardRef(function(t,n){const a=t,{value:r,size:i=jO,level:o=NO,bgColor:c=EO,fgColor:l=kO,includeMargin:d=IO,minVersion:f=DO,boostLevel:g,title:b,marginSize:w,imageSettings:S}=a,j=cj(a,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:N,cells:I,numCells:M,calculatedImageSettings:B}=MO({value:r,level:o,minVersion:f,boostLevel:g,includeMargin:d,marginSize:w,imageSettings:S,size:i});let P=I,O=null;S!=null&&B!=null&&(B.excavation!=null&&(P=AO(I,B.excavation)),O=Je.createElement("image",{href:S.src,height:B.h,width:B.w,x:B.x+N,y:B.y+N,preserveAspectRatio:"none",opacity:B.opacity,crossOrigin:B.crossOrigin}));const R=TO(P,N);return Je.createElement("svg",oj({height:i,width:i,viewBox:`0 0 ${M} ${M}`,ref:n,role:"img"},j),!!b&&Je.createElement("title",null,b),Je.createElement("path",{fill:c,d:`M0,0 h${M}v${M}H0z`,shapeRendering:"crispEdges"}),Je.createElement("path",{fill:l,d:R,shapeRendering:"crispEdges"}),O)});_m.displayName="QRCodeSVG";function RO(e){return Jt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M22.0049 6.99979H23.0049V16.9998H22.0049V19.9998C22.0049 20.5521 21.5572 20.9998 21.0049 20.9998H3.00488C2.4526 20.9998 2.00488 20.5521 2.00488 19.9998V3.99979C2.00488 3.4475 2.4526 2.99979 3.00488 2.99979H21.0049C21.5572 2.99979 22.0049 3.4475 22.0049 3.99979V6.99979ZM20.0049 16.9998H14.0049C11.2435 16.9998 9.00488 14.7612 9.00488 11.9998C9.00488 9.23836 11.2435 6.99979 14.0049 6.99979H20.0049V4.99979H4.00488V18.9998H20.0049V16.9998ZM21.0049 14.9998V8.99979H14.0049C12.348 8.99979 11.0049 10.3429 11.0049 11.9998C11.0049 13.6566 12.348 14.9998 14.0049 14.9998H21.0049ZM14.0049 10.9998H17.0049V12.9998H14.0049V10.9998Z"},child:[]}]})(e)}function OO(e){return Jt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M5 18H19V11.0314C19 7.14806 15.866 4 12 4C8.13401 4 5 7.14806 5 11.0314V18ZM12 2C16.9706 2 21 6.04348 21 11.0314V20H3V11.0314C3 6.04348 7.02944 2 12 2ZM9.5 21H14.5C14.5 22.3807 13.3807 23.5 12 23.5C10.6193 23.5 9.5 22.3807 9.5 21Z"},child:[]}]})(e)}function BO(e){return Jt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M14 21C13.4477 21 13 20.5523 13 20V12C13 11.4477 13.4477 11 14 11H20C20.5523 11 21 11.4477 21 12V20C21 20.5523 20.5523 21 20 21H14ZM4 13C3.44772 13 3 12.5523 3 12V4C3 3.44772 3.44772 3 4 3H10C10.5523 3 11 3.44772 11 4V12C11 12.5523 10.5523 13 10 13H4ZM9 11V5H5V11H9ZM4 21C3.44772 21 3 20.5523 3 20V16C3 15.4477 3.44772 15 4 15H10C10.5523 15 11 15.4477 11 16V20C11 20.5523 10.5523 21 10 21H4ZM5 19H9V17H5V19ZM15 19H19V13H15V19ZM13 4C13 3.44772 13.4477 3 14 3H20C20.5523 3 21 3.44772 21 4V8C21 8.55228 20.5523 9 20 9H14C13.4477 9 13 8.55228 13 8V4ZM15 5V7H19V5H15Z"},child:[]}]})(e)}function LO(e){return Jt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M3.78307 2.82598L12 1L20.2169 2.82598C20.6745 2.92766 21 3.33347 21 3.80217V13.7889C21 15.795 19.9974 17.6684 18.3282 18.7812L12 23L5.6718 18.7812C4.00261 17.6684 3 15.795 3 13.7889V3.80217C3 3.33347 3.32553 2.92766 3.78307 2.82598ZM5 4.60434V13.7889C5 15.1263 5.6684 16.3752 6.7812 17.1171L12 20.5963L17.2188 17.1171C18.3316 16.3752 19 15.1263 19 13.7889V4.60434L12 3.04879L5 4.60434ZM12 11C10.6193 11 9.5 9.88071 9.5 8.5C9.5 7.11929 10.6193 6 12 6C13.3807 6 14.5 7.11929 14.5 8.5C14.5 9.88071 13.3807 11 12 11ZM7.52746 16C7.77619 13.75 9.68372 12 12 12C14.3163 12 16.2238 13.75 16.4725 16H7.52746Z"},child:[]}]})(e)}const Qre="_closeButton_lthjv_1",Xre={closeButton:Qre},Ti=({onClick:e,className:t="",...n})=>s.jsx("button",{className:`${Xre.closeButton} ${t}`,onClick:e,"aria-label":"",...n,children:s.jsx(aa,{})}),Kre=()=>{var Ue;const[e,t]=v.useState(null),[n,a]=v.useState(!0),[r,i]=v.useState(""),[o,c]=v.useState(null),[l,d]=v.useState([]),[f,g]=v.useState(!1),[b,w]=v.useState([]),[S,j]=v.useState(!1),[N,I]=v.useState(null),[M,B]=v.useState(!1),[P,O]=v.useState(!1),[R,$]=v.useState(!1),[U,F]=v.useState(!1),[H,ne]=v.useState(null),[X,te]=v.useState(!1),[se,V]=v.useState(null),[q,T]=v.useState([]),[J,Z]=v.useState(!1),[A,Y]=v.useState(!1),[K,G]=v.useState(0),oe=v.useRef(null),ee=v.useRef(null),ae=v.useRef(null),ie=v.useRef(null),ue=Rs(),{logout:he}=Qm();v.useEffect(()=>{(async()=>{var et;try{const dt=await Re.get("accounts/api/account/",{withCredentials:!0});t(dt.data)}catch(dt){i("    "),((et=dt.response)==null?void 0:et.status)===401&&ue("/registration-login")}finally{a(!1)}})()},[ue]),v.useEffect(()=>{(async()=>{try{g(!0);const et=await Re.get("api/my-employments/");d(et.data)}catch(et){console.error("   :",et)}finally{g(!1)}})()},[]),v.useEffect(()=>{const Ne=async()=>{try{j(!0);const dt=await Re.get("api/user/bonus-balances/");w(dt.data||[])}catch(dt){console.error("   :",dt)}finally{j(!1)}},et=async()=>{try{B(!0);const dt=await Re.get("api/user/qr-code/");I(dt.data)}catch(dt){console.error("  QR-:",dt)}finally{B(!1)}};Ne(),et()},[]);const ge=Je.useCallback(async()=>{try{O(!0);const Ne=await Re.get("api/user/qr-code/");I(Ne.data)}catch(Ne){console.error("  QR-:",Ne)}finally{O(!1)}},[]);v.useEffect(()=>{if(!(N!=null&&N.expires_at)){ne(null);return}const Ne=()=>{const tt=new Date(N.expires_at)-new Date;if(tt<=0){ne(""),ge();return}const Fe=Math.floor(tt/6e4),It=Math.floor(tt%6e4/1e3);Fe>0?ne(`${Fe}  ${It} `):ne(`${It} `)};Ne();const et=setInterval(Ne,1e3);return()=>clearInterval(et)},[N==null?void 0:N.expires_at,ge]);const ye=async()=>{await he()},je=Ne=>new Date(Ne).toLocaleDateString("ru-RU",{year:"numeric",month:"long",day:"numeric"}),Ie=()=>b.reduce((Ne,et)=>Ne+parseFloat(et.balance||0),0),me=()=>{N!=null&&N.qr_token&&(navigator.clipboard.writeText(N.qr_token),$(!0),setTimeout(()=>$(!1),2e3))},de=Ne=>{ee.current&&ee.current.scrollBy({left:Ne==="next"?300:-300,behavior:"smooth"})},fe=Ne=>{ae.current&&ae.current.scrollBy({left:Ne==="next"?350:-350,behavior:"smooth"})},re=Ne=>{ie.current&&ie.current.scrollBy({left:Ne==="next"?350:-350,behavior:"smooth"})},xe=async(Ne,et)=>{var dt;V({business:Ne,location:et}),te(!0),Z(!0),G(0),Y(!1);try{const _e=await Re.get(`api/user/bonus-history/${Ne.slug}/`,{params:{offset:0,page_size:20}});T(Array.isArray(_e.data.transactions)?_e.data.transactions:[]),Y(_e.data.has_more||!1),G(((dt=_e.data.transactions)==null?void 0:dt.length)||0)}catch(_e){console.error("   :",_e),T([]),Y(!1)}finally{Z(!1)}},Se=v.useCallback(async()=>{if(!(!se||J||!A)){Z(!0);try{const Ne=await Re.get(`api/user/bonus-history/${se.business.slug}/`,{params:{offset:K,page_size:20}});T(et=>[...et,...Ne.data.transactions||[]]),Y(Ne.data.has_more||!1),G(et=>{var dt;return et+(((dt=Ne.data.transactions)==null?void 0:dt.length)||0)})}catch(Ne){console.error("   :",Ne)}finally{Z(!1)}}},[se,J,A,K]);v.useEffect(()=>{if(!X||!oe.current)return;const Ne=()=>{const dt=oe.current;if(!dt)return;const _e=dt.scrollTop,tt=dt.scrollHeight,Fe=dt.clientHeight;_e+Fe>=tt*.8&&A&&!J&&Se()},et=oe.current;if(et)return et.addEventListener("scroll",Ne),()=>{et&&et.removeEventListener("scroll",Ne)}},[X,A,J,se,K,Se]);const pe=Ne=>({accrual:"",redemption:"",expiry:"",adjustment:""})[Ne]||Ne,Ee=[{id:"profile",label:"",icon:s.jsx(Dx,{})},{id:"security",label:"",icon:s.jsx(mO,{})},{id:"wallet",label:"",icon:s.jsx(RO,{})},{id:"settings",label:"",icon:s.jsx(fO,{})}];if(n)return s.jsx("div",{className:mt.loadingWrapper,children:s.jsx(Wn,{size:"large"})});if(r)return s.jsx("div",{className:mt.errorWrapper,children:s.jsxs("div",{className:mt.errorCard,children:[s.jsx("div",{className:mt.errorIcon,children:""}),s.jsx("h3",{children:" "}),s.jsx("p",{children:r}),s.jsx("button",{onClick:()=>window.location.reload(),className:mt.retryBtn,children:" "})]})});const Le=Ie();return s.jsxs("div",{className:mt.accountPage,children:[s.jsx("section",{className:mt.userAvatarSection,children:s.jsx("div",{className:mt.pageContainer,children:s.jsxs("div",{className:mt.avatarWrapper,children:[e.avatar?s.jsx("img",{src:e.avatar,alt:"",className:mt.userAvatar}):s.jsx("div",{className:mt.userAvatarFallback,children:e.first_name.charAt(0).toUpperCase()}),s.jsx("h2",{className:mt.userName,children:e.first_name})]})})}),s.jsx("section",{className:mt.bonusesSection,children:s.jsxs("div",{className:mt.pageContainer,children:[s.jsxs("div",{className:mt.statsTop,children:[s.jsxs("div",{className:mt.statBox,children:[s.jsx("div",{className:`${mt.statIcon} ${mt.blue}`,children:s.jsx(OR,{})}),s.jsxs("div",{className:mt.statContent,children:[s.jsx("div",{className:mt.statValue,children:Le.toLocaleString("ru-RU",{maximumFractionDigits:0})}),s.jsx("div",{className:mt.statLabel,children:" "})]})]}),s.jsxs("div",{className:mt.statBox,children:[s.jsx("div",{className:`${mt.statIcon} ${mt.green}`,children:s.jsx(X1,{})}),s.jsxs("div",{className:mt.statContent,children:[s.jsx("div",{className:mt.statValue,children:b.length}),s.jsx("div",{className:mt.statLabel,children:" "})]})]}),s.jsxs("div",{className:mt.statBox,children:[s.jsx("div",{className:`${mt.statIcon} ${mt.purple}`,children:s.jsx(hi,{})}),s.jsxs("div",{className:mt.statContent,children:[s.jsxs("div",{className:mt.statValue,children:[Le.toLocaleString("ru-RU",{maximumFractionDigits:0})," "]}),s.jsx("div",{className:mt.statLabel,children:"  "})]})]})]}),s.jsxs("div",{className:mt.bonusSection,children:[s.jsxs("div",{className:mt.qrSection,children:[s.jsxs("div",{className:mt.qrHeader,children:[s.jsx("h3",{children:" QR-"}),s.jsx("p",{children:"     "})]}),M?s.jsx("div",{className:mt.loadingState,children:s.jsx(Wn,{size:"small"})}):N?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:mt.qrContainer,onClick:()=>F(!0),children:s.jsxs("div",{className:mt.qrCode,children:[s.jsx(_m,{value:N.qr_token,size:160,level:"H",includeMargin:!0}),s.jsxs("div",{className:mt.qrOverlay,children:[s.jsx(LR,{}),s.jsxs("p",{children:[" ",s.jsx("br",{}),""]})]})]})}),s.jsxs("div",{className:mt.qrFooter,children:[H&&s.jsxs("div",{className:mt.qrExpiry,children:[s.jsx("span",{className:mt.expiryLabel,children:":"}),s.jsx("span",{className:mt.expiryTime,children:H})]}),s.jsxs("button",{className:mt.refreshQrButton,onClick:ge,disabled:P,title:" QR-",children:[s.jsx(Sg,{className:P?mt.spinning:""}),P?"...":""]})]})]}):s.jsx("div",{className:mt.emptyState,children:"   QR-"})]}),s.jsxs("div",{className:mt.storesSection,children:[s.jsxs("div",{className:mt.storesHeader,children:[s.jsx("h3",{children:" "}),s.jsxs("div",{className:mt.storesNav,children:[s.jsx("button",{className:mt.navBtn,onClick:()=>de("prev"),children:s.jsx(jl,{})}),s.jsx("button",{className:mt.navBtn,onClick:()=>de("next"),children:s.jsx(Nl,{})})]})]}),S?s.jsx("div",{className:mt.loadingState,children:s.jsx(Wn,{size:"medium"})}):b.length===0?s.jsxs("div",{className:mt.emptyState,children:[s.jsx(hi,{}),s.jsx("h4",{children:"    "}),s.jsx("p",{children:"        "})]}):s.jsx("div",{className:mt.storesScroll,ref:ee,children:s.jsx("div",{className:mt.storesGrid,children:b.map(Ne=>s.jsxs("div",{className:mt.storeCardHorizontal,onClick:()=>xe(Ne,Ne.primary_location),style:{cursor:"pointer"},children:[s.jsxs("div",{className:mt.storeHeaderHorizontal,children:[s.jsx("div",{className:mt.storeLogoHorizontal,children:Ne.business_logo?s.jsxs(s.Fragment,{children:[s.jsx("img",{src:Ne.business_logo,alt:Ne.name,onError:et=>{et.target.style.display="none";const dt=et.target.nextSibling;dt&&(dt.style.display="flex")}}),s.jsx("div",{style:{display:"none"},children:s.jsx(X1,{})})]}):s.jsx("div",{children:s.jsx(X1,{})})}),s.jsx("div",{className:mt.storeInfoHorizontal,children:s.jsx("div",{className:mt.storeNameHorizontal,children:Ne.name})})]}),s.jsxs("div",{className:mt.bonusDisplayHorizontal,children:[s.jsx("div",{className:mt.bonusAmountHorizontal,children:parseFloat(Ne.balance||0).toLocaleString("ru-RU",{maximumFractionDigits:0})}),s.jsx("div",{className:mt.bonusLabelHorizontal,children:""})]}),Ne.tier&&s.jsxs("div",{className:mt.progressSectionHorizontal,children:[s.jsxs("div",{className:mt.progressLabel,children:[s.jsx("span",{children:""}),s.jsx("span",{children:Ne.tier.name})]}),s.jsx("div",{className:mt.progressBar,children:s.jsx("div",{className:mt.progressFill,style:{width:`${Math.min(parseFloat(Ne.tier.bonus_percent)*10,100)}%`}})})]})]},Ne.slug))})})]})]})]})}),X&&se&&s.jsx("div",{className:mt.modalOverlay,onClick:()=>te(!1),children:s.jsxs("div",{className:mt.historyModalContent,onClick:Ne=>Ne.stopPropagation(),children:[s.jsx(Ti,{onClick:()=>te(!1)}),s.jsx("h2",{children:" "}),s.jsxs("div",{className:mt.historyStoreInfo,children:[s.jsx("div",{className:mt.historyStoreName,children:se.business.name}),s.jsxs("div",{className:mt.historyStoreBalance,children:[": ",s.jsxs("span",{children:[parseFloat(se.business.balance||0).toLocaleString("ru-RU",{maximumFractionDigits:0})," "]})]})]}),J?s.jsx("div",{className:mt.loadingState,children:s.jsx(Wn,{size:"medium"})}):!Array.isArray(q)||q.length===0?s.jsxs("div",{className:mt.emptyState,children:[s.jsx(hi,{}),s.jsx("p",{children:"  "})]}):s.jsxs("div",{className:mt.transactionsList,ref:oe,children:[Array.isArray(q)&&q.map(Ne=>s.jsxs("div",{className:mt.transactionItem,children:[s.jsxs("div",{className:mt.transactionHeader,children:[s.jsxs("div",{className:mt.transactionType,children:[Ne.transaction_type==="accrual"?s.jsx(o0,{className:mt.transactionIconAccrual}):s.jsx(i0,{className:mt.transactionIconRedemption}),s.jsx("span",{children:pe(Ne.transaction_type)})]}),s.jsxs("div",{className:`${mt.transactionAmount} ${Ne.transaction_type==="accrual"?mt.positive:mt.negative}`,children:[Ne.transaction_type==="accrual"?"+":"-",parseFloat(Ne.amount).toLocaleString("ru-RU",{maximumFractionDigits:0})]})]}),Ne.description&&s.jsx("div",{className:mt.transactionDescription,children:Ne.description}),s.jsxs("div",{className:mt.transactionFooter,children:[s.jsx("div",{className:mt.transactionDate,children:new Date(Ne.created_at).toLocaleString("ru-RU",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})}),s.jsxs("div",{className:mt.transactionBalance,children:[" : ",parseFloat(Ne.balance_after).toLocaleString("ru-RU",{maximumFractionDigits:0})]})]}),Ne.receipt&&s.jsxs("div",{className:mt.transactionReceipt,children:[" ",Ne.receipt.number]})]},Ne.id)),J&&Array.isArray(q)&&q.length>0&&s.jsxs("div",{className:mt.loadingMore,children:[s.jsx(Wn,{size:"small"}),s.jsx("span",{children:"..."})]}),!A&&Array.isArray(q)&&q.length>0&&s.jsx("div",{className:mt.noMoreTransactions,children:"  "})]})]})}),U&&N&&s.jsx("div",{className:mt.modalOverlay,onClick:()=>F(!1),children:s.jsxs("div",{className:mt.modalContent,onClick:Ne=>Ne.stopPropagation(),children:[s.jsx(Ti,{onClick:()=>F(!1)}),s.jsx("h2",{children:" QR-"}),s.jsx("div",{className:mt.modalQr,children:s.jsx(_m,{value:N.qr_token,size:250,level:"H",includeMargin:!0})}),s.jsx("p",{children:"       "}),H&&s.jsxs("div",{className:mt.modalExpiry,children:[s.jsx("span",{children:":"}),s.jsx("span",{className:mt.modalExpiryTime,children:H})]}),s.jsx("div",{className:mt.tokenValue,children:N.qr_token}),s.jsxs("div",{className:mt.modalActions,children:[s.jsx("button",{className:`${mt.copyBtn} ${R?mt.copied:""}`,onClick:me,children:R?s.jsxs(s.Fragment,{children:[s.jsx(qr,{})," !"]}):s.jsxs(s.Fragment,{children:[s.jsx(Sd,{}),"  "]})}),s.jsxs("button",{className:mt.refreshQrButton,onClick:ge,disabled:P,children:[s.jsx(Sg,{className:P?mt.spinning:""}),P?"...":" QR-"]})]})]})}),e.is_business&&((Ue=e.businesses)==null?void 0:Ue.length)>0&&s.jsx("section",{className:mt.businessesSection,children:s.jsxs("div",{className:mt.pageContainer,children:[s.jsxs("div",{className:mt.sectionHeaderWithNav,children:[s.jsxs("h3",{className:mt.sectionTitle,children:[s.jsx(Cc,{}),"  "]}),s.jsxs("div",{className:mt.sectionNav,children:[s.jsx("button",{className:mt.navBtn,onClick:()=>fe("prev"),children:s.jsx(jl,{})}),s.jsx("button",{className:mt.navBtn,onClick:()=>fe("next"),children:s.jsx(Nl,{})})]})]}),s.jsx("div",{className:mt.businessesScroll,ref:ae,children:s.jsx("div",{className:mt.businessesGrid,children:e.businesses.map(Ne=>s.jsxs("div",{className:mt.businessCard,children:[s.jsxs("div",{className:mt.businessHeader,children:[s.jsx("div",{className:mt.businessLogo,children:Ne.business_logo?s.jsxs(s.Fragment,{children:[s.jsx("img",{src:Ne.business_logo,alt:Ne.name,onError:et=>{et.target.style.display="none";const dt=et.target.nextSibling;dt&&(dt.style.display="flex")}}),s.jsx("div",{style:{display:"none"},children:s.jsx(Cc,{})})]}):s.jsx("div",{children:s.jsx(Cc,{})})}),s.jsxs("div",{className:mt.businessInfo,children:[s.jsx("h4",{children:Ne.name}),s.jsx("span",{className:mt.businessType,children:Ne.business_type})]})]}),s.jsx("div",{className:mt.businessBody,children:s.jsx("p",{children:Ne.description||" "})}),s.jsx("div",{className:mt.businessActions,children:s.jsxs(Ea,{to:`/business/${Ne.slug}/main`,className:mt.businessLink,children:[s.jsx(BO,{})," ",s.jsx(Ix,{})]})})]},Ne.id))})})]})}),l.length>0&&s.jsx("section",{className:mt.workSection,children:s.jsxs("div",{className:mt.pageContainer,children:[s.jsxs("div",{className:mt.sectionHeaderWithNav,children:[s.jsxs("h3",{className:mt.sectionTitle,children:[s.jsx(rO,{}),"   "]}),!f&&s.jsxs("div",{className:mt.sectionNav,children:[s.jsx("button",{className:mt.navBtn,onClick:()=>re("prev"),children:s.jsx(jl,{})}),s.jsx("button",{className:mt.navBtn,onClick:()=>re("next"),children:s.jsx(Nl,{})})]})]}),f?s.jsx("div",{className:mt.loadingState,children:s.jsx(Wn,{size:"medium"})}):s.jsx("div",{className:mt.employmentsScroll,ref:ie,children:s.jsx("div",{className:mt.employmentsGrid,children:l.map(Ne=>s.jsxs("div",{className:mt.employmentCard,children:[s.jsxs("div",{className:mt.employmentHeader,children:[s.jsx("div",{className:mt.companyLogo,children:Ne.business.business_logo?s.jsx("img",{src:Ne.business.business_logo,alt:Ne.business.name}):s.jsx(Cc,{})}),s.jsxs("div",{className:mt.employmentInfo,children:[s.jsx("h4",{children:Ne.business.name}),Ne.employee_name&&s.jsx("span",{className:mt.employeeBadge,children:Ne.employee_name})]})]}),s.jsxs("div",{className:mt.employmentDetails,children:[Ne.hired_date&&s.jsxs("div",{className:mt.detailItem,children:[s.jsx(kx,{}),s.jsxs("span",{children:[" : ",je(Ne.hired_date)]})]}),Ne.locations.length>0&&s.jsxs("div",{className:mt.locationsSection,children:[s.jsx("h5",{children:":"}),s.jsx("div",{className:mt.locationsList,children:Ne.locations.map(et=>s.jsxs("div",{className:mt.locationItem,children:[s.jsx(uO,{}),s.jsxs("div",{children:[s.jsx("strong",{children:et.location_name}),et.position&&s.jsx("span",{className:mt.positionTag,children:et.position})]})]},et.id))})]})]}),s.jsx("div",{className:mt.employmentActions,children:s.jsxs(Ea,{to:`/business/${Ne.business.slug}/main`,className:mt.workLink,children:["  ",s.jsx(Ix,{})]})})]},Ne.id))})})]})}),s.jsx("section",{className:mt.tabsSection,children:s.jsxs("div",{className:mt.pageContainer,children:[s.jsx("div",{className:mt.tabsHeader,children:s.jsx("h3",{className:mt.sectionTitle,children:"  "})}),s.jsx("div",{className:mt.tabsGrid,children:Ee.map(Ne=>s.jsxs(rs.div,{whileHover:{scale:1.02,y:-5},className:mt.tabCard,onClick:()=>c(o===Ne.id?null:Ne.id),children:[s.jsx("div",{className:mt.tabIcon,children:Ne.icon}),s.jsx("h4",{children:Ne.label})]},Ne.id))}),s.jsx(Fc,{mode:"wait",children:o&&s.jsxs(rs.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},className:mt.tabContent,children:[o==="profile"&&s.jsx("div",{className:mt.profileTab,children:s.jsxs("div",{className:mt.profileCard,children:[s.jsxs("div",{className:mt.cardHeader,children:[s.jsx("h4",{children:" "}),s.jsx("button",{className:mt.editBtn,children:""})]}),s.jsxs("div",{className:mt.infoGrid,children:[s.jsxs("div",{className:mt.infoItem,children:[s.jsx(Dx,{className:mt.infoIcon}),s.jsxs("div",{children:[s.jsx("label",{children:""}),s.jsx("p",{children:e.first_name})]})]}),s.jsxs("div",{className:mt.infoItem,children:[s.jsx(lO,{className:mt.infoIcon}),s.jsxs("div",{children:[s.jsx("label",{children:"Email"}),s.jsx("p",{children:e.email})]})]}),s.jsxs("div",{className:mt.infoItem,children:[s.jsx(hO,{className:mt.infoIcon}),s.jsxs("div",{children:[s.jsx("label",{children:""}),s.jsx("p",{children:e.phone||" "})]})]}),s.jsxs("div",{className:mt.infoItem,children:[s.jsx(kx,{className:mt.infoIcon}),s.jsxs("div",{children:[s.jsx("label",{children:" "}),s.jsx("p",{children:je(e.date_joined)})]})]})]})]})}),o==="security"&&s.jsx("div",{className:mt.securityTab,children:s.jsxs("div",{className:mt.securityGrid,children:[s.jsxs("div",{className:mt.securityCard,children:[s.jsxs("div",{className:mt.securityHeader,children:[s.jsx(oO,{}),s.jsx("h4",{children:""})]}),s.jsx("p",{children:"     "}),s.jsx("button",{className:mt.securityBtn,children:" "})]}),s.jsxs("div",{className:mt.securityCard,children:[s.jsxs("div",{className:mt.securityHeader,children:[s.jsx(LO,{}),s.jsx("h4",{children:"2FA"})]}),s.jsx("p",{children:"  "}),s.jsx("button",{className:mt.securityBtn,children:" 2FA"})]}),s.jsxs("div",{className:mt.securityCard,children:[s.jsxs("div",{className:mt.securityHeader,children:[s.jsx(iO,{}),s.jsx("h4",{children:""})]}),s.jsx("p",{children:"  "}),s.jsx("button",{className:mt.securityBtn,children:" "})]})]})}),o==="wallet"&&s.jsx("div",{className:mt.walletTab,children:s.jsxs("div",{className:mt.balanceCard,children:[s.jsx("h4",{children:" "}),s.jsx("p",{className:mt.balanceAmount,children:"12,450 "}),s.jsxs("div",{className:mt.balanceActions,children:[s.jsx("button",{className:mt.balanceBtn,children:""}),s.jsx("button",{className:mt.balanceBtn,children:""})]})]})}),o==="settings"&&s.jsx("div",{className:mt.settingsTab,children:s.jsxs("div",{className:mt.settingsGrid,children:[s.jsxs("div",{className:mt.settingCard,children:[s.jsxs("div",{className:mt.settingHeader,children:[s.jsx(aO,{}),s.jsx("h4",{children:""})]}),s.jsx("p",{children:"  "}),s.jsx("button",{className:mt.settingBtn,children:""})]}),s.jsxs("div",{className:mt.settingCard,children:[s.jsxs("div",{className:mt.settingHeader,children:[s.jsx(dO,{}),s.jsx("h4",{children:""})]}),s.jsx("p",{children:"  "}),s.jsx("button",{className:mt.settingBtn,children:""})]}),s.jsxs("div",{className:mt.settingCard,children:[s.jsxs("div",{className:mt.settingHeader,children:[s.jsx(OO,{}),s.jsx("h4",{children:""})]}),s.jsx("p",{children:" "}),s.jsx("button",{className:mt.settingBtn,children:""})]})]})})]},o)})]})}),s.jsx("section",{className:mt.footerSection,children:s.jsx("div",{className:mt.pageContainer,children:s.jsxs("button",{className:mt.logoutButton,onClick:ye,children:[s.jsx(cO,{}),"  "]})})})]})},Zre="_accountPage_vcpe1_5",Jre="_userAvatarSection_vcpe1_79",eie="_avatarWrapper_vcpe1_95",tie="_userAvatar_vcpe1_79",nie="_userAvatarFallback_vcpe1_129",sie="_userName_vcpe1_159",aie="_statsSection_vcpe1_183",rie="_statsGrid_vcpe1_191",iie="_statBox_vcpe1_203",oie="_statIcon_vcpe1_241",cie="_blue_vcpe1_265",lie="_green_vcpe1_273",uie="_purple_vcpe1_281",die="_statContent_vcpe1_289",hie="_statValue_vcpe1_303",fie="_statLabel_vcpe1_317",mie="_qrSection_vcpe1_331",pie="_qrCard_vcpe1_339",gie="_qrHeader_vcpe1_357",_ie="_qrContainer_vcpe1_393",vie="_qrCode_vcpe1_417",xie="_qrOverlay_vcpe1_453",bie="_qrFooter_vcpe1_517",yie="_qrExpiry_vcpe1_535",wie="_expiryLabel_vcpe1_563",Cie="_expiryTime_vcpe1_573",Sie="_refreshQrButton_vcpe1_585",jie="_spinning_vcpe1_645",Nie="_storesSection_vcpe1_673",Eie="_sectionHeader_vcpe1_681",kie="_sectionTitle_vcpe1_689",Iie="_storesList_vcpe1_709",Die="_storeCard_vcpe1_771",Tie="_storeHeader_vcpe1_813",Aie="_storeLogo_vcpe1_827",Mie="_storeInfo_vcpe1_885",Rie="_storeName_vcpe1_895",Oie="_bonusDisplay_vcpe1_911",Bie="_bonusAmount_vcpe1_925",Lie="_bonusLabel_vcpe1_937",$ie="_progressSection_vcpe1_947",Pie="_progressLabel_vcpe1_955",Fie="_progressBar_vcpe1_973",Hie="_progressFill_vcpe1_989",zie="_businessesSection_vcpe1_1005",Vie="_businessesList_vcpe1_1013",qie="_businessCard_vcpe1_1075",Uie="_businessHeader_vcpe1_1105",Wie="_businessLogo_vcpe1_1119",Yie="_businessInfo_vcpe1_1177",Gie="_businessType_vcpe1_1201",Qie="_businessBody_vcpe1_1211",Xie="_businessActions_vcpe1_1249",Kie="_businessLink_vcpe1_1259",Zie="_workSection_vcpe1_1309",Jie="_employmentsList_vcpe1_1317",eoe="_employmentCard_vcpe1_1379",toe="_employmentHeader_vcpe1_1401",noe="_companyLogo_vcpe1_1415",soe="_employmentInfo_vcpe1_1463",aoe="_employeeBadge_vcpe1_1487",roe="_employmentDetails_vcpe1_1507",ioe="_detailItem_vcpe1_1515",ooe="_locationsSection_vcpe1_1543",coe="_locationsList_vcpe1_1565",loe="_locationItem_vcpe1_1577",uoe="_positionTag_vcpe1_1623",doe="_employmentActions_vcpe1_1645",hoe="_workLink_vcpe1_1653",foe="_tabsSection_vcpe1_1703",moe="_tabsGrid_vcpe1_1711",poe="_tabCard_vcpe1_1725",goe="_tabIcon_vcpe1_1773",_oe="_tabContent_vcpe1_1797",voe="_profileTab_vcpe1_1807",xoe="_profileCard_vcpe1_1815",boe="_cardHeader_vcpe1_1829",yoe="_editBtn_vcpe1_1861",woe="_infoGrid_vcpe1_1901",Coe="_infoItem_vcpe1_1913",Soe="_infoIcon_vcpe1_1925",joe="_securityTab_vcpe1_1967",Noe="_securityGrid_vcpe1_1975",Eoe="_securityCard_vcpe1_1987",koe="_securityHeader_vcpe1_2001",Ioe="_securityBtn_vcpe1_2053",Doe="_walletTab_vcpe1_2097",Toe="_balanceCard_vcpe1_2105",Aoe="_balanceAmount_vcpe1_2135",Moe="_balanceActions_vcpe1_2149",Roe="_balanceBtn_vcpe1_2159",Ooe="_settingsTab_vcpe1_2203",Boe="_settingsGrid_vcpe1_2211",Loe="_settingCard_vcpe1_2223",$oe="_settingHeader_vcpe1_2237",Poe="_settingBtn_vcpe1_2289",Foe="_footerSection_vcpe1_2333",Hoe="_logoutButton_vcpe1_2343",zoe="_modalOverlay_vcpe1_2395",Voe="_historyModalContent_vcpe1_2425",qoe="_qrModalContent_vcpe1_2427",Uoe="_modalHeader_vcpe1_2451",Woe="_modalClose_vcpe1_2493",Yoe="_historyStoreInfo_vcpe1_2541",Goe="_historyStoreName_vcpe1_2551",Qoe="_historyStoreBalance_vcpe1_2565",Xoe="_transactionsList_vcpe1_2585",Koe="_transactionItem_vcpe1_2599",Zoe="_transactionHeader_vcpe1_2615",Joe="_transactionType_vcpe1_2629",ece="_transactionIconAccrual_vcpe1_2647",tce="_transactionIconRedemption_vcpe1_2655",nce="_transactionAmount_vcpe1_2663",sce="_positive_vcpe1_2673",ace="_negative_vcpe1_2681",rce="_transactionDescription_vcpe1_2689",ice="_transactionFooter_vcpe1_2703",oce="_transactionDate_vcpe1_2719",cce="_transactionBalance_vcpe1_2727",lce="_transactionReceipt_vcpe1_2735",uce="_loadingMore_vcpe1_2755",dce="_noMoreTransactions_vcpe1_2757",hce="_modalQr_vcpe1_2787",fce="_modalQrText_vcpe1_2807",mce="_modalExpiry_vcpe1_2821",pce="_modalExpiryTime_vcpe1_2847",gce="_tokenValue_vcpe1_2859",_ce="_modalActions_vcpe1_2883",vce="_copyBtn_vcpe1_2899",xce="_copied_vcpe1_2949",bce="_loadingWrapper_vcpe1_2959",yce="_errorWrapper_vcpe1_2961",wce="_errorCard_vcpe1_2979",Cce="_errorIcon_vcpe1_2997",Sce="_retryBtn_vcpe1_3033",jce="_loadingState_vcpe1_3073",Nce="_emptyState_vcpe1_3087",_t={accountPage:Zre,userAvatarSection:Jre,avatarWrapper:eie,userAvatar:tie,userAvatarFallback:nie,userName:sie,statsSection:aie,statsGrid:rie,statBox:iie,statIcon:oie,blue:cie,green:lie,purple:uie,statContent:die,statValue:hie,statLabel:fie,qrSection:mie,qrCard:pie,qrHeader:gie,qrContainer:_ie,qrCode:vie,qrOverlay:xie,qrFooter:bie,qrExpiry:yie,expiryLabel:wie,expiryTime:Cie,refreshQrButton:Sie,spinning:jie,storesSection:Nie,sectionHeader:Eie,sectionTitle:kie,storesList:Iie,storeCard:Die,storeHeader:Tie,storeLogo:Aie,storeInfo:Mie,storeName:Rie,bonusDisplay:Oie,bonusAmount:Bie,bonusLabel:Lie,progressSection:$ie,progressLabel:Pie,progressBar:Fie,progressFill:Hie,businessesSection:zie,businessesList:Vie,businessCard:qie,businessHeader:Uie,businessLogo:Wie,businessInfo:Yie,businessType:Gie,businessBody:Qie,businessActions:Xie,businessLink:Kie,workSection:Zie,employmentsList:Jie,employmentCard:eoe,employmentHeader:toe,companyLogo:noe,employmentInfo:soe,employeeBadge:aoe,employmentDetails:roe,detailItem:ioe,locationsSection:ooe,locationsList:coe,locationItem:loe,positionTag:uoe,employmentActions:doe,workLink:hoe,tabsSection:foe,tabsGrid:moe,tabCard:poe,tabIcon:goe,tabContent:_oe,profileTab:voe,profileCard:xoe,cardHeader:boe,editBtn:yoe,infoGrid:woe,infoItem:Coe,infoIcon:Soe,securityTab:joe,securityGrid:Noe,securityCard:Eoe,securityHeader:koe,securityBtn:Ioe,walletTab:Doe,balanceCard:Toe,balanceAmount:Aoe,balanceActions:Moe,balanceBtn:Roe,settingsTab:Ooe,settingsGrid:Boe,settingCard:Loe,settingHeader:$oe,settingBtn:Poe,footerSection:Foe,logoutButton:Hoe,modalOverlay:zoe,historyModalContent:Voe,qrModalContent:qoe,modalHeader:Uoe,modalClose:Woe,historyStoreInfo:Yoe,historyStoreName:Goe,historyStoreBalance:Qoe,transactionsList:Xoe,transactionItem:Koe,transactionHeader:Zoe,transactionType:Joe,transactionIconAccrual:ece,transactionIconRedemption:tce,transactionAmount:nce,positive:sce,negative:ace,transactionDescription:rce,transactionFooter:ice,transactionDate:oce,transactionBalance:cce,transactionReceipt:lce,loadingMore:uce,noMoreTransactions:dce,modalQr:hce,modalQrText:fce,modalExpiry:mce,modalExpiryTime:pce,tokenValue:gce,modalActions:_ce,copyBtn:vce,copied:xce,loadingWrapper:bce,errorWrapper:yce,errorCard:wce,errorIcon:Cce,retryBtn:Sce,loadingState:jce,emptyState:Nce},Ece=()=>{var re;const[e,t]=v.useState(null),[n,a]=v.useState(!0),[r,i]=v.useState(""),[o,c]=v.useState(null),[l,d]=v.useState([]),[f,g]=v.useState(!1),[b,w]=v.useState([]),[S,j]=v.useState(!1),[N,I]=v.useState(null),[M,B]=v.useState(!1),[P,O]=v.useState(!1),[R,$]=v.useState(!1),[U,F]=v.useState(!1),[H,ne]=v.useState(null),[X,te]=v.useState(!1),[se,V]=v.useState(null),[q,T]=v.useState([]),[J,Z]=v.useState(!1),[A,Y]=v.useState(!1),[K,G]=v.useState(0),oe=v.useRef(null),ee=Rs(),{logout:ae}=Qm();v.useEffect(()=>{(async()=>{var Se;try{const pe=await Re.get("accounts/api/account/",{withCredentials:!0});t(pe.data)}catch(pe){i("    "),((Se=pe.response)==null?void 0:Se.status)===401&&ee("/registration-login")}finally{a(!1)}})()},[ee]),v.useEffect(()=>{(async()=>{try{g(!0);const Se=await Re.get("api/my-employments/");d(Se.data)}catch(Se){console.error("   :",Se)}finally{g(!1)}})()},[]),v.useEffect(()=>{const xe=async()=>{try{j(!0);const pe=await Re.get("api/user/bonus-balances/");w(pe.data||[])}catch(pe){console.error("   :",pe)}finally{j(!1)}},Se=async()=>{try{B(!0);const pe=await Re.get("api/user/qr-code/");I(pe.data)}catch(pe){console.error("  QR-:",pe)}finally{B(!1)}};xe(),Se()},[]);const ie=Je.useCallback(async()=>{try{O(!0);const xe=await Re.get("api/user/qr-code/");I(xe.data)}catch(xe){console.error("  QR-:",xe)}finally{O(!1)}},[]);v.useEffect(()=>{if(!(N!=null&&N.expires_at)){ne(null);return}const xe=()=>{const Le=new Date(N.expires_at)-new Date;if(Le<=0){ne(""),ie();return}const Ue=Math.floor(Le/6e4),Ne=Math.floor(Le%6e4/1e3);Ue>0?ne(`${Ue}  ${Ne} `):ne(`${Ne} `)};xe();const Se=setInterval(xe,1e3);return()=>clearInterval(Se)},[N==null?void 0:N.expires_at,ie]);const ue=async()=>{await ae()},he=xe=>new Date(xe).toLocaleDateString("ru-RU",{year:"numeric",month:"long",day:"numeric"}),ge=()=>b.reduce((xe,Se)=>xe+parseFloat(Se.balance||0),0),ye=()=>{N!=null&&N.qr_token&&(navigator.clipboard.writeText(N.qr_token),$(!0),setTimeout(()=>$(!1),2e3))},je=async(xe,Se)=>{var pe;V({business:xe,location:Se}),te(!0),Z(!0),G(0),Y(!1);try{const Ee=await Re.get(`api/user/bonus-history/${xe.slug}/`,{params:{offset:0,page_size:20}});T(Array.isArray(Ee.data.transactions)?Ee.data.transactions:[]),Y(Ee.data.has_more||!1),G(((pe=Ee.data.transactions)==null?void 0:pe.length)||0)}catch(Ee){console.error("   :",Ee),T([]),Y(!1)}finally{Z(!1)}},Ie=v.useCallback(async()=>{if(!(!se||J||!A)){Z(!0);try{const xe=await Re.get(`api/user/bonus-history/${se.business.slug}/`,{params:{offset:K,page_size:20}});T(Se=>[...Se,...xe.data.transactions||[]]),Y(xe.data.has_more||!1),G(Se=>{var pe;return Se+(((pe=xe.data.transactions)==null?void 0:pe.length)||0)})}catch(xe){console.error("   :",xe)}finally{Z(!1)}}},[se,J,A,K]);v.useEffect(()=>{if(!X||!oe.current)return;const xe=()=>{const pe=oe.current;if(!pe)return;const Ee=pe.scrollTop,Le=pe.scrollHeight,Ue=pe.clientHeight;Ee+Ue>=Le*.8&&A&&!J&&Ie()},Se=oe.current;if(Se)return Se.addEventListener("scroll",xe),()=>{Se&&Se.removeEventListener("scroll",xe)}},[X,A,J,se,K,Ie]);const me=xe=>({accrual:"",redemption:"",expiry:"",adjustment:""})[xe]||xe,de=[{id:"profile",label:"",icon:s.jsx(Dx,{})},{id:"security",label:"",icon:s.jsx(mO,{})},{id:"wallet",label:"",icon:s.jsx(RO,{})},{id:"settings",label:"",icon:s.jsx(fO,{})}];if(n)return s.jsx("div",{className:_t.loadingWrapper,children:s.jsx(Wn,{size:"large"})});if(r)return s.jsx("div",{className:_t.errorWrapper,children:s.jsxs("div",{className:_t.errorCard,children:[s.jsx("div",{className:_t.errorIcon,children:""}),s.jsx("h3",{children:" "}),s.jsx("p",{children:r}),s.jsx("button",{onClick:()=>window.location.reload(),className:_t.retryBtn,children:" "})]})});const fe=ge();return s.jsxs("div",{className:_t.accountPage,children:[s.jsx("section",{className:_t.userAvatarSection,children:s.jsxs("div",{className:_t.avatarWrapper,children:[e.avatar?s.jsx("img",{src:e.avatar,alt:"",className:_t.userAvatar}):s.jsx("div",{className:_t.userAvatarFallback,children:e.first_name.charAt(0).toUpperCase()}),s.jsx("h2",{className:_t.userName,children:e.first_name})]})}),s.jsx("section",{className:_t.statsSection,children:s.jsxs("div",{className:_t.statsGrid,children:[s.jsxs("div",{className:_t.statBox,children:[s.jsx("div",{className:`${_t.statIcon} ${_t.blue}`,children:s.jsx(OR,{})}),s.jsxs("div",{className:_t.statContent,children:[s.jsx("div",{className:_t.statValue,children:fe.toLocaleString("ru-RU",{maximumFractionDigits:0})}),s.jsx("div",{className:_t.statLabel,children:" "})]})]}),s.jsxs("div",{className:_t.statBox,children:[s.jsx("div",{className:`${_t.statIcon} ${_t.green}`,children:s.jsx(X1,{})}),s.jsxs("div",{className:_t.statContent,children:[s.jsx("div",{className:_t.statValue,children:b.length}),s.jsx("div",{className:_t.statLabel,children:""})]})]}),s.jsxs("div",{className:_t.statBox,children:[s.jsx("div",{className:`${_t.statIcon} ${_t.purple}`,children:s.jsx(hi,{})}),s.jsxs("div",{className:_t.statContent,children:[s.jsxs("div",{className:_t.statValue,children:[fe.toLocaleString("ru-RU",{maximumFractionDigits:0})," "]}),s.jsx("div",{className:_t.statLabel,children:""})]})]})]})}),s.jsx("section",{className:_t.qrSection,children:s.jsxs("div",{className:_t.qrCard,children:[s.jsxs("div",{className:_t.qrHeader,children:[s.jsx("h3",{children:" QR-"}),s.jsx("p",{children:"     "})]}),M?s.jsx("div",{className:_t.loadingState,children:s.jsx(Wn,{size:"small"})}):N?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:_t.qrContainer,onClick:()=>F(!0),children:s.jsxs("div",{className:_t.qrCode,children:[s.jsx(_m,{value:N.qr_token,size:200,level:"H",includeMargin:!0}),s.jsxs("div",{className:_t.qrOverlay,children:[s.jsx(LR,{}),s.jsxs("p",{children:[" ",s.jsx("br",{}),""]})]})]})}),s.jsxs("div",{className:_t.qrFooter,children:[H&&s.jsxs("div",{className:_t.qrExpiry,children:[s.jsx("span",{className:_t.expiryLabel,children:":"}),s.jsx("span",{className:_t.expiryTime,children:H})]}),s.jsxs("button",{className:_t.refreshQrButton,onClick:ie,disabled:P,children:[s.jsx(Sg,{className:P?_t.spinning:""}),P?"...":""]})]})]}):s.jsx("div",{className:_t.emptyState,children:"   QR-"})]})}),s.jsxs("section",{className:_t.storesSection,children:[s.jsx("div",{className:_t.sectionHeader,children:s.jsx("h3",{className:_t.sectionTitle,children:" "})}),S?s.jsx("div",{className:_t.loadingState,children:s.jsx(Wn,{size:"medium"})}):b.length===0?s.jsxs("div",{className:_t.emptyState,children:[s.jsx(hi,{}),s.jsx("h4",{children:"    "}),s.jsx("p",{children:"        "})]}):s.jsx("div",{className:_t.storesList,children:b.map(xe=>s.jsxs("div",{className:_t.storeCard,onClick:()=>je(xe,xe.primary_location),children:[s.jsxs("div",{className:_t.storeHeader,children:[s.jsx("div",{className:_t.storeLogo,children:xe.business_logo?s.jsx("img",{src:xe.business_logo,alt:xe.name,onError:Se=>{Se.target.style.display="none";const pe=Se.target.nextSibling;pe&&(pe.style.display="flex")}}):s.jsx("div",{children:s.jsx(X1,{})})}),s.jsx("div",{className:_t.storeInfo,children:s.jsx("div",{className:_t.storeName,children:xe.name})})]}),s.jsxs("div",{className:_t.bonusDisplay,children:[s.jsx("div",{className:_t.bonusAmount,children:parseFloat(xe.balance||0).toLocaleString("ru-RU",{maximumFractionDigits:0})}),s.jsx("div",{className:_t.bonusLabel,children:""})]}),xe.tier&&s.jsxs("div",{className:_t.progressSection,children:[s.jsxs("div",{className:_t.progressLabel,children:[s.jsx("span",{children:""}),s.jsx("span",{children:xe.tier.name})]}),s.jsx("div",{className:_t.progressBar,children:s.jsx("div",{className:_t.progressFill,style:{width:`${Math.min(parseFloat(xe.tier.bonus_percent)*10,100)}%`}})})]})]},xe.slug))})]}),e.is_business&&((re=e.businesses)==null?void 0:re.length)>0&&s.jsxs("section",{className:_t.businessesSection,children:[s.jsx("div",{className:_t.sectionHeader,children:s.jsxs("h3",{className:_t.sectionTitle,children:[s.jsx(Cc,{}),"  "]})}),s.jsx("div",{className:_t.businessesList,children:e.businesses.map(xe=>s.jsxs("div",{className:_t.businessCard,children:[s.jsxs("div",{className:_t.businessHeader,children:[s.jsx("div",{className:_t.businessLogo,children:xe.business_logo?s.jsx("img",{src:xe.business_logo,alt:xe.name,onError:Se=>{Se.target.style.display="none";const pe=Se.target.nextSibling;pe&&(pe.style.display="flex")}}):s.jsx("div",{children:s.jsx(Cc,{})})}),s.jsxs("div",{className:_t.businessInfo,children:[s.jsx("h4",{children:xe.name}),s.jsx("span",{className:_t.businessType,children:xe.business_type})]})]}),s.jsx("div",{className:_t.businessBody,children:s.jsx("p",{children:xe.description||" "})}),s.jsx("div",{className:_t.businessActions,children:s.jsxs(Ea,{to:`/business/${xe.slug}/main`,className:_t.businessLink,children:[s.jsx(BO,{})," ",s.jsx(Ix,{})]})})]},xe.id))})]}),l.length>0&&s.jsxs("section",{className:_t.workSection,children:[s.jsx("div",{className:_t.sectionHeader,children:s.jsxs("h3",{className:_t.sectionTitle,children:[s.jsx(rO,{}),"   "]})}),f?s.jsx("div",{className:_t.loadingState,children:s.jsx(Wn,{size:"medium"})}):s.jsx("div",{className:_t.employmentsList,children:l.map(xe=>s.jsxs("div",{className:_t.employmentCard,children:[s.jsxs("div",{className:_t.employmentHeader,children:[s.jsx("div",{className:_t.companyLogo,children:xe.business.business_logo?s.jsx("img",{src:xe.business.business_logo,alt:xe.business.name}):s.jsx(Cc,{})}),s.jsxs("div",{className:_t.employmentInfo,children:[s.jsx("h4",{children:xe.business.name}),xe.employee_name&&s.jsx("span",{className:_t.employeeBadge,children:xe.employee_name})]})]}),s.jsxs("div",{className:_t.employmentDetails,children:[xe.hired_date&&s.jsxs("div",{className:_t.detailItem,children:[s.jsx(kx,{}),s.jsxs("span",{children:[" : ",he(xe.hired_date)]})]}),xe.locations.length>0&&s.jsxs("div",{className:_t.locationsSection,children:[s.jsx("h5",{children:":"}),s.jsx("div",{className:_t.locationsList,children:xe.locations.map(Se=>s.jsxs("div",{className:_t.locationItem,children:[s.jsx(uO,{}),s.jsxs("div",{children:[s.jsx("strong",{children:Se.location_name}),Se.position&&s.jsx("span",{className:_t.positionTag,children:Se.position})]})]},Se.id))})]})]}),s.jsx("div",{className:_t.employmentActions,children:s.jsxs(Ea,{to:`/business/${xe.business.slug}/main`,className:_t.workLink,children:["  ",s.jsx(Ix,{})]})})]},xe.id))})]}),s.jsxs("section",{className:_t.tabsSection,children:[s.jsx("div",{className:_t.sectionHeader,children:s.jsx("h3",{className:_t.sectionTitle,children:"  "})}),s.jsx("div",{className:_t.tabsGrid,children:de.map(xe=>s.jsxs("div",{className:_t.tabCard,onClick:()=>c(o===xe.id?null:xe.id),children:[s.jsx("div",{className:_t.tabIcon,children:xe.icon}),s.jsx("h4",{children:xe.label})]},xe.id))}),s.jsx(Fc,{mode:"wait",children:o&&s.jsxs(rs.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},className:_t.tabContent,children:[o==="profile"&&s.jsx("div",{className:_t.profileTab,children:s.jsxs("div",{className:_t.profileCard,children:[s.jsxs("div",{className:_t.cardHeader,children:[s.jsx("h4",{children:" "}),s.jsx("button",{className:_t.editBtn,children:""})]}),s.jsxs("div",{className:_t.infoGrid,children:[s.jsxs("div",{className:_t.infoItem,children:[s.jsx(Dx,{className:_t.infoIcon}),s.jsxs("div",{children:[s.jsx("label",{children:""}),s.jsx("p",{children:e.first_name})]})]}),s.jsxs("div",{className:_t.infoItem,children:[s.jsx(lO,{className:_t.infoIcon}),s.jsxs("div",{children:[s.jsx("label",{children:"Email"}),s.jsx("p",{children:e.email})]})]}),s.jsxs("div",{className:_t.infoItem,children:[s.jsx(hO,{className:_t.infoIcon}),s.jsxs("div",{children:[s.jsx("label",{children:""}),s.jsx("p",{children:e.phone||" "})]})]}),s.jsxs("div",{className:_t.infoItem,children:[s.jsx(kx,{className:_t.infoIcon}),s.jsxs("div",{children:[s.jsx("label",{children:" "}),s.jsx("p",{children:he(e.date_joined)})]})]})]})]})}),o==="security"&&s.jsx("div",{className:_t.securityTab,children:s.jsxs("div",{className:_t.securityGrid,children:[s.jsxs("div",{className:_t.securityCard,children:[s.jsxs("div",{className:_t.securityHeader,children:[s.jsx(oO,{}),s.jsx("h4",{children:""})]}),s.jsx("p",{children:"     "}),s.jsx("button",{className:_t.securityBtn,children:" "})]}),s.jsxs("div",{className:_t.securityCard,children:[s.jsxs("div",{className:_t.securityHeader,children:[s.jsx(LO,{}),s.jsx("h4",{children:"2FA"})]}),s.jsx("p",{children:"  "}),s.jsx("button",{className:_t.securityBtn,children:" 2FA"})]}),s.jsxs("div",{className:_t.securityCard,children:[s.jsxs("div",{className:_t.securityHeader,children:[s.jsx(iO,{}),s.jsx("h4",{children:""})]}),s.jsx("p",{children:"  "}),s.jsx("button",{className:_t.securityBtn,children:" "})]})]})}),o==="wallet"&&s.jsx("div",{className:_t.walletTab,children:s.jsxs("div",{className:_t.balanceCard,children:[s.jsx("h4",{children:" "}),s.jsx("p",{className:_t.balanceAmount,children:"12,450 "}),s.jsxs("div",{className:_t.balanceActions,children:[s.jsx("button",{className:_t.balanceBtn,children:""}),s.jsx("button",{className:_t.balanceBtn,children:""})]})]})}),o==="settings"&&s.jsx("div",{className:_t.settingsTab,children:s.jsxs("div",{className:_t.settingsGrid,children:[s.jsxs("div",{className:_t.settingCard,children:[s.jsxs("div",{className:_t.settingHeader,children:[s.jsx(aO,{}),s.jsx("h4",{children:""})]}),s.jsx("p",{children:"  "}),s.jsx("button",{className:_t.settingBtn,children:""})]}),s.jsxs("div",{className:_t.settingCard,children:[s.jsxs("div",{className:_t.settingHeader,children:[s.jsx(dO,{}),s.jsx("h4",{children:""})]}),s.jsx("p",{children:"  "}),s.jsx("button",{className:_t.settingBtn,children:""})]}),s.jsxs("div",{className:_t.settingCard,children:[s.jsxs("div",{className:_t.settingHeader,children:[s.jsx(OO,{}),s.jsx("h4",{children:""})]}),s.jsx("p",{children:" "}),s.jsx("button",{className:_t.settingBtn,children:""})]})]})})]},o)})]}),s.jsx("section",{className:_t.footerSection,children:s.jsxs("button",{className:_t.logoutButton,onClick:ue,children:[s.jsx(cO,{}),"  "]})}),X&&se&&s.jsx("div",{className:_t.modalOverlay,onClick:()=>te(!1),children:s.jsxs(rs.div,{className:_t.historyModalContent,onClick:xe=>xe.stopPropagation(),initial:{y:"100%"},animate:{y:0},exit:{y:"100%"},transition:{type:"spring",damping:25,stiffness:200},children:[s.jsxs("div",{className:_t.modalHeader,children:[s.jsx("h2",{children:" "}),s.jsx("button",{className:_t.modalClose,onClick:()=>te(!1),children:s.jsx(aa,{})})]}),s.jsxs("div",{className:_t.historyStoreInfo,children:[s.jsx("div",{className:_t.historyStoreName,children:se.business.name}),s.jsxs("div",{className:_t.historyStoreBalance,children:[": ",s.jsxs("span",{children:[parseFloat(se.business.balance||0).toLocaleString("ru-RU",{maximumFractionDigits:0})," "]})]})]}),J&&q.length===0?s.jsx("div",{className:_t.loadingState,children:s.jsx(Wn,{size:"medium"})}):!Array.isArray(q)||q.length===0?s.jsxs("div",{className:_t.emptyState,children:[s.jsx(hi,{}),s.jsx("p",{children:"  "})]}):s.jsxs("div",{className:_t.transactionsList,ref:oe,children:[Array.isArray(q)&&q.map(xe=>s.jsxs("div",{className:_t.transactionItem,children:[s.jsxs("div",{className:_t.transactionHeader,children:[s.jsxs("div",{className:_t.transactionType,children:[xe.transaction_type==="accrual"?s.jsx(o0,{className:_t.transactionIconAccrual}):s.jsx(i0,{className:_t.transactionIconRedemption}),s.jsx("span",{children:me(xe.transaction_type)})]}),s.jsxs("div",{className:`${_t.transactionAmount} ${xe.transaction_type==="accrual"?_t.positive:_t.negative}`,children:[xe.transaction_type==="accrual"?"+":"-",parseFloat(xe.amount).toLocaleString("ru-RU",{maximumFractionDigits:0})]})]}),xe.description&&s.jsx("div",{className:_t.transactionDescription,children:xe.description}),s.jsxs("div",{className:_t.transactionFooter,children:[s.jsx("div",{className:_t.transactionDate,children:new Date(xe.created_at).toLocaleString("ru-RU",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})}),s.jsxs("div",{className:_t.transactionBalance,children:[" : ",parseFloat(xe.balance_after).toLocaleString("ru-RU",{maximumFractionDigits:0})]})]}),xe.receipt&&s.jsxs("div",{className:_t.transactionReceipt,children:[" ",xe.receipt.number]})]},xe.id)),J&&Array.isArray(q)&&q.length>0&&s.jsxs("div",{className:_t.loadingMore,children:[s.jsx(Wn,{size:"small"}),s.jsx("span",{children:"..."})]}),!A&&Array.isArray(q)&&q.length>0&&s.jsx("div",{className:_t.noMoreTransactions,children:"  "})]})]})}),U&&N&&s.jsx("div",{className:_t.modalOverlay,onClick:()=>F(!1),children:s.jsxs(rs.div,{className:_t.qrModalContent,onClick:xe=>xe.stopPropagation(),initial:{y:"100%"},animate:{y:0},exit:{y:"100%"},transition:{type:"spring",damping:25,stiffness:200},children:[s.jsxs("div",{className:_t.modalHeader,children:[s.jsx("h2",{children:" QR-"}),s.jsx("button",{className:_t.modalClose,onClick:()=>F(!1),children:s.jsx(aa,{})})]}),s.jsx("div",{className:_t.modalQr,children:s.jsx(_m,{value:N.qr_token,size:280,level:"H",includeMargin:!0})}),s.jsx("p",{className:_t.modalQrText,children:"       "}),H&&s.jsxs("div",{className:_t.modalExpiry,children:[s.jsx("span",{children:":"}),s.jsx("span",{className:_t.modalExpiryTime,children:H})]}),s.jsx("div",{className:_t.tokenValue,children:N.qr_token}),s.jsxs("div",{className:_t.modalActions,children:[s.jsx("button",{className:`${_t.copyBtn} ${R?_t.copied:""}`,onClick:ye,children:R?s.jsxs(s.Fragment,{children:[s.jsx(qr,{})," !"]}):s.jsxs(s.Fragment,{children:[s.jsx(Sd,{}),"  "]})}),s.jsxs("button",{className:_t.refreshQrButton,onClick:ie,disabled:P,children:[s.jsx(Sg,{className:P?_t.spinning:""}),P?"...":" QR-"]})]})]})})]})},kce="_container_178zg_49",Ice="_card_178zg_55",Dce="_tabs_178zg_65",Tce="_tab_178zg_65",Ace="_activeTab_178zg_92",Mce="_content_178zg_110",Rce="_title_178zg_114",Oce="_authError_178zg_127",Bce="_slideIn_178zg_1",Lce="_successMessage_178zg_143",$ce="_notification_178zg_170",Pce="_error_178zg_184",Fce="_success_178zg_143",Hce="_info_178zg_196",zce="_form_178zg_202",Vce="_inputGroup_178zg_208",qce="_inputIcon_178zg_213",Uce="_input_178zg_208",Wce="_errorInput_178zg_249",Yce="_forgotPassword_178zg_270",Gce="_forgotPasswordLink_178zg_275",Qce="_submitButton_178zg_290",Xce="_spinner_178zg_341",Kce="_spin_178zg_341",Zce="_socialAuth_178zg_357",Jce="_socialDivider_178zg_361",ele="_socialButtons_178zg_368",tle="_googleSignIn_178zg_1",nle="_telegramSignIn_178zg_1",sle="_switchAuth_178zg_393",ale="_verificationInfo_178zg_426",rle="_verificationActions_178zg_471",ile="_resendButton_178zg_478",ole="_backButton_178zg_508",cle="_verificationCodeInput_178zg_545",lle="_checkboxGroup_178zg_573",ule="_checkboxLabel_178zg_578",dle="_checkbox_178zg_573",hle="_checkboxText_178zg_597",fle="_privacyLink_178zg_602",Dn={"light-theme":"_light-theme_178zg_31","dark-theme":"_dark-theme_178zg_39",container:kce,card:Ice,tabs:Dce,tab:Tce,activeTab:Ace,content:Mce,title:Rce,authError:Oce,slideIn:Bce,successMessage:Lce,notification:$ce,error:Pce,success:Fce,info:Hce,form:zce,inputGroup:Vce,inputIcon:qce,input:Uce,errorInput:Wce,forgotPassword:Yce,forgotPasswordLink:Gce,submitButton:Qce,spinner:Xce,spin:Kce,socialAuth:Zce,socialDivider:Jce,socialButtons:ele,googleSignIn:tle,telegramSignIn:nle,switchAuth:sle,verificationInfo:ale,verificationActions:rle,resendButton:ile,backButton:ole,verificationCodeInput:cle,checkboxGroup:lle,checkboxLabel:ule,checkbox:dle,checkboxText:hle,privacyLink:fle},mle=()=>{const{isAuthenticated:e,isLoading:t}=Qm(),[n,a]=v.useState(!0),[r,i]=v.useState(1),[o,c]=v.useState(0),[l,d]=v.useState({email:"",password:"",first_name:"",password1:"",password2:"",verificationCode:"",resetCode:"",newPassword1:"",newPassword2:"",personalDataConsent:!1}),[f,g]=v.useState({}),[b,w]=v.useState(!1),[S,j]=v.useState(null),[N,I]=v.useState(null),[M,B]=v.useState(0),P=Rs(),[O]=Fm(),R=O.get("redirect")||"/account",$=he=>{if(!he)return null;if(typeof he=="string"){const ge=he.match(/string='([^']+)'/);return ge&&ge[1]?ge[1]:he}if(Array.isArray(he)&&he.length>0){const ge=he[0];if(typeof ge=="string"){const ye=ge.match(/string='([^']+)'/);return ye&&ye[1]?ye[1]:ge}return String(ge)}return String(he)},U=he=>{if(he<=0)return"";const ge=Math.floor(he/60),ye=he%60;return ge>0?`${ge}  ${ye} `:`${ye} `},F=he=>`verification_code_${he}`,H=he=>`password_reset_code_${he}`,ne=he=>{const ge=F(he),ye=localStorage.getItem(ge);if(ye)try{return JSON.parse(ye)}catch{return{sends:[],lastSend:null}}return{sends:[],lastSend:null}},X=he=>{const ge=H(he),ye=localStorage.getItem(ge);if(ye)try{return JSON.parse(ye)}catch{return{sends:[],lastSend:null}}return{sends:[],lastSend:null}},te=he=>{const ge=F(he),ye=ne(he),je=Date.now(),Ie=je-24*60*60*1e3;ye.sends=ye.sends.filter(me=>me>Ie),ye.sends.push(je),ye.lastSend=je,localStorage.setItem(ge,JSON.stringify(ye))},se=he=>{const ge=H(he),ye=X(he),je=Date.now(),Ie=je-24*60*60*1e3;ye.sends=ye.sends.filter(me=>me>Ie),ye.sends.push(je),ye.lastSend=je,localStorage.setItem(ge,JSON.stringify(ye))},V=he=>{const ge=ne(he),ye=Date.now(),je=ye-24*60*60*1e3,de=ge.sends.filter(fe=>fe>je).length<2?60*1e3:5*60*1e3;if(ge.lastSend){const fe=ye-ge.lastSend;if(fe<de)return{canSend:!1,remainingSeconds:Math.ceil((de-fe)/1e3)}}return{canSend:!0,remainingSeconds:0}},q=he=>{const ge=X(he),ye=Date.now(),je=ye-24*60*60*1e3,de=ge.sends.filter(fe=>fe>je).length<2?60*1e3:5*60*1e3;if(ge.lastSend){const fe=ye-ge.lastSend;if(fe<de)return{canSend:!1,remainingSeconds:Math.ceil((de-fe)/1e3)}}return{canSend:!0,remainingSeconds:0}};v.useEffect(()=>{r!==2&&o!==2&&B(0)},[r,o]),v.useEffect(()=>{if(M<=0)return;const he=setInterval(()=>{B(ge=>ge<=1?0:ge-1)},1e3);return()=>clearInterval(he)},[M]);const T=(he,ge)=>{I({type:he,message:ge}),setTimeout(()=>I(null),5e3)};v.useEffect(()=>{!t&&e&&P(R,{replace:!0})},[e,t,P,R]),v.useEffect(()=>{const he=document.createElement("script");he.src="https://accounts.google.com/gsi/client",he.async=!0,he.defer=!0,he.onload=()=>{window.google.accounts.id.disableAutoSelect(),window.google.accounts.id.initialize({client_id:"412031149331-89sgaqeamohaq76dnn5n97663frnfskg.apps.googleusercontent.com",callback:J,auto_select:!1,itp_support:!0}),window.google.accounts.id.renderButton(document.getElementById("googleSignIn"),{})},document.body.appendChild(he),window.onTelegramAuth=Z;const ge=document.createElement("script");ge.src="https://telegram.org/js/telegram-widget.js?22",ge.setAttribute("data-telegram-login","VendorVillageAuthBot"),ge.setAttribute("data-size","large"),ge.setAttribute("data-userpic","false"),ge.setAttribute("data-request-access","write"),ge.setAttribute("data-onauth","onTelegramAuth(user)"),ge.async=!0,ge.id="telegram-login-script";const ye=document.getElementById("telegramSignIn");return ye&&ye.appendChild(ge),()=>{var je,Ie,me;(Ie=(je=window.google)==null?void 0:je.accounts)!=null&&Ie.id&&window.google.accounts.id.cancel(),(me=document.getElementById("telegram-login-script"))==null||me.remove()}},[]);const J=async he=>{try{w(!0);const ge=await Re.post("/accounts/api/auth/google/",{token:he.credential},{withCredentials:!0});P(R)}catch{g({auth:"   Google"})}finally{w(!1)}},Z=async he=>{try{w(!0);const ge=await Re.post("/accounts/api/auth/telegram/",he,{withCredentials:!0});P(R)}catch{g({auth:"   Telegram"})}finally{w(!1)}},A=v.useCallback((he,ge)=>{const ye={...f};switch(he){case"email":ge?/\S+@\S+\.\S+/.test(ge)?delete ye.email:ye.email="Email ":ye.email="Email ";break;case"password":!ge&&n?ye.password=" ":delete ye.password;break;case"first_name":!ge&&!n?ye.first_name="  ":delete ye.first_name;break;case"password1":!ge&&!n?ye.password1=" ":ge&&ge.length<8?ye.password1="     8 ":(delete ye.password1,l.password2&&ge!==l.password2?ye.password2="  ":delete ye.password2);break;case"password2":!ge&&!n?ye.password2=" ":ge&&ge!==l.password1?ye.password2="  ":delete ye.password2;break;case"verificationCode":!ge&&r===2?ye.verificationCode="  ":ge&&ge.length!==6?ye.verificationCode="   6 ":delete ye.verificationCode;break;case"resetCode":!ge&&o===2?ye.resetCode="  ":ge&&ge.length!==6?ye.resetCode="   6 ":delete ye.resetCode;break;case"newPassword1":!ge&&o===2?ye.newPassword1="  ":ge&&ge.length<8?ye.newPassword1="     8 ":(delete ye.newPassword1,l.newPassword2&&ge!==l.newPassword2?ye.newPassword2="  ":delete ye.newPassword2);break;case"newPassword2":!ge&&o===2?ye.newPassword2="  ":ge&&ge!==l.newPassword1?ye.newPassword2="  ":delete ye.newPassword2;break}g(ye)},[f,l,n]),Y=he=>{const{name:ge,value:ye}=he.target;d(je=>({...je,[ge]:ye})),A(ge,ye)},K=()=>{const he={};return o===0?(l.email?/\S+@\S+\.\S+/.test(l.email)||(he.email="Email "):he.email="Email ",!l.password&&n&&(he.password=" "),n||(l.first_name||(he.first_name="  "),l.password1?l.password1.length<8&&(he.password1="     8 "):he.password1=" ",l.password1!==l.password2&&(he.password2="  "),l.personalDataConsent||(he.personalDataConsent="     "))):o===1?l.email?/\S+@\S+\.\S+/.test(l.email)||(he.email="Email "):he.email="Email ":o===2&&(l.resetCode?l.resetCode.length!==6&&(he.resetCode="   6 "):he.resetCode="  ",l.newPassword1?l.newPassword1.length<8&&(he.newPassword1="     8 "):he.newPassword1="  ",l.newPassword2?l.newPassword1!==l.newPassword2&&(he.newPassword2="  "):he.newPassword2="  "),g(he),Object.keys(he).length===0},G=async he=>{var ge,ye,je,Ie;if(he.preventDefault(),!!K()){w(!0),g({});try{if(o===0)if(n)await Re.post("accounts/api/auth/login/",{email:l.email,password:l.password},{withCredentials:!0}),P(R);else if(r===1){const me=await Re.post("accounts/api/auth/register/",{first_name:l.first_name,email:l.email,password1:l.password1,password2:l.password2,personal_data_consent:l.personalDataConsent},{withCredentials:!0});j({email:me.data.email,id:me.data.pending_user_id}),te(me.data.email),B(60),i(2)}else r===2&&(await Re.post("accounts/api/auth/verify-email/",{email:S.email,code:l.verificationCode},{withCredentials:!0}),P(R));else if(o===1){try{await Re.post("accounts/api/auth/password-reset/",{email:l.email}),se(l.email),B(60),c(2)}catch(me){const de=(ge=me.response)==null?void 0:ge.data;if(((ye=me.response)==null?void 0:ye.status)===404){const fe=$(de==null?void 0:de.detail)||"   email  ";T("error",fe),g({email:fe});return}else if(((je=me.response)==null?void 0:je.status)===429){const fe=$(de==null?void 0:de.detail)||"   ";T("error",fe);let re=0;const xe=fe.match(/\s+(\d+)\s*\s+(\d+)\s*/);if(xe){const Se=parseInt(xe[1])||0,pe=parseInt(xe[2])||0;re=Se*60+pe}else{const Se=fe.match(/\s+(\d+)\s*/);if(Se)re=parseInt(Se[1])||0;else{const pe=fe.match(/\s+(\d+)\s*/);pe&&(re=parseInt(pe[1])*60||0)}}re>0&&B(re),c(2);return}else{const fe=$(de==null?void 0:de.detail)||"  ";T("error",fe),g({email:fe});return}}return}else o===2&&(await Re.post("accounts/api/auth/password-reset-confirm/",{email:l.email,code:l.resetCode,new_password1:l.newPassword1,new_password2:l.newPassword2}),c(0),d(me=>({...me,resetCode:"",newPassword1:"",newPassword2:""})),T("success","  .       ."))}catch(me){const de=(Ie=me.response)==null?void 0:Ie.data;if(de){const fe={};let re=!1;if(de.non_field_errors){const xe=Array.isArray(de.non_field_errors)?de.non_field_errors[0]:de.non_field_errors;T("error",xe),g({auth:xe}),re=!0}for(const xe in de){if(xe==="non_field_errors")continue;const Se=Array.isArray(de[xe])?de[xe][0]:de[xe],pe=String(Se).toLowerCase();if(fe[xe]=Se,xe==="email"&&pe.includes(" "))T("error"," email  "),g({auth:" email  "}),re=!0;else if(xe==="email"&&pe.includes(" "))T("error","   email  "),g({auth:"   email  "}),re=!0;else if(xe==="error")if(pe.includes(" ")||pe.includes("")){const Ee=String(Se);T("error",Ee),g({auth:Ee}),re=!0}else if(pe.includes(" ")||pe.includes("")){const Ee=String(Se);T("error",Ee),g({auth:Ee}),re=!0}else{const Ee=String(Se);T("error",Ee),g({auth:Ee}),re=!0}else xe==="detail"&&pe.includes(" ")?(T("error","  "),g({auth:"  "}),re=!0):xe==="detail"&&pe.includes("")?(T("error","   "),g({auth:"   "}),re=!0):xe==="detail"&&pe.includes(" ")&&(T("success","  !"),re=!0)}!re&&Object.keys(fe).length>0&&g(fe)}else{const fe=me.message||" . ,  .";T("error",fe),g({auth:fe})}}finally{w(!1)}}},oe=async()=>{var ye,je;if(!S)return;const{canSend:he,remainingSeconds:ge}=V(S.email);if(!he){B(ge),T("error",`      ${ge} `);return}w(!0),g({});try{await Re.post("accounts/api/auth/resend-code/",{email:S.email},{withCredentials:!0}),te(S.email),T("success","   ")}catch(Ie){const me=(ye=Ie.response)==null?void 0:ye.data;if(((je=Ie.response)==null?void 0:je.status)===429){const de=$(me==null?void 0:me.detail)||"   ";T("error",de),g({auth:de});let fe=0;const re=de.match(/\s+(\d+)\s*\s+(\d+)\s*/);if(re){const xe=parseInt(re[1])||0,Se=parseInt(re[2])||0;fe=xe*60+Se}else{const xe=de.match(/\s+(\d+)\s*/);if(xe)fe=parseInt(xe[1])||0;else{const Se=de.match(/\s+(\d+)\s*/);Se&&(fe=parseInt(Se[1])*60||0)}}fe>0&&B(fe)}else if(me){const de=$(me.detail)||"  ";g({auth:de}),T("error",de)}else{const de=" . ,  .";g({auth:de}),T("error",de)}}finally{w(!1)}},ee=()=>{i(1),j(null),d(he=>({...he,verificationCode:""})),g({})},ae=()=>{c(1),d(he=>({...he,resetCode:"",newPassword1:"",newPassword2:""})),g({})},ie=()=>{c(0),d(he=>({...he,resetCode:"",newPassword1:"",newPassword2:""})),g({})},ue=async()=>{var ye,je;if(!l.email)return;const{canSend:he,remainingSeconds:ge}=q(l.email);if(!he){B(ge),T("error",`      ${ge} `);return}w(!0),g({});try{await Re.post("accounts/api/auth/password-reset/",{email:l.email}),se(l.email),T("success","   ")}catch(Ie){const me=(ye=Ie.response)==null?void 0:ye.data;if(((je=Ie.response)==null?void 0:je.status)===429){const de=$(me==null?void 0:me.detail)||"   ";T("error",de),g({auth:de});let fe=0;const re=de.match(/\s+(\d+)\s*\s+(\d+)\s*/);if(re){const xe=parseInt(re[1])||0,Se=parseInt(re[2])||0;fe=xe*60+Se}else{const xe=de.match(/\s+(\d+)\s*/);if(xe)fe=parseInt(xe[1])||0;else{const Se=de.match(/\s+(\d+)\s*/);Se&&(fe=parseInt(Se[1])*60||0)}}fe>0&&B(fe)}else if(me){const de=$(me.detail)||"  ";g({auth:de}),T("error",de)}else{const de=" . ,  .";g({auth:de}),T("error",de)}}finally{w(!1)}};return t?s.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh"},children:s.jsx(Wn,{size:"large"})}):e?null:s.jsx("div",{className:`${Dn.container} ${n?Dn.loginBg:Dn.registerBg}`,children:s.jsxs("div",{className:Dn.card,children:[o===0&&s.jsxs("div",{className:Dn.tabs,children:[s.jsx("button",{className:`${Dn.tab} ${n?Dn.activeTab:""}`,onClick:()=>{a(!0),i(1),j(null),d(he=>({...he,verificationCode:""})),g({})},children:""}),s.jsx("button",{className:`${Dn.tab} ${n?"":Dn.activeTab}`,onClick:()=>{a(!1),i(1),j(null),d(he=>({...he,verificationCode:""})),g({})},children:""})]}),s.jsxs("div",{className:Dn.content,children:[s.jsx("h2",{className:Dn.title,children:o===0?n?"  ":r===1?" ":" email":o===1?" ":" "}),N&&s.jsxs("div",{className:`${Dn.notification} ${Dn[N.type]}`,children:[N.type==="error"&&s.jsx(Sx,{}),N.type==="success"&&s.jsx(Sl,{}),N.type==="info"&&s.jsx(ni,{}),N.message]}),r===2&&s.jsxs("div",{className:Dn.verificationInfo,children:[s.jsxs("p",{children:["     ",s.jsx("strong",{children:S==null?void 0:S.email})]}),s.jsx("p",{children:" 6-   :"})]}),o===2&&s.jsxs("div",{className:Dn.verificationInfo,children:[s.jsxs("p",{children:["     ",s.jsx("strong",{children:l.email})]}),s.jsx("p",{children:"    :"})]}),s.jsxs("form",{onSubmit:G,className:Dn.form,children:[!n&&r===1&&o===0&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:Dn.inputGroup,children:[s.jsx("div",{className:Dn.inputIcon,children:s.jsx(ec,{})}),s.jsx("input",{type:"text",name:"first_name",placeholder:" ",value:l.first_name,onChange:Y,className:`${Dn.input} ${f.first_name?Dn.errorInput:""}`})]}),f.first_name&&s.jsx("span",{className:Dn.error,children:f.first_name}),s.jsxs("div",{className:Dn.inputGroup,children:[s.jsx("div",{className:Dn.inputIcon,children:s.jsx(pl,{})}),s.jsx("input",{type:"email",name:"email",placeholder:"Email",value:l.email,onChange:Y,className:`${Dn.input} ${f.email?Dn.errorInput:""}`})]}),f.email&&s.jsx("span",{className:Dn.error,children:f.email}),s.jsxs("div",{className:Dn.inputGroup,children:[s.jsx("div",{className:Dn.inputIcon,children:s.jsx(uh,{})}),s.jsx("input",{type:"password",name:"password1",placeholder:"",value:l.password1,onChange:Y,className:`${Dn.input} ${f.password1?Dn.errorInput:""}`})]}),f.password1&&s.jsx("span",{className:Dn.error,children:f.password1}),s.jsxs("div",{className:Dn.inputGroup,children:[s.jsx("div",{className:Dn.inputIcon,children:s.jsx(uh,{})}),s.jsx("input",{type:"password",name:"password2",placeholder:" ",value:l.password2,onChange:Y,className:`${Dn.input} ${f.password2?Dn.errorInput:""}`})]}),f.password2&&s.jsx("span",{className:Dn.error,children:f.password2}),s.jsxs("div",{className:Dn.checkboxGroup,children:[s.jsxs("label",{className:Dn.checkboxLabel,children:[s.jsx("input",{type:"checkbox",name:"personalDataConsent",checked:l.personalDataConsent,onChange:he=>{if(d(ge=>({...ge,personalDataConsent:he.target.checked})),he.target.checked){const ge={...f};delete ge.personalDataConsent,g(ge)}},className:Dn.checkbox}),s.jsxs("span",{className:Dn.checkboxText,children:["        "," ",s.jsx(Ea,{to:"/privacy",target:"_blank",className:Dn.privacyLink,children:" "})]})]}),f.personalDataConsent&&s.jsx("span",{className:Dn.error,children:f.personalDataConsent})]})]}),n&&o===0&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:Dn.inputGroup,children:[s.jsx("div",{className:Dn.inputIcon,children:s.jsx(pl,{})}),s.jsx("input",{type:"email",name:"email",placeholder:"Email",value:l.email,onChange:Y,className:`${Dn.input} ${f.email?Dn.errorInput:""}`})]}),f.email&&s.jsx("span",{className:Dn.error,children:f.email}),s.jsxs("div",{className:Dn.inputGroup,children:[s.jsx("div",{className:Dn.inputIcon,children:s.jsx(uh,{})}),s.jsx("input",{type:"password",name:"password",placeholder:"",value:l.password,onChange:Y,className:`${Dn.input} ${f.password?Dn.errorInput:""}`})]}),f.password&&s.jsx("span",{className:Dn.error,children:f.password})]}),r===2&&s.jsxs("div",{className:Dn.inputGroup,children:[s.jsx("div",{className:Dn.inputIcon,children:s.jsx(pl,{})}),s.jsx("input",{type:"text",name:"verificationCode",placeholder:"   ",value:l.verificationCode,onChange:Y,maxLength:"6",className:`${Dn.input} ${Dn.verificationCodeInput} ${f.verificationCode?Dn.errorInput:""}`})]}),f.verificationCode&&s.jsx("span",{className:Dn.error,children:f.verificationCode}),o===1&&s.jsxs("div",{className:Dn.inputGroup,children:[s.jsx("div",{className:Dn.inputIcon,children:s.jsx(pl,{})}),s.jsx("input",{type:"email",name:"email",placeholder:"  email",value:l.email,onChange:Y,className:`${Dn.input} ${f.email?Dn.errorInput:""}`})]}),o===1&&f.email&&s.jsx("span",{className:Dn.error,children:f.email}),o===2&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:Dn.inputGroup,children:[s.jsx("div",{className:Dn.inputIcon,children:s.jsx(pl,{})}),s.jsx("input",{type:"text",name:"resetCode",placeholder:"   ",value:l.resetCode,onChange:Y,maxLength:"6",className:`${Dn.input} ${Dn.verificationCodeInput} ${f.resetCode?Dn.errorInput:""}`})]}),f.resetCode&&s.jsx("span",{className:Dn.error,children:f.resetCode}),s.jsxs("div",{className:Dn.inputGroup,children:[s.jsx("div",{className:Dn.inputIcon,children:s.jsx(uh,{})}),s.jsx("input",{type:"password",name:"newPassword1",placeholder:" ",value:l.newPassword1,onChange:Y,className:`${Dn.input} ${f.newPassword1?Dn.errorInput:""}`})]}),f.newPassword1&&s.jsx("span",{className:Dn.error,children:f.newPassword1}),s.jsxs("div",{className:Dn.inputGroup,children:[s.jsx("div",{className:Dn.inputIcon,children:s.jsx(uh,{})}),s.jsx("input",{type:"password",name:"newPassword2",placeholder:"  ",value:l.newPassword2,onChange:Y,className:`${Dn.input} ${f.newPassword2?Dn.errorInput:""}`})]}),f.newPassword2&&s.jsx("span",{className:Dn.error,children:f.newPassword2})]}),n&&o===0&&s.jsx("div",{className:Dn.forgotPassword,children:s.jsx("button",{type:"button",onClick:ae,className:Dn.forgotPasswordLink,children:" ?"})}),s.jsx("button",{type:"submit",className:Dn.submitButton,disabled:b,children:b?s.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:s.jsx(Wn,{size:"small"})}):o===0?n?"":r===1?"":" email":o===1?" ":" "}),r===2&&s.jsxs("div",{className:Dn.verificationActions,children:[s.jsx("button",{type:"button",onClick:he=>{if(b||M>0){he.preventDefault();return}oe()},className:Dn.resendButton,disabled:b||M>0,children:M>0?`   ${U(M)}`:"  "}),s.jsx("button",{type:"button",onClick:ee,className:Dn.backButton,children:" email"})]}),o===2&&s.jsxs("div",{className:Dn.verificationActions,children:[s.jsx("button",{type:"button",onClick:he=>{if(b||M>0){he.preventDefault();return}ue()},className:Dn.resendButton,disabled:b||M>0,children:M>0?`   ${U(M)}`:"  "}),s.jsx("button",{type:"button",onClick:ie,className:Dn.backButton,children:"  "})]}),o===1&&s.jsx("div",{className:Dn.verificationActions,children:s.jsx("button",{type:"button",onClick:ie,className:Dn.backButton,children:"  "})})]}),r!==2&&o===0&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:Dn.socialAuth,children:[s.jsx("p",{className:Dn.socialDivider,children:"   "}),s.jsxs("div",{className:Dn.socialButtons,children:[s.jsx("div",{id:"googleSignIn"}),s.jsx("div",{id:"telegramSignIn"})]})]}),s.jsx("div",{className:Dn.switchAuth,children:n?s.jsxs(s.Fragment,{children:[" ?"," ",s.jsx("button",{type:"button",onClick:()=>{a(!1),i(1),j(null),d(he=>({...he,verificationCode:""})),g({})},children:""})]}):s.jsxs(s.Fragment,{children:["  ?"," ",s.jsx("button",{type:"button",onClick:()=>{a(!0),i(1),j(null),d(he=>({...he,verificationCode:""})),g({})},children:""})]})})]})]})]})})},ple="_container_eopq0_61",gle="_card_eopq0_89",_le="_header_eopq0_109",vle="_backButton_eopq0_121",xle="_title_eopq0_153",ble="_content_eopq0_169",yle="_form_eopq0_177",wle="_inputGroup_eopq0_189",Cle="_inputIcon_eopq0_201",Sle="_input_eopq0_189",jle="_errorInput_eopq0_251",Nle="_error_eopq0_251",Ele="_submitButton_eopq0_275",kle="_verificationInfo_eopq0_363",Ile="_verificationActions_eopq0_403",Dle="_resendButton_eopq0_417",Tle="_successMessage_eopq0_499",Ale="_errorMessage_eopq0_521",Mle="_verificationCodeInput_eopq0_543",Rle="_footer_eopq0_567",Ole="_link_eopq0_593",ja={container:ple,card:gle,header:_le,backButton:vle,title:xle,content:ble,form:yle,inputGroup:wle,inputIcon:Cle,input:Sle,errorInput:jle,error:Nle,submitButton:Ele,verificationInfo:kle,verificationActions:Ile,resendButton:Dle,successMessage:Tle,errorMessage:Ale,verificationCodeInput:Mle,footer:Rle,link:Ole},Ble=()=>{const[e,t]=v.useState(1),[n,a]=v.useState({email:"",code:"",new_password1:"",new_password2:""}),[r,i]=v.useState({}),[o,c]=v.useState(!1),l=v.useCallback((S,j)=>{const N={...r};switch(S){case"email":j?/\S+@\S+\.\S+/.test(j)?delete N.email:N.email="Email ":N.email="Email ";break;case"code":!j&&e===2?N.code="  ":j&&j.length!==6?N.code="   6 ":delete N.code;break;case"new_password1":!j&&e===2?N.new_password1="  ":j&&j.length<8?N.new_password1="     8 ":(delete N.new_password1,n.new_password2&&j!==n.new_password2?N.new_password2="  ":delete N.new_password2);break;case"new_password2":!j&&e===2?N.new_password2="  ":j&&j!==n.new_password1?N.new_password2="  ":delete N.new_password2;break}i(N)},[r,n,e]),d=S=>{const{name:j,value:N}=S.target;a(I=>({...I,[j]:N})),l(j,N)},f=()=>{const S={};return e===1?n.email?/\S+@\S+\.\S+/.test(n.email)||(S.email="Email "):S.email="Email ":e===2&&(n.code?n.code.length!==6&&(S.code="   6 "):S.code="  ",n.new_password1?n.new_password1.length<8&&(S.new_password1="     8 "):S.new_password1="  ",n.new_password2?n.new_password1!==n.new_password2&&(S.new_password2="  "):S.new_password2="  "),i(S),Object.keys(S).length===0},g=async S=>{var j;if(S.preventDefault(),!!f()){c(!0),i({});try{e===1?(await Re.post("accounts/api/auth/password-reset/",{email:n.email}),t(2)):e===2&&(await Re.post("accounts/api/auth/password-reset-confirm/",{email:n.email,code:n.code,new_password1:n.new_password1,new_password2:n.new_password2}),window.location.href="/login?message=password_reset_success")}catch(N){const I=(j=N.response)==null?void 0:j.data;if(I){const M={};for(const B in I)M[B]=Array.isArray(I[B])?I[B][0]:I[B];i(M)}else i({general:" . ,  ."})}finally{c(!1)}}},b=async()=>{var S;c(!0),i({});try{await Re.post("accounts/api/auth/password-reset/",{email:n.email}),i({success:"   "})}catch(j){const N=(S=j.response)==null?void 0:S.data;i(N?{general:N.detail||"  "}:{general:" . ,  ."})}finally{c(!1)}},w=()=>{t(1),a(S=>({...S,code:"",new_password1:"",new_password2:""})),i({})};return s.jsx("div",{className:ja.container,children:s.jsxs("div",{className:ja.card,children:[s.jsxs("div",{className:ja.header,children:[s.jsxs(Ea,{to:"/login",className:ja.backButton,children:[s.jsx(hm,{}),"  "]}),s.jsx("h2",{className:ja.title,children:e===1?" ":" "})]}),s.jsxs("div",{className:ja.content,children:[r.general&&s.jsx("div",{className:ja.errorMessage,children:r.general}),r.success&&s.jsx("div",{className:ja.successMessage,children:r.success}),e===2&&s.jsxs("div",{className:ja.verificationInfo,children:[s.jsxs("p",{children:["     ",s.jsx("strong",{children:n.email})]}),s.jsx("p",{children:"    :"})]}),s.jsxs("form",{onSubmit:g,className:ja.form,children:[e===1&&s.jsxs("div",{className:ja.inputGroup,children:[s.jsx("div",{className:ja.inputIcon,children:s.jsx(pl,{})}),s.jsx("input",{type:"email",name:"email",placeholder:"  email",value:n.email,onChange:d,className:`${ja.input} ${r.email?ja.errorInput:""}`})]}),r.email&&s.jsx("span",{className:ja.error,children:r.email}),e===2&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:ja.inputGroup,children:[s.jsx("div",{className:ja.inputIcon,children:s.jsx(pl,{})}),s.jsx("input",{type:"text",name:"code",placeholder:"   ",value:n.code,onChange:d,maxLength:"6",className:`${ja.input} ${ja.verificationCodeInput} ${r.code?ja.errorInput:""}`})]}),r.code&&s.jsx("span",{className:ja.error,children:r.code}),s.jsxs("div",{className:ja.inputGroup,children:[s.jsx("div",{className:ja.inputIcon,children:s.jsx(uh,{})}),s.jsx("input",{type:"password",name:"new_password1",placeholder:" ",value:n.new_password1,onChange:d,className:`${ja.input} ${r.new_password1?ja.errorInput:""}`})]}),r.new_password1&&s.jsx("span",{className:ja.error,children:r.new_password1}),s.jsxs("div",{className:ja.inputGroup,children:[s.jsx("div",{className:ja.inputIcon,children:s.jsx(uh,{})}),s.jsx("input",{type:"password",name:"new_password2",placeholder:"  ",value:n.new_password2,onChange:d,className:`${ja.input} ${r.new_password2?ja.errorInput:""}`})]}),r.new_password2&&s.jsx("span",{className:ja.error,children:r.new_password2})]}),s.jsx("button",{type:"submit",className:ja.submitButton,disabled:o,children:o?s.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:s.jsx(Wn,{size:"small"})}):e===1?" ":" "}),e===2&&s.jsxs("div",{className:ja.verificationActions,children:[s.jsx("button",{type:"button",onClick:b,className:ja.resendButton,disabled:o,children:"  "}),s.jsx("button",{type:"button",onClick:w,className:ja.backButton,children:" email"})]})]}),s.jsx("div",{className:ja.footer,children:s.jsxs("p",{children:[" ?"," ",s.jsx(Ea,{to:"/login",className:ja.link,children:""})]})})]})]})})},Lle=()=>{const e=oi();return!!localStorage.getItem("access_token")&&["/registration-login","/password-reset"].includes(e.pathname)?s.jsx(hx,{to:"/account",replace:!0}):s.jsx(fg,{})},$le="_card_wterq_2",Ple="_imageContainer_wterq_34",Fle="_image_wterq_34",Hle="_imageHidden_wterq_64",zle="_imageVisible_wterq_68",Vle="_imageSkeleton_wterq_72",qle="_skeletonShimmer_wterq_88",Ule="_noImage_wterq_109",Wle="_statusBadge_wterq_127",Yle="_active_wterq_141",Gle="_inactive_wterq_146",Qle="_unboundBadge_wterq_151",Xle="_unboundLabel_wterq_167",Kle="_infoContainer_wterq_197",Zle="_priceSection_wterq_211",Jle="_currentPrice_wterq_215",eue="_priceRange_wterq_221",tue="_noPrice_wterq_226",nue="_productName_wterq_233",sue="_businessName_wterq_244",aue="_actionButtons_wterq_251",rue="_editButton_wterq_259",iue="_statusButton_wterq_260",oue="_deleteButton_wterq_261",cue="_deactivate_wterq_308",lue="_tooltip_wterq_331",uue="_stockInfo_wterq_380",due="_inStock_wterq_392",hue="_noStock_wterq_397",fue="_stockLabel_wterq_402",mue="_stockValue_wterq_408",Va={card:$le,imageContainer:Ple,image:Fle,imageHidden:Hle,imageVisible:zle,imageSkeleton:Vle,skeletonShimmer:qle,noImage:Ule,statusBadge:Wle,active:Yle,inactive:Gle,unboundBadge:Qle,unboundLabel:Xle,infoContainer:Kle,priceSection:Zle,currentPrice:Jle,priceRange:eue,noPrice:tue,productName:nue,businessName:sue,actionButtons:aue,editButton:rue,statusButton:iue,deleteButton:oue,deactivate:cue,tooltip:lue,stockInfo:uue,inStock:due,noStock:hue,stockLabel:fue,stockValue:mue},$O=({product:e,businessSlug:t,onToggleStatus:n,onDelete:a})=>{var M;const r=Rs(),{getFileUrl:i}=Ur(),[o,c]=v.useState(!0),[l,d]=v.useState(!1),f=v.useRef(null),g=e.main_image;v.useEffect(()=>{g!=null&&g.image?(c(!0),d(!1)):(c(!1),d(!0))},[g==null?void 0:g.image]),v.useEffect(()=>{f.current&&(g!=null&&g.image)&&o&&f.current.complete&&f.current.naturalHeight!==0&&c(!1)});const b=()=>{r(`/business/${t}/products/${e.id}/`)},w=(B,P)=>{B.stopPropagation(),P()},S=e.default_variant,j=(S==null?void 0:S.min_price)||e.min_price,N=e.min_price!==e.max_price?`${e.min_price.toLocaleString("ru-RU")} - ${e.max_price.toLocaleString("ru-RU")} `:null,I=e.total_available_quantity??((M=e.stock_info)==null?void 0:M.total_available)??0;return s.jsxs("div",{className:`product-card ${Va.card}`,onClick:b,children:[s.jsxs("div",{className:Va.imageContainer,children:[g!=null&&g.image&&!l?s.jsxs(s.Fragment,{children:[o&&s.jsx("div",{className:Va.imageSkeleton,children:s.jsx("div",{className:Va.skeletonShimmer})}),s.jsx("img",{ref:f,src:i(g.image),alt:e.name,loading:"lazy",className:`product-img ${Va.image} ${o?Va.imageHidden:Va.imageVisible}`,onLoad:()=>{c(!1)},onError:B=>{B.target.onerror=null,d(!0),c(!1)}})]}):s.jsx("div",{className:`no-image ${Va.noImage}`,"aria-hidden":"true",children:s.jsx("svg",{width:"60",height:"60",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:s.jsx("path",{d:"M4 16L8.5 10.5L11 13.5L14.5 9L20 16M4 16H20M4 16V4H20V16",strokeWidth:"1.5"})})}),s.jsx("div",{className:`${Va.statusBadge} ${e.is_active?Va.active:Va.inactive}`,children:e.is_active?"":""}),e.is_bound_to_locations===!1&&s.jsx("div",{className:Va.unboundBadge,children:"   "})]}),s.jsxs("div",{className:`product-list-info ${Va.infoContainer}`,children:[s.jsx("div",{className:`price-section ${Va.priceSection}`,children:j?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:`current-price ${Va.currentPrice}`,children:[parseFloat(j).toLocaleString("ru-RU")," "]}),N&&s.jsx("div",{className:`price-range ${Va.priceRange}`,children:N})]}):s.jsx("div",{className:Va.noPrice,children:"  "})}),s.jsx("h3",{className:`product-name ${Va.productName}`,children:e.name}),e.is_bound_to_locations===!1&&s.jsx("div",{className:Va.unboundLabel,children:"   "}),s.jsx("div",{className:`business-name ${Va.businessName}`,children:e.business_name}),s.jsxs("div",{className:`${Va.stockInfo} ${I>0?Va.inStock:Va.noStock}`,children:[s.jsx("span",{className:Va.stockLabel,children:" :"}),s.jsxs("span",{className:Va.stockValue,children:[I," ",e.unit_display||"."]})]}),s.jsxs("div",{className:Va.actionButtons,children:[s.jsxs("button",{className:Va.editButton,onClick:B=>w(B,()=>r(`/business/${t}/products/${e.id}/edit`)),title:"","aria-label":" ",children:[s.jsx("i",{className:"fas fa-edit"}),s.jsx("span",{className:Va.tooltip,children:""})]}),s.jsxs("button",{className:`${Va.statusButton} ${e.is_active?Va.deactivate:Va.activate}`,onClick:B=>w(B,()=>n(e.id,e.is_active)),title:e.is_active?"":"","aria-label":e.is_active?" ":" ",children:[s.jsx("i",{className:e.is_active?"fas fa-pause":"fas fa-play"}),s.jsx("span",{className:Va.tooltip,children:e.is_active?"":""})]}),s.jsxs("button",{className:Va.deleteButton,onClick:B=>w(B,()=>a(e.id)),title:"","aria-label":" ",children:[s.jsx("i",{className:"fas fa-trash"}),s.jsx("span",{className:Va.tooltip,children:""})]})]})]})]})},Hb=()=>{const{business_slug:e}=fa(),[t,n]=v.useState(()=>typeof window<"u"&&e?localStorage.getItem(`business_${e}_location`):null),[a,r]=v.useState(!1);v.useEffect(()=>{if(e){const l=localStorage.getItem(`business_${e}_location`);n(l),r(!1)}},[e]);const i=l=>{n(l),localStorage.setItem(`business_${e}_location`,l)},o=()=>!t||t==="all"?null:{location:t};return{selectedLocation:t,updateLocation:i,getLocationParam:o,getLocationQueryString:()=>{const l=o();return l?`?${new URLSearchParams(l).toString()}`:""},loading:a,isAllLocations:t==="all"}},pue="_container_1kghe_2",gue="_header_1kghe_6",_ue="_title_1kghe_13",vue="_titleIcon_1kghe_20",xue="_headerActions_1kghe_25",bue="_contentWrapper_1kghe_63",yue="_sidebar_1kghe_70",wue="_mainContentFlex_1kghe_77",Cue="_categoriesList_1kghe_95",Sue="_categoryButton_1kghe_102",jue="_active_1kghe_117",Nue="_priceInputs_1kghe_124",Eue="_priceInput_1kghe_124",kue="_priceSeparator_1kghe_149",Iue="_productsHeader_1kghe_191",Due="_searchContainer_1kghe_200",Tue="_searchInput_1kghe_206",Aue="_searchButton_1kghe_220",Mue="_clearButton_1kghe_235",Rue="_sortContainer_1kghe_243",Oue="_productsCount_1kghe_249",Bue="_sortLabel_1kghe_259",Lue="_sortSelect_1kghe_263",$ue="_addProductButton_1kghe_282",Pue="_attachLocationButton_1kghe_283",Fue="_productsGrid_1kghe_344",Hue="_productCard_1kghe_351",zue="_addProductCard_1kghe_365",Vue="_addProductContent_1kghe_375",que="_addProductIcon_1kghe_380",Uue="_addProductText_1kghe_386",Wue="_emptyState_1kghe_484",Yue="_emptyIcon_1kghe_492",Gue="_emptyTitle_1kghe_498",Que="_emptyText_1kghe_503",Xue="_resetButton_1kghe_508",Kue="_error_1kghe_524",Zue="_applyFilterButton_1kghe_541",Jue="_resetFiltersButton_1kghe_542",ede="_filterSection_1kghe_551",tde="_filterTitle_1kghe_557",nde="_loadingText_1kghe_564",sde="_mobileFiltersButton_1kghe_605",ade="_mobileFiltersOverlay_1kghe_628",rde="_mobileFiltersPanel_1kghe_646",ide="_mobileFiltersHeader_1kghe_664",ode="_mobileFiltersTitle_1kghe_673",cde="_mobileFiltersClose_1kghe_679",lde="_mobileFiltersContent_1kghe_695",ude="_mobileFiltersActions_1kghe_699",dde="_mobileApplyButton_1kghe_709",hde="_mobileResetButton_1kghe_710",fde="_checkboxFilter_1kghe_915",dn={container:pue,header:gue,title:_ue,titleIcon:vue,headerActions:xue,contentWrapper:bue,sidebar:yue,mainContentFlex:wue,categoriesList:Cue,categoryButton:Sue,active:jue,priceInputs:Nue,priceInput:Eue,priceSeparator:kue,productsHeader:Iue,searchContainer:Due,searchInput:Tue,searchButton:Aue,clearButton:Mue,sortContainer:Rue,productsCount:Oue,sortLabel:Bue,sortSelect:Lue,addProductButton:$ue,attachLocationButton:Pue,productsGrid:Fue,productCard:Hue,addProductCard:zue,addProductContent:Vue,addProductIcon:que,addProductText:Uue,emptyState:Wue,emptyIcon:Yue,emptyTitle:Gue,emptyText:Que,resetButton:Xue,error:Kue,applyFilterButton:Zue,resetFiltersButton:Jue,filterSection:ede,filterTitle:tde,loadingText:nde,mobileFiltersButton:sde,mobileFiltersOverlay:ade,mobileFiltersPanel:rde,mobileFiltersHeader:ide,mobileFiltersTitle:ode,mobileFiltersClose:cde,mobileFiltersContent:lde,mobileFiltersActions:ude,mobileApplyButton:dde,mobileResetButton:hde,checkboxFilter:fde};/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var lj=function(e,t){return lj=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var r in a)a.hasOwnProperty(r)&&(n[r]=a[r])},lj(e,t)};function mde(e,t){lj(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var eg=function(){return eg=Object.assign||function(t){for(var n,a=1,r=arguments.length;a<r;a++){n=arguments[a];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},eg.apply(this,arguments)};function pde(e,t,n,a){var r,i=!1,o=0;function c(){r&&clearTimeout(r)}function l(){c(),i=!0}typeof t!="boolean"&&(a=n,n=t,t=void 0);function d(){var f=this,g=Date.now()-o,b=arguments;if(i)return;function w(){o=Date.now(),n.apply(f,b)}function S(){r=void 0}a&&!r&&w(),c(),a===void 0&&g>e?w():t!==!0&&(r=setTimeout(a?S:w,a===void 0?e-g:e))}return d.cancel=l,d}var am={Pixel:"Pixel",Percent:"Percent"},DI={unit:am.Percent,value:.8};function TI(e){return typeof e=="number"?{unit:am.Percent,value:e*100}:typeof e=="string"?e.match(/^(\d*(\.\d+)?)px$/)?{unit:am.Pixel,value:parseFloat(e)}:e.match(/^(\d*(\.\d+)?)%$/)?{unit:am.Percent,value:parseFloat(e)}:(console.warn('scrollThreshold format is invalid. Valid formats: "120px", "50%"...'),DI):(console.warn("scrollThreshold should be string or number"),DI)}var T3=function(e){mde(t,e);function t(n){var a=e.call(this,n)||this;return a.lastScrollTop=0,a.actionTriggered=!1,a.startY=0,a.currentY=0,a.dragging=!1,a.maxPullDownDistance=0,a.getScrollableTarget=function(){return a.props.scrollableTarget instanceof HTMLElement?a.props.scrollableTarget:typeof a.props.scrollableTarget=="string"?document.getElementById(a.props.scrollableTarget):(a.props.scrollableTarget===null&&console.warn(`You are trying to pass scrollableTarget but it is null. This might
        happen because the element may not have been added to DOM yet.
        See https://github.com/ankeetmaini/react-infinite-scroll-component/issues/59 for more info.
      `),null)},a.onStart=function(r){a.lastScrollTop||(a.dragging=!0,r instanceof MouseEvent?a.startY=r.pageY:r instanceof TouchEvent&&(a.startY=r.touches[0].pageY),a.currentY=a.startY,a._infScroll&&(a._infScroll.style.willChange="transform",a._infScroll.style.transition="transform 0.2s cubic-bezier(0,0,0.31,1)"))},a.onMove=function(r){a.dragging&&(r instanceof MouseEvent?a.currentY=r.pageY:r instanceof TouchEvent&&(a.currentY=r.touches[0].pageY),!(a.currentY<a.startY)&&(a.currentY-a.startY>=Number(a.props.pullDownToRefreshThreshold)&&a.setState({pullToRefreshThresholdBreached:!0}),!(a.currentY-a.startY>a.maxPullDownDistance*1.5)&&a._infScroll&&(a._infScroll.style.overflow="visible",a._infScroll.style.transform="translate3d(0px, "+(a.currentY-a.startY)+"px, 0px)")))},a.onEnd=function(){a.startY=0,a.currentY=0,a.dragging=!1,a.state.pullToRefreshThresholdBreached&&(a.props.refreshFunction&&a.props.refreshFunction(),a.setState({pullToRefreshThresholdBreached:!1})),requestAnimationFrame(function(){a._infScroll&&(a._infScroll.style.overflow="auto",a._infScroll.style.transform="none",a._infScroll.style.willChange="unset")})},a.onScrollListener=function(r){typeof a.props.onScroll=="function"&&setTimeout(function(){return a.props.onScroll&&a.props.onScroll(r)},0);var i=a.props.height||a._scrollableNode?r.target:document.documentElement.scrollTop?document.documentElement:document.body;if(!a.actionTriggered){var o=a.props.inverse?a.isElementAtTop(i,a.props.scrollThreshold):a.isElementAtBottom(i,a.props.scrollThreshold);o&&a.props.hasMore&&(a.actionTriggered=!0,a.setState({showLoader:!0}),a.props.next&&a.props.next()),a.lastScrollTop=i.scrollTop}},a.state={showLoader:!1,pullToRefreshThresholdBreached:!1,prevDataLength:n.dataLength},a.throttledOnScrollListener=pde(150,a.onScrollListener).bind(a),a.onStart=a.onStart.bind(a),a.onMove=a.onMove.bind(a),a.onEnd=a.onEnd.bind(a),a}return t.prototype.componentDidMount=function(){if(typeof this.props.dataLength>"u")throw new Error('mandatory prop "dataLength" is missing. The prop is needed when loading more content. Check README.md for usage');if(this._scrollableNode=this.getScrollableTarget(),this.el=this.props.height?this._infScroll:this._scrollableNode||window,this.el&&this.el.addEventListener("scroll",this.throttledOnScrollListener),typeof this.props.initialScrollY=="number"&&this.el&&this.el instanceof HTMLElement&&this.el.scrollHeight>this.props.initialScrollY&&this.el.scrollTo(0,this.props.initialScrollY),this.props.pullDownToRefresh&&this.el&&(this.el.addEventListener("touchstart",this.onStart),this.el.addEventListener("touchmove",this.onMove),this.el.addEventListener("touchend",this.onEnd),this.el.addEventListener("mousedown",this.onStart),this.el.addEventListener("mousemove",this.onMove),this.el.addEventListener("mouseup",this.onEnd),this.maxPullDownDistance=this._pullDown&&this._pullDown.firstChild&&this._pullDown.firstChild.getBoundingClientRect().height||0,this.forceUpdate(),typeof this.props.refreshFunction!="function"))throw new Error(`Mandatory prop "refreshFunction" missing.
          Pull Down To Refresh functionality will not work
          as expected. Check README.md for usage'`)},t.prototype.componentWillUnmount=function(){this.el&&(this.el.removeEventListener("scroll",this.throttledOnScrollListener),this.props.pullDownToRefresh&&(this.el.removeEventListener("touchstart",this.onStart),this.el.removeEventListener("touchmove",this.onMove),this.el.removeEventListener("touchend",this.onEnd),this.el.removeEventListener("mousedown",this.onStart),this.el.removeEventListener("mousemove",this.onMove),this.el.removeEventListener("mouseup",this.onEnd)))},t.prototype.componentDidUpdate=function(n){this.props.dataLength!==n.dataLength&&(this.actionTriggered=!1,this.setState({showLoader:!1}))},t.getDerivedStateFromProps=function(n,a){var r=n.dataLength!==a.prevDataLength;return r?eg(eg({},a),{prevDataLength:n.dataLength}):null},t.prototype.isElementAtTop=function(n,a){a===void 0&&(a=.8);var r=n===document.body||n===document.documentElement?window.screen.availHeight:n.clientHeight,i=TI(a);return i.unit===am.Pixel?n.scrollTop<=i.value+r-n.scrollHeight+1:n.scrollTop<=i.value/100+r-n.scrollHeight+1},t.prototype.isElementAtBottom=function(n,a){a===void 0&&(a=.8);var r=n===document.body||n===document.documentElement?window.screen.availHeight:n.clientHeight,i=TI(a);return i.unit===am.Pixel?n.scrollTop+r>=n.scrollHeight-i.value:n.scrollTop+r>=i.value/100*n.scrollHeight},t.prototype.render=function(){var n=this,a=eg({height:this.props.height||"auto",overflow:"auto",WebkitOverflowScrolling:"touch"},this.props.style),r=this.props.hasChildren||!!(this.props.children&&this.props.children instanceof Array&&this.props.children.length),i=this.props.pullDownToRefresh&&this.props.height?{overflow:"auto"}:{};return Je.createElement("div",{style:i,className:"infinite-scroll-component__outerdiv"},Je.createElement("div",{className:"infinite-scroll-component "+(this.props.className||""),ref:function(o){return n._infScroll=o},style:a},this.props.pullDownToRefresh&&Je.createElement("div",{style:{position:"relative"},ref:function(o){return n._pullDown=o}},Je.createElement("div",{style:{position:"absolute",left:0,right:0,top:-1*this.maxPullDownDistance}},this.state.pullToRefreshThresholdBreached?this.props.releaseToRefreshContent:this.props.pullDownToRefreshContent)),this.props.children,!this.state.showLoader&&!r&&this.props.hasMore&&this.props.loader,this.state.showLoader&&this.props.hasMore&&this.props.loader,!this.props.hasMore&&this.props.endMessage))},t}(v.Component);const gde="_overlay_qpuop_5",_de="_modal_qpuop_33",vde="_header_qpuop_55",xde="_title_qpuop_71",bde="_warningIcon_qpuop_89",yde="_closeButton_qpuop_99",wde="_content_qpuop_131",Cde="_productInfo_qpuop_139",Sde="_warning_qpuop_89",jde="_options_qpuop_175",Nde="_option_qpuop_175",Ede="_selected_qpuop_217",kde="_optionHeader_qpuop_229",Ide="_optionIcon_qpuop_243",Dde="_optionTitle_qpuop_253",Tde="_recommended_qpuop_267",Ade="_dangerous_qpuop_289",Mde="_optionDescription_qpuop_311",Rde="_dangerWarning_qpuop_339",Ode="_dangerIcon_qpuop_365",Bde="_irreversible_qpuop_375",Lde="_footer_qpuop_399",$de="_cancelButton_qpuop_415",Pde="_confirmButton_qpuop_447",Fde="_safeButton_qpuop_471",Hde="_dangerButton_qpuop_491",Ua={overlay:gde,modal:_de,header:vde,title:xde,warningIcon:bde,closeButton:yde,content:wde,productInfo:Cde,warning:Sde,options:jde,option:Nde,selected:Ede,optionHeader:kde,optionIcon:Ide,optionTitle:Dde,recommended:Tde,dangerous:Ade,optionDescription:Mde,dangerWarning:Rde,dangerIcon:Ode,irreversible:Bde,footer:Lde,cancelButton:$de,confirmButton:Pde,safeButton:Fde,dangerButton:Hde},PO=({isOpen:e,onClose:t,onConfirm:n,productName:a})=>{const[r,i]=v.useState("soft");if(!e)return null;const o=()=>{n(r),t()};return s.jsx("div",{className:Ua.overlay,children:s.jsxs("div",{className:Ua.modal,children:[s.jsxs("div",{className:Ua.header,children:[s.jsxs("div",{className:Ua.title,children:[s.jsx(lu,{className:Ua.warningIcon}),s.jsx("span",{children:" "})]}),s.jsx("button",{className:Ua.closeButton,onClick:t,children:s.jsx(aa,{})})]}),s.jsxs("div",{className:Ua.content,children:[s.jsxs("div",{className:Ua.productInfo,children:[s.jsx("strong",{children:":"})," ",a]}),s.jsxs("div",{className:Ua.warning,children:[s.jsx(lu,{className:Ua.warningIcon}),s.jsx("span",{children:"  :"})]}),s.jsxs("div",{className:Ua.options,children:[s.jsxs("div",{className:`${Ua.option} ${r==="soft"?Ua.selected:""}`,onClick:()=>i("soft"),children:[s.jsxs("div",{className:Ua.optionHeader,children:[s.jsx(Hk,{className:Ua.optionIcon}),s.jsx("span",{className:Ua.optionTitle,children:" "}),s.jsx("div",{className:Ua.recommended,children:""})]}),s.jsx("div",{className:Ua.optionDescription,children:s.jsxs("ul",{children:[s.jsx("li",{children:"     "}),s.jsx("li",{children:"     "}),s.jsx("li",{children:"   "}),s.jsx("li",{children:"   "})]})})]}),s.jsxs("div",{className:`${Ua.option} ${r==="hard"?Ua.selected:""}`,onClick:()=>i("hard"),children:[s.jsxs("div",{className:Ua.optionHeader,children:[s.jsx(Cr,{className:Ua.optionIcon}),s.jsx("span",{className:Ua.optionTitle,children:" "}),s.jsx("div",{className:Ua.dangerous,children:"!"})]}),s.jsxs("div",{className:Ua.optionDescription,children:[s.jsxs("div",{className:Ua.dangerWarning,children:[s.jsx(lu,{className:Ua.dangerIcon}),s.jsx("strong",{children:"!"}),"   :"]}),s.jsxs("ul",{children:[s.jsx("li",{children:"    "}),s.jsx("li",{children:"  "}),s.jsx("li",{children:"   "}),s.jsx("li",{children:"   "})]}),s.jsx("div",{className:Ua.irreversible,children:"   !"})]})]})]})]}),s.jsxs("div",{className:Ua.footer,children:[s.jsx("button",{className:Ua.cancelButton,onClick:t,children:""}),s.jsx("button",{className:`${Ua.confirmButton} ${r==="hard"?Ua.dangerButton:Ua.safeButton}`,onClick:o,children:r==="soft"?s.jsxs(s.Fragment,{children:[s.jsx(Hk,{})," "]}):s.jsxs(s.Fragment,{children:[s.jsx(Cr,{})," "]})})]})]})})},zde=()=>{var ln,fn,wn;const{business_slug:e}=fa(),t=Rs(),n=oi();Ur();const{getLocationParam:a,selectedLocation:r,updateLocation:i}=Hb(),[o,c]=v.useState({products:[],categories:[],filters:{filters:[]},pagination:{},applied_filters:{}}),[l,d]=v.useState(!0),[f,g]=v.useState(!0),[b,w]=v.useState(null),[S,j]=v.useState([]),[N,I]=v.useState(!0),[M,B]=v.useState(null),[P,O]=v.useState(""),[R,$]=v.useState(""),[U,F]=v.useState(""),[H,ne]=v.useState("-created_at"),[X,te]=v.useState("all"),[se,V]=v.useState(!1),[q,T]=v.useState({}),[J,Z]=v.useState({}),[A,Y]=v.useState(3),[K,G]=v.useState(!0),[oe,ee]=v.useState(!1),[ae,ie]=v.useState(null),[ue,he]=v.useState(!1),[ge,ye]=v.useState({}),[je,Ie]=v.useState(""),[me,de]=v.useState(""),[fe,re]=v.useState(null),[xe,Se]=v.useState(null),[pe,Ee]=v.useState("all"),[Le,Ue]=v.useState(!1);v.useEffect(()=>{e&&(async()=>{try{I(!0);const Et=await Re.get(`/api/business/${e}/locations/`);j(Et.data||[])}catch(Et){console.error("  :",Et)}finally{I(!1)}})()},[e]),v.useEffect(()=>{const ut=new URLSearchParams(n.search);F(ut.get("search")||""),ne(ut.get("sort")||"-created_at"),O(ut.get("price_min")||""),$(ut.get("price_max")||""),B(ut.get("category")||null),te(ut.get("location_binding")||"all"),V(ut.get("in_stock")==="1"),ut.get("location");const Et={};ut.forEach((nt,Rt)=>{Rt.startsWith("attr_")&&(Et[Rt]=Et[Rt]||[],Et[Rt].push(nt))}),T(Et)},[n.search]);const Ne=()=>{ye({...q}),Ie(P),de(R),re(M);const ut=new URLSearchParams(n.search).get("location");Se(ut||r||"all"),Ee(X),Ue(se),he(!0)},et=()=>{he(!1)},dt=()=>{T({...ge}),O(je),$(me),B(fe),te(pe),V(Le);const ut=new URLSearchParams(n.search);ut.set("page",1),xe&&xe!=="all"?ut.set("location",xe):ut.delete("location"),tt(ge,je,me,fe,pe,Le,ut),et()},_e=()=>{ye({}),Ie(""),de(""),re(null),Se("all"),Ee("all"),Ue(!1)},tt=(ut,Et,nt,Rt,Lt="all",on=!1,vn=null)=>{const ns=vn||new URLSearchParams;U&&ns.set("search",U),H&&ns.set("sort",H),Et&&ns.set("price_min",Et),nt&&ns.set("price_max",nt),Rt&&ns.set("category",Rt),Lt&&Lt!=="all"&&ns.set("location_binding",Lt),on&&ns.set("in_stock","1"),Object.entries(ut).forEach(([_s,ds])=>{Array.isArray(ds)?ds.forEach(Pn=>ns.append(_s,Pn)):ds&&ns.set(_s,ds)});const us=`${n.pathname}?${ns.toString()}`;t(us,{replace:!0})},Fe=(ut,Et)=>{ie({id:ut,name:Et}),ee(!0)},It=async ut=>{var Et,nt;if(ae)try{let Rt;ut==="soft"?Rt=`/api/business/${e}/products/${ae.id}/soft-delete`:Rt=`/api/business/${e}/products/${ae.id}/hard-delete`;const on=await Re[ut==="soft"?"post":"delete"](Rt);c(ns=>({...ns,products:ns.products.filter(us=>us.id!==ae.id),pagination:{...ns.pagination,total_items:ns.pagination.total_items-1}}));const vn=ut==="soft"?` "${ae.name}"  `:` "${ae.name}"  `;alert(vn)}catch(Rt){console.error("   :",Rt),alert("   : "+(((nt=(Et=Rt.response)==null?void 0:Et.data)==null?void 0:nt.detail)||Rt.message))}},Xe=()=>{ee(!1),ie(null)},le=async(ut,Et)=>{try{const nt=!Et,Rt=nt?" ,     ?":" ,     ?";if(!window.confirm(Rt))return;await Re.patch(`/api/business/${e}/products/${ut}/toggle-status/`,{is_active:nt}),c(Lt=>({...Lt,products:Lt.products.map(on=>on.id===ut?{...on,is_active:nt}:on)})),alert(`  ${nt?"":""}`)}catch(nt){console.error("    :",nt),alert("    ")}},Ae=v.useCallback(async()=>{var ut,Et;try{d(!0),g(!0);const nt=new URLSearchParams(n.search);nt.has("sort")||nt.set("sort","-created_at");const Rt=new URLSearchParams(n.search).get("location");if(Rt)nt.set("location",Rt);else if(!(n.search&&n.search.length>1)){const vn=a();vn&&vn.location&&vn.location!=="all"&&nt.set("location",vn.location)}X&&X!=="all"&&nt.set("location_binding",X),se&&nt.set("in_stock","1");const Lt=await Re.get(`/api/business/${e}/products/?${nt.toString()}`);c(Lt.data);const on={};(Et=(ut=Lt.data.filters)==null?void 0:ut.filters)==null||Et.forEach(vn=>{on[vn.id]=!0}),Z(on)}catch(nt){console.error(" :",nt),w(nt.message||"    ")}finally{d(!1),g(!1)}},[e,n.search,r,X,se]);v.useEffect(()=>{Ae()},[Ae]);const be=(ut,Et)=>{T(nt=>{const Rt={...nt},Lt=`attr_${ut}`;Rt[Lt]||(Rt[Lt]=[]);const on=Et.toString();return Rt[Lt].indexOf(on)===-1?Rt[Lt]=[...Rt[Lt],on]:(Rt[Lt]=Rt[Lt].filter(ns=>ns!==on),Rt[Lt].length===0&&delete Rt[Lt]),Rt})},We=(ut,Et)=>{var Rt;const nt=`attr_${ut}`;return((Rt=q[nt])==null?void 0:Rt.includes(Et.toString()))||!1},st=()=>{const ut=new URLSearchParams;U&&ut.set("search",U),P&&ut.set("price_min",P),R&&ut.set("price_max",R),M&&ut.set("category",M),X&&X!=="all"&&ut.set("location_binding",X),se&&ut.set("in_stock","1"),ut.set("sort",H),ut.set("page",1),Object.entries(q).forEach(([Et,nt])=>{nt.forEach(Rt=>{ut.append(Et,Rt)})}),t(`?${ut.toString()}`)},ct=()=>{F(""),O(""),$(""),B(null),ne("-created_at"),T({}),te("all"),V(!1),i("all"),t(`/business/${e}/products`)},Mt=ut=>{Z(Et=>({...Et,[ut]:!Et[ut]}))},pn=ut=>{const Et=ut.target.value;ne(Et);const nt=new URLSearchParams(n.search);nt.set("sort",Et),nt.set("page",1),t(`?${nt.toString()}`)},Gn=async()=>{var ut;if((ut=o.pagination)!=null&&ut.has_next)try{const Et=o.pagination.current_page+1,nt=new URLSearchParams(n.search);nt.set("page",Et);const Rt=new URLSearchParams(n.search).get("location");if(Rt)nt.set("location",Rt);else if(!(n.search&&n.search.length>1)){const on=a();on&&on.location&&on.location!=="all"&&nt.set("location",on.location)}X&&X!=="all"&&nt.set("location_binding",X),se&&nt.set("in_stock","1");const Lt=await Re.get(`/api/business/${e}/products/?${nt.toString()}`);c(on=>({...on,products:[...on.products,...Lt.data.products],pagination:Lt.data.pagination}))}catch(Et){console.error("Error loading more products:",Et)}},bt=()=>{var ut;return s.jsxs(T3,{dataLength:o.products.length,next:Gn,hasMore:((ut=o.pagination)==null?void 0:ut.has_next)||!1,loader:s.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",padding:"20px"},children:s.jsx(Wn,{size:"small"})}),className:dn.productsGrid,children:[s.jsx(rs.div,{className:`${dn.productCard} ${dn.addProductCard}`,whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>t(`/business/${e}/products/create`),children:s.jsxs("div",{className:dn.addProductContent,children:[s.jsx("i",{className:`fa fa-plus-circle ${dn.addProductIcon}`}),s.jsx("h5",{children:" "}),s.jsx("p",{className:dn.addProductText,children:"     "})]})}),o.products.map(Et=>s.jsx($O,{product:Et,businessSlug:e,onDelete:Fe,onToggleStatus:le,handleCardClick:()=>t(`/business/${businessSlug}/products/${Et.id}/`)},Et.id))]})};return l&&!o.products.length?s.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh"},children:s.jsx(Wn,{size:"large"})}):b?s.jsxs("div",{className:dn.error,children:[": ",b]}):s.jsxs("div",{className:dn.container,children:[s.jsxs("div",{className:dn.header,children:[s.jsxs("h1",{className:dn.title,children:[s.jsx("i",{className:`fa fa-box-seam ${dn.titleIcon}`}),""]}),s.jsxs("div",{className:dn.headerActions,children:[s.jsx("button",{className:dn.addProductButton,onClick:()=>t(`/business/${e}/products/create`),children:" "}),s.jsxs("button",{className:dn.attachLocationButton,onClick:()=>t(`/business/${e}/variants-location-price`),children:[s.jsx("i",{className:"fa fa-link"}),"   "]})]})]}),s.jsxs("button",{className:dn.mobileFiltersButton,onClick:Ne,children:[s.jsx("i",{className:"fa fa-filter"}),""]}),s.jsxs("div",{className:dn.contentWrapper,children:[s.jsxs("aside",{className:dn.sidebar,children:[s.jsxs("div",{className:dn.filterSection,children:[s.jsx("h4",{className:dn.filterTitle,children:""}),N?s.jsx("div",{className:dn.loadingText,children:" ..."}):s.jsxs("div",{className:dn.categoriesList,children:[s.jsx("button",{className:`${dn.categoryButton} ${(()=>{const ut=n.search.includes("location="),Et=n.search&&n.search.length>1&&n.search!=="?";return!ut&&Et})()?dn.active:""}`,onClick:()=>{const ut=new URLSearchParams(n.search);ut.delete("location"),ut.set("page",1),t(`?${ut.toString()}`)},children:"  "}),S.map(ut=>{const Et=new URLSearchParams(n.search).get("location"),nt=n.search.includes("location="),Rt=!n.search||n.search.length<=1,Lt=Et===String(ut.id)||!nt&&Rt&&r===String(ut.id);return s.jsx("button",{className:`${dn.categoryButton} ${Lt?dn.active:""}`,onClick:()=>{const on=new URLSearchParams(n.search);on.set("location",String(ut.id)),on.set("page",1),t(`?${on.toString()}`)},children:ut.name},ut.id)})]})]}),s.jsxs("div",{className:dn.filterSection,children:[s.jsx("h4",{className:dn.filterTitle,children:"  "}),s.jsxs("div",{className:dn.categoriesList,children:[s.jsx("button",{className:`${dn.categoryButton} ${X==="all"?dn.active:""}`,onClick:()=>{te("all");const ut=new URLSearchParams(n.search);ut.delete("location_binding"),ut.set("page",1),t(`?${ut.toString()}`)},children:" "}),s.jsx("button",{className:`${dn.categoryButton} ${X==="bound"?dn.active:""}`,onClick:()=>{te("bound");const ut=new URLSearchParams(n.search);ut.set("location_binding","bound"),ut.set("page",1),t(`?${ut.toString()}`)},children:""}),s.jsx("button",{className:`${dn.categoryButton} ${X==="unbound"?dn.active:""}`,onClick:()=>{te("unbound");const ut=new URLSearchParams(n.search);ut.set("location_binding","unbound"),ut.set("page",1),t(`?${ut.toString()}`)},children:" "})]})]}),s.jsxs("div",{className:dn.filterSection,children:[s.jsx("h4",{className:dn.filterTitle,children:""}),s.jsxs("div",{className:dn.categoriesList,children:[s.jsx("button",{className:`${dn.categoryButton} ${M?"":dn.active}`,onClick:()=>{B(null);const ut=new URLSearchParams(n.search);ut.delete("category"),ut.set("page",1),t(`?${ut.toString()}`)},children:" "}),o.categories.map(ut=>s.jsx("button",{className:`${dn.categoryButton} ${M===ut.id?dn.active:""}`,onClick:()=>{B(ut.id);const Et=new URLSearchParams(n.search);Et.set("category",ut.id),Et.set("page",1),t(`?${Et.toString()}`)},children:ut.name},ut.id))]})]}),s.jsx("div",{className:dn.filterSection,children:s.jsx(Ex,{filtersLoading:l,filters:((ln=o.filters)==null?void 0:ln.filters)||[],visibleFiltersCount:A,expandedFilters:J,toggleFilter:Mt,isAttributeSelected:We,handleAttributeSelect:be,setVisibleFiltersCount:Y})}),s.jsxs("div",{className:dn.filterSection,children:[s.jsx("h4",{className:dn.filterTitle,children:""}),s.jsxs("div",{className:dn.priceInputs,children:[s.jsx("input",{type:"number",placeholder:"",className:dn.priceInput,value:P,onChange:ut=>O(ut.target.value),min:"0"}),s.jsx("span",{className:dn.priceSeparator,children:"-"}),s.jsx("input",{type:"number",placeholder:"",className:dn.priceInput,value:R,onChange:ut=>$(ut.target.value),min:"0"})]})]}),s.jsxs("div",{className:dn.filterSection,children:[s.jsx("div",{className:dn.checkboxFilter,children:s.jsxs("label",{children:[s.jsx("input",{type:"checkbox",checked:se,onChange:ut=>V(ut.target.checked)}),s.jsx("span",{children:"   "})]})}),s.jsx("button",{className:dn.applyFilterButton,onClick:st,children:"  "})]}),s.jsx("button",{className:dn.resetFiltersButton,onClick:ct,children:"  "})]}),s.jsxs("main",{className:dn.mainContentFlex,children:[s.jsxs("div",{className:dn.productsHeader,children:[s.jsxs("div",{className:dn.searchContainer,children:[s.jsx("input",{type:"text",placeholder:"  ...",className:dn.searchInput,value:U,onChange:ut=>F(ut.target.value),onKeyPress:ut=>ut.key==="Enter"&&st()}),U&&s.jsx("button",{className:dn.clearButton,onClick:()=>{F(""),ct()},children:s.jsx("i",{className:"fa fa-times"})}),s.jsx("button",{className:dn.searchButton,onClick:st,children:s.jsx("i",{className:"fa fa-search"})})]}),s.jsxs("div",{className:dn.sortContainer,children:[s.jsxs("span",{className:dn.productsCount,children:[" : ",s.jsx("strong",{children:((fn=o.pagination)==null?void 0:fn.total_items)||o.products.length})]}),s.jsx("label",{className:dn.sortLabel,children:":"}),s.jsxs("select",{value:H,onChange:pn,className:dn.sortSelect,children:[s.jsx("option",{value:"-created_at",children:" "}),s.jsx("option",{value:"price",children:"  "}),s.jsx("option",{value:"-price",children:"  "}),s.jsx("option",{value:"name",children:"  (-)"}),s.jsx("option",{value:"-name",children:"  (-)"}),s.jsx("option",{value:"category",children:"  (-)"}),s.jsx("option",{value:"-category",children:"  (-)"})]})]})]}),o.products.length===0?s.jsxs("div",{className:dn.emptyState,children:[s.jsx("i",{className:`fa fa-box-seam ${dn.emptyIcon}`}),s.jsx("h3",{className:dn.emptyTitle,children:"  "}),s.jsx("p",{className:dn.emptyText,children:"   "}),s.jsx("button",{className:dn.resetButton,onClick:ct,children:" "})]}):bt()]})]}),s.jsx("div",{className:`${dn.mobileFiltersOverlay} ${ue?dn.active:""}`,onClick:et,children:s.jsxs("div",{className:`${dn.mobileFiltersPanel} ${ue?dn.active:""}`,onClick:ut=>ut.stopPropagation(),children:[s.jsxs("div",{className:dn.mobileFiltersHeader,children:[s.jsx("h3",{className:dn.mobileFiltersTitle,children:""}),s.jsx("button",{className:dn.mobileFiltersClose,onClick:et,children:s.jsx("i",{className:"fa fa-times"})})]}),s.jsxs("div",{className:dn.mobileFiltersContent,children:[s.jsxs("div",{className:dn.filterSection,children:[s.jsx("h4",{className:dn.filterTitle,children:""}),N?s.jsx("div",{className:dn.loadingText,children:" ..."}):s.jsxs("div",{className:dn.categoriesList,children:[s.jsx("button",{className:`${dn.categoryButton} ${!xe||xe==="all"?dn.active:""}`,onClick:()=>Se("all"),children:"  "}),S.map(ut=>s.jsx("button",{className:`${dn.categoryButton} ${xe===String(ut.id)?dn.active:""}`,onClick:()=>Se(String(ut.id)),children:ut.name},ut.id))]})]}),s.jsxs("div",{className:dn.filterSection,children:[s.jsx("h4",{className:dn.filterTitle,children:"  "}),s.jsxs("div",{className:dn.categoriesList,children:[s.jsx("button",{className:`${dn.categoryButton} ${pe==="all"?dn.active:""}`,onClick:()=>Ee("all"),children:" "}),s.jsx("button",{className:`${dn.categoryButton} ${pe==="bound"?dn.active:""}`,onClick:()=>Ee("bound"),children:""}),s.jsx("button",{className:`${dn.categoryButton} ${pe==="unbound"?dn.active:""}`,onClick:()=>Ee("unbound"),children:" "})]})]}),s.jsxs("div",{className:dn.filterSection,children:[s.jsx("h4",{className:dn.filterTitle,children:""}),s.jsxs("div",{className:dn.categoriesList,children:[s.jsx("button",{className:`${dn.categoryButton} ${fe?"":dn.active}`,onClick:()=>re(null),children:" "}),o.categories.map(ut=>s.jsx("button",{className:`${dn.categoryButton} ${fe===ut.id?dn.active:""}`,onClick:()=>re(ut.id),children:ut.name},ut.id))]})]}),s.jsx("div",{className:dn.filterSection,children:s.jsx(Ex,{filtersLoading:l,filters:((wn=o.filters)==null?void 0:wn.filters)||[],visibleFiltersCount:A,expandedFilters:J,toggleFilter:(ut,Et)=>{const nt={...ge},Rt=`attr_${ut}`;nt[Rt]||(nt[Rt]=[]),nt[Rt].includes(Et)?(nt[Rt]=nt[Rt].filter(Lt=>Lt!==Et),nt[Rt].length===0&&delete nt[Rt]):nt[Rt].push(Et),ye(nt)},isAttributeSelected:(ut,Et)=>{var Rt;const nt=`attr_${ut}`;return((Rt=ge[nt])==null?void 0:Rt.includes(Et))||!1},handleAttributeSelect:(ut,Et)=>{const nt={...ge},Rt=`attr_${ut}`;nt[Rt]||(nt[Rt]=[]),nt[Rt].includes(Et)?(nt[Rt]=nt[Rt].filter(Lt=>Lt!==Et),nt[Rt].length===0&&delete nt[Rt]):nt[Rt].push(Et),ye(nt)},setVisibleFiltersCount:Y})}),s.jsxs("div",{className:dn.filterSection,children:[s.jsx("h4",{className:dn.filterTitle,children:""}),s.jsxs("div",{className:dn.priceInputs,children:[s.jsx("input",{type:"number",placeholder:"",className:dn.priceInput,value:je,onChange:ut=>Ie(ut.target.value),min:"0"}),s.jsx("span",{className:dn.priceSeparator,children:"-"}),s.jsx("input",{type:"number",placeholder:"",className:dn.priceInput,value:me,onChange:ut=>de(ut.target.value),min:"0"})]})]}),s.jsx("div",{className:dn.filterSection,children:s.jsx("div",{className:dn.checkboxFilter,children:s.jsxs("label",{children:[s.jsx("input",{type:"checkbox",checked:Le,onChange:ut=>Ue(ut.target.checked)}),s.jsx("span",{children:"   "})]})})})]}),s.jsxs("div",{className:dn.mobileFiltersActions,children:[s.jsx("button",{className:dn.mobileApplyButton,onClick:dt,children:""}),s.jsx("button",{className:dn.mobileResetButton,onClick:_e,children:""})]})]})}),s.jsx(PO,{isOpen:oe,onClose:Xe,onConfirm:It,productName:ae==null?void 0:ae.name})]})},Vde="_container_14u7t_5",qde="_header_14u7t_23",Ude="_headerTop_14u7t_43",Wde="_titleWrapper_14u7t_57",Yde="_title_14u7t_57",Gde="_titleIcon_14u7t_89",Qde="_badge_14u7t_101",Xde="_addButton_14u7t_125",Kde="_searchContainer_14u7t_209",Zde="_searchWrapper_14u7t_221",Jde="_searchIcon_14u7t_257",ehe="_searchInput_14u7t_271",the="_searchButton_14u7t_305",nhe="_clearButton_14u7t_351",she="_filtersButton_14u7t_409",ahe="_filterBadge_14u7t_465",rhe="_sortRow_14u7t_489",ihe="_productsCount_14u7t_507",ohe="_sortSelect_14u7t_521",che="_content_14u7t_575",lhe="_productsList_14u7t_583",uhe="_productCard_14u7t_597",dhe="_addProductCard_14u7t_671",hhe="_addProductContent_14u7t_739",fhe="_addProductIconWrapper_14u7t_755",mhe="_addProductIcon_14u7t_755",phe="_addProductText_14u7t_803",ghe="_emptyState_14u7t_819",_he="_emptyIconWrapper_14u7t_831",vhe="_emptyIcon_14u7t_831",xhe="_emptyTitle_14u7t_865",bhe="_emptyText_14u7t_879",yhe="_resetButton_14u7t_899",whe="_error_14u7t_935",Che="_mobileFiltersOverlay_14u7t_959",She="_active_14u7t_987",jhe="_mobileFiltersPanel_14u7t_997",Nhe="_mobileFiltersHeader_14u7t_1043",Ehe="_mobileFiltersTitle_14u7t_1085",khe="_mobileFiltersClose_14u7t_1099",Ihe="_mobileFiltersContent_14u7t_1147",Dhe="_filterSection_14u7t_1161",The="_filterTitle_14u7t_1169",Ahe="_categoriesList_14u7t_1205",Mhe="_categoryButton_14u7t_1217",Rhe="_priceInputs_14u7t_1301",Ohe="_priceInput_14u7t_1301",Bhe="_priceSeparator_14u7t_1369",Lhe="_checkboxFilter_14u7t_1385",$he="_loadingText_14u7t_1455",Phe="_mobileFiltersActions_14u7t_1469",Fhe="_mobileApplyButton_14u7t_1487",Hhe="_mobileResetButton_14u7t_1489",Yn={container:Vde,header:qde,headerTop:Ude,titleWrapper:Wde,title:Yde,titleIcon:Gde,badge:Qde,addButton:Xde,searchContainer:Kde,searchWrapper:Zde,searchIcon:Jde,searchInput:ehe,searchButton:the,clearButton:nhe,filtersButton:she,filterBadge:ahe,sortRow:rhe,productsCount:ihe,sortSelect:ohe,content:che,productsList:lhe,productCard:uhe,addProductCard:dhe,addProductContent:hhe,addProductIconWrapper:fhe,addProductIcon:mhe,addProductText:phe,emptyState:ghe,emptyIconWrapper:_he,emptyIcon:vhe,emptyTitle:xhe,emptyText:bhe,resetButton:yhe,error:whe,mobileFiltersOverlay:Che,active:She,mobileFiltersPanel:jhe,mobileFiltersHeader:Nhe,mobileFiltersTitle:Ehe,mobileFiltersClose:khe,mobileFiltersContent:Ihe,filterSection:Dhe,filterTitle:The,categoriesList:Ahe,categoryButton:Mhe,priceInputs:Rhe,priceInput:Ohe,priceSeparator:Bhe,checkboxFilter:Lhe,loadingText:$he,mobileFiltersActions:Phe,mobileApplyButton:Fhe,mobileResetButton:Hhe},zhe=()=>{var ct,Mt,pn,Gn;const{business_slug:e}=fa(),t=Rs(),n=oi();Ur();const{getLocationParam:a,selectedLocation:r,updateLocation:i}=Hb(),[o,c]=v.useState({products:[],categories:[],filters:{filters:[]},pagination:{},applied_filters:{}}),[l,d]=v.useState(!0),[f,g]=v.useState(!0),[b,w]=v.useState(null),[S,j]=v.useState([]),[N,I]=v.useState(!0),[M,B]=v.useState(null),[P,O]=v.useState(""),[R,$]=v.useState(""),[U,F]=v.useState(""),[H,ne]=v.useState("-created_at"),[X,te]=v.useState("all"),[se,V]=v.useState(!1),[q,T]=v.useState({}),[J,Z]=v.useState({}),[A,Y]=v.useState(3),[K,G]=v.useState(!1),[oe,ee]=v.useState(null),[ae,ie]=v.useState(!1),[ue,he]=v.useState({}),[ge,ye]=v.useState(""),[je,Ie]=v.useState(""),[me,de]=v.useState(null),[fe,re]=v.useState(null),[xe,Se]=v.useState("all"),[pe,Ee]=v.useState(!1);v.useEffect(()=>{e&&(async()=>{try{I(!0);const ln=await Re.get(`/api/business/${e}/locations/`);j(ln.data||[])}catch(ln){console.error("  :",ln)}finally{I(!1)}})()},[e]),v.useEffect(()=>{const bt=new URLSearchParams(n.search);F(bt.get("search")||""),ne(bt.get("sort")||"-created_at"),O(bt.get("price_min")||""),$(bt.get("price_max")||""),B(bt.get("category")||null),te(bt.get("location_binding")||"all"),V(bt.get("in_stock")==="1");const ln={};bt.forEach((fn,wn)=>{wn.startsWith("attr_")&&(ln[wn]=ln[wn]||[],ln[wn].push(fn))}),T(ln)},[n.search]);const Le=()=>{he({...q}),ye(P),Ie(R),de(M);const bt=new URLSearchParams(n.search).get("location");if(bt)re(bt);else{const ln=n.search&&n.search.length>1&&n.search!=="?";re(ln?"all":r||"all")}Se(X),Ee(se),ie(!0)},Ue=()=>{ie(!1)},Ne=(bt,ln,fn,wn,ut="all",Et=!1,nt=null)=>{const Rt=nt||new URLSearchParams;U&&Rt.set("search",U),H&&Rt.set("sort",H),ln&&Rt.set("price_min",ln),fn&&Rt.set("price_max",fn),wn&&Rt.set("category",wn),ut&&ut!=="all"&&Rt.set("location_binding",ut),Et&&Rt.set("in_stock","1"),Object.entries(bt).forEach(([on,vn])=>{Array.isArray(vn)?vn.forEach(ns=>Rt.append(on,ns)):vn&&Rt.set(on,vn)});const Lt=`${n.pathname}?${Rt.toString()}`;t(Lt,{replace:!0})},et=()=>{T({...ue}),O(ge),$(je),B(me),te(xe),V(pe);const bt=new URLSearchParams(n.search);bt.set("page",1),fe&&fe!=="all"?bt.set("location",fe):bt.delete("location"),Ne(ue,ge,je,me,xe,pe,bt),Ue()},dt=()=>{he({}),ye(""),Ie(""),de(null),re("all"),Se("all"),Ee(!1)},_e=(bt,ln)=>{ee({id:bt,name:ln}),G(!0)},tt=async bt=>{var ln,fn;if(oe)try{let wn;bt==="soft"?wn=`/api/business/${e}/products/${oe.id}/soft-delete`:wn=`/api/business/${e}/products/${oe.id}/hard-delete`;const Et=await Re[bt==="soft"?"post":"delete"](wn);c(Rt=>({...Rt,products:Rt.products.filter(Lt=>Lt.id!==oe.id),pagination:{...Rt.pagination,total_items:Rt.pagination.total_items-1}}));const nt=bt==="soft"?` "${oe.name}"  `:` "${oe.name}"  `;alert(nt)}catch(wn){console.error("   :",wn),alert("   : "+(((fn=(ln=wn.response)==null?void 0:ln.data)==null?void 0:fn.detail)||wn.message))}},Fe=()=>{G(!1),ee(null)},It=async(bt,ln)=>{try{const fn=!ln,wn=fn?" ,     ?":" ,     ?";if(!window.confirm(wn))return;await Re.patch(`/api/business/${e}/products/${bt}/toggle-status/`,{is_active:fn}),c(ut=>({...ut,products:ut.products.map(Et=>Et.id===bt?{...Et,is_active:fn}:Et)})),alert(`  ${fn?"":""}`)}catch(fn){console.error("    :",fn),alert("    ")}},Xe=v.useCallback(async()=>{var bt,ln;try{d(!0),g(!0);const fn=new URLSearchParams(n.search);fn.has("sort")||fn.set("sort","-created_at"),fn.set("page_size","2");const wn=new URLSearchParams(n.search).get("location");if(wn)fn.set("location",wn);else if(!(n.search&&n.search.length>1)){const nt=a();nt&&nt.location&&nt.location!=="all"&&fn.set("location",nt.location)}X&&X!=="all"&&fn.set("location_binding",X),se&&fn.set("in_stock","1");const ut=await Re.get(`/api/business/${e}/products/?${fn.toString()}`);c(ut.data);const Et={};(ln=(bt=ut.data.filters)==null?void 0:bt.filters)==null||ln.forEach(nt=>{Et[nt.id]=!0}),Z(Et)}catch(fn){console.error(" :",fn),w(fn.message||"    ")}finally{d(!1),g(!1)}},[e,n.search,r,X,se]);v.useEffect(()=>{const bt=setTimeout(()=>{Xe()},100);return()=>clearTimeout(bt)},[Xe]);const le=()=>{const bt=new URLSearchParams;U&&bt.set("search",U),P&&bt.set("price_min",P),R&&bt.set("price_max",R),M&&bt.set("category",M),X&&X!=="all"&&bt.set("location_binding",X),se&&bt.set("in_stock","1"),bt.set("sort",H),bt.set("page",1),Object.entries(q).forEach(([ln,fn])=>{fn.forEach(wn=>{bt.append(ln,wn)})}),t(`?${bt.toString()}`)},Ae=()=>{F(""),O(""),$(""),B(null),ne("-created_at"),T({}),te("all"),V(!1),i("all"),t(`/business/${e}/products`)},be=bt=>{const ln=bt.target.value;ne(ln);const fn=new URLSearchParams(n.search);fn.set("sort",ln),fn.set("page",1),t(`?${fn.toString()}`)},We=async()=>{var bt;if((bt=o.pagination)!=null&&bt.has_next)try{const ln=o.pagination.current_page+1,fn=new URLSearchParams(n.search);fn.set("page",ln),fn.set("page_size","2");const wn=new URLSearchParams(n.search).get("location");if(wn)fn.set("location",wn);else if(!(n.search&&n.search.length>1)){const Et=a();Et&&Et.location&&Et.location!=="all"&&fn.set("location",Et.location)}X&&X!=="all"&&fn.set("location_binding",X),se&&fn.set("in_stock","1");const ut=await Re.get(`/api/business/${e}/products/?${fn.toString()}`);c(Et=>({...Et,products:[...Et.products,...ut.data.products],pagination:ut.data.pagination}))}catch(ln){console.error("Error loading more products:",ln)}},st=()=>{var bt;return s.jsxs(T3,{dataLength:o.products.length,next:We,hasMore:((bt=o.pagination)==null?void 0:bt.has_next)||!1,loader:s.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",padding:"20px"},children:s.jsx(Wn,{size:"small"})}),className:Yn.productsList,children:[s.jsx(rs.div,{className:`${Yn.productCard} ${Yn.addProductCard}`,initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},whileTap:{scale:.97},onClick:()=>t(`/business/${e}/products/create`),children:s.jsxs("div",{className:Yn.addProductContent,children:[s.jsx("div",{className:Yn.addProductIconWrapper,children:s.jsx("i",{className:`fa fa-plus ${Yn.addProductIcon}`})}),s.jsx("h5",{children:" "}),s.jsx("p",{className:Yn.addProductText,children:"    "})]})}),o.products.map((ln,fn)=>s.jsx(rs.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:fn*.05},children:s.jsx($O,{product:ln,businessSlug:e,onDelete:_e,onToggleStatus:It,handleCardClick:()=>t(`/business/${e}/products/${ln.id}/`)})},ln.id))]})};return l&&!o.products.length?s.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh"},children:s.jsx(Wn,{size:"large"})}):b?s.jsxs("div",{className:Yn.error,children:[": ",b]}):s.jsxs("div",{className:Yn.container,children:[s.jsxs("div",{className:Yn.header,children:[s.jsxs("div",{className:Yn.headerTop,children:[s.jsxs("div",{className:Yn.titleWrapper,children:[s.jsxs("h1",{className:Yn.title,children:[s.jsx("i",{className:`fa fa-box-seam ${Yn.titleIcon}`}),""]}),((ct=o.pagination)==null?void 0:ct.total_items)>0&&s.jsx("span",{className:Yn.badge,children:((Mt=o.pagination)==null?void 0:Mt.total_items)||o.products.length})]}),s.jsx(rs.button,{className:Yn.addButton,onClick:()=>t(`/business/${e}/products/create`),title:" ",whileTap:{scale:.9},whileHover:{scale:1.05},children:s.jsx("i",{className:"fa fa-plus"})})]}),s.jsxs("div",{className:Yn.searchContainer,children:[s.jsxs("div",{className:Yn.searchWrapper,children:[s.jsx("i",{className:`fa fa-search ${Yn.searchIcon}`}),s.jsx("input",{type:"text",placeholder:" ...",className:Yn.searchInput,value:U,onChange:bt=>F(bt.target.value),onKeyPress:bt=>bt.key==="Enter"&&le()}),U&&s.jsx(rs.button,{className:Yn.clearButton,onClick:()=>{F(""),Ae()},whileTap:{scale:.9},children:s.jsx("i",{className:"fa fa-times"})}),s.jsx(rs.button,{className:Yn.searchButton,onClick:le,whileTap:{scale:.95},title:"",children:s.jsx("i",{className:"fa fa-search"})})]}),s.jsxs(rs.button,{className:Yn.filtersButton,onClick:Le,whileTap:{scale:.95},title:"",children:[s.jsx("i",{className:"fa fa-filter"}),(M||P||R||Object.keys(q).length>0||X!=="all"||se)&&s.jsx("span",{className:Yn.filterBadge})]})]}),s.jsxs("div",{className:Yn.sortRow,children:[s.jsxs("span",{className:Yn.productsCount,children:[((pn=o.pagination)==null?void 0:pn.total_items)||o.products.length," "]}),s.jsxs("select",{value:H,onChange:be,className:Yn.sortSelect,children:[s.jsx("option",{value:"-created_at",children:" "}),s.jsx("option",{value:"price",children:"  "}),s.jsx("option",{value:"-price",children:"  "}),s.jsx("option",{value:"name",children:" -"}),s.jsx("option",{value:"-name",children:" -"})]})]})]}),s.jsx("div",{className:Yn.content,children:o.products.length===0&&!l?s.jsxs(rs.div,{className:Yn.emptyState,initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[s.jsx("div",{className:Yn.emptyIconWrapper,children:s.jsx("i",{className:`fa fa-box-seam ${Yn.emptyIcon}`})}),s.jsx("h3",{className:Yn.emptyTitle,children:"  "}),s.jsx("p",{className:Yn.emptyText,children:U||M||P||R?"   ":"     "}),s.jsx(rs.button,{className:Yn.resetButton,onClick:Ae,whileTap:{scale:.95},children:U||M||P||R?" ":" "})]}):st()}),s.jsx("div",{className:`${Yn.mobileFiltersOverlay} ${ae?Yn.active:""}`,onClick:Ue,children:s.jsxs("div",{className:`${Yn.mobileFiltersPanel} ${ae?Yn.active:""}`,onClick:bt=>bt.stopPropagation(),children:[s.jsxs("div",{className:Yn.mobileFiltersHeader,children:[s.jsx("h3",{className:Yn.mobileFiltersTitle,children:""}),s.jsx("button",{className:Yn.mobileFiltersClose,onClick:Ue,children:s.jsx("i",{className:"fa fa-times"})})]}),s.jsxs("div",{className:Yn.mobileFiltersContent,children:[s.jsxs("div",{className:Yn.filterSection,children:[s.jsx("h4",{className:Yn.filterTitle,children:""}),N?s.jsx("div",{className:Yn.loadingText,children:" ..."}):s.jsxs("div",{className:Yn.categoriesList,children:[s.jsx("button",{className:`${Yn.categoryButton} ${fe==="all"?Yn.active:""}`,onClick:()=>re("all"),children:"  "}),S.map(bt=>s.jsx("button",{className:`${Yn.categoryButton} ${fe===String(bt.id)?Yn.active:""}`,onClick:()=>re(String(bt.id)),children:bt.name},bt.id))]})]}),s.jsxs("div",{className:Yn.filterSection,children:[s.jsx("h4",{className:Yn.filterTitle,children:"  "}),s.jsxs("div",{className:Yn.categoriesList,children:[s.jsx("button",{className:`${Yn.categoryButton} ${xe==="all"?Yn.active:""}`,onClick:()=>Se("all"),children:" "}),s.jsx("button",{className:`${Yn.categoryButton} ${xe==="bound"?Yn.active:""}`,onClick:()=>Se("bound"),children:""}),s.jsx("button",{className:`${Yn.categoryButton} ${xe==="unbound"?Yn.active:""}`,onClick:()=>Se("unbound"),children:" "})]})]}),s.jsxs("div",{className:Yn.filterSection,children:[s.jsx("h4",{className:Yn.filterTitle,children:""}),s.jsxs("div",{className:Yn.categoriesList,children:[s.jsx("button",{className:`${Yn.categoryButton} ${me?"":Yn.active}`,onClick:()=>de(null),children:" "}),o.categories.map(bt=>s.jsx("button",{className:`${Yn.categoryButton} ${me===bt.id?Yn.active:""}`,onClick:()=>de(bt.id),children:bt.name},bt.id))]})]}),s.jsx("div",{className:Yn.filterSection,children:s.jsx(Ex,{filtersLoading:l,filters:((Gn=o.filters)==null?void 0:Gn.filters)||[],visibleFiltersCount:A,expandedFilters:J,toggleFilter:bt=>{Z(ln=>({...ln,[bt]:!ln[bt]}))},isAttributeSelected:(bt,ln)=>{var wn;const fn=`attr_${bt}`;return((wn=ue[fn])==null?void 0:wn.includes(ln))||!1},handleAttributeSelect:(bt,ln)=>{const fn={...ue},wn=`attr_${bt}`;fn[wn]||(fn[wn]=[]),fn[wn].includes(ln)?(fn[wn]=fn[wn].filter(ut=>ut!==ln),fn[wn].length===0&&delete fn[wn]):fn[wn].push(ln),he(fn)},setVisibleFiltersCount:Y})}),s.jsxs("div",{className:Yn.filterSection,children:[s.jsx("h4",{className:Yn.filterTitle,children:""}),s.jsxs("div",{className:Yn.priceInputs,children:[s.jsx("input",{type:"number",placeholder:"",className:Yn.priceInput,value:ge,onChange:bt=>ye(bt.target.value),min:"0"}),s.jsx("span",{className:Yn.priceSeparator,children:"-"}),s.jsx("input",{type:"number",placeholder:"",className:Yn.priceInput,value:je,onChange:bt=>Ie(bt.target.value),min:"0"})]})]}),s.jsx("div",{className:Yn.filterSection,children:s.jsx("div",{className:Yn.checkboxFilter,children:s.jsxs("label",{children:[s.jsx("input",{type:"checkbox",checked:pe,onChange:bt=>Ee(bt.target.checked)}),s.jsx("span",{children:"   "})]})})})]}),s.jsxs("div",{className:Yn.mobileFiltersActions,children:[s.jsx("button",{className:Yn.mobileApplyButton,onClick:et,children:""}),s.jsx("button",{className:Yn.mobileResetButton,onClick:dt,children:""})]})]})}),s.jsx(PO,{isOpen:K,onClose:Fe,onConfirm:tt,productName:oe==null?void 0:oe.name})]})},Vhe="_container_1swxk_2",qhe="_content_1swxk_8",Uhe="_pageTitle_1swxk_14",Whe="_titleIcon_1swxk_23",Yhe="_sectionCard_1swxk_28",Ghe="_sectionHeader_1swxk_37",Qhe="_sectionIcon_1swxk_51",Xhe="_sectionBody_1swxk_56",Khe="_uploadRow_1swxk_60",Zhe="_uploadColumn_1swxk_66",Jhe="_infoColumn_1swxk_72",efe="_uploadArea_1swxk_78",tfe="_uploadIcon_1swxk_99",nfe="_uploadHint_1swxk_105",sfe="_fileInput_1swxk_110",afe="_infoAlert_1swxk_114",rfe="_infoIcon_1swxk_131",ife="_thumbnailsSection_1swxk_146",ofe="_thumbnailsTitle_1swxk_150",cfe="_formRow_1swxk_217",lfe="_formGroup_1swxk_223",ufe="_formLabel_1swxk_229",dfe="_formControl_1swxk_236",hfe="_checkboxGroup_1swxk_264",ffe="_formCheckbox_1swxk_270",mfe="_checkboxLabel_1swxk_278",pfe="_tableWrapper_1swxk_284",gfe="_horizontalScroll_1swxk_290",_fe="_variantTable_1swxk_296",vfe="_stickyColumn_1swxk_321",xfe="_formSelect_1swxk_337",bfe="_formControltd_1swxk_352",yfe="_barcodeCell_1swxk_374",wfe="_barcodeInputWrapper_1swxk_381",Cfe="_generateBarcodeLabel_1swxk_385",Sfe="_generateBarcodeCheckbox_1swxk_396",jfe="_autoGeneratedBadge_1swxk_405",Nfe="_variantActions_1swxk_424",Efe="_variantButton_1swxk_428",kfe="_variantControls_1swxk_443",Ife="_variantAddButton_1swxk_451",Dfe="_variantCopyButton_1swxk_452",Tfe="_buttonIcon_1swxk_484",Afe="_formActions_1swxk_488",Mfe="_cancelButton_1swxk_495",Rfe="_submitButton_1swxk_496",Ofe="_cropModal_1swxk_562",Bfe="_bodyNoScroll_1swxk_595",Ln={container:Vhe,content:qhe,pageTitle:Uhe,titleIcon:Whe,sectionCard:Yhe,sectionHeader:Ghe,sectionIcon:Qhe,sectionBody:Xhe,uploadRow:Khe,uploadColumn:Zhe,infoColumn:Jhe,uploadArea:efe,uploadIcon:tfe,uploadHint:nfe,fileInput:sfe,infoAlert:afe,infoIcon:rfe,thumbnailsSection:ife,thumbnailsTitle:ofe,formRow:cfe,formGroup:lfe,formLabel:ufe,formControl:dfe,checkboxGroup:hfe,formCheckbox:ffe,checkboxLabel:mfe,tableWrapper:pfe,horizontalScroll:gfe,variantTable:_fe,stickyColumn:vfe,formSelect:xfe,formControltd:bfe,barcodeCell:yfe,barcodeInputWrapper:wfe,generateBarcodeLabel:Cfe,generateBarcodeCheckbox:Sfe,autoGeneratedBadge:jfe,variantActions:Nfe,variantButton:Efe,variantControls:kfe,variantAddButton:Ife,variantCopyButton:Dfe,buttonIcon:Tfe,formActions:Afe,cancelButton:Mfe,submitButton:Rfe,cropModal:Ofe,bodyNoScroll:Bfe},FO=v.createContext({dragDropManager:void 0});function Bs(e){"@babel/helpers - typeof";return Bs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bs(e)}function Lfe(e,t){if(Bs(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(Bs(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function HO(e){var t=Lfe(e,"string");return Bs(t)=="symbol"?t:t+""}function pt(e,t,n){return(t=HO(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function AI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,a)}return n}function vt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?AI(Object(n),!0).forEach(function(a){pt(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):AI(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function mc(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var MI=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),RI=function(){return Math.random().toString(36).substring(7).split("").join(".")},OI={INIT:"@@redux/INIT"+RI(),REPLACE:"@@redux/REPLACE"+RI()};function $fe(e){if(typeof e!="object"||e===null)return!1;for(var t=e;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function zO(e,t,n){var a;if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(mc(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(mc(1));return n(zO)(e,t)}if(typeof e!="function")throw new Error(mc(2));var r=e,i=t,o=[],c=o,l=!1;function d(){c===o&&(c=o.slice())}function f(){if(l)throw new Error(mc(3));return i}function g(j){if(typeof j!="function")throw new Error(mc(4));if(l)throw new Error(mc(5));var N=!0;return d(),c.push(j),function(){if(N){if(l)throw new Error(mc(6));N=!1,d();var M=c.indexOf(j);c.splice(M,1),o=null}}}function b(j){if(!$fe(j))throw new Error(mc(7));if(typeof j.type>"u")throw new Error(mc(8));if(l)throw new Error(mc(9));try{l=!0,i=r(i,j)}finally{l=!1}for(var N=o=c,I=0;I<N.length;I++){var M=N[I];M()}return j}function w(j){if(typeof j!="function")throw new Error(mc(10));r=j,b({type:OI.REPLACE})}function S(){var j,N=g;return j={subscribe:function(M){if(typeof M!="object"||M===null)throw new Error(mc(11));function B(){M.next&&M.next(f())}B();var P=N(B);return{unsubscribe:P}}},j[MI]=function(){return this},j}return b({type:OI.INIT}),a={dispatch:b,subscribe:g,getState:f,replaceReducer:w},a[MI]=S,a}function ca(e,t,...n){if(Pfe()&&t===void 0)throw new Error("invariant requires an error message argument");if(!e){let a;if(t===void 0)a=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{let r=0;a=new Error(t.replace(/%s/g,function(){return n[r++]})),a.name="Invariant Violation"}throw a.framesToPop=1,a}}function Pfe(){return typeof process<"u"&&!0}function Ffe(e,t,n){return t.split(".").reduce((a,r)=>a&&a[r]?a[r]:n||null,e)}function Hfe(e,t){return e.filter(n=>n!==t)}function VO(e){return typeof e=="object"}function zfe(e,t){const n=new Map,a=i=>{n.set(i,n.has(i)?n.get(i)+1:1)};e.forEach(a),t.forEach(a);const r=[];return n.forEach((i,o)=>{i===1&&r.push(o)}),r}function Vfe(e,t){return e.filter(n=>t.indexOf(n)>-1)}const A3="dnd-core/INIT_COORDS",zb="dnd-core/BEGIN_DRAG",M3="dnd-core/PUBLISH_DRAG_SOURCE",Vb="dnd-core/HOVER",qb="dnd-core/DROP",Ub="dnd-core/END_DRAG";function BI(e,t){return{type:A3,payload:{sourceClientOffset:t||null,clientOffset:e||null}}}const qfe={type:A3,payload:{clientOffset:null,sourceClientOffset:null}};function Ufe(e){return function(n=[],a={publishSource:!0}){const{publishSource:r=!0,clientOffset:i,getSourceClientOffset:o}=a,c=e.getMonitor(),l=e.getRegistry();e.dispatch(BI(i)),Wfe(n,c,l);const d=Qfe(n,c);if(d==null){e.dispatch(qfe);return}let f=null;if(i){if(!o)throw new Error("getSourceClientOffset must be defined");Yfe(o),f=o(d)}e.dispatch(BI(i,f));const b=l.getSource(d).beginDrag(c,d);if(b==null)return;Gfe(b),l.pinSource(d);const w=l.getSourceType(d);return{type:zb,payload:{itemType:w,item:b,sourceId:d,clientOffset:i||null,sourceClientOffset:f||null,isSourcePublic:!!r}}}}function Wfe(e,t,n){ca(!t.isDragging(),"Cannot call beginDrag while dragging."),e.forEach(function(a){ca(n.getSource(a),"Expected sourceIds to be registered.")})}function Yfe(e){ca(typeof e=="function","When clientOffset is provided, getSourceClientOffset must be a function.")}function Gfe(e){ca(VO(e),"Item must be an object.")}function Qfe(e,t){let n=null;for(let a=e.length-1;a>=0;a--)if(t.canDragSource(e[a])){n=e[a];break}return n}function Xfe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Kfe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{},a=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable}))),a.forEach(function(r){Xfe(e,r,n[r])})}return e}function Zfe(e){return function(n={}){const a=e.getMonitor(),r=e.getRegistry();Jfe(a),nme(a).forEach((o,c)=>{const l=eme(o,c,r,a),d={type:qb,payload:{dropResult:Kfe({},n,l)}};e.dispatch(d)})}}function Jfe(e){ca(e.isDragging(),"Cannot call drop while not dragging."),ca(!e.didDrop(),"Cannot call drop twice during one drag operation.")}function eme(e,t,n,a){const r=n.getTarget(e);let i=r?r.drop(a,e):void 0;return tme(i),typeof i>"u"&&(i=t===0?{}:a.getDropResult()),i}function tme(e){ca(typeof e>"u"||VO(e),"Drop result must either be an object or undefined.")}function nme(e){const t=e.getTargetIds().filter(e.canDropOnTarget,e);return t.reverse(),t}function sme(e){return function(){const n=e.getMonitor(),a=e.getRegistry();ame(n);const r=n.getSourceId();return r!=null&&(a.getSource(r,!0).endDrag(n,r),a.unpinSource()),{type:Ub}}}function ame(e){ca(e.isDragging(),"Cannot call endDrag while not dragging.")}function uj(e,t){return t===null?e===null:Array.isArray(e)?e.some(n=>n===t):e===t}function rme(e){return function(n,{clientOffset:a}={}){ime(n);const r=n.slice(0),i=e.getMonitor(),o=e.getRegistry(),c=i.getItemType();return cme(r,o,c),ome(r,i,o),lme(r,i,o),{type:Vb,payload:{targetIds:r,clientOffset:a||null}}}}function ime(e){ca(Array.isArray(e),"Expected targetIds to be an array.")}function ome(e,t,n){ca(t.isDragging(),"Cannot call hover while not dragging."),ca(!t.didDrop(),"Cannot call hover after drop.");for(let a=0;a<e.length;a++){const r=e[a];ca(e.lastIndexOf(r)===a,"Expected targetIds to be unique in the passed array.");const i=n.getTarget(r);ca(i,"Expected targetIds to be registered.")}}function cme(e,t,n){for(let a=e.length-1;a>=0;a--){const r=e[a],i=t.getTargetType(r);uj(i,n)||e.splice(a,1)}}function lme(e,t,n){e.forEach(function(a){n.getTarget(a).hover(t,a)})}function ume(e){return function(){if(e.getMonitor().isDragging())return{type:M3}}}function dme(e){return{beginDrag:Ufe(e),publishDragSource:ume(e),hover:rme(e),drop:Zfe(e),endDrag:sme(e)}}class hme{receiveBackend(t){this.backend=t}getMonitor(){return this.monitor}getBackend(){return this.backend}getRegistry(){return this.monitor.registry}getActions(){const t=this,{dispatch:n}=this.store;function a(i){return(...o)=>{const c=i.apply(t,o);typeof c<"u"&&n(c)}}const r=dme(this);return Object.keys(r).reduce((i,o)=>{const c=r[o];return i[o]=a(c),i},{})}dispatch(t){this.store.dispatch(t)}constructor(t,n){this.isSetUp=!1,this.handleRefCountChange=()=>{const a=this.store.getState().refCount>0;this.backend&&(a&&!this.isSetUp?(this.backend.setup(),this.isSetUp=!0):!a&&this.isSetUp&&(this.backend.teardown(),this.isSetUp=!1))},this.store=t,this.monitor=n,t.subscribe(this.handleRefCountChange)}}function fme(e,t){return{x:e.x+t.x,y:e.y+t.y}}function qO(e,t){return{x:e.x-t.x,y:e.y-t.y}}function mme(e){const{clientOffset:t,initialClientOffset:n,initialSourceClientOffset:a}=e;return!t||!n||!a?null:qO(fme(t,a),n)}function pme(e){const{clientOffset:t,initialClientOffset:n}=e;return!t||!n?null:qO(t,n)}const tg=[],R3=[];tg.__IS_NONE__=!0;R3.__IS_ALL__=!0;function gme(e,t){return e===tg?!1:e===R3||typeof t>"u"?!0:Vfe(t,e).length>0}class _me{subscribeToStateChange(t,n={}){const{handlerIds:a}=n;ca(typeof t=="function","listener must be a function."),ca(typeof a>"u"||Array.isArray(a),"handlerIds, when specified, must be an array of strings.");let r=this.store.getState().stateId;const i=()=>{const o=this.store.getState(),c=o.stateId;try{c===r||c===r+1&&!gme(o.dirtyHandlerIds,a)||t()}finally{r=c}};return this.store.subscribe(i)}subscribeToOffsetChange(t){ca(typeof t=="function","listener must be a function.");let n=this.store.getState().dragOffset;const a=()=>{const r=this.store.getState().dragOffset;r!==n&&(n=r,t())};return this.store.subscribe(a)}canDragSource(t){if(!t)return!1;const n=this.registry.getSource(t);return ca(n,`Expected to find a valid source. sourceId=${t}`),this.isDragging()?!1:n.canDrag(this,t)}canDropOnTarget(t){if(!t)return!1;const n=this.registry.getTarget(t);if(ca(n,`Expected to find a valid target. targetId=${t}`),!this.isDragging()||this.didDrop())return!1;const a=this.registry.getTargetType(t),r=this.getItemType();return uj(a,r)&&n.canDrop(this,t)}isDragging(){return!!this.getItemType()}isDraggingSource(t){if(!t)return!1;const n=this.registry.getSource(t,!0);if(ca(n,`Expected to find a valid source. sourceId=${t}`),!this.isDragging()||!this.isSourcePublic())return!1;const a=this.registry.getSourceType(t),r=this.getItemType();return a!==r?!1:n.isDragging(this,t)}isOverTarget(t,n={shallow:!1}){if(!t)return!1;const{shallow:a}=n;if(!this.isDragging())return!1;const r=this.registry.getTargetType(t),i=this.getItemType();if(i&&!uj(r,i))return!1;const o=this.getTargetIds();if(!o.length)return!1;const c=o.indexOf(t);return a?c===o.length-1:c>-1}getItemType(){return this.store.getState().dragOperation.itemType}getItem(){return this.store.getState().dragOperation.item}getSourceId(){return this.store.getState().dragOperation.sourceId}getTargetIds(){return this.store.getState().dragOperation.targetIds}getDropResult(){return this.store.getState().dragOperation.dropResult}didDrop(){return this.store.getState().dragOperation.didDrop}isSourcePublic(){return!!this.store.getState().dragOperation.isSourcePublic}getInitialClientOffset(){return this.store.getState().dragOffset.initialClientOffset}getInitialSourceClientOffset(){return this.store.getState().dragOffset.initialSourceClientOffset}getClientOffset(){return this.store.getState().dragOffset.clientOffset}getSourceClientOffset(){return mme(this.store.getState().dragOffset)}getDifferenceFromInitialOffset(){return pme(this.store.getState().dragOffset)}constructor(t,n){this.store=t,this.registry=n}}const LI=typeof global<"u"?global:self,UO=LI.MutationObserver||LI.WebKitMutationObserver;function WO(e){return function(){const n=setTimeout(r,0),a=setInterval(r,50);function r(){clearTimeout(n),clearInterval(a),e()}}}function vme(e){let t=1;const n=new UO(e),a=document.createTextNode("");return n.observe(a,{characterData:!0}),function(){t=-t,a.data=t}}const xme=typeof UO=="function"?vme:WO;class bme{enqueueTask(t){const{queue:n,requestFlush:a}=this;n.length||(a(),this.flushing=!0),n[n.length]=t}constructor(){this.queue=[],this.pendingErrors=[],this.flushing=!1,this.index=0,this.capacity=1024,this.flush=()=>{const{queue:t}=this;for(;this.index<t.length;){const n=this.index;if(this.index++,t[n].call(),this.index>this.capacity){for(let a=0,r=t.length-this.index;a<r;a++)t[a]=t[a+this.index];t.length-=this.index,this.index=0}}t.length=0,this.index=0,this.flushing=!1},this.registerPendingError=t=>{this.pendingErrors.push(t),this.requestErrorThrow()},this.requestFlush=xme(this.flush),this.requestErrorThrow=WO(()=>{if(this.pendingErrors.length)throw this.pendingErrors.shift()})}}class yme{call(){try{this.task&&this.task()}catch(t){this.onError(t)}finally{this.task=null,this.release(this)}}constructor(t,n){this.onError=t,this.release=n,this.task=null}}class wme{create(t){const n=this.freeTasks,a=n.length?n.pop():new yme(this.onError,r=>n[n.length]=r);return a.task=t,a}constructor(t){this.onError=t,this.freeTasks=[]}}const YO=new bme,Cme=new wme(YO.registerPendingError);function Sme(e){YO.enqueueTask(Cme.create(e))}const O3="dnd-core/ADD_SOURCE",B3="dnd-core/ADD_TARGET",L3="dnd-core/REMOVE_SOURCE",Wb="dnd-core/REMOVE_TARGET";function jme(e){return{type:O3,payload:{sourceId:e}}}function Nme(e){return{type:B3,payload:{targetId:e}}}function Eme(e){return{type:L3,payload:{sourceId:e}}}function kme(e){return{type:Wb,payload:{targetId:e}}}function Ime(e){ca(typeof e.canDrag=="function","Expected canDrag to be a function."),ca(typeof e.beginDrag=="function","Expected beginDrag to be a function."),ca(typeof e.endDrag=="function","Expected endDrag to be a function.")}function Dme(e){ca(typeof e.canDrop=="function","Expected canDrop to be a function."),ca(typeof e.hover=="function","Expected hover to be a function."),ca(typeof e.drop=="function","Expected beginDrag to be a function.")}function dj(e,t){if(t&&Array.isArray(e)){e.forEach(n=>dj(n,!1));return}ca(typeof e=="string"||typeof e=="symbol",t?"Type can only be a string, a symbol, or an array of either.":"Type can only be a string or a symbol.")}var yc;(function(e){e.SOURCE="SOURCE",e.TARGET="TARGET"})(yc||(yc={}));let Tme=0;function Ame(){return Tme++}function Mme(e){const t=Ame().toString();switch(e){case yc.SOURCE:return`S${t}`;case yc.TARGET:return`T${t}`;default:throw new Error(`Unknown Handler Role: ${e}`)}}function $I(e){switch(e[0]){case"S":return yc.SOURCE;case"T":return yc.TARGET;default:throw new Error(`Cannot parse handler ID: ${e}`)}}function PI(e,t){const n=e.entries();let a=!1;do{const{done:r,value:[,i]}=n.next();if(i===t)return!0;a=!!r}while(!a);return!1}class Rme{addSource(t,n){dj(t),Ime(n);const a=this.addHandler(yc.SOURCE,t,n);return this.store.dispatch(jme(a)),a}addTarget(t,n){dj(t,!0),Dme(n);const a=this.addHandler(yc.TARGET,t,n);return this.store.dispatch(Nme(a)),a}containsHandler(t){return PI(this.dragSources,t)||PI(this.dropTargets,t)}getSource(t,n=!1){return ca(this.isSourceId(t),"Expected a valid source ID."),n&&t===this.pinnedSourceId?this.pinnedSource:this.dragSources.get(t)}getTarget(t){return ca(this.isTargetId(t),"Expected a valid target ID."),this.dropTargets.get(t)}getSourceType(t){return ca(this.isSourceId(t),"Expected a valid source ID."),this.types.get(t)}getTargetType(t){return ca(this.isTargetId(t),"Expected a valid target ID."),this.types.get(t)}isSourceId(t){return $I(t)===yc.SOURCE}isTargetId(t){return $I(t)===yc.TARGET}removeSource(t){ca(this.getSource(t),"Expected an existing source."),this.store.dispatch(Eme(t)),Sme(()=>{this.dragSources.delete(t),this.types.delete(t)})}removeTarget(t){ca(this.getTarget(t),"Expected an existing target."),this.store.dispatch(kme(t)),this.dropTargets.delete(t),this.types.delete(t)}pinSource(t){const n=this.getSource(t);ca(n,"Expected an existing source."),this.pinnedSourceId=t,this.pinnedSource=n}unpinSource(){ca(this.pinnedSource,"No source is pinned at the time."),this.pinnedSourceId=null,this.pinnedSource=null}addHandler(t,n,a){const r=Mme(t);return this.types.set(r,n),t===yc.SOURCE?this.dragSources.set(r,a):t===yc.TARGET&&this.dropTargets.set(r,a),r}constructor(t){this.types=new Map,this.dragSources=new Map,this.dropTargets=new Map,this.pinnedSourceId=null,this.pinnedSource=null,this.store=t}}const Ome=(e,t)=>e===t;function Bme(e,t){return!e&&!t?!0:!e||!t?!1:e.x===t.x&&e.y===t.y}function Lme(e,t,n=Ome){if(e.length!==t.length)return!1;for(let a=0;a<e.length;++a)if(!n(e[a],t[a]))return!1;return!0}function $me(e=tg,t){switch(t.type){case Vb:break;case O3:case B3:case Wb:case L3:return tg;case zb:case M3:case Ub:case qb:default:return R3}const{targetIds:n=[],prevTargetIds:a=[]}=t.payload,r=zfe(n,a);if(!(r.length>0||!Lme(n,a)))return tg;const o=a[a.length-1],c=n[n.length-1];return o!==c&&(o&&r.push(o),c&&r.push(c)),r}function Pme(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Fme(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{},a=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable}))),a.forEach(function(r){Pme(e,r,n[r])})}return e}const FI={initialSourceClientOffset:null,initialClientOffset:null,clientOffset:null};function Hme(e=FI,t){const{payload:n}=t;switch(t.type){case A3:case zb:return{initialSourceClientOffset:n.sourceClientOffset,initialClientOffset:n.clientOffset,clientOffset:n.clientOffset};case Vb:return Bme(e.clientOffset,n.clientOffset)?e:Fme({},e,{clientOffset:n.clientOffset});case Ub:case qb:return FI;default:return e}}function zme(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function If(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{},a=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable}))),a.forEach(function(r){zme(e,r,n[r])})}return e}const Vme={itemType:null,item:null,sourceId:null,targetIds:[],dropResult:null,didDrop:!1,isSourcePublic:null};function qme(e=Vme,t){const{payload:n}=t;switch(t.type){case zb:return If({},e,{itemType:n.itemType,item:n.item,sourceId:n.sourceId,isSourcePublic:n.isSourcePublic,dropResult:null,didDrop:!1});case M3:return If({},e,{isSourcePublic:!0});case Vb:return If({},e,{targetIds:n.targetIds});case Wb:return e.targetIds.indexOf(n.targetId)===-1?e:If({},e,{targetIds:Hfe(e.targetIds,n.targetId)});case qb:return If({},e,{dropResult:n.dropResult,didDrop:!0,targetIds:[]});case Ub:return If({},e,{itemType:null,item:null,sourceId:null,dropResult:null,didDrop:!1,isSourcePublic:null,targetIds:[]});default:return e}}function Ume(e=0,t){switch(t.type){case O3:case B3:return e+1;case L3:case Wb:return e-1;default:return e}}function Wme(e=0){return e+1}function Yme(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Gme(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{},a=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable}))),a.forEach(function(r){Yme(e,r,n[r])})}return e}function Qme(e={},t){return{dirtyHandlerIds:$me(e.dirtyHandlerIds,{type:t.type,payload:Gme({},t.payload,{prevTargetIds:Ffe(e,"dragOperation.targetIds",[])})}),dragOffset:Hme(e.dragOffset,t),refCount:Ume(e.refCount,t),dragOperation:qme(e.dragOperation,t),stateId:Wme(e.stateId)}}function Xme(e,t=void 0,n={},a=!1){const r=Kme(a),i=new _me(r,new Rme(r)),o=new hme(r,i),c=e(o,t,n);return o.receiveBackend(c),o}function Kme(e){const t=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION__;return zO(Qme,e&&t&&t({name:"dnd-core",instanceId:"dnd-core"}))}function Zme(e,t){if(e==null)return{};var n=Jme(e,t),a,r;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)a=i[r],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function Jme(e,t){if(e==null)return{};var n={},a=Object.keys(e),r,i;for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&(n[r]=e[r]);return n}let HI=0;const Tv=Symbol.for("__REACT_DND_CONTEXT_INSTANCE__");var Yb=v.memo(function(t){var{children:n}=t,a=Zme(t,["children"]);const[r,i]=epe(a);return v.useEffect(()=>{if(i){const o=GO();return++HI,()=>{--HI===0&&(o[Tv]=null)}}},[]),s.jsx(FO.Provider,{value:r,children:n})});function epe(e){if("manager"in e)return[{dragDropManager:e.manager},!1];const t=tpe(e.backend,e.context,e.options,e.debugMode),n=!e.context;return[t,n]}function tpe(e,t=GO(),n,a){const r=t;return r[Tv]||(r[Tv]={dragDropManager:Xme(e,t,n,a)}),r[Tv]}function GO(){return typeof global<"u"?global:window}var hC,zI;function npe(){return zI||(zI=1,hC=function e(t,n){if(t===n)return!0;if(t&&n&&typeof t=="object"&&typeof n=="object"){if(t.constructor!==n.constructor)return!1;var a,r,i;if(Array.isArray(t)){if(a=t.length,a!=n.length)return!1;for(r=a;r--!==0;)if(!e(t[r],n[r]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if(i=Object.keys(t),a=i.length,a!==Object.keys(n).length)return!1;for(r=a;r--!==0;)if(!Object.prototype.hasOwnProperty.call(n,i[r]))return!1;for(r=a;r--!==0;){var o=i[r];if(!e(t[o],n[o]))return!1}return!0}return t!==t&&n!==n}),hC}var spe=npe();const ape=Si(spe),Lh=typeof window<"u"?v.useLayoutEffect:v.useEffect;function rpe(e,t,n){const[a,r]=v.useState(()=>t(e)),i=v.useCallback(()=>{const o=t(e);ape(a,o)||(r(o),n&&n())},[a,e,n]);return Lh(i),[a,i]}function ipe(e,t,n){const[a,r]=rpe(e,t,n);return Lh(function(){const o=e.getHandlerId();if(o!=null)return e.subscribeToStateChange(r,{handlerIds:[o]})},[e,r]),a}function QO(e,t,n){return ipe(t,e||(()=>({})),()=>n.reconnect())}function XO(e,t){const n=[];return typeof e!="function"&&n.push(e),v.useMemo(()=>typeof e=="function"?e():e,n)}function ope(e){return v.useMemo(()=>e.hooks.dragSource(),[e])}function cpe(e){return v.useMemo(()=>e.hooks.dragPreview(),[e])}let fC=!1,mC=!1;class lpe{receiveHandlerId(t){this.sourceId=t}getHandlerId(){return this.sourceId}canDrag(){ca(!fC,"You may not call monitor.canDrag() inside your canDrag() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return fC=!0,this.internalMonitor.canDragSource(this.sourceId)}finally{fC=!1}}isDragging(){if(!this.sourceId)return!1;ca(!mC,"You may not call monitor.isDragging() inside your isDragging() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return mC=!0,this.internalMonitor.isDraggingSource(this.sourceId)}finally{mC=!1}}subscribeToStateChange(t,n){return this.internalMonitor.subscribeToStateChange(t,n)}isDraggingSource(t){return this.internalMonitor.isDraggingSource(t)}isOverTarget(t,n){return this.internalMonitor.isOverTarget(t,n)}getTargetIds(){return this.internalMonitor.getTargetIds()}isSourcePublic(){return this.internalMonitor.isSourcePublic()}getSourceId(){return this.internalMonitor.getSourceId()}subscribeToOffsetChange(t){return this.internalMonitor.subscribeToOffsetChange(t)}canDragSource(t){return this.internalMonitor.canDragSource(t)}canDropOnTarget(t){return this.internalMonitor.canDropOnTarget(t)}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(t){this.sourceId=null,this.internalMonitor=t.getMonitor()}}let pC=!1;class upe{receiveHandlerId(t){this.targetId=t}getHandlerId(){return this.targetId}subscribeToStateChange(t,n){return this.internalMonitor.subscribeToStateChange(t,n)}canDrop(){if(!this.targetId)return!1;ca(!pC,"You may not call monitor.canDrop() inside your canDrop() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target-monitor");try{return pC=!0,this.internalMonitor.canDropOnTarget(this.targetId)}finally{pC=!1}}isOver(t){return this.targetId?this.internalMonitor.isOverTarget(this.targetId,t):!1}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(t){this.targetId=null,this.internalMonitor=t.getMonitor()}}function dpe(e,t,n){const a=n.getRegistry(),r=a.addTarget(e,t);return[r,()=>a.removeTarget(r)]}function hpe(e,t,n){const a=n.getRegistry(),r=a.addSource(e,t);return[r,()=>a.removeSource(r)]}function hj(e,t,n,a){let r;if(r!==void 0)return!!r;if(e===t)return!0;if(typeof e!="object"||!e||typeof t!="object"||!t)return!1;const i=Object.keys(e),o=Object.keys(t);if(i.length!==o.length)return!1;const c=Object.prototype.hasOwnProperty.bind(t);for(let l=0;l<i.length;l++){const d=i[l];if(!c(d))return!1;const f=e[d],g=t[d];if(r=void 0,r===!1||r===void 0&&f!==g)return!1}return!0}function fj(e){return e!==null&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function fpe(e){if(typeof e.type=="string")return;const t=e.type.displayName||e.type.name||"the component";throw new Error(`Only native element nodes can now be passed to React DnD connectors.You can either wrap ${t} into a <div>, or turn it into a drag source or a drop target itself.`)}function mpe(e){return(t=null,n=null)=>{if(!v.isValidElement(t)){const i=t;return e(i,n),i}const a=t;return fpe(a),ppe(a,n?i=>e(i,n):e)}}function KO(e){const t={};return Object.keys(e).forEach(n=>{const a=e[n];if(n.endsWith("Ref"))t[n]=e[n];else{const r=mpe(a);t[n]=()=>r}}),t}function VI(e,t){typeof e=="function"?e(t):e.current=t}function ppe(e,t){const n=e.ref;return ca(typeof n!="string","Cannot connect React DnD to an element with an existing string ref. Please convert it to use a callback ref instead, or wrap it into a <span> or <div>. Read more: https://reactjs.org/docs/refs-and-the-dom.html#callback-refs"),n?v.cloneElement(e,{ref:a=>{VI(n,a),VI(t,a)}}):v.cloneElement(e,{ref:t})}class gpe{receiveHandlerId(t){this.handlerId!==t&&(this.handlerId=t,this.reconnect())}get connectTarget(){return this.dragSource}get dragSourceOptions(){return this.dragSourceOptionsInternal}set dragSourceOptions(t){this.dragSourceOptionsInternal=t}get dragPreviewOptions(){return this.dragPreviewOptionsInternal}set dragPreviewOptions(t){this.dragPreviewOptionsInternal=t}reconnect(){const t=this.reconnectDragSource();this.reconnectDragPreview(t)}reconnectDragSource(){const t=this.dragSource,n=this.didHandlerIdChange()||this.didConnectedDragSourceChange()||this.didDragSourceOptionsChange();return n&&this.disconnectDragSource(),this.handlerId?t?(n&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragSource=t,this.lastConnectedDragSourceOptions=this.dragSourceOptions,this.dragSourceUnsubscribe=this.backend.connectDragSource(this.handlerId,t,this.dragSourceOptions)),n):(this.lastConnectedDragSource=t,n):n}reconnectDragPreview(t=!1){const n=this.dragPreview,a=t||this.didHandlerIdChange()||this.didConnectedDragPreviewChange()||this.didDragPreviewOptionsChange();if(a&&this.disconnectDragPreview(),!!this.handlerId){if(!n){this.lastConnectedDragPreview=n;return}a&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragPreview=n,this.lastConnectedDragPreviewOptions=this.dragPreviewOptions,this.dragPreviewUnsubscribe=this.backend.connectDragPreview(this.handlerId,n,this.dragPreviewOptions))}}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didConnectedDragSourceChange(){return this.lastConnectedDragSource!==this.dragSource}didConnectedDragPreviewChange(){return this.lastConnectedDragPreview!==this.dragPreview}didDragSourceOptionsChange(){return!hj(this.lastConnectedDragSourceOptions,this.dragSourceOptions)}didDragPreviewOptionsChange(){return!hj(this.lastConnectedDragPreviewOptions,this.dragPreviewOptions)}disconnectDragSource(){this.dragSourceUnsubscribe&&(this.dragSourceUnsubscribe(),this.dragSourceUnsubscribe=void 0)}disconnectDragPreview(){this.dragPreviewUnsubscribe&&(this.dragPreviewUnsubscribe(),this.dragPreviewUnsubscribe=void 0,this.dragPreviewNode=null,this.dragPreviewRef=null)}get dragSource(){return this.dragSourceNode||this.dragSourceRef&&this.dragSourceRef.current}get dragPreview(){return this.dragPreviewNode||this.dragPreviewRef&&this.dragPreviewRef.current}clearDragSource(){this.dragSourceNode=null,this.dragSourceRef=null}clearDragPreview(){this.dragPreviewNode=null,this.dragPreviewRef=null}constructor(t){this.hooks=KO({dragSource:(n,a)=>{this.clearDragSource(),this.dragSourceOptions=a||null,fj(n)?this.dragSourceRef=n:this.dragSourceNode=n,this.reconnectDragSource()},dragPreview:(n,a)=>{this.clearDragPreview(),this.dragPreviewOptions=a||null,fj(n)?this.dragPreviewRef=n:this.dragPreviewNode=n,this.reconnectDragPreview()}}),this.handlerId=null,this.dragSourceRef=null,this.dragSourceOptionsInternal=null,this.dragPreviewRef=null,this.dragPreviewOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDragSource=null,this.lastConnectedDragSourceOptions=null,this.lastConnectedDragPreview=null,this.lastConnectedDragPreviewOptions=null,this.backend=t}}class _pe{get connectTarget(){return this.dropTarget}reconnect(){const t=this.didHandlerIdChange()||this.didDropTargetChange()||this.didOptionsChange();t&&this.disconnectDropTarget();const n=this.dropTarget;if(this.handlerId){if(!n){this.lastConnectedDropTarget=n;return}t&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDropTarget=n,this.lastConnectedDropTargetOptions=this.dropTargetOptions,this.unsubscribeDropTarget=this.backend.connectDropTarget(this.handlerId,n,this.dropTargetOptions))}}receiveHandlerId(t){t!==this.handlerId&&(this.handlerId=t,this.reconnect())}get dropTargetOptions(){return this.dropTargetOptionsInternal}set dropTargetOptions(t){this.dropTargetOptionsInternal=t}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didDropTargetChange(){return this.lastConnectedDropTarget!==this.dropTarget}didOptionsChange(){return!hj(this.lastConnectedDropTargetOptions,this.dropTargetOptions)}disconnectDropTarget(){this.unsubscribeDropTarget&&(this.unsubscribeDropTarget(),this.unsubscribeDropTarget=void 0)}get dropTarget(){return this.dropTargetNode||this.dropTargetRef&&this.dropTargetRef.current}clearDropTarget(){this.dropTargetRef=null,this.dropTargetNode=null}constructor(t){this.hooks=KO({dropTarget:(n,a)=>{this.clearDropTarget(),this.dropTargetOptions=a,fj(n)?this.dropTargetRef=n:this.dropTargetNode=n,this.reconnect()}}),this.handlerId=null,this.dropTargetRef=null,this.dropTargetOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDropTarget=null,this.lastConnectedDropTargetOptions=null,this.backend=t}}function Xm(){const{dragDropManager:e}=v.useContext(FO);return ca(e!=null,"Expected drag drop context"),e}function vpe(e,t){const n=Xm(),a=v.useMemo(()=>new gpe(n.getBackend()),[n]);return Lh(()=>(a.dragSourceOptions=e||null,a.reconnect(),()=>a.disconnectDragSource()),[a,e]),Lh(()=>(a.dragPreviewOptions=t||null,a.reconnect(),()=>a.disconnectDragPreview()),[a,t]),a}function xpe(){const e=Xm();return v.useMemo(()=>new lpe(e),[e])}class bpe{beginDrag(){const t=this.spec,n=this.monitor;let a=null;return typeof t.item=="object"?a=t.item:typeof t.item=="function"?a=t.item(n):a={},a??null}canDrag(){const t=this.spec,n=this.monitor;return typeof t.canDrag=="boolean"?t.canDrag:typeof t.canDrag=="function"?t.canDrag(n):!0}isDragging(t,n){const a=this.spec,r=this.monitor,{isDragging:i}=a;return i?i(r):n===t.getSourceId()}endDrag(){const t=this.spec,n=this.monitor,a=this.connector,{end:r}=t;r&&r(n.getItem(),n),a.reconnect()}constructor(t,n,a){this.spec=t,this.monitor=n,this.connector=a}}function ype(e,t,n){const a=v.useMemo(()=>new bpe(e,t,n),[t,n]);return v.useEffect(()=>{a.spec=e},[e]),a}function wpe(e){return v.useMemo(()=>{const t=e.type;return ca(t!=null,"spec.type must be defined"),t},[e])}function Cpe(e,t,n){const a=Xm(),r=ype(e,t,n),i=wpe(e);Lh(function(){if(i!=null){const[c,l]=hpe(i,r,a);return t.receiveHandlerId(c),n.receiveHandlerId(c),l}},[a,t,n,r,i])}function Spe(e,t){const n=XO(e);ca(!n.begin,"useDrag::spec.begin was deprecated in v14. Replace spec.begin() with spec.item(). (see more here - https://react-dnd.github.io/react-dnd/docs/api/use-drag)");const a=xpe(),r=vpe(n.options,n.previewOptions);return Cpe(n,a,r),[QO(n.collect,a,r),ope(r),cpe(r)]}function jpe(e){return v.useMemo(()=>e.hooks.dropTarget(),[e])}function Npe(e){const t=Xm(),n=v.useMemo(()=>new _pe(t.getBackend()),[t]);return Lh(()=>(n.dropTargetOptions=e||null,n.reconnect(),()=>n.disconnectDropTarget()),[e]),n}function Epe(){const e=Xm();return v.useMemo(()=>new upe(e),[e])}function kpe(e){const{accept:t}=e;return v.useMemo(()=>(ca(e.accept!=null,"accept must be defined"),Array.isArray(t)?t:[t]),[t])}class Ipe{canDrop(){const t=this.spec,n=this.monitor;return t.canDrop?t.canDrop(n.getItem(),n):!0}hover(){const t=this.spec,n=this.monitor;t.hover&&t.hover(n.getItem(),n)}drop(){const t=this.spec,n=this.monitor;if(t.drop)return t.drop(n.getItem(),n)}constructor(t,n){this.spec=t,this.monitor=n}}function Dpe(e,t){const n=v.useMemo(()=>new Ipe(e,t),[t]);return v.useEffect(()=>{n.spec=e},[e]),n}function Tpe(e,t,n){const a=Xm(),r=Dpe(e,t),i=kpe(e);Lh(function(){const[c,l]=dpe(i,r,a);return t.receiveHandlerId(c),n.receiveHandlerId(c),l},[a,t,r,n,i.map(o=>o.toString()).join("|")])}function Ape(e,t){const n=XO(e),a=Epe(),r=Npe(n.options);return Tpe(n,a,r),[QO(n.collect,a,r),jpe(r)]}const Mpe="_thumbnailsContainer_1aowt_3",Rpe="_thumbnailContainer_1aowt_21",Ope="_orderBadge_1aowt_67",Bpe="_thumbnail_1aowt_3",Lpe="_mainImageBadge_1aowt_145",$pe="_thumbnailActions_1aowt_187",Ppe="_thumbnailButton_1aowt_231",id={thumbnailsContainer:Mpe,thumbnailContainer:Rpe,orderBadge:Ope,thumbnail:Bpe,mainImageBadge:Lpe,thumbnailActions:$pe,thumbnailButton:Ppe},Fpe=({image:e,index:t,moveImage:n,onSetMain:a,onRemove:r})=>{const i=v.useRef(null),[{isDragging:o},c]=Spe({type:"IMAGE",item:{id:e.id,index:t},canDrag:!e.isMain,collect:d=>({isDragging:d.isDragging()})}),[,l]=Ape({accept:"IMAGE",drop:d=>{!e.isMain&&d.index!==t&&n(d.index,t)}});return e.isMain||c(l(i)),s.jsxs("div",{ref:i,className:id.thumbnailContainer,style:{cursor:e.isMain?"default":"grab"},children:[s.jsx("img",{src:e.preview,className:id.thumbnail,alt:""}),s.jsx("span",{className:id.orderBadge,children:t+1}),e.isMain&&s.jsx("span",{className:id.mainImageBadge,children:""}),s.jsxs("div",{className:id.thumbnailActions,children:[!e.isMain&&s.jsx("button",{type:"button",className:id.thumbnailButton,onClick:()=>a(e.id),title:" ",children:s.jsx(ih,{})}),s.jsx("button",{type:"button",className:id.thumbnailButton,onClick:()=>r(e.id),title:"",children:s.jsx(aa,{})})]})]})},Gb=({images:e,onImagesReorder:t,onSetMainImage:n,onRemoveImage:a})=>{const r=(i,o)=>{if(i===o)return;const c=[...e],[l]=c.splice(i,1);c.splice(o,0,l),t(c)};return s.jsx("div",{className:id.thumbnailsContainer,children:e.map((i,o)=>s.jsx(Fpe,{image:i,index:o,moveImage:r,onSetMain:n,onRemove:a},i.id))})};function ZO(e){let t=null;return()=>(t==null&&(t=e()),t)}function Hpe(e,t){return e.filter(n=>n!==t)}function zpe(e,t){const n=new Set,a=i=>n.add(i);e.forEach(a),t.forEach(a);const r=[];return n.forEach(i=>r.push(i)),r}class Vpe{enter(t){const n=this.entered.length,a=r=>this.isNodeInDocument(r)&&(!r.contains||r.contains(t));return this.entered=zpe(this.entered.filter(a),[t]),n===0&&this.entered.length>0}leave(t){const n=this.entered.length;return this.entered=Hpe(this.entered.filter(this.isNodeInDocument),t),n>0&&this.entered.length===0}reset(){this.entered=[]}constructor(t){this.entered=[],this.isNodeInDocument=t}}class qpe{initializeExposedProperties(){Object.keys(this.config.exposeProperties).forEach(t=>{Object.defineProperty(this.item,t,{configurable:!0,enumerable:!0,get(){return console.warn(`Browser doesn't allow reading "${t}" until the drop event.`),null}})})}loadDataTransfer(t){if(t){const n={};Object.keys(this.config.exposeProperties).forEach(a=>{const r=this.config.exposeProperties[a];r!=null&&(n[a]={value:r(t,this.config.matchesTypes),configurable:!0,enumerable:!0})}),Object.defineProperties(this.item,n)}}canDrag(){return!0}beginDrag(){return this.item}isDragging(t,n){return n===t.getSourceId()}endDrag(){}constructor(t){this.config=t,this.item={},this.initializeExposedProperties()}}const JO="__NATIVE_FILE__",eB="__NATIVE_URL__",tB="__NATIVE_TEXT__",nB="__NATIVE_HTML__",qI=Object.freeze(Object.defineProperty({__proto__:null,FILE:JO,HTML:nB,TEXT:tB,URL:eB},Symbol.toStringTag,{value:"Module"}));function gC(e,t,n){const a=t.reduce((r,i)=>r||e.getData(i),"");return a??n}const mj={[JO]:{exposeProperties:{files:e=>Array.prototype.slice.call(e.files),items:e=>e.items,dataTransfer:e=>e},matchesTypes:["Files"]},[nB]:{exposeProperties:{html:(e,t)=>gC(e,t,""),dataTransfer:e=>e},matchesTypes:["Html","text/html"]},[eB]:{exposeProperties:{urls:(e,t)=>gC(e,t,"").split(`
`),dataTransfer:e=>e},matchesTypes:["Url","text/uri-list"]},[tB]:{exposeProperties:{text:(e,t)=>gC(e,t,""),dataTransfer:e=>e},matchesTypes:["Text","text/plain"]}};function Upe(e,t){const n=mj[e];if(!n)throw new Error(`native type ${e} has no configuration`);const a=new qpe(n);return a.loadDataTransfer(t),a}function _C(e){if(!e)return null;const t=Array.prototype.slice.call(e.types||[]);return Object.keys(mj).filter(n=>{const a=mj[n];return a!=null&&a.matchesTypes?a.matchesTypes.some(r=>t.indexOf(r)>-1):!1})[0]||null}const Wpe=ZO(()=>/firefox/i.test(navigator.userAgent)),sB=ZO(()=>!!window.safari);class UI{interpolate(t){const{xs:n,ys:a,c1s:r,c2s:i,c3s:o}=this;let c=n.length-1;if(t===n[c])return a[c];let l=0,d=o.length-1,f;for(;l<=d;){f=Math.floor(.5*(l+d));const w=n[f];if(w<t)l=f+1;else if(w>t)d=f-1;else return a[f]}c=Math.max(0,d);const g=t-n[c],b=g*g;return a[c]+r[c]*g+i[c]*b+o[c]*g*b}constructor(t,n){const{length:a}=t,r=[];for(let w=0;w<a;w++)r.push(w);r.sort((w,S)=>t[w]<t[S]?-1:1);const i=[],o=[];let c,l;for(let w=0;w<a-1;w++)c=t[w+1]-t[w],l=n[w+1]-n[w],i.push(c),o.push(l/c);const d=[o[0]];for(let w=0;w<i.length-1;w++){const S=o[w],j=o[w+1];if(S*j<=0)d.push(0);else{c=i[w];const N=i[w+1],I=c+N;d.push(3*I/((I+N)/S+(I+c)/j))}}d.push(o[o.length-1]);const f=[],g=[];let b;for(let w=0;w<d.length-1;w++){b=o[w];const S=d[w],j=1/i[w],N=S+d[w+1]-b-b;f.push((b-S-N)*j),g.push(N*j*j)}this.xs=t,this.ys=n,this.c1s=d,this.c2s=f,this.c3s=g}}const Ype=1;function aB(e){const t=e.nodeType===Ype?e:e.parentElement;if(!t)return null;const{top:n,left:a}=t.getBoundingClientRect();return{x:a,y:n}}function L_(e){return{x:e.clientX,y:e.clientY}}function Gpe(e){var t;return e.nodeName==="IMG"&&(Wpe()||!(!((t=document.documentElement)===null||t===void 0)&&t.contains(e)))}function Qpe(e,t,n,a){let r=e?t.width:n,i=e?t.height:a;return sB()&&e&&(i/=window.devicePixelRatio,r/=window.devicePixelRatio),{dragPreviewWidth:r,dragPreviewHeight:i}}function Xpe(e,t,n,a,r){const i=Gpe(t),c=aB(i?e:t),l={x:n.x-c.x,y:n.y-c.y},{offsetWidth:d,offsetHeight:f}=e,{anchorX:g,anchorY:b}=a,{dragPreviewWidth:w,dragPreviewHeight:S}=Qpe(i,t,d,f),j=()=>{let R=new UI([0,.5,1],[l.y,l.y/f*S,l.y+S-f]).interpolate(b);return sB()&&i&&(R+=(window.devicePixelRatio-1)*S),R},N=()=>new UI([0,.5,1],[l.x,l.x/d*w,l.x+w-d]).interpolate(g),{offsetX:I,offsetY:M}=r,B=I===0||I,P=M===0||M;return{x:B?I:N(),y:P?M:j()}}class Kpe{get window(){if(this.globalContext)return this.globalContext;if(typeof window<"u")return window}get document(){var t;return!((t=this.globalContext)===null||t===void 0)&&t.document?this.globalContext.document:this.window?this.window.document:void 0}get rootElement(){var t;return((t=this.optionsArgs)===null||t===void 0?void 0:t.rootElement)||this.window}constructor(t,n){this.ownerDocument=null,this.globalContext=t,this.optionsArgs=n}}function Zpe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function WI(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{},a=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable}))),a.forEach(function(r){Zpe(e,r,n[r])})}return e}class Jpe{profile(){var t,n;return{sourcePreviewNodes:this.sourcePreviewNodes.size,sourcePreviewNodeOptions:this.sourcePreviewNodeOptions.size,sourceNodeOptions:this.sourceNodeOptions.size,sourceNodes:this.sourceNodes.size,dragStartSourceIds:((t=this.dragStartSourceIds)===null||t===void 0?void 0:t.length)||0,dropTargetIds:this.dropTargetIds.length,dragEnterTargetIds:this.dragEnterTargetIds.length,dragOverTargetIds:((n=this.dragOverTargetIds)===null||n===void 0?void 0:n.length)||0}}get window(){return this.options.window}get document(){return this.options.document}get rootElement(){return this.options.rootElement}setup(){const t=this.rootElement;if(t!==void 0){if(t.__isReactDndBackendSetUp)throw new Error("Cannot have two HTML5 backends at the same time.");t.__isReactDndBackendSetUp=!0,this.addEventListeners(t)}}teardown(){const t=this.rootElement;if(t!==void 0&&(t.__isReactDndBackendSetUp=!1,this.removeEventListeners(this.rootElement),this.clearCurrentDragSourceNode(),this.asyncEndDragFrameId)){var n;(n=this.window)===null||n===void 0||n.cancelAnimationFrame(this.asyncEndDragFrameId)}}connectDragPreview(t,n,a){return this.sourcePreviewNodeOptions.set(t,a),this.sourcePreviewNodes.set(t,n),()=>{this.sourcePreviewNodes.delete(t),this.sourcePreviewNodeOptions.delete(t)}}connectDragSource(t,n,a){this.sourceNodes.set(t,n),this.sourceNodeOptions.set(t,a);const r=o=>this.handleDragStart(o,t),i=o=>this.handleSelectStart(o);return n.setAttribute("draggable","true"),n.addEventListener("dragstart",r),n.addEventListener("selectstart",i),()=>{this.sourceNodes.delete(t),this.sourceNodeOptions.delete(t),n.removeEventListener("dragstart",r),n.removeEventListener("selectstart",i),n.setAttribute("draggable","false")}}connectDropTarget(t,n){const a=o=>this.handleDragEnter(o,t),r=o=>this.handleDragOver(o,t),i=o=>this.handleDrop(o,t);return n.addEventListener("dragenter",a),n.addEventListener("dragover",r),n.addEventListener("drop",i),()=>{n.removeEventListener("dragenter",a),n.removeEventListener("dragover",r),n.removeEventListener("drop",i)}}addEventListeners(t){t.addEventListener&&(t.addEventListener("dragstart",this.handleTopDragStart),t.addEventListener("dragstart",this.handleTopDragStartCapture,!0),t.addEventListener("dragend",this.handleTopDragEndCapture,!0),t.addEventListener("dragenter",this.handleTopDragEnter),t.addEventListener("dragenter",this.handleTopDragEnterCapture,!0),t.addEventListener("dragleave",this.handleTopDragLeaveCapture,!0),t.addEventListener("dragover",this.handleTopDragOver),t.addEventListener("dragover",this.handleTopDragOverCapture,!0),t.addEventListener("drop",this.handleTopDrop),t.addEventListener("drop",this.handleTopDropCapture,!0))}removeEventListeners(t){t.removeEventListener&&(t.removeEventListener("dragstart",this.handleTopDragStart),t.removeEventListener("dragstart",this.handleTopDragStartCapture,!0),t.removeEventListener("dragend",this.handleTopDragEndCapture,!0),t.removeEventListener("dragenter",this.handleTopDragEnter),t.removeEventListener("dragenter",this.handleTopDragEnterCapture,!0),t.removeEventListener("dragleave",this.handleTopDragLeaveCapture,!0),t.removeEventListener("dragover",this.handleTopDragOver),t.removeEventListener("dragover",this.handleTopDragOverCapture,!0),t.removeEventListener("drop",this.handleTopDrop),t.removeEventListener("drop",this.handleTopDropCapture,!0))}getCurrentSourceNodeOptions(){const t=this.monitor.getSourceId(),n=this.sourceNodeOptions.get(t);return WI({dropEffect:this.altKeyPressed?"copy":"move"},n||{})}getCurrentDropEffect(){return this.isDraggingNativeItem()?"copy":this.getCurrentSourceNodeOptions().dropEffect}getCurrentSourcePreviewNodeOptions(){const t=this.monitor.getSourceId(),n=this.sourcePreviewNodeOptions.get(t);return WI({anchorX:.5,anchorY:.5,captureDraggingState:!1},n||{})}isDraggingNativeItem(){const t=this.monitor.getItemType();return Object.keys(qI).some(n=>qI[n]===t)}beginDragNativeItem(t,n){this.clearCurrentDragSourceNode(),this.currentNativeSource=Upe(t,n),this.currentNativeHandle=this.registry.addSource(t,this.currentNativeSource),this.actions.beginDrag([this.currentNativeHandle])}setCurrentDragSourceNode(t){this.clearCurrentDragSourceNode(),this.currentDragSourceNode=t;const n=1e3;this.mouseMoveTimeoutTimer=setTimeout(()=>{var a;return(a=this.rootElement)===null||a===void 0?void 0:a.addEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)},n)}clearCurrentDragSourceNode(){if(this.currentDragSourceNode){if(this.currentDragSourceNode=null,this.rootElement){var t;(t=this.window)===null||t===void 0||t.clearTimeout(this.mouseMoveTimeoutTimer||void 0),this.rootElement.removeEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)}return this.mouseMoveTimeoutTimer=null,!0}return!1}handleDragStart(t,n){t.defaultPrevented||(this.dragStartSourceIds||(this.dragStartSourceIds=[]),this.dragStartSourceIds.unshift(n))}handleDragEnter(t,n){this.dragEnterTargetIds.unshift(n)}handleDragOver(t,n){this.dragOverTargetIds===null&&(this.dragOverTargetIds=[]),this.dragOverTargetIds.unshift(n)}handleDrop(t,n){this.dropTargetIds.unshift(n)}constructor(t,n,a){this.sourcePreviewNodes=new Map,this.sourcePreviewNodeOptions=new Map,this.sourceNodes=new Map,this.sourceNodeOptions=new Map,this.dragStartSourceIds=null,this.dropTargetIds=[],this.dragEnterTargetIds=[],this.currentNativeSource=null,this.currentNativeHandle=null,this.currentDragSourceNode=null,this.altKeyPressed=!1,this.mouseMoveTimeoutTimer=null,this.asyncEndDragFrameId=null,this.dragOverTargetIds=null,this.lastClientOffset=null,this.hoverRafId=null,this.getSourceClientOffset=r=>{const i=this.sourceNodes.get(r);return i&&aB(i)||null},this.endDragNativeItem=()=>{this.isDraggingNativeItem()&&(this.actions.endDrag(),this.currentNativeHandle&&this.registry.removeSource(this.currentNativeHandle),this.currentNativeHandle=null,this.currentNativeSource=null)},this.isNodeInDocument=r=>!!(r&&this.document&&this.document.body&&this.document.body.contains(r)),this.endDragIfSourceWasRemovedFromDOM=()=>{const r=this.currentDragSourceNode;r==null||this.isNodeInDocument(r)||(this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover())},this.scheduleHover=r=>{this.hoverRafId===null&&typeof requestAnimationFrame<"u"&&(this.hoverRafId=requestAnimationFrame(()=>{this.monitor.isDragging()&&this.actions.hover(r||[],{clientOffset:this.lastClientOffset}),this.hoverRafId=null}))},this.cancelHover=()=>{this.hoverRafId!==null&&typeof cancelAnimationFrame<"u"&&(cancelAnimationFrame(this.hoverRafId),this.hoverRafId=null)},this.handleTopDragStartCapture=()=>{this.clearCurrentDragSourceNode(),this.dragStartSourceIds=[]},this.handleTopDragStart=r=>{if(r.defaultPrevented)return;const{dragStartSourceIds:i}=this;this.dragStartSourceIds=null;const o=L_(r);this.monitor.isDragging()&&(this.actions.endDrag(),this.cancelHover()),this.actions.beginDrag(i||[],{publishSource:!1,getSourceClientOffset:this.getSourceClientOffset,clientOffset:o});const{dataTransfer:c}=r,l=_C(c);if(this.monitor.isDragging()){if(c&&typeof c.setDragImage=="function"){const f=this.monitor.getSourceId(),g=this.sourceNodes.get(f),b=this.sourcePreviewNodes.get(f)||g;if(b){const{anchorX:w,anchorY:S,offsetX:j,offsetY:N}=this.getCurrentSourcePreviewNodeOptions(),B=Xpe(g,b,o,{anchorX:w,anchorY:S},{offsetX:j,offsetY:N});c.setDragImage(b,B.x,B.y)}}try{c==null||c.setData("application/json",{})}catch{}this.setCurrentDragSourceNode(r.target);const{captureDraggingState:d}=this.getCurrentSourcePreviewNodeOptions();d?this.actions.publishDragSource():setTimeout(()=>this.actions.publishDragSource(),0)}else if(l)this.beginDragNativeItem(l);else{if(c&&!c.types&&(r.target&&!r.target.hasAttribute||!r.target.hasAttribute("draggable")))return;r.preventDefault()}},this.handleTopDragEndCapture=()=>{this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleTopDragEnterCapture=r=>{if(this.dragEnterTargetIds=[],this.isDraggingNativeItem()){var i;(i=this.currentNativeSource)===null||i===void 0||i.loadDataTransfer(r.dataTransfer)}if(!this.enterLeaveCounter.enter(r.target)||this.monitor.isDragging())return;const{dataTransfer:c}=r,l=_C(c);l&&this.beginDragNativeItem(l,c)},this.handleTopDragEnter=r=>{const{dragEnterTargetIds:i}=this;if(this.dragEnterTargetIds=[],!this.monitor.isDragging())return;this.altKeyPressed=r.altKey,i.length>0&&this.actions.hover(i,{clientOffset:L_(r)}),i.some(c=>this.monitor.canDropOnTarget(c))&&(r.preventDefault(),r.dataTransfer&&(r.dataTransfer.dropEffect=this.getCurrentDropEffect()))},this.handleTopDragOverCapture=r=>{if(this.dragOverTargetIds=[],this.isDraggingNativeItem()){var i;(i=this.currentNativeSource)===null||i===void 0||i.loadDataTransfer(r.dataTransfer)}},this.handleTopDragOver=r=>{const{dragOverTargetIds:i}=this;if(this.dragOverTargetIds=[],!this.monitor.isDragging()){r.preventDefault(),r.dataTransfer&&(r.dataTransfer.dropEffect="none");return}this.altKeyPressed=r.altKey,this.lastClientOffset=L_(r),this.scheduleHover(i),(i||[]).some(c=>this.monitor.canDropOnTarget(c))?(r.preventDefault(),r.dataTransfer&&(r.dataTransfer.dropEffect=this.getCurrentDropEffect())):this.isDraggingNativeItem()?r.preventDefault():(r.preventDefault(),r.dataTransfer&&(r.dataTransfer.dropEffect="none"))},this.handleTopDragLeaveCapture=r=>{this.isDraggingNativeItem()&&r.preventDefault(),this.enterLeaveCounter.leave(r.target)&&(this.isDraggingNativeItem()&&setTimeout(()=>this.endDragNativeItem(),0),this.cancelHover())},this.handleTopDropCapture=r=>{if(this.dropTargetIds=[],this.isDraggingNativeItem()){var i;r.preventDefault(),(i=this.currentNativeSource)===null||i===void 0||i.loadDataTransfer(r.dataTransfer)}else _C(r.dataTransfer)&&r.preventDefault();this.enterLeaveCounter.reset()},this.handleTopDrop=r=>{const{dropTargetIds:i}=this;this.dropTargetIds=[],this.actions.hover(i,{clientOffset:L_(r)}),this.actions.drop({dropEffect:this.getCurrentDropEffect()}),this.isDraggingNativeItem()?this.endDragNativeItem():this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleSelectStart=r=>{const i=r.target;typeof i.dragDrop=="function"&&(i.tagName==="INPUT"||i.tagName==="SELECT"||i.tagName==="TEXTAREA"||i.isContentEditable||(r.preventDefault(),i.dragDrop()))},this.options=new Kpe(n,a),this.actions=t.getActions(),this.monitor=t.getMonitor(),this.registry=t.getRegistry(),this.enterLeaveCounter=new Vpe(this.isNodeInDocument)}}const Qb=function(t,n,a){return new Jpe(t,n,a)};var e1e=Object.defineProperty,t1e=(e,t,n)=>t in e?e1e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Lr=(e,t,n)=>t1e(e,typeof t!="symbol"?t+"":t,n);const Rx={x:0,y:0,width:0,height:0,unit:"px"},Df=(e,t,n)=>Math.min(Math.max(e,t),n),n1e=(...e)=>e.filter(t=>t&&typeof t=="string").join(" "),YI=(e,t)=>e===t||e.width===t.width&&e.height===t.height&&e.x===t.x&&e.y===t.y&&e.unit===t.unit;function Tf(e,t,n){return e.unit==="%"?{...Rx,...e,unit:"%"}:{unit:"%",x:e.x?e.x/t*100:0,y:e.y?e.y/n*100:0,width:e.width?e.width/t*100:0,height:e.height?e.height/n*100:0}}function ed(e,t,n){return e.unit?e.unit==="px"?{...Rx,...e,unit:"px"}:{unit:"px",x:e.x?e.x*t/100:0,y:e.y?e.y*n/100:0,width:e.width?e.width*t/100:0,height:e.height?e.height*n/100:0}:{...Rx,...e,unit:"px"}}function GI(e,t,n,a,r,i=0,o=0,c=a,l=r){const d={...e};let f=Math.min(i,a),g=Math.min(o,r),b=Math.min(c,a),w=Math.min(l,r);t&&(t>1?(f=o?o*t:f,g=f/t,b=c*t):(g=i?i/t:g,f=g*t,w=l/t)),d.y<0&&(d.height=Math.max(d.height+d.y,g),d.y=0),d.x<0&&(d.width=Math.max(d.width+d.x,f),d.x=0);const S=a-(d.x+d.width);S<0&&(d.x=Math.min(d.x,a-f),d.width+=S);const j=r-(d.y+d.height);if(j<0&&(d.y=Math.min(d.y,r-g),d.height+=j),d.width<f&&((n==="sw"||n=="nw")&&(d.x-=f-d.width),d.width=f),d.height<g&&((n==="nw"||n=="ne")&&(d.y-=g-d.height),d.height=g),d.width>b&&((n==="sw"||n=="nw")&&(d.x-=b-d.width),d.width=b),d.height>w&&((n==="nw"||n=="ne")&&(d.y-=w-d.height),d.height=w),t){const N=d.width/d.height;if(N<t){const I=Math.max(d.width/t,g);(n==="nw"||n=="ne")&&(d.y-=I-d.height),d.height=I}else if(N>t){const I=Math.max(d.height*t,f);(n==="sw"||n=="nw")&&(d.x-=I-d.width),d.width=I}}return d}function s1e(e,t,n,a){const r={...e};return t==="ArrowLeft"?a==="nw"?(r.x-=n,r.y-=n,r.width+=n,r.height+=n):a==="w"?(r.x-=n,r.width+=n):a==="sw"?(r.x-=n,r.width+=n,r.height+=n):a==="ne"?(r.y+=n,r.width-=n,r.height-=n):a==="e"?r.width-=n:a==="se"&&(r.width-=n,r.height-=n):t==="ArrowRight"&&(a==="nw"?(r.x+=n,r.y+=n,r.width-=n,r.height-=n):a==="w"?(r.x+=n,r.width-=n):a==="sw"?(r.x+=n,r.width-=n,r.height-=n):a==="ne"?(r.y-=n,r.width+=n,r.height+=n):a==="e"?r.width+=n:a==="se"&&(r.width+=n,r.height+=n)),t==="ArrowUp"?a==="nw"?(r.x-=n,r.y-=n,r.width+=n,r.height+=n):a==="n"?(r.y-=n,r.height+=n):a==="ne"?(r.y-=n,r.width+=n,r.height+=n):a==="sw"?(r.x+=n,r.width-=n,r.height-=n):a==="s"?r.height-=n:a==="se"&&(r.width-=n,r.height-=n):t==="ArrowDown"&&(a==="nw"?(r.x+=n,r.y+=n,r.width-=n,r.height-=n):a==="n"?(r.y+=n,r.height-=n):a==="ne"?(r.y+=n,r.width-=n,r.height-=n):a==="sw"?(r.x-=n,r.width+=n,r.height+=n):a==="s"?r.height+=n:a==="se"&&(r.width+=n,r.height+=n)),r}const Af={capture:!0,passive:!1};let a1e=0;const od=class Rc extends v.PureComponent{constructor(){super(...arguments),Lr(this,"docMoveBound",!1),Lr(this,"mouseDownOnCrop",!1),Lr(this,"dragStarted",!1),Lr(this,"evData",{startClientX:0,startClientY:0,startCropX:0,startCropY:0,clientX:0,clientY:0,isResize:!0}),Lr(this,"componentRef",v.createRef()),Lr(this,"mediaRef",v.createRef()),Lr(this,"resizeObserver"),Lr(this,"initChangeCalled",!1),Lr(this,"instanceId",`rc-${a1e++}`),Lr(this,"state",{cropIsActive:!1,newCropIsBeingDrawn:!1}),Lr(this,"onCropPointerDown",t=>{const{crop:n,disabled:a}=this.props,r=this.getBox();if(!n)return;const i=ed(n,r.width,r.height);if(a)return;t.cancelable&&t.preventDefault(),this.bindDocMove(),this.componentRef.current.focus({preventScroll:!0});const o=t.target.dataset.ord,c=!!o;let l=t.clientX,d=t.clientY,f=i.x,g=i.y;if(o){const b=t.clientX-r.x,w=t.clientY-r.y;let S=0,j=0;o==="ne"||o=="e"?(S=b-(i.x+i.width),j=w-i.y,f=i.x,g=i.y+i.height):o==="se"||o==="s"?(S=b-(i.x+i.width),j=w-(i.y+i.height),f=i.x,g=i.y):o==="sw"||o=="w"?(S=b-i.x,j=w-(i.y+i.height),f=i.x+i.width,g=i.y):(o==="nw"||o=="n")&&(S=b-i.x,j=w-i.y,f=i.x+i.width,g=i.y+i.height),l=f+r.x+S,d=g+r.y+j}this.evData={startClientX:l,startClientY:d,startCropX:f,startCropY:g,clientX:t.clientX,clientY:t.clientY,isResize:c,ord:o},this.mouseDownOnCrop=!0,this.setState({cropIsActive:!0})}),Lr(this,"onComponentPointerDown",t=>{const{crop:n,disabled:a,locked:r,keepSelection:i,onChange:o}=this.props,c=this.getBox();if(a||r||i&&n)return;t.cancelable&&t.preventDefault(),this.bindDocMove(),this.componentRef.current.focus({preventScroll:!0});const l=t.clientX-c.x,d=t.clientY-c.y,f={unit:"px",x:l,y:d,width:0,height:0};this.evData={startClientX:t.clientX,startClientY:t.clientY,startCropX:l,startCropY:d,clientX:t.clientX,clientY:t.clientY,isResize:!0},this.mouseDownOnCrop=!0,o(ed(f,c.width,c.height),Tf(f,c.width,c.height)),this.setState({cropIsActive:!0,newCropIsBeingDrawn:!0})}),Lr(this,"onDocPointerMove",t=>{const{crop:n,disabled:a,onChange:r,onDragStart:i}=this.props,o=this.getBox();if(a||!n||!this.mouseDownOnCrop)return;t.cancelable&&t.preventDefault(),this.dragStarted||(this.dragStarted=!0,i&&i(t));const{evData:c}=this;c.clientX=t.clientX,c.clientY=t.clientY;let l;c.isResize?l=this.resizeCrop():l=this.dragCrop(),YI(n,l)||r(ed(l,o.width,o.height),Tf(l,o.width,o.height))}),Lr(this,"onComponentKeyDown",t=>{const{crop:n,disabled:a,onChange:r,onComplete:i}=this.props;if(a)return;const o=t.key;let c=!1;if(!n)return;const l=this.getBox(),d=this.makePixelCrop(l),f=(navigator.platform.match("Mac")?t.metaKey:t.ctrlKey)?Rc.nudgeStepLarge:t.shiftKey?Rc.nudgeStepMedium:Rc.nudgeStep;if(o==="ArrowLeft"?(d.x-=f,c=!0):o==="ArrowRight"?(d.x+=f,c=!0):o==="ArrowUp"?(d.y-=f,c=!0):o==="ArrowDown"&&(d.y+=f,c=!0),c){t.cancelable&&t.preventDefault(),d.x=Df(d.x,0,l.width-d.width),d.y=Df(d.y,0,l.height-d.height);const g=ed(d,l.width,l.height),b=Tf(d,l.width,l.height);r(g,b),i&&i(g,b)}}),Lr(this,"onHandlerKeyDown",(t,n)=>{const{aspect:a=0,crop:r,disabled:i,minWidth:o=0,minHeight:c=0,maxWidth:l,maxHeight:d,onChange:f,onComplete:g}=this.props,b=this.getBox();if(i||!r)return;if(t.key==="ArrowUp"||t.key==="ArrowDown"||t.key==="ArrowLeft"||t.key==="ArrowRight")t.stopPropagation(),t.preventDefault();else return;const w=(navigator.platform.match("Mac")?t.metaKey:t.ctrlKey)?Rc.nudgeStepLarge:t.shiftKey?Rc.nudgeStepMedium:Rc.nudgeStep,S=ed(r,b.width,b.height),j=s1e(S,t.key,w,n),N=GI(j,a,n,b.width,b.height,o,c,l,d);if(!YI(r,N)){const I=Tf(N,b.width,b.height);f(N,I),g&&g(N,I)}}),Lr(this,"onDocPointerDone",t=>{const{crop:n,disabled:a,onComplete:r,onDragEnd:i}=this.props,o=this.getBox();this.unbindDocMove(),!(a||!n)&&this.mouseDownOnCrop&&(this.mouseDownOnCrop=!1,this.dragStarted=!1,i&&i(t),r&&r(ed(n,o.width,o.height),Tf(n,o.width,o.height)),this.setState({cropIsActive:!1,newCropIsBeingDrawn:!1}))}),Lr(this,"onDragFocus",()=>{var t;(t=this.componentRef.current)==null||t.scrollTo(0,0)})}get document(){return document}getBox(){const t=this.mediaRef.current;if(!t)return{x:0,y:0,width:0,height:0};const{x:n,y:a,width:r,height:i}=t.getBoundingClientRect();return{x:n,y:a,width:r,height:i}}componentDidUpdate(t){const{crop:n,onComplete:a}=this.props;if(a&&!t.crop&&n){const{width:r,height:i}=this.getBox();r&&i&&a(ed(n,r,i),Tf(n,r,i))}}componentWillUnmount(){this.resizeObserver&&this.resizeObserver.disconnect(),this.unbindDocMove()}bindDocMove(){this.docMoveBound||(this.document.addEventListener("pointermove",this.onDocPointerMove,Af),this.document.addEventListener("pointerup",this.onDocPointerDone,Af),this.document.addEventListener("pointercancel",this.onDocPointerDone,Af),this.docMoveBound=!0)}unbindDocMove(){this.docMoveBound&&(this.document.removeEventListener("pointermove",this.onDocPointerMove,Af),this.document.removeEventListener("pointerup",this.onDocPointerDone,Af),this.document.removeEventListener("pointercancel",this.onDocPointerDone,Af),this.docMoveBound=!1)}getCropStyle(){const{crop:t}=this.props;if(t)return{top:`${t.y}${t.unit}`,left:`${t.x}${t.unit}`,width:`${t.width}${t.unit}`,height:`${t.height}${t.unit}`}}dragCrop(){const{evData:t}=this,n=this.getBox(),a=this.makePixelCrop(n),r=t.clientX-t.startClientX,i=t.clientY-t.startClientY;return a.x=Df(t.startCropX+r,0,n.width-a.width),a.y=Df(t.startCropY+i,0,n.height-a.height),a}getPointRegion(t,n,a,r){const{evData:i}=this,o=i.clientX-t.x,c=i.clientY-t.y;let l;r&&n?l=n==="nw"||n==="n"||n==="ne":l=c<i.startCropY;let d;return a&&n?d=n==="nw"||n==="w"||n==="sw":d=o<i.startCropX,d?l?"nw":"sw":l?"ne":"se"}resolveMinDimensions(t,n,a=0,r=0){const i=Math.min(a,t.width),o=Math.min(r,t.height);return!n||!i&&!o?[i,o]:n>1?i?[i,i/n]:[o*n,o]:o?[o*n,o]:[i,i/n]}resizeCrop(){const{evData:t}=this,{aspect:n=0,maxWidth:a,maxHeight:r}=this.props,i=this.getBox(),[o,c]=this.resolveMinDimensions(i,n,this.props.minWidth,this.props.minHeight);let l=this.makePixelCrop(i);const d=this.getPointRegion(i,t.ord,o,c),f=t.ord||d;let g=t.clientX-t.startClientX,b=t.clientY-t.startClientY;(o&&f==="nw"||f==="w"||f==="sw")&&(g=Math.min(g,-o)),(c&&f==="nw"||f==="n"||f==="ne")&&(b=Math.min(b,-c));const w={unit:"px",x:0,y:0,width:0,height:0};d==="ne"?(w.x=t.startCropX,w.width=g,n?(w.height=w.width/n,w.y=t.startCropY-w.height):(w.height=Math.abs(b),w.y=t.startCropY-w.height)):d==="se"?(w.x=t.startCropX,w.y=t.startCropY,w.width=g,n?w.height=w.width/n:w.height=b):d==="sw"?(w.x=t.startCropX+g,w.y=t.startCropY,w.width=Math.abs(g),n?w.height=w.width/n:w.height=b):d==="nw"&&(w.x=t.startCropX+g,w.width=Math.abs(g),n?(w.height=w.width/n,w.y=t.startCropY-w.height):(w.height=Math.abs(b),w.y=t.startCropY+b));const S=GI(w,n,d,i.width,i.height,o,c,a,r);return n||Rc.xyOrds.indexOf(f)>-1?l=S:Rc.xOrds.indexOf(f)>-1?(l.x=S.x,l.width=S.width):Rc.yOrds.indexOf(f)>-1&&(l.y=S.y,l.height=S.height),l.x=Df(l.x,0,i.width-l.width),l.y=Df(l.y,0,i.height-l.height),l}renderCropSelection(){const{ariaLabels:t=Rc.defaultProps.ariaLabels,disabled:n,locked:a,renderSelectionAddon:r,ruleOfThirds:i,crop:o}=this.props,c=this.getCropStyle();if(o)return Je.createElement("div",{style:c,className:"ReactCrop__crop-selection",onPointerDown:this.onCropPointerDown,"aria-label":t.cropArea,tabIndex:0,onKeyDown:this.onComponentKeyDown,role:"group"},!n&&!a&&Je.createElement("div",{className:"ReactCrop__drag-elements",onFocus:this.onDragFocus},Je.createElement("div",{className:"ReactCrop__drag-bar ord-n","data-ord":"n"}),Je.createElement("div",{className:"ReactCrop__drag-bar ord-e","data-ord":"e"}),Je.createElement("div",{className:"ReactCrop__drag-bar ord-s","data-ord":"s"}),Je.createElement("div",{className:"ReactCrop__drag-bar ord-w","data-ord":"w"}),Je.createElement("div",{className:"ReactCrop__drag-handle ord-nw","data-ord":"nw",tabIndex:0,"aria-label":t.nwDragHandle,onKeyDown:l=>this.onHandlerKeyDown(l,"nw"),role:"button"}),Je.createElement("div",{className:"ReactCrop__drag-handle ord-n","data-ord":"n",tabIndex:0,"aria-label":t.nDragHandle,onKeyDown:l=>this.onHandlerKeyDown(l,"n"),role:"button"}),Je.createElement("div",{className:"ReactCrop__drag-handle ord-ne","data-ord":"ne",tabIndex:0,"aria-label":t.neDragHandle,onKeyDown:l=>this.onHandlerKeyDown(l,"ne"),role:"button"}),Je.createElement("div",{className:"ReactCrop__drag-handle ord-e","data-ord":"e",tabIndex:0,"aria-label":t.eDragHandle,onKeyDown:l=>this.onHandlerKeyDown(l,"e"),role:"button"}),Je.createElement("div",{className:"ReactCrop__drag-handle ord-se","data-ord":"se",tabIndex:0,"aria-label":t.seDragHandle,onKeyDown:l=>this.onHandlerKeyDown(l,"se"),role:"button"}),Je.createElement("div",{className:"ReactCrop__drag-handle ord-s","data-ord":"s",tabIndex:0,"aria-label":t.sDragHandle,onKeyDown:l=>this.onHandlerKeyDown(l,"s"),role:"button"}),Je.createElement("div",{className:"ReactCrop__drag-handle ord-sw","data-ord":"sw",tabIndex:0,"aria-label":t.swDragHandle,onKeyDown:l=>this.onHandlerKeyDown(l,"sw"),role:"button"}),Je.createElement("div",{className:"ReactCrop__drag-handle ord-w","data-ord":"w",tabIndex:0,"aria-label":t.wDragHandle,onKeyDown:l=>this.onHandlerKeyDown(l,"w"),role:"button"})),r&&Je.createElement("div",{className:"ReactCrop__selection-addon",onPointerDown:l=>l.stopPropagation()},r(this.state)),i&&Je.createElement(Je.Fragment,null,Je.createElement("div",{className:"ReactCrop__rule-of-thirds-hz"}),Je.createElement("div",{className:"ReactCrop__rule-of-thirds-vt"})))}makePixelCrop(t){const n={...Rx,...this.props.crop||{}};return ed(n,t.width,t.height)}render(){const{aspect:t,children:n,circularCrop:a,className:r,crop:i,disabled:o,locked:c,style:l,ruleOfThirds:d}=this.props,{cropIsActive:f,newCropIsBeingDrawn:g}=this.state,b=i?this.renderCropSelection():null,w=n1e("ReactCrop",r,f&&"ReactCrop--active",o&&"ReactCrop--disabled",c&&"ReactCrop--locked",g&&"ReactCrop--new-crop",i&&t&&"ReactCrop--fixed-aspect",i&&a&&"ReactCrop--circular-crop",i&&d&&"ReactCrop--rule-of-thirds",!this.dragStarted&&i&&!i.width&&!i.height&&"ReactCrop--invisible-crop",a&&"ReactCrop--no-animate");return Je.createElement("div",{ref:this.componentRef,className:w,style:l},Je.createElement("div",{ref:this.mediaRef,className:"ReactCrop__child-wrapper",onPointerDown:this.onComponentPointerDown},n),i?Je.createElement("svg",{className:"ReactCrop__crop-mask",width:"100%",height:"100%"},Je.createElement("defs",null,Je.createElement("mask",{id:`hole-${this.instanceId}`},Je.createElement("rect",{width:"100%",height:"100%",fill:"white"}),a?Je.createElement("ellipse",{cx:`${i.x+i.width/2}${i.unit}`,cy:`${i.y+i.height/2}${i.unit}`,rx:`${i.width/2}${i.unit}`,ry:`${i.height/2}${i.unit}`,fill:"black"}):Je.createElement("rect",{x:`${i.x}${i.unit}`,y:`${i.y}${i.unit}`,width:`${i.width}${i.unit}`,height:`${i.height}${i.unit}`,fill:"black"}))),Je.createElement("rect",{fill:"black",fillOpacity:.5,width:"100%",height:"100%",mask:`url(#hole-${this.instanceId})`})):void 0,b)}};Lr(od,"xOrds",["e","w"]),Lr(od,"yOrds",["n","s"]),Lr(od,"xyOrds",["nw","ne","se","sw"]),Lr(od,"nudgeStep",1),Lr(od,"nudgeStepMedium",10),Lr(od,"nudgeStepLarge",100),Lr(od,"defaultProps",{ariaLabels:{cropArea:"Use the arrow keys to move the crop selection area",nwDragHandle:"Use the arrow keys to move the north west drag handle to change the crop selection area",nDragHandle:"Use the up and down arrow keys to move the north drag handle to change the crop selection area",neDragHandle:"Use the arrow keys to move the north east drag handle to change the crop selection area",eDragHandle:"Use the up and down arrow keys to move the east drag handle to change the crop selection area",seDragHandle:"Use the arrow keys to move the south east drag handle to change the crop selection area",sDragHandle:"Use the up and down arrow keys to move the south drag handle to change the crop selection area",swDragHandle:"Use the arrow keys to move the south west drag handle to change the crop selection area",wDragHandle:"Use the up and down arrow keys to move the west drag handle to change the crop selection area"}});let r1e=od;const i1e="_cropModalContent_1yqdy_29",o1e="_cropperHeader_1yqdy_51",c1e="_cropperContainer_1yqdy_73",l1e="_cropperActions_1yqdy_89",u1e="_processingIndicator_1yqdy_303",a1={cropModalContent:i1e,cropperHeader:o1e,cropperContainer:c1e,cropperActions:l1e,processingIndicator:u1e},Km=({files:e,currentIndex:t,onCropComplete:n,onCancel:a,onNext:r,onPrevious:i})=>{const[o,c]=v.useState(),[l,d]=v.useState(null),[f,g]=v.useState(!1),b=v.useRef(null),[w,S]=v.useState(null);v.useEffect(()=>{c(void 0),d(null),b.current=null},[t]),v.useEffect(()=>{const P=URL.createObjectURL(e[t]);return S(P),()=>{URL.revokeObjectURL(P)}},[e,t]);const j=v.useCallback(P=>{const O=P.target;b.current=O;const R=5/7,{width:$,height:U}=O;let F,H;$/U>R?(H=U,F=H*R):(F=$,H=F/R),c({unit:"px",x:($-F)/2,y:(U-H)/2,width:F,height:H,aspect:R}),d(null)},[]),N=async()=>{if(!b.current||!l)return null;const P=document.createElement("canvas"),O=b.current.naturalWidth/b.current.width,R=b.current.naturalHeight/b.current.height;P.width=Math.floor(l.width),P.height=Math.floor(l.height);const $=P.getContext("2d");return $.imageSmoothingQuality="high",$.drawImage(b.current,l.x*O,l.y*R,l.width*O,l.height*R,0,0,P.width,P.height),new Promise(U=>{P.toBlob(F=>U(F),e[t].type||"image/jpeg",.95)})},I=async()=>{if(!(!l||f)){g(!0);try{const P=await N();if(!P)throw new Error("Blob creation failed");const O=new File([P],e[t].name,{type:P.type,lastModified:Date.now()});await n(O,t)}catch(P){console.error(" :",P)}finally{g(!1)}}},M=async()=>{await I(),r()},B=async()=>{await I(),a()};return s.jsxs("div",{className:a1.cropModalContent,children:[s.jsxs("div",{className:a1.cropperHeader,children:[s.jsxs("h4",{children:["  (",t+1,"/",e.length,")"]}),f&&s.jsx("div",{className:a1.processingIndicator,children:"..."})]}),s.jsx("div",{className:a1.cropperContainer,children:s.jsx(r1e,{crop:o,onChange:c,onComplete:d,aspect:5/7,ruleOfThirds:!0,children:w&&s.jsx("img",{src:w,alt:`Crop ${t+1}`,onLoad:j,onError:P=>console.error("  ",P),style:{maxWidth:"100%",maxHeight:"60vh"}})})}),s.jsxs("div",{className:a1.cropperActions,children:[s.jsx("button",{onClick:a,disabled:f,children:""}),t>0&&s.jsx("button",{onClick:i,disabled:f,children:""}),t<e.length-1?s.jsx("button",{onClick:M,disabled:f,children:""}):s.jsx("button",{onClick:B,disabled:f,children:""})]})]})},d1e=()=>{const{business_slug:e,product_id:t}=fa(),n=Rs(),[a,r]=v.useState(""),[i,o]=v.useState(""),[c,l]=v.useState(""),[d,f]=v.useState(""),[g,b]=v.useState(""),[w,S]=v.useState(!0),[j,N]=v.useState(!1),[I,M]=v.useState(!1),[B,P]=v.useState([]),[O,R]=v.useState(!1),[$,U]=v.useState(null),[F,H]=v.useState(!0),[ne,X]=v.useState(null),[te,se]=v.useState([]),[V,q]=v.useState(!0),[T,J]=v.useState([]),[Z,A]=v.useState([]),Y=v.useRef(null),[K,G]=v.useState({files:[],currentIndex:0,croppedImages:[]}),[oe,ee]=v.useState(!1),[ae,ie]=v.useState([]),[ue,he]=v.useState(1),[ge,ye]=v.useState({}),[je,Ie]=v.useState(!1);v.useEffect(()=>{t&&(async()=>{var le,Ae,be;try{H(!0);const st=(await Re.get(`/api/business/${e}/products/${t}/`)).data;r(st.name),o(st.description),l(st.category),f(st.category_name),b(((le=st.unit_of_measure)==null?void 0:le.id)||""),S(st.is_active),N(st.is_visible_on_marketplace),M(st.is_visible_on_own_site);try{const pn=await Re.get("/api/units-of-measure/");se(pn.data),q(!1)}catch(pn){console.error("    :",pn),q(!1)}J(st.images.map(pn=>({id:pn.id,preview:pn.image,isMain:pn.is_main,isExisting:!0})));const Mt=(await Re.get(`/api/categories/${st.category}/attributes/`)).data.map(pn=>({...pn,values:pn.values||[],has_predefined_values:pn.has_predefined_values||!1}));if(P(Mt),st.variants&&st.variants.length>0){const pn=st.variants.map((Gn,bt)=>{const ln={},fn={};return Gn.attributes.forEach(wn=>{const ut=String(wn.category_attribute);fn[ut]={id:wn.id,value:wn.predefined_value?String(wn.predefined_value):wn.custom_value},ln[ut]=wn.predefined_value?String(wn.predefined_value):wn.custom_value}),{id:bt+1,existing_id:Gn.id,attributes:ln,attributesWithIds:fn,barcode:Gn.barcode||"",is_barcode_auto_generated:Gn.is_barcode_auto_generated||!1,generateBarcode:!1}});ie(pn),he(pn.length+1)}H(!1)}catch(We){X(We.message),H(!1),console.error("    :",We),alert("   : "+(((be=(Ae=We.response)==null?void 0:Ae.data)==null?void 0:be.detail)||We.message))}})()},[e,t]);const me=()=>{const Xe={id:ue,attributes:B.reduce((le,Ae)=>(le[String(Ae.id)]=Ae.values.length>0?Ae.values[0].id?String(Ae.values[0].id):String(Ae.values[0]):"",le),{}),barcode:"",generateBarcode:!1};ie([...ae,Xe]),he(ue+1)},de=(Xe,le,Ae,be=null)=>{ie(ae.map(We=>We.id===Xe?le==="barcode"?{...We,[le]:Ae,generateBarcode:!1}:be!==null?{...We,attributes:{...We.attributes,[String(be)]:typeof Ae=="number"?String(Ae):Ae}}:{...We,[le]:Ae}:We))},fe=(Xe,le)=>{ie(ae.map(Ae=>Ae.id===Xe?{...Ae,generateBarcode:le,barcode:le?"":Ae.barcode}:Ae))},re=()=>{if(ae.length===0)return;const Xe=ae[ae.length-1],le={};Object.entries(Xe.attributes||{}).forEach(([be,We])=>{le[String(be)]=typeof We=="number"?String(We):We});const Ae={id:ue,attributes:le};ie([...ae,Ae]),he(ue+1)},xe=Xe=>{ie(ae.filter(le=>le.id!==Xe))},Se=()=>{Y.current.click()},pe=Xe=>{const le=Xe.target.files;le.length>0&&(G({files:Array.from(le),currentIndex:0,croppedImages:[]}),ee(!0),document.body.classList.add(Ln.bodyNoScroll)),Xe.target.value=""},Ee=(Xe,le)=>{const Ae={id:Date.now()+le,file:Xe,preview:URL.createObjectURL(Xe),isMain:T.length===0&&le===0};J(be=>[...be,Ae]),le===K.files.length-1&&(ee(!1),document.body.classList.remove(Ln.bodyNoScroll),G({files:[],currentIndex:0,croppedImages:[]}))},Le=()=>{G(Xe=>({...Xe,currentIndex:Xe.currentIndex+1}))},Ue=()=>{ee(!1),document.body.classList.remove(Ln.bodyNoScroll),G({files:[],currentIndex:0,croppedImages:[]})},Ne=()=>{G(Xe=>({...Xe,currentIndex:Xe.currentIndex-1}))},et=Xe=>{J(le=>{const Ae=le.find(Mt=>Mt.isMain);if((Ae==null?void 0:Ae.id)===Xe)return le;const be=[...le],We=be.findIndex(Mt=>Mt.id===Xe);if(We===-1)return le;const st=be.map(Mt=>({...Mt,isMain:Mt.id===Xe})),[ct]=st.splice(We,1);return[ct,...st]})},dt=Xe=>{J(le=>{const Ae=le.find(We=>We.id===Xe);if(Ae!=null&&Ae.isMain&&le.length>1&&!window.confirm("   . ?")||!Ae)return le;Ae.isExisting&&A(We=>[...We,Ae.id]);const be=le.filter(We=>We.id!==Xe);return Ae.isMain&&be.length>0&&(be[0].isMain=!0),be})},_e=Xe=>{J(Xe)},tt=()=>{if(!a.trim())return{valid:!1,message:"  ."};if(!c)return{valid:!1,message:"   ."};if(!i.trim())return{valid:!1,message:"  ."};if(T.length===0)return{valid:!1,message:"    ."};if(!T.some(Xe=>Xe.isMain))return{valid:!1,message:"  ."};if(ae.length===0)return{valid:!1,message:"     ."};for(let[Xe,le]of ae.entries())for(let Ae of B)if(Ae.required){const be=le.attributes[Ae.id];if(be==null||be==="")return{valid:!1,message:` ${Xe+1}:    "${Ae.name}".`}}return{valid:!0,message:""}},Fe=()=>{const Xe=new FormData,le={name:a,description:i,category:c,unit_of_measure:g||null,is_active:w,is_visible_on_marketplace:j,is_visible_on_own_site:I,images_to_delete:Z,variants:ae.map(Ae=>({id:Ae.existing_id,barcode:Ae.generateBarcode?"":Ae.barcode||"",generate_barcode:Ae.generateBarcode||!1,attributes:Object.entries(Ae.attributes||{}).map(([be,We])=>{var Mt,pn;const st=B.find(Gn=>String(Gn.id)===String(be)),ct=st==null?void 0:st.has_predefined_values;return{id:(pn=(Mt=Ae.attributesWithIds)==null?void 0:Mt[be])==null?void 0:pn.id,category_attribute:Number(be),predefined_value:ct?Number(We):null,custom_value:ct?"":String(We)}})}))};return Xe.append("data",JSON.stringify(le)),T.forEach((Ae,be)=>{!Ae.isExisting&&Ae.file&&(Xe.append(`images[${be}][image]`,Ae.file),Xe.append(`images[${be}][is_main]`,Ae.isMain?"true":"false"),Xe.append(`images[${be}][display_order]`,String(be)))}),T.forEach((Ae,be)=>{Ae.isExisting&&(Xe.append(`existing_images[${be}][id]`,String(Ae.id)),Xe.append(`existing_images[${be}][is_main]`,Ae.isMain?"true":"false"),Xe.append(`existing_images[${be}][display_order]`,String(be)))}),Xe},It=async Xe=>{var Ae,be,We;if(Xe.preventDefault(),je)return;const le=tt();if(!le.valid){alert(le.message);return}Ie(!0);try{const st=Fe(),ct=await Re.post(`/api/business/${e}/products/${t}/edit`,st,{headers:{"Content-Type":"multipart/form-data"}});console.log("  :",ct.data),alert("  "),n(`/business/${e}/products/`)}catch(st){console.error("   :",((Ae=st.response)==null?void 0:Ae.data)||st.message),alert("   : "+(((We=(be=st.response)==null?void 0:be.data)==null?void 0:We.detail)||st.message)),Ie(!1)}};return F?s.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh"},children:s.jsx(Wn,{size:"large"})}):ne?s.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh",flexDirection:"column"},children:[s.jsx("h2",{children:"  "}),s.jsx("p",{children:ne}),s.jsx("button",{onClick:()=>n(`/business/${e}/products/`),children:"   "})]}):s.jsx(Yb,{backend:Qb,children:s.jsxs("div",{className:Ln.container,children:[K.files.length>0&&s.jsx("div",{className:Ln.cropModal,children:s.jsx(Km,{files:K.files,currentIndex:K.currentIndex,onCropComplete:Ee,onCancel:Ue,onNext:Le,onPrevious:Ne})}),s.jsxs("div",{className:Ln.content,children:[s.jsxs("h2",{className:Ln.pageTitle,children:[s.jsx(E3,{className:Ln.titleIcon}),"  "]}),s.jsxs("form",{onSubmit:It,className:Ln.productForm,children:[s.jsxs("div",{className:Ln.sectionCard,children:[s.jsx("div",{className:Ln.sectionHeader,children:s.jsxs("h5",{children:[s.jsx(Bb,{className:Ln.sectionIcon}),"  "]})}),s.jsxs("div",{className:Ln.sectionBody,children:[s.jsxs("div",{className:Ln.uploadRow,children:[s.jsx("div",{className:Ln.uploadColumn,children:s.jsxs("div",{className:Ln.uploadArea,onClick:Se,onDragOver:Xe=>Xe.preventDefault(),onDrop:Xe=>{Xe.preventDefault(),pe({target:{files:Xe.dataTransfer.files}})},children:[s.jsx("div",{className:Ln.uploadIcon,children:s.jsx(Ab,{})}),s.jsx("h5",{children:"  "}),s.jsx("p",{className:Ln.uploadHint,children:"    "}),s.jsx("input",{type:"file",ref:Y,multiple:!0,accept:"image/*",onChange:pe,className:Ln.fileInput})]})}),s.jsx("div",{className:Ln.infoColumn,children:s.jsxs("div",{className:Ln.infoAlert,children:[s.jsxs("h6",{children:[s.jsx(ni,{className:Ln.infoIcon}),"   :"]}),s.jsxs("ul",{children:[s.jsx("li",{children:"  "}),s.jsx("li",{children:"   "}),s.jsx("li",{children:" 3    "}),s.jsx("li",{children:" JPG  PNG"})]})]})})]}),s.jsxs("div",{className:Ln.thumbnailsSection,children:[s.jsxs("h6",{className:Ln.thumbnailsTitle,children:["  (",T.length,"):"]}),s.jsx(Gb,{images:T,onImagesReorder:_e,onSetMainImage:et,onRemoveImage:dt})]})]})]}),s.jsxs("div",{className:Ln.sectionCard,children:[s.jsx("div",{className:Ln.sectionHeader,children:s.jsxs("h5",{children:[s.jsx(ni,{className:Ln.sectionIcon}),"  "]})}),s.jsxs("div",{className:Ln.sectionBody,children:[s.jsxs("div",{className:Ln.formRow,children:[s.jsxs("div",{className:Ln.formGroup,children:[s.jsx("label",{htmlFor:"product-name",className:Ln.formLabel,children:"  *"}),s.jsx("input",{type:"text",id:"product-name",className:Ln.formControl,value:a,onChange:Xe=>r(Xe.target.value),required:!0})]}),s.jsxs("div",{className:Ln.formGroup,children:[s.jsx("label",{htmlFor:"product-category",className:Ln.formLabel,children:" * ( )"}),s.jsx("input",{type:"text",id:"product-category",className:Ln.formControl,value:d,readOnly:!0,disabled:!0}),s.jsx("input",{type:"hidden",value:c})]}),s.jsxs("div",{className:Ln.formGroup,children:[s.jsx("label",{htmlFor:"product-unit",className:Ln.formLabel,children:" "}),s.jsxs("select",{id:"product-unit",className:Ln.formControl,value:g,onChange:Xe=>b(Xe.target.value),disabled:V,children:[s.jsx("option",{value:"",children:"  "}),te.map(Xe=>s.jsxs("option",{value:Xe.id,children:[Xe.name," (",Xe.short_name,")"]},Xe.id))]})]})]}),s.jsxs("div",{className:Ln.formGroup,children:[s.jsx("label",{htmlFor:"product-description",className:Ln.formLabel,children:"  *"}),s.jsx("textarea",{id:"product-description",className:Ln.formControl,rows:"5",value:i,onChange:Xe=>o(Xe.target.value),required:!0})]}),s.jsxs("div",{className:Ln.formRow,children:[s.jsxs("div",{className:Ln.checkboxGroup,children:[s.jsx("input",{type:"checkbox",id:"visible-on-marketplace",className:Ln.formCheckbox,checked:j,onChange:Xe=>N(Xe.target.checked)}),s.jsx("label",{htmlFor:"visible-on-marketplace",className:Ln.checkboxLabel,children:"  "})]}),s.jsxs("div",{className:Ln.checkboxGroup,children:[s.jsx("input",{type:"checkbox",id:"visible-on-own-site",className:Ln.formCheckbox,checked:I,onChange:Xe=>M(Xe.target.checked)}),s.jsx("label",{htmlFor:"visible-on-own-site",className:Ln.checkboxLabel,children:"   "})]}),s.jsxs("div",{className:Ln.checkboxGroup,children:[s.jsx("input",{type:"checkbox",id:"is-active",className:Ln.formCheckbox,checked:w,onChange:Xe=>S(Xe.target.checked)}),s.jsx("label",{htmlFor:"is-active",className:Ln.checkboxLabel,children:"  (  )"})]})]})]})]}),c&&s.jsxs("div",{className:Ln.sectionCard,children:[s.jsx("div",{className:Ln.sectionHeader,children:s.jsxs("h5",{children:[s.jsx(Lb,{className:Ln.sectionIcon}),"  "]})}),s.jsxs("div",{className:Ln.sectionBody,children:[s.jsx("div",{className:Ln.infoAlert,children:"      .         ."}),O?s.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"200px"},children:s.jsx(Wn,{size:"medium"})}):$?s.jsxs("div",{className:Ln.errorAlert,children:["  : ",$]}):s.jsx(s.Fragment,{children:s.jsxs("div",{className:Ln.tableWrapper,children:[s.jsx("div",{className:Ln.horizontalScroll,children:s.jsxs("table",{className:Ln.variantTable,children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{className:Ln.stickyColumn,children:""}),B.map(Xe=>s.jsxs("th",{children:[Xe.name,Xe.required&&s.jsx("span",{className:Ln.requiredStar,children:"*"})]},Xe.id)),s.jsx("th",{className:Ln.stickyColumn,children:"- ()"}),s.jsx("th",{className:Ln.stickyColumn,children:""})]})}),s.jsx("tbody",{children:ae.length===0?s.jsx("tr",{children:s.jsx("td",{colSpan:B.length+3,className:Ln.noVariants,children:' .  " "   .'})}):ae.map((Xe,le)=>s.jsxs("tr",{children:[s.jsx("td",{className:Ln.stickyColumn,children:le+1}),B.map(Ae=>s.jsx("td",{children:Ae.has_predefined_values?s.jsxs("select",{className:Ln.formSelect,value:Xe.attributes[Ae.id]||"",onChange:be=>de(Xe.id,null,be.target.value,Ae.id),required:Ae.required,children:[!Ae.required&&s.jsx("option",{value:"",children:" "}),Ae.values.map(be=>s.jsx("option",{value:String(be.id),children:be.value},be.id))]}):s.jsx("input",{type:"text",className:Ln.formControltd,value:Xe.attributes[Ae.id]||"",onChange:be=>de(Xe.id,null,be.target.value,Ae.id),placeholder:` ${Ae.name}`,required:Ae.required})},Ae.id)),s.jsx("td",{className:Ln.stickyColumn,children:s.jsxs("div",{className:Ln.barcodeCell,children:[s.jsx("div",{className:Ln.barcodeInputWrapper,children:s.jsx("input",{type:"text",className:Ln.formControltd,value:Xe.barcode||"",onChange:Ae=>de(Xe.id,"barcode",Ae.target.value),placeholder:Xe.generateBarcode?"  ":"EAN-13 (13 )",maxLength:13,pattern:"[0-9]{13}",title:Xe.is_barcode_auto_generated?"-       ":" 13- EAN-13 -",disabled:Xe.is_barcode_auto_generated||Xe.generateBarcode,readOnly:Xe.is_barcode_auto_generated})}),Xe.is_barcode_auto_generated?s.jsx("div",{className:Ln.autoGeneratedBadge,children:s.jsx("span",{children:" "})}):s.jsxs("label",{className:Ln.generateBarcodeLabel,children:[s.jsx("input",{type:"checkbox",checked:Xe.generateBarcode||!1,onChange:Ae=>fe(Xe.id,Ae.target.checked),className:Ln.generateBarcodeCheckbox}),s.jsx("span",{children:" "})]})]})}),s.jsx("td",{className:`${Ln.stickyColumn} ${Ln.variantActions}`,children:s.jsx("button",{type:"button",className:Ln.variantButton,onClick:()=>xe(Xe.id),title:" ",children:s.jsx(Cr,{})})})]},Xe.id))})]})}),s.jsx("div",{className:Ln.variantControls,children:s.jsxs("div",{children:[s.jsxs("button",{type:"button",className:Ln.variantAddButton,onClick:me,disabled:B.length===0,children:[s.jsx($a,{className:Ln.buttonIcon}),"  "]}),s.jsxs("button",{type:"button",className:Ln.variantCopyButton,onClick:re,disabled:ae.length===0,children:[s.jsx(Sd,{className:Ln.buttonIcon}),"  "]})]})})]})})]})]}),s.jsxs("div",{className:Ln.formActions,children:[s.jsxs("button",{type:"button",onClick:()=>n(`/business/${e}/products/`),className:Ln.cancelButton,children:[s.jsx(aa,{className:Ln.buttonIcon})," "]}),s.jsx("button",{type:"submit",className:Ln.submitButton,disabled:je,style:{opacity:je?.6:1,cursor:je?"not-allowed":"pointer"},children:je?s.jsxs(s.Fragment,{children:[s.jsx("span",{style:{marginRight:"8px"},children:""})," ..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Jo,{className:Ln.buttonIcon}),"  "]})})]})]})]})]})})},h1e="_container_od9og_3",f1e="_content_od9og_13",m1e="_pageTitle_od9og_17",p1e="_backButton_od9og_29",g1e="_title_od9og_52",_1e="_titleIcon_od9og_61",v1e="_productForm_od9og_67",x1e="_sectionCard_od9og_71",b1e="_sectionHeader_od9og_79",y1e="_sectionIcon_od9og_97",w1e="_sectionBody_od9og_103",C1e="_uploadRow_od9og_107",S1e="_uploadColumn_od9og_114",j1e="_infoColumn_od9og_120",N1e="_uploadArea_od9og_126",E1e="_uploadIcon_od9og_150",k1e="_uploadHint_od9og_162",I1e="_fileInput_od9og_168",D1e="_infoAlert_od9og_172",T1e="_infoIcon_od9og_189",A1e="_thumbnailsSection_od9og_206",M1e="_thumbnailsTitle_od9og_210",R1e="_formRow_od9og_217",O1e="_formGroup_od9og_224",B1e="_formLabel_od9og_230",L1e="_formControl_od9og_236",$1e="_checkboxGroup_od9og_277",P1e="_formCheckbox_od9og_287",F1e="_checkboxLabel_od9og_297",H1e="_errorAlert_od9og_306",z1e="_tableWrapper_od9og_316",V1e="_horizontalScroll_od9og_320",q1e="_variantTable_od9og_328",U1e="_stickyColumn_od9og_357",W1e="_formSelect_od9og_374",Y1e="_formControltd_od9og_375",G1e="_barcodeCell_od9og_403",Q1e="_barcodeInputWrapper_od9og_410",X1e="_generateBarcodeLabel_od9og_414",K1e="_generateBarcodeCheckbox_od9og_426",Z1e="_autoGeneratedBadge_od9og_436",J1e="_requiredStar_od9og_450",ege="_noVariants_od9og_455",tge="_variantActions_od9og_462",nge="_variantButton_od9og_468",sge="_variantControls_od9og_490",age="_variantAddButton_od9og_497",rge="_variantCopyButton_od9og_498",ige="_buttonIcon_od9og_531",oge="_formActions_od9og_535",cge="_cancelButton_od9og_548",lge="_submitButton_od9og_549",uge="_cropModal_od9og_595",Rn={container:h1e,content:f1e,pageTitle:m1e,backButton:p1e,title:g1e,titleIcon:_1e,productForm:v1e,sectionCard:x1e,sectionHeader:b1e,sectionIcon:y1e,sectionBody:w1e,uploadRow:C1e,uploadColumn:S1e,infoColumn:j1e,uploadArea:N1e,uploadIcon:E1e,uploadHint:k1e,fileInput:I1e,infoAlert:D1e,infoIcon:T1e,thumbnailsSection:A1e,thumbnailsTitle:M1e,formRow:R1e,formGroup:O1e,formLabel:B1e,formControl:L1e,checkboxGroup:$1e,formCheckbox:P1e,checkboxLabel:F1e,errorAlert:H1e,tableWrapper:z1e,horizontalScroll:V1e,variantTable:q1e,stickyColumn:U1e,formSelect:W1e,formControltd:Y1e,barcodeCell:G1e,barcodeInputWrapper:Q1e,generateBarcodeLabel:X1e,generateBarcodeCheckbox:K1e,autoGeneratedBadge:Z1e,requiredStar:J1e,noVariants:ege,variantActions:tge,variantButton:nge,variantControls:sge,variantAddButton:age,variantCopyButton:rge,buttonIcon:ige,formActions:oge,cancelButton:cge,submitButton:lge,cropModal:uge},dge=()=>{const{business_slug:e,product_id:t}=fa(),n=Rs(),[a,r]=v.useState(""),[i,o]=v.useState(""),[c,l]=v.useState(""),[d,f]=v.useState(""),[g,b]=v.useState(""),[w,S]=v.useState(!0),[j,N]=v.useState(!1),[I,M]=v.useState(!1),[B,P]=v.useState([]),[O,R]=v.useState(!1),[$,U]=v.useState(null),[F,H]=v.useState(!0),[ne,X]=v.useState(null),[te,se]=v.useState([]),[V,q]=v.useState(!0),[T,J]=v.useState([]),[Z,A]=v.useState([]),Y=v.useRef(null),[K,G]=v.useState({files:[],currentIndex:0,croppedImages:[]}),[oe,ee]=v.useState(!1),[ae,ie]=v.useState([]),[ue,he]=v.useState(1),[ge,ye]=v.useState(!1);v.useEffect(()=>{t&&(async()=>{var It,Xe,le;try{H(!0);const be=(await Re.get(`/api/business/${e}/products/${t}/`)).data;r(be.name),o(be.description),l(be.category),f(be.category_name),b(((It=be.unit_of_measure)==null?void 0:It.id)||""),S(be.is_active),N(be.is_visible_on_marketplace),M(be.is_visible_on_own_site);try{const ct=await Re.get("/api/units-of-measure/");se(ct.data),q(!1)}catch(ct){console.error("    :",ct),q(!1)}J(be.images.map(ct=>({id:ct.id,preview:ct.image,isMain:ct.is_main,isExisting:!0})));const st=(await Re.get(`/api/categories/${be.category}/attributes/`)).data.map(ct=>({...ct,values:ct.values||[],has_predefined_values:ct.has_predefined_values||!1}));if(P(st),be.variants&&be.variants.length>0){const ct=be.variants.map((Mt,pn)=>{const Gn={},bt={};return Mt.attributes.forEach(ln=>{const fn=String(ln.category_attribute);bt[fn]={id:ln.id,value:ln.predefined_value?String(ln.predefined_value):ln.custom_value},Gn[fn]=ln.predefined_value?String(ln.predefined_value):ln.custom_value}),{id:pn+1,existing_id:Mt.id,attributes:Gn,attributesWithIds:bt,barcode:Mt.barcode||"",is_barcode_auto_generated:Mt.is_barcode_auto_generated||!1,generateBarcode:!1}});ie(ct),he(ct.length+1)}H(!1)}catch(Ae){X(Ae.message),H(!1),console.error("    :",Ae),alert("   : "+(((le=(Xe=Ae.response)==null?void 0:Xe.data)==null?void 0:le.detail)||Ae.message))}})()},[e,t]);const je=()=>{const Fe={id:ue,attributes:B.reduce((It,Xe)=>(It[String(Xe.id)]=Xe.values.length>0?Xe.values[0].id?String(Xe.values[0].id):String(Xe.values[0]):"",It),{}),barcode:"",generateBarcode:!1};ie([...ae,Fe]),he(ue+1)},Ie=(Fe,It,Xe,le=null)=>{ie(ae.map(Ae=>Ae.id===Fe?It==="barcode"?{...Ae,[It]:Xe,generateBarcode:!1}:le!==null?{...Ae,attributes:{...Ae.attributes,[String(le)]:typeof Xe=="number"?String(Xe):Xe}}:{...Ae,[It]:Xe}:Ae))},me=(Fe,It)=>{ie(ae.map(Xe=>Xe.id===Fe?{...Xe,generateBarcode:It,barcode:It?"":Xe.barcode}:Xe))},de=()=>{if(ae.length===0)return;const Fe=ae[ae.length-1],It={};Object.entries(Fe.attributes||{}).forEach(([le,Ae])=>{It[String(le)]=typeof Ae=="number"?String(Ae):Ae});const Xe={id:ue,attributes:It};ie([...ae,Xe]),he(ue+1)},fe=Fe=>{ie(ae.filter(It=>It.id!==Fe))},re=()=>{Y.current.click()},xe=Fe=>{const It=Fe.target.files;It.length>0&&(G({files:Array.from(It),currentIndex:0,croppedImages:[]}),ee(!0),document.body.classList.add(Rn.bodyNoScroll)),Fe.target.value=""},Se=(Fe,It)=>{const Xe={id:Date.now()+It,file:Fe,preview:URL.createObjectURL(Fe),isMain:T.length===0&&It===0};J(le=>[...le,Xe]),It===K.files.length-1&&(ee(!1),document.body.classList.remove(Rn.bodyNoScroll),G({files:[],currentIndex:0,croppedImages:[]}))},pe=()=>{G(Fe=>({...Fe,currentIndex:Fe.currentIndex+1}))},Ee=()=>{ee(!1),document.body.classList.remove(Rn.bodyNoScroll),G({files:[],currentIndex:0,croppedImages:[]})},Le=()=>{G(Fe=>({...Fe,currentIndex:Fe.currentIndex-1}))},Ue=Fe=>{J(It=>{const Xe=It.find(st=>st.isMain);if((Xe==null?void 0:Xe.id)===Fe)return It;const le=[...It],Ae=le.findIndex(st=>st.id===Fe);if(Ae===-1)return It;const be=le.map(st=>({...st,isMain:st.id===Fe})),[We]=be.splice(Ae,1);return[We,...be]})},Ne=Fe=>{J(It=>{const Xe=It.find(Ae=>Ae.id===Fe);if(Xe!=null&&Xe.isMain&&It.length>1&&!window.confirm("   . ?")||!Xe)return It;Xe.isExisting&&A(Ae=>[...Ae,Xe.id]);const le=It.filter(Ae=>Ae.id!==Fe);return Xe.isMain&&le.length>0&&(le[0].isMain=!0),le})},et=Fe=>{J(Fe)},dt=()=>{if(!a.trim())return{valid:!1,message:"  ."};if(!c)return{valid:!1,message:"   ."};if(!i.trim())return{valid:!1,message:"  ."};if(T.length===0)return{valid:!1,message:"    ."};if(!T.some(Fe=>Fe.isMain))return{valid:!1,message:"  ."};if(ae.length===0)return{valid:!1,message:"     ."};for(let[Fe,It]of ae.entries())for(let Xe of B)if(Xe.required){const le=It.attributes[Xe.id];if(le==null||le==="")return{valid:!1,message:` ${Fe+1}:    "${Xe.name}".`}}return{valid:!0,message:""}},_e=()=>{const Fe=new FormData,It={name:a,description:i,category:c,unit_of_measure:g||null,is_active:w,is_visible_on_marketplace:j,is_visible_on_own_site:I,images_to_delete:Z,variants:ae.map(Xe=>({id:Xe.existing_id,barcode:Xe.generateBarcode?"":Xe.barcode||"",generate_barcode:Xe.generateBarcode||!1,attributes:Object.entries(Xe.attributes||{}).map(([le,Ae])=>{var st,ct;const be=B.find(Mt=>String(Mt.id)===String(le)),We=be==null?void 0:be.has_predefined_values;return{id:(ct=(st=Xe.attributesWithIds)==null?void 0:st[le])==null?void 0:ct.id,category_attribute:Number(le),predefined_value:We?Number(Ae):null,custom_value:We?"":String(Ae)}})}))};return Fe.append("data",JSON.stringify(It)),T.forEach((Xe,le)=>{!Xe.isExisting&&Xe.file&&(Fe.append(`images[${le}][image]`,Xe.file),Fe.append(`images[${le}][is_main]`,Xe.isMain?"true":"false"),Fe.append(`images[${le}][display_order]`,String(le)))}),T.forEach((Xe,le)=>{Xe.isExisting&&(Fe.append(`existing_images[${le}][id]`,String(Xe.id)),Fe.append(`existing_images[${le}][is_main]`,Xe.isMain?"true":"false"),Fe.append(`existing_images[${le}][display_order]`,String(le)))}),Fe},tt=async Fe=>{var Xe,le,Ae;if(Fe.preventDefault(),ge)return;const It=dt();if(!It.valid){alert(It.message);return}ye(!0);try{const be=_e(),We=await Re.post(`/api/business/${e}/products/${t}/edit`,be,{headers:{"Content-Type":"multipart/form-data"}});console.log("  :",We.data),alert("  "),n(`/business/${e}/products/`)}catch(be){console.error("   :",((Xe=be.response)==null?void 0:Xe.data)||be.message),alert("   : "+(((Ae=(le=be.response)==null?void 0:le.data)==null?void 0:Ae.detail)||be.message)),ye(!1)}};return F?s.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh"},children:s.jsx(Wn,{size:"large"})}):ne?s.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh",flexDirection:"column"},children:[s.jsx("h2",{children:"  "}),s.jsx("p",{children:ne}),s.jsx("button",{onClick:()=>n(`/business/${e}/products/`),children:"   "})]}):s.jsx(Yb,{backend:Qb,children:s.jsxs("div",{className:Rn.container,children:[K.files.length>0&&s.jsx("div",{className:Rn.cropModal,children:s.jsx(Km,{files:K.files,currentIndex:K.currentIndex,onCropComplete:Se,onCancel:Ee,onNext:pe,onPrevious:Le})}),s.jsxs("div",{className:Rn.content,children:[s.jsxs("div",{className:Rn.pageTitle,children:[s.jsx("button",{className:Rn.backButton,onClick:()=>n(`/business/${e}/products/${t}`),children:" "}),s.jsxs("h2",{className:Rn.title,children:[s.jsx(E3,{className:Rn.titleIcon}),"  "]})]}),s.jsxs("form",{onSubmit:tt,className:Rn.productForm,children:[s.jsxs("div",{className:Rn.sectionCard,children:[s.jsx("div",{className:Rn.sectionHeader,children:s.jsxs("h5",{children:[s.jsx(Bb,{className:Rn.sectionIcon}),"  "]})}),s.jsxs("div",{className:Rn.sectionBody,children:[s.jsxs("div",{className:Rn.uploadRow,children:[s.jsx("div",{className:Rn.uploadColumn,children:s.jsxs("div",{className:Rn.uploadArea,onClick:re,onDragOver:Fe=>Fe.preventDefault(),onDrop:Fe=>{Fe.preventDefault(),xe({target:{files:Fe.dataTransfer.files}})},children:[s.jsx("div",{className:Rn.uploadIcon,children:s.jsx(Ab,{})}),s.jsx("h5",{children:"  "}),s.jsx("p",{className:Rn.uploadHint,children:"    "}),s.jsx("input",{type:"file",ref:Y,multiple:!0,accept:"image/*",onChange:xe,className:Rn.fileInput})]})}),s.jsx("div",{className:Rn.infoColumn,children:s.jsxs("div",{className:Rn.infoAlert,children:[s.jsxs("h6",{children:[s.jsx(ni,{className:Rn.infoIcon}),"   :"]}),s.jsxs("ul",{children:[s.jsx("li",{children:"  "}),s.jsx("li",{children:"   "}),s.jsx("li",{children:" 3    "}),s.jsx("li",{children:" JPG  PNG"})]})]})})]}),s.jsxs("div",{className:Rn.thumbnailsSection,children:[s.jsxs("h6",{className:Rn.thumbnailsTitle,children:["  (",T.length,"):"]}),s.jsx(Gb,{images:T,onImagesReorder:et,onSetMainImage:Ue,onRemoveImage:Ne})]})]})]}),s.jsxs("div",{className:Rn.sectionCard,children:[s.jsx("div",{className:Rn.sectionHeader,children:s.jsxs("h5",{children:[s.jsx(ni,{className:Rn.sectionIcon}),"  "]})}),s.jsxs("div",{className:Rn.sectionBody,children:[s.jsxs("div",{className:Rn.formRow,children:[s.jsxs("div",{className:Rn.formGroup,children:[s.jsx("label",{htmlFor:"product-name",className:Rn.formLabel,children:"  *"}),s.jsx("input",{type:"text",id:"product-name",className:Rn.formControl,value:a,onChange:Fe=>r(Fe.target.value),required:!0})]}),s.jsxs("div",{className:Rn.formGroup,children:[s.jsx("label",{htmlFor:"product-category",className:Rn.formLabel,children:" * ( )"}),s.jsx("input",{type:"text",id:"product-category",className:Rn.formControl,value:d,readOnly:!0,disabled:!0}),s.jsx("input",{type:"hidden",value:c})]}),s.jsxs("div",{className:Rn.formGroup,children:[s.jsx("label",{htmlFor:"product-unit",className:Rn.formLabel,children:" "}),s.jsxs("select",{id:"product-unit",className:Rn.formControl,value:g,onChange:Fe=>b(Fe.target.value),disabled:V,children:[s.jsx("option",{value:"",children:"  "}),te.map(Fe=>s.jsxs("option",{value:Fe.id,children:[Fe.name," (",Fe.short_name,")"]},Fe.id))]})]})]}),s.jsxs("div",{className:Rn.formGroup,children:[s.jsx("label",{htmlFor:"product-description",className:Rn.formLabel,children:"  *"}),s.jsx("textarea",{id:"product-description",className:Rn.formControl,rows:"5",value:i,onChange:Fe=>o(Fe.target.value),required:!0})]}),s.jsxs("div",{className:Rn.formRow,children:[s.jsxs("div",{className:Rn.checkboxGroup,children:[s.jsx("input",{type:"checkbox",id:"visible-on-marketplace",className:Rn.formCheckbox,checked:j,onChange:Fe=>N(Fe.target.checked)}),s.jsx("label",{htmlFor:"visible-on-marketplace",className:Rn.checkboxLabel,children:"  "})]}),s.jsxs("div",{className:Rn.checkboxGroup,children:[s.jsx("input",{type:"checkbox",id:"visible-on-own-site",className:Rn.formCheckbox,checked:I,onChange:Fe=>M(Fe.target.checked)}),s.jsx("label",{htmlFor:"visible-on-own-site",className:Rn.checkboxLabel,children:"   "})]}),s.jsxs("div",{className:Rn.checkboxGroup,children:[s.jsx("input",{type:"checkbox",id:"is-active",className:Rn.formCheckbox,checked:w,onChange:Fe=>S(Fe.target.checked)}),s.jsx("label",{htmlFor:"is-active",className:Rn.checkboxLabel,children:"  (  )"})]})]})]})]}),c&&s.jsxs("div",{className:Rn.sectionCard,children:[s.jsx("div",{className:Rn.sectionHeader,children:s.jsxs("h5",{children:[s.jsx(Lb,{className:Rn.sectionIcon}),"  "]})}),s.jsxs("div",{className:Rn.sectionBody,children:[s.jsx("div",{className:Rn.infoAlert,children:"      .         ."}),O?s.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"200px"},children:s.jsx(Wn,{size:"medium"})}):$?s.jsxs("div",{className:Rn.errorAlert,children:["  : ",$]}):s.jsx(s.Fragment,{children:s.jsxs("div",{className:Rn.tableWrapper,children:[s.jsx("div",{className:Rn.horizontalScroll,children:s.jsxs("table",{className:Rn.variantTable,children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{className:Rn.stickyColumn,children:""}),B.map(Fe=>s.jsxs("th",{children:[Fe.name,Fe.required&&s.jsx("span",{className:Rn.requiredStar,children:"*"})]},Fe.id)),s.jsx("th",{className:Rn.stickyColumn,children:"- ()"}),s.jsx("th",{className:Rn.stickyColumn,children:""})]})}),s.jsx("tbody",{children:ae.length===0?s.jsx("tr",{children:s.jsx("td",{colSpan:B.length+3,className:Rn.noVariants,children:' .  " "   .'})}):ae.map((Fe,It)=>s.jsxs("tr",{children:[s.jsx("td",{className:Rn.stickyColumn,children:It+1}),B.map(Xe=>s.jsx("td",{children:Xe.has_predefined_values?s.jsxs("select",{className:Rn.formSelect,value:Fe.attributes[Xe.id]||"",onChange:le=>Ie(Fe.id,null,le.target.value,Xe.id),required:Xe.required,children:[!Xe.required&&s.jsx("option",{value:"",children:" "}),Xe.values.map(le=>s.jsx("option",{value:String(le.id),children:le.value},le.id))]}):s.jsx("input",{type:"text",className:Rn.formControltd,value:Fe.attributes[Xe.id]||"",onChange:le=>Ie(Fe.id,null,le.target.value,Xe.id),placeholder:` ${Xe.name}`,required:Xe.required})},Xe.id)),s.jsx("td",{className:Rn.stickyColumn,children:s.jsxs("div",{className:Rn.barcodeCell,children:[s.jsx("div",{className:Rn.barcodeInputWrapper,children:s.jsx("input",{type:"text",className:Rn.formControltd,value:Fe.barcode||"",onChange:Xe=>Ie(Fe.id,"barcode",Xe.target.value),placeholder:Fe.generateBarcode?"  ":"EAN-13 (13 )",maxLength:13,pattern:"[0-9]{13}",title:Fe.is_barcode_auto_generated?"-       ":" 13- EAN-13 -",disabled:Fe.is_barcode_auto_generated||Fe.generateBarcode,readOnly:Fe.is_barcode_auto_generated})}),Fe.is_barcode_auto_generated?s.jsx("div",{className:Rn.autoGeneratedBadge,children:s.jsx("span",{children:" "})}):s.jsxs("label",{className:Rn.generateBarcodeLabel,children:[s.jsx("input",{type:"checkbox",checked:Fe.generateBarcode||!1,onChange:Xe=>me(Fe.id,Xe.target.checked),className:Rn.generateBarcodeCheckbox}),s.jsx("span",{children:" "})]})]})}),s.jsx("td",{className:`${Rn.stickyColumn} ${Rn.variantActions}`,children:s.jsx("button",{type:"button",className:Rn.variantButton,onClick:()=>fe(Fe.id),title:" ",children:s.jsx(Cr,{})})})]},Fe.id))})]})}),s.jsx("div",{className:Rn.variantControls,children:s.jsxs("div",{children:[s.jsxs("button",{type:"button",className:Rn.variantAddButton,onClick:je,disabled:B.length===0,children:[s.jsx($a,{className:Rn.buttonIcon}),"  "]}),s.jsxs("button",{type:"button",className:Rn.variantCopyButton,onClick:de,disabled:ae.length===0,children:[s.jsx(Sd,{className:Rn.buttonIcon}),"  "]})]})})]})})]})]}),s.jsxs("div",{className:Rn.formActions,children:[s.jsxs("button",{type:"button",onClick:()=>n(`/business/${e}/products/`),className:Rn.cancelButton,children:[s.jsx(aa,{className:Rn.buttonIcon})," "]}),s.jsx("button",{type:"submit",className:Rn.submitButton,disabled:ge,style:{opacity:ge?.6:1,cursor:ge?"not-allowed":"pointer"},children:ge?s.jsxs(s.Fragment,{children:[s.jsx("span",{style:{marginRight:"8px"},children:""})," ..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Jo,{className:Rn.buttonIcon}),"  "]})})]})]})]})]})})},$i=({desktopComponent:e,mobileComponent:t,breakpoint:n=768,...a})=>{const r=r0(n),i=r?t:e;return r&&!t?s.jsx(e,{...a}):s.jsx(i,{...a})};function rB(e){return Jt({attr:{version:"1",viewBox:"0 0 48 48",enableBackground:"new 0 0 48 48"},child:[{tag:"g",attr:{fill:"#3F51B5"},child:[{tag:"circle",attr:{cx:"8",cy:"38",r:"3"},child:[]},{tag:"circle",attr:{cx:"16",cy:"40",r:"3"},child:[]},{tag:"circle",attr:{cx:"24",cy:"33",r:"3"},child:[]},{tag:"circle",attr:{cx:"32",cy:"35",r:"3"},child:[]},{tag:"circle",attr:{cx:"40",cy:"31",r:"3"},child:[]},{tag:"polygon",attr:{points:"39.1,29.2 31.8,32.9 23.5,30.8 15.5,37.8 8.5,36.1 7.5,39.9 16.5,42.2 24.5,35.2 32.2,37.1 40.9,32.8"},child:[]}]},{tag:"g",attr:{fill:"#00BCD4"},child:[{tag:"circle",attr:{cx:"8",cy:"20",r:"3"},child:[]},{tag:"circle",attr:{cx:"16",cy:"22",r:"3"},child:[]},{tag:"circle",attr:{cx:"24",cy:"15",r:"3"},child:[]},{tag:"circle",attr:{cx:"32",cy:"20",r:"3"},child:[]},{tag:"circle",attr:{cx:"40",cy:"8",r:"3"},child:[]},{tag:"path",attr:{d:"M38.3,6.9c-2.1,3.2-5.3,8-6.9,10.4c-1.2-0.7-3.1-2-6.4-4l-1.3-0.8l-8.3,7.3l-7-1.7l-1,3.9l9,2.3l7.7-6.7 c2.6,1.6,5.8,3.6,6.5,4.1l0.5,0.5l0.9-0.1c1.1-0.1,1.1-0.1,9.5-12.9L38.3,6.9z"},child:[]}]}]})(e)}/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function u0(e){return e+.5|0}const dd=(e,t,n)=>Math.max(Math.min(e,n),t);function T1(e){return dd(u0(e*2.55),0,255)}function xd(e){return dd(u0(e*255),0,255)}function au(e){return dd(u0(e/2.55)/100,0,1)}function QI(e){return dd(u0(e*100),0,100)}const pc={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},pj=[..."0123456789ABCDEF"],hge=e=>pj[e&15],fge=e=>pj[(e&240)>>4]+pj[e&15],$_=e=>(e&240)>>4===(e&15),mge=e=>$_(e.r)&&$_(e.g)&&$_(e.b)&&$_(e.a);function pge(e){var t=e.length,n;return e[0]==="#"&&(t===4||t===5?n={r:255&pc[e[1]]*17,g:255&pc[e[2]]*17,b:255&pc[e[3]]*17,a:t===5?pc[e[4]]*17:255}:(t===7||t===9)&&(n={r:pc[e[1]]<<4|pc[e[2]],g:pc[e[3]]<<4|pc[e[4]],b:pc[e[5]]<<4|pc[e[6]],a:t===9?pc[e[7]]<<4|pc[e[8]]:255})),n}const gge=(e,t)=>e<255?t(e):"";function _ge(e){var t=mge(e)?hge:fge;return e?"#"+t(e.r)+t(e.g)+t(e.b)+gge(e.a,t):void 0}const vge=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function iB(e,t,n){const a=t*Math.min(n,1-n),r=(i,o=(i+e/30)%12)=>n-a*Math.max(Math.min(o-3,9-o,1),-1);return[r(0),r(8),r(4)]}function xge(e,t,n){const a=(r,i=(r+e/60)%6)=>n-n*t*Math.max(Math.min(i,4-i,1),0);return[a(5),a(3),a(1)]}function bge(e,t,n){const a=iB(e,1,.5);let r;for(t+n>1&&(r=1/(t+n),t*=r,n*=r),r=0;r<3;r++)a[r]*=1-t-n,a[r]+=t;return a}function yge(e,t,n,a,r){return e===r?(t-n)/a+(t<n?6:0):t===r?(n-e)/a+2:(e-t)/a+4}function $3(e){const n=e.r/255,a=e.g/255,r=e.b/255,i=Math.max(n,a,r),o=Math.min(n,a,r),c=(i+o)/2;let l,d,f;return i!==o&&(f=i-o,d=c>.5?f/(2-i-o):f/(i+o),l=yge(n,a,r,f,i),l=l*60+.5),[l|0,d||0,c]}function P3(e,t,n,a){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,n,a)).map(xd)}function F3(e,t,n){return P3(iB,e,t,n)}function wge(e,t,n){return P3(bge,e,t,n)}function Cge(e,t,n){return P3(xge,e,t,n)}function oB(e){return(e%360+360)%360}function Sge(e){const t=vge.exec(e);let n=255,a;if(!t)return;t[5]!==a&&(n=t[6]?T1(+t[5]):xd(+t[5]));const r=oB(+t[2]),i=+t[3]/100,o=+t[4]/100;return t[1]==="hwb"?a=wge(r,i,o):t[1]==="hsv"?a=Cge(r,i,o):a=F3(r,i,o),{r:a[0],g:a[1],b:a[2],a:n}}function jge(e,t){var n=$3(e);n[0]=oB(n[0]+t),n=F3(n),e.r=n[0],e.g=n[1],e.b=n[2]}function Nge(e){if(!e)return;const t=$3(e),n=t[0],a=QI(t[1]),r=QI(t[2]);return e.a<255?`hsla(${n}, ${a}%, ${r}%, ${au(e.a)})`:`hsl(${n}, ${a}%, ${r}%)`}const XI={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},KI={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function Ege(){const e={},t=Object.keys(KI),n=Object.keys(XI);let a,r,i,o,c;for(a=0;a<t.length;a++){for(o=c=t[a],r=0;r<n.length;r++)i=n[r],c=c.replace(i,XI[i]);i=parseInt(KI[o],16),e[c]=[i>>16&255,i>>8&255,i&255]}return e}let P_;function kge(e){P_||(P_=Ege(),P_.transparent=[0,0,0,0]);const t=P_[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const Ige=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function Dge(e){const t=Ige.exec(e);let n=255,a,r,i;if(t){if(t[7]!==a){const o=+t[7];n=t[8]?T1(o):dd(o*255,0,255)}return a=+t[1],r=+t[3],i=+t[5],a=255&(t[2]?T1(a):dd(a,0,255)),r=255&(t[4]?T1(r):dd(r,0,255)),i=255&(t[6]?T1(i):dd(i,0,255)),{r:a,g:r,b:i,a:n}}}function Tge(e){return e&&(e.a<255?`rgba(${e.r}, ${e.g}, ${e.b}, ${au(e.a)})`:`rgb(${e.r}, ${e.g}, ${e.b})`)}const vC=e=>e<=.0031308?e*12.92:Math.pow(e,1/2.4)*1.055-.055,Mf=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function Age(e,t,n){const a=Mf(au(e.r)),r=Mf(au(e.g)),i=Mf(au(e.b));return{r:xd(vC(a+n*(Mf(au(t.r))-a))),g:xd(vC(r+n*(Mf(au(t.g))-r))),b:xd(vC(i+n*(Mf(au(t.b))-i))),a:e.a+n*(t.a-e.a)}}function F_(e,t,n){if(e){let a=$3(e);a[t]=Math.max(0,Math.min(a[t]+a[t]*n,t===0?360:1)),a=F3(a),e.r=a[0],e.g=a[1],e.b=a[2]}}function cB(e,t){return e&&Object.assign(t||{},e)}function ZI(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=xd(e[3]))):(t=cB(e,{r:0,g:0,b:0,a:1}),t.a=xd(t.a)),t}function Mge(e){return e.charAt(0)==="r"?Dge(e):Sge(e)}let lB=class gj{constructor(t){if(t instanceof gj)return t;const n=typeof t;let a;n==="object"?a=ZI(t):n==="string"&&(a=pge(t)||kge(t)||Mge(t)),this._rgb=a,this._valid=!!a}get valid(){return this._valid}get rgb(){var t=cB(this._rgb);return t&&(t.a=au(t.a)),t}set rgb(t){this._rgb=ZI(t)}rgbString(){return this._valid?Tge(this._rgb):void 0}hexString(){return this._valid?_ge(this._rgb):void 0}hslString(){return this._valid?Nge(this._rgb):void 0}mix(t,n){if(t){const a=this.rgb,r=t.rgb;let i;const o=n===i?.5:n,c=2*o-1,l=a.a-r.a,d=((c*l===-1?c:(c+l)/(1+c*l))+1)/2;i=1-d,a.r=255&d*a.r+i*r.r+.5,a.g=255&d*a.g+i*r.g+.5,a.b=255&d*a.b+i*r.b+.5,a.a=o*a.a+(1-o)*r.a,this.rgb=a}return this}interpolate(t,n){return t&&(this._rgb=Age(this._rgb,t._rgb,n)),this}clone(){return new gj(this.rgb)}alpha(t){return this._rgb.a=xd(t),this}clearer(t){const n=this._rgb;return n.a*=1-t,this}greyscale(){const t=this._rgb,n=u0(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=n,this}opaquer(t){const n=this._rgb;return n.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return F_(this._rgb,2,t),this}darken(t){return F_(this._rgb,2,-t),this}saturate(t){return F_(this._rgb,1,t),this}desaturate(t){return F_(this._rgb,1,-t),this}rotate(t){return jge(this._rgb,t),this}};/*!
 * Chart.js v4.4.9
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Jl(){}const Rge=(()=>{let e=0;return()=>e++})();function ka(e){return e==null}function Fr(e){if(Array.isArray&&Array.isArray(e))return!0;const t=Object.prototype.toString.call(e);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function Oa(e){return e!==null&&Object.prototype.toString.call(e)==="[object Object]"}function si(e){return(typeof e=="number"||e instanceof Number)&&isFinite(+e)}function Qo(e,t){return si(e)?e:t}function la(e,t){return typeof e>"u"?t:e}const Oge=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100:+e/t,uB=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100*t:+e;function Er(e,t,n){if(e&&typeof e.call=="function")return e.apply(n,t)}function ur(e,t,n,a){let r,i,o;if(Fr(e))for(i=e.length,r=0;r<i;r++)t.call(n,e[r],r);else if(Oa(e))for(o=Object.keys(e),i=o.length,r=0;r<i;r++)t.call(n,e[o[r]],o[r])}function Ox(e,t){let n,a,r,i;if(!e||!t||e.length!==t.length)return!1;for(n=0,a=e.length;n<a;++n)if(r=e[n],i=t[n],r.datasetIndex!==i.datasetIndex||r.index!==i.index)return!1;return!0}function Bx(e){if(Fr(e))return e.map(Bx);if(Oa(e)){const t=Object.create(null),n=Object.keys(e),a=n.length;let r=0;for(;r<a;++r)t[n[r]]=Bx(e[n[r]]);return t}return e}function dB(e){return["__proto__","prototype","constructor"].indexOf(e)===-1}function Bge(e,t,n,a){if(!dB(e))return;const r=t[e],i=n[e];Oa(r)&&Oa(i)?Eg(r,i,a):t[e]=Bx(i)}function Eg(e,t,n){const a=Fr(t)?t:[t],r=a.length;if(!Oa(e))return e;n=n||{};const i=n.merger||Bge;let o;for(let c=0;c<r;++c){if(o=a[c],!Oa(o))continue;const l=Object.keys(o);for(let d=0,f=l.length;d<f;++d)i(l[d],e,o,n)}return e}function ng(e,t){return Eg(e,t,{merger:Lge})}function Lge(e,t,n){if(!dB(e))return;const a=t[e],r=n[e];Oa(a)&&Oa(r)?ng(a,r):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=Bx(r))}const JI={"":e=>e,x:e=>e.x,y:e=>e.y};function $ge(e){const t=e.split("."),n=[];let a="";for(const r of t)a+=r,a.endsWith("\\")?a=a.slice(0,-1)+".":(n.push(a),a="");return n}function Pge(e){const t=$ge(e);return n=>{for(const a of t){if(a==="")break;n=n&&n[a]}return n}}function jd(e,t){return(JI[t]||(JI[t]=Pge(t)))(e)}function H3(e){return e.charAt(0).toUpperCase()+e.slice(1)}const kg=e=>typeof e<"u",Nd=e=>typeof e=="function",eD=(e,t)=>{if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0};function Fge(e){return e.type==="mouseup"||e.type==="click"||e.type==="contextmenu"}const Ar=Math.PI,Dr=2*Ar,Hge=Dr+Ar,Lx=Number.POSITIVE_INFINITY,zge=Ar/180,fi=Ar/2,Jd=Ar/4,tD=Ar*2/3,hd=Math.log10,El=Math.sign;function sg(e,t,n){return Math.abs(e-t)<n}function nD(e){const t=Math.round(e);e=sg(e,t,e/1e3)?t:e;const n=Math.pow(10,Math.floor(hd(e))),a=e/n;return(a<=1?1:a<=2?2:a<=5?5:10)*n}function Vge(e){const t=[],n=Math.sqrt(e);let a;for(a=1;a<n;a++)e%a===0&&(t.push(a),t.push(e/a));return n===(n|0)&&t.push(n),t.sort((r,i)=>r-i).pop(),t}function qge(e){return typeof e=="symbol"||typeof e=="object"&&e!==null&&!(Symbol.toPrimitive in e||"toString"in e||"valueOf"in e)}function vm(e){return!qge(e)&&!isNaN(parseFloat(e))&&isFinite(e)}function Uge(e,t){const n=Math.round(e);return n-t<=e&&n+t>=e}function hB(e,t,n){let a,r,i;for(a=0,r=e.length;a<r;a++)i=e[a][n],isNaN(i)||(t.min=Math.min(t.min,i),t.max=Math.max(t.max,i))}function Pc(e){return e*(Ar/180)}function z3(e){return e*(180/Ar)}function sD(e){if(!si(e))return;let t=1,n=0;for(;Math.round(e*t)/t!==e;)t*=10,n++;return n}function fB(e,t){const n=t.x-e.x,a=t.y-e.y,r=Math.sqrt(n*n+a*a);let i=Math.atan2(a,n);return i<-.5*Ar&&(i+=Dr),{angle:i,distance:r}}function _j(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function Wge(e,t){return(e-t+Hge)%Dr-Ar}function Xo(e){return(e%Dr+Dr)%Dr}function Ig(e,t,n,a){const r=Xo(e),i=Xo(t),o=Xo(n),c=Xo(i-r),l=Xo(o-r),d=Xo(r-i),f=Xo(r-o);return r===i||r===o||a&&i===o||c>l&&d<f}function Hi(e,t,n){return Math.max(t,Math.min(n,e))}function Yge(e){return Hi(e,-32768,32767)}function ru(e,t,n,a=1e-6){return e>=Math.min(t,n)-a&&e<=Math.max(t,n)+a}function V3(e,t,n){n=n||(o=>e[o]<t);let a=e.length-1,r=0,i;for(;a-r>1;)i=r+a>>1,n(i)?r=i:a=i;return{lo:r,hi:a}}const iu=(e,t,n,a)=>V3(e,n,a?r=>{const i=e[r][t];return i<n||i===n&&e[r+1][t]===n}:r=>e[r][t]<n),Gge=(e,t,n)=>V3(e,n,a=>e[a][t]>=n);function Qge(e,t,n){let a=0,r=e.length;for(;a<r&&e[a]<t;)a++;for(;r>a&&e[r-1]>n;)r--;return a>0||r<e.length?e.slice(a,r):e}const mB=["push","pop","shift","splice","unshift"];function Xge(e,t){if(e._chartjs){e._chartjs.listeners.push(t);return}Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),mB.forEach(n=>{const a="_onData"+H3(n),r=e[n];Object.defineProperty(e,n,{configurable:!0,enumerable:!1,value(...i){const o=r.apply(this,i);return e._chartjs.listeners.forEach(c=>{typeof c[a]=="function"&&c[a](...i)}),o}})})}function aD(e,t){const n=e._chartjs;if(!n)return;const a=n.listeners,r=a.indexOf(t);r!==-1&&a.splice(r,1),!(a.length>0)&&(mB.forEach(i=>{delete e[i]}),delete e._chartjs)}function pB(e){const t=new Set(e);return t.size===e.length?e:Array.from(t)}const gB=function(){return typeof window>"u"?function(e){return e()}:window.requestAnimationFrame}();function _B(e,t){let n=[],a=!1;return function(...r){n=r,a||(a=!0,gB.call(window,()=>{a=!1,e.apply(t,n)}))}}function Kge(e,t){let n;return function(...a){return t?(clearTimeout(n),n=setTimeout(e,t,a)):e.apply(this,a),t}}const q3=e=>e==="start"?"left":e==="end"?"right":"center",ro=(e,t,n)=>e==="start"?t:e==="end"?n:(t+n)/2,Zge=(e,t,n,a)=>e===(a?"left":"right")?n:e==="center"?(t+n)/2:t;function vB(e,t,n){const a=t.length;let r=0,i=a;if(e._sorted){const{iScale:o,vScale:c,_parsed:l}=e,d=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null,f=o.axis,{min:g,max:b,minDefined:w,maxDefined:S}=o.getUserBounds();if(w){if(r=Math.min(iu(l,f,g).lo,n?a:iu(t,f,o.getPixelForValue(g)).lo),d){const j=l.slice(0,r+1).reverse().findIndex(N=>!ka(N[c.axis]));r-=Math.max(0,j)}r=Hi(r,0,a-1)}if(S){let j=Math.max(iu(l,o.axis,b,!0).hi+1,n?0:iu(t,f,o.getPixelForValue(b),!0).hi+1);if(d){const N=l.slice(j-1).findIndex(I=>!ka(I[c.axis]));j+=Math.max(0,N)}i=Hi(j,r,a)-r}else i=a-r}return{start:r,count:i}}function xB(e){const{xScale:t,yScale:n,_scaleRanges:a}=e,r={xmin:t.min,xmax:t.max,ymin:n.min,ymax:n.max};if(!a)return e._scaleRanges=r,!0;const i=a.xmin!==t.min||a.xmax!==t.max||a.ymin!==n.min||a.ymax!==n.max;return Object.assign(a,r),i}const H_=e=>e===0||e===1,rD=(e,t,n)=>-(Math.pow(2,10*(e-=1))*Math.sin((e-t)*Dr/n)),iD=(e,t,n)=>Math.pow(2,-10*e)*Math.sin((e-t)*Dr/n)+1,ag={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>-Math.cos(e*fi)+1,easeOutSine:e=>Math.sin(e*fi),easeInOutSine:e=>-.5*(Math.cos(Ar*e)-1),easeInExpo:e=>e===0?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>e===1?1:-Math.pow(2,-10*e)+1,easeInOutExpo:e=>H_(e)?e:e<.5?.5*Math.pow(2,10*(e*2-1)):.5*(-Math.pow(2,-10*(e*2-1))+2),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>H_(e)?e:rD(e,.075,.3),easeOutElastic:e=>H_(e)?e:iD(e,.075,.3),easeInOutElastic(e){return H_(e)?e:e<.5?.5*rD(e*2,.1125,.45):.5+.5*iD(e*2-1,.1125,.45)},easeInBack(e){return e*e*((1.70158+1)*e-1.70158)},easeOutBack(e){return(e-=1)*e*((1.70158+1)*e+1.70158)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?.5*(e*e*(((t*=1.525)+1)*e-t)):.5*((e-=2)*e*(((t*=1.525)+1)*e+t)+2)},easeInBounce:e=>1-ag.easeOutBounce(1-e),easeOutBounce(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},easeInOutBounce:e=>e<.5?ag.easeInBounce(e*2)*.5:ag.easeOutBounce(e*2-1)*.5+.5};function U3(e){if(e&&typeof e=="object"){const t=e.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function oD(e){return U3(e)?e:new lB(e)}function xC(e){return U3(e)?e:new lB(e).saturate(.5).darken(.1).hexString()}const Jge=["x","y","borderWidth","radius","tension"],e0e=["color","borderColor","backgroundColor"];function t0e(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),e.set("animations",{colors:{type:"color",properties:e0e},numbers:{type:"number",properties:Jge}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function n0e(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const cD=new Map;function s0e(e,t){t=t||{};const n=e+JSON.stringify(t);let a=cD.get(n);return a||(a=new Intl.NumberFormat(e,t),cD.set(n,a)),a}function d0(e,t,n){return s0e(t,n).format(e)}const bB={values(e){return Fr(e)?e:""+e},numeric(e,t,n){if(e===0)return"0";const a=this.chart.options.locale;let r,i=e;if(n.length>1){const d=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(d<1e-4||d>1e15)&&(r="scientific"),i=a0e(e,n)}const o=hd(Math.abs(i)),c=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),l={notation:r,minimumFractionDigits:c,maximumFractionDigits:c};return Object.assign(l,this.options.ticks.format),d0(e,a,l)},logarithmic(e,t,n){if(e===0)return"0";const a=n[t].significand||e/Math.pow(10,Math.floor(hd(e)));return[1,2,3,5,10,15].includes(a)||t>.8*n.length?bB.numeric.call(this,e,t,n):""}};function a0e(e,t){let n=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(n)>=1&&e!==Math.floor(e)&&(n=e-Math.floor(e)),n}var Xb={formatters:bB};function r0e(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,n)=>n.lineWidth,tickColor:(t,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Xb.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const $h=Object.create(null),vj=Object.create(null);function rg(e,t){if(!t)return e;const n=t.split(".");for(let a=0,r=n.length;a<r;++a){const i=n[a];e=e[i]||(e[i]=Object.create(null))}return e}function bC(e,t,n){return typeof t=="string"?Eg(rg(e,t),n):Eg(rg(e,""),t)}class i0e{constructor(t,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=a=>a.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(a,r)=>xC(r.backgroundColor),this.hoverBorderColor=(a,r)=>xC(r.borderColor),this.hoverColor=(a,r)=>xC(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(n)}set(t,n){return bC(this,t,n)}get(t){return rg(this,t)}describe(t,n){return bC(vj,t,n)}override(t,n){return bC($h,t,n)}route(t,n,a,r){const i=rg(this,t),o=rg(this,a),c="_"+n;Object.defineProperties(i,{[c]:{value:i[n],writable:!0},[n]:{enumerable:!0,get(){const l=this[c],d=o[r];return Oa(l)?Object.assign({},d,l):la(l,d)},set(l){this[c]=l}}})}apply(t){t.forEach(n=>n(this))}}var Hr=new i0e({_scriptable:e=>!e.startsWith("on"),_indexable:e=>e!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[t0e,n0e,r0e]);function o0e(e){return!e||ka(e.size)||ka(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}function $x(e,t,n,a,r){let i=t[r];return i||(i=t[r]=e.measureText(r).width,n.push(r)),i>a&&(a=i),a}function c0e(e,t,n,a){a=a||{};let r=a.data=a.data||{},i=a.garbageCollect=a.garbageCollect||[];a.font!==t&&(r=a.data={},i=a.garbageCollect=[],a.font=t),e.save(),e.font=t;let o=0;const c=n.length;let l,d,f,g,b;for(l=0;l<c;l++)if(g=n[l],g!=null&&!Fr(g))o=$x(e,r,i,o,g);else if(Fr(g))for(d=0,f=g.length;d<f;d++)b=g[d],b!=null&&!Fr(b)&&(o=$x(e,r,i,o,b));e.restore();const w=i.length/2;if(w>n.length){for(l=0;l<w;l++)delete r[i[l]];i.splice(0,w)}return o}function eh(e,t,n){const a=e.currentDevicePixelRatio,r=n!==0?Math.max(n/2,.5):0;return Math.round((t-r)*a)/a+r}function lD(e,t){!t&&!e||(t=t||e.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore())}function xj(e,t,n,a){yB(e,t,n,a,null)}function yB(e,t,n,a,r){let i,o,c,l,d,f,g,b;const w=t.pointStyle,S=t.rotation,j=t.radius;let N=(S||0)*zge;if(w&&typeof w=="object"&&(i=w.toString(),i==="[object HTMLImageElement]"||i==="[object HTMLCanvasElement]")){e.save(),e.translate(n,a),e.rotate(N),e.drawImage(w,-w.width/2,-w.height/2,w.width,w.height),e.restore();return}if(!(isNaN(j)||j<=0)){switch(e.beginPath(),w){default:r?e.ellipse(n,a,r/2,j,0,0,Dr):e.arc(n,a,j,0,Dr),e.closePath();break;case"triangle":f=r?r/2:j,e.moveTo(n+Math.sin(N)*f,a-Math.cos(N)*j),N+=tD,e.lineTo(n+Math.sin(N)*f,a-Math.cos(N)*j),N+=tD,e.lineTo(n+Math.sin(N)*f,a-Math.cos(N)*j),e.closePath();break;case"rectRounded":d=j*.516,l=j-d,o=Math.cos(N+Jd)*l,g=Math.cos(N+Jd)*(r?r/2-d:l),c=Math.sin(N+Jd)*l,b=Math.sin(N+Jd)*(r?r/2-d:l),e.arc(n-g,a-c,d,N-Ar,N-fi),e.arc(n+b,a-o,d,N-fi,N),e.arc(n+g,a+c,d,N,N+fi),e.arc(n-b,a+o,d,N+fi,N+Ar),e.closePath();break;case"rect":if(!S){l=Math.SQRT1_2*j,f=r?r/2:l,e.rect(n-f,a-l,2*f,2*l);break}N+=Jd;case"rectRot":g=Math.cos(N)*(r?r/2:j),o=Math.cos(N)*j,c=Math.sin(N)*j,b=Math.sin(N)*(r?r/2:j),e.moveTo(n-g,a-c),e.lineTo(n+b,a-o),e.lineTo(n+g,a+c),e.lineTo(n-b,a+o),e.closePath();break;case"crossRot":N+=Jd;case"cross":g=Math.cos(N)*(r?r/2:j),o=Math.cos(N)*j,c=Math.sin(N)*j,b=Math.sin(N)*(r?r/2:j),e.moveTo(n-g,a-c),e.lineTo(n+g,a+c),e.moveTo(n+b,a-o),e.lineTo(n-b,a+o);break;case"star":g=Math.cos(N)*(r?r/2:j),o=Math.cos(N)*j,c=Math.sin(N)*j,b=Math.sin(N)*(r?r/2:j),e.moveTo(n-g,a-c),e.lineTo(n+g,a+c),e.moveTo(n+b,a-o),e.lineTo(n-b,a+o),N+=Jd,g=Math.cos(N)*(r?r/2:j),o=Math.cos(N)*j,c=Math.sin(N)*j,b=Math.sin(N)*(r?r/2:j),e.moveTo(n-g,a-c),e.lineTo(n+g,a+c),e.moveTo(n+b,a-o),e.lineTo(n-b,a+o);break;case"line":o=r?r/2:Math.cos(N)*j,c=Math.sin(N)*j,e.moveTo(n-o,a-c),e.lineTo(n+o,a+c);break;case"dash":e.moveTo(n,a),e.lineTo(n+Math.cos(N)*(r?r/2:j),a+Math.sin(N)*j);break;case!1:e.closePath();break}e.fill(),t.borderWidth>0&&e.stroke()}}function ou(e,t,n){return n=n||.5,!t||e&&e.x>t.left-n&&e.x<t.right+n&&e.y>t.top-n&&e.y<t.bottom+n}function Kb(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function Zb(e){e.restore()}function l0e(e,t,n,a,r){if(!t)return e.lineTo(n.x,n.y);if(r==="middle"){const i=(t.x+n.x)/2;e.lineTo(i,t.y),e.lineTo(i,n.y)}else r==="after"!=!!a?e.lineTo(t.x,n.y):e.lineTo(n.x,t.y);e.lineTo(n.x,n.y)}function u0e(e,t,n,a){if(!t)return e.lineTo(n.x,n.y);e.bezierCurveTo(a?t.cp1x:t.cp2x,a?t.cp1y:t.cp2y,a?n.cp2x:n.cp1x,a?n.cp2y:n.cp1y,n.x,n.y)}function d0e(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),ka(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}function h0e(e,t,n,a,r){if(r.strikethrough||r.underline){const i=e.measureText(a),o=t-i.actualBoundingBoxLeft,c=t+i.actualBoundingBoxRight,l=n-i.actualBoundingBoxAscent,d=n+i.actualBoundingBoxDescent,f=r.strikethrough?(l+d)/2:d;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=r.decorationWidth||2,e.moveTo(o,f),e.lineTo(c,f),e.stroke()}}function f0e(e,t){const n=e.fillStyle;e.fillStyle=t.color,e.fillRect(t.left,t.top,t.width,t.height),e.fillStyle=n}function Ph(e,t,n,a,r,i={}){const o=Fr(t)?t:[t],c=i.strokeWidth>0&&i.strokeColor!=="";let l,d;for(e.save(),e.font=r.string,d0e(e,i),l=0;l<o.length;++l)d=o[l],i.backdrop&&f0e(e,i.backdrop),c&&(i.strokeColor&&(e.strokeStyle=i.strokeColor),ka(i.strokeWidth)||(e.lineWidth=i.strokeWidth),e.strokeText(d,n,a,i.maxWidth)),e.fillText(d,n,a,i.maxWidth),h0e(e,n,a,d,i),a+=Number(r.lineHeight);e.restore()}function Dg(e,t){const{x:n,y:a,w:r,h:i,radius:o}=t;e.arc(n+o.topLeft,a+o.topLeft,o.topLeft,1.5*Ar,Ar,!0),e.lineTo(n,a+i-o.bottomLeft),e.arc(n+o.bottomLeft,a+i-o.bottomLeft,o.bottomLeft,Ar,fi,!0),e.lineTo(n+r-o.bottomRight,a+i),e.arc(n+r-o.bottomRight,a+i-o.bottomRight,o.bottomRight,fi,0,!0),e.lineTo(n+r,a+o.topRight),e.arc(n+r-o.topRight,a+o.topRight,o.topRight,0,-fi,!0),e.lineTo(n+o.topLeft,a)}const m0e=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,p0e=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function g0e(e,t){const n=(""+e).match(m0e);if(!n||n[1]==="normal")return t*1.2;switch(e=+n[2],n[3]){case"px":return e;case"%":e/=100;break}return t*e}const _0e=e=>+e||0;function W3(e,t){const n={},a=Oa(t),r=a?Object.keys(t):t,i=Oa(e)?a?o=>la(e[o],e[t[o]]):o=>e[o]:()=>e;for(const o of r)n[o]=_0e(i(o));return n}function wB(e){return W3(e,{top:"y",right:"x",bottom:"y",left:"x"})}function Nh(e){return W3(e,["topLeft","topRight","bottomLeft","bottomRight"])}function ho(e){const t=wB(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function Ii(e,t){e=e||{},t=t||Hr.font;let n=la(e.size,t.size);typeof n=="string"&&(n=parseInt(n,10));let a=la(e.style,t.style);a&&!(""+a).match(p0e)&&(console.warn('Invalid font style specified: "'+a+'"'),a=void 0);const r={family:la(e.family,t.family),lineHeight:g0e(la(e.lineHeight,t.lineHeight),n),size:n,style:a,weight:la(e.weight,t.weight),string:""};return r.string=o0e(r),r}function A1(e,t,n,a){let r,i,o;for(r=0,i=e.length;r<i;++r)if(o=e[r],o!==void 0&&o!==void 0)return o}function v0e(e,t,n){const{min:a,max:r}=e,i=uB(t,(r-a)/2),o=(c,l)=>n&&c===0?0:c+l;return{min:o(a,-Math.abs(i)),max:o(r,i)}}function Dd(e,t){return Object.assign(Object.create(e),t)}function Y3(e,t=[""],n,a,r=()=>e[0]){const i=n||e;typeof a>"u"&&(a=NB("_fallback",e));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:i,_fallback:a,_getTarget:r,override:c=>Y3([c,...e],t,i,a)};return new Proxy(o,{deleteProperty(c,l){return delete c[l],delete c._keys,delete e[0][l],!0},get(c,l){return SB(c,l,()=>N0e(l,t,e,c))},getOwnPropertyDescriptor(c,l){return Reflect.getOwnPropertyDescriptor(c._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(e[0])},has(c,l){return dD(c).includes(l)},ownKeys(c){return dD(c)},set(c,l,d){const f=c._storage||(c._storage=r());return c[l]=f[l]=d,delete c._keys,!0}})}function xm(e,t,n,a){const r={_cacheable:!1,_proxy:e,_context:t,_subProxy:n,_stack:new Set,_descriptors:CB(e,a),setContext:i=>xm(e,i,n,a),override:i=>xm(e.override(i),t,n,a)};return new Proxy(r,{deleteProperty(i,o){return delete i[o],delete e[o],!0},get(i,o,c){return SB(i,o,()=>b0e(i,o,c))},getOwnPropertyDescriptor(i,o){return i._descriptors.allKeys?Reflect.has(e,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,o)},getPrototypeOf(){return Reflect.getPrototypeOf(e)},has(i,o){return Reflect.has(e,o)},ownKeys(){return Reflect.ownKeys(e)},set(i,o,c){return e[o]=c,delete i[o],!0}})}function CB(e,t={scriptable:!0,indexable:!0}){const{_scriptable:n=t.scriptable,_indexable:a=t.indexable,_allKeys:r=t.allKeys}=e;return{allKeys:r,scriptable:n,indexable:a,isScriptable:Nd(n)?n:()=>n,isIndexable:Nd(a)?a:()=>a}}const x0e=(e,t)=>e?e+H3(t):t,G3=(e,t)=>Oa(t)&&e!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function SB(e,t,n){if(Object.prototype.hasOwnProperty.call(e,t)||t==="constructor")return e[t];const a=n();return e[t]=a,a}function b0e(e,t,n){const{_proxy:a,_context:r,_subProxy:i,_descriptors:o}=e;let c=a[t];return Nd(c)&&o.isScriptable(t)&&(c=y0e(t,c,e,n)),Fr(c)&&c.length&&(c=w0e(t,c,e,o.isIndexable)),G3(t,c)&&(c=xm(c,r,i&&i[t],o)),c}function y0e(e,t,n,a){const{_proxy:r,_context:i,_subProxy:o,_stack:c}=n;if(c.has(e))throw new Error("Recursion detected: "+Array.from(c).join("->")+"->"+e);c.add(e);let l=t(i,o||a);return c.delete(e),G3(e,l)&&(l=Q3(r._scopes,r,e,l)),l}function w0e(e,t,n,a){const{_proxy:r,_context:i,_subProxy:o,_descriptors:c}=n;if(typeof i.index<"u"&&a(e))return t[i.index%t.length];if(Oa(t[0])){const l=t,d=r._scopes.filter(f=>f!==l);t=[];for(const f of l){const g=Q3(d,r,e,f);t.push(xm(g,i,o&&o[e],c))}}return t}function jB(e,t,n){return Nd(e)?e(t,n):e}const C0e=(e,t)=>e===!0?t:typeof e=="string"?jd(t,e):void 0;function S0e(e,t,n,a,r){for(const i of t){const o=C0e(n,i);if(o){e.add(o);const c=jB(o._fallback,n,r);if(typeof c<"u"&&c!==n&&c!==a)return c}else if(o===!1&&typeof a<"u"&&n!==a)return null}return!1}function Q3(e,t,n,a){const r=t._rootScopes,i=jB(t._fallback,n,a),o=[...e,...r],c=new Set;c.add(a);let l=uD(c,o,n,i||n,a);return l===null||typeof i<"u"&&i!==n&&(l=uD(c,o,i,l,a),l===null)?!1:Y3(Array.from(c),[""],r,i,()=>j0e(t,n,a))}function uD(e,t,n,a,r){for(;n;)n=S0e(e,t,n,a,r);return n}function j0e(e,t,n){const a=e._getTarget();t in a||(a[t]={});const r=a[t];return Fr(r)&&Oa(n)?n:r||{}}function N0e(e,t,n,a){let r;for(const i of t)if(r=NB(x0e(i,e),n),typeof r<"u")return G3(e,r)?Q3(n,a,e,r):r}function NB(e,t){for(const n of t){if(!n)continue;const a=n[e];if(typeof a<"u")return a}}function dD(e){let t=e._keys;return t||(t=e._keys=E0e(e._scopes)),t}function E0e(e){const t=new Set;for(const n of e)for(const a of Object.keys(n).filter(r=>!r.startsWith("_")))t.add(a);return Array.from(t)}function EB(e,t,n,a){const{iScale:r}=e,{key:i="r"}=this._parsing,o=new Array(a);let c,l,d,f;for(c=0,l=a;c<l;++c)d=c+n,f=t[d],o[c]={r:r.parse(jd(f,i),d)};return o}const k0e=Number.EPSILON||1e-14,bm=(e,t)=>t<e.length&&!e[t].skip&&e[t],kB=e=>e==="x"?"y":"x";function I0e(e,t,n,a){const r=e.skip?t:e,i=t,o=n.skip?t:n,c=_j(i,r),l=_j(o,i);let d=c/(c+l),f=l/(c+l);d=isNaN(d)?0:d,f=isNaN(f)?0:f;const g=a*d,b=a*f;return{previous:{x:i.x-g*(o.x-r.x),y:i.y-g*(o.y-r.y)},next:{x:i.x+b*(o.x-r.x),y:i.y+b*(o.y-r.y)}}}function D0e(e,t,n){const a=e.length;let r,i,o,c,l,d=bm(e,0);for(let f=0;f<a-1;++f)if(l=d,d=bm(e,f+1),!(!l||!d)){if(sg(t[f],0,k0e)){n[f]=n[f+1]=0;continue}r=n[f]/t[f],i=n[f+1]/t[f],c=Math.pow(r,2)+Math.pow(i,2),!(c<=9)&&(o=3/Math.sqrt(c),n[f]=r*o*t[f],n[f+1]=i*o*t[f])}}function T0e(e,t,n="x"){const a=kB(n),r=e.length;let i,o,c,l=bm(e,0);for(let d=0;d<r;++d){if(o=c,c=l,l=bm(e,d+1),!c)continue;const f=c[n],g=c[a];o&&(i=(f-o[n])/3,c[`cp1${n}`]=f-i,c[`cp1${a}`]=g-i*t[d]),l&&(i=(l[n]-f)/3,c[`cp2${n}`]=f+i,c[`cp2${a}`]=g+i*t[d])}}function A0e(e,t="x"){const n=kB(t),a=e.length,r=Array(a).fill(0),i=Array(a);let o,c,l,d=bm(e,0);for(o=0;o<a;++o)if(c=l,l=d,d=bm(e,o+1),!!l){if(d){const f=d[t]-l[t];r[o]=f!==0?(d[n]-l[n])/f:0}i[o]=c?d?El(r[o-1])!==El(r[o])?0:(r[o-1]+r[o])/2:r[o-1]:r[o]}D0e(e,r,i),T0e(e,i,t)}function z_(e,t,n){return Math.max(Math.min(e,n),t)}function M0e(e,t){let n,a,r,i,o,c=ou(e[0],t);for(n=0,a=e.length;n<a;++n)o=i,i=c,c=n<a-1&&ou(e[n+1],t),i&&(r=e[n],o&&(r.cp1x=z_(r.cp1x,t.left,t.right),r.cp1y=z_(r.cp1y,t.top,t.bottom)),c&&(r.cp2x=z_(r.cp2x,t.left,t.right),r.cp2y=z_(r.cp2y,t.top,t.bottom)))}function R0e(e,t,n,a,r){let i,o,c,l;if(t.spanGaps&&(e=e.filter(d=>!d.skip)),t.cubicInterpolationMode==="monotone")A0e(e,r);else{let d=a?e[e.length-1]:e[0];for(i=0,o=e.length;i<o;++i)c=e[i],l=I0e(d,c,e[Math.min(i+1,o-(a?0:1))%o],t.tension),c.cp1x=l.previous.x,c.cp1y=l.previous.y,c.cp2x=l.next.x,c.cp2y=l.next.y,d=c}t.capBezierPoints&&M0e(e,n)}function X3(){return typeof window<"u"&&typeof document<"u"}function K3(e){let t=e.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function Px(e,t,n){let a;return typeof e=="string"?(a=parseInt(e,10),e.indexOf("%")!==-1&&(a=a/100*t.parentNode[n])):a=e,a}const Jb=e=>e.ownerDocument.defaultView.getComputedStyle(e,null);function O0e(e,t){return Jb(e).getPropertyValue(t)}const B0e=["top","right","bottom","left"];function Eh(e,t,n){const a={};n=n?"-"+n:"";for(let r=0;r<4;r++){const i=B0e[r];a[i]=parseFloat(e[t+"-"+i+n])||0}return a.width=a.left+a.right,a.height=a.top+a.bottom,a}const L0e=(e,t,n)=>(e>0||t>0)&&(!n||!n.shadowRoot);function $0e(e,t){const n=e.touches,a=n&&n.length?n[0]:e,{offsetX:r,offsetY:i}=a;let o=!1,c,l;if(L0e(r,i,e.target))c=r,l=i;else{const d=t.getBoundingClientRect();c=a.clientX-d.left,l=a.clientY-d.top,o=!0}return{x:c,y:l,box:o}}function oh(e,t){if("native"in e)return e;const{canvas:n,currentDevicePixelRatio:a}=t,r=Jb(n),i=r.boxSizing==="border-box",o=Eh(r,"padding"),c=Eh(r,"border","width"),{x:l,y:d,box:f}=$0e(e,n),g=o.left+(f&&c.left),b=o.top+(f&&c.top);let{width:w,height:S}=t;return i&&(w-=o.width+c.width,S-=o.height+c.height),{x:Math.round((l-g)/w*n.width/a),y:Math.round((d-b)/S*n.height/a)}}function P0e(e,t,n){let a,r;if(t===void 0||n===void 0){const i=e&&K3(e);if(!i)t=e.clientWidth,n=e.clientHeight;else{const o=i.getBoundingClientRect(),c=Jb(i),l=Eh(c,"border","width"),d=Eh(c,"padding");t=o.width-d.width-l.width,n=o.height-d.height-l.height,a=Px(c.maxWidth,i,"clientWidth"),r=Px(c.maxHeight,i,"clientHeight")}}return{width:t,height:n,maxWidth:a||Lx,maxHeight:r||Lx}}const V_=e=>Math.round(e*10)/10;function F0e(e,t,n,a){const r=Jb(e),i=Eh(r,"margin"),o=Px(r.maxWidth,e,"clientWidth")||Lx,c=Px(r.maxHeight,e,"clientHeight")||Lx,l=P0e(e,t,n);let{width:d,height:f}=l;if(r.boxSizing==="content-box"){const b=Eh(r,"border","width"),w=Eh(r,"padding");d-=w.width+b.width,f-=w.height+b.height}return d=Math.max(0,d-i.width),f=Math.max(0,a?d/a:f-i.height),d=V_(Math.min(d,o,l.maxWidth)),f=V_(Math.min(f,c,l.maxHeight)),d&&!f&&(f=V_(d/2)),(t!==void 0||n!==void 0)&&a&&l.height&&f>l.height&&(f=l.height,d=V_(Math.floor(f*a))),{width:d,height:f}}function hD(e,t,n){const a=t||1,r=Math.floor(e.height*a),i=Math.floor(e.width*a);e.height=Math.floor(e.height),e.width=Math.floor(e.width);const o=e.canvas;return o.style&&(n||!o.style.height&&!o.style.width)&&(o.style.height=`${e.height}px`,o.style.width=`${e.width}px`),e.currentDevicePixelRatio!==a||o.height!==r||o.width!==i?(e.currentDevicePixelRatio=a,o.height=r,o.width=i,e.ctx.setTransform(a,0,0,a,0,0),!0):!1}const H0e=function(){let e=!1;try{const t={get passive(){return e=!0,!1}};X3()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return e}();function fD(e,t){const n=O0e(e,t),a=n&&n.match(/^(\d+)(\.\d+)?px$/);return a?+a[1]:void 0}function ch(e,t,n,a){return{x:e.x+n*(t.x-e.x),y:e.y+n*(t.y-e.y)}}function z0e(e,t,n,a){return{x:e.x+n*(t.x-e.x),y:a==="middle"?n<.5?e.y:t.y:a==="after"?n<1?e.y:t.y:n>0?t.y:e.y}}function V0e(e,t,n,a){const r={x:e.cp2x,y:e.cp2y},i={x:t.cp1x,y:t.cp1y},o=ch(e,r,n),c=ch(r,i,n),l=ch(i,t,n),d=ch(o,c,n),f=ch(c,l,n);return ch(d,f,n)}const q0e=function(e,t){return{x(n){return e+e+t-n},setWidth(n){t=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,a){return n-a},leftForLtr(n,a){return n-a}}},U0e=function(){return{x(e){return e},setWidth(e){},textAlign(e){return e},xPlus(e,t){return e+t},leftForLtr(e,t){return e}}};function rm(e,t,n){return e?q0e(t,n):U0e()}function IB(e,t){let n,a;(t==="ltr"||t==="rtl")&&(n=e.canvas.style,a=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",t,"important"),e.prevTextDirection=a)}function DB(e,t){t!==void 0&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function TB(e){return e==="angle"?{between:Ig,compare:Wge,normalize:Xo}:{between:ru,compare:(t,n)=>t-n,normalize:t=>t}}function mD({start:e,end:t,count:n,loop:a,style:r}){return{start:e%n,end:t%n,loop:a&&(t-e+1)%n===0,style:r}}function W0e(e,t,n){const{property:a,start:r,end:i}=n,{between:o,normalize:c}=TB(a),l=t.length;let{start:d,end:f,loop:g}=e,b,w;if(g){for(d+=l,f+=l,b=0,w=l;b<w&&o(c(t[d%l][a]),r,i);++b)d--,f--;d%=l,f%=l}return f<d&&(f+=l),{start:d,end:f,loop:g,style:e.style}}function AB(e,t,n){if(!n)return[e];const{property:a,start:r,end:i}=n,o=t.length,{compare:c,between:l,normalize:d}=TB(a),{start:f,end:g,loop:b,style:w}=W0e(e,t,n),S=[];let j=!1,N=null,I,M,B;const P=()=>l(r,B,I)&&c(r,B)!==0,O=()=>c(i,I)===0||l(i,B,I),R=()=>j||P(),$=()=>!j||O();for(let U=f,F=f;U<=g;++U)M=t[U%o],!M.skip&&(I=d(M[a]),I!==B&&(j=l(I,r,i),N===null&&R()&&(N=c(I,r)===0?U:F),N!==null&&$()&&(S.push(mD({start:N,end:U,loop:b,count:o,style:w})),N=null),F=U,B=I));return N!==null&&S.push(mD({start:N,end:g,loop:b,count:o,style:w})),S}function MB(e,t){const n=[],a=e.segments;for(let r=0;r<a.length;r++){const i=AB(a[r],e.points,t);i.length&&n.push(...i)}return n}function Y0e(e,t,n,a){let r=0,i=t-1;if(n&&!a)for(;r<t&&!e[r].skip;)r++;for(;r<t&&e[r].skip;)r++;for(r%=t,n&&(i+=r);i>r&&e[i%t].skip;)i--;return i%=t,{start:r,end:i}}function G0e(e,t,n,a){const r=e.length,i=[];let o=t,c=e[t],l;for(l=t+1;l<=n;++l){const d=e[l%r];d.skip||d.stop?c.skip||(a=!1,i.push({start:t%r,end:(l-1)%r,loop:a}),t=o=d.stop?l:null):(o=l,c.skip&&(t=l)),c=d}return o!==null&&i.push({start:t%r,end:o%r,loop:a}),i}function Q0e(e,t){const n=e.points,a=e.options.spanGaps,r=n.length;if(!r)return[];const i=!!e._loop,{start:o,end:c}=Y0e(n,r,i,a);if(a===!0)return pD(e,[{start:o,end:c,loop:i}],n,t);const l=c<o?c+r:c,d=!!e._fullLoop&&o===0&&c===r-1;return pD(e,G0e(n,o,l,d),n,t)}function pD(e,t,n,a){return!a||!a.setContext||!n?t:X0e(e,t,n,a)}function X0e(e,t,n,a){const r=e._chart.getContext(),i=gD(e.options),{_datasetIndex:o,options:{spanGaps:c}}=e,l=n.length,d=[];let f=i,g=t[0].start,b=g;function w(S,j,N,I){const M=c?-1:1;if(S!==j){for(S+=l;n[S%l].skip;)S-=M;for(;n[j%l].skip;)j+=M;S%l!==j%l&&(d.push({start:S%l,end:j%l,loop:N,style:I}),f=I,g=j%l)}}for(const S of t){g=c?g:S.start;let j=n[g%l],N;for(b=g+1;b<=S.end;b++){const I=n[b%l];N=gD(a.setContext(Dd(r,{type:"segment",p0:j,p1:I,p0DataIndex:(b-1)%l,p1DataIndex:b%l,datasetIndex:o}))),K0e(N,f)&&w(g,b-1,S.loop,f),j=I,f=N}g<b-1&&w(g,b-1,S.loop,f)}return d}function gD(e){return{backgroundColor:e.backgroundColor,borderCapStyle:e.borderCapStyle,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderJoinStyle:e.borderJoinStyle,borderWidth:e.borderWidth,borderColor:e.borderColor}}function K0e(e,t){if(!t)return!1;const n=[],a=function(r,i){return U3(i)?(n.includes(i)||n.push(i),n.indexOf(i)):i};return JSON.stringify(e,a)!==JSON.stringify(t,a)}function q_(e,t,n){return e.options.clip?e[n]:t[n]}function Z0e(e,t){const{xScale:n,yScale:a}=e;return n&&a?{left:q_(n,t,"left"),right:q_(n,t,"right"),top:q_(a,t,"top"),bottom:q_(a,t,"bottom")}:t}function RB(e,t){const n=t._clip;if(n.disabled)return!1;const a=Z0e(t,e.chartArea);return{left:n.left===!1?0:a.left-(n.left===!0?0:n.left),right:n.right===!1?e.width:a.right+(n.right===!0?0:n.right),top:n.top===!1?0:a.top-(n.top===!0?0:n.top),bottom:n.bottom===!1?e.height:a.bottom+(n.bottom===!0?0:n.bottom)}}/*!
 * Chart.js v4.4.9
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class J0e{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,n,a,r){const i=n.listeners[r],o=n.duration;i.forEach(c=>c({chart:t,initial:n.initial,numSteps:o,currentStep:Math.min(a-n.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=gB.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let n=0;this._charts.forEach((a,r)=>{if(!a.running||!a.items.length)return;const i=a.items;let o=i.length-1,c=!1,l;for(;o>=0;--o)l=i[o],l._active?(l._total>a.duration&&(a.duration=l._total),l.tick(t),c=!0):(i[o]=i[i.length-1],i.pop());c&&(r.draw(),this._notify(r,a,t,"progress")),i.length||(a.running=!1,this._notify(r,a,t,"complete"),a.initial=!1),n+=i.length}),this._lastDate=t,n===0&&(this._running=!1)}_getAnims(t){const n=this._charts;let a=n.get(t);return a||(a={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(t,a)),a}listen(t,n,a){this._getAnims(t).listeners[n].push(a)}add(t,n){!n||!n.length||this._getAnims(t).items.push(...n)}has(t){return this._getAnims(t).items.length>0}start(t){const n=this._charts.get(t);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((a,r)=>Math.max(a,r._duration),0),this._refresh())}running(t){if(!this._running)return!1;const n=this._charts.get(t);return!(!n||!n.running||!n.items.length)}stop(t){const n=this._charts.get(t);if(!n||!n.items.length)return;const a=n.items;let r=a.length-1;for(;r>=0;--r)a[r].cancel();n.items=[],this._notify(t,n,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var tu=new J0e;const _D="transparent",e_e={boolean(e,t,n){return n>.5?t:e},color(e,t,n){const a=oD(e||_D),r=a.valid&&oD(t||_D);return r&&r.valid?r.mix(a,n).hexString():t},number(e,t,n){return e+(t-e)*n}};class t_e{constructor(t,n,a,r){const i=n[a];r=A1([t.to,r,i,t.from]);const o=A1([t.from,i,r]);this._active=!0,this._fn=t.fn||e_e[t.type||typeof o],this._easing=ag[t.easing]||ag.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=n,this._prop=a,this._from=o,this._to=r,this._promises=void 0}active(){return this._active}update(t,n,a){if(this._active){this._notify(!1);const r=this._target[this._prop],i=a-this._start,o=this._duration-i;this._start=a,this._duration=Math.floor(Math.max(o,t.duration)),this._total+=i,this._loop=!!t.loop,this._to=A1([t.to,n,r,t.from]),this._from=A1([t.from,r,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const n=t-this._start,a=this._duration,r=this._prop,i=this._from,o=this._loop,c=this._to;let l;if(this._active=i!==c&&(o||n<a),!this._active){this._target[r]=c,this._notify(!0);return}if(n<0){this._target[r]=i;return}l=n/a%2,l=o&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[r]=this._fn(i,c,l)}wait(){const t=this._promises||(this._promises=[]);return new Promise((n,a)=>{t.push({res:n,rej:a})})}_notify(t){const n=t?"res":"rej",a=this._promises||[];for(let r=0;r<a.length;r++)a[r][n]()}}class OB{constructor(t,n){this._chart=t,this._properties=new Map,this.configure(n)}configure(t){if(!Oa(t))return;const n=Object.keys(Hr.animation),a=this._properties;Object.getOwnPropertyNames(t).forEach(r=>{const i=t[r];if(!Oa(i))return;const o={};for(const c of n)o[c]=i[c];(Fr(i.properties)&&i.properties||[r]).forEach(c=>{(c===r||!a.has(c))&&a.set(c,o)})})}_animateOptions(t,n){const a=n.options,r=s_e(t,a);if(!r)return[];const i=this._createAnimations(r,a);return a.$shared&&n_e(t.options.$animations,a).then(()=>{t.options=a},()=>{}),i}_createAnimations(t,n){const a=this._properties,r=[],i=t.$animations||(t.$animations={}),o=Object.keys(n),c=Date.now();let l;for(l=o.length-1;l>=0;--l){const d=o[l];if(d.charAt(0)==="$")continue;if(d==="options"){r.push(...this._animateOptions(t,n));continue}const f=n[d];let g=i[d];const b=a.get(d);if(g)if(b&&g.active()){g.update(b,f,c);continue}else g.cancel();if(!b||!b.duration){t[d]=f;continue}i[d]=g=new t_e(b,t,d,f),r.push(g)}return r}update(t,n){if(this._properties.size===0){Object.assign(t,n);return}const a=this._createAnimations(t,n);if(a.length)return tu.add(this._chart,a),!0}}function n_e(e,t){const n=[],a=Object.keys(t);for(let r=0;r<a.length;r++){const i=e[a[r]];i&&i.active()&&n.push(i.wait())}return Promise.all(n)}function s_e(e,t){if(!t)return;let n=e.options;if(!n){e.options=t;return}return n.$shared&&(e.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function vD(e,t){const n=e&&e.options||{},a=n.reverse,r=n.min===void 0?t:0,i=n.max===void 0?t:0;return{start:a?i:r,end:a?r:i}}function a_e(e,t,n){if(n===!1)return!1;const a=vD(e,n),r=vD(t,n);return{top:r.end,right:a.end,bottom:r.start,left:a.start}}function r_e(e){let t,n,a,r;return Oa(e)?(t=e.top,n=e.right,a=e.bottom,r=e.left):t=n=a=r=e,{top:t,right:n,bottom:a,left:r,disabled:e===!1}}function BB(e,t){const n=[],a=e._getSortedDatasetMetas(t);let r,i;for(r=0,i=a.length;r<i;++r)n.push(a[r].index);return n}function xD(e,t,n,a={}){const r=e.keys,i=a.mode==="single";let o,c,l,d;if(t===null)return;let f=!1;for(o=0,c=r.length;o<c;++o){if(l=+r[o],l===n){if(f=!0,a.all)continue;break}d=e.values[l],si(d)&&(i||t===0||El(t)===El(d))&&(t+=d)}return!f&&!a.all?0:t}function i_e(e,t){const{iScale:n,vScale:a}=t,r=n.axis==="x"?"x":"y",i=a.axis==="x"?"x":"y",o=Object.keys(e),c=new Array(o.length);let l,d,f;for(l=0,d=o.length;l<d;++l)f=o[l],c[l]={[r]:f,[i]:e[f]};return c}function yC(e,t){const n=e&&e.options.stacked;return n||n===void 0&&t.stack!==void 0}function o_e(e,t,n){return`${e.id}.${t.id}.${n.stack||n.type}`}function c_e(e){const{min:t,max:n,minDefined:a,maxDefined:r}=e.getUserBounds();return{min:a?t:Number.NEGATIVE_INFINITY,max:r?n:Number.POSITIVE_INFINITY}}function l_e(e,t,n){const a=e[t]||(e[t]={});return a[n]||(a[n]={})}function bD(e,t,n,a){for(const r of t.getMatchingVisibleMetas(a).reverse()){const i=e[r.index];if(n&&i>0||!n&&i<0)return r.index}return null}function yD(e,t){const{chart:n,_cachedMeta:a}=e,r=n._stacks||(n._stacks={}),{iScale:i,vScale:o,index:c}=a,l=i.axis,d=o.axis,f=o_e(i,o,a),g=t.length;let b;for(let w=0;w<g;++w){const S=t[w],{[l]:j,[d]:N}=S,I=S._stacks||(S._stacks={});b=I[d]=l_e(r,f,j),b[c]=N,b._top=bD(b,o,!0,a.type),b._bottom=bD(b,o,!1,a.type);const M=b._visualValues||(b._visualValues={});M[c]=N}}function wC(e,t){const n=e.scales;return Object.keys(n).filter(a=>n[a].axis===t).shift()}function u_e(e,t){return Dd(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function d_e(e,t,n){return Dd(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:n,index:t,mode:"default",type:"data"})}function r1(e,t){const n=e.controller.index,a=e.vScale&&e.vScale.axis;if(a){t=t||e._parsed;for(const r of t){const i=r._stacks;if(!i||i[a]===void 0||i[a][n]===void 0)return;delete i[a][n],i[a]._visualValues!==void 0&&i[a]._visualValues[n]!==void 0&&delete i[a]._visualValues[n]}}}const CC=e=>e==="reset"||e==="none",wD=(e,t)=>t?e:Object.assign({},e),h_e=(e,t,n)=>e&&!t.hidden&&t._stacked&&{keys:BB(n,!0),values:null};class zc{constructor(t,n){this.chart=t,this._ctx=t.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=yC(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&r1(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,n=this._cachedMeta,a=this.getDataset(),r=(g,b,w,S)=>g==="x"?b:g==="r"?S:w,i=n.xAxisID=la(a.xAxisID,wC(t,"x")),o=n.yAxisID=la(a.yAxisID,wC(t,"y")),c=n.rAxisID=la(a.rAxisID,wC(t,"r")),l=n.indexAxis,d=n.iAxisID=r(l,i,o,c),f=n.vAxisID=r(l,o,i,c);n.xScale=this.getScaleForId(i),n.yScale=this.getScaleForId(o),n.rScale=this.getScaleForId(c),n.iScale=this.getScaleForId(d),n.vScale=this.getScaleForId(f)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const n=this._cachedMeta;return t===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&aD(this._data,this),t._stacked&&r1(t)}_dataCheck(){const t=this.getDataset(),n=t.data||(t.data=[]),a=this._data;if(Oa(n)){const r=this._cachedMeta;this._data=i_e(n,r)}else if(a!==n){if(a){aD(a,this);const r=this._cachedMeta;r1(r),r._parsed=[]}n&&Object.isExtensible(n)&&Xge(n,this),this._syncList=[],this._data=n}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const n=this._cachedMeta,a=this.getDataset();let r=!1;this._dataCheck();const i=n._stacked;n._stacked=yC(n.vScale,n),n.stack!==a.stack&&(r=!0,r1(n),n.stack=a.stack),this._resyncElements(t),(r||i!==n._stacked)&&(yD(this,n._parsed),n._stacked=yC(n.vScale,n))}configure(){const t=this.chart.config,n=t.datasetScopeKeys(this._type),a=t.getOptionScopes(this.getDataset(),n,!0);this.options=t.createResolver(a,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,n){const{_cachedMeta:a,_data:r}=this,{iScale:i,_stacked:o}=a,c=i.axis;let l=t===0&&n===r.length?!0:a._sorted,d=t>0&&a._parsed[t-1],f,g,b;if(this._parsing===!1)a._parsed=r,a._sorted=!0,b=r;else{Fr(r[t])?b=this.parseArrayData(a,r,t,n):Oa(r[t])?b=this.parseObjectData(a,r,t,n):b=this.parsePrimitiveData(a,r,t,n);const w=()=>g[c]===null||d&&g[c]<d[c];for(f=0;f<n;++f)a._parsed[f+t]=g=b[f],l&&(w()&&(l=!1),d=g);a._sorted=l}o&&yD(this,b)}parsePrimitiveData(t,n,a,r){const{iScale:i,vScale:o}=t,c=i.axis,l=o.axis,d=i.getLabels(),f=i===o,g=new Array(r);let b,w,S;for(b=0,w=r;b<w;++b)S=b+a,g[b]={[c]:f||i.parse(d[S],S),[l]:o.parse(n[S],S)};return g}parseArrayData(t,n,a,r){const{xScale:i,yScale:o}=t,c=new Array(r);let l,d,f,g;for(l=0,d=r;l<d;++l)f=l+a,g=n[f],c[l]={x:i.parse(g[0],f),y:o.parse(g[1],f)};return c}parseObjectData(t,n,a,r){const{xScale:i,yScale:o}=t,{xAxisKey:c="x",yAxisKey:l="y"}=this._parsing,d=new Array(r);let f,g,b,w;for(f=0,g=r;f<g;++f)b=f+a,w=n[b],d[f]={x:i.parse(jd(w,c),b),y:o.parse(jd(w,l),b)};return d}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,n,a){const r=this.chart,i=this._cachedMeta,o=n[t.axis],c={keys:BB(r,!0),values:n._stacks[t.axis]._visualValues};return xD(c,o,i.index,{mode:a})}updateRangeFromParsed(t,n,a,r){const i=a[n.axis];let o=i===null?NaN:i;const c=r&&a._stacks[n.axis];r&&c&&(r.values=c,o=xD(r,i,this._cachedMeta.index)),t.min=Math.min(t.min,o),t.max=Math.max(t.max,o)}getMinMax(t,n){const a=this._cachedMeta,r=a._parsed,i=a._sorted&&t===a.iScale,o=r.length,c=this._getOtherScale(t),l=h_e(n,a,this.chart),d={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:f,max:g}=c_e(c);let b,w;function S(){w=r[b];const j=w[c.axis];return!si(w[t.axis])||f>j||g<j}for(b=0;b<o&&!(!S()&&(this.updateRangeFromParsed(d,t,w,l),i));++b);if(i){for(b=o-1;b>=0;--b)if(!S()){this.updateRangeFromParsed(d,t,w,l);break}}return d}getAllParsedValues(t){const n=this._cachedMeta._parsed,a=[];let r,i,o;for(r=0,i=n.length;r<i;++r)o=n[r][t.axis],si(o)&&a.push(o);return a}getMaxOverflow(){return!1}getLabelAndValue(t){const n=this._cachedMeta,a=n.iScale,r=n.vScale,i=this.getParsed(t);return{label:a?""+a.getLabelForValue(i[a.axis]):"",value:r?""+r.getLabelForValue(i[r.axis]):""}}_update(t){const n=this._cachedMeta;this.update(t||"default"),n._clip=r_e(la(this.options.clip,a_e(n.xScale,n.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,n=this.chart,a=this._cachedMeta,r=a.data||[],i=n.chartArea,o=[],c=this._drawStart||0,l=this._drawCount||r.length-c,d=this.options.drawActiveElementsOnTop;let f;for(a.dataset&&a.dataset.draw(t,i,c,l),f=c;f<c+l;++f){const g=r[f];g.hidden||(g.active&&d?o.push(g):g.draw(t,i))}for(f=0;f<o.length;++f)o[f].draw(t,i)}getStyle(t,n){const a=n?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(a):this.resolveDataElementOptions(t||0,a)}getContext(t,n,a){const r=this.getDataset();let i;if(t>=0&&t<this._cachedMeta.data.length){const o=this._cachedMeta.data[t];i=o.$context||(o.$context=d_e(this.getContext(),t,o)),i.parsed=this.getParsed(t),i.raw=r.data[t],i.index=i.dataIndex=t}else i=this.$context||(this.$context=u_e(this.chart.getContext(),this.index)),i.dataset=r,i.index=i.datasetIndex=this.index;return i.active=!!n,i.mode=a,i}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,n){return this._resolveElementOptions(this.dataElementType.id,n,t)}_resolveElementOptions(t,n="default",a){const r=n==="active",i=this._cachedDataOpts,o=t+"-"+n,c=i[o],l=this.enableOptionSharing&&kg(a);if(c)return wD(c,l);const d=this.chart.config,f=d.datasetElementScopeKeys(this._type,t),g=r?[`${t}Hover`,"hover",t,""]:[t,""],b=d.getOptionScopes(this.getDataset(),f),w=Object.keys(Hr.elements[t]),S=()=>this.getContext(a,r,n),j=d.resolveNamedOptions(b,w,S,g);return j.$shared&&(j.$shared=l,i[o]=Object.freeze(wD(j,l))),j}_resolveAnimations(t,n,a){const r=this.chart,i=this._cachedDataOpts,o=`animation-${n}`,c=i[o];if(c)return c;let l;if(r.options.animation!==!1){const f=this.chart.config,g=f.datasetAnimationScopeKeys(this._type,n),b=f.getOptionScopes(this.getDataset(),g);l=f.createResolver(b,this.getContext(t,a,n))}const d=new OB(r,l&&l.animations);return l&&l._cacheable&&(i[o]=Object.freeze(d)),d}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,n){return!n||CC(t)||this.chart._animationsDisabled}_getSharedOptions(t,n){const a=this.resolveDataElementOptions(t,n),r=this._sharedOptions,i=this.getSharedOptions(a),o=this.includeOptions(n,i)||i!==r;return this.updateSharedOptions(i,n,a),{sharedOptions:i,includeOptions:o}}updateElement(t,n,a,r){CC(r)?Object.assign(t,a):this._resolveAnimations(n,r).update(t,a)}updateSharedOptions(t,n,a){t&&!CC(n)&&this._resolveAnimations(void 0,n).update(t,a)}_setStyle(t,n,a,r){t.active=r;const i=this.getStyle(n,r);this._resolveAnimations(n,a,r).update(t,{options:!r&&this.getSharedOptions(i)||i})}removeHoverStyle(t,n,a){this._setStyle(t,a,"active",!1)}setHoverStyle(t,n,a){this._setStyle(t,a,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const n=this._data,a=this._cachedMeta.data;for(const[c,l,d]of this._syncList)this[c](l,d);this._syncList=[];const r=a.length,i=n.length,o=Math.min(i,r);o&&this.parse(0,o),i>r?this._insertElements(r,i-r,t):i<r&&this._removeElements(i,r-i)}_insertElements(t,n,a=!0){const r=this._cachedMeta,i=r.data,o=t+n;let c;const l=d=>{for(d.length+=n,c=d.length-1;c>=o;c--)d[c]=d[c-n]};for(l(i),c=t;c<o;++c)i[c]=new this.dataElementType;this._parsing&&l(r._parsed),this.parse(t,n),a&&this.updateElements(i,t,n,"reset")}updateElements(t,n,a,r){}_removeElements(t,n){const a=this._cachedMeta;if(this._parsing){const r=a._parsed.splice(t,n);a._stacked&&r1(a,r)}a.data.splice(t,n)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[n,a,r]=t;this[n](a,r)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,n){n&&this._sync(["_removeElements",t,n]);const a=arguments.length-2;a&&this._sync(["_insertElements",t,a])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}Pt(zc,"defaults",{}),Pt(zc,"datasetElementType",null),Pt(zc,"dataElementType",null);function f_e(e,t){if(!e._cache.$bar){const n=e.getMatchingVisibleMetas(t);let a=[];for(let r=0,i=n.length;r<i;r++)a=a.concat(n[r].controller.getAllParsedValues(e));e._cache.$bar=pB(a.sort((r,i)=>r-i))}return e._cache.$bar}function m_e(e){const t=e.iScale,n=f_e(t,e.type);let a=t._length,r,i,o,c;const l=()=>{o===32767||o===-32768||(kg(c)&&(a=Math.min(a,Math.abs(o-c)||a)),c=o)};for(r=0,i=n.length;r<i;++r)o=t.getPixelForValue(n[r]),l();for(c=void 0,r=0,i=t.ticks.length;r<i;++r)o=t.getPixelForTick(r),l();return a}function p_e(e,t,n,a){const r=n.barThickness;let i,o;return ka(r)?(i=t.min*n.categoryPercentage,o=n.barPercentage):(i=r*a,o=1),{chunk:i/a,ratio:o,start:t.pixels[e]-i/2}}function g_e(e,t,n,a){const r=t.pixels,i=r[e];let o=e>0?r[e-1]:null,c=e<r.length-1?r[e+1]:null;const l=n.categoryPercentage;o===null&&(o=i-(c===null?t.end-t.start:c-i)),c===null&&(c=i+i-o);const d=i-(i-Math.min(o,c))/2*l;return{chunk:Math.abs(c-o)/2*l/a,ratio:n.barPercentage,start:d}}function __e(e,t,n,a){const r=n.parse(e[0],a),i=n.parse(e[1],a),o=Math.min(r,i),c=Math.max(r,i);let l=o,d=c;Math.abs(o)>Math.abs(c)&&(l=c,d=o),t[n.axis]=d,t._custom={barStart:l,barEnd:d,start:r,end:i,min:o,max:c}}function LB(e,t,n,a){return Fr(e)?__e(e,t,n,a):t[n.axis]=n.parse(e,a),t}function CD(e,t,n,a){const r=e.iScale,i=e.vScale,o=r.getLabels(),c=r===i,l=[];let d,f,g,b;for(d=n,f=n+a;d<f;++d)b=t[d],g={},g[r.axis]=c||r.parse(o[d],d),l.push(LB(b,g,i,d));return l}function SC(e){return e&&e.barStart!==void 0&&e.barEnd!==void 0}function v_e(e,t,n){return e!==0?El(e):(t.isHorizontal()?1:-1)*(t.min>=n?1:-1)}function x_e(e){let t,n,a,r,i;return e.horizontal?(t=e.base>e.x,n="left",a="right"):(t=e.base<e.y,n="bottom",a="top"),t?(r="end",i="start"):(r="start",i="end"),{start:n,end:a,reverse:t,top:r,bottom:i}}function b_e(e,t,n,a){let r=t.borderSkipped;const i={};if(!r){e.borderSkipped=i;return}if(r===!0){e.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:o,end:c,reverse:l,top:d,bottom:f}=x_e(e);r==="middle"&&n&&(e.enableBorderRadius=!0,(n._top||0)===a?r=d:(n._bottom||0)===a?r=f:(i[SD(f,o,c,l)]=!0,r=d)),i[SD(r,o,c,l)]=!0,e.borderSkipped=i}function SD(e,t,n,a){return a?(e=y_e(e,t,n),e=jD(e,n,t)):e=jD(e,t,n),e}function y_e(e,t,n){return e===t?n:e===n?t:e}function jD(e,t,n){return e==="start"?t:e==="end"?n:e}function w_e(e,{inflateAmount:t},n){e.inflateAmount=t==="auto"?n===1?.33:0:t}class Av extends zc{parsePrimitiveData(t,n,a,r){return CD(t,n,a,r)}parseArrayData(t,n,a,r){return CD(t,n,a,r)}parseObjectData(t,n,a,r){const{iScale:i,vScale:o}=t,{xAxisKey:c="x",yAxisKey:l="y"}=this._parsing,d=i.axis==="x"?c:l,f=o.axis==="x"?c:l,g=[];let b,w,S,j;for(b=a,w=a+r;b<w;++b)j=n[b],S={},S[i.axis]=i.parse(jd(j,d),b),g.push(LB(jd(j,f),S,o,b));return g}updateRangeFromParsed(t,n,a,r){super.updateRangeFromParsed(t,n,a,r);const i=a._custom;i&&n===this._cachedMeta.vScale&&(t.min=Math.min(t.min,i.min),t.max=Math.max(t.max,i.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const n=this._cachedMeta,{iScale:a,vScale:r}=n,i=this.getParsed(t),o=i._custom,c=SC(o)?"["+o.start+", "+o.end+"]":""+r.getLabelForValue(i[r.axis]);return{label:""+a.getLabelForValue(i[a.axis]),value:c}}initialize(){this.enableOptionSharing=!0,super.initialize();const t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,t)}updateElements(t,n,a,r){const i=r==="reset",{index:o,_cachedMeta:{vScale:c}}=this,l=c.getBasePixel(),d=c.isHorizontal(),f=this._getRuler(),{sharedOptions:g,includeOptions:b}=this._getSharedOptions(n,r);for(let w=n;w<n+a;w++){const S=this.getParsed(w),j=i||ka(S[c.axis])?{base:l,head:l}:this._calculateBarValuePixels(w),N=this._calculateBarIndexPixels(w,f),I=(S._stacks||{})[c.axis],M={horizontal:d,base:j.base,enableBorderRadius:!I||SC(S._custom)||o===I._top||o===I._bottom,x:d?j.head:N.center,y:d?N.center:j.head,height:d?N.size:Math.abs(j.size),width:d?Math.abs(j.size):N.size};b&&(M.options=g||this.resolveDataElementOptions(w,t[w].active?"active":r));const B=M.options||t[w].options;b_e(M,B,I,o),w_e(M,B,f.ratio),this.updateElement(t[w],w,M,r)}}_getStacks(t,n){const{iScale:a}=this._cachedMeta,r=a.getMatchingVisibleMetas(this._type).filter(f=>f.controller.options.grouped),i=a.options.stacked,o=[],c=this._cachedMeta.controller.getParsed(n),l=c&&c[a.axis],d=f=>{const g=f._parsed.find(w=>w[a.axis]===l),b=g&&g[f.vScale.axis];if(ka(b)||isNaN(b))return!0};for(const f of r)if(!(n!==void 0&&d(f))&&((i===!1||o.indexOf(f.stack)===-1||i===void 0&&f.stack===void 0)&&o.push(f.stack),f.index===t))break;return o.length||o.push(void 0),o}_getStackCount(t){return this._getStacks(void 0,t).length}_getStackIndex(t,n,a){const r=this._getStacks(t,a),i=n!==void 0?r.indexOf(n):-1;return i===-1?r.length-1:i}_getRuler(){const t=this.options,n=this._cachedMeta,a=n.iScale,r=[];let i,o;for(i=0,o=n.data.length;i<o;++i)r.push(a.getPixelForValue(this.getParsed(i)[a.axis],i));const c=t.barThickness;return{min:c||m_e(n),pixels:r,start:a._startPixel,end:a._endPixel,stackCount:this._getStackCount(),scale:a,grouped:t.grouped,ratio:c?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:n,_stacked:a,index:r},options:{base:i,minBarLength:o}}=this,c=i||0,l=this.getParsed(t),d=l._custom,f=SC(d);let g=l[n.axis],b=0,w=a?this.applyStack(n,l,a):g,S,j;w!==g&&(b=w-g,w=g),f&&(g=d.barStart,w=d.barEnd-d.barStart,g!==0&&El(g)!==El(d.barEnd)&&(b=0),b+=g);const N=!ka(i)&&!f?i:b;let I=n.getPixelForValue(N);if(this.chart.getDataVisibility(t)?S=n.getPixelForValue(b+w):S=I,j=S-I,Math.abs(j)<o){j=v_e(j,n,c)*o,g===c&&(I-=j/2);const M=n.getPixelForDecimal(0),B=n.getPixelForDecimal(1),P=Math.min(M,B),O=Math.max(M,B);I=Math.max(Math.min(I,O),P),S=I+j,a&&!f&&(l._stacks[n.axis]._visualValues[r]=n.getValueForPixel(S)-n.getValueForPixel(I))}if(I===n.getPixelForValue(c)){const M=El(j)*n.getLineWidthForValue(c)/2;I+=M,j-=M}return{size:j,base:I,head:S,center:S+j/2}}_calculateBarIndexPixels(t,n){const a=n.scale,r=this.options,i=r.skipNull,o=la(r.maxBarThickness,1/0);let c,l;if(n.grouped){const d=i?this._getStackCount(t):n.stackCount,f=r.barThickness==="flex"?g_e(t,n,r,d):p_e(t,n,r,d),g=this._getStackIndex(this.index,this._cachedMeta.stack,i?t:void 0);c=f.start+f.chunk*g+f.chunk/2,l=Math.min(o,f.chunk*f.ratio)}else c=a.getPixelForValue(this.getParsed(t)[a.axis],t),l=Math.min(o,n.min*n.ratio);return{base:c-l/2,head:c+l/2,center:c,size:l}}draw(){const t=this._cachedMeta,n=t.vScale,a=t.data,r=a.length;let i=0;for(;i<r;++i)this.getParsed(i)[n.axis]!==null&&!a[i].hidden&&a[i].draw(this._ctx)}}Pt(Av,"id","bar"),Pt(Av,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),Pt(Av,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class Mv extends zc{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(t,n,a,r){const i=super.parsePrimitiveData(t,n,a,r);for(let o=0;o<i.length;o++)i[o]._custom=this.resolveDataElementOptions(o+a).radius;return i}parseArrayData(t,n,a,r){const i=super.parseArrayData(t,n,a,r);for(let o=0;o<i.length;o++){const c=n[a+o];i[o]._custom=la(c[2],this.resolveDataElementOptions(o+a).radius)}return i}parseObjectData(t,n,a,r){const i=super.parseObjectData(t,n,a,r);for(let o=0;o<i.length;o++){const c=n[a+o];i[o]._custom=la(c&&c.r&&+c.r,this.resolveDataElementOptions(o+a).radius)}return i}getMaxOverflow(){const t=this._cachedMeta.data;let n=0;for(let a=t.length-1;a>=0;--a)n=Math.max(n,t[a].size(this.resolveDataElementOptions(a))/2);return n>0&&n}getLabelAndValue(t){const n=this._cachedMeta,a=this.chart.data.labels||[],{xScale:r,yScale:i}=n,o=this.getParsed(t),c=r.getLabelForValue(o.x),l=i.getLabelForValue(o.y),d=o._custom;return{label:a[t]||"",value:"("+c+", "+l+(d?", "+d:"")+")"}}update(t){const n=this._cachedMeta.data;this.updateElements(n,0,n.length,t)}updateElements(t,n,a,r){const i=r==="reset",{iScale:o,vScale:c}=this._cachedMeta,{sharedOptions:l,includeOptions:d}=this._getSharedOptions(n,r),f=o.axis,g=c.axis;for(let b=n;b<n+a;b++){const w=t[b],S=!i&&this.getParsed(b),j={},N=j[f]=i?o.getPixelForDecimal(.5):o.getPixelForValue(S[f]),I=j[g]=i?c.getBasePixel():c.getPixelForValue(S[g]);j.skip=isNaN(N)||isNaN(I),d&&(j.options=l||this.resolveDataElementOptions(b,w.active?"active":r),i&&(j.options.radius=0)),this.updateElement(w,b,j,r)}}resolveDataElementOptions(t,n){const a=this.getParsed(t);let r=super.resolveDataElementOptions(t,n);r.$shared&&(r=Object.assign({},r,{$shared:!1}));const i=r.radius;return n!=="active"&&(r.radius=0),r.radius+=la(a&&a._custom,i),r}}Pt(Mv,"id","bubble"),Pt(Mv,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),Pt(Mv,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});function C_e(e,t,n){let a=1,r=1,i=0,o=0;if(t<Dr){const c=e,l=c+t,d=Math.cos(c),f=Math.sin(c),g=Math.cos(l),b=Math.sin(l),w=(B,P,O)=>Ig(B,c,l,!0)?1:Math.max(P,P*n,O,O*n),S=(B,P,O)=>Ig(B,c,l,!0)?-1:Math.min(P,P*n,O,O*n),j=w(0,d,g),N=w(fi,f,b),I=S(Ar,d,g),M=S(Ar+fi,f,b);a=(j-I)/2,r=(N-M)/2,i=-(j+I)/2,o=-(N+M)/2}return{ratioX:a,ratioY:r,offsetX:i,offsetY:o}}class ph extends zc{constructor(t,n){super(t,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,n){const a=this.getDataset().data,r=this._cachedMeta;if(this._parsing===!1)r._parsed=a;else{let i=l=>+a[l];if(Oa(a[t])){const{key:l="value"}=this._parsing;i=d=>+jd(a[d],l)}let o,c;for(o=t,c=t+n;o<c;++o)r._parsed[o]=i(o)}}_getRotation(){return Pc(this.options.rotation-90)}_getCircumference(){return Pc(this.options.circumference)}_getRotationExtents(){let t=Dr,n=-Dr;for(let a=0;a<this.chart.data.datasets.length;++a)if(this.chart.isDatasetVisible(a)&&this.chart.getDatasetMeta(a).type===this._type){const r=this.chart.getDatasetMeta(a).controller,i=r._getRotation(),o=r._getCircumference();t=Math.min(t,i),n=Math.max(n,i+o)}return{rotation:t,circumference:n-t}}update(t){const n=this.chart,{chartArea:a}=n,r=this._cachedMeta,i=r.data,o=this.getMaxBorderWidth()+this.getMaxOffset(i)+this.options.spacing,c=Math.max((Math.min(a.width,a.height)-o)/2,0),l=Math.min(Oge(this.options.cutout,c),1),d=this._getRingWeight(this.index),{circumference:f,rotation:g}=this._getRotationExtents(),{ratioX:b,ratioY:w,offsetX:S,offsetY:j}=C_e(g,f,l),N=(a.width-o)/b,I=(a.height-o)/w,M=Math.max(Math.min(N,I)/2,0),B=uB(this.options.radius,M),P=Math.max(B*l,0),O=(B-P)/this._getVisibleDatasetWeightTotal();this.offsetX=S*B,this.offsetY=j*B,r.total=this.calculateTotal(),this.outerRadius=B-O*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-O*d,0),this.updateElements(i,0,i.length,t)}_circumference(t,n){const a=this.options,r=this._cachedMeta,i=this._getCircumference();return n&&a.animation.animateRotate||!this.chart.getDataVisibility(t)||r._parsed[t]===null||r.data[t].hidden?0:this.calculateCircumference(r._parsed[t]*i/Dr)}updateElements(t,n,a,r){const i=r==="reset",o=this.chart,c=o.chartArea,d=o.options.animation,f=(c.left+c.right)/2,g=(c.top+c.bottom)/2,b=i&&d.animateScale,w=b?0:this.innerRadius,S=b?0:this.outerRadius,{sharedOptions:j,includeOptions:N}=this._getSharedOptions(n,r);let I=this._getRotation(),M;for(M=0;M<n;++M)I+=this._circumference(M,i);for(M=n;M<n+a;++M){const B=this._circumference(M,i),P=t[M],O={x:f+this.offsetX,y:g+this.offsetY,startAngle:I,endAngle:I+B,circumference:B,outerRadius:S,innerRadius:w};N&&(O.options=j||this.resolveDataElementOptions(M,P.active?"active":r)),I+=B,this.updateElement(P,M,O,r)}}calculateTotal(){const t=this._cachedMeta,n=t.data;let a=0,r;for(r=0;r<n.length;r++){const i=t._parsed[r];i!==null&&!isNaN(i)&&this.chart.getDataVisibility(r)&&!n[r].hidden&&(a+=Math.abs(i))}return a}calculateCircumference(t){const n=this._cachedMeta.total;return n>0&&!isNaN(t)?Dr*(Math.abs(t)/n):0}getLabelAndValue(t){const n=this._cachedMeta,a=this.chart,r=a.data.labels||[],i=d0(n._parsed[t],a.options.locale);return{label:r[t]||"",value:i}}getMaxBorderWidth(t){let n=0;const a=this.chart;let r,i,o,c,l;if(!t){for(r=0,i=a.data.datasets.length;r<i;++r)if(a.isDatasetVisible(r)){o=a.getDatasetMeta(r),t=o.data,c=o.controller;break}}if(!t)return 0;for(r=0,i=t.length;r<i;++r)l=c.resolveDataElementOptions(r),l.borderAlign!=="inner"&&(n=Math.max(n,l.borderWidth||0,l.hoverBorderWidth||0));return n}getMaxOffset(t){let n=0;for(let a=0,r=t.length;a<r;++a){const i=this.resolveDataElementOptions(a);n=Math.max(n,i.offset||0,i.hoverOffset||0)}return n}_getRingWeightOffset(t){let n=0;for(let a=0;a<t;++a)this.chart.isDatasetVisible(a)&&(n+=this._getRingWeight(a));return n}_getRingWeight(t){return Math.max(la(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}Pt(ph,"id","doughnut"),Pt(ph,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),Pt(ph,"descriptors",{_scriptable:t=>t!=="spacing",_indexable:t=>t!=="spacing"&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")}),Pt(ph,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const n=t.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:a,color:r}}=t.legend.options;return n.labels.map((i,o)=>{const l=t.getDatasetMeta(0).controller.getStyle(o);return{text:i,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:r,lineWidth:l.borderWidth,pointStyle:a,hidden:!t.getDataVisibility(o),index:o}})}return[]}},onClick(t,n,a){a.chart.toggleDataVisibility(n.index),a.chart.update()}}}});class Rv extends zc{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const n=this._cachedMeta,{dataset:a,data:r=[],_dataset:i}=n,o=this.chart._animationsDisabled;let{start:c,count:l}=vB(n,r,o);this._drawStart=c,this._drawCount=l,xB(n)&&(c=0,l=r.length),a._chart=this.chart,a._datasetIndex=this.index,a._decimated=!!i._decimated,a.points=r;const d=this.resolveDatasetElementOptions(t);this.options.showLine||(d.borderWidth=0),d.segment=this.options.segment,this.updateElement(a,void 0,{animated:!o,options:d},t),this.updateElements(r,c,l,t)}updateElements(t,n,a,r){const i=r==="reset",{iScale:o,vScale:c,_stacked:l,_dataset:d}=this._cachedMeta,{sharedOptions:f,includeOptions:g}=this._getSharedOptions(n,r),b=o.axis,w=c.axis,{spanGaps:S,segment:j}=this.options,N=vm(S)?S:Number.POSITIVE_INFINITY,I=this.chart._animationsDisabled||i||r==="none",M=n+a,B=t.length;let P=n>0&&this.getParsed(n-1);for(let O=0;O<B;++O){const R=t[O],$=I?R:{};if(O<n||O>=M){$.skip=!0;continue}const U=this.getParsed(O),F=ka(U[w]),H=$[b]=o.getPixelForValue(U[b],O),ne=$[w]=i||F?c.getBasePixel():c.getPixelForValue(l?this.applyStack(c,U,l):U[w],O);$.skip=isNaN(H)||isNaN(ne)||F,$.stop=O>0&&Math.abs(U[b]-P[b])>N,j&&($.parsed=U,$.raw=d.data[O]),g&&($.options=f||this.resolveDataElementOptions(O,R.active?"active":r)),I||this.updateElement(R,O,$,r),P=U}}getMaxOverflow(){const t=this._cachedMeta,n=t.dataset,a=n.options&&n.options.borderWidth||0,r=t.data||[];if(!r.length)return a;const i=r[0].size(this.resolveDataElementOptions(0)),o=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(a,i,o)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}Pt(Rv,"id","line"),Pt(Rv,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),Pt(Rv,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class ig extends zc{constructor(t,n){super(t,n),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(t){const n=this._cachedMeta,a=this.chart,r=a.data.labels||[],i=d0(n._parsed[t].r,a.options.locale);return{label:r[t]||"",value:i}}parseObjectData(t,n,a,r){return EB.bind(this)(t,n,a,r)}update(t){const n=this._cachedMeta.data;this._updateRadius(),this.updateElements(n,0,n.length,t)}getMinMax(){const t=this._cachedMeta,n={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return t.data.forEach((a,r)=>{const i=this.getParsed(r).r;!isNaN(i)&&this.chart.getDataVisibility(r)&&(i<n.min&&(n.min=i),i>n.max&&(n.max=i))}),n}_updateRadius(){const t=this.chart,n=t.chartArea,a=t.options,r=Math.min(n.right-n.left,n.bottom-n.top),i=Math.max(r/2,0),o=Math.max(a.cutoutPercentage?i/100*a.cutoutPercentage:1,0),c=(i-o)/t.getVisibleDatasetCount();this.outerRadius=i-c*this.index,this.innerRadius=this.outerRadius-c}updateElements(t,n,a,r){const i=r==="reset",o=this.chart,l=o.options.animation,d=this._cachedMeta.rScale,f=d.xCenter,g=d.yCenter,b=d.getIndexAngle(0)-.5*Ar;let w=b,S;const j=360/this.countVisibleElements();for(S=0;S<n;++S)w+=this._computeAngle(S,r,j);for(S=n;S<n+a;S++){const N=t[S];let I=w,M=w+this._computeAngle(S,r,j),B=o.getDataVisibility(S)?d.getDistanceFromCenterForValue(this.getParsed(S).r):0;w=M,i&&(l.animateScale&&(B=0),l.animateRotate&&(I=M=b));const P={x:f,y:g,innerRadius:0,outerRadius:B,startAngle:I,endAngle:M,options:this.resolveDataElementOptions(S,N.active?"active":r)};this.updateElement(N,S,P,r)}}countVisibleElements(){const t=this._cachedMeta;let n=0;return t.data.forEach((a,r)=>{!isNaN(this.getParsed(r).r)&&this.chart.getDataVisibility(r)&&n++}),n}_computeAngle(t,n,a){return this.chart.getDataVisibility(t)?Pc(this.resolveDataElementOptions(t,n).angle||a):0}}Pt(ig,"id","polarArea"),Pt(ig,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),Pt(ig,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const n=t.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:a,color:r}}=t.legend.options;return n.labels.map((i,o)=>{const l=t.getDatasetMeta(0).controller.getStyle(o);return{text:i,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:r,lineWidth:l.borderWidth,pointStyle:a,hidden:!t.getDataVisibility(o),index:o}})}return[]}},onClick(t,n,a){a.chart.toggleDataVisibility(n.index),a.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});class bj extends ph{}Pt(bj,"id","pie"),Pt(bj,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});class Ov extends zc{getLabelAndValue(t){const n=this._cachedMeta.vScale,a=this.getParsed(t);return{label:n.getLabels()[t],value:""+n.getLabelForValue(a[n.axis])}}parseObjectData(t,n,a,r){return EB.bind(this)(t,n,a,r)}update(t){const n=this._cachedMeta,a=n.dataset,r=n.data||[],i=n.iScale.getLabels();if(a.points=r,t!=="resize"){const o=this.resolveDatasetElementOptions(t);this.options.showLine||(o.borderWidth=0);const c={_loop:!0,_fullLoop:i.length===r.length,options:o};this.updateElement(a,void 0,c,t)}this.updateElements(r,0,r.length,t)}updateElements(t,n,a,r){const i=this._cachedMeta.rScale,o=r==="reset";for(let c=n;c<n+a;c++){const l=t[c],d=this.resolveDataElementOptions(c,l.active?"active":r),f=i.getPointPositionForValue(c,this.getParsed(c).r),g=o?i.xCenter:f.x,b=o?i.yCenter:f.y,w={x:g,y:b,angle:f.angle,skip:isNaN(g)||isNaN(b),options:d};this.updateElement(l,c,w,r)}}}Pt(Ov,"id","radar"),Pt(Ov,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),Pt(Ov,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});class Bv extends zc{getLabelAndValue(t){const n=this._cachedMeta,a=this.chart.data.labels||[],{xScale:r,yScale:i}=n,o=this.getParsed(t),c=r.getLabelForValue(o.x),l=i.getLabelForValue(o.y);return{label:a[t]||"",value:"("+c+", "+l+")"}}update(t){const n=this._cachedMeta,{data:a=[]}=n,r=this.chart._animationsDisabled;let{start:i,count:o}=vB(n,a,r);if(this._drawStart=i,this._drawCount=o,xB(n)&&(i=0,o=a.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:c,_dataset:l}=n;c._chart=this.chart,c._datasetIndex=this.index,c._decimated=!!l._decimated,c.points=a;const d=this.resolveDatasetElementOptions(t);d.segment=this.options.segment,this.updateElement(c,void 0,{animated:!r,options:d},t)}else this.datasetElementType&&(delete n.dataset,this.datasetElementType=!1);this.updateElements(a,i,o,t)}addElements(){const{showLine:t}=this.options;!this.datasetElementType&&t&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(t,n,a,r){const i=r==="reset",{iScale:o,vScale:c,_stacked:l,_dataset:d}=this._cachedMeta,f=this.resolveDataElementOptions(n,r),g=this.getSharedOptions(f),b=this.includeOptions(r,g),w=o.axis,S=c.axis,{spanGaps:j,segment:N}=this.options,I=vm(j)?j:Number.POSITIVE_INFINITY,M=this.chart._animationsDisabled||i||r==="none";let B=n>0&&this.getParsed(n-1);for(let P=n;P<n+a;++P){const O=t[P],R=this.getParsed(P),$=M?O:{},U=ka(R[S]),F=$[w]=o.getPixelForValue(R[w],P),H=$[S]=i||U?c.getBasePixel():c.getPixelForValue(l?this.applyStack(c,R,l):R[S],P);$.skip=isNaN(F)||isNaN(H)||U,$.stop=P>0&&Math.abs(R[w]-B[w])>I,N&&($.parsed=R,$.raw=d.data[P]),b&&($.options=g||this.resolveDataElementOptions(P,O.active?"active":r)),M||this.updateElement(O,P,$,r),B=R}this.updateSharedOptions(g,r,f)}getMaxOverflow(){const t=this._cachedMeta,n=t.data||[];if(!this.options.showLine){let c=0;for(let l=n.length-1;l>=0;--l)c=Math.max(c,n[l].size(this.resolveDataElementOptions(l))/2);return c>0&&c}const a=t.dataset,r=a.options&&a.options.borderWidth||0;if(!n.length)return r;const i=n[0].size(this.resolveDataElementOptions(0)),o=n[n.length-1].size(this.resolveDataElementOptions(n.length-1));return Math.max(r,i,o)/2}}Pt(Bv,"id","scatter"),Pt(Bv,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),Pt(Bv,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});var S_e=Object.freeze({__proto__:null,BarController:Av,BubbleController:Mv,DoughnutController:ph,LineController:Rv,PieController:bj,PolarAreaController:ig,RadarController:Ov,ScatterController:Bv});function th(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Z3{constructor(t){Pt(this,"options");this.options=t||{}}static override(t){Object.assign(Z3.prototype,t)}init(){}formats(){return th()}parse(){return th()}format(){return th()}add(){return th()}diff(){return th()}startOf(){return th()}endOf(){return th()}}var j_e={_date:Z3};function N_e(e,t,n,a){const{controller:r,data:i,_sorted:o}=e,c=r._cachedMeta.iScale,l=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null;if(c&&t===c.axis&&t!=="r"&&o&&i.length){const d=c._reversePixels?Gge:iu;if(a){if(r._sharedOptions){const f=i[0],g=typeof f.getRange=="function"&&f.getRange(t);if(g){const b=d(i,t,n-g),w=d(i,t,n+g);return{lo:b.lo,hi:w.hi}}}}else{const f=d(i,t,n);if(l){const{vScale:g}=r._cachedMeta,{_parsed:b}=e,w=b.slice(0,f.lo+1).reverse().findIndex(j=>!ka(j[g.axis]));f.lo-=Math.max(0,w);const S=b.slice(f.hi).findIndex(j=>!ka(j[g.axis]));f.hi+=Math.max(0,S)}return f}}return{lo:0,hi:i.length-1}}function ey(e,t,n,a,r){const i=e.getSortedVisibleDatasetMetas(),o=n[t];for(let c=0,l=i.length;c<l;++c){const{index:d,data:f}=i[c],{lo:g,hi:b}=N_e(i[c],t,o,r);for(let w=g;w<=b;++w){const S=f[w];S.skip||a(S,d,w)}}}function E_e(e){const t=e.indexOf("x")!==-1,n=e.indexOf("y")!==-1;return function(a,r){const i=t?Math.abs(a.x-r.x):0,o=n?Math.abs(a.y-r.y):0;return Math.sqrt(Math.pow(i,2)+Math.pow(o,2))}}function jC(e,t,n,a,r){const i=[];return!r&&!e.isPointInArea(t)||ey(e,n,t,function(c,l,d){!r&&!ou(c,e.chartArea,0)||c.inRange(t.x,t.y,a)&&i.push({element:c,datasetIndex:l,index:d})},!0),i}function k_e(e,t,n,a){let r=[];function i(o,c,l){const{startAngle:d,endAngle:f}=o.getProps(["startAngle","endAngle"],a),{angle:g}=fB(o,{x:t.x,y:t.y});Ig(g,d,f)&&r.push({element:o,datasetIndex:c,index:l})}return ey(e,n,t,i),r}function I_e(e,t,n,a,r,i){let o=[];const c=E_e(n);let l=Number.POSITIVE_INFINITY;function d(f,g,b){const w=f.inRange(t.x,t.y,r);if(a&&!w)return;const S=f.getCenterPoint(r);if(!(!!i||e.isPointInArea(S))&&!w)return;const N=c(t,S);N<l?(o=[{element:f,datasetIndex:g,index:b}],l=N):N===l&&o.push({element:f,datasetIndex:g,index:b})}return ey(e,n,t,d),o}function NC(e,t,n,a,r,i){return!i&&!e.isPointInArea(t)?[]:n==="r"&&!a?k_e(e,t,n,r):I_e(e,t,n,a,r,i)}function ND(e,t,n,a,r){const i=[],o=n==="x"?"inXRange":"inYRange";let c=!1;return ey(e,n,t,(l,d,f)=>{l[o]&&l[o](t[n],r)&&(i.push({element:l,datasetIndex:d,index:f}),c=c||l.inRange(t.x,t.y,r))}),a&&!c?[]:i}var D_e={modes:{index(e,t,n,a){const r=oh(t,e),i=n.axis||"x",o=n.includeInvisible||!1,c=n.intersect?jC(e,r,i,a,o):NC(e,r,i,!1,a,o),l=[];return c.length?(e.getSortedVisibleDatasetMetas().forEach(d=>{const f=c[0].index,g=d.data[f];g&&!g.skip&&l.push({element:g,datasetIndex:d.index,index:f})}),l):[]},dataset(e,t,n,a){const r=oh(t,e),i=n.axis||"xy",o=n.includeInvisible||!1;let c=n.intersect?jC(e,r,i,a,o):NC(e,r,i,!1,a,o);if(c.length>0){const l=c[0].datasetIndex,d=e.getDatasetMeta(l).data;c=[];for(let f=0;f<d.length;++f)c.push({element:d[f],datasetIndex:l,index:f})}return c},point(e,t,n,a){const r=oh(t,e),i=n.axis||"xy",o=n.includeInvisible||!1;return jC(e,r,i,a,o)},nearest(e,t,n,a){const r=oh(t,e),i=n.axis||"xy",o=n.includeInvisible||!1;return NC(e,r,i,n.intersect,a,o)},x(e,t,n,a){const r=oh(t,e);return ND(e,r,"x",n.intersect,a)},y(e,t,n,a){const r=oh(t,e);return ND(e,r,"y",n.intersect,a)}}};const $B=["left","top","right","bottom"];function i1(e,t){return e.filter(n=>n.pos===t)}function ED(e,t){return e.filter(n=>$B.indexOf(n.pos)===-1&&n.box.axis===t)}function o1(e,t){return e.sort((n,a)=>{const r=t?a:n,i=t?n:a;return r.weight===i.weight?r.index-i.index:r.weight-i.weight})}function T_e(e){const t=[];let n,a,r,i,o,c;for(n=0,a=(e||[]).length;n<a;++n)r=e[n],{position:i,options:{stack:o,stackWeight:c=1}}=r,t.push({index:n,box:r,pos:i,horizontal:r.isHorizontal(),weight:r.weight,stack:o&&i+o,stackWeight:c});return t}function A_e(e){const t={};for(const n of e){const{stack:a,pos:r,stackWeight:i}=n;if(!a||!$B.includes(r))continue;const o=t[a]||(t[a]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=i}return t}function M_e(e,t){const n=A_e(e),{vBoxMaxWidth:a,hBoxMaxHeight:r}=t;let i,o,c;for(i=0,o=e.length;i<o;++i){c=e[i];const{fullSize:l}=c.box,d=n[c.stack],f=d&&c.stackWeight/d.weight;c.horizontal?(c.width=f?f*a:l&&t.availableWidth,c.height=r):(c.width=a,c.height=f?f*r:l&&t.availableHeight)}return n}function R_e(e){const t=T_e(e),n=o1(t.filter(d=>d.box.fullSize),!0),a=o1(i1(t,"left"),!0),r=o1(i1(t,"right")),i=o1(i1(t,"top"),!0),o=o1(i1(t,"bottom")),c=ED(t,"x"),l=ED(t,"y");return{fullSize:n,leftAndTop:a.concat(i),rightAndBottom:r.concat(l).concat(o).concat(c),chartArea:i1(t,"chartArea"),vertical:a.concat(r).concat(l),horizontal:i.concat(o).concat(c)}}function kD(e,t,n,a){return Math.max(e[n],t[n])+Math.max(e[a],t[a])}function PB(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function O_e(e,t,n,a){const{pos:r,box:i}=n,o=e.maxPadding;if(!Oa(r)){n.size&&(e[r]-=n.size);const g=a[n.stack]||{size:0,count:1};g.size=Math.max(g.size,n.horizontal?i.height:i.width),n.size=g.size/g.count,e[r]+=n.size}i.getPadding&&PB(o,i.getPadding());const c=Math.max(0,t.outerWidth-kD(o,e,"left","right")),l=Math.max(0,t.outerHeight-kD(o,e,"top","bottom")),d=c!==e.w,f=l!==e.h;return e.w=c,e.h=l,n.horizontal?{same:d,other:f}:{same:f,other:d}}function B_e(e){const t=e.maxPadding;function n(a){const r=Math.max(t[a]-e[a],0);return e[a]+=r,r}e.y+=n("top"),e.x+=n("left"),n("right"),n("bottom")}function L_e(e,t){const n=t.maxPadding;function a(r){const i={left:0,top:0,right:0,bottom:0};return r.forEach(o=>{i[o]=Math.max(t[o],n[o])}),i}return a(e?["left","right"]:["top","bottom"])}function M1(e,t,n,a){const r=[];let i,o,c,l,d,f;for(i=0,o=e.length,d=0;i<o;++i){c=e[i],l=c.box,l.update(c.width||t.w,c.height||t.h,L_e(c.horizontal,t));const{same:g,other:b}=O_e(t,n,c,a);d|=g&&r.length,f=f||b,l.fullSize||r.push(c)}return d&&M1(r,t,n,a)||f}function U_(e,t,n,a,r){e.top=n,e.left=t,e.right=t+a,e.bottom=n+r,e.width=a,e.height=r}function ID(e,t,n,a){const r=n.padding;let{x:i,y:o}=t;for(const c of e){const l=c.box,d=a[c.stack]||{placed:0,weight:1},f=c.stackWeight/d.weight||1;if(c.horizontal){const g=t.w*f,b=d.size||l.height;kg(d.start)&&(o=d.start),l.fullSize?U_(l,r.left,o,n.outerWidth-r.right-r.left,b):U_(l,t.left+d.placed,o,g,b),d.start=o,d.placed+=g,o=l.bottom}else{const g=t.h*f,b=d.size||l.width;kg(d.start)&&(i=d.start),l.fullSize?U_(l,i,r.top,b,n.outerHeight-r.bottom-r.top):U_(l,i,t.top+d.placed,b,g),d.start=i,d.placed+=g,i=l.right}}t.x=i,t.y=o}var lo={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(n){t.draw(n)}}]},e.boxes.push(t)},removeBox(e,t){const n=e.boxes?e.boxes.indexOf(t):-1;n!==-1&&e.boxes.splice(n,1)},configure(e,t,n){t.fullSize=n.fullSize,t.position=n.position,t.weight=n.weight},update(e,t,n,a){if(!e)return;const r=ho(e.options.layout.padding),i=Math.max(t-r.width,0),o=Math.max(n-r.height,0),c=R_e(e.boxes),l=c.vertical,d=c.horizontal;ur(e.boxes,j=>{typeof j.beforeLayout=="function"&&j.beforeLayout()});const f=l.reduce((j,N)=>N.box.options&&N.box.options.display===!1?j:j+1,0)||1,g=Object.freeze({outerWidth:t,outerHeight:n,padding:r,availableWidth:i,availableHeight:o,vBoxMaxWidth:i/2/f,hBoxMaxHeight:o/2}),b=Object.assign({},r);PB(b,ho(a));const w=Object.assign({maxPadding:b,w:i,h:o,x:r.left,y:r.top},r),S=M_e(l.concat(d),g);M1(c.fullSize,w,g,S),M1(l,w,g,S),M1(d,w,g,S)&&M1(l,w,g,S),B_e(w),ID(c.leftAndTop,w,g,S),w.x+=w.w,w.y+=w.h,ID(c.rightAndBottom,w,g,S),e.chartArea={left:w.left,top:w.top,right:w.left+w.w,bottom:w.top+w.h,height:w.h,width:w.w},ur(c.chartArea,j=>{const N=j.box;Object.assign(N,e.chartArea),N.update(w.w,w.h,{left:0,top:0,right:0,bottom:0})})}};class FB{acquireContext(t,n){}releaseContext(t){return!1}addEventListener(t,n,a){}removeEventListener(t,n,a){}getDevicePixelRatio(){return 1}getMaximumSize(t,n,a,r){return n=Math.max(0,n||t.width),a=a||t.height,{width:n,height:Math.max(0,r?Math.floor(n/r):a)}}isAttached(t){return!0}updateConfig(t){}}class $_e extends FB{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const Lv="$chartjs",P_e={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},DD=e=>e===null||e==="";function F_e(e,t){const n=e.style,a=e.getAttribute("height"),r=e.getAttribute("width");if(e[Lv]={initial:{height:a,width:r,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",DD(r)){const i=fD(e,"width");i!==void 0&&(e.width=i)}if(DD(a))if(e.style.height==="")e.height=e.width/(t||2);else{const i=fD(e,"height");i!==void 0&&(e.height=i)}return e}const HB=H0e?{passive:!0}:!1;function H_e(e,t,n){e&&e.addEventListener(t,n,HB)}function z_e(e,t,n){e&&e.canvas&&e.canvas.removeEventListener(t,n,HB)}function V_e(e,t){const n=P_e[e.type]||e.type,{x:a,y:r}=oh(e,t);return{type:n,chart:t,native:e,x:a!==void 0?a:null,y:r!==void 0?r:null}}function Fx(e,t){for(const n of e)if(n===t||n.contains(t))return!0}function q_e(e,t,n){const a=e.canvas,r=new MutationObserver(i=>{let o=!1;for(const c of i)o=o||Fx(c.addedNodes,a),o=o&&!Fx(c.removedNodes,a);o&&n()});return r.observe(document,{childList:!0,subtree:!0}),r}function U_e(e,t,n){const a=e.canvas,r=new MutationObserver(i=>{let o=!1;for(const c of i)o=o||Fx(c.removedNodes,a),o=o&&!Fx(c.addedNodes,a);o&&n()});return r.observe(document,{childList:!0,subtree:!0}),r}const Tg=new Map;let TD=0;function zB(){const e=window.devicePixelRatio;e!==TD&&(TD=e,Tg.forEach((t,n)=>{n.currentDevicePixelRatio!==e&&t()}))}function W_e(e,t){Tg.size||window.addEventListener("resize",zB),Tg.set(e,t)}function Y_e(e){Tg.delete(e),Tg.size||window.removeEventListener("resize",zB)}function G_e(e,t,n){const a=e.canvas,r=a&&K3(a);if(!r)return;const i=_B((c,l)=>{const d=r.clientWidth;n(c,l),d<r.clientWidth&&n()},window),o=new ResizeObserver(c=>{const l=c[0],d=l.contentRect.width,f=l.contentRect.height;d===0&&f===0||i(d,f)});return o.observe(r),W_e(e,i),o}function EC(e,t,n){n&&n.disconnect(),t==="resize"&&Y_e(e)}function Q_e(e,t,n){const a=e.canvas,r=_B(i=>{e.ctx!==null&&n(V_e(i,e))},e);return H_e(a,t,r),r}class X_e extends FB{acquireContext(t,n){const a=t&&t.getContext&&t.getContext("2d");return a&&a.canvas===t?(F_e(t,n),a):null}releaseContext(t){const n=t.canvas;if(!n[Lv])return!1;const a=n[Lv].initial;["height","width"].forEach(i=>{const o=a[i];ka(o)?n.removeAttribute(i):n.setAttribute(i,o)});const r=a.style||{};return Object.keys(r).forEach(i=>{n.style[i]=r[i]}),n.width=n.width,delete n[Lv],!0}addEventListener(t,n,a){this.removeEventListener(t,n);const r=t.$proxies||(t.$proxies={}),o={attach:q_e,detach:U_e,resize:G_e}[n]||Q_e;r[n]=o(t,n,a)}removeEventListener(t,n){const a=t.$proxies||(t.$proxies={}),r=a[n];if(!r)return;({attach:EC,detach:EC,resize:EC}[n]||z_e)(t,n,r),a[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,n,a,r){return F0e(t,n,a,r)}isAttached(t){const n=t&&K3(t);return!!(n&&n.isConnected)}}function K_e(e){return!X3()||typeof OffscreenCanvas<"u"&&e instanceof OffscreenCanvas?$_e:X_e}var xv;let Su=(xv=class{constructor(){Pt(this,"x");Pt(this,"y");Pt(this,"active",!1);Pt(this,"options");Pt(this,"$animations")}tooltipPosition(t){const{x:n,y:a}=this.getProps(["x","y"],t);return{x:n,y:a}}hasValue(){return vm(this.x)&&vm(this.y)}getProps(t,n){const a=this.$animations;if(!n||!a)return this;const r={};return t.forEach(i=>{r[i]=a[i]&&a[i].active()?a[i]._to:this[i]}),r}},Pt(xv,"defaults",{}),Pt(xv,"defaultRoutes"),xv);function Z_e(e,t){const n=e.options.ticks,a=J_e(e),r=Math.min(n.maxTicksLimit||a,a),i=n.major.enabled?tve(t):[],o=i.length,c=i[0],l=i[o-1],d=[];if(o>r)return nve(t,d,i,o/r),d;const f=eve(i,t,r);if(o>0){let g,b;const w=o>1?Math.round((l-c)/(o-1)):null;for(W_(t,d,f,ka(w)?0:c-w,c),g=0,b=o-1;g<b;g++)W_(t,d,f,i[g],i[g+1]);return W_(t,d,f,l,ka(w)?t.length:l+w),d}return W_(t,d,f),d}function J_e(e){const t=e.options.offset,n=e._tickSize(),a=e._length/n+(t?0:1),r=e._maxLength/n;return Math.floor(Math.min(a,r))}function eve(e,t,n){const a=sve(e),r=t.length/n;if(!a)return Math.max(r,1);const i=Vge(a);for(let o=0,c=i.length-1;o<c;o++){const l=i[o];if(l>r)return l}return Math.max(r,1)}function tve(e){const t=[];let n,a;for(n=0,a=e.length;n<a;n++)e[n].major&&t.push(n);return t}function nve(e,t,n,a){let r=0,i=n[0],o;for(a=Math.ceil(a),o=0;o<e.length;o++)o===i&&(t.push(e[o]),r++,i=n[r*a])}function W_(e,t,n,a,r){const i=la(a,0),o=Math.min(la(r,e.length),e.length);let c=0,l,d,f;for(n=Math.ceil(n),r&&(l=r-a,n=l/Math.floor(l/n)),f=i;f<0;)c++,f=Math.round(i+c*n);for(d=Math.max(i,0);d<o;d++)d===f&&(t.push(e[d]),c++,f=Math.round(i+c*n))}function sve(e){const t=e.length;let n,a;if(t<2)return!1;for(a=e[0],n=1;n<t;++n)if(e[n]-e[n-1]!==a)return!1;return a}const ave=e=>e==="left"?"right":e==="right"?"left":e,AD=(e,t,n)=>t==="top"||t==="left"?e[t]+n:e[t]-n,MD=(e,t)=>Math.min(t||e,e);function RD(e,t){const n=[],a=e.length/t,r=e.length;let i=0;for(;i<r;i+=a)n.push(e[Math.floor(i)]);return n}function rve(e,t,n){const a=e.ticks.length,r=Math.min(t,a-1),i=e._startPixel,o=e._endPixel,c=1e-6;let l=e.getPixelForTick(r),d;if(!(n&&(a===1?d=Math.max(l-i,o-l):t===0?d=(e.getPixelForTick(1)-l)/2:d=(l-e.getPixelForTick(r-1))/2,l+=r<t?d:-d,l<i-c||l>o+c)))return l}function ive(e,t){ur(e,n=>{const a=n.gc,r=a.length/2;let i;if(r>t){for(i=0;i<r;++i)delete n.data[a[i]];a.splice(0,r)}})}function c1(e){return e.drawTicks?e.tickLength:0}function OD(e,t){if(!e.display)return 0;const n=Ii(e.font,t),a=ho(e.padding);return(Fr(e.text)?e.text.length:1)*n.lineHeight+a.height}function ove(e,t){return Dd(e,{scale:t,type:"scale"})}function cve(e,t,n){return Dd(e,{tick:n,index:t,type:"tick"})}function lve(e,t,n){let a=q3(e);return(n&&t!=="right"||!n&&t==="right")&&(a=ave(a)),a}function uve(e,t,n,a){const{top:r,left:i,bottom:o,right:c,chart:l}=e,{chartArea:d,scales:f}=l;let g=0,b,w,S;const j=o-r,N=c-i;if(e.isHorizontal()){if(w=ro(a,i,c),Oa(n)){const I=Object.keys(n)[0],M=n[I];S=f[I].getPixelForValue(M)+j-t}else n==="center"?S=(d.bottom+d.top)/2+j-t:S=AD(e,n,t);b=c-i}else{if(Oa(n)){const I=Object.keys(n)[0],M=n[I];w=f[I].getPixelForValue(M)-N+t}else n==="center"?w=(d.left+d.right)/2-N+t:w=AD(e,n,t);S=ro(a,o,r),g=n==="left"?-fi:fi}return{titleX:w,titleY:S,maxWidth:b,rotation:g}}class qh extends Su{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,n){return t}getUserBounds(){let{_userMin:t,_userMax:n,_suggestedMin:a,_suggestedMax:r}=this;return t=Qo(t,Number.POSITIVE_INFINITY),n=Qo(n,Number.NEGATIVE_INFINITY),a=Qo(a,Number.POSITIVE_INFINITY),r=Qo(r,Number.NEGATIVE_INFINITY),{min:Qo(t,a),max:Qo(n,r),minDefined:si(t),maxDefined:si(n)}}getMinMax(t){let{min:n,max:a,minDefined:r,maxDefined:i}=this.getUserBounds(),o;if(r&&i)return{min:n,max:a};const c=this.getMatchingVisibleMetas();for(let l=0,d=c.length;l<d;++l)o=c[l].controller.getMinMax(this,t),r||(n=Math.min(n,o.min)),i||(a=Math.max(a,o.max));return n=i&&n>a?a:n,a=r&&n>a?n:a,{min:Qo(n,Qo(a,n)),max:Qo(a,Qo(n,a))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Er(this.options.beforeUpdate,[this])}update(t,n,a){const{beginAtZero:r,grace:i,ticks:o}=this.options,c=o.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=n,this._margins=a=Object.assign({left:0,right:0,top:0,bottom:0},a),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+a.left+a.right:this.height+a.top+a.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=v0e(this,i,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=c<this.ticks.length;this._convertTicksToLabels(l?RD(this.ticks,c):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=Z_e(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,n,a;this.isHorizontal()?(n=this.left,a=this.right):(n=this.top,a=this.bottom,t=!t),this._startPixel=n,this._endPixel=a,this._reversePixels=t,this._length=a-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Er(this.options.afterUpdate,[this])}beforeSetDimensions(){Er(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Er(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),Er(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Er(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const n=this.options.ticks;let a,r,i;for(a=0,r=t.length;a<r;a++)i=t[a],i.label=Er(n.callback,[i.value,a,t],this)}afterTickToLabelConversion(){Er(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Er(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,n=t.ticks,a=MD(this.ticks.length,t.ticks.maxTicksLimit),r=n.minRotation||0,i=n.maxRotation;let o=r,c,l,d;if(!this._isVisible()||!n.display||r>=i||a<=1||!this.isHorizontal()){this.labelRotation=r;return}const f=this._getLabelSizes(),g=f.widest.width,b=f.highest.height,w=Hi(this.chart.width-g,0,this.maxWidth);c=t.offset?this.maxWidth/a:w/(a-1),g+6>c&&(c=w/(a-(t.offset?.5:1)),l=this.maxHeight-c1(t.grid)-n.padding-OD(t.title,this.chart.options.font),d=Math.sqrt(g*g+b*b),o=z3(Math.min(Math.asin(Hi((f.highest.height+6)/c,-1,1)),Math.asin(Hi(l/d,-1,1))-Math.asin(Hi(b/d,-1,1)))),o=Math.max(r,Math.min(i,o))),this.labelRotation=o}afterCalculateLabelRotation(){Er(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Er(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:n,options:{ticks:a,title:r,grid:i}}=this,o=this._isVisible(),c=this.isHorizontal();if(o){const l=OD(r,n.options.font);if(c?(t.width=this.maxWidth,t.height=c1(i)+l):(t.height=this.maxHeight,t.width=c1(i)+l),a.display&&this.ticks.length){const{first:d,last:f,widest:g,highest:b}=this._getLabelSizes(),w=a.padding*2,S=Pc(this.labelRotation),j=Math.cos(S),N=Math.sin(S);if(c){const I=a.mirror?0:N*g.width+j*b.height;t.height=Math.min(this.maxHeight,t.height+I+w)}else{const I=a.mirror?0:j*g.width+N*b.height;t.width=Math.min(this.maxWidth,t.width+I+w)}this._calculatePadding(d,f,N,j)}}this._handleMargins(),c?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,n,a,r){const{ticks:{align:i,padding:o},position:c}=this.options,l=this.labelRotation!==0,d=c!=="top"&&this.axis==="x";if(this.isHorizontal()){const f=this.getPixelForTick(0)-this.left,g=this.right-this.getPixelForTick(this.ticks.length-1);let b=0,w=0;l?d?(b=r*t.width,w=a*n.height):(b=a*t.height,w=r*n.width):i==="start"?w=n.width:i==="end"?b=t.width:i!=="inner"&&(b=t.width/2,w=n.width/2),this.paddingLeft=Math.max((b-f+o)*this.width/(this.width-f),0),this.paddingRight=Math.max((w-g+o)*this.width/(this.width-g),0)}else{let f=n.height/2,g=t.height/2;i==="start"?(f=0,g=t.height):i==="end"&&(f=n.height,g=0),this.paddingTop=f+o,this.paddingBottom=g+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Er(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:n}=this.options;return n==="top"||n==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let n,a;for(n=0,a=t.length;n<a;n++)ka(t[n].label)&&(t.splice(n,1),a--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const n=this.options.ticks.sampleSize;let a=this.ticks;n<a.length&&(a=RD(a,n)),this._labelSizes=t=this._computeLabelSizes(a,a.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,n,a){const{ctx:r,_longestTextCache:i}=this,o=[],c=[],l=Math.floor(n/MD(n,a));let d=0,f=0,g,b,w,S,j,N,I,M,B,P,O;for(g=0;g<n;g+=l){if(S=t[g].label,j=this._resolveTickFontOptions(g),r.font=N=j.string,I=i[N]=i[N]||{data:{},gc:[]},M=j.lineHeight,B=P=0,!ka(S)&&!Fr(S))B=$x(r,I.data,I.gc,B,S),P=M;else if(Fr(S))for(b=0,w=S.length;b<w;++b)O=S[b],!ka(O)&&!Fr(O)&&(B=$x(r,I.data,I.gc,B,O),P+=M);o.push(B),c.push(P),d=Math.max(B,d),f=Math.max(P,f)}ive(i,n);const R=o.indexOf(d),$=c.indexOf(f),U=F=>({width:o[F]||0,height:c[F]||0});return{first:U(0),last:U(n-1),widest:U(R),highest:U($),widths:o,heights:c}}getLabelForValue(t){return t}getPixelForValue(t,n){return NaN}getValueForPixel(t){}getPixelForTick(t){const n=this.ticks;return t<0||t>n.length-1?null:this.getPixelForValue(n[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const n=this._startPixel+t*this._length;return Yge(this._alignToPixels?eh(this.chart,n,0):n)}getDecimalForPixel(t){const n=(t-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:n}=this;return t<0&&n<0?n:t>0&&n>0?t:0}getContext(t){const n=this.ticks||[];if(t>=0&&t<n.length){const a=n[t];return a.$context||(a.$context=cve(this.getContext(),t,a))}return this.$context||(this.$context=ove(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,n=Pc(this.labelRotation),a=Math.abs(Math.cos(n)),r=Math.abs(Math.sin(n)),i=this._getLabelSizes(),o=t.autoSkipPadding||0,c=i?i.widest.width+o:0,l=i?i.highest.height+o:0;return this.isHorizontal()?l*a>c*r?c/a:l/r:l*r<c*a?l/a:c/r}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const n=this.axis,a=this.chart,r=this.options,{grid:i,position:o,border:c}=r,l=i.offset,d=this.isHorizontal(),g=this.ticks.length+(l?1:0),b=c1(i),w=[],S=c.setContext(this.getContext()),j=S.display?S.width:0,N=j/2,I=function(q){return eh(a,q,j)};let M,B,P,O,R,$,U,F,H,ne,X,te;if(o==="top")M=I(this.bottom),$=this.bottom-b,F=M-N,ne=I(t.top)+N,te=t.bottom;else if(o==="bottom")M=I(this.top),ne=t.top,te=I(t.bottom)-N,$=M+N,F=this.top+b;else if(o==="left")M=I(this.right),R=this.right-b,U=M-N,H=I(t.left)+N,X=t.right;else if(o==="right")M=I(this.left),H=t.left,X=I(t.right)-N,R=M+N,U=this.left+b;else if(n==="x"){if(o==="center")M=I((t.top+t.bottom)/2+.5);else if(Oa(o)){const q=Object.keys(o)[0],T=o[q];M=I(this.chart.scales[q].getPixelForValue(T))}ne=t.top,te=t.bottom,$=M+N,F=$+b}else if(n==="y"){if(o==="center")M=I((t.left+t.right)/2);else if(Oa(o)){const q=Object.keys(o)[0],T=o[q];M=I(this.chart.scales[q].getPixelForValue(T))}R=M-N,U=R-b,H=t.left,X=t.right}const se=la(r.ticks.maxTicksLimit,g),V=Math.max(1,Math.ceil(g/se));for(B=0;B<g;B+=V){const q=this.getContext(B),T=i.setContext(q),J=c.setContext(q),Z=T.lineWidth,A=T.color,Y=J.dash||[],K=J.dashOffset,G=T.tickWidth,oe=T.tickColor,ee=T.tickBorderDash||[],ae=T.tickBorderDashOffset;P=rve(this,B,l),P!==void 0&&(O=eh(a,P,Z),d?R=U=H=X=O:$=F=ne=te=O,w.push({tx1:R,ty1:$,tx2:U,ty2:F,x1:H,y1:ne,x2:X,y2:te,width:Z,color:A,borderDash:Y,borderDashOffset:K,tickWidth:G,tickColor:oe,tickBorderDash:ee,tickBorderDashOffset:ae}))}return this._ticksLength=g,this._borderValue=M,w}_computeLabelItems(t){const n=this.axis,a=this.options,{position:r,ticks:i}=a,o=this.isHorizontal(),c=this.ticks,{align:l,crossAlign:d,padding:f,mirror:g}=i,b=c1(a.grid),w=b+f,S=g?-f:w,j=-Pc(this.labelRotation),N=[];let I,M,B,P,O,R,$,U,F,H,ne,X,te="middle";if(r==="top")R=this.bottom-S,$=this._getXAxisLabelAlignment();else if(r==="bottom")R=this.top+S,$=this._getXAxisLabelAlignment();else if(r==="left"){const V=this._getYAxisLabelAlignment(b);$=V.textAlign,O=V.x}else if(r==="right"){const V=this._getYAxisLabelAlignment(b);$=V.textAlign,O=V.x}else if(n==="x"){if(r==="center")R=(t.top+t.bottom)/2+w;else if(Oa(r)){const V=Object.keys(r)[0],q=r[V];R=this.chart.scales[V].getPixelForValue(q)+w}$=this._getXAxisLabelAlignment()}else if(n==="y"){if(r==="center")O=(t.left+t.right)/2-w;else if(Oa(r)){const V=Object.keys(r)[0],q=r[V];O=this.chart.scales[V].getPixelForValue(q)}$=this._getYAxisLabelAlignment(b).textAlign}n==="y"&&(l==="start"?te="top":l==="end"&&(te="bottom"));const se=this._getLabelSizes();for(I=0,M=c.length;I<M;++I){B=c[I],P=B.label;const V=i.setContext(this.getContext(I));U=this.getPixelForTick(I)+i.labelOffset,F=this._resolveTickFontOptions(I),H=F.lineHeight,ne=Fr(P)?P.length:1;const q=ne/2,T=V.color,J=V.textStrokeColor,Z=V.textStrokeWidth;let A=$;o?(O=U,$==="inner"&&(I===M-1?A=this.options.reverse?"left":"right":I===0?A=this.options.reverse?"right":"left":A="center"),r==="top"?d==="near"||j!==0?X=-ne*H+H/2:d==="center"?X=-se.highest.height/2-q*H+H:X=-se.highest.height+H/2:d==="near"||j!==0?X=H/2:d==="center"?X=se.highest.height/2-q*H:X=se.highest.height-ne*H,g&&(X*=-1),j!==0&&!V.showLabelBackdrop&&(O+=H/2*Math.sin(j))):(R=U,X=(1-ne)*H/2);let Y;if(V.showLabelBackdrop){const K=ho(V.backdropPadding),G=se.heights[I],oe=se.widths[I];let ee=X-K.top,ae=0-K.left;switch(te){case"middle":ee-=G/2;break;case"bottom":ee-=G;break}switch($){case"center":ae-=oe/2;break;case"right":ae-=oe;break;case"inner":I===M-1?ae-=oe:I>0&&(ae-=oe/2);break}Y={left:ae,top:ee,width:oe+K.width,height:G+K.height,color:V.backdropColor}}N.push({label:P,font:F,textOffset:X,options:{rotation:j,color:T,strokeColor:J,strokeWidth:Z,textAlign:A,textBaseline:te,translation:[O,R],backdrop:Y}})}return N}_getXAxisLabelAlignment(){const{position:t,ticks:n}=this.options;if(-Pc(this.labelRotation))return t==="top"?"left":"right";let r="center";return n.align==="start"?r="left":n.align==="end"?r="right":n.align==="inner"&&(r="inner"),r}_getYAxisLabelAlignment(t){const{position:n,ticks:{crossAlign:a,mirror:r,padding:i}}=this.options,o=this._getLabelSizes(),c=t+i,l=o.widest.width;let d,f;return n==="left"?r?(f=this.right+i,a==="near"?d="left":a==="center"?(d="center",f+=l/2):(d="right",f+=l)):(f=this.right-c,a==="near"?d="right":a==="center"?(d="center",f-=l/2):(d="left",f=this.left)):n==="right"?r?(f=this.left+i,a==="near"?d="right":a==="center"?(d="center",f-=l/2):(d="left",f-=l)):(f=this.left+c,a==="near"?d="left":a==="center"?(d="center",f+=l/2):(d="right",f=this.right)):d="right",{textAlign:d,x:f}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:n},left:a,top:r,width:i,height:o}=this;n&&(t.save(),t.fillStyle=n,t.fillRect(a,r,i,o),t.restore())}getLineWidthForValue(t){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const r=this.ticks.findIndex(i=>i.value===t);return r>=0?n.setContext(this.getContext(r)).lineWidth:0}drawGrid(t){const n=this.options.grid,a=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let i,o;const c=(l,d,f)=>{!f.width||!f.color||(a.save(),a.lineWidth=f.width,a.strokeStyle=f.color,a.setLineDash(f.borderDash||[]),a.lineDashOffset=f.borderDashOffset,a.beginPath(),a.moveTo(l.x,l.y),a.lineTo(d.x,d.y),a.stroke(),a.restore())};if(n.display)for(i=0,o=r.length;i<o;++i){const l=r[i];n.drawOnChartArea&&c({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),n.drawTicks&&c({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:n,options:{border:a,grid:r}}=this,i=a.setContext(this.getContext()),o=a.display?i.width:0;if(!o)return;const c=r.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let d,f,g,b;this.isHorizontal()?(d=eh(t,this.left,o)-o/2,f=eh(t,this.right,c)+c/2,g=b=l):(g=eh(t,this.top,o)-o/2,b=eh(t,this.bottom,c)+c/2,d=f=l),n.save(),n.lineWidth=i.width,n.strokeStyle=i.color,n.beginPath(),n.moveTo(d,g),n.lineTo(f,b),n.stroke(),n.restore()}drawLabels(t){if(!this.options.ticks.display)return;const a=this.ctx,r=this._computeLabelArea();r&&Kb(a,r);const i=this.getLabelItems(t);for(const o of i){const c=o.options,l=o.font,d=o.label,f=o.textOffset;Ph(a,d,0,f,l,c)}r&&Zb(a)}drawTitle(){const{ctx:t,options:{position:n,title:a,reverse:r}}=this;if(!a.display)return;const i=Ii(a.font),o=ho(a.padding),c=a.align;let l=i.lineHeight/2;n==="bottom"||n==="center"||Oa(n)?(l+=o.bottom,Fr(a.text)&&(l+=i.lineHeight*(a.text.length-1))):l+=o.top;const{titleX:d,titleY:f,maxWidth:g,rotation:b}=uve(this,l,n,c);Ph(t,a.text,0,0,i,{color:a.color,maxWidth:g,rotation:b,textAlign:lve(c,n,r),textBaseline:"middle",translation:[d,f]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,n=t.ticks&&t.ticks.z||0,a=la(t.grid&&t.grid.z,-1),r=la(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==qh.prototype.draw?[{z:n,draw:i=>{this.draw(i)}}]:[{z:a,draw:i=>{this.drawBackground(),this.drawGrid(i),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:n,draw:i=>{this.drawLabels(i)}}]}getMatchingVisibleMetas(t){const n=this.chart.getSortedVisibleDatasetMetas(),a=this.axis+"AxisID",r=[];let i,o;for(i=0,o=n.length;i<o;++i){const c=n[i];c[a]===this.id&&(!t||c.type===t)&&r.push(c)}return r}_resolveTickFontOptions(t){const n=this.options.ticks.setContext(this.getContext(t));return Ii(n.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class Y_{constructor(t,n,a){this.type=t,this.scope=n,this.override=a,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const n=Object.getPrototypeOf(t);let a;fve(n)&&(a=this.register(n));const r=this.items,i=t.id,o=this.scope+"."+i;if(!i)throw new Error("class does not have id: "+t);return i in r||(r[i]=t,dve(t,o,a),this.override&&Hr.override(t.id,t.overrides)),o}get(t){return this.items[t]}unregister(t){const n=this.items,a=t.id,r=this.scope;a in n&&delete n[a],r&&a in Hr[r]&&(delete Hr[r][a],this.override&&delete $h[a])}}function dve(e,t,n){const a=Eg(Object.create(null),[n?Hr.get(n):{},Hr.get(t),e.defaults]);Hr.set(t,a),e.defaultRoutes&&hve(t,e.defaultRoutes),e.descriptors&&Hr.describe(t,e.descriptors)}function hve(e,t){Object.keys(t).forEach(n=>{const a=n.split("."),r=a.pop(),i=[e].concat(a).join("."),o=t[n].split("."),c=o.pop(),l=o.join(".");Hr.route(i,r,l,c)})}function fve(e){return"id"in e&&"defaults"in e}class mve{constructor(){this.controllers=new Y_(zc,"datasets",!0),this.elements=new Y_(Su,"elements"),this.plugins=new Y_(Object,"plugins"),this.scales=new Y_(qh,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,n,a){[...n].forEach(r=>{const i=a||this._getRegistryForType(r);a||i.isForType(r)||i===this.plugins&&r.id?this._exec(t,i,r):ur(r,o=>{const c=a||this._getRegistryForType(o);this._exec(t,c,o)})})}_exec(t,n,a){const r=H3(t);Er(a["before"+r],[],a),n[t](a),Er(a["after"+r],[],a)}_getRegistryForType(t){for(let n=0;n<this._typedRegistries.length;n++){const a=this._typedRegistries[n];if(a.isForType(t))return a}return this.plugins}_get(t,n,a){const r=n.get(t);if(r===void 0)throw new Error('"'+t+'" is not a registered '+a+".");return r}}var dl=new mve;class pve{constructor(){this._init=[]}notify(t,n,a,r){n==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const i=r?this._descriptors(t).filter(r):this._descriptors(t),o=this._notify(i,t,n,a);return n==="afterDestroy"&&(this._notify(i,t,"stop"),this._notify(this._init,t,"uninstall")),o}_notify(t,n,a,r){r=r||{};for(const i of t){const o=i.plugin,c=o[a],l=[n,r,i.options];if(Er(c,l,o)===!1&&r.cancelable)return!1}return!0}invalidate(){ka(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),n}_createDescriptors(t,n){const a=t&&t.config,r=la(a.options&&a.options.plugins,{}),i=gve(a);return r===!1&&!n?[]:vve(t,i,r,n)}_notifyStateChanges(t){const n=this._oldCache||[],a=this._cache,r=(i,o)=>i.filter(c=>!o.some(l=>c.plugin.id===l.plugin.id));this._notify(r(n,a),t,"stop"),this._notify(r(a,n),t,"start")}}function gve(e){const t={},n=[],a=Object.keys(dl.plugins.items);for(let i=0;i<a.length;i++)n.push(dl.getPlugin(a[i]));const r=e.plugins||[];for(let i=0;i<r.length;i++){const o=r[i];n.indexOf(o)===-1&&(n.push(o),t[o.id]=!0)}return{plugins:n,localIds:t}}function _ve(e,t){return!t&&e===!1?null:e===!0?{}:e}function vve(e,{plugins:t,localIds:n},a,r){const i=[],o=e.getContext();for(const c of t){const l=c.id,d=_ve(a[l],r);d!==null&&i.push({plugin:c,options:xve(e.config,{plugin:c,local:n[l]},d,o)})}return i}function xve(e,{plugin:t,local:n},a,r){const i=e.pluginScopeKeys(t),o=e.getOptionScopes(a,i);return n&&t.defaults&&o.push(t.defaults),e.createResolver(o,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function yj(e,t){const n=Hr.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||n.indexAxis||"x"}function bve(e,t){let n=e;return e==="_index_"?n=t:e==="_value_"&&(n=t==="x"?"y":"x"),n}function yve(e,t){return e===t?"_index_":"_value_"}function BD(e){if(e==="x"||e==="y"||e==="r")return e}function wve(e){if(e==="top"||e==="bottom")return"x";if(e==="left"||e==="right")return"y"}function wj(e,...t){if(BD(e))return e;for(const n of t){const a=n.axis||wve(n.position)||e.length>1&&BD(e[0].toLowerCase());if(a)return a}throw new Error(`Cannot determine type of '${e}' axis. Please provide 'axis' or 'position' option.`)}function LD(e,t,n){if(n[t+"AxisID"]===e)return{axis:t}}function Cve(e,t){if(t.data&&t.data.datasets){const n=t.data.datasets.filter(a=>a.xAxisID===e||a.yAxisID===e);if(n.length)return LD(e,"x",n[0])||LD(e,"y",n[0])}return{}}function Sve(e,t){const n=$h[e.type]||{scales:{}},a=t.scales||{},r=yj(e.type,t),i=Object.create(null);return Object.keys(a).forEach(o=>{const c=a[o];if(!Oa(c))return console.error(`Invalid scale configuration for scale: ${o}`);if(c._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const l=wj(o,c,Cve(o,e),Hr.scales[c.type]),d=yve(l,r),f=n.scales||{};i[o]=ng(Object.create(null),[{axis:l},c,f[l],f[d]])}),e.data.datasets.forEach(o=>{const c=o.type||e.type,l=o.indexAxis||yj(c,t),f=($h[c]||{}).scales||{};Object.keys(f).forEach(g=>{const b=bve(g,l),w=o[b+"AxisID"]||b;i[w]=i[w]||Object.create(null),ng(i[w],[{axis:b},a[w],f[g]])})}),Object.keys(i).forEach(o=>{const c=i[o];ng(c,[Hr.scales[c.type],Hr.scale])}),i}function VB(e){const t=e.options||(e.options={});t.plugins=la(t.plugins,{}),t.scales=Sve(e,t)}function qB(e){return e=e||{},e.datasets=e.datasets||[],e.labels=e.labels||[],e}function jve(e){return e=e||{},e.data=qB(e.data),VB(e),e}const $D=new Map,UB=new Set;function G_(e,t){let n=$D.get(e);return n||(n=t(),$D.set(e,n),UB.add(n)),n}const l1=(e,t,n)=>{const a=jd(t,n);a!==void 0&&e.add(a)};class Nve{constructor(t){this._config=jve(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=qB(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),VB(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return G_(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,n){return G_(`${t}.transition.${n}`,()=>[[`datasets.${t}.transitions.${n}`,`transitions.${n}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,n){return G_(`${t}-${n}`,()=>[[`datasets.${t}.elements.${n}`,`datasets.${t}`,`elements.${n}`,""]])}pluginScopeKeys(t){const n=t.id,a=this.type;return G_(`${a}-plugin-${n}`,()=>[[`plugins.${n}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,n){const a=this._scopeCache;let r=a.get(t);return(!r||n)&&(r=new Map,a.set(t,r)),r}getOptionScopes(t,n,a){const{options:r,type:i}=this,o=this._cachedScopes(t,a),c=o.get(n);if(c)return c;const l=new Set;n.forEach(f=>{t&&(l.add(t),f.forEach(g=>l1(l,t,g))),f.forEach(g=>l1(l,r,g)),f.forEach(g=>l1(l,$h[i]||{},g)),f.forEach(g=>l1(l,Hr,g)),f.forEach(g=>l1(l,vj,g))});const d=Array.from(l);return d.length===0&&d.push(Object.create(null)),UB.has(n)&&o.set(n,d),d}chartOptionScopes(){const{options:t,type:n}=this;return[t,$h[n]||{},Hr.datasets[n]||{},{type:n},Hr,vj]}resolveNamedOptions(t,n,a,r=[""]){const i={$shared:!0},{resolver:o,subPrefixes:c}=PD(this._resolverCache,t,r);let l=o;if(kve(o,n)){i.$shared=!1,a=Nd(a)?a():a;const d=this.createResolver(t,a,c);l=xm(o,a,d)}for(const d of n)i[d]=l[d];return i}createResolver(t,n,a=[""],r){const{resolver:i}=PD(this._resolverCache,t,a);return Oa(n)?xm(i,n,void 0,r):i}}function PD(e,t,n){let a=e.get(t);a||(a=new Map,e.set(t,a));const r=n.join();let i=a.get(r);return i||(i={resolver:Y3(t,n),subPrefixes:n.filter(c=>!c.toLowerCase().includes("hover"))},a.set(r,i)),i}const Eve=e=>Oa(e)&&Object.getOwnPropertyNames(e).some(t=>Nd(e[t]));function kve(e,t){const{isScriptable:n,isIndexable:a}=CB(e);for(const r of t){const i=n(r),o=a(r),c=(o||i)&&e[r];if(i&&(Nd(c)||Eve(c))||o&&Fr(c))return!0}return!1}var Ive="4.4.9";const Dve=["top","bottom","left","right","chartArea"];function FD(e,t){return e==="top"||e==="bottom"||Dve.indexOf(e)===-1&&t==="x"}function HD(e,t){return function(n,a){return n[e]===a[e]?n[t]-a[t]:n[e]-a[e]}}function zD(e){const t=e.chart,n=t.options.animation;t.notifyPlugins("afterRender"),Er(n&&n.onComplete,[e],t)}function Tve(e){const t=e.chart,n=t.options.animation;Er(n&&n.onProgress,[e],t)}function WB(e){return X3()&&typeof e=="string"?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const $v={},VD=e=>{const t=WB(e);return Object.values($v).filter(n=>n.canvas===t).pop()};function Ave(e,t,n){const a=Object.keys(e);for(const r of a){const i=+r;if(i>=t){const o=e[r];delete e[r],(n>0||i>t)&&(e[i+n]=o)}}}function Mve(e,t,n,a){return!n||e.type==="mouseout"?null:a?t:e}class Ko{static register(...t){dl.add(...t),qD()}static unregister(...t){dl.remove(...t),qD()}constructor(t,n){const a=this.config=new Nve(n),r=WB(t),i=VD(r);if(i)throw new Error("Canvas is already in use. Chart with ID '"+i.id+"' must be destroyed before the canvas with ID '"+i.canvas.id+"' can be reused.");const o=a.createResolver(a.chartOptionScopes(),this.getContext());this.platform=new(a.platform||K_e(r)),this.platform.updateConfig(a);const c=this.platform.acquireContext(r,o.aspectRatio),l=c&&c.canvas,d=l&&l.height,f=l&&l.width;if(this.id=Rge(),this.ctx=c,this.canvas=l,this.width=f,this.height=d,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new pve,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=Kge(g=>this.update(g),o.resizeDelay||0),this._dataChanges=[],$v[this.id]=this,!c||!l){console.error("Failed to create chart: can't acquire context from the given item");return}tu.listen(this,"complete",zD),tu.listen(this,"progress",Tve),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:n},width:a,height:r,_aspectRatio:i}=this;return ka(t)?n&&i?i:r?a/r:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return dl}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():hD(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return lD(this.canvas,this.ctx),this}stop(){return tu.stop(this),this}resize(t,n){tu.running(this)?this._resizeBeforeDraw={width:t,height:n}:this._resize(t,n)}_resize(t,n){const a=this.options,r=this.canvas,i=a.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(r,t,n,i),c=a.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,hD(this,c,!0)&&(this.notifyPlugins("resize",{size:o}),Er(a.onResize,[this,o],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};ur(n,(a,r)=>{a.id=r})}buildOrUpdateScales(){const t=this.options,n=t.scales,a=this.scales,r=Object.keys(a).reduce((o,c)=>(o[c]=!1,o),{});let i=[];n&&(i=i.concat(Object.keys(n).map(o=>{const c=n[o],l=wj(o,c),d=l==="r",f=l==="x";return{options:c,dposition:d?"chartArea":f?"bottom":"left",dtype:d?"radialLinear":f?"category":"linear"}}))),ur(i,o=>{const c=o.options,l=c.id,d=wj(l,c),f=la(c.type,o.dtype);(c.position===void 0||FD(c.position,d)!==FD(o.dposition))&&(c.position=o.dposition),r[l]=!0;let g=null;if(l in a&&a[l].type===f)g=a[l];else{const b=dl.getScale(f);g=new b({id:l,type:f,ctx:this.ctx,chart:this}),a[g.id]=g}g.init(c,t)}),ur(r,(o,c)=>{o||delete a[c]}),ur(a,o=>{lo.configure(this,o,o.options),lo.addBox(this,o)})}_updateMetasets(){const t=this._metasets,n=this.data.datasets.length,a=t.length;if(t.sort((r,i)=>r.index-i.index),a>n){for(let r=n;r<a;++r)this._destroyDatasetMeta(r);t.splice(n,a-n)}this._sortedMetasets=t.slice(0).sort(HD("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:n}}=this;t.length>n.length&&delete this._stacks,t.forEach((a,r)=>{n.filter(i=>i===a._dataset).length===0&&this._destroyDatasetMeta(r)})}buildOrUpdateControllers(){const t=[],n=this.data.datasets;let a,r;for(this._removeUnreferencedMetasets(),a=0,r=n.length;a<r;a++){const i=n[a];let o=this.getDatasetMeta(a);const c=i.type||this.config.type;if(o.type&&o.type!==c&&(this._destroyDatasetMeta(a),o=this.getDatasetMeta(a)),o.type=c,o.indexAxis=i.indexAxis||yj(c,this.options),o.order=i.order||0,o.index=a,o.label=""+i.label,o.visible=this.isDatasetVisible(a),o.controller)o.controller.updateIndex(a),o.controller.linkScales();else{const l=dl.getController(c),{datasetElementType:d,dataElementType:f}=Hr.datasets[c];Object.assign(l,{dataElementType:dl.getElement(f),datasetElementType:d&&dl.getElement(d)}),o.controller=new l(this,a),t.push(o.controller)}}return this._updateMetasets(),t}_resetElements(){ur(this.data.datasets,(t,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const n=this.config;n.update();const a=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!a.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const i=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let d=0,f=this.data.datasets.length;d<f;d++){const{controller:g}=this.getDatasetMeta(d),b=!r&&i.indexOf(g)===-1;g.buildOrUpdateElements(b),o=Math.max(+g.getMaxOverflow(),o)}o=this._minPadding=a.layout.autoPadding?o:0,this._updateLayout(o),r||ur(i,d=>{d.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(HD("z","_idx"));const{_active:c,_lastEvent:l}=this;l?this._eventHandler(l,!0):c.length&&this._updateHoverStyles(c,c,!0),this.render()}_updateScales(){ur(this.scales,t=>{lo.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,n=new Set(Object.keys(this._listeners)),a=new Set(t.events);(!eD(n,a)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,n=this._getUniformDataChanges()||[];for(const{method:a,start:r,count:i}of n){const o=a==="_removeElements"?-i:i;Ave(t,r,o)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const n=this.data.datasets.length,a=i=>new Set(t.filter(o=>o[0]===i).map((o,c)=>c+","+o.splice(1).join(","))),r=a(0);for(let i=1;i<n;i++)if(!eD(r,a(i)))return;return Array.from(r).map(i=>i.split(",")).map(i=>({method:i[1],start:+i[2],count:+i[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;lo.update(this,this.width,this.height,t);const n=this.chartArea,a=n.width<=0||n.height<=0;this._layers=[],ur(this.boxes,r=>{a&&r.position==="chartArea"||(r.configure&&r.configure(),this._layers.push(...r._layers()))},this),this._layers.forEach((r,i)=>{r._idx=i}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let n=0,a=this.data.datasets.length;n<a;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,a=this.data.datasets.length;n<a;++n)this._updateDataset(n,Nd(t)?t({datasetIndex:n}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,n){const a=this.getDatasetMeta(t),r={meta:a,index:t,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",r)!==!1&&(a.controller._update(n),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(tu.has(this)?this.attached&&!tu.running(this)&&tu.start(this):(this.draw(),zD({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:a,height:r}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(a,r)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(t=0;t<n.length&&n[t].z<=0;++t)n[t].draw(this.chartArea);for(this._drawDatasets();t<n.length;++t)n[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const n=this._sortedMetasets,a=[];let r,i;for(r=0,i=n.length;r<i;++r){const o=n[r];(!t||o.visible)&&a.push(o)}return a}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let n=t.length-1;n>=0;--n)this._drawDataset(t[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const n=this.ctx,a={meta:t,index:t.index,cancelable:!0},r=RB(this,t);this.notifyPlugins("beforeDatasetDraw",a)!==!1&&(r&&Kb(n,r),t.controller.draw(),r&&Zb(n),a.cancelable=!1,this.notifyPlugins("afterDatasetDraw",a))}isPointInArea(t){return ou(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,n,a,r){const i=D_e.modes[n];return typeof i=="function"?i(this,t,a,r):[]}getDatasetMeta(t){const n=this.data.datasets[t],a=this._metasets;let r=a.filter(i=>i&&i._dataset===n).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:t,_dataset:n,_parsed:[],_sorted:!1},a.push(r)),r}getContext(){return this.$context||(this.$context=Dd(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const n=this.data.datasets[t];if(!n)return!1;const a=this.getDatasetMeta(t);return typeof a.hidden=="boolean"?!a.hidden:!n.hidden}setDatasetVisibility(t,n){const a=this.getDatasetMeta(t);a.hidden=!n}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,n,a){const r=a?"show":"hide",i=this.getDatasetMeta(t),o=i.controller._resolveAnimations(void 0,r);kg(n)?(i.data[n].hidden=!a,this.update()):(this.setDatasetVisibility(t,a),o.update(i,{visible:a}),this.update(c=>c.datasetIndex===t?r:void 0))}hide(t,n){this._updateVisibility(t,n,!1)}show(t,n){this._updateVisibility(t,n,!0)}_destroyDatasetMeta(t){const n=this._metasets[t];n&&n.controller&&n.controller._destroy(),delete this._metasets[t]}_stop(){let t,n;for(this.stop(),tu.remove(this),t=0,n=this.data.datasets.length;t<n;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:n}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),lD(t,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete $v[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,n=this.platform,a=(i,o)=>{n.addEventListener(this,i,o),t[i]=o},r=(i,o,c)=>{i.offsetX=o,i.offsetY=c,this._eventHandler(i)};ur(this.options.events,i=>a(i,r))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,n=this.platform,a=(l,d)=>{n.addEventListener(this,l,d),t[l]=d},r=(l,d)=>{t[l]&&(n.removeEventListener(this,l,d),delete t[l])},i=(l,d)=>{this.canvas&&this.resize(l,d)};let o;const c=()=>{r("attach",c),this.attached=!0,this.resize(),a("resize",i),a("detach",o)};o=()=>{this.attached=!1,r("resize",i),this._stop(),this._resize(0,0),a("attach",c)},n.isAttached(this.canvas)?c():o()}unbindEvents(){ur(this._listeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._listeners={},ur(this._responsiveListeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,n,a){const r=a?"set":"remove";let i,o,c,l;for(n==="dataset"&&(i=this.getDatasetMeta(t[0].datasetIndex),i.controller["_"+r+"DatasetHoverStyle"]()),c=0,l=t.length;c<l;++c){o=t[c];const d=o&&this.getDatasetMeta(o.datasetIndex).controller;d&&d[r+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const n=this._active||[],a=t.map(({datasetIndex:i,index:o})=>{const c=this.getDatasetMeta(i);if(!c)throw new Error("No dataset found at index "+i);return{datasetIndex:i,element:c.data[o],index:o}});!Ox(a,n)&&(this._active=a,this._lastEvent=null,this._updateHoverStyles(a,n))}notifyPlugins(t,n,a){return this._plugins.notify(this,t,n,a)}isPluginEnabled(t){return this._plugins._cache.filter(n=>n.plugin.id===t).length===1}_updateHoverStyles(t,n,a){const r=this.options.hover,i=(l,d)=>l.filter(f=>!d.some(g=>f.datasetIndex===g.datasetIndex&&f.index===g.index)),o=i(n,t),c=a?t:i(t,n);o.length&&this.updateHoverStyle(o,r.mode,!1),c.length&&r.mode&&this.updateHoverStyle(c,r.mode,!0)}_eventHandler(t,n){const a={event:t,replay:n,cancelable:!0,inChartArea:this.isPointInArea(t)},r=o=>(o.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",a,r)===!1)return;const i=this._handleEvent(t,n,a.inChartArea);return a.cancelable=!1,this.notifyPlugins("afterEvent",a,r),(i||a.changed)&&this.render(),this}_handleEvent(t,n,a){const{_active:r=[],options:i}=this,o=n,c=this._getActiveElements(t,r,a,o),l=Fge(t),d=Mve(t,this._lastEvent,a,l);a&&(this._lastEvent=null,Er(i.onHover,[t,c,this],this),l&&Er(i.onClick,[t,c,this],this));const f=!Ox(c,r);return(f||n)&&(this._active=c,this._updateHoverStyles(c,r,n)),this._lastEvent=d,f}_getActiveElements(t,n,a,r){if(t.type==="mouseout")return[];if(!a)return n;const i=this.options.hover;return this.getElementsAtEventForMode(t,i.mode,i,r)}}Pt(Ko,"defaults",Hr),Pt(Ko,"instances",$v),Pt(Ko,"overrides",$h),Pt(Ko,"registry",dl),Pt(Ko,"version",Ive),Pt(Ko,"getChart",VD);function qD(){return ur(Ko.instances,e=>e._plugins.invalidate())}function Rve(e,t,n){const{startAngle:a,pixelMargin:r,x:i,y:o,outerRadius:c,innerRadius:l}=t;let d=r/c;e.beginPath(),e.arc(i,o,c,a-d,n+d),l>r?(d=r/l,e.arc(i,o,l,n+d,a-d,!0)):e.arc(i,o,r,n+fi,a-fi),e.closePath(),e.clip()}function Ove(e){return W3(e,["outerStart","outerEnd","innerStart","innerEnd"])}function Bve(e,t,n,a){const r=Ove(e.options.borderRadius),i=(n-t)/2,o=Math.min(i,a*t/2),c=l=>{const d=(n-Math.min(i,l))*a/2;return Hi(l,0,Math.min(i,d))};return{outerStart:c(r.outerStart),outerEnd:c(r.outerEnd),innerStart:Hi(r.innerStart,0,o),innerEnd:Hi(r.innerEnd,0,o)}}function Rf(e,t,n,a){return{x:n+e*Math.cos(t),y:a+e*Math.sin(t)}}function Hx(e,t,n,a,r,i){const{x:o,y:c,startAngle:l,pixelMargin:d,innerRadius:f}=t,g=Math.max(t.outerRadius+a+n-d,0),b=f>0?f+a+n+d:0;let w=0;const S=r-l;if(a){const V=f>0?f-a:0,q=g>0?g-a:0,T=(V+q)/2,J=T!==0?S*T/(T+a):S;w=(S-J)/2}const j=Math.max(.001,S*g-n/Ar)/g,N=(S-j)/2,I=l+N+w,M=r-N-w,{outerStart:B,outerEnd:P,innerStart:O,innerEnd:R}=Bve(t,b,g,M-I),$=g-B,U=g-P,F=I+B/$,H=M-P/U,ne=b+O,X=b+R,te=I+O/ne,se=M-R/X;if(e.beginPath(),i){const V=(F+H)/2;if(e.arc(o,c,g,F,V),e.arc(o,c,g,V,H),P>0){const Z=Rf(U,H,o,c);e.arc(Z.x,Z.y,P,H,M+fi)}const q=Rf(X,M,o,c);if(e.lineTo(q.x,q.y),R>0){const Z=Rf(X,se,o,c);e.arc(Z.x,Z.y,R,M+fi,se+Math.PI)}const T=(M-R/b+(I+O/b))/2;if(e.arc(o,c,b,M-R/b,T,!0),e.arc(o,c,b,T,I+O/b,!0),O>0){const Z=Rf(ne,te,o,c);e.arc(Z.x,Z.y,O,te+Math.PI,I-fi)}const J=Rf($,I,o,c);if(e.lineTo(J.x,J.y),B>0){const Z=Rf($,F,o,c);e.arc(Z.x,Z.y,B,I-fi,F)}}else{e.moveTo(o,c);const V=Math.cos(F)*g+o,q=Math.sin(F)*g+c;e.lineTo(V,q);const T=Math.cos(H)*g+o,J=Math.sin(H)*g+c;e.lineTo(T,J)}e.closePath()}function Lve(e,t,n,a,r){const{fullCircles:i,startAngle:o,circumference:c}=t;let l=t.endAngle;if(i){Hx(e,t,n,a,l,r);for(let d=0;d<i;++d)e.fill();isNaN(c)||(l=o+(c%Dr||Dr))}return Hx(e,t,n,a,l,r),e.fill(),l}function $ve(e,t,n,a,r){const{fullCircles:i,startAngle:o,circumference:c,options:l}=t,{borderWidth:d,borderJoinStyle:f,borderDash:g,borderDashOffset:b}=l,w=l.borderAlign==="inner";if(!d)return;e.setLineDash(g||[]),e.lineDashOffset=b,w?(e.lineWidth=d*2,e.lineJoin=f||"round"):(e.lineWidth=d,e.lineJoin=f||"bevel");let S=t.endAngle;if(i){Hx(e,t,n,a,S,r);for(let j=0;j<i;++j)e.stroke();isNaN(c)||(S=o+(c%Dr||Dr))}w&&Rve(e,t,S),i||(Hx(e,t,n,a,S,r),e.stroke())}class R1 extends Su{constructor(n){super();Pt(this,"circumference");Pt(this,"endAngle");Pt(this,"fullCircles");Pt(this,"innerRadius");Pt(this,"outerRadius");Pt(this,"pixelMargin");Pt(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,n&&Object.assign(this,n)}inRange(n,a,r){const i=this.getProps(["x","y"],r),{angle:o,distance:c}=fB(i,{x:n,y:a}),{startAngle:l,endAngle:d,innerRadius:f,outerRadius:g,circumference:b}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],r),w=(this.options.spacing+this.options.borderWidth)/2,S=la(b,d-l),j=Ig(o,l,d)&&l!==d,N=S>=Dr||j,I=ru(c,f+w,g+w);return N&&I}getCenterPoint(n){const{x:a,y:r,startAngle:i,endAngle:o,innerRadius:c,outerRadius:l}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],n),{offset:d,spacing:f}=this.options,g=(i+o)/2,b=(c+l+f+d)/2;return{x:a+Math.cos(g)*b,y:r+Math.sin(g)*b}}tooltipPosition(n){return this.getCenterPoint(n)}draw(n){const{options:a,circumference:r}=this,i=(a.offset||0)/4,o=(a.spacing||0)/2,c=a.circular;if(this.pixelMargin=a.borderAlign==="inner"?.33:0,this.fullCircles=r>Dr?Math.floor(r/Dr):0,r===0||this.innerRadius<0||this.outerRadius<0)return;n.save();const l=(this.startAngle+this.endAngle)/2;n.translate(Math.cos(l)*i,Math.sin(l)*i);const d=1-Math.sin(Math.min(Ar,r||0)),f=i*d;n.fillStyle=a.backgroundColor,n.strokeStyle=a.borderColor,Lve(n,this,f,o,c),$ve(n,this,f,o,c),n.restore()}}Pt(R1,"id","arc"),Pt(R1,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),Pt(R1,"defaultRoutes",{backgroundColor:"backgroundColor"}),Pt(R1,"descriptors",{_scriptable:!0,_indexable:n=>n!=="borderDash"});function YB(e,t,n=t){e.lineCap=la(n.borderCapStyle,t.borderCapStyle),e.setLineDash(la(n.borderDash,t.borderDash)),e.lineDashOffset=la(n.borderDashOffset,t.borderDashOffset),e.lineJoin=la(n.borderJoinStyle,t.borderJoinStyle),e.lineWidth=la(n.borderWidth,t.borderWidth),e.strokeStyle=la(n.borderColor,t.borderColor)}function Pve(e,t,n){e.lineTo(n.x,n.y)}function Fve(e){return e.stepped?l0e:e.tension||e.cubicInterpolationMode==="monotone"?u0e:Pve}function GB(e,t,n={}){const a=e.length,{start:r=0,end:i=a-1}=n,{start:o,end:c}=t,l=Math.max(r,o),d=Math.min(i,c),f=r<o&&i<o||r>c&&i>c;return{count:a,start:l,loop:t.loop,ilen:d<l&&!f?a+d-l:d-l}}function Hve(e,t,n,a){const{points:r,options:i}=t,{count:o,start:c,loop:l,ilen:d}=GB(r,n,a),f=Fve(i);let{move:g=!0,reverse:b}=a||{},w,S,j;for(w=0;w<=d;++w)S=r[(c+(b?d-w:w))%o],!S.skip&&(g?(e.moveTo(S.x,S.y),g=!1):f(e,j,S,b,i.stepped),j=S);return l&&(S=r[(c+(b?d:0))%o],f(e,j,S,b,i.stepped)),!!l}function zve(e,t,n,a){const r=t.points,{count:i,start:o,ilen:c}=GB(r,n,a),{move:l=!0,reverse:d}=a||{};let f=0,g=0,b,w,S,j,N,I;const M=P=>(o+(d?c-P:P))%i,B=()=>{j!==N&&(e.lineTo(f,N),e.lineTo(f,j),e.lineTo(f,I))};for(l&&(w=r[M(0)],e.moveTo(w.x,w.y)),b=0;b<=c;++b){if(w=r[M(b)],w.skip)continue;const P=w.x,O=w.y,R=P|0;R===S?(O<j?j=O:O>N&&(N=O),f=(g*f+P)/++g):(B(),e.lineTo(P,O),S=R,g=0,j=N=O),I=O}B()}function Cj(e){const t=e.options,n=t.borderDash&&t.borderDash.length;return!e._decimated&&!e._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!n?zve:Hve}function Vve(e){return e.stepped?z0e:e.tension||e.cubicInterpolationMode==="monotone"?V0e:ch}function qve(e,t,n,a){let r=t._path;r||(r=t._path=new Path2D,t.path(r,n,a)&&r.closePath()),YB(e,t.options),e.stroke(r)}function Uve(e,t,n,a){const{segments:r,options:i}=t,o=Cj(t);for(const c of r)YB(e,i,c.style),e.beginPath(),o(e,t,c,{start:n,end:n+a-1})&&e.closePath(),e.stroke()}const Wve=typeof Path2D=="function";function Yve(e,t,n,a){Wve&&!t.options.segment?qve(e,t,n,a):Uve(e,t,n,a)}class fd extends Su{constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,n){const a=this.options;if((a.tension||a.cubicInterpolationMode==="monotone")&&!a.stepped&&!this._pointsUpdated){const r=a.spanGaps?this._loop:this._fullLoop;R0e(this._points,a,t,r,n),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=Q0e(this,this.options.segment))}first(){const t=this.segments,n=this.points;return t.length&&n[t[0].start]}last(){const t=this.segments,n=this.points,a=t.length;return a&&n[t[a-1].end]}interpolate(t,n){const a=this.options,r=t[n],i=this.points,o=MB(this,{property:n,start:r,end:r});if(!o.length)return;const c=[],l=Vve(a);let d,f;for(d=0,f=o.length;d<f;++d){const{start:g,end:b}=o[d],w=i[g],S=i[b];if(w===S){c.push(w);continue}const j=Math.abs((r-w[n])/(S[n]-w[n])),N=l(w,S,j,a.stepped);N[n]=t[n],c.push(N)}return c.length===1?c[0]:c}pathSegment(t,n,a){return Cj(this)(t,this,n,a)}path(t,n,a){const r=this.segments,i=Cj(this);let o=this._loop;n=n||0,a=a||this.points.length-n;for(const c of r)o&=i(t,this,c,{start:n,end:n+a-1});return!!o}draw(t,n,a,r){const i=this.options||{};(this.points||[]).length&&i.borderWidth&&(t.save(),Yve(t,this,a,r),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}Pt(fd,"id","line"),Pt(fd,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),Pt(fd,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),Pt(fd,"descriptors",{_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"});function UD(e,t,n,a){const r=e.options,{[n]:i}=e.getProps([n],a);return Math.abs(t-i)<r.radius+r.hitRadius}class Pv extends Su{constructor(n){super();Pt(this,"parsed");Pt(this,"skip");Pt(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,n&&Object.assign(this,n)}inRange(n,a,r){const i=this.options,{x:o,y:c}=this.getProps(["x","y"],r);return Math.pow(n-o,2)+Math.pow(a-c,2)<Math.pow(i.hitRadius+i.radius,2)}inXRange(n,a){return UD(this,n,"x",a)}inYRange(n,a){return UD(this,n,"y",a)}getCenterPoint(n){const{x:a,y:r}=this.getProps(["x","y"],n);return{x:a,y:r}}size(n){n=n||this.options||{};let a=n.radius||0;a=Math.max(a,a&&n.hoverRadius||0);const r=a&&n.borderWidth||0;return(a+r)*2}draw(n,a){const r=this.options;this.skip||r.radius<.1||!ou(this,a,this.size(r)/2)||(n.strokeStyle=r.borderColor,n.lineWidth=r.borderWidth,n.fillStyle=r.backgroundColor,xj(n,r,this.x,this.y))}getRange(){const n=this.options||{};return n.radius+n.hitRadius}}Pt(Pv,"id","point"),Pt(Pv,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),Pt(Pv,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function QB(e,t){const{x:n,y:a,base:r,width:i,height:o}=e.getProps(["x","y","base","width","height"],t);let c,l,d,f,g;return e.horizontal?(g=o/2,c=Math.min(n,r),l=Math.max(n,r),d=a-g,f=a+g):(g=i/2,c=n-g,l=n+g,d=Math.min(a,r),f=Math.max(a,r)),{left:c,top:d,right:l,bottom:f}}function md(e,t,n,a){return e?0:Hi(t,n,a)}function Gve(e,t,n){const a=e.options.borderWidth,r=e.borderSkipped,i=wB(a);return{t:md(r.top,i.top,0,n),r:md(r.right,i.right,0,t),b:md(r.bottom,i.bottom,0,n),l:md(r.left,i.left,0,t)}}function Qve(e,t,n){const{enableBorderRadius:a}=e.getProps(["enableBorderRadius"]),r=e.options.borderRadius,i=Nh(r),o=Math.min(t,n),c=e.borderSkipped,l=a||Oa(r);return{topLeft:md(!l||c.top||c.left,i.topLeft,0,o),topRight:md(!l||c.top||c.right,i.topRight,0,o),bottomLeft:md(!l||c.bottom||c.left,i.bottomLeft,0,o),bottomRight:md(!l||c.bottom||c.right,i.bottomRight,0,o)}}function Xve(e){const t=QB(e),n=t.right-t.left,a=t.bottom-t.top,r=Gve(e,n/2,a/2),i=Qve(e,n/2,a/2);return{outer:{x:t.left,y:t.top,w:n,h:a,radius:i},inner:{x:t.left+r.l,y:t.top+r.t,w:n-r.l-r.r,h:a-r.t-r.b,radius:{topLeft:Math.max(0,i.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,i.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,i.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,i.bottomRight-Math.max(r.b,r.r))}}}}function kC(e,t,n,a){const r=t===null,i=n===null,c=e&&!(r&&i)&&QB(e,a);return c&&(r||ru(t,c.left,c.right))&&(i||ru(n,c.top,c.bottom))}function Kve(e){return e.topLeft||e.topRight||e.bottomLeft||e.bottomRight}function Zve(e,t){e.rect(t.x,t.y,t.w,t.h)}function IC(e,t,n={}){const a=e.x!==n.x?-t:0,r=e.y!==n.y?-t:0,i=(e.x+e.w!==n.x+n.w?t:0)-a,o=(e.y+e.h!==n.y+n.h?t:0)-r;return{x:e.x+a,y:e.y+r,w:e.w+i,h:e.h+o,radius:e.radius}}class Fv extends Su{constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:n,options:{borderColor:a,backgroundColor:r}}=this,{inner:i,outer:o}=Xve(this),c=Kve(o.radius)?Dg:Zve;t.save(),(o.w!==i.w||o.h!==i.h)&&(t.beginPath(),c(t,IC(o,n,i)),t.clip(),c(t,IC(i,-n,o)),t.fillStyle=a,t.fill("evenodd")),t.beginPath(),c(t,IC(i,n)),t.fillStyle=r,t.fill(),t.restore()}inRange(t,n,a){return kC(this,t,n,a)}inXRange(t,n){return kC(this,t,null,n)}inYRange(t,n){return kC(this,null,t,n)}getCenterPoint(t){const{x:n,y:a,base:r,horizontal:i}=this.getProps(["x","y","base","horizontal"],t);return{x:i?(n+r)/2:n,y:i?a:(a+r)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}Pt(Fv,"id","bar"),Pt(Fv,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),Pt(Fv,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});var Jve=Object.freeze({__proto__:null,ArcElement:R1,BarElement:Fv,LineElement:fd,PointElement:Pv});const Sj=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],WD=Sj.map(e=>e.replace("rgb(","rgba(").replace(")",", 0.5)"));function XB(e){return Sj[e%Sj.length]}function KB(e){return WD[e%WD.length]}function exe(e,t){return e.borderColor=XB(t),e.backgroundColor=KB(t),++t}function txe(e,t){return e.backgroundColor=e.data.map(()=>XB(t++)),t}function nxe(e,t){return e.backgroundColor=e.data.map(()=>KB(t++)),t}function sxe(e){let t=0;return(n,a)=>{const r=e.getDatasetMeta(a).controller;r instanceof ph?t=txe(n,t):r instanceof ig?t=nxe(n,t):r&&(t=exe(n,t))}}function YD(e){let t;for(t in e)if(e[t].borderColor||e[t].backgroundColor)return!0;return!1}function axe(e){return e&&(e.borderColor||e.backgroundColor)}function rxe(){return Hr.borderColor!=="rgba(0,0,0,0.1)"||Hr.backgroundColor!=="rgba(0,0,0,0.1)"}var ixe={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(e,t,n){if(!n.enabled)return;const{data:{datasets:a},options:r}=e.config,{elements:i}=r,o=YD(a)||axe(r)||i&&YD(i)||rxe();if(!n.forceOverride&&o)return;const c=sxe(e);a.forEach(c)}};function oxe(e,t,n,a,r){const i=r.samples||a;if(i>=n)return e.slice(t,t+n);const o=[],c=(n-2)/(i-2);let l=0;const d=t+n-1;let f=t,g,b,w,S,j;for(o[l++]=e[f],g=0;g<i-2;g++){let N=0,I=0,M;const B=Math.floor((g+1)*c)+1+t,P=Math.min(Math.floor((g+2)*c)+1,n)+t,O=P-B;for(M=B;M<P;M++)N+=e[M].x,I+=e[M].y;N/=O,I/=O;const R=Math.floor(g*c)+1+t,$=Math.min(Math.floor((g+1)*c)+1,n)+t,{x:U,y:F}=e[f];for(w=S=-1,M=R;M<$;M++)S=.5*Math.abs((U-N)*(e[M].y-F)-(U-e[M].x)*(I-F)),S>w&&(w=S,b=e[M],j=M);o[l++]=b,f=j}return o[l++]=e[d],o}function cxe(e,t,n,a){let r=0,i=0,o,c,l,d,f,g,b,w,S,j;const N=[],I=t+n-1,M=e[t].x,P=e[I].x-M;for(o=t;o<t+n;++o){c=e[o],l=(c.x-M)/P*a,d=c.y;const O=l|0;if(O===f)d<S?(S=d,g=o):d>j&&(j=d,b=o),r=(i*r+c.x)/++i;else{const R=o-1;if(!ka(g)&&!ka(b)){const $=Math.min(g,b),U=Math.max(g,b);$!==w&&$!==R&&N.push({...e[$],x:r}),U!==w&&U!==R&&N.push({...e[U],x:r})}o>0&&R!==w&&N.push(e[R]),N.push(c),f=O,i=0,S=j=d,g=b=w=o}}return N}function ZB(e){if(e._decimated){const t=e._data;delete e._decimated,delete e._data,Object.defineProperty(e,"data",{configurable:!0,enumerable:!0,writable:!0,value:t})}}function GD(e){e.data.datasets.forEach(t=>{ZB(t)})}function lxe(e,t){const n=t.length;let a=0,r;const{iScale:i}=e,{min:o,max:c,minDefined:l,maxDefined:d}=i.getUserBounds();return l&&(a=Hi(iu(t,i.axis,o).lo,0,n-1)),d?r=Hi(iu(t,i.axis,c).hi+1,a,n)-a:r=n-a,{start:a,count:r}}var uxe={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(e,t,n)=>{if(!n.enabled){GD(e);return}const a=e.width;e.data.datasets.forEach((r,i)=>{const{_data:o,indexAxis:c}=r,l=e.getDatasetMeta(i),d=o||r.data;if(A1([c,e.options.indexAxis])==="y"||!l.controller.supportsDecimation)return;const f=e.scales[l.xAxisID];if(f.type!=="linear"&&f.type!=="time"||e.options.parsing)return;let{start:g,count:b}=lxe(l,d);const w=n.threshold||4*a;if(b<=w){ZB(r);return}ka(o)&&(r._data=d,delete r.data,Object.defineProperty(r,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(j){this._data=j}}));let S;switch(n.algorithm){case"lttb":S=oxe(d,g,b,a,n);break;case"min-max":S=cxe(d,g,b,a);break;default:throw new Error(`Unsupported decimation algorithm '${n.algorithm}'`)}r._decimated=S})},destroy(e){GD(e)}};function dxe(e,t,n){const a=e.segments,r=e.points,i=t.points,o=[];for(const c of a){let{start:l,end:d}=c;d=J3(l,d,r);const f=jj(n,r[l],r[d],c.loop);if(!t.segments){o.push({source:c,target:f,start:r[l],end:r[d]});continue}const g=MB(t,f);for(const b of g){const w=jj(n,i[b.start],i[b.end],b.loop),S=AB(c,r,w);for(const j of S)o.push({source:j,target:b,start:{[n]:QD(f,w,"start",Math.max)},end:{[n]:QD(f,w,"end",Math.min)}})}}return o}function jj(e,t,n,a){if(a)return;let r=t[e],i=n[e];return e==="angle"&&(r=Xo(r),i=Xo(i)),{property:e,start:r,end:i}}function hxe(e,t){const{x:n=null,y:a=null}=e||{},r=t.points,i=[];return t.segments.forEach(({start:o,end:c})=>{c=J3(o,c,r);const l=r[o],d=r[c];a!==null?(i.push({x:l.x,y:a}),i.push({x:d.x,y:a})):n!==null&&(i.push({x:n,y:l.y}),i.push({x:n,y:d.y}))}),i}function J3(e,t,n){for(;t>e;t--){const a=n[t];if(!isNaN(a.x)&&!isNaN(a.y))break}return t}function QD(e,t,n,a){return e&&t?a(e[n],t[n]):e?e[n]:t?t[n]:0}function JB(e,t){let n=[],a=!1;return Fr(e)?(a=!0,n=e):n=hxe(e,t),n.length?new fd({points:n,options:{tension:0},_loop:a,_fullLoop:a}):null}function XD(e){return e&&e.fill!==!1}function fxe(e,t,n){let r=e[t].fill;const i=[t];let o;if(!n)return r;for(;r!==!1&&i.indexOf(r)===-1;){if(!si(r))return r;if(o=e[r],!o)return!1;if(o.visible)return r;i.push(r),r=o.fill}return!1}function mxe(e,t,n){const a=vxe(e);if(Oa(a))return isNaN(a.value)?!1:a;let r=parseFloat(a);return si(r)&&Math.floor(r)===r?pxe(a[0],t,r,n):["origin","start","end","stack","shape"].indexOf(a)>=0&&a}function pxe(e,t,n,a){return(e==="-"||e==="+")&&(n=t+n),n===t||n<0||n>=a?!1:n}function gxe(e,t){let n=null;return e==="start"?n=t.bottom:e==="end"?n=t.top:Oa(e)?n=t.getPixelForValue(e.value):t.getBasePixel&&(n=t.getBasePixel()),n}function _xe(e,t,n){let a;return e==="start"?a=n:e==="end"?a=t.options.reverse?t.min:t.max:Oa(e)?a=e.value:a=t.getBaseValue(),a}function vxe(e){const t=e.options,n=t.fill;let a=la(n&&n.target,n);return a===void 0&&(a=!!t.backgroundColor),a===!1||a===null?!1:a===!0?"origin":a}function xxe(e){const{scale:t,index:n,line:a}=e,r=[],i=a.segments,o=a.points,c=bxe(t,n);c.push(JB({x:null,y:t.bottom},a));for(let l=0;l<i.length;l++){const d=i[l];for(let f=d.start;f<=d.end;f++)yxe(r,o[f],c)}return new fd({points:r,options:{}})}function bxe(e,t){const n=[],a=e.getMatchingVisibleMetas("line");for(let r=0;r<a.length;r++){const i=a[r];if(i.index===t)break;i.hidden||n.unshift(i.dataset)}return n}function yxe(e,t,n){const a=[];for(let r=0;r<n.length;r++){const i=n[r],{first:o,last:c,point:l}=wxe(i,t,"x");if(!(!l||o&&c)){if(o)a.unshift(l);else if(e.push(l),!c)break}}e.push(...a)}function wxe(e,t,n){const a=e.interpolate(t,n);if(!a)return{};const r=a[n],i=e.segments,o=e.points;let c=!1,l=!1;for(let d=0;d<i.length;d++){const f=i[d],g=o[f.start][n],b=o[f.end][n];if(ru(r,g,b)){c=r===g,l=r===b;break}}return{first:c,last:l,point:a}}class eL{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,n,a){const{x:r,y:i,radius:o}=this;return n=n||{start:0,end:Dr},t.arc(r,i,o,n.end,n.start,!0),!a.bounds}interpolate(t){const{x:n,y:a,radius:r}=this,i=t.angle;return{x:n+Math.cos(i)*r,y:a+Math.sin(i)*r,angle:i}}}function Cxe(e){const{chart:t,fill:n,line:a}=e;if(si(n))return Sxe(t,n);if(n==="stack")return xxe(e);if(n==="shape")return!0;const r=jxe(e);return r instanceof eL?r:JB(r,a)}function Sxe(e,t){const n=e.getDatasetMeta(t);return n&&e.isDatasetVisible(t)?n.dataset:null}function jxe(e){return(e.scale||{}).getPointPositionForValue?Exe(e):Nxe(e)}function Nxe(e){const{scale:t={},fill:n}=e,a=gxe(n,t);if(si(a)){const r=t.isHorizontal();return{x:r?a:null,y:r?null:a}}return null}function Exe(e){const{scale:t,fill:n}=e,a=t.options,r=t.getLabels().length,i=a.reverse?t.max:t.min,o=_xe(n,t,i),c=[];if(a.grid.circular){const l=t.getPointPositionForValue(0,i);return new eL({x:l.x,y:l.y,radius:t.getDistanceFromCenterForValue(o)})}for(let l=0;l<r;++l)c.push(t.getPointPositionForValue(l,o));return c}function DC(e,t,n){const a=Cxe(t),{chart:r,index:i,line:o,scale:c,axis:l}=t,d=o.options,f=d.fill,g=d.backgroundColor,{above:b=g,below:w=g}=f||{},S=r.getDatasetMeta(i),j=RB(r,S);a&&o.points.length&&(Kb(e,n),kxe(e,{line:o,target:a,above:b,below:w,area:n,scale:c,axis:l,clip:j}),Zb(e))}function kxe(e,t){const{line:n,target:a,above:r,below:i,area:o,scale:c,clip:l}=t,d=n._loop?"angle":t.axis;e.save(),d==="x"&&i!==r&&(KD(e,a,o.top),ZD(e,{line:n,target:a,color:r,scale:c,property:d,clip:l}),e.restore(),e.save(),KD(e,a,o.bottom)),ZD(e,{line:n,target:a,color:i,scale:c,property:d,clip:l}),e.restore()}function KD(e,t,n){const{segments:a,points:r}=t;let i=!0,o=!1;e.beginPath();for(const c of a){const{start:l,end:d}=c,f=r[l],g=r[J3(l,d,r)];i?(e.moveTo(f.x,f.y),i=!1):(e.lineTo(f.x,n),e.lineTo(f.x,f.y)),o=!!t.pathSegment(e,c,{move:o}),o?e.closePath():e.lineTo(g.x,n)}e.lineTo(t.first().x,n),e.closePath(),e.clip()}function ZD(e,t){const{line:n,target:a,property:r,color:i,scale:o,clip:c}=t,l=dxe(n,a,r);for(const{source:d,target:f,start:g,end:b}of l){const{style:{backgroundColor:w=i}={}}=d,S=a!==!0;e.save(),e.fillStyle=w,Ixe(e,o,c,S&&jj(r,g,b)),e.beginPath();const j=!!n.pathSegment(e,d);let N;if(S){j?e.closePath():JD(e,a,b,r);const I=!!a.pathSegment(e,f,{move:j,reverse:!0});N=j&&I,N||JD(e,a,g,r)}e.closePath(),e.fill(N?"evenodd":"nonzero"),e.restore()}}function Ixe(e,t,n,a){const r=t.chart.chartArea,{property:i,start:o,end:c}=a||{};if(i==="x"||i==="y"){let l,d,f,g;i==="x"?(l=o,d=r.top,f=c,g=r.bottom):(l=r.left,d=o,f=r.right,g=c),e.beginPath(),n&&(l=Math.max(l,n.left),f=Math.min(f,n.right),d=Math.max(d,n.top),g=Math.min(g,n.bottom)),e.rect(l,d,f-l,g-d),e.clip()}}function JD(e,t,n,a){const r=t.interpolate(n,a);r&&e.lineTo(r.x,r.y)}var Dxe={id:"filler",afterDatasetsUpdate(e,t,n){const a=(e.data.datasets||[]).length,r=[];let i,o,c,l;for(o=0;o<a;++o)i=e.getDatasetMeta(o),c=i.dataset,l=null,c&&c.options&&c instanceof fd&&(l={visible:e.isDatasetVisible(o),index:o,fill:mxe(c,o,a),chart:e,axis:i.controller.options.indexAxis,scale:i.vScale,line:c}),i.$filler=l,r.push(l);for(o=0;o<a;++o)l=r[o],!(!l||l.fill===!1)&&(l.fill=fxe(r,o,n.propagate))},beforeDraw(e,t,n){const a=n.drawTime==="beforeDraw",r=e.getSortedVisibleDatasetMetas(),i=e.chartArea;for(let o=r.length-1;o>=0;--o){const c=r[o].$filler;c&&(c.line.updateControlPoints(i,c.axis),a&&c.fill&&DC(e.ctx,c,i))}},beforeDatasetsDraw(e,t,n){if(n.drawTime!=="beforeDatasetsDraw")return;const a=e.getSortedVisibleDatasetMetas();for(let r=a.length-1;r>=0;--r){const i=a[r].$filler;XD(i)&&DC(e.ctx,i,e.chartArea)}},beforeDatasetDraw(e,t,n){const a=t.meta.$filler;!XD(a)||n.drawTime!=="beforeDatasetDraw"||DC(e.ctx,a,e.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const eT=(e,t)=>{let{boxHeight:n=t,boxWidth:a=t}=e;return e.usePointStyle&&(n=Math.min(n,t),a=e.pointStyleWidth||Math.min(a,t)),{boxWidth:a,boxHeight:n,itemHeight:Math.max(t,n)}},Txe=(e,t)=>e!==null&&t!==null&&e.datasetIndex===t.datasetIndex&&e.index===t.index;class tT extends Su{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,n,a){this.maxWidth=t,this.maxHeight=n,this._margins=a,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let n=Er(t.generateLabels,[this.chart],this)||[];t.filter&&(n=n.filter(a=>t.filter(a,this.chart.data))),t.sort&&(n=n.sort((a,r)=>t.sort(a,r,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:t,ctx:n}=this;if(!t.display){this.width=this.height=0;return}const a=t.labels,r=Ii(a.font),i=r.size,o=this._computeTitleHeight(),{boxWidth:c,itemHeight:l}=eT(a,i);let d,f;n.font=r.string,this.isHorizontal()?(d=this.maxWidth,f=this._fitRows(o,i,c,l)+10):(f=this.maxHeight,d=this._fitCols(o,r,c,l)+10),this.width=Math.min(d,t.maxWidth||this.maxWidth),this.height=Math.min(f,t.maxHeight||this.maxHeight)}_fitRows(t,n,a,r){const{ctx:i,maxWidth:o,options:{labels:{padding:c}}}=this,l=this.legendHitBoxes=[],d=this.lineWidths=[0],f=r+c;let g=t;i.textAlign="left",i.textBaseline="middle";let b=-1,w=-f;return this.legendItems.forEach((S,j)=>{const N=a+n/2+i.measureText(S.text).width;(j===0||d[d.length-1]+N+2*c>o)&&(g+=f,d[d.length-(j>0?0:1)]=0,w+=f,b++),l[j]={left:0,top:w,row:b,width:N,height:r},d[d.length-1]+=N+c}),g}_fitCols(t,n,a,r){const{ctx:i,maxHeight:o,options:{labels:{padding:c}}}=this,l=this.legendHitBoxes=[],d=this.columnSizes=[],f=o-t;let g=c,b=0,w=0,S=0,j=0;return this.legendItems.forEach((N,I)=>{const{itemWidth:M,itemHeight:B}=Axe(a,n,i,N,r);I>0&&w+B+2*c>f&&(g+=b+c,d.push({width:b,height:w}),S+=b+c,j++,b=w=0),l[I]={left:S,top:w,col:j,width:M,height:B},b=Math.max(b,M),w+=B+c}),g+=b,d.push({width:b,height:w}),g}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:a,labels:{padding:r},rtl:i}}=this,o=rm(i,this.left,this.width);if(this.isHorizontal()){let c=0,l=ro(a,this.left+r,this.right-this.lineWidths[c]);for(const d of n)c!==d.row&&(c=d.row,l=ro(a,this.left+r,this.right-this.lineWidths[c])),d.top+=this.top+t+r,d.left=o.leftForLtr(o.x(l),d.width),l+=d.width+r}else{let c=0,l=ro(a,this.top+t+r,this.bottom-this.columnSizes[c].height);for(const d of n)d.col!==c&&(c=d.col,l=ro(a,this.top+t+r,this.bottom-this.columnSizes[c].height)),d.top=l,d.left+=this.left+r,d.left=o.leftForLtr(o.x(d.left),d.width),l+=d.height+r}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;Kb(t,this),this._draw(),Zb(t)}}_draw(){const{options:t,columnSizes:n,lineWidths:a,ctx:r}=this,{align:i,labels:o}=t,c=Hr.color,l=rm(t.rtl,this.left,this.width),d=Ii(o.font),{padding:f}=o,g=d.size,b=g/2;let w;this.drawTitle(),r.textAlign=l.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=d.string;const{boxWidth:S,boxHeight:j,itemHeight:N}=eT(o,g),I=function(R,$,U){if(isNaN(S)||S<=0||isNaN(j)||j<0)return;r.save();const F=la(U.lineWidth,1);if(r.fillStyle=la(U.fillStyle,c),r.lineCap=la(U.lineCap,"butt"),r.lineDashOffset=la(U.lineDashOffset,0),r.lineJoin=la(U.lineJoin,"miter"),r.lineWidth=F,r.strokeStyle=la(U.strokeStyle,c),r.setLineDash(la(U.lineDash,[])),o.usePointStyle){const H={radius:j*Math.SQRT2/2,pointStyle:U.pointStyle,rotation:U.rotation,borderWidth:F},ne=l.xPlus(R,S/2),X=$+b;yB(r,H,ne,X,o.pointStyleWidth&&S)}else{const H=$+Math.max((g-j)/2,0),ne=l.leftForLtr(R,S),X=Nh(U.borderRadius);r.beginPath(),Object.values(X).some(te=>te!==0)?Dg(r,{x:ne,y:H,w:S,h:j,radius:X}):r.rect(ne,H,S,j),r.fill(),F!==0&&r.stroke()}r.restore()},M=function(R,$,U){Ph(r,U.text,R,$+N/2,d,{strikethrough:U.hidden,textAlign:l.textAlign(U.textAlign)})},B=this.isHorizontal(),P=this._computeTitleHeight();B?w={x:ro(i,this.left+f,this.right-a[0]),y:this.top+f+P,line:0}:w={x:this.left+f,y:ro(i,this.top+P+f,this.bottom-n[0].height),line:0},IB(this.ctx,t.textDirection);const O=N+f;this.legendItems.forEach((R,$)=>{r.strokeStyle=R.fontColor,r.fillStyle=R.fontColor;const U=r.measureText(R.text).width,F=l.textAlign(R.textAlign||(R.textAlign=o.textAlign)),H=S+b+U;let ne=w.x,X=w.y;l.setWidth(this.width),B?$>0&&ne+H+f>this.right&&(X=w.y+=O,w.line++,ne=w.x=ro(i,this.left+f,this.right-a[w.line])):$>0&&X+O>this.bottom&&(ne=w.x=ne+n[w.line].width+f,w.line++,X=w.y=ro(i,this.top+P+f,this.bottom-n[w.line].height));const te=l.x(ne);if(I(te,X,R),ne=Zge(F,ne+S+b,B?ne+H:this.right,t.rtl),M(l.x(ne),X,R),B)w.x+=H+f;else if(typeof R.text!="string"){const se=d.lineHeight;w.y+=tL(R,se)+f}else w.y+=O}),DB(this.ctx,t.textDirection)}drawTitle(){const t=this.options,n=t.title,a=Ii(n.font),r=ho(n.padding);if(!n.display)return;const i=rm(t.rtl,this.left,this.width),o=this.ctx,c=n.position,l=a.size/2,d=r.top+l;let f,g=this.left,b=this.width;if(this.isHorizontal())b=Math.max(...this.lineWidths),f=this.top+d,g=ro(t.align,g,this.right-b);else{const S=this.columnSizes.reduce((j,N)=>Math.max(j,N.height),0);f=d+ro(t.align,this.top,this.bottom-S-t.labels.padding-this._computeTitleHeight())}const w=ro(c,g,g+b);o.textAlign=i.textAlign(q3(c)),o.textBaseline="middle",o.strokeStyle=n.color,o.fillStyle=n.color,o.font=a.string,Ph(o,n.text,w,f,a)}_computeTitleHeight(){const t=this.options.title,n=Ii(t.font),a=ho(t.padding);return t.display?n.lineHeight+a.height:0}_getLegendItemAt(t,n){let a,r,i;if(ru(t,this.left,this.right)&&ru(n,this.top,this.bottom)){for(i=this.legendHitBoxes,a=0;a<i.length;++a)if(r=i[a],ru(t,r.left,r.left+r.width)&&ru(n,r.top,r.top+r.height))return this.legendItems[a]}return null}handleEvent(t){const n=this.options;if(!Oxe(t.type,n))return;const a=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const r=this._hoveredItem,i=Txe(r,a);r&&!i&&Er(n.onLeave,[t,r,this],this),this._hoveredItem=a,a&&!i&&Er(n.onHover,[t,a,this],this)}else a&&Er(n.onClick,[t,a,this],this)}}function Axe(e,t,n,a,r){const i=Mxe(a,e,t,n),o=Rxe(r,a,t.lineHeight);return{itemWidth:i,itemHeight:o}}function Mxe(e,t,n,a){let r=e.text;return r&&typeof r!="string"&&(r=r.reduce((i,o)=>i.length>o.length?i:o)),t+n.size/2+a.measureText(r).width}function Rxe(e,t,n){let a=e;return typeof t.text!="string"&&(a=tL(t,n)),a}function tL(e,t){const n=e.text?e.text.length:0;return t*n}function Oxe(e,t){return!!((e==="mousemove"||e==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(e==="click"||e==="mouseup"))}var Bxe={id:"legend",_element:tT,start(e,t,n){const a=e.legend=new tT({ctx:e.ctx,options:n,chart:e});lo.configure(e,a,n),lo.addBox(e,a)},stop(e){lo.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,n){const a=e.legend;lo.configure(e,a,n),a.options=n},afterUpdate(e){const t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,n){const a=t.datasetIndex,r=n.chart;r.isDatasetVisible(a)?(r.hide(a),t.hidden=!0):(r.show(a),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const t=e.data.datasets,{labels:{usePointStyle:n,pointStyle:a,textAlign:r,color:i,useBorderRadius:o,borderRadius:c}}=e.legend.options;return e._getSortedDatasetMetas().map(l=>{const d=l.controller.getStyle(n?0:void 0),f=ho(d.borderWidth);return{text:t[l.index].label,fillStyle:d.backgroundColor,fontColor:i,hidden:!l.visible,lineCap:d.borderCapStyle,lineDash:d.borderDash,lineDashOffset:d.borderDashOffset,lineJoin:d.borderJoinStyle,lineWidth:(f.width+f.height)/4,strokeStyle:d.borderColor,pointStyle:a||d.pointStyle,rotation:d.rotation,textAlign:r||d.textAlign,borderRadius:o&&(c||d.borderRadius),datasetIndex:l.index}},this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};class e4 extends Su{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,n){const a=this.options;if(this.left=0,this.top=0,!a.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=n;const r=Fr(a.text)?a.text.length:1;this._padding=ho(a.padding);const i=r*Ii(a.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=i:this.width=i}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:n,left:a,bottom:r,right:i,options:o}=this,c=o.align;let l=0,d,f,g;return this.isHorizontal()?(f=ro(c,a,i),g=n+t,d=i-a):(o.position==="left"?(f=a+t,g=ro(c,r,n),l=Ar*-.5):(f=i-t,g=ro(c,n,r),l=Ar*.5),d=r-n),{titleX:f,titleY:g,maxWidth:d,rotation:l}}draw(){const t=this.ctx,n=this.options;if(!n.display)return;const a=Ii(n.font),i=a.lineHeight/2+this._padding.top,{titleX:o,titleY:c,maxWidth:l,rotation:d}=this._drawArgs(i);Ph(t,n.text,0,0,a,{color:n.color,maxWidth:l,rotation:d,textAlign:q3(n.align),textBaseline:"middle",translation:[o,c]})}}function Lxe(e,t){const n=new e4({ctx:e.ctx,options:t,chart:e});lo.configure(e,n,t),lo.addBox(e,n),e.titleBlock=n}var $xe={id:"title",_element:e4,start(e,t,n){Lxe(e,n)},stop(e){const t=e.titleBlock;lo.removeBox(e,t),delete e.titleBlock},beforeUpdate(e,t,n){const a=e.titleBlock;lo.configure(e,a,n),a.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Q_=new WeakMap;var Pxe={id:"subtitle",start(e,t,n){const a=new e4({ctx:e.ctx,options:n,chart:e});lo.configure(e,a,n),lo.addBox(e,a),Q_.set(e,a)},stop(e){lo.removeBox(e,Q_.get(e)),Q_.delete(e)},beforeUpdate(e,t,n){const a=Q_.get(e);lo.configure(e,a,n),a.options=n},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const O1={average(e){if(!e.length)return!1;let t,n,a=new Set,r=0,i=0;for(t=0,n=e.length;t<n;++t){const c=e[t].element;if(c&&c.hasValue()){const l=c.tooltipPosition();a.add(l.x),r+=l.y,++i}}return i===0||a.size===0?!1:{x:[...a].reduce((c,l)=>c+l)/a.size,y:r/i}},nearest(e,t){if(!e.length)return!1;let n=t.x,a=t.y,r=Number.POSITIVE_INFINITY,i,o,c;for(i=0,o=e.length;i<o;++i){const l=e[i].element;if(l&&l.hasValue()){const d=l.getCenterPoint(),f=_j(t,d);f<r&&(r=f,c=l)}}if(c){const l=c.tooltipPosition();n=l.x,a=l.y}return{x:n,y:a}}};function ll(e,t){return t&&(Fr(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function nu(e){return(typeof e=="string"||e instanceof String)&&e.indexOf(`
`)>-1?e.split(`
`):e}function Fxe(e,t){const{element:n,datasetIndex:a,index:r}=t,i=e.getDatasetMeta(a).controller,{label:o,value:c}=i.getLabelAndValue(r);return{chart:e,label:o,parsed:i.getParsed(r),raw:e.data.datasets[a].data[r],formattedValue:c,dataset:i.getDataset(),dataIndex:r,datasetIndex:a,element:n}}function nT(e,t){const n=e.chart.ctx,{body:a,footer:r,title:i}=e,{boxWidth:o,boxHeight:c}=t,l=Ii(t.bodyFont),d=Ii(t.titleFont),f=Ii(t.footerFont),g=i.length,b=r.length,w=a.length,S=ho(t.padding);let j=S.height,N=0,I=a.reduce((P,O)=>P+O.before.length+O.lines.length+O.after.length,0);if(I+=e.beforeBody.length+e.afterBody.length,g&&(j+=g*d.lineHeight+(g-1)*t.titleSpacing+t.titleMarginBottom),I){const P=t.displayColors?Math.max(c,l.lineHeight):l.lineHeight;j+=w*P+(I-w)*l.lineHeight+(I-1)*t.bodySpacing}b&&(j+=t.footerMarginTop+b*f.lineHeight+(b-1)*t.footerSpacing);let M=0;const B=function(P){N=Math.max(N,n.measureText(P).width+M)};return n.save(),n.font=d.string,ur(e.title,B),n.font=l.string,ur(e.beforeBody.concat(e.afterBody),B),M=t.displayColors?o+2+t.boxPadding:0,ur(a,P=>{ur(P.before,B),ur(P.lines,B),ur(P.after,B)}),M=0,n.font=f.string,ur(e.footer,B),n.restore(),N+=S.width,{width:N,height:j}}function Hxe(e,t){const{y:n,height:a}=t;return n<a/2?"top":n>e.height-a/2?"bottom":"center"}function zxe(e,t,n,a){const{x:r,width:i}=a,o=n.caretSize+n.caretPadding;if(e==="left"&&r+i+o>t.width||e==="right"&&r-i-o<0)return!0}function Vxe(e,t,n,a){const{x:r,width:i}=n,{width:o,chartArea:{left:c,right:l}}=e;let d="center";return a==="center"?d=r<=(c+l)/2?"left":"right":r<=i/2?d="left":r>=o-i/2&&(d="right"),zxe(d,e,t,n)&&(d="center"),d}function sT(e,t,n){const a=n.yAlign||t.yAlign||Hxe(e,n);return{xAlign:n.xAlign||t.xAlign||Vxe(e,t,n,a),yAlign:a}}function qxe(e,t){let{x:n,width:a}=e;return t==="right"?n-=a:t==="center"&&(n-=a/2),n}function Uxe(e,t,n){let{y:a,height:r}=e;return t==="top"?a+=n:t==="bottom"?a-=r+n:a-=r/2,a}function aT(e,t,n,a){const{caretSize:r,caretPadding:i,cornerRadius:o}=e,{xAlign:c,yAlign:l}=n,d=r+i,{topLeft:f,topRight:g,bottomLeft:b,bottomRight:w}=Nh(o);let S=qxe(t,c);const j=Uxe(t,l,d);return l==="center"?c==="left"?S+=d:c==="right"&&(S-=d):c==="left"?S-=Math.max(f,b)+r:c==="right"&&(S+=Math.max(g,w)+r),{x:Hi(S,0,a.width-t.width),y:Hi(j,0,a.height-t.height)}}function X_(e,t,n){const a=ho(n.padding);return t==="center"?e.x+e.width/2:t==="right"?e.x+e.width-a.right:e.x+a.left}function rT(e){return ll([],nu(e))}function Wxe(e,t,n){return Dd(e,{tooltip:t,tooltipItems:n,type:"tooltip"})}function iT(e,t){const n=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return n?e.override(n):e}const nL={beforeTitle:Jl,title(e){if(e.length>0){const t=e[0],n=t.chart.data.labels,a=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(a>0&&t.dataIndex<a)return n[t.dataIndex]}return""},afterTitle:Jl,beforeBody:Jl,beforeLabel:Jl,label(e){if(this&&this.options&&this.options.mode==="dataset")return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");const n=e.formattedValue;return ka(n)||(t+=n),t},labelColor(e){const n=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const n=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:Jl,afterBody:Jl,beforeFooter:Jl,footer:Jl,afterFooter:Jl};function No(e,t,n,a){const r=e[t].call(n,a);return typeof r>"u"?nL[t].call(n,a):r}class Nj extends Su{constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const n=this.chart,a=this.options.setContext(this.getContext()),r=a.enabled&&n.options.animation&&a.animations,i=new OB(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(i)),i}getContext(){return this.$context||(this.$context=Wxe(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,n){const{callbacks:a}=n,r=No(a,"beforeTitle",this,t),i=No(a,"title",this,t),o=No(a,"afterTitle",this,t);let c=[];return c=ll(c,nu(r)),c=ll(c,nu(i)),c=ll(c,nu(o)),c}getBeforeBody(t,n){return rT(No(n.callbacks,"beforeBody",this,t))}getBody(t,n){const{callbacks:a}=n,r=[];return ur(t,i=>{const o={before:[],lines:[],after:[]},c=iT(a,i);ll(o.before,nu(No(c,"beforeLabel",this,i))),ll(o.lines,No(c,"label",this,i)),ll(o.after,nu(No(c,"afterLabel",this,i))),r.push(o)}),r}getAfterBody(t,n){return rT(No(n.callbacks,"afterBody",this,t))}getFooter(t,n){const{callbacks:a}=n,r=No(a,"beforeFooter",this,t),i=No(a,"footer",this,t),o=No(a,"afterFooter",this,t);let c=[];return c=ll(c,nu(r)),c=ll(c,nu(i)),c=ll(c,nu(o)),c}_createItems(t){const n=this._active,a=this.chart.data,r=[],i=[],o=[];let c=[],l,d;for(l=0,d=n.length;l<d;++l)c.push(Fxe(this.chart,n[l]));return t.filter&&(c=c.filter((f,g,b)=>t.filter(f,g,b,a))),t.itemSort&&(c=c.sort((f,g)=>t.itemSort(f,g,a))),ur(c,f=>{const g=iT(t.callbacks,f);r.push(No(g,"labelColor",this,f)),i.push(No(g,"labelPointStyle",this,f)),o.push(No(g,"labelTextColor",this,f))}),this.labelColors=r,this.labelPointStyles=i,this.labelTextColors=o,this.dataPoints=c,c}update(t,n){const a=this.options.setContext(this.getContext()),r=this._active;let i,o=[];if(!r.length)this.opacity!==0&&(i={opacity:0});else{const c=O1[a.position].call(this,r,this._eventPosition);o=this._createItems(a),this.title=this.getTitle(o,a),this.beforeBody=this.getBeforeBody(o,a),this.body=this.getBody(o,a),this.afterBody=this.getAfterBody(o,a),this.footer=this.getFooter(o,a);const l=this._size=nT(this,a),d=Object.assign({},c,l),f=sT(this.chart,a,d),g=aT(a,d,f,this.chart);this.xAlign=f.xAlign,this.yAlign=f.yAlign,i={opacity:1,x:g.x,y:g.y,width:l.width,height:l.height,caretX:c.x,caretY:c.y}}this._tooltipItems=o,this.$context=void 0,i&&this._resolveAnimations().update(this,i),t&&a.external&&a.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(t,n,a,r){const i=this.getCaretPosition(t,a,r);n.lineTo(i.x1,i.y1),n.lineTo(i.x2,i.y2),n.lineTo(i.x3,i.y3)}getCaretPosition(t,n,a){const{xAlign:r,yAlign:i}=this,{caretSize:o,cornerRadius:c}=a,{topLeft:l,topRight:d,bottomLeft:f,bottomRight:g}=Nh(c),{x:b,y:w}=t,{width:S,height:j}=n;let N,I,M,B,P,O;return i==="center"?(P=w+j/2,r==="left"?(N=b,I=N-o,B=P+o,O=P-o):(N=b+S,I=N+o,B=P-o,O=P+o),M=N):(r==="left"?I=b+Math.max(l,f)+o:r==="right"?I=b+S-Math.max(d,g)-o:I=this.caretX,i==="top"?(B=w,P=B-o,N=I-o,M=I+o):(B=w+j,P=B+o,N=I+o,M=I-o),O=B),{x1:N,x2:I,x3:M,y1:B,y2:P,y3:O}}drawTitle(t,n,a){const r=this.title,i=r.length;let o,c,l;if(i){const d=rm(a.rtl,this.x,this.width);for(t.x=X_(this,a.titleAlign,a),n.textAlign=d.textAlign(a.titleAlign),n.textBaseline="middle",o=Ii(a.titleFont),c=a.titleSpacing,n.fillStyle=a.titleColor,n.font=o.string,l=0;l<i;++l)n.fillText(r[l],d.x(t.x),t.y+o.lineHeight/2),t.y+=o.lineHeight+c,l+1===i&&(t.y+=a.titleMarginBottom-c)}}_drawColorBox(t,n,a,r,i){const o=this.labelColors[a],c=this.labelPointStyles[a],{boxHeight:l,boxWidth:d}=i,f=Ii(i.bodyFont),g=X_(this,"left",i),b=r.x(g),w=l<f.lineHeight?(f.lineHeight-l)/2:0,S=n.y+w;if(i.usePointStyle){const j={radius:Math.min(d,l)/2,pointStyle:c.pointStyle,rotation:c.rotation,borderWidth:1},N=r.leftForLtr(b,d)+d/2,I=S+l/2;t.strokeStyle=i.multiKeyBackground,t.fillStyle=i.multiKeyBackground,xj(t,j,N,I),t.strokeStyle=o.borderColor,t.fillStyle=o.backgroundColor,xj(t,j,N,I)}else{t.lineWidth=Oa(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,t.strokeStyle=o.borderColor,t.setLineDash(o.borderDash||[]),t.lineDashOffset=o.borderDashOffset||0;const j=r.leftForLtr(b,d),N=r.leftForLtr(r.xPlus(b,1),d-2),I=Nh(o.borderRadius);Object.values(I).some(M=>M!==0)?(t.beginPath(),t.fillStyle=i.multiKeyBackground,Dg(t,{x:j,y:S,w:d,h:l,radius:I}),t.fill(),t.stroke(),t.fillStyle=o.backgroundColor,t.beginPath(),Dg(t,{x:N,y:S+1,w:d-2,h:l-2,radius:I}),t.fill()):(t.fillStyle=i.multiKeyBackground,t.fillRect(j,S,d,l),t.strokeRect(j,S,d,l),t.fillStyle=o.backgroundColor,t.fillRect(N,S+1,d-2,l-2))}t.fillStyle=this.labelTextColors[a]}drawBody(t,n,a){const{body:r}=this,{bodySpacing:i,bodyAlign:o,displayColors:c,boxHeight:l,boxWidth:d,boxPadding:f}=a,g=Ii(a.bodyFont);let b=g.lineHeight,w=0;const S=rm(a.rtl,this.x,this.width),j=function(U){n.fillText(U,S.x(t.x+w),t.y+b/2),t.y+=b+i},N=S.textAlign(o);let I,M,B,P,O,R,$;for(n.textAlign=o,n.textBaseline="middle",n.font=g.string,t.x=X_(this,N,a),n.fillStyle=a.bodyColor,ur(this.beforeBody,j),w=c&&N!=="right"?o==="center"?d/2+f:d+2+f:0,P=0,R=r.length;P<R;++P){for(I=r[P],M=this.labelTextColors[P],n.fillStyle=M,ur(I.before,j),B=I.lines,c&&B.length&&(this._drawColorBox(n,t,P,S,a),b=Math.max(g.lineHeight,l)),O=0,$=B.length;O<$;++O)j(B[O]),b=g.lineHeight;ur(I.after,j)}w=0,b=g.lineHeight,ur(this.afterBody,j),t.y-=i}drawFooter(t,n,a){const r=this.footer,i=r.length;let o,c;if(i){const l=rm(a.rtl,this.x,this.width);for(t.x=X_(this,a.footerAlign,a),t.y+=a.footerMarginTop,n.textAlign=l.textAlign(a.footerAlign),n.textBaseline="middle",o=Ii(a.footerFont),n.fillStyle=a.footerColor,n.font=o.string,c=0;c<i;++c)n.fillText(r[c],l.x(t.x),t.y+o.lineHeight/2),t.y+=o.lineHeight+a.footerSpacing}}drawBackground(t,n,a,r){const{xAlign:i,yAlign:o}=this,{x:c,y:l}=t,{width:d,height:f}=a,{topLeft:g,topRight:b,bottomLeft:w,bottomRight:S}=Nh(r.cornerRadius);n.fillStyle=r.backgroundColor,n.strokeStyle=r.borderColor,n.lineWidth=r.borderWidth,n.beginPath(),n.moveTo(c+g,l),o==="top"&&this.drawCaret(t,n,a,r),n.lineTo(c+d-b,l),n.quadraticCurveTo(c+d,l,c+d,l+b),o==="center"&&i==="right"&&this.drawCaret(t,n,a,r),n.lineTo(c+d,l+f-S),n.quadraticCurveTo(c+d,l+f,c+d-S,l+f),o==="bottom"&&this.drawCaret(t,n,a,r),n.lineTo(c+w,l+f),n.quadraticCurveTo(c,l+f,c,l+f-w),o==="center"&&i==="left"&&this.drawCaret(t,n,a,r),n.lineTo(c,l+g),n.quadraticCurveTo(c,l,c+g,l),n.closePath(),n.fill(),r.borderWidth>0&&n.stroke()}_updateAnimationTarget(t){const n=this.chart,a=this.$animations,r=a&&a.x,i=a&&a.y;if(r||i){const o=O1[t.position].call(this,this._active,this._eventPosition);if(!o)return;const c=this._size=nT(this,t),l=Object.assign({},o,this._size),d=sT(n,t,l),f=aT(t,l,d,n);(r._to!==f.x||i._to!==f.y)&&(this.xAlign=d.xAlign,this.yAlign=d.yAlign,this.width=c.width,this.height=c.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,f))}}_willRender(){return!!this.opacity}draw(t){const n=this.options.setContext(this.getContext());let a=this.opacity;if(!a)return;this._updateAnimationTarget(n);const r={width:this.width,height:this.height},i={x:this.x,y:this.y};a=Math.abs(a)<.001?0:a;const o=ho(n.padding),c=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&c&&(t.save(),t.globalAlpha=a,this.drawBackground(i,t,r,n),IB(t,n.textDirection),i.y+=o.top,this.drawTitle(i,t,n),this.drawBody(i,t,n),this.drawFooter(i,t,n),DB(t,n.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,n){const a=this._active,r=t.map(({datasetIndex:c,index:l})=>{const d=this.chart.getDatasetMeta(c);if(!d)throw new Error("Cannot find a dataset at index "+c);return{datasetIndex:c,element:d.data[l],index:l}}),i=!Ox(a,r),o=this._positionChanged(r,n);(i||o)&&(this._active=r,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,n,a=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,i=this._active||[],o=this._getActiveElements(t,i,n,a),c=this._positionChanged(o,t),l=n||!Ox(o,i)||c;return l&&(this._active=o,(r.enabled||r.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,n))),l}_getActiveElements(t,n,a,r){const i=this.options;if(t.type==="mouseout")return[];if(!r)return n.filter(c=>this.chart.data.datasets[c.datasetIndex]&&this.chart.getDatasetMeta(c.datasetIndex).controller.getParsed(c.index)!==void 0);const o=this.chart.getElementsAtEventForMode(t,i.mode,i,a);return i.reverse&&o.reverse(),o}_positionChanged(t,n){const{caretX:a,caretY:r,options:i}=this,o=O1[i.position].call(this,t,n);return o!==!1&&(a!==o.x||r!==o.y)}}Pt(Nj,"positioners",O1);var Yxe={id:"tooltip",_element:Nj,positioners:O1,afterInit(e,t,n){n&&(e.tooltip=new Nj({chart:e,options:n}))},beforeUpdate(e,t,n){e.tooltip&&e.tooltip.initialize(n)},reset(e,t,n){e.tooltip&&e.tooltip.initialize(n)},afterDraw(e){const t=e.tooltip;if(t&&t._willRender()){const n={tooltip:t};if(e.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",n)}},afterEvent(e,t){if(e.tooltip){const n=t.replay;e.tooltip.handleEvent(t.event,n,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:nL},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>e!=="filter"&&e!=="itemSort"&&e!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},Gxe=Object.freeze({__proto__:null,Colors:ixe,Decimation:uxe,Filler:Dxe,Legend:Bxe,SubTitle:Pxe,Title:$xe,Tooltip:Yxe});const Qxe=(e,t,n,a)=>(typeof t=="string"?(n=e.push(t)-1,a.unshift({index:n,label:t})):isNaN(t)&&(n=null),n);function Xxe(e,t,n,a){const r=e.indexOf(t);if(r===-1)return Qxe(e,t,n,a);const i=e.lastIndexOf(t);return r!==i?n:r}const Kxe=(e,t)=>e===null?null:Hi(Math.round(e),0,t);function oT(e){const t=this.getLabels();return e>=0&&e<t.length?t[e]:e}class Ej extends qh{constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const n=this._addedLabels;if(n.length){const a=this.getLabels();for(const{index:r,label:i}of n)a[r]===i&&a.splice(r,1);this._addedLabels=[]}super.init(t)}parse(t,n){if(ka(t))return null;const a=this.getLabels();return n=isFinite(n)&&a[n]===t?n:Xxe(a,t,la(n,t),this._addedLabels),Kxe(n,a.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:n}=this.getUserBounds();let{min:a,max:r}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(a=0),n||(r=this.getLabels().length-1)),this.min=a,this.max=r}buildTicks(){const t=this.min,n=this.max,a=this.options.offset,r=[];let i=this.getLabels();i=t===0&&n===i.length-1?i:i.slice(t,n+1),this._valueRange=Math.max(i.length-(a?0:1),1),this._startValue=this.min-(a?.5:0);for(let o=t;o<=n;o++)r.push({value:o});return r}getLabelForValue(t){return oT.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const n=this.ticks;return t<0||t>n.length-1?null:this.getPixelForValue(n[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}Pt(Ej,"id","category"),Pt(Ej,"defaults",{ticks:{callback:oT}});function Zxe(e,t){const n=[],{bounds:r,step:i,min:o,max:c,precision:l,count:d,maxTicks:f,maxDigits:g,includeBounds:b}=e,w=i||1,S=f-1,{min:j,max:N}=t,I=!ka(o),M=!ka(c),B=!ka(d),P=(N-j)/(g+1);let O=nD((N-j)/S/w)*w,R,$,U,F;if(O<1e-14&&!I&&!M)return[{value:j},{value:N}];F=Math.ceil(N/O)-Math.floor(j/O),F>S&&(O=nD(F*O/S/w)*w),ka(l)||(R=Math.pow(10,l),O=Math.ceil(O*R)/R),r==="ticks"?($=Math.floor(j/O)*O,U=Math.ceil(N/O)*O):($=j,U=N),I&&M&&i&&Uge((c-o)/i,O/1e3)?(F=Math.round(Math.min((c-o)/O,f)),O=(c-o)/F,$=o,U=c):B?($=I?o:$,U=M?c:U,F=d-1,O=(U-$)/F):(F=(U-$)/O,sg(F,Math.round(F),O/1e3)?F=Math.round(F):F=Math.ceil(F));const H=Math.max(sD(O),sD($));R=Math.pow(10,ka(l)?H:l),$=Math.round($*R)/R,U=Math.round(U*R)/R;let ne=0;for(I&&(b&&$!==o?(n.push({value:o}),$<o&&ne++,sg(Math.round(($+ne*O)*R)/R,o,cT(o,P,e))&&ne++):$<o&&ne++);ne<F;++ne){const X=Math.round(($+ne*O)*R)/R;if(M&&X>c)break;n.push({value:X})}return M&&b&&U!==c?n.length&&sg(n[n.length-1].value,c,cT(c,P,e))?n[n.length-1].value=c:n.push({value:c}):(!M||U===c)&&n.push({value:U}),n}function cT(e,t,{horizontal:n,minRotation:a}){const r=Pc(a),i=(n?Math.sin(r):Math.cos(r))||.001,o=.75*t*(""+e).length;return Math.min(t/i,o)}class zx extends qh{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,n){return ka(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:n,maxDefined:a}=this.getUserBounds();let{min:r,max:i}=this;const o=l=>r=n?r:l,c=l=>i=a?i:l;if(t){const l=El(r),d=El(i);l<0&&d<0?c(0):l>0&&d>0&&o(0)}if(r===i){let l=i===0?1:Math.abs(i*.05);c(i+l),t||o(r-l)}this.min=r,this.max=i}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:n,stepSize:a}=t,r;return a?(r=Math.ceil(this.max/a)-Math.floor(this.min/a)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${a} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),n=n||11),n&&(r=Math.min(n,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,n=t.ticks;let a=this.getTickLimit();a=Math.max(2,a);const r={maxTicks:a,bounds:t.bounds,min:t.min,max:t.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},i=this._range||this,o=Zxe(r,i);return t.bounds==="ticks"&&hB(o,this,"value"),t.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const t=this.ticks;let n=this.min,a=this.max;if(super.configure(),this.options.offset&&t.length){const r=(a-n)/Math.max(t.length-1,1)/2;n-=r,a+=r}this._startValue=n,this._endValue=a,this._valueRange=a-n}getLabelForValue(t){return d0(t,this.chart.options.locale,this.options.ticks.format)}}class kj extends zx{determineDataLimits(){const{min:t,max:n}=this.getMinMax(!0);this.min=si(t)?t:0,this.max=si(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),n=t?this.width:this.height,a=Pc(this.options.ticks.minRotation),r=(t?Math.sin(a):Math.cos(a))||.001,i=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,i.lineHeight/r))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}Pt(kj,"id","linear"),Pt(kj,"defaults",{ticks:{callback:Xb.formatters.numeric}});const Ag=e=>Math.floor(hd(e)),nh=(e,t)=>Math.pow(10,Ag(e)+t);function lT(e){return e/Math.pow(10,Ag(e))===1}function uT(e,t,n){const a=Math.pow(10,n),r=Math.floor(e/a);return Math.ceil(t/a)-r}function Jxe(e,t){const n=t-e;let a=Ag(n);for(;uT(e,t,a)>10;)a++;for(;uT(e,t,a)<10;)a--;return Math.min(a,Ag(e))}function ebe(e,{min:t,max:n}){t=Qo(e.min,t);const a=[],r=Ag(t);let i=Jxe(t,n),o=i<0?Math.pow(10,Math.abs(i)):1;const c=Math.pow(10,i),l=r>i?Math.pow(10,r):0,d=Math.round((t-l)*o)/o,f=Math.floor((t-l)/c/10)*c*10;let g=Math.floor((d-f)/Math.pow(10,i)),b=Qo(e.min,Math.round((l+f+g*Math.pow(10,i))*o)/o);for(;b<n;)a.push({value:b,major:lT(b),significand:g}),g>=10?g=g<15?15:20:g++,g>=20&&(i++,g=2,o=i>=0?1:o),b=Math.round((l+f+g*Math.pow(10,i))*o)/o;const w=Qo(e.max,b);return a.push({value:w,major:lT(w),significand:g}),a}class Ij extends qh{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,n){const a=zx.prototype.parse.apply(this,[t,n]);if(a===0){this._zero=!0;return}return si(a)&&a>0?a:null}determineDataLimits(){const{min:t,max:n}=this.getMinMax(!0);this.min=si(t)?Math.max(0,t):null,this.max=si(n)?Math.max(0,n):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!si(this._userMin)&&(this.min=t===nh(this.min,0)?nh(this.min,-1):nh(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:t,maxDefined:n}=this.getUserBounds();let a=this.min,r=this.max;const i=c=>a=t?a:c,o=c=>r=n?r:c;a===r&&(a<=0?(i(1),o(10)):(i(nh(a,-1)),o(nh(r,1)))),a<=0&&i(nh(r,-1)),r<=0&&o(nh(a,1)),this.min=a,this.max=r}buildTicks(){const t=this.options,n={min:this._userMin,max:this._userMax},a=ebe(n,this);return t.bounds==="ticks"&&hB(a,this,"value"),t.reverse?(a.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),a}getLabelForValue(t){return t===void 0?"0":d0(t,this.chart.options.locale,this.options.ticks.format)}configure(){const t=this.min;super.configure(),this._startValue=hd(t),this._valueRange=hd(this.max)-hd(t)}getPixelForValue(t){return(t===void 0||t===0)&&(t=this.min),t===null||isNaN(t)?NaN:this.getPixelForDecimal(t===this.min?0:(hd(t)-this._startValue)/this._valueRange)}getValueForPixel(t){const n=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+n*this._valueRange)}}Pt(Ij,"id","logarithmic"),Pt(Ij,"defaults",{ticks:{callback:Xb.formatters.logarithmic,major:{enabled:!0}}});function Dj(e){const t=e.ticks;if(t.display&&e.display){const n=ho(t.backdropPadding);return la(t.font&&t.font.size,Hr.font.size)+n.height}return 0}function tbe(e,t,n){return n=Fr(n)?n:[n],{w:c0e(e,t.string,n),h:n.length*t.lineHeight}}function dT(e,t,n,a,r){return e===a||e===r?{start:t-n/2,end:t+n/2}:e<a||e>r?{start:t-n,end:t}:{start:t,end:t+n}}function nbe(e){const t={l:e.left+e._padding.left,r:e.right-e._padding.right,t:e.top+e._padding.top,b:e.bottom-e._padding.bottom},n=Object.assign({},t),a=[],r=[],i=e._pointLabels.length,o=e.options.pointLabels,c=o.centerPointLabels?Ar/i:0;for(let l=0;l<i;l++){const d=o.setContext(e.getPointLabelContext(l));r[l]=d.padding;const f=e.getPointPosition(l,e.drawingArea+r[l],c),g=Ii(d.font),b=tbe(e.ctx,g,e._pointLabels[l]);a[l]=b;const w=Xo(e.getIndexAngle(l)+c),S=Math.round(z3(w)),j=dT(S,f.x,b.w,0,180),N=dT(S,f.y,b.h,90,270);sbe(n,t,w,j,N)}e.setCenterPoint(t.l-n.l,n.r-t.r,t.t-n.t,n.b-t.b),e._pointLabelItems=ibe(e,a,r)}function sbe(e,t,n,a,r){const i=Math.abs(Math.sin(n)),o=Math.abs(Math.cos(n));let c=0,l=0;a.start<t.l?(c=(t.l-a.start)/i,e.l=Math.min(e.l,t.l-c)):a.end>t.r&&(c=(a.end-t.r)/i,e.r=Math.max(e.r,t.r+c)),r.start<t.t?(l=(t.t-r.start)/o,e.t=Math.min(e.t,t.t-l)):r.end>t.b&&(l=(r.end-t.b)/o,e.b=Math.max(e.b,t.b+l))}function abe(e,t,n){const a=e.drawingArea,{extra:r,additionalAngle:i,padding:o,size:c}=n,l=e.getPointPosition(t,a+r+o,i),d=Math.round(z3(Xo(l.angle+fi))),f=lbe(l.y,c.h,d),g=obe(d),b=cbe(l.x,c.w,g);return{visible:!0,x:l.x,y:f,textAlign:g,left:b,top:f,right:b+c.w,bottom:f+c.h}}function rbe(e,t){if(!t)return!0;const{left:n,top:a,right:r,bottom:i}=e;return!(ou({x:n,y:a},t)||ou({x:n,y:i},t)||ou({x:r,y:a},t)||ou({x:r,y:i},t))}function ibe(e,t,n){const a=[],r=e._pointLabels.length,i=e.options,{centerPointLabels:o,display:c}=i.pointLabels,l={extra:Dj(i)/2,additionalAngle:o?Ar/r:0};let d;for(let f=0;f<r;f++){l.padding=n[f],l.size=t[f];const g=abe(e,f,l);a.push(g),c==="auto"&&(g.visible=rbe(g,d),g.visible&&(d=g))}return a}function obe(e){return e===0||e===180?"center":e<180?"left":"right"}function cbe(e,t,n){return n==="right"?e-=t:n==="center"&&(e-=t/2),e}function lbe(e,t,n){return n===90||n===270?e-=t/2:(n>270||n<90)&&(e-=t),e}function ube(e,t,n){const{left:a,top:r,right:i,bottom:o}=n,{backdropColor:c}=t;if(!ka(c)){const l=Nh(t.borderRadius),d=ho(t.backdropPadding);e.fillStyle=c;const f=a-d.left,g=r-d.top,b=i-a+d.width,w=o-r+d.height;Object.values(l).some(S=>S!==0)?(e.beginPath(),Dg(e,{x:f,y:g,w:b,h:w,radius:l}),e.fill()):e.fillRect(f,g,b,w)}}function dbe(e,t){const{ctx:n,options:{pointLabels:a}}=e;for(let r=t-1;r>=0;r--){const i=e._pointLabelItems[r];if(!i.visible)continue;const o=a.setContext(e.getPointLabelContext(r));ube(n,o,i);const c=Ii(o.font),{x:l,y:d,textAlign:f}=i;Ph(n,e._pointLabels[r],l,d+c.lineHeight/2,c,{color:o.color,textAlign:f,textBaseline:"middle"})}}function sL(e,t,n,a){const{ctx:r}=e;if(n)r.arc(e.xCenter,e.yCenter,t,0,Dr);else{let i=e.getPointPosition(0,t);r.moveTo(i.x,i.y);for(let o=1;o<a;o++)i=e.getPointPosition(o,t),r.lineTo(i.x,i.y)}}function hbe(e,t,n,a,r){const i=e.ctx,o=t.circular,{color:c,lineWidth:l}=t;!o&&!a||!c||!l||n<0||(i.save(),i.strokeStyle=c,i.lineWidth=l,i.setLineDash(r.dash||[]),i.lineDashOffset=r.dashOffset,i.beginPath(),sL(e,n,o,a),i.closePath(),i.stroke(),i.restore())}function fbe(e,t,n){return Dd(e,{label:n,index:t,type:"pointLabel"})}class B1 extends zx{constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const t=this._padding=ho(Dj(this.options)/2),n=this.width=this.maxWidth-t.width,a=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+n/2+t.left),this.yCenter=Math.floor(this.top+a/2+t.top),this.drawingArea=Math.floor(Math.min(n,a)/2)}determineDataLimits(){const{min:t,max:n}=this.getMinMax(!1);this.min=si(t)&&!isNaN(t)?t:0,this.max=si(n)&&!isNaN(n)?n:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/Dj(this.options))}generateTickLabels(t){zx.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map((n,a)=>{const r=Er(this.options.pointLabels.callback,[n,a],this);return r||r===0?r:""}).filter((n,a)=>this.chart.getDataVisibility(a))}fit(){const t=this.options;t.display&&t.pointLabels.display?nbe(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(t,n,a,r){this.xCenter+=Math.floor((t-n)/2),this.yCenter+=Math.floor((a-r)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,n,a,r))}getIndexAngle(t){const n=Dr/(this._pointLabels.length||1),a=this.options.startAngle||0;return Xo(t*n+Pc(a))}getDistanceFromCenterForValue(t){if(ka(t))return NaN;const n=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*n:(t-this.min)*n}getValueForDistanceFromCenter(t){if(ka(t))return NaN;const n=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-n:this.min+n}getPointLabelContext(t){const n=this._pointLabels||[];if(t>=0&&t<n.length){const a=n[t];return fbe(this.getContext(),t,a)}}getPointPosition(t,n,a=0){const r=this.getIndexAngle(t)-fi+a;return{x:Math.cos(r)*n+this.xCenter,y:Math.sin(r)*n+this.yCenter,angle:r}}getPointPositionForValue(t,n){return this.getPointPosition(t,this.getDistanceFromCenterForValue(n))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){const{left:n,top:a,right:r,bottom:i}=this._pointLabelItems[t];return{left:n,top:a,right:r,bottom:i}}drawBackground(){const{backgroundColor:t,grid:{circular:n}}=this.options;if(t){const a=this.ctx;a.save(),a.beginPath(),sL(this,this.getDistanceFromCenterForValue(this._endValue),n,this._pointLabels.length),a.closePath(),a.fillStyle=t,a.fill(),a.restore()}}drawGrid(){const t=this.ctx,n=this.options,{angleLines:a,grid:r,border:i}=n,o=this._pointLabels.length;let c,l,d;if(n.pointLabels.display&&dbe(this,o),r.display&&this.ticks.forEach((f,g)=>{if(g!==0||g===0&&this.min<0){l=this.getDistanceFromCenterForValue(f.value);const b=this.getContext(g),w=r.setContext(b),S=i.setContext(b);hbe(this,w,l,o,S)}}),a.display){for(t.save(),c=o-1;c>=0;c--){const f=a.setContext(this.getPointLabelContext(c)),{color:g,lineWidth:b}=f;!b||!g||(t.lineWidth=b,t.strokeStyle=g,t.setLineDash(f.borderDash),t.lineDashOffset=f.borderDashOffset,l=this.getDistanceFromCenterForValue(n.reverse?this.min:this.max),d=this.getPointPosition(c,l),t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(d.x,d.y),t.stroke())}t.restore()}}drawBorder(){}drawLabels(){const t=this.ctx,n=this.options,a=n.ticks;if(!a.display)return;const r=this.getIndexAngle(0);let i,o;t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(r),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach((c,l)=>{if(l===0&&this.min>=0&&!n.reverse)return;const d=a.setContext(this.getContext(l)),f=Ii(d.font);if(i=this.getDistanceFromCenterForValue(this.ticks[l].value),d.showLabelBackdrop){t.font=f.string,o=t.measureText(c.label).width,t.fillStyle=d.backdropColor;const g=ho(d.backdropPadding);t.fillRect(-o/2-g.left,-i-f.size/2-g.top,o+g.width,f.size+g.height)}Ph(t,c.label,0,-i,f,{color:d.color,strokeColor:d.textStrokeColor,strokeWidth:d.textStrokeWidth})}),t.restore()}drawTitle(){}}Pt(B1,"id","radialLinear"),Pt(B1,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:Xb.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(t){return t},padding:5,centerPointLabels:!1}}),Pt(B1,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),Pt(B1,"descriptors",{angleLines:{_fallback:"grid"}});const ty={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},ko=Object.keys(ty);function hT(e,t){return e-t}function fT(e,t){if(ka(t))return null;const n=e._adapter,{parser:a,round:r,isoWeekday:i}=e._parseOpts;let o=t;return typeof a=="function"&&(o=a(o)),si(o)||(o=typeof a=="string"?n.parse(o,a):n.parse(o)),o===null?null:(r&&(o=r==="week"&&(vm(i)||i===!0)?n.startOf(o,"isoWeek",i):n.startOf(o,r)),+o)}function mT(e,t,n,a){const r=ko.length;for(let i=ko.indexOf(e);i<r-1;++i){const o=ty[ko[i]],c=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((n-t)/(c*o.size))<=a)return ko[i]}return ko[r-1]}function mbe(e,t,n,a,r){for(let i=ko.length-1;i>=ko.indexOf(n);i--){const o=ko[i];if(ty[o].common&&e._adapter.diff(r,a,o)>=t-1)return o}return ko[n?ko.indexOf(n):0]}function pbe(e){for(let t=ko.indexOf(e)+1,n=ko.length;t<n;++t)if(ty[ko[t]].common)return ko[t]}function pT(e,t,n){if(!n)e[t]=!0;else if(n.length){const{lo:a,hi:r}=V3(n,t),i=n[a]>=t?n[a]:n[r];e[i]=!0}}function gbe(e,t,n,a){const r=e._adapter,i=+r.startOf(t[0].value,a),o=t[t.length-1].value;let c,l;for(c=i;c<=o;c=+r.add(c,1,a))l=n[c],l>=0&&(t[l].major=!0);return t}function gT(e,t,n){const a=[],r={},i=t.length;let o,c;for(o=0;o<i;++o)c=t[o],r[c]=o,a.push({value:c,major:!1});return i===0||!n?a:gbe(e,a,r,n)}class Mg extends qh{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,n={}){const a=t.time||(t.time={}),r=this._adapter=new j_e._date(t.adapters.date);r.init(n),ng(a.displayFormats,r.formats()),this._parseOpts={parser:a.parser,round:a.round,isoWeekday:a.isoWeekday},super.init(t),this._normalized=n.normalized}parse(t,n){return t===void 0?null:fT(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,n=this._adapter,a=t.time.unit||"day";let{min:r,max:i,minDefined:o,maxDefined:c}=this.getUserBounds();function l(d){!o&&!isNaN(d.min)&&(r=Math.min(r,d.min)),!c&&!isNaN(d.max)&&(i=Math.max(i,d.max))}(!o||!c)&&(l(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&l(this.getMinMax(!1))),r=si(r)&&!isNaN(r)?r:+n.startOf(Date.now(),a),i=si(i)&&!isNaN(i)?i:+n.endOf(Date.now(),a)+1,this.min=Math.min(r,i-1),this.max=Math.max(r+1,i)}_getLabelBounds(){const t=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,a=Number.NEGATIVE_INFINITY;return t.length&&(n=t[0],a=t[t.length-1]),{min:n,max:a}}buildTicks(){const t=this.options,n=t.time,a=t.ticks,r=a.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const i=this.min,o=this.max,c=Qge(r,i,o);return this._unit=n.unit||(a.autoSkip?mT(n.minUnit,this.min,this.max,this._getLabelCapacity(i)):mbe(this,c.length,n.minUnit,this.min,this.max)),this._majorUnit=!a.major.enabled||this._unit==="year"?void 0:pbe(this._unit),this.initOffsets(r),t.reverse&&c.reverse(),gT(this,c,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let n=0,a=0,r,i;this.options.offset&&t.length&&(r=this.getDecimalForValue(t[0]),t.length===1?n=1-r:n=(this.getDecimalForValue(t[1])-r)/2,i=this.getDecimalForValue(t[t.length-1]),t.length===1?a=i:a=(i-this.getDecimalForValue(t[t.length-2]))/2);const o=t.length<3?.5:.25;n=Hi(n,0,o),a=Hi(a,0,o),this._offsets={start:n,end:a,factor:1/(n+1+a)}}_generate(){const t=this._adapter,n=this.min,a=this.max,r=this.options,i=r.time,o=i.unit||mT(i.minUnit,n,a,this._getLabelCapacity(n)),c=la(r.ticks.stepSize,1),l=o==="week"?i.isoWeekday:!1,d=vm(l)||l===!0,f={};let g=n,b,w;if(d&&(g=+t.startOf(g,"isoWeek",l)),g=+t.startOf(g,d?"day":o),t.diff(a,n,o)>1e5*c)throw new Error(n+" and "+a+" are too far apart with stepSize of "+c+" "+o);const S=r.ticks.source==="data"&&this.getDataTimestamps();for(b=g,w=0;b<a;b=+t.add(b,c,o),w++)pT(f,b,S);return(b===a||r.bounds==="ticks"||w===1)&&pT(f,b,S),Object.keys(f).sort(hT).map(j=>+j)}getLabelForValue(t){const n=this._adapter,a=this.options.time;return a.tooltipFormat?n.format(t,a.tooltipFormat):n.format(t,a.displayFormats.datetime)}format(t,n){const r=this.options.time.displayFormats,i=this._unit,o=n||r[i];return this._adapter.format(t,o)}_tickFormatFunction(t,n,a,r){const i=this.options,o=i.ticks.callback;if(o)return Er(o,[t,n,a],this);const c=i.time.displayFormats,l=this._unit,d=this._majorUnit,f=l&&c[l],g=d&&c[d],b=a[n],w=d&&g&&b&&b.major;return this._adapter.format(t,r||(w?g:f))}generateTickLabels(t){let n,a,r;for(n=0,a=t.length;n<a;++n)r=t[n],r.label=this._tickFormatFunction(r.value,n,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const n=this._offsets,a=this.getDecimalForValue(t);return this.getPixelForDecimal((n.start+a)*n.factor)}getValueForPixel(t){const n=this._offsets,a=this.getDecimalForPixel(t)/n.factor-n.end;return this.min+a*(this.max-this.min)}_getLabelSize(t){const n=this.options.ticks,a=this.ctx.measureText(t).width,r=Pc(this.isHorizontal()?n.maxRotation:n.minRotation),i=Math.cos(r),o=Math.sin(r),c=this._resolveTickFontOptions(0).size;return{w:a*i+c*o,h:a*o+c*i}}_getLabelCapacity(t){const n=this.options.time,a=n.displayFormats,r=a[n.unit]||a.millisecond,i=this._tickFormatFunction(t,0,gT(this,[t],this._majorUnit),r),o=this._getLabelSize(i),c=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return c>0?c:1}getDataTimestamps(){let t=this._cache.data||[],n,a;if(t.length)return t;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(n=0,a=r.length;n<a;++n)t=t.concat(r[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let n,a;if(t.length)return t;const r=this.getLabels();for(n=0,a=r.length;n<a;++n)t.push(fT(this,r[n]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return pB(t.sort(hT))}}Pt(Mg,"id","time"),Pt(Mg,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function K_(e,t,n){let a=0,r=e.length-1,i,o,c,l;n?(t>=e[a].pos&&t<=e[r].pos&&({lo:a,hi:r}=iu(e,"pos",t)),{pos:i,time:c}=e[a],{pos:o,time:l}=e[r]):(t>=e[a].time&&t<=e[r].time&&({lo:a,hi:r}=iu(e,"time",t)),{time:i,pos:c}=e[a],{time:o,pos:l}=e[r]);const d=o-i;return d?c+(l-c)*(t-i)/d:c}class Tj extends Mg{constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(t);this._minPos=K_(n,this.min),this._tableRange=K_(n,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:n,max:a}=this,r=[],i=[];let o,c,l,d,f;for(o=0,c=t.length;o<c;++o)d=t[o],d>=n&&d<=a&&r.push(d);if(r.length<2)return[{time:n,pos:0},{time:a,pos:1}];for(o=0,c=r.length;o<c;++o)f=r[o+1],l=r[o-1],d=r[o],Math.round((f+l)/2)!==d&&i.push({time:d,pos:o/(c-1)});return i}_generate(){const t=this.min,n=this.max;let a=super.getDataTimestamps();return(!a.includes(t)||!a.length)&&a.splice(0,0,t),(!a.includes(n)||a.length===1)&&a.push(n),a.sort((r,i)=>r-i)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const n=this.getDataTimestamps(),a=this.getLabelTimestamps();return n.length&&a.length?t=this.normalize(n.concat(a)):t=n.length?n:a,t=this._cache.all=t,t}getDecimalForValue(t){return(K_(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const n=this._offsets,a=this.getDecimalForPixel(t)/n.factor-n.end;return K_(this._table,a*this._tableRange+this._minPos,!0)}}Pt(Tj,"id","timeseries"),Pt(Tj,"defaults",Mg.defaults);var _be=Object.freeze({__proto__:null,CategoryScale:Ej,LinearScale:kj,LogarithmicScale:Ij,RadialLinearScale:B1,TimeScale:Mg,TimeSeriesScale:Tj});const vbe=[S_e,Jve,Gxe,_be];Ko.register(...vbe);const xbe="_app_16tnk_31",bbe="_mainContent_16tnk_38",ybe="_headerWithControls_16tnk_48",wbe="_pageTitle_16tnk_65",Cbe="_icon_16tnk_80",Sbe="_periodControls_16tnk_87",jbe="_periodButton_16tnk_98",Nbe="_active_16tnk_137",Ebe="_dateRangePicker_16tnk_149",kbe="_calendarIcon_16tnk_156",Ibe="_dateInput_16tnk_165",Dbe="_statsGrid_16tnk_188",Tbe="_statCard_16tnk_197",Abe="_success_16tnk_240",Mbe="_warning_16tnk_244",Rbe="_danger_16tnk_248",Obe="_contentRow_16tnk_269",Bbe="_chartContainer_16tnk_278",Lbe="_transactionList_16tnk_296",$be="_transactionItem_16tnk_312",Pbe="_transactionHeader_16tnk_351",Fbe="_transactionMeta_16tnk_363",Hbe="_paymentMethod_16tnk_374",zbe="_noTransactions_16tnk_399",Vbe="_modalOverlay_16tnk_407",qbe="_modalContent_16tnk_422",Ube="_closeButton_16tnk_455",Wbe="_receiptHeader_16tnk_481",Ybe="_receiptMeta_16tnk_510",Gbe="_paidBadge_16tnk_522",Qbe="_modalLoading_16tnk_532",Xbe="_customerInfo_16tnk_540",Kbe="_itemsList_16tnk_562",Zbe="_itemCard_16tnk_566",Jbe="_itemImage_16tnk_604",eye="_itemInfo_16tnk_619",tye="_variantName_16tnk_630",nye="_sku_16tnk_637",sye="_attributesContainer_16tnk_644",aye="_attributesToggle_16tnk_652",rye="_productAttributes_16tnk_681",iye="_slideDown_16tnk_1",oye="_attributeItem_16tnk_704",cye="_attributeName_16tnk_712",lye="_attributeValue_16tnk_718",uye="_stockInfo_16tnk_723",dye="_soldInfo_16tnk_724",hye="_availableReturn_16tnk_725",fye="_itemPricing_16tnk_731",mye="_priceRow_16tnk_739",pye="_originalPrice_16tnk_746",gye="_discountBadge_16tnk_751",_ye="_finalPrice_16tnk_760",vye="_returnsSection_16tnk_766",xye="_returnItem_16tnk_784",bye="_returnHeader_16tnk_796",yye="_refundAmount_16tnk_803",wye="_returnReason_16tnk_808",Cye="_returnLocation_16tnk_809",Sye="_returnDate_16tnk_810",jye="_createdBy_16tnk_811",Nye="_defectBadge_16tnk_822",Eye="_receiptFooter_16tnk_836",kye="_discountInfo_16tnk_844",Iye="_returnsInfo_16tnk_845",Dye="_totalRow_16tnk_846",Tye="_profitRow_16tnk_847",Aye="_discountAmount_16tnk_863",Mye="_returnsAmount_16tnk_868",Rye="_totalAmount_16tnk_873",Oye="_profitAmount_16tnk_879",Bye="_bonusInfo_16tnk_885",Lye="_bonusAccrued_16tnk_893",$ye="_bonusRedeemed_16tnk_894",Pye="_bonusIcon_16tnk_912",Fye="_bonusLabel_16tnk_921",Hye="_bonusValue_16tnk_928",zye="_bonusSection_16tnk_940",Vye="_bonusSectionTitle_16tnk_949",qye="_bonusRow_16tnk_964",Uye="_bonusAccruedTotal_16tnk_982",Wye="_bonusRedeemedTotal_16tnk_988",Yye="_actionButtons_16tnk_994",Gye="_downloadButton_16tnk_1002",Qye="_previewButton_16tnk_1003",Xye="_loading_16tnk_1037",Kye="_error_16tnk_1038",Zye="_tasksSection_16tnk_1131",Jye="_tasksHeader_16tnk_1142",e2e="_tasksIcon_16tnk_1177",t2e="_viewAllTasksButton_16tnk_1183",n2e="_arrowIcon_16tnk_1206",s2e="_tasksGrid_16tnk_1210",a2e="_taskCard_16tnk_1216",r2e="_taskCardHeader_16tnk_1252",i2e="_taskTitle_16tnk_1258",o2e="_taskBadges_16tnk_1271",c2e="_taskBadge_16tnk_1271",l2e="_priorityLow_16tnk_1287",u2e="_priorityMedium_16tnk_1293",d2e="_priorityHigh_16tnk_1299",h2e="_priorityCritical_16tnk_1305",f2e="_statusTodo_16tnk_1311",m2e="_statusInprogress_16tnk_1317",p2e="_statusReview_16tnk_1323",g2e="_taskProgress_16tnk_1329",_2e="_taskProgressInfo_16tnk_1337",v2e="_taskProgressPercentage_16tnk_1346",x2e="_taskProgressBar_16tnk_1352",b2e="_taskProgressBarFill_16tnk_1362",y2e="_taskProgressStats_16tnk_1370",w2e="_taskMeta_16tnk_1377",C2e="_taskAssignees_16tnk_1385",S2e="_taskDueDate_16tnk_1386",j2e="_taskMetaIcon_16tnk_1395",N2e="_taskLocation_16tnk_1400",Yt={app:xbe,mainContent:bbe,headerWithControls:ybe,pageTitle:wbe,icon:Cbe,periodControls:Sbe,periodButton:jbe,active:Nbe,dateRangePicker:Ebe,calendarIcon:kbe,dateInput:Ibe,statsGrid:Dbe,statCard:Tbe,success:Abe,warning:Mbe,danger:Rbe,contentRow:Obe,chartContainer:Bbe,transactionList:Lbe,transactionItem:$be,transactionHeader:Pbe,transactionMeta:Fbe,paymentMethod:Hbe,noTransactions:zbe,modalOverlay:Vbe,modalContent:qbe,closeButton:Ube,receiptHeader:Wbe,receiptMeta:Ybe,paidBadge:Gbe,modalLoading:Qbe,customerInfo:Xbe,itemsList:Kbe,itemCard:Zbe,itemImage:Jbe,itemInfo:eye,variantName:tye,sku:nye,attributesContainer:sye,attributesToggle:aye,productAttributes:rye,slideDown:iye,attributeItem:oye,attributeName:cye,attributeValue:lye,stockInfo:uye,soldInfo:dye,availableReturn:hye,itemPricing:fye,priceRow:mye,originalPrice:pye,discountBadge:gye,finalPrice:_ye,returnsSection:vye,returnItem:xye,returnHeader:bye,refundAmount:yye,returnReason:wye,returnLocation:Cye,returnDate:Sye,createdBy:jye,defectBadge:Nye,receiptFooter:Eye,discountInfo:kye,returnsInfo:Iye,totalRow:Dye,profitRow:Tye,discountAmount:Aye,returnsAmount:Mye,totalAmount:Rye,profitAmount:Oye,bonusInfo:Bye,bonusAccrued:Lye,bonusRedeemed:$ye,bonusIcon:Pye,bonusLabel:Fye,bonusValue:Hye,bonusSection:zye,bonusSectionTitle:Vye,bonusRow:qye,bonusAccruedTotal:Uye,bonusRedeemedTotal:Wye,actionButtons:Yye,downloadButton:Gye,previewButton:Qye,loading:Xye,error:Kye,tasksSection:Zye,tasksHeader:Jye,tasksIcon:e2e,viewAllTasksButton:t2e,arrowIcon:n2e,tasksGrid:s2e,taskCard:a2e,taskCardHeader:r2e,taskTitle:i2e,taskBadges:o2e,taskBadge:c2e,priorityLow:l2e,priorityMedium:u2e,priorityHigh:d2e,priorityCritical:h2e,statusTodo:f2e,statusInprogress:m2e,statusReview:p2e,taskProgress:g2e,taskProgressInfo:_2e,taskProgressPercentage:v2e,taskProgressBar:x2e,taskProgressBarFill:b2e,taskProgressStats:y2e,taskMeta:w2e,taskAssignees:C2e,taskDueDate:S2e,taskMetaIcon:j2e,taskLocation:N2e};function aL(e){var t,n,a="";if(typeof e=="string"||typeof e=="number")a+=e;else if(typeof e=="object")if(Array.isArray(e)){var r=e.length;for(t=0;t<r;t++)e[t]&&(n=aL(e[t]))&&(a&&(a+=" "),a+=n)}else for(n in e)e[n]&&(a&&(a+=" "),a+=n);return a}function Xi(){for(var e,t,n=0,a="",r=arguments.length;n<r;n++)(e=arguments[n])&&(t=aL(e))&&(a&&(a+=" "),a+=t);return a}const rL=6048e5,E2e=864e5,ny=6e4,sy=36e5,k2e=1e3,_T=Symbol.for("constructDateFrom");function hr(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&_T in e?e[_T](t):e instanceof Date?new e.constructor(t):new Date(t)}function ws(e,t){return hr(t||e,e)}function Vc(e,t,n){const a=ws(e,n==null?void 0:n.in);return isNaN(t)?hr((n==null?void 0:n.in)||e,NaN):(t&&a.setDate(a.getDate()+t),a)}function Gc(e,t,n){const a=ws(e,n==null?void 0:n.in);if(isNaN(t))return hr(e,NaN);if(!t)return a;const r=a.getDate(),i=hr(e,a.getTime());i.setMonth(a.getMonth()+t+1,0);const o=i.getDate();return r>=o?i:(a.setFullYear(i.getFullYear(),i.getMonth(),r),a)}function iL(e,t,n){return hr(e,+ws(e)+t)}function I2e(e,t,n){return iL(e,t*sy)}let D2e={};function Uh(){return D2e}function yu(e,t){var c,l,d,f;const n=Uh(),a=(t==null?void 0:t.weekStartsOn)??((l=(c=t==null?void 0:t.locale)==null?void 0:c.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((f=(d=n.locale)==null?void 0:d.options)==null?void 0:f.weekStartsOn)??0,r=ws(e,t==null?void 0:t.in),i=r.getDay(),o=(i<a?7:0)+i-a;return r.setDate(r.getDate()-o),r.setHours(0,0,0,0),r}function ym(e,t){return yu(e,{...t,weekStartsOn:1})}function oL(e,t){const n=ws(e,t==null?void 0:t.in),a=n.getFullYear(),r=hr(n,0);r.setFullYear(a+1,0,4),r.setHours(0,0,0,0);const i=ym(r),o=hr(n,0);o.setFullYear(a,0,4),o.setHours(0,0,0,0);const c=ym(o);return n.getTime()>=i.getTime()?a+1:n.getTime()>=c.getTime()?a:a-1}function Vx(e){const t=ws(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function ju(e,...t){const n=hr.bind(null,t.find(a=>typeof a=="object"));return t.map(n)}function Fh(e,t){const n=ws(e,t==null?void 0:t.in);return n.setHours(0,0,0,0),n}function wm(e,t,n){const[a,r]=ju(n==null?void 0:n.in,e,t),i=Fh(a),o=Fh(r),c=+i-Vx(i),l=+o-Vx(o);return Math.round((c-l)/E2e)}function T2e(e,t){const n=oL(e,t),a=hr(e,0);return a.setFullYear(n,0,4),a.setHours(0,0,0,0),ym(a)}function Aj(e,t,n){const a=ws(e,n==null?void 0:n.in);return a.setTime(a.getTime()+t*ny),a}function t4(e,t,n){return Gc(e,t*3,n)}function A2e(e,t,n){return iL(e,t*1e3)}function qx(e,t,n){return Vc(e,t*7,n)}function du(e,t,n){return Gc(e,t*12,n)}function vT(e,t){let n,a=t==null?void 0:t.in;return e.forEach(r=>{!a&&typeof r=="object"&&(a=hr.bind(null,r));const i=ws(r,a);(!n||n<i||isNaN(+i))&&(n=i)}),hr(a,n||NaN)}function xT(e,t){let n,a=t==null?void 0:t.in;return e.forEach(r=>{!a&&typeof r=="object"&&(a=hr.bind(null,r));const i=ws(r,a);(!n||n>i||isNaN(+i))&&(n=i)}),hr(a,n||NaN)}function M2e(e,t,n){const[a,r]=ju(n==null?void 0:n.in,e,t);return+Fh(a)==+Fh(r)}function hu(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function Ux(e){return!(!hu(e)&&typeof e!="number"||isNaN(+ws(e)))}function Wx(e,t,n){const[a,r]=ju(n==null?void 0:n.in,e,t),i=a.getFullYear()-r.getFullYear(),o=a.getMonth()-r.getMonth();return i*12+o}function kh(e,t){const n=ws(e,t==null?void 0:t.in);return Math.trunc(n.getMonth()/3)+1}function Yx(e,t,n){const[a,r]=ju(n==null?void 0:n.in,e,t),i=a.getFullYear()-r.getFullYear(),o=kh(a)-kh(r);return i*4+o}function Gx(e,t,n){const[a,r]=ju(n==null?void 0:n.in,e,t);return a.getFullYear()-r.getFullYear()}function R2e(e,t,n){const[a,r]=ju(n==null?void 0:n.in,e,t),i=bT(a,r),o=Math.abs(wm(a,r));a.setDate(a.getDate()-i*o);const c=+(bT(a,r)===-i),l=i*(o-c);return l===0?0:l}function bT(e,t){const n=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return n<0?-1:n>0?1:n}function cL(e,t){const n=ws(e,t==null?void 0:t.in);return n.setHours(23,59,59,999),n}function lL(e,t){const n=ws(e,t==null?void 0:t.in),a=n.getMonth();return n.setFullYear(n.getFullYear(),a+1,0),n.setHours(23,59,59,999),n}function Mj(e,t){const n=ws(e,t==null?void 0:t.in),a=n.getMonth(),r=a-a%3;return n.setMonth(r,1),n.setHours(0,0,0,0),n}function uL(e,t){const n=ws(e,t==null?void 0:t.in);return n.setDate(1),n.setHours(0,0,0,0),n}function dL(e,t){const n=ws(e,t==null?void 0:t.in),a=n.getFullYear();return n.setFullYear(a+1,0,0),n.setHours(23,59,59,999),n}function ay(e,t){const n=ws(e,t==null?void 0:t.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}function O2e(e,t){var c,l;const n=Uh(),a=n.weekStartsOn??((l=(c=n.locale)==null?void 0:c.options)==null?void 0:l.weekStartsOn)??0,r=ws(e,t==null?void 0:t.in),i=r.getDay(),o=(i<a?-7:0)+6-(i-a);return r.setDate(r.getDate()+o),r.setHours(23,59,59,999),r}const B2e={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},L2e=(e,t,n)=>{let a;const r=B2e[e];return typeof r=="string"?a=r:t===1?a=r.one:a=r.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+a:a+" ago":a};function TC(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const $2e={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},P2e={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},F2e={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},H2e={date:TC({formats:$2e,defaultWidth:"full"}),time:TC({formats:P2e,defaultWidth:"full"}),dateTime:TC({formats:F2e,defaultWidth:"full"})},z2e={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},V2e=(e,t,n,a)=>z2e[e];function u1(e){return(t,n)=>{const a=n!=null&&n.context?String(n.context):"standalone";let r;if(a==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,c=n!=null&&n.width?String(n.width):o;r=e.formattingValues[c]||e.formattingValues[o]}else{const o=e.defaultWidth,c=n!=null&&n.width?String(n.width):e.defaultWidth;r=e.values[c]||e.values[o]}const i=e.argumentCallback?e.argumentCallback(t):t;return r[i]}}const q2e={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},U2e={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},W2e={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Y2e={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},G2e={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Q2e={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},X2e=(e,t)=>{const n=Number(e),a=n%100;if(a>20||a<10)switch(a%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},K2e={ordinalNumber:X2e,era:u1({values:q2e,defaultWidth:"wide"}),quarter:u1({values:U2e,defaultWidth:"wide",argumentCallback:e=>e-1}),month:u1({values:W2e,defaultWidth:"wide"}),day:u1({values:Y2e,defaultWidth:"wide"}),dayPeriod:u1({values:G2e,defaultWidth:"wide",formattingValues:Q2e,defaultFormattingWidth:"wide"})};function d1(e){return(t,n={})=>{const a=n.width,r=a&&e.matchPatterns[a]||e.matchPatterns[e.defaultMatchWidth],i=t.match(r);if(!i)return null;const o=i[0],c=a&&e.parsePatterns[a]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(c)?J2e(c,g=>g.test(o)):Z2e(c,g=>g.test(o));let d;d=e.valueCallback?e.valueCallback(l):l,d=n.valueCallback?n.valueCallback(d):d;const f=t.slice(o.length);return{value:d,rest:f}}}function Z2e(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function J2e(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function ewe(e){return(t,n={})=>{const a=t.match(e.matchPattern);if(!a)return null;const r=a[0],i=t.match(e.parsePattern);if(!i)return null;let o=e.valueCallback?e.valueCallback(i[0]):i[0];o=n.valueCallback?n.valueCallback(o):o;const c=t.slice(r.length);return{value:o,rest:c}}}const twe=/^(\d+)(th|st|nd|rd)?/i,nwe=/\d+/i,swe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},awe={any:[/^b/i,/^(a|c)/i]},rwe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},iwe={any:[/1/i,/2/i,/3/i,/4/i]},owe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},cwe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},lwe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},uwe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},dwe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},hwe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},fwe={ordinalNumber:ewe({matchPattern:twe,parsePattern:nwe,valueCallback:e=>parseInt(e,10)}),era:d1({matchPatterns:swe,defaultMatchWidth:"wide",parsePatterns:awe,defaultParseWidth:"any"}),quarter:d1({matchPatterns:rwe,defaultMatchWidth:"wide",parsePatterns:iwe,defaultParseWidth:"any",valueCallback:e=>e+1}),month:d1({matchPatterns:owe,defaultMatchWidth:"wide",parsePatterns:cwe,defaultParseWidth:"any"}),day:d1({matchPatterns:lwe,defaultMatchWidth:"wide",parsePatterns:uwe,defaultParseWidth:"any"}),dayPeriod:d1({matchPatterns:dwe,defaultMatchWidth:"any",parsePatterns:hwe,defaultParseWidth:"any"})},hL={code:"en-US",formatDistance:L2e,formatLong:H2e,formatRelative:V2e,localize:K2e,match:fwe,options:{weekStartsOn:0,firstWeekContainsDate:1}};function mwe(e,t){const n=ws(e,t==null?void 0:t.in);return wm(n,ay(n))+1}function n4(e,t){const n=ws(e,t==null?void 0:t.in),a=+ym(n)-+T2e(n);return Math.round(a/rL)+1}function s4(e,t){var f,g,b,w;const n=ws(e,t==null?void 0:t.in),a=n.getFullYear(),r=Uh(),i=(t==null?void 0:t.firstWeekContainsDate)??((g=(f=t==null?void 0:t.locale)==null?void 0:f.options)==null?void 0:g.firstWeekContainsDate)??r.firstWeekContainsDate??((w=(b=r.locale)==null?void 0:b.options)==null?void 0:w.firstWeekContainsDate)??1,o=hr((t==null?void 0:t.in)||e,0);o.setFullYear(a+1,0,i),o.setHours(0,0,0,0);const c=yu(o,t),l=hr((t==null?void 0:t.in)||e,0);l.setFullYear(a,0,i),l.setHours(0,0,0,0);const d=yu(l,t);return+n>=+c?a+1:+n>=+d?a:a-1}function pwe(e,t){var c,l,d,f;const n=Uh(),a=(t==null?void 0:t.firstWeekContainsDate)??((l=(c=t==null?void 0:t.locale)==null?void 0:c.options)==null?void 0:l.firstWeekContainsDate)??n.firstWeekContainsDate??((f=(d=n.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??1,r=s4(e,t),i=hr((t==null?void 0:t.in)||e,0);return i.setFullYear(r,0,a),i.setHours(0,0,0,0),yu(i,t)}function fL(e,t){const n=ws(e,t==null?void 0:t.in),a=+yu(n,t)-+pwe(n,t);return Math.round(a/rL)+1}function lr(e,t){const n=e<0?"-":"",a=Math.abs(e).toString().padStart(t,"0");return n+a}const td={y(e,t){const n=e.getFullYear(),a=n>0?n:1-n;return lr(t==="yy"?a%100:a,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):lr(n+1,2)},d(e,t){return lr(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return lr(e.getHours()%12||12,t.length)},H(e,t){return lr(e.getHours(),t.length)},m(e,t){return lr(e.getMinutes(),t.length)},s(e,t){return lr(e.getSeconds(),t.length)},S(e,t){const n=t.length,a=e.getMilliseconds(),r=Math.trunc(a*Math.pow(10,n-3));return lr(r,t.length)}},Of={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},yT={G:function(e,t,n){const a=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(a,{width:"abbreviated"});case"GGGGG":return n.era(a,{width:"narrow"});case"GGGG":default:return n.era(a,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const a=e.getFullYear(),r=a>0?a:1-a;return n.ordinalNumber(r,{unit:"year"})}return td.y(e,t)},Y:function(e,t,n,a){const r=s4(e,a),i=r>0?r:1-r;if(t==="YY"){const o=i%100;return lr(o,2)}return t==="Yo"?n.ordinalNumber(i,{unit:"year"}):lr(i,t.length)},R:function(e,t){const n=oL(e);return lr(n,t.length)},u:function(e,t){const n=e.getFullYear();return lr(n,t.length)},Q:function(e,t,n){const a=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(a);case"QQ":return lr(a,2);case"Qo":return n.ordinalNumber(a,{unit:"quarter"});case"QQQ":return n.quarter(a,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(a,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(a,{width:"wide",context:"formatting"})}},q:function(e,t,n){const a=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(a);case"qq":return lr(a,2);case"qo":return n.ordinalNumber(a,{unit:"quarter"});case"qqq":return n.quarter(a,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(a,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(a,{width:"wide",context:"standalone"})}},M:function(e,t,n){const a=e.getMonth();switch(t){case"M":case"MM":return td.M(e,t);case"Mo":return n.ordinalNumber(a+1,{unit:"month"});case"MMM":return n.month(a,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(a,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(a,{width:"wide",context:"formatting"})}},L:function(e,t,n){const a=e.getMonth();switch(t){case"L":return String(a+1);case"LL":return lr(a+1,2);case"Lo":return n.ordinalNumber(a+1,{unit:"month"});case"LLL":return n.month(a,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(a,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(a,{width:"wide",context:"standalone"})}},w:function(e,t,n,a){const r=fL(e,a);return t==="wo"?n.ordinalNumber(r,{unit:"week"}):lr(r,t.length)},I:function(e,t,n){const a=n4(e);return t==="Io"?n.ordinalNumber(a,{unit:"week"}):lr(a,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):td.d(e,t)},D:function(e,t,n){const a=mwe(e);return t==="Do"?n.ordinalNumber(a,{unit:"dayOfYear"}):lr(a,t.length)},E:function(e,t,n){const a=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(a,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(a,{width:"short",context:"formatting"});case"EEEE":default:return n.day(a,{width:"wide",context:"formatting"})}},e:function(e,t,n,a){const r=e.getDay(),i=(r-a.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return lr(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(r,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(r,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(r,{width:"short",context:"formatting"});case"eeee":default:return n.day(r,{width:"wide",context:"formatting"})}},c:function(e,t,n,a){const r=e.getDay(),i=(r-a.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return lr(i,t.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(r,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(r,{width:"narrow",context:"standalone"});case"cccccc":return n.day(r,{width:"short",context:"standalone"});case"cccc":default:return n.day(r,{width:"wide",context:"standalone"})}},i:function(e,t,n){const a=e.getDay(),r=a===0?7:a;switch(t){case"i":return String(r);case"ii":return lr(r,t.length);case"io":return n.ordinalNumber(r,{unit:"day"});case"iii":return n.day(a,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(a,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(a,{width:"short",context:"formatting"});case"iiii":default:return n.day(a,{width:"wide",context:"formatting"})}},a:function(e,t,n){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(e,t,n){const a=e.getHours();let r;switch(a===12?r=Of.noon:a===0?r=Of.midnight:r=a/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},B:function(e,t,n){const a=e.getHours();let r;switch(a>=17?r=Of.evening:a>=12?r=Of.afternoon:a>=4?r=Of.morning:r=Of.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let a=e.getHours()%12;return a===0&&(a=12),n.ordinalNumber(a,{unit:"hour"})}return td.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):td.H(e,t)},K:function(e,t,n){const a=e.getHours()%12;return t==="Ko"?n.ordinalNumber(a,{unit:"hour"}):lr(a,t.length)},k:function(e,t,n){let a=e.getHours();return a===0&&(a=24),t==="ko"?n.ordinalNumber(a,{unit:"hour"}):lr(a,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):td.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):td.s(e,t)},S:function(e,t){return td.S(e,t)},X:function(e,t,n){const a=e.getTimezoneOffset();if(a===0)return"Z";switch(t){case"X":return CT(a);case"XXXX":case"XX":return lh(a);case"XXXXX":case"XXX":default:return lh(a,":")}},x:function(e,t,n){const a=e.getTimezoneOffset();switch(t){case"x":return CT(a);case"xxxx":case"xx":return lh(a);case"xxxxx":case"xxx":default:return lh(a,":")}},O:function(e,t,n){const a=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+wT(a,":");case"OOOO":default:return"GMT"+lh(a,":")}},z:function(e,t,n){const a=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+wT(a,":");case"zzzz":default:return"GMT"+lh(a,":")}},t:function(e,t,n){const a=Math.trunc(+e/1e3);return lr(a,t.length)},T:function(e,t,n){return lr(+e,t.length)}};function wT(e,t=""){const n=e>0?"-":"+",a=Math.abs(e),r=Math.trunc(a/60),i=a%60;return i===0?n+String(r):n+String(r)+t+lr(i,2)}function CT(e,t){return e%60===0?(e>0?"-":"+")+lr(Math.abs(e)/60,2):lh(e,t)}function lh(e,t=""){const n=e>0?"-":"+",a=Math.abs(e),r=lr(Math.trunc(a/60),2),i=lr(a%60,2);return n+r+t+i}const ST=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},mL=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},gwe=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],a=n[1],r=n[2];if(!r)return ST(e,t);let i;switch(a){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",ST(a,t)).replace("{{time}}",mL(r,t))},Rj={p:mL,P:gwe},_we=/^D+$/,vwe=/^Y+$/,xwe=["D","DD","YY","YYYY"];function bwe(e){return _we.test(e)}function ywe(e){return vwe.test(e)}function wwe(e,t,n){const a=Cwe(e,t,n);if(console.warn(a),xwe.includes(e))throw new RangeError(a)}function Cwe(e,t,n){const a=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${a} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Swe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,jwe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Nwe=/^'([^]*?)'?$/,Ewe=/''/g,kwe=/[a-zA-Z]/;function jT(e,t,n){var f,g,b,w,S,j,N,I;const a=Uh(),r=(n==null?void 0:n.locale)??a.locale??hL,i=(n==null?void 0:n.firstWeekContainsDate)??((g=(f=n==null?void 0:n.locale)==null?void 0:f.options)==null?void 0:g.firstWeekContainsDate)??a.firstWeekContainsDate??((w=(b=a.locale)==null?void 0:b.options)==null?void 0:w.firstWeekContainsDate)??1,o=(n==null?void 0:n.weekStartsOn)??((j=(S=n==null?void 0:n.locale)==null?void 0:S.options)==null?void 0:j.weekStartsOn)??a.weekStartsOn??((I=(N=a.locale)==null?void 0:N.options)==null?void 0:I.weekStartsOn)??0,c=ws(e,n==null?void 0:n.in);if(!Ux(c))throw new RangeError("Invalid time value");let l=t.match(jwe).map(M=>{const B=M[0];if(B==="p"||B==="P"){const P=Rj[B];return P(M,r.formatLong)}return M}).join("").match(Swe).map(M=>{if(M==="''")return{isToken:!1,value:"'"};const B=M[0];if(B==="'")return{isToken:!1,value:Iwe(M)};if(yT[B])return{isToken:!0,value:M};if(B.match(kwe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+B+"`");return{isToken:!1,value:M}});r.localize.preprocessor&&(l=r.localize.preprocessor(c,l));const d={firstWeekContainsDate:i,weekStartsOn:o,locale:r};return l.map(M=>{if(!M.isToken)return M.value;const B=M.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&ywe(B)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&bwe(B))&&wwe(B,t,String(e));const P=yT[B[0]];return P(c,B,r.localize,d)}).join("")}function Iwe(e){const t=e.match(Nwe);return t?t[1].replace(Ewe,"'"):e}function NT(e,t){return ws(e,t==null?void 0:t.in).getDate()}function Dwe(e,t){return ws(e,t==null?void 0:t.in).getDay()}function Twe(e,t){const n=ws(e,t==null?void 0:t.in),a=n.getFullYear(),r=n.getMonth(),i=hr(n,0);return i.setFullYear(a,r+1,0),i.setHours(0,0,0,0),i.getDate()}function Awe(){return Object.assign({},Uh())}function fu(e,t){return ws(e,t==null?void 0:t.in).getHours()}function Mwe(e,t){const n=ws(e,t==null?void 0:t.in).getDay();return n===0?7:n}function mu(e,t){return ws(e,t==null?void 0:t.in).getMinutes()}function co(e,t){return ws(e,t==null?void 0:t.in).getMonth()}function bd(e){return ws(e).getSeconds()}function Oj(e){return+ws(e)}function va(e,t){return ws(e,t==null?void 0:t.in).getFullYear()}function Ed(e,t){return+ws(e)>+ws(t)}function Hh(e,t){return+ws(e)<+ws(t)}function Rwe(e,t){return+ws(e)==+ws(t)}function Owe(e,t){const n=Bwe(t)?new t(0):hr(t,0);return n.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),n.setHours(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()),n}function Bwe(e){var t;return typeof e=="function"&&((t=e.prototype)==null?void 0:t.constructor)===e}const Lwe=10;class pL{constructor(){Pt(this,"subPriority",0)}validate(t,n){return!0}}class $we extends pL{constructor(t,n,a,r,i){super(),this.value=t,this.validateValue=n,this.setValue=a,this.priority=r,i&&(this.subPriority=i)}validate(t,n){return this.validateValue(t,this.value,n)}set(t,n,a){return this.setValue(t,n,this.value,a)}}class Pwe extends pL{constructor(n,a){super();Pt(this,"priority",Lwe);Pt(this,"subPriority",-1);this.context=n||(r=>hr(a,r))}set(n,a){return a.timestampIsSet?n:hr(n,Owe(n,this.context))}}class Ja{run(t,n,a,r){const i=this.parse(t,n,a,r);return i?{setter:new $we(i.value,this.validate,this.set,this.priority,this.subPriority),rest:i.rest}:null}validate(t,n,a){return!0}}class Fwe extends Ja{constructor(){super(...arguments);Pt(this,"priority",140);Pt(this,"incompatibleTokens",["R","u","t","T"])}parse(n,a,r){switch(a){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"})||r.era(n,{width:"narrow"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})||r.era(n,{width:"abbreviated"})||r.era(n,{width:"narrow"})}}set(n,a,r){return a.era=r,n.setFullYear(r,0,1),n.setHours(0,0,0,0),n}}const mi={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},_l={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function pi(e,t){return e&&{value:t(e.value),rest:e.rest}}function Qr(e,t){const n=t.match(e);return n?{value:parseInt(n[0],10),rest:t.slice(n[0].length)}:null}function vl(e,t){const n=t.match(e);if(!n)return null;if(n[0]==="Z")return{value:0,rest:t.slice(1)};const a=n[1]==="+"?1:-1,r=n[2]?parseInt(n[2],10):0,i=n[3]?parseInt(n[3],10):0,o=n[5]?parseInt(n[5],10):0;return{value:a*(r*sy+i*ny+o*k2e),rest:t.slice(n[0].length)}}function gL(e){return Qr(mi.anyDigitsSigned,e)}function ii(e,t){switch(e){case 1:return Qr(mi.singleDigit,t);case 2:return Qr(mi.twoDigits,t);case 3:return Qr(mi.threeDigits,t);case 4:return Qr(mi.fourDigits,t);default:return Qr(new RegExp("^\\d{1,"+e+"}"),t)}}function Qx(e,t){switch(e){case 1:return Qr(mi.singleDigitSigned,t);case 2:return Qr(mi.twoDigitsSigned,t);case 3:return Qr(mi.threeDigitsSigned,t);case 4:return Qr(mi.fourDigitsSigned,t);default:return Qr(new RegExp("^-?\\d{1,"+e+"}"),t)}}function a4(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function _L(e,t){const n=t>0,a=n?t:1-t;let r;if(a<=50)r=e||100;else{const i=a+50,o=Math.trunc(i/100)*100,c=e>=i%100;r=e+o-(c?100:0)}return n?r:1-r}function vL(e){return e%400===0||e%4===0&&e%100!==0}class Hwe extends Ja{constructor(){super(...arguments);Pt(this,"priority",130);Pt(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(n,a,r){const i=o=>({year:o,isTwoDigitYear:a==="yy"});switch(a){case"y":return pi(ii(4,n),i);case"yo":return pi(r.ordinalNumber(n,{unit:"year"}),i);default:return pi(ii(a.length,n),i)}}validate(n,a){return a.isTwoDigitYear||a.year>0}set(n,a,r){const i=n.getFullYear();if(r.isTwoDigitYear){const c=_L(r.year,i);return n.setFullYear(c,0,1),n.setHours(0,0,0,0),n}const o=!("era"in a)||a.era===1?r.year:1-r.year;return n.setFullYear(o,0,1),n.setHours(0,0,0,0),n}}class zwe extends Ja{constructor(){super(...arguments);Pt(this,"priority",130);Pt(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(n,a,r){const i=o=>({year:o,isTwoDigitYear:a==="YY"});switch(a){case"Y":return pi(ii(4,n),i);case"Yo":return pi(r.ordinalNumber(n,{unit:"year"}),i);default:return pi(ii(a.length,n),i)}}validate(n,a){return a.isTwoDigitYear||a.year>0}set(n,a,r,i){const o=s4(n,i);if(r.isTwoDigitYear){const l=_L(r.year,o);return n.setFullYear(l,0,i.firstWeekContainsDate),n.setHours(0,0,0,0),yu(n,i)}const c=!("era"in a)||a.era===1?r.year:1-r.year;return n.setFullYear(c,0,i.firstWeekContainsDate),n.setHours(0,0,0,0),yu(n,i)}}class Vwe extends Ja{constructor(){super(...arguments);Pt(this,"priority",130);Pt(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(n,a){return Qx(a==="R"?4:a.length,n)}set(n,a,r){const i=hr(n,0);return i.setFullYear(r,0,4),i.setHours(0,0,0,0),ym(i)}}class qwe extends Ja{constructor(){super(...arguments);Pt(this,"priority",130);Pt(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(n,a){return Qx(a==="u"?4:a.length,n)}set(n,a,r){return n.setFullYear(r,0,1),n.setHours(0,0,0,0),n}}class Uwe extends Ja{constructor(){super(...arguments);Pt(this,"priority",120);Pt(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(n,a,r){switch(a){case"Q":case"QQ":return ii(a.length,n);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"})||r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})||r.quarter(n,{width:"abbreviated",context:"formatting"})||r.quarter(n,{width:"narrow",context:"formatting"})}}validate(n,a){return a>=1&&a<=4}set(n,a,r){return n.setMonth((r-1)*3,1),n.setHours(0,0,0,0),n}}class Wwe extends Ja{constructor(){super(...arguments);Pt(this,"priority",120);Pt(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(n,a,r){switch(a){case"q":case"qq":return ii(a.length,n);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"})||r.quarter(n,{width:"narrow",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})||r.quarter(n,{width:"abbreviated",context:"standalone"})||r.quarter(n,{width:"narrow",context:"standalone"})}}validate(n,a){return a>=1&&a<=4}set(n,a,r){return n.setMonth((r-1)*3,1),n.setHours(0,0,0,0),n}}class Ywe extends Ja{constructor(){super(...arguments);Pt(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);Pt(this,"priority",110)}parse(n,a,r){const i=o=>o-1;switch(a){case"M":return pi(Qr(mi.month,n),i);case"MM":return pi(ii(2,n),i);case"Mo":return pi(r.ordinalNumber(n,{unit:"month"}),i);case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"})||r.month(n,{width:"narrow",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})||r.month(n,{width:"abbreviated",context:"formatting"})||r.month(n,{width:"narrow",context:"formatting"})}}validate(n,a){return a>=0&&a<=11}set(n,a,r){return n.setMonth(r,1),n.setHours(0,0,0,0),n}}class Gwe extends Ja{constructor(){super(...arguments);Pt(this,"priority",110);Pt(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(n,a,r){const i=o=>o-1;switch(a){case"L":return pi(Qr(mi.month,n),i);case"LL":return pi(ii(2,n),i);case"Lo":return pi(r.ordinalNumber(n,{unit:"month"}),i);case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"})||r.month(n,{width:"narrow",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})||r.month(n,{width:"abbreviated",context:"standalone"})||r.month(n,{width:"narrow",context:"standalone"})}}validate(n,a){return a>=0&&a<=11}set(n,a,r){return n.setMonth(r,1),n.setHours(0,0,0,0),n}}function Qwe(e,t,n){const a=ws(e,n==null?void 0:n.in),r=fL(a,n)-t;return a.setDate(a.getDate()-r*7),ws(a,n==null?void 0:n.in)}class Xwe extends Ja{constructor(){super(...arguments);Pt(this,"priority",100);Pt(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(n,a,r){switch(a){case"w":return Qr(mi.week,n);case"wo":return r.ordinalNumber(n,{unit:"week"});default:return ii(a.length,n)}}validate(n,a){return a>=1&&a<=53}set(n,a,r,i){return yu(Qwe(n,r,i),i)}}function Kwe(e,t,n){const a=ws(e,n==null?void 0:n.in),r=n4(a,n)-t;return a.setDate(a.getDate()-r*7),a}class Zwe extends Ja{constructor(){super(...arguments);Pt(this,"priority",100);Pt(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(n,a,r){switch(a){case"I":return Qr(mi.week,n);case"Io":return r.ordinalNumber(n,{unit:"week"});default:return ii(a.length,n)}}validate(n,a){return a>=1&&a<=53}set(n,a,r){return ym(Kwe(n,r))}}const Jwe=[31,28,31,30,31,30,31,31,30,31,30,31],eCe=[31,29,31,30,31,30,31,31,30,31,30,31];class tCe extends Ja{constructor(){super(...arguments);Pt(this,"priority",90);Pt(this,"subPriority",1);Pt(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(n,a,r){switch(a){case"d":return Qr(mi.date,n);case"do":return r.ordinalNumber(n,{unit:"date"});default:return ii(a.length,n)}}validate(n,a){const r=n.getFullYear(),i=vL(r),o=n.getMonth();return i?a>=1&&a<=eCe[o]:a>=1&&a<=Jwe[o]}set(n,a,r){return n.setDate(r),n.setHours(0,0,0,0),n}}class nCe extends Ja{constructor(){super(...arguments);Pt(this,"priority",90);Pt(this,"subpriority",1);Pt(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(n,a,r){switch(a){case"D":case"DD":return Qr(mi.dayOfYear,n);case"Do":return r.ordinalNumber(n,{unit:"date"});default:return ii(a.length,n)}}validate(n,a){const r=n.getFullYear();return vL(r)?a>=1&&a<=366:a>=1&&a<=365}set(n,a,r){return n.setMonth(0,r),n.setHours(0,0,0,0),n}}function r4(e,t,n){var g,b,w,S;const a=Uh(),r=(n==null?void 0:n.weekStartsOn)??((b=(g=n==null?void 0:n.locale)==null?void 0:g.options)==null?void 0:b.weekStartsOn)??a.weekStartsOn??((S=(w=a.locale)==null?void 0:w.options)==null?void 0:S.weekStartsOn)??0,i=ws(e,n==null?void 0:n.in),o=i.getDay(),l=(t%7+7)%7,d=7-r,f=t<0||t>6?t-(o+d)%7:(l+d)%7-(o+d)%7;return Vc(i,f,n)}class sCe extends Ja{constructor(){super(...arguments);Pt(this,"priority",90);Pt(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(n,a,r){switch(a){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"})||r.day(n,{width:"short",context:"formatting"})||r.day(n,{width:"narrow",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"})||r.day(n,{width:"narrow",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})||r.day(n,{width:"abbreviated",context:"formatting"})||r.day(n,{width:"short",context:"formatting"})||r.day(n,{width:"narrow",context:"formatting"})}}validate(n,a){return a>=0&&a<=6}set(n,a,r,i){return n=r4(n,r,i),n.setHours(0,0,0,0),n}}class aCe extends Ja{constructor(){super(...arguments);Pt(this,"priority",90);Pt(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(n,a,r,i){const o=c=>{const l=Math.floor((c-1)/7)*7;return(c+i.weekStartsOn+6)%7+l};switch(a){case"e":case"ee":return pi(ii(a.length,n),o);case"eo":return pi(r.ordinalNumber(n,{unit:"day"}),o);case"eee":return r.day(n,{width:"abbreviated",context:"formatting"})||r.day(n,{width:"short",context:"formatting"})||r.day(n,{width:"narrow",context:"formatting"});case"eeeee":return r.day(n,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(n,{width:"short",context:"formatting"})||r.day(n,{width:"narrow",context:"formatting"});case"eeee":default:return r.day(n,{width:"wide",context:"formatting"})||r.day(n,{width:"abbreviated",context:"formatting"})||r.day(n,{width:"short",context:"formatting"})||r.day(n,{width:"narrow",context:"formatting"})}}validate(n,a){return a>=0&&a<=6}set(n,a,r,i){return n=r4(n,r,i),n.setHours(0,0,0,0),n}}class rCe extends Ja{constructor(){super(...arguments);Pt(this,"priority",90);Pt(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(n,a,r,i){const o=c=>{const l=Math.floor((c-1)/7)*7;return(c+i.weekStartsOn+6)%7+l};switch(a){case"c":case"cc":return pi(ii(a.length,n),o);case"co":return pi(r.ordinalNumber(n,{unit:"day"}),o);case"ccc":return r.day(n,{width:"abbreviated",context:"standalone"})||r.day(n,{width:"short",context:"standalone"})||r.day(n,{width:"narrow",context:"standalone"});case"ccccc":return r.day(n,{width:"narrow",context:"standalone"});case"cccccc":return r.day(n,{width:"short",context:"standalone"})||r.day(n,{width:"narrow",context:"standalone"});case"cccc":default:return r.day(n,{width:"wide",context:"standalone"})||r.day(n,{width:"abbreviated",context:"standalone"})||r.day(n,{width:"short",context:"standalone"})||r.day(n,{width:"narrow",context:"standalone"})}}validate(n,a){return a>=0&&a<=6}set(n,a,r,i){return n=r4(n,r,i),n.setHours(0,0,0,0),n}}function iCe(e,t,n){const a=ws(e,n==null?void 0:n.in),r=Mwe(a,n),i=t-r;return Vc(a,i,n)}class oCe extends Ja{constructor(){super(...arguments);Pt(this,"priority",90);Pt(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(n,a,r){const i=o=>o===0?7:o;switch(a){case"i":case"ii":return ii(a.length,n);case"io":return r.ordinalNumber(n,{unit:"day"});case"iii":return pi(r.day(n,{width:"abbreviated",context:"formatting"})||r.day(n,{width:"short",context:"formatting"})||r.day(n,{width:"narrow",context:"formatting"}),i);case"iiiii":return pi(r.day(n,{width:"narrow",context:"formatting"}),i);case"iiiiii":return pi(r.day(n,{width:"short",context:"formatting"})||r.day(n,{width:"narrow",context:"formatting"}),i);case"iiii":default:return pi(r.day(n,{width:"wide",context:"formatting"})||r.day(n,{width:"abbreviated",context:"formatting"})||r.day(n,{width:"short",context:"formatting"})||r.day(n,{width:"narrow",context:"formatting"}),i)}}validate(n,a){return a>=1&&a<=7}set(n,a,r){return n=iCe(n,r),n.setHours(0,0,0,0),n}}class cCe extends Ja{constructor(){super(...arguments);Pt(this,"priority",80);Pt(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(n,a,r){switch(a){case"a":case"aa":case"aaa":return r.dayPeriod(n,{width:"abbreviated",context:"formatting"})||r.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaaa":return r.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(n,{width:"wide",context:"formatting"})||r.dayPeriod(n,{width:"abbreviated",context:"formatting"})||r.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,a,r){return n.setHours(a4(r),0,0,0),n}}class lCe extends Ja{constructor(){super(...arguments);Pt(this,"priority",80);Pt(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(n,a,r){switch(a){case"b":case"bb":case"bbb":return r.dayPeriod(n,{width:"abbreviated",context:"formatting"})||r.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbbb":return r.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(n,{width:"wide",context:"formatting"})||r.dayPeriod(n,{width:"abbreviated",context:"formatting"})||r.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,a,r){return n.setHours(a4(r),0,0,0),n}}class uCe extends Ja{constructor(){super(...arguments);Pt(this,"priority",80);Pt(this,"incompatibleTokens",["a","b","t","T"])}parse(n,a,r){switch(a){case"B":case"BB":case"BBB":return r.dayPeriod(n,{width:"abbreviated",context:"formatting"})||r.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBBB":return r.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(n,{width:"wide",context:"formatting"})||r.dayPeriod(n,{width:"abbreviated",context:"formatting"})||r.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,a,r){return n.setHours(a4(r),0,0,0),n}}class dCe extends Ja{constructor(){super(...arguments);Pt(this,"priority",70);Pt(this,"incompatibleTokens",["H","K","k","t","T"])}parse(n,a,r){switch(a){case"h":return Qr(mi.hour12h,n);case"ho":return r.ordinalNumber(n,{unit:"hour"});default:return ii(a.length,n)}}validate(n,a){return a>=1&&a<=12}set(n,a,r){const i=n.getHours()>=12;return i&&r<12?n.setHours(r+12,0,0,0):!i&&r===12?n.setHours(0,0,0,0):n.setHours(r,0,0,0),n}}class hCe extends Ja{constructor(){super(...arguments);Pt(this,"priority",70);Pt(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(n,a,r){switch(a){case"H":return Qr(mi.hour23h,n);case"Ho":return r.ordinalNumber(n,{unit:"hour"});default:return ii(a.length,n)}}validate(n,a){return a>=0&&a<=23}set(n,a,r){return n.setHours(r,0,0,0),n}}class fCe extends Ja{constructor(){super(...arguments);Pt(this,"priority",70);Pt(this,"incompatibleTokens",["h","H","k","t","T"])}parse(n,a,r){switch(a){case"K":return Qr(mi.hour11h,n);case"Ko":return r.ordinalNumber(n,{unit:"hour"});default:return ii(a.length,n)}}validate(n,a){return a>=0&&a<=11}set(n,a,r){return n.getHours()>=12&&r<12?n.setHours(r+12,0,0,0):n.setHours(r,0,0,0),n}}class mCe extends Ja{constructor(){super(...arguments);Pt(this,"priority",70);Pt(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(n,a,r){switch(a){case"k":return Qr(mi.hour24h,n);case"ko":return r.ordinalNumber(n,{unit:"hour"});default:return ii(a.length,n)}}validate(n,a){return a>=1&&a<=24}set(n,a,r){const i=r<=24?r%24:r;return n.setHours(i,0,0,0),n}}class pCe extends Ja{constructor(){super(...arguments);Pt(this,"priority",60);Pt(this,"incompatibleTokens",["t","T"])}parse(n,a,r){switch(a){case"m":return Qr(mi.minute,n);case"mo":return r.ordinalNumber(n,{unit:"minute"});default:return ii(a.length,n)}}validate(n,a){return a>=0&&a<=59}set(n,a,r){return n.setMinutes(r,0,0),n}}class gCe extends Ja{constructor(){super(...arguments);Pt(this,"priority",50);Pt(this,"incompatibleTokens",["t","T"])}parse(n,a,r){switch(a){case"s":return Qr(mi.second,n);case"so":return r.ordinalNumber(n,{unit:"second"});default:return ii(a.length,n)}}validate(n,a){return a>=0&&a<=59}set(n,a,r){return n.setSeconds(r,0),n}}class _Ce extends Ja{constructor(){super(...arguments);Pt(this,"priority",30);Pt(this,"incompatibleTokens",["t","T"])}parse(n,a){const r=i=>Math.trunc(i*Math.pow(10,-a.length+3));return pi(ii(a.length,n),r)}set(n,a,r){return n.setMilliseconds(r),n}}class vCe extends Ja{constructor(){super(...arguments);Pt(this,"priority",10);Pt(this,"incompatibleTokens",["t","T","x"])}parse(n,a){switch(a){case"X":return vl(_l.basicOptionalMinutes,n);case"XX":return vl(_l.basic,n);case"XXXX":return vl(_l.basicOptionalSeconds,n);case"XXXXX":return vl(_l.extendedOptionalSeconds,n);case"XXX":default:return vl(_l.extended,n)}}set(n,a,r){return a.timestampIsSet?n:hr(n,n.getTime()-Vx(n)-r)}}class xCe extends Ja{constructor(){super(...arguments);Pt(this,"priority",10);Pt(this,"incompatibleTokens",["t","T","X"])}parse(n,a){switch(a){case"x":return vl(_l.basicOptionalMinutes,n);case"xx":return vl(_l.basic,n);case"xxxx":return vl(_l.basicOptionalSeconds,n);case"xxxxx":return vl(_l.extendedOptionalSeconds,n);case"xxx":default:return vl(_l.extended,n)}}set(n,a,r){return a.timestampIsSet?n:hr(n,n.getTime()-Vx(n)-r)}}class bCe extends Ja{constructor(){super(...arguments);Pt(this,"priority",40);Pt(this,"incompatibleTokens","*")}parse(n){return gL(n)}set(n,a,r){return[hr(n,r*1e3),{timestampIsSet:!0}]}}class yCe extends Ja{constructor(){super(...arguments);Pt(this,"priority",20);Pt(this,"incompatibleTokens","*")}parse(n){return gL(n)}set(n,a,r){return[hr(n,r),{timestampIsSet:!0}]}}const wCe={G:new Fwe,y:new Hwe,Y:new zwe,R:new Vwe,u:new qwe,Q:new Uwe,q:new Wwe,M:new Ywe,L:new Gwe,w:new Xwe,I:new Zwe,d:new tCe,D:new nCe,E:new sCe,e:new aCe,c:new rCe,i:new oCe,a:new cCe,b:new lCe,B:new uCe,h:new dCe,H:new hCe,K:new fCe,k:new mCe,m:new pCe,s:new gCe,S:new _Ce,X:new vCe,x:new xCe,t:new bCe,T:new yCe},CCe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,SCe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,jCe=/^'([^]*?)'?$/,NCe=/''/g,ECe=/\S/,kCe=/[a-zA-Z]/;function ICe(e,t,n,a){var N,I,M,B,P,O,R,$;const r=()=>hr((a==null?void 0:a.in)||n,NaN),i=Awe(),o=(a==null?void 0:a.locale)??i.locale??hL,c=(a==null?void 0:a.firstWeekContainsDate)??((I=(N=a==null?void 0:a.locale)==null?void 0:N.options)==null?void 0:I.firstWeekContainsDate)??i.firstWeekContainsDate??((B=(M=i.locale)==null?void 0:M.options)==null?void 0:B.firstWeekContainsDate)??1,l=(a==null?void 0:a.weekStartsOn)??((O=(P=a==null?void 0:a.locale)==null?void 0:P.options)==null?void 0:O.weekStartsOn)??i.weekStartsOn??(($=(R=i.locale)==null?void 0:R.options)==null?void 0:$.weekStartsOn)??0;if(!t)return e?r():ws(n,a==null?void 0:a.in);const d={firstWeekContainsDate:c,weekStartsOn:l,locale:o},f=[new Pwe(a==null?void 0:a.in,n)],g=t.match(SCe).map(U=>{const F=U[0];if(F in Rj){const H=Rj[F];return H(U,o.formatLong)}return U}).join("").match(CCe),b=[];for(let U of g){const F=U[0],H=wCe[F];if(H){const{incompatibleTokens:ne}=H;if(Array.isArray(ne)){const te=b.find(se=>ne.includes(se.token)||se.token===F);if(te)throw new RangeError(`The format string mustn't contain \`${te.fullToken}\` and \`${U}\` at the same time`)}else if(H.incompatibleTokens==="*"&&b.length>0)throw new RangeError(`The format string mustn't contain \`${U}\` and any other token at the same time`);b.push({token:F,fullToken:U});const X=H.run(e,U,o.match,d);if(!X)return r();f.push(X.setter),e=X.rest}else{if(F.match(kCe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+F+"`");if(U==="''"?U="'":F==="'"&&(U=DCe(U)),e.indexOf(U)===0)e=e.slice(U.length);else return r()}}if(e.length>0&&ECe.test(e))return r();const w=f.map(U=>U.priority).sort((U,F)=>F-U).filter((U,F,H)=>H.indexOf(U)===F).map(U=>f.filter(F=>F.priority===U).sort((F,H)=>H.subPriority-F.subPriority)).map(U=>U[0]);let S=ws(n,a==null?void 0:a.in);if(isNaN(+S))return r();const j={};for(const U of w){if(!U.validate(S,d))return r();const F=U.set(S,j,d);Array.isArray(F)?(S=F[0],Object.assign(j,F[1])):S=F}return S}function DCe(e){return e.match(jCe)[1].replace(NCe,"'")}function TCe(e,t,n){const[a,r]=ju(n==null?void 0:n.in,e,t);return a.getFullYear()===r.getFullYear()&&a.getMonth()===r.getMonth()}function ACe(e,t,n){const[a,r]=ju(n==null?void 0:n.in,e,t);return+Mj(a)==+Mj(r)}function MCe(e,t,n){const[a,r]=ju(n==null?void 0:n.in,e,t);return a.getFullYear()===r.getFullYear()}function Rg(e,t,n){const a=+ws(e,n==null?void 0:n.in),[r,i]=[+ws(t.start,n==null?void 0:n.in),+ws(t.end,n==null?void 0:n.in)].sort((o,c)=>o-c);return a>=r&&a<=i}function RCe(e,t,n){return Vc(e,-1,n)}function OCe(e,t){const n=()=>hr(t==null?void 0:t.in,NaN),r=PCe(e);let i;if(r.date){const d=FCe(r.date,2);i=HCe(d.restDateString,d.year)}if(!i||isNaN(+i))return n();const o=+i;let c=0,l;if(r.time&&(c=zCe(r.time),isNaN(c)))return n();if(r.timezone){if(l=VCe(r.timezone),isNaN(l))return n()}else{const d=new Date(o+c),f=ws(0,t==null?void 0:t.in);return f.setFullYear(d.getUTCFullYear(),d.getUTCMonth(),d.getUTCDate()),f.setHours(d.getUTCHours(),d.getUTCMinutes(),d.getUTCSeconds(),d.getUTCMilliseconds()),f}return ws(o+c+l,t==null?void 0:t.in)}const Z_={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},BCe=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,LCe=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,$Ce=/^([+-])(\d{2})(?::?(\d{2}))?$/;function PCe(e){const t={},n=e.split(Z_.dateTimeDelimiter);let a;if(n.length>2)return t;if(/:/.test(n[0])?a=n[0]:(t.date=n[0],a=n[1],Z_.timeZoneDelimiter.test(t.date)&&(t.date=e.split(Z_.timeZoneDelimiter)[0],a=e.substr(t.date.length,e.length))),a){const r=Z_.timezone.exec(a);r?(t.time=a.replace(r[1],""),t.timezone=r[1]):t.time=a}return t}function FCe(e,t){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),a=e.match(n);if(!a)return{year:NaN,restDateString:""};const r=a[1]?parseInt(a[1]):null,i=a[2]?parseInt(a[2]):null;return{year:i===null?r:i*100,restDateString:e.slice((a[1]||a[2]).length)}}function HCe(e,t){if(t===null)return new Date(NaN);const n=e.match(BCe);if(!n)return new Date(NaN);const a=!!n[4],r=h1(n[1]),i=h1(n[2])-1,o=h1(n[3]),c=h1(n[4]),l=h1(n[5])-1;if(a)return GCe(t,c,l)?qCe(t,c,l):new Date(NaN);{const d=new Date(0);return!WCe(t,i,o)||!YCe(t,r)?new Date(NaN):(d.setUTCFullYear(t,i,Math.max(r,o)),d)}}function h1(e){return e?parseInt(e):1}function zCe(e){const t=e.match(LCe);if(!t)return NaN;const n=AC(t[1]),a=AC(t[2]),r=AC(t[3]);return QCe(n,a,r)?n*sy+a*ny+r*1e3:NaN}function AC(e){return e&&parseFloat(e.replace(",","."))||0}function VCe(e){if(e==="Z")return 0;const t=e.match($Ce);if(!t)return 0;const n=t[1]==="+"?-1:1,a=parseInt(t[2]),r=t[3]&&parseInt(t[3])||0;return XCe(a,r)?n*(a*sy+r*ny):NaN}function qCe(e,t,n){const a=new Date(0);a.setUTCFullYear(e,0,4);const r=a.getUTCDay()||7,i=(t-1)*7+n+1-r;return a.setUTCDate(a.getUTCDate()+i),a}const UCe=[31,null,31,30,31,30,31,31,30,31,30,31];function xL(e){return e%400===0||e%4===0&&e%100!==0}function WCe(e,t,n){return t>=0&&t<=11&&n>=1&&n<=(UCe[t]||(xL(e)?29:28))}function YCe(e,t){return t>=1&&t<=(xL(e)?366:365)}function GCe(e,t,n){return t>=1&&t<=53&&n>=0&&n<=6}function QCe(e,t,n){return e===24?t===0&&n===0:n>=0&&n<60&&t>=0&&t<60&&e>=0&&e<25}function XCe(e,t){return t>=0&&t<=59}function bc(e,t,n){const a=ws(e,n==null?void 0:n.in),r=a.getFullYear(),i=a.getDate(),o=hr(e,0);o.setFullYear(r,t,15),o.setHours(0,0,0,0);const c=Twe(o);return a.setMonth(t,Math.min(i,c)),a}function Hv(e,t,n){const a=ws(e,n==null?void 0:n.in);return a.setHours(t),a}function zv(e,t,n){const a=ws(e,n==null?void 0:n.in);return a.setMinutes(t),a}function Vf(e,t,n){const a=ws(e,n==null?void 0:n.in),r=Math.trunc(a.getMonth()/3)+1,i=t-r;return bc(a,a.getMonth()+i*3)}function Vv(e,t,n){const a=ws(e,n==null?void 0:n.in);return a.setSeconds(t),a}function hl(e,t,n){const a=ws(e,n==null?void 0:n.in);return isNaN(+a)?hr(e,NaN):(a.setFullYear(t),a)}function Ih(e,t,n){return Gc(e,-t,n)}function bL(e,t,n){return t4(e,-1,n)}function ET(e,t,n){return qx(e,-1,n)}function Cm(e,t,n){return du(e,-t,n)}function ry(){return typeof window<"u"}function Zm(e){return yL(e)?(e.nodeName||"").toLowerCase():"#document"}function tc(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Ml(e){var t;return(t=(yL(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function yL(e){return ry()?e instanceof Node||e instanceof tc(e).Node:!1}function xo(e){return ry()?e instanceof Element||e instanceof tc(e).Element:!1}function Dl(e){return ry()?e instanceof HTMLElement||e instanceof tc(e).HTMLElement:!1}function kT(e){return!ry()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof tc(e).ShadowRoot}const KCe=new Set(["inline","contents"]);function h0(e){const{overflow:t,overflowX:n,overflowY:a,display:r}=Ec(e);return/auto|scroll|overlay|hidden|clip/.test(t+a+n)&&!KCe.has(r)}const ZCe=new Set(["table","td","th"]);function JCe(e){return ZCe.has(Zm(e))}const eSe=[":popover-open",":modal"];function iy(e){return eSe.some(t=>{try{return e.matches(t)}catch{return!1}})}const tSe=["transform","translate","scale","rotate","perspective"],nSe=["transform","translate","scale","rotate","perspective","filter"],sSe=["paint","layout","strict","content"];function i4(e){const t=o4(),n=xo(e)?Ec(e):e;return tSe.some(a=>n[a]?n[a]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||nSe.some(a=>(n.willChange||"").includes(a))||sSe.some(a=>(n.contain||"").includes(a))}function aSe(e){let t=kd(e);for(;Dl(t)&&!Sm(t);){if(i4(t))return t;if(iy(t))return null;t=kd(t)}return null}function o4(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const rSe=new Set(["html","body","#document"]);function Sm(e){return rSe.has(Zm(e))}function Ec(e){return tc(e).getComputedStyle(e)}function oy(e){return xo(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function kd(e){if(Zm(e)==="html")return e;const t=e.assignedSlot||e.parentNode||kT(e)&&e.host||Ml(e);return kT(t)?t.host:t}function wL(e){const t=kd(e);return Sm(t)?e.ownerDocument?e.ownerDocument.body:e.body:Dl(t)&&h0(t)?t:wL(t)}function Og(e,t,n){var a;t===void 0&&(t=[]),n===void 0&&(n=!0);const r=wL(e),i=r===((a=e.ownerDocument)==null?void 0:a.body),o=tc(r);if(i){const c=Bj(o);return t.concat(o,o.visualViewport||[],h0(r)?r:[],c&&n?Og(c):[])}return t.concat(r,Og(r,[],n))}function Bj(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}const jm=Math.min,Dh=Math.max,Xx=Math.round,J_=Math.floor,kl=e=>({x:e,y:e}),iSe={left:"right",right:"left",bottom:"top",top:"bottom"},oSe={start:"end",end:"start"};function cSe(e,t,n){return Dh(e,jm(t,n))}function cy(e,t){return typeof e=="function"?e(t):e}function Nm(e){return e.split("-")[0]}function f0(e){return e.split("-")[1]}function lSe(e){return e==="x"?"y":"x"}function c4(e){return e==="y"?"height":"width"}const uSe=new Set(["top","bottom"]);function gh(e){return uSe.has(Nm(e))?"y":"x"}function l4(e){return lSe(gh(e))}function dSe(e,t,n){n===void 0&&(n=!1);const a=f0(e),r=l4(e),i=c4(r);let o=r==="x"?a===(n?"end":"start")?"right":"left":a==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(o=Kx(o)),[o,Kx(o)]}function hSe(e){const t=Kx(e);return[Lj(e),t,Lj(t)]}function Lj(e){return e.replace(/start|end/g,t=>oSe[t])}const IT=["left","right"],DT=["right","left"],fSe=["top","bottom"],mSe=["bottom","top"];function pSe(e,t,n){switch(e){case"top":case"bottom":return n?t?DT:IT:t?IT:DT;case"left":case"right":return t?fSe:mSe;default:return[]}}function gSe(e,t,n,a){const r=f0(e);let i=pSe(Nm(e),n==="start",a);return r&&(i=i.map(o=>o+"-"+r),t&&(i=i.concat(i.map(Lj)))),i}function Kx(e){return e.replace(/left|right|bottom|top/g,t=>iSe[t])}function _Se(e){return{top:0,right:0,bottom:0,left:0,...e}}function CL(e){return typeof e!="number"?_Se(e):{top:e,right:e,bottom:e,left:e}}function Zx(e){const{x:t,y:n,width:a,height:r}=e;return{width:a,height:r,top:n,left:t,right:t+a,bottom:n+r,x:t,y:n}}var vSe=typeof document<"u",xSe=function(){},Jx=vSe?v.useLayoutEffect:xSe;const bSe={...Bm},ySe=bSe.useInsertionEffect,wSe=ySe||(e=>e());function CSe(e){const t=v.useRef(()=>{});return wSe(()=>{t.current=e}),v.useCallback(function(){for(var n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return t.current==null?void 0:t.current(...a)},[])}function TT(e,t,n){let{reference:a,floating:r}=e;const i=gh(t),o=l4(t),c=c4(o),l=Nm(t),d=i==="y",f=a.x+a.width/2-r.width/2,g=a.y+a.height/2-r.height/2,b=a[c]/2-r[c]/2;let w;switch(l){case"top":w={x:f,y:a.y-r.height};break;case"bottom":w={x:f,y:a.y+a.height};break;case"right":w={x:a.x+a.width,y:g};break;case"left":w={x:a.x-r.width,y:g};break;default:w={x:a.x,y:a.y}}switch(f0(t)){case"start":w[o]-=b*(n&&d?-1:1);break;case"end":w[o]+=b*(n&&d?-1:1);break}return w}const SSe=async(e,t,n)=>{const{placement:a="bottom",strategy:r="absolute",middleware:i=[],platform:o}=n,c=i.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(t));let d=await o.getElementRects({reference:e,floating:t,strategy:r}),{x:f,y:g}=TT(d,a,l),b=a,w={},S=0;for(let j=0;j<c.length;j++){const{name:N,fn:I}=c[j],{x:M,y:B,data:P,reset:O}=await I({x:f,y:g,initialPlacement:a,placement:b,strategy:r,middlewareData:w,rects:d,platform:o,elements:{reference:e,floating:t}});f=M??f,g=B??g,w={...w,[N]:{...w[N],...P}},O&&S<=50&&(S++,typeof O=="object"&&(O.placement&&(b=O.placement),O.rects&&(d=O.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:r}):O.rects),{x:f,y:g}=TT(d,b,l)),j=-1)}return{x:f,y:g,placement:b,strategy:r,middlewareData:w}};async function jSe(e,t){var n;t===void 0&&(t={});const{x:a,y:r,platform:i,rects:o,elements:c,strategy:l}=e,{boundary:d="clippingAncestors",rootBoundary:f="viewport",elementContext:g="floating",altBoundary:b=!1,padding:w=0}=cy(t,e),S=CL(w),N=c[b?g==="floating"?"reference":"floating":g],I=Zx(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(N)))==null||n?N:N.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(c.floating)),boundary:d,rootBoundary:f,strategy:l})),M=g==="floating"?{x:a,y:r,width:o.floating.width,height:o.floating.height}:o.reference,B=await(i.getOffsetParent==null?void 0:i.getOffsetParent(c.floating)),P=await(i.isElement==null?void 0:i.isElement(B))?await(i.getScale==null?void 0:i.getScale(B))||{x:1,y:1}:{x:1,y:1},O=Zx(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:M,offsetParent:B,strategy:l}):M);return{top:(I.top-O.top+S.top)/P.y,bottom:(O.bottom-I.bottom+S.bottom)/P.y,left:(I.left-O.left+S.left)/P.x,right:(O.right-I.right+S.right)/P.x}}const NSe=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:a,placement:r,rects:i,platform:o,elements:c,middlewareData:l}=t,{element:d,padding:f=0}=cy(e,t)||{};if(d==null)return{};const g=CL(f),b={x:n,y:a},w=l4(r),S=c4(w),j=await o.getDimensions(d),N=w==="y",I=N?"top":"left",M=N?"bottom":"right",B=N?"clientHeight":"clientWidth",P=i.reference[S]+i.reference[w]-b[w]-i.floating[S],O=b[w]-i.reference[w],R=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d));let $=R?R[B]:0;(!$||!await(o.isElement==null?void 0:o.isElement(R)))&&($=c.floating[B]||i.floating[S]);const U=P/2-O/2,F=$/2-j[S]/2-1,H=jm(g[I],F),ne=jm(g[M],F),X=H,te=$-j[S]-ne,se=$/2-j[S]/2+U,V=cSe(X,se,te),q=!l.arrow&&f0(r)!=null&&se!==V&&i.reference[S]/2-(se<X?H:ne)-j[S]/2<0,T=q?se<X?se-X:se-te:0;return{[w]:b[w]+T,data:{[w]:V,centerOffset:se-V-T,...q&&{alignmentOffset:T}},reset:q}}}),ESe=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,a;const{placement:r,middlewareData:i,rects:o,initialPlacement:c,platform:l,elements:d}=t,{mainAxis:f=!0,crossAxis:g=!0,fallbackPlacements:b,fallbackStrategy:w="bestFit",fallbackAxisSideDirection:S="none",flipAlignment:j=!0,...N}=cy(e,t);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const I=Nm(r),M=gh(c),B=Nm(c)===c,P=await(l.isRTL==null?void 0:l.isRTL(d.floating)),O=b||(B||!j?[Kx(c)]:hSe(c)),R=S!=="none";!b&&R&&O.push(...gSe(c,j,S,P));const $=[c,...O],U=await jSe(t,N),F=[];let H=((a=i.flip)==null?void 0:a.overflows)||[];if(f&&F.push(U[I]),g){const se=dSe(r,o,P);F.push(U[se[0]],U[se[1]])}if(H=[...H,{placement:r,overflows:F}],!F.every(se=>se<=0)){var ne,X;const se=(((ne=i.flip)==null?void 0:ne.index)||0)+1,V=$[se];if(V&&(!(g==="alignment"?M!==gh(V):!1)||H.every(J=>J.overflows[0]>0&&gh(J.placement)===M)))return{data:{index:se,overflows:H},reset:{placement:V}};let q=(X=H.filter(T=>T.overflows[0]<=0).sort((T,J)=>T.overflows[1]-J.overflows[1])[0])==null?void 0:X.placement;if(!q)switch(w){case"bestFit":{var te;const T=(te=H.filter(J=>{if(R){const Z=gh(J.placement);return Z===M||Z==="y"}return!0}).map(J=>[J.placement,J.overflows.filter(Z=>Z>0).reduce((Z,A)=>Z+A,0)]).sort((J,Z)=>J[1]-Z[1])[0])==null?void 0:te[0];T&&(q=T);break}case"initialPlacement":q=c;break}if(r!==q)return{reset:{placement:q}}}return{}}}},kSe=new Set(["left","top"]);async function ISe(e,t){const{placement:n,platform:a,elements:r}=e,i=await(a.isRTL==null?void 0:a.isRTL(r.floating)),o=Nm(n),c=f0(n),l=gh(n)==="y",d=kSe.has(o)?-1:1,f=i&&l?-1:1,g=cy(t,e);let{mainAxis:b,crossAxis:w,alignmentAxis:S}=typeof g=="number"?{mainAxis:g,crossAxis:0,alignmentAxis:null}:{mainAxis:g.mainAxis||0,crossAxis:g.crossAxis||0,alignmentAxis:g.alignmentAxis};return c&&typeof S=="number"&&(w=c==="end"?S*-1:S),l?{x:w*f,y:b*d}:{x:b*d,y:w*f}}const DSe=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,a;const{x:r,y:i,placement:o,middlewareData:c}=t,l=await ISe(t,e);return o===((n=c.offset)==null?void 0:n.placement)&&(a=c.arrow)!=null&&a.alignmentOffset?{}:{x:r+l.x,y:i+l.y,data:{...l,placement:o}}}}};function SL(e){const t=Ec(e);let n=parseFloat(t.width)||0,a=parseFloat(t.height)||0;const r=Dl(e),i=r?e.offsetWidth:n,o=r?e.offsetHeight:a,c=Xx(n)!==i||Xx(a)!==o;return c&&(n=i,a=o),{width:n,height:a,$:c}}function u4(e){return xo(e)?e:e.contextElement}function im(e){const t=u4(e);if(!Dl(t))return kl(1);const n=t.getBoundingClientRect(),{width:a,height:r,$:i}=SL(t);let o=(i?Xx(n.width):n.width)/a,c=(i?Xx(n.height):n.height)/r;return(!o||!Number.isFinite(o))&&(o=1),(!c||!Number.isFinite(c))&&(c=1),{x:o,y:c}}const TSe=kl(0);function jL(e){const t=tc(e);return!o4()||!t.visualViewport?TSe:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function ASe(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==tc(e)?!1:t}function zh(e,t,n,a){t===void 0&&(t=!1),n===void 0&&(n=!1);const r=e.getBoundingClientRect(),i=u4(e);let o=kl(1);t&&(a?xo(a)&&(o=im(a)):o=im(e));const c=ASe(i,n,a)?jL(i):kl(0);let l=(r.left+c.x)/o.x,d=(r.top+c.y)/o.y,f=r.width/o.x,g=r.height/o.y;if(i){const b=tc(i),w=a&&xo(a)?tc(a):a;let S=b,j=Bj(S);for(;j&&a&&w!==S;){const N=im(j),I=j.getBoundingClientRect(),M=Ec(j),B=I.left+(j.clientLeft+parseFloat(M.paddingLeft))*N.x,P=I.top+(j.clientTop+parseFloat(M.paddingTop))*N.y;l*=N.x,d*=N.y,f*=N.x,g*=N.y,l+=B,d+=P,S=tc(j),j=Bj(S)}}return Zx({width:f,height:g,x:l,y:d})}function d4(e,t){const n=oy(e).scrollLeft;return t?t.left+n:zh(Ml(e)).left+n}function NL(e,t,n){n===void 0&&(n=!1);const a=e.getBoundingClientRect(),r=a.left+t.scrollLeft-(n?0:d4(e,a)),i=a.top+t.scrollTop;return{x:r,y:i}}function MSe(e){let{elements:t,rect:n,offsetParent:a,strategy:r}=e;const i=r==="fixed",o=Ml(a),c=t?iy(t.floating):!1;if(a===o||c&&i)return n;let l={scrollLeft:0,scrollTop:0},d=kl(1);const f=kl(0),g=Dl(a);if((g||!g&&!i)&&((Zm(a)!=="body"||h0(o))&&(l=oy(a)),Dl(a))){const w=zh(a);d=im(a),f.x=w.x+a.clientLeft,f.y=w.y+a.clientTop}const b=o&&!g&&!i?NL(o,l,!0):kl(0);return{width:n.width*d.x,height:n.height*d.y,x:n.x*d.x-l.scrollLeft*d.x+f.x+b.x,y:n.y*d.y-l.scrollTop*d.y+f.y+b.y}}function RSe(e){return Array.from(e.getClientRects())}function OSe(e){const t=Ml(e),n=oy(e),a=e.ownerDocument.body,r=Dh(t.scrollWidth,t.clientWidth,a.scrollWidth,a.clientWidth),i=Dh(t.scrollHeight,t.clientHeight,a.scrollHeight,a.clientHeight);let o=-n.scrollLeft+d4(e);const c=-n.scrollTop;return Ec(a).direction==="rtl"&&(o+=Dh(t.clientWidth,a.clientWidth)-r),{width:r,height:i,x:o,y:c}}function BSe(e,t){const n=tc(e),a=Ml(e),r=n.visualViewport;let i=a.clientWidth,o=a.clientHeight,c=0,l=0;if(r){i=r.width,o=r.height;const d=o4();(!d||d&&t==="fixed")&&(c=r.offsetLeft,l=r.offsetTop)}return{width:i,height:o,x:c,y:l}}const LSe=new Set(["absolute","fixed"]);function $Se(e,t){const n=zh(e,!0,t==="fixed"),a=n.top+e.clientTop,r=n.left+e.clientLeft,i=Dl(e)?im(e):kl(1),o=e.clientWidth*i.x,c=e.clientHeight*i.y,l=r*i.x,d=a*i.y;return{width:o,height:c,x:l,y:d}}function AT(e,t,n){let a;if(t==="viewport")a=BSe(e,n);else if(t==="document")a=OSe(Ml(e));else if(xo(t))a=$Se(t,n);else{const r=jL(e);a={x:t.x-r.x,y:t.y-r.y,width:t.width,height:t.height}}return Zx(a)}function EL(e,t){const n=kd(e);return n===t||!xo(n)||Sm(n)?!1:Ec(n).position==="fixed"||EL(n,t)}function PSe(e,t){const n=t.get(e);if(n)return n;let a=Og(e,[],!1).filter(c=>xo(c)&&Zm(c)!=="body"),r=null;const i=Ec(e).position==="fixed";let o=i?kd(e):e;for(;xo(o)&&!Sm(o);){const c=Ec(o),l=i4(o);!l&&c.position==="fixed"&&(r=null),(i?!l&&!r:!l&&c.position==="static"&&!!r&&LSe.has(r.position)||h0(o)&&!l&&EL(e,o))?a=a.filter(f=>f!==o):r=c,o=kd(o)}return t.set(e,a),a}function FSe(e){let{element:t,boundary:n,rootBoundary:a,strategy:r}=e;const o=[...n==="clippingAncestors"?iy(t)?[]:PSe(t,this._c):[].concat(n),a],c=o[0],l=o.reduce((d,f)=>{const g=AT(t,f,r);return d.top=Dh(g.top,d.top),d.right=jm(g.right,d.right),d.bottom=jm(g.bottom,d.bottom),d.left=Dh(g.left,d.left),d},AT(t,c,r));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function HSe(e){const{width:t,height:n}=SL(e);return{width:t,height:n}}function zSe(e,t,n){const a=Dl(t),r=Ml(t),i=n==="fixed",o=zh(e,!0,i,t);let c={scrollLeft:0,scrollTop:0};const l=kl(0);function d(){l.x=d4(r)}if(a||!a&&!i)if((Zm(t)!=="body"||h0(r))&&(c=oy(t)),a){const w=zh(t,!0,i,t);l.x=w.x+t.clientLeft,l.y=w.y+t.clientTop}else r&&d();i&&!a&&r&&d();const f=r&&!a&&!i?NL(r,c):kl(0),g=o.left+c.scrollLeft-l.x-f.x,b=o.top+c.scrollTop-l.y-f.y;return{x:g,y:b,width:o.width,height:o.height}}function MC(e){return Ec(e).position==="static"}function MT(e,t){if(!Dl(e)||Ec(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Ml(e)===n&&(n=n.ownerDocument.body),n}function kL(e,t){const n=tc(e);if(iy(e))return n;if(!Dl(e)){let r=kd(e);for(;r&&!Sm(r);){if(xo(r)&&!MC(r))return r;r=kd(r)}return n}let a=MT(e,t);for(;a&&JCe(a)&&MC(a);)a=MT(a,t);return a&&Sm(a)&&MC(a)&&!i4(a)?n:a||aSe(e)||n}const VSe=async function(e){const t=this.getOffsetParent||kL,n=this.getDimensions,a=await n(e.floating);return{reference:zSe(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:a.width,height:a.height}}};function qSe(e){return Ec(e).direction==="rtl"}const USe={convertOffsetParentRelativeRectToViewportRelativeRect:MSe,getDocumentElement:Ml,getClippingRect:FSe,getOffsetParent:kL,getElementRects:VSe,getClientRects:RSe,getDimensions:HSe,getScale:im,isElement:xo,isRTL:qSe};function IL(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function WSe(e,t){let n=null,a;const r=Ml(e);function i(){var c;clearTimeout(a),(c=n)==null||c.disconnect(),n=null}function o(c,l){c===void 0&&(c=!1),l===void 0&&(l=1),i();const d=e.getBoundingClientRect(),{left:f,top:g,width:b,height:w}=d;if(c||t(),!b||!w)return;const S=J_(g),j=J_(r.clientWidth-(f+b)),N=J_(r.clientHeight-(g+w)),I=J_(f),B={rootMargin:-S+"px "+-j+"px "+-N+"px "+-I+"px",threshold:Dh(0,jm(1,l))||1};let P=!0;function O(R){const $=R[0].intersectionRatio;if($!==l){if(!P)return o();$?o(!1,$):a=setTimeout(()=>{o(!1,1e-7)},1e3)}$===1&&!IL(d,e.getBoundingClientRect())&&o(),P=!1}try{n=new IntersectionObserver(O,{...B,root:r.ownerDocument})}catch{n=new IntersectionObserver(O,B)}n.observe(e)}return o(!0),i}function YSe(e,t,n,a){a===void 0&&(a={});const{ancestorScroll:r=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:l=!1}=a,d=u4(e),f=r||i?[...d?Og(d):[],...Og(t)]:[];f.forEach(I=>{r&&I.addEventListener("scroll",n,{passive:!0}),i&&I.addEventListener("resize",n)});const g=d&&c?WSe(d,n):null;let b=-1,w=null;o&&(w=new ResizeObserver(I=>{let[M]=I;M&&M.target===d&&w&&(w.unobserve(t),cancelAnimationFrame(b),b=requestAnimationFrame(()=>{var B;(B=w)==null||B.observe(t)})),n()}),d&&!l&&w.observe(d),w.observe(t));let S,j=l?zh(e):null;l&&N();function N(){const I=zh(e);j&&!IL(j,I)&&n(),j=I,S=requestAnimationFrame(N)}return n(),()=>{var I;f.forEach(M=>{r&&M.removeEventListener("scroll",n),i&&M.removeEventListener("resize",n)}),g==null||g(),(I=w)==null||I.disconnect(),w=null,l&&cancelAnimationFrame(S)}}const GSe=DSe,QSe=ESe,RT=NSe,XSe=(e,t,n)=>{const a=new Map,r={platform:USe,...n},i={...r.platform,_c:a};return SSe(e,t,{...r,platform:i})};var KSe=typeof document<"u",ZSe=function(){},qv=KSe?v.useLayoutEffect:ZSe;function eb(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,a,r;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(a=n;a--!==0;)if(!eb(e[a],t[a]))return!1;return!0}if(r=Object.keys(e),n=r.length,n!==Object.keys(t).length)return!1;for(a=n;a--!==0;)if(!{}.hasOwnProperty.call(t,r[a]))return!1;for(a=n;a--!==0;){const i=r[a];if(!(i==="_owner"&&e.$$typeof)&&!eb(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function DL(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function OT(e,t){const n=DL(e);return Math.round(t*n)/n}function RC(e){const t=v.useRef(e);return qv(()=>{t.current=e}),t}function JSe(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:a=[],platform:r,elements:{reference:i,floating:o}={},transform:c=!0,whileElementsMounted:l,open:d}=e,[f,g]=v.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[b,w]=v.useState(a);eb(b,a)||w(a);const[S,j]=v.useState(null),[N,I]=v.useState(null),M=v.useCallback(J=>{J!==R.current&&(R.current=J,j(J))},[]),B=v.useCallback(J=>{J!==$.current&&($.current=J,I(J))},[]),P=i||S,O=o||N,R=v.useRef(null),$=v.useRef(null),U=v.useRef(f),F=l!=null,H=RC(l),ne=RC(r),X=RC(d),te=v.useCallback(()=>{if(!R.current||!$.current)return;const J={placement:t,strategy:n,middleware:b};ne.current&&(J.platform=ne.current),XSe(R.current,$.current,J).then(Z=>{const A={...Z,isPositioned:X.current!==!1};se.current&&!eb(U.current,A)&&(U.current=A,Hm.flushSync(()=>{g(A)}))})},[b,t,n,ne,X]);qv(()=>{d===!1&&U.current.isPositioned&&(U.current.isPositioned=!1,g(J=>({...J,isPositioned:!1})))},[d]);const se=v.useRef(!1);qv(()=>(se.current=!0,()=>{se.current=!1}),[]),qv(()=>{if(P&&(R.current=P),O&&($.current=O),P&&O){if(H.current)return H.current(P,O,te);te()}},[P,O,te,H,F]);const V=v.useMemo(()=>({reference:R,floating:$,setReference:M,setFloating:B}),[M,B]),q=v.useMemo(()=>({reference:P,floating:O}),[P,O]),T=v.useMemo(()=>{const J={position:n,left:0,top:0};if(!q.floating)return J;const Z=OT(q.floating,f.x),A=OT(q.floating,f.y);return c?{...J,transform:"translate("+Z+"px, "+A+"px)",...DL(q.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:Z,top:A}},[n,c,q.floating,f.x,f.y]);return v.useMemo(()=>({...f,update:te,refs:V,elements:q,floatingStyles:T}),[f,te,V,q,T])}const eje=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:a,padding:r}=typeof e=="function"?e(n):e;return a&&t(a)?a.current!=null?RT({element:a.current,padding:r}).fn(n):{}:a?RT({element:a,padding:r}).fn(n):{}}}},tje=(e,t)=>({...GSe(e),options:[e,t]}),nje=(e,t)=>({...QSe(e),options:[e,t]}),sje=(e,t)=>({...eje(e),options:[e,t]}),aje={...Bm};let BT=!1,rje=0;const LT=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+rje++;function ije(){const[e,t]=v.useState(()=>BT?LT():void 0);return Jx(()=>{e==null&&t(LT())},[]),v.useEffect(()=>{BT=!0},[]),e}const oje=aje.useId,TL=oje||ije,cje=v.forwardRef(function(t,n){const{context:{placement:a,elements:{floating:r},middlewareData:{arrow:i,shift:o}},width:c=14,height:l=7,tipRadius:d=0,strokeWidth:f=0,staticOffset:g,stroke:b,d:w,style:{transform:S,...j}={},...N}=t,I=TL(),[M,B]=v.useState(!1);if(Jx(()=>{if(!r)return;Ec(r).direction==="rtl"&&B(!0)},[r]),!r)return null;const[P,O]=a.split("-"),R=P==="top"||P==="bottom";let $=g;(R&&o!=null&&o.x||!R&&o!=null&&o.y)&&($=null);const U=f*2,F=U/2,H=c/2*(d/-8+1),ne=l/2*d/4,X=!!w,te=$&&O==="end"?"bottom":"top";let se=$&&O==="end"?"right":"left";$&&M&&(se=O==="end"?"left":"right");const V=(i==null?void 0:i.x)!=null?$||i.x:"",q=(i==null?void 0:i.y)!=null?$||i.y:"",T=w||"M0,0"+(" H"+c)+(" L"+(c-H)+","+(l-ne))+(" Q"+c/2+","+l+" "+H+","+(l-ne))+" Z",J={top:X?"rotate(180deg)":"",left:X?"rotate(90deg)":"rotate(-90deg)",bottom:X?"":"rotate(180deg)",right:X?"rotate(-90deg)":"rotate(90deg)"}[P];return s.jsxs("svg",{...N,"aria-hidden":!0,ref:n,width:X?c:c+U,height:c,viewBox:"0 0 "+c+" "+(l>c?l:c),style:{position:"absolute",pointerEvents:"none",[se]:V,[te]:q,[P]:R||X?"100%":"calc(100% - "+U/2+"px)",transform:[J,S].filter(Z=>!!Z).join(" "),...j},children:[U>0&&s.jsx("path",{clipPath:"url(#"+I+")",fill:"none",stroke:b,strokeWidth:U+(w?0:1),d:T}),s.jsx("path",{stroke:U&&!w?N.fill:"none",d:T}),s.jsx("clipPath",{id:I,children:s.jsx("rect",{x:-F,y:F*(X?-1:1),width:c+U,height:c})})]})});function lje(){const e=new Map;return{emit(t,n){var a;(a=e.get(t))==null||a.forEach(r=>r(n))},on(t,n){e.has(t)||e.set(t,new Set),e.get(t).add(n)},off(t,n){var a;(a=e.get(t))==null||a.delete(n)}}}const uje=v.createContext(null),dje=v.createContext(null),hje=()=>{var e;return((e=v.useContext(uje))==null?void 0:e.id)||null},fje=()=>v.useContext(dje);function mje(e){const{open:t=!1,onOpenChange:n,elements:a}=e,r=TL(),i=v.useRef({}),[o]=v.useState(()=>lje()),c=hje()!=null,[l,d]=v.useState(a.reference),f=CSe((w,S,j)=>{i.current.openEvent=w?S:void 0,o.emit("openchange",{open:w,event:S,reason:j,nested:c}),n==null||n(w,S,j)}),g=v.useMemo(()=>({setPositionReference:d}),[]),b=v.useMemo(()=>({reference:l||a.reference||null,floating:a.floating||null,domReference:a.reference}),[l,a.reference,a.floating]);return v.useMemo(()=>({dataRef:i,open:t,onOpenChange:f,elements:b,events:o,floatingId:r,refs:g}),[t,f,b,o,r,g])}function pje(e){e===void 0&&(e={});const{nodeId:t}=e,n=mje({...e,elements:{reference:null,floating:null,...e.elements}}),a=e.rootContext||n,r=a.elements,[i,o]=v.useState(null),[c,l]=v.useState(null),f=(r==null?void 0:r.domReference)||i,g=v.useRef(null),b=fje();Jx(()=>{f&&(g.current=f)},[f]);const w=JSe({...e,elements:{...r,...c&&{reference:c}}}),S=v.useCallback(B=>{const P=xo(B)?{getBoundingClientRect:()=>B.getBoundingClientRect(),getClientRects:()=>B.getClientRects(),contextElement:B}:B;l(P),w.refs.setReference(P)},[w.refs]),j=v.useCallback(B=>{(xo(B)||B===null)&&(g.current=B,o(B)),(xo(w.refs.reference.current)||w.refs.reference.current===null||B!==null&&!xo(B))&&w.refs.setReference(B)},[w.refs]),N=v.useMemo(()=>({...w.refs,setReference:j,setPositionReference:S,domReference:g}),[w.refs,j,S]),I=v.useMemo(()=>({...w.elements,domReference:f}),[w.elements,f]),M=v.useMemo(()=>({...w,...a,refs:N,elements:I,nodeId:t}),[w,N,I,t,a]);return Jx(()=>{a.dataRef.current.floatingContext=M;const B=b==null?void 0:b.nodesRef.current.find(P=>P.id===t);B&&(B.context=M)}),v.useMemo(()=>({...w,context:M,refs:N,elements:I}),[w,N,I,M])}/*!
  react-datepicker v8.4.0
  https://github.com/Hacker0x01/react-datepicker
  Released under the MIT License.
*/var $j=function(t,n){return $j=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,r){a.__proto__=r}||function(a,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(a[i]=r[i])},$j(t,n)};function zi(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");$j(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var Ya=function(){return Ya=Object.assign||function(n){for(var a,r=1,i=arguments.length;r<i;r++){a=arguments[r];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(n[o]=a[o])}return n},Ya.apply(this,arguments)};function xl(e,t,n){if(n||arguments.length===2)for(var a=0,r=t.length,i;a<r;a++)(i||!(a in t))&&(i||(i=Array.prototype.slice.call(t,0,a)),i[a]=t[a]);return e.concat(i||Array.prototype.slice.call(t))}var gje=function(e){var t=e.showTimeSelectOnly,n=t===void 0?!1:t,a=e.showTime,r=a===void 0?!1:a,i=e.className,o=e.children,c=n?"Choose Time":"Choose Date".concat(r?" and Time":"");return Je.createElement("div",{className:i,role:"dialog","aria-label":c,"aria-modal":"true"},o)},_je=function(e,t){var n=v.useRef(null),a=v.useRef(e);a.current=e;var r=v.useCallback(function(i){var o,c=i.composed&&i.composedPath&&i.composedPath().find(function(l){return l instanceof Node})||i.target;n.current&&!n.current.contains(c)&&(t&&c instanceof HTMLElement&&c.classList.contains(t)||(o=a.current)===null||o===void 0||o.call(a,i))},[t]);return v.useEffect(function(){return document.addEventListener("mousedown",r),function(){document.removeEventListener("mousedown",r)}},[r]),n},ly=function(e){var t=e.children,n=e.onClickOutside,a=e.className,r=e.containerRef,i=e.style,o=e.ignoreClass,c=_je(n,o);return Je.createElement("div",{className:a,style:i,ref:function(l){c.current=l,r&&(r.current=l)}},t)},ts;(function(e){e.ArrowUp="ArrowUp",e.ArrowDown="ArrowDown",e.ArrowLeft="ArrowLeft",e.ArrowRight="ArrowRight",e.PageUp="PageUp",e.PageDown="PageDown",e.Home="Home",e.End="End",e.Enter="Enter",e.Space=" ",e.Tab="Tab",e.Escape="Escape",e.Backspace="Backspace",e.X="x"})(ts||(ts={}));function AL(){var e=typeof window<"u"?window:globalThis;return e}var m0=12;function sr(e){if(e==null)return new Date;var t=typeof e=="string"?OCe(e):ws(e);return uy(t)?t:new Date}function OC(e,t,n,a,r){r===void 0&&(r=sr());for(var i=Em(n)||Em(h4()),o=Array.isArray(t)?t:[t],c=0,l=o;c<l.length;c++){var d=l[c],f=ICe(e,d,r,{locale:i});if(uy(f)&&(!a||e===zr(f,d,n)))return f}return null}function uy(e,t){return Ux(e)&&!Hh(e,new Date("1/1/1800"))}function zr(e,t,n){if(n==="en")return jT(e,t,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});var a=n?Em(n):void 0;return n&&!a&&console.warn('A locale object was not found for the provided string ["'.concat(n,'"].')),a=a||Em(h4()),jT(e,t,{locale:a,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})}function xc(e,t){var n=t.dateFormat,a=t.locale,r=Array.isArray(n)&&n.length>0?n[0]:n;return e&&zr(e,r,a)||""}var ML=" - ";function vje(e,t,n){if(!e)return"";var a=xc(e,n),r=t?xc(t,n):"";return"".concat(a).concat(ML).concat(r)}function xje(e,t){if(!(e!=null&&e.length))return"";var n=e[0]?xc(e[0],t):"";if(e.length===1)return n;if(e.length===2&&e[1]){var a=xc(e[1],t);return"".concat(n,", ").concat(a)}var r=e.length-1;return"".concat(n," (+").concat(r,")")}function BC(e,t){var n=t.hour,a=n===void 0?0:n,r=t.minute,i=r===void 0?0:r,o=t.second,c=o===void 0?0:o;return Hv(zv(Vv(e,c),i),a)}function bje(e){return n4(e)}function yje(e,t){return zr(e,"ddd",t)}function Uv(e){return Fh(e)}function yd(e,t,n){var a=Em(t||h4());return yu(e,{locale:a,weekStartsOn:n})}function pu(e){return uL(e)}function L1(e){return ay(e)}function $T(e){return Mj(e)}function PT(){return Fh(sr())}function FT(e){return cL(e)}function wje(e){return O2e(e)}function Cje(e){return lL(e)}function ml(e,t){return e&&t?MCe(e,t):!e&&!t}function _o(e,t){return e&&t?TCe(e,t):!e&&!t}function tb(e,t){return e&&t?ACe(e,t):!e&&!t}function Wa(e,t){return e&&t?M2e(e,t):!e&&!t}function _h(e,t){return e&&t?Rwe(e,t):!e&&!t}function $1(e,t,n){var a,r=Fh(t),i=cL(n);try{a=Rg(e,{start:r,end:i})}catch{a=!1}return a}function h4(){var e=AL();return e.__localeId__}function Em(e){if(typeof e=="string"){var t=AL();return t.__localeData__?t.__localeData__[e]:void 0}else return e}function Sje(e,t,n){return t(zr(e,"EEEE",n))}function jje(e,t){return zr(e,"EEEEEE",t)}function Nje(e,t){return zr(e,"EEE",t)}function f4(e,t){return zr(bc(sr(),e),"LLLL",t)}function RL(e,t){return zr(bc(sr(),e),"LLL",t)}function Eje(e,t){return zr(Vf(sr(),e),"QQQ",t)}function wc(e,t){var n=t===void 0?{}:t,a=n.minDate,r=n.maxDate,i=n.excludeDates,o=n.excludeDateIntervals,c=n.includeDates,l=n.includeDateIntervals,d=n.filterDate;return p0(e,{minDate:a,maxDate:r})||i&&i.some(function(f){return f instanceof Date?Wa(e,f):Wa(e,f.date)})||o&&o.some(function(f){var g=f.start,b=f.end;return Rg(e,{start:g,end:b})})||c&&!c.some(function(f){return Wa(e,f)})||l&&!l.some(function(f){var g=f.start,b=f.end;return Rg(e,{start:g,end:b})})||d&&!d(sr(e))||!1}function m4(e,t){var n=t===void 0?{}:t,a=n.excludeDates,r=n.excludeDateIntervals;return r&&r.length>0?r.some(function(i){var o=i.start,c=i.end;return Rg(e,{start:o,end:c})}):a&&a.some(function(i){var o;return i instanceof Date?Wa(e,i):Wa(e,(o=i.date)!==null&&o!==void 0?o:new Date)})||!1}function OL(e,t){var n=t===void 0?{}:t,a=n.minDate,r=n.maxDate,i=n.excludeDates,o=n.includeDates,c=n.filterDate;return p0(e,{minDate:a?uL(a):void 0,maxDate:r?lL(r):void 0})||(i==null?void 0:i.some(function(l){return _o(e,l instanceof Date?l:l.date)}))||o&&!o.some(function(l){return _o(e,l)})||c&&!c(sr(e))||!1}function ev(e,t,n,a){var r=va(e),i=co(e),o=va(t),c=co(t),l=va(a);return r===o&&r===l?i<=n&&n<=c:r<o?l===r&&i<=n||l===o&&c>=n||l<o&&l>r:!1}function kje(e,t){var n=t===void 0?{}:t,a=n.minDate,r=n.maxDate,i=n.excludeDates,o=n.includeDates;return p0(e,{minDate:a,maxDate:r})||i&&i.some(function(c){return _o(c instanceof Date?c:c.date,e)})||o&&!o.some(function(c){return _o(c,e)})||!1}function tv(e,t){var n=t===void 0?{}:t,a=n.minDate,r=n.maxDate,i=n.excludeDates,o=n.includeDates,c=n.filterDate;return p0(e,{minDate:a,maxDate:r})||(i==null?void 0:i.some(function(l){return tb(e,l instanceof Date?l:l.date)}))||o&&!o.some(function(l){return tb(e,l)})||c&&!c(sr(e))||!1}function nv(e,t,n){if(!t||!n||!Ux(t)||!Ux(n))return!1;var a=va(t),r=va(n);return a<=e&&r>=e}function Wv(e,t){var n=t===void 0?{}:t,a=n.minDate,r=n.maxDate,i=n.excludeDates,o=n.includeDates,c=n.filterDate,l=new Date(e,0,1);return p0(l,{minDate:a?ay(a):void 0,maxDate:r?dL(r):void 0})||(i==null?void 0:i.some(function(d){return ml(l,d instanceof Date?d:d.date)}))||o&&!o.some(function(d){return ml(l,d)})||c&&!c(sr(l))||!1}function sv(e,t,n,a){var r=va(e),i=kh(e),o=va(t),c=kh(t),l=va(a);return r===o&&r===l?i<=n&&n<=c:r<o?l===r&&i<=n||l===o&&c>=n||l<o&&l>r:!1}function p0(e,t){var n,a=t===void 0?{}:t,r=a.minDate,i=a.maxDate;return(n=r&&wm(e,r)<0||i&&wm(e,i)>0)!==null&&n!==void 0?n:!1}function HT(e,t){return t.some(function(n){return fu(n)===fu(e)&&mu(n)===mu(e)&&bd(n)===bd(e)})}function zT(e,t){var n=t===void 0?{}:t,a=n.excludeTimes,r=n.includeTimes,i=n.filterTime;return a&&HT(e,a)||r&&!HT(e,r)||i&&!i(e)||!1}function VT(e,t){var n=t.minTime,a=t.maxTime;if(!n||!a)throw new Error("Both minTime and maxTime props required");var r=sr();r=Hv(r,fu(e)),r=zv(r,mu(e)),r=Vv(r,bd(e));var i=sr();i=Hv(i,fu(n)),i=zv(i,mu(n)),i=Vv(i,bd(n));var o=sr();o=Hv(o,fu(a)),o=zv(o,mu(a)),o=Vv(o,bd(a));var c;try{c=!Rg(r,{start:i,end:o})}catch{c=!1}return c}function qT(e,t){var n=t===void 0?{}:t,a=n.minDate,r=n.includeDates,i=Ih(e,1);return a&&Wx(a,i)>0||r&&r.every(function(o){return Wx(o,i)>0})||!1}function UT(e,t){var n=t===void 0?{}:t,a=n.maxDate,r=n.includeDates,i=Gc(e,1);return a&&Wx(i,a)>0||r&&r.every(function(o){return Wx(i,o)>0})||!1}function Ije(e,t){var n=t===void 0?{}:t,a=n.minDate,r=n.includeDates,i=ay(e),o=bL(i);return a&&Yx(a,o)>0||r&&r.every(function(c){return Yx(c,o)>0})||!1}function Dje(e,t){var n=t===void 0?{}:t,a=n.maxDate,r=n.includeDates,i=dL(e),o=t4(i,1);return a&&Yx(o,a)>0||r&&r.every(function(c){return Yx(o,c)>0})||!1}function WT(e,t){var n=t===void 0?{}:t,a=n.minDate,r=n.includeDates,i=Cm(e,1);return a&&Gx(a,i)>0||r&&r.every(function(o){return Gx(o,i)>0})||!1}function Tje(e,t){var n=t===void 0?{}:t,a=n.minDate,r=n.yearItemNumber,i=r===void 0?m0:r,o=L1(Cm(e,i)),c=pd(o,i).endPeriod,l=a&&va(a);return l&&l>c||!1}function YT(e,t){var n=t===void 0?{}:t,a=n.maxDate,r=n.includeDates,i=du(e,1);return a&&Gx(i,a)>0||r&&r.every(function(o){return Gx(i,o)>0})||!1}function Aje(e,t){var n=t===void 0?{}:t,a=n.maxDate,r=n.yearItemNumber,i=r===void 0?m0:r,o=du(e,i),c=pd(o,i).startPeriod,l=a&&va(a);return l&&l<c||!1}function BL(e){var t=e.minDate,n=e.includeDates;if(n&&t){var a=n.filter(function(r){return wm(r,t)>=0});return xT(a)}else return n?xT(n):t}function LL(e){var t=e.maxDate,n=e.includeDates;if(n&&t){var a=n.filter(function(r){return wm(r,t)<=0});return vT(a)}else return n?vT(n):t}function GT(e,t){var n;e===void 0&&(e=[]),t===void 0&&(t="react-datepicker__day--highlighted");for(var a=new Map,r=0,i=e.length;r<i;r++){var o=e[r];if(hu(o)){var c=zr(o,"MM.dd.yyyy"),l=a.get(c)||[];l.includes(t)||(l.push(t),a.set(c,l))}else if(typeof o=="object"){var d=Object.keys(o),f=(n=d[0])!==null&&n!==void 0?n:"",g=o[f];if(typeof f=="string"&&Array.isArray(g))for(var b=0,w=g.length;b<w;b++){var S=g[b];if(S){var c=zr(S,"MM.dd.yyyy"),l=a.get(c)||[];l.includes(f)||(l.push(f),a.set(c,l))}}}}return a}function Mje(e,t){return e.length!==t.length?!1:e.every(function(n,a){return n===t[a]})}function Rje(e,t){e===void 0&&(e=[]),t===void 0&&(t="react-datepicker__day--holidays");var n=new Map;return e.forEach(function(a){var r=a.date,i=a.holidayName;if(hu(r)){var o=zr(r,"MM.dd.yyyy"),c=n.get(o)||{className:"",holidayNames:[]};if(!("className"in c&&c.className===t&&Mje(c.holidayNames,[i]))){c.className=t;var l=c.holidayNames;c.holidayNames=l?xl(xl([],l,!0),[i],!1):[i],n.set(o,c)}}}),n}function Oje(e,t,n,a,r){for(var i=r.length,o=[],c=0;c<i;c++){var l=e,d=r[c];d&&(l=I2e(l,fu(d)),l=Aj(l,mu(d)),l=A2e(l,bd(d)));var f=Aj(e,(n+1)*a);Ed(l,t)&&Hh(l,f)&&d!=null&&o.push(d)}return o}function QT(e){return e<10?"0".concat(e):"".concat(e)}function pd(e,t){t===void 0&&(t=m0);var n=Math.ceil(va(e)/t)*t,a=n-(t-1);return{startPeriod:a,endPeriod:n}}function Bje(e){var t=new Date(e.getFullYear(),e.getMonth(),e.getDate()),n=new Date(e.getFullYear(),e.getMonth(),e.getDate(),24);return Math.round((+n-+t)/36e5)}function XT(e){var t=e.getSeconds(),n=e.getMilliseconds();return ws(e.getTime()-t*1e3-n)}function Lje(e,t){return XT(e).getTime()===XT(t).getTime()}function KT(e){if(!hu(e))throw new Error("Invalid date");var t=new Date(e);return t.setHours(0,0,0,0),t}function ZT(e,t){if(!hu(e)||!hu(t))throw new Error("Invalid date received");var n=KT(e),a=KT(t);return Hh(n,a)}function $L(e){return e.key===ts.Space}var $je=function(e){zi(t,e);function t(n){var a=e.call(this,n)||this;return a.inputRef=Je.createRef(),a.onTimeChange=function(r){var i,o;a.setState({time:r});var c=a.props.date,l=c instanceof Date&&!isNaN(+c),d=l?c:new Date;if(r!=null&&r.includes(":")){var f=r.split(":"),g=f[0],b=f[1];d.setHours(Number(g)),d.setMinutes(Number(b))}(o=(i=a.props).onChange)===null||o===void 0||o.call(i,d)},a.renderTimeInput=function(){var r=a.state.time,i=a.props,o=i.date,c=i.timeString,l=i.customTimeInput;return l?v.cloneElement(l,{date:o,value:r,onChange:a.onTimeChange}):Je.createElement("input",{type:"time",className:"react-datepicker-time__input",placeholder:"Time",name:"time-input",ref:a.inputRef,onClick:function(){var d;(d=a.inputRef.current)===null||d===void 0||d.focus()},required:!0,value:r,onChange:function(d){a.onTimeChange(d.target.value||c)}})},a.state={time:a.props.timeString},a}return t.getDerivedStateFromProps=function(n,a){return n.timeString!==a.time?{time:n.timeString}:null},t.prototype.render=function(){return Je.createElement("div",{className:"react-datepicker__input-time-container"},Je.createElement("div",{className:"react-datepicker-time__caption"},this.props.timeInputLabel),Je.createElement("div",{className:"react-datepicker-time__input-container"},Je.createElement("div",{className:"react-datepicker-time__input"},this.renderTimeInput())))},t}(v.Component),Pje=function(e){zi(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.dayEl=v.createRef(),n.handleClick=function(a){!n.isDisabled()&&n.props.onClick&&n.props.onClick(a)},n.handleMouseEnter=function(a){!n.isDisabled()&&n.props.onMouseEnter&&n.props.onMouseEnter(a)},n.handleOnKeyDown=function(a){var r,i,o=a.key;o===ts.Space&&(a.preventDefault(),a.key=ts.Enter),(i=(r=n.props).handleOnKeyDown)===null||i===void 0||i.call(r,a)},n.isSameDay=function(a){return Wa(n.props.day,a)},n.isKeyboardSelected=function(){var a;if(n.props.disabledKeyboardNavigation)return!1;var r=n.props.selectsMultiple?(a=n.props.selectedDates)===null||a===void 0?void 0:a.some(function(o){return n.isSameDayOrWeek(o)}):n.isSameDayOrWeek(n.props.selected),i=n.props.preSelection&&n.isDisabled(n.props.preSelection);return!r&&n.isSameDayOrWeek(n.props.preSelection)&&!i},n.isDisabled=function(a){return a===void 0&&(a=n.props.day),wc(a,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals,includeDateIntervals:n.props.includeDateIntervals,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.isExcluded=function(){return m4(n.props.day,{excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals})},n.isStartOfWeek=function(){return Wa(n.props.day,yd(n.props.day,n.props.locale,n.props.calendarStartDay))},n.isSameWeek=function(a){return n.props.showWeekPicker&&Wa(a,yd(n.props.day,n.props.locale,n.props.calendarStartDay))},n.isSameDayOrWeek=function(a){return n.isSameDay(a)||n.isSameWeek(a)},n.getHighLightedClass=function(){var a=n.props,r=a.day,i=a.highlightDates;if(!i)return!1;var o=zr(r,"MM.dd.yyyy");return i.get(o)},n.getHolidaysClass=function(){var a,r=n.props,i=r.day,o=r.holidays;if(!o)return[void 0];var c=zr(i,"MM.dd.yyyy");return o.has(c)?[(a=o.get(c))===null||a===void 0?void 0:a.className]:[void 0]},n.isInRange=function(){var a=n.props,r=a.day,i=a.startDate,o=a.endDate;return!i||!o?!1:$1(r,i,o)},n.isInSelectingRange=function(){var a,r=n.props,i=r.day,o=r.selectsStart,c=r.selectsEnd,l=r.selectsRange,d=r.selectsDisabledDaysInRange,f=r.startDate,g=r.endDate,b=(a=n.props.selectingDate)!==null&&a!==void 0?a:n.props.preSelection;return!(o||c||l)||!b||!d&&n.isDisabled()?!1:o&&g&&(Hh(b,g)||_h(b,g))?$1(i,b,g):c&&f&&(Ed(b,f)||_h(b,f))||l&&f&&!g&&(Ed(b,f)||_h(b,f))?$1(i,f,b):!1},n.isSelectingRangeStart=function(){var a;if(!n.isInSelectingRange())return!1;var r=n.props,i=r.day,o=r.startDate,c=r.selectsStart,l=(a=n.props.selectingDate)!==null&&a!==void 0?a:n.props.preSelection;return c?Wa(i,l):Wa(i,o)},n.isSelectingRangeEnd=function(){var a;if(!n.isInSelectingRange())return!1;var r=n.props,i=r.day,o=r.endDate,c=r.selectsEnd,l=r.selectsRange,d=(a=n.props.selectingDate)!==null&&a!==void 0?a:n.props.preSelection;return c||l?Wa(i,d):Wa(i,o)},n.isRangeStart=function(){var a=n.props,r=a.day,i=a.startDate,o=a.endDate;return!i||!o?!1:Wa(i,r)},n.isRangeEnd=function(){var a=n.props,r=a.day,i=a.startDate,o=a.endDate;return!i||!o?!1:Wa(o,r)},n.isWeekend=function(){var a=Dwe(n.props.day);return a===0||a===6},n.isAfterMonth=function(){return n.props.month!==void 0&&(n.props.month+1)%12===co(n.props.day)},n.isBeforeMonth=function(){return n.props.month!==void 0&&(co(n.props.day)+1)%12===n.props.month},n.isCurrentDay=function(){return n.isSameDay(sr())},n.isSelected=function(){var a;return n.props.selectsMultiple?(a=n.props.selectedDates)===null||a===void 0?void 0:a.some(function(r){return n.isSameDayOrWeek(r)}):n.isSameDayOrWeek(n.props.selected)},n.getClassNames=function(a){var r=n.props.dayClassName?n.props.dayClassName(a):void 0;return Xi("react-datepicker__day",r,"react-datepicker__day--"+yje(n.props.day),{"react-datepicker__day--disabled":n.isDisabled(),"react-datepicker__day--excluded":n.isExcluded(),"react-datepicker__day--selected":n.isSelected(),"react-datepicker__day--keyboard-selected":n.isKeyboardSelected(),"react-datepicker__day--range-start":n.isRangeStart(),"react-datepicker__day--range-end":n.isRangeEnd(),"react-datepicker__day--in-range":n.isInRange(),"react-datepicker__day--in-selecting-range":n.isInSelectingRange(),"react-datepicker__day--selecting-range-start":n.isSelectingRangeStart(),"react-datepicker__day--selecting-range-end":n.isSelectingRangeEnd(),"react-datepicker__day--today":n.isCurrentDay(),"react-datepicker__day--weekend":n.isWeekend(),"react-datepicker__day--outside-month":n.isAfterMonth()||n.isBeforeMonth()},n.getHighLightedClass(),n.getHolidaysClass())},n.getAriaLabel=function(){var a=n.props,r=a.day,i=a.ariaLabelPrefixWhenEnabled,o=i===void 0?"Choose":i,c=a.ariaLabelPrefixWhenDisabled,l=c===void 0?"Not available":c,d=n.isDisabled()||n.isExcluded()?l:o;return"".concat(d," ").concat(zr(r,"PPPP",n.props.locale))},n.getTitle=function(){var a=n.props,r=a.day,i=a.holidays,o=i===void 0?new Map:i,c=a.excludeDates,l=zr(r,"MM.dd.yyyy"),d=[];return o.has(l)&&d.push.apply(d,o.get(l).holidayNames),n.isExcluded()&&d.push(c==null?void 0:c.filter(function(f){return f instanceof Date?Wa(f,r):Wa(f==null?void 0:f.date,r)}).map(function(f){if(!(f instanceof Date))return f==null?void 0:f.message})),d.join(", ")},n.getTabIndex=function(){var a=n.props.selected,r=n.props.preSelection,i=!(n.props.showWeekPicker&&(n.props.showWeekNumber||!n.isStartOfWeek()))&&(n.isKeyboardSelected()||n.isSameDay(a)&&Wa(r,a))?0:-1;return i},n.handleFocusDay=function(){var a;n.shouldFocusDay()&&((a=n.dayEl.current)===null||a===void 0||a.focus({preventScroll:!0}))},n.renderDayContents=function(){return n.props.monthShowsDuplicateDaysEnd&&n.isAfterMonth()||n.props.monthShowsDuplicateDaysStart&&n.isBeforeMonth()?null:n.props.renderDayContents?n.props.renderDayContents(NT(n.props.day),n.props.day):NT(n.props.day)},n.render=function(){return Je.createElement("div",{ref:n.dayEl,className:n.getClassNames(n.props.day),onKeyDown:n.handleOnKeyDown,onClick:n.handleClick,onMouseEnter:n.props.usePointerEvent?void 0:n.handleMouseEnter,onPointerEnter:n.props.usePointerEvent?n.handleMouseEnter:void 0,tabIndex:n.getTabIndex(),"aria-label":n.getAriaLabel(),role:"option",title:n.getTitle(),"aria-disabled":n.isDisabled(),"aria-current":n.isCurrentDay()?"date":void 0,"aria-selected":n.isSelected()||n.isInRange()},n.renderDayContents(),n.getTitle()!==""&&Je.createElement("span",{className:"overlay"},n.getTitle()))},n}return t.prototype.componentDidMount=function(){this.handleFocusDay()},t.prototype.componentDidUpdate=function(){this.handleFocusDay()},t.prototype.shouldFocusDay=function(){var n=!1;return this.getTabIndex()===0&&this.isSameDay(this.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(n=!0),this.props.inline&&!this.props.shouldFocusDayInline&&(n=!1),this.isDayActiveElement()&&(n=!0),this.isDuplicateDay()&&(n=!1)),n},t.prototype.isDayActiveElement=function(){var n,a,r;return((a=(n=this.props.containerRef)===null||n===void 0?void 0:n.current)===null||a===void 0?void 0:a.contains(document.activeElement))&&((r=document.activeElement)===null||r===void 0?void 0:r.classList.contains("react-datepicker__day"))},t.prototype.isDuplicateDay=function(){return this.props.monthShowsDuplicateDaysEnd&&this.isAfterMonth()||this.props.monthShowsDuplicateDaysStart&&this.isBeforeMonth()},t}(v.Component),Fje=function(e){zi(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.weekNumberEl=v.createRef(),n.handleClick=function(a){n.props.onClick&&n.props.onClick(a)},n.handleOnKeyDown=function(a){var r,i,o=a.key;o===ts.Space&&(a.preventDefault(),a.key=ts.Enter),(i=(r=n.props).handleOnKeyDown)===null||i===void 0||i.call(r,a)},n.isKeyboardSelected=function(){return!n.props.disabledKeyboardNavigation&&!Wa(n.props.date,n.props.selected)&&Wa(n.props.date,n.props.preSelection)},n.getTabIndex=function(){return n.props.showWeekPicker&&n.props.showWeekNumber&&(n.isKeyboardSelected()||Wa(n.props.date,n.props.selected)&&Wa(n.props.preSelection,n.props.selected))?0:-1},n.handleFocusWeekNumber=function(a){var r=!1;n.getTabIndex()===0&&!(a!=null&&a.isInputFocused)&&Wa(n.props.date,n.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(r=!0),n.props.inline&&!n.props.shouldFocusDayInline&&(r=!1),n.props.containerRef&&n.props.containerRef.current&&n.props.containerRef.current.contains(document.activeElement)&&document.activeElement&&document.activeElement.classList.contains("react-datepicker__week-number")&&(r=!0)),r&&n.weekNumberEl.current&&n.weekNumberEl.current.focus({preventScroll:!0})},n}return Object.defineProperty(t,"defaultProps",{get:function(){return{ariaLabelPrefix:"week "}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){this.handleFocusWeekNumber()},t.prototype.componentDidUpdate=function(n){this.handleFocusWeekNumber(n)},t.prototype.render=function(){var n=this.props,a=n.weekNumber,r=n.isWeekDisabled,i=n.ariaLabelPrefix,o=i===void 0?t.defaultProps.ariaLabelPrefix:i,c=n.onClick,l={"react-datepicker__week-number":!0,"react-datepicker__week-number--clickable":!!c&&!r,"react-datepicker__week-number--selected":!!c&&Wa(this.props.date,this.props.selected)};return Je.createElement("div",{ref:this.weekNumberEl,className:Xi(l),"aria-label":"".concat(o," ").concat(this.props.weekNumber),onClick:this.handleClick,onKeyDown:this.handleOnKeyDown,tabIndex:this.getTabIndex()},a)},t}(v.Component),Hje=function(e){zi(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.isDisabled=function(a){return wc(a,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals,includeDateIntervals:n.props.includeDateIntervals,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.handleDayClick=function(a,r){n.props.onDayClick&&n.props.onDayClick(a,r)},n.handleDayMouseEnter=function(a){n.props.onDayMouseEnter&&n.props.onDayMouseEnter(a)},n.handleWeekClick=function(a,r,i){for(var o,c,l,d=new Date(a),f=0;f<7;f++){var g=new Date(a);g.setDate(g.getDate()+f);var b=!n.isDisabled(g);if(b){d=g;break}}typeof n.props.onWeekSelect=="function"&&n.props.onWeekSelect(d,r,i),n.props.showWeekPicker&&n.handleDayClick(d,i),((o=n.props.shouldCloseOnSelect)!==null&&o!==void 0?o:t.defaultProps.shouldCloseOnSelect)&&((l=(c=n.props).setOpen)===null||l===void 0||l.call(c,!1))},n.formatWeekNumber=function(a){return n.props.formatWeekNumber?n.props.formatWeekNumber(a):bje(a)},n.isWeekDisabled=function(){for(var a=n.startOfWeek(),r=Vc(a,6),i=new Date(a);i<=r;){if(!n.isDisabled(i))return!1;i=Vc(i,1)}return!0},n.renderDays=function(){var a=n.startOfWeek(),r=[],i=n.formatWeekNumber(a);if(n.props.showWeekNumber){var o=n.props.onWeekSelect||n.props.showWeekPicker?n.handleWeekClick.bind(n,a,i):void 0;r.push(Je.createElement(Fje,Ya({key:"W"},t.defaultProps,n.props,{weekNumber:i,isWeekDisabled:n.isWeekDisabled(),date:a,onClick:o})))}return r.concat([0,1,2,3,4,5,6].map(function(c){var l=Vc(a,c);return Je.createElement(Pje,Ya({},t.defaultProps,n.props,{ariaLabelPrefixWhenEnabled:n.props.chooseDayAriaLabelPrefix,ariaLabelPrefixWhenDisabled:n.props.disabledDayAriaLabelPrefix,key:l.valueOf(),day:l,onClick:n.handleDayClick.bind(n,l),onMouseEnter:n.handleDayMouseEnter.bind(n,l)}))}))},n.startOfWeek=function(){return yd(n.props.day,n.props.locale,n.props.calendarStartDay)},n.isKeyboardSelected=function(){return!n.props.disabledKeyboardNavigation&&!Wa(n.startOfWeek(),n.props.selected)&&Wa(n.startOfWeek(),n.props.preSelection)},n}return Object.defineProperty(t,"defaultProps",{get:function(){return{shouldCloseOnSelect:!0}},enumerable:!1,configurable:!0}),t.prototype.render=function(){var n={"react-datepicker__week":!0,"react-datepicker__week--selected":Wa(this.startOfWeek(),this.props.selected),"react-datepicker__week--keyboard-selected":this.isKeyboardSelected()};return Je.createElement("div",{className:Xi(n)},this.renderDays())},t}(v.Component),f1,zje=6,om={TWO_COLUMNS:"two_columns",THREE_COLUMNS:"three_columns",FOUR_COLUMNS:"four_columns"},LC=(f1={},f1[om.TWO_COLUMNS]={grid:[[0,1],[2,3],[4,5],[6,7],[8,9],[10,11]],verticalNavigationOffset:2},f1[om.THREE_COLUMNS]={grid:[[0,1,2],[3,4,5],[6,7,8],[9,10,11]],verticalNavigationOffset:3},f1[om.FOUR_COLUMNS]={grid:[[0,1,2,3],[4,5,6,7],[8,9,10,11]],verticalNavigationOffset:4},f1),av=1;function JT(e,t){return e?om.FOUR_COLUMNS:t?om.TWO_COLUMNS:om.THREE_COLUMNS}var Vje=function(e){zi(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.MONTH_REFS=xl([],Array(12),!0).map(function(){return v.createRef()}),n.QUARTER_REFS=xl([],Array(4),!0).map(function(){return v.createRef()}),n.isDisabled=function(a){return wc(a,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals,includeDateIntervals:n.props.includeDateIntervals,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.isExcluded=function(a){return m4(a,{excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals})},n.handleDayClick=function(a,r){var i,o;(o=(i=n.props).onDayClick)===null||o===void 0||o.call(i,a,r,n.props.orderInDisplay)},n.handleDayMouseEnter=function(a){var r,i;(i=(r=n.props).onDayMouseEnter)===null||i===void 0||i.call(r,a)},n.handleMouseLeave=function(){var a,r;(r=(a=n.props).onMouseLeave)===null||r===void 0||r.call(a)},n.isRangeStartMonth=function(a){var r=n.props,i=r.day,o=r.startDate,c=r.endDate;return!o||!c?!1:_o(bc(i,a),o)},n.isRangeStartQuarter=function(a){var r=n.props,i=r.day,o=r.startDate,c=r.endDate;return!o||!c?!1:tb(Vf(i,a),o)},n.isRangeEndMonth=function(a){var r=n.props,i=r.day,o=r.startDate,c=r.endDate;return!o||!c?!1:_o(bc(i,a),c)},n.isRangeEndQuarter=function(a){var r=n.props,i=r.day,o=r.startDate,c=r.endDate;return!o||!c?!1:tb(Vf(i,a),c)},n.isInSelectingRangeMonth=function(a){var r,i=n.props,o=i.day,c=i.selectsStart,l=i.selectsEnd,d=i.selectsRange,f=i.startDate,g=i.endDate,b=(r=n.props.selectingDate)!==null&&r!==void 0?r:n.props.preSelection;return!(c||l||d)||!b?!1:c&&g?ev(b,g,a,o):l&&f||d&&f&&!g?ev(f,b,a,o):!1},n.isSelectingMonthRangeStart=function(a){var r;if(!n.isInSelectingRangeMonth(a))return!1;var i=n.props,o=i.day,c=i.startDate,l=i.selectsStart,d=bc(o,a),f=(r=n.props.selectingDate)!==null&&r!==void 0?r:n.props.preSelection;return l?_o(d,f):_o(d,c)},n.isSelectingMonthRangeEnd=function(a){var r;if(!n.isInSelectingRangeMonth(a))return!1;var i=n.props,o=i.day,c=i.endDate,l=i.selectsEnd,d=i.selectsRange,f=bc(o,a),g=(r=n.props.selectingDate)!==null&&r!==void 0?r:n.props.preSelection;return l||d?_o(f,g):_o(f,c)},n.isInSelectingRangeQuarter=function(a){var r,i=n.props,o=i.day,c=i.selectsStart,l=i.selectsEnd,d=i.selectsRange,f=i.startDate,g=i.endDate,b=(r=n.props.selectingDate)!==null&&r!==void 0?r:n.props.preSelection;return!(c||l||d)||!b?!1:c&&g?sv(b,g,a,o):l&&f||d&&f&&!g?sv(f,b,a,o):!1},n.isWeekInMonth=function(a){var r=n.props.day,i=Vc(a,6);return _o(a,r)||_o(i,r)},n.isCurrentMonth=function(a,r){return va(a)===va(sr())&&r===co(sr())},n.isCurrentQuarter=function(a,r){return va(a)===va(sr())&&r===kh(sr())},n.isSelectedMonth=function(a,r,i){return co(i)===r&&va(a)===va(i)},n.isSelectMonthInList=function(a,r,i){return i.some(function(o){return n.isSelectedMonth(a,r,o)})},n.isSelectedQuarter=function(a,r,i){return kh(a)===r&&va(a)===va(i)},n.isMonthSelected=function(){var a=n.props,r=a.day,i=a.selected,o=a.selectedDates,c=a.selectsMultiple,l=co(r);return c?o==null?void 0:o.some(function(d){return n.isSelectedMonth(r,l,d)}):!!i&&n.isSelectedMonth(r,l,i)},n.renderWeeks=function(){for(var a=[],r=n.props.fixedHeight,i=0,o=!1,c=yd(pu(n.props.day),n.props.locale,n.props.calendarStartDay),l=function(S){return n.props.showWeekPicker?yd(S,n.props.locale,n.props.calendarStartDay):n.props.preSelection},d=function(S){return n.props.showWeekPicker?yd(S,n.props.locale,n.props.calendarStartDay):n.props.selected},f=n.props.selected?d(n.props.selected):void 0,g=n.props.preSelection?l(n.props.preSelection):void 0;a.push(Je.createElement(Hje,Ya({},n.props,{ariaLabelPrefix:n.props.weekAriaLabelPrefix,key:i,day:c,month:co(n.props.day),onDayClick:n.handleDayClick,onDayMouseEnter:n.handleDayMouseEnter,selected:f,preSelection:g,showWeekNumber:n.props.showWeekNumbers}))),!o;){i++,c=qx(c,1);var b=r&&i>=zje,w=!r&&!n.isWeekInMonth(c);if(b||w)if(n.props.peekNextMonth)o=!0;else break}return a},n.onMonthClick=function(a,r){var i=n.isMonthDisabledForLabelDate(r),o=i.isDisabled,c=i.labelDate;o||n.handleDayClick(pu(c),a)},n.onMonthMouseEnter=function(a){var r=n.isMonthDisabledForLabelDate(a),i=r.isDisabled,o=r.labelDate;i||n.handleDayMouseEnter(pu(o))},n.handleMonthNavigation=function(a,r){var i,o,c,l;(o=(i=n.props).setPreSelection)===null||o===void 0||o.call(i,r),(l=(c=n.MONTH_REFS[a])===null||c===void 0?void 0:c.current)===null||l===void 0||l.focus()},n.handleKeyboardNavigation=function(a,r,i){var o,c=n.props,l=c.selected,d=c.preSelection,f=c.setPreSelection,g=c.minDate,b=c.maxDate,w=c.showFourColumnMonthYearPicker,S=c.showTwoColumnMonthYearPicker;if(d){var j=JT(w,S),N=n.getVerticalOffset(j),I=(o=LC[j])===null||o===void 0?void 0:o.grid,M=function($,U,F){var H,ne,X=U,te=F;switch($){case ts.ArrowRight:X=Gc(U,av),te=F===11?0:F+av;break;case ts.ArrowLeft:X=Ih(U,av),te=F===0?11:F-av;break;case ts.ArrowUp:X=Ih(U,N),te=!((H=I==null?void 0:I[0])===null||H===void 0)&&H.includes(F)?F+12-N:F-N;break;case ts.ArrowDown:X=Gc(U,N),te=!((ne=I==null?void 0:I[I.length-1])===null||ne===void 0)&&ne.includes(F)?F-12+N:F+N;break}return{newCalculatedDate:X,newCalculatedMonth:te}},B=function($,U,F){for(var H=40,ne=$,X=!1,te=0,se=M(ne,U,F),V=se.newCalculatedDate,q=se.newCalculatedMonth;!X;){if(te>=H){V=U,q=F;break}if(g&&V<g){ne=ts.ArrowRight;var T=M(ne,V,q);V=T.newCalculatedDate,q=T.newCalculatedMonth}if(b&&V>b){ne=ts.ArrowLeft;var T=M(ne,V,q);V=T.newCalculatedDate,q=T.newCalculatedMonth}if(kje(V,n.props)){var T=M(ne,V,q);V=T.newCalculatedDate,q=T.newCalculatedMonth}else X=!0;te++}return{newCalculatedDate:V,newCalculatedMonth:q}};if(r===ts.Enter){n.isMonthDisabled(i)||(n.onMonthClick(a,i),f==null||f(l));return}var P=B(r,d,i),O=P.newCalculatedDate,R=P.newCalculatedMonth;switch(r){case ts.ArrowRight:case ts.ArrowLeft:case ts.ArrowUp:case ts.ArrowDown:n.handleMonthNavigation(R,O);break}}},n.getVerticalOffset=function(a){var r,i;return(i=(r=LC[a])===null||r===void 0?void 0:r.verticalNavigationOffset)!==null&&i!==void 0?i:0},n.onMonthKeyDown=function(a,r){var i=n.props,o=i.disabledKeyboardNavigation,c=i.handleOnMonthKeyDown,l=a.key;l!==ts.Tab&&a.preventDefault(),o||n.handleKeyboardNavigation(a,l,r),c&&c(a)},n.onQuarterClick=function(a,r){var i=Vf(n.props.day,r);tv(i,n.props)||n.handleDayClick($T(i),a)},n.onQuarterMouseEnter=function(a){var r=Vf(n.props.day,a);tv(r,n.props)||n.handleDayMouseEnter($T(r))},n.handleQuarterNavigation=function(a,r){var i,o,c,l;n.isDisabled(r)||n.isExcluded(r)||((o=(i=n.props).setPreSelection)===null||o===void 0||o.call(i,r),(l=(c=n.QUARTER_REFS[a-1])===null||c===void 0?void 0:c.current)===null||l===void 0||l.focus())},n.onQuarterKeyDown=function(a,r){var i,o,c=a.key;if(!n.props.disabledKeyboardNavigation)switch(c){case ts.Enter:n.onQuarterClick(a,r),(o=(i=n.props).setPreSelection)===null||o===void 0||o.call(i,n.props.selected);break;case ts.ArrowRight:if(!n.props.preSelection)break;n.handleQuarterNavigation(r===4?1:r+1,t4(n.props.preSelection,1));break;case ts.ArrowLeft:if(!n.props.preSelection)break;n.handleQuarterNavigation(r===1?4:r-1,bL(n.props.preSelection));break}},n.isMonthDisabledForLabelDate=function(a){var r,i=n.props,o=i.day,c=i.minDate,l=i.maxDate,d=i.excludeDates,f=i.includeDates,g=bc(o,a);return{isDisabled:(r=(c||l||d||f)&&OL(g,n.props))!==null&&r!==void 0?r:!1,labelDate:g}},n.isMonthDisabled=function(a){var r=n.isMonthDisabledForLabelDate(a).isDisabled;return r},n.getMonthClassNames=function(a){var r=n.props,i=r.day,o=r.startDate,c=r.endDate,l=r.preSelection,d=r.monthClassName,f=d?d(bc(i,a)):void 0,g=n.getSelection();return Xi("react-datepicker__month-text","react-datepicker__month-".concat(a),f,{"react-datepicker__month-text--disabled":n.isMonthDisabled(a),"react-datepicker__month-text--selected":g?n.isSelectMonthInList(i,a,g):void 0,"react-datepicker__month-text--keyboard-selected":!n.props.disabledKeyboardNavigation&&l&&n.isSelectedMonth(i,a,l)&&!n.isMonthSelected()&&!n.isMonthDisabled(a),"react-datepicker__month-text--in-selecting-range":n.isInSelectingRangeMonth(a),"react-datepicker__month-text--in-range":o&&c?ev(o,c,a,i):void 0,"react-datepicker__month-text--range-start":n.isRangeStartMonth(a),"react-datepicker__month-text--range-end":n.isRangeEndMonth(a),"react-datepicker__month-text--selecting-range-start":n.isSelectingMonthRangeStart(a),"react-datepicker__month-text--selecting-range-end":n.isSelectingMonthRangeEnd(a),"react-datepicker__month-text--today":n.isCurrentMonth(i,a)})},n.getTabIndex=function(a){if(n.props.preSelection==null)return"-1";var r=co(n.props.preSelection),i=n.isMonthDisabledForLabelDate(r).isDisabled,o=a===r&&!(i||n.props.disabledKeyboardNavigation)?"0":"-1";return o},n.getQuarterTabIndex=function(a){if(n.props.preSelection==null)return"-1";var r=kh(n.props.preSelection),i=tv(n.props.day,n.props),o=a===r&&!(i||n.props.disabledKeyboardNavigation)?"0":"-1";return o},n.getAriaLabel=function(a){var r=n.props,i=r.chooseDayAriaLabelPrefix,o=i===void 0?"Choose":i,c=r.disabledDayAriaLabelPrefix,l=c===void 0?"Not available":c,d=r.day,f=r.locale,g=bc(d,a),b=n.isDisabled(g)||n.isExcluded(g)?l:o;return"".concat(b," ").concat(zr(g,"MMMM yyyy",f))},n.getQuarterClassNames=function(a){var r=n.props,i=r.day,o=r.startDate,c=r.endDate,l=r.selected,d=r.minDate,f=r.maxDate,g=r.excludeDates,b=r.includeDates,w=r.filterDate,S=r.preSelection,j=r.disabledKeyboardNavigation,N=(d||f||g||b||w)&&tv(Vf(i,a),n.props);return Xi("react-datepicker__quarter-text","react-datepicker__quarter-".concat(a),{"react-datepicker__quarter-text--disabled":N,"react-datepicker__quarter-text--selected":l?n.isSelectedQuarter(i,a,l):void 0,"react-datepicker__quarter-text--keyboard-selected":!j&&S&&n.isSelectedQuarter(i,a,S)&&!N,"react-datepicker__quarter-text--in-selecting-range":n.isInSelectingRangeQuarter(a),"react-datepicker__quarter-text--in-range":o&&c?sv(o,c,a,i):void 0,"react-datepicker__quarter-text--range-start":n.isRangeStartQuarter(a),"react-datepicker__quarter-text--range-end":n.isRangeEndQuarter(a),"react-datepicker__quarter-text--today":n.isCurrentQuarter(i,a)})},n.getMonthContent=function(a){var r=n.props,i=r.showFullMonthYearPicker,o=r.renderMonthContent,c=r.locale,l=r.day,d=RL(a,c),f=f4(a,c);return o?o(a,d,f,l):i?f:d},n.getQuarterContent=function(a){var r,i=n.props,o=i.renderQuarterContent,c=i.locale,l=Eje(a,c);return(r=o==null?void 0:o(a,l))!==null&&r!==void 0?r:l},n.renderMonths=function(){var a,r=n.props,i=r.showTwoColumnMonthYearPicker,o=r.showFourColumnMonthYearPicker,c=r.day,l=r.selected,d=(a=LC[JT(o,i)])===null||a===void 0?void 0:a.grid;return d==null?void 0:d.map(function(f,g){return Je.createElement("div",{className:"react-datepicker__month-wrapper",key:g},f.map(function(b,w){return Je.createElement("div",{ref:n.MONTH_REFS[b],key:w,onClick:function(S){n.onMonthClick(S,b)},onKeyDown:function(S){$L(S)&&(S.preventDefault(),S.key=ts.Enter),n.onMonthKeyDown(S,b)},onMouseEnter:n.props.usePointerEvent?void 0:function(){return n.onMonthMouseEnter(b)},onPointerEnter:n.props.usePointerEvent?function(){return n.onMonthMouseEnter(b)}:void 0,tabIndex:Number(n.getTabIndex(b)),className:n.getMonthClassNames(b),"aria-disabled":n.isMonthDisabled(b),role:"option","aria-label":n.getAriaLabel(b),"aria-current":n.isCurrentMonth(c,b)?"date":void 0,"aria-selected":l?n.isSelectedMonth(c,b,l):void 0},n.getMonthContent(b))}))})},n.renderQuarters=function(){var a=n.props,r=a.day,i=a.selected,o=[1,2,3,4];return Je.createElement("div",{className:"react-datepicker__quarter-wrapper"},o.map(function(c,l){return Je.createElement("div",{key:l,ref:n.QUARTER_REFS[l],role:"option",onClick:function(d){n.onQuarterClick(d,c)},onKeyDown:function(d){n.onQuarterKeyDown(d,c)},onMouseEnter:n.props.usePointerEvent?void 0:function(){return n.onQuarterMouseEnter(c)},onPointerEnter:n.props.usePointerEvent?function(){return n.onQuarterMouseEnter(c)}:void 0,className:n.getQuarterClassNames(c),"aria-selected":i?n.isSelectedQuarter(r,c,i):void 0,tabIndex:Number(n.getQuarterTabIndex(c)),"aria-current":n.isCurrentQuarter(r,c)?"date":void 0},n.getQuarterContent(c))}))},n.getClassNames=function(){var a=n.props,r=a.selectingDate,i=a.selectsStart,o=a.selectsEnd,c=a.showMonthYearPicker,l=a.showQuarterYearPicker,d=a.showWeekPicker;return Xi("react-datepicker__month",{"react-datepicker__month--selecting-range":r&&(i||o)},{"react-datepicker__monthPicker":c},{"react-datepicker__quarterPicker":l},{"react-datepicker__weekPicker":d})},n}return t.prototype.getSelection=function(){var n=this.props,a=n.selected,r=n.selectedDates,i=n.selectsMultiple;if(i)return r;if(a)return[a]},t.prototype.render=function(){var n=this.props,a=n.showMonthYearPicker,r=n.showQuarterYearPicker,i=n.day,o=n.ariaLabelPrefix,c=o===void 0?"Month ":o,l=c?c.trim()+" ":"";return Je.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":"".concat(l).concat(zr(i,"MMMM, yyyy",this.props.locale)),role:"listbox"},a?this.renderMonths():r?this.renderQuarters():this.renderWeeks())},t}(v.Component),qje=function(e){zi(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.isSelectedMonth=function(a){return n.props.month===a},n.renderOptions=function(){return n.props.monthNames.map(function(a,r){return Je.createElement("div",{className:n.isSelectedMonth(r)?"react-datepicker__month-option react-datepicker__month-option--selected_month":"react-datepicker__month-option",key:a,onClick:n.onChange.bind(n,r),"aria-selected":n.isSelectedMonth(r)?"true":void 0},n.isSelectedMonth(r)?Je.createElement("span",{className:"react-datepicker__month-option--selected"},""):"",a)})},n.onChange=function(a){return n.props.onChange(a)},n.handleClickOutside=function(){return n.props.onCancel()},n}return t.prototype.render=function(){return Je.createElement(ly,{className:"react-datepicker__month-dropdown",onClickOutside:this.handleClickOutside},this.renderOptions())},t}(v.Component),Uje=function(e){zi(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.state={dropdownVisible:!1},n.renderSelectOptions=function(a){return a.map(function(r,i){return Je.createElement("option",{key:r,value:i},r)})},n.renderSelectMode=function(a){return Je.createElement("select",{value:n.props.month,className:"react-datepicker__month-select",onChange:function(r){return n.onChange(parseInt(r.target.value))}},n.renderSelectOptions(a))},n.renderReadView=function(a,r){return Je.createElement("div",{key:"read",style:{visibility:a?"visible":"hidden"},className:"react-datepicker__month-read-view",onClick:n.toggleDropdown},Je.createElement("span",{className:"react-datepicker__month-read-view--down-arrow"}),Je.createElement("span",{className:"react-datepicker__month-read-view--selected-month"},r[n.props.month]))},n.renderDropdown=function(a){return Je.createElement(qje,Ya({key:"dropdown"},n.props,{monthNames:a,onChange:n.onChange,onCancel:n.toggleDropdown}))},n.renderScrollMode=function(a){var r=n.state.dropdownVisible,i=[n.renderReadView(!r,a)];return r&&i.unshift(n.renderDropdown(a)),i},n.onChange=function(a){n.toggleDropdown(),a!==n.props.month&&n.props.onChange(a)},n.toggleDropdown=function(){return n.setState({dropdownVisible:!n.state.dropdownVisible})},n}return t.prototype.render=function(){var n=this,a=[0,1,2,3,4,5,6,7,8,9,10,11].map(this.props.useShortMonthInDropdown?function(i){return RL(i,n.props.locale)}:function(i){return f4(i,n.props.locale)}),r;switch(this.props.dropdownMode){case"scroll":r=this.renderScrollMode(a);break;case"select":r=this.renderSelectMode(a);break}return Je.createElement("div",{className:"react-datepicker__month-dropdown-container react-datepicker__month-dropdown-container--".concat(this.props.dropdownMode)},r)},t}(v.Component);function Wje(e,t){for(var n=[],a=pu(e),r=pu(t);!Ed(a,r);)n.push(sr(a)),a=Gc(a,1);return n}var Yje=function(e){zi(t,e);function t(n){var a=e.call(this,n)||this;return a.renderOptions=function(){return a.state.monthYearsList.map(function(r){var i=Oj(r),o=ml(a.props.date,r)&&_o(a.props.date,r);return Je.createElement("div",{className:o?"react-datepicker__month-year-option--selected_month-year":"react-datepicker__month-year-option",key:i,onClick:a.onChange.bind(a,i),"aria-selected":o?"true":void 0},o?Je.createElement("span",{className:"react-datepicker__month-year-option--selected"},""):"",zr(r,a.props.dateFormat,a.props.locale))})},a.onChange=function(r){return a.props.onChange(r)},a.handleClickOutside=function(){a.props.onCancel()},a.state={monthYearsList:Wje(a.props.minDate,a.props.maxDate)},a}return t.prototype.render=function(){var n=Xi({"react-datepicker__month-year-dropdown":!0,"react-datepicker__month-year-dropdown--scrollable":this.props.scrollableMonthYearDropdown});return Je.createElement(ly,{className:n,onClickOutside:this.handleClickOutside},this.renderOptions())},t}(v.Component),Gje=function(e){zi(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.state={dropdownVisible:!1},n.renderSelectOptions=function(){for(var a=pu(n.props.minDate),r=pu(n.props.maxDate),i=[];!Ed(a,r);){var o=Oj(a);i.push(Je.createElement("option",{key:o,value:o},zr(a,n.props.dateFormat,n.props.locale))),a=Gc(a,1)}return i},n.onSelectChange=function(a){n.onChange(parseInt(a.target.value))},n.renderSelectMode=function(){return Je.createElement("select",{value:Oj(pu(n.props.date)),className:"react-datepicker__month-year-select",onChange:n.onSelectChange},n.renderSelectOptions())},n.renderReadView=function(a){var r=zr(n.props.date,n.props.dateFormat,n.props.locale);return Je.createElement("div",{key:"read",style:{visibility:a?"visible":"hidden"},className:"react-datepicker__month-year-read-view",onClick:n.toggleDropdown},Je.createElement("span",{className:"react-datepicker__month-year-read-view--down-arrow"}),Je.createElement("span",{className:"react-datepicker__month-year-read-view--selected-month-year"},r))},n.renderDropdown=function(){return Je.createElement(Yje,Ya({key:"dropdown"},n.props,{onChange:n.onChange,onCancel:n.toggleDropdown}))},n.renderScrollMode=function(){var a=n.state.dropdownVisible,r=[n.renderReadView(!a)];return a&&r.unshift(n.renderDropdown()),r},n.onChange=function(a){n.toggleDropdown();var r=sr(a);ml(n.props.date,r)&&_o(n.props.date,r)||n.props.onChange(r)},n.toggleDropdown=function(){return n.setState({dropdownVisible:!n.state.dropdownVisible})},n}return t.prototype.render=function(){var n;switch(this.props.dropdownMode){case"scroll":n=this.renderScrollMode();break;case"select":n=this.renderSelectMode();break}return Je.createElement("div",{className:"react-datepicker__month-year-dropdown-container react-datepicker__month-year-dropdown-container--".concat(this.props.dropdownMode)},n)},t}(v.Component),Qje=function(e){zi(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.state={height:null},n.scrollToTheSelectedTime=function(){requestAnimationFrame(function(){var a,r,i;n.list&&(n.list.scrollTop=(i=n.centerLi&&t.calcCenterPosition(n.props.monthRef?n.props.monthRef.clientHeight-((r=(a=n.header)===null||a===void 0?void 0:a.clientHeight)!==null&&r!==void 0?r:0):n.list.clientHeight,n.centerLi))!==null&&i!==void 0?i:0)})},n.handleClick=function(a){var r,i;(n.props.minTime||n.props.maxTime)&&VT(a,n.props)||(n.props.excludeTimes||n.props.includeTimes||n.props.filterTime)&&zT(a,n.props)||(i=(r=n.props).onChange)===null||i===void 0||i.call(r,a)},n.isSelectedTime=function(a){return n.props.selected&&Lje(n.props.selected,a)},n.isDisabledTime=function(a){return(n.props.minTime||n.props.maxTime)&&VT(a,n.props)||(n.props.excludeTimes||n.props.includeTimes||n.props.filterTime)&&zT(a,n.props)},n.liClasses=function(a){var r,i=["react-datepicker__time-list-item",n.props.timeClassName?n.props.timeClassName(a):void 0];return n.isSelectedTime(a)&&i.push("react-datepicker__time-list-item--selected"),n.isDisabledTime(a)&&i.push("react-datepicker__time-list-item--disabled"),n.props.injectTimes&&(fu(a)*3600+mu(a)*60+bd(a))%(((r=n.props.intervals)!==null&&r!==void 0?r:t.defaultProps.intervals)*60)!==0&&i.push("react-datepicker__time-list-item--injected"),i.join(" ")},n.handleOnKeyDown=function(a,r){var i,o;a.key===ts.Space&&(a.preventDefault(),a.key=ts.Enter),(a.key===ts.ArrowUp||a.key===ts.ArrowLeft)&&a.target instanceof HTMLElement&&a.target.previousSibling&&(a.preventDefault(),a.target.previousSibling instanceof HTMLElement&&a.target.previousSibling.focus()),(a.key===ts.ArrowDown||a.key===ts.ArrowRight)&&a.target instanceof HTMLElement&&a.target.nextSibling&&(a.preventDefault(),a.target.nextSibling instanceof HTMLElement&&a.target.nextSibling.focus()),a.key===ts.Enter&&n.handleClick(r),(o=(i=n.props).handleOnKeyDown)===null||o===void 0||o.call(i,a)},n.renderTimes=function(){for(var a,r=[],i=typeof n.props.format=="string"?n.props.format:"p",o=(a=n.props.intervals)!==null&&a!==void 0?a:t.defaultProps.intervals,c=n.props.selected||n.props.openToDate||sr(),l=Uv(c),d=n.props.injectTimes&&n.props.injectTimes.sort(function(N,I){return N.getTime()-I.getTime()}),f=60*Bje(c),g=f/o,b=0;b<g;b++){var w=Aj(l,b*o);if(r.push(w),d){var S=Oje(l,w,b,o,d);r=r.concat(S)}}var j=r.reduce(function(N,I){return I.getTime()<=c.getTime()?I:N},r[0]);return r.map(function(N){return Je.createElement("li",{key:N.valueOf(),onClick:n.handleClick.bind(n,N),className:n.liClasses(N),ref:function(I){N===j&&(n.centerLi=I)},onKeyDown:function(I){n.handleOnKeyDown(I,N)},tabIndex:N===j?0:-1,role:"option","aria-selected":n.isSelectedTime(N)?"true":void 0,"aria-disabled":n.isDisabledTime(N)?"true":void 0},zr(N,i,n.props.locale))})},n.renderTimeCaption=function(){return n.props.showTimeCaption===!1?Je.createElement(Je.Fragment,null):Je.createElement("div",{className:"react-datepicker__header react-datepicker__header--time ".concat(n.props.showTimeSelectOnly?"react-datepicker__header--time--only":""),ref:function(a){n.header=a}},Je.createElement("div",{className:"react-datepicker-time__header"},n.props.timeCaption))},n}return Object.defineProperty(t,"defaultProps",{get:function(){return{intervals:30,todayButton:null,timeCaption:"Time",showTimeCaption:!0}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){this.scrollToTheSelectedTime(),this.observeDatePickerHeightChanges()},t.prototype.componentWillUnmount=function(){var n;(n=this.resizeObserver)===null||n===void 0||n.disconnect()},t.prototype.observeDatePickerHeightChanges=function(){var n=this,a=this.props.monthRef;this.updateContainerHeight(),a&&(this.resizeObserver=new ResizeObserver(function(){n.updateContainerHeight()}),this.resizeObserver.observe(a))},t.prototype.updateContainerHeight=function(){this.props.monthRef&&this.header&&this.setState({height:this.props.monthRef.clientHeight-this.header.clientHeight})},t.prototype.render=function(){var n=this,a,r=this.state.height;return Je.createElement("div",{className:"react-datepicker__time-container ".concat(((a=this.props.todayButton)!==null&&a!==void 0?a:t.defaultProps.todayButton)?"react-datepicker__time-container--with-today-button":"")},this.renderTimeCaption(),Je.createElement("div",{className:"react-datepicker__time"},Je.createElement("div",{className:"react-datepicker__time-box"},Je.createElement("ul",{className:"react-datepicker__time-list",ref:function(i){n.list=i},style:r?{height:r}:{},role:"listbox","aria-label":this.props.timeCaption},this.renderTimes()))))},t.calcCenterPosition=function(n,a){return a.offsetTop-(n/2-a.clientHeight/2)},t}(v.Component),e7=3,Xje=function(e){zi(t,e);function t(n){var a=e.call(this,n)||this;return a.YEAR_REFS=xl([],Array(a.props.yearItemNumber),!0).map(function(){return v.createRef()}),a.isDisabled=function(r){return wc(r,{minDate:a.props.minDate,maxDate:a.props.maxDate,excludeDates:a.props.excludeDates,includeDates:a.props.includeDates,filterDate:a.props.filterDate})},a.isExcluded=function(r){return m4(r,{excludeDates:a.props.excludeDates})},a.selectingDate=function(){var r;return(r=a.props.selectingDate)!==null&&r!==void 0?r:a.props.preSelection},a.updateFocusOnPaginate=function(r){var i=function(){var o,c;(c=(o=a.YEAR_REFS[r])===null||o===void 0?void 0:o.current)===null||c===void 0||c.focus()};window.requestAnimationFrame(i)},a.handleYearClick=function(r,i){a.props.onDayClick&&a.props.onDayClick(r,i)},a.handleYearNavigation=function(r,i){var o,c,l,d,f=a.props,g=f.date,b=f.yearItemNumber;if(!(g===void 0||b===void 0)){var w=pd(g,b).startPeriod;a.isDisabled(i)||a.isExcluded(i)||((c=(o=a.props).setPreSelection)===null||c===void 0||c.call(o,i),r-w<0?a.updateFocusOnPaginate(b-(w-r)):r-w>=b?a.updateFocusOnPaginate(Math.abs(b-(r-w))):(d=(l=a.YEAR_REFS[r-w])===null||l===void 0?void 0:l.current)===null||d===void 0||d.focus())}},a.isSameDay=function(r,i){return Wa(r,i)},a.isCurrentYear=function(r){return r===va(sr())},a.isRangeStart=function(r){return a.props.startDate&&a.props.endDate&&ml(hl(sr(),r),a.props.startDate)},a.isRangeEnd=function(r){return a.props.startDate&&a.props.endDate&&ml(hl(sr(),r),a.props.endDate)},a.isInRange=function(r){return nv(r,a.props.startDate,a.props.endDate)},a.isInSelectingRange=function(r){var i=a.props,o=i.selectsStart,c=i.selectsEnd,l=i.selectsRange,d=i.startDate,f=i.endDate;return!(o||c||l)||!a.selectingDate()?!1:o&&f?nv(r,a.selectingDate(),f):c&&d||l&&d&&!f?nv(r,d,a.selectingDate()):!1},a.isSelectingRangeStart=function(r){var i;if(!a.isInSelectingRange(r))return!1;var o=a.props,c=o.startDate,l=o.selectsStart,d=hl(sr(),r);return l?ml(d,(i=a.selectingDate())!==null&&i!==void 0?i:null):ml(d,c??null)},a.isSelectingRangeEnd=function(r){var i;if(!a.isInSelectingRange(r))return!1;var o=a.props,c=o.endDate,l=o.selectsEnd,d=o.selectsRange,f=hl(sr(),r);return l||d?ml(f,(i=a.selectingDate())!==null&&i!==void 0?i:null):ml(f,c??null)},a.isKeyboardSelected=function(r){if(!(a.props.date===void 0||a.props.selected==null||a.props.preSelection==null)){var i=a.props,o=i.minDate,c=i.maxDate,l=i.excludeDates,d=i.includeDates,f=i.filterDate,g=L1(hl(a.props.date,r)),b=(o||c||l||d||f)&&Wv(r,a.props);return!a.props.disabledKeyboardNavigation&&!a.props.inline&&!Wa(g,L1(a.props.selected))&&Wa(g,L1(a.props.preSelection))&&!b}},a.isSelectedYear=function(r){var i=a.props,o=i.selectsMultiple,c=i.selected,l=i.selectedDates;return o?l==null?void 0:l.some(function(d){return r===va(d)}):!!c&&r===va(c)},a.onYearClick=function(r,i){var o=a.props.date;o!==void 0&&a.handleYearClick(L1(hl(o,i)),r)},a.onYearKeyDown=function(r,i){var o,c,l=r.key,d=a.props,f=d.date,g=d.yearItemNumber,b=d.handleOnKeyDown;if(l!==ts.Tab&&r.preventDefault(),!a.props.disabledKeyboardNavigation)switch(l){case ts.Enter:if(a.props.selected==null)break;a.onYearClick(r,i),(c=(o=a.props).setPreSelection)===null||c===void 0||c.call(o,a.props.selected);break;case ts.ArrowRight:if(a.props.preSelection==null)break;a.handleYearNavigation(i+1,du(a.props.preSelection,1));break;case ts.ArrowLeft:if(a.props.preSelection==null)break;a.handleYearNavigation(i-1,Cm(a.props.preSelection,1));break;case ts.ArrowUp:{if(f===void 0||g===void 0||a.props.preSelection==null)break;var w=pd(f,g).startPeriod,S=e7,j=i-S;if(j<w){var N=g%S;i>=w&&i<w+N?S=N:S+=N,j=i-S}a.handleYearNavigation(j,Cm(a.props.preSelection,S));break}case ts.ArrowDown:{if(f===void 0||g===void 0||a.props.preSelection==null)break;var I=pd(f,g).endPeriod,S=e7,j=i+S;if(j>I){var N=g%S;i<=I&&i>I-N?S=N:S+=N,j=i+S}a.handleYearNavigation(j,du(a.props.preSelection,S));break}}b&&b(r)},a.getYearClassNames=function(r){var i=a.props,o=i.date,c=i.minDate,l=i.maxDate,d=i.excludeDates,f=i.includeDates,g=i.filterDate,b=i.yearClassName;return Xi("react-datepicker__year-text","react-datepicker__year-".concat(r),o?b==null?void 0:b(hl(o,r)):void 0,{"react-datepicker__year-text--selected":a.isSelectedYear(r),"react-datepicker__year-text--disabled":(c||l||d||f||g)&&Wv(r,a.props),"react-datepicker__year-text--keyboard-selected":a.isKeyboardSelected(r),"react-datepicker__year-text--range-start":a.isRangeStart(r),"react-datepicker__year-text--range-end":a.isRangeEnd(r),"react-datepicker__year-text--in-range":a.isInRange(r),"react-datepicker__year-text--in-selecting-range":a.isInSelectingRange(r),"react-datepicker__year-text--selecting-range-start":a.isSelectingRangeStart(r),"react-datepicker__year-text--selecting-range-end":a.isSelectingRangeEnd(r),"react-datepicker__year-text--today":a.isCurrentYear(r)})},a.getYearTabIndex=function(r){if(a.props.disabledKeyboardNavigation||a.props.preSelection==null)return"-1";var i=va(a.props.preSelection),o=Wv(r,a.props);return r===i&&!o?"0":"-1"},a.getYearContent=function(r){return a.props.renderYearContent?a.props.renderYearContent(r):r},a}return t.prototype.render=function(){var n=this,a=[],r=this.props,i=r.date,o=r.yearItemNumber,c=r.onYearMouseEnter,l=r.onYearMouseLeave;if(i===void 0)return null;for(var d=pd(i,o),f=d.startPeriod,g=d.endPeriod,b=function(j){a.push(Je.createElement("div",{ref:w.YEAR_REFS[j-f],onClick:function(N){n.onYearClick(N,j)},onKeyDown:function(N){$L(N)&&(N.preventDefault(),N.key=ts.Enter),n.onYearKeyDown(N,j)},tabIndex:Number(w.getYearTabIndex(j)),className:w.getYearClassNames(j),onMouseEnter:w.props.usePointerEvent?void 0:function(N){return c(N,j)},onPointerEnter:w.props.usePointerEvent?function(N){return c(N,j)}:void 0,onMouseLeave:w.props.usePointerEvent?void 0:function(N){return l(N,j)},onPointerLeave:w.props.usePointerEvent?function(N){return l(N,j)}:void 0,key:j,"aria-current":w.isCurrentYear(j)?"date":void 0},w.getYearContent(j)))},w=this,S=f;S<=g;S++)b(S);return Je.createElement("div",{className:"react-datepicker__year"},Je.createElement("div",{className:"react-datepicker__year-wrapper",onMouseLeave:this.props.usePointerEvent?void 0:this.props.clearSelectingDate,onPointerLeave:this.props.usePointerEvent?this.props.clearSelectingDate:void 0},a))},t}(v.Component);function Kje(e,t,n,a){for(var r=[],i=0;i<2*t+1;i++){var o=e+t-i,c=!0;n&&(c=va(n)<=o),a&&c&&(c=va(a)>=o),c&&r.push(o)}return r}var Zje=function(e){zi(t,e);function t(n){var a=e.call(this,n)||this;a.renderOptions=function(){var c=a.props.year,l=a.state.yearsList.map(function(g){return Je.createElement("div",{className:c===g?"react-datepicker__year-option react-datepicker__year-option--selected_year":"react-datepicker__year-option",key:g,onClick:a.onChange.bind(a,g),"aria-selected":c===g?"true":void 0},c===g?Je.createElement("span",{className:"react-datepicker__year-option--selected"},""):"",g)}),d=a.props.minDate?va(a.props.minDate):null,f=a.props.maxDate?va(a.props.maxDate):null;return(!f||!a.state.yearsList.find(function(g){return g===f}))&&l.unshift(Je.createElement("div",{className:"react-datepicker__year-option",key:"upcoming",onClick:a.incrementYears},Je.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-upcoming"}))),(!d||!a.state.yearsList.find(function(g){return g===d}))&&l.push(Je.createElement("div",{className:"react-datepicker__year-option",key:"previous",onClick:a.decrementYears},Je.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-previous"}))),l},a.onChange=function(c){a.props.onChange(c)},a.handleClickOutside=function(){a.props.onCancel()},a.shiftYears=function(c){var l=a.state.yearsList.map(function(d){return d+c});a.setState({yearsList:l})},a.incrementYears=function(){return a.shiftYears(1)},a.decrementYears=function(){return a.shiftYears(-1)};var r=n.yearDropdownItemNumber,i=n.scrollableYearDropdown,o=r||(i?10:5);return a.state={yearsList:Kje(a.props.year,o,a.props.minDate,a.props.maxDate)},a.dropdownRef=v.createRef(),a}return t.prototype.componentDidMount=function(){var n=this.dropdownRef.current;if(n){var a=n.children?Array.from(n.children):null,r=a?a.find(function(i){return i.ariaSelected}):null;n.scrollTop=r&&r instanceof HTMLElement?r.offsetTop+(r.clientHeight-n.clientHeight)/2:(n.scrollHeight-n.clientHeight)/2}},t.prototype.render=function(){var n=Xi({"react-datepicker__year-dropdown":!0,"react-datepicker__year-dropdown--scrollable":this.props.scrollableYearDropdown});return Je.createElement(ly,{className:n,containerRef:this.dropdownRef,onClickOutside:this.handleClickOutside},this.renderOptions())},t}(v.Component),Jje=function(e){zi(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.state={dropdownVisible:!1},n.renderSelectOptions=function(){for(var a=n.props.minDate?va(n.props.minDate):1900,r=n.props.maxDate?va(n.props.maxDate):2100,i=[],o=a;o<=r;o++)i.push(Je.createElement("option",{key:o,value:o},o));return i},n.onSelectChange=function(a){n.onChange(parseInt(a.target.value))},n.renderSelectMode=function(){return Je.createElement("select",{value:n.props.year,className:"react-datepicker__year-select",onChange:n.onSelectChange},n.renderSelectOptions())},n.renderReadView=function(a){return Je.createElement("div",{key:"read",style:{visibility:a?"visible":"hidden"},className:"react-datepicker__year-read-view",onClick:function(r){return n.toggleDropdown(r)}},Je.createElement("span",{className:"react-datepicker__year-read-view--down-arrow"}),Je.createElement("span",{className:"react-datepicker__year-read-view--selected-year"},n.props.year))},n.renderDropdown=function(){return Je.createElement(Zje,Ya({key:"dropdown"},n.props,{onChange:n.onChange,onCancel:n.toggleDropdown}))},n.renderScrollMode=function(){var a=n.state.dropdownVisible,r=[n.renderReadView(!a)];return a&&r.unshift(n.renderDropdown()),r},n.onChange=function(a){n.toggleDropdown(),a!==n.props.year&&n.props.onChange(a)},n.toggleDropdown=function(a){n.setState({dropdownVisible:!n.state.dropdownVisible},function(){n.props.adjustDateOnChange&&n.handleYearChange(n.props.date,a)})},n.handleYearChange=function(a,r){var i;(i=n.onSelect)===null||i===void 0||i.call(n,a,r),n.setOpen()},n.onSelect=function(a,r){var i,o;(o=(i=n.props).onSelect)===null||o===void 0||o.call(i,a,r)},n.setOpen=function(){var a,r;(r=(a=n.props).setOpen)===null||r===void 0||r.call(a,!0)},n}return t.prototype.render=function(){var n;switch(this.props.dropdownMode){case"scroll":n=this.renderScrollMode();break;case"select":n=this.renderSelectMode();break}return Je.createElement("div",{className:"react-datepicker__year-dropdown-container react-datepicker__year-dropdown-container--".concat(this.props.dropdownMode)},n)},t}(v.Component),eNe=["react-datepicker__year-select","react-datepicker__month-select","react-datepicker__month-year-select"],tNe=function(e){var t=(e.className||"").split(/\s+/);return eNe.some(function(n){return t.indexOf(n)>=0})},nNe=function(e){zi(t,e);function t(n){var a=e.call(this,n)||this;return a.monthContainer=void 0,a.handleClickOutside=function(r){a.props.onClickOutside(r)},a.setClickOutsideRef=function(){return a.containerRef.current},a.handleDropdownFocus=function(r){var i,o;tNe(r.target)&&((o=(i=a.props).onDropdownFocus)===null||o===void 0||o.call(i,r))},a.getDateInView=function(){var r=a.props,i=r.preSelection,o=r.selected,c=r.openToDate,l=BL(a.props),d=LL(a.props),f=sr(),g=c||o||i;return g||(l&&Hh(f,l)?l:d&&Ed(f,d)?d:f)},a.increaseMonth=function(){a.setState(function(r){var i=r.date;return{date:Gc(i,1)}},function(){return a.handleMonthChange(a.state.date)})},a.decreaseMonth=function(){a.setState(function(r){var i=r.date;return{date:Ih(i,1)}},function(){return a.handleMonthChange(a.state.date)})},a.handleDayClick=function(r,i,o){a.props.onSelect(r,i,o),a.props.setPreSelection&&a.props.setPreSelection(r)},a.handleDayMouseEnter=function(r){a.setState({selectingDate:r}),a.props.onDayMouseEnter&&a.props.onDayMouseEnter(r)},a.handleMonthMouseLeave=function(){a.setState({selectingDate:void 0}),a.props.onMonthMouseLeave&&a.props.onMonthMouseLeave()},a.handleYearMouseEnter=function(r,i){a.setState({selectingDate:hl(sr(),i)}),a.props.onYearMouseEnter&&a.props.onYearMouseEnter(r,i)},a.handleYearMouseLeave=function(r,i){a.props.onYearMouseLeave&&a.props.onYearMouseLeave(r,i)},a.handleYearChange=function(r){var i,o,c,l;(o=(i=a.props).onYearChange)===null||o===void 0||o.call(i,r),a.setState({isRenderAriaLiveMessage:!0}),a.props.adjustDateOnChange&&(a.props.onSelect(r),(l=(c=a.props).setOpen)===null||l===void 0||l.call(c,!0)),a.props.setPreSelection&&a.props.setPreSelection(r)},a.getEnabledPreSelectionDateForMonth=function(r){if(!wc(r,a.props))return r;for(var i=pu(r),o=Cje(r),c=R2e(o,i),l=null,d=0;d<=c;d++){var f=Vc(i,d);if(!wc(f,a.props)){l=f;break}}return l},a.handleMonthChange=function(r){var i,o,c,l=(i=a.getEnabledPreSelectionDateForMonth(r))!==null&&i!==void 0?i:r;a.handleCustomMonthChange(l),a.props.adjustDateOnChange&&(a.props.onSelect(l),(c=(o=a.props).setOpen)===null||c===void 0||c.call(o,!0)),a.props.setPreSelection&&a.props.setPreSelection(l)},a.handleCustomMonthChange=function(r){var i,o;(o=(i=a.props).onMonthChange)===null||o===void 0||o.call(i,r),a.setState({isRenderAriaLiveMessage:!0})},a.handleMonthYearChange=function(r){a.handleYearChange(r),a.handleMonthChange(r)},a.changeYear=function(r){a.setState(function(i){var o=i.date;return{date:hl(o,Number(r))}},function(){return a.handleYearChange(a.state.date)})},a.changeMonth=function(r){a.setState(function(i){var o=i.date;return{date:bc(o,Number(r))}},function(){return a.handleMonthChange(a.state.date)})},a.changeMonthYear=function(r){a.setState(function(i){var o=i.date;return{date:hl(bc(o,co(r)),va(r))}},function(){return a.handleMonthYearChange(a.state.date)})},a.header=function(r){r===void 0&&(r=a.state.date);var i=yd(r,a.props.locale,a.props.calendarStartDay),o=[];return a.props.showWeekNumbers&&o.push(Je.createElement("div",{key:"W",className:"react-datepicker__day-name"},a.props.weekLabel||"#")),o.concat([0,1,2,3,4,5,6].map(function(c){var l=Vc(i,c),d=a.formatWeekday(l,a.props.locale),f=a.props.weekDayClassName?a.props.weekDayClassName(l):void 0;return Je.createElement("div",{key:c,"aria-label":zr(l,"EEEE",a.props.locale),className:Xi("react-datepicker__day-name",f)},d)}))},a.formatWeekday=function(r,i){return a.props.formatWeekDay?Sje(r,a.props.formatWeekDay,i):a.props.useWeekdaysShort?Nje(r,i):jje(r,i)},a.decreaseYear=function(){a.setState(function(r){var i,o=r.date;return{date:Cm(o,a.props.showYearPicker?(i=a.props.yearItemNumber)!==null&&i!==void 0?i:t.defaultProps.yearItemNumber:1)}},function(){return a.handleYearChange(a.state.date)})},a.clearSelectingDate=function(){a.setState({selectingDate:void 0})},a.renderPreviousButton=function(){var r,i,o;if(!a.props.renderCustomHeader){var c=(r=a.props.monthsShown)!==null&&r!==void 0?r:t.defaultProps.monthsShown,l=a.props.showPreviousMonths?c-1:0,d=(i=a.props.monthSelectedIn)!==null&&i!==void 0?i:l,f=Ih(a.state.date,d),g;switch(!0){case a.props.showMonthYearPicker:g=WT(a.state.date,a.props);break;case a.props.showYearPicker:g=Tje(a.state.date,a.props);break;case a.props.showQuarterYearPicker:g=Ije(a.state.date,a.props);break;default:g=qT(f,a.props);break}if(!(!((o=a.props.forceShowMonthNavigation)!==null&&o!==void 0?o:t.defaultProps.forceShowMonthNavigation)&&!a.props.showDisabledMonthNavigation&&g||a.props.showTimeSelectOnly)){var b=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--previous"],w=["react-datepicker__navigation","react-datepicker__navigation--previous"],S=a.decreaseMonth;(a.props.showMonthYearPicker||a.props.showQuarterYearPicker||a.props.showYearPicker)&&(S=a.decreaseYear),g&&a.props.showDisabledMonthNavigation&&(w.push("react-datepicker__navigation--previous--disabled"),S=void 0);var j=a.props.showMonthYearPicker||a.props.showQuarterYearPicker||a.props.showYearPicker,N=a.props,I=N.previousMonthButtonLabel,M=I===void 0?t.defaultProps.previousMonthButtonLabel:I,B=N.previousYearButtonLabel,P=B===void 0?t.defaultProps.previousYearButtonLabel:B,O=a.props,R=O.previousMonthAriaLabel,$=R===void 0?typeof M=="string"?M:"Previous Month":R,U=O.previousYearAriaLabel,F=U===void 0?typeof P=="string"?P:"Previous Year":U;return Je.createElement("button",{type:"button",className:w.join(" "),onClick:S,onKeyDown:a.props.handleOnKeyDown,"aria-label":j?F:$},Je.createElement("span",{className:b.join(" ")},j?P:M))}}},a.increaseYear=function(){a.setState(function(r){var i,o=r.date;return{date:du(o,a.props.showYearPicker?(i=a.props.yearItemNumber)!==null&&i!==void 0?i:t.defaultProps.yearItemNumber:1)}},function(){return a.handleYearChange(a.state.date)})},a.renderNextButton=function(){var r;if(!a.props.renderCustomHeader){var i;switch(!0){case a.props.showMonthYearPicker:i=YT(a.state.date,a.props);break;case a.props.showYearPicker:i=Aje(a.state.date,a.props);break;case a.props.showQuarterYearPicker:i=Dje(a.state.date,a.props);break;default:i=UT(a.state.date,a.props);break}if(!(!((r=a.props.forceShowMonthNavigation)!==null&&r!==void 0?r:t.defaultProps.forceShowMonthNavigation)&&!a.props.showDisabledMonthNavigation&&i||a.props.showTimeSelectOnly)){var o=["react-datepicker__navigation","react-datepicker__navigation--next"],c=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--next"];a.props.showTimeSelect&&o.push("react-datepicker__navigation--next--with-time"),a.props.todayButton&&o.push("react-datepicker__navigation--next--with-today-button");var l=a.increaseMonth;(a.props.showMonthYearPicker||a.props.showQuarterYearPicker||a.props.showYearPicker)&&(l=a.increaseYear),i&&a.props.showDisabledMonthNavigation&&(o.push("react-datepicker__navigation--next--disabled"),l=void 0);var d=a.props.showMonthYearPicker||a.props.showQuarterYearPicker||a.props.showYearPicker,f=a.props,g=f.nextMonthButtonLabel,b=g===void 0?t.defaultProps.nextMonthButtonLabel:g,w=f.nextYearButtonLabel,S=w===void 0?t.defaultProps.nextYearButtonLabel:w,j=a.props,N=j.nextMonthAriaLabel,I=N===void 0?typeof b=="string"?b:"Next Month":N,M=j.nextYearAriaLabel,B=M===void 0?typeof S=="string"?S:"Next Year":M;return Je.createElement("button",{type:"button",className:o.join(" "),onClick:l,onKeyDown:a.props.handleOnKeyDown,"aria-label":d?B:I},Je.createElement("span",{className:c.join(" ")},d?S:b))}}},a.renderCurrentMonth=function(r){r===void 0&&(r=a.state.date);var i=["react-datepicker__current-month"];return a.props.showYearDropdown&&i.push("react-datepicker__current-month--hasYearDropdown"),a.props.showMonthDropdown&&i.push("react-datepicker__current-month--hasMonthDropdown"),a.props.showMonthYearDropdown&&i.push("react-datepicker__current-month--hasMonthYearDropdown"),Je.createElement("h2",{className:i.join(" ")},zr(r,a.props.dateFormat,a.props.locale))},a.renderYearDropdown=function(r){if(r===void 0&&(r=!1),!(!a.props.showYearDropdown||r))return Je.createElement(Jje,Ya({},t.defaultProps,a.props,{date:a.state.date,onChange:a.changeYear,year:va(a.state.date)}))},a.renderMonthDropdown=function(r){if(r===void 0&&(r=!1),!(!a.props.showMonthDropdown||r))return Je.createElement(Uje,Ya({},t.defaultProps,a.props,{month:co(a.state.date),onChange:a.changeMonth}))},a.renderMonthYearDropdown=function(r){if(r===void 0&&(r=!1),!(!a.props.showMonthYearDropdown||r))return Je.createElement(Gje,Ya({},t.defaultProps,a.props,{date:a.state.date,onChange:a.changeMonthYear}))},a.handleTodayButtonClick=function(r){a.props.onSelect(PT(),r),a.props.setPreSelection&&a.props.setPreSelection(PT())},a.renderTodayButton=function(){if(!(!a.props.todayButton||a.props.showTimeSelectOnly))return Je.createElement("div",{className:"react-datepicker__today-button",onClick:a.handleTodayButtonClick},a.props.todayButton)},a.renderDefaultHeader=function(r){var i=r.monthDate,o=r.i;return Je.createElement("div",{className:"react-datepicker__header ".concat(a.props.showTimeSelect?"react-datepicker__header--has-time-select":"")},a.renderCurrentMonth(i),Je.createElement("div",{className:"react-datepicker__header__dropdown react-datepicker__header__dropdown--".concat(a.props.dropdownMode),onFocus:a.handleDropdownFocus},a.renderMonthDropdown(o!==0),a.renderMonthYearDropdown(o!==0),a.renderYearDropdown(o!==0)),Je.createElement("div",{className:"react-datepicker__day-names"},a.header(i)))},a.renderCustomHeader=function(r){var i,o,c=r.monthDate,l=r.i;if(a.props.showTimeSelect&&!a.state.monthContainer||a.props.showTimeSelectOnly)return null;var d=qT(a.state.date,a.props),f=UT(a.state.date,a.props),g=WT(a.state.date,a.props),b=YT(a.state.date,a.props),w=!a.props.showMonthYearPicker&&!a.props.showQuarterYearPicker&&!a.props.showYearPicker;return Je.createElement("div",{className:"react-datepicker__header react-datepicker__header--custom",onFocus:a.props.onDropdownFocus},(o=(i=a.props).renderCustomHeader)===null||o===void 0?void 0:o.call(i,Ya(Ya({},a.state),{customHeaderCount:l,monthDate:c,changeMonth:a.changeMonth,changeYear:a.changeYear,decreaseMonth:a.decreaseMonth,increaseMonth:a.increaseMonth,decreaseYear:a.decreaseYear,increaseYear:a.increaseYear,prevMonthButtonDisabled:d,nextMonthButtonDisabled:f,prevYearButtonDisabled:g,nextYearButtonDisabled:b})),w&&Je.createElement("div",{className:"react-datepicker__day-names"},a.header(c)))},a.renderYearHeader=function(r){var i=r.monthDate,o=a.props,c=o.showYearPicker,l=o.yearItemNumber,d=l===void 0?t.defaultProps.yearItemNumber:l,f=pd(i,d),g=f.startPeriod,b=f.endPeriod;return Je.createElement("div",{className:"react-datepicker__header react-datepicker-year-header"},c?"".concat(g," - ").concat(b):va(i))},a.renderHeader=function(r){var i=r.monthDate,o=r.i,c=o===void 0?0:o,l={monthDate:i,i:c};switch(!0){case a.props.renderCustomHeader!==void 0:return a.renderCustomHeader(l);case(a.props.showMonthYearPicker||a.props.showQuarterYearPicker||a.props.showYearPicker):return a.renderYearHeader(l);default:return a.renderDefaultHeader(l)}},a.renderMonths=function(){var r,i;if(!(a.props.showTimeSelectOnly||a.props.showYearPicker)){for(var o=[],c=(r=a.props.monthsShown)!==null&&r!==void 0?r:t.defaultProps.monthsShown,l=a.props.showPreviousMonths?c-1:0,d=a.props.showMonthYearPicker||a.props.showQuarterYearPicker?du(a.state.date,l):Ih(a.state.date,l),f=(i=a.props.monthSelectedIn)!==null&&i!==void 0?i:l,g=0;g<c;++g){var b=g-f+l,w=a.props.showMonthYearPicker||a.props.showQuarterYearPicker?du(d,b):Gc(d,b),S="month-".concat(g),j=g<c-1,N=g>0;o.push(Je.createElement("div",{key:S,ref:function(I){a.monthContainer=I??void 0},className:"react-datepicker__month-container"},a.renderHeader({monthDate:w,i:g}),Je.createElement(Vje,Ya({},t.defaultProps,a.props,{containerRef:a.containerRef,ariaLabelPrefix:a.props.monthAriaLabelPrefix,day:w,onDayClick:a.handleDayClick,handleOnKeyDown:a.props.handleOnDayKeyDown,handleOnMonthKeyDown:a.props.handleOnKeyDown,onDayMouseEnter:a.handleDayMouseEnter,onMouseLeave:a.handleMonthMouseLeave,orderInDisplay:g,selectingDate:a.state.selectingDate,monthShowsDuplicateDaysEnd:j,monthShowsDuplicateDaysStart:N}))))}return o}},a.renderYears=function(){if(!a.props.showTimeSelectOnly&&a.props.showYearPicker)return Je.createElement("div",{className:"react-datepicker__year--container"},a.renderHeader({monthDate:a.state.date}),Je.createElement(Xje,Ya({},t.defaultProps,a.props,{selectingDate:a.state.selectingDate,date:a.state.date,onDayClick:a.handleDayClick,clearSelectingDate:a.clearSelectingDate,onYearMouseEnter:a.handleYearMouseEnter,onYearMouseLeave:a.handleYearMouseLeave})))},a.renderTimeSection=function(){if(a.props.showTimeSelect&&(a.state.monthContainer||a.props.showTimeSelectOnly))return Je.createElement(Qje,Ya({},t.defaultProps,a.props,{onChange:a.props.onTimeChange,format:a.props.timeFormat,intervals:a.props.timeIntervals,monthRef:a.state.monthContainer}))},a.renderInputTimeSection=function(){var r=a.props.selected?new Date(a.props.selected):void 0,i=r&&uy(r)&&!!a.props.selected,o=i?"".concat(QT(r.getHours()),":").concat(QT(r.getMinutes())):"";if(a.props.showTimeInput)return Je.createElement($je,Ya({},t.defaultProps,a.props,{date:r,timeString:o,onChange:a.props.onTimeChange}))},a.renderAriaLiveRegion=function(){var r,i=pd(a.state.date,(r=a.props.yearItemNumber)!==null&&r!==void 0?r:t.defaultProps.yearItemNumber),o=i.startPeriod,c=i.endPeriod,l;return a.props.showYearPicker?l="".concat(o," - ").concat(c):a.props.showMonthYearPicker||a.props.showQuarterYearPicker?l=va(a.state.date):l="".concat(f4(co(a.state.date),a.props.locale)," ").concat(va(a.state.date)),Je.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},a.state.isRenderAriaLiveMessage&&l)},a.renderChildren=function(){if(a.props.children)return Je.createElement("div",{className:"react-datepicker__children-container"},a.props.children)},a.containerRef=v.createRef(),a.state={date:a.getDateInView(),selectingDate:void 0,monthContainer:void 0,isRenderAriaLiveMessage:!1},a}return Object.defineProperty(t,"defaultProps",{get:function(){return{monthsShown:1,forceShowMonthNavigation:!1,timeCaption:"Time",previousYearButtonLabel:"Previous Year",nextYearButtonLabel:"Next Year",previousMonthButtonLabel:"Previous Month",nextMonthButtonLabel:"Next Month",yearItemNumber:m0}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){var n=this;this.props.showTimeSelect&&(this.assignMonthContainer=function(){n.setState({monthContainer:n.monthContainer})}())},t.prototype.componentDidUpdate=function(n){var a=this;if(this.props.preSelection&&(!Wa(this.props.preSelection,n.preSelection)||this.props.monthSelectedIn!==n.monthSelectedIn)){var r=!_o(this.state.date,this.props.preSelection);this.setState({date:this.props.preSelection},function(){return r&&a.handleCustomMonthChange(a.state.date)})}else this.props.openToDate&&!Wa(this.props.openToDate,n.openToDate)&&this.setState({date:this.props.openToDate})},t.prototype.render=function(){var n=this.props.container||gje;return Je.createElement(ly,{onClickOutside:this.handleClickOutside,style:{display:"contents"},ignoreClass:this.props.outsideClickIgnoreClass},Je.createElement("div",{style:{display:"contents"},ref:this.containerRef},Je.createElement(n,{className:Xi("react-datepicker",this.props.className,{"react-datepicker--time-only":this.props.showTimeSelectOnly}),showTime:this.props.showTimeSelect||this.props.showTimeInput,showTimeSelectOnly:this.props.showTimeSelectOnly},this.renderAriaLiveRegion(),this.renderPreviousButton(),this.renderNextButton(),this.renderMonths(),this.renderYears(),this.renderTodayButton(),this.renderTimeSection(),this.renderInputTimeSection(),this.renderChildren())))},t}(v.Component),sNe=function(e){var t=e.icon,n=e.className,a=n===void 0?"":n,r=e.onClick,i="react-datepicker__calendar-icon";if(typeof t=="string")return Je.createElement("i",{className:"".concat(i," ").concat(t," ").concat(a),"aria-hidden":"true",onClick:r});if(Je.isValidElement(t)){var o=t;return Je.cloneElement(o,{className:"".concat(o.props.className||""," ").concat(i," ").concat(a),onClick:function(c){typeof o.props.onClick=="function"&&o.props.onClick(c),typeof r=="function"&&r(c)}})}return Je.createElement("svg",{className:"".concat(i," ").concat(a),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",onClick:r},Je.createElement("path",{d:"M96 32V64H48C21.5 64 0 85.5 0 112v48H448V112c0-26.5-21.5-48-48-48H352V32c0-17.7-14.3-32-32-32s-32 14.3-32 32V64H160V32c0-17.7-14.3-32-32-32S96 14.3 96 32zM448 192H0V464c0 26.5 21.5 48 48 48H400c26.5 0 48-21.5 48-48V192z"}))},PL=function(e){zi(t,e);function t(n){var a=e.call(this,n)||this;return a.portalRoot=null,a.el=document.createElement("div"),a}return t.prototype.componentDidMount=function(){this.portalRoot=(this.props.portalHost||document).getElementById(this.props.portalId),this.portalRoot||(this.portalRoot=document.createElement("div"),this.portalRoot.setAttribute("id",this.props.portalId),(this.props.portalHost||document.body).appendChild(this.portalRoot)),this.portalRoot.appendChild(this.el)},t.prototype.componentWillUnmount=function(){this.portalRoot&&this.portalRoot.removeChild(this.el)},t.prototype.render=function(){return fx.createPortal(this.props.children,this.el)},t}(v.Component),aNe="[tabindex], a, button, input, select, textarea",rNe=function(e){return(e instanceof HTMLAnchorElement||!e.disabled)&&e.tabIndex!==-1},FL=function(e){zi(t,e);function t(n){var a=e.call(this,n)||this;return a.getTabChildren=function(){var r;return Array.prototype.slice.call((r=a.tabLoopRef.current)===null||r===void 0?void 0:r.querySelectorAll(aNe),1,-1).filter(rNe)},a.handleFocusStart=function(){var r=a.getTabChildren();r&&r.length>1&&r[r.length-1].focus()},a.handleFocusEnd=function(){var r=a.getTabChildren();r&&r.length>1&&r[0].focus()},a.tabLoopRef=v.createRef(),a}return t.prototype.render=function(){var n;return((n=this.props.enableTabLoop)!==null&&n!==void 0?n:t.defaultProps.enableTabLoop)?Je.createElement("div",{className:"react-datepicker__tab-loop",ref:this.tabLoopRef},Je.createElement("div",{className:"react-datepicker__tab-loop__start",tabIndex:0,onFocus:this.handleFocusStart}),this.props.children,Je.createElement("div",{className:"react-datepicker__tab-loop__end",tabIndex:0,onFocus:this.handleFocusEnd})):this.props.children},t.defaultProps={enableTabLoop:!0},t}(v.Component);function iNe(e){var t=function(n){var a,r=typeof n.hidePopper=="boolean"?n.hidePopper:!0,i=v.useRef(null),o=pje(Ya({open:!r,whileElementsMounted:YSe,placement:n.popperPlacement,middleware:xl([nje({padding:15}),tje(10),sje({element:i})],(a=n.popperModifiers)!==null&&a!==void 0?a:[],!0)},n.popperProps)),c=Ya(Ya({},n),{hidePopper:r,popperProps:Ya(Ya({},o),{arrowRef:i})});return Je.createElement(e,Ya({},c))};return t}var oNe=function(e){zi(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return Object.defineProperty(t,"defaultProps",{get:function(){return{hidePopper:!0}},enumerable:!1,configurable:!0}),t.prototype.render=function(){var n=this.props,a=n.className,r=n.wrapperClassName,i=n.hidePopper,o=i===void 0?t.defaultProps.hidePopper:i,c=n.popperComponent,l=n.targetComponent,d=n.enableTabLoop,f=n.popperOnKeyDown,g=n.portalId,b=n.portalHost,w=n.popperProps,S=n.showArrow,j=void 0;if(!o){var N=Xi("react-datepicker-popper",a);j=Je.createElement(FL,{enableTabLoop:d},Je.createElement("div",{ref:w.refs.setFloating,style:w.floatingStyles,className:N,"data-placement":w.placement,onKeyDown:f},c,S&&Je.createElement(cje,{ref:w.arrowRef,context:w.context,fill:"currentColor",strokeWidth:1,height:8,width:16,style:{transform:"translateY(-1px)"},className:"react-datepicker__triangle"})))}this.props.popperContainer&&(j=v.createElement(this.props.popperContainer,{},j)),g&&!o&&(j=Je.createElement(PL,{portalId:g,portalHost:b},j));var I=Xi("react-datepicker-wrapper",r);return Je.createElement(Je.Fragment,null,Je.createElement("div",{ref:w.refs.setReference,className:I},l),j)},t}(v.Component),cNe=iNe(oNe),t7="react-datepicker-ignore-onclickoutside";function lNe(e,t){return e&&t?co(e)!==co(t)||va(e)!==va(t):e!==t}var $C="Date input not valid.",HL=function(e){zi(t,e);function t(n){var a=e.call(this,n)||this;return a.calendar=null,a.input=null,a.getPreSelection=function(){return a.props.openToDate?a.props.openToDate:a.props.selectsEnd&&a.props.startDate?a.props.startDate:a.props.selectsStart&&a.props.endDate?a.props.endDate:sr()},a.modifyHolidays=function(){var r;return(r=a.props.holidays)===null||r===void 0?void 0:r.reduce(function(i,o){var c=new Date(o.date);return uy(c)?xl(xl([],i,!0),[Ya(Ya({},o),{date:c})],!1):i},[])},a.calcInitialState=function(){var r,i=a.getPreSelection(),o=BL(a.props),c=LL(a.props),l=o&&Hh(i,Uv(o))?o:c&&Ed(i,FT(c))?c:i;return{open:a.props.startOpen||!1,preventFocus:!1,inputValue:null,preSelection:(r=a.props.selectsRange?a.props.startDate:a.props.selected)!==null&&r!==void 0?r:l,highlightDates:GT(a.props.highlightDates),focused:!1,shouldFocusDayInline:!1,isRenderAriaLiveMessage:!1,wasHidden:!1}},a.resetHiddenStatus=function(){a.setState(Ya(Ya({},a.state),{wasHidden:!1}))},a.setHiddenStatus=function(){a.setState(Ya(Ya({},a.state),{wasHidden:!0}))},a.setHiddenStateOnVisibilityHidden=function(){document.visibilityState==="hidden"&&a.setHiddenStatus()},a.clearPreventFocusTimeout=function(){a.preventFocusTimeout&&clearTimeout(a.preventFocusTimeout)},a.setFocus=function(){var r,i;(i=(r=a.input)===null||r===void 0?void 0:r.focus)===null||i===void 0||i.call(r,{preventScroll:!0})},a.setBlur=function(){var r,i;(i=(r=a.input)===null||r===void 0?void 0:r.blur)===null||i===void 0||i.call(r),a.cancelFocusInput()},a.deferBlur=function(){requestAnimationFrame(function(){a.setBlur()})},a.setOpen=function(r,i){i===void 0&&(i=!1),a.setState({open:r,preSelection:r&&a.state.open?a.state.preSelection:a.calcInitialState().preSelection,lastPreSelectChange:PC},function(){r||a.setState(function(o){return{focused:i?o.focused:!1}},function(){!i&&a.deferBlur(),a.setState({inputValue:null})})})},a.inputOk=function(){return hu(a.state.preSelection)},a.isCalendarOpen=function(){return a.props.open===void 0?a.state.open&&!a.props.disabled&&!a.props.readOnly:a.props.open},a.handleFocus=function(r){var i,o,c=a.state.wasHidden,l=c?a.state.open:!0;c&&a.resetHiddenStatus(),a.state.preventFocus||((o=(i=a.props).onFocus)===null||o===void 0||o.call(i,r),l&&!a.props.preventOpenOnFocus&&!a.props.readOnly&&a.setOpen(!0)),a.setState({focused:!0})},a.sendFocusBackToInput=function(){a.preventFocusTimeout&&a.clearPreventFocusTimeout(),a.setState({preventFocus:!0},function(){a.preventFocusTimeout=setTimeout(function(){a.setFocus(),a.setState({preventFocus:!1})})})},a.cancelFocusInput=function(){clearTimeout(a.inputFocusTimeout),a.inputFocusTimeout=void 0},a.deferFocusInput=function(){a.cancelFocusInput(),a.inputFocusTimeout=setTimeout(function(){return a.setFocus()},1)},a.handleDropdownFocus=function(){a.cancelFocusInput()},a.handleBlur=function(r){var i,o;(!a.state.open||a.props.withPortal||a.props.showTimeInput)&&((o=(i=a.props).onBlur)===null||o===void 0||o.call(i,r)),a.state.open&&a.props.open===!1&&a.setOpen(!1),a.setState({focused:!1})},a.handleCalendarClickOutside=function(r){var i,o;a.props.inline||a.setOpen(!1),(o=(i=a.props).onClickOutside)===null||o===void 0||o.call(i,r),a.props.withPortal&&r.preventDefault()},a.handleChange=function(){for(var r,i,o,c,l,d=[],f=0;f<arguments.length;f++)d[f]=arguments[f];var g=d[0];if(!(a.props.onChangeRaw&&(a.props.onChangeRaw.apply(a,d),!g||typeof g.isDefaultPrevented!="function"||g.isDefaultPrevented()))){a.setState({inputValue:(g==null?void 0:g.target)instanceof HTMLInputElement?g.target.value:null,lastPreSelectChange:uNe});var b=a.props,w=b.selectsRange,S=b.startDate,j=b.endDate,N=(r=a.props.dateFormat)!==null&&r!==void 0?r:t.defaultProps.dateFormat,I=(i=a.props.strictParsing)!==null&&i!==void 0?i:t.defaultProps.strictParsing,M=(g==null?void 0:g.target)instanceof HTMLInputElement?g.target.value:"";if(w){var B=M.split(N.includes("-")?ML:"-",2).map(function(ne){return ne.trim()}),P=B[0],O=B[1],R=OC(P??"",N,a.props.locale,I),$=OC(O??"",N,a.props.locale,I),U=(S==null?void 0:S.getTime())!==(R==null?void 0:R.getTime()),F=(j==null?void 0:j.getTime())!==($==null?void 0:$.getTime());if(!U&&!F||R&&wc(R,a.props)||$&&wc($,a.props))return;(c=(o=a.props).onChange)===null||c===void 0||c.call(o,[R,$],g)}else{var H=OC(M,N,a.props.locale,I,(l=a.props.selected)!==null&&l!==void 0?l:void 0);(H||!M)&&a.setSelected(H,g,!0)}}},a.handleSelect=function(r,i,o){if(!a.props.readOnly){if(a.props.shouldCloseOnSelect&&!a.props.showTimeSelect&&a.sendFocusBackToInput(),a.props.onChangeRaw&&a.props.onChangeRaw(i),a.setSelected(r,i,!1,o),a.props.showDateSelect&&a.setState({isRenderAriaLiveMessage:!0}),!a.props.shouldCloseOnSelect||a.props.showTimeSelect)a.setPreSelection(r);else if(!a.props.inline){a.props.selectsRange||a.setOpen(!1);var c=a.props,l=c.startDate,d=c.endDate;l&&!d&&(a.props.swapRange||!ZT(r,l))&&a.setOpen(!1)}}},a.setSelected=function(r,i,o,c){var l,d,f=r;if(a.props.showYearPicker){if(f!==null&&Wv(va(f),a.props))return}else if(a.props.showMonthYearPicker){if(f!==null&&OL(f,a.props))return}else if(f!==null&&wc(f,a.props))return;var g=a.props,b=g.onChange,w=g.selectsRange,S=g.startDate,j=g.endDate,N=g.selectsMultiple,I=g.selectedDates,M=g.minTime,B=g.swapRange;if(!_h(a.props.selected,f)||a.props.allowSameDay||w||N)if(f!==null&&(a.props.selected&&(!o||!a.props.showTimeSelect&&!a.props.showTimeSelectOnly&&!a.props.showTimeInput)&&(f=BC(f,{hour:fu(a.props.selected),minute:mu(a.props.selected),second:bd(a.props.selected)})),!o&&(a.props.showTimeSelect||a.props.showTimeSelectOnly)&&M&&(f=BC(f,{hour:M.getHours(),minute:M.getMinutes(),second:M.getSeconds()})),a.props.inline||a.setState({preSelection:f}),a.props.focusSelectedMonth||a.setState({monthSelectedIn:c})),w){var P=!S&&!j,O=S&&!j,R=S&&j;P?b==null||b([f,null],i):O&&(f===null?b==null||b([null,null],i):ZT(f,S)?B?b==null||b([f,S],i):b==null||b([f,null],i):b==null||b([S,f],i)),R&&(b==null||b([f,null],i))}else if(N){if(f!==null)if(!(I!=null&&I.length))b==null||b([f],i);else{var $=I.some(function(F){return Wa(F,f)});if($){var U=I.filter(function(F){return!Wa(F,f)});b==null||b(U,i)}else b==null||b(xl(xl([],I,!0),[f],!1),i)}}else b==null||b(f,i);o||((d=(l=a.props).onSelect)===null||d===void 0||d.call(l,f,i),a.setState({inputValue:null}))},a.setPreSelection=function(r){if(!a.props.readOnly){var i=hu(a.props.minDate),o=hu(a.props.maxDate),c=!0;if(r){var l=Uv(r);if(i&&o)c=$1(r,a.props.minDate,a.props.maxDate);else if(i){var d=Uv(a.props.minDate);c=Ed(r,d)||_h(l,d)}else if(o){var f=FT(a.props.maxDate);c=Hh(r,f)||_h(l,f)}}c&&a.setState({preSelection:r})}},a.toggleCalendar=function(){a.setOpen(!a.state.open)},a.handleTimeChange=function(r){var i,o;if(!(a.props.selectsRange||a.props.selectsMultiple)){var c=a.props.selected?a.props.selected:a.getPreSelection(),l=a.props.selected?r:BC(c,{hour:fu(r),minute:mu(r)});a.setState({preSelection:l}),(o=(i=a.props).onChange)===null||o===void 0||o.call(i,l),a.props.shouldCloseOnSelect&&!a.props.showTimeInput&&(a.sendFocusBackToInput(),a.setOpen(!1)),a.props.showTimeInput&&a.setOpen(!0),(a.props.showTimeSelectOnly||a.props.showTimeSelect)&&a.setState({isRenderAriaLiveMessage:!0}),a.setState({inputValue:null})}},a.onInputClick=function(){var r,i;!a.props.disabled&&!a.props.readOnly&&a.setOpen(!0),(i=(r=a.props).onInputClick)===null||i===void 0||i.call(r)},a.onInputKeyDown=function(r){var i,o,c,l,d,f;(o=(i=a.props).onKeyDown)===null||o===void 0||o.call(i,r);var g=r.key;if(!a.state.open&&!a.props.inline&&!a.props.preventOpenOnFocus){(g===ts.ArrowDown||g===ts.ArrowUp||g===ts.Enter)&&((c=a.onInputClick)===null||c===void 0||c.call(a));return}if(a.state.open){if(g===ts.ArrowDown||g===ts.ArrowUp){r.preventDefault();var b=a.props.showTimeSelectOnly?".react-datepicker__time-list-item[tabindex='0']":a.props.showWeekPicker&&a.props.showWeekNumbers?'.react-datepicker__week-number[tabindex="0"]':a.props.showFullMonthYearPicker||a.props.showMonthYearPicker?'.react-datepicker__month-text[tabindex="0"]':'.react-datepicker__day[tabindex="0"]',w=((l=a.calendar)===null||l===void 0?void 0:l.containerRef.current)instanceof Element&&a.calendar.containerRef.current.querySelector(b);w instanceof HTMLElement&&w.focus({preventScroll:!0});return}var S=sr(a.state.preSelection);g===ts.Enter?(r.preventDefault(),r.target.blur(),a.inputOk()&&a.state.lastPreSelectChange===PC?(a.handleSelect(S,r),!a.props.shouldCloseOnSelect&&a.setPreSelection(S)):a.setOpen(!1)):g===ts.Escape?(r.preventDefault(),r.target.blur(),a.sendFocusBackToInput(),a.setOpen(!1)):g===ts.Tab&&a.setOpen(!1),a.inputOk()||(f=(d=a.props).onInputError)===null||f===void 0||f.call(d,{code:1,msg:$C})}},a.onPortalKeyDown=function(r){var i=r.key;i===ts.Escape&&(r.preventDefault(),a.setState({preventFocus:!0},function(){a.setOpen(!1),setTimeout(function(){a.setFocus(),a.setState({preventFocus:!1})})}))},a.onDayKeyDown=function(r){var i,o,c,l,d,f,g=a.props,b=g.minDate,w=g.maxDate,S=g.disabledKeyboardNavigation,j=g.showWeekPicker,N=g.shouldCloseOnSelect,I=g.locale,M=g.calendarStartDay,B=g.adjustDateOnChange,P=g.inline;if((o=(i=a.props).onKeyDown)===null||o===void 0||o.call(i,r),!S){var O=r.key,R=r.shiftKey,$=sr(a.state.preSelection),U=function(V,q){var T=q;switch(V){case ts.ArrowRight:T=j?qx(q,1):Vc(q,1);break;case ts.ArrowLeft:T=j?ET(q):RCe(q);break;case ts.ArrowUp:T=ET(q);break;case ts.ArrowDown:T=qx(q,1);break;case ts.PageUp:T=R?Cm(q,1):Ih(q,1);break;case ts.PageDown:T=R?du(q,1):Gc(q,1);break;case ts.Home:T=yd(q,I,M);break;case ts.End:T=wje(q);break}return T},F=function(V,q){for(var T=40,J=V,Z=!1,A=0,Y=U(V,q);!Z;){if(A>=T){Y=q;break}b&&Y<b&&(J=ts.ArrowRight,Y=wc(b,a.props)?U(J,Y):b),w&&Y>w&&(J=ts.ArrowLeft,Y=wc(w,a.props)?U(J,Y):w),wc(Y,a.props)?((J===ts.PageUp||J===ts.Home)&&(J=ts.ArrowRight),(J===ts.PageDown||J===ts.End)&&(J=ts.ArrowLeft),Y=U(J,Y)):Z=!0,A++}return Y};if(O===ts.Enter){r.preventDefault(),a.handleSelect($,r),!N&&a.setPreSelection($);return}else if(O===ts.Escape){r.preventDefault(),a.setOpen(!1),a.inputOk()||(l=(c=a.props).onInputError)===null||l===void 0||l.call(c,{code:1,msg:$C});return}var H=null;switch(O){case ts.ArrowLeft:case ts.ArrowRight:case ts.ArrowUp:case ts.ArrowDown:case ts.PageUp:case ts.PageDown:case ts.Home:case ts.End:H=F(O,$);break}if(!H){(f=(d=a.props).onInputError)===null||f===void 0||f.call(d,{code:1,msg:$C});return}if(r.preventDefault(),a.setState({lastPreSelectChange:PC}),B&&a.setSelected(H),a.setPreSelection(H),P){var ne=co($),X=co(H),te=va($),se=va(H);ne!==X||te!==se?a.setState({shouldFocusDayInline:!0}):a.setState({shouldFocusDayInline:!1})}}},a.onPopperKeyDown=function(r){var i=r.key;i===ts.Escape&&(r.preventDefault(),a.sendFocusBackToInput(),a.setOpen(!1))},a.onClearClick=function(r){r&&r.preventDefault&&r.preventDefault(),a.sendFocusBackToInput();var i=a.props,o=i.selectsRange,c=i.onChange;o?c==null||c([null,null],r):c==null||c(null,r),a.setState({inputValue:null})},a.clear=function(){a.onClearClick()},a.onScroll=function(r){typeof a.props.closeOnScroll=="boolean"&&a.props.closeOnScroll?(r.target===document||r.target===document.documentElement||r.target===document.body)&&a.setOpen(!1):typeof a.props.closeOnScroll=="function"&&a.props.closeOnScroll(r)&&a.setOpen(!1)},a.renderCalendar=function(){var r,i;return!a.props.inline&&!a.isCalendarOpen()?null:Je.createElement(nNe,Ya({showMonthYearDropdown:void 0,ref:function(o){a.calendar=o}},a.props,a.state,{setOpen:a.setOpen,dateFormat:(r=a.props.dateFormatCalendar)!==null&&r!==void 0?r:t.defaultProps.dateFormatCalendar,onSelect:a.handleSelect,onClickOutside:a.handleCalendarClickOutside,holidays:Rje(a.modifyHolidays()),outsideClickIgnoreClass:t7,onDropdownFocus:a.handleDropdownFocus,onTimeChange:a.handleTimeChange,className:a.props.calendarClassName,container:a.props.calendarContainer,handleOnKeyDown:a.props.onKeyDown,handleOnDayKeyDown:a.onDayKeyDown,setPreSelection:a.setPreSelection,dropdownMode:(i=a.props.dropdownMode)!==null&&i!==void 0?i:t.defaultProps.dropdownMode}),a.props.children)},a.renderAriaLiveRegion=function(){var r=a.props,i=r.dateFormat,o=i===void 0?t.defaultProps.dateFormat:i,c=r.locale,l=a.props.showTimeInput||a.props.showTimeSelect,d=l?"PPPPp":"PPPP",f;return a.props.selectsRange?f="Selected start date: ".concat(xc(a.props.startDate,{dateFormat:d,locale:c}),". ").concat(a.props.endDate?"End date: "+xc(a.props.endDate,{dateFormat:d,locale:c}):""):a.props.showTimeSelectOnly?f="Selected time: ".concat(xc(a.props.selected,{dateFormat:o,locale:c})):a.props.showYearPicker?f="Selected year: ".concat(xc(a.props.selected,{dateFormat:"yyyy",locale:c})):a.props.showMonthYearPicker?f="Selected month: ".concat(xc(a.props.selected,{dateFormat:"MMMM yyyy",locale:c})):a.props.showQuarterYearPicker?f="Selected quarter: ".concat(xc(a.props.selected,{dateFormat:"yyyy, QQQ",locale:c})):f="Selected date: ".concat(xc(a.props.selected,{dateFormat:d,locale:c})),Je.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},f)},a.renderDateInput=function(){var r,i,o,c=Xi(a.props.className,(r={},r[t7]=a.state.open,r)),l=a.props.customInput||Je.createElement("input",{type:"text"}),d=a.props.customInputRef||"ref",f=a.props,g=f.dateFormat,b=g===void 0?t.defaultProps.dateFormat:g,w=f.locale,S=typeof a.props.value=="string"?a.props.value:typeof a.state.inputValue=="string"?a.state.inputValue:a.props.selectsRange?vje(a.props.startDate,a.props.endDate,{dateFormat:b,locale:w}):a.props.selectsMultiple?xje((o=a.props.selectedDates)!==null&&o!==void 0?o:[],{dateFormat:b,locale:w}):xc(a.props.selected,{dateFormat:b,locale:w});return v.cloneElement(l,(i={},i[d]=function(j){a.input=j},i.value=S,i.onBlur=a.handleBlur,i.onChange=a.handleChange,i.onClick=a.onInputClick,i.onFocus=a.handleFocus,i.onKeyDown=a.onInputKeyDown,i.id=a.props.id,i.name=a.props.name,i.form=a.props.form,i.autoFocus=a.props.autoFocus,i.placeholder=a.props.placeholderText,i.disabled=a.props.disabled,i.autoComplete=a.props.autoComplete,i.className=Xi(l.props.className,c),i.title=a.props.title,i.readOnly=a.props.readOnly,i.required=a.props.required,i.tabIndex=a.props.tabIndex,i["aria-describedby"]=a.props.ariaDescribedBy,i["aria-invalid"]=a.props.ariaInvalid,i["aria-labelledby"]=a.props.ariaLabelledBy,i["aria-required"]=a.props.ariaRequired,i))},a.renderClearButton=function(){var r=a.props,i=r.isClearable,o=r.disabled,c=r.selected,l=r.startDate,d=r.endDate,f=r.clearButtonTitle,g=r.clearButtonClassName,b=g===void 0?"":g,w=r.ariaLabelClose,S=w===void 0?"Close":w,j=r.selectedDates,N=r.readOnly;return i&&!N&&(c!=null||l!=null||d!=null||j!=null&&j.length)?Je.createElement("button",{type:"button",className:Xi("react-datepicker__close-icon",b,{"react-datepicker__close-icon--disabled":o}),disabled:o,"aria-label":S,onClick:a.onClearClick,title:f,tabIndex:-1}):null},a.state=a.calcInitialState(),a.preventFocusTimeout=void 0,a}return Object.defineProperty(t,"defaultProps",{get:function(){return{allowSameDay:!1,dateFormat:"MM/dd/yyyy",dateFormatCalendar:"LLLL yyyy",disabled:!1,disabledKeyboardNavigation:!1,dropdownMode:"scroll",preventOpenOnFocus:!1,monthsShown:1,readOnly:!1,withPortal:!1,selectsDisabledDaysInRange:!1,shouldCloseOnSelect:!0,showTimeSelect:!1,showTimeInput:!1,showPreviousMonths:!1,showMonthYearPicker:!1,showFullMonthYearPicker:!1,showTwoColumnMonthYearPicker:!1,showFourColumnMonthYearPicker:!1,showYearPicker:!1,showQuarterYearPicker:!1,showWeekPicker:!1,strictParsing:!1,swapRange:!1,timeIntervals:30,timeCaption:"Time",previousMonthAriaLabel:"Previous Month",previousMonthButtonLabel:"Previous Month",nextMonthAriaLabel:"Next Month",nextMonthButtonLabel:"Next Month",previousYearAriaLabel:"Previous Year",previousYearButtonLabel:"Previous Year",nextYearAriaLabel:"Next Year",nextYearButtonLabel:"Next Year",timeInputLabel:"Time",enableTabLoop:!0,yearItemNumber:m0,focusSelectedMonth:!1,showPopperArrow:!0,excludeScrollbar:!0,customTimeInput:null,calendarStartDay:void 0,toggleCalendarOnIconClick:!1,usePointerEvent:!1}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){window.addEventListener("scroll",this.onScroll,!0),document.addEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},t.prototype.componentDidUpdate=function(n,a){var r,i,o,c;n.inline&&lNe(n.selected,this.props.selected)&&this.setPreSelection(this.props.selected),this.state.monthSelectedIn!==void 0&&n.monthsShown!==this.props.monthsShown&&this.setState({monthSelectedIn:0}),n.highlightDates!==this.props.highlightDates&&this.setState({highlightDates:GT(this.props.highlightDates)}),!a.focused&&!_h(n.selected,this.props.selected)&&this.setState({inputValue:null}),a.open!==this.state.open&&(a.open===!1&&this.state.open===!0&&((i=(r=this.props).onCalendarOpen)===null||i===void 0||i.call(r)),a.open===!0&&this.state.open===!1&&((c=(o=this.props).onCalendarClose)===null||c===void 0||c.call(o)))},t.prototype.componentWillUnmount=function(){this.clearPreventFocusTimeout(),window.removeEventListener("scroll",this.onScroll,!0),document.removeEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},t.prototype.renderInputContainer=function(){var n=this.props,a=n.showIcon,r=n.icon,i=n.calendarIconClassname,o=n.calendarIconClassName,c=n.toggleCalendarOnIconClick,l=this.state.open;return i&&console.warn("calendarIconClassname props is deprecated. should use calendarIconClassName props."),Je.createElement("div",{className:"react-datepicker__input-container".concat(a?" react-datepicker__view-calendar-icon":"")},a&&Je.createElement(sNe,Ya({icon:r,className:Xi(o,!o&&i,l&&"react-datepicker-ignore-onclickoutside")},c?{onClick:this.toggleCalendar}:null)),this.state.isRenderAriaLiveMessage&&this.renderAriaLiveRegion(),this.renderDateInput(),this.renderClearButton())},t.prototype.render=function(){var n=this.renderCalendar();if(this.props.inline)return n;if(this.props.withPortal){var a=this.state.open?Je.createElement(FL,{enableTabLoop:this.props.enableTabLoop},Je.createElement("div",{className:"react-datepicker__portal",tabIndex:-1,onKeyDown:this.onPortalKeyDown},n)):null;return this.state.open&&this.props.portalId&&(a=Je.createElement(PL,Ya({portalId:this.props.portalId},this.props),a)),Je.createElement("div",null,this.renderInputContainer(),a)}return Je.createElement(cNe,Ya({},this.props,{className:this.props.popperClassName,hidePopper:!this.isCalendarOpen(),targetComponent:this.renderInputContainer(),popperComponent:n,popperOnKeyDown:this.onPopperKeyDown,showArrow:this.props.showPopperArrow}))},t}(v.Component),uNe="input",PC="navigate",Yv={exports:{}},dNe=Yv.exports,n7;function zL(){return n7||(n7=1,function(e,t){(function(n,a){e.exports=a()})(dNe,function(){var n=1e3,a=6e4,r=36e5,i="millisecond",o="second",c="minute",l="hour",d="day",f="week",g="month",b="quarter",w="year",S="date",j="Invalid Date",N=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,I=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,M={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(se){var V=["th","st","nd","rd"],q=se%100;return"["+se+(V[(q-20)%10]||V[q]||V[0])+"]"}},B=function(se,V,q){var T=String(se);return!T||T.length>=V?se:""+Array(V+1-T.length).join(q)+se},P={s:B,z:function(se){var V=-se.utcOffset(),q=Math.abs(V),T=Math.floor(q/60),J=q%60;return(V<=0?"+":"-")+B(T,2,"0")+":"+B(J,2,"0")},m:function se(V,q){if(V.date()<q.date())return-se(q,V);var T=12*(q.year()-V.year())+(q.month()-V.month()),J=V.clone().add(T,g),Z=q-J<0,A=V.clone().add(T+(Z?-1:1),g);return+(-(T+(q-J)/(Z?J-A:A-J))||0)},a:function(se){return se<0?Math.ceil(se)||0:Math.floor(se)},p:function(se){return{M:g,y:w,w:f,d,D:S,h:l,m:c,s:o,ms:i,Q:b}[se]||String(se||"").toLowerCase().replace(/s$/,"")},u:function(se){return se===void 0}},O="en",R={};R[O]=M;var $="$isDayjsObject",U=function(se){return se instanceof X||!(!se||!se[$])},F=function se(V,q,T){var J;if(!V)return O;if(typeof V=="string"){var Z=V.toLowerCase();R[Z]&&(J=Z),q&&(R[Z]=q,J=Z);var A=V.split("-");if(!J&&A.length>1)return se(A[0])}else{var Y=V.name;R[Y]=V,J=Y}return!T&&J&&(O=J),J||!T&&O},H=function(se,V){if(U(se))return se.clone();var q=typeof V=="object"?V:{};return q.date=se,q.args=arguments,new X(q)},ne=P;ne.l=F,ne.i=U,ne.w=function(se,V){return H(se,{locale:V.$L,utc:V.$u,x:V.$x,$offset:V.$offset})};var X=function(){function se(q){this.$L=F(q.locale,null,!0),this.parse(q),this.$x=this.$x||q.x||{},this[$]=!0}var V=se.prototype;return V.parse=function(q){this.$d=function(T){var J=T.date,Z=T.utc;if(J===null)return new Date(NaN);if(ne.u(J))return new Date;if(J instanceof Date)return new Date(J);if(typeof J=="string"&&!/Z$/i.test(J)){var A=J.match(N);if(A){var Y=A[2]-1||0,K=(A[7]||"0").substring(0,3);return Z?new Date(Date.UTC(A[1],Y,A[3]||1,A[4]||0,A[5]||0,A[6]||0,K)):new Date(A[1],Y,A[3]||1,A[4]||0,A[5]||0,A[6]||0,K)}}return new Date(J)}(q),this.init()},V.init=function(){var q=this.$d;this.$y=q.getFullYear(),this.$M=q.getMonth(),this.$D=q.getDate(),this.$W=q.getDay(),this.$H=q.getHours(),this.$m=q.getMinutes(),this.$s=q.getSeconds(),this.$ms=q.getMilliseconds()},V.$utils=function(){return ne},V.isValid=function(){return this.$d.toString()!==j},V.isSame=function(q,T){var J=H(q);return this.startOf(T)<=J&&J<=this.endOf(T)},V.isAfter=function(q,T){return H(q)<this.startOf(T)},V.isBefore=function(q,T){return this.endOf(T)<H(q)},V.$g=function(q,T,J){return ne.u(q)?this[T]:this.set(J,q)},V.unix=function(){return Math.floor(this.valueOf()/1e3)},V.valueOf=function(){return this.$d.getTime()},V.startOf=function(q,T){var J=this,Z=!!ne.u(T)||T,A=ne.p(q),Y=function(he,ge){var ye=ne.w(J.$u?Date.UTC(J.$y,ge,he):new Date(J.$y,ge,he),J);return Z?ye:ye.endOf(d)},K=function(he,ge){return ne.w(J.toDate()[he].apply(J.toDate("s"),(Z?[0,0,0,0]:[23,59,59,999]).slice(ge)),J)},G=this.$W,oe=this.$M,ee=this.$D,ae="set"+(this.$u?"UTC":"");switch(A){case w:return Z?Y(1,0):Y(31,11);case g:return Z?Y(1,oe):Y(0,oe+1);case f:var ie=this.$locale().weekStart||0,ue=(G<ie?G+7:G)-ie;return Y(Z?ee-ue:ee+(6-ue),oe);case d:case S:return K(ae+"Hours",0);case l:return K(ae+"Minutes",1);case c:return K(ae+"Seconds",2);case o:return K(ae+"Milliseconds",3);default:return this.clone()}},V.endOf=function(q){return this.startOf(q,!1)},V.$set=function(q,T){var J,Z=ne.p(q),A="set"+(this.$u?"UTC":""),Y=(J={},J[d]=A+"Date",J[S]=A+"Date",J[g]=A+"Month",J[w]=A+"FullYear",J[l]=A+"Hours",J[c]=A+"Minutes",J[o]=A+"Seconds",J[i]=A+"Milliseconds",J)[Z],K=Z===d?this.$D+(T-this.$W):T;if(Z===g||Z===w){var G=this.clone().set(S,1);G.$d[Y](K),G.init(),this.$d=G.set(S,Math.min(this.$D,G.daysInMonth())).$d}else Y&&this.$d[Y](K);return this.init(),this},V.set=function(q,T){return this.clone().$set(q,T)},V.get=function(q){return this[ne.p(q)]()},V.add=function(q,T){var J,Z=this;q=Number(q);var A=ne.p(T),Y=function(oe){var ee=H(Z);return ne.w(ee.date(ee.date()+Math.round(oe*q)),Z)};if(A===g)return this.set(g,this.$M+q);if(A===w)return this.set(w,this.$y+q);if(A===d)return Y(1);if(A===f)return Y(7);var K=(J={},J[c]=a,J[l]=r,J[o]=n,J)[A]||1,G=this.$d.getTime()+q*K;return ne.w(G,this)},V.subtract=function(q,T){return this.add(-1*q,T)},V.format=function(q){var T=this,J=this.$locale();if(!this.isValid())return J.invalidDate||j;var Z=q||"YYYY-MM-DDTHH:mm:ssZ",A=ne.z(this),Y=this.$H,K=this.$m,G=this.$M,oe=J.weekdays,ee=J.months,ae=J.meridiem,ie=function(ge,ye,je,Ie){return ge&&(ge[ye]||ge(T,Z))||je[ye].slice(0,Ie)},ue=function(ge){return ne.s(Y%12||12,ge,"0")},he=ae||function(ge,ye,je){var Ie=ge<12?"AM":"PM";return je?Ie.toLowerCase():Ie};return Z.replace(I,function(ge,ye){return ye||function(je){switch(je){case"YY":return String(T.$y).slice(-2);case"YYYY":return ne.s(T.$y,4,"0");case"M":return G+1;case"MM":return ne.s(G+1,2,"0");case"MMM":return ie(J.monthsShort,G,ee,3);case"MMMM":return ie(ee,G);case"D":return T.$D;case"DD":return ne.s(T.$D,2,"0");case"d":return String(T.$W);case"dd":return ie(J.weekdaysMin,T.$W,oe,2);case"ddd":return ie(J.weekdaysShort,T.$W,oe,3);case"dddd":return oe[T.$W];case"H":return String(Y);case"HH":return ne.s(Y,2,"0");case"h":return ue(1);case"hh":return ue(2);case"a":return he(Y,K,!0);case"A":return he(Y,K,!1);case"m":return String(K);case"mm":return ne.s(K,2,"0");case"s":return String(T.$s);case"ss":return ne.s(T.$s,2,"0");case"SSS":return ne.s(T.$ms,3,"0");case"Z":return A}return null}(ge)||A.replace(":","")})},V.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},V.diff=function(q,T,J){var Z,A=this,Y=ne.p(T),K=H(q),G=(K.utcOffset()-this.utcOffset())*a,oe=this-K,ee=function(){return ne.m(A,K)};switch(Y){case w:Z=ee()/12;break;case g:Z=ee();break;case b:Z=ee()/3;break;case f:Z=(oe-G)/6048e5;break;case d:Z=(oe-G)/864e5;break;case l:Z=oe/r;break;case c:Z=oe/a;break;case o:Z=oe/n;break;default:Z=oe}return J?Z:ne.a(Z)},V.daysInMonth=function(){return this.endOf(g).$D},V.$locale=function(){return R[this.$L]},V.locale=function(q,T){if(!q)return this.$L;var J=this.clone(),Z=F(q,T,!0);return Z&&(J.$L=Z),J},V.clone=function(){return ne.w(this.$d,this)},V.toDate=function(){return new Date(this.valueOf())},V.toJSON=function(){return this.isValid()?this.toISOString():null},V.toISOString=function(){return this.$d.toISOString()},V.toString=function(){return this.$d.toUTCString()},se}(),te=X.prototype;return H.prototype=te,[["$ms",i],["$s",o],["$m",c],["$H",l],["$W",d],["$M",g],["$y",w],["$D",S]].forEach(function(se){te[se[1]]=function(V){return this.$g(V,se[0],se[1])}}),H.extend=function(se,V){return se.$i||(se(V,X,H),se.$i=!0),H},H.locale=F,H.isDayjs=U,H.unix=function(se){return H(1e3*se)},H.en=R[O],H.Ls=R,H.p={},H})}(Yv)),Yv.exports}var hNe=zL();const Xn=Si(hNe);var Gv={exports:{}},fNe=Gv.exports,s7;function mNe(){return s7||(s7=1,function(e,t){(function(n,a){e.exports=a()})(fNe,function(){var n="minute",a=/[+-]\d\d(?::?\d\d)?/g,r=/([+-]|\d\d)/g;return function(i,o,c){var l=o.prototype;c.utc=function(j){var N={date:j,utc:!0,args:arguments};return new o(N)},l.utc=function(j){var N=c(this.toDate(),{locale:this.$L,utc:!0});return j?N.add(this.utcOffset(),n):N},l.local=function(){return c(this.toDate(),{locale:this.$L,utc:!1})};var d=l.parse;l.parse=function(j){j.utc&&(this.$u=!0),this.$utils().u(j.$offset)||(this.$offset=j.$offset),d.call(this,j)};var f=l.init;l.init=function(){if(this.$u){var j=this.$d;this.$y=j.getUTCFullYear(),this.$M=j.getUTCMonth(),this.$D=j.getUTCDate(),this.$W=j.getUTCDay(),this.$H=j.getUTCHours(),this.$m=j.getUTCMinutes(),this.$s=j.getUTCSeconds(),this.$ms=j.getUTCMilliseconds()}else f.call(this)};var g=l.utcOffset;l.utcOffset=function(j,N){var I=this.$utils().u;if(I(j))return this.$u?0:I(this.$offset)?g.call(this):this.$offset;if(typeof j=="string"&&(j=function(O){O===void 0&&(O="");var R=O.match(a);if(!R)return null;var $=(""+R[0]).match(r)||["-",0,0],U=$[0],F=60*+$[1]+ +$[2];return F===0?0:U==="+"?F:-F}(j),j===null))return this;var M=Math.abs(j)<=16?60*j:j,B=this;if(N)return B.$offset=M,B.$u=j===0,B;if(j!==0){var P=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(B=this.local().add(M+P,n)).$offset=M,B.$x.$localOffset=P}else B=this.utc();return B};var b=l.format;l.format=function(j){var N=j||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return b.call(this,N)},l.valueOf=function(){var j=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*j},l.isUTC=function(){return!!this.$u},l.toISOString=function(){return this.toDate().toISOString()},l.toString=function(){return this.toDate().toUTCString()};var w=l.toDate;l.toDate=function(j){return j==="s"&&this.$offset?c(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():w.call(this)};var S=l.diff;l.diff=function(j,N,I){if(j&&this.$u===j.$u)return S.call(this,j,N,I);var M=this.local(),B=c(j).local();return S.call(M,B,N,I)}}})}(Gv)),Gv.exports}var pNe=mNe();const g0=Si(pNe);var Qv={exports:{}},gNe=Qv.exports,a7;function _Ne(){return a7||(a7=1,function(e,t){(function(n,a){e.exports=a()})(gNe,function(){var n={year:0,month:1,day:2,hour:3,minute:4,second:5},a={};return function(r,i,o){var c,l=function(b,w,S){S===void 0&&(S={});var j=new Date(b),N=function(I,M){M===void 0&&(M={});var B=M.timeZoneName||"short",P=I+"|"+B,O=a[P];return O||(O=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:I,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",timeZoneName:B}),a[P]=O),O}(w,S);return N.formatToParts(j)},d=function(b,w){for(var S=l(b,w),j=[],N=0;N<S.length;N+=1){var I=S[N],M=I.type,B=I.value,P=n[M];P>=0&&(j[P]=parseInt(B,10))}var O=j[3],R=O===24?0:O,$=j[0]+"-"+j[1]+"-"+j[2]+" "+R+":"+j[4]+":"+j[5]+":000",U=+b;return(o.utc($).valueOf()-(U-=U%1e3))/6e4},f=i.prototype;f.tz=function(b,w){b===void 0&&(b=c);var S,j=this.utcOffset(),N=this.toDate(),I=N.toLocaleString("en-US",{timeZone:b}),M=Math.round((N-new Date(I))/1e3/60),B=15*-Math.round(N.getTimezoneOffset()/15)-M;if(!Number(B))S=this.utcOffset(0,w);else if(S=o(I,{locale:this.$L}).$set("millisecond",this.$ms).utcOffset(B,!0),w){var P=S.utcOffset();S=S.add(j-P,"minute")}return S.$x.$timezone=b,S},f.offsetName=function(b){var w=this.$x.$timezone||o.tz.guess(),S=l(this.valueOf(),w,{timeZoneName:b}).find(function(j){return j.type.toLowerCase()==="timezonename"});return S&&S.value};var g=f.startOf;f.startOf=function(b,w){if(!this.$x||!this.$x.$timezone)return g.call(this,b,w);var S=o(this.format("YYYY-MM-DD HH:mm:ss:SSS"),{locale:this.$L});return g.call(S,b,w).tz(this.$x.$timezone,!0)},o.tz=function(b,w,S){var j=S&&w,N=S||w||c,I=d(+o(),N);if(typeof b!="string")return o(b).tz(N);var M=function(R,$,U){var F=R-60*$*1e3,H=d(F,U);if($===H)return[F,$];var ne=d(F-=60*(H-$)*1e3,U);return H===ne?[F,H]:[R-60*Math.min(H,ne)*1e3,Math.max(H,ne)]}(o.utc(b,j).valueOf(),I,N),B=M[0],P=M[1],O=o(B).utcOffset(P);return O.$x.$timezone=N,O},o.tz.guess=function(){return Intl.DateTimeFormat().resolvedOptions().timeZone},o.tz.setDefault=function(b){c=b}}})}(Qv)),Qv.exports}var vNe=_Ne();const _0=Si(vNe),xNe=`
  .react-datepicker {
    font-family: inherit;
    background-color: var(--obsidian-elite);
    border: 1px solid var(--gilded-shadow);
    border-radius: 8px;
    color: var(--platinum-gleam);
  }
  
  .react-datepicker__header {
    background-color: var(--phantom-noir);
    border-bottom: 1px solid var(--gilded-shadow);
  }
  
  .react-datepicker__current-month,
  .react-datepicker__day-name {
    color: var(--platinum-gleam);
  }
  
  .react-datepicker__day {
    color: var(--platinum-gleam);
    &:hover {
      background-color: var(--gilded-shadow);
    }
  }
  
  .react-datepicker__day--selected {
    background-color: var(--royal-emerald);
    color: white;
  }
  
  .react-datepicker__day--keyboard-selected {
    background-color: var(--royal-emerald);
    color: white;
  }
  
  .react-datepicker__navigation-icon::before {
    border-color: var(--platinum-gleam);
  }
`;Xn.extend(g0);Xn.extend(_0);const bNe=()=>{var G,oe,ee,ae,ie,ue,he;const{getFileUrl:e}=Ur(),{selectedLocation:t,getLocationParam:n}=Hb(),[a,r]=v.useState(null),[i,o]=v.useState(!0),[c,l]=v.useState(null),[d,f]=v.useState("week"),[g,b]=v.useState([null,null]),[w,S]=g,[j,N]=v.useState(!1),I=Intl.DateTimeFormat().resolvedOptions().timeZone,M=v.useRef(null),B=v.useRef(null),{business_slug:P}=fa(),O=Rs(),[R,$]=v.useState(null),[U,F]=v.useState(null),[H,ne]=v.useState(!1),[X,te]=v.useState(new Set),se=async(ge,ye)=>{try{o(!0);const je=Xn(ge).tz(I).startOf("day").utc().format(),Ie=Xn(ye).tz(I).endOf("day").utc().format(),me={start:je,end:Ie,tz:I,...n()},de=await Re.get(`/api/business/${P}/dashboard/`,{params:me});r(de.data)}catch(je){console.error("   :",je),l(je.message)}finally{o(!1)}};v.useEffect(()=>{const ge=Xn().tz(I).toDate(),ye=Xn().tz(I).subtract(d==="week"?7:30,"day").toDate();b([ye,ge]),N(!1)},[d,I]),v.useEffect(()=>{w&&S&&t&&se(w,S)},[w,S,P,t]);const V=ge=>{const[ye,je]=ge;b([ye,je]),N(!!ye&&!!je),ye&&je&&se(ye,je)},q=()=>{if(j&&w&&S){const ge=ye=>ye.toLocaleDateString("ru-RU",{day:"numeric",month:"long",year:"numeric"});return`  : ${ge(w)} - ${ge(S)}`}return`  ${d==="week"?"":""}`},T=ge=>{f(ge),N(!1);const ye=new Date,je=new Date;je.setDate(ye.getDate()-(ge==="week"?7:30)),b([je,ye])};v.useEffect(()=>{if(!M.current||!a)return;const ge=M.current.getContext("2d");B.current&&B.current.destroy();const ye=a.chart.map(re=>new Date(re.date).toLocaleDateString("ru-RU",{day:"numeric",month:"long"})),je=a.chart.map(re=>parseFloat(re.amount)),Ie=a.chart.map(re=>re.orders||0),me=a.chart.map(re=>re.variants||0),de=a.chart.map(re=>parseFloat(re.refund_amount||0)),fe=a.chart.map(re=>re.returns||0);return B.current=new Ko(ge,{type:"line",data:{labels:ye,datasets:[{label:" ()",data:je,borderColor:"#2daf9f",backgroundColor:"rgba(45, 175, 159, 0.1)",tension:.3,fill:!0,yAxisID:"y"},{label:" ",data:Ie,borderColor:"#ff9f40",backgroundColor:"rgba(255, 159, 64, 0.1)",borderDash:[5,5],tension:.3,yAxisID:"y1"},{label:" ",data:me,borderColor:"#9966ff",backgroundColor:"rgba(153, 102, 255, 0.1)",borderDash:[5,5],tension:.3,yAxisID:"y1"},{label:" ()",data:de,borderColor:"#ff4757",backgroundColor:"rgba(255, 71, 87, 0.1)",borderDash:[10,5],tension:.3,yAxisID:"y"},{label:" ",data:fe,borderColor:"#f3ff47ff",backgroundColor:"rgba(255, 71, 87, 0.1)",borderDash:[10,5],tension:.3,yAxisID:"y1"}]},options:{responsive:!0,interaction:{mode:"index",intersect:!1},plugins:{legend:{display:!0,position:"top",labels:{color:"#ffffff",font:{family:"inherit"}}},tooltip:{callbacks:{label:function(re){let xe=re.dataset.label||"";return xe&&(xe+=": "),re.datasetIndex===0||re.datasetIndex===3?xe+=re.parsed.y.toLocaleString("ru-RU")+" ":xe+=re.parsed.y.toLocaleString("ru-RU"),xe}}}},scales:{y:{type:"linear",display:!0,position:"left",grid:{color:"rgba(255, 255, 255, 0.1)"},beginAtZero:!0,ticks:{color:"#2daf9f",callback:function(re){return re.toLocaleString("ru-RU")+" "}}},y1:{type:"linear",display:!0,position:"right",grid:{drawOnChartArea:!1},beginAtZero:!0,ticks:{color:"#ff9f40",callback:function(re){return re.toLocaleString("ru-RU")}}},x:{grid:{display:!1},ticks:{color:"#ffffff"}}}}}),()=>{B.current&&B.current.destroy()}},[a]);const J=async ge=>{try{ne(!0);const ye=await Re.get(`/api/business/${P}/receipts/${ge}/`);F(ye.data)}catch(ye){console.error("   :",ye),l("    ")}finally{ne(!1)}},Z=ge=>{$(ge),J(ge.id)},A=()=>{$(null),F(null),te(new Set)},Y=ge=>{te(ye=>{const je=new Set(ye);return je.has(ge)?je.delete(ge):je.add(ge),je})},K=({transaction:ge,details:ye,onClose:je,loading:Ie})=>{var pe,Ee,Le;if(!ge)return null;const me=new Date(ge.created_at).toLocaleString("ru-RU"),de=parseFloat((ye==null?void 0:ye.discount_amount)||0),fe=parseFloat((ye==null?void 0:ye.total_returns_amount)||0),re=parseFloat((ye==null?void 0:ye.profit_with_returns)||(ye==null?void 0:ye.total_amount)||0),xe=((pe=ye==null?void 0:ye.sales)==null?void 0:pe.reduce((Ue,Ne)=>Ue+parseFloat(Ne.bonus_accrued||0),0))||0,Se=((Ee=ye==null?void 0:ye.sales)==null?void 0:Ee.reduce((Ue,Ne)=>Ue+parseFloat(Ne.bonus_redeemed||0),0))||0;return s.jsx("div",{className:Yt.modalOverlay,children:s.jsxs("div",{className:Yt.modalContent,children:[s.jsx("button",{className:Yt.closeButton,onClick:je,children:s.jsx(aa,{})}),s.jsxs("div",{className:Yt.receiptHeader,children:[s.jsxs("h3",{children:[" #",ge.number]}),s.jsxs("div",{className:Yt.receiptMeta,children:[s.jsx("span",{children:me}),s.jsx("span",{className:Yt.paymentMethod,children:ge.payment_method}),(ye==null?void 0:ye.is_paid)&&s.jsx("span",{className:Yt.paidBadge,children:""})]})]}),Ie?s.jsx("div",{className:Yt.modalLoading,children:" ..."}):s.jsxs(s.Fragment,{children:[((ye==null?void 0:ye.customer_name)||(ye==null?void 0:ye.customer_phone))&&s.jsxs("div",{className:Yt.customerInfo,children:[s.jsx("h4",{children:"  "}),ye.customer_name&&s.jsxs("p",{children:[": ",ye.customer_name]}),ye.customer_phone&&s.jsxs("p",{children:[": ",ye.customer_phone]})]}),s.jsx("div",{className:Yt.itemsList,children:(Le=ye==null?void 0:ye.sales)==null?void 0:Le.map(Ue=>{var Ne;return s.jsxs("div",{className:Yt.itemCard,children:[((Ne=Ue.variant.product_images)==null?void 0:Ne.length)>0&&s.jsx("div",{className:Yt.itemImage,children:s.jsx("img",{src:e(Ue.variant.product_images[0].image),alt:Ue.variant.product_name,onError:et=>{et.target.onerror=null,et.target.src="/placeholder-product.png"}})}),s.jsxs("div",{className:Yt.itemInfo,children:[s.jsx("h4",{children:Ue.variant.product_name}),s.jsx("p",{className:Yt.variantName,children:Ue.variant.name}),s.jsxs("p",{className:Yt.sku,children:["SKU: ",Ue.variant.sku]}),Ue.variant.attributes&&Ue.variant.attributes.length>0&&s.jsxs("div",{className:Yt.attributesContainer,children:[s.jsx("button",{className:Yt.attributesToggle,onClick:()=>Y(Ue.id),children:X.has(Ue.id)?s.jsxs(s.Fragment,{children:[s.jsx(Lo,{}),"  "]}):s.jsxs(s.Fragment,{children:[s.jsx(Bo,{}),"   (",Ue.variant.attributes.length,")"]})}),X.has(Ue.id)&&s.jsx("div",{className:Yt.productAttributes,children:Ue.variant.attributes.map(et=>s.jsxs("div",{className:Yt.attributeItem,children:[s.jsxs("span",{className:Yt.attributeName,children:[et.category_attribute_name,":"]}),s.jsx("span",{className:Yt.attributeValue,children:et.predefined_value_name||et.custom_value||" "})]},et.id))})]}),Ue.variant.stocks_data&&s.jsx("div",{className:Yt.stockInfo,children:s.jsxs("small",{children:["  : ",Ue.variant.stocks_data.total_available_quantity]})}),s.jsxs("div",{className:Yt.itemPricing,children:[s.jsxs("div",{className:Yt.priceRow,children:[s.jsxs("span",{children:[Ue.quantity,"  "]}),s.jsxs("span",{className:Yt.originalPrice,children:[parseFloat(Ue.price_per_unit).toLocaleString("ru-RU")," "]}),parseFloat(Ue.discount_percent||0)>0&&s.jsxs(s.Fragment,{children:[s.jsxs("span",{className:Yt.discountBadge,children:["-",Ue.discount_percent,"%"]}),s.jsxs("span",{className:Yt.finalPrice,children:[parseFloat(Ue.total_price).toLocaleString("ru-RU")," "]})]})]}),Ue.variant.sold_quantity&&s.jsx("div",{className:Yt.soldInfo,children:s.jsxs("small",{children:[" : ",Ue.variant.sold_quantity]})}),(Ue.bonus_accrued&&parseFloat(Ue.bonus_accrued)>0||Ue.bonus_redeemed&&parseFloat(Ue.bonus_redeemed)>0)&&s.jsxs("div",{className:Yt.bonusInfo,children:[Ue.bonus_accrued&&parseFloat(Ue.bonus_accrued)>0&&s.jsxs("div",{className:Yt.bonusAccrued,children:[s.jsx(hi,{className:Yt.bonusIcon}),s.jsx("span",{className:Yt.bonusLabel,children:":"}),s.jsxs("span",{className:Yt.bonusValue,children:["+",parseFloat(Ue.bonus_accrued).toFixed(2)]})]}),Ue.bonus_redeemed&&parseFloat(Ue.bonus_redeemed)>0&&s.jsxs("div",{className:Yt.bonusRedeemed,children:[s.jsx(hi,{className:Yt.bonusIcon}),s.jsx("span",{className:Yt.bonusLabel,children:":"}),s.jsxs("span",{className:Yt.bonusValue,children:["-",parseFloat(Ue.bonus_redeemed).toFixed(2)]})]})]})]}),Ue.returns&&Ue.returns.length>0&&s.jsxs("div",{className:Yt.returnsSection,children:[s.jsxs("h5",{children:[s.jsx(k3,{}),"    :"]}),Ue.returns.map(et=>s.jsxs("div",{className:Yt.returnItem,children:[s.jsxs("div",{className:Yt.returnHeader,children:[s.jsxs("span",{children:[": ",et.quantity]}),s.jsxs("span",{className:Yt.refundAmount,children:["-",parseFloat(et.refund_amount).toLocaleString("ru-RU")," "]})]}),s.jsxs("p",{className:Yt.returnReason,children:[s.jsx("strong",{children:":"})," ",et.reason]}),s.jsxs("p",{className:Yt.returnLocation,children:[s.jsx("strong",{children:":"})," ",et.location_name]}),s.jsx("p",{className:Yt.returnDate,children:new Date(et.return_date).toLocaleString("ru-RU")}),et.is_defect&&s.jsxs("span",{className:Yt.defectBadge,children:[s.jsx(lu,{})," "]}),et.created_by_name&&s.jsxs("p",{className:Yt.createdBy,children:[": ",et.created_by_name]})]},et.id))]}),Ue.available_to_return>0&&s.jsx("div",{className:Yt.availableReturn,children:s.jsxs("small",{children:["  : ",Ue.available_to_return]})})]})]},Ue.id)})}),s.jsxs("div",{className:Yt.receiptFooter,children:[de>0&&s.jsxs("div",{className:Yt.discountInfo,children:[s.jsx("span",{children:":"}),s.jsxs("span",{className:Yt.discountAmount,children:["-",de.toLocaleString("ru-RU")," ",parseFloat(ye.discount_percent||0)>0&&` (${ye.discount_percent}%)`]})]}),fe>0&&s.jsxs("div",{className:Yt.returnsInfo,children:[s.jsx("span",{children:"  :"}),s.jsxs("span",{className:Yt.returnsAmount,children:["-",fe.toLocaleString("ru-RU")," "]})]}),s.jsxs("div",{className:Yt.totalRow,children:[s.jsx("span",{children:":"}),s.jsxs("span",{className:Yt.totalAmount,children:[parseFloat((ye==null?void 0:ye.total_amount)||0).toLocaleString("ru-RU")," "]})]}),re!==parseFloat((ye==null?void 0:ye.total_amount)||0)&&s.jsxs("div",{className:Yt.profitRow,children:[s.jsx("span",{children:"   :"}),s.jsxs("span",{className:Yt.profitAmount,children:[re.toLocaleString("ru-RU")," "]})]}),(xe>0||Se>0)&&s.jsxs("div",{className:Yt.bonusSection,children:[s.jsxs("h4",{className:Yt.bonusSectionTitle,children:[s.jsx(hi,{}),"   "]}),xe>0&&s.jsxs("div",{className:Yt.bonusRow,children:[s.jsx("span",{children:" :"}),s.jsxs("span",{className:Yt.bonusAccruedTotal,children:["+",xe.toFixed(2)]})]}),Se>0&&s.jsxs("div",{className:Yt.bonusRow,children:[s.jsx("span",{children:" :"}),s.jsxs("span",{className:Yt.bonusRedeemedTotal,children:["-",Se.toFixed(2)]})]})]}),s.jsxs("div",{className:Yt.actionButtons,children:[(ye==null?void 0:ye.receipt_pdf_file)&&s.jsxs("a",{href:e(ye.receipt_pdf_file),className:Yt.downloadButton,target:"_blank",rel:"noopener noreferrer",children:[s.jsx(Rb,{}),"  PDF"]}),(ye==null?void 0:ye.receipt_preview_image)&&s.jsx("a",{href:e(ye.receipt_preview_image),className:Yt.previewButton,target:"_blank",rel:"noopener noreferrer",children:" "})]})]})]})]})})};return i?s.jsx("div",{className:Yt.loading,children:" ..."}):c?s.jsxs("div",{className:Yt.error,children:[": ",c]}):s.jsxs("div",{className:Yt.app,children:[s.jsx("style",{children:xNe}),s.jsxs("main",{className:Yt.mainContent,children:[s.jsxs("div",{className:Yt.headerWithControls,children:[s.jsxs("h3",{className:Yt.pageTitle,children:[s.jsx(rB,{className:Yt.icon})," ",q()]}),s.jsxs("div",{className:Yt.periodControls,children:[s.jsx("button",{className:`${Yt.periodButton} ${d==="week"&&!j?Yt.active:""}`,onClick:()=>T("week"),children:""}),s.jsx("button",{className:`${Yt.periodButton} ${d==="month"&&!j?Yt.active:""}`,onClick:()=>T("month"),children:""}),s.jsxs("div",{className:Yt.dateRangePicker,children:[s.jsx(Oo,{className:Yt.calendarIcon}),s.jsx(HL,{selectsRange:!0,startDate:w,endDate:S,onChange:V,dateFormat:"dd MMM yyyy",className:Yt.dateInput,maxDate:new Date,calendarClassName:Yt.calendarWrapper,popperClassName:Yt.datePickerPopper,placeholderText:" "})]})]})]}),s.jsxs("div",{className:Yt.statsGrid,children:[s.jsxs("div",{className:`${Yt.statCard} ${Yt.success}`,children:[s.jsx("h6",{children:" "}),s.jsxs("h3",{children:[(G=a==null?void 0:a.totals)!=null&&G.revenue?parseFloat(a.totals.revenue).toLocaleString("ru-RU"):"0"," "]})]}),s.jsxs("div",{className:`${Yt.statCard} ${Yt.warning}`,children:[s.jsx("h6",{children:" "}),s.jsx("h3",{children:((oe=a==null?void 0:a.totals)==null?void 0:oe.sales_count)||0})]}),s.jsxs("div",{className:`${Yt.statCard} ${Yt.success}`,children:[s.jsx("h6",{children:" "}),s.jsx("h3",{children:((ee=a==null?void 0:a.totals)==null?void 0:ee.orders)||0})]}),s.jsxs("div",{className:`${Yt.statCard} ${Yt.danger}`,children:[s.jsx("h6",{children:" "}),s.jsxs("h3",{children:[(ae=a==null?void 0:a.totals)!=null&&ae.refund_amount?parseFloat(a.totals.refund_amount).toLocaleString("ru-RU"):"0"," "]})]}),s.jsxs("div",{className:`${Yt.statCard} ${Yt.danger}`,children:[s.jsx("h6",{children:" "}),s.jsx("h3",{children:((ie=a==null?void 0:a.totals)==null?void 0:ie.returns_count)||0})]})]}),s.jsxs("div",{className:Yt.contentRow,children:[s.jsxs("div",{className:Yt.chartContainer,children:[s.jsx("h5",{children:"  "}),s.jsx("canvas",{ref:M,height:"250"})]}),s.jsxs("div",{className:Yt.transactionList,children:[s.jsx("h5",{children:" "}),(ue=a==null?void 0:a.transactions)==null?void 0:ue.slice(0,5).map((ge,ye)=>s.jsxs("div",{className:Yt.transactionItem,onClick:()=>Z(ge),children:[s.jsxs("div",{className:Yt.transactionHeader,children:[s.jsxs("span",{children:["#",ge.number]}),s.jsxs("span",{className:ge.is_refund?Yt.danger:Yt.success,children:[ge.is_refund?"-":"+","",parseFloat(ge.amount).toLocaleString("ru-RU")]})]}),s.jsxs("div",{className:Yt.transactionMeta,children:[s.jsx("small",{children:new Date(ge.created_at).toLocaleString("ru-RU")}),s.jsx("small",{className:Yt.paymentMethod,children:ge.payment_method})]})]},ye)),((he=a==null?void 0:a.transactions)==null?void 0:he.length)===0&&s.jsx("div",{className:Yt.noTransactions,children:"     "})]}),s.jsx(K,{transaction:R,details:U,onClose:A,loading:H})]}),(a==null?void 0:a.tasks)&&a.tasks.length>0&&s.jsxs("div",{className:Yt.tasksSection,children:[s.jsxs("div",{className:Yt.tasksHeader,children:[s.jsxs("h5",{children:[s.jsx($b,{className:Yt.tasksIcon}),"  "]}),s.jsxs("button",{className:Yt.viewAllTasksButton,onClick:()=>O(`/business/${P}/tasks`),children:["  ",s.jsx(Tb,{className:Yt.arrowIcon})]})]}),s.jsx("div",{className:Yt.tasksGrid,children:a.tasks.map(ge=>s.jsxs("div",{className:Yt.taskCard,onClick:()=>O(`/business/${P}/tasks/${ge.id}`),children:[s.jsxs("div",{className:Yt.taskCardHeader,children:[s.jsx("h6",{className:Yt.taskTitle,children:ge.title}),s.jsxs("div",{className:Yt.taskBadges,children:[s.jsx("span",{className:`${Yt.taskBadge} ${Yt[`priority${ge.priority.charAt(0).toUpperCase()+ge.priority.slice(1)}`]}`,children:ge.priority_display}),s.jsx("span",{className:`${Yt.taskBadge} ${Yt[`status${ge.status.charAt(0).toUpperCase()+ge.status.slice(1).replace("_","")}`]}`,children:ge.status_display})]})]}),ge.progress&&s.jsxs("div",{className:Yt.taskProgress,children:[s.jsxs("div",{className:Yt.taskProgressInfo,children:[s.jsx("span",{children:""}),s.jsxs("span",{className:Yt.taskProgressPercentage,children:[ge.progress.percentage,"%"]})]}),s.jsx("div",{className:Yt.taskProgressBar,children:s.jsx("div",{className:Yt.taskProgressBarFill,style:{width:`${ge.progress.percentage}%`}})}),s.jsxs("div",{className:Yt.taskProgressStats,children:[ge.progress.completed,"  ",ge.progress.total," "]})]}),s.jsxs("div",{className:Yt.taskMeta,children:[ge.assignees&&ge.assignees.length>0&&s.jsxs("div",{className:Yt.taskAssignees,children:[s.jsx(Sl,{className:Yt.taskMetaIcon}),s.jsx("span",{children:ge.assignees.map(ye=>ye.name).join(", ")})]}),ge.due_date&&s.jsxs("div",{className:Yt.taskDueDate,children:[s.jsx(Oo,{className:Yt.taskMetaIcon}),s.jsx("span",{children:Xn(ge.due_date).format("DD.MM.YYYY")})]}),ge.location_name&&s.jsx("div",{className:Yt.taskLocation,children:s.jsx("span",{children:ge.location_name})})]})]},ge.id))})]})]})]})},yNe="_container_12uu1_3",wNe="_header_12uu1_35",CNe="_title_12uu1_40",SNe="_titleIcon_12uu1_51",jNe="_locationInfo_12uu1_56",NNe="_locationBadge_12uu1_60",ENe="_periodSelector_12uu1_72",kNe="_periodButtons_12uu1_76",INe="_periodButton_12uu1_76",DNe="_active_12uu1_104",TNe="_customDateContainer_12uu1_110",ANe="_dateInput_12uu1_114",MNe="_tabNavigation_12uu1_133",RNe="_tabButton_12uu1_143",ONe="_tabContent_12uu1_172",BNe="_statsGrid_12uu1_177",LNe="_statCard_12uu1_184",$Ne="_revenue_12uu1_217",PNe="_orders_12uu1_221",FNe="_products_12uu1_225",HNe="_returns_12uu1_229",zNe="_statIcon_12uu1_233",VNe="_statContent_12uu1_256",qNe="_chartContainer_12uu1_278",UNe="_chartTitle_12uu1_287",WNe="_chartIcon_12uu1_297",YNe="_chartWrapper_12uu1_301",GNe="_transactionsList_12uu1_308",QNe="_sectionTitle_12uu1_316",XNe="_sectionIcon_12uu1_326",KNe="_transactionItem_12uu1_331",ZNe="_transactionHeader_12uu1_366",JNe="_transactionNumber_12uu1_375",e3e="_transactionAmount_12uu1_381",t3e="_sale_12uu1_386",n3e="_refund_12uu1_390",s3e="_transactionMeta_12uu1_394",a3e="_transactionDate_12uu1_404",r3e="_paymentMethod_12uu1_408",i3e="_noTransactions_12uu1_418",o3e="_noTransactionsIcon_12uu1_424",c3e="_modalOverlay_12uu1_436",l3e="_modalContent_12uu1_450",u3e="_modalHeader_12uu1_462",d3e="_closeButton_12uu1_479",h3e="_modalBody_12uu1_495",f3e="_modalLoading_12uu1_499",m3e="_loadingSpinner_12uu1_504",p3e="_spin_12uu1_1",g3e="_receiptInfo_12uu1_520",_3e="_receiptHeader_12uu1_524",v3e="_receiptNumber_12uu1_532",x3e="_receiptDate_12uu1_539",b3e="_receiptAmount_12uu1_545",y3e="_receiptItems_12uu1_562",w3e="_receiptItem_12uu1_562",C3e="_itemHeader_12uu1_581",S3e="_productImage_12uu1_587",j3e="_productImg_12uu1_597",N3e="_noImagePlaceholder_12uu1_603",E3e="_productInfo_12uu1_615",k3e="_itemAttributes_12uu1_619",I3e="_attribute_12uu1_627",D3e="_stockInfo_12uu1_646",T3e="_soldInfo_12uu1_659",A3e="_returnsSection_12uu1_672",M3e="_returnItem_12uu1_689",R3e="_returnHeader_12uu1_701",O3e="_refundAmount_12uu1_708",B3e="_returnReason_12uu1_713",L3e="_returnLocation_12uu1_714",$3e="_returnDate_12uu1_715",P3e="_createdBy_12uu1_716",F3e="_defectBadge_12uu1_722",H3e="_availableReturn_12uu1_733",z3e="_variantName_12uu1_753",V3e="_sku_12uu1_759",q3e="_itemPricing_12uu1_765",U3e="_priceRow_12uu1_770",W3e="_originalPrice_12uu1_778",Y3e="_discountBadge_12uu1_783",G3e="_finalPrice_12uu1_792",Q3e="_receiptFooter_12uu1_797",X3e="_discountTotal_12uu1_803",K3e="_totalAmount_12uu1_809",Z3e="_modalActions_12uu1_815",J3e="_printButton_12uu1_820",e4e="_loadingContainer_12uu1_842",t4e="_errorContainer_12uu1_857",n4e="_errorIcon_12uu1_868",s4e="_retryButton_12uu1_883",a4e="_tasksSection_12uu1_967",r4e="_tasksHeader_12uu1_975",i4e="_tasksTitle_12uu1_982",o4e="_tasksIcon_12uu1_992",c4e="_viewAllTasksButton_12uu1_997",l4e="_arrowIcon_12uu1_1019",u4e="_tasksList_12uu1_1023",d4e="_taskCard_12uu1_1029",h4e="_taskCardHeader_12uu1_1045",f4e="_taskTitle_12uu1_1051",m4e="_taskBadges_12uu1_1063",p4e="_taskBadge_12uu1_1063",g4e="_priorityLow_12uu1_1077",_4e="_priorityMedium_12uu1_1083",v4e="_priorityHigh_12uu1_1089",x4e="_priorityCritical_12uu1_1095",b4e="_statusTodo_12uu1_1101",y4e="_statusInprogress_12uu1_1107",w4e="_statusReview_12uu1_1113",C4e="_taskProgress_12uu1_1119",S4e="_taskProgressInfo_12uu1_1127",j4e="_taskProgressPercentage_12uu1_1135",N4e="_taskProgressBar_12uu1_1141",E4e="_taskProgressBarFill_12uu1_1150",k4e="_taskProgressStats_12uu1_1158",I4e="_taskMeta_12uu1_1164",D4e="_taskAssignees_12uu1_1172",T4e="_taskDueDate_12uu1_1173",A4e="_taskMetaIcon_12uu1_1181",M4e="_taskLocation_12uu1_1186",R4e="_outerGlow_12uu1_1",_n={container:yNe,header:wNe,title:CNe,titleIcon:SNe,locationInfo:jNe,locationBadge:NNe,periodSelector:ENe,periodButtons:kNe,periodButton:INe,active:DNe,customDateContainer:TNe,dateInput:ANe,tabNavigation:MNe,tabButton:RNe,tabContent:ONe,statsGrid:BNe,statCard:LNe,revenue:$Ne,orders:PNe,products:FNe,returns:HNe,statIcon:zNe,statContent:VNe,chartContainer:qNe,chartTitle:UNe,chartIcon:WNe,chartWrapper:YNe,transactionsList:GNe,sectionTitle:QNe,sectionIcon:XNe,transactionItem:KNe,transactionHeader:ZNe,transactionNumber:JNe,transactionAmount:e3e,sale:t3e,refund:n3e,transactionMeta:s3e,transactionDate:a3e,paymentMethod:r3e,noTransactions:i3e,noTransactionsIcon:o3e,modalOverlay:c3e,modalContent:l3e,modalHeader:u3e,closeButton:d3e,modalBody:h3e,modalLoading:f3e,loadingSpinner:m3e,spin:p3e,receiptInfo:g3e,receiptHeader:_3e,receiptNumber:v3e,receiptDate:x3e,receiptAmount:b3e,receiptItems:y3e,receiptItem:w3e,itemHeader:C3e,productImage:S3e,productImg:j3e,noImagePlaceholder:N3e,productInfo:E3e,itemAttributes:k3e,attribute:I3e,stockInfo:D3e,soldInfo:T3e,returnsSection:A3e,returnItem:M3e,returnHeader:R3e,refundAmount:O3e,returnReason:B3e,returnLocation:L3e,returnDate:$3e,createdBy:P3e,defectBadge:F3e,availableReturn:H3e,variantName:z3e,sku:V3e,itemPricing:q3e,priceRow:U3e,originalPrice:W3e,discountBadge:Y3e,finalPrice:G3e,receiptFooter:Q3e,discountTotal:X3e,totalAmount:K3e,modalActions:Z3e,printButton:J3e,loadingContainer:e4e,errorContainer:t4e,errorIcon:n4e,retryButton:s4e,tasksSection:a4e,tasksHeader:r4e,tasksTitle:i4e,tasksIcon:o4e,viewAllTasksButton:c4e,arrowIcon:l4e,tasksList:u4e,taskCard:d4e,taskCardHeader:h4e,taskTitle:f4e,taskBadges:m4e,taskBadge:p4e,priorityLow:g4e,priorityMedium:_4e,priorityHigh:v4e,priorityCritical:x4e,statusTodo:b4e,statusInprogress:y4e,statusReview:w4e,taskProgress:C4e,taskProgressInfo:S4e,taskProgressPercentage:j4e,taskProgressBar:N4e,taskProgressBarFill:E4e,taskProgressStats:k4e,taskMeta:I4e,taskAssignees:D4e,taskDueDate:T4e,taskMetaIcon:A4e,taskLocation:M4e,outerGlow:R4e},O4e="_statCard_1ootd_3",B4e="_primary_1ootd_37",L4e="_success_1ootd_41",$4e="_warning_1ootd_45",P4e="_danger_1ootd_49",F4e="_cardContent_1ootd_53",H4e="_iconContainer_1ootd_61",z4e="_textContent_1ootd_92",V4e="_title_1ootd_96",q4e="_value_1ootd_105",U4e="_trend_1ootd_113",W4e="_positive_1ootd_122",Y4e="_negative_1ootd_127",G4e="_cardBackground_1ootd_132",Mc={statCard:O4e,primary:B4e,success:L4e,warning:$4e,danger:P4e,cardContent:F4e,iconContainer:H4e,textContent:z4e,title:V4e,value:q4e,trend:U4e,positive:W4e,negative:Y4e,cardBackground:G4e},rv=({title:e,value:t,icon:n,color:a="primary",trend:r,delay:i=0,onClick:o})=>s.jsxs(rs.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:i,duration:.5},whileHover:{scale:1.02},whileTap:{scale:.98},className:`${Mc.statCard} ${Mc[a]}`,onClick:o,children:[s.jsxs("div",{className:Mc.cardContent,children:[s.jsx("div",{className:Mc.iconContainer,children:n}),s.jsxs("div",{className:Mc.textContent,children:[s.jsx("h6",{className:Mc.title,children:e}),s.jsx("h3",{className:Mc.value,children:t}),r&&s.jsxs("div",{className:`${Mc.trend} ${r>0?Mc.positive:Mc.negative}`,children:[r>0?"":""," ",Math.abs(r),"%"]})]})]}),s.jsx("div",{className:Mc.cardBackground})]}),Q4e="_chartContainer_10e0p_5",X4e="_chartTitle_10e0p_49",K4e="_chartWrapper_10e0p_73",Z4e="_noDataMessage_10e0p_91",Bf={chartContainer:Q4e,chartTitle:X4e,chartWrapper:K4e,noDataMessage:Z4e},J4e=({data:e,title:t,height:n=300})=>{const a=v.useRef(null),r=v.useRef(null);return v.useEffect(()=>{if(!e||!a.current)return;r.current&&r.current.destroy();const i=a.current.getContext("2d"),o=e;console.log("AnimatedChart: Creating chart with data",o);const c=o.map(b=>Xn(b.date).format("DD MMM")),l=o.map(b=>parseFloat(b.amount||0)),d=o.map(b=>parseInt(b.orders||0)),f=o.map(b=>parseInt(b.variants||0)),g=o.map(b=>parseFloat(b.refund_amount||0));return r.current=new Ko(i,{type:"line",data:{labels:c,datasets:[{label:" ()",data:l,borderColor:"#2daf9f",backgroundColor:"rgba(45, 175, 159, 0.1)",tension:.4,yAxisID:"y",pointBackgroundColor:"#2daf9f",pointBorderColor:"#ffffff",pointBorderWidth:2,pointRadius:4,pointHoverRadius:6},{label:"",data:d,borderColor:"#ff9f40",backgroundColor:"rgba(255, 159, 64, 0.1)",borderDash:[5,5],tension:.3,yAxisID:"y1",pointBackgroundColor:"#ff9f40",pointBorderColor:"#ffffff",pointBorderWidth:2,pointRadius:4,pointHoverRadius:6},{label:" ",data:f,borderColor:"#9966ff",backgroundColor:"rgba(153, 102, 255, 0.1)",borderDash:[5,5],tension:.3,yAxisID:"y1",pointBackgroundColor:"#9966ff",pointBorderColor:"#ffffff",pointBorderWidth:2,pointRadius:4,pointHoverRadius:6},{label:" ()",data:g,borderColor:"#ff4757",backgroundColor:"rgba(255, 71, 87, 0.1)",borderDash:[10,5],tension:.3,yAxisID:"y",pointBackgroundColor:"#ff4757",pointBorderColor:"#ffffff",pointBorderWidth:2,pointRadius:4,pointHoverRadius:6}]},options:{responsive:!0,maintainAspectRatio:!1,animation:{duration:2e3,easing:"easeInOutQuart"},interaction:{mode:"index",intersect:!1},plugins:{legend:{display:!0,position:"top",labels:{color:"#ffffff",font:{family:"inherit",size:12},usePointStyle:!0,pointStyle:"circle"}},tooltip:{backgroundColor:"rgba(0, 0, 0, 0.8)",titleColor:"#ffffff",bodyColor:"#ffffff",borderColor:"#2daf9f",borderWidth:1,cornerRadius:8,callbacks:{label:function(b){let w=b.dataset.label||"";return w&&(w+=": "),b.datasetIndex===0||b.datasetIndex===3?w+=b.parsed.y.toLocaleString("ru-RU")+" ":w+=b.parsed.y.toLocaleString("ru-RU"),w}}}},scales:{y:{type:"linear",display:!0,position:"left",grid:{color:"rgba(255, 255, 255, 0.1)",drawBorder:!1},beginAtZero:!0,ticks:{color:"#2daf9f",font:{size:10},callback:function(b){return b.toLocaleString("ru-RU")+" "}}},y1:{type:"linear",display:!0,position:"right",grid:{drawOnChartArea:!1,drawBorder:!1},beginAtZero:!0,ticks:{color:"#ff9f40",font:{size:10},callback:function(b){return b.toLocaleString("ru-RU")}}},x:{grid:{display:!1,drawBorder:!1},ticks:{color:"#ffffff",font:{size:10}}}}}}),()=>{r.current&&r.current.destroy()}},[e]),!e||e.length===0?s.jsxs(rs.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:Bf.chartContainer,children:[t&&s.jsx("h5",{className:Bf.chartTitle,children:t}),s.jsx("div",{className:Bf.noDataMessage,children:s.jsx("p",{children:"    "})})]}):s.jsxs(rs.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:Bf.chartContainer,children:[t&&s.jsx("h5",{className:Bf.chartTitle,children:t}),s.jsx("div",{className:Bf.chartWrapper,style:{height:n},children:s.jsx("canvas",{ref:a})})]})},e6e="_transactionCard_18erc_5",t6e="_sale_18erc_75",n6e="_refund_18erc_83",s6e="_cardHeader_18erc_91",a6e="_transactionInfo_18erc_109",r6e="_transactionNumber_18erc_117",i6e="_receiptIcon_18erc_137",o6e="_transactionDate_18erc_147",c6e="_amountContainer_18erc_157",l6e="_saleAmount_18erc_177",u6e="_refundAmount_18erc_189",d6e="_amountIcon_18erc_201",h6e="_amount_18erc_157",f6e="_cardFooter_18erc_217",m6e="_paymentMethod_18erc_233",p6e="_statusIndicator_18erc_255",g6e="_statusDot_18erc_271",_6e="_saleDot_18erc_285",v6e="_refundDot_18erc_295",x6e="_cardBackground_18erc_335",bi={transactionCard:e6e,sale:t6e,refund:n6e,cardHeader:s6e,transactionInfo:a6e,transactionNumber:r6e,receiptIcon:i6e,transactionDate:o6e,amountContainer:c6e,saleAmount:l6e,refundAmount:u6e,amountIcon:d6e,amount:h6e,cardFooter:f6e,paymentMethod:m6e,statusIndicator:p6e,statusDot:g6e,saleDot:_6e,refundDot:v6e,cardBackground:x6e},b6e=({transaction:e,onClick:t,delay:n=0})=>{const a=e.is_refund,i=parseFloat(e.amount).toLocaleString("ru-RU");return s.jsxs(rs.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:n,duration:.5},whileHover:{scale:1.02},whileTap:{scale:.98},className:`${bi.transactionCard} ${a?bi.refund:bi.sale}`,onClick:t,children:[s.jsxs("div",{className:bi.cardHeader,children:[s.jsxs("div",{className:bi.transactionInfo,children:[s.jsxs("div",{className:bi.transactionNumber,children:[s.jsx(Do,{className:bi.receiptIcon}),"#",e.number]}),s.jsx("div",{className:bi.transactionDate,children:new Date(e.created_at).toLocaleString("ru-RU")})]}),s.jsxs("div",{className:`${bi.amountContainer} ${a?bi.refundAmount:bi.saleAmount}`,children:[s.jsx("div",{className:bi.amountIcon,children:a?s.jsx(i0,{}):s.jsx(o0,{})}),s.jsxs("div",{className:bi.amount,children:[a?"-":"+","",i]})]})]}),s.jsxs("div",{className:bi.cardFooter,children:[s.jsx("div",{className:bi.paymentMethod,children:e.payment_method}),s.jsxs("div",{className:bi.statusIndicator,children:[s.jsx("div",{className:`${bi.statusDot} ${a?bi.refundDot:bi.saleDot}`}),a?"":""]})]}),s.jsx("div",{className:bi.cardBackground})]})},y6e="_emptyState_1v1in_5",w6e="_emptyIcon_1v1in_49",C6e="_emptyTitle_1v1in_85",S6e="_emptyDescription_1v1in_103",j6e="_emptyAction_1v1in_121",m1={emptyState:y6e,emptyIcon:w6e,emptyTitle:C6e,emptyDescription:S6e,emptyAction:j6e},N6e=({icon:e,title:t,description:n,action:a,delay:r=0})=>s.jsxs(rs.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:r,duration:.5},className:m1.emptyState,children:[s.jsx("div",{className:m1.emptyIcon,children:e}),s.jsx("h3",{className:m1.emptyTitle,children:t}),s.jsx("p",{className:m1.emptyDescription,children:n}),a&&s.jsx("div",{className:m1.emptyAction,children:a})]}),E6e=`
  .react-datepicker {
    font-family: inherit;
    background-color: var(--obsidian-elite);
    border: 1px solid var(--gilded-shadow);
    border-radius: 12px;
    color: var(--platinum-gleam);
    box-shadow: 0 8px 24px rgba(0, 0, 0, 0.3);
  }
  
  .react-datepicker__header {
    background-color: var(--phantom-noir);
    border-bottom: 1px solid var(--gilded-shadow);
    border-radius: 12px 12px 0 0;
  }
  
  .react-datepicker__current-month,
  .react-datepicker__day-name {
    color: var(--platinum-gleam);
  }
  
  .react-datepicker__day {
    color: var(--platinum-gleam);
    &:hover {
      background-color: var(--gilded-shadow);
    }
  }
  
  .react-datepicker__day--selected {
    background-color: var(--royal-emerald);
    color: white;
  }
  
  .react-datepicker__day--keyboard-selected {
    background-color: var(--royal-emerald);
    color: white;
  }
  
  .react-datepicker__navigation-icon::before {
    border-color: var(--platinum-gleam);
  }
`;Xn.extend(g0);Xn.extend(_0);const k6e=()=>{var K,G,oe,ee,ae,ie;const{getFileUrl:e}=Ur(),{selectedLocation:t,getLocationParam:n}=Hb(),[a,r]=v.useState(null),[i,o]=v.useState(!0),[c,l]=v.useState(null),[d,f]=v.useState("week"),[g,b]=v.useState([null,null]),[w,S]=g,[j,N]=v.useState(!1),[I,M]=v.useState("overview"),B=Intl.DateTimeFormat().resolvedOptions().timeZone,P=v.useRef(null),O=v.useRef(null),{business_slug:R}=fa(),$=Rs(),[U,F]=v.useState(null),[H,ne]=v.useState(null),[X,te]=v.useState(!1),se=async(ue,he)=>{var ge,ye;try{o(!0);const je=Xn(ue).tz(B).startOf("day").utc().format(),Ie=Xn(he).tz(B).endOf("day").utc().format(),me=n();console.log("BusinessMainPageMobile: Location params",me),console.log("BusinessMainPageMobile: Selected location",t);const de={start:je,end:Ie,tz:B,...me};console.log("BusinessMainPageMobile: Final API params",de);const fe=await Re.get(`/api/business/${R}/dashboard/`,{params:de});r(fe.data)}catch(je){l(((ye=(ge=je.response)==null?void 0:ge.data)==null?void 0:ye.detail)||"  ")}finally{o(!1)}},V=ue=>{f(ue),N(!1);const he=Xn();let ge,ye;switch(ue){case"today":ge=he.startOf("day"),ye=he.endOf("day");break;case"week":ge=he.subtract(1,"week").startOf("day"),ye=he.endOf("day");break;case"month":ge=he.subtract(1,"month").startOf("day"),ye=he.endOf("day");break;default:return}b([ge.toDate(),ye.toDate()]),se(ge.toDate(),ye.toDate())},q=ue=>{const[he,ge]=ue;b([he,ge]),N(!0),he&&ge&&se(he,ge)},T=()=>{if(!(a!=null&&a.chart_data)||!P.current)return;O.current&&O.current.destroy();const ue=P.current.getContext("2d"),he=a.chart_data,ge=he.map(de=>Xn(de.date).format("DD MMM")),ye=he.map(de=>parseFloat(de.revenue||0)),je=he.map(de=>parseInt(de.orders||0)),Ie=he.map(de=>parseInt(de.variants_sold||0)),me=he.map(de=>parseFloat(de.refund_amount||0));he.map(de=>parseInt(de.returns_count||0)),O.current=new Ko(ue,{type:"line",data:{labels:ge,datasets:[{label:" ()",data:ye,borderColor:"#2daf9f",backgroundColor:"rgba(45, 175, 159, 0.1)",tension:.4,yAxisID:"y"},{label:"",data:je,borderColor:"#ff9f40",backgroundColor:"rgba(255, 159, 64, 0.1)",borderDash:[5,5],tension:.3,yAxisID:"y1"},{label:" ",data:Ie,borderColor:"#9966ff",backgroundColor:"rgba(153, 102, 255, 0.1)",borderDash:[5,5],tension:.3,yAxisID:"y1"},{label:" ()",data:me,borderColor:"#ff4757",backgroundColor:"rgba(255, 71, 87, 0.1)",borderDash:[10,5],tension:.3,yAxisID:"y"}]},options:{responsive:!0,maintainAspectRatio:!1,interaction:{mode:"index",intersect:!1},plugins:{legend:{display:!0,position:"top",labels:{color:"#ffffff",font:{family:"inherit",size:12}}},tooltip:{callbacks:{label:function(de){let fe=de.dataset.label||"";return fe&&(fe+=": "),de.datasetIndex===0||de.datasetIndex===3?fe+=de.parsed.y.toLocaleString("ru-RU")+" ":fe+=de.parsed.y.toLocaleString("ru-RU"),fe}}}},scales:{y:{type:"linear",display:!0,position:"left",grid:{color:"rgba(255, 255, 255, 0.1)"},beginAtZero:!0,ticks:{color:"#2daf9f",font:{size:10},callback:function(de){return de.toLocaleString("ru-RU")+" "}}},y1:{type:"linear",display:!0,position:"right",grid:{drawOnChartArea:!1},beginAtZero:!0,ticks:{color:"#ff9f40",font:{size:10},callback:function(de){return de.toLocaleString("ru-RU")}}},x:{grid:{display:!1},ticks:{color:"#ffffff",font:{size:10}}}}}})},J=async ue=>{F(ue),te(!0);try{const he=await Re.get(`/api/business/${R}/receipts/${ue.id}/`);ne(he.data)}catch(he){console.error("   :",he)}finally{te(!1)}},Z=()=>{F(null),ne(null)},A=()=>{var ge;if(!H)return;const ue=window.open("","_blank","width=580,height=400"),he=`
      <html>
        <head>
          <title> #${H.number}</title>
          <style>
            body { margin: 0; width: 58mm; height: 40mm; display: flex; justify-content: center; align-items: center; font-family: 'Inter', sans-serif; font-size: 8px; }
            .receipt { text-align: center; }
            .header { font-weight: bold; margin-bottom: 10px; }
            .items { margin: 10px 0; }
            .total { font-weight: bold; margin-top: 10px; }
          </style>
        </head>
        <body>
          <div class="receipt">
            <div class="header"> #${H.number}</div>
            <div>: ${new Date(H.created_at).toLocaleString("ru-RU")}</div>
            <div class="items">
              ${(ge=H.sales)==null?void 0:ge.map(ye=>`
                <div>${ye.variant.product_name} - ${ye.quantity}  ${parseFloat(ye.price_per_unit).toLocaleString("ru-RU")}</div>
              `).join("")}
            </div>
            <div class="total">: ${parseFloat(H.amount).toLocaleString("ru-RU")}</div>
          </div>
        </body>
      </html>
    `;ue.document.write(he),ue.document.close(),setTimeout(()=>{ue.focus(),ue.print(),ue.close()},500)};if(v.useEffect(()=>{t!==void 0&&(console.log("BusinessMainPageMobile: Location ready, selectedLocation:",t),V("week"))},[t]),v.useEffect(()=>{w&&S&&t!==void 0&&(console.log("BusinessMainPageMobile: Location changed, refetching data"),se(w,S))},[t]),v.useEffect(()=>{a&&T()},[a]),i)return s.jsxs("div",{className:_n.loadingContainer,children:[s.jsx("div",{className:_n.loadingSpinner}),s.jsx("p",{children:" ..."})]});if(c)return s.jsxs("div",{className:_n.errorContainer,children:[s.jsx(lu,{className:_n.errorIcon}),s.jsx("h3",{children:" "}),s.jsx("p",{children:c}),s.jsx("button",{className:_n.retryButton,onClick:()=>V(d),children:" "})]});const Y=({transaction:ue,details:he,onClose:ge,loading:ye})=>{var Ie;if(!ue)return null;console.log("TransactionModal: Transaction details",he),console.log("TransactionModal: Sales data",he==null?void 0:he.sales);const je=((Ie=he==null?void 0:he.sales)==null?void 0:Ie.reduce((me,de)=>me+parseFloat(de.discount_amount||0),0))||0;return s.jsx("div",{className:_n.modalOverlay,onClick:ge,children:s.jsxs("div",{className:_n.modalContent,onClick:me=>me.stopPropagation(),children:[s.jsxs("div",{className:_n.modalHeader,children:[s.jsxs("h3",{children:[" #",ue.number]}),s.jsx("button",{className:_n.closeButton,onClick:ge,children:s.jsx(aa,{})})]}),s.jsx("div",{className:_n.modalBody,children:ye?s.jsxs("div",{className:_n.modalLoading,children:[s.jsx("div",{className:_n.loadingSpinner}),s.jsx("p",{children:" ..."})]}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:_n.receiptInfo,children:s.jsxs("div",{className:_n.receiptHeader,children:[s.jsxs("div",{className:_n.receiptNumber,children:["#",ue.number]}),s.jsx("div",{className:_n.receiptDate,children:new Date(ue.created_at).toLocaleString("ru-RU")}),s.jsxs("div",{className:_n.receiptAmount,children:[parseFloat(ue.amount).toLocaleString("ru-RU")," "]}),s.jsx("div",{className:_n.paymentMethod,children:ue.payment_method})]})}),(he==null?void 0:he.sales)&&s.jsxs("div",{className:_n.receiptItems,children:[s.jsx("h4",{children:":"}),he.sales.map((me,de)=>s.jsxs("div",{className:_n.receiptItem,children:[s.jsxs("div",{className:_n.itemHeader,children:[s.jsxs("div",{className:_n.productImage,children:[console.log("Product images for sale:",me.variant.product_images),me.variant.product_images&&me.variant.product_images.length>0?s.jsx("img",{src:e(me.variant.product_images[0].image),alt:me.variant.product_name,className:_n.productImg,onError:fe=>{console.error("Image load error:",fe.target.src),fe.target.style.display="none"},onLoad:()=>console.log("Image loaded successfully:",e(me.variant.product_images[0].image))}):s.jsx("div",{className:_n.noImagePlaceholder,children:s.jsx("i",{className:"fa fa-image"})})]}),s.jsxs("div",{className:_n.productInfo,children:[s.jsx("h4",{children:me.variant.product_name}),s.jsx("p",{className:_n.variantName,children:me.variant.name}),s.jsxs("p",{className:_n.sku,children:["SKU: ",me.variant.sku]})]})]}),me.variant.attributes&&me.variant.attributes.length>0&&s.jsx("div",{className:_n.itemAttributes,children:me.variant.attributes.map(fe=>s.jsxs("div",{className:_n.attribute,children:[s.jsxs("span",{children:[fe.category_attribute_name,": "]}),s.jsx("strong",{children:fe.predefined_value_name||fe.custom_value||" "})]},fe.id))}),me.variant.stocks_data&&s.jsx("div",{className:_n.stockInfo,children:s.jsxs("small",{children:["  : ",me.variant.stocks_data.total_available_quantity]})}),s.jsxs("div",{className:_n.itemPricing,children:[s.jsxs("div",{className:_n.priceRow,children:[s.jsxs("span",{children:[me.quantity,"  "]}),s.jsxs("span",{className:_n.originalPrice,children:[parseFloat(me.price_per_unit).toLocaleString("ru-RU")," "]}),parseFloat(me.discount_percent||0)>0&&s.jsxs(s.Fragment,{children:[s.jsxs("span",{className:_n.discountBadge,children:["-",me.discount_percent,"%"]}),s.jsxs("span",{className:_n.finalPrice,children:[parseFloat(me.total_price).toLocaleString("ru-RU")," "]})]})]}),me.variant.sold_quantity&&s.jsx("div",{className:_n.soldInfo,children:s.jsxs("small",{children:[" : ",me.variant.sold_quantity]})})]}),me.returns&&me.returns.length>0&&s.jsxs("div",{className:_n.returnsSection,children:[s.jsxs("h5",{children:[s.jsx(k3,{}),"    :"]}),me.returns.map(fe=>s.jsxs("div",{className:_n.returnItem,children:[s.jsxs("div",{className:_n.returnHeader,children:[s.jsxs("span",{children:[": ",fe.quantity]}),s.jsxs("span",{className:_n.refundAmount,children:["-",parseFloat(fe.refund_amount).toLocaleString("ru-RU")," "]})]}),s.jsxs("p",{className:_n.returnReason,children:[s.jsx("strong",{children:":"})," ",fe.reason]}),s.jsxs("p",{className:_n.returnLocation,children:[s.jsx("strong",{children:":"})," ",fe.location_name]}),s.jsx("p",{className:_n.returnDate,children:new Date(fe.return_date).toLocaleString("ru-RU")}),fe.is_defect&&s.jsxs("span",{className:_n.defectBadge,children:[s.jsx(lu,{})," "]}),fe.created_by_name&&s.jsxs("p",{className:_n.createdBy,children:[": ",fe.created_by_name]})]},fe.id))]}),me.available_to_return>0&&s.jsx("div",{className:_n.availableReturn,children:s.jsxs("small",{children:["  : ",me.available_to_return]})})]},de))]}),s.jsxs("div",{className:_n.receiptFooter,children:[je>0&&s.jsxs("div",{className:_n.discountTotal,children:[": -",je.toLocaleString("ru-RU")," "]}),s.jsxs("div",{className:_n.totalAmount,children:[": ",parseFloat(ue.amount).toLocaleString("ru-RU")," "]})]}),s.jsx("div",{className:_n.modalActions,children:s.jsxs("button",{className:_n.printButton,onClick:A,children:[s.jsx(Rb,{}),"  "]})})]})})]})})};return s.jsxs("div",{className:_n.container,children:[s.jsx("style",{children:E6e}),s.jsx("div",{className:_n.header,children:s.jsxs("h1",{className:_n.title,children:[s.jsx(Vk,{className:_n.titleIcon}),""]})}),s.jsxs("div",{className:_n.periodSelector,children:[s.jsx("div",{className:_n.periodButtons,children:[{key:"today",label:""},{key:"week",label:""},{key:"month",label:""}].map(({key:ue,label:he})=>s.jsx("button",{className:`${_n.periodButton} ${d===ue?_n.active:""}`,onClick:()=>V(ue),children:he},ue))}),s.jsx("div",{className:_n.customDateContainer,children:s.jsx(HL,{selectsRange:!0,startDate:w,endDate:S,onChange:q,dateFormat:"dd MMM yyyy",className:_n.dateInput,maxDate:new Date,calendarClassName:_n.calendarWrapper,popperClassName:_n.datePickerPopper,placeholderText:" "})})]}),s.jsxs("div",{className:_n.tabNavigation,children:[s.jsxs("button",{className:`${_n.tabButton} ${I==="overview"?_n.active:""}`,onClick:()=>M("overview"),children:[s.jsx(Vk,{}),""]}),s.jsxs("button",{className:`${_n.tabButton} ${I==="transactions"?_n.active:""}`,onClick:()=>M("transactions"),children:[s.jsx(Do,{}),""]})]}),s.jsxs(Fc,{mode:"wait",children:[I==="overview"&&s.jsxs(rs.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{duration:.3},className:_n.tabContent,children:[s.jsxs("div",{className:_n.statsGrid,children:[s.jsx(rv,{title:" ",value:`${(K=a==null?void 0:a.totals)!=null&&K.revenue?parseFloat(a.totals.revenue).toLocaleString("ru-RU"):"0"} `,icon:s.jsx(JX,{}),color:"primary",delay:0}),s.jsx(rv,{title:" ",value:((G=a==null?void 0:a.totals)==null?void 0:G.orders)||0,icon:s.jsx(nm,{}),color:"success",delay:.1}),s.jsx(rv,{title:" ",value:((oe=a==null?void 0:a.totals)==null?void 0:oe.sales_count)||0,icon:s.jsx(Do,{}),color:"warning",delay:.2}),s.jsx(rv,{title:"",value:((ee=a==null?void 0:a.totals)==null?void 0:ee.returns_count)||0,icon:s.jsx(rK,{}),color:"danger",delay:.3})]}),console.log("BusinessMainPageMobile: Chart data",a==null?void 0:a.chart),s.jsx(J4e,{data:a==null?void 0:a.chart,title:s.jsxs("div",{className:_n.chartTitle,children:[s.jsx(rB,{className:_n.chartIcon}),"  "]}),height:300}),(a==null?void 0:a.tasks)&&a.tasks.length>0&&s.jsxs("div",{className:_n.tasksSection,children:[s.jsxs("div",{className:_n.tasksHeader,children:[s.jsxs("h5",{className:_n.tasksTitle,children:[s.jsx($b,{className:_n.tasksIcon}),"  "]}),s.jsxs("button",{className:_n.viewAllTasksButton,onClick:()=>$(`/business/${R}/tasks`),children:[" ",s.jsx(Tb,{className:_n.arrowIcon})]})]}),s.jsx("div",{className:_n.tasksList,children:a.tasks.map((ue,he)=>s.jsxs(rs.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:he*.1},className:_n.taskCard,onClick:()=>$(`/business/${R}/tasks/${ue.id}`),children:[s.jsxs("div",{className:_n.taskCardHeader,children:[s.jsx("h6",{className:_n.taskTitle,children:ue.title}),s.jsxs("div",{className:_n.taskBadges,children:[s.jsx("span",{className:`${_n.taskBadge} ${_n[`priority${ue.priority.charAt(0).toUpperCase()+ue.priority.slice(1)}`]}`,children:ue.priority_display}),s.jsx("span",{className:`${_n.taskBadge} ${_n[`status${ue.status.charAt(0).toUpperCase()+ue.status.slice(1).replace("_","")}`]}`,children:ue.status_display})]})]}),ue.progress&&s.jsxs("div",{className:_n.taskProgress,children:[s.jsxs("div",{className:_n.taskProgressInfo,children:[s.jsx("span",{children:""}),s.jsxs("span",{className:_n.taskProgressPercentage,children:[ue.progress.percentage,"%"]})]}),s.jsx("div",{className:_n.taskProgressBar,children:s.jsx("div",{className:_n.taskProgressBarFill,style:{width:`${ue.progress.percentage}%`}})}),s.jsxs("div",{className:_n.taskProgressStats,children:[ue.progress.completed,"  ",ue.progress.total," "]})]}),s.jsxs("div",{className:_n.taskMeta,children:[ue.assignees&&ue.assignees.length>0&&s.jsxs("div",{className:_n.taskAssignees,children:[s.jsx(Sl,{className:_n.taskMetaIcon}),s.jsx("span",{children:ue.assignees.map(ge=>ge.name).join(", ")})]}),ue.due_date&&s.jsxs("div",{className:_n.taskDueDate,children:[s.jsx(Oo,{className:_n.taskMetaIcon}),s.jsx("span",{children:Xn(ue.due_date).format("DD.MM.YYYY")})]}),ue.location_name&&s.jsx("div",{className:_n.taskLocation,children:s.jsx("span",{children:ue.location_name})})]})]},ue.id))})]})]},"overview"),I==="transactions"&&s.jsx(rs.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{duration:.3},className:_n.tabContent,children:s.jsxs("div",{className:_n.transactionsList,children:[s.jsxs("h5",{className:_n.sectionTitle,children:[s.jsx(Do,{className:_n.sectionIcon})," "]}),(ae=a==null?void 0:a.transactions)==null?void 0:ae.slice(0,10).map((ue,he)=>s.jsx(b6e,{transaction:ue,onClick:()=>J(ue),delay:he*.1},he)),((ie=a==null?void 0:a.transactions)==null?void 0:ie.length)===0&&s.jsx(N6e,{icon:s.jsx(Do,{}),title:"  ",description:"      .      ."})]})},"transactions")]}),s.jsx(Y,{transaction:U,details:H,onClose:Z,loading:X})]})},I6e=()=>{const[e,t]=v.useState("checking"),{business_slug:n}=fa(),a=oi();return v.useEffect(()=>{(async()=>{var i;try{(await Re.get(`accounts/api/business/check-access/${n}/`,{withCredentials:!0})).data.has_access?t("granted"):t("denied")}catch(o){console.error("   :",o),((i=o.response)==null?void 0:i.status)===401?t("unauthenticated"):t("denied")}})()},[n,a.pathname]),e==="checking"?s.jsx("div",{className:"auth-loader",children:"  ..."}):e==="unauthenticated"?s.jsx(hx,{to:"/account",state:{from:a},replace:!0}):e==="denied"?s.jsx(hx,{to:"/account",state:{from:a},replace:!0}):s.jsx(fg,{})},D6e="_switcher_14i6k_1",T6e="_switchButton_14i6k_15",A6e="_locationInfo_14i6k_77",M6e="_locationIcon_14i6k_93",R6e="_locationDetails_14i6k_103",O6e="_locationName_14i6k_117",B6e="_locationType_14i6k_133",L6e="_switchIcon_14i6k_149",nd={switcher:D6e,switchButton:T6e,locationInfo:A6e,locationIcon:M6e,locationDetails:R6e,locationName:O6e,locationType:B6e,switchIcon:L6e},$6e=({businessSlug:e,selectedLocation:t,onLocationChange:n})=>{const[a,r]=v.useState([]),[i,o]=v.useState(!1);v.useEffect(()=>{e&&(async()=>{try{o(!0);const f=await Re.get(`/api/business/${e}/locations/`);r(f.data)}catch(f){console.error("   :",f)}finally{o(!1)}})()},[e]);const c=d=>{if(d==="all")return"  ";const f=a.find(g=>g.id===parseInt(d));return f?f.name:` #${d}`},l=d=>{var g;if(d==="all")return" ";const f=a.find(b=>b.id===parseInt(d));return f?((g=f.location_type)==null?void 0:g.name)||"":""};return s.jsx("div",{className:nd.switcher,children:s.jsxs("button",{className:nd.switchButton,onClick:n,disabled:i,title:" ",children:[s.jsxs("div",{className:nd.locationInfo,children:[s.jsx("span",{className:nd.locationIcon,children:""}),s.jsxs("div",{className:nd.locationDetails,children:[s.jsx("span",{className:nd.locationName,children:c(t)}),s.jsx("span",{className:nd.locationType,children:l(t)})]})]}),s.jsx("span",{className:nd.switchIcon,children:""})]})})},P6e="_container_765w9_2",F6e="_loadingContainer_765w9_14",H6e="_loading_765w9_14",FC={container:P6e,loadingContainer:F6e,loading:H6e},z6e=()=>{const{business_slug:e}=fa(),t=Rs(),n=oi(),a=r0(),[r,i]=v.useState(null),[o,c]=v.useState(!0);v.useEffect(()=>{const d=localStorage.getItem(`business_${e}_location`);i(d),!d&&!n.pathname.includes("/location-select")&&t(`/business/${e}/location-select`),c(!1)},[e,n.pathname,t]);const l=()=>{t(`/business/${e}/location-select`)};return o?s.jsx("div",{className:FC.loadingContainer,children:s.jsx("div",{className:FC.loading,children:" ..."})}):n.pathname.includes("/location-select")?s.jsx(fg,{}):s.jsxs("div",{className:FC.container,children:[s.jsx(fg,{}),!a&&s.jsx($6e,{businessSlug:e,selectedLocation:r,onLocationChange:l})]})},V6e="_container_19ziy_1",q6e="_header_19ziy_19",U6e="_locationList_19ziy_55",W6e="_locationItem_19ziy_69",Y6e="_selected_19ziy_105",G6e="_locationInfo_19ziy_117",Q6e="_locationName_19ziy_131",X6e="_primaryBadge_19ziy_149",K6e="_locationDescription_19ziy_167",Z6e="_locationType_19ziy_179",J6e="_radioButton_19ziy_195",e8e="_radioSelected_19ziy_227",t8e="_selectedInfo_19ziy_261",n8e="_loading_19ziy_289",s8e="_error_19ziy_303",Br={container:V6e,header:q6e,locationList:U6e,locationItem:W6e,selected:Y6e,locationInfo:G6e,locationName:Q6e,primaryBadge:X6e,locationDescription:K6e,locationType:Z6e,radioButton:J6e,radioSelected:e8e,selectedInfo:t8e,loading:n8e,error:s8e},a8e=({businessSlug:e,onLocationSelect:t,currentLocation:n})=>{const[a,r]=v.useState([]),[i,o]=v.useState(!0),[c,l]=v.useState(null),[d,f]=v.useState(n||"all");v.useEffect(()=>{e&&(async()=>{try{o(!0);const S=await Re.get(`/api/business/${e}/locations/`);r(S.data),f(n||"all")}catch(S){console.error("   :",S),l("    ")}finally{o(!1)}})()},[e]),v.useEffect(()=>{f(n||"all")},[n]);const g=w=>{f(w),t(w)},b=w=>{if(String(w)==="all")return"  ";const S=a.find(j=>String(j.id)===String(w));return S?S.name:" "};return i?s.jsx("div",{className:Br.container,children:s.jsx("div",{className:Br.loading,children:" ..."})}):c?s.jsx("div",{className:Br.container,children:s.jsx("div",{className:Br.error,children:c})}):s.jsxs("div",{className:Br.container,children:[s.jsxs("div",{className:Br.header,children:[s.jsx("h3",{children:" "}),s.jsx("p",{children:"     "})]}),s.jsxs("div",{className:Br.locationList,children:[s.jsxs("div",{className:`${Br.locationItem} ${String(d)==="all"?Br.selected:""}`,onClick:()=>g("all"),children:[s.jsxs("div",{className:Br.locationInfo,children:[s.jsx("div",{className:Br.locationName,children:"  "}),s.jsx("div",{className:Br.locationDescription,children:"    "})]}),s.jsx("div",{className:Br.radioButton,children:String(d)==="all"&&s.jsx("div",{className:Br.radioSelected})})]}),a.map(w=>{var S;return s.jsxs("div",{className:`${Br.locationItem} ${String(d)===String(w.id)?Br.selected:""}`,onClick:()=>g(w.id),children:[s.jsxs("div",{className:Br.locationInfo,children:[s.jsxs("div",{className:Br.locationName,children:[w.name,w.is_primary&&s.jsx("span",{className:Br.primaryBadge,children:""})]}),s.jsxs("div",{className:Br.locationDescription,children:[w.address,w.contact_phone&&`  ${w.contact_phone}`]}),s.jsx("div",{className:Br.locationType,children:(S=w.location_type)==null?void 0:S.name})]}),s.jsx("div",{className:Br.radioButton,children:String(d)===String(w.id)&&s.jsx("div",{className:Br.radioSelected})})]},w.id)})]}),d&&s.jsxs("div",{className:Br.selectedInfo,children:[s.jsx("span",{children:": "}),s.jsx("strong",{children:b(d)})]})]})},r8e="_page_1ec5u_1",i8e="_container_1ec5u_19",o8e="_header_1ec5u_63",c8e="_logo_1ec5u_77",l8e="_content_1ec5u_113",u8e="_actions_1ec5u_121",d8e="_skipButton_1ec5u_139",h8e="_continueButton_1ec5u_177",f8e="_disabled_1ec5u_251",eu={page:r8e,container:i8e,header:o8e,logo:c8e,content:l8e,actions:u8e,skipButton:d8e,continueButton:h8e,disabled:f8e},m8e=()=>{const{business_slug:e}=fa(),t=Rs(),n=()=>localStorage.getItem(`business_${e}_location`)||"all",[a,r]=v.useState(n);v.useEffect(()=>{const f=localStorage.getItem(`business_${e}_location`)||"all";r(f)},[e]);const i=d=>{r(d)},o=d=>{r(d),localStorage.setItem(`business_${e}_location`,d),t(`/business/${e}/main`)},c=()=>{a&&o(a)},l=()=>{o("all")};return s.jsx("div",{className:eu.page,children:s.jsxs("div",{className:eu.container,children:[s.jsx("div",{className:eu.header,children:s.jsxs("div",{className:eu.logo,children:[s.jsx("h1",{children:"  "}),s.jsx("p",{children:"      "})]})}),s.jsxs("div",{className:eu.content,children:[s.jsx(a8e,{businessSlug:e,onLocationSelect:i,currentLocation:a}),s.jsxs("div",{className:eu.actions,children:[s.jsx("button",{className:eu.skipButton,onClick:l,children:" ( )"}),s.jsx("button",{className:`${eu.continueButton} ${a?"":eu.disabled}`,onClick:c,disabled:!a,children:""})]})]})]})})},p8e="_container_1iyb7_3",g8e="_content_1iyb7_15",_8e="_pageTitle_1iyb7_27",v8e="_titleIcon_1iyb7_45",x8e="_sectionCard_1iyb7_55",b8e="_sectionHeader_1iyb7_73",y8e="_sectionIcon_1iyb7_101",w8e="_sectionBody_1iyb7_111",C8e="_uploadRow_1iyb7_119",S8e="_uploadColumn_1iyb7_131",j8e="_infoColumn_1iyb7_143",N8e="_uploadArea_1iyb7_155",E8e="_uploadIcon_1iyb7_197",k8e="_uploadHint_1iyb7_209",I8e="_fileInput_1iyb7_219",D8e="_infoAlert_1iyb7_227",T8e="_infoIcon_1iyb7_261",A8e="_thumbnailsSection_1iyb7_291",M8e="_thumbnailsTitle_1iyb7_299",R8e="_formRow_1iyb7_433",O8e="_formGroup_1iyb7_445",B8e="_formLabel_1iyb7_457",L8e="_formControl_1iyb7_471",$8e="_checkboxGroup_1iyb7_527",P8e="_formCheckbox_1iyb7_539",F8e="_checkboxLabel_1iyb7_555",H8e="_tableWrapper_1iyb7_567",z8e="_horizontalScroll_1iyb7_579",V8e="_variantTable_1iyb7_591",q8e="_stickyColumn_1iyb7_641",U8e="_formSelect_1iyb7_673",W8e="_formControltd_1iyb7_703",Y8e="_variantActions_1iyb7_743",G8e="_variantButton_1iyb7_751",Q8e="_variantControls_1iyb7_781",X8e="_variantAddButton_1iyb7_797",K8e="_variantCopyButton_1iyb7_799",Z8e="_buttonIcon_1iyb7_863",J8e="_formActions_1iyb7_871",e5e="_cancelButton_1iyb7_885",t5e="_submitButton_1iyb7_887",n5e="_cropModal_1iyb7_1019",s5e="_bodyNoScroll_1iyb7_1085",a5e="_catPicker_1iyb7_1097",r5e="_catPickerControl_1iyb7_1105",i5e="_catPickerValue_1iyb7_1141",o5e="_catName_1iyb7_1155",c5e="_catPath_1iyb7_1173",l5e="_catPlaceholder_1iyb7_1195",u5e="_catCaret_1iyb7_1203",d5e="_catDropdown_1iyb7_1225",h5e="_catSearch_1iyb7_1251",f5e="_catList_1iyb7_1279",m5e="_catEmpty_1iyb7_1289",p5e="_catItem_1iyb7_1303",g5e="_catItemActive_1iyb7_1327",_5e="_catItemName_1iyb7_1335",v5e="_catItemPath_1iyb7_1349",Nn={container:p8e,content:g8e,pageTitle:_8e,titleIcon:v8e,sectionCard:x8e,sectionHeader:b8e,sectionIcon:y8e,sectionBody:w8e,uploadRow:C8e,uploadColumn:S8e,infoColumn:j8e,uploadArea:N8e,uploadIcon:E8e,uploadHint:k8e,fileInput:I8e,infoAlert:D8e,infoIcon:T8e,thumbnailsSection:A8e,thumbnailsTitle:M8e,formRow:R8e,formGroup:O8e,formLabel:B8e,formControl:L8e,checkboxGroup:$8e,formCheckbox:P8e,checkboxLabel:F8e,tableWrapper:H8e,horizontalScroll:z8e,variantTable:V8e,stickyColumn:q8e,formSelect:U8e,formControltd:W8e,variantActions:Y8e,variantButton:G8e,variantControls:Q8e,variantAddButton:X8e,variantCopyButton:K8e,buttonIcon:Z8e,formActions:J8e,cancelButton:e5e,submitButton:t5e,cropModal:n5e,bodyNoScroll:s5e,catPicker:a5e,catPickerControl:r5e,catPickerValue:i5e,catName:o5e,catPath:c5e,catPlaceholder:l5e,catCaret:u5e,catDropdown:d5e,catSearch:h5e,catList:f5e,catEmpty:m5e,catItem:p5e,catItemActive:g5e,catItemName:_5e,catItemPath:v5e},x5e=({categories:e=[],value:t,onChange:n,disabled:a,placeholder:r="    ..."})=>{const[i,o]=v.useState(!1),[c,l]=v.useState(""),[d,f]=v.useState(0),g=v.useRef(null),b=e.find(I=>String(I.id)===String(t))||null,w=c.trim().toLowerCase(),S=w?e.filter(I=>(I.name||"").toLowerCase().includes(w)||(I.full_path||"").toLowerCase().includes(w)):e;v.useEffect(()=>{if(!i)return;const I=M=>{g.current&&!g.current.contains(M.target)&&o(!1)};return document.addEventListener("mousedown",I),()=>document.removeEventListener("mousedown",I)},[i]),v.useEffect(()=>{i&&f(0)},[i,w]);const j=I=>{if(!i&&(I.key==="ArrowDown"||I.key==="Enter")){o(!0);return}if(i)if(I.key==="ArrowDown")I.preventDefault(),f(M=>Math.min(M+1,S.length-1));else if(I.key==="ArrowUp")I.preventDefault(),f(M=>Math.max(M-1,0));else if(I.key==="Enter"){I.preventDefault();const M=S[d];M&&(n(String(M.id)),l(""),o(!1))}else I.key==="Escape"&&(I.preventDefault(),o(!1))},N=I=>{n(String(I.id)),l(""),o(!1)};return s.jsxs("div",{className:Nn.catPicker,ref:g,children:[s.jsxs("div",{className:Nn.catPickerControl,onClick:()=>!a&&o(I=>!I),children:[s.jsx("div",{className:Nn.catPickerValue,children:b?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:Nn.catName,children:b.name}),s.jsx("div",{className:Nn.catPath,title:b.full_path,children:b.full_path})]}):s.jsx("div",{className:Nn.catPlaceholder,children:r})}),s.jsx("div",{className:Nn.catCaret})]}),i&&s.jsxs("div",{className:Nn.catDropdown,onKeyDown:j,children:[s.jsx("input",{autoFocus:!0,className:Nn.catSearch,value:c,onChange:I=>l(I.target.value),placeholder:"    ..."}),s.jsx("div",{className:Nn.catList,role:"listbox",tabIndex:0,children:S.length===0?s.jsx("div",{className:Nn.catEmpty,children:"  "}):S.slice(0,300).map((I,M)=>s.jsxs("div",{role:"option","aria-selected":String(I.id)===String(t),className:`${Nn.catItem} ${M===d?Nn.catItemActive:""}`,onMouseEnter:()=>f(M),onClick:()=>N(I),children:[s.jsx("div",{className:Nn.catItemName,children:I.name}),s.jsx("div",{className:Nn.catItemPath,children:I.full_path})]},I.id))})]})]})},b5e=()=>{const{business_slug:e}=fa(),t=Rs(),[n,a]=v.useState(""),[r,i]=v.useState(""),[o,c]=v.useState(""),[l,d]=v.useState(""),[f,g]=v.useState(!0),[b,w]=v.useState(!0),[S,j]=v.useState(!0),[N,I]=v.useState([]),[M,B]=v.useState(!1),[P,O]=v.useState(null),[R,$]=v.useState([]),[U,F]=v.useState(!0),[H,ne]=v.useState(null),[X,te]=v.useState([]),[se,V]=v.useState(!0),[q,T]=v.useState([]),[J,Z]=v.useState(!1),[A,Y]=v.useState(null),[K,G]=v.useState([]),oe=v.useRef(null),[ee,ae]=v.useState({files:[],currentIndex:0,croppedImages:[]}),[ie,ue]=v.useState(!1),[he,ge]=v.useState([]),[ye,je]=v.useState(1),[Ie,me]=v.useState(!1);v.useEffect(()=>{(async()=>{try{const Ae=await Re.get(`/api/business/${e}/categories/`);$(Ae.data.results||Ae.data);const be=await Re.get(`/api/business/${e}/locations/`);T(be.data.results||be.data);const We=await Re.get("/api/units-of-measure/");te(We.data),F(!1),Z(!1),V(!1)}catch(Ae){ne(Ae.message),F(!1),Z(!1),V(!1),console.error("   :",Ae)}})()},[e]);const de=async le=>{try{B(!0),O(null);const be=(await Re.get(`/api/categories/${le}/attributes/`)).data.map(We=>({...We,values:We.values||[],has_predefined_values:We.has_predefined_values||!1}));I(be),ge([]),je(1)}catch(Ae){O(Ae.message),console.error("    :",Ae)}finally{B(!1)}},fe=()=>{const le={id:ye,attributes:N.reduce((Ae,be)=>(Ae[String(be.id)]=be.values.length>0?be.values[0].id?String(be.values[0].id):String(be.values[0]):"",Ae),{})};ge([...he,le]),je(ye+1)},re=(le,Ae,be,We=null)=>{ge(he.map(st=>st.id===le?We!==null?{...st,attributes:{...st.attributes,[String(We)]:typeof be=="number"?String(be):be}}:{...st,[Ae]:be}:st))},xe=()=>{if(he.length===0)return;const le=he[he.length-1],Ae={};Object.entries(le.attributes||{}).forEach(([We,st])=>{Ae[String(We)]=typeof st=="number"?String(st):st});const be={id:ye,attributes:Ae};ge([...he,be]),je(ye+1)},Se=le=>{ge(he.filter(Ae=>Ae.id!==le))},pe=()=>{oe.current.click()},Ee=le=>{const Ae=le.target.files;Ae.length>0&&(ae({files:Array.from(Ae),currentIndex:0,croppedImages:[]}),ue(!0),document.body.classList.add(Nn.bodyNoScroll)),le.target.value=""},Le=(le,Ae)=>{const be={id:Date.now()+Ae,file:le,preview:URL.createObjectURL(le),isMain:K.length===0&&Ae===0};G(We=>[...We,be]),Ae===ee.files.length-1&&(ue(!1),document.body.classList.remove(Nn.bodyNoScroll),ae({files:[],currentIndex:0,croppedImages:[]}))},Ue=()=>{ae(le=>({...le,currentIndex:le.currentIndex+1}))},Ne=()=>{ue(!1),document.body.classList.remove(Nn.bodyNoScroll),ae({files:[],currentIndex:0,croppedImages:[]})},et=()=>{ae(le=>({...le,currentIndex:le.currentIndex-1}))},dt=le=>{G(Ae=>{const be=Ae.find(pn=>pn.isMain);if((be==null?void 0:be.id)===le)return Ae;const We=[...Ae],st=We.findIndex(pn=>pn.id===le);if(st===-1)return Ae;const ct=We.map(pn=>({...pn,isMain:pn.id===le})),[Mt]=ct.splice(st,1);return[Mt,...ct]})},_e=le=>{G(Ae=>{const be=Ae.find(st=>st.id===le);if(be!=null&&be.isMain&&Ae.length>1&&!window.confirm("   . ?")||!be)return Ae;const We=Ae.filter(st=>st.id!==le);return be.isMain&&We.length>0&&(We[0].isMain=!0),We})},tt=le=>{G(le)},Fe=()=>{if(!n.trim())return{valid:!1,message:"  ."};if(!o)return{valid:!1,message:"  ."};if(!r.trim())return{valid:!1,message:"  ."};if(K.length===0)return{valid:!1,message:"    ."};if(!K.some(le=>le.isMain))return{valid:!1,message:"  ."};if(he.length===0)return{valid:!1,message:"     ."};for(let[le,Ae]of he.entries())for(let be of N)if(be.required){const We=Ae.attributes[be.id];if(We==null||We==="")return{valid:!1,message:` ${le+1}:    "${be.name}".`}}return{valid:!0,message:""}},It=()=>{const le=new FormData,Ae={name:n,description:r,category:o,unit_of_measure:l||null,is_active:f,is_visible_on_marketplace:b,is_visible_on_own_site:S,variants:he.map(be=>({barcode:be.barcode||"",attributes:Object.entries(be.attributes||{}).map(([We,st])=>{const ct=N.find(Mt=>String(Mt.id)===String(We));return{category_attribute:Number(We),predefined_value:ct!=null&&ct.has_predefined_values?Number(st):null,custom_value:ct!=null&&ct.has_predefined_values?"":String(st)}})}))};return le.append("data",JSON.stringify(Ae)),K.forEach((be,We)=>{le.append(`images[${We}][image]`,be.file),le.append(`images[${We}][is_main]`,be.isMain?"true":"false"),le.append(`images[${We}][display_order]`,String(We))}),le},Xe=async le=>{var be,We,st;if(le.preventDefault(),Ie)return;const Ae=Fe();if(!Ae.valid){alert(Ae.message);return}me(!0);try{const ct=It();for(let pn of ct.entries())console.log(pn[0],pn[1]);const Mt=await Re.post(`/api/business/${e}/products/create/`,ct,{headers:{"Content-Type":"multipart/form-data"}});console.log("  :",Mt.data),alert("  "),t(`/business/${e}/products/`)}catch(ct){console.error("   :",((be=ct.response)==null?void 0:be.data)||ct.message),alert("   : "+(((st=(We=ct.response)==null?void 0:We.data)==null?void 0:st.detail)||ct.message)),me(!1)}};return s.jsx(Yb,{backend:Qb,children:s.jsxs("div",{className:Nn.container,children:[ee.files.length>0&&s.jsx("div",{className:Nn.cropModal,children:s.jsx(Km,{files:ee.files,currentIndex:ee.currentIndex,onCropComplete:Le,onCancel:Ne,onNext:Ue,onPrevious:et})}),s.jsxs("div",{className:Nn.content,children:[s.jsxs("h2",{className:Nn.pageTitle,children:[s.jsx(E3,{className:Nn.titleIcon}),"   "]}),s.jsxs("form",{onSubmit:Xe,className:Nn.productForm,children:[s.jsxs("div",{className:Nn.sectionCard,children:[s.jsx("div",{className:Nn.sectionHeader,children:s.jsxs("h5",{children:[s.jsx(Bb,{className:Nn.sectionIcon}),"  "]})}),s.jsxs("div",{className:Nn.sectionBody,children:[s.jsxs("div",{className:Nn.uploadRow,children:[s.jsx("div",{className:Nn.uploadColumn,children:s.jsxs("div",{className:Nn.uploadArea,onClick:pe,onDragOver:le=>le.preventDefault(),onDrop:le=>{le.preventDefault(),Ee({target:{files:le.dataTransfer.files}})},children:[s.jsx("div",{className:Nn.uploadIcon,children:s.jsx(Ab,{})}),s.jsx("h5",{children:"  "}),s.jsx("p",{className:Nn.uploadHint,children:"    "}),s.jsx("input",{type:"file",ref:oe,multiple:!0,accept:"image/*",onChange:Ee,className:Nn.fileInput})]})}),s.jsx("div",{className:Nn.infoColumn,children:s.jsxs("div",{className:Nn.infoAlert,children:[s.jsxs("h6",{children:[s.jsx(ni,{className:Nn.infoIcon}),"   :"]}),s.jsxs("ul",{children:[s.jsx("li",{children:"  "}),s.jsx("li",{children:"   "}),s.jsx("li",{children:" 3    "}),s.jsx("li",{children:" JPG  PNG"})]})]})})]}),s.jsxs("div",{className:Nn.thumbnailsSection,children:[s.jsxs("h6",{className:Nn.thumbnailsTitle,children:["  (",K.length,"):"]}),s.jsx(Gb,{images:K,onImagesReorder:tt,onSetMainImage:dt,onRemoveImage:_e})]})]})]}),s.jsxs("div",{className:Nn.sectionCard,children:[s.jsx("div",{className:Nn.sectionHeader,children:s.jsxs("h5",{children:[s.jsx(ni,{className:Nn.sectionIcon}),"  "]})}),s.jsxs("div",{className:Nn.sectionBody,children:[s.jsxs("div",{className:Nn.formRow,children:[s.jsxs("div",{className:Nn.formGroup,children:[s.jsx("label",{htmlFor:"product-name",className:Nn.formLabel,children:"  *"}),s.jsx("input",{type:"text",id:"product-name",className:Nn.formControl,value:n,onChange:le=>a(le.target.value),required:!0})]}),s.jsxs("div",{className:Nn.formGroup,children:[s.jsx("label",{htmlFor:"product-category",className:Nn.formLabel,children:" *"}),s.jsx(x5e,{categories:R,value:o,onChange:le=>{c(le),le?de(le):(I([]),ge([]))},disabled:U||!!H})]}),s.jsxs("div",{className:Nn.formGroup,children:[s.jsx("label",{htmlFor:"product-unit",className:Nn.formLabel,children:" "}),s.jsxs("select",{id:"product-unit",className:Nn.formControl,value:l,onChange:le=>d(le.target.value),disabled:se,children:[s.jsx("option",{value:"",children:"  "}),X.map(le=>s.jsxs("option",{value:le.id,children:[le.name," (",le.short_name,")"]},le.id))]})]})]}),s.jsxs("div",{className:Nn.formGroup,children:[s.jsx("label",{htmlFor:"product-description",className:Nn.formLabel,children:"  *"}),s.jsx("textarea",{id:"product-description",className:Nn.formControl,rows:"5",value:r,onChange:le=>i(le.target.value),required:!0})]}),s.jsxs("div",{className:Nn.formRow,children:[s.jsxs("div",{className:Nn.checkboxGroup,children:[s.jsx("input",{type:"checkbox",id:"visible-on-marketplace",className:Nn.formCheckbox,checked:b,onChange:le=>w(le.target.checked)}),s.jsx("label",{htmlFor:"visible-on-marketplace",className:Nn.checkboxLabel,children:"  "})]}),s.jsxs("div",{className:Nn.checkboxGroup,children:[s.jsx("input",{type:"checkbox",id:"visible-on-own-site",className:Nn.formCheckbox,checked:S,onChange:le=>j(le.target.checked)}),s.jsx("label",{htmlFor:"visible-on-own-site",className:Nn.checkboxLabel,children:"   "})]}),s.jsxs("div",{className:Nn.checkboxGroup,children:[s.jsx("input",{type:"checkbox",id:"is-active",className:Nn.formCheckbox,checked:f,onChange:le=>g(le.target.checked)}),s.jsx("label",{htmlFor:"is-active",className:Nn.checkboxLabel,children:"  (  )"})]})]})]})]}),o&&s.jsxs("div",{className:Nn.sectionCard,children:[s.jsx("div",{className:Nn.sectionHeader,children:s.jsxs("h5",{children:[s.jsx(Lb,{className:Nn.sectionIcon}),"  "]})}),s.jsxs("div",{className:Nn.sectionBody,children:[s.jsx("div",{className:Nn.infoAlert,children:"      .           ."}),M?s.jsx("div",{children:"  ..."}):P?s.jsxs("div",{className:Nn.errorAlert,children:["  : ",P]}):s.jsx(s.Fragment,{children:s.jsxs("div",{className:Nn.tableWrapper,children:[s.jsx("div",{className:Nn.horizontalScroll,children:s.jsxs("table",{className:Nn.variantTable,children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{className:Nn.stickyColumn,children:""}),N.map(le=>s.jsxs("th",{children:[le.name,le.required&&s.jsx("span",{className:Nn.requiredStar,children:"*"})]},le.id)),s.jsx("th",{className:Nn.stickyColumn,children:"- ()"}),s.jsx("th",{className:Nn.stickyColumn,children:""})]})}),s.jsx("tbody",{children:he.length===0?s.jsx("tr",{children:s.jsx("td",{colSpan:N.length+3,className:Nn.noVariants,children:' .  " "   .'})}):he.map((le,Ae)=>s.jsxs("tr",{children:[s.jsx("td",{className:Nn.stickyColumn,children:Ae+1}),N.map(be=>s.jsx("td",{children:be.has_predefined_values?s.jsxs("select",{className:Nn.formSelect,value:le.attributes[be.id]||"",onChange:We=>re(le.id,null,We.target.value,be.id),required:be.required,children:[!be.required&&s.jsx("option",{value:"",children:" "}),be.values.map(We=>s.jsx("option",{value:String(We.id),children:We.value},We.id))]}):s.jsx("input",{type:"text",className:Nn.formControltd,value:le.attributes[be.id]||"",onChange:We=>re(le.id,null,We.target.value,be.id),placeholder:` ${be.name}`,required:be.required})},be.id)),s.jsx("td",{className:Nn.stickyColumn,children:s.jsx("input",{type:"text",className:Nn.formControltd,value:le.barcode||"",onChange:be=>re(le.id,"barcode",be.target.value),placeholder:"EAN-13 (13 )",maxLength:13,pattern:"[0-9]{13}",title:" 13- EAN-13 -"})}),s.jsx("td",{className:`${Nn.stickyColumn} ${Nn.variantActions}`,children:s.jsx("button",{type:"button",className:Nn.variantButton,onClick:()=>Se(le.id),title:" ",children:s.jsx(Cr,{})})})]},le.id))})]})}),s.jsx("div",{className:Nn.variantControls,children:s.jsxs("div",{children:[s.jsxs("button",{type:"button",className:Nn.variantAddButton,onClick:fe,disabled:N.length===0,children:[s.jsx($a,{className:Nn.buttonIcon}),"  "]}),s.jsxs("button",{type:"button",className:Nn.variantCopyButton,onClick:xe,disabled:he.length===0,children:[s.jsx(Sd,{className:Nn.buttonIcon}),"  "]})]})})]})})]})]}),s.jsxs("div",{className:Nn.formActions,children:[s.jsxs("button",{type:"button",onClick:()=>t(`/business/${e}/products/`),className:Nn.cancelButton,children:[s.jsx(aa,{className:Nn.buttonIcon})," "]}),s.jsx("button",{type:"submit",className:Nn.submitButton,disabled:Ie,style:{opacity:Ie?.6:1,cursor:Ie?"not-allowed":"pointer"},children:Ie?s.jsxs(s.Fragment,{children:[s.jsx("span",{style:{marginRight:"8px"},children:""})," ..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Jo,{className:Nn.buttonIcon}),"  "]})})]})]})]})]})})},y5e="_container_1007j_3",w5e="_content_1007j_13",C5e="_header_1007j_18",S5e="_backButton_1007j_33",j5e="_pageTitle_1007j_57",N5e="_productForm_1007j_65",E5e="_sectionCard_1007j_69",k5e="_sectionHeader_1007j_77",I5e="_sectionIcon_1007j_95",D5e="_sectionBody_1007j_101",T5e="_uploadRow_1007j_105",A5e="_uploadColumn_1007j_112",M5e="_infoColumn_1007j_118",R5e="_uploadArea_1007j_124",O5e="_uploadIcon_1007j_148",B5e="_uploadHint_1007j_160",L5e="_fileInput_1007j_166",$5e="_infoAlert_1007j_170",P5e="_infoIcon_1007j_187",F5e="_thumbnailsSection_1007j_204",H5e="_thumbnailsTitle_1007j_208",z5e="_formRow_1007j_215",V5e="_formGroup_1007j_222",q5e="_formLabel_1007j_228",U5e="_formControl_1007j_234",W5e="_checkboxGroup_1007j_275",Y5e="_formCheckbox_1007j_285",G5e="_checkboxLabel_1007j_295",Q5e="_errorAlert_1007j_304",X5e="_tableWrapper_1007j_314",K5e="_horizontalScroll_1007j_318",Z5e="_variantTable_1007j_326",J5e="_stickyColumn_1007j_355",eEe="_formSelect_1007j_372",tEe="_formControltd_1007j_373",nEe="_requiredStar_1007j_448",sEe="_noVariants_1007j_453",aEe="_variantActions_1007j_460",rEe="_variantButton_1007j_466",iEe="_variantControls_1007j_488",oEe="_variantAddButton_1007j_495",cEe="_variantCopyButton_1007j_496",lEe="_buttonIcon_1007j_529",uEe="_cropModal_1007j_608",dEe="_catPicker_1007j_651",hEe="_catPickerControl_1007j_656",fEe="_catPickerValue_1007j_677",mEe="_catName_1007j_682",pEe="_catPath_1007j_689",gEe="_catPlaceholder_1007j_697",_Ee="_catCaret_1007j_702",vEe="_catDropdown_1007j_716",xEe="_catSearch_1007j_732",bEe="_catList_1007j_749",yEe="_catItem_1007j_755",wEe="_catItemActive_1007j_768",CEe="_catItemName_1007j_772",SEe="_catItemPath_1007j_779",jEe="_catEmpty_1007j_784",An={container:y5e,content:w5e,header:C5e,backButton:S5e,pageTitle:j5e,productForm:N5e,sectionCard:E5e,sectionHeader:k5e,sectionIcon:I5e,sectionBody:D5e,uploadRow:T5e,uploadColumn:A5e,infoColumn:M5e,uploadArea:R5e,uploadIcon:O5e,uploadHint:B5e,fileInput:L5e,infoAlert:$5e,infoIcon:P5e,thumbnailsSection:F5e,thumbnailsTitle:H5e,formRow:z5e,formGroup:V5e,formLabel:q5e,formControl:U5e,checkboxGroup:W5e,formCheckbox:Y5e,checkboxLabel:G5e,errorAlert:Q5e,tableWrapper:X5e,horizontalScroll:K5e,variantTable:Z5e,stickyColumn:J5e,formSelect:eEe,formControltd:tEe,requiredStar:nEe,noVariants:sEe,variantActions:aEe,variantButton:rEe,variantControls:iEe,variantAddButton:oEe,variantCopyButton:cEe,buttonIcon:lEe,cropModal:uEe,catPicker:dEe,catPickerControl:hEe,catPickerValue:fEe,catName:mEe,catPath:pEe,catPlaceholder:gEe,catCaret:_Ee,catDropdown:vEe,catSearch:xEe,catList:bEe,catItem:yEe,catItemActive:wEe,catItemName:CEe,catItemPath:SEe,catEmpty:jEe},NEe=({categories:e=[],value:t,onChange:n,disabled:a,placeholder:r="    ..."})=>{const[i,o]=v.useState(!1),[c,l]=v.useState(""),[d,f]=v.useState(0),g=v.useRef(null),b=e.find(I=>String(I.id)===String(t))||null,w=c.trim().toLowerCase(),S=w?e.filter(I=>(I.name||"").toLowerCase().includes(w)||(I.full_path||"").toLowerCase().includes(w)):e;v.useEffect(()=>{if(!i)return;const I=M=>{g.current&&!g.current.contains(M.target)&&o(!1)};return document.addEventListener("mousedown",I),()=>document.removeEventListener("mousedown",I)},[i]),v.useEffect(()=>{i&&f(0)},[i,w]);const j=I=>{if(!i&&(I.key==="ArrowDown"||I.key==="Enter")){o(!0);return}if(i)if(I.key==="ArrowDown")I.preventDefault(),f(M=>Math.min(M+1,S.length-1));else if(I.key==="ArrowUp")I.preventDefault(),f(M=>Math.max(M-1,0));else if(I.key==="Enter"){I.preventDefault();const M=S[d];M&&(n(String(M.id)),l(""),o(!1))}else I.key==="Escape"&&(I.preventDefault(),o(!1))},N=I=>{n(String(I.id)),l(""),o(!1)};return s.jsxs("div",{className:An.catPicker,ref:g,children:[s.jsxs("div",{className:An.catPickerControl,onClick:()=>!a&&o(I=>!I),children:[s.jsx("div",{className:An.catPickerValue,children:b?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:An.catName,children:b.name}),s.jsx("div",{className:An.catPath,title:b.full_path,children:b.full_path})]}):s.jsx("div",{className:An.catPlaceholder,children:r})}),s.jsx("div",{className:An.catCaret})]}),i&&s.jsxs("div",{className:An.catDropdown,onKeyDown:j,children:[s.jsx("input",{autoFocus:!0,className:An.catSearch,value:c,onChange:I=>l(I.target.value),placeholder:"    ..."}),s.jsx("div",{className:An.catList,role:"listbox",tabIndex:0,children:S.length===0?s.jsx("div",{className:An.catEmpty,children:"  "}):S.slice(0,300).map((I,M)=>s.jsxs("div",{role:"option","aria-selected":String(I.id)===String(t),className:`${An.catItem} ${M===d?An.catItemActive:""}`,onMouseEnter:()=>f(M),onClick:()=>N(I),children:[s.jsx("div",{className:An.catItemName,children:I.name}),s.jsx("div",{className:An.catItemPath,children:I.full_path})]},I.id))})]})]})},EEe=()=>{const{business_slug:e}=fa(),t=Rs(),[n,a]=v.useState(""),[r,i]=v.useState(""),[o,c]=v.useState(""),[l,d]=v.useState(""),[f,g]=v.useState(!0),[b,w]=v.useState(!0),[S,j]=v.useState(!0),[N,I]=v.useState([]),[M,B]=v.useState(!1),[P,O]=v.useState(null),[R,$]=v.useState([]),[U,F]=v.useState(!0),[H,ne]=v.useState(null),[X,te]=v.useState([]),[se,V]=v.useState(!0),[q,T]=v.useState([]),[J,Z]=v.useState(!1),[A,Y]=v.useState(null),[K,G]=v.useState([]),oe=v.useRef(null),[ee,ae]=v.useState({files:[],currentIndex:0,croppedImages:[]}),[ie,ue]=v.useState(!1),[he,ge]=v.useState([]),[ye,je]=v.useState(1),[Ie,me]=v.useState(!1);v.useEffect(()=>{(async()=>{try{const Ae=await Re.get(`/api/business/${e}/categories/`);$(Ae.data.results||Ae.data);const be=await Re.get(`/api/business/${e}/locations/`);T(be.data.results||be.data);const We=await Re.get("/api/units-of-measure/");te(We.data),F(!1),Z(!1),V(!1)}catch(Ae){ne(Ae.message),F(!1),Z(!1),V(!1),console.error("   :",Ae)}})()},[e]);const de=async le=>{try{B(!0),O(null);const be=(await Re.get(`/api/categories/${le}/attributes/`)).data.map(We=>({...We,values:We.values||[],has_predefined_values:We.has_predefined_values||!1}));I(be),ge([]),je(1)}catch(Ae){O(Ae.message),console.error("    :",Ae)}finally{B(!1)}},fe=()=>{const le={id:ye,attributes:N.reduce((Ae,be)=>(Ae[String(be.id)]=be.values.length>0?be.values[0].id?String(be.values[0].id):String(be.values[0]):"",Ae),{})};ge([...he,le]),je(ye+1)},re=(le,Ae,be,We=null)=>{ge(he.map(st=>st.id===le?We!==null?{...st,attributes:{...st.attributes,[String(We)]:typeof be=="number"?String(be):be}}:{...st,[Ae]:be}:st))},xe=()=>{if(he.length===0)return;const le=he[he.length-1],Ae={};Object.entries(le.attributes||{}).forEach(([We,st])=>{Ae[String(We)]=typeof st=="number"?String(st):st});const be={id:ye,attributes:Ae};ge([...he,be]),je(ye+1)},Se=le=>{ge(he.filter(Ae=>Ae.id!==le))},pe=()=>{oe.current.click()},Ee=le=>{const Ae=le.target.files;Ae.length>0&&(ae({files:Array.from(Ae),currentIndex:0,croppedImages:[]}),ue(!0),document.body.classList.add(An.bodyNoScroll)),le.target.value=""},Le=(le,Ae)=>{const be={id:Date.now()+Ae,file:le,preview:URL.createObjectURL(le),isMain:K.length===0&&Ae===0};G(We=>[...We,be]),Ae===ee.files.length-1&&(ue(!1),document.body.classList.remove(An.bodyNoScroll),ae({files:[],currentIndex:0,croppedImages:[]}))},Ue=()=>{ae(le=>({...le,currentIndex:le.currentIndex+1}))},Ne=()=>{ue(!1),document.body.classList.remove(An.bodyNoScroll),ae({files:[],currentIndex:0,croppedImages:[]})},et=()=>{ae(le=>({...le,currentIndex:le.currentIndex-1}))},dt=le=>{G(Ae=>{const be=Ae.find(pn=>pn.isMain);if((be==null?void 0:be.id)===le)return Ae;const We=[...Ae],st=We.findIndex(pn=>pn.id===le);if(st===-1)return Ae;const ct=We.map(pn=>({...pn,isMain:pn.id===le})),[Mt]=ct.splice(st,1);return[Mt,...ct]})},_e=le=>{G(Ae=>{const be=Ae.find(st=>st.id===le);if(be!=null&&be.isMain&&Ae.length>1&&!window.confirm("   . ?")||!be)return Ae;const We=Ae.filter(st=>st.id!==le);return be.isMain&&We.length>0&&(We[0].isMain=!0),We})},tt=le=>{G(le)},Fe=()=>{if(!n.trim())return{valid:!1,message:"  ."};if(!o)return{valid:!1,message:"  ."};if(!r.trim())return{valid:!1,message:"  ."};if(K.length===0)return{valid:!1,message:"    ."};if(!K.some(le=>le.isMain))return{valid:!1,message:"  ."};if(he.length===0)return{valid:!1,message:"     ."};for(let[le,Ae]of he.entries())for(let be of N)if(be.required){const We=Ae.attributes[be.id];if(We==null||We==="")return{valid:!1,message:` ${le+1}:    "${be.name}".`}}return{valid:!0,message:""}},It=()=>{const le=new FormData,Ae={name:n,description:r,category:o,unit_of_measure:l||null,is_active:f,is_visible_on_marketplace:b,is_visible_on_own_site:S,variants:he.map(be=>({barcode:be.barcode||"",attributes:Object.entries(be.attributes||{}).map(([We,st])=>{const ct=N.find(Mt=>String(Mt.id)===String(We));return{category_attribute:Number(We),predefined_value:ct!=null&&ct.has_predefined_values?Number(st):null,custom_value:ct!=null&&ct.has_predefined_values?"":String(st)}})}))};return le.append("data",JSON.stringify(Ae)),K.forEach((be,We)=>{le.append(`images[${We}][image]`,be.file),le.append(`images[${We}][is_main]`,be.isMain?"true":"false"),le.append(`images[${We}][display_order]`,String(We))}),le},Xe=async le=>{var be,We,st;if(le.preventDefault(),Ie)return;const Ae=Fe();if(!Ae.valid){alert(Ae.message);return}me(!0);try{const ct=It();for(let pn of ct.entries())console.log(pn[0],pn[1]);const Mt=await Re.post(`/api/business/${e}/products/create/`,ct,{headers:{"Content-Type":"multipart/form-data"}});console.log("  :",Mt.data),alert("  "),t(`/business/${e}/products/`)}catch(ct){console.error("   :",((be=ct.response)==null?void 0:be.data)||ct.message),alert("   : "+(((st=(We=ct.response)==null?void 0:We.data)==null?void 0:st.detail)||ct.message)),me(!1)}};return s.jsx(Yb,{backend:Qb,children:s.jsxs("div",{className:An.container,children:[ee.files.length>0&&s.jsx("div",{className:An.cropModal,children:s.jsx(Km,{files:ee.files,currentIndex:ee.currentIndex,onCropComplete:Le,onCancel:Ne,onNext:Ue,onPrevious:et})}),s.jsxs("div",{className:An.header,children:[s.jsx("button",{type:"button",className:An.backButton,onClick:()=>t(`/business/${e}/products/`),"aria-label":"",children:s.jsx(hm,{})}),s.jsx("h1",{className:An.pageTitle,children:" "})]}),s.jsx("div",{className:An.content,children:s.jsxs("form",{id:"product-form",onSubmit:Xe,className:An.productForm,children:[s.jsxs("div",{className:An.sectionCard,children:[s.jsx("div",{className:An.sectionHeader,children:s.jsxs("h5",{children:[s.jsx(Bb,{className:An.sectionIcon}),"  "]})}),s.jsxs("div",{className:An.sectionBody,children:[s.jsxs("div",{className:An.uploadRow,children:[s.jsx("div",{className:An.uploadColumn,children:s.jsxs("div",{className:An.uploadArea,onClick:pe,onDragOver:le=>le.preventDefault(),onDrop:le=>{le.preventDefault(),Ee({target:{files:le.dataTransfer.files}})},children:[s.jsx("div",{className:An.uploadIcon,children:s.jsx(Ab,{})}),s.jsx("h5",{children:"  "}),s.jsx("p",{className:An.uploadHint,children:"    "}),s.jsx("input",{type:"file",ref:oe,multiple:!0,accept:"image/*",onChange:Ee,className:An.fileInput})]})}),s.jsx("div",{className:An.infoColumn,children:s.jsxs("div",{className:An.infoAlert,children:[s.jsxs("h6",{children:[s.jsx(ni,{className:An.infoIcon}),"   :"]}),s.jsxs("ul",{children:[s.jsx("li",{children:"  "}),s.jsx("li",{children:"   "}),s.jsx("li",{children:" 3    "}),s.jsx("li",{children:" JPG  PNG"})]})]})})]}),s.jsxs("div",{className:An.thumbnailsSection,children:[s.jsxs("h6",{className:An.thumbnailsTitle,children:["  (",K.length,"):"]}),s.jsx(Gb,{images:K,onImagesReorder:tt,onSetMainImage:dt,onRemoveImage:_e})]})]})]}),s.jsxs("div",{className:An.sectionCard,children:[s.jsx("div",{className:An.sectionHeader,children:s.jsxs("h5",{children:[s.jsx(ni,{className:An.sectionIcon}),"  "]})}),s.jsxs("div",{className:An.sectionBody,children:[s.jsxs("div",{className:An.formRow,children:[s.jsxs("div",{className:An.formGroup,children:[s.jsx("label",{htmlFor:"product-name",className:An.formLabel,children:"  *"}),s.jsx("input",{type:"text",id:"product-name",className:An.formControl,value:n,onChange:le=>a(le.target.value),required:!0})]}),s.jsxs("div",{className:An.formGroup,children:[s.jsx("label",{htmlFor:"product-category",className:An.formLabel,children:" *"}),s.jsx(NEe,{categories:R,value:o,onChange:le=>{c(le),le?de(le):(I([]),ge([]))},disabled:U||!!H})]}),s.jsxs("div",{className:An.formGroup,children:[s.jsx("label",{htmlFor:"product-unit",className:An.formLabel,children:" "}),s.jsxs("select",{id:"product-unit",className:An.formControl,value:l,onChange:le=>d(le.target.value),disabled:se,children:[s.jsx("option",{value:"",children:"  "}),X.map(le=>s.jsxs("option",{value:le.id,children:[le.name," (",le.short_name,")"]},le.id))]})]})]}),s.jsxs("div",{className:An.formGroup,children:[s.jsx("label",{htmlFor:"product-description",className:An.formLabel,children:"  *"}),s.jsx("textarea",{id:"product-description",className:An.formControl,rows:"5",value:r,onChange:le=>i(le.target.value),required:!0})]}),s.jsxs("div",{className:An.formRow,children:[s.jsxs("div",{className:An.checkboxGroup,children:[s.jsx("input",{type:"checkbox",id:"visible-on-marketplace",className:An.formCheckbox,checked:b,onChange:le=>w(le.target.checked)}),s.jsx("label",{htmlFor:"visible-on-marketplace",className:An.checkboxLabel,children:"  "})]}),s.jsxs("div",{className:An.checkboxGroup,children:[s.jsx("input",{type:"checkbox",id:"visible-on-own-site",className:An.formCheckbox,checked:S,onChange:le=>j(le.target.checked)}),s.jsx("label",{htmlFor:"visible-on-own-site",className:An.checkboxLabel,children:"   "})]}),s.jsxs("div",{className:An.checkboxGroup,children:[s.jsx("input",{type:"checkbox",id:"is-active",className:An.formCheckbox,checked:f,onChange:le=>g(le.target.checked)}),s.jsx("label",{htmlFor:"is-active",className:An.checkboxLabel,children:"  (  )"})]})]})]})]}),o&&s.jsxs("div",{className:An.sectionCard,children:[s.jsx("div",{className:An.sectionHeader,children:s.jsxs("h5",{children:[s.jsx(Lb,{className:An.sectionIcon}),"  "]})}),s.jsxs("div",{className:An.sectionBody,children:[s.jsx("div",{className:An.infoAlert,children:"      .           ."}),M?s.jsx("div",{children:"  ..."}):P?s.jsxs("div",{className:An.errorAlert,children:["  : ",P]}):s.jsx(s.Fragment,{children:s.jsxs("div",{className:An.tableWrapper,children:[s.jsx("div",{className:An.horizontalScroll,children:s.jsxs("table",{className:An.variantTable,children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{className:An.stickyColumn,children:""}),N.map(le=>s.jsxs("th",{children:[le.name,le.required&&s.jsx("span",{className:An.requiredStar,children:"*"})]},le.id)),s.jsx("th",{className:An.stickyColumn,children:"- ()"}),s.jsx("th",{className:An.stickyColumn,children:""})]})}),s.jsx("tbody",{children:he.length===0?s.jsx("tr",{children:s.jsx("td",{colSpan:N.length+3,className:An.noVariants,children:' .  " "   .'})}):he.map((le,Ae)=>s.jsxs("tr",{children:[s.jsx("td",{className:An.stickyColumn,children:Ae+1}),N.map(be=>s.jsx("td",{children:be.has_predefined_values?s.jsxs("select",{className:An.formSelect,value:le.attributes[be.id]||"",onChange:We=>re(le.id,null,We.target.value,be.id),required:be.required,children:[!be.required&&s.jsx("option",{value:"",children:" "}),be.values.map(We=>s.jsx("option",{value:String(We.id),children:We.value},We.id))]}):s.jsx("input",{type:"text",className:An.formControltd,value:le.attributes[be.id]||"",onChange:We=>re(le.id,null,We.target.value,be.id),placeholder:` ${be.name}`,required:be.required})},be.id)),s.jsx("td",{className:An.stickyColumn,children:s.jsx("input",{type:"text",className:An.formControltd,value:le.barcode||"",onChange:be=>re(le.id,"barcode",be.target.value),placeholder:"EAN-13 (13 )",maxLength:13,pattern:"[0-9]{13}",title:" 13- EAN-13 -"})}),s.jsx("td",{className:`${An.stickyColumn} ${An.variantActions}`,children:s.jsx("button",{type:"button",className:An.variantButton,onClick:()=>Se(le.id),title:" ",children:s.jsx(Cr,{})})})]},le.id))})]})}),s.jsx("div",{className:An.variantControls,children:s.jsxs("div",{children:[s.jsxs("button",{type:"button",className:An.variantAddButton,onClick:fe,disabled:N.length===0,children:[s.jsx($a,{className:An.buttonIcon}),"  "]}),s.jsxs("button",{type:"button",className:An.variantCopyButton,onClick:xe,disabled:he.length===0,children:[s.jsx(Sd,{className:An.buttonIcon}),"  "]})]})})]})})]})]})]})})]})})},VL=()=>{const{business_slug:e}=fa(),t=Rs(),[n,a]=v.useState(null),[r,i]=v.useState([]),[o,c]=v.useState([]),[l,d]=v.useState([]),[f,g]=v.useState([]),[b,w]=v.useState(!1),[S,j]=v.useState(!1),[N,I]=v.useState(!1),[M,B]=v.useState(null),[P,O]=v.useState(null),[R,$]=v.useState({});v.useEffect(()=>{e&&(async()=>{try{w(!0);const[G,oe,ee]=await Promise.all([Re.get(`/api/business/${e}/categories/`),Re.get(`/api/business/${e}/locations/`),Re.get("/api/units-of-measure/")]);c(G.data||[]),d(oe.data||[]),g(ee.data||[])}catch(G){console.error("  :",G),B("  ")}finally{w(!1)}})()},[e]);const U=v.useCallback(K=>{if(!K){a(null),i([]);return}if(!K.name.match(/\.(xlsx|xls)$/i)){B("   .xlsx  .xls");return}a(K),B(null),i([])},[]),F=v.useCallback(async()=>{var K,G,oe;if(!n){B("   ");return}try{j(!0),B(null);const ee=new FormData;ee.append("excel_file",n);const ae=await Re.post(`/api/business/${e}/excel-import/parse/`,ee,{headers:{"Content-Type":"multipart/form-data"}});console.log("Response from API:",ae.data),console.log("Products:",ae.data.products),console.log("Products length:",(K=ae.data.products)==null?void 0:K.length);const ie=(ae.data.products||[]).map(he=>({...he,use_auto_barcode:he.use_auto_barcode!==void 0?he.use_auto_barcode:!0})),ue=ie.filter(he=>he.article&&he.article.trim()).map(he=>he.article.trim());if(ue.length>0)try{const ge=(await Re.post(`/api/business/${e}/excel-import/get-existing/`,{articles:ue})).data.products||{},ye=ie.map(Ie=>{const me=(Ie.article||"").trim();if(me&&ge[me]){const de=ge[me];return{...Ie,name:Ie.name,description:Ie.description||"",price:Ie.price,main_quantity:Ie.main_quantity,category_id:de.category_id||Ie.category_id,location_id:de.location_id||Ie.location_id,images:de.images||Ie.images||[],attributes:de.attributes||Ie.attributes||{},barcode:de.barcode,barcode_from_existing:!!de.barcode,use_auto_barcode:de.use_auto_barcode!==void 0?de.use_auto_barcode:Ie.use_auto_barcode,main_unit:Ie.main_unit||de.unit_of_measure_code,is_active:de.is_active!==void 0?de.is_active:Ie.is_active,is_visible_on_marketplace:de.is_visible_on_marketplace!==void 0?de.is_visible_on_marketplace:Ie.is_visible_on_marketplace,is_visible_on_own_site:de.is_visible_on_own_site!==void 0?de.is_visible_on_own_site:Ie.is_visible_on_own_site}}return Ie}),je=new Set;ye.forEach(Ie=>{Ie.category_id&&je.add(Ie.category_id)}),await Promise.all(Array.from(je).map(Ie=>X(Ie))),i(ye)}catch(he){console.error("   :",he),i(ie)}else i(ie);ae.data.errors&&ae.data.errors.length>0&&B(` : ${ae.data.errors.join(", ")}`),ie.length===0&&B("    .   .")}catch(ee){console.error("  :",ee),B(((oe=(G=ee.response)==null?void 0:G.data)==null?void 0:oe.detail)||"   "),i([])}finally{j(!1)}},[n,e]),[H,ne]=v.useState({}),X=v.useCallback(async K=>{if(!K)return[];if(H[K])return H[K];try{const oe=(await Re.get(`/api/categories/${K}/attributes/`)).data.map(ee=>({...ee,values:ee.values||[],has_predefined_values:ee.has_predefined_values||!1}));return ne(ee=>({...ee,[K]:oe})),oe}catch(G){return console.error("    :",G),[]}},[H]),te=v.useCallback((K,G)=>{i(oe=>{const ee=[...oe];return ee[K]={...ee[K],...G},ee})},[]),se=v.useCallback((K,G)=>{i(oe=>{const ee=[...oe];return ee[K]={...ee[K],images:[...ee[K].images||[],...G]},ee})},[]),V=v.useCallback((K,G)=>{i(oe=>{const ee=[...oe];return ee[K]={...ee[K],images:ee[K].images.filter((ae,ie)=>ie!==G)},ee})},[]),q=v.useCallback((K,G,oe)=>{i(ee=>{const ae=[...ee],ie=[...ae[K].images||[]],[ue]=ie.splice(G,1);return ie.splice(oe,0,ue),ae[K]={...ae[K],images:ie},ae})},[]),T=v.useCallback(K=>{i(G=>{const oe=[...G];return oe.splice(K,1),oe})},[]),J=v.useCallback(async(K="upsert")=>{var oe,ee,ae,ie,ue,he,ge,ye,je,Ie,me,de,fe;if(!r||r.length===0){B("   ");return}const G=[];if(r.forEach((re,xe)=>{const Se=[];(!re.name||typeof re.name=="string"&&!re.name.trim())&&Se.push(" "),(!re.article||typeof re.article=="string"&&!re.article.trim())&&Se.push(""),(!re.price||re.price===null||re.price===void 0)&&Se.push(""),re.category_id||Se.push(""),re.location_id||Se.push(""),(!re.main_unit||typeof re.main_unit=="string"&&!re.main_unit.trim())&&Se.push(" "),(re.main_quantity===null||re.main_quantity===void 0||re.main_quantity==="")&&Se.push(""),re.category_id&&H[re.category_id]&&H[re.category_id].filter(Ee=>Ee.required).forEach(Ee=>{var Ue;const Le=(Ue=re.attributes)==null?void 0:Ue[Ee.id];(!Le||typeof Le=="string"&&!Le.trim())&&Se.push(` "${Ee.name}"`)}),Se.length>0&&G.push({index:xe+1,name:re.name||` ${xe+1}`,errors:Se})}),G.length>0){const re=G.map(xe=>` ${xe.index} (${xe.name}): ${xe.errors.join(", ")}`);B(`   :
${re.join(`
`)}`);return}try{I(!0),B(null),O(null),$({});const re=new FormData;re.append("mode",K);const xe=r.map((pe,Ee)=>{const Le=(pe.images||[]).filter(Ne=>Ne instanceof File),Ue=(pe.images||[]).filter(Ne=>!(Ne instanceof File)&&Ne&&Ne.id).map(Ne=>({id:Ne.id,is_main:Ne.is_main||!1,display_order:Ne.display_order||0}));return{name:pe.name,description:pe.description||"",article:pe.article||"",barcode:pe.use_auto_barcode?null:pe.barcode||"",use_auto_barcode:pe.use_auto_barcode||!1,price:pe.price||null,main_unit:pe.main_unit||null,main_quantity:pe.main_quantity||null,category_id:pe.category_id,location_id:pe.location_id,is_visible_on_marketplace:pe.is_visible_on_marketplace||!1,is_visible_on_own_site:pe.is_visible_on_own_site||!1,is_active:pe.is_active!==void 0?pe.is_active:!0,attributes:pe.attributes||{},images_count:Le.length,existing_image_ids:Ue}});re.append("products",JSON.stringify(xe)),r.forEach((pe,Ee)=>{(pe.images||[]).filter(Ue=>Ue instanceof File).forEach((Ue,Ne)=>{re.append(`product_${Ee}_image_${Ne}`,Ue)})});const Se=await Re.post(`/api/business/${e}/excel-import/create/`,re,{headers:{"Content-Type":"multipart/form-data"}});if(Se.data.errors&&Se.data.errors.length>0){const pe={};Se.data.errors.forEach(dt=>{const _e=dt.index!==void 0?dt.index-1:void 0;if(_e!==void 0&&_e>=0&&dt.errors){const tt=[];Object.entries(dt.errors).forEach(([Fe,It])=>{Array.isArray(It)?It.forEach(Xe=>{typeof Xe=="string"?tt.push(Xe):typeof Xe=="object"&&Xe!==null?tt.push(String(Xe.message||Xe)):tt.push(String(Xe))}):typeof It=="string"?tt.push(It):tt.push(String(It))}),pe[_e]=tt}}),console.log(" :",pe),$(pe);const Ee=Se.data.errors.length,Le=((oe=Se.data.summary)==null?void 0:oe.created_count)||0,Ue=((ee=Se.data.summary)==null?void 0:ee.updated_count)||0,Ne=((ae=Se.data.summary)==null?void 0:ae.deleted_count)||0;let et=`  : ${Ee} .`;(Le>0||Ue>0||Ne>0)&&(et+=` : ${Le}, : ${Ue}`,Ne>0&&(et+=`, : ${Ne}`)),B(et),I(!1)}else{const pe=((ie=Se.data.summary)==null?void 0:ie.created_count)||0,Ee=((ue=Se.data.summary)==null?void 0:ue.updated_count)||0,Le=((he=Se.data.summary)==null?void 0:he.deleted_count)||0;let Ue=` :  ${pe}`;Ee>0&&(Ue+=`,  ${Ee}`),Le>0&&(Ue+=`,  ${Le}`),O(Ue)}!Se.data.errors||Se.data.errors.length===0?setTimeout(()=>{t(`/business/${e}/products`)},2e3):I(!1)}catch(re){if(console.error("  :",re),(ye=(ge=re.response)==null?void 0:ge.data)!=null&&ye.errors&&Array.isArray(re.response.data.errors)){const xe={};re.response.data.errors.forEach(Ne=>{const et=Ne.index!==void 0?Ne.index-1:void 0;if(et!==void 0&&et>=0&&Ne.errors){const dt=[];Object.entries(Ne.errors).forEach(([_e,tt])=>{Array.isArray(tt)?tt.forEach(Fe=>{typeof Fe=="string"?dt.push(Fe):typeof Fe=="object"&&Fe!==null?dt.push(String(Fe.message||Fe)):dt.push(String(Fe))}):typeof tt=="string"?dt.push(tt):dt.push(String(tt))}),xe[et]=dt}}),console.log("  (catch):",xe),console.log(" :",re.response.data.errors),$(xe);const Se=re.response.data.errors.length,pe=((je=re.response.data.summary)==null?void 0:je.created_count)||0,Ee=((Ie=re.response.data.summary)==null?void 0:Ie.updated_count)||0,Le=((me=re.response.data.summary)==null?void 0:me.deleted_count)||0;let Ue=`  : ${Se} .`;(pe>0||Ee>0||Le>0)&&(Ue+=` : ${pe}, : ${Ee}`,Le>0&&(Ue+=`, : ${Le}`)),B(Ue)}else B(((fe=(de=re.response)==null?void 0:de.data)==null?void 0:fe.detail)||"   "),$({});I(!1)}},[r,H,e,t]),Z=v.useCallback(K=>f.find(G=>G.code===K),[f]),A=v.useCallback(K=>o.find(G=>G.id===K),[o]),Y=v.useCallback(K=>l.find(G=>G.id===K),[l]);return{excelFile:n,parsedProducts:r,categories:o,locations:l,unitsOfMeasure:f,categoryAttributes:H,loading:b,parsing:S,importing:N,error:M,success:P,handleFileSelect:U,parseExcelFile:F,updateProductData:te,addProductImages:se,removeProductImage:V,reorderProductImages:q,removeProduct:T,importProducts:J,fetchCategoryAttributes:X,getUnitByCode:Z,getCategoryById:A,getLocationById:Y,setError:B,setSuccess:O,clearData:()=>{a(null),i([]),B(null),O(null),$({})},importErrors:R}},kEe="_container_1ighm_2",IEe="_content_1ighm_8",DEe="_loaderContainer_1ighm_14",TEe="_pageTitle_1ighm_21",AEe="_titleIcon_1ighm_30",MEe="_sectionCard_1ighm_36",REe="_sectionHeader_1ighm_45",OEe="_sectionIcon_1ighm_59",BEe="_sectionBody_1ighm_64",LEe="_uploadArea_1ighm_68",$Ee="_uploadIcon_1ighm_89",PEe="_uploadHint_1ighm_106",FEe="_fileInfo_1ighm_113",HEe="_fileName_1ighm_123",zEe="_fileActions_1ighm_131",VEe="_btnPrimary_1ighm_136",qEe="_btnSecondary_1ighm_137",UEe="_spin_1ighm_173",WEe="_alertError_1ighm_186",YEe="_alertSuccess_1ighm_187",GEe="_productsList_1ighm_223",QEe="_productCard_1ighm_228",XEe="_productCardError_1ighm_236",KEe="_productErrors_1ighm_241",ZEe="_productErrorsList_1ighm_258",JEe="_productErrorItem_1ighm_265",eke="_productHeader_1ighm_270",tke="_removeProductButton_1ighm_285",nke="_productBody_1ighm_308",ske="_formRow_1ighm_313",ake="_checkboxRow_1ighm_343",rke="_barcodeInputContainer_1ighm_363",ike="_toggleSwitch_1ighm_370",oke="_slider_1ighm_399",cke="_toggleLabel_1ighm_416",lke="_attributesSection_1ighm_423",uke="_attributeRow_1ighm_433",dke="_attributeLabel_1ighm_439",hke="_requiredStar_1ighm_445",fke="_actions_1ighm_450",mke="_importModeButtons_1ighm_461",pke="_btnSync_1ighm_467",gke="_dropdownContainer_1ighm_494",_ke="_dropdownButton_1ighm_499",vke="_dropdown_1ighm_494",xke="_searchInputContainer_1ighm_540",bke="_searchInput_1ighm_540",yke="_dropdownList_1ighm_570",wke="_dropdownItem_1ighm_575",Cke="_selected_1ighm_591",Ske="_noResults_1ighm_601",jke="_imagesSection_1ighm_611",Nke="_addImageButton_1ighm_617",Eke="_imagesList_1ighm_638",kke="_imageItem_1ighm_644",Ike="_dragOver_1ighm_661",Dke="_imageDragHandle_1ighm_666",Tke="_imagePreview_1ighm_691",Ake="_imageActions_1ighm_699",Mke="_removeImageButton_1ighm_720",Rke="_imageIndex_1ighm_747",Oke="_cropModal_1ighm_765",Bke="_bodyNoScroll_1ighm_778",mn={container:kEe,content:IEe,loaderContainer:DEe,pageTitle:TEe,titleIcon:AEe,sectionCard:MEe,sectionHeader:REe,sectionIcon:OEe,sectionBody:BEe,uploadArea:LEe,uploadIcon:$Ee,uploadHint:PEe,fileInfo:FEe,fileName:HEe,fileActions:zEe,btnPrimary:VEe,btnSecondary:qEe,spin:UEe,alertError:WEe,alertSuccess:YEe,productsList:GEe,productCard:QEe,productCardError:XEe,productErrors:KEe,productErrorsList:ZEe,productErrorItem:JEe,productHeader:eke,removeProductButton:tke,productBody:nke,formRow:ske,checkboxRow:ake,barcodeInputContainer:rke,toggleSwitch:ike,slider:oke,toggleLabel:cke,attributesSection:lke,attributeRow:uke,attributeLabel:dke,requiredStar:hke,actions:fke,importModeButtons:mke,btnSync:pke,dropdownContainer:gke,dropdownButton:_ke,dropdown:vke,searchInputContainer:xke,searchInput:bke,dropdownList:yke,dropdownItem:wke,selected:Cke,noResults:Ske,imagesSection:jke,addImageButton:Nke,imagesList:Eke,imageItem:kke,dragOver:Ike,imageDragHandle:Dke,imagePreview:Tke,imageActions:Ake,removeImageButton:Mke,imageIndex:Rke,cropModal:Oke,bodyNoScroll:Bke},Lke=()=>{Rs();const e=v.useRef(null),{getFileUrl:t}=Ur(),[n,a]=v.useState({}),[r,i]=v.useState({}),[o,c]=v.useState({}),[l,d]=v.useState({}),[f,g]=v.useState({productIndex:null,files:[],currentIndex:0}),{excelFile:b,parsedProducts:w,categories:S,locations:j,unitsOfMeasure:N,categoryAttributes:I,loading:M,parsing:B,importing:P,error:O,success:R,handleFileSelect:$,parseExcelFile:U,updateProductData:F,addProductImages:H,removeProductImage:ne,reorderProductImages:X,removeProduct:te,importProducts:se,fetchCategoryAttributes:V,getUnitByCode:q,setError:T,setSuccess:J,clearData:Z,importErrors:A}=VL(),Y=Se=>{var Ee;const pe=(Ee=Se.target.files)==null?void 0:Ee[0];pe&&$(pe)},K=Se=>{var Ee;Se.preventDefault();const pe=(Ee=Se.dataTransfer.files)==null?void 0:Ee[0];pe&&$(pe)},G=Se=>{Se.preventDefault()},oe=Se=>{a(pe=>({...pe,[Se]:!pe[Se]})),i(pe=>({...pe,[Se]:!1}))},ee=async(Se,pe)=>{F(Se,{category_id:pe||null,attributes:{}}),a(Ee=>({...Ee,[Se]:!1})),c(Ee=>({...Ee,[Se]:""})),pe&&await V(pe)},ae=(Se,pe)=>{c(Ee=>({...Ee,[Se]:pe}))},ie=Se=>{i(pe=>({...pe,[Se]:!pe[Se]})),a(pe=>({...pe,[Se]:!1}))},ue=(Se,pe)=>{F(Se,{location_id:pe||null}),i(Ee=>({...Ee,[Se]:!1})),d(Ee=>({...Ee,[Se]:""}))},he=(Se,pe)=>{d(Ee=>({...Ee,[Se]:pe}))};v.useEffect(()=>{const Se=pe=>{pe.target.closest("[data-dropdown-container]")||(a({}),i({}))};return document.addEventListener("mousedown",Se),()=>{document.removeEventListener("mousedown",Se)}},[]);const ge=Se=>{const pe=(o[Se]||"").toLowerCase();return pe?S.filter(Ee=>(Ee.full_path||Ee.name).toLowerCase().includes(pe)):S},ye=Se=>{const pe=(l[Se]||"").toLowerCase();return pe?j.filter(Ee=>Ee.name.toLowerCase().includes(pe)):j},je=Se=>{if(!Se)return" ";const pe=S.find(Ee=>Ee.id===Se);return pe?pe.full_path||pe.name:" "},Ie=Se=>{if(!Se)return" ";const pe=j.find(Ee=>Ee.id===Se);return pe?pe.name:" "},me=(Se,pe)=>{pe.length>0&&(g({productIndex:Se,files:Array.from(pe),currentIndex:0}),document.body.classList.add(mn.bodyNoScroll))},de=(Se,pe)=>{const{productIndex:Ee,files:Le}=f;Ee!==null&&(H(Ee,[Se]),pe===Le.length-1&&(g({productIndex:null,files:[],currentIndex:0}),document.body.classList.remove(mn.bodyNoScroll)))},fe=()=>{g({productIndex:null,files:[],currentIndex:0}),document.body.classList.remove(mn.bodyNoScroll)},re=()=>{g(Se=>({...Se,currentIndex:Se.currentIndex+1}))},xe=()=>{g(Se=>({...Se,currentIndex:Se.currentIndex-1}))};return M?s.jsx("div",{className:mn.container,children:s.jsx("div",{className:mn.loaderContainer,children:s.jsx(Wn,{})})}):s.jsxs("div",{className:mn.container,children:[f.files.length>0&&f.productIndex!==null&&s.jsx("div",{className:mn.cropModal,children:s.jsx(Km,{files:f.files,currentIndex:f.currentIndex,onCropComplete:de,onCancel:fe,onNext:re,onPrevious:xe})}),s.jsxs("div",{className:mn.content,children:[s.jsxs("h1",{className:mn.pageTitle,children:[s.jsx(Ch,{className:mn.titleIcon}),"   Excel"]}),s.jsxs("div",{className:mn.sectionCard,children:[s.jsx("div",{className:mn.sectionHeader,children:s.jsxs("h5",{children:[s.jsx(pm,{className:mn.sectionIcon})," "]})}),s.jsxs("div",{className:mn.sectionBody,children:[!b&&!w.length&&s.jsxs("div",{className:mn.uploadArea,onDrop:K,onDragOver:G,onClick:()=>{var Se;return(Se=e.current)==null?void 0:Se.click()},children:[s.jsx(Ch,{className:mn.uploadIcon}),s.jsx("h3",{children:" Excel  "}),s.jsx("p",{children:"    "}),s.jsx("p",{className:mn.uploadHint,children:"  .xlsx, .xls"})]}),b&&s.jsxs("div",{className:mn.fileInfo,children:[s.jsxs("div",{className:mn.fileName,children:[s.jsx(Ch,{}),b.name]}),s.jsxs("div",{className:mn.fileActions,children:[s.jsxs("button",{className:mn.btnSecondary,onClick:()=>{Z(),e.current&&(e.current.value="")},children:[s.jsx(aa,{})," "]}),!w.length&&s.jsx("button",{className:mn.btnPrimary,onClick:U,disabled:B,children:B?s.jsxs(s.Fragment,{children:[s.jsx(Mo,{className:mn.spin})," ..."]}):s.jsxs(s.Fragment,{children:[s.jsx(pm,{}),"  "]})})]})]}),s.jsx("input",{ref:e,type:"file",accept:".xlsx,.xls",onChange:Y,style:{display:"none"}})]})]}),O&&s.jsxs("div",{className:mn.alertError,children:[s.jsx(Sx,{}),s.jsx("span",{children:O}),s.jsx("button",{onClick:()=>T(null),children:s.jsx(aa,{})})]}),R&&s.jsxs("div",{className:mn.alertSuccess,children:[s.jsx(Sl,{}),s.jsx("span",{children:R}),s.jsx("button",{onClick:()=>J(null),children:s.jsx(aa,{})})]}),w.length>0&&s.jsxs("div",{className:mn.sectionCard,children:[s.jsx("div",{className:mn.sectionHeader,children:s.jsxs("h5",{children:[" : ",w.length]})}),s.jsxs("div",{className:mn.sectionBody,children:[s.jsx("div",{className:mn.productsList,children:w.map((Se,pe)=>{const Ee=A[pe]||[],Le=q(Se.main_unit),Ue=Le?(()=>{const Ne=(Le.code||"").toLowerCase();if(["pcs","","","","box","pack"].includes(Ne))return!0;const dt=(Le.name||"").toLowerCase();return["","","",""].some(tt=>dt.includes(tt))})():!1;return s.jsxs("div",{className:`${mn.productCard} ${Ee.length>0?mn.productCardError:""}`,children:[Ee.length>0&&s.jsxs("div",{className:mn.productErrors,children:[s.jsx(Sx,{}),s.jsx("div",{className:mn.productErrorsList,children:Ee.map((Ne,et)=>s.jsx("div",{className:mn.productErrorItem,children:Ne},et))})]}),s.jsxs("div",{className:mn.productHeader,children:[s.jsxs("h4",{children:[" ",pe+1]}),s.jsx("button",{type:"button",className:mn.removeProductButton,onClick:()=>te(pe),disabled:P,title:"   ",children:s.jsx(aa,{})})]}),s.jsxs("div",{className:mn.productBody,children:[s.jsxs("div",{className:mn.formRow,children:[s.jsx("label",{children:" *"}),s.jsx("input",{type:"text",value:Se.name||"",onChange:Ne=>F(pe,{name:Ne.target.value}),placeholder:"  "})]}),s.jsxs("div",{className:mn.formRow,children:[s.jsx("label",{children:" (SKU)"}),s.jsx("input",{type:"text",value:Se.article||"",onChange:Ne=>F(pe,{article:Ne.target.value}),placeholder:"  (SKU)",disabled:w.length>0,style:w.length>0?{cursor:"not-allowed",backgroundColor:"#f5f5f5"}:{},title:w.length>0?"    ":""})]}),s.jsxs("div",{className:mn.formRow,children:[s.jsx("label",{children:"- (EAN-13)"}),Se.barcode_from_existing?s.jsx("input",{type:"text",value:Se.barcode||"",disabled:!0,style:{cursor:"not-allowed",backgroundColor:"#f5f5f5"},placeholder:"-   "}):s.jsxs("div",{className:mn.barcodeInputContainer,children:[s.jsxs("div",{className:mn.toggleSwitch,children:[s.jsx("input",{type:"checkbox",checked:Se.use_auto_barcode!==!1,onChange:Ne=>F(pe,{use_auto_barcode:Ne.target.checked})}),s.jsx("span",{className:mn.slider}),s.jsx("span",{className:mn.toggleLabel,children:Se.use_auto_barcode!==!1?" ":" "})]}),s.jsx("input",{type:"text",value:Se.barcode||"",onChange:Ne=>F(pe,{barcode:Ne.target.value}),disabled:Se.use_auto_barcode!==!1,style:Se.use_auto_barcode!==!1?{cursor:"not-allowed",backgroundColor:"#f5f5f5"}:{},placeholder:Se.use_auto_barcode!==!1?" ":" - (EAN-13)"})]})]}),s.jsxs("div",{className:mn.formRow,children:[s.jsx("label",{children:" *"}),s.jsxs("div",{className:mn.dropdownContainer,"data-dropdown-container":!0,children:[s.jsxs("div",{className:mn.dropdownButton,onClick:()=>oe(pe),children:[s.jsx("span",{children:je(Se.category_id)}),s.jsx("i",{className:`fa fa-chevron-${n[pe]?"up":"down"}`})]}),n[pe]&&s.jsxs("div",{className:mn.dropdown,children:[s.jsx("div",{className:mn.searchInputContainer,children:s.jsx("input",{type:"text",placeholder:" ...",value:o[pe]||"",onChange:Ne=>ae(pe,Ne.target.value),className:mn.searchInput,onClick:Ne=>Ne.stopPropagation()})}),s.jsxs("div",{className:mn.dropdownList,children:[s.jsxs("div",{className:`${mn.dropdownItem} ${Se.category_id?"":mn.selected}`,onClick:()=>ee(pe,null),children:[" ",!Se.category_id&&s.jsx("i",{className:"fa fa-check"})]}),ge(pe).map(Ne=>s.jsxs("div",{className:`${mn.dropdownItem} ${Se.category_id===Ne.id?mn.selected:""}`,onClick:()=>ee(pe,Ne.id),children:[Ne.full_path||Ne.name,Se.category_id===Ne.id&&s.jsx("i",{className:"fa fa-check"})]},Ne.id)),ge(pe).length===0&&s.jsx("div",{className:mn.noResults,children:"  "})]})]})]})]}),s.jsxs("div",{className:mn.formRow,children:[s.jsx("label",{children:" *"}),s.jsxs("div",{className:mn.dropdownContainer,"data-dropdown-container":!0,children:[s.jsxs("div",{className:mn.dropdownButton,onClick:()=>ie(pe),children:[s.jsx("span",{children:Ie(Se.location_id)}),s.jsx("i",{className:`fa fa-chevron-${r[pe]?"up":"down"}`})]}),r[pe]&&s.jsxs("div",{className:mn.dropdown,children:[s.jsx("div",{className:mn.searchInputContainer,children:s.jsx("input",{type:"text",placeholder:" ...",value:l[pe]||"",onChange:Ne=>he(pe,Ne.target.value),className:mn.searchInput,onClick:Ne=>Ne.stopPropagation()})}),s.jsxs("div",{className:mn.dropdownList,children:[s.jsxs("div",{className:`${mn.dropdownItem} ${Se.location_id?"":mn.selected}`,onClick:()=>ue(pe,null),children:[" ",!Se.location_id&&s.jsx("i",{className:"fa fa-check"})]}),ye(pe).map(Ne=>s.jsxs("div",{className:`${mn.dropdownItem} ${Se.location_id===Ne.id?mn.selected:""}`,onClick:()=>ue(pe,Ne.id),children:[Ne.name,Se.location_id===Ne.id&&s.jsx("i",{className:"fa fa-check"})]},Ne.id)),ye(pe).length===0&&s.jsx("div",{className:mn.noResults,children:"  "})]})]})]})]}),s.jsxs("div",{className:mn.formRow,children:[s.jsx("label",{children:""}),s.jsx("textarea",{value:Se.description||"",onChange:Ne=>F(pe,{description:Ne.target.value}),rows:3})]}),s.jsxs("div",{className:mn.formRow,children:[s.jsx("label",{children:""}),s.jsx("input",{type:"number",value:Se.price||"",onChange:Ne=>F(pe,{price:parseFloat(Ne.target.value)||null}),step:"0.01"})]}),s.jsxs("div",{className:mn.formRow,children:[s.jsx("label",{children:" "}),s.jsxs("select",{value:Se.main_unit||"",onChange:Ne=>F(pe,{main_unit:Ne.target.value||null}),children:[s.jsx("option",{value:"",children:" "}),N.map(Ne=>s.jsxs("option",{value:Ne.code,children:[Ne.name," (",Ne.short_name,")"]},Ne.id))]})]}),s.jsxs("div",{className:mn.formRow,children:[s.jsx("label",{children:""}),s.jsx("input",{type:"number",value:Se.main_quantity||"",onChange:Ne=>{const et=Ne.target.value;if(et===""){F(pe,{main_quantity:null});return}if(Ue)/^\d+$/.test(et)&&F(pe,{main_quantity:parseInt(et,10)});else if(/^\d*\.?\d*$/.test(et)){const dt=parseFloat(et);F(pe,{main_quantity:isNaN(dt)?null:dt})}},onBlur:Ne=>{const et=Ne.target.value;if(et===""||et===null)F(pe,{main_quantity:null});else{const dt=Ue?Math.max(0,parseInt(et,10)||0):Math.max(0,parseFloat(et)||0);F(pe,{main_quantity:dt})}},step:Ue?"1":"0.001",min:"0",placeholder:"0"})]}),Se.category_id&&I[Se.category_id]&&I[Se.category_id].length>0&&s.jsxs("div",{className:mn.formRow,children:[s.jsx("label",{children:""}),s.jsx("div",{className:mn.attributesSection,children:I[Se.category_id].map(Ne=>{var et,dt;return s.jsxs("div",{className:mn.attributeRow,children:[s.jsxs("label",{className:mn.attributeLabel,children:[Ne.name,Ne.required&&s.jsx("span",{className:mn.requiredStar,children:"*"})]}),Ne.has_predefined_values?s.jsxs("select",{className:mn.formControl,value:((et=Se.attributes)==null?void 0:et[Ne.id])||"",onChange:_e=>{const tt={...Se.attributes||{},[Ne.id]:_e.target.value};F(pe,{attributes:tt})},required:Ne.required,children:[!Ne.required&&s.jsx("option",{value:"",children:" "}),Ne.values.map(_e=>s.jsx("option",{value:String(_e.id),children:_e.value},_e.id))]}):s.jsx("input",{type:"text",className:mn.formControl,value:((dt=Se.attributes)==null?void 0:dt[Ne.id])||"",onChange:_e=>{const tt={...Se.attributes||{},[Ne.id]:_e.target.value};F(pe,{attributes:tt})},placeholder:` ${Ne.name}`,required:Ne.required})]},Ne.id)})})]}),s.jsxs("div",{className:mn.formRow,children:[s.jsx("label",{children:""}),s.jsxs("div",{className:mn.imagesSection,children:[s.jsx("input",{type:"file",accept:"image/*",multiple:!0,style:{display:"none"},id:`image-upload-${pe}`,onChange:Ne=>{const et=Array.from(Ne.target.files);et.length>0&&me(pe,et),Ne.target.value=""}}),s.jsxs("button",{type:"button",className:mn.addImageButton,onClick:()=>document.getElementById(`image-upload-${pe}`).click(),children:[s.jsx(gl,{}),"  "]}),Se.images&&Se.images.length>0&&s.jsx("div",{className:mn.imagesList,children:Se.images.map((Ne,et)=>{let dt;if(Ne instanceof File)dt=URL.createObjectURL(Ne);else if(typeof Ne=="string")dt=t(Ne);else if(Ne&&typeof Ne=="object"){const _e=Ne.url||Ne.image;dt=_e?t(_e):""}else dt="";return s.jsxs("div",{className:mn.imageItem,draggable:!0,onDragStart:_e=>{_e.dataTransfer.effectAllowed="move",_e.dataTransfer.setData("text/html",et.toString()),_e.currentTarget.style.opacity="0.5"},onDragEnd:_e=>{_e.currentTarget.style.opacity="1"},onDragOver:_e=>{_e.preventDefault(),_e.dataTransfer.dropEffect="move",_e.currentTarget.classList.add(mn.dragOver)},onDragLeave:_e=>{_e.currentTarget.classList.remove(mn.dragOver)},onDrop:_e=>{_e.preventDefault(),_e.currentTarget.classList.remove(mn.dragOver);const tt=parseInt(_e.dataTransfer.getData("text/html"));tt!==et&&X(pe,tt,et)},children:[s.jsx("div",{className:mn.imageDragHandle,children:s.jsx(KX,{})}),s.jsx("img",{src:dt,alt:`${Se.name} -  ${et+1}`,className:mn.imagePreview,onError:_e=>{_e.target.src&&!_e.target.src.startsWith("data:")&&(_e.target.onerror=null,_e.target.style.display="none")}}),s.jsx("div",{className:mn.imageIndex,children:et+1}),s.jsx("div",{className:mn.imageActions,children:s.jsx("button",{type:"button",className:mn.removeImageButton,onClick:()=>ne(pe,et),title:" ",children:s.jsx(aa,{})})})]},et)})})]})]}),s.jsxs("div",{className:mn.checkboxRow,children:[s.jsxs("div",{className:mn.toggleSwitch,children:[s.jsx("input",{type:"checkbox",checked:Se.is_visible_on_marketplace||!1,onChange:Ne=>F(pe,{is_visible_on_marketplace:Ne.target.checked})}),s.jsx("span",{className:mn.slider}),s.jsx("span",{className:mn.toggleLabel,children:"  "})]}),s.jsxs("div",{className:mn.toggleSwitch,children:[s.jsx("input",{type:"checkbox",checked:Se.is_visible_on_own_site||!1,onChange:Ne=>F(pe,{is_visible_on_own_site:Ne.target.checked})}),s.jsx("span",{className:mn.slider}),s.jsx("span",{className:mn.toggleLabel,children:"   "})]}),s.jsxs("div",{className:mn.toggleSwitch,children:[s.jsx("input",{type:"checkbox",checked:Se.is_active!==!1,onChange:Ne=>F(pe,{is_active:Ne.target.checked})}),s.jsx("span",{className:mn.slider}),s.jsx("span",{className:mn.toggleLabel,children:""})]})]})]})]},pe)})}),s.jsxs("div",{className:mn.actions,children:[s.jsx("button",{className:mn.btnSecondary,onClick:Z,disabled:P,children:""}),s.jsxs("div",{className:mn.importModeButtons,children:[s.jsx("button",{className:mn.btnPrimary,onClick:()=>se("upsert"),disabled:P,title:"     ",children:P?s.jsxs(s.Fragment,{children:[s.jsx(Mo,{className:mn.spin})," ..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Sl,{})," /"]})}),s.jsx("button",{className:mn.btnSync,onClick:()=>se("sync"),disabled:P,title:":  ,     ,    ",children:P?s.jsxs(s.Fragment,{children:[s.jsx(Mo,{className:mn.spin})," ..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Sl,{})," "]})})]})]})]})]})]})]})},$ke="_container_1ikbv_2",Pke="_header_1ikbv_8",Fke="_pageTitle_1ikbv_12",Hke="_titleIcon_1ikbv_21",zke="_content_1ikbv_27",Vke="_loaderContainer_1ikbv_33",qke="_sectionCard_1ikbv_40",Uke="_sectionHeader_1ikbv_47",Wke="_uploadArea_1ikbv_59",Yke="_uploadIcon_1ikbv_72",Gke="_uploadHint_1ikbv_83",Qke="_fileInfo_1ikbv_89",Xke="_fileName_1ikbv_96",Kke="_fileActions_1ikbv_107",Zke="_btnPrimary_1ikbv_112",Jke="_btnSecondary_1ikbv_113",eIe="_spin_1ikbv_149",tIe="_alertError_1ikbv_162",nIe="_alertSuccess_1ikbv_163",sIe="_productsList_1ikbv_194",aIe="_productCard_1ikbv_201",rIe="_productHeader_1ikbv_208",iIe="_removeProductButton_1ikbv_223",oIe="_productBody_1ikbv_246",cIe="_formRow_1ikbv_252",lIe="_checkboxRow_1ikbv_282",uIe="_barcodeInputContainer_1ikbv_303",dIe="_toggleSwitch_1ikbv_310",hIe="_slider_1ikbv_339",fIe="_toggleLabel_1ikbv_356",mIe="_attributesSection_1ikbv_363",pIe="_attributeRow_1ikbv_373",gIe="_attributeLabel_1ikbv_379",_Ie="_requiredStar_1ikbv_385",vIe="_actions_1ikbv_390",xIe="_importModeButtons_1ikbv_398",bIe="_btnSync_1ikbv_405",yIe="_dropdownContainer_1ikbv_434",wIe="_dropdownButton_1ikbv_439",CIe="_dropdown_1ikbv_434",SIe="_searchInputContainer_1ikbv_480",jIe="_searchInput_1ikbv_480",NIe="_dropdownList_1ikbv_510",EIe="_dropdownItem_1ikbv_515",kIe="_selected_1ikbv_531",IIe="_noResults_1ikbv_541",DIe="_imagesSection_1ikbv_551",TIe="_addImageButton_1ikbv_557",AIe="_imagesList_1ikbv_578",MIe="_imageItem_1ikbv_584",RIe="_imageControls_1ikbv_598",OIe="_imageMoveButton_1ikbv_607",BIe="_imagePreview_1ikbv_633",LIe="_imageActions_1ikbv_641",$Ie="_removeImageButton_1ikbv_656",PIe="_imageIndex_1ikbv_683",FIe="_cropModal_1ikbv_701",HIe="_bodyNoScroll_1ikbv_714",bn={container:$ke,header:Pke,pageTitle:Fke,titleIcon:Hke,content:zke,loaderContainer:Vke,sectionCard:qke,sectionHeader:Uke,uploadArea:Wke,uploadIcon:Yke,uploadHint:Gke,fileInfo:Qke,fileName:Xke,fileActions:Kke,btnPrimary:Zke,btnSecondary:Jke,spin:eIe,alertError:tIe,alertSuccess:nIe,productsList:sIe,productCard:aIe,productHeader:rIe,removeProductButton:iIe,productBody:oIe,formRow:cIe,checkboxRow:lIe,barcodeInputContainer:uIe,toggleSwitch:dIe,slider:hIe,toggleLabel:fIe,attributesSection:mIe,attributeRow:pIe,attributeLabel:gIe,requiredStar:_Ie,actions:vIe,importModeButtons:xIe,btnSync:bIe,dropdownContainer:yIe,dropdownButton:wIe,dropdown:CIe,searchInputContainer:SIe,searchInput:jIe,dropdownList:NIe,dropdownItem:EIe,selected:kIe,noResults:IIe,imagesSection:DIe,addImageButton:TIe,imagesList:AIe,imageItem:MIe,imageControls:RIe,imageMoveButton:OIe,imagePreview:BIe,imageActions:LIe,removeImageButton:$Ie,imageIndex:PIe,cropModal:FIe,bodyNoScroll:HIe},zIe=()=>{Rs();const e=v.useRef(null),{getFileUrl:t}=Ur(),[n,a]=v.useState({}),[r,i]=v.useState({}),[o,c]=v.useState({}),[l,d]=v.useState({}),[f,g]=v.useState({productIndex:null,files:[],currentIndex:0}),{excelFile:b,parsedProducts:w,categories:S,locations:j,unitsOfMeasure:N,categoryAttributes:I,loading:M,parsing:B,importing:P,error:O,success:R,handleFileSelect:$,parseExcelFile:U,updateProductData:F,addProductImages:H,removeProductImage:ne,reorderProductImages:X,removeProduct:te,importProducts:se,fetchCategoryAttributes:V,getUnitByCode:q,setError:T,setSuccess:J,clearData:Z}=VL(),A=fe=>{var xe;const re=(xe=fe.target.files)==null?void 0:xe[0];re&&$(re)},Y=fe=>{a(re=>({...re,[fe]:!re[fe]})),i(re=>({...re,[fe]:!1}))},K=async(fe,re)=>{F(fe,{category_id:re||null,attributes:{}}),a(xe=>({...xe,[fe]:!1})),c(xe=>({...xe,[fe]:""})),re&&await V(re)},G=(fe,re)=>{c(xe=>({...xe,[fe]:re}))},oe=fe=>{i(re=>({...re,[fe]:!re[fe]})),a(re=>({...re,[fe]:!1}))},ee=(fe,re)=>{F(fe,{location_id:re||null}),i(xe=>({...xe,[fe]:!1})),d(xe=>({...xe,[fe]:""}))},ae=(fe,re)=>{d(xe=>({...xe,[fe]:re}))};v.useEffect(()=>{const fe=re=>{re.target.closest("[data-dropdown-container]")||(a({}),i({}))};return document.addEventListener("mousedown",fe),()=>{document.removeEventListener("mousedown",fe)}},[]);const ie=fe=>{const re=(o[fe]||"").toLowerCase();return re?S.filter(xe=>(xe.full_path||xe.name).toLowerCase().includes(re)):S},ue=fe=>{const re=(l[fe]||"").toLowerCase();return re?j.filter(xe=>xe.name.toLowerCase().includes(re)):j},he=fe=>{if(!fe)return" ";const re=S.find(xe=>xe.id===fe);return re?re.full_path||re.name:" "},ge=fe=>{if(!fe)return" ";const re=j.find(xe=>xe.id===fe);return re?re.name:" "},ye=(fe,re)=>{re.length>0&&(g({productIndex:fe,files:Array.from(re),currentIndex:0}),document.body.classList.add(bn.bodyNoScroll))},je=(fe,re)=>{const{productIndex:xe,files:Se}=f;xe!==null&&(H(xe,[fe]),re===Se.length-1&&(g({productIndex:null,files:[],currentIndex:0}),document.body.classList.remove(bn.bodyNoScroll)))},Ie=()=>{g({productIndex:null,files:[],currentIndex:0}),document.body.classList.remove(bn.bodyNoScroll)},me=()=>{g(fe=>({...fe,currentIndex:fe.currentIndex+1}))},de=()=>{g(fe=>({...fe,currentIndex:fe.currentIndex-1}))};return M?s.jsx("div",{className:bn.container,children:s.jsx("div",{className:bn.loaderContainer,children:s.jsx(Wn,{})})}):s.jsxs("div",{className:bn.container,children:[f.files.length>0&&f.productIndex!==null&&s.jsx("div",{className:bn.cropModal,children:s.jsx(Km,{files:f.files,currentIndex:f.currentIndex,onCropComplete:je,onCancel:Ie,onNext:me,onPrevious:de})}),s.jsx("div",{className:bn.header,children:s.jsxs("h1",{className:bn.pageTitle,children:[s.jsx(Ch,{className:bn.titleIcon}),"  Excel"]})}),s.jsxs("div",{className:bn.content,children:[!b&&!w.length&&s.jsxs("div",{className:bn.sectionCard,children:[s.jsxs("div",{className:bn.uploadArea,onClick:()=>{var fe;return(fe=e.current)==null?void 0:fe.click()},children:[s.jsx(Ch,{className:bn.uploadIcon}),s.jsx("h3",{children:" Excel "}),s.jsx("p",{className:bn.uploadHint,children:" .xlsx, .xls"})]}),s.jsx("input",{ref:e,type:"file",accept:".xlsx,.xls",onChange:A,style:{display:"none"}})]}),b&&!w.length&&s.jsx("div",{className:bn.sectionCard,children:s.jsxs("div",{className:bn.fileInfo,children:[s.jsxs("div",{className:bn.fileName,children:[s.jsx(Ch,{}),b.name]}),s.jsxs("div",{className:bn.fileActions,children:[s.jsx("button",{className:bn.btnSecondary,onClick:()=>{Z(),e.current&&(e.current.value="")},children:s.jsx(aa,{})}),s.jsx("button",{className:bn.btnPrimary,onClick:U,disabled:B,children:B?s.jsx(Mo,{className:bn.spin}):s.jsx(pm,{})})]})]})}),O&&s.jsxs("div",{className:bn.alertError,children:[s.jsx(Sx,{}),s.jsx("span",{children:O}),s.jsx("button",{onClick:()=>T(null),children:s.jsx(aa,{})})]}),R&&s.jsxs("div",{className:bn.alertSuccess,children:[s.jsx(Sl,{}),s.jsx("span",{children:R}),s.jsx("button",{onClick:()=>J(null),children:s.jsx(aa,{})})]}),w.length>0&&s.jsxs("div",{className:bn.sectionCard,children:[s.jsx("div",{className:bn.sectionHeader,children:s.jsxs("h5",{children:[": ",w.length]})}),s.jsx("div",{className:bn.productsList,children:w.map((fe,re)=>{const xe=q(fe.main_unit),Se=xe?(()=>{const pe=(xe.code||"").toLowerCase();if(["pcs","","","","box","pack"].includes(pe))return!0;const Le=(xe.name||"").toLowerCase();return["","","",""].some(Ne=>Le.includes(Ne))})():!1;return s.jsxs("div",{className:bn.productCard,children:[s.jsxs("div",{className:bn.productHeader,children:[s.jsxs("h4",{children:[" ",re+1]}),s.jsx("button",{type:"button",className:bn.removeProductButton,onClick:()=>te(re),disabled:P,title:"   ",children:s.jsx(aa,{})})]}),s.jsxs("div",{className:bn.productBody,children:[s.jsxs("div",{className:bn.formRow,children:[s.jsx("label",{children:" *"}),s.jsx("input",{type:"text",value:fe.name||"",onChange:pe=>F(re,{name:pe.target.value}),placeholder:"  "})]}),s.jsxs("div",{className:bn.formRow,children:[s.jsx("label",{children:" (SKU)"}),s.jsx("input",{type:"text",value:fe.article||"",onChange:pe=>F(re,{article:pe.target.value}),placeholder:"  (SKU)",disabled:w.length>0,style:w.length>0?{cursor:"not-allowed",backgroundColor:"#f5f5f5"}:{},title:w.length>0?"    ":""})]}),s.jsxs("div",{className:bn.formRow,children:[s.jsx("label",{children:"- (EAN-13)"}),fe.barcode_from_existing?s.jsx("input",{type:"text",value:fe.barcode||"",disabled:!0,style:{cursor:"not-allowed",backgroundColor:"#f5f5f5"},placeholder:"-   "}):s.jsxs("div",{className:bn.barcodeInputContainer,children:[s.jsxs("div",{className:bn.toggleSwitch,children:[s.jsx("input",{type:"checkbox",checked:fe.use_auto_barcode!==!1,onChange:pe=>F(re,{use_auto_barcode:pe.target.checked})}),s.jsx("span",{className:bn.slider}),s.jsx("span",{className:bn.toggleLabel,children:fe.use_auto_barcode!==!1?" ":" "})]}),s.jsx("input",{type:"text",value:fe.barcode||"",onChange:pe=>F(re,{barcode:pe.target.value}),disabled:fe.use_auto_barcode!==!1,style:fe.use_auto_barcode!==!1?{cursor:"not-allowed",backgroundColor:"#f5f5f5"}:{},placeholder:fe.use_auto_barcode!==!1?" ":" - (EAN-13)"})]})]}),s.jsxs("div",{className:bn.formRow,children:[s.jsx("label",{children:" *"}),s.jsxs("div",{className:bn.dropdownContainer,"data-dropdown-container":!0,children:[s.jsxs("div",{className:bn.dropdownButton,onClick:()=>Y(re),children:[s.jsx("span",{children:he(fe.category_id)}),s.jsx("i",{className:`fa fa-chevron-${n[re]?"up":"down"}`})]}),n[re]&&s.jsxs("div",{className:bn.dropdown,children:[s.jsx("div",{className:bn.searchInputContainer,children:s.jsx("input",{type:"text",placeholder:" ...",value:o[re]||"",onChange:pe=>G(re,pe.target.value),className:bn.searchInput,onClick:pe=>pe.stopPropagation()})}),s.jsxs("div",{className:bn.dropdownList,children:[s.jsxs("div",{className:`${bn.dropdownItem} ${fe.category_id?"":bn.selected}`,onClick:()=>K(re,null),children:[" ",!fe.category_id&&s.jsx("i",{className:"fa fa-check"})]}),ie(re).map(pe=>s.jsxs("div",{className:`${bn.dropdownItem} ${fe.category_id===pe.id?bn.selected:""}`,onClick:()=>K(re,pe.id),children:[pe.full_path||pe.name,fe.category_id===pe.id&&s.jsx("i",{className:"fa fa-check"})]},pe.id)),ie(re).length===0&&s.jsx("div",{className:bn.noResults,children:"  "})]})]})]})]}),s.jsxs("div",{className:bn.formRow,children:[s.jsx("label",{children:" *"}),s.jsxs("div",{className:bn.dropdownContainer,"data-dropdown-container":!0,children:[s.jsxs("div",{className:bn.dropdownButton,onClick:()=>oe(re),children:[s.jsx("span",{children:ge(fe.location_id)}),s.jsx("i",{className:`fa fa-chevron-${r[re]?"up":"down"}`})]}),r[re]&&s.jsxs("div",{className:bn.dropdown,children:[s.jsx("div",{className:bn.searchInputContainer,children:s.jsx("input",{type:"text",placeholder:" ...",value:l[re]||"",onChange:pe=>ae(re,pe.target.value),className:bn.searchInput,onClick:pe=>pe.stopPropagation()})}),s.jsxs("div",{className:bn.dropdownList,children:[s.jsxs("div",{className:`${bn.dropdownItem} ${fe.location_id?"":bn.selected}`,onClick:()=>ee(re,null),children:[" ",!fe.location_id&&s.jsx("i",{className:"fa fa-check"})]}),ue(re).map(pe=>s.jsxs("div",{className:`${bn.dropdownItem} ${fe.location_id===pe.id?bn.selected:""}`,onClick:()=>ee(re,pe.id),children:[pe.name,fe.location_id===pe.id&&s.jsx("i",{className:"fa fa-check"})]},pe.id)),ue(re).length===0&&s.jsx("div",{className:bn.noResults,children:"  "})]})]})]})]}),s.jsxs("div",{className:bn.formRow,children:[s.jsx("label",{children:""}),s.jsx("textarea",{value:fe.description||"",onChange:pe=>F(re,{description:pe.target.value}),rows:3})]}),s.jsxs("div",{className:bn.formRow,children:[s.jsx("label",{children:""}),s.jsx("input",{type:"number",value:fe.price||"",onChange:pe=>F(re,{price:parseFloat(pe.target.value)||null}),step:"0.01"})]}),s.jsxs("div",{className:bn.formRow,children:[s.jsx("label",{children:" "}),s.jsxs("select",{value:fe.main_unit||"",onChange:pe=>F(re,{main_unit:pe.target.value||null}),children:[s.jsx("option",{value:"",children:" "}),N.map(pe=>s.jsxs("option",{value:pe.code,children:[pe.name," (",pe.short_name,")"]},pe.id))]})]}),s.jsxs("div",{className:bn.formRow,children:[s.jsx("label",{children:""}),s.jsx("input",{type:"number",value:fe.main_quantity||"",onChange:pe=>{const Ee=pe.target.value;if(Ee===""){F(re,{main_quantity:null});return}if(Se)/^\d+$/.test(Ee)&&F(re,{main_quantity:parseInt(Ee,10)});else if(/^\d*\.?\d*$/.test(Ee)){const Le=parseFloat(Ee);F(re,{main_quantity:isNaN(Le)?null:Le})}},onBlur:pe=>{const Ee=pe.target.value;if(Ee===""||Ee===null)F(re,{main_quantity:null});else{const Le=Se?Math.max(0,parseInt(Ee,10)||0):Math.max(0,parseFloat(Ee)||0);F(re,{main_quantity:Le})}},step:Se?"1":"0.001",min:"0",placeholder:"0"})]}),fe.category_id&&I[fe.category_id]&&I[fe.category_id].length>0&&s.jsxs("div",{className:bn.formRow,children:[s.jsx("label",{children:""}),s.jsx("div",{className:bn.attributesSection,children:I[fe.category_id].map(pe=>{var Ee,Le;return s.jsxs("div",{className:bn.attributeRow,children:[s.jsxs("label",{className:bn.attributeLabel,children:[pe.name,pe.required&&s.jsx("span",{className:bn.requiredStar,children:"*"})]}),pe.has_predefined_values?s.jsxs("select",{className:bn.formControl,value:((Ee=fe.attributes)==null?void 0:Ee[pe.id])||"",onChange:Ue=>{const Ne={...fe.attributes||{},[pe.id]:Ue.target.value};F(re,{attributes:Ne})},required:pe.required,children:[!pe.required&&s.jsx("option",{value:"",children:" "}),pe.values.map(Ue=>s.jsx("option",{value:String(Ue.id),children:Ue.value},Ue.id))]}):s.jsx("input",{type:"text",className:bn.formControl,value:((Le=fe.attributes)==null?void 0:Le[pe.id])||"",onChange:Ue=>{const Ne={...fe.attributes||{},[pe.id]:Ue.target.value};F(re,{attributes:Ne})},placeholder:` ${pe.name}`,required:pe.required})]},pe.id)})})]}),s.jsxs("div",{className:bn.formRow,children:[s.jsx("label",{children:""}),s.jsxs("div",{className:bn.imagesSection,children:[s.jsx("input",{type:"file",accept:"image/*",multiple:!0,style:{display:"none"},id:`image-upload-mobile-${re}`,onChange:pe=>{const Ee=Array.from(pe.target.files);Ee.length>0&&ye(re,Ee),pe.target.value=""}}),s.jsxs("button",{type:"button",className:bn.addImageButton,onClick:()=>document.getElementById(`image-upload-mobile-${re}`).click(),children:[s.jsx(gl,{}),"  "]}),fe.images&&fe.images.length>0&&s.jsx("div",{className:bn.imagesList,children:fe.images.map((pe,Ee)=>{let Le;if(pe instanceof File)Le=URL.createObjectURL(pe);else if(typeof pe=="string")Le=t(pe);else if(pe&&typeof pe=="object"){const Ue=pe.url||pe.image;Le=Ue?t(Ue):""}else Le="";return s.jsxs("div",{className:bn.imageItem,children:[s.jsxs("div",{className:bn.imageControls,children:[s.jsx("button",{type:"button",className:bn.imageMoveButton,onClick:()=>X(re,Ee,Ee-1),disabled:Ee===0,title:"",children:s.jsx(Lo,{})}),s.jsx("button",{type:"button",className:bn.imageMoveButton,onClick:()=>X(re,Ee,Ee+1),disabled:Ee===fe.images.length-1,title:"",children:s.jsx(Bo,{})})]}),s.jsx("img",{src:Le,alt:`${fe.name} -  ${Ee+1}`,className:bn.imagePreview,onError:Ue=>{Ue.target.src&&!Ue.target.src.startsWith("data:")&&(Ue.target.onerror=null,Ue.target.style.display="none")}}),s.jsx("div",{className:bn.imageIndex,children:Ee+1}),s.jsx("div",{className:bn.imageActions,children:s.jsx("button",{type:"button",className:bn.removeImageButton,onClick:()=>ne(re,Ee),title:" ",children:s.jsx(aa,{})})})]},Ee)})})]})]}),s.jsxs("div",{className:bn.checkboxRow,children:[s.jsxs("div",{className:bn.toggleSwitch,children:[s.jsx("input",{type:"checkbox",checked:fe.is_visible_on_marketplace||!1,onChange:pe=>F(re,{is_visible_on_marketplace:pe.target.checked})}),s.jsx("span",{className:bn.slider}),s.jsx("span",{className:bn.toggleLabel,children:" "})]}),s.jsxs("div",{className:bn.toggleSwitch,children:[s.jsx("input",{type:"checkbox",checked:fe.is_visible_on_own_site||!1,onChange:pe=>F(re,{is_visible_on_own_site:pe.target.checked})}),s.jsx("span",{className:bn.slider}),s.jsx("span",{className:bn.toggleLabel,children:"  "})]}),s.jsxs("div",{className:bn.toggleSwitch,children:[s.jsx("input",{type:"checkbox",checked:fe.is_active!==!1,onChange:pe=>F(re,{is_active:pe.target.checked})}),s.jsx("span",{className:bn.slider}),s.jsx("span",{className:bn.toggleLabel,children:""})]})]})]})]},re)})}),s.jsxs("div",{className:bn.actions,children:[s.jsx("button",{className:bn.btnSecondary,onClick:Z,disabled:P,children:""}),s.jsxs("div",{className:bn.importModeButtons,children:[s.jsx("button",{className:bn.btnPrimary,onClick:()=>se("upsert"),disabled:P,title:"     ",children:P?s.jsxs(s.Fragment,{children:[s.jsx(Mo,{className:bn.spin})," ..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Sl,{})," /"]})}),s.jsx("button",{className:bn.btnSync,onClick:()=>se("sync"),disabled:P,title:":  ,     ,    ",children:P?s.jsxs(s.Fragment,{children:[s.jsx(Mo,{className:bn.spin})," ..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Sl,{})," "]})})]})]})]})]})]})},VIe="_batchesSection_486qu_1",qIe="_batchesHeader_486qu_9",UIe="_batchControls_486qu_27",WIe="_filterGroup_486qu_35",YIe="_filterButton_486qu_40",GIe="_filterButtonActive_486qu_50",QIe="_sortGroup_486qu_56",XIe="_pageSizeGroup_486qu_57",KIe="_defectControls_486qu_58",ZIe="_primaryButton_486qu_75",JIe="_secondaryButton_486qu_91",eDe="_linkButton_486qu_143",tDe="_linkButtonDanger_486qu_154",nDe="_emptyState_486qu_162",sDe="_batchesList_486qu_171",aDe="_batchCard_486qu_177",rDe="_batchCardHeader_486qu_184",iDe="_batchNumber_486qu_194",oDe="_batchMeta_486qu_200",cDe="_batchTotals_486qu_208",lDe="_batchLines_486qu_226",uDe="_batchLine_486qu_226",dDe="_batchLineInfo_486qu_239",hDe="_batchLineTitle_486qu_245",fDe="_batchLineSku_486qu_254",mDe="_batchLineLocation_486qu_259",pDe="_batchLineStats_486qu_264",gDe="_inventorySurplus_486qu_278",_De="_inventoryShortage_486qu_283",vDe="_batchLineActions_486qu_288",xDe="_defectsList_486qu_300",bDe="_defectItem_486qu_309",yDe="_defectActions_486qu_318",wDe="_transferBadge_486qu_324",CDe="_transferInfo_486qu_336",SDe="_defectsJournal_486qu_343",jDe="_defectsHeader_486qu_351",NDe="_defectsTable_486qu_364",EDe="_defectsTableHead_486qu_371",kDe="_defectsTableRow_486qu_372",IDe="_pagination_486qu_393",DDe="_modalOverlay_486qu_418",TDe="_modalContent_486qu_429",ADe="_modalHeader_486qu_441",MDe="_closeButton_486qu_458",RDe="_modalBody_486qu_479",ODe="_modalGrid_486qu_529",BDe="_batchLineRow_486qu_537",LDe="_batchLinesBuilder_486qu_549",$De="_batchLinesHeader_486qu_559",PDe="_batchLineToggles_486qu_576",FDe="_removeLineButton_486qu_585",HDe="_modalFooter_486qu_593",zDe="_errorMessage_486qu_603",VDe="_defectMeta_486qu_614",qDe="_defectMetaRow_486qu_626",UDe="_defectMetaLabel_486qu_633",WDe="_defectMetaValue_486qu_639",YDe="_inputHint_486qu_646",GDe="_reasonSelector_486qu_654",QDe="_reasonOption_486qu_661",XDe="_reasonOptionActive_486qu_686",KDe="_exportButton_486qu_708",ZDe="_historyButton_486qu_732",JDe="_historyContainer_486qu_797",eTe="_historyDateGroup_486qu_803",tTe="_historyDateHeader_486qu_808",nTe="_historyRecords_486qu_818",sTe="_historyRecord_486qu_818",aTe="_historyRecordHeader_486qu_831",rTe="_historyRecordType_486qu_838",iTe="_historyRecordTime_486qu_846",oTe="_historyRecordUser_486qu_851",cTe="_historyRecordChanges_486qu_860",lTe="_historyChangeItem_486qu_869",uTe="_historyChangeOld_486qu_878",dTe="_historyChangeNew_486qu_884",hTe="_historyRecordReason_486qu_889",fTe="_historyRecordQuantity_486qu_901",mTe="_historyRecordDescription_486qu_907",pTe="_historyRecordReceipt_486qu_913",gTe="_locationBatchesSection_486qu_922",_Te="_locationBatchesHeader_486qu_928",vTe="_locationBatchesTitle_486qu_937",xTe="_locationBatchFilters_486qu_944",bTe="_loadMoreBatchesContainer_486qu_949",yTe="_loadMoreButton_486qu_955",wTe="_container_486qu_976",CTe="_header_486qu_984",STe="_headerTitleRow_486qu_991",jTe="_backButton_486qu_999",NTe="_title_486qu_1015",ETe="_editButton_486qu_1022",kTe="_errorContainer_486qu_1043",ITe="_error_486qu_603",DTe="_productInfo_486qu_1057",TTe="_tabs_486qu_1068",ATe="_tab_486qu_1068",MTe="_activeTab_486qu_1095",RTe="_imageContainer_486qu_1114",OTe="_imageSlider_486qu_1122",BTe="_mainImage_486qu_1130",LTe="_imageNavButton_486qu_1138",$Te="_imageNavButtonRight_486qu_1166",PTe="_imageIndicator_486qu_1178",FTe="_details_486qu_1192",HTe="_category_486qu_1198",zTe="_description_486qu_1203",VTe="_priceRangeInfo_486qu_1209",qTe="_priceRangeLabel_486qu_1219",UTe="_priceRangeValue_486qu_1224",WTe="_statsInfo_486qu_1230",YTe="_statItem_486qu_1240",GTe="_statLabel_486qu_1247",QTe="_statValue_486qu_1252",XTe="_statValueDefect_486qu_1258",KTe="_locationFilter_486qu_1262",ZTe="_filterLabel_486qu_1274",JTe="_dropdownContainer_486qu_1280",e7e="_dropdownButton_486qu_1286",t7e="_dropdown_486qu_1280",n7e="_searchInputContainer_486qu_1326",s7e="_searchInput_486qu_1326",a7e="_dropdownList_486qu_1355",r7e="_dropdownItem_486qu_1360",i7e="_selected_486qu_1375",o7e="_noResults_486qu_1384",c7e="_clearFilterButton_486qu_1391",l7e="_locationsList_486qu_1411",u7e="_locationCard_486qu_1422",d7e="_locationName_486qu_1435",h7e="_variantsList_486qu_1443",f7e="_variantCard_486qu_1449",m7e="_variantHeader_486qu_1462",p7e="_variantName_486qu_1469",g7e="_variantSku_486qu_1475",_7e="_variantAttributes_486qu_1480",v7e="_attributeTag_486qu_1487",x7e="_variantDetails_486qu_1496",b7e="_priceSection_486qu_1503",y7e="_priceEdit_486qu_1504",w7e="_priceLabel_486qu_1519",C7e="_priceValue_486qu_1524",S7e="_addPriceButton_486qu_1567",j7e="_priceRow_486qu_1587",N7e="_priceActions_486qu_1594",E7e="_priceInfo_486qu_1600",k7e="_isActiveToggle_486qu_1607",I7e="_toggleLabel_486qu_1620",D7e="_priceInput_486qu_1626",T7e="_priceUnitLabel_486qu_1641",A7e="_editButtons_486qu_1648",M7e="_saveButton_486qu_1653",R7e="_cancelButton_486qu_1654",O7e="_stockInfo_486qu_1686",B7e="_stockItem_486qu_1691",L7e="_barcodeSection_486qu_1708",$7e="_barcodeTitle_486qu_1718",P7e="_barcodeImageContainer_486qu_1726",F7e="_barcodeImg_486qu_1738",H7e="_barcodeNumber_486qu_1745",z7e="_printBarcodeButton_486qu_1754",V7e="_activeFlagsSection_486qu_1782",q7e="_activeFlagsTitle_486qu_1790",U7e="_activeFlagsList_486qu_1799",W7e="_activeFlagItem_486qu_1805",Y7e="_flagLabel_486qu_1836",G7e="_filterSelect_486qu_1960",Q7e="_availableQuantity_486qu_2014",X7e="_reservedQuantity_486qu_2019",K7e="_defectQuantity_486qu_2024",Z7e="_analyticsSection_486qu_2085",J7e="_analyticsHeader_486qu_2093",e9e="_analyticsPeriodSelector_486qu_2112",t9e="_analyticsStats_486qu_2123",n9e="_analyticsStatCard_486qu_2130",s9e="_analyticsChartSection_486qu_2150",a9e="_analyticsSubSection_486qu_2164",r9e="_chartContainer_486qu_2178",i9e="_variantPopularityTable_486qu_2184",o9e="_variantPopularityHead_486qu_2190",c9e="_variantPopularityRow_486qu_2191",l9e="_forecastCards_486qu_2221",u9e="_forecastCard_486qu_2221",d9e="_forecastTitle_486qu_2235",h9e="_forecastValue_486qu_2242",f9e="_stockDynamics_486qu_2248",m9e="_stockDynamicsItem_486qu_2254",p9e="_stockDynamicsLabel_486qu_2264",g9e="_stockDynamicsValue_486qu_2269",De={batchesSection:VIe,batchesHeader:qIe,batchControls:UIe,filterGroup:WIe,filterButton:YIe,filterButtonActive:GIe,sortGroup:QIe,pageSizeGroup:XIe,defectControls:KIe,primaryButton:ZIe,secondaryButton:JIe,linkButton:eDe,linkButtonDanger:tDe,emptyState:nDe,batchesList:sDe,batchCard:aDe,batchCardHeader:rDe,batchNumber:iDe,batchMeta:oDe,batchTotals:cDe,batchLines:lDe,batchLine:uDe,batchLineInfo:dDe,batchLineTitle:hDe,batchLineSku:fDe,batchLineLocation:mDe,batchLineStats:pDe,inventorySurplus:gDe,inventoryShortage:_De,batchLineActions:vDe,defectsList:xDe,defectItem:bDe,defectActions:yDe,transferBadge:wDe,transferInfo:CDe,defectsJournal:SDe,defectsHeader:jDe,defectsTable:NDe,defectsTableHead:EDe,defectsTableRow:kDe,pagination:IDe,modalOverlay:DDe,modalContent:TDe,modalHeader:ADe,closeButton:MDe,modalBody:RDe,modalGrid:ODe,batchLineRow:BDe,batchLinesBuilder:LDe,batchLinesHeader:$De,batchLineToggles:PDe,removeLineButton:FDe,modalFooter:HDe,errorMessage:zDe,defectMeta:VDe,defectMetaRow:qDe,defectMetaLabel:UDe,defectMetaValue:WDe,inputHint:YDe,reasonSelector:GDe,reasonOption:QDe,reasonOptionActive:XDe,exportButton:KDe,historyButton:ZDe,historyContainer:JDe,historyDateGroup:eTe,historyDateHeader:tTe,historyRecords:nTe,historyRecord:sTe,historyRecordHeader:aTe,historyRecordType:rTe,historyRecordTime:iTe,historyRecordUser:oTe,historyRecordChanges:cTe,historyChangeItem:lTe,historyChangeOld:uTe,historyChangeNew:dTe,historyRecordReason:hTe,historyRecordQuantity:fTe,historyRecordDescription:mTe,historyRecordReceipt:pTe,locationBatchesSection:gTe,locationBatchesHeader:_Te,locationBatchesTitle:vTe,locationBatchFilters:xTe,loadMoreBatchesContainer:bTe,loadMoreButton:yTe,container:wTe,header:CTe,headerTitleRow:STe,backButton:jTe,title:NTe,editButton:ETe,errorContainer:kTe,error:ITe,productInfo:DTe,tabs:TTe,tab:ATe,activeTab:MTe,imageContainer:RTe,imageSlider:OTe,mainImage:BTe,imageNavButton:LTe,imageNavButtonRight:$Te,imageIndicator:PTe,details:FTe,category:HTe,description:zTe,priceRangeInfo:VTe,priceRangeLabel:qTe,priceRangeValue:UTe,statsInfo:WTe,statItem:YTe,statLabel:GTe,statValue:QTe,statValueDefect:XTe,locationFilter:KTe,filterLabel:ZTe,dropdownContainer:JTe,dropdownButton:e7e,dropdown:t7e,searchInputContainer:n7e,searchInput:s7e,dropdownList:a7e,dropdownItem:r7e,selected:i7e,noResults:o7e,clearFilterButton:c7e,locationsList:l7e,locationCard:u7e,locationName:d7e,variantsList:h7e,variantCard:f7e,variantHeader:m7e,variantName:p7e,variantSku:g7e,variantAttributes:_7e,attributeTag:v7e,variantDetails:x7e,priceSection:b7e,priceEdit:y7e,priceLabel:w7e,priceValue:C7e,addPriceButton:S7e,priceRow:j7e,priceActions:N7e,priceInfo:E7e,isActiveToggle:k7e,toggleLabel:I7e,priceInput:D7e,priceUnitLabel:T7e,editButtons:A7e,saveButton:M7e,cancelButton:R7e,stockInfo:O7e,stockItem:B7e,barcodeSection:L7e,barcodeTitle:$7e,barcodeImageContainer:P7e,barcodeImg:F7e,barcodeNumber:H7e,printBarcodeButton:z7e,activeFlagsSection:V7e,activeFlagsTitle:q7e,activeFlagsList:U7e,activeFlagItem:W7e,flagLabel:Y7e,filterSelect:G7e,availableQuantity:Q7e,reservedQuantity:X7e,defectQuantity:K7e,analyticsSection:Z7e,analyticsHeader:J7e,analyticsPeriodSelector:e9e,analyticsStats:t9e,analyticsStatCard:n9e,analyticsChartSection:s9e,analyticsSubSection:a9e,chartContainer:r9e,variantPopularityTable:i9e,variantPopularityHead:o9e,variantPopularityRow:c9e,forecastCards:l9e,forecastCard:u9e,forecastTitle:d9e,forecastValue:h9e,stockDynamics:f9e,stockDynamicsItem:m9e,stockDynamicsLabel:p9e,stockDynamicsValue:g9e},_9e="_container_r2q7i_1",v9e="_error_r2q7i_10",x9e="_statsGrid_r2q7i_20",b9e="_statCard_r2q7i_27",y9e="_statLabel_r2q7i_35",w9e="_statValue_r2q7i_41",C9e="_filtersContainer_r2q7i_48",S9e="_filters_r2q7i_48",j9e="_filterInput_r2q7i_65",N9e="_clearButton_r2q7i_80",E9e="_exportButton_r2q7i_96",k9e="_section_r2q7i_130",I9e="_sectionTitle_r2q7i_138",D9e="_noData_r2q7i_145",T9e="_table_r2q7i_155",A9e="_linkButton_r2q7i_183",M9e="_salesList_r2q7i_200",R9e="_saleCard_r2q7i_206",O9e="_saleHeader_r2q7i_219",B9e="_saleDate_r2q7i_230",L9e="_saleReceipt_r2q7i_235",$9e="_saleBody_r2q7i_243",P9e="_saleInfo_r2q7i_250",F9e="_infoRow_r2q7i_256",H9e="_sku_r2q7i_262",z9e="_batchInfo_r2q7i_268",V9e="_salePricing_r2q7i_274",q9e="_priceRow_r2q7i_284",U9e="_discount_r2q7i_291",W9e="_total_r2q7i_296",Y9e="_returnsSection_r2q7i_303",G9e="_returnsHeader_r2q7i_309",Q9e="_returnItem_r2q7i_316",X9e="_returnInfo_r2q7i_324",K9e="_defectBadge_r2q7i_334",Z9e="_returnAmount_r2q7i_343",J9e="_returnReason_r2q7i_349",eAe="_customerInfo_r2q7i_356",cs={container:_9e,error:v9e,statsGrid:x9e,statCard:b9e,statLabel:y9e,statValue:w9e,filtersContainer:C9e,filters:S9e,filterInput:j9e,clearButton:N9e,exportButton:E9e,section:k9e,sectionTitle:I9e,noData:D9e,table:T9e,linkButton:A9e,salesList:M9e,saleCard:R9e,saleHeader:O9e,saleDate:B9e,saleReceipt:L9e,saleBody:$9e,saleInfo:P9e,infoRow:F9e,sku:H9e,batchInfo:z9e,salePricing:V9e,priceRow:q9e,discount:U9e,total:W9e,returnsSection:Y9e,returnsHeader:G9e,returnItem:Q9e,returnInfo:X9e,defectBadge:K9e,returnAmount:Z9e,returnReason:J9e,customerInfo:eAe},qL=({businessSlug:e,productId:t})=>{var N,I,M,B;const n=Rs(),[a,r]=v.useState(!0),[i,o]=v.useState(null),[c,l]=v.useState(null),[d,f]=v.useState({location:"",variant:"",startDate:"",endDate:""});v.useEffect(()=>{g()},[e,t,d]);const g=async()=>{var P,O;try{r(!0);const R={};d.location&&(R.location=d.location),d.variant&&(R.variant=d.variant),d.startDate&&(R.start_date=d.startDate),d.endDate&&(R.end_date=d.endDate);const $=await Re.get(`/api/business/${e}/products/${t}/sales-history/`,{params:R});o($.data)}catch(R){console.error("   :",R),l(((O=(P=R.response)==null?void 0:P.data)==null?void 0:O.detail)||"  ")}finally{r(!1)}},b=(P,O)=>{f(R=>({...R,[P]:O}))},w=P=>{n(`/business/${e}/transactions?receipt=${P}`)},S=P=>{n(`/business/${e}/batches?batch=${P}`)},j=async()=>{var P,O;try{const R={};d.location&&(R.location=d.location),d.variant&&(R.variant=d.variant),d.startDate&&(R.start_date=d.startDate),d.endDate&&(R.end_date=d.endDate);const $=await Re.get(`/api/business/${e}/products/${t}/sales-history/export-excel/`,{params:R,responseType:"blob"}),U=window.URL.createObjectURL(new Blob([$.data])),F=document.createElement("a");F.href=U;const H=$.headers["content-disposition"];let ne=`__${new Date().toISOString().split("T")[0]}.xlsx`;if(H){const X=H.match(/filename="(.+)"/);X&&(ne=X[1])}F.setAttribute("download",ne),document.body.appendChild(F),F.click(),F.remove(),window.URL.revokeObjectURL(U)}catch(R){console.error("   Excel:",R),alert("   Excel: "+(((O=(P=R.response)==null?void 0:P.data)==null?void 0:O.detail)||R.message))}};return a?s.jsx(Wn,{}):c?s.jsx("div",{className:cs.error,children:c}):i?s.jsxs("div",{className:cs.container,children:[s.jsxs("div",{className:cs.statsGrid,children:[s.jsxs("div",{className:cs.statCard,children:[s.jsx("div",{className:cs.statLabel,children:" "}),s.jsx("div",{className:cs.statValue,children:i.statistics.total_sales})]}),s.jsxs("div",{className:cs.statCard,children:[s.jsxs("div",{className:cs.statLabel,children:[" ",((N=i.product)==null?void 0:N.unit_display)||"."]}),s.jsx("div",{className:cs.statValue,children:i.statistics.total_quantity_sold})]}),s.jsxs("div",{className:cs.statCard,children:[s.jsx("div",{className:cs.statLabel,children:""}),s.jsxs("div",{className:cs.statValue,children:[i.statistics.total_revenue.toFixed(2)," "]})]}),s.jsxs("div",{className:cs.statCard,children:[s.jsx("div",{className:cs.statLabel,children:""}),s.jsxs("div",{className:cs.statValue,children:[i.statistics.total_returns_count," (",i.statistics.total_returned_quantity," ",((I=i.product)==null?void 0:I.unit_display)||".",")"]})]}),s.jsxs("div",{className:cs.statCard,children:[s.jsx("div",{className:cs.statLabel,children:" "}),s.jsxs("div",{className:cs.statValue,children:[i.statistics.total_refunded.toFixed(2)," "]})]}),s.jsxs("div",{className:cs.statCard,children:[s.jsx("div",{className:cs.statLabel,children:" "}),s.jsxs("div",{className:cs.statValue,children:[i.statistics.net_revenue.toFixed(2)," "]})]})]}),s.jsxs("div",{className:cs.filtersContainer,children:[s.jsxs("div",{className:cs.filters,children:[s.jsx("input",{type:"date",placeholder:" ",value:d.startDate,onChange:P=>b("startDate",P.target.value),className:cs.filterInput}),s.jsx("input",{type:"date",placeholder:" ",value:d.endDate,onChange:P=>b("endDate",P.target.value),className:cs.filterInput}),s.jsx("button",{onClick:()=>f({location:"",variant:"",startDate:"",endDate:""}),className:cs.clearButton,children:" "})]}),s.jsxs("button",{onClick:j,className:cs.exportButton,disabled:!i||i.sales.length===0,children:[s.jsx("i",{className:"fa fa-file-excel"}),"   Excel"]})]}),i.batches_breakdown.length>0&&s.jsxs("div",{className:cs.section,children:[s.jsx("h3",{className:cs.sectionTitle,children:"  "}),s.jsx("div",{className:cs.table,children:s.jsxs("table",{children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:" "}),s.jsxs("th",{children:[" ",((M=i.product)==null?void 0:M.unit_display)||"."]}),s.jsx("th",{children:""}),s.jsx("th",{})]})}),s.jsx("tbody",{children:i.batches_breakdown.map(P=>s.jsxs("tr",{children:[s.jsx("td",{children:P.batch_number}),s.jsx("td",{children:P.quantity_sold}),s.jsxs("td",{children:[P.revenue.toFixed(2)," "]}),s.jsx("td",{children:s.jsx("button",{onClick:()=>S(P.batch_id),className:cs.linkButton,children:"  "})})]},P.batch_id))})]})})]}),i.locations_breakdown.length>0&&s.jsxs("div",{className:cs.section,children:[s.jsx("h3",{className:cs.sectionTitle,children:"  "}),s.jsx("div",{className:cs.table,children:s.jsxs("table",{children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:""}),s.jsxs("th",{children:[" ",((B=i.product)==null?void 0:B.unit_display)||"."]}),s.jsx("th",{children:""})]})}),s.jsx("tbody",{children:i.locations_breakdown.map(P=>s.jsxs("tr",{children:[s.jsx("td",{children:P.location_name}),s.jsx("td",{children:P.quantity_sold}),s.jsxs("td",{children:[P.revenue.toFixed(2)," "]})]},P.location_id))})]})})]}),s.jsxs("div",{className:cs.section,children:[s.jsx("h3",{className:cs.sectionTitle,children:"  "}),i.sales.length===0?s.jsx("div",{className:cs.noData,children:"   "}):s.jsx("div",{className:cs.salesList,children:i.sales.map(P=>{var O,R;return s.jsxs("div",{className:cs.saleCard,children:[s.jsxs("div",{className:cs.saleHeader,children:[s.jsx("div",{className:cs.saleDate,children:new Date(P.sale_date).toLocaleString("ru-RU")}),s.jsxs("div",{className:cs.saleReceipt,children:[": ",s.jsx("button",{onClick:()=>w(P.receipt.id),className:cs.linkButton,children:P.receipt.number})]})]}),s.jsxs("div",{className:cs.saleBody,children:[s.jsxs("div",{className:cs.saleInfo,children:[s.jsxs("div",{className:cs.infoRow,children:[s.jsx("strong",{children:":"})," ",P.variant.auto_name,P.variant.sku&&s.jsxs("span",{className:cs.sku,children:["(SKU: ",P.variant.sku,")"]})]}),s.jsxs("div",{className:cs.infoRow,children:[s.jsx("strong",{children:":"})," ",P.location.name," (",P.location.location_type,")"]}),P.batch&&s.jsxs("div",{className:cs.infoRow,children:[s.jsx("strong",{children:":"}),s.jsx("button",{onClick:()=>S(P.batch.id),className:cs.linkButton,children:P.batch.batch_number}),s.jsxs("span",{className:cs.batchInfo,children:["(: ",new Date(P.batch.received_date).toLocaleDateString("ru-RU"),")",P.batch.supplier&&`, : ${P.batch.supplier}`]})]})]}),s.jsxs("div",{className:cs.salePricing,children:[s.jsxs("div",{className:cs.priceRow,children:[s.jsx("span",{children:":"}),s.jsxs("strong",{children:[P.quantity," ",((O=i.product)==null?void 0:O.unit_display)||"."]})]}),s.jsxs("div",{className:cs.priceRow,children:[s.jsx("span",{children:"  :"}),s.jsxs("span",{children:[P.price_per_unit.toFixed(2)," "]})]}),(P.discount_percent>0||P.discount_amount>0)&&s.jsxs("div",{className:cs.priceRow,children:[s.jsx("span",{children:":"}),s.jsxs("span",{className:cs.discount,children:[P.discount_percent>0&&`${P.discount_percent}%`,P.discount_amount>0&&` ${P.discount_amount.toFixed(2)} `]})]}),s.jsxs("div",{className:cs.priceRow,children:[s.jsx("span",{children:":"}),s.jsxs("strong",{className:cs.total,children:[P.final_total_price.toFixed(2)," "]})]})]})]}),P.has_returns&&s.jsxs("div",{className:cs.returnsSection,children:[s.jsxs("div",{className:cs.returnsHeader,children:["  (",P.total_returned,"  ",P.quantity," ",((R=i.product)==null?void 0:R.unit_display)||".",")"]}),P.returns.map($=>{var U;return s.jsxs("div",{className:cs.returnItem,children:[s.jsxs("div",{className:cs.returnInfo,children:[s.jsx("span",{children:new Date($.return_date).toLocaleString("ru-RU")}),s.jsxs("span",{children:[$.quantity," ",((U=i.product)==null?void 0:U.unit_display)||"."]}),$.is_defect&&s.jsx("span",{className:cs.defectBadge,children:""})]}),s.jsxs("div",{className:cs.returnAmount,children:[": ",$.refund_amount.toFixed(2)," "]}),$.reason&&s.jsxs("div",{className:cs.returnReason,children:[": ",$.reason]})]},$.id)})]}),(P.receipt.customer_name||P.receipt.customer_phone)&&s.jsxs("div",{className:cs.customerInfo,children:[": ",P.receipt.customer_name," ",P.receipt.customer_phone]})]},P.id)})})]})]}):null},tAe=()=>{var Ft,En,gn,Qn,Gt,Tn,hn,ss,Qt,xs,wt,rn,Bn,vs,bs,ua,tr,Xa,ji,Sr,Zi;const{business_slug:e,product_id:t}=fa(),n=Rs(),{getFileUrl:a}=Ur(),[r,i]=v.useState(null),[o,c]=v.useState(!0),[l,d]=v.useState(null),[f,g]=v.useState({}),[b,w]=v.useState({}),[S,j]=v.useState(!1),[N,I]=v.useState("locations"),[M,B]=v.useState(null),[P,O]=v.useState(""),[R,$]=v.useState(!1),[U,F]=v.useState(!1),[H,ne]=v.useState({batch_number:"",received_date:Xn().format("YYYY-MM-DD"),supplier:"",notes:"",stocks:[]}),[X,te]=v.useState(!1),[se,V]=v.useState(""),[q,T]=v.useState({open:!1,stockId:null,variantName:"",locationName:"",batchNumber:"",quantity:"",reason:"",defectId:null,availableQuantity:0}),[J,Z]=v.useState(!1),[A,Y]=v.useState(""),[K,G]=v.useState({open:!1,stockId:null,variantName:"",locationName:"",batchNumber:"",quantity:"",reason:"other",reasonDetail:"",availableQuantity:0,writeoffId:null}),[oe,ee]=v.useState(!1),[ae,ie]=v.useState(""),[ue,he]=v.useState({open:!1,stockId:null,batchNumber:"",variantName:"",locationName:"",history:[],loading:!1}),[ge,ye]=v.useState({open:!1,variantLocationId:null,variantName:"",locationName:"",history:[],loading:!1,page:1,hasMore:!1,loadingMore:!1}),[je,Ie]=v.useState("recent"),[me,de]=v.useState("all"),[fe,re]=v.useState(1),[xe,Se]=v.useState(5),[pe,Ee]=v.useState("recent"),[Le,Ue]=v.useState(1),[Ne,et]=v.useState(20),[dt,_e]=v.useState([]),[tt,Fe]=v.useState([]),[It,Xe]=v.useState(null),[le,Ae]=v.useState(null),[be,We]=v.useState(!1),[st,ct]=v.useState(null),[Mt,pn]=v.useState(!1),[Gn,bt]=v.useState("day"),[ln,fn]=v.useState({}),[wn,ut]=v.useState({}),[Et,nt]=v.useState({}),[Rt,Lt]=v.useState({}),on=v.useRef(null),vn=v.useRef(null),[ns,us]=v.useState(0);v.useEffect(()=>{_s()},[e,t]),v.useEffect(()=>{var Pe;if(((Pe=r==null?void 0:r.images)==null?void 0:Pe.length)>0){const Qe=r.images.findIndex(ft=>ft.is_main);us(Qe>=0?Qe:0)}},[r==null?void 0:r.id]),v.useEffect(()=>{r&&r.id&&!r.locations&&ds()},[r==null?void 0:r.id,e,t]),v.useEffect(()=>{N==="locations"&&(r!=null&&r.locations)&&r.locations.forEach(Pe=>{const Qe=wn[Pe.id]||"all";Es(Pe.id,Qe,1,!1)})},[N,e,t,(Ft=r==null?void 0:r.locations)==null?void 0:Ft.length]),v.useEffect(()=>{if(N==="locations"&&(r!=null&&r.locations))if(M){const Pe=wn[M]||"all";Es(M,Pe,1,!1)}else r.locations.forEach(Pe=>{const Qe=wn[Pe.id]||"all";Es(Pe.id,Qe,1,!1)})},[M,N]),v.useEffect(()=>{N==="analytics"&&Xt()},[N,e,t,Gn]),v.useEffect(()=>{if(!st||!on.current||N!=="analytics")return;vn.current&&vn.current.destroy();const Pe=on.current.getContext("2d"),Qe=st.sales_chart||[],ft=Qe.map(Zn=>{const Cs=Xn(Zn.period);return Gn==="day"?Cs.format("DD MMM"):Cs.format("MMM YYYY")}),yt=Qe.map(Zn=>parseFloat(Zn.revenue||0)),kn=Qe.map(Zn=>parseInt(Zn.quantity||0)),Un=Qe.map(Zn=>parseInt(Zn.orders||0));return vn.current=new Ko(Pe,{type:"line",data:{labels:ft,datasets:[{label:" ()",data:yt,borderColor:"#2daf9f",backgroundColor:"rgba(45, 175, 159, 0.1)",tension:.4,yAxisID:"y",pointBackgroundColor:"#2daf9f",pointBorderColor:"#ffffff",pointBorderWidth:2,pointRadius:4,pointHoverRadius:6},{label:" ",data:kn,borderColor:"#ff9f40",backgroundColor:"rgba(255, 159, 64, 0.1)",borderDash:[5,5],tension:.3,yAxisID:"y1",pointBackgroundColor:"#ff9f40",pointBorderColor:"#ffffff",pointBorderWidth:2,pointRadius:4,pointHoverRadius:6},{label:"",data:Un,borderColor:"#9966ff",backgroundColor:"rgba(153, 102, 255, 0.1)",borderDash:[5,5],tension:.3,yAxisID:"y1",pointBackgroundColor:"#9966ff",pointBorderColor:"#ffffff",pointBorderWidth:2,pointRadius:4,pointHoverRadius:6}]},options:{responsive:!0,maintainAspectRatio:!1,interaction:{mode:"index",intersect:!1},plugins:{legend:{display:!0,position:"top",labels:{color:"#e0e0e0",usePointStyle:!0}},tooltip:{backgroundColor:"rgba(0, 0, 0, 0.8)",titleColor:"#e0e0e0",bodyColor:"#e0e0e0",borderColor:"#404040",borderWidth:1}},scales:{x:{ticks:{color:"#9e9e9e"},grid:{color:"rgba(255, 255, 255, 0.1)"}},y:{type:"linear",display:!0,position:"left",ticks:{color:"#9e9e9e"},grid:{color:"rgba(255, 255, 255, 0.1)"}},y1:{type:"linear",display:!0,position:"right",ticks:{color:"#9e9e9e"},grid:{drawOnChartArea:!1}}}}}),()=>{vn.current&&vn.current.destroy()}},[st,Gn,N]),v.useEffect(()=>{if(!R)return;const Pe=Qe=>{Qe.target.closest("[data-dropdown-container]")||$(!1)};return document.addEventListener("mousedown",Pe),()=>{document.removeEventListener("mousedown",Pe)}},[R]);const _s=async()=>{var Pe,Qe;try{c(!0);const ft=await Re.get(`/api/business/${e}/products/${t}/info`);i(ft.data)}catch(ft){console.error("  :",ft),d(((Qe=(Pe=ft.response)==null?void 0:Pe.data)==null?void 0:Qe.detail)||"  ")}finally{c(!1)}},ds=async(Pe=null)=>{try{const Qe=Pe?{location_id:Pe}:{},ft=await Re.get(`/api/business/${e}/products/${t}/locations/`,{params:Qe});i(yt=>({...yt,locations:ft.data.locations||[]}))}catch(Qe){console.error("   :",Qe),i(ft=>({...ft,locations:[]}))}},Pn=async()=>{var Pe,Qe;try{We(!0);const ft={sort:je,filter:me,page:fe,page_size:xe,defect_sort:pe,defect_page:Le,defect_page_size:Ne},yt=await Re.get(`/api/business/${e}/products/${t}/batches-defects/`,{params:ft});_e(yt.data.batches||[]),Fe(yt.data.defects||[]),Xe(yt.data.batches_pagination),Ae(yt.data.defects_pagination)}catch(ft){console.error("    :",ft),d(((Qe=(Pe=ft.response)==null?void 0:Pe.data)==null?void 0:Qe.detail)||"    ")}finally{We(!1)}},Xt=async()=>{var Pe,Qe;try{pn(!0);const ft=await Re.get(`/api/business/${e}/products/${t}/analytics/`,{params:{period:Gn}});ct(ft.data)}catch(ft){console.error("  :",ft),d(((Qe=(Pe=ft.response)==null?void 0:Pe.data)==null?void 0:Qe.detail)||"  ")}finally{pn(!1)}},ra=(Pe,Qe,ft)=>{const yt=`${Pe}-${Qe}`;g(kn=>({...kn,[yt]:ft}))},xa=async(Pe,Qe,ft,yt)=>{var kn,Un;try{j(!0),ft?await Re.post(`/api/business/${e}/location-price/create/`,{variant_id:Qe,location_id:Pe,selling_price:yt,is_active:!0}):await Re.post(`/api/business/${e}/location-price/create/`,{variant_id:Qe,location_id:Pe,selling_price:yt,is_active:!0});const Zn=`${Pe}-${Qe}`;g(Cs=>{const Ha={...Cs};return delete Ha[Zn],Ha}),await _s(),await ds()}catch(Zn){console.error("  :",Zn),alert("  : "+(((Un=(kn=Zn.response)==null?void 0:kn.data)==null?void 0:Un.detail)||Zn.message))}finally{j(!1)}},Hn=(Pe,Qe)=>{const ft=`${Pe}-${Qe}`;g(yt=>{const kn={...yt};return delete kn[ft],kn})},ya=(Pe,Qe)=>{const ft=`${Pe}-${Qe}`;w(yt=>({...yt,[ft]:0}))},Ys=(Pe,Qe,ft)=>{const yt=`${Pe}-${Qe}`;w(kn=>({...kn,[yt]:ft}))},Js=async(Pe,Qe,ft)=>{var yt,kn;try{j(!0),await Re.post(`/api/business/${e}/location-price/create/`,{variant_id:Qe,location_id:Pe,selling_price:ft,is_active:!0});const Un=`${Pe}-${Qe}`;w(Zn=>{const Cs={...Zn};return delete Cs[Un],Cs}),await _s()}catch(Un){console.error("  :",Un),alert("  : "+(((kn=(yt=Un.response)==null?void 0:yt.data)==null?void 0:kn.detail)||Un.message))}finally{j(!1)}},gs=async(Pe,Qe,ft,yt)=>{var kn,Un;try{j(!0),await Re.post(`/api/business/${e}/location-price/create/`,{variant_id:Qe,location_id:Pe,selling_price:r.locations.find(Zn=>Zn.id===Pe).variants.find(Zn=>Zn.id===Qe).price,is_active:!yt}),i(Zn=>({...Zn,locations:Zn.locations.map(Cs=>Cs.id===Pe?{...Cs,variants:Cs.variants.map(Ha=>Ha.id===Qe?{...Ha,is_price_active:!yt}:Ha)}:Cs)}))}catch(Zn){console.error("  :",Zn),alert("  : "+(((Un=(kn=Zn.response)==null?void 0:kn.data)==null?void 0:Un.detail)||Zn.message))}finally{j(!1)}},Pa=async(Pe,Qe,ft,yt,kn)=>{var Un,Zn,Cs,Ha;try{j(!0);const jn=r.locations.find(Oe=>Oe.id===Pe).variants.find(Oe=>Oe.id===Qe),wa={variant_id:Qe,location_id:Pe,selling_price:jn.price,is_active:jn.is_price_active,[yt]:!kn};await Re.post(`/api/business/${e}/location-price/create/`,wa),i(Oe=>({...Oe,locations:Oe.locations.map(Ve=>Ve.id===Pe?{...Ve,variants:Ve.variants.map(gt=>gt.id===Qe?{...gt,[yt]:!kn}:gt)}:Ve)}))}catch(jn){console.error("  :",jn);const wa=((Zn=(Un=jn.response)==null?void 0:Un.data)==null?void 0:Zn.detail)||((Ha=(Cs=jn.response)==null?void 0:Cs.data)==null?void 0:Ha.message)||jn.message;alert("  : "+wa)}finally{j(!1)}},ar=(Pe,Qe)=>{const ft=`${Pe}-${Qe}`;w(yt=>{const kn={...yt};return delete kn[ft],kn})},Vs=Pe=>{const Qe=a(Pe.barcode_image),ft=Pe.name||r.name,yt=Pe.price?`${parseFloat(Pe.price).toLocaleString("ru-RU")}   ${(r==null?void 0:r.unit_display)||"."}`:"  ",kn=Pe.attributes&&Pe.attributes.length>0?`<div class="attributes">
                ${Pe.attributes.map(Cs=>`
                    <div class="attribute">
                        <span class="attribute-name">${Cs.name}:</span>
                        <span>${Cs.value}</span>
                    </div>
                `).join("")}
            </div>`:"",Un=`
          <html>
            <head>
              <title> -</title>
              <style>
                @page { size: 58mm 40mm; margin: 0; }
                body { margin: 0; width: 58mm; height: 40mm; display: flex; justify-content: center; align-items: center; font-family: 'Inter', sans-serif; font-size: 8px; }
                .product { text-align: center; width: 100%; padding: 1mm 2mm; }
                .name { font-weight: bold; font-size: 13px; margin-bottom: 1mm; }
                .barcode-img { height: 24mm; width: auto; max-width: 95%; }
                .price { font-size: 15px; font-weight: bold; margin-top: 0.5mm; }
                .attributes { margin-top: 0.5mm; font-size: 7px; }
                .attribute { display: flex; justify-content: space-between; gap: 2mm; }
                .attribute-name { font-weight: 600; }
              </style>
            </head>
            <body>
              <div class="product">
                <div class="name">${ft}</div>
                <img class="barcode-img" src="${Qe}" alt="barcode" />
                <div class="price">${yt}</div>
                ${kn}
              </div>
            </body>
          </html>
        `,Zn=window.open("","_blank","width=580,height=400");Zn.document.open(),Zn.document.write(Un),Zn.document.close(),setTimeout(()=>{Zn.focus(),Zn.print(),Zn.close()},500)},Ts=(r==null?void 0:r.locations)||[],xr=((r==null?void 0:r.locations_for_filter)||[]).filter(Pe=>Pe.name.toLowerCase().includes(P.toLowerCase())),Fa=Pe=>{B(Pe),$(!1),O(""),ds(Pe)},qa=()=>{B(null),O(""),ds()};v.useEffect(()=>{re(1)},[me,je,xe]),v.useEffect(()=>{Ue(1)},[pe,Ne]);const zt=Pe=>Pe?Xn(Pe).format("DD.MM.YYYY"):"",Kn=Pe=>Number(Pe||0).toLocaleString("ru-RU"),Es=async(Pe,Qe="all",ft=1,yt=!1)=>{try{Lt(Ha=>({...Ha,[Pe]:!0}));const kn={location_id:Pe,location_filter:Qe,location_sort:"recent",location_page:ft,location_page_size:3},Un=await Re.get(`/api/business/${e}/products/${t}/batches-defects/`,{params:kn}),Zn=Un.data.batches||[],Cs=Un.data.batches_pagination||null;nt(yt?Ha=>{var jn;return{...Ha,[Pe]:{batches:[...((jn=Ha[Pe])==null?void 0:jn.batches)||[],...Zn],pagination:Cs}}}:Ha=>({...Ha,[Pe]:{batches:Zn,pagination:Cs}}))}catch(kn){console.error(`     ${Pe}:`,kn),nt(Un=>{var Zn,Cs;return{...Un,[Pe]:{batches:((Zn=Un[Pe])==null?void 0:Zn.batches)||[],pagination:((Cs=Un[Pe])==null?void 0:Cs.pagination)||null}}})}finally{Lt(kn=>({...kn,[Pe]:!1}))}},er=Pe=>{const Qe=Et[Pe],ft=wn[Pe]||"all";if(!Qe||!Qe.pagination)return;const yt=(Qe.pagination.current_page||1)+1;yt<=(Qe.pagination.total_pages||1)&&Es(Pe,ft,yt,!0)},Ia=(Pe,Qe)=>{ut(ft=>({...ft,[Pe]:Qe})),Es(Pe,Qe,1,!1)};v.useMemo(()=>{if(!r||!r.locations)return[];const Pe=new Map;return r.locations.forEach(Qe=>{var ft;(ft=Qe.variants)==null||ft.forEach(yt=>{Pe.has(yt.id)||Pe.set(yt.id,yt)})}),Array.from(Pe.values())},[r]);const ys=()=>({tempId:`${Date.now()}-${Math.random()}`,locationId:"",variantId:"",variantName:"",variantOnLocationId:null,quantity:0,cost_price:"",reserved_quantity:0,is_available_for_sale:!0,is_active_on_marketplace:!1,is_active_for_offline_sale:!1,is_active_on_own_site:!1}),ks=()=>{F(!1)},is=(Pe,Qe)=>{ne(ft=>({...ft,[Pe]:Qe}))},La=()=>{ne(Pe=>({...Pe,stocks:[...Pe.stocks,ys()]}))},os=Pe=>{ne(Qe=>{const ft=Qe.stocks.filter(yt=>yt.tempId!==Pe);return{...Qe,stocks:ft.length?ft:[ys()]}})},ta=(Pe,Qe)=>{ne(ft=>({...ft,stocks:ft.stocks.map(yt=>yt.tempId===Pe?{...yt,locationId:Qe,variantId:"",variantName:"",variantOnLocationId:null}:yt)}))},Ws=(Pe,Qe)=>{ne(ft=>({...ft,stocks:ft.stocks.map(yt=>{if(yt.tempId!==Pe)return yt;const kn=((r==null?void 0:r.locations)||[]).find(Zn=>Number(Zn.id)===Number(yt.locationId));if(!kn)return yt;const Un=(kn.variants||[]).find(Zn=>Number(Zn.id)===Number(Qe));return Un?Un.price_id?{...yt,variantId:Qe,variantName:Un.name,variantOnLocationId:Un.price_id,is_active_on_marketplace:Un.is_active_on_marketplace||!1,is_active_for_offline_sale:Un.is_active_for_offline_sale||!1,is_active_on_own_site:Un.is_active_on_own_site||!1}:(alert("        "),yt):yt})}))},Qs=(Pe,Qe,ft)=>{ne(yt=>({...yt,stocks:yt.stocks.map(kn=>kn.tempId===Pe?{...kn,[Qe]:ft}:kn)}))},fr=async()=>{var ft;if(V(""),!H.stocks.length){V("    ");return}if(H.stocks.find(yt=>!yt.variantOnLocationId||Number(yt.quantity)<=0)){V(" ,      ");return}const Qe={received_date:H.received_date||void 0,supplier:H.supplier||void 0,notes:H.notes||"",stocks:H.stocks.map(yt=>({variant_on_location_id:yt.variantOnLocationId,quantity:Number(yt.quantity),cost_price:yt.cost_price===""?null:Number(yt.cost_price),reserved_quantity:yt.reserved_quantity===""?0:Number(yt.reserved_quantity),is_available_for_sale:!!yt.is_available_for_sale,is_active_on_marketplace:!!yt.is_active_on_marketplace,is_active_for_offline_sale:!!yt.is_active_for_offline_sale,is_active_on_own_site:!!yt.is_active_on_own_site}))};H.batch_number&&H.batch_number.trim()!==""&&(Qe.batch_number=H.batch_number);try{te(!0),await Re.post(`/api/business/${e}/batches/create/`,Qe),F(!1),await Pn(),await _s(),await ds(),alert("  ")}catch(yt){const kn=(ft=yt.response)==null?void 0:ft.data,Un=(kn==null?void 0:kn.detail)||(kn==null?void 0:kn.message)||(typeof kn=="string"?kn:JSON.stringify(kn));V(Un||"   ")}finally{te(!1)}},qs=(Pe,Qe=null)=>{Y("");const ft=Qe?(Pe.availableQuantity||0)+(Qe.quantity||0):Pe.availableQuantity||0;T({open:!0,stockId:Pe.stockId,variantName:Pe.variantName,locationName:Pe.locationName,batchNumber:Pe.batchNumber,quantity:Qe?Qe.quantity:"",reason:Qe?Qe.reason:"",defectId:Qe?Qe.id:null,availableQuantity:ft})},Ga=()=>{T({open:!1,stockId:null,variantName:"",locationName:"",batchNumber:"",quantity:"",reason:"",defectId:null,availableQuantity:0})},_i=async()=>{var Qe;if(!q.stockId)return;const Pe=Number(q.quantity);if(!Pe||Pe<=0){Y("    0");return}if(Pe>q.availableQuantity){Y(`    : ${Kn(q.availableQuantity)} ${(r==null?void 0:r.unit_display)||"."}`);return}Z(!0);try{q.defectId?await Re.patch(`/api/business/${e}/stocks/defects/${q.defectId}/update/`,{quantity:Pe,reason:q.reason||""}):await Re.post(`/api/business/${e}/stocks/${q.stockId}/defects/create/`,{quantity:Pe,reason:q.reason||""}),await Pn(),await _s(),await ds(),Ga()}catch(ft){const yt=(Qe=ft.response)==null?void 0:Qe.data,kn=(yt==null?void 0:yt.detail)||(yt==null?void 0:yt.message)||(typeof yt=="string"?yt:Object.values(yt||{})[0]);Y(kn||"   ")}finally{Z(!1)}},na=async Pe=>{var Qe,ft;if(window.confirm("   ?"))try{await Re.post(`/api/business/${e}/stocks/${Pe}/defects/remove/`),await Pn(),await _s(),await ds()}catch(yt){alert("   : "+(((ft=(Qe=yt.response)==null?void 0:Qe.data)==null?void 0:ft.detail)||yt.message))}},As=(Pe,Qe=null)=>{ie("");const ft=Qe?(Pe.availableQuantity||0)+(Qe.quantity||0):Pe.availableQuantity||0;G({open:!0,stockId:Pe.stockId,variantName:Pe.variantName,locationName:Pe.locationName,batchNumber:Pe.batchNumber,quantity:Qe?typeof Qe.quantity=="number"?Qe.quantity.toString():Qe.quantity:"",reason:Qe&&Qe.reason||"other",reasonDetail:Qe&&Qe.reasonDetail||"",writeoffId:Qe?Qe.id:null,availableQuantity:ft})},Fn=()=>{G({open:!1,stockId:null,variantName:"",locationName:"",batchNumber:"",quantity:"",reason:"other",reasonDetail:"",availableQuantity:0})},rt=async()=>{var Qe;if(!K.stockId)return;const Pe=Number(K.quantity);if(!Pe||Pe<=0){ie("    0");return}if(Pe>K.availableQuantity){ie(`    : ${Kn(K.availableQuantity)} ${(r==null?void 0:r.unit_display)||"."}`);return}ee(!0);try{K.writeoffId?await Re.patch(`/api/business/${e}/stocks/writeoffs/${K.writeoffId}/update/`,{quantity:Pe,reason:K.reason,reason_detail:K.reasonDetail||""}):await Re.post(`/api/business/${e}/stocks/${K.stockId}/writeoffs/create/`,{quantity:Pe,reason:K.reason,reason_detail:K.reasonDetail||""}),await Pn(),await _s(),await ds(),Fn()}catch(ft){const yt=(Qe=ft.response)==null?void 0:Qe.data,kn=(yt==null?void 0:yt.detail)||(yt==null?void 0:yt.message)||(typeof yt=="string"?yt:Object.values(yt||{})[0]);ie(kn||(K.writeoffId?"   ":"   "))}finally{ee(!1)}},Be=async Pe=>{var Qe;if(window.confirm("   ?")){ee(!0);try{await Re.delete(`/api/business/${e}/stocks/writeoffs/${Pe}/delete/`),await Pn(),await _s(),await ds()}catch(ft){const yt=(Qe=ft.response)==null?void 0:Qe.data,kn=(yt==null?void 0:yt.detail)||(yt==null?void 0:yt.message)||"   ";alert(kn)}finally{ee(!1)}}},Ye=async(Pe,Qe,ft)=>{var yt,kn;ye({open:!0,variantLocationId:Pe,variantName:Qe,locationName:ft,history:[],loading:!0,page:1,hasMore:!1,loadingMore:!1});try{const Un=await Re.get(`/api/business/${e}/variant-locations/${Pe}/movement-history/`,{params:{page:1,page_size:20}});ye(Zn=>{var Cs;return{...Zn,history:Un.data.history||[],loading:!1,hasMore:((Cs=Un.data.pagination)==null?void 0:Cs.has_next)||!1,page:1}})}catch(Un){console.error("  :",Un),alert("  : "+(((kn=(yt=Un.response)==null?void 0:yt.data)==null?void 0:kn.detail)||Un.message)),ye(Zn=>({...Zn,loading:!1}))}},Dt=()=>{ye({open:!1,variantLocationId:null,variantName:"",locationName:"",history:[],loading:!1,page:1,hasMore:!1,loadingMore:!1})},Wt=async()=>{const{variantLocationId:Pe,page:Qe,hasMore:ft,loadingMore:yt}=ge;if(!(!ft||yt)){ye(kn=>({...kn,loadingMore:!0}));try{const kn=await Re.get(`/api/business/${e}/variant-locations/${Pe}/movement-history/`,{params:{page:Qe+1,page_size:20}});ye(Un=>{var Zn;return{...Un,history:[...Un.history,...kn.data.history||[]],page:Qe+1,hasMore:((Zn=kn.data.pagination)==null?void 0:Zn.has_next)||!1,loadingMore:!1}})}catch(kn){console.error("  :",kn),ye(Un=>({...Un,loadingMore:!1}))}}},qt=async()=>{var yt,kn;const{variantLocationId:Pe,variantName:Qe,locationName:ft}=ge;try{const Un=await Re.get(`/api/business/${e}/variant-locations/${Pe}/movement-history/export-excel/`,{responseType:"blob"}),Zn=window.URL.createObjectURL(new Blob([Un.data])),Cs=document.createElement("a");Cs.href=Zn;const Ha=`__${Qe}_${ft}_${new Date().toISOString().split("T")[0]}.xlsx`;Cs.setAttribute("download",Ha),document.body.appendChild(Cs),Cs.click(),Cs.remove(),window.URL.revokeObjectURL(Zn)}catch(Un){console.error(" :",Un),alert("   Excel: "+(((kn=(yt=Un.response)==null?void 0:yt.data)==null?void 0:kn.detail)||Un.message))}},Ge=async(Pe,Qe,ft,yt)=>{he({open:!0,batchId:null,stockId:Pe,batchNumber:yt,variantName:Qe,locationName:ft,history:[],loading:!0});try{const kn=await Re.get(`/api/business/${e}/stocks/${Pe}/movement-history/`);he(Un=>({...Un,history:kn.data.history||[],loading:!1}))}catch(kn){console.error("  :",kn),alert("     "),he(Un=>({...Un,loading:!1}))}},Ze=()=>{he({open:!1,stockId:null,batchNumber:"",variantName:"",locationName:"",history:[],loading:!1})};if(o)return s.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh"},children:s.jsx(Wn,{size:"large"})});if(l)return s.jsxs("div",{className:De.errorContainer,children:[s.jsx("div",{className:De.error,children:l}),s.jsx("button",{onClick:()=>n(`/business/${e}/products/`),children:"  "})]});if(!r)return null;const Ke=r.images||[];Ke[ns]||Ke[0];const it=()=>{us(Pe=>Pe>0?Pe-1:Ke.length-1)},Ut=()=>{us(Pe=>Pe<Ke.length-1?Pe+1:0)};return s.jsxs("div",{className:De.container,children:[s.jsxs("div",{className:De.header,children:[s.jsx("button",{className:De.backButton,onClick:()=>n(`/business/${e}/products/`),children:"   "}),s.jsxs("div",{className:De.headerTitleRow,children:[s.jsx("h1",{className:De.title,children:r.name}),s.jsxs("button",{className:De.editButton,onClick:()=>n(`/business/${e}/products/${t}/edit`),children:[s.jsx("i",{className:"fa fa-edit"})," "]})]})]}),s.jsxs("div",{className:De.productInfo,children:[Ke.length>0&&s.jsxs("div",{className:De.imageContainer,children:[Ke.length>1&&s.jsxs(s.Fragment,{children:[s.jsx("button",{className:De.imageNavButton,onClick:it,"aria-label":" ",children:s.jsx("i",{className:"fa fa-chevron-left"})}),s.jsx("button",{className:`${De.imageNavButton} ${De.imageNavButtonRight}`,onClick:Ut,"aria-label":" ",children:s.jsx("i",{className:"fa fa-chevron-right"})})]}),s.jsx("div",{className:De.imageSlider,style:{transform:`translateX(-${ns*100}%)`},children:Ke.map((Pe,Qe)=>s.jsx("img",{src:a(Pe.image),alt:`${r.name} -  ${Qe+1}`,className:De.mainImage},Pe.id||Qe))}),Ke.length>1&&s.jsxs("div",{className:De.imageIndicator,children:[ns+1," / ",Ke.length]})]}),s.jsxs("div",{className:De.details,children:[s.jsxs("div",{className:De.category,children:[": ",r.category_name]}),s.jsx("div",{className:De.description,children:r.description}),(r.min_price||r.max_price)&&s.jsxs("div",{className:De.priceRangeInfo,children:[s.jsx("span",{className:De.priceRangeLabel,children:" :"}),s.jsx("span",{className:De.priceRangeValue,children:r.min_price&&r.max_price?r.min_price===r.max_price?`${parseFloat(r.min_price).toLocaleString("ru-RU")} `:`${parseFloat(r.min_price).toLocaleString("ru-RU")} - ${parseFloat(r.max_price).toLocaleString("ru-RU")} `:r.min_price?` ${parseFloat(r.min_price).toLocaleString("ru-RU")} `:` ${parseFloat(r.max_price).toLocaleString("ru-RU")} `})]}),s.jsxs("div",{className:De.statsInfo,children:[s.jsxs("div",{className:De.statItem,children:[s.jsx("span",{className:De.statLabel,children:" :"}),s.jsxs("span",{className:De.statValue,children:[(r.total_available||0).toLocaleString("ru-RU")," ",(r==null?void 0:r.unit_display)||"."]})]}),s.jsxs("div",{className:De.statItem,children:[s.jsx("span",{className:De.statLabel,children:" :"}),s.jsxs("span",{className:`${De.statValue} ${De.statValueDefect}`,children:[(r.total_defect||0).toLocaleString("ru-RU")," ",(r==null?void 0:r.unit_display)||"."]})]})]})]})]}),s.jsxs("div",{className:De.tabs,children:[s.jsx("button",{className:`${De.tab} ${N==="locations"?De.activeTab:""}`,onClick:()=>I("locations"),children:"  "}),s.jsx("button",{className:`${De.tab} ${N==="salesHistory"?De.activeTab:""}`,onClick:()=>I("salesHistory"),children:" "}),s.jsx("button",{className:`${De.tab} ${N==="analytics"?De.activeTab:""}`,onClick:()=>I("analytics"),children:""})]}),N==="locations"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:De.locationFilter,children:[s.jsx("label",{className:De.filterLabel,children:"  :"}),s.jsxs("div",{className:De.dropdownContainer,"data-dropdown-container":!0,children:[s.jsxs("div",{className:De.dropdownButton,onClick:()=>$(!R),children:[s.jsx("span",{children:M&&(r!=null&&r.locations_for_filter)?(En=r.locations_for_filter.find(Pe=>Pe.id===M))==null?void 0:En.name:" "}),s.jsx("i",{className:`fa fa-chevron-${R?"up":"down"}`})]}),R&&s.jsxs("div",{className:De.dropdown,children:[s.jsxs("div",{className:De.searchInputContainer,children:[s.jsx("i",{className:"fa fa-search"}),s.jsx("input",{type:"text",placeholder:" ...",value:P,onChange:Pe=>O(Pe.target.value),className:De.searchInput,onClick:Pe=>Pe.stopPropagation()})]}),s.jsxs("div",{className:De.dropdownList,children:[s.jsxs("div",{className:`${De.dropdownItem} ${M?"":De.selected}`,onClick:()=>qa(),children:[" ",!M&&s.jsx("i",{className:"fa fa-check"})]}),xr.map(Pe=>s.jsxs("div",{className:`${De.dropdownItem} ${M===Pe.id?De.selected:""}`,onClick:()=>Fa(Pe.id),children:[Pe.name,M===Pe.id&&s.jsx("i",{className:"fa fa-check"})]},Pe.id)),xr.length===0&&s.jsx("div",{className:De.noResults,children:"  "})]})]})]}),M&&s.jsxs("button",{onClick:qa,className:De.clearFilterButton,children:[s.jsx("i",{className:"fa fa-times"})," "]})]}),s.jsx("div",{className:De.locationsList,children:Ts.map(Pe=>s.jsxs("div",{className:De.locationCard,children:[s.jsx("h3",{className:De.locationName,children:Pe.name}),s.jsx("div",{className:De.variantsList,children:Pe.variants.map(Qe=>{const ft=`${Pe.id}-${Qe.id}`,yt=f.hasOwnProperty(ft),kn=b.hasOwnProperty(ft),Un=f[ft],Zn=b[ft];return s.jsxs("div",{className:De.variantCard,children:[s.jsxs("div",{className:De.variantHeader,children:[s.jsx("span",{className:De.variantName,children:Qe.name}),s.jsxs("span",{className:De.variantSku,children:["SKU: ",Qe.sku]})]}),s.jsx("div",{className:De.variantAttributes,children:Qe.attributes.map((Cs,Ha)=>s.jsxs("span",{className:De.attributeTag,children:[Cs.name,": ",Cs.value]},Ha))}),s.jsxs("div",{className:De.variantDetails,children:[!Qe.price&&!kn?s.jsxs("button",{className:De.addPriceButton,onClick:()=>ya(Pe.id,Qe.id),children:[s.jsx("i",{className:"fa fa-plus"}),"  "]}):kn?s.jsxs("div",{className:De.priceEdit,children:[s.jsx("input",{type:"number",value:Zn,onChange:Cs=>Ys(Pe.id,Qe.id,Cs.target.value),className:De.priceInput,placeholder:"",min:"0",step:"0.01"}),s.jsxs("span",{className:De.priceUnitLabel,children:["  ",(r==null?void 0:r.unit_display)||"."]}),s.jsxs("div",{className:De.editButtons,children:[s.jsx("button",{onClick:()=>Js(Pe.id,Qe.id,Zn),disabled:S,className:De.saveButton,children:""}),s.jsx("button",{onClick:()=>ar(Pe.id,Qe.id),className:De.cancelButton,children:""})]})]}):yt?s.jsxs("div",{className:De.priceEdit,children:[s.jsx("input",{type:"number",value:Un,onChange:Cs=>ra(Pe.id,Qe.id,Cs.target.value),className:De.priceInput,min:"0",step:"0.01"}),s.jsxs("span",{className:De.priceUnitLabel,children:["  ",(r==null?void 0:r.unit_display)||"."]}),s.jsxs("div",{className:De.editButtons,children:[s.jsx("button",{onClick:()=>xa(Pe.id,Qe.id,Qe.price_id,Un),disabled:S,className:De.saveButton,children:""}),s.jsx("button",{onClick:()=>Hn(Pe.id,Qe.id),className:De.cancelButton,children:""})]})]}):s.jsxs("div",{className:De.priceSection,children:[s.jsxs("div",{className:De.priceRow,children:[s.jsxs("div",{className:De.priceInfo,children:[s.jsx("span",{className:De.priceLabel,children:":"}),s.jsxs("span",{className:De.priceValue,children:[parseFloat(Qe.price).toLocaleString("ru-RU"),"   ",(r==null?void 0:r.unit_display)||"."]}),s.jsxs("label",{className:De.isActiveToggle,children:[s.jsx("input",{type:"checkbox",checked:Qe.is_price_active,onChange:()=>gs(Pe.id,Qe.id,Qe.price_id,Qe.is_price_active),disabled:S}),s.jsx("span",{className:De.toggleLabel,children:Qe.is_price_active?"":""})]})]}),s.jsxs("div",{className:De.priceActions,children:[s.jsx("button",{onClick:()=>g(Cs=>({...Cs,[ft]:Qe.price})),className:De.editButton,children:""}),Qe.price_id&&s.jsxs("button",{onClick:()=>Ye(Qe.price_id,Qe.name,Pe.name),className:De.historyButton,title:" ",children:[s.jsx("i",{className:"fa fa-history"}),"  "]})]})]}),s.jsxs("div",{className:De.activeFlagsSection,children:[s.jsx("div",{className:De.activeFlagsTitle,children:" :"}),s.jsxs("div",{className:De.activeFlagsList,children:[s.jsxs("label",{className:De.activeFlagItem,children:[s.jsx("input",{type:"checkbox",checked:Qe.is_active_on_marketplace||!1,onChange:()=>Pa(Pe.id,Qe.id,Qe.price_id,"is_active_on_marketplace",Qe.is_active_on_marketplace||!1),disabled:S||Qe.available_quantity===0,title:Qe.available_quantity===0?" .     .":""}),s.jsx("span",{className:De.flagLabel,children:"  "})]}),s.jsxs("label",{className:De.activeFlagItem,children:[s.jsx("input",{type:"checkbox",checked:Qe.is_active_for_offline_sale||!1,onChange:()=>Pa(Pe.id,Qe.id,Qe.price_id,"is_active_for_offline_sale",Qe.is_active_for_offline_sale||!1),disabled:S||Qe.available_quantity===0,title:Qe.available_quantity===0?" .     .":""}),s.jsx("span",{className:De.flagLabel,children:"   "})]}),s.jsxs("label",{className:De.activeFlagItem,children:[s.jsx("input",{type:"checkbox",checked:Qe.is_active_on_own_site||!1,onChange:()=>Pa(Pe.id,Qe.id,Qe.price_id,"is_active_on_own_site",Qe.is_active_on_own_site||!1),disabled:S||Qe.available_quantity===0,title:Qe.available_quantity===0?" .     .":""}),s.jsx("span",{className:De.flagLabel,children:"     "})]})]})]})]}),s.jsxs("div",{className:De.stockInfo,children:[s.jsxs("div",{className:De.stockItem,children:[s.jsx("span",{children:":"}),s.jsxs("strong",{children:[Qe.available_quantity," ",(r==null?void 0:r.unit_display)||"."]})]}),s.jsxs("div",{className:De.stockItem,children:[s.jsx("span",{children:":"}),s.jsxs("strong",{children:[Qe.reserved_quantity," ",(r==null?void 0:r.unit_display)||"."]})]}),s.jsxs("div",{className:De.stockItem,children:[s.jsx("span",{children:":"}),s.jsxs("strong",{className:De.defectQuantity,children:[Qe.defect_quantity||0," ",(r==null?void 0:r.unit_display)||"."]})]})]}),Qe.barcode_image&&s.jsxs("div",{className:De.barcodeSection,children:[s.jsx("h4",{className:De.barcodeTitle,children:"-"}),s.jsx("div",{className:De.barcodeImageContainer,children:s.jsx("img",{src:a(Qe.barcode_image),alt:"-",className:De.barcodeImg})}),Qe.barcode&&s.jsx("p",{className:De.barcodeNumber,children:Qe.barcode}),s.jsxs("button",{onClick:()=>Vs(Qe),className:De.printBarcodeButton,title:" -",children:[s.jsx("i",{className:"fa fa-print"}),"  -"]})]})]})]},Qe.id)})}),(()=>{const Qe=Et[Pe.id],ft=Rt[Pe.id],yt=wn[Pe.id]||"all";if(ft&&!Qe)return s.jsx("div",{className:De.locationBatchesSection,children:s.jsx("div",{style:{textAlign:"center",padding:"2rem"},children:s.jsx(Wn,{size:"small"})})});const kn=(Qe==null?void 0:Qe.batches)||[];if(kn.length===0&&!ft)return null;const Un=Qe==null?void 0:Qe.pagination,Zn=Un&&Un.has_next;return s.jsxs("div",{className:De.locationBatchesSection,children:[s.jsxs("div",{className:De.locationBatchesHeader,children:[s.jsx("h4",{className:De.locationBatchesTitle,children:" "}),s.jsxs("div",{className:De.locationBatchFilters,children:[s.jsx("button",{className:`${De.filterButton} ${yt==="all"?De.filterButtonActive:""}`,onClick:()=>Ia(Pe.id,"all"),disabled:ft,children:""}),s.jsx("button",{className:`${De.filterButton} ${yt==="has_stock"?De.filterButtonActive:""}`,onClick:()=>Ia(Pe.id,"has_stock"),disabled:ft,children:" "}),s.jsx("button",{className:`${De.filterButton} ${yt==="sold_out"?De.filterButtonActive:""}`,onClick:()=>Ia(Pe.id,"sold_out"),disabled:ft,children:""})]})]}),kn.map(Cs=>{const Ha=Cs.lines.filter(jn=>jn.locationId===Pe.id);return Ha.length===0?null:s.jsxs("div",{className:De.batchCard,children:[s.jsxs("div",{className:De.batchCardHeader,children:[s.jsxs("div",{children:[s.jsxs("div",{className:De.batchNumber,children:[" ",Cs.batchNumber||" "]}),s.jsxs("div",{className:De.batchMeta,children:[s.jsx("span",{children:Cs.batchStatusDisplay||"  "}),s.jsxs("span",{children:[": ",zt(Cs.receivedDate)]})]})]}),s.jsxs("div",{className:De.batchTotals,children:[s.jsxs("div",{children:[s.jsx("span",{children:""}),s.jsxs("strong",{children:[Kn(Ha.reduce((jn,wa)=>jn+wa.quantity,0))," ",(r==null?void 0:r.unit_display)||"."]})]}),s.jsxs("div",{children:[s.jsx("span",{children:""}),s.jsxs("strong",{children:[Kn(Ha.reduce((jn,wa)=>jn+wa.availableQuantity,0))," ",(r==null?void 0:r.unit_display)||"."]})]}),s.jsxs("div",{children:[s.jsx("span",{children:""}),s.jsxs("strong",{children:[Kn(Ha.reduce((jn,wa)=>jn+wa.reservedQuantity,0))," ",(r==null?void 0:r.unit_display)||"."]})]}),s.jsxs("div",{children:[s.jsx("span",{children:""}),s.jsxs("strong",{children:[Kn(Ha.reduce((jn,wa)=>jn+wa.defectQuantity,0))," ",(r==null?void 0:r.unit_display)||"."]})]})]})]}),s.jsx("div",{className:De.batchLines,children:Ha.map(jn=>s.jsxs("div",{className:De.batchLine,children:[s.jsxs("div",{className:De.batchLineInfo,children:[s.jsxs("div",{className:De.batchLineTitle,children:[jn.variantName,s.jsxs("span",{className:De.batchLineSku,children:["SKU: ",jn.sku]})]}),s.jsxs("div",{className:De.batchLineStats,children:[s.jsxs("span",{children:[": ",Kn(jn.quantity)," ",jn.unit_display||"."]}),s.jsxs("span",{children:[": ",Kn(jn.availableQuantity)," ",jn.unit_display||"."]}),s.jsxs("span",{children:[": ",Kn(jn.soldQuantity||0)," ",jn.unit_display||"."]}),jn.returnedQuantity!==void 0&&jn.returnedQuantity!==null&&jn.returnedQuantity>0&&s.jsxs("span",{children:[": ",Kn(jn.returnedQuantity)," ",jn.unit_display||"."]}),s.jsxs("span",{children:[": ",Kn(jn.reservedQuantity)," ",jn.unit_display||"."]}),s.jsxs("span",{children:[": ",Kn(jn.defectQuantity)," ",jn.unit_display||"."]}),jn.writeoffQuantity!==void 0&&jn.writeoffQuantity!==null&&jn.writeoffQuantity>0&&s.jsxs("span",{children:[": ",Kn(jn.writeoffQuantity)," ",jn.unit_display||"."]}),jn.inventoryAdjustment!==void 0&&jn.inventoryAdjustment!==null&&jn.inventoryAdjustment!==0&&s.jsxs("span",{className:jn.inventoryAdjustment>0?De.inventorySurplus:De.inventoryShortage,children:[jn.inventoryAdjustment>0?"":"","   : ",Kn(Math.abs(jn.inventoryAdjustment))," ",jn.unit_display||"."]})]})]}),s.jsxs("div",{className:De.batchLineActions,children:[s.jsxs("button",{className:De.secondaryButton,onClick:()=>qs(jn),disabled:J,children:[s.jsx("i",{className:"fa fa-exclamation-triangle"}),"  "]}),s.jsxs("button",{className:De.secondaryButton,onClick:()=>As(jn),disabled:oe,children:[s.jsx("i",{className:"fa fa-trash"}),"  "]}),s.jsxs("button",{className:De.historyButton,onClick:()=>Ge(jn.stockId,jn.variantName,jn.locationName,Cs.batchNumber),children:[s.jsx("i",{className:"fa fa-history"}),"  "]})]}),jn.defects&&jn.defects.length>0&&s.jsx("div",{className:De.defectsList,children:jn.defects.map(wa=>s.jsxs("div",{className:De.defectItem,children:[s.jsxs("div",{children:[s.jsxs("strong",{children:[": ",Kn(wa.quantity)," ",(r==null?void 0:r.unit_display)||"."]}),s.jsx("span",{children:wa.reason||"  "})]}),s.jsxs("div",{className:De.defectActions,children:[s.jsx("button",{className:De.linkButton,onClick:()=>qs(jn,wa),disabled:J,children:""}),s.jsx("button",{className:De.linkButtonDanger,onClick:()=>na(wa.id),disabled:J,children:""})]})]},wa.id))}),jn.writeoffs&&jn.writeoffs.length>0&&s.jsx("div",{className:De.writeoffsList,children:jn.writeoffs.map(wa=>s.jsxs("div",{className:De.defectItem,children:[s.jsxs("div",{children:[s.jsxs("strong",{children:[": ",Kn(wa.quantity)," ",(r==null?void 0:r.unit_display)||"."]}),s.jsxs("span",{children:[wa.reasonDisplay||wa.reason,wa.reasonDetail?` - ${wa.reasonDetail}`:"",wa.transfer&&s.jsxs("span",{className:De.transferBadge,children:["( ",wa.transferNumber,")"]})]})]}),!wa.transfer&&s.jsxs("div",{className:De.defectActions,children:[s.jsx("button",{className:De.linkButton,onClick:()=>As(jn,wa),disabled:oe,children:""}),s.jsx("button",{className:De.linkButtonDanger,onClick:()=>Be(wa.id),disabled:oe,children:""})]})]},wa.id))})]},jn.stockId))})]},Cs.key)}),Zn&&s.jsx("div",{className:De.loadMoreBatchesContainer,children:s.jsx("button",{className:De.loadMoreButton,onClick:()=>er(Pe.id),disabled:ft,children:ft?"...":" "})})]})})()]},Pe.id))})]}),N==="batches"&&s.jsxs("div",{className:De.batchesSection,children:[s.jsx("div",{className:De.batchesHeader,children:s.jsxs("div",{children:[s.jsx("h2",{children:"  "}),s.jsx("p",{children:"        ."})]})}),s.jsxs("div",{className:De.batchControls,children:[s.jsxs("div",{className:De.filterGroup,children:[s.jsx("button",{className:`${De.filterButton} ${me==="all"?De.filterButtonActive:""}`,onClick:()=>de("all"),children:""}),s.jsx("button",{className:`${De.filterButton} ${me==="has_stock"?De.filterButtonActive:""}`,onClick:()=>de("has_stock"),children:" "}),s.jsx("button",{className:`${De.filterButton} ${me==="sold_out"?De.filterButtonActive:""}`,onClick:()=>de("sold_out"),children:""})]}),s.jsxs("div",{className:De.sortGroup,children:[s.jsx("label",{children:""}),s.jsxs("select",{value:je,onChange:Pe=>Ie(Pe.target.value),children:[s.jsx("option",{value:"recent",children:" "}),s.jsx("option",{value:"oldest",children:" "}),s.jsx("option",{value:"available",children:" "}),s.jsx("option",{value:"sold_out",children:""}),s.jsx("option",{value:"defect",children:" "})]})]}),s.jsxs("div",{className:De.pageSizeGroup,children:[s.jsx("label",{children:" "}),s.jsx("select",{value:xe,onChange:Pe=>Se(Number(Pe.target.value)),children:[3,5,10].map(Pe=>s.jsx("option",{value:Pe,children:Pe},Pe))})]})]}),be?s.jsx("div",{style:{display:"flex",justifyContent:"center",padding:"2rem"},children:s.jsx(Wn,{size:"medium"})}):dt.length===0?s.jsx("div",{className:De.emptyState,children:"     .   ,   ."}):s.jsx("div",{className:De.batchesList,children:dt.map(Pe=>s.jsxs("div",{className:De.batchCard,children:[s.jsxs("div",{className:De.batchCardHeader,children:[s.jsxs("div",{children:[s.jsxs("div",{className:De.batchNumber,children:[" ",Pe.batchNumber||" "]}),s.jsxs("div",{className:De.batchMeta,children:[s.jsx("span",{children:Pe.batchStatusDisplay||"  "}),s.jsxs("span",{children:[": ",zt(Pe.receivedDate)]})]})]}),s.jsxs("div",{className:De.batchTotals,children:[s.jsxs("div",{children:[s.jsx("span",{children:""}),s.jsxs("strong",{children:[Kn(Pe.totalQuantity)," ",(r==null?void 0:r.unit_display)||"."]})]}),s.jsxs("div",{children:[s.jsx("span",{children:""}),s.jsxs("strong",{children:[Kn(Pe.totalAvailable)," ",(r==null?void 0:r.unit_display)||"."]})]}),s.jsxs("div",{children:[s.jsx("span",{children:""}),s.jsxs("strong",{children:[Kn(Pe.totalReserved)," ",(r==null?void 0:r.unit_display)||"."]})]}),s.jsxs("div",{children:[s.jsx("span",{children:""}),s.jsxs("strong",{children:[Kn(Pe.totalDefect)," ",(r==null?void 0:r.unit_display)||"."]})]})]})]}),s.jsx("div",{className:De.batchLines,children:Pe.lines.map(Qe=>s.jsxs("div",{className:De.batchLine,children:[s.jsxs("div",{className:De.batchLineInfo,children:[s.jsxs("div",{className:De.batchLineTitle,children:[Qe.variantName,s.jsxs("span",{className:De.batchLineSku,children:["SKU: ",Qe.sku]})]}),s.jsx("div",{className:De.batchLineLocation,children:Qe.locationName}),s.jsxs("div",{className:De.batchLineStats,children:[s.jsxs("span",{children:[": ",Kn(Qe.quantity)," ",Qe.unit_display||"."]}),s.jsxs("span",{children:[": ",Kn(Qe.availableQuantity)," ",Qe.unit_display||"."]}),s.jsxs("span",{children:[": ",Kn(Qe.soldQuantity||0)," ",Qe.unit_display||"."]}),Qe.returnedQuantity!==void 0&&Qe.returnedQuantity!==null&&Qe.returnedQuantity>0&&s.jsxs("span",{children:[": ",Kn(Qe.returnedQuantity)," ",Qe.unit_display||"."]}),s.jsxs("span",{children:[": ",Kn(Qe.reservedQuantity)," ",Qe.unit_display||"."]}),s.jsxs("span",{children:[": ",Kn(Qe.defectQuantity)," ",Qe.unit_display||"."]}),Qe.writeoffQuantity!==void 0&&Qe.writeoffQuantity!==null&&Qe.writeoffQuantity>0&&s.jsxs("span",{children:[": ",Kn(Qe.writeoffQuantity)," ",Qe.unit_display||"."]}),Qe.inventoryAdjustment!==void 0&&Qe.inventoryAdjustment!==null&&Qe.inventoryAdjustment!==0&&s.jsxs("span",{className:Qe.inventoryAdjustment>0?De.inventorySurplus:De.inventoryShortage,children:[Qe.inventoryAdjustment>0?"":"","   : ",Kn(Math.abs(Qe.inventoryAdjustment))," ",Qe.unit_display||"."]}),Qe.costPrice!==null&&Qe.costPrice!==void 0&&s.jsxs("span",{children:[": ",parseFloat(Qe.costPrice).toLocaleString("ru-RU")," "]})]})]}),s.jsxs("div",{className:De.batchLineActions,children:[s.jsxs("button",{className:De.secondaryButton,onClick:()=>qs(Qe),disabled:J,children:[s.jsx("i",{className:"fa fa-exclamation-triangle"}),"  "]}),s.jsxs("button",{className:De.secondaryButton,onClick:()=>As(Qe),disabled:oe,children:[s.jsx("i",{className:"fa fa-trash"}),"  "]})]}),Qe.writeoffs&&Qe.writeoffs.length>0&&s.jsx("div",{className:De.defectsList,children:Qe.writeoffs.map(ft=>s.jsxs("div",{className:De.defectItem,children:[s.jsxs("div",{children:[s.jsxs("strong",{children:[": ",Kn(ft.quantity)," ",(r==null?void 0:r.unit_display)||"."]}),s.jsxs("span",{children:[ft.reasonDisplay||ft.reason,ft.reasonDetail?` - ${ft.reasonDetail}`:"",ft.transfer&&s.jsxs("span",{className:De.transferBadge,children:["( ",ft.transferNumber,")"]})]})]}),s.jsxs("div",{className:De.defectActions,children:[!ft.transfer&&s.jsxs(s.Fragment,{children:[s.jsx("button",{className:De.linkButton,onClick:()=>As(Qe,ft),disabled:oe,children:""}),s.jsx("button",{className:De.linkButtonDanger,onClick:()=>Be(ft.id),disabled:oe,children:""})]}),ft.transfer&&s.jsx("span",{className:De.transferInfo,children:"  "})]})]},ft.id))}),Qe.defects.length>0&&s.jsx("div",{className:De.defectsList,children:Qe.defects.map(ft=>s.jsxs("div",{className:De.defectItem,children:[s.jsxs("div",{children:[s.jsxs("strong",{children:[": ",Kn(ft.quantity)," ",(r==null?void 0:r.unit_display)||"."]}),s.jsx("span",{children:ft.reason||" "})]}),s.jsxs("div",{className:De.defectActions,children:[s.jsx("button",{className:De.linkButton,onClick:()=>qs(Qe,ft),disabled:J,children:""}),s.jsx("button",{className:De.linkButtonDanger,onClick:()=>na(ft.id),disabled:J,children:""})]})]},ft.id))})]},Qe.stockId))})]},Pe.key))}),It&&It.total_pages>1&&s.jsxs("div",{className:De.pagination,children:[s.jsx("button",{onClick:()=>re(Pe=>Math.max(Pe-1,1)),disabled:!It.has_previous,children:s.jsx("i",{className:"fa fa-chevron-left"})}),s.jsxs("span",{children:[It.current_page," / ",It.total_pages]}),s.jsx("button",{onClick:()=>re(Pe=>Pe+1),disabled:!It.has_next,children:s.jsx("i",{className:"fa fa-chevron-right"})})]}),s.jsxs("div",{className:De.defectsJournal,children:[s.jsxs("div",{className:De.defectsHeader,children:[s.jsxs("div",{children:[s.jsx("h3",{children:" "}),s.jsx("p",{children:"     ."})]}),s.jsxs("div",{className:De.defectControls,children:[s.jsx("label",{children:""}),s.jsxs("select",{value:pe,onChange:Pe=>Ee(Pe.target.value),children:[s.jsx("option",{value:"recent",children:" "}),s.jsx("option",{value:"oldest",children:" "}),s.jsx("option",{value:"quantity",children:" "})]}),s.jsx("label",{children:" "}),s.jsx("select",{value:Ne,onChange:Pe=>et(Number(Pe.target.value)),children:[10,20,50].map(Pe=>s.jsx("option",{value:Pe,children:Pe},Pe))})]})]}),tt.length===0?s.jsx("div",{className:De.emptyState,children:"    .     ."}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:De.defectsTable,children:[s.jsxs("div",{className:De.defectsTableHead,children:[s.jsx("span",{children:""}),s.jsx("span",{children:""}),s.jsx("span",{children:""}),s.jsx("span",{children:""}),s.jsx("span",{children:""}),s.jsx("span",{children:""})]}),tt.map(Pe=>s.jsxs("div",{className:De.defectsTableRow,children:[s.jsx("span",{children:Pe.createdAt?Xn(Pe.createdAt).format("DD.MM.YYYY HH:mm"):""}),s.jsx("span",{children:Pe.batchNumber||""}),s.jsx("span",{children:Pe.variantName}),s.jsx("span",{children:Pe.locationName}),s.jsxs("span",{children:[Kn(Pe.quantity)," ",(r==null?void 0:r.unit_display)||"."]}),s.jsx("span",{children:Pe.reason||""})]},Pe.id))]}),le&&le.total_pages>1&&s.jsxs("div",{className:De.pagination,children:[s.jsx("button",{onClick:()=>Ue(Pe=>Math.max(Pe-1,1)),disabled:!le.has_previous,children:s.jsx("i",{className:"fa fa-chevron-left"})}),s.jsxs("span",{children:[le.current_page," / ",le.total_pages]}),s.jsx("button",{onClick:()=>Ue(Pe=>Pe+1),disabled:!le.has_next,children:s.jsx("i",{className:"fa fa-chevron-right"})})]})]})]})]}),N==="salesHistory"&&s.jsx(qL,{businessSlug:e,productId:t}),N==="analytics"&&s.jsxs("div",{className:De.analyticsSection,children:[s.jsxs("div",{className:De.analyticsHeader,children:[s.jsxs("div",{children:[s.jsx("h2",{children:" "}),s.jsx("p",{children:" ,    "})]}),s.jsxs("div",{className:De.analyticsPeriodSelector,children:[s.jsx("label",{children:":"}),s.jsxs("select",{value:Gn,onChange:Pe=>bt(Pe.target.value),className:De.filterSelect,children:[s.jsx("option",{value:"day",children:"  (7 )"}),s.jsx("option",{value:"month",children:"  (90 )"})]})]})]}),Mt?s.jsx("div",{style:{display:"flex",justifyContent:"center",padding:"2rem"},children:s.jsx(Wn,{size:"medium"})}):st?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:De.analyticsStats,children:[s.jsxs("div",{className:De.analyticsStatCard,children:[s.jsx("div",{className:De.statLabel,children:""}),s.jsxs("div",{className:De.statValue,children:[Kn(((gn=st.totals)==null?void 0:gn.revenue)||0)," "]})]}),s.jsxs("div",{className:De.analyticsStatCard,children:[s.jsx("div",{className:De.statLabel,children:" "}),s.jsxs("div",{className:De.statValue,children:[Kn(((Qn=st.totals)==null?void 0:Qn.quantity_sold)||0)," ",st.unit_display||(r==null?void 0:r.unit_display)||"."]})]}),s.jsxs("div",{className:De.analyticsStatCard,children:[s.jsx("div",{className:De.statLabel,children:""}),s.jsx("div",{className:De.statValue,children:Kn(((Gt=st.totals)==null?void 0:Gt.orders_count)||0)})]})]}),s.jsxs("div",{className:De.analyticsChartSection,children:[s.jsx("h3",{children:" "}),s.jsx("div",{className:De.chartContainer,children:s.jsx("canvas",{ref:on,style:{maxHeight:"400px"}})})]}),s.jsxs("div",{className:De.analyticsSubSection,children:[s.jsx("h3",{children:" "}),st.variant_popularity&&st.variant_popularity.length>0?s.jsxs("div",{className:De.variantPopularityTable,children:[s.jsxs("div",{className:De.variantPopularityHead,children:[s.jsx("span",{children:""}),s.jsx("span",{children:"SKU"}),s.jsx("span",{children:""}),s.jsx("span",{children:""}),s.jsx("span",{children:""})]}),st.variant_popularity.map(Pe=>s.jsxs("div",{className:De.variantPopularityRow,children:[s.jsx("span",{children:Pe.name}),s.jsx("span",{children:Pe.sku||""}),s.jsxs("span",{children:[Kn(Pe.revenue)," "]}),s.jsxs("span",{children:[Kn(Pe.quantity_sold)," ",(r==null?void 0:r.unit_display)||"."]}),s.jsx("span",{children:Kn(Pe.orders_count)})]},Pe.id))]}):s.jsx("div",{className:De.emptyState,children:"    "})]}),s.jsxs("div",{className:De.analyticsSubSection,children:[s.jsx("h3",{children:""}),s.jsxs("div",{className:De.forecastCards,children:[s.jsxs("div",{className:De.forecastCard,children:[s.jsx("div",{className:De.forecastTitle,children:" 7 "}),s.jsxs("div",{className:De.forecastValue,children:[": ",Kn(((hn=(Tn=st.forecast)==null?void 0:Tn.next_7_days)==null?void 0:hn.revenue)||0)," "]}),s.jsxs("div",{className:De.forecastValue,children:[": ",Kn(((Qt=(ss=st.forecast)==null?void 0:ss.next_7_days)==null?void 0:Qt.quantity)||0)," ",st.unit_display||(r==null?void 0:r.unit_display)||"."]})]}),s.jsxs("div",{className:De.forecastCard,children:[s.jsx("div",{className:De.forecastTitle,children:" 30 "}),s.jsxs("div",{className:De.forecastValue,children:[": ",Kn(((wt=(xs=st.forecast)==null?void 0:xs.next_30_days)==null?void 0:wt.revenue)||0)," "]}),s.jsxs("div",{className:De.forecastValue,children:[": ",Kn(((Bn=(rn=st.forecast)==null?void 0:rn.next_30_days)==null?void 0:Bn.quantity)||0)," ",st.unit_display||(r==null?void 0:r.unit_display)||"."]})]})]})]}),s.jsxs("div",{className:De.analyticsSubSection,children:[s.jsx("h3",{children:" "}),s.jsxs("div",{className:De.stockDynamics,children:[s.jsxs("div",{className:De.stockDynamicsItem,children:[s.jsx("span",{className:De.stockDynamicsLabel,children:":"}),s.jsxs("span",{className:De.stockDynamicsValue,children:[Kn(((bs=(vs=st.stock_dynamics)==null?void 0:vs.current)==null?void 0:bs.total_quantity)||0)," ",st.unit_display||(r==null?void 0:r.unit_display)||"."]})]}),s.jsxs("div",{className:De.stockDynamicsItem,children:[s.jsx("span",{className:De.stockDynamicsLabel,children:":"}),s.jsxs("span",{className:`${De.stockDynamicsValue} ${De.availableQuantity}`,children:[Kn(((tr=(ua=st.stock_dynamics)==null?void 0:ua.current)==null?void 0:tr.available_quantity)||0)," ",st.unit_display||(r==null?void 0:r.unit_display)||"."]})]}),s.jsxs("div",{className:De.stockDynamicsItem,children:[s.jsx("span",{className:De.stockDynamicsLabel,children:":"}),s.jsxs("span",{className:`${De.stockDynamicsValue} ${De.reservedQuantity}`,children:[Kn(((ji=(Xa=st.stock_dynamics)==null?void 0:Xa.current)==null?void 0:ji.reserved_quantity)||0)," ",st.unit_display||(r==null?void 0:r.unit_display)||"."]})]}),s.jsxs("div",{className:De.stockDynamicsItem,children:[s.jsx("span",{className:De.stockDynamicsLabel,children:":"}),s.jsxs("span",{className:`${De.stockDynamicsValue} ${De.defectQuantity}`,children:[Kn(((Zi=(Sr=st.stock_dynamics)==null?void 0:Sr.current)==null?void 0:Zi.defect_quantity)||0)," ",st.unit_display||(r==null?void 0:r.unit_display)||"."]})]})]})]})]}):s.jsx("div",{className:De.emptyState,children:"   "})]}),U&&s.jsx("div",{className:De.modalOverlay,children:s.jsxs("div",{className:De.modalContent,children:[s.jsxs("div",{className:De.modalHeader,children:[s.jsxs("h3",{children:["   ",r.name]}),s.jsx("button",{className:De.closeButton,onClick:ks,children:s.jsx("i",{className:"fa fa-times"})})]}),s.jsxs("div",{className:De.modalBody,children:[s.jsxs("div",{className:De.modalGrid,children:[s.jsxs("label",{children:["  ()",s.jsx("input",{type:"text",value:H.batch_number,onChange:Pe=>is("batch_number",Pe.target.value)})]}),s.jsxs("label",{children:[" ",s.jsx("input",{type:"date",value:H.received_date,onChange:Pe=>is("received_date",Pe.target.value)})]}),s.jsxs("label",{children:["",s.jsx("input",{type:"text",value:H.supplier,onChange:Pe=>is("supplier",Pe.target.value),placeholder:" "})]}),s.jsxs("label",{children:["",s.jsx("textarea",{value:H.notes,onChange:Pe=>is("notes",Pe.target.value),rows:2,placeholder:"   "})]})]}),s.jsxs("div",{className:De.batchLinesBuilder,children:[s.jsxs("div",{className:De.batchLinesHeader,children:[s.jsx("h4",{children:"  "}),s.jsxs("button",{type:"button",className:De.linkButton,onClick:La,children:[s.jsx("i",{className:"fa fa-plus"}),"  "]})]}),H.stocks.map(Pe=>{const Qe=(r.locations||[]).find(yt=>Number(yt.id)===Number(Pe.locationId)),ft=(Qe==null?void 0:Qe.variants)||[];return s.jsxs("div",{className:De.batchLineRow,children:[s.jsx("div",{className:De.batchLineColumn,children:s.jsxs("label",{children:["",s.jsxs("select",{value:Pe.locationId,onChange:yt=>ta(Pe.tempId,yt.target.value),children:[s.jsx("option",{value:"",children:" "}),r.locations.map(yt=>s.jsx("option",{value:yt.id,children:yt.name},yt.id))]})]})}),s.jsx("div",{className:De.batchLineColumn,children:s.jsxs("label",{children:["",s.jsxs("select",{value:Pe.variantId,onChange:yt=>Ws(Pe.tempId,yt.target.value),disabled:!Pe.locationId,children:[s.jsx("option",{value:"",children:" "}),ft.map(yt=>s.jsxs("option",{value:yt.id,disabled:!yt.price_id,children:[yt.name,yt.price_id?"":" ( )"]},yt.id))]})]})}),s.jsx("div",{className:De.batchLineColumn,children:s.jsxs("label",{children:["",s.jsx("input",{type:"number",min:"0",value:Pe.quantity,onChange:yt=>Qs(Pe.tempId,"quantity",yt.target.value)})]})}),s.jsx("div",{className:De.batchLineColumn,children:s.jsxs("label",{children:["",s.jsx("input",{type:"number",min:"0",step:"0.01",value:Pe.cost_price,onChange:yt=>Qs(Pe.tempId,"cost_price",yt.target.value),placeholder:""})]})}),s.jsx("div",{className:De.batchLineColumn,children:s.jsxs("label",{children:["",s.jsx("input",{type:"number",min:"0",value:Pe.reserved_quantity,onChange:yt=>Qs(Pe.tempId,"reserved_quantity",yt.target.value)})]})}),s.jsxs("div",{className:De.batchLineToggles,children:[s.jsxs("label",{children:[s.jsx("input",{type:"checkbox",checked:Pe.is_available_for_sale,onChange:yt=>Qs(Pe.tempId,"is_available_for_sale",yt.target.checked)}),"  "]}),s.jsxs("label",{children:[s.jsx("input",{type:"checkbox",checked:Pe.is_active_on_marketplace,onChange:yt=>Qs(Pe.tempId,"is_active_on_marketplace",yt.target.checked)})," "]}),s.jsxs("label",{children:[s.jsx("input",{type:"checkbox",checked:Pe.is_active_for_offline_sale,onChange:yt=>Qs(Pe.tempId,"is_active_for_offline_sale",yt.target.checked)})," "]}),s.jsxs("label",{children:[s.jsx("input",{type:"checkbox",checked:Pe.is_active_on_own_site,onChange:yt=>Qs(Pe.tempId,"is_active_on_own_site",yt.target.checked)})," "]})]}),s.jsx("button",{type:"button",className:De.removeLineButton,onClick:()=>os(Pe.tempId),children:""})]},Pe.tempId)}),se&&s.jsx("div",{className:De.errorMessage,children:se})]})]}),s.jsxs("div",{className:De.modalFooter,children:[s.jsx("button",{className:De.secondaryButton,onClick:ks,disabled:X,children:""}),s.jsx("button",{className:De.primaryButton,onClick:fr,disabled:X,children:X?"...":" "})]})]})}),q.open&&s.jsx("div",{className:De.modalOverlay,children:s.jsxs("div",{className:De.modalContent,children:[s.jsxs("div",{className:De.modalHeader,children:[s.jsx("h3",{children:q.defectId?" ":" "}),s.jsx("button",{className:De.closeButton,onClick:Ga,children:s.jsx("i",{className:"fa fa-times"})})]}),s.jsxs("div",{className:De.modalBody,children:[s.jsxs("div",{className:De.defectMeta,children:[s.jsxs("div",{className:De.defectMetaRow,children:[s.jsx("span",{className:De.defectMetaLabel,children:":"}),s.jsx("span",{className:De.defectMetaValue,children:q.batchNumber||" "})]}),s.jsxs("div",{className:De.defectMetaRow,children:[s.jsx("span",{className:De.defectMetaLabel,children:":"}),s.jsx("span",{className:De.defectMetaValue,children:q.variantName})]}),s.jsxs("div",{className:De.defectMetaRow,children:[s.jsx("span",{className:De.defectMetaLabel,children:":"}),s.jsx("span",{className:De.defectMetaValue,children:q.locationName})]}),s.jsxs("div",{className:De.defectMetaRow,children:[s.jsx("span",{className:De.defectMetaLabel,children:"  :"}),s.jsxs("span",{className:`${De.defectMetaValue} ${De.availableQuantity}`,children:[Kn(q.availableQuantity)," ",(r==null?void 0:r.unit_display)||"."]})]})]}),s.jsxs("label",{children:[" ",s.jsx("input",{type:"number",min:"1",max:q.availableQuantity,value:q.quantity,onChange:Pe=>{const Qe=Pe.target.value;if(A&&Y(""),Qe===""){T(yt=>({...yt,quantity:""}));return}const ft=Number(Qe);if(!isNaN(ft)&&ft>0){const yt=Math.min(ft,q.availableQuantity);T(kn=>({...kn,quantity:yt.toString()}))}},placeholder:" "}),q.availableQuantity>0&&s.jsxs("span",{className:De.inputHint,children:[": ",Kn(q.availableQuantity)," ",(r==null?void 0:r.unit_display)||"."]})]}),s.jsxs("label",{children:[" ",s.jsx("textarea",{rows:4,value:q.reason,onChange:Pe=>T(Qe=>({...Qe,reason:Pe.target.value})),placeholder:"  , :  ,    .."})]}),A&&s.jsx("div",{className:De.errorMessage,children:A})]}),s.jsxs("div",{className:De.modalFooter,children:[s.jsx("button",{className:De.secondaryButton,onClick:Ga,disabled:J,children:""}),s.jsx("button",{className:De.primaryButton,onClick:_i,disabled:J,children:J?"...":""})]})]})}),K.open&&s.jsx("div",{className:De.modalOverlay,children:s.jsxs("div",{className:De.modalContent,children:[s.jsxs("div",{className:De.modalHeader,children:[s.jsx("h3",{children:K.writeoffId?" ":" "}),s.jsx("button",{className:De.closeButton,onClick:Fn,children:s.jsx("i",{className:"fa fa-times"})})]}),s.jsxs("div",{className:De.modalBody,children:[s.jsxs("div",{className:De.defectMeta,children:[s.jsxs("div",{className:De.defectMetaRow,children:[s.jsx("span",{className:De.defectMetaLabel,children:":"}),s.jsx("span",{className:De.defectMetaValue,children:K.batchNumber||" "})]}),s.jsxs("div",{className:De.defectMetaRow,children:[s.jsx("span",{className:De.defectMetaLabel,children:":"}),s.jsx("span",{className:De.defectMetaValue,children:K.variantName})]}),s.jsxs("div",{className:De.defectMetaRow,children:[s.jsx("span",{className:De.defectMetaLabel,children:":"}),s.jsx("span",{className:De.defectMetaValue,children:K.locationName})]}),s.jsxs("div",{className:De.defectMetaRow,children:[s.jsx("span",{className:De.defectMetaLabel,children:":"}),s.jsxs("span",{className:De.defectMetaValue,children:[Kn(K.availableQuantity)," ",(r==null?void 0:r.unit_display)||"."]})]})]}),s.jsxs("label",{children:["  ",s.jsx("input",{type:"number",step:(r==null?void 0:r.unit_display)==="."?"1":"0.001",min:"0.001",max:K.availableQuantity,value:K.quantity,onChange:Pe=>{const Qe=Pe.target.value;if(ae&&ie(""),Qe===""){G(yt=>({...yt,quantity:""}));return}const ft=Number(Qe);if(!isNaN(ft)&&ft>0){const yt=Math.min(ft,K.availableQuantity);G(kn=>({...kn,quantity:yt.toString()}))}},placeholder:" "}),K.availableQuantity>0&&s.jsxs("span",{className:De.inputHint,children:[": ",Kn(K.availableQuantity)," ",(r==null?void 0:r.unit_display)||"."]})]}),s.jsxs("label",{children:[" ",s.jsx("div",{className:De.reasonSelector,children:[{value:"expired",label:"  ",icon:"fa-calendar-times"},{value:"damaged",label:"",icon:"fa-exclamation-triangle"},{value:"lost",label:"",icon:"fa-search"},{value:"other",label:"",icon:"fa-ellipsis-h"}].map(Pe=>s.jsxs("button",{type:"button",className:`${De.reasonOption} ${K.reason===Pe.value?De.reasonOptionActive:""}`,onClick:()=>G(Qe=>({...Qe,reason:Pe.value})),children:[s.jsx("i",{className:`fa ${Pe.icon}`}),s.jsx("span",{children:Pe.label})]},Pe.value))})]}),s.jsxs("label",{children:[" ",s.jsx("textarea",{rows:4,value:K.reasonDetail,onChange:Pe=>G(Qe=>({...Qe,reasonDetail:Pe.target.value})),placeholder:"  , :  ,      .."})]}),ae&&s.jsx("div",{className:De.errorMessage,children:ae})]}),s.jsxs("div",{className:De.modalFooter,children:[s.jsx("button",{className:De.secondaryButton,onClick:Fn,disabled:oe,children:""}),s.jsx("button",{className:De.primaryButton,onClick:rt,disabled:oe,children:oe?"...":K.writeoffId?"":""})]})]})}),ue.open&&s.jsx("div",{className:De.modalOverlay,children:s.jsxs("div",{className:De.modalContent,style:{maxWidth:"800px",maxHeight:"90vh",overflowY:"auto"},children:[s.jsxs("div",{className:De.modalHeader,children:[s.jsx("h3",{children:"  "}),s.jsx("button",{className:De.closeButton,onClick:Ze,children:s.jsx("i",{className:"fa fa-times"})})]}),s.jsx("div",{className:De.modalBody,children:ue.loading?s.jsx("div",{style:{textAlign:"center",padding:"2rem"},children:s.jsx(Wn,{size:"medium"})}):ue.history.length===0?s.jsx("div",{style:{textAlign:"center",padding:"2rem",color:"var(--silver-whisper)"},children:"  "}):s.jsxs("div",{children:[s.jsxs("div",{style:{marginBottom:"1rem",padding:"1rem",background:"var(--onyx-midnight)",borderRadius:"8px",border:"1px solid var(--gilded-shadow)"},children:[s.jsxs("div",{children:[s.jsx("strong",{children:":"})," ",ue.variantName]}),s.jsxs("div",{children:[s.jsx("strong",{children:":"})," ",ue.locationName]}),ue.batchNumber&&s.jsxs("div",{children:[s.jsx("strong",{children:":"})," ",ue.batchNumber]})]}),s.jsx("div",{className:De.historyContainer,children:ue.history.map((Pe,Qe)=>s.jsxs("div",{className:De.historyDateGroup,children:[s.jsxs("div",{className:De.historyDateHeader,children:[s.jsx("i",{className:"fa fa-calendar"}),s.jsx("span",{children:Pe.date_display})]}),s.jsx("div",{className:De.historyRecords,children:Pe.records.map((ft,yt)=>{const kn=ft.quantity>0,Un=Math.abs(ft.quantity);return s.jsxs("div",{className:De.historyRecord,children:[s.jsxs("div",{className:De.historyRecordHeader,children:[s.jsxs("span",{className:De.historyRecordType,children:[ft.type==="received"&&s.jsx("i",{className:"fa fa-arrow-down",style:{color:"#4ade80"}}),ft.type==="sale"&&s.jsx("i",{className:"fa fa-shopping-cart",style:{color:"#f87171"}}),ft.type==="return"&&s.jsx("i",{className:"fa fa-undo",style:{color:"#4ade80"}}),ft.type==="defect"&&s.jsx("i",{className:"fa fa-exclamation-triangle",style:{color:"#fbbf24"}}),ft.type==="writeoff"&&s.jsx("i",{className:"fa fa-trash",style:{color:"#f87171"}}),ft.type==="inventory"&&s.jsx("i",{className:"fa fa-clipboard-check",style:{color:ft.quantity>0?"#4ade80":"#f87171"}}),ft.type_display]}),s.jsx("span",{className:De.historyRecordTime,children:ft.date?new Date(ft.date).toLocaleTimeString("ru-RU",{hour:"2-digit",minute:"2-digit"}):""})]}),s.jsxs("div",{className:De.historyRecordQuantity,style:{color:kn?"#4ade80":"#f87171"},children:[kn?"+":"-",Kn(Un)," ",(r==null?void 0:r.unit_display)||"."]}),ft.user&&s.jsxs("div",{className:De.historyRecordUser,children:[s.jsx("i",{className:"fa fa-user"}),ft.user]}),ft.description&&s.jsx("div",{className:De.historyRecordDescription,children:ft.description}),ft.receipt_number&&s.jsxs("div",{className:De.historyRecordReceipt,children:[s.jsx("i",{className:"fa fa-receipt"}),": ",ft.receipt_number]})]},yt)})})]},Qe))})]})}),s.jsx("div",{className:De.modalFooter,children:s.jsx("button",{className:De.primaryButton,onClick:Ze,children:""})})]})}),ge.open&&s.jsx("div",{className:De.modalOverlay,children:s.jsxs("div",{className:De.modalContent,style:{maxWidth:"900px",maxHeight:"90vh",display:"flex",flexDirection:"column"},children:[s.jsxs("div",{className:De.modalHeader,children:[s.jsx("h3",{children:"  "}),s.jsxs("div",{style:{display:"flex",gap:"10px",alignItems:"center"},children:[s.jsxs("button",{onClick:qt,className:De.exportButton,title:"  Excel",children:[s.jsx("i",{className:"fa fa-file-excel"}),"   Excel"]}),s.jsx("button",{className:De.closeButton,onClick:Dt,children:s.jsx("i",{className:"fa fa-times"})})]})]}),s.jsx("div",{className:De.modalBody,style:{flex:1,overflowY:"auto"},onScroll:Pe=>{const Qe=Pe.target;Qe.scrollHeight-Qe.scrollTop-Qe.clientHeight<100&&ge.hasMore&&!ge.loadingMore&&Wt()},children:ge.loading?s.jsx("div",{style:{textAlign:"center",padding:"2rem"},children:s.jsx(Wn,{size:"medium"})}):ge.history.length===0?s.jsx("div",{style:{textAlign:"center",padding:"2rem",color:"var(--silver-whisper)"},children:"  "}):s.jsxs("div",{children:[s.jsxs("div",{style:{marginBottom:"1rem",padding:"1rem",background:"var(--onyx-midnight)",borderRadius:"8px",border:"1px solid var(--gilded-shadow)"},children:[s.jsxs("div",{children:[s.jsx("strong",{children:":"})," ",ge.variantName]}),s.jsxs("div",{children:[s.jsx("strong",{children:":"})," ",ge.locationName]})]}),s.jsxs("div",{className:De.historyContainer,children:[ge.history.map((Pe,Qe)=>s.jsxs("div",{className:De.historyDateGroup,children:[s.jsxs("div",{className:De.historyDateHeader,children:[s.jsx("i",{className:"fa fa-calendar"}),s.jsx("span",{children:Pe.date_display})]}),s.jsx("div",{className:De.historyRecords,children:Pe.records.map((ft,yt)=>{const kn=ft.type==="received"?"fa-arrow-down":ft.type==="sale"?"fa-shopping-cart":ft.type==="return"?"fa-undo":ft.type==="defect"?"fa-exclamation-triangle":ft.type==="writeoff"?"fa-trash":ft.type==="inventory"?"fa-clipboard-check":"fa-circle",Un=ft.type==="received"?"#4ade80":ft.type==="sale"?"#f87171":ft.type==="return"?"#4ade80":ft.type==="defect"?"#fbbf24":ft.type==="writeoff"?"#ef4444":ft.type==="inventory"?ft.quantity>0?"#4ade80":"#f87171":"#9ca3af",Zn=ft.date?new Date(ft.date):null,Cs=Zn?Zn.toLocaleTimeString("ru-RU",{hour:"2-digit",minute:"2-digit"}):"";return s.jsxs("div",{className:De.historyRecord,children:[s.jsxs("div",{className:De.historyRecordHeader,children:[s.jsxs("div",{className:De.historyRecordType,children:[s.jsx("i",{className:`fa ${kn}`,style:{color:Un}}),s.jsx("span",{children:ft.type_display})]}),s.jsx("div",{className:De.historyRecordTime,children:Cs})]}),s.jsxs("div",{className:De.historyRecordChanges,children:[s.jsxs("div",{className:De.historyChangeItem,children:[s.jsx("span",{className:De.historyChangeLabel,children:":"}),s.jsxs("span",{className:ft.quantity>0?De.historyChangeNew:De.historyChangeOld,children:[ft.quantity>0?"+":"",Kn(ft.quantity)," ",(r==null?void 0:r.unit_display)||"."]})]}),ft.batch_number&&s.jsxs("div",{className:De.historyChangeItem,children:[s.jsx("span",{className:De.historyChangeLabel,children:":"}),s.jsx("span",{children:ft.batch_number})]}),ft.user&&s.jsxs("div",{className:De.historyChangeItem,children:[s.jsx("span",{className:De.historyChangeLabel,children:":"}),s.jsx("span",{children:ft.user})]}),ft.receipt_number&&s.jsxs("div",{className:De.historyChangeItem,children:[s.jsx("span",{className:De.historyChangeLabel,children:":"}),s.jsx("span",{children:ft.receipt_number})]})]}),ft.description&&s.jsx("div",{className:De.historyRecordReason,children:ft.description})]},yt)})})]},Qe)),ge.hasMore&&s.jsx("div",{style:{textAlign:"center",padding:"1rem"},children:ge.loadingMore?s.jsx(Wn,{size:"small"}):s.jsx("button",{onClick:Wt,className:De.loadMoreButton,children:" "})}),!ge.hasMore&&ge.history.length>0&&s.jsx("div",{style:{textAlign:"center",padding:"1rem",color:"var(--silver-whisper)"},children:"  "})]})]})})]})})]})},nAe="_container_2ziol_3",sAe="_header_2ziol_14",aAe="_backButton_2ziol_26",rAe="_headerTitleRow_2ziol_49",iAe="_title_2ziol_56",oAe="_editButton_2ziol_65",cAe="_productInfo_2ziol_95",lAe="_imageContainer_2ziol_102",uAe="_imageSlider_2ziol_116",dAe="_mainImage_2ziol_123",hAe="_imageIndicator_2ziol_169",fAe="_details_2ziol_183",mAe="_category_2ziol_189",pAe="_description_2ziol_194",gAe="_priceRangeInfo_2ziol_200",_Ae="_priceRangeLabel_2ziol_210",vAe="_priceRangeValue_2ziol_215",xAe="_statsInfo_2ziol_221",bAe="_statItem_2ziol_231",yAe="_statLabel_2ziol_237",wAe="_statValue_2ziol_242",CAe="_statValueDefect_2ziol_248",SAe="_tabs_2ziol_253",jAe="_tab_2ziol_253",NAe="_activeTab_2ziol_294",EAe="_locationFilter_2ziol_302",kAe="_filterLabel_2ziol_309",IAe="_dropdownContainer_2ziol_315",DAe="_dropdownButton_2ziol_319",TAe="_dropdown_2ziol_315",AAe="_searchInputContainer_2ziol_355",MAe="_searchInput_2ziol_355",RAe="_dropdownList_2ziol_376",OAe="_dropdownItem_2ziol_381",BAe="_selected_2ziol_400",LAe="_clearFilterButton_2ziol_405",$Ae="_locationsList_2ziol_430",PAe="_locationCard_2ziol_437",FAe="_locationName_2ziol_452",HAe="_variantsList_2ziol_459",zAe="_variantCard_2ziol_465",VAe="_variantHeader_2ziol_480",qAe="_variantName_2ziol_489",UAe="_variantSku_2ziol_495",WAe="_variantAttributes_2ziol_500",YAe="_attributesContainer_2ziol_507",GAe="_attributeTag_2ziol_513",QAe="_toggleAttributesButton_2ziol_523",XAe="_variantDetails_2ziol_554",KAe="_priceSection_2ziol_561",ZAe="_priceRow_2ziol_571",JAe="_priceInfo_2ziol_579",eMe="_priceValue_2ziol_587",tMe="_priceActions_2ziol_602",nMe="_priceEdit_2ziol_614",sMe="_priceInput_2ziol_620",aMe="_priceUnitLabel_2ziol_642",rMe="_editButtons_2ziol_647",iMe="_addPriceButton_2ziol_658",oMe="_saveButton_2ziol_659",cMe="_cancelButton_2ziol_660",lMe="_activeFlagsSection_2ziol_709",uMe="_activeFlagsTitle_2ziol_718",dMe="_activeFlagsList_2ziol_724",hMe="_activeFlagItem_2ziol_730",fMe="_stockInfo_2ziol_795",mMe="_stockItem_2ziol_807",pMe="_barcodeSection_2ziol_826",gMe="_barcodeTitle_2ziol_832",_Me="_barcodeImageContainer_2ziol_839",vMe="_barcodeImg_2ziol_855",xMe="_barcodeNumber_2ziol_866",bMe="_printBarcodeButton_2ziol_875",yMe="_batchesSection_2ziol_902",wMe="_batchesHeader_2ziol_908",CMe="_batchControls_2ziol_924",SMe="_filterGroup_2ziol_931",jMe="_filterButton_2ziol_944",NMe="_filterButtonActive_2ziol_964",EMe="_sortGroup_2ziol_970",kMe="_pageSizeGroup_2ziol_971",IMe="_defectControls_2ziol_972",DMe="_primaryButton_2ziol_1004",TMe="_secondaryButton_2ziol_1025",AMe="_linkButton_2ziol_1045",MMe="_emptyState_2ziol_1067",RMe="_batchesList_2ziol_1084",OMe="_batchCard_2ziol_1090",BMe="_batchCardHeader_2ziol_1103",LMe="_batchNumber_2ziol_1112",$Me="_batchMeta_2ziol_1124",PMe="_batchTotals_2ziol_1132",FMe="_batchLines_2ziol_1149",HMe="_batchLine_2ziol_1149",zMe="_batchLineInfo_2ziol_1168",VMe="_batchLineTitle_2ziol_1175",qMe="_batchLineSku_2ziol_1185",UMe="_batchLineLocation_2ziol_1190",WMe="_batchLineStats_2ziol_1197",YMe="_batchLineActions_2ziol_1217",GMe="_defectsList_2ziol_1229",QMe="_defectItem_2ziol_1238",XMe="_defectActions_2ziol_1256",KMe="_transferBadge_2ziol_1268",ZMe="_transferInfo_2ziol_1280",JMe="_defectsJournal_2ziol_1293",eRe="_defectsHeader_2ziol_1301",tRe="_defectsTable_2ziol_1314",nRe="_defectsTableHead_2ziol_1321",sRe="_defectsTableRow_2ziol_1322",aRe="_pagination_2ziol_1344",rRe="_modalOverlay_2ziol_1382",iRe="_modalContent_2ziol_1395",oRe="_modalHeader_2ziol_1420",cRe="_closeButton_2ziol_1441",lRe="_modalBody_2ziol_1466",uRe="_modalGrid_2ziol_1479",dRe="_modalFooter_2ziol_1535",hRe="_errorMessage_2ziol_1565",fRe="_analyticsSection_2ziol_1580",mRe="_analyticsHeader_2ziol_1586",pRe="_analyticsPeriodSelector_2ziol_1596",gRe="_analyticsStats_2ziol_1632",_Re="_analyticsStatCard_2ziol_1646",vRe="_analyticsChartSection_2ziol_1676",xRe="_chartContainer_2ziol_1686",bRe="_analyticsSubSection_2ziol_1704",yRe="_variantPopularityTable_2ziol_1714",wRe="_variantPopularityHead_2ziol_1721",CRe="_variantPopularityRow_2ziol_1725",SRe="_forecastCards_2ziol_1742",jRe="_forecastCard_2ziol_1742",NRe="_forecastTitle_2ziol_1755",ERe="_forecastValue_2ziol_1762",kRe="_stockDynamics_2ziol_1768",IRe="_stockDynamicsItem_2ziol_1778",DRe="_stockDynamicsLabel_2ziol_1784",TRe="_stockDynamicsValue_2ziol_1789",ARe="_availableQuantity_2ziol_1795",MRe="_reservedQuantity_2ziol_1799",RRe="_defectQuantity_2ziol_1803",ORe="_errorContainer_2ziol_1808",BRe="_error_2ziol_1565",LRe="_batchLinesBuilder_2ziol_1845",$Re="_batchLinesHeader_2ziol_1849",PRe="_batchLineRow_2ziol_1864",FRe="_batchLineColumn_2ziol_1883",HRe="_batchLineToggles_2ziol_1906",zRe="_removeLineButton_2ziol_1949",VRe="_defectMeta_2ziol_1971",qRe="_defectMetaRow_2ziol_1979",URe="_defectMetaLabel_2ziol_1991",WRe="_defectMetaValue_2ziol_1996",YRe="_inputHint_2ziol_2002",GRe="_reasonSelector_2ziol_2009",QRe="_reasonOption_2ziol_2016",XRe="_reasonOptionActive_2ziol_2042",KRe="_historyButton_2ziol_2136",ZRe="_exportButton_2ziol_2173",JRe="_locationBatchesSection_2ziol_2198",eOe="_locationBatchesHeader_2ziol_2204",tOe="_locationBatchesTitle_2ziol_2211",nOe="_locationBatchFilters_2ziol_2218",sOe="_locationBatchesList_2ziol_2231",aOe="_locationBatchItem_2ziol_2237",rOe="_locationBatchItemHeader_2ziol_2247",iOe="_locationBatchItemInfo_2ziol_2254",oOe="_locationBatchItemDetails_2ziol_2267",cOe="_locationBatchDetailItem_2ziol_2273",lOe="_locationBatchItemActions_2ziol_2290",uOe="_loadMoreBatchesContainer_2ziol_2304",dOe="_loadMoreButton_2ziol_2311",hOe="_historyContainer_2ziol_2338",fOe="_historyDateGroup_2ziol_2345",mOe="_historyDateHeader_2ziol_2350",pOe="_historyRecords_2ziol_2364",gOe="_historyRecord_2ziol_2364",_Oe="_historyRecordHeader_2ziol_2377",vOe="_historyRecordType_2ziol_2386",xOe="_historyRecordTime_2ziol_2399",bOe="_historyRecordQuantity_2ziol_2404",yOe="_historyRecordUser_2ziol_2410",wOe="_historyRecordDescription_2ziol_2423",COe="_historyRecordReceipt_2ziol_2430",Te={container:nAe,header:sAe,backButton:aAe,headerTitleRow:rAe,title:iAe,editButton:oAe,productInfo:cAe,imageContainer:lAe,imageSlider:uAe,mainImage:dAe,imageIndicator:hAe,details:fAe,category:mAe,description:pAe,priceRangeInfo:gAe,priceRangeLabel:_Ae,priceRangeValue:vAe,statsInfo:xAe,statItem:bAe,statLabel:yAe,statValue:wAe,statValueDefect:CAe,tabs:SAe,tab:jAe,activeTab:NAe,locationFilter:EAe,filterLabel:kAe,dropdownContainer:IAe,dropdownButton:DAe,dropdown:TAe,searchInputContainer:AAe,searchInput:MAe,dropdownList:RAe,dropdownItem:OAe,selected:BAe,clearFilterButton:LAe,locationsList:$Ae,locationCard:PAe,locationName:FAe,variantsList:HAe,variantCard:zAe,variantHeader:VAe,variantName:qAe,variantSku:UAe,variantAttributes:WAe,attributesContainer:YAe,attributeTag:GAe,toggleAttributesButton:QAe,variantDetails:XAe,priceSection:KAe,priceRow:ZAe,priceInfo:JAe,priceValue:eMe,priceActions:tMe,priceEdit:nMe,priceInput:sMe,priceUnitLabel:aMe,editButtons:rMe,addPriceButton:iMe,saveButton:oMe,cancelButton:cMe,activeFlagsSection:lMe,activeFlagsTitle:uMe,activeFlagsList:dMe,activeFlagItem:hMe,stockInfo:fMe,stockItem:mMe,barcodeSection:pMe,barcodeTitle:gMe,barcodeImageContainer:_Me,barcodeImg:vMe,barcodeNumber:xMe,printBarcodeButton:bMe,batchesSection:yMe,batchesHeader:wMe,batchControls:CMe,filterGroup:SMe,filterButton:jMe,filterButtonActive:NMe,sortGroup:EMe,pageSizeGroup:kMe,defectControls:IMe,primaryButton:DMe,secondaryButton:TMe,linkButton:AMe,emptyState:MMe,batchesList:RMe,batchCard:OMe,batchCardHeader:BMe,batchNumber:LMe,batchMeta:$Me,batchTotals:PMe,batchLines:FMe,batchLine:HMe,batchLineInfo:zMe,batchLineTitle:VMe,batchLineSku:qMe,batchLineLocation:UMe,batchLineStats:WMe,batchLineActions:YMe,defectsList:GMe,defectItem:QMe,defectActions:XMe,transferBadge:KMe,transferInfo:ZMe,defectsJournal:JMe,defectsHeader:eRe,defectsTable:tRe,defectsTableHead:nRe,defectsTableRow:sRe,pagination:aRe,modalOverlay:rRe,modalContent:iRe,modalHeader:oRe,closeButton:cRe,modalBody:lRe,modalGrid:uRe,modalFooter:dRe,errorMessage:hRe,analyticsSection:fRe,analyticsHeader:mRe,analyticsPeriodSelector:pRe,analyticsStats:gRe,analyticsStatCard:_Re,analyticsChartSection:vRe,chartContainer:xRe,analyticsSubSection:bRe,variantPopularityTable:yRe,variantPopularityHead:wRe,variantPopularityRow:CRe,forecastCards:SRe,forecastCard:jRe,forecastTitle:NRe,forecastValue:ERe,stockDynamics:kRe,stockDynamicsItem:IRe,stockDynamicsLabel:DRe,stockDynamicsValue:TRe,availableQuantity:ARe,reservedQuantity:MRe,defectQuantity:RRe,errorContainer:ORe,error:BRe,batchLinesBuilder:LRe,batchLinesHeader:$Re,batchLineRow:PRe,batchLineColumn:FRe,batchLineToggles:HRe,removeLineButton:zRe,defectMeta:VRe,defectMetaRow:qRe,defectMetaLabel:URe,defectMetaValue:WRe,inputHint:YRe,reasonSelector:GRe,reasonOption:QRe,reasonOptionActive:XRe,historyButton:KRe,exportButton:ZRe,locationBatchesSection:JRe,locationBatchesHeader:eOe,locationBatchesTitle:tOe,locationBatchFilters:nOe,locationBatchesList:sOe,locationBatchItem:aOe,locationBatchItemHeader:rOe,locationBatchItemInfo:iOe,locationBatchItemDetails:oOe,locationBatchDetailItem:cOe,locationBatchItemActions:lOe,loadMoreBatchesContainer:uOe,loadMoreButton:dOe,historyContainer:hOe,historyDateGroup:fOe,historyDateHeader:mOe,historyRecords:pOe,historyRecord:gOe,historyRecordHeader:_Oe,historyRecordType:vOe,historyRecordTime:xOe,historyRecordQuantity:bOe,historyRecordUser:yOe,historyRecordDescription:wOe,historyRecordReceipt:COe},SOe=()=>{var rn,Bn,vs,bs,ua,tr,Xa,ji,Sr,Zi,Pe,Qe,ft,yt,kn,Un,Zn,Cs,Ha,jn,wa;const{business_slug:e,product_id:t}=fa(),n=Rs(),{getFileUrl:a}=Ur(),[r,i]=v.useState(null),[o,c]=v.useState(!0),[l,d]=v.useState(null),[f,g]=v.useState({}),[b,w]=v.useState({}),[S,j]=v.useState(!1),[N,I]=v.useState("locations"),[M,B]=v.useState(null),[P,O]=v.useState(""),[R,$]=v.useState(!1),[U,F]=v.useState(!1),[H,ne]=v.useState({batch_number:"",received_date:Xn().format("YYYY-MM-DD"),supplier:"",notes:"",stocks:[]}),[X,te]=v.useState(!1),[se,V]=v.useState(""),[q,T]=v.useState({open:!1,stockId:null,variantName:"",locationName:"",batchNumber:"",quantity:"",reason:"",defectId:null,availableQuantity:0}),[J,Z]=v.useState(!1),[A,Y]=v.useState(""),[K,G]=v.useState({open:!1,stockId:null,variantName:"",locationName:"",batchNumber:"",quantity:"",reason:"other",reasonDetail:"",availableQuantity:0,writeoffId:null}),[oe,ee]=v.useState(!1),[ae,ie]=v.useState(""),[ue,he]=v.useState({open:!1,stockId:null,batchNumber:"",variantName:"",locationName:"",history:[],loading:!1}),[ge,ye]=v.useState({open:!1,variantLocationId:null,variantName:"",locationName:"",history:[],loading:!1,page:1,hasMore:!1,loadingMore:!1}),[je,Ie]=v.useState({}),[me,de]=v.useState({}),[fe,re]=v.useState({}),[xe,Se]=v.useState({}),[pe,Ee]=v.useState({}),[Le,Ue]=v.useState("recent"),[Ne,et]=v.useState("all"),[dt,_e]=v.useState(1),[tt,Fe]=v.useState(5),[It,Xe]=v.useState("recent"),[le,Ae]=v.useState(1),[be,We]=v.useState(20),[st,ct]=v.useState([]),[Mt,pn]=v.useState([]),[Gn,bt]=v.useState(null),[ln,fn]=v.useState(null),[wn,ut]=v.useState(!1),[Et,nt]=v.useState(null),[Rt,Lt]=v.useState(!1),[on,vn]=v.useState("day"),ns=v.useRef(null),us=v.useRef(null),[_s,ds]=v.useState(0),Pn=v.useRef(0),Xt=v.useRef(0),[ra,xa]=v.useState(0),[Hn,ya]=v.useState(!1);v.useEffect(()=>{Ys()},[e,t]),v.useEffect(()=>{var Oe;if(((Oe=r==null?void 0:r.images)==null?void 0:Oe.length)>0){const Ve=r.images.findIndex(gt=>gt.is_main);ds(Ve>=0?Ve:0)}},[r==null?void 0:r.id]),v.useEffect(()=>{r&&r.id&&!r.locations&&Js()},[r==null?void 0:r.id,e,t]),v.useEffect(()=>{N==="batches"&&gs()},[N,e,t,Le,Ne,dt,tt,It,le,be]),v.useEffect(()=>{N==="locations"&&(r!=null&&r.locations)&&r.locations.forEach(Oe=>{const Ve=fe[Oe.id]||"all";Ze(Oe.id,Ve,1,!1)})},[N,e,t,(rn=r==null?void 0:r.locations)==null?void 0:rn.length]),v.useEffect(()=>{if(N==="locations"&&(r!=null&&r.locations))if(M){const Oe=fe[M]||"all";Ze(M,Oe,1,!1)}else r.locations.forEach(Oe=>{const Ve=fe[Oe.id]||"all";Ze(Oe.id,Ve,1,!1)})},[M,N]),v.useEffect(()=>{N==="analytics"&&Pa()},[N,e,t,on]),v.useEffect(()=>{if(!Et||!ns.current||N!=="analytics")return;us.current&&us.current.destroy();const Oe=ns.current.getContext("2d"),Ve=Et.sales_chart||[],gt=Ve.map(Jn=>{const Ss=Xn(Jn.period);return on==="day"?Ss.format("DD MMM"):Ss.format("MMM YYYY")}),$e=Ve.map(Jn=>parseFloat(Jn.revenue||0)),Vt=Ve.map(Jn=>parseInt(Jn.quantity||0)),Mn=Ve.map(Jn=>parseInt(Jn.orders||0));return us.current=new Ko(Oe,{type:"line",data:{labels:gt,datasets:[{label:" ()",data:$e,borderColor:"#2daf9f",backgroundColor:"rgba(45, 175, 159, 0.1)",tension:.4,yAxisID:"y",pointBackgroundColor:"#2daf9f",pointBorderColor:"#ffffff",pointBorderWidth:2,pointRadius:4,pointHoverRadius:6},{label:" ",data:Vt,borderColor:"#ff9f40",backgroundColor:"rgba(255, 159, 64, 0.1)",borderDash:[5,5],tension:.3,yAxisID:"y1",pointBackgroundColor:"#ff9f40",pointBorderColor:"#ffffff",pointBorderWidth:2,pointRadius:4,pointHoverRadius:6},{label:"",data:Mn,borderColor:"#9966ff",backgroundColor:"rgba(153, 102, 255, 0.1)",borderDash:[5,5],tension:.3,yAxisID:"y1",pointBackgroundColor:"#9966ff",pointBorderColor:"#ffffff",pointBorderWidth:2,pointRadius:4,pointHoverRadius:6}]},options:{responsive:!0,maintainAspectRatio:!1,interaction:{mode:"index",intersect:!1},plugins:{legend:{display:!0,position:"top",labels:{color:"#e0e0e0",usePointStyle:!0}},tooltip:{backgroundColor:"rgba(0, 0, 0, 0.8)",titleColor:"#e0e0e0",bodyColor:"#e0e0e0",borderColor:"#404040",borderWidth:1}},scales:{x:{ticks:{color:"#9e9e9e"},grid:{color:"rgba(255, 255, 255, 0.1)"}},y:{type:"linear",display:!0,position:"left",ticks:{color:"#9e9e9e"},grid:{color:"rgba(255, 255, 255, 0.1)"}},y1:{type:"linear",display:!0,position:"right",ticks:{color:"#9e9e9e"},grid:{drawOnChartArea:!1}}}}}),()=>{us.current&&us.current.destroy()}},[Et,on,N]),v.useEffect(()=>{if(!R)return;const Oe=Ve=>{Ve.target.closest("[data-dropdown-container]")||$(!1)};return document.addEventListener("mousedown",Oe),()=>{document.removeEventListener("mousedown",Oe)}},[R]);const Ys=async()=>{var Oe,Ve;try{c(!0);const gt=await Re.get(`/api/business/${e}/products/${t}/info`);i(gt.data)}catch(gt){console.error("  :",gt),d(((Ve=(Oe=gt.response)==null?void 0:Oe.data)==null?void 0:Ve.detail)||"  ")}finally{c(!1)}},Js=async(Oe=null)=>{try{const Ve=Oe?{location_id:Oe}:{},gt=await Re.get(`/api/business/${e}/products/${t}/locations/`,{params:Ve});i($e=>({...$e,locations:gt.data.locations||[]}))}catch(Ve){console.error("   :",Ve),i(gt=>({...gt,locations:[]}))}},gs=async()=>{var Oe,Ve;try{ut(!0);const gt={sort:Le,filter:Ne,page:dt,page_size:tt,defect_sort:It,defect_page:le,defect_page_size:be},$e=await Re.get(`/api/business/${e}/products/${t}/batches-defects/`,{params:gt});ct($e.data.batches||[]),pn($e.data.defects||[]),bt($e.data.batches_pagination),fn($e.data.defects_pagination)}catch(gt){console.error("    :",gt),d(((Ve=(Oe=gt.response)==null?void 0:Oe.data)==null?void 0:Ve.detail)||"    ")}finally{ut(!1)}},Pa=async()=>{var Oe,Ve;try{Lt(!0);const gt=await Re.get(`/api/business/${e}/products/${t}/analytics/`,{params:{period:on}});nt(gt.data)}catch(gt){console.error("  :",gt),d(((Ve=(Oe=gt.response)==null?void 0:Oe.data)==null?void 0:Ve.detail)||"  ")}finally{Lt(!1)}},ar=(Oe,Ve,gt)=>{const $e=`${Oe}-${Ve}`;g(Vt=>({...Vt,[$e]:gt}))},Vs=async(Oe,Ve,gt,$e)=>{var Vt,Mn;try{j(!0),gt?await Re.post(`/api/business/${e}/location-price/create/`,{variant_id:Ve,location_id:Oe,selling_price:$e,is_active:!0}):await Re.post(`/api/business/${e}/location-price/create/`,{variant_id:Ve,location_id:Oe,selling_price:$e,is_active:!0});const Jn=`${Oe}-${Ve}`;g(Ss=>{const jr={...Ss};return delete jr[Jn],jr}),await Ys()}catch(Jn){console.error("  :",Jn),alert("  : "+(((Mn=(Vt=Jn.response)==null?void 0:Vt.data)==null?void 0:Mn.detail)||Jn.message))}finally{j(!1)}},Ts=(Oe,Ve)=>{const gt=`${Oe}-${Ve}`;g($e=>{const Vt={...$e};return delete Vt[gt],Vt})},Gs=(Oe,Ve)=>{const gt=`${Oe}-${Ve}`;w($e=>({...$e,[gt]:0}))},xr=(Oe,Ve,gt)=>{const $e=`${Oe}-${Ve}`;w(Vt=>({...Vt,[$e]:gt}))},Fa=async(Oe,Ve,gt)=>{var $e,Vt;try{j(!0),await Re.post(`/api/business/${e}/location-price/create/`,{variant_id:Ve,location_id:Oe,selling_price:gt,is_active:!0});const Mn=`${Oe}-${Ve}`;w(Jn=>{const Ss={...Jn};return delete Ss[Mn],Ss}),await Ys()}catch(Mn){console.error("  :",Mn),alert("  : "+(((Vt=($e=Mn.response)==null?void 0:$e.data)==null?void 0:Vt.detail)||Mn.message))}finally{j(!1)}},qa=async(Oe,Ve,gt,$e)=>{var Vt,Mn;try{j(!0),await Re.post(`/api/business/${e}/location-price/create/`,{variant_id:Ve,location_id:Oe,selling_price:r.locations.find(Jn=>Jn.id===Oe).variants.find(Jn=>Jn.id===Ve).price,is_active:!$e}),i(Jn=>({...Jn,locations:Jn.locations.map(Ss=>Ss.id===Oe?{...Ss,variants:Ss.variants.map(jr=>jr.id===Ve?{...jr,is_price_active:!$e}:jr)}:Ss)}))}catch(Jn){console.error("  :",Jn),alert("  : "+(((Mn=(Vt=Jn.response)==null?void 0:Vt.data)==null?void 0:Mn.detail)||Jn.message))}finally{j(!1)}},zt=async(Oe,Ve,gt,$e,Vt)=>{var Mn,Jn,Ss,jr;try{j(!0);const Vi=r.locations.find(Ji=>Ji.id===Oe).variants.find(Ji=>Ji.id===Ve),Wr={variant_id:Ve,location_id:Oe,selling_price:Vi.price,is_active:Vi.is_price_active,[$e]:!Vt};await Re.post(`/api/business/${e}/location-price/create/`,Wr),i(Ji=>({...Ji,locations:Ji.locations.map(Xs=>Xs.id===Oe?{...Xs,variants:Xs.variants.map(Rl=>Rl.id===Ve?{...Rl,[$e]:!Vt}:Rl)}:Xs)}))}catch(Vi){console.error("  :",Vi);const Wr=((Jn=(Mn=Vi.response)==null?void 0:Mn.data)==null?void 0:Jn.detail)||((jr=(Ss=Vi.response)==null?void 0:Ss.data)==null?void 0:jr.message)||Vi.message;alert("  : "+Wr)}finally{j(!1)}},Kn=(Oe,Ve)=>{const gt=`${Oe}-${Ve}`;w($e=>{const Vt={...$e};return delete Vt[gt],Vt})},Es=Oe=>{const Ve=a(Oe.barcode_image),gt=Oe.name||r.name,$e=Oe.price?`${parseFloat(Oe.price).toLocaleString("ru-RU")}   ${(r==null?void 0:r.unit_display)||"."}`:"  ",Vt=Oe.attributes&&Oe.attributes.length>0?`<div class="attributes">
                ${Oe.attributes.map(Ss=>`
                    <div class="attribute">
                        <span class="attribute-name">${Ss.name}:</span>
                        <span>${Ss.value}</span>
                    </div>
                `).join("")}
            </div>`:"",Mn=`
          <html>
            <head>
              <title> -</title>
              <style>
                @page { size: 58mm 40mm; margin: 0; }
                body { margin: 0; width: 58mm; height: 40mm; display: flex; justify-content: center; align-items: center; font-family: 'Inter', sans-serif; font-size: 8px; }
                .product { text-align: center; width: 100%; padding: 1mm 2mm; }
                .name { font-weight: bold; font-size: 13px; margin-bottom: 1mm; }
                .barcode-img { height: 24mm; width: auto; max-width: 95%; }
                .price { font-size: 15px; font-weight: bold; margin-top: 0.5mm; }
                .attributes { margin-top: 0.5mm; font-size: 7px; }
                .attribute { display: flex; justify-content: space-between; gap: 2mm; }
                .attribute-name { font-weight: 600; }
              </style>
            </head>
            <body>
              <div class="product">
                <div class="name">${gt}</div>
                <img class="barcode-img" src="${Ve}" alt="barcode" />
                <div class="price">${$e}</div>
                ${Vt}
              </div>
            </body>
          </html>
        `,Jn=window.open("","_blank","width=580,height=400");Jn.document.open(),Jn.document.write(Mn),Jn.document.close(),setTimeout(()=>{Jn.focus(),Jn.print(),Jn.close()},500)},er=(r==null?void 0:r.locations)||[],ys=((r==null?void 0:r.locations_for_filter)||[]).filter(Oe=>Oe.name.toLowerCase().includes(P.toLowerCase())),ks=Oe=>{B(Oe),$(!1),O(""),Js(Oe)},is=()=>{B(null),Js(),O("")};v.useEffect(()=>{_e(1)},[Ne,Le,tt]),v.useEffect(()=>{Ae(1)},[It,be]);const La=Oe=>Oe?Xn(Oe).format("DD.MM.YYYY"):"",os=Oe=>Number(Oe||0).toLocaleString("ru-RU");v.useMemo(()=>{if(!r||!r.locations)return[];const Oe=new Map;return r.locations.forEach(Ve=>{var gt;(gt=Ve.variants)==null||gt.forEach($e=>{Oe.has($e.id)||Oe.set($e.id,$e)})}),Array.from(Oe.values())},[r]);const ta=()=>({tempId:`${Date.now()}-${Math.random()}`,locationId:"",variantId:"",variantName:"",variantOnLocationId:null,quantity:0,cost_price:"",reserved_quantity:0,is_available_for_sale:!0,is_active_on_marketplace:!1,is_active_for_offline_sale:!1,is_active_on_own_site:!1}),Ws=()=>{F(!1)},Qs=(Oe,Ve)=>{ne(gt=>({...gt,[Oe]:Ve}))},fr=()=>{ne(Oe=>({...Oe,stocks:[...Oe.stocks,ta()]}))},qs=Oe=>{ne(Ve=>{const gt=Ve.stocks.filter($e=>$e.tempId!==Oe);return{...Ve,stocks:gt.length?gt:[ta()]}})},Ga=(Oe,Ve)=>{ne(gt=>({...gt,stocks:gt.stocks.map($e=>$e.tempId===Oe?{...$e,locationId:Ve,variantId:"",variantName:"",variantOnLocationId:null}:$e)}))},_i=(Oe,Ve)=>{ne(gt=>({...gt,stocks:gt.stocks.map($e=>{if($e.tempId!==Oe)return $e;const Vt=((r==null?void 0:r.locations)||[]).find(Jn=>Number(Jn.id)===Number($e.locationId));if(!Vt)return $e;const Mn=(Vt.variants||[]).find(Jn=>Number(Jn.id)===Number(Ve));return Mn?Mn.price_id?{...$e,variantId:Ve,variantName:Mn.name,variantOnLocationId:Mn.price_id,is_active_on_marketplace:Mn.is_active_on_marketplace||!1,is_active_for_offline_sale:Mn.is_active_for_offline_sale||!1,is_active_on_own_site:Mn.is_active_on_own_site||!1}:(alert("        "),$e):$e})}))},na=(Oe,Ve,gt)=>{ne($e=>({...$e,stocks:$e.stocks.map(Vt=>Vt.tempId===Oe?{...Vt,[Ve]:gt}:Vt)}))},As=async()=>{var gt;if(V(""),!H.stocks.length){V("    ");return}if(H.stocks.find($e=>!$e.variantOnLocationId||Number($e.quantity)<=0)){V(" ,      ");return}const Ve={received_date:H.received_date||void 0,supplier:H.supplier||void 0,notes:H.notes||"",stocks:H.stocks.map($e=>({variant_on_location_id:$e.variantOnLocationId,quantity:Number($e.quantity),cost_price:$e.cost_price===""?null:Number($e.cost_price),reserved_quantity:$e.reserved_quantity===""?0:Number($e.reserved_quantity),is_available_for_sale:!!$e.is_available_for_sale,is_active_on_marketplace:!!$e.is_active_on_marketplace,is_active_for_offline_sale:!!$e.is_active_for_offline_sale,is_active_on_own_site:!!$e.is_active_on_own_site}))};H.batch_number&&H.batch_number.trim()!==""&&(Ve.batch_number=H.batch_number);try{te(!0),await Re.post(`/api/business/${e}/batches/create/`,Ve),F(!1),await gs(),await Ys(),alert("  ")}catch($e){const Vt=(gt=$e.response)==null?void 0:gt.data,Mn=(Vt==null?void 0:Vt.detail)||(Vt==null?void 0:Vt.message)||(typeof Vt=="string"?Vt:JSON.stringify(Vt));V(Mn||"   ")}finally{te(!1)}},Fn=(Oe,Ve=null,gt=null)=>{Y("");const $e=Ve?(Oe.availableQuantity||0)+(Ve.quantity||0):Oe.availableQuantity||0;T({open:!0,stockId:Oe.stockId,variantName:Oe.variantName,locationName:Oe.locationName,locationId:gt||Oe.locationId||null,batchNumber:Oe.batchNumber,quantity:Ve?Ve.quantity:"",reason:Ve?Ve.reason:"",defectId:Ve?Ve.id:null,availableQuantity:$e})},rt=()=>{T({open:!1,stockId:null,variantName:"",locationName:"",locationId:null,batchNumber:"",quantity:"",reason:"",defectId:null,availableQuantity:0})},Be=async()=>{var Ve;if(!q.stockId)return;const Oe=Number(q.quantity);if(!Oe||Oe<=0){Y("    0");return}if(Oe>q.availableQuantity){Y(`    : ${os(q.availableQuantity)} ${(r==null?void 0:r.unit_display)||"."}`);return}Z(!0);try{if(q.defectId?await Re.patch(`/api/business/${e}/stocks/defects/${q.defectId}/update/`,{quantity:Oe,reason:q.reason||""}):await Re.post(`/api/business/${e}/stocks/${q.stockId}/defects/create/`,{quantity:Oe,reason:q.reason||""}),await gs(),await Ys(),q.locationId&&(r!=null&&r.locations)){const gt=fe[q.locationId]||"all";await Ze(q.locationId,gt,1,!1)}rt()}catch(gt){const $e=(Ve=gt.response)==null?void 0:Ve.data,Vt=($e==null?void 0:$e.detail)||($e==null?void 0:$e.message)||(typeof $e=="string"?$e:Object.values($e||{})[0]);Y(Vt||"   ")}finally{Z(!1)}},Ye=async Oe=>{var Ve,gt;if(window.confirm("   ?"))try{if(await Re.post(`/api/business/${e}/stocks/${Oe}/defects/remove/`),await gs(),await Ys(),r!=null&&r.locations)for(const $e of r.locations){const Vt=fe[$e.id]||"all";await Ze($e.id,Vt,1,!1)}}catch($e){alert("   : "+(((gt=(Ve=$e.response)==null?void 0:Ve.data)==null?void 0:gt.detail)||$e.message))}},Dt=(Oe,Ve=null,gt=null)=>{ie("");const $e=Ve?(Oe.availableQuantity||0)+(Ve.quantity||0):Oe.availableQuantity||0;G({open:!0,stockId:Oe.stockId,variantName:Oe.variantName,locationName:Oe.locationName,locationId:gt||Oe.locationId||null,batchNumber:Oe.batchNumber,quantity:Ve?Ve.quantity:"",reason:Ve?Ve.reason:"other",reasonDetail:Ve&&Ve.reasonDetail||"",availableQuantity:$e,writeoffId:Ve?Ve.id:null})},Wt=()=>{G({open:!1,stockId:null,variantName:"",locationName:"",locationId:null,batchNumber:"",quantity:"",reason:"other",reasonDetail:"",availableQuantity:0,writeoffId:null})},qt=async()=>{var Ve;if(!K.stockId)return;const Oe=Number(K.quantity);if(!Oe||Oe<=0){ie("    0");return}if(Oe>K.availableQuantity){ie(`    : ${os(K.availableQuantity)} ${(r==null?void 0:r.unit_display)||"."}`);return}ee(!0);try{if(K.writeoffId?await Re.patch(`/api/business/${e}/stocks/writeoffs/${K.writeoffId}/update/`,{quantity:Oe,reason:K.reason,reason_detail:K.reasonDetail||""}):await Re.post(`/api/business/${e}/stocks/${K.stockId}/writeoffs/create/`,{quantity:Oe,reason:K.reason,reason_detail:K.reasonDetail||""}),await gs(),await Ys(),K.locationId&&(r!=null&&r.locations)){const gt=fe[K.locationId]||"all";await Ze(K.locationId,gt,1,!1)}Wt()}catch(gt){const $e=(Ve=gt.response)==null?void 0:Ve.data,Vt=($e==null?void 0:$e.detail)||($e==null?void 0:$e.message)||(typeof $e=="string"?$e:Object.values($e||{})[0]);ie(Vt||(K.writeoffId?"   ":"   "))}finally{ee(!1)}},Ge=async Oe=>{var Ve;if(window.confirm("   ?")){ee(!0);try{if(await Re.delete(`/api/business/${e}/stocks/writeoffs/${Oe}/delete/`),await gs(),await Ys(),r!=null&&r.locations)for(const gt of r.locations){const $e=fe[gt.id]||"all";await Ze(gt.id,$e,1,!1)}}catch(gt){const $e=(Ve=gt.response)==null?void 0:Ve.data,Vt=($e==null?void 0:$e.detail)||($e==null?void 0:$e.message)||"   ";alert(Vt)}finally{ee(!1)}}},Ze=async(Oe,Ve="all",gt=1,$e=!1)=>{try{Ee(jr=>({...jr,[Oe]:!0}));const Vt={location_id:Oe,location_filter:Ve,location_sort:"recent",location_page:gt,location_page_size:3},Mn=await Re.get(`/api/business/${e}/products/${t}/batches-defects/`,{params:Vt}),Jn=Mn.data.batches||[],Ss=Mn.data.batches_pagination||null;Se($e?jr=>{var Vi;return{...jr,[Oe]:{batches:[...((Vi=jr[Oe])==null?void 0:Vi.batches)||[],...Jn],pagination:Ss}}}:jr=>({...jr,[Oe]:{batches:Jn,pagination:Ss}}))}catch(Vt){console.error(`     ${Oe}:`,Vt),Se(Mn=>{var Jn,Ss;return{...Mn,[Oe]:{batches:((Jn=Mn[Oe])==null?void 0:Jn.batches)||[],pagination:((Ss=Mn[Oe])==null?void 0:Ss.pagination)||null}}})}finally{Ee(Vt=>({...Vt,[Oe]:!1}))}},Ke=Oe=>{const Ve=xe[Oe],gt=fe[Oe]||"all";if(!Ve||!Ve.pagination)return;const $e=(Ve.pagination.current_page||1)+1;$e<=(Ve.pagination.total_pages||1)&&Ze(Oe,gt,$e,!0)},it=(Oe,Ve)=>{re(gt=>({...gt,[Oe]:Ve})),Ze(Oe,Ve,1,!1)},Ut=async(Oe,Ve,gt,$e)=>{he({open:!0,stockId:Oe,batchNumber:$e,variantName:Ve,locationName:gt,history:[],loading:!0});try{const Vt=await Re.get(`/api/business/${e}/stocks/${Oe}/movement-history/`);he(Mn=>({...Mn,history:Vt.data.history||[],loading:!1}))}catch(Vt){console.error("  :",Vt),alert("     "),he(Mn=>({...Mn,loading:!1}))}},Ft=()=>{he({open:!1,stockId:null,batchNumber:"",variantName:"",locationName:"",history:[],loading:!1})},En=async(Oe,Ve,gt)=>{var $e,Vt;ye({open:!0,variantLocationId:Oe,variantName:Ve,locationName:gt,history:[],loading:!0,page:1,hasMore:!1,loadingMore:!1});try{const Mn=await Re.get(`/api/business/${e}/variant-locations/${Oe}/movement-history/`,{params:{page:1,page_size:20}});ye(Jn=>{var Ss;return{...Jn,history:Mn.data.history||[],loading:!1,hasMore:((Ss=Mn.data.pagination)==null?void 0:Ss.has_next)||!1,page:1}})}catch(Mn){console.error("  :",Mn),alert("  : "+(((Vt=($e=Mn.response)==null?void 0:$e.data)==null?void 0:Vt.detail)||Mn.message)),ye(Jn=>({...Jn,loading:!1}))}},gn=()=>{ye({open:!1,variantLocationId:null,variantName:"",locationName:"",history:[],loading:!1,page:1,hasMore:!1,loadingMore:!1})},Qn=async()=>{const{variantLocationId:Oe,page:Ve,hasMore:gt,loadingMore:$e}=ge;if(!(!gt||$e)){ye(Vt=>({...Vt,loadingMore:!0}));try{const Vt=await Re.get(`/api/business/${e}/variant-locations/${Oe}/movement-history/`,{params:{page:Ve+1,page_size:20}});ye(Mn=>{var Jn;return{...Mn,history:[...Mn.history,...Vt.data.history||[]],page:Ve+1,hasMore:((Jn=Vt.data.pagination)==null?void 0:Jn.has_next)||!1,loadingMore:!1}})}catch(Vt){console.error("  :",Vt),ye(Mn=>({...Mn,loadingMore:!1}))}}},Gt=async()=>{var $e,Vt;const{variantLocationId:Oe,variantName:Ve,locationName:gt}=ge;try{const Mn=await Re.get(`/api/business/${e}/variant-locations/${Oe}/movement-history/export-excel/`,{responseType:"blob"}),Jn=window.URL.createObjectURL(new Blob([Mn.data])),Ss=document.createElement("a");Ss.href=Jn;const jr=`__${Ve}_${gt}_${new Date().toISOString().split("T")[0]}.xlsx`;Ss.setAttribute("download",jr),document.body.appendChild(Ss),Ss.click(),Ss.remove(),window.URL.revokeObjectURL(Jn)}catch(Mn){console.error(" :",Mn),alert("   Excel: "+(((Vt=($e=Mn.response)==null?void 0:$e.data)==null?void 0:Vt.detail)||Mn.message))}};if(o)return s.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh"},children:s.jsx(Wn,{size:"large"})});if(l)return s.jsxs("div",{className:Te.errorContainer,children:[s.jsx("div",{className:Te.error,children:l}),s.jsx("button",{onClick:()=>n(`/business/${e}/products/`),children:"  "})]});if(!r)return null;const Tn=r.images||[];Tn[_s]||Tn[0];const hn=()=>{ds(Oe=>Oe>0?Oe-1:Tn.length-1)},ss=()=>{ds(Oe=>Oe<Tn.length-1?Oe+1:0)},Qt=Oe=>{Pn.current=Oe.touches[0].clientX,ya(!0),xa(0)},xs=Oe=>{if(!Hn||!Pn.current||Tn.length<=1)return;const Ve=Oe.touches[0].clientX,gt=Ve-Pn.current,$e=Oe.currentTarget.offsetWidth||window.innerWidth,Vt=gt/$e*100,Jn=Math.max(-100,Math.min(100,Vt));xa(Jn),Xt.current=Ve},wt=()=>{if(!Hn)return;const Oe=(Xt.current||Pn.current)-Pn.current,Ve=window.innerWidth;Math.abs(Oe)/Ve*100>20&&Tn.length>1&&(Oe>0?hn():ss()),ya(!1),xa(0),Pn.current=0,Xt.current=0};return s.jsxs("div",{className:Te.container,children:[s.jsxs("div",{className:Te.header,children:[s.jsx("button",{className:Te.backButton,onClick:()=>n(`/business/${e}/products/`),children:"   "}),s.jsxs("div",{className:Te.headerTitleRow,children:[s.jsx("h1",{className:Te.title,children:r.name}),s.jsxs("button",{className:Te.editButton,onClick:()=>n(`/business/${e}/products/${t}/edit`),children:[s.jsx("i",{className:"fa fa-edit"})," "]})]})]}),s.jsxs("div",{className:Te.productInfo,children:[Tn.length>0&&s.jsxs("div",{className:Te.imageContainer,onTouchStart:Qt,onTouchMove:xs,onTouchEnd:wt,children:[s.jsx("div",{className:Te.imageSlider,style:{transform:`translateX(calc(-${_s*100}% + ${ra}%))`,transition:Hn?"none":"transform 0.4s cubic-bezier(0.4, 0, 0.2, 1)"},children:Tn.map((Oe,Ve)=>s.jsx("img",{src:a(Oe.image),alt:`${r.name} -  ${Ve+1}`,className:Te.mainImage},Oe.id||Ve))}),Tn.length>1&&s.jsxs("div",{className:Te.imageIndicator,children:[_s+1," / ",Tn.length]})]}),s.jsxs("div",{className:Te.details,children:[s.jsxs("div",{className:Te.category,children:[": ",r.category_name]}),s.jsx("div",{className:Te.description,children:r.description}),(r.min_price||r.max_price)&&s.jsxs("div",{className:Te.priceRangeInfo,children:[s.jsx("span",{className:Te.priceRangeLabel,children:" :"}),s.jsx("span",{className:Te.priceRangeValue,children:r.min_price&&r.max_price?r.min_price===r.max_price?`${parseFloat(r.min_price).toLocaleString("ru-RU")} `:`${parseFloat(r.min_price).toLocaleString("ru-RU")} - ${parseFloat(r.max_price).toLocaleString("ru-RU")} `:r.min_price?` ${parseFloat(r.min_price).toLocaleString("ru-RU")} `:` ${parseFloat(r.max_price).toLocaleString("ru-RU")} `})]}),s.jsxs("div",{className:Te.statsInfo,children:[s.jsxs("div",{className:Te.statItem,children:[s.jsx("span",{className:Te.statLabel,children:" :"}),s.jsxs("span",{className:Te.statValue,children:[(r.total_available||0).toLocaleString("ru-RU")," ",(r==null?void 0:r.unit_display)||"."]})]}),s.jsxs("div",{className:Te.statItem,children:[s.jsx("span",{className:Te.statLabel,children:" :"}),s.jsxs("span",{className:`${Te.statValue} ${Te.statValueDefect}`,children:[(r.total_defect||0).toLocaleString("ru-RU")," ",(r==null?void 0:r.unit_display)||"."]})]})]})]})]}),s.jsxs("div",{className:Te.tabs,children:[s.jsx("button",{className:`${Te.tab} ${N==="locations"?Te.activeTab:""}`,onClick:()=>I("locations"),children:"  "}),s.jsx("button",{className:`${Te.tab} ${N==="batches"?Te.activeTab:""}`,onClick:()=>I("batches"),children:"  "}),s.jsx("button",{className:`${Te.tab} ${N==="salesHistory"?Te.activeTab:""}`,onClick:()=>I("salesHistory"),children:" "}),s.jsx("button",{className:`${Te.tab} ${N==="analytics"?Te.activeTab:""}`,onClick:()=>I("analytics"),children:""})]}),N==="locations"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:Te.locationFilter,children:[s.jsx("label",{className:Te.filterLabel,children:"  :"}),s.jsxs("div",{className:Te.dropdownContainer,"data-dropdown-container":!0,children:[s.jsxs("div",{className:Te.dropdownButton,onClick:()=>$(!R),children:[s.jsx("span",{children:M&&r?(Bn=r.locations.find(Oe=>Oe.id===M))==null?void 0:Bn.name:" "}),s.jsx("i",{className:`fa fa-chevron-${R?"up":"down"}`})]}),R&&s.jsxs("div",{className:Te.dropdown,children:[s.jsxs("div",{className:Te.searchInputContainer,children:[s.jsx("i",{className:"fa fa-search"}),s.jsx("input",{type:"text",placeholder:" ...",value:P,onChange:Oe=>O(Oe.target.value),className:Te.searchInput,onClick:Oe=>Oe.stopPropagation()})]}),s.jsxs("div",{className:Te.dropdownList,children:[s.jsxs("div",{className:`${Te.dropdownItem} ${M?"":Te.selected}`,onClick:()=>is(),children:[" ",!M&&s.jsx("i",{className:"fa fa-check"})]}),ys.map(Oe=>s.jsxs("div",{className:`${Te.dropdownItem} ${M===Oe.id?Te.selected:""}`,onClick:()=>ks(Oe.id),children:[Oe.name,M===Oe.id&&s.jsx("i",{className:"fa fa-check"})]},Oe.id)),ys.length===0&&s.jsx("div",{className:Te.noResults,children:"  "})]})]})]}),M&&s.jsxs("button",{onClick:is,className:Te.clearFilterButton,children:[s.jsx("i",{className:"fa fa-times"})," "]})]}),s.jsx("div",{className:Te.locationsList,children:er.map(Oe=>s.jsxs("div",{className:Te.locationCard,children:[s.jsx("h3",{className:Te.locationName,children:Oe.name}),s.jsx("div",{className:Te.variantsList,children:Oe.variants.map(Ve=>{const gt=`${Oe.id}-${Ve.id}`,$e=f.hasOwnProperty(gt),Vt=b.hasOwnProperty(gt),Mn=f[gt],Jn=b[gt];return s.jsxs("div",{className:Te.variantCard,children:[s.jsxs("div",{className:Te.variantHeader,children:[s.jsx("span",{className:Te.variantName,children:Ve.name}),s.jsxs("span",{className:Te.variantSku,children:["SKU: ",Ve.sku]})]}),Ve.attributes&&Ve.attributes.length>0&&s.jsxs("div",{className:Te.variantAttributes,children:[s.jsx("div",{className:Te.attributesContainer,children:Ve.attributes.slice(0,je[Ve.id]?Ve.attributes.length:2).map((Ss,jr)=>s.jsxs("span",{className:Te.attributeTag,children:[Ss.name,": ",Ss.value]},jr))}),Ve.attributes.length>2&&s.jsx("button",{className:Te.toggleAttributesButton,onClick:()=>Ie(Ss=>({...Ss,[Ve.id]:!Ss[Ve.id]})),children:je[Ve.id]?s.jsxs(s.Fragment,{children:[s.jsx("i",{className:"fa fa-chevron-up"})," "]}):s.jsxs(s.Fragment,{children:[s.jsx("i",{className:"fa fa-chevron-down"}),"   (",Ve.attributes.length,")"]})})]}),s.jsxs("div",{className:Te.variantDetails,children:[!Ve.price&&!Vt?s.jsxs("button",{className:Te.addPriceButton,onClick:()=>Gs(Oe.id,Ve.id),children:[s.jsx("i",{className:"fa fa-plus"}),"  "]}):Vt?s.jsxs("div",{className:Te.priceEdit,children:[s.jsx("input",{type:"number",value:Jn,onChange:Ss=>xr(Oe.id,Ve.id,Ss.target.value),className:Te.priceInput,placeholder:"",min:"0",step:"0.01"}),s.jsxs("span",{className:Te.priceUnitLabel,children:["  ",(r==null?void 0:r.unit_display)||"."]}),s.jsxs("div",{className:Te.editButtons,children:[s.jsx("button",{onClick:()=>Fa(Oe.id,Ve.id,Jn),disabled:S,className:Te.saveButton,children:""}),s.jsx("button",{onClick:()=>Kn(Oe.id,Ve.id),className:Te.cancelButton,children:""})]})]}):$e?s.jsxs("div",{className:Te.priceEdit,children:[s.jsx("input",{type:"number",value:Mn,onChange:Ss=>ar(Oe.id,Ve.id,Ss.target.value),className:Te.priceInput,min:"0",step:"0.01"}),s.jsxs("span",{className:Te.priceUnitLabel,children:["  ",(r==null?void 0:r.unit_display)||"."]}),s.jsxs("div",{className:Te.editButtons,children:[s.jsx("button",{onClick:()=>Vs(Oe.id,Ve.id,Ve.price_id,Mn),disabled:S,className:Te.saveButton,children:""}),s.jsx("button",{onClick:()=>Ts(Oe.id,Ve.id),className:Te.cancelButton,children:""})]})]}):s.jsxs("div",{className:Te.priceSection,children:[s.jsxs("div",{className:Te.priceRow,children:[s.jsxs("div",{className:Te.priceInfo,children:[s.jsx("span",{className:Te.priceLabel,children:":"}),s.jsxs("span",{className:Te.priceValue,children:[parseFloat(Ve.price).toLocaleString("ru-RU"),"   ",(r==null?void 0:r.unit_display)||"."]}),s.jsxs("label",{className:Te.isActiveToggle,children:[s.jsx("input",{type:"checkbox",checked:Ve.is_price_active,onChange:()=>qa(Oe.id,Ve.id,Ve.price_id,Ve.is_price_active),disabled:S}),s.jsx("span",{className:Te.toggleLabel,children:Ve.is_price_active?"":""})]})]}),s.jsxs("div",{className:Te.priceActions,children:[s.jsx("button",{onClick:()=>g(Ss=>({...Ss,[gt]:Ve.price})),className:Te.editButton,children:""}),Ve.price_id&&s.jsxs("button",{onClick:()=>En(Ve.price_id,Ve.name,Oe.name),className:Te.historyButton,title:" ",children:[s.jsx("i",{className:"fa fa-history"})," "]})]})]}),s.jsxs("div",{className:Te.activeFlagsSection,children:[s.jsx("div",{className:Te.activeFlagsTitle,children:" :"}),s.jsxs("div",{className:Te.activeFlagsList,children:[s.jsxs("label",{className:Te.activeFlagItem,children:[s.jsx("input",{type:"checkbox",checked:Ve.is_active_on_marketplace||!1,onChange:()=>zt(Oe.id,Ve.id,Ve.price_id,"is_active_on_marketplace",Ve.is_active_on_marketplace||!1),disabled:S||Ve.available_quantity===0,title:Ve.available_quantity===0?" .     .":""}),s.jsx("span",{className:Te.flagLabel,children:"  "})]}),s.jsxs("label",{className:Te.activeFlagItem,children:[s.jsx("input",{type:"checkbox",checked:Ve.is_active_for_offline_sale||!1,onChange:()=>zt(Oe.id,Ve.id,Ve.price_id,"is_active_for_offline_sale",Ve.is_active_for_offline_sale||!1),disabled:S||Ve.available_quantity===0,title:Ve.available_quantity===0?" .     .":""}),s.jsx("span",{className:Te.flagLabel,children:"   "})]}),s.jsxs("label",{className:Te.activeFlagItem,children:[s.jsx("input",{type:"checkbox",checked:Ve.is_active_on_own_site||!1,onChange:()=>zt(Oe.id,Ve.id,Ve.price_id,"is_active_on_own_site",Ve.is_active_on_own_site||!1),disabled:S||Ve.available_quantity===0,title:Ve.available_quantity===0?" .     .":""}),s.jsx("span",{className:Te.flagLabel,children:"     "})]})]})]})]}),s.jsxs("div",{className:Te.stockInfo,children:[s.jsxs("div",{className:Te.stockItem,children:[s.jsx("span",{children:":"}),s.jsxs("strong",{children:[Ve.available_quantity," ",(r==null?void 0:r.unit_display)||"."]})]}),s.jsxs("div",{className:Te.stockItem,children:[s.jsx("span",{children:":"}),s.jsxs("strong",{children:[Ve.reserved_quantity," ",(r==null?void 0:r.unit_display)||"."]})]}),s.jsxs("div",{className:Te.stockItem,children:[s.jsx("span",{children:":"}),s.jsxs("strong",{className:Te.defectQuantity,children:[Ve.defect_quantity||0," ",(r==null?void 0:r.unit_display)||"."]})]})]}),Ve.barcode_image&&s.jsxs("div",{className:Te.barcodeSection,children:[s.jsx("h4",{className:Te.barcodeTitle,children:"-"}),s.jsx("div",{className:Te.barcodeImageContainer,children:s.jsx("img",{src:a(Ve.barcode_image),alt:"-",className:Te.barcodeImg})}),Ve.barcode&&s.jsx("p",{className:Te.barcodeNumber,children:Ve.barcode}),s.jsxs("button",{onClick:()=>Es(Ve),className:Te.printBarcodeButton,title:" -",children:[s.jsx("i",{className:"fa fa-print"}),"  -"]})]})]})]},Ve.id)})}),(()=>{const Ve=xe[Oe.id],gt=pe[Oe.id],$e=fe[Oe.id]||"all";if(gt&&!Ve)return s.jsx("div",{className:Te.locationBatchesSection,children:s.jsx("div",{style:{textAlign:"center",padding:"2rem"},children:s.jsx(Wn,{size:"small"})})});const Vt=(Ve==null?void 0:Ve.batches)||[];if(Vt.length===0&&!gt)return null;const Mn=Ve==null?void 0:Ve.pagination,Jn=Mn&&Mn.has_next;return s.jsxs("div",{className:Te.locationBatchesSection,children:[s.jsxs("div",{className:Te.locationBatchesHeader,children:[s.jsx("h4",{className:Te.locationBatchesTitle,children:" "}),s.jsxs("div",{className:Te.locationBatchFilters,children:[s.jsx("button",{className:`${Te.filterButton} ${$e==="all"?Te.filterButtonActive:""}`,onClick:()=>it(Oe.id,"all"),disabled:gt,children:""}),s.jsx("button",{className:`${Te.filterButton} ${$e==="has_stock"?Te.filterButtonActive:""}`,onClick:()=>it(Oe.id,"has_stock"),disabled:gt,children:" "}),s.jsx("button",{className:`${Te.filterButton} ${$e==="sold_out"?Te.filterButtonActive:""}`,onClick:()=>it(Oe.id,"sold_out"),disabled:gt,children:""})]})]}),s.jsx("div",{className:Te.locationBatchesList,children:Vt.flatMap((Ss,jr)=>{var Vi;return(Vi=Ss.lines)==null?void 0:Vi.map((Wr,Ji)=>s.jsxs("div",{className:Te.locationBatchItem,children:[s.jsxs("div",{className:Te.locationBatchItemHeader,children:[s.jsxs("div",{className:Te.locationBatchItemInfo,children:[s.jsx("strong",{children:Wr.variantName}),Ss.batchNumber&&s.jsxs("span",{className:Te.batchNumber,children:[": ",Ss.batchNumber]})]}),s.jsx("button",{onClick:()=>Ut(Wr.stockId,Wr.variantName,Wr.locationName,Ss.batchNumber),className:Te.historyButton,title:"  ",children:s.jsx("i",{className:"fa fa-history"})})]}),s.jsxs("div",{className:Te.locationBatchItemDetails,children:[s.jsxs("div",{className:Te.locationBatchDetailItem,children:[s.jsx("span",{children:":"}),s.jsxs("strong",{children:[os(Wr.quantity)," ",(r==null?void 0:r.unit_display)||"."]})]}),Ss.receivedDate&&s.jsxs("div",{className:Te.locationBatchDetailItem,children:[s.jsx("span",{children:" :"}),s.jsx("span",{children:new Date(Ss.receivedDate).toLocaleDateString("ru-RU")})]}),Ss.supplier&&s.jsxs("div",{className:Te.locationBatchDetailItem,children:[s.jsx("span",{children:":"}),s.jsx("span",{children:Ss.supplier})]})]}),s.jsxs("div",{className:Te.locationBatchItemActions,children:[s.jsxs("button",{className:Te.secondaryButton,onClick:()=>Fn(Wr,null,Oe.id),disabled:J,children:[s.jsx("i",{className:"fa fa-exclamation-triangle"}),"  "]}),s.jsxs("button",{className:Te.secondaryButton,onClick:()=>Dt(Wr,null,Oe.id),disabled:oe,children:[s.jsx("i",{className:"fa fa-trash"}),"  "]})]}),Wr.writeoffs&&Wr.writeoffs.length>0&&s.jsx("div",{className:Te.defectsList,children:Wr.writeoffs.map(Xs=>s.jsxs("div",{className:Te.defectItem,children:[s.jsxs("div",{children:[s.jsxs("strong",{children:[": ",os(Xs.quantity)," ",(r==null?void 0:r.unit_display)||"."]}),s.jsxs("span",{children:[Xs.reasonDisplay||Xs.reason,Xs.reasonDetail?` - ${Xs.reasonDetail}`:"",Xs.transfer&&s.jsxs("span",{className:Te.transferBadge,children:["( ",Xs.transferNumber,")"]})]})]}),s.jsxs("div",{className:Te.defectActions,children:[!Xs.transfer&&s.jsxs(s.Fragment,{children:[s.jsx("button",{className:Te.linkButton,onClick:()=>Dt(Wr,Xs,Oe.id),disabled:oe,children:""}),s.jsx("button",{className:Te.linkButtonDanger,onClick:()=>Ge(Xs.id),disabled:oe,children:""})]}),Xs.transfer&&s.jsx("span",{className:Te.transferInfo,children:"  "})]})]},Xs.id))}),Wr.defects&&Wr.defects.length>0&&s.jsx("div",{className:Te.defectsList,children:Wr.defects.map(Xs=>s.jsxs("div",{className:Te.defectItem,children:[s.jsxs("div",{children:[s.jsxs("strong",{children:[": ",os(Xs.quantity)," ",(r==null?void 0:r.unit_display)||"."]}),s.jsx("span",{children:Xs.reason||" "})]}),s.jsxs("div",{className:Te.defectActions,children:[s.jsx("button",{className:Te.linkButton,onClick:()=>Fn(Wr,Xs,Oe.id),disabled:J,children:""}),s.jsx("button",{className:Te.linkButtonDanger,onClick:()=>Ye(Xs.id),disabled:J,children:""})]})]},Xs.id))})]},`${jr}-${Ji}`))})}),Jn&&s.jsx("div",{className:Te.loadMoreBatchesContainer,children:s.jsx("button",{onClick:()=>Ke(Oe.id),disabled:gt,className:Te.loadMoreButton,children:gt?"...":" "})})]})})()]},Oe.id))})]}),N==="batches"&&s.jsxs("div",{className:Te.batchesSection,children:[s.jsx("div",{className:Te.batchesHeader,children:s.jsxs("div",{children:[s.jsx("h2",{children:"  "}),s.jsx("p",{children:"        ."})]})}),s.jsxs("div",{className:Te.batchControls,children:[s.jsxs("div",{className:Te.filterGroup,children:[s.jsx("button",{className:`${Te.filterButton} ${Ne==="all"?Te.filterButtonActive:""}`,onClick:()=>et("all"),children:""}),s.jsx("button",{className:`${Te.filterButton} ${Ne==="has_stock"?Te.filterButtonActive:""}`,onClick:()=>et("has_stock"),children:" "}),s.jsx("button",{className:`${Te.filterButton} ${Ne==="sold_out"?Te.filterButtonActive:""}`,onClick:()=>et("sold_out"),children:""})]}),s.jsxs("div",{className:Te.sortGroup,children:[s.jsx("label",{children:""}),s.jsxs("select",{value:Le,onChange:Oe=>Ue(Oe.target.value),children:[s.jsx("option",{value:"recent",children:" "}),s.jsx("option",{value:"oldest",children:" "}),s.jsx("option",{value:"available",children:" "}),s.jsx("option",{value:"sold_out",children:""}),s.jsx("option",{value:"defect",children:" "})]})]}),s.jsxs("div",{className:Te.pageSizeGroup,children:[s.jsx("label",{children:" "}),s.jsx("select",{value:tt,onChange:Oe=>Fe(Number(Oe.target.value)),children:[3,5,10].map(Oe=>s.jsx("option",{value:Oe,children:Oe},Oe))})]})]}),wn?s.jsx("div",{style:{display:"flex",justifyContent:"center",padding:"2rem"},children:s.jsx(Wn,{size:"medium"})}):st.length===0?s.jsx("div",{className:Te.emptyState,children:"     .   ,   ."}):s.jsx("div",{className:Te.batchesList,children:st.map(Oe=>s.jsxs("div",{className:Te.batchCard,children:[s.jsxs("div",{className:Te.batchCardHeader,children:[s.jsxs("div",{children:[s.jsxs("div",{className:Te.batchNumber,children:[" ",Oe.batchNumber||" "]}),s.jsxs("div",{className:Te.batchMeta,children:[s.jsx("span",{children:Oe.batchStatusDisplay||"  "}),s.jsxs("span",{children:[": ",La(Oe.receivedDate)]})]})]}),s.jsxs("div",{className:Te.batchTotals,children:[s.jsxs("div",{children:[s.jsx("span",{children:""}),s.jsxs("strong",{children:[os(Oe.totalQuantity)," ",(r==null?void 0:r.unit_display)||"."]})]}),s.jsxs("div",{children:[s.jsx("span",{children:""}),s.jsxs("strong",{children:[os(Oe.totalAvailable)," ",(r==null?void 0:r.unit_display)||"."]})]}),s.jsxs("div",{children:[s.jsx("span",{children:""}),s.jsxs("strong",{children:[os(Oe.totalReserved)," ",(r==null?void 0:r.unit_display)||"."]})]}),s.jsxs("div",{children:[s.jsx("span",{children:""}),s.jsxs("strong",{children:[os(Oe.totalDefect)," ",(r==null?void 0:r.unit_display)||"."]})]})]})]}),s.jsx("div",{className:Te.batchLines,children:Oe.lines.map(Ve=>s.jsxs("div",{className:Te.batchLine,children:[s.jsxs("div",{className:Te.batchLineInfo,children:[s.jsxs("div",{className:Te.batchLineTitle,children:[Ve.variantName,s.jsxs("span",{className:Te.batchLineSku,children:["SKU: ",Ve.sku]})]}),s.jsx("div",{className:Te.batchLineLocation,children:Ve.locationName}),s.jsxs("div",{className:Te.batchLineStats,children:[s.jsxs("span",{children:[": ",os(Ve.quantity)," ",Ve.unit_display||"."]}),s.jsxs("span",{children:[": ",os(Ve.availableQuantity)," ",Ve.unit_display||"."]}),s.jsxs("span",{children:[": ",os(Ve.soldQuantity||0)," ",Ve.unit_display||"."]}),Ve.returnedQuantity!==void 0&&Ve.returnedQuantity!==null&&Ve.returnedQuantity>0&&s.jsxs("span",{children:[": ",os(Ve.returnedQuantity)," ",Ve.unit_display||"."]}),s.jsxs("span",{children:[": ",os(Ve.reservedQuantity)," ",Ve.unit_display||"."]}),s.jsxs("span",{children:[": ",os(Ve.defectQuantity)," ",Ve.unit_display||"."]}),Ve.writeoffQuantity!==void 0&&Ve.writeoffQuantity!==null&&Ve.writeoffQuantity>0&&s.jsxs("span",{children:[": ",os(Ve.writeoffQuantity)," ",Ve.unit_display||"."]}),Ve.inventoryAdjustment!==void 0&&Ve.inventoryAdjustment!==null&&Ve.inventoryAdjustment!==0&&s.jsxs("span",{className:Ve.inventoryAdjustment>0?Te.inventorySurplus:Te.inventoryShortage,children:[Ve.inventoryAdjustment>0?"":"","   : ",os(Math.abs(Ve.inventoryAdjustment))," ",Ve.unit_display||"."]}),Ve.costPrice!==null&&Ve.costPrice!==void 0&&s.jsxs("span",{children:[": ",parseFloat(Ve.costPrice).toLocaleString("ru-RU")," "]})]})]}),s.jsxs("div",{className:Te.batchLineActions,children:[s.jsxs("button",{className:Te.secondaryButton,onClick:()=>Fn(Ve),disabled:J,children:[s.jsx("i",{className:"fa fa-exclamation-triangle"}),"  "]}),s.jsxs("button",{className:Te.secondaryButton,onClick:()=>Dt(Ve),disabled:oe,children:[s.jsx("i",{className:"fa fa-trash"}),"  "]})]}),Ve.writeoffs&&Ve.writeoffs.length>0&&s.jsx("div",{className:Te.defectsList,children:Ve.writeoffs.map(gt=>s.jsxs("div",{className:Te.defectItem,children:[s.jsxs("div",{children:[s.jsxs("strong",{children:[": ",os(gt.quantity)," ",(r==null?void 0:r.unit_display)||"."]}),s.jsxs("span",{children:[gt.reason,gt.reasonDetail?` - ${gt.reasonDetail}`:"",gt.transfer&&s.jsxs("span",{className:Te.transferBadge,children:["( ",gt.transferNumber,")"]})]})]}),s.jsxs("div",{className:Te.defectActions,children:[!gt.transfer&&s.jsxs(s.Fragment,{children:[s.jsx("button",{className:Te.linkButton,onClick:()=>{const $e=st.flatMap(Vt=>Vt.lines).find(Vt=>{var Mn;return(Mn=Vt.writeoffs)==null?void 0:Mn.some(Jn=>Jn.id===gt.id)});$e&&Dt($e,gt)},disabled:oe,children:""}),s.jsx("button",{className:Te.linkButtonDanger,onClick:()=>Ge(gt.id),disabled:oe,children:""})]}),gt.transfer&&s.jsx("span",{className:Te.transferInfo,children:"  "})]})]},gt.id))}),Ve.defects.length>0&&s.jsx("div",{className:Te.defectsList,children:Ve.defects.map(gt=>s.jsxs("div",{className:Te.defectItem,children:[s.jsxs("div",{children:[s.jsxs("strong",{children:[": ",os(gt.quantity)," ",(r==null?void 0:r.unit_display)||"."]}),s.jsx("span",{children:gt.reason||" "})]}),s.jsxs("div",{className:Te.defectActions,children:[s.jsx("button",{className:Te.linkButton,onClick:()=>Fn(Ve,gt),disabled:J,children:""}),s.jsx("button",{className:Te.linkButtonDanger,onClick:()=>Ye(gt.id),disabled:J,children:""})]})]},gt.id))})]},Ve.stockId))})]},Oe.key))}),Gn&&Gn.total_pages>1&&s.jsxs("div",{className:Te.pagination,children:[s.jsx("button",{onClick:()=>_e(Oe=>Math.max(Oe-1,1)),disabled:!Gn.has_previous,children:s.jsx("i",{className:"fa fa-chevron-left"})}),s.jsxs("span",{children:[Gn.current_page," / ",Gn.total_pages]}),s.jsx("button",{onClick:()=>_e(Oe=>Oe+1),disabled:!Gn.has_next,children:s.jsx("i",{className:"fa fa-chevron-right"})})]}),s.jsxs("div",{className:Te.defectsJournal,children:[s.jsxs("div",{className:Te.defectsHeader,children:[s.jsxs("div",{children:[s.jsx("h3",{children:" "}),s.jsx("p",{children:"     ."})]}),s.jsxs("div",{className:Te.defectControls,children:[s.jsx("label",{children:""}),s.jsxs("select",{value:It,onChange:Oe=>Xe(Oe.target.value),children:[s.jsx("option",{value:"recent",children:" "}),s.jsx("option",{value:"oldest",children:" "}),s.jsx("option",{value:"quantity",children:" "})]}),s.jsx("label",{children:" "}),s.jsx("select",{value:be,onChange:Oe=>We(Number(Oe.target.value)),children:[10,20,50].map(Oe=>s.jsx("option",{value:Oe,children:Oe},Oe))})]})]}),Mt.length===0?s.jsx("div",{className:Te.emptyState,children:"    .     ."}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:Te.defectsTable,children:[s.jsxs("div",{className:Te.defectsTableHead,children:[s.jsx("span",{children:""}),s.jsx("span",{children:""}),s.jsx("span",{children:""}),s.jsx("span",{children:""}),s.jsx("span",{children:""}),s.jsx("span",{children:""})]}),Mt.map(Oe=>s.jsxs("div",{className:Te.defectsTableRow,children:[s.jsx("span",{children:Oe.createdAt?Xn(Oe.createdAt).format("DD.MM.YYYY HH:mm"):""}),s.jsx("span",{children:Oe.batchNumber||""}),s.jsx("span",{children:Oe.variantName}),s.jsx("span",{children:Oe.locationName}),s.jsxs("span",{children:[os(Oe.quantity)," ",(r==null?void 0:r.unit_display)||"."]}),s.jsx("span",{children:Oe.reason||""})]},Oe.id))]}),ln&&ln.total_pages>1&&s.jsxs("div",{className:Te.pagination,children:[s.jsx("button",{onClick:()=>Ae(Oe=>Math.max(Oe-1,1)),disabled:!ln.has_previous,children:s.jsx("i",{className:"fa fa-chevron-left"})}),s.jsxs("span",{children:[ln.current_page," / ",ln.total_pages]}),s.jsx("button",{onClick:()=>Ae(Oe=>Oe+1),disabled:!ln.has_next,children:s.jsx("i",{className:"fa fa-chevron-right"})})]})]})]})]}),N==="salesHistory"&&s.jsx(qL,{businessSlug:e,productId:t}),N==="analytics"&&s.jsxs("div",{className:Te.analyticsSection,children:[s.jsxs("div",{className:Te.analyticsHeader,children:[s.jsxs("div",{children:[s.jsx("h2",{children:" "}),s.jsx("p",{children:" ,    "})]}),s.jsxs("div",{className:Te.analyticsPeriodSelector,children:[s.jsx("label",{children:":"}),s.jsxs("select",{value:on,onChange:Oe=>vn(Oe.target.value),className:Te.filterSelect,children:[s.jsx("option",{value:"day",children:"  (7 )"}),s.jsx("option",{value:"month",children:"  (90 )"})]})]})]}),Rt?s.jsx("div",{style:{display:"flex",justifyContent:"center",padding:"2rem"},children:s.jsx(Wn,{size:"medium"})}):Et?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:Te.analyticsStats,children:[s.jsxs("div",{className:Te.analyticsStatCard,children:[s.jsx("div",{className:Te.statLabel,children:""}),s.jsxs("div",{className:Te.statValue,children:[os(((vs=Et.totals)==null?void 0:vs.revenue)||0)," "]})]}),s.jsxs("div",{className:Te.analyticsStatCard,children:[s.jsx("div",{className:Te.statLabel,children:" "}),s.jsxs("div",{className:Te.statValue,children:[os(((bs=Et.totals)==null?void 0:bs.quantity_sold)||0)," ",Et.unit_display||(r==null?void 0:r.unit_display)||"."]})]}),s.jsxs("div",{className:Te.analyticsStatCard,children:[s.jsx("div",{className:Te.statLabel,children:""}),s.jsx("div",{className:Te.statValue,children:os(((ua=Et.totals)==null?void 0:ua.orders_count)||0)})]})]}),s.jsxs("div",{className:Te.analyticsChartSection,children:[s.jsx("h3",{children:" "}),s.jsx("div",{className:Te.chartContainer,children:s.jsx("canvas",{ref:ns,style:{maxHeight:"400px"}})})]}),s.jsxs("div",{className:Te.analyticsSubSection,children:[s.jsx("h3",{children:" "}),Et.variant_popularity&&Et.variant_popularity.length>0?s.jsxs("div",{className:Te.variantPopularityTable,children:[s.jsxs("div",{className:Te.variantPopularityHead,children:[s.jsx("span",{children:""}),s.jsx("span",{children:"SKU"}),s.jsx("span",{children:""}),s.jsx("span",{children:""}),s.jsx("span",{children:""})]}),Et.variant_popularity.map(Oe=>s.jsxs("div",{className:Te.variantPopularityRow,children:[s.jsx("span",{children:Oe.name}),s.jsx("span",{children:Oe.sku||""}),s.jsxs("span",{children:[os(Oe.revenue)," "]}),s.jsxs("span",{children:[os(Oe.quantity_sold)," ",(r==null?void 0:r.unit_display)||"."]}),s.jsx("span",{children:os(Oe.orders_count)})]},Oe.id))]}):s.jsx("div",{className:Te.emptyState,children:"    "})]}),s.jsxs("div",{className:Te.analyticsSubSection,children:[s.jsx("h3",{children:""}),s.jsxs("div",{className:Te.forecastCards,children:[s.jsxs("div",{className:Te.forecastCard,children:[s.jsx("div",{className:Te.forecastTitle,children:" 7 "}),s.jsxs("div",{className:Te.forecastValue,children:[": ",os(((Xa=(tr=Et.forecast)==null?void 0:tr.next_7_days)==null?void 0:Xa.revenue)||0)," "]}),s.jsxs("div",{className:Te.forecastValue,children:[": ",os(((Sr=(ji=Et.forecast)==null?void 0:ji.next_7_days)==null?void 0:Sr.quantity)||0)," ",Et.unit_display||(r==null?void 0:r.unit_display)||"."]})]}),s.jsxs("div",{className:Te.forecastCard,children:[s.jsx("div",{className:Te.forecastTitle,children:" 30 "}),s.jsxs("div",{className:Te.forecastValue,children:[": ",os(((Pe=(Zi=Et.forecast)==null?void 0:Zi.next_30_days)==null?void 0:Pe.revenue)||0)," "]}),s.jsxs("div",{className:Te.forecastValue,children:[": ",os(((ft=(Qe=Et.forecast)==null?void 0:Qe.next_30_days)==null?void 0:ft.quantity)||0)," ",Et.unit_display||(r==null?void 0:r.unit_display)||"."]})]})]})]}),s.jsxs("div",{className:Te.analyticsSubSection,children:[s.jsx("h3",{children:" "}),s.jsxs("div",{className:Te.stockDynamics,children:[s.jsxs("div",{className:Te.stockDynamicsItem,children:[s.jsx("span",{className:Te.stockDynamicsLabel,children:":"}),s.jsxs("span",{className:Te.stockDynamicsValue,children:[os(((kn=(yt=Et.stock_dynamics)==null?void 0:yt.current)==null?void 0:kn.total_quantity)||0)," ",Et.unit_display||(r==null?void 0:r.unit_display)||"."]})]}),s.jsxs("div",{className:Te.stockDynamicsItem,children:[s.jsx("span",{className:Te.stockDynamicsLabel,children:":"}),s.jsxs("span",{className:`${Te.stockDynamicsValue} ${Te.availableQuantity}`,children:[os(((Zn=(Un=Et.stock_dynamics)==null?void 0:Un.current)==null?void 0:Zn.available_quantity)||0)," ",Et.unit_display||(r==null?void 0:r.unit_display)||"."]})]}),s.jsxs("div",{className:Te.stockDynamicsItem,children:[s.jsx("span",{className:Te.stockDynamicsLabel,children:":"}),s.jsxs("span",{className:`${Te.stockDynamicsValue} ${Te.reservedQuantity}`,children:[os(((Ha=(Cs=Et.stock_dynamics)==null?void 0:Cs.current)==null?void 0:Ha.reserved_quantity)||0)," ",Et.unit_display||(r==null?void 0:r.unit_display)||"."]})]}),s.jsxs("div",{className:Te.stockDynamicsItem,children:[s.jsx("span",{className:Te.stockDynamicsLabel,children:":"}),s.jsxs("span",{className:`${Te.stockDynamicsValue} ${Te.defectQuantity}`,children:[os(((wa=(jn=Et.stock_dynamics)==null?void 0:jn.current)==null?void 0:wa.defect_quantity)||0)," ",Et.unit_display||(r==null?void 0:r.unit_display)||"."]})]})]})]})]}):s.jsx("div",{className:Te.emptyState,children:"   "})]}),U&&s.jsx("div",{className:Te.modalOverlay,children:s.jsxs("div",{className:Te.modalContent,children:[s.jsxs("div",{className:Te.modalHeader,children:[s.jsxs("h3",{children:["   ",r.name]}),s.jsx("button",{className:Te.closeButton,onClick:Ws,children:s.jsx("i",{className:"fa fa-times"})})]}),s.jsxs("div",{className:Te.modalBody,children:[s.jsxs("div",{className:Te.modalGrid,children:[s.jsxs("label",{children:["  ()",s.jsx("input",{type:"text",value:H.batch_number,onChange:Oe=>Qs("batch_number",Oe.target.value)})]}),s.jsxs("label",{children:[" ",s.jsx("input",{type:"date",value:H.received_date,onChange:Oe=>Qs("received_date",Oe.target.value)})]}),s.jsxs("label",{children:["",s.jsx("input",{type:"text",value:H.supplier,onChange:Oe=>Qs("supplier",Oe.target.value),placeholder:" "})]}),s.jsxs("label",{children:["",s.jsx("textarea",{value:H.notes,onChange:Oe=>Qs("notes",Oe.target.value),rows:2,placeholder:"   "})]})]}),s.jsxs("div",{className:Te.batchLinesBuilder,children:[s.jsxs("div",{className:Te.batchLinesHeader,children:[s.jsx("h4",{children:"  "}),s.jsxs("button",{type:"button",className:Te.linkButton,onClick:fr,children:[s.jsx("i",{className:"fa fa-plus"}),"  "]})]}),H.stocks.map(Oe=>{const Ve=(r.locations||[]).find($e=>Number($e.id)===Number(Oe.locationId)),gt=(Ve==null?void 0:Ve.variants)||[];return s.jsxs("div",{className:Te.batchLineRow,children:[s.jsx("div",{className:Te.batchLineColumn,children:s.jsxs("label",{children:["",s.jsxs("select",{value:Oe.locationId,onChange:$e=>Ga(Oe.tempId,$e.target.value),children:[s.jsx("option",{value:"",children:" "}),r.locations.map($e=>s.jsx("option",{value:$e.id,children:$e.name},$e.id))]})]})}),s.jsx("div",{className:Te.batchLineColumn,children:s.jsxs("label",{children:["",s.jsxs("select",{value:Oe.variantId,onChange:$e=>_i(Oe.tempId,$e.target.value),disabled:!Oe.locationId,children:[s.jsx("option",{value:"",children:" "}),gt.map($e=>s.jsxs("option",{value:$e.id,disabled:!$e.price_id,children:[$e.name,$e.price_id?"":" ( )"]},$e.id))]})]})}),s.jsx("div",{className:Te.batchLineColumn,children:s.jsxs("label",{children:["",s.jsx("input",{type:"number",min:"0",value:Oe.quantity,onChange:$e=>na(Oe.tempId,"quantity",$e.target.value)})]})}),s.jsx("div",{className:Te.batchLineColumn,children:s.jsxs("label",{children:["",s.jsx("input",{type:"number",min:"0",step:"0.01",value:Oe.cost_price,onChange:$e=>na(Oe.tempId,"cost_price",$e.target.value),placeholder:""})]})}),s.jsx("div",{className:Te.batchLineColumn,children:s.jsxs("label",{children:["",s.jsx("input",{type:"number",min:"0",value:Oe.reserved_quantity,onChange:$e=>na(Oe.tempId,"reserved_quantity",$e.target.value)})]})}),s.jsxs("div",{className:Te.batchLineToggles,children:[s.jsxs("label",{children:[s.jsx("input",{type:"checkbox",checked:Oe.is_available_for_sale,onChange:$e=>na(Oe.tempId,"is_available_for_sale",$e.target.checked)}),"  "]}),s.jsxs("label",{children:[s.jsx("input",{type:"checkbox",checked:Oe.is_active_on_marketplace,onChange:$e=>na(Oe.tempId,"is_active_on_marketplace",$e.target.checked)})," "]}),s.jsxs("label",{children:[s.jsx("input",{type:"checkbox",checked:Oe.is_active_for_offline_sale,onChange:$e=>na(Oe.tempId,"is_active_for_offline_sale",$e.target.checked)})," "]}),s.jsxs("label",{children:[s.jsx("input",{type:"checkbox",checked:Oe.is_active_on_own_site,onChange:$e=>na(Oe.tempId,"is_active_on_own_site",$e.target.checked)})," "]})]}),s.jsx("button",{type:"button",className:Te.removeLineButton,onClick:()=>qs(Oe.tempId),children:""})]},Oe.tempId)}),se&&s.jsx("div",{className:Te.errorMessage,children:se})]})]}),s.jsxs("div",{className:Te.modalFooter,children:[s.jsx("button",{className:Te.secondaryButton,onClick:Ws,disabled:X,children:""}),s.jsx("button",{className:Te.primaryButton,onClick:As,disabled:X,children:X?"...":" "})]})]})}),q.open&&s.jsx("div",{className:Te.modalOverlay,children:s.jsxs("div",{className:Te.modalContent,children:[s.jsxs("div",{className:Te.modalHeader,children:[s.jsx("h3",{children:q.defectId?" ":" "}),s.jsx("button",{className:Te.closeButton,onClick:rt,children:s.jsx("i",{className:"fa fa-times"})})]}),s.jsxs("div",{className:Te.modalBody,children:[s.jsxs("div",{className:Te.defectMeta,children:[s.jsxs("div",{className:Te.defectMetaRow,children:[s.jsx("span",{className:Te.defectMetaLabel,children:":"}),s.jsx("span",{className:Te.defectMetaValue,children:q.batchNumber||" "})]}),s.jsxs("div",{className:Te.defectMetaRow,children:[s.jsx("span",{className:Te.defectMetaLabel,children:":"}),s.jsx("span",{className:Te.defectMetaValue,children:q.variantName})]}),s.jsxs("div",{className:Te.defectMetaRow,children:[s.jsx("span",{className:Te.defectMetaLabel,children:":"}),s.jsx("span",{className:Te.defectMetaValue,children:q.locationName})]}),s.jsxs("div",{className:Te.defectMetaRow,children:[s.jsx("span",{className:Te.defectMetaLabel,children:"  :"}),s.jsxs("span",{className:`${Te.defectMetaValue} ${Te.availableQuantity}`,children:[os(q.availableQuantity)," ",(r==null?void 0:r.unit_display)||"."]})]})]}),s.jsxs("label",{children:[" ",s.jsx("input",{type:"number",min:"1",max:q.availableQuantity,value:q.quantity,onChange:Oe=>{const Ve=Oe.target.value;if(A&&Y(""),Ve===""){T($e=>({...$e,quantity:""}));return}const gt=Number(Ve);if(!isNaN(gt)&&gt>0){const $e=Math.min(gt,q.availableQuantity);T(Vt=>({...Vt,quantity:$e.toString()}))}},placeholder:" "}),q.availableQuantity>0&&s.jsxs("span",{className:Te.inputHint,children:[": ",os(q.availableQuantity)," ",(r==null?void 0:r.unit_display)||"."]})]}),s.jsxs("label",{children:[" ",s.jsx("textarea",{rows:4,value:q.reason,onChange:Oe=>T(Ve=>({...Ve,reason:Oe.target.value})),placeholder:"  , :  ,    .."})]}),A&&s.jsx("div",{className:Te.errorMessage,children:A})]}),s.jsxs("div",{className:Te.modalFooter,children:[s.jsx("button",{className:Te.secondaryButton,onClick:rt,disabled:J,children:""}),s.jsx("button",{className:Te.primaryButton,onClick:Be,disabled:J,children:J?"...":""})]})]})}),K.open&&s.jsx("div",{className:Te.modalOverlay,children:s.jsxs("div",{className:Te.modalContent,children:[s.jsxs("div",{className:Te.modalHeader,children:[s.jsx("h3",{children:K.writeoffId?" ":" "}),s.jsx("button",{className:Te.closeButton,onClick:Wt,children:s.jsx("i",{className:"fa fa-times"})})]}),s.jsxs("div",{className:Te.modalBody,children:[s.jsxs("div",{className:Te.defectMeta,children:[s.jsxs("div",{className:Te.defectMetaRow,children:[s.jsx("span",{className:Te.defectMetaLabel,children:":"}),s.jsx("span",{className:Te.defectMetaValue,children:K.batchNumber||" "})]}),s.jsxs("div",{className:Te.defectMetaRow,children:[s.jsx("span",{className:Te.defectMetaLabel,children:":"}),s.jsx("span",{className:Te.defectMetaValue,children:K.variantName})]}),s.jsxs("div",{className:Te.defectMetaRow,children:[s.jsx("span",{className:Te.defectMetaLabel,children:":"}),s.jsx("span",{className:Te.defectMetaValue,children:K.locationName})]}),s.jsxs("div",{className:Te.defectMetaRow,children:[s.jsx("span",{className:Te.defectMetaLabel,children:":"}),s.jsxs("span",{className:Te.defectMetaValue,children:[os(K.availableQuantity)," ",(r==null?void 0:r.unit_display)||"."]})]})]}),s.jsxs("label",{children:["  ",s.jsx("input",{type:"number",step:(r==null?void 0:r.unit_display)==="."?"1":"0.001",min:"0.001",max:K.availableQuantity,value:K.quantity,onChange:Oe=>{const Ve=Oe.target.value;if(ae&&ie(""),Ve===""){G($e=>({...$e,quantity:""}));return}const gt=Number(Ve);if(!isNaN(gt)&&gt>0){const $e=Math.min(gt,K.availableQuantity);G(Vt=>({...Vt,quantity:$e.toString()}))}},placeholder:" "}),K.availableQuantity>0&&s.jsxs("span",{className:Te.inputHint,children:[": ",os(K.availableQuantity)," ",(r==null?void 0:r.unit_display)||"."]})]}),s.jsxs("label",{children:[" ",s.jsx("div",{className:Te.reasonSelector,children:[{value:"expired",label:"  ",icon:"fa-calendar-times"},{value:"damaged",label:"",icon:"fa-exclamation-triangle"},{value:"lost",label:"",icon:"fa-search"},{value:"other",label:"",icon:"fa-ellipsis-h"}].map(Oe=>s.jsxs("button",{type:"button",className:`${Te.reasonOption} ${K.reason===Oe.value?Te.reasonOptionActive:""}`,onClick:()=>G(Ve=>({...Ve,reason:Oe.value})),children:[s.jsx("i",{className:`fa ${Oe.icon}`}),s.jsx("span",{children:Oe.label})]},Oe.value))})]}),s.jsxs("label",{children:[" ",s.jsx("textarea",{rows:4,value:K.reasonDetail,onChange:Oe=>G(Ve=>({...Ve,reasonDetail:Oe.target.value})),placeholder:"  , :  ,      .."})]}),ae&&s.jsx("div",{className:Te.errorMessage,children:ae})]}),s.jsxs("div",{className:Te.modalFooter,children:[s.jsx("button",{className:Te.secondaryButton,onClick:Wt,disabled:oe,children:""}),s.jsx("button",{className:Te.primaryButton,onClick:qt,disabled:oe,children:oe?"...":K.writeoffId?"":""})]})]})}),ue.open&&s.jsx("div",{className:Te.modalOverlay,children:s.jsxs("div",{className:Te.modalContent,style:{maxWidth:"100%",maxHeight:"90vh",overflowY:"auto"},children:[s.jsxs("div",{className:Te.modalHeader,children:[s.jsx("h3",{children:"  "}),s.jsx("button",{className:Te.closeButton,onClick:Ft,children:s.jsx("i",{className:"fa fa-times"})})]}),s.jsx("div",{className:Te.modalBody,children:ue.loading?s.jsx("div",{style:{textAlign:"center",padding:"2rem"},children:s.jsx(Wn,{size:"medium"})}):ue.history.length===0?s.jsx("div",{style:{textAlign:"center",padding:"2rem",color:"var(--silver-whisper)"},children:"  "}):s.jsxs("div",{children:[s.jsxs("div",{style:{marginBottom:"1rem",padding:"1rem",background:"var(--onyx-midnight)",borderRadius:"8px",border:"1px solid var(--gilded-shadow)"},children:[s.jsxs("div",{children:[s.jsx("strong",{children:":"})," ",ue.variantName]}),s.jsxs("div",{children:[s.jsx("strong",{children:":"})," ",ue.locationName]}),ue.batchNumber&&s.jsxs("div",{children:[s.jsx("strong",{children:":"})," ",ue.batchNumber]})]}),s.jsx("div",{className:Te.historyContainer,children:ue.history.map((Oe,Ve)=>s.jsxs("div",{className:Te.historyDateGroup,children:[s.jsxs("div",{className:Te.historyDateHeader,children:[s.jsx("i",{className:"fa fa-calendar"}),s.jsx("span",{children:Oe.date_display})]}),s.jsx("div",{className:Te.historyRecords,children:Oe.records.map((gt,$e)=>{const Vt=gt.quantity>0,Mn=Math.abs(gt.quantity);return s.jsxs("div",{className:Te.historyRecord,children:[s.jsxs("div",{className:Te.historyRecordHeader,children:[s.jsxs("span",{className:Te.historyRecordType,children:[gt.type==="received"&&s.jsx("i",{className:"fa fa-arrow-down",style:{color:"#4ade80"}}),gt.type==="sale"&&s.jsx("i",{className:"fa fa-shopping-cart",style:{color:"#f87171"}}),gt.type==="return"&&s.jsx("i",{className:"fa fa-undo",style:{color:"#4ade80"}}),gt.type==="defect"&&s.jsx("i",{className:"fa fa-exclamation-triangle",style:{color:"#fbbf24"}}),gt.type==="writeoff"&&s.jsx("i",{className:"fa fa-trash",style:{color:"#f87171"}}),gt.type==="inventory"&&s.jsx("i",{className:"fa fa-clipboard-check",style:{color:gt.quantity>0?"#4ade80":"#f87171"}}),gt.type_display]}),s.jsx("span",{className:Te.historyRecordTime,children:gt.date?new Date(gt.date).toLocaleTimeString("ru-RU",{hour:"2-digit",minute:"2-digit"}):""})]}),s.jsxs("div",{className:Te.historyRecordQuantity,style:{color:Vt?"#4ade80":"#f87171"},children:[Vt?"+":"-",os(Mn)," ",(r==null?void 0:r.unit_display)||"."]}),gt.user&&s.jsxs("div",{className:Te.historyRecordUser,children:[s.jsx("i",{className:"fa fa-user"}),gt.user]}),gt.description&&s.jsx("div",{className:Te.historyRecordDescription,children:gt.description}),gt.receipt_number&&s.jsxs("div",{className:Te.historyRecordReceipt,children:[s.jsx("i",{className:"fa fa-receipt"}),": ",gt.receipt_number]})]},$e)})})]},Ve))})]})}),s.jsx("div",{className:Te.modalFooter,children:s.jsx("button",{className:Te.primaryButton,onClick:Ft,children:""})})]})}),ge.open&&s.jsx("div",{className:Te.modalOverlay,children:s.jsxs("div",{className:Te.modalContent,style:{maxWidth:"100%",maxHeight:"90vh",display:"flex",flexDirection:"column"},children:[s.jsxs("div",{className:Te.modalHeader,children:[s.jsx("h3",{children:"  "}),s.jsxs("div",{style:{display:"flex",gap:"10px",alignItems:"center"},children:[s.jsxs("button",{onClick:Gt,className:Te.exportButton,title:"  Excel",children:[s.jsx("i",{className:"fa fa-file-excel"})," Excel"]}),s.jsx("button",{className:Te.closeButton,onClick:gn,children:s.jsx("i",{className:"fa fa-times"})})]})]}),s.jsx("div",{className:Te.modalBody,style:{flex:1,overflowY:"auto"},onScroll:Oe=>{const Ve=Oe.target;Ve.scrollHeight-Ve.scrollTop-Ve.clientHeight<100&&ge.hasMore&&!ge.loadingMore&&Qn()},children:ge.loading?s.jsx("div",{style:{textAlign:"center",padding:"2rem"},children:s.jsx(Wn,{size:"medium"})}):ge.history.length===0?s.jsx("div",{style:{textAlign:"center",padding:"2rem",color:"var(--silver-whisper)"},children:"  "}):s.jsxs("div",{children:[s.jsxs("div",{style:{marginBottom:"1rem",padding:"1rem",background:"var(--onyx-midnight)",borderRadius:"8px",border:"1px solid var(--gilded-shadow)"},children:[s.jsxs("div",{children:[s.jsx("strong",{children:":"})," ",ge.variantName]}),s.jsxs("div",{children:[s.jsx("strong",{children:":"})," ",ge.locationName]})]}),s.jsx("div",{className:Te.historyContainer,children:ge.history.map((Oe,Ve)=>s.jsxs("div",{className:Te.historyDateGroup,children:[s.jsxs("div",{className:Te.historyDateHeader,children:[s.jsx("i",{className:"fa fa-calendar"}),s.jsx("span",{children:Oe.date_display})]}),s.jsx("div",{className:Te.historyRecords,children:Oe.records.map((gt,$e)=>{const Vt=gt.quantity>0,Mn=Math.abs(gt.quantity);return s.jsxs("div",{className:Te.historyRecord,children:[s.jsxs("div",{className:Te.historyRecordHeader,children:[s.jsxs("span",{className:Te.historyRecordType,children:[gt.type==="received"&&s.jsx("i",{className:"fa fa-arrow-down",style:{color:"#4ade80"}}),gt.type==="sale"&&s.jsx("i",{className:"fa fa-shopping-cart",style:{color:"#f87171"}}),gt.type==="return"&&s.jsx("i",{className:"fa fa-undo",style:{color:"#4ade80"}}),gt.type==="defect"&&s.jsx("i",{className:"fa fa-exclamation-triangle",style:{color:"#fbbf24"}}),gt.type==="writeoff"&&s.jsx("i",{className:"fa fa-trash",style:{color:"#f87171"}}),gt.type==="inventory"&&s.jsx("i",{className:"fa fa-clipboard-check",style:{color:gt.quantity>0?"#4ade80":"#f87171"}}),gt.type_display]}),s.jsx("span",{className:Te.historyRecordTime,children:gt.date?new Date(gt.date).toLocaleTimeString("ru-RU",{hour:"2-digit",minute:"2-digit"}):""})]}),s.jsxs("div",{className:Te.historyRecordQuantity,style:{color:Vt?"#4ade80":"#f87171"},children:[Vt?"+":"-",os(Mn)," ",(r==null?void 0:r.unit_display)||"."]}),gt.user&&s.jsxs("div",{className:Te.historyRecordUser,children:[s.jsx("i",{className:"fa fa-user"}),gt.user]}),gt.description&&s.jsx("div",{className:Te.historyRecordDescription,children:gt.description}),gt.receipt_number&&s.jsxs("div",{className:Te.historyRecordReceipt,children:[s.jsx("i",{className:"fa fa-receipt"}),": ",gt.receipt_number]})]},$e)})})]},Ve))}),ge.loadingMore&&s.jsx("div",{style:{textAlign:"center",padding:"1rem"},children:s.jsx(Wn,{size:"small"})}),ge.hasMore&&!ge.loadingMore&&s.jsx("div",{style:{textAlign:"center",padding:"1rem"},children:s.jsx("button",{className:Te.loadMoreButton,onClick:Qn,children:" "})})]})}),s.jsx("div",{className:Te.modalFooter,children:s.jsx("button",{className:Te.primaryButton,onClick:gn,children:""})})]})})]})},v0=async e=>{if(!e){console.error("PDF    ");return}try{const t=await fetch(e.startsWith("http")?e:rj(e),{credentials:"include"});if(!t.ok)throw new Error("  PDF");const n=await t.blob(),a=URL.createObjectURL(n),r=window.open(a,"_blank");return setTimeout(()=>URL.revokeObjectURL(a),1e4),r}catch(t){console.error("   PDF:",t);const n=e.startsWith("http")?e:rj(e);window.open(n,"_blank")}},km=async e=>{const t=await v0(e);t&&setTimeout(()=>{try{t.print()}catch{console.log("     JS.  PDF    Ctrl+P.")}},1e3)},jOe="_container_197hu_5",NOe="_header_197hu_14",EOe="_businessInfo_197hu_36",kOe="_bonusHistoryButton_197hu_45",IOe="_content_197hu_68",DOe="_leftColumn_197hu_76",TOe="_rightColumn_197hu_85",AOe="_searchCard_197hu_94",MOe="_cartCard_197hu_95",ROe="_searchHeader_197hu_106",OOe="_scannerButton_197hu_123",BOe="_filtersSection_197hu_144",LOe="_filtersSectionHeader_197hu_150",$Oe="_searchSection_197hu_165",POe="_filterRow_197hu_170",FOe="_searchableSelectWrapper_197hu_177",HOe="_searchableLabel_197hu_183",zOe="_requiredMark_197hu_198",VOe="_searchableSelect_197hu_177",qOe="_searchableControl_197hu_206",UOe="_disabled_197hu_220",WOe="_searchableValue_197hu_238",YOe="_selectedName_197hu_246",GOe="_selectedSubLabel_197hu_255",QOe="_searchablePlaceholder_197hu_266",XOe="_searchableCaret_197hu_271",KOe="_searchableDropdown_197hu_287",ZOe="_searchableSearch_197hu_300",JOe="_searchableList_197hu_321",eBe="_searchableEmpty_197hu_326",tBe="_searchableItem_197hu_334",nBe="_searchableItemActive_197hu_346",sBe="_searchableItemName_197hu_352",aBe="_searchableItemSubLabel_197hu_359",rBe="_searchInputGroup_197hu_366",iBe="_searchIcon_197hu_383",oBe="_searchInput_197hu_366",cBe="_searchButton_197hu_416",lBe="_filterCheckbox_197hu_451",uBe="_itemBatchSelection_197hu_487",dBe="_fifoCheckboxGroup_197hu_495",hBe="_fifoCheckboxLabel_197hu_500",fBe="_fifoLabel_197hu_510",mBe="_availableQtyBadge_197hu_518",pBe="_fifoCheckbox_197hu_495",gBe="_fifoTooltipIcon_197hu_536",_Be="_fifoTooltip_197hu_536",vBe="_batchSelectWrapper_197hu_575",xBe="_batchSelectLabel_197hu_582",bBe="_batchSelect_197hu_575",yBe="_noPrice_197hu_702",wBe="_productsGrid_197hu_710",CBe="_productCard_197hu_721",SBe="_selected_197hu_246",jBe="_productImageWrapper_197hu_778",NBe="_productImage_197hu_778",EBe="_discountBadgeOverlay_197hu_809",kBe="_productInfo_197hu_824",IBe="_productHeader_197hu_833",DBe="_productTitle_197hu_840",TBe="_productSku_197hu_854",ABe="_attributesContainer_197hu_863",MBe="_attributes_197hu_863",RBe="_attributeBadge_197hu_878",OBe="_expandAttributesButton_197hu_903",BBe="_productDetails_197hu_931",LBe="_priceSection_197hu_938",$Be="_priceContainer_197hu_944",PBe="_priceRow_197hu_950",FBe="_regularPrice_197hu_957",HBe="_discountedPrice_197hu_964",zBe="_originalPrice_197hu_971",VBe="_stockInfo_197hu_986",qBe="_stockBadge_197hu_990",UBe="_stockIcon_197hu_1001",WBe="_inStock_197hu_1006",YBe="_outOfStock_197hu_1012",GBe="_productActions_197hu_1018",QBe="_addToCartButton_197hu_1026",XBe="_cartButton1_197hu_1064",KBe="_cartButton2_197hu_1068",ZBe="_cartHeader_197hu_1073",JBe="_cartBody_197hu_1081",eLe="_cartItems_197hu_1085",tLe="_emptyCart_197hu_1092",nLe="_cartItem_197hu_1085",sLe="_cartItemImage_197hu_1106",aLe="_cartItemInfo_197hu_1125",rLe="_cartItemAttributes_197hu_1142",iLe="_cartItemSku_197hu_1156",oLe="_cartItemControls_197hu_1161",cLe="_removeItemButton_197hu_1171",lLe="_quantityControl_197hu_1189",uLe="_quantityButton_197hu_1198",dLe="_quantityInputWrapper_197hu_1232",hLe="_quantityInput_197hu_1232",fLe="_quantityUnit_197hu_1254",mLe="_cartItemPrice_197hu_1263",pLe="_cartFooter_197hu_1273",gLe="_cartActions_197hu_1291",_Le="_clearCartButton_197hu_1296",vLe="_checkoutButton_197hu_1297",xLe="_modalOverlay_197hu_1507",bLe="_modal_197hu_1507",yLe="_modalHeader_197hu_1531",wLe="_modalBody_197hu_1562",CLe="_bonusSection_197hu_1570",SLe="_bonusSectionHeader_197hu_1580",jLe="_bonusInfo_197hu_1595",NLe="_bonusBalanceDisplay_197hu_1602",ELe="_bonusTierDisplay_197hu_1603",kLe="_bonusBalanceLabel_197hu_1613",ILe="_bonusTierLabel_197hu_1614",DLe="_bonusBalanceValue_197hu_1619",TLe="_bonusBalanceHint_197hu_1628",ALe="_bonusTierValue_197hu_1635",MLe="_bonusHistory_197hu_45",RLe="_bonusHistoryTitle_197hu_1645",OLe="_bonusHistoryList_197hu_1652",BLe="_bonusHistoryItem_197hu_1660",LLe="_bonusHistoryType_197hu_1671",$Le="_bonusHistoryAmount_197hu_1676",PLe="_positive_197hu_1681",FLe="_negative_197hu_1685",HLe="_bonusHistoryDate_197hu_1689",zLe="_bonusPredictionCard_197hu_1694",VLe="_bonusPredictionLabel_197hu_1703",qLe="_bonusPredictionValue_197hu_1709",ULe="_bonusPredictionHint_197hu_1715",WLe="_bonusRedemptionButtonWrapper_197hu_1722",YLe="_bonusRedemptionToggleButton_197hu_1728",GLe="_active_197hu_1436",QLe="_bonusAccrualModeSelector_197hu_1768",XLe="_bonusAccrualModeOptions_197hu_1784",KLe="_bonusModeOption_197hu_1790",ZLe="_bonusModeHint_197hu_1832",JLe="_bonusAccrualControl_197hu_1843",e$e="_bonusRedemptionControl_197hu_1844",t$e="_bonusRedemptionLabel_197hu_1861",n$e="_bonusRedemptionType_197hu_1871",s$e="_radioOption_197hu_1881",a$e="_bonusRedemptionInputWrapper_197hu_1909",r$e="_bonusRedemptionInput_197hu_1909",i$e="_hasValue_197hu_1957",o$e="_inputError_197hu_1962",c$e="_inputSuffix_197hu_1971",l$e="_bonusRedemptionPreview_197hu_1978",u$e="_bonusRedemptionPreviewError_197hu_1992",d$e="_bonusRedemptionPreviewValue_197hu_1997",h$e="_bonusRedemptionError_197hu_2007",f$e="_bonusRedemptionHint_197hu_2016",m$e="_bonusPercentInput_197hu_2023",p$e="_modalFooter_197hu_2033",g$e="_secondaryButton_197hu_2042",_$e="_primaryButton_197hu_2043",v$e="_successButton_197hu_2044",x$e="_receiptAndBonusContainer_197hu_2077",b$e="_receiptPreview_197hu_2096",y$e="_receiptHeader_197hu_2105",w$e="_receiptItems_197hu_2120",C$e="_receiptItem_197hu_2120",S$e="_paymentForm_197hu_2152",j$e="_formGroup_197hu_2156",N$e="_qrButtonLarge_197hu_2190",E$e="_qrButtonText_197hu_2215",k$e="_qrButtonDescription_197hu_2220",I$e="_error_197hu_2396",D$e="_empty_197hu_1092",T$e="_discountButton_197hu_2616",A$e="_discountInfo_197hu_2679",M$e="_discountLabel_197hu_2689",R$e="_discountValue_197hu_2693",O$e="_discountControls_197hu_2771",B$e="_discountType_197hu_2777",L$e="_radioLabel_197hu_2783",$$e="_discountInput_197hu_2801",P$e="_inputUnit_197hu_2829",F$e="_currentDiscountInfo_197hu_2836",H$e="_nowPrice_197hu_2849",z$e="_oldPrice_197hu_2855",V$e="_discountValueAccent_197hu_2861",q$e="_cartTotals_197hu_2900",U$e="_totalRow_197hu_2905",W$e="_grandTotal_197hu_2912",Y$e="_receiptItemMain_197hu_2930",G$e="_receiptItemName_197hu_2936",Q$e="_receiptItemDetails_197hu_2941",X$e="_receiptItemAttribute_197hu_2948",K$e="_attributeName_197hu_2955",Z$e="_attributeValue_197hu_2959",J$e="_receiptItemPrices_197hu_2963",ePe="_receiptPriceRow_197hu_2968",tPe="_receiptDiscountRow_197hu_2969",nPe="_receiptTotalRow_197hu_2970",sPe="_priceLabel_197hu_2976",aPe="_priceValue_197hu_2981",rPe="_receiptSummary_197hu_3004",iPe="_receiptSummarySection_197hu_3010",oPe="_receiptSummaryRow_197hu_3014",cPe="_receiptSummarySaleRow_197hu_3022",lPe="_summaryDiscount_197hu_3032",uPe="_receiptTotalSection_197hu_3037",dPe="_receiptGrandTotal_197hu_3050",hPe="_receiptCompleted_197hu_3352",fPe="_receiptImageContainer_197hu_3359",mPe="_receiptImage_197hu_3359",pPe="_receiptInfo_197hu_3370",gPe="_receiptBonusInfo_197hu_3390",_Pe="_bonusPercentInfo_197hu_3418",vPe="_receiptLoading_197hu_3425",xPe="_searchResults_197hu_3461",ze={container:jOe,header:NOe,businessInfo:EOe,bonusHistoryButton:kOe,content:IOe,leftColumn:DOe,rightColumn:TOe,searchCard:AOe,cartCard:MOe,searchHeader:ROe,scannerButton:OOe,filtersSection:BOe,filtersSectionHeader:LOe,searchSection:$Oe,filterRow:POe,searchableSelectWrapper:FOe,searchableLabel:HOe,requiredMark:zOe,searchableSelect:VOe,searchableControl:qOe,disabled:UOe,searchableValue:WOe,selectedName:YOe,selectedSubLabel:GOe,searchablePlaceholder:QOe,searchableCaret:XOe,searchableDropdown:KOe,searchableSearch:ZOe,searchableList:JOe,searchableEmpty:eBe,searchableItem:tBe,searchableItemActive:nBe,searchableItemName:sBe,searchableItemSubLabel:aBe,searchInputGroup:rBe,searchIcon:iBe,searchInput:oBe,searchButton:cBe,filterCheckbox:lBe,itemBatchSelection:uBe,fifoCheckboxGroup:dBe,fifoCheckboxLabel:hBe,fifoLabel:fBe,availableQtyBadge:mBe,fifoCheckbox:pBe,fifoTooltipIcon:gBe,fifoTooltip:_Be,batchSelectWrapper:vBe,batchSelectLabel:xBe,batchSelect:bBe,noPrice:yBe,productsGrid:wBe,productCard:CBe,selected:SBe,productImageWrapper:jBe,productImage:NBe,discountBadgeOverlay:EBe,productInfo:kBe,productHeader:IBe,productTitle:DBe,productSku:TBe,attributesContainer:ABe,attributes:MBe,attributeBadge:RBe,expandAttributesButton:OBe,productDetails:BBe,priceSection:LBe,priceContainer:$Be,priceRow:PBe,regularPrice:FBe,discountedPrice:HBe,originalPrice:zBe,stockInfo:VBe,stockBadge:qBe,stockIcon:UBe,inStock:WBe,outOfStock:YBe,productActions:GBe,addToCartButton:QBe,cartButton1:XBe,cartButton2:KBe,cartHeader:ZBe,cartBody:JBe,cartItems:eLe,emptyCart:tLe,cartItem:nLe,cartItemImage:sLe,cartItemInfo:aLe,cartItemAttributes:rLe,cartItemSku:iLe,cartItemControls:oLe,removeItemButton:cLe,quantityControl:lLe,quantityButton:uLe,quantityInputWrapper:dLe,quantityInput:hLe,quantityUnit:fLe,cartItemPrice:mLe,cartFooter:pLe,cartActions:gLe,clearCartButton:_Le,checkoutButton:vLe,modalOverlay:xLe,modal:bLe,modalHeader:yLe,modalBody:wLe,bonusSection:CLe,bonusSectionHeader:SLe,bonusInfo:jLe,bonusBalanceDisplay:NLe,bonusTierDisplay:ELe,bonusBalanceLabel:kLe,bonusTierLabel:ILe,bonusBalanceValue:DLe,bonusBalanceHint:TLe,bonusTierValue:ALe,bonusHistory:MLe,bonusHistoryTitle:RLe,bonusHistoryList:OLe,bonusHistoryItem:BLe,bonusHistoryType:LLe,bonusHistoryAmount:$Le,positive:PLe,negative:FLe,bonusHistoryDate:HLe,bonusPredictionCard:zLe,bonusPredictionLabel:VLe,bonusPredictionValue:qLe,bonusPredictionHint:ULe,bonusRedemptionButtonWrapper:WLe,bonusRedemptionToggleButton:YLe,active:GLe,bonusAccrualModeSelector:QLe,bonusAccrualModeOptions:XLe,bonusModeOption:KLe,bonusModeHint:ZLe,bonusAccrualControl:JLe,bonusRedemptionControl:e$e,bonusRedemptionLabel:t$e,bonusRedemptionType:n$e,radioOption:s$e,bonusRedemptionInputWrapper:a$e,bonusRedemptionInput:r$e,hasValue:i$e,inputError:o$e,inputSuffix:c$e,bonusRedemptionPreview:l$e,bonusRedemptionPreviewError:u$e,bonusRedemptionPreviewValue:d$e,bonusRedemptionError:h$e,bonusRedemptionHint:f$e,bonusPercentInput:m$e,modalFooter:p$e,secondaryButton:g$e,primaryButton:_$e,successButton:v$e,receiptAndBonusContainer:x$e,receiptPreview:b$e,receiptHeader:y$e,receiptItems:w$e,receiptItem:C$e,paymentForm:S$e,formGroup:j$e,qrButtonLarge:N$e,qrButtonText:E$e,qrButtonDescription:k$e,error:I$e,empty:D$e,discountButton:T$e,discountInfo:A$e,discountLabel:M$e,discountValue:R$e,discountControls:O$e,discountType:B$e,radioLabel:L$e,discountInput:$$e,inputUnit:P$e,currentDiscountInfo:F$e,nowPrice:H$e,oldPrice:z$e,discountValueAccent:V$e,cartTotals:q$e,totalRow:U$e,grandTotal:W$e,receiptItemMain:Y$e,receiptItemName:G$e,receiptItemDetails:Q$e,receiptItemAttribute:X$e,attributeName:K$e,attributeValue:Z$e,receiptItemPrices:J$e,receiptPriceRow:ePe,receiptDiscountRow:tPe,receiptTotalRow:nPe,priceLabel:sPe,priceValue:aPe,receiptSummary:rPe,receiptSummarySection:iPe,receiptSummaryRow:oPe,receiptSummarySaleRow:cPe,summaryDiscount:lPe,receiptTotalSection:uPe,receiptGrandTotal:dPe,receiptCompleted:hPe,receiptImageContainer:fPe,receiptImage:mPe,receiptInfo:pPe,receiptBonusInfo:gPe,bonusPercentInfo:_Pe,receiptLoading:vPe,searchResults:xPe};var as;(function(e){e[e.QR_CODE=0]="QR_CODE",e[e.AZTEC=1]="AZTEC",e[e.CODABAR=2]="CODABAR",e[e.CODE_39=3]="CODE_39",e[e.CODE_93=4]="CODE_93",e[e.CODE_128=5]="CODE_128",e[e.DATA_MATRIX=6]="DATA_MATRIX",e[e.MAXICODE=7]="MAXICODE",e[e.ITF=8]="ITF",e[e.EAN_13=9]="EAN_13",e[e.EAN_8=10]="EAN_8",e[e.PDF_417=11]="PDF_417",e[e.RSS_14=12]="RSS_14",e[e.RSS_EXPANDED=13]="RSS_EXPANDED",e[e.UPC_A=14]="UPC_A",e[e.UPC_E=15]="UPC_E",e[e.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(as||(as={}));var r7=new Map([[as.QR_CODE,"QR_CODE"],[as.AZTEC,"AZTEC"],[as.CODABAR,"CODABAR"],[as.CODE_39,"CODE_39"],[as.CODE_93,"CODE_93"],[as.CODE_128,"CODE_128"],[as.DATA_MATRIX,"DATA_MATRIX"],[as.MAXICODE,"MAXICODE"],[as.ITF,"ITF"],[as.EAN_13,"EAN_13"],[as.EAN_8,"EAN_8"],[as.PDF_417,"PDF_417"],[as.RSS_14,"RSS_14"],[as.RSS_EXPANDED,"RSS_EXPANDED"],[as.UPC_A,"UPC_A"],[as.UPC_E,"UPC_E"],[as.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),i7;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.URL=1]="URL"})(i7||(i7={}));function bPe(e){return Object.values(as).includes(e)}var nb;(function(e){e[e.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",e[e.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(nb||(nb={}));var yPe=function(){function e(){}return e.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",e.SCAN_DEFAULT_FPS=2,e.DEFAULT_DISABLE_FLIP=!1,e.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,e.DEFAULT_SUPPORTED_SCAN_TYPE=[nb.SCAN_TYPE_CAMERA,nb.SCAN_TYPE_FILE],e}(),UL=function(){function e(t,n){this.format=t,this.formatName=n}return e.prototype.toString=function(){return this.formatName},e.create=function(t){if(!r7.has(t))throw"".concat(t," not in html5QrcodeSupportedFormatsTextMap");return new e(t,r7.get(t))},e}(),o7=function(){function e(){}return e.createFromText=function(t){var n={text:t};return{decodedText:t,result:n}},e.createFromQrcodeResult=function(t){return{decodedText:t.text,result:t}},e}(),Pj;(function(e){e[e.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",e[e.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",e[e.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(Pj||(Pj={}));var wPe=function(){function e(){}return e.createFrom=function(t){return{errorMessage:t,type:Pj.UNKWOWN_ERROR}},e}(),CPe=function(){function e(t){this.verbose=t}return e.prototype.log=function(t){this.verbose&&console.log(t)},e.prototype.warn=function(t){this.verbose&&console.warn(t)},e.prototype.logError=function(t,n){(this.verbose||n===!0)&&console.error(t)},e.prototype.logErrors=function(t){if(t.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(t)},e}();function su(e){return typeof e>"u"||e===null}var Kf=function(){function e(){}return e.codeParseError=function(t){return"QR code parse error, error = ".concat(t)},e.errorGettingUserMedia=function(t){return"Error getting userMedia, error = ".concat(t)},e.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},e.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},e.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},e.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},e.scannerPaused=function(){return"Scanner paused"},e}(),WL=function(){function e(){}return e.isMediaStreamConstraintsValid=function(t,n){if(typeof t!="object"){var a=typeof t;return n.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(a,"."),!0),!1}for(var r=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],i=new Set(r),o=Object.keys(t),c=0,l=o;c<l.length;c++){var d=l[c];if(i.has(d))return n.logError("".concat(d," is not supported videoConstaints."),!0),!1}return!0},e}(),P1={exports:{}},SPe=P1.exports,c7;function jPe(){return c7||(c7=1,function(e,t){(function(n,a){a(t)})(SPe,function(n){function a(we){return we==null}var r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(we,h){we.__proto__=h}||function(we,h){for(var p in h)h.hasOwnProperty(p)&&(we[p]=h[p])};function i(we,h){r(we,h);function p(){this.constructor=we}we.prototype=h===null?Object.create(h):(p.prototype=h.prototype,new p)}function o(we,h){var p=Object.setPrototypeOf;p?p(we,h):we.__proto__=h}function c(we,h){h===void 0&&(h=we.constructor);var p=Error.captureStackTrace;p&&p(we,h)}var l=function(we){i(h,we);function h(p){var _=this.constructor,y=we.call(this,p)||this;return Object.defineProperty(y,"name",{value:_.name,enumerable:!1}),o(y,_.prototype),c(y),y}return h}(Error);class d extends l{constructor(h=void 0){super(h),this.message=h}getKind(){return this.constructor.kind}}d.kind="Exception";class f extends d{}f.kind="ArgumentException";class g extends d{}g.kind="IllegalArgumentException";class b{constructor(h){if(this.binarizer=h,h===null)throw new g("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(h,p){return this.binarizer.getBlackRow(h,p)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(h,p,_,y){const C=this.binarizer.getLuminanceSource().crop(h,p,_,y);return new b(this.binarizer.createBinarizer(C))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const h=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new b(this.binarizer.createBinarizer(h))}rotateCounterClockwise45(){const h=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new b(this.binarizer.createBinarizer(h))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class w extends d{static getChecksumInstance(){return new w}}w.kind="ChecksumException";class S{constructor(h){this.source=h}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class j{static arraycopy(h,p,_,y,C){for(;C--;)_[y++]=h[p++]}static currentTimeMillis(){return Date.now()}}class N extends d{}N.kind="IndexOutOfBoundsException";class I extends N{constructor(h=void 0,p=void 0){super(p),this.index=h,this.message=p}}I.kind="ArrayIndexOutOfBoundsException";class M{static fill(h,p){for(let _=0,y=h.length;_<y;_++)h[_]=p}static fillWithin(h,p,_,y){M.rangeCheck(h.length,p,_);for(let C=p;C<_;C++)h[C]=y}static rangeCheck(h,p,_){if(p>_)throw new g("fromIndex("+p+") > toIndex("+_+")");if(p<0)throw new I(p);if(_>h)throw new I(_)}static asList(...h){return h}static create(h,p,_){return Array.from({length:h}).map(C=>Array.from({length:p}).fill(_))}static createInt32Array(h,p,_){return Array.from({length:h}).map(C=>Int32Array.from({length:p}).fill(_))}static equals(h,p){if(!h||!p||!h.length||!p.length||h.length!==p.length)return!1;for(let _=0,y=h.length;_<y;_++)if(h[_]!==p[_])return!1;return!0}static hashCode(h){if(h===null)return 0;let p=1;for(const _ of h)p=31*p+_;return p}static fillUint8Array(h,p){for(let _=0;_!==h.length;_++)h[_]=p}static copyOf(h,p){return h.slice(0,p)}static copyOfUint8Array(h,p){if(h.length<=p){const _=new Uint8Array(p);return _.set(h),_}return h.slice(0,p)}static copyOfRange(h,p,_){const y=_-p,C=new Int32Array(y);return j.arraycopy(h,p,C,0,y),C}static binarySearch(h,p,_){_===void 0&&(_=M.numberComparator);let y=0,C=h.length-1;for(;y<=C;){const k=C+y>>1,D=_(p,h[k]);if(D>0)y=k+1;else if(D<0)C=k-1;else return k}return-y-1}static numberComparator(h,p){return h-p}}class B{static numberOfTrailingZeros(h){let p;if(h===0)return 32;let _=31;return p=h<<16,p!==0&&(_-=16,h=p),p=h<<8,p!==0&&(_-=8,h=p),p=h<<4,p!==0&&(_-=4,h=p),p=h<<2,p!==0&&(_-=2,h=p),_-(h<<1>>>31)}static numberOfLeadingZeros(h){if(h===0)return 32;let p=1;return h>>>16||(p+=16,h<<=16),h>>>24||(p+=8,h<<=8),h>>>28||(p+=4,h<<=4),h>>>30||(p+=2,h<<=2),p-=h>>>31,p}static toHexString(h){return h.toString(16)}static toBinaryString(h){return String(parseInt(String(h),2))}static bitCount(h){return h=h-(h>>>1&1431655765),h=(h&858993459)+(h>>>2&858993459),h=h+(h>>>4)&252645135,h=h+(h>>>8),h=h+(h>>>16),h&63}static truncDivision(h,p){return Math.trunc(h/p)}static parseInt(h,p=void 0){return parseInt(h,p)}}B.MIN_VALUE_32_BITS=-2147483648,B.MAX_VALUE=Number.MAX_SAFE_INTEGER;class P{constructor(h,p){h===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=h,p==null?this.bits=P.makeArray(h):this.bits=p)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(h){if(h>this.bits.length*32){const p=P.makeArray(h);j.arraycopy(this.bits,0,p,0,this.bits.length),this.bits=p}}get(h){return(this.bits[Math.floor(h/32)]&1<<(h&31))!==0}set(h){this.bits[Math.floor(h/32)]|=1<<(h&31)}flip(h){this.bits[Math.floor(h/32)]^=1<<(h&31)}getNextSet(h){const p=this.size;if(h>=p)return p;const _=this.bits;let y=Math.floor(h/32),C=_[y];C&=~((1<<(h&31))-1);const k=_.length;for(;C===0;){if(++y===k)return p;C=_[y]}const D=y*32+B.numberOfTrailingZeros(C);return D>p?p:D}getNextUnset(h){const p=this.size;if(h>=p)return p;const _=this.bits;let y=Math.floor(h/32),C=~_[y];C&=~((1<<(h&31))-1);const k=_.length;for(;C===0;){if(++y===k)return p;C=~_[y]}const D=y*32+B.numberOfTrailingZeros(C);return D>p?p:D}setBulk(h,p){this.bits[Math.floor(h/32)]=p}setRange(h,p){if(p<h||h<0||p>this.size)throw new g;if(p===h)return;p--;const _=Math.floor(h/32),y=Math.floor(p/32),C=this.bits;for(let k=_;k<=y;k++){const D=k>_?0:h&31,Q=(2<<(k<y?31:p&31))-(1<<D);C[k]|=Q}}clear(){const h=this.bits.length,p=this.bits;for(let _=0;_<h;_++)p[_]=0}isRange(h,p,_){if(p<h||h<0||p>this.size)throw new g;if(p===h)return!0;p--;const y=Math.floor(h/32),C=Math.floor(p/32),k=this.bits;for(let D=y;D<=C;D++){const z=D>y?0:h&31,ce=(2<<(D<C?31:p&31))-(1<<z)&4294967295;if((k[D]&ce)!==(_?ce:0))return!1}return!0}appendBit(h){this.ensureCapacity(this.size+1),h&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(h,p){if(p<0||p>32)throw new g("Num bits must be between 0 and 32");this.ensureCapacity(this.size+p);for(let _=p;_>0;_--)this.appendBit((h>>_-1&1)===1)}appendBitArray(h){const p=h.size;this.ensureCapacity(this.size+p);for(let _=0;_<p;_++)this.appendBit(h.get(_))}xor(h){if(this.size!==h.size)throw new g("Sizes don't match");const p=this.bits;for(let _=0,y=p.length;_<y;_++)p[_]^=h.bits[_]}toBytes(h,p,_,y){for(let C=0;C<y;C++){let k=0;for(let D=0;D<8;D++)this.get(h)&&(k|=1<<7-D),h++;p[_+C]=k}}getBitArray(){return this.bits}reverse(){const h=new Int32Array(this.bits.length),p=Math.floor((this.size-1)/32),_=p+1,y=this.bits;for(let C=0;C<_;C++){let k=y[C];k=k>>1&1431655765|(k&1431655765)<<1,k=k>>2&858993459|(k&858993459)<<2,k=k>>4&252645135|(k&252645135)<<4,k=k>>8&16711935|(k&16711935)<<8,k=k>>16&65535|(k&65535)<<16,h[p-C]=k}if(this.size!==_*32){const C=_*32-this.size;let k=h[0]>>>C;for(let D=1;D<_;D++){const z=h[D];k|=z<<32-C,h[D-1]=k,k=z>>>C}h[_-1]=k}this.bits=h}static makeArray(h){return new Int32Array(Math.floor((h+31)/32))}equals(h){if(!(h instanceof P))return!1;const p=h;return this.size===p.size&&M.equals(this.bits,p.bits)}hashCode(){return 31*this.size+M.hashCode(this.bits)}toString(){let h="";for(let p=0,_=this.size;p<_;p++)(p&7)===0&&(h+=" "),h+=this.get(p)?"X":".";return h}clone(){return new P(this.size,this.bits.slice())}}var O;(function(we){we[we.OTHER=0]="OTHER",we[we.PURE_BARCODE=1]="PURE_BARCODE",we[we.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",we[we.TRY_HARDER=3]="TRY_HARDER",we[we.CHARACTER_SET=4]="CHARACTER_SET",we[we.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",we[we.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",we[we.ASSUME_GS1=7]="ASSUME_GS1",we[we.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",we[we.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",we[we.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(O||(O={}));var R=O;class $ extends d{static getFormatInstance(){return new $}}$.kind="FormatException";var U;(function(we){we[we.Cp437=0]="Cp437",we[we.ISO8859_1=1]="ISO8859_1",we[we.ISO8859_2=2]="ISO8859_2",we[we.ISO8859_3=3]="ISO8859_3",we[we.ISO8859_4=4]="ISO8859_4",we[we.ISO8859_5=5]="ISO8859_5",we[we.ISO8859_6=6]="ISO8859_6",we[we.ISO8859_7=7]="ISO8859_7",we[we.ISO8859_8=8]="ISO8859_8",we[we.ISO8859_9=9]="ISO8859_9",we[we.ISO8859_10=10]="ISO8859_10",we[we.ISO8859_11=11]="ISO8859_11",we[we.ISO8859_13=12]="ISO8859_13",we[we.ISO8859_14=13]="ISO8859_14",we[we.ISO8859_15=14]="ISO8859_15",we[we.ISO8859_16=15]="ISO8859_16",we[we.SJIS=16]="SJIS",we[we.Cp1250=17]="Cp1250",we[we.Cp1251=18]="Cp1251",we[we.Cp1252=19]="Cp1252",we[we.Cp1256=20]="Cp1256",we[we.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",we[we.UTF8=22]="UTF8",we[we.ASCII=23]="ASCII",we[we.Big5=24]="Big5",we[we.GB18030=25]="GB18030",we[we.EUC_KR=26]="EUC_KR"})(U||(U={}));class F{constructor(h,p,_,...y){this.valueIdentifier=h,this.name=_,typeof p=="number"?this.values=Int32Array.from([p]):this.values=p,this.otherEncodingNames=y,F.VALUE_IDENTIFIER_TO_ECI.set(h,this),F.NAME_TO_ECI.set(_,this);const C=this.values;for(let k=0,D=C.length;k!==D;k++){const z=C[k];F.VALUES_TO_ECI.set(z,this)}for(const k of y)F.NAME_TO_ECI.set(k,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(h){if(h<0||h>=900)throw new $("incorect value");const p=F.VALUES_TO_ECI.get(h);if(p===void 0)throw new $("incorect value");return p}static getCharacterSetECIByName(h){const p=F.NAME_TO_ECI.get(h);if(p===void 0)throw new $("incorect value");return p}equals(h){if(!(h instanceof F))return!1;const p=h;return this.getName()===p.getName()}}F.VALUE_IDENTIFIER_TO_ECI=new Map,F.VALUES_TO_ECI=new Map,F.NAME_TO_ECI=new Map,F.Cp437=new F(U.Cp437,Int32Array.from([0,2]),"Cp437"),F.ISO8859_1=new F(U.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),F.ISO8859_2=new F(U.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),F.ISO8859_3=new F(U.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),F.ISO8859_4=new F(U.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),F.ISO8859_5=new F(U.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),F.ISO8859_6=new F(U.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),F.ISO8859_7=new F(U.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),F.ISO8859_8=new F(U.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),F.ISO8859_9=new F(U.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),F.ISO8859_10=new F(U.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),F.ISO8859_11=new F(U.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),F.ISO8859_13=new F(U.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),F.ISO8859_14=new F(U.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),F.ISO8859_15=new F(U.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),F.ISO8859_16=new F(U.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),F.SJIS=new F(U.SJIS,20,"SJIS","Shift_JIS"),F.Cp1250=new F(U.Cp1250,21,"Cp1250","windows-1250"),F.Cp1251=new F(U.Cp1251,22,"Cp1251","windows-1251"),F.Cp1252=new F(U.Cp1252,23,"Cp1252","windows-1252"),F.Cp1256=new F(U.Cp1256,24,"Cp1256","windows-1256"),F.UnicodeBigUnmarked=new F(U.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),F.UTF8=new F(U.UTF8,26,"UTF8","UTF-8"),F.ASCII=new F(U.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),F.Big5=new F(U.Big5,28,"Big5"),F.GB18030=new F(U.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),F.EUC_KR=new F(U.EUC_KR,30,"EUC_KR","EUC-KR");class H extends d{}H.kind="UnsupportedOperationException";class ne{static decode(h,p){const _=this.encodingName(p);return this.customDecoder?this.customDecoder(h,_):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(_)?this.decodeFallback(h,_):new TextDecoder(_).decode(h)}static shouldDecodeOnFallback(h){return!ne.isBrowser()&&h==="ISO-8859-1"}static encode(h,p){const _=this.encodingName(p);return this.customEncoder?this.customEncoder(h,_):typeof TextEncoder>"u"?this.encodeFallback(h):new TextEncoder().encode(h)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(h){return typeof h=="string"?h:h.getName()}static encodingCharacterSet(h){return h instanceof F?h:F.getCharacterSetECIByName(h)}static decodeFallback(h,p){const _=this.encodingCharacterSet(p);if(ne.isDecodeFallbackSupported(_)){let y="";for(let C=0,k=h.length;C<k;C++){let D=h[C].toString(16);D.length<2&&(D="0"+D),y+="%"+D}return decodeURIComponent(y)}if(_.equals(F.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(h.buffer));throw new H(`Encoding ${this.encodingName(p)} not supported by fallback.`)}static isDecodeFallbackSupported(h){return h.equals(F.UTF8)||h.equals(F.ISO8859_1)||h.equals(F.ASCII)}static encodeFallback(h){const _=btoa(unescape(encodeURIComponent(h))).split(""),y=[];for(let C=0;C<_.length;C++)y.push(_[C].charCodeAt(0));return new Uint8Array(y)}}class X{static castAsNonUtf8Char(h,p=null){const _=p?p.getName():this.ISO88591;return ne.decode(new Uint8Array([h]),_)}static guessEncoding(h,p){if(p!=null&&p.get(R.CHARACTER_SET)!==void 0)return p.get(R.CHARACTER_SET).toString();const _=h.length;let y=!0,C=!0,k=!0,D=0,z=0,Q=0,ce=0,Ce=0,ke=0,qe=0,ot=0,lt=0,Ct=0,Bt=0;const Cn=h.length>3&&h[0]===239&&h[1]===187&&h[2]===191;for(let In=0;In<_&&(y||C||k);In++){const xn=h[In]&255;k&&(D>0?(xn&128)===0?k=!1:D--:(xn&128)!==0&&((xn&64)===0?k=!1:(D++,(xn&32)===0?z++:(D++,(xn&16)===0?Q++:(D++,(xn&8)===0?ce++:k=!1))))),y&&(xn>127&&xn<160?y=!1:xn>159&&(xn<192||xn===215||xn===247)&&Bt++),C&&(Ce>0?xn<64||xn===127||xn>252?C=!1:Ce--:xn===128||xn===160||xn>239?C=!1:xn>160&&xn<224?(ke++,ot=0,qe++,qe>lt&&(lt=qe)):xn>127?(Ce++,qe=0,ot++,ot>Ct&&(Ct=ot)):(qe=0,ot=0))}return k&&D>0&&(k=!1),C&&Ce>0&&(C=!1),k&&(Cn||z+Q+ce>0)?X.UTF8:C&&(X.ASSUME_SHIFT_JIS||lt>=3||Ct>=3)?X.SHIFT_JIS:y&&C?lt===2&&ke===2||Bt*10>=_?X.SHIFT_JIS:X.ISO88591:y?X.ISO88591:C?X.SHIFT_JIS:k?X.UTF8:X.PLATFORM_DEFAULT_ENCODING}static format(h,...p){let _=-1;function y(k,D,z,Q,ce,Ce){if(k==="%%")return"%";if(p[++_]===void 0)return;k=Q?parseInt(Q.substr(1)):void 0;let ke=ce?parseInt(ce.substr(1)):void 0,qe;switch(Ce){case"s":qe=p[_];break;case"c":qe=p[_][0];break;case"f":qe=parseFloat(p[_]).toFixed(k);break;case"p":qe=parseFloat(p[_]).toPrecision(k);break;case"e":qe=parseFloat(p[_]).toExponential(k);break;case"x":qe=parseInt(p[_]).toString(ke||16);break;case"d":qe=parseFloat(parseInt(p[_],ke||10).toPrecision(k)).toFixed(0);break}qe=typeof qe=="object"?JSON.stringify(qe):(+qe).toString(ke);let ot=parseInt(z),lt=z&&z[0]+""=="0"?"0":" ";for(;qe.length<ot;)qe=D!==void 0?qe+lt:lt+qe;return qe}let C=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return h.replace(C,y)}static getBytes(h,p){return ne.encode(h,p)}static getCharCode(h,p=0){return h.charCodeAt(p)}static getCharAt(h){return String.fromCharCode(h)}}X.SHIFT_JIS=F.SJIS.getName(),X.GB2312="GB2312",X.ISO88591=F.ISO8859_1.getName(),X.EUC_JP="EUC_JP",X.UTF8=F.UTF8.getName(),X.PLATFORM_DEFAULT_ENCODING=X.UTF8,X.ASSUME_SHIFT_JIS=!1;class te{constructor(h=""){this.value=h}enableDecoding(h){return this.encoding=h,this}append(h){return typeof h=="string"?this.value+=h.toString():this.encoding?this.value+=X.castAsNonUtf8Char(h,this.encoding):this.value+=String.fromCharCode(h),this}appendChars(h,p,_){for(let y=p;p<p+_;y++)this.append(h[y]);return this}length(){return this.value.length}charAt(h){return this.value.charAt(h)}deleteCharAt(h){this.value=this.value.substr(0,h)+this.value.substring(h+1)}setCharAt(h,p){this.value=this.value.substr(0,h)+p+this.value.substr(h+1)}substring(h,p){return this.value.substring(h,p)}setLengthToZero(){this.value=""}toString(){return this.value}insert(h,p){this.value=this.value.substr(0,h)+p+this.value.substr(h+p.length)}}class se{constructor(h,p,_,y){if(this.width=h,this.height=p,this.rowSize=_,this.bits=y,p==null&&(p=h),this.height=p,h<1||p<1)throw new g("Both dimensions must be greater than 0");_==null&&(_=Math.floor((h+31)/32)),this.rowSize=_,y==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(h){const p=h.length,_=h[0].length,y=new se(_,p);for(let C=0;C<p;C++){const k=h[C];for(let D=0;D<_;D++)k[D]&&y.set(D,C)}return y}static parseFromString(h,p,_){if(h===null)throw new g("stringRepresentation cannot be null");const y=new Array(h.length);let C=0,k=0,D=-1,z=0,Q=0;for(;Q<h.length;)if(h.charAt(Q)===`
`||h.charAt(Q)==="\r"){if(C>k){if(D===-1)D=C-k;else if(C-k!==D)throw new g("row lengths do not match");k=C,z++}Q++}else if(h.substring(Q,Q+p.length)===p)Q+=p.length,y[C]=!0,C++;else if(h.substring(Q,Q+_.length)===_)Q+=_.length,y[C]=!1,C++;else throw new g("illegal character encountered: "+h.substring(Q));if(C>k){if(D===-1)D=C-k;else if(C-k!==D)throw new g("row lengths do not match");z++}const ce=new se(D,z);for(let Ce=0;Ce<C;Ce++)y[Ce]&&ce.set(Math.floor(Ce%D),Math.floor(Ce/D));return ce}get(h,p){const _=p*this.rowSize+Math.floor(h/32);return(this.bits[_]>>>(h&31)&1)!==0}set(h,p){const _=p*this.rowSize+Math.floor(h/32);this.bits[_]|=1<<(h&31)&4294967295}unset(h,p){const _=p*this.rowSize+Math.floor(h/32);this.bits[_]&=~(1<<(h&31)&4294967295)}flip(h,p){const _=p*this.rowSize+Math.floor(h/32);this.bits[_]^=1<<(h&31)&4294967295}xor(h){if(this.width!==h.getWidth()||this.height!==h.getHeight()||this.rowSize!==h.getRowSize())throw new g("input matrix dimensions do not match");const p=new P(Math.floor(this.width/32)+1),_=this.rowSize,y=this.bits;for(let C=0,k=this.height;C<k;C++){const D=C*_,z=h.getRow(C,p).getBitArray();for(let Q=0;Q<_;Q++)y[D+Q]^=z[Q]}}clear(){const h=this.bits,p=h.length;for(let _=0;_<p;_++)h[_]=0}setRegion(h,p,_,y){if(p<0||h<0)throw new g("Left and top must be nonnegative");if(y<1||_<1)throw new g("Height and width must be at least 1");const C=h+_,k=p+y;if(k>this.height||C>this.width)throw new g("The region must fit inside the matrix");const D=this.rowSize,z=this.bits;for(let Q=p;Q<k;Q++){const ce=Q*D;for(let Ce=h;Ce<C;Ce++)z[ce+Math.floor(Ce/32)]|=1<<(Ce&31)&4294967295}}getRow(h,p){p==null||p.getSize()<this.width?p=new P(this.width):p.clear();const _=this.rowSize,y=this.bits,C=h*_;for(let k=0;k<_;k++)p.setBulk(k*32,y[C+k]);return p}setRow(h,p){j.arraycopy(p.getBitArray(),0,this.bits,h*this.rowSize,this.rowSize)}rotate180(){const h=this.getWidth(),p=this.getHeight();let _=new P(h),y=new P(h);for(let C=0,k=Math.floor((p+1)/2);C<k;C++)_=this.getRow(C,_),y=this.getRow(p-1-C,y),_.reverse(),y.reverse(),this.setRow(C,y),this.setRow(p-1-C,_)}getEnclosingRectangle(){const h=this.width,p=this.height,_=this.rowSize,y=this.bits;let C=h,k=p,D=-1,z=-1;for(let Q=0;Q<p;Q++)for(let ce=0;ce<_;ce++){const Ce=y[Q*_+ce];if(Ce!==0){if(Q<k&&(k=Q),Q>z&&(z=Q),ce*32<C){let ke=0;for(;(Ce<<31-ke&4294967295)===0;)ke++;ce*32+ke<C&&(C=ce*32+ke)}if(ce*32+31>D){let ke=31;for(;!(Ce>>>ke);)ke--;ce*32+ke>D&&(D=ce*32+ke)}}}return D<C||z<k?null:Int32Array.from([C,k,D-C+1,z-k+1])}getTopLeftOnBit(){const h=this.rowSize,p=this.bits;let _=0;for(;_<p.length&&p[_]===0;)_++;if(_===p.length)return null;const y=_/h;let C=_%h*32;const k=p[_];let D=0;for(;(k<<31-D&4294967295)===0;)D++;return C+=D,Int32Array.from([C,y])}getBottomRightOnBit(){const h=this.rowSize,p=this.bits;let _=p.length-1;for(;_>=0&&p[_]===0;)_--;if(_<0)return null;const y=Math.floor(_/h);let C=Math.floor(_%h)*32;const k=p[_];let D=31;for(;!(k>>>D);)D--;return C+=D,Int32Array.from([C,y])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(h){if(!(h instanceof se))return!1;const p=h;return this.width===p.width&&this.height===p.height&&this.rowSize===p.rowSize&&M.equals(this.bits,p.bits)}hashCode(){let h=this.width;return h=31*h+this.width,h=31*h+this.height,h=31*h+this.rowSize,h=31*h+M.hashCode(this.bits),h}toString(h="X ",p="  ",_=`
`){return this.buildToString(h,p,_)}buildToString(h,p,_){let y=new te;for(let C=0,k=this.height;C<k;C++){for(let D=0,z=this.width;D<z;D++)y.append(this.get(D,C)?h:p);y.append(_)}return y.toString()}clone(){return new se(this.width,this.height,this.rowSize,this.bits.slice())}}class V extends d{static getNotFoundInstance(){return new V}}V.kind="NotFoundException";class q extends S{constructor(h){super(h),this.luminances=q.EMPTY,this.buckets=new Int32Array(q.LUMINANCE_BUCKETS)}getBlackRow(h,p){const _=this.getLuminanceSource(),y=_.getWidth();p==null||p.getSize()<y?p=new P(y):p.clear(),this.initArrays(y);const C=_.getRow(h,this.luminances),k=this.buckets;for(let z=0;z<y;z++)k[(C[z]&255)>>q.LUMINANCE_SHIFT]++;const D=q.estimateBlackPoint(k);if(y<3)for(let z=0;z<y;z++)(C[z]&255)<D&&p.set(z);else{let z=C[0]&255,Q=C[1]&255;for(let ce=1;ce<y-1;ce++){const Ce=C[ce+1]&255;(Q*4-z-Ce)/2<D&&p.set(ce),z=Q,Q=Ce}}return p}getBlackMatrix(){const h=this.getLuminanceSource(),p=h.getWidth(),_=h.getHeight(),y=new se(p,_);this.initArrays(p);const C=this.buckets;for(let z=1;z<5;z++){const Q=Math.floor(_*z/5),ce=h.getRow(Q,this.luminances),Ce=Math.floor(p*4/5);for(let ke=Math.floor(p/5);ke<Ce;ke++){const qe=ce[ke]&255;C[qe>>q.LUMINANCE_SHIFT]++}}const k=q.estimateBlackPoint(C),D=h.getMatrix();for(let z=0;z<_;z++){const Q=z*p;for(let ce=0;ce<p;ce++)(D[Q+ce]&255)<k&&y.set(ce,z)}return y}createBinarizer(h){return new q(h)}initArrays(h){this.luminances.length<h&&(this.luminances=new Uint8ClampedArray(h));const p=this.buckets;for(let _=0;_<q.LUMINANCE_BUCKETS;_++)p[_]=0}static estimateBlackPoint(h){const p=h.length;let _=0,y=0,C=0;for(let ce=0;ce<p;ce++)h[ce]>C&&(y=ce,C=h[ce]),h[ce]>_&&(_=h[ce]);let k=0,D=0;for(let ce=0;ce<p;ce++){const Ce=ce-y,ke=h[ce]*Ce*Ce;ke>D&&(k=ce,D=ke)}if(y>k){const ce=y;y=k,k=ce}if(k-y<=p/16)throw new V;let z=k-1,Q=-1;for(let ce=k-1;ce>y;ce--){const Ce=ce-y,ke=Ce*Ce*(k-ce)*(_-h[ce]);ke>Q&&(z=ce,Q=ke)}return z<<q.LUMINANCE_SHIFT}}q.LUMINANCE_BITS=5,q.LUMINANCE_SHIFT=8-q.LUMINANCE_BITS,q.LUMINANCE_BUCKETS=1<<q.LUMINANCE_BITS,q.EMPTY=Uint8ClampedArray.from([0]);class T extends q{constructor(h){super(h),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const h=this.getLuminanceSource(),p=h.getWidth(),_=h.getHeight();if(p>=T.MINIMUM_DIMENSION&&_>=T.MINIMUM_DIMENSION){const y=h.getMatrix();let C=p>>T.BLOCK_SIZE_POWER;(p&T.BLOCK_SIZE_MASK)!==0&&C++;let k=_>>T.BLOCK_SIZE_POWER;(_&T.BLOCK_SIZE_MASK)!==0&&k++;const D=T.calculateBlackPoints(y,C,k,p,_),z=new se(p,_);T.calculateThresholdForBlock(y,C,k,p,_,D,z),this.matrix=z}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(h){return new T(h)}static calculateThresholdForBlock(h,p,_,y,C,k,D){const z=C-T.BLOCK_SIZE,Q=y-T.BLOCK_SIZE;for(let ce=0;ce<_;ce++){let Ce=ce<<T.BLOCK_SIZE_POWER;Ce>z&&(Ce=z);const ke=T.cap(ce,2,_-3);for(let qe=0;qe<p;qe++){let ot=qe<<T.BLOCK_SIZE_POWER;ot>Q&&(ot=Q);const lt=T.cap(qe,2,p-3);let Ct=0;for(let Cn=-2;Cn<=2;Cn++){const In=k[ke+Cn];Ct+=In[lt-2]+In[lt-1]+In[lt]+In[lt+1]+In[lt+2]}const Bt=Ct/25;T.thresholdBlock(h,ot,Ce,Bt,y,D)}}}static cap(h,p,_){return h<p?p:h>_?_:h}static thresholdBlock(h,p,_,y,C,k){for(let D=0,z=_*C+p;D<T.BLOCK_SIZE;D++,z+=C)for(let Q=0;Q<T.BLOCK_SIZE;Q++)(h[z+Q]&255)<=y&&k.set(p+Q,_+D)}static calculateBlackPoints(h,p,_,y,C){const k=C-T.BLOCK_SIZE,D=y-T.BLOCK_SIZE,z=new Array(_);for(let Q=0;Q<_;Q++){z[Q]=new Int32Array(p);let ce=Q<<T.BLOCK_SIZE_POWER;ce>k&&(ce=k);for(let Ce=0;Ce<p;Ce++){let ke=Ce<<T.BLOCK_SIZE_POWER;ke>D&&(ke=D);let qe=0,ot=255,lt=0;for(let Bt=0,Cn=ce*y+ke;Bt<T.BLOCK_SIZE;Bt++,Cn+=y){for(let In=0;In<T.BLOCK_SIZE;In++){const xn=h[Cn+In]&255;qe+=xn,xn<ot&&(ot=xn),xn>lt&&(lt=xn)}if(lt-ot>T.MIN_DYNAMIC_RANGE)for(Bt++,Cn+=y;Bt<T.BLOCK_SIZE;Bt++,Cn+=y)for(let In=0;In<T.BLOCK_SIZE;In++)qe+=h[Cn+In]&255}let Ct=qe>>T.BLOCK_SIZE_POWER*2;if(lt-ot<=T.MIN_DYNAMIC_RANGE&&(Ct=ot/2,Q>0&&Ce>0)){const Bt=(z[Q-1][Ce]+2*z[Q][Ce-1]+z[Q-1][Ce-1])/4;ot<Bt&&(Ct=Bt)}z[Q][Ce]=Ct}}return z}}T.BLOCK_SIZE_POWER=3,T.BLOCK_SIZE=1<<T.BLOCK_SIZE_POWER,T.BLOCK_SIZE_MASK=T.BLOCK_SIZE-1,T.MINIMUM_DIMENSION=T.BLOCK_SIZE*5,T.MIN_DYNAMIC_RANGE=24;class J{constructor(h,p){this.width=h,this.height=p}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(h,p,_,y){throw new H("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new H("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new H("This luminance source does not support rotation by 45 degrees.")}toString(){const h=new Uint8ClampedArray(this.width);let p=new te;for(let _=0;_<this.height;_++){const y=this.getRow(_,h);for(let C=0;C<this.width;C++){const k=y[C]&255;let D;k<64?D="#":k<128?D="+":k<192?D=".":D=" ",p.append(D)}p.append(`
`)}return p.toString()}}class Z extends J{constructor(h){super(h.getWidth(),h.getHeight()),this.delegate=h}getRow(h,p){const _=this.delegate.getRow(h,p),y=this.getWidth();for(let C=0;C<y;C++)_[C]=255-(_[C]&255);return _}getMatrix(){const h=this.delegate.getMatrix(),p=this.getWidth()*this.getHeight(),_=new Uint8ClampedArray(p);for(let y=0;y<p;y++)_[y]=255-(h[y]&255);return _}isCropSupported(){return this.delegate.isCropSupported()}crop(h,p,_,y){return new Z(this.delegate.crop(h,p,_,y))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new Z(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new Z(this.delegate.rotateCounterClockwise45())}}class A extends J{constructor(h){super(h.width,h.height),this.canvas=h,this.tempCanvasElement=null,this.buffer=A.makeBufferFromCanvasImageData(h)}static makeBufferFromCanvasImageData(h){const p=h.getContext("2d").getImageData(0,0,h.width,h.height);return A.toGrayscaleBuffer(p.data,h.width,h.height)}static toGrayscaleBuffer(h,p,_){const y=new Uint8ClampedArray(p*_);for(let C=0,k=0,D=h.length;C<D;C+=4,k++){let z;if(h[C+3]===0)z=255;else{const ce=h[C],Ce=h[C+1],ke=h[C+2];z=306*ce+601*Ce+117*ke+512>>10}y[k]=z}return y}getRow(h,p){if(h<0||h>=this.getHeight())throw new g("Requested row is outside the image: "+h);const _=this.getWidth(),y=h*_;return p===null?p=this.buffer.slice(y,y+_):(p.length<_&&(p=new Uint8ClampedArray(_)),p.set(this.buffer.slice(y,y+_))),p}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(h,p,_,y){return super.crop(h,p,_,y),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const h=this.canvas.ownerDocument.createElement("canvas");h.width=this.canvas.width,h.height=this.canvas.height,this.tempCanvasElement=h}return this.tempCanvasElement}rotate(h){const p=this.getTempCanvasElement(),_=p.getContext("2d"),y=h*A.DEGREE_TO_RADIANS,C=this.canvas.width,k=this.canvas.height,D=Math.ceil(Math.abs(Math.cos(y))*C+Math.abs(Math.sin(y))*k),z=Math.ceil(Math.abs(Math.sin(y))*C+Math.abs(Math.cos(y))*k);return p.width=D,p.height=z,_.translate(D/2,z/2),_.rotate(y),_.drawImage(this.canvas,C/-2,k/-2),this.buffer=A.makeBufferFromCanvasImageData(p),this}invert(){return new Z(this)}}A.DEGREE_TO_RADIANS=Math.PI/180;class Y{constructor(h,p,_){this.deviceId=h,this.label=p,this.kind="videoinput",this.groupId=_||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var K=(globalThis||ld||self||window||void 0)&&(globalThis||ld||self||window||void 0).__awaiter||function(we,h,p,_){function y(C){return C instanceof p?C:new p(function(k){k(C)})}return new(p||(p=Promise))(function(C,k){function D(ce){try{Q(_.next(ce))}catch(Ce){k(Ce)}}function z(ce){try{Q(_.throw(ce))}catch(Ce){k(Ce)}}function Q(ce){ce.done?C(ce.value):y(ce.value).then(D,z)}Q((_=_.apply(we,h||[])).next())})};class G{constructor(h,p=500,_){this.reader=h,this.timeBetweenScansMillis=p,this._hints=_,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(h){this._timeBetweenDecodingAttempts=h<0?0:h}set hints(h){this._hints=h||null}get hints(){return this._hints}listVideoInputDevices(){return K(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const h=yield navigator.mediaDevices.enumerateDevices(),p=[];for(const _ of h){const y=_.kind==="video"?"videoinput":_.kind;if(y!=="videoinput")continue;const C=_.deviceId||_.id,k=_.label||`Video device ${p.length+1}`,D=_.groupId,z={deviceId:C,label:k,kind:y,groupId:D};p.push(z)}return p})}getVideoInputDevices(){return K(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(p=>new Y(p.deviceId,p.label))})}findDeviceById(h){return K(this,void 0,void 0,function*(){const p=yield this.listVideoInputDevices();return p?p.find(_=>_.deviceId===h):null})}decodeFromInputVideoDevice(h,p){return K(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(h,p)})}decodeOnceFromVideoDevice(h,p){return K(this,void 0,void 0,function*(){this.reset();let _;h?_={deviceId:{exact:h}}:_={facingMode:"environment"};const y={video:_};return yield this.decodeOnceFromConstraints(y,p)})}decodeOnceFromConstraints(h,p){return K(this,void 0,void 0,function*(){const _=yield navigator.mediaDevices.getUserMedia(h);return yield this.decodeOnceFromStream(_,p)})}decodeOnceFromStream(h,p){return K(this,void 0,void 0,function*(){this.reset();const _=yield this.attachStreamToVideo(h,p);return yield this.decodeOnce(_)})}decodeFromInputVideoDeviceContinuously(h,p,_){return K(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(h,p,_)})}decodeFromVideoDevice(h,p,_){return K(this,void 0,void 0,function*(){let y;h?y={deviceId:{exact:h}}:y={facingMode:"environment"};const C={video:y};return yield this.decodeFromConstraints(C,p,_)})}decodeFromConstraints(h,p,_){return K(this,void 0,void 0,function*(){const y=yield navigator.mediaDevices.getUserMedia(h);return yield this.decodeFromStream(y,p,_)})}decodeFromStream(h,p,_){return K(this,void 0,void 0,function*(){this.reset();const y=yield this.attachStreamToVideo(h,p);return yield this.decodeContinuously(y,_)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(h,p){return K(this,void 0,void 0,function*(){const _=this.prepareVideoElement(p);return this.addVideoSource(_,h),this.videoElement=_,this.stream=h,yield this.playVideoOnLoadAsync(_),_})}playVideoOnLoadAsync(h){return new Promise((p,_)=>this.playVideoOnLoad(h,()=>p()))}playVideoOnLoad(h,p){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(h),h.addEventListener("ended",this.videoEndedListener),h.addEventListener("canplay",this.videoCanPlayListener),h.addEventListener("playing",p),this.tryPlayVideo(h)}isVideoPlaying(h){return h.currentTime>0&&!h.paused&&!h.ended&&h.readyState>2}tryPlayVideo(h){return K(this,void 0,void 0,function*(){if(this.isVideoPlaying(h)){console.warn("Trying to play video that is already playing.");return}try{yield h.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(h,p){const _=document.getElementById(h);if(!_)throw new f(`element with id '${h}' not found`);if(_.nodeName.toLowerCase()!==p.toLowerCase())throw new f(`element with id '${h}' must be an ${p} element`);return _}decodeFromImage(h,p){if(!h&&!p)throw new f("either imageElement with a src set or an url must be provided");return p&&!h?this.decodeFromImageUrl(p):this.decodeFromImageElement(h)}decodeFromVideo(h,p){if(!h&&!p)throw new f("Either an element with a src set or an URL must be provided");return p&&!h?this.decodeFromVideoUrl(p):this.decodeFromVideoElement(h)}decodeFromVideoContinuously(h,p,_){if(h===void 0&&p===void 0)throw new f("Either an element with a src set or an URL must be provided");return p&&!h?this.decodeFromVideoUrlContinuously(p,_):this.decodeFromVideoElementContinuously(h,_)}decodeFromImageElement(h){if(!h)throw new f("An image element must be provided.");this.reset();const p=this.prepareImageElement(h);this.imageElement=p;let _;return this.isImageLoaded(p)?_=this.decodeOnce(p,!1,!0):_=this._decodeOnLoadImage(p),_}decodeFromVideoElement(h){const p=this._decodeFromVideoElementSetup(h);return this._decodeOnLoadVideo(p)}decodeFromVideoElementContinuously(h,p){const _=this._decodeFromVideoElementSetup(h);return this._decodeOnLoadVideoContinuously(_,p)}_decodeFromVideoElementSetup(h){if(!h)throw new f("A video element must be provided.");this.reset();const p=this.prepareVideoElement(h);return this.videoElement=p,p}decodeFromImageUrl(h){if(!h)throw new f("An URL must be provided.");this.reset();const p=this.prepareImageElement();this.imageElement=p;const _=this._decodeOnLoadImage(p);return p.src=h,_}decodeFromVideoUrl(h){if(!h)throw new f("An URL must be provided.");this.reset();const p=this.prepareVideoElement(),_=this.decodeFromVideoElement(p);return p.src=h,_}decodeFromVideoUrlContinuously(h,p){if(!h)throw new f("An URL must be provided.");this.reset();const _=this.prepareVideoElement(),y=this.decodeFromVideoElementContinuously(_,p);return _.src=h,y}_decodeOnLoadImage(h){return new Promise((p,_)=>{this.imageLoadedListener=()=>this.decodeOnce(h,!1,!0).then(p,_),h.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(h){return K(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(h),yield this.decodeOnce(h)})}_decodeOnLoadVideoContinuously(h,p){return K(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(h),this.decodeContinuously(h,p)})}isImageLoaded(h){return!(!h.complete||h.naturalWidth===0)}prepareImageElement(h){let p;return typeof h>"u"&&(p=document.createElement("img"),p.width=200,p.height=200),typeof h=="string"&&(p=this.getMediaElement(h,"img")),h instanceof HTMLImageElement&&(p=h),p}prepareVideoElement(h){let p;return!h&&typeof document<"u"&&(p=document.createElement("video"),p.width=200,p.height=200),typeof h=="string"&&(p=this.getMediaElement(h,"video")),h instanceof HTMLVideoElement&&(p=h),p.setAttribute("autoplay","true"),p.setAttribute("muted","true"),p.setAttribute("playsinline","true"),p}decodeOnce(h,p=!0,_=!0){this._stopAsyncDecode=!1;const y=(C,k)=>{if(this._stopAsyncDecode){k(new V("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const D=this.decode(h);C(D)}catch(D){const z=p&&D instanceof V,ce=(D instanceof w||D instanceof $)&&_;if(z||ce)return setTimeout(y,this._timeBetweenDecodingAttempts,C,k);k(D)}};return new Promise((C,k)=>y(C,k))}decodeContinuously(h,p){this._stopContinuousDecode=!1;const _=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const y=this.decode(h);p(y,null),setTimeout(_,this.timeBetweenScansMillis)}catch(y){p(null,y);const C=y instanceof w||y instanceof $,k=y instanceof V;(C||k)&&setTimeout(_,this._timeBetweenDecodingAttempts)}};_()}decode(h){const p=this.createBinaryBitmap(h);return this.decodeBitmap(p)}_isHTMLVideoElement(h){return h.videoWidth!==0}drawFrameOnCanvas(h,p,_){p||(p={sx:0,sy:0,sWidth:h.videoWidth,sHeight:h.videoHeight,dx:0,dy:0,dWidth:h.videoWidth,dHeight:h.videoHeight}),_||(_=this.captureCanvasContext),_.drawImage(h,p.sx,p.sy,p.sWidth,p.sHeight,p.dx,p.dy,p.dWidth,p.dHeight)}drawImageOnCanvas(h,p,_=this.captureCanvasContext){p||(p={sx:0,sy:0,sWidth:h.naturalWidth,sHeight:h.naturalHeight,dx:0,dy:0,dWidth:h.naturalWidth,dHeight:h.naturalHeight}),_||(_=this.captureCanvasContext),_.drawImage(h,p.sx,p.sy,p.sWidth,p.sHeight,p.dx,p.dy,p.dWidth,p.dHeight)}createBinaryBitmap(h){this.getCaptureCanvasContext(h),this._isHTMLVideoElement(h)?this.drawFrameOnCanvas(h):this.drawImageOnCanvas(h);const p=this.getCaptureCanvas(h),_=new A(p),y=new T(_);return new b(y)}getCaptureCanvasContext(h){if(!this.captureCanvasContext){const _=this.getCaptureCanvas(h).getContext("2d");this.captureCanvasContext=_}return this.captureCanvasContext}getCaptureCanvas(h){if(!this.captureCanvas){const p=this.createCaptureCanvas(h);this.captureCanvas=p}return this.captureCanvas}decodeBitmap(h){return this.reader.decode(h,this._hints)}createCaptureCanvas(h){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const p=document.createElement("canvas");let _,y;return typeof h<"u"&&(h instanceof HTMLVideoElement?(_=h.videoWidth,y=h.videoHeight):h instanceof HTMLImageElement&&(_=h.naturalWidth||h.width,y=h.naturalHeight||h.height)),p.style.width=_+"px",p.style.height=y+"px",p.width=_,p.height=y,p}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(h=>h.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(h,p){try{h.srcObject=p}catch{h.src=URL.createObjectURL(p)}}cleanVideoSource(h){try{h.srcObject=null}catch{h.src=""}this.videoElement.removeAttribute("src")}}class oe{constructor(h,p,_=p==null?0:8*p.length,y,C,k=j.currentTimeMillis()){this.text=h,this.rawBytes=p,this.numBits=_,this.resultPoints=y,this.format=C,this.timestamp=k,this.text=h,this.rawBytes=p,_==null?this.numBits=p==null?0:8*p.length:this.numBits=_,this.resultPoints=y,this.format=C,this.resultMetadata=null,k==null?this.timestamp=j.currentTimeMillis():this.timestamp=k}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(h,p){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(h,p)}putAllMetadata(h){h!==null&&(this.resultMetadata===null?this.resultMetadata=h:this.resultMetadata=new Map(h))}addResultPoints(h){const p=this.resultPoints;if(p===null)this.resultPoints=h;else if(h!==null&&h.length>0){const _=new Array(p.length+h.length);j.arraycopy(p,0,_,0,p.length),j.arraycopy(h,0,_,p.length,h.length),this.resultPoints=_}}getTimestamp(){return this.timestamp}toString(){return this.text}}var ee;(function(we){we[we.AZTEC=0]="AZTEC",we[we.CODABAR=1]="CODABAR",we[we.CODE_39=2]="CODE_39",we[we.CODE_93=3]="CODE_93",we[we.CODE_128=4]="CODE_128",we[we.DATA_MATRIX=5]="DATA_MATRIX",we[we.EAN_8=6]="EAN_8",we[we.EAN_13=7]="EAN_13",we[we.ITF=8]="ITF",we[we.MAXICODE=9]="MAXICODE",we[we.PDF_417=10]="PDF_417",we[we.QR_CODE=11]="QR_CODE",we[we.RSS_14=12]="RSS_14",we[we.RSS_EXPANDED=13]="RSS_EXPANDED",we[we.UPC_A=14]="UPC_A",we[we.UPC_E=15]="UPC_E",we[we.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(ee||(ee={}));var ae=ee,ie;(function(we){we[we.OTHER=0]="OTHER",we[we.ORIENTATION=1]="ORIENTATION",we[we.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",we[we.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",we[we.ISSUE_NUMBER=4]="ISSUE_NUMBER",we[we.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",we[we.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",we[we.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",we[we.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",we[we.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",we[we.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(ie||(ie={}));var ue=ie;class he{constructor(h,p,_,y,C=-1,k=-1){this.rawBytes=h,this.text=p,this.byteSegments=_,this.ecLevel=y,this.structuredAppendSequenceNumber=C,this.structuredAppendParity=k,this.numBits=h==null?0:8*h.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(h){this.numBits=h}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(h){this.errorsCorrected=h}getErasures(){return this.erasures}setErasures(h){this.erasures=h}getOther(){return this.other}setOther(h){this.other=h}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class ge{exp(h){return this.expTable[h]}log(h){if(h===0)throw new g;return this.logTable[h]}static addOrSubtract(h,p){return h^p}}class ye{constructor(h,p){if(p.length===0)throw new g;this.field=h;const _=p.length;if(_>1&&p[0]===0){let y=1;for(;y<_&&p[y]===0;)y++;y===_?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(_-y),j.arraycopy(p,y,this.coefficients,0,this.coefficients.length))}else this.coefficients=p}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(h){return this.coefficients[this.coefficients.length-1-h]}evaluateAt(h){if(h===0)return this.getCoefficient(0);const p=this.coefficients;let _;if(h===1){_=0;for(let k=0,D=p.length;k!==D;k++){const z=p[k];_=ge.addOrSubtract(_,z)}return _}_=p[0];const y=p.length,C=this.field;for(let k=1;k<y;k++)_=ge.addOrSubtract(C.multiply(h,_),p[k]);return _}addOrSubtract(h){if(!this.field.equals(h.field))throw new g("GenericGFPolys do not have same GenericGF field");if(this.isZero())return h;if(h.isZero())return this;let p=this.coefficients,_=h.coefficients;if(p.length>_.length){const k=p;p=_,_=k}let y=new Int32Array(_.length);const C=_.length-p.length;j.arraycopy(_,0,y,0,C);for(let k=C;k<_.length;k++)y[k]=ge.addOrSubtract(p[k-C],_[k]);return new ye(this.field,y)}multiply(h){if(!this.field.equals(h.field))throw new g("GenericGFPolys do not have same GenericGF field");if(this.isZero()||h.isZero())return this.field.getZero();const p=this.coefficients,_=p.length,y=h.coefficients,C=y.length,k=new Int32Array(_+C-1),D=this.field;for(let z=0;z<_;z++){const Q=p[z];for(let ce=0;ce<C;ce++)k[z+ce]=ge.addOrSubtract(k[z+ce],D.multiply(Q,y[ce]))}return new ye(D,k)}multiplyScalar(h){if(h===0)return this.field.getZero();if(h===1)return this;const p=this.coefficients.length,_=this.field,y=new Int32Array(p),C=this.coefficients;for(let k=0;k<p;k++)y[k]=_.multiply(C[k],h);return new ye(_,y)}multiplyByMonomial(h,p){if(h<0)throw new g;if(p===0)return this.field.getZero();const _=this.coefficients,y=_.length,C=new Int32Array(y+h),k=this.field;for(let D=0;D<y;D++)C[D]=k.multiply(_[D],p);return new ye(k,C)}divide(h){if(!this.field.equals(h.field))throw new g("GenericGFPolys do not have same GenericGF field");if(h.isZero())throw new g("Divide by 0");const p=this.field;let _=p.getZero(),y=this;const C=h.getCoefficient(h.getDegree()),k=p.inverse(C);for(;y.getDegree()>=h.getDegree()&&!y.isZero();){const D=y.getDegree()-h.getDegree(),z=p.multiply(y.getCoefficient(y.getDegree()),k),Q=h.multiplyByMonomial(D,z),ce=p.buildMonomial(D,z);_=_.addOrSubtract(ce),y=y.addOrSubtract(Q)}return[_,y]}toString(){let h="";for(let p=this.getDegree();p>=0;p--){let _=this.getCoefficient(p);if(_!==0){if(_<0?(h+=" - ",_=-_):h.length>0&&(h+=" + "),p===0||_!==1){const y=this.field.log(_);y===0?h+="1":y===1?h+="a":(h+="a^",h+=y)}p!==0&&(p===1?h+="x":(h+="x^",h+=p))}}return h}}class je extends d{}je.kind="ArithmeticException";class Ie extends ge{constructor(h,p,_){super(),this.primitive=h,this.size=p,this.generatorBase=_;const y=new Int32Array(p);let C=1;for(let D=0;D<p;D++)y[D]=C,C*=2,C>=p&&(C^=h,C&=p-1);this.expTable=y;const k=new Int32Array(p);for(let D=0;D<p-1;D++)k[y[D]]=D;this.logTable=k,this.zero=new ye(this,Int32Array.from([0])),this.one=new ye(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(h,p){if(h<0)throw new g;if(p===0)return this.zero;const _=new Int32Array(h+1);return _[0]=p,new ye(this,_)}inverse(h){if(h===0)throw new je;return this.expTable[this.size-this.logTable[h]-1]}multiply(h,p){return h===0||p===0?0:this.expTable[(this.logTable[h]+this.logTable[p])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+B.toHexString(this.primitive)+","+this.size+")"}equals(h){return h===this}}Ie.AZTEC_DATA_12=new Ie(4201,4096,1),Ie.AZTEC_DATA_10=new Ie(1033,1024,1),Ie.AZTEC_DATA_6=new Ie(67,64,1),Ie.AZTEC_PARAM=new Ie(19,16,1),Ie.QR_CODE_FIELD_256=new Ie(285,256,0),Ie.DATA_MATRIX_FIELD_256=new Ie(301,256,1),Ie.AZTEC_DATA_8=Ie.DATA_MATRIX_FIELD_256,Ie.MAXICODE_FIELD_64=Ie.AZTEC_DATA_6;class me extends d{}me.kind="ReedSolomonException";class de extends d{}de.kind="IllegalStateException";class fe{constructor(h){this.field=h}decode(h,p){const _=this.field,y=new ye(_,h),C=new Int32Array(p);let k=!0;for(let qe=0;qe<p;qe++){const ot=y.evaluateAt(_.exp(qe+_.getGeneratorBase()));C[C.length-1-qe]=ot,ot!==0&&(k=!1)}if(k)return;const D=new ye(_,C),z=this.runEuclideanAlgorithm(_.buildMonomial(p,1),D,p),Q=z[0],ce=z[1],Ce=this.findErrorLocations(Q),ke=this.findErrorMagnitudes(ce,Ce);for(let qe=0;qe<Ce.length;qe++){const ot=h.length-1-_.log(Ce[qe]);if(ot<0)throw new me("Bad error location");h[ot]=Ie.addOrSubtract(h[ot],ke[qe])}}runEuclideanAlgorithm(h,p,_){if(h.getDegree()<p.getDegree()){const qe=h;h=p,p=qe}const y=this.field;let C=h,k=p,D=y.getZero(),z=y.getOne();for(;k.getDegree()>=(_/2|0);){let qe=C,ot=D;if(C=k,D=z,C.isZero())throw new me("r_{i-1} was zero");k=qe;let lt=y.getZero();const Ct=C.getCoefficient(C.getDegree()),Bt=y.inverse(Ct);for(;k.getDegree()>=C.getDegree()&&!k.isZero();){const Cn=k.getDegree()-C.getDegree(),In=y.multiply(k.getCoefficient(k.getDegree()),Bt);lt=lt.addOrSubtract(y.buildMonomial(Cn,In)),k=k.addOrSubtract(C.multiplyByMonomial(Cn,In))}if(z=lt.multiply(D).addOrSubtract(ot),k.getDegree()>=C.getDegree())throw new de("Division algorithm failed to reduce polynomial?")}const Q=z.getCoefficient(0);if(Q===0)throw new me("sigmaTilde(0) was zero");const ce=y.inverse(Q),Ce=z.multiplyScalar(ce),ke=k.multiplyScalar(ce);return[Ce,ke]}findErrorLocations(h){const p=h.getDegree();if(p===1)return Int32Array.from([h.getCoefficient(1)]);const _=new Int32Array(p);let y=0;const C=this.field;for(let k=1;k<C.getSize()&&y<p;k++)h.evaluateAt(k)===0&&(_[y]=C.inverse(k),y++);if(y!==p)throw new me("Error locator degree does not match number of roots");return _}findErrorMagnitudes(h,p){const _=p.length,y=new Int32Array(_),C=this.field;for(let k=0;k<_;k++){const D=C.inverse(p[k]);let z=1;for(let Q=0;Q<_;Q++)if(k!==Q){const ce=C.multiply(p[Q],D),Ce=(ce&1)===0?ce|1:ce&-2;z=C.multiply(z,Ce)}y[k]=C.multiply(h.evaluateAt(D),C.inverse(z)),C.getGeneratorBase()!==0&&(y[k]=C.multiply(y[k],D))}return y}}var re;(function(we){we[we.UPPER=0]="UPPER",we[we.LOWER=1]="LOWER",we[we.MIXED=2]="MIXED",we[we.DIGIT=3]="DIGIT",we[we.PUNCT=4]="PUNCT",we[we.BINARY=5]="BINARY"})(re||(re={}));class xe{decode(h){this.ddata=h;let p=h.getBits(),_=this.extractBits(p),y=this.correctBits(_),C=xe.convertBoolArrayToByteArray(y),k=xe.getEncodedData(y),D=new he(C,k,null,null);return D.setNumBits(y.length),D}static highLevelDecode(h){return this.getEncodedData(h)}static getEncodedData(h){let p=h.length,_=re.UPPER,y=re.UPPER,C="",k=0;for(;k<p;)if(y===re.BINARY){if(p-k<5)break;let D=xe.readCode(h,k,5);if(k+=5,D===0){if(p-k<11)break;D=xe.readCode(h,k,11)+31,k+=11}for(let z=0;z<D;z++){if(p-k<8){k=p;break}const Q=xe.readCode(h,k,8);C+=X.castAsNonUtf8Char(Q),k+=8}y=_}else{let D=y===re.DIGIT?4:5;if(p-k<D)break;let z=xe.readCode(h,k,D);k+=D;let Q=xe.getCharacter(y,z);Q.startsWith("CTRL_")?(_=y,y=xe.getTable(Q.charAt(5)),Q.charAt(6)==="L"&&(_=y)):(C+=Q,y=_)}return C}static getTable(h){switch(h){case"L":return re.LOWER;case"P":return re.PUNCT;case"M":return re.MIXED;case"D":return re.DIGIT;case"B":return re.BINARY;case"U":default:return re.UPPER}}static getCharacter(h,p){switch(h){case re.UPPER:return xe.UPPER_TABLE[p];case re.LOWER:return xe.LOWER_TABLE[p];case re.MIXED:return xe.MIXED_TABLE[p];case re.PUNCT:return xe.PUNCT_TABLE[p];case re.DIGIT:return xe.DIGIT_TABLE[p];default:throw new de("Bad table")}}correctBits(h){let p,_;this.ddata.getNbLayers()<=2?(_=6,p=Ie.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(_=8,p=Ie.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(_=10,p=Ie.AZTEC_DATA_10):(_=12,p=Ie.AZTEC_DATA_12);let y=this.ddata.getNbDatablocks(),C=h.length/_;if(C<y)throw new $;let k=h.length%_,D=new Int32Array(C);for(let ke=0;ke<C;ke++,k+=_)D[ke]=xe.readCode(h,k,_);try{new fe(p).decode(D,C-y)}catch(ke){throw new $(ke)}let z=(1<<_)-1,Q=0;for(let ke=0;ke<y;ke++){let qe=D[ke];if(qe===0||qe===z)throw new $;(qe===1||qe===z-1)&&Q++}let ce=new Array(y*_-Q),Ce=0;for(let ke=0;ke<y;ke++){let qe=D[ke];if(qe===1||qe===z-1)ce.fill(qe>1,Ce,Ce+_-1),Ce+=_-1;else for(let ot=_-1;ot>=0;--ot)ce[Ce++]=(qe&1<<ot)!==0}return ce}extractBits(h){let p=this.ddata.isCompact(),_=this.ddata.getNbLayers(),y=(p?11:14)+_*4,C=new Int32Array(y),k=new Array(this.totalBitsInLayer(_,p));if(p)for(let D=0;D<C.length;D++)C[D]=D;else{let D=y+1+2*B.truncDivision(B.truncDivision(y,2)-1,15),z=y/2,Q=B.truncDivision(D,2);for(let ce=0;ce<z;ce++){let Ce=ce+B.truncDivision(ce,15);C[z-ce-1]=Q-Ce-1,C[z+ce]=Q+Ce+1}}for(let D=0,z=0;D<_;D++){let Q=(_-D)*4+(p?9:12),ce=D*2,Ce=y-1-ce;for(let ke=0;ke<Q;ke++){let qe=ke*2;for(let ot=0;ot<2;ot++)k[z+qe+ot]=h.get(C[ce+ot],C[ce+ke]),k[z+2*Q+qe+ot]=h.get(C[ce+ke],C[Ce-ot]),k[z+4*Q+qe+ot]=h.get(C[Ce-ot],C[Ce-ke]),k[z+6*Q+qe+ot]=h.get(C[Ce-ke],C[ce+ot])}z+=Q*8}return k}static readCode(h,p,_){let y=0;for(let C=p;C<p+_;C++)y<<=1,h[C]&&(y|=1);return y}static readByte(h,p){let _=h.length-p;return _>=8?xe.readCode(h,p,8):xe.readCode(h,p,_)<<8-_}static convertBoolArrayToByteArray(h){let p=new Uint8Array((h.length+7)/8);for(let _=0;_<p.length;_++)p[_]=xe.readByte(h,8*_);return p}totalBitsInLayer(h,p){return((p?88:112)+16*h)*h}}xe.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],xe.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],xe.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],xe.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],xe.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class Se{constructor(){}static round(h){return h===NaN?0:h<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:h>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:h+(h<0?-.5:.5)|0}static distance(h,p,_,y){const C=h-_,k=p-y;return Math.sqrt(C*C+k*k)}static sum(h){let p=0;for(let _=0,y=h.length;_!==y;_++){const C=h[_];p+=C}return p}}class pe{static floatToIntBits(h){return h}}pe.MAX_VALUE=Number.MAX_SAFE_INTEGER;class Ee{constructor(h,p){this.x=h,this.y=p}getX(){return this.x}getY(){return this.y}equals(h){if(h instanceof Ee){const p=h;return this.x===p.x&&this.y===p.y}return!1}hashCode(){return 31*pe.floatToIntBits(this.x)+pe.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(h){const p=this.distance(h[0],h[1]),_=this.distance(h[1],h[2]),y=this.distance(h[0],h[2]);let C,k,D;if(_>=p&&_>=y?(k=h[0],C=h[1],D=h[2]):y>=_&&y>=p?(k=h[1],C=h[0],D=h[2]):(k=h[2],C=h[0],D=h[1]),this.crossProductZ(C,k,D)<0){const z=C;C=D,D=z}h[0]=C,h[1]=k,h[2]=D}static distance(h,p){return Se.distance(h.x,h.y,p.x,p.y)}static crossProductZ(h,p,_){const y=p.x,C=p.y;return(_.x-y)*(h.y-C)-(_.y-C)*(h.x-y)}}class Le{constructor(h,p){this.bits=h,this.points=p}getBits(){return this.bits}getPoints(){return this.points}}class Ue extends Le{constructor(h,p,_,y,C){super(h,p),this.compact=_,this.nbDatablocks=y,this.nbLayers=C}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class Ne{constructor(h,p,_,y){this.image=h,this.height=h.getHeight(),this.width=h.getWidth(),p==null&&(p=Ne.INIT_SIZE),_==null&&(_=h.getWidth()/2|0),y==null&&(y=h.getHeight()/2|0);const C=p/2|0;if(this.leftInit=_-C,this.rightInit=_+C,this.upInit=y-C,this.downInit=y+C,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new V}detect(){let h=this.leftInit,p=this.rightInit,_=this.upInit,y=this.downInit,C=!1,k=!0,D=!1,z=!1,Q=!1,ce=!1,Ce=!1;const ke=this.width,qe=this.height;for(;k;){k=!1;let ot=!0;for(;(ot||!z)&&p<ke;)ot=this.containsBlackPoint(_,y,p,!1),ot?(p++,k=!0,z=!0):z||p++;if(p>=ke){C=!0;break}let lt=!0;for(;(lt||!Q)&&y<qe;)lt=this.containsBlackPoint(h,p,y,!0),lt?(y++,k=!0,Q=!0):Q||y++;if(y>=qe){C=!0;break}let Ct=!0;for(;(Ct||!ce)&&h>=0;)Ct=this.containsBlackPoint(_,y,h,!1),Ct?(h--,k=!0,ce=!0):ce||h--;if(h<0){C=!0;break}let Bt=!0;for(;(Bt||!Ce)&&_>=0;)Bt=this.containsBlackPoint(h,p,_,!0),Bt?(_--,k=!0,Ce=!0):Ce||_--;if(_<0){C=!0;break}k&&(D=!0)}if(!C&&D){const ot=p-h;let lt=null;for(let In=1;lt===null&&In<ot;In++)lt=this.getBlackPointOnSegment(h,y-In,h+In,y);if(lt==null)throw new V;let Ct=null;for(let In=1;Ct===null&&In<ot;In++)Ct=this.getBlackPointOnSegment(h,_+In,h+In,_);if(Ct==null)throw new V;let Bt=null;for(let In=1;Bt===null&&In<ot;In++)Bt=this.getBlackPointOnSegment(p,_+In,p-In,_);if(Bt==null)throw new V;let Cn=null;for(let In=1;Cn===null&&In<ot;In++)Cn=this.getBlackPointOnSegment(p,y-In,p-In,y);if(Cn==null)throw new V;return this.centerEdges(Cn,lt,Bt,Ct)}else throw new V}getBlackPointOnSegment(h,p,_,y){const C=Se.round(Se.distance(h,p,_,y)),k=(_-h)/C,D=(y-p)/C,z=this.image;for(let Q=0;Q<C;Q++){const ce=Se.round(h+Q*k),Ce=Se.round(p+Q*D);if(z.get(ce,Ce))return new Ee(ce,Ce)}return null}centerEdges(h,p,_,y){const C=h.getX(),k=h.getY(),D=p.getX(),z=p.getY(),Q=_.getX(),ce=_.getY(),Ce=y.getX(),ke=y.getY(),qe=Ne.CORR;return C<this.width/2?[new Ee(Ce-qe,ke+qe),new Ee(D+qe,z+qe),new Ee(Q-qe,ce-qe),new Ee(C+qe,k-qe)]:[new Ee(Ce+qe,ke+qe),new Ee(D+qe,z-qe),new Ee(Q-qe,ce+qe),new Ee(C-qe,k-qe)]}containsBlackPoint(h,p,_,y){const C=this.image;if(y){for(let k=h;k<=p;k++)if(C.get(k,_))return!0}else for(let k=h;k<=p;k++)if(C.get(_,k))return!0;return!1}}Ne.INIT_SIZE=10,Ne.CORR=1;class et{static checkAndNudgePoints(h,p){const _=h.getWidth(),y=h.getHeight();let C=!0;for(let k=0;k<p.length&&C;k+=2){const D=Math.floor(p[k]),z=Math.floor(p[k+1]);if(D<-1||D>_||z<-1||z>y)throw new V;C=!1,D===-1?(p[k]=0,C=!0):D===_&&(p[k]=_-1,C=!0),z===-1?(p[k+1]=0,C=!0):z===y&&(p[k+1]=y-1,C=!0)}C=!0;for(let k=p.length-2;k>=0&&C;k-=2){const D=Math.floor(p[k]),z=Math.floor(p[k+1]);if(D<-1||D>_||z<-1||z>y)throw new V;C=!1,D===-1?(p[k]=0,C=!0):D===_&&(p[k]=_-1,C=!0),z===-1?(p[k+1]=0,C=!0):z===y&&(p[k+1]=y-1,C=!0)}}}class dt{constructor(h,p,_,y,C,k,D,z,Q){this.a11=h,this.a21=p,this.a31=_,this.a12=y,this.a22=C,this.a32=k,this.a13=D,this.a23=z,this.a33=Q}static quadrilateralToQuadrilateral(h,p,_,y,C,k,D,z,Q,ce,Ce,ke,qe,ot,lt,Ct){const Bt=dt.quadrilateralToSquare(h,p,_,y,C,k,D,z);return dt.squareToQuadrilateral(Q,ce,Ce,ke,qe,ot,lt,Ct).times(Bt)}transformPoints(h){const p=h.length,_=this.a11,y=this.a12,C=this.a13,k=this.a21,D=this.a22,z=this.a23,Q=this.a31,ce=this.a32,Ce=this.a33;for(let ke=0;ke<p;ke+=2){const qe=h[ke],ot=h[ke+1],lt=C*qe+z*ot+Ce;h[ke]=(_*qe+k*ot+Q)/lt,h[ke+1]=(y*qe+D*ot+ce)/lt}}transformPointsWithValues(h,p){const _=this.a11,y=this.a12,C=this.a13,k=this.a21,D=this.a22,z=this.a23,Q=this.a31,ce=this.a32,Ce=this.a33,ke=h.length;for(let qe=0;qe<ke;qe++){const ot=h[qe],lt=p[qe],Ct=C*ot+z*lt+Ce;h[qe]=(_*ot+k*lt+Q)/Ct,p[qe]=(y*ot+D*lt+ce)/Ct}}static squareToQuadrilateral(h,p,_,y,C,k,D,z){const Q=h-_+C-D,ce=p-y+k-z;if(Q===0&&ce===0)return new dt(_-h,C-_,h,y-p,k-y,p,0,0,1);{const Ce=_-C,ke=D-C,qe=y-k,ot=z-k,lt=Ce*ot-ke*qe,Ct=(Q*ot-ke*ce)/lt,Bt=(Ce*ce-Q*qe)/lt;return new dt(_-h+Ct*_,D-h+Bt*D,h,y-p+Ct*y,z-p+Bt*z,p,Ct,Bt,1)}}static quadrilateralToSquare(h,p,_,y,C,k,D,z){return dt.squareToQuadrilateral(h,p,_,y,C,k,D,z).buildAdjoint()}buildAdjoint(){return new dt(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(h){return new dt(this.a11*h.a11+this.a21*h.a12+this.a31*h.a13,this.a11*h.a21+this.a21*h.a22+this.a31*h.a23,this.a11*h.a31+this.a21*h.a32+this.a31*h.a33,this.a12*h.a11+this.a22*h.a12+this.a32*h.a13,this.a12*h.a21+this.a22*h.a22+this.a32*h.a23,this.a12*h.a31+this.a22*h.a32+this.a32*h.a33,this.a13*h.a11+this.a23*h.a12+this.a33*h.a13,this.a13*h.a21+this.a23*h.a22+this.a33*h.a23,this.a13*h.a31+this.a23*h.a32+this.a33*h.a33)}}class _e extends et{sampleGrid(h,p,_,y,C,k,D,z,Q,ce,Ce,ke,qe,ot,lt,Ct,Bt,Cn,In){const xn=dt.quadrilateralToQuadrilateral(y,C,k,D,z,Q,ce,Ce,ke,qe,ot,lt,Ct,Bt,Cn,In);return this.sampleGridWithTransform(h,p,_,xn)}sampleGridWithTransform(h,p,_,y){if(p<=0||_<=0)throw new V;const C=new se(p,_),k=new Float32Array(2*p);for(let D=0;D<_;D++){const z=k.length,Q=D+.5;for(let ce=0;ce<z;ce+=2)k[ce]=ce/2+.5,k[ce+1]=Q;y.transformPoints(k),et.checkAndNudgePoints(h,k);try{for(let ce=0;ce<z;ce+=2)h.get(Math.floor(k[ce]),Math.floor(k[ce+1]))&&C.set(ce/2,D)}catch{throw new V}}return C}}class tt{static setGridSampler(h){tt.gridSampler=h}static getInstance(){return tt.gridSampler}}tt.gridSampler=new _e;class Fe{constructor(h,p){this.x=h,this.y=p}toResultPoint(){return new Ee(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class It{constructor(h){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=h}detect(){return this.detectMirror(!1)}detectMirror(h){let p=this.getMatrixCenter(),_=this.getBullsEyeCorners(p);if(h){let k=_[0];_[0]=_[2],_[2]=k}this.extractParameters(_);let y=this.sampleGrid(this.image,_[this.shift%4],_[(this.shift+1)%4],_[(this.shift+2)%4],_[(this.shift+3)%4]),C=this.getMatrixCornerPoints(_);return new Ue(y,C,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(h){if(!this.isValidPoint(h[0])||!this.isValidPoint(h[1])||!this.isValidPoint(h[2])||!this.isValidPoint(h[3]))throw new V;let p=2*this.nbCenterLayers,_=new Int32Array([this.sampleLine(h[0],h[1],p),this.sampleLine(h[1],h[2],p),this.sampleLine(h[2],h[3],p),this.sampleLine(h[3],h[0],p)]);this.shift=this.getRotation(_,p);let y=0;for(let k=0;k<4;k++){let D=_[(this.shift+k)%4];this.compact?(y<<=7,y+=D>>1&127):(y<<=10,y+=(D>>2&992)+(D>>1&31))}let C=this.getCorrectedParameterData(y,this.compact);this.compact?(this.nbLayers=(C>>6)+1,this.nbDataBlocks=(C&63)+1):(this.nbLayers=(C>>11)+1,this.nbDataBlocks=(C&2047)+1)}getRotation(h,p){let _=0;h.forEach((y,C,k)=>{let D=(y>>p-2<<1)+(y&1);_=(_<<3)+D}),_=((_&1)<<11)+(_>>1);for(let y=0;y<4;y++)if(B.bitCount(_^this.EXPECTED_CORNER_BITS[y])<=2)return y;throw new V}getCorrectedParameterData(h,p){let _,y;p?(_=7,y=2):(_=10,y=4);let C=_-y,k=new Int32Array(_);for(let z=_-1;z>=0;--z)k[z]=h&15,h>>=4;try{new fe(Ie.AZTEC_PARAM).decode(k,C)}catch{throw new V}let D=0;for(let z=0;z<y;z++)D=(D<<4)+k[z];return D}getBullsEyeCorners(h){let p=h,_=h,y=h,C=h,k=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let Ce=this.getFirstDifferent(p,k,1,-1),ke=this.getFirstDifferent(_,k,1,1),qe=this.getFirstDifferent(y,k,-1,1),ot=this.getFirstDifferent(C,k,-1,-1);if(this.nbCenterLayers>2){let lt=this.distancePoint(ot,Ce)*this.nbCenterLayers/(this.distancePoint(C,p)*(this.nbCenterLayers+2));if(lt<.75||lt>1.25||!this.isWhiteOrBlackRectangle(Ce,ke,qe,ot))break}p=Ce,_=ke,y=qe,C=ot,k=!k}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new V;this.compact=this.nbCenterLayers===5;let D=new Ee(p.getX()+.5,p.getY()-.5),z=new Ee(_.getX()+.5,_.getY()+.5),Q=new Ee(y.getX()-.5,y.getY()+.5),ce=new Ee(C.getX()-.5,C.getY()-.5);return this.expandSquare([D,z,Q,ce],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let h,p,_,y;try{let D=new Ne(this.image).detect();h=D[0],p=D[1],_=D[2],y=D[3]}catch{let z=this.image.getWidth()/2,Q=this.image.getHeight()/2;h=this.getFirstDifferent(new Fe(z+7,Q-7),!1,1,-1).toResultPoint(),p=this.getFirstDifferent(new Fe(z+7,Q+7),!1,1,1).toResultPoint(),_=this.getFirstDifferent(new Fe(z-7,Q+7),!1,-1,1).toResultPoint(),y=this.getFirstDifferent(new Fe(z-7,Q-7),!1,-1,-1).toResultPoint()}let C=Se.round((h.getX()+y.getX()+p.getX()+_.getX())/4),k=Se.round((h.getY()+y.getY()+p.getY()+_.getY())/4);try{let D=new Ne(this.image,15,C,k).detect();h=D[0],p=D[1],_=D[2],y=D[3]}catch{h=this.getFirstDifferent(new Fe(C+7,k-7),!1,1,-1).toResultPoint(),p=this.getFirstDifferent(new Fe(C+7,k+7),!1,1,1).toResultPoint(),_=this.getFirstDifferent(new Fe(C-7,k+7),!1,-1,1).toResultPoint(),y=this.getFirstDifferent(new Fe(C-7,k-7),!1,-1,-1).toResultPoint()}return C=Se.round((h.getX()+y.getX()+p.getX()+_.getX())/4),k=Se.round((h.getY()+y.getY()+p.getY()+_.getY())/4),new Fe(C,k)}getMatrixCornerPoints(h){return this.expandSquare(h,2*this.nbCenterLayers,this.getDimension())}sampleGrid(h,p,_,y,C){let k=tt.getInstance(),D=this.getDimension(),z=D/2-this.nbCenterLayers,Q=D/2+this.nbCenterLayers;return k.sampleGrid(h,D,D,z,z,Q,z,Q,Q,z,Q,p.getX(),p.getY(),_.getX(),_.getY(),y.getX(),y.getY(),C.getX(),C.getY())}sampleLine(h,p,_){let y=0,C=this.distanceResultPoint(h,p),k=C/_,D=h.getX(),z=h.getY(),Q=k*(p.getX()-h.getX())/C,ce=k*(p.getY()-h.getY())/C;for(let Ce=0;Ce<_;Ce++)this.image.get(Se.round(D+Ce*Q),Se.round(z+Ce*ce))&&(y|=1<<_-Ce-1);return y}isWhiteOrBlackRectangle(h,p,_,y){let C=3;h=new Fe(h.getX()-C,h.getY()+C),p=new Fe(p.getX()-C,p.getY()-C),_=new Fe(_.getX()+C,_.getY()-C),y=new Fe(y.getX()+C,y.getY()+C);let k=this.getColor(y,h);if(k===0)return!1;let D=this.getColor(h,p);return D!==k||(D=this.getColor(p,_),D!==k)?!1:(D=this.getColor(_,y),D===k)}getColor(h,p){let _=this.distancePoint(h,p),y=(p.getX()-h.getX())/_,C=(p.getY()-h.getY())/_,k=0,D=h.getX(),z=h.getY(),Q=this.image.get(h.getX(),h.getY()),ce=Math.ceil(_);for(let ke=0;ke<ce;ke++)D+=y,z+=C,this.image.get(Se.round(D),Se.round(z))!==Q&&k++;let Ce=k/_;return Ce>.1&&Ce<.9?0:Ce<=.1===Q?1:-1}getFirstDifferent(h,p,_,y){let C=h.getX()+_,k=h.getY()+y;for(;this.isValid(C,k)&&this.image.get(C,k)===p;)C+=_,k+=y;for(C-=_,k-=y;this.isValid(C,k)&&this.image.get(C,k)===p;)C+=_;for(C-=_;this.isValid(C,k)&&this.image.get(C,k)===p;)k+=y;return k-=y,new Fe(C,k)}expandSquare(h,p,_){let y=_/(2*p),C=h[0].getX()-h[2].getX(),k=h[0].getY()-h[2].getY(),D=(h[0].getX()+h[2].getX())/2,z=(h[0].getY()+h[2].getY())/2,Q=new Ee(D+y*C,z+y*k),ce=new Ee(D-y*C,z-y*k);C=h[1].getX()-h[3].getX(),k=h[1].getY()-h[3].getY(),D=(h[1].getX()+h[3].getX())/2,z=(h[1].getY()+h[3].getY())/2;let Ce=new Ee(D+y*C,z+y*k),ke=new Ee(D-y*C,z-y*k);return[Q,Ce,ce,ke]}isValid(h,p){return h>=0&&h<this.image.getWidth()&&p>0&&p<this.image.getHeight()}isValidPoint(h){let p=Se.round(h.getX()),_=Se.round(h.getY());return this.isValid(p,_)}distancePoint(h,p){return Se.distance(h.getX(),h.getY(),p.getX(),p.getY())}distanceResultPoint(h,p){return Se.distance(h.getX(),h.getY(),p.getX(),p.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(B.truncDivision(this.nbLayers-4,8)+1)+15}}class Xe{decode(h,p=null){let _=null,y=new It(h.getBlackMatrix()),C=null,k=null;try{let ce=y.detectMirror(!1);C=ce.getPoints(),this.reportFoundResultPoints(p,C),k=new xe().decode(ce)}catch(ce){_=ce}if(k==null)try{let ce=y.detectMirror(!0);C=ce.getPoints(),this.reportFoundResultPoints(p,C),k=new xe().decode(ce)}catch(ce){throw _??ce}let D=new oe(k.getText(),k.getRawBytes(),k.getNumBits(),C,ae.AZTEC,j.currentTimeMillis()),z=k.getByteSegments();z!=null&&D.putMetadata(ue.BYTE_SEGMENTS,z);let Q=k.getECLevel();return Q!=null&&D.putMetadata(ue.ERROR_CORRECTION_LEVEL,Q),D}reportFoundResultPoints(h,p){if(h!=null){let _=h.get(R.NEED_RESULT_POINT_CALLBACK);_!=null&&p.forEach((y,C,k)=>{_.foundPossibleResultPoint(y)})}}reset(){}}class le extends G{constructor(h=500){super(new Xe,h)}}class Ae{decode(h,p){try{return this.doDecode(h,p)}catch{if(p&&p.get(R.TRY_HARDER)===!0&&h.isRotateSupported()){const C=h.rotateCounterClockwise(),k=this.doDecode(C,p),D=k.getResultMetadata();let z=270;D!==null&&D.get(ue.ORIENTATION)===!0&&(z=z+D.get(ue.ORIENTATION)%360),k.putMetadata(ue.ORIENTATION,z);const Q=k.getResultPoints();if(Q!==null){const ce=C.getHeight();for(let Ce=0;Ce<Q.length;Ce++)Q[Ce]=new Ee(ce-Q[Ce].getY()-1,Q[Ce].getX())}return k}else throw new V}}reset(){}doDecode(h,p){const _=h.getWidth(),y=h.getHeight();let C=new P(_);const k=p&&p.get(R.TRY_HARDER)===!0,D=Math.max(1,y>>(k?8:5));let z;k?z=y:z=15;const Q=Math.trunc(y/2);for(let ce=0;ce<z;ce++){const Ce=Math.trunc((ce+1)/2),ke=(ce&1)===0,qe=Q+D*(ke?Ce:-Ce);if(qe<0||qe>=y)break;try{C=h.getBlackRow(qe,C)}catch{continue}for(let ot=0;ot<2;ot++){if(ot===1&&(C.reverse(),p&&p.get(R.NEED_RESULT_POINT_CALLBACK)===!0)){const lt=new Map;p.forEach((Ct,Bt)=>lt.set(Bt,Ct)),lt.delete(R.NEED_RESULT_POINT_CALLBACK),p=lt}try{const lt=this.decodeRow(qe,C,p);if(ot===1){lt.putMetadata(ue.ORIENTATION,180);const Ct=lt.getResultPoints();Ct!==null&&(Ct[0]=new Ee(_-Ct[0].getX()-1,Ct[0].getY()),Ct[1]=new Ee(_-Ct[1].getX()-1,Ct[1].getY()))}return lt}catch{}}}throw new V}static recordPattern(h,p,_){const y=_.length;for(let Q=0;Q<y;Q++)_[Q]=0;const C=h.getSize();if(p>=C)throw new V;let k=!h.get(p),D=0,z=p;for(;z<C;){if(h.get(z)!==k)_[D]++;else{if(++D===y)break;_[D]=1,k=!k}z++}if(!(D===y||D===y-1&&z===C))throw new V}static recordPatternInReverse(h,p,_){let y=_.length,C=h.get(p);for(;p>0&&y>=0;)h.get(--p)!==C&&(y--,C=!C);if(y>=0)throw new V;Ae.recordPattern(h,p+1,_)}static patternMatchVariance(h,p,_){const y=h.length;let C=0,k=0;for(let Q=0;Q<y;Q++)C+=h[Q],k+=p[Q];if(C<k)return Number.POSITIVE_INFINITY;const D=C/k;_*=D;let z=0;for(let Q=0;Q<y;Q++){const ce=h[Q],Ce=p[Q]*D,ke=ce>Ce?ce-Ce:Ce-ce;if(ke>_)return Number.POSITIVE_INFINITY;z+=ke}return z/C}}class be extends Ae{static findStartPattern(h){const p=h.getSize(),_=h.getNextSet(0);let y=0,C=Int32Array.from([0,0,0,0,0,0]),k=_,D=!1;const z=6;for(let Q=_;Q<p;Q++)if(h.get(Q)!==D)C[y]++;else{if(y===z-1){let ce=be.MAX_AVG_VARIANCE,Ce=-1;for(let ke=be.CODE_START_A;ke<=be.CODE_START_C;ke++){const qe=Ae.patternMatchVariance(C,be.CODE_PATTERNS[ke],be.MAX_INDIVIDUAL_VARIANCE);qe<ce&&(ce=qe,Ce=ke)}if(Ce>=0&&h.isRange(Math.max(0,k-(Q-k)/2),k,!1))return Int32Array.from([k,Q,Ce]);k+=C[0]+C[1],C=C.slice(2,C.length-1),C[y-1]=0,C[y]=0,y--}else y++;C[y]=1,D=!D}throw new V}static decodeCode(h,p,_){Ae.recordPattern(h,_,p);let y=be.MAX_AVG_VARIANCE,C=-1;for(let k=0;k<be.CODE_PATTERNS.length;k++){const D=be.CODE_PATTERNS[k],z=this.patternMatchVariance(p,D,be.MAX_INDIVIDUAL_VARIANCE);z<y&&(y=z,C=k)}if(C>=0)return C;throw new V}decodeRow(h,p,_){const y=_&&_.get(R.ASSUME_GS1)===!0,C=be.findStartPattern(p),k=C[2];let D=0;const z=new Uint8Array(20);z[D++]=k;let Q;switch(k){case be.CODE_START_A:Q=be.CODE_CODE_A;break;case be.CODE_START_B:Q=be.CODE_CODE_B;break;case be.CODE_START_C:Q=be.CODE_CODE_C;break;default:throw new $}let ce=!1,Ce=!1,ke="",qe=C[0],ot=C[1];const lt=Int32Array.from([0,0,0,0,0,0]);let Ct=0,Bt=0,Cn=k,In=0,xn=!0,ea=!1,Ks=!1;for(;!ce;){const el=Ce;switch(Ce=!1,Ct=Bt,Bt=be.decodeCode(p,lt,ot),z[D++]=Bt,Bt!==be.CODE_STOP&&(xn=!0),Bt!==be.CODE_STOP&&(In++,Cn+=In*Bt),qe=ot,ot+=lt.reduce(($o,D0)=>$o+D0,0),Bt){case be.CODE_START_A:case be.CODE_START_B:case be.CODE_START_C:throw new $}switch(Q){case be.CODE_CODE_A:if(Bt<64)Ks===ea?ke+=String.fromCharCode(32+Bt):ke+=String.fromCharCode(32+Bt+128),Ks=!1;else if(Bt<96)Ks===ea?ke+=String.fromCharCode(Bt-64):ke+=String.fromCharCode(Bt+64),Ks=!1;else switch(Bt!==be.CODE_STOP&&(xn=!1),Bt){case be.CODE_FNC_1:y&&(ke.length===0?ke+="]C1":ke+="");break;case be.CODE_FNC_2:case be.CODE_FNC_3:break;case be.CODE_FNC_4_A:!ea&&Ks?(ea=!0,Ks=!1):ea&&Ks?(ea=!1,Ks=!1):Ks=!0;break;case be.CODE_SHIFT:Ce=!0,Q=be.CODE_CODE_B;break;case be.CODE_CODE_B:Q=be.CODE_CODE_B;break;case be.CODE_CODE_C:Q=be.CODE_CODE_C;break;case be.CODE_STOP:ce=!0;break}break;case be.CODE_CODE_B:if(Bt<96)Ks===ea?ke+=String.fromCharCode(32+Bt):ke+=String.fromCharCode(32+Bt+128),Ks=!1;else switch(Bt!==be.CODE_STOP&&(xn=!1),Bt){case be.CODE_FNC_1:y&&(ke.length===0?ke+="]C1":ke+="");break;case be.CODE_FNC_2:case be.CODE_FNC_3:break;case be.CODE_FNC_4_B:!ea&&Ks?(ea=!0,Ks=!1):ea&&Ks?(ea=!1,Ks=!1):Ks=!0;break;case be.CODE_SHIFT:Ce=!0,Q=be.CODE_CODE_A;break;case be.CODE_CODE_A:Q=be.CODE_CODE_A;break;case be.CODE_CODE_C:Q=be.CODE_CODE_C;break;case be.CODE_STOP:ce=!0;break}break;case be.CODE_CODE_C:if(Bt<100)Bt<10&&(ke+="0"),ke+=Bt;else switch(Bt!==be.CODE_STOP&&(xn=!1),Bt){case be.CODE_FNC_1:y&&(ke.length===0?ke+="]C1":ke+="");break;case be.CODE_CODE_A:Q=be.CODE_CODE_A;break;case be.CODE_CODE_B:Q=be.CODE_CODE_B;break;case be.CODE_STOP:ce=!0;break}break}el&&(Q=Q===be.CODE_CODE_A?be.CODE_CODE_B:be.CODE_CODE_A)}const qi=ot-qe;if(ot=p.getNextUnset(ot),!p.isRange(ot,Math.min(p.getSize(),ot+(ot-qe)/2),!1))throw new V;if(Cn-=In*Ct,Cn%103!==Ct)throw new w;const wo=ke.length;if(wo===0)throw new V;wo>0&&xn&&(Q===be.CODE_CODE_C?ke=ke.substring(0,wo-2):ke=ke.substring(0,wo-1));const to=(C[1]+C[0])/2,ir=qe+qi/2,Ni=z.length,no=new Uint8Array(Ni);for(let el=0;el<Ni;el++)no[el]=z[el];const $l=[new Ee(to,h),new Ee(ir,h)];return new oe(ke,no,0,$l,ae.CODE_128,new Date().getTime())}}be.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],be.MAX_AVG_VARIANCE=.25,be.MAX_INDIVIDUAL_VARIANCE=.7,be.CODE_SHIFT=98,be.CODE_CODE_C=99,be.CODE_CODE_B=100,be.CODE_CODE_A=101,be.CODE_FNC_1=102,be.CODE_FNC_2=97,be.CODE_FNC_3=96,be.CODE_FNC_4_A=101,be.CODE_FNC_4_B=100,be.CODE_START_A=103,be.CODE_START_B=104,be.CODE_START_C=105,be.CODE_STOP=106;class We extends Ae{constructor(h=!1,p=!1){super(),this.usingCheckDigit=h,this.extendedMode=p,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(h,p,_){let y=this.counters;y.fill(0),this.decodeRowResult="";let C=We.findAsteriskPattern(p,y),k=p.getNextSet(C[1]),D=p.getSize(),z,Q;do{We.recordPattern(p,k,y);let lt=We.toNarrowWidePattern(y);if(lt<0)throw new V;z=We.patternToChar(lt),this.decodeRowResult+=z,Q=k;for(let Ct of y)k+=Ct;k=p.getNextSet(k)}while(z!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let ce=0;for(let lt of y)ce+=lt;let Ce=k-Q-ce;if(k!==D&&Ce*2<ce)throw new V;if(this.usingCheckDigit){let lt=this.decodeRowResult.length-1,Ct=0;for(let Bt=0;Bt<lt;Bt++)Ct+=We.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(Bt));if(this.decodeRowResult.charAt(lt)!==We.ALPHABET_STRING.charAt(Ct%43))throw new w;this.decodeRowResult=this.decodeRowResult.substring(0,lt)}if(this.decodeRowResult.length===0)throw new V;let ke;this.extendedMode?ke=We.decodeExtended(this.decodeRowResult):ke=this.decodeRowResult;let qe=(C[1]+C[0])/2,ot=Q+ce/2;return new oe(ke,null,0,[new Ee(qe,h),new Ee(ot,h)],ae.CODE_39,new Date().getTime())}static findAsteriskPattern(h,p){let _=h.getSize(),y=h.getNextSet(0),C=0,k=y,D=!1,z=p.length;for(let Q=y;Q<_;Q++)if(h.get(Q)!==D)p[C]++;else{if(C===z-1){if(this.toNarrowWidePattern(p)===We.ASTERISK_ENCODING&&h.isRange(Math.max(0,k-Math.floor((Q-k)/2)),k,!1))return[k,Q];k+=p[0]+p[1],p.copyWithin(0,2,2+C-1),p[C-1]=0,p[C]=0,C--}else C++;p[C]=1,D=!D}throw new V}static toNarrowWidePattern(h){let p=h.length,_=0,y;do{let C=2147483647;for(let z of h)z<C&&z>_&&(C=z);_=C,y=0;let k=0,D=0;for(let z=0;z<p;z++){let Q=h[z];Q>_&&(D|=1<<p-1-z,y++,k+=Q)}if(y===3){for(let z=0;z<p&&y>0;z++){let Q=h[z];if(Q>_&&(y--,Q*2>=k))return-1}return D}}while(y>3);return-1}static patternToChar(h){for(let p=0;p<We.CHARACTER_ENCODINGS.length;p++)if(We.CHARACTER_ENCODINGS[p]===h)return We.ALPHABET_STRING.charAt(p);if(h===We.ASTERISK_ENCODING)return"*";throw new V}static decodeExtended(h){let p=h.length,_="";for(let y=0;y<p;y++){let C=h.charAt(y);if(C==="+"||C==="$"||C==="%"||C==="/"){let k=h.charAt(y+1),D="\0";switch(C){case"+":if(k>="A"&&k<="Z")D=String.fromCharCode(k.charCodeAt(0)+32);else throw new $;break;case"$":if(k>="A"&&k<="Z")D=String.fromCharCode(k.charCodeAt(0)-64);else throw new $;break;case"%":if(k>="A"&&k<="E")D=String.fromCharCode(k.charCodeAt(0)-38);else if(k>="F"&&k<="J")D=String.fromCharCode(k.charCodeAt(0)-11);else if(k>="K"&&k<="O")D=String.fromCharCode(k.charCodeAt(0)+16);else if(k>="P"&&k<="T")D=String.fromCharCode(k.charCodeAt(0)+43);else if(k==="U")D="\0";else if(k==="V")D="@";else if(k==="W")D="`";else if(k==="X"||k==="Y"||k==="Z")D="";else throw new $;break;case"/":if(k>="A"&&k<="O")D=String.fromCharCode(k.charCodeAt(0)-32);else if(k==="Z")D=":";else throw new $;break}_+=D,y++}else _+=C}return _}}We.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",We.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],We.ASTERISK_ENCODING=148;class st extends Ae{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(h,p,_){let y=this.decodeStart(p),C=this.decodeEnd(p),k=new te;st.decodeMiddle(p,y[1],C[0],k);let D=k.toString(),z=null;_!=null&&(z=_.get(R.ALLOWED_LENGTHS)),z==null&&(z=st.DEFAULT_ALLOWED_LENGTHS);let Q=D.length,ce=!1,Ce=0;for(let ot of z){if(Q===ot){ce=!0;break}ot>Ce&&(Ce=ot)}if(!ce&&Q>Ce&&(ce=!0),!ce)throw new $;const ke=[new Ee(y[1],h),new Ee(C[0],h)];return new oe(D,null,0,ke,ae.ITF,new Date().getTime())}static decodeMiddle(h,p,_,y){let C=new Int32Array(10),k=new Int32Array(5),D=new Int32Array(5);for(C.fill(0),k.fill(0),D.fill(0);p<_;){Ae.recordPattern(h,p,C);for(let Q=0;Q<5;Q++){let ce=2*Q;k[Q]=C[ce],D[Q]=C[ce+1]}let z=st.decodeDigit(k);y.append(z.toString()),z=this.decodeDigit(D),y.append(z.toString()),C.forEach(function(Q){p+=Q})}}decodeStart(h){let p=st.skipWhiteSpace(h),_=st.findGuardPattern(h,p,st.START_PATTERN);return this.narrowLineWidth=(_[1]-_[0])/4,this.validateQuietZone(h,_[0]),_}validateQuietZone(h,p){let _=this.narrowLineWidth*10;_=_<p?_:p;for(let y=p-1;_>0&&y>=0&&!h.get(y);y--)_--;if(_!==0)throw new V}static skipWhiteSpace(h){const p=h.getSize(),_=h.getNextSet(0);if(_===p)throw new V;return _}decodeEnd(h){h.reverse();try{let p=st.skipWhiteSpace(h),_;try{_=st.findGuardPattern(h,p,st.END_PATTERN_REVERSED[0])}catch(C){C instanceof V&&(_=st.findGuardPattern(h,p,st.END_PATTERN_REVERSED[1]))}this.validateQuietZone(h,_[0]);let y=_[0];return _[0]=h.getSize()-_[1],_[1]=h.getSize()-y,_}finally{h.reverse()}}static findGuardPattern(h,p,_){let y=_.length,C=new Int32Array(y),k=h.getSize(),D=!1,z=0,Q=p;C.fill(0);for(let ce=p;ce<k;ce++)if(h.get(ce)!==D)C[z]++;else{if(z===y-1){if(Ae.patternMatchVariance(C,_,st.MAX_INDIVIDUAL_VARIANCE)<st.MAX_AVG_VARIANCE)return[Q,ce];Q+=C[0]+C[1],j.arraycopy(C,2,C,0,z-1),C[z-1]=0,C[z]=0,z--}else z++;C[z]=1,D=!D}throw new V}static decodeDigit(h){let p=st.MAX_AVG_VARIANCE,_=-1,y=st.PATTERNS.length;for(let C=0;C<y;C++){let k=st.PATTERNS[C],D=Ae.patternMatchVariance(h,k,st.MAX_INDIVIDUAL_VARIANCE);D<p?(p=D,_=C):D===p&&(_=-1)}if(_>=0)return _%10;throw new V}}st.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],st.MAX_AVG_VARIANCE=.38,st.MAX_INDIVIDUAL_VARIANCE=.5,st.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],st.START_PATTERN=Int32Array.from([1,1,1,1]),st.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class ct extends Ae{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(h){let p=!1,_,y=0,C=Int32Array.from([0,0,0]);for(;!p;){C=Int32Array.from([0,0,0]),_=ct.findGuardPattern(h,y,!1,this.START_END_PATTERN,C);let k=_[0];y=_[1];let D=k-(y-k);D>=0&&(p=h.isRange(D,k,!1))}return _}static checkChecksum(h){return ct.checkStandardUPCEANChecksum(h)}static checkStandardUPCEANChecksum(h){let p=h.length;if(p===0)return!1;let _=parseInt(h.charAt(p-1),10);return ct.getStandardUPCEANChecksum(h.substring(0,p-1))===_}static getStandardUPCEANChecksum(h){let p=h.length,_=0;for(let y=p-1;y>=0;y-=2){let C=h.charAt(y).charCodeAt(0)-48;if(C<0||C>9)throw new $;_+=C}_*=3;for(let y=p-2;y>=0;y-=2){let C=h.charAt(y).charCodeAt(0)-48;if(C<0||C>9)throw new $;_+=C}return(1e3-_)%10}static decodeEnd(h,p){return ct.findGuardPattern(h,p,!1,ct.START_END_PATTERN,new Int32Array(ct.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(h,p,_,y){return this.findGuardPattern(h,p,_,y,new Int32Array(y.length))}static findGuardPattern(h,p,_,y,C){let k=h.getSize();p=_?h.getNextUnset(p):h.getNextSet(p);let D=0,z=p,Q=y.length,ce=_;for(let Ce=p;Ce<k;Ce++)if(h.get(Ce)!==ce)C[D]++;else{if(D===Q-1){if(Ae.patternMatchVariance(C,y,ct.MAX_INDIVIDUAL_VARIANCE)<ct.MAX_AVG_VARIANCE)return Int32Array.from([z,Ce]);z+=C[0]+C[1];let ke=C.slice(2,C.length-1);for(let qe=0;qe<D-1;qe++)C[qe]=ke[qe];C[D-1]=0,C[D]=0,D--}else D++;C[D]=1,ce=!ce}throw new V}static decodeDigit(h,p,_,y){this.recordPattern(h,_,p);let C=this.MAX_AVG_VARIANCE,k=-1,D=y.length;for(let z=0;z<D;z++){let Q=y[z],ce=Ae.patternMatchVariance(p,Q,ct.MAX_INDIVIDUAL_VARIANCE);ce<C&&(C=ce,k=z)}if(k>=0)return k;throw new V}}ct.MAX_AVG_VARIANCE=.48,ct.MAX_INDIVIDUAL_VARIANCE=.7,ct.START_END_PATTERN=Int32Array.from([1,1,1]),ct.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),ct.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),ct.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class Mt{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(h,p,_){let y=this.decodeRowStringBuffer,C=this.decodeMiddle(p,_,y),k=y.toString(),D=Mt.parseExtensionString(k),z=[new Ee((_[0]+_[1])/2,h),new Ee(C,h)],Q=new oe(k,null,0,z,ae.UPC_EAN_EXTENSION,new Date().getTime());return D!=null&&Q.putAllMetadata(D),Q}decodeMiddle(h,p,_){let y=this.decodeMiddleCounters;y[0]=0,y[1]=0,y[2]=0,y[3]=0;let C=h.getSize(),k=p[1],D=0;for(let Q=0;Q<5&&k<C;Q++){let ce=ct.decodeDigit(h,y,k,ct.L_AND_G_PATTERNS);_+=String.fromCharCode(48+ce%10);for(let Ce of y)k+=Ce;ce>=10&&(D|=1<<4-Q),Q!==4&&(k=h.getNextSet(k),k=h.getNextUnset(k))}if(_.length!==5)throw new V;let z=this.determineCheckDigit(D);if(Mt.extensionChecksum(_.toString())!==z)throw new V;return k}static extensionChecksum(h){let p=h.length,_=0;for(let y=p-2;y>=0;y-=2)_+=h.charAt(y).charCodeAt(0)-48;_*=3;for(let y=p-1;y>=0;y-=2)_+=h.charAt(y).charCodeAt(0)-48;return _*=3,_%10}determineCheckDigit(h){for(let p=0;p<10;p++)if(h===this.CHECK_DIGIT_ENCODINGS[p])return p;throw new V}static parseExtensionString(h){if(h.length!==5)return null;let p=Mt.parseExtension5String(h);return p==null?null:new Map([[ue.SUGGESTED_PRICE,p]])}static parseExtension5String(h){let p;switch(h.charAt(0)){case"0":p="";break;case"5":p="$";break;case"9":switch(h){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}p="";break;default:p="";break}let _=parseInt(h.substring(1)),y=(_/100).toString(),C=_%100,k=C<10?"0"+C:C.toString();return p+y+"."+k}}class pn{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(h,p,_){let y=this.decodeRowStringBuffer,C=this.decodeMiddle(p,_,y),k=y.toString(),D=pn.parseExtensionString(k),z=[new Ee((_[0]+_[1])/2,h),new Ee(C,h)],Q=new oe(k,null,0,z,ae.UPC_EAN_EXTENSION,new Date().getTime());return D!=null&&Q.putAllMetadata(D),Q}decodeMiddle(h,p,_){let y=this.decodeMiddleCounters;y[0]=0,y[1]=0,y[2]=0,y[3]=0;let C=h.getSize(),k=p[1],D=0;for(let z=0;z<2&&k<C;z++){let Q=ct.decodeDigit(h,y,k,ct.L_AND_G_PATTERNS);_+=String.fromCharCode(48+Q%10);for(let ce of y)k+=ce;Q>=10&&(D|=1<<1-z),z!==1&&(k=h.getNextSet(k),k=h.getNextUnset(k))}if(_.length!==2)throw new V;if(parseInt(_.toString())%4!==D)throw new V;return k}static parseExtensionString(h){return h.length!==2?null:new Map([[ue.ISSUE_NUMBER,parseInt(h)]])}}class Gn{static decodeRow(h,p,_){let y=ct.findGuardPattern(p,_,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new Mt().decodeRow(h,p,y)}catch{return new pn().decodeRow(h,p,y)}}}Gn.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class bt extends ct{constructor(){super(),this.decodeRowStringBuffer="",bt.L_AND_G_PATTERNS=bt.L_PATTERNS.map(h=>Int32Array.from(h));for(let h=10;h<20;h++){let p=bt.L_PATTERNS[h-10],_=new Int32Array(p.length);for(let y=0;y<p.length;y++)_[y]=p[p.length-y-1];bt.L_AND_G_PATTERNS[h]=_}}decodeRow(h,p,_){let y=bt.findStartGuardPattern(p),C=_==null?null:_.get(R.NEED_RESULT_POINT_CALLBACK);if(C!=null){const xn=new Ee((y[0]+y[1])/2,h);C.foundPossibleResultPoint(xn)}let k=this.decodeMiddle(p,y,this.decodeRowStringBuffer),D=k.rowOffset,z=k.resultString;if(C!=null){const xn=new Ee(D,h);C.foundPossibleResultPoint(xn)}let Q=this.decodeEnd(p,D);if(C!=null){const xn=new Ee((Q[0]+Q[1])/2,h);C.foundPossibleResultPoint(xn)}let ce=Q[1],Ce=ce+(ce-Q[0]);if(Ce>=p.getSize()||!p.isRange(ce,Ce,!1))throw new V;let ke=z.toString();if(ke.length<8)throw new $;if(!bt.checkChecksum(ke))throw new w;let qe=(y[1]+y[0])/2,ot=(Q[1]+Q[0])/2,lt=this.getBarcodeFormat(),Ct=[new Ee(qe,h),new Ee(ot,h)],Bt=new oe(ke,null,0,Ct,lt,new Date().getTime()),Cn=0;try{let xn=Gn.decodeRow(h,p,Q[1]);Bt.putMetadata(ue.UPC_EAN_EXTENSION,xn.getText()),Bt.putAllMetadata(xn.getResultMetadata()),Bt.addResultPoints(xn.getResultPoints()),Cn=xn.getText().length}catch{}let In=_==null?null:_.get(R.ALLOWED_EAN_EXTENSIONS);if(In!=null){let xn=!1;for(let ea in In)if(Cn.toString()===ea){xn=!0;break}if(!xn)throw new V}return Bt}decodeEnd(h,p){return bt.findGuardPattern(h,p,!1,bt.START_END_PATTERN,new Int32Array(bt.START_END_PATTERN.length).fill(0))}static checkChecksum(h){return bt.checkStandardUPCEANChecksum(h)}static checkStandardUPCEANChecksum(h){let p=h.length;if(p===0)return!1;let _=parseInt(h.charAt(p-1),10);return bt.getStandardUPCEANChecksum(h.substring(0,p-1))===_}static getStandardUPCEANChecksum(h){let p=h.length,_=0;for(let y=p-1;y>=0;y-=2){let C=h.charAt(y).charCodeAt(0)-48;if(C<0||C>9)throw new $;_+=C}_*=3;for(let y=p-2;y>=0;y-=2){let C=h.charAt(y).charCodeAt(0)-48;if(C<0||C>9)throw new $;_+=C}return(1e3-_)%10}}class ln extends bt{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(h,p,_){let y=this.decodeMiddleCounters;y[0]=0,y[1]=0,y[2]=0,y[3]=0;let C=h.getSize(),k=p[1],D=0;for(let Q=0;Q<6&&k<C;Q++){let ce=bt.decodeDigit(h,y,k,bt.L_AND_G_PATTERNS);_+=String.fromCharCode(48+ce%10);for(let Ce of y)k+=Ce;ce>=10&&(D|=1<<5-Q)}_=ln.determineFirstDigit(_,D),k=bt.findGuardPattern(h,k,!0,bt.MIDDLE_PATTERN,new Int32Array(bt.MIDDLE_PATTERN.length).fill(0))[1];for(let Q=0;Q<6&&k<C;Q++){let ce=bt.decodeDigit(h,y,k,bt.L_PATTERNS);_+=String.fromCharCode(48+ce);for(let Ce of y)k+=Ce}return{rowOffset:k,resultString:_}}getBarcodeFormat(){return ae.EAN_13}static determineFirstDigit(h,p){for(let _=0;_<10;_++)if(p===this.FIRST_DIGIT_ENCODINGS[_])return h=String.fromCharCode(48+_)+h,h;throw new V}}ln.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class fn extends bt{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(h,p,_){const y=this.decodeMiddleCounters;y[0]=0,y[1]=0,y[2]=0,y[3]=0;let C=h.getSize(),k=p[1];for(let z=0;z<4&&k<C;z++){let Q=bt.decodeDigit(h,y,k,bt.L_PATTERNS);_+=String.fromCharCode(48+Q);for(let ce of y)k+=ce}k=bt.findGuardPattern(h,k,!0,bt.MIDDLE_PATTERN,new Int32Array(bt.MIDDLE_PATTERN.length).fill(0))[1];for(let z=0;z<4&&k<C;z++){let Q=bt.decodeDigit(h,y,k,bt.L_PATTERNS);_+=String.fromCharCode(48+Q);for(let ce of y)k+=ce}return{rowOffset:k,resultString:_}}getBarcodeFormat(){return ae.EAN_8}}class wn extends bt{constructor(){super(...arguments),this.ean13Reader=new ln}getBarcodeFormat(){return ae.UPC_A}decode(h,p){return this.maybeReturnResult(this.ean13Reader.decode(h))}decodeRow(h,p,_){return this.maybeReturnResult(this.ean13Reader.decodeRow(h,p,_))}decodeMiddle(h,p,_){return this.ean13Reader.decodeMiddle(h,p,_)}maybeReturnResult(h){let p=h.getText();if(p.charAt(0)==="0"){let _=new oe(p.substring(1),null,null,h.getResultPoints(),ae.UPC_A);return h.getResultMetadata()!=null&&_.putAllMetadata(h.getResultMetadata()),_}else throw new V}reset(){this.ean13Reader.reset()}}class ut extends bt{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(h,p,_){const y=this.decodeMiddleCounters.map(Q=>Q);y[0]=0,y[1]=0,y[2]=0,y[3]=0;const C=h.getSize();let k=p[1],D=0;for(let Q=0;Q<6&&k<C;Q++){const ce=ut.decodeDigit(h,y,k,ut.L_AND_G_PATTERNS);_+=String.fromCharCode(48+ce%10);for(let Ce of y)k+=Ce;ce>=10&&(D|=1<<5-Q)}let z=ut.determineNumSysAndCheckDigit(_,D);return{rowOffset:k,resultString:z}}decodeEnd(h,p){return ut.findGuardPatternWithoutCounters(h,p,!0,ut.MIDDLE_END_PATTERN)}checkChecksum(h){return bt.checkChecksum(ut.convertUPCEtoUPCA(h))}static determineNumSysAndCheckDigit(h,p){for(let _=0;_<=1;_++)for(let y=0;y<10;y++)if(p===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[_][y]){let C=String.fromCharCode(48+_),k=String.fromCharCode(48+y);return C+h+k}throw V.getNotFoundInstance()}getBarcodeFormat(){return ae.UPC_E}static convertUPCEtoUPCA(h){const p=h.slice(1,7).split("").map(C=>C.charCodeAt(0)),_=new te;_.append(h.charAt(0));let y=p[5];switch(y){case 0:case 1:case 2:_.appendChars(p,0,2),_.append(y),_.append("0000"),_.appendChars(p,2,3);break;case 3:_.appendChars(p,0,3),_.append("00000"),_.appendChars(p,3,2);break;case 4:_.appendChars(p,0,4),_.append("00000"),_.append(p[4]);break;default:_.appendChars(p,0,5),_.append("0000"),_.append(y);break}return h.length>=8&&_.append(h.charAt(7)),_.toString()}}ut.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),ut.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class Et extends Ae{constructor(h){super();let p=h==null?null:h.get(R.POSSIBLE_FORMATS),_=[];a(p)?(_.push(new ln),_.push(new wn),_.push(new fn),_.push(new ut)):(p.indexOf(ae.EAN_13)>-1&&_.push(new ln),p.indexOf(ae.UPC_A)>-1&&_.push(new wn),p.indexOf(ae.EAN_8)>-1&&_.push(new fn),p.indexOf(ae.UPC_E)>-1&&_.push(new ut)),this.readers=_}decodeRow(h,p,_){for(let y of this.readers)try{const C=y.decodeRow(h,p,_),k=C.getBarcodeFormat()===ae.EAN_13&&C.getText().charAt(0)==="0",D=_==null?null:_.get(R.POSSIBLE_FORMATS),z=D==null||D.includes(ae.UPC_A);if(k&&z){const Q=C.getRawBytes(),ce=new oe(C.getText().substring(1),Q,Q?Q.length:null,C.getResultPoints(),ae.UPC_A);return ce.putAllMetadata(C.getResultMetadata()),ce}return C}catch{}throw new V}reset(){for(let h of this.readers)h.reset()}}class nt extends Ae{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(h,p){for(let _=0;_<p.length;_++)if(Ae.patternMatchVariance(h,p[_],nt.MAX_INDIVIDUAL_VARIANCE)<nt.MAX_AVG_VARIANCE)return _;throw new V}static count(h){return Se.sum(new Int32Array(h))}static increment(h,p){let _=0,y=p[0];for(let C=1;C<h.length;C++)p[C]>y&&(y=p[C],_=C);h[_]++}static decrement(h,p){let _=0,y=p[0];for(let C=1;C<h.length;C++)p[C]<y&&(y=p[C],_=C);h[_]--}static isFinderPattern(h){let p=h[0]+h[1],_=p+h[2]+h[3],y=p/_;if(y>=nt.MIN_FINDER_PATTERN_RATIO&&y<=nt.MAX_FINDER_PATTERN_RATIO){let C=Number.MAX_SAFE_INTEGER,k=Number.MIN_SAFE_INTEGER;for(let D of h)D>k&&(k=D),D<C&&(C=D);return k<10*C}return!1}}nt.MAX_AVG_VARIANCE=.2,nt.MAX_INDIVIDUAL_VARIANCE=.45,nt.MIN_FINDER_PATTERN_RATIO=9.5/12,nt.MAX_FINDER_PATTERN_RATIO=12.5/14;class Rt{constructor(h,p){this.value=h,this.checksumPortion=p}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(h){if(!(h instanceof Rt))return!1;const p=h;return this.value===p.value&&this.checksumPortion===p.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class Lt{constructor(h,p,_,y,C){this.value=h,this.startEnd=p,this.value=h,this.startEnd=p,this.resultPoints=new Array,this.resultPoints.push(new Ee(_,C)),this.resultPoints.push(new Ee(y,C))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(h){if(!(h instanceof Lt))return!1;const p=h;return this.value===p.value}hashCode(){return this.value}}class on{constructor(){}static getRSSvalue(h,p,_){let y=0;for(let z of h)y+=z;let C=0,k=0,D=h.length;for(let z=0;z<D-1;z++){let Q;for(Q=1,k|=1<<z;Q<h[z];Q++,k&=~(1<<z)){let ce=on.combins(y-Q-1,D-z-2);if(_&&k===0&&y-Q-(D-z-1)>=D-z-1&&(ce-=on.combins(y-Q-(D-z),D-z-2)),D-z-1>1){let Ce=0;for(let ke=y-Q-(D-z-2);ke>p;ke--)Ce+=on.combins(y-Q-ke-1,D-z-3);ce-=Ce*(D-1-z)}else y-Q>p&&ce--;C+=ce}y-=Q}return C}static combins(h,p){let _,y;h-p>p?(y=p,_=h-p):(y=h-p,_=p);let C=1,k=1;for(let D=h;D>_;D--)C*=D,k<=y&&(C/=k,k++);for(;k<=y;)C/=k,k++;return C}}class vn{static buildBitArray(h){let p=h.length*2-1;h[h.length-1].getRightChar()==null&&(p-=1);let _=12*p,y=new P(_),C=0,D=h[0].getRightChar().getValue();for(let z=11;z>=0;--z)(D&1<<z)!=0&&y.set(C),C++;for(let z=1;z<h.length;++z){let Q=h[z],ce=Q.getLeftChar().getValue();for(let Ce=11;Ce>=0;--Ce)(ce&1<<Ce)!=0&&y.set(C),C++;if(Q.getRightChar()!=null){let Ce=Q.getRightChar().getValue();for(let ke=11;ke>=0;--ke)(Ce&1<<ke)!=0&&y.set(C),C++}}return y}}class ns{constructor(h,p){p?this.decodedInformation=null:(this.finished=h,this.decodedInformation=p)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class us{constructor(h){this.newPosition=h}getNewPosition(){return this.newPosition}}class _s extends us{constructor(h,p){super(h),this.value=p}getValue(){return this.value}isFNC1(){return this.value===_s.FNC1}}_s.FNC1="$";class ds extends us{constructor(h,p,_){super(h),_?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=p}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class Pn extends us{constructor(h,p,_){if(super(h),p<0||p>10||_<0||_>10)throw new $;this.firstDigit=p,this.secondDigit=_}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===Pn.FNC1}isSecondDigitFNC1(){return this.secondDigit===Pn.FNC1}isAnyFNC1(){return this.firstDigit===Pn.FNC1||this.secondDigit===Pn.FNC1}}Pn.FNC1=10;class Xt{constructor(){}static parseFieldsInGeneralPurpose(h){if(!h)return null;if(h.length<2)throw new V;let p=h.substring(0,2);for(let C of Xt.TWO_DIGIT_DATA_LENGTH)if(C[0]===p)return C[1]===Xt.VARIABLE_LENGTH?Xt.processVariableAI(2,C[2],h):Xt.processFixedAI(2,C[1],h);if(h.length<3)throw new V;let _=h.substring(0,3);for(let C of Xt.THREE_DIGIT_DATA_LENGTH)if(C[0]===_)return C[1]===Xt.VARIABLE_LENGTH?Xt.processVariableAI(3,C[2],h):Xt.processFixedAI(3,C[1],h);for(let C of Xt.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(C[0]===_)return C[1]===Xt.VARIABLE_LENGTH?Xt.processVariableAI(4,C[2],h):Xt.processFixedAI(4,C[1],h);if(h.length<4)throw new V;let y=h.substring(0,4);for(let C of Xt.FOUR_DIGIT_DATA_LENGTH)if(C[0]===y)return C[1]===Xt.VARIABLE_LENGTH?Xt.processVariableAI(4,C[2],h):Xt.processFixedAI(4,C[1],h);throw new V}static processFixedAI(h,p,_){if(_.length<h)throw new V;let y=_.substring(0,h);if(_.length<h+p)throw new V;let C=_.substring(h,h+p),k=_.substring(h+p),D="("+y+")"+C,z=Xt.parseFieldsInGeneralPurpose(k);return z==null?D:D+z}static processVariableAI(h,p,_){let y=_.substring(0,h),C;_.length<h+p?C=_.length:C=h+p;let k=_.substring(h,C),D=_.substring(C),z="("+y+")"+k,Q=Xt.parseFieldsInGeneralPurpose(D);return Q==null?z:z+Q}}Xt.VARIABLE_LENGTH=[],Xt.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",Xt.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",Xt.VARIABLE_LENGTH,20],["22",Xt.VARIABLE_LENGTH,29],["30",Xt.VARIABLE_LENGTH,8],["37",Xt.VARIABLE_LENGTH,8],["90",Xt.VARIABLE_LENGTH,30],["91",Xt.VARIABLE_LENGTH,30],["92",Xt.VARIABLE_LENGTH,30],["93",Xt.VARIABLE_LENGTH,30],["94",Xt.VARIABLE_LENGTH,30],["95",Xt.VARIABLE_LENGTH,30],["96",Xt.VARIABLE_LENGTH,30],["97",Xt.VARIABLE_LENGTH,3],["98",Xt.VARIABLE_LENGTH,30],["99",Xt.VARIABLE_LENGTH,30]],Xt.THREE_DIGIT_DATA_LENGTH=[["240",Xt.VARIABLE_LENGTH,30],["241",Xt.VARIABLE_LENGTH,30],["242",Xt.VARIABLE_LENGTH,6],["250",Xt.VARIABLE_LENGTH,30],["251",Xt.VARIABLE_LENGTH,30],["253",Xt.VARIABLE_LENGTH,17],["254",Xt.VARIABLE_LENGTH,20],["400",Xt.VARIABLE_LENGTH,30],["401",Xt.VARIABLE_LENGTH,30],["402",17],["403",Xt.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",Xt.VARIABLE_LENGTH,20],["421",Xt.VARIABLE_LENGTH,15],["422",3],["423",Xt.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],Xt.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",Xt.VARIABLE_LENGTH,15],["391",Xt.VARIABLE_LENGTH,18],["392",Xt.VARIABLE_LENGTH,15],["393",Xt.VARIABLE_LENGTH,18],["703",Xt.VARIABLE_LENGTH,30]],Xt.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",Xt.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",Xt.VARIABLE_LENGTH,20],["8003",Xt.VARIABLE_LENGTH,30],["8004",Xt.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",Xt.VARIABLE_LENGTH,30],["8008",Xt.VARIABLE_LENGTH,12],["8018",18],["8020",Xt.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",Xt.VARIABLE_LENGTH,70],["8200",Xt.VARIABLE_LENGTH,70]];class ra{constructor(h){this.buffer=new te,this.information=h}decodeAllCodes(h,p){let _=p,y=null;do{let C=this.decodeGeneralPurposeField(_,y),k=Xt.parseFieldsInGeneralPurpose(C.getNewString());if(k!=null&&h.append(k),C.isRemaining()?y=""+C.getRemainingValue():y=null,_===C.getNewPosition())break;_=C.getNewPosition()}while(!0);return h.toString()}isStillNumeric(h){if(h+7>this.information.getSize())return h+4<=this.information.getSize();for(let p=h;p<h+3;++p)if(this.information.get(p))return!0;return this.information.get(h+3)}decodeNumeric(h){if(h+7>this.information.getSize()){let C=this.extractNumericValueFromBitArray(h,4);return C===0?new Pn(this.information.getSize(),Pn.FNC1,Pn.FNC1):new Pn(this.information.getSize(),C-1,Pn.FNC1)}let p=this.extractNumericValueFromBitArray(h,7),_=(p-8)/11,y=(p-8)%11;return new Pn(h+7,_,y)}extractNumericValueFromBitArray(h,p){return ra.extractNumericValueFromBitArray(this.information,h,p)}static extractNumericValueFromBitArray(h,p,_){let y=0;for(let C=0;C<_;++C)h.get(p+C)&&(y|=1<<_-C-1);return y}decodeGeneralPurposeField(h,p){this.buffer.setLengthToZero(),p!=null&&this.buffer.append(p),this.current.setPosition(h);let _=this.parseBlocks();return _!=null&&_.isRemaining()?new ds(this.current.getPosition(),this.buffer.toString(),_.getRemainingValue()):new ds(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let h,p;do{let _=this.current.getPosition();if(this.current.isAlpha()?(p=this.parseAlphaBlock(),h=p.isFinished()):this.current.isIsoIec646()?(p=this.parseIsoIec646Block(),h=p.isFinished()):(p=this.parseNumericBlock(),h=p.isFinished()),!(_!==this.current.getPosition())&&!h)break}while(!h);return p.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let h=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(h.getNewPosition()),h.isFirstDigitFNC1()){let p;return h.isSecondDigitFNC1()?p=new ds(this.current.getPosition(),this.buffer.toString()):p=new ds(this.current.getPosition(),this.buffer.toString(),h.getSecondDigit()),new ns(!0,p)}if(this.buffer.append(h.getFirstDigit()),h.isSecondDigitFNC1()){let p=new ds(this.current.getPosition(),this.buffer.toString());return new ns(!0,p)}this.buffer.append(h.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new ns(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let h=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(h.getNewPosition()),h.isFNC1()){let p=new ds(this.current.getPosition(),this.buffer.toString());return new ns(!0,p)}this.buffer.append(h.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new ns(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let h=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(h.getNewPosition()),h.isFNC1()){let p=new ds(this.current.getPosition(),this.buffer.toString());return new ns(!0,p)}this.buffer.append(h.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new ns(!1)}isStillIsoIec646(h){if(h+5>this.information.getSize())return!1;let p=this.extractNumericValueFromBitArray(h,5);if(p>=5&&p<16)return!0;if(h+7>this.information.getSize())return!1;let _=this.extractNumericValueFromBitArray(h,7);if(_>=64&&_<116)return!0;if(h+8>this.information.getSize())return!1;let y=this.extractNumericValueFromBitArray(h,8);return y>=232&&y<253}decodeIsoIec646(h){let p=this.extractNumericValueFromBitArray(h,5);if(p===15)return new _s(h+5,_s.FNC1);if(p>=5&&p<15)return new _s(h+5,"0"+(p-5));let _=this.extractNumericValueFromBitArray(h,7);if(_>=64&&_<90)return new _s(h+7,""+(_+1));if(_>=90&&_<116)return new _s(h+7,""+(_+7));let y=this.extractNumericValueFromBitArray(h,8),C;switch(y){case 232:C="!";break;case 233:C='"';break;case 234:C="%";break;case 235:C="&";break;case 236:C="'";break;case 237:C="(";break;case 238:C=")";break;case 239:C="*";break;case 240:C="+";break;case 241:C=",";break;case 242:C="-";break;case 243:C=".";break;case 244:C="/";break;case 245:C=":";break;case 246:C=";";break;case 247:C="<";break;case 248:C="=";break;case 249:C=">";break;case 250:C="?";break;case 251:C="_";break;case 252:C=" ";break;default:throw new $}return new _s(h+8,C)}isStillAlpha(h){if(h+5>this.information.getSize())return!1;let p=this.extractNumericValueFromBitArray(h,5);if(p>=5&&p<16)return!0;if(h+6>this.information.getSize())return!1;let _=this.extractNumericValueFromBitArray(h,6);return _>=16&&_<63}decodeAlphanumeric(h){let p=this.extractNumericValueFromBitArray(h,5);if(p===15)return new _s(h+5,_s.FNC1);if(p>=5&&p<15)return new _s(h+5,"0"+(p-5));let _=this.extractNumericValueFromBitArray(h,6);if(_>=32&&_<58)return new _s(h+6,""+(_+33));let y;switch(_){case 58:y="*";break;case 59:y=",";break;case 60:y="-";break;case 61:y=".";break;case 62:y="/";break;default:throw new de("Decoding invalid alphanumeric value: "+_)}return new _s(h+6,y)}isAlphaTo646ToAlphaLatch(h){if(h+1>this.information.getSize())return!1;for(let p=0;p<5&&p+h<this.information.getSize();++p)if(p===2){if(!this.information.get(h+2))return!1}else if(this.information.get(h+p))return!1;return!0}isAlphaOr646ToNumericLatch(h){if(h+3>this.information.getSize())return!1;for(let p=h;p<h+3;++p)if(this.information.get(p))return!1;return!0}isNumericToAlphaNumericLatch(h){if(h+1>this.information.getSize())return!1;for(let p=0;p<4&&p+h<this.information.getSize();++p)if(this.information.get(h+p))return!1;return!0}}class xa{constructor(h){this.information=h,this.generalDecoder=new ra(h)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class Hn extends xa{constructor(h){super(h)}encodeCompressedGtin(h,p){h.append("(01)");let _=h.length();h.append("9"),this.encodeCompressedGtinWithoutAI(h,p,_)}encodeCompressedGtinWithoutAI(h,p,_){for(let y=0;y<4;++y){let C=this.getGeneralDecoder().extractNumericValueFromBitArray(p+10*y,10);C/100===0&&h.append("0"),C/10===0&&h.append("0"),h.append(C)}Hn.appendCheckDigit(h,_)}static appendCheckDigit(h,p){let _=0;for(let y=0;y<13;y++){let C=h.charAt(y+p).charCodeAt(0)-48;_+=(y&1)===0?3*C:C}_=10-_%10,_===10&&(_=0),h.append(_)}}Hn.GTIN_SIZE=40;class ya extends Hn{constructor(h){super(h)}parseInformation(){let h=new te;h.append("(01)");let p=h.length(),_=this.getGeneralDecoder().extractNumericValueFromBitArray(ya.HEADER_SIZE,4);return h.append(_),this.encodeCompressedGtinWithoutAI(h,ya.HEADER_SIZE+4,p),this.getGeneralDecoder().decodeAllCodes(h,ya.HEADER_SIZE+44)}}ya.HEADER_SIZE=4;class Ys extends xa{constructor(h){super(h)}parseInformation(){let h=new te;return this.getGeneralDecoder().decodeAllCodes(h,Ys.HEADER_SIZE)}}Ys.HEADER_SIZE=5;class Js extends Hn{constructor(h){super(h)}encodeCompressedWeight(h,p,_){let y=this.getGeneralDecoder().extractNumericValueFromBitArray(p,_);this.addWeightCode(h,y);let C=this.checkWeight(y),k=1e5;for(let D=0;D<5;++D)C/k===0&&h.append("0"),k/=10;h.append(C)}}class gs extends Js{constructor(h){super(h)}parseInformation(){if(this.getInformation().getSize()!=gs.HEADER_SIZE+Js.GTIN_SIZE+gs.WEIGHT_SIZE)throw new V;let h=new te;return this.encodeCompressedGtin(h,gs.HEADER_SIZE),this.encodeCompressedWeight(h,gs.HEADER_SIZE+Js.GTIN_SIZE,gs.WEIGHT_SIZE),h.toString()}}gs.HEADER_SIZE=5,gs.WEIGHT_SIZE=15;class Pa extends gs{constructor(h){super(h)}addWeightCode(h,p){h.append("(3103)")}checkWeight(h){return h}}class ar extends gs{constructor(h){super(h)}addWeightCode(h,p){p<1e4?h.append("(3202)"):h.append("(3203)")}checkWeight(h){return h<1e4?h:h-1e4}}class Vs extends Hn{constructor(h){super(h)}parseInformation(){if(this.getInformation().getSize()<Vs.HEADER_SIZE+Hn.GTIN_SIZE)throw new V;let h=new te;this.encodeCompressedGtin(h,Vs.HEADER_SIZE);let p=this.getGeneralDecoder().extractNumericValueFromBitArray(Vs.HEADER_SIZE+Hn.GTIN_SIZE,Vs.LAST_DIGIT_SIZE);h.append("(392"),h.append(p),h.append(")");let _=this.getGeneralDecoder().decodeGeneralPurposeField(Vs.HEADER_SIZE+Hn.GTIN_SIZE+Vs.LAST_DIGIT_SIZE,null);return h.append(_.getNewString()),h.toString()}}Vs.HEADER_SIZE=8,Vs.LAST_DIGIT_SIZE=2;class Ts extends Hn{constructor(h){super(h)}parseInformation(){if(this.getInformation().getSize()<Ts.HEADER_SIZE+Hn.GTIN_SIZE)throw new V;let h=new te;this.encodeCompressedGtin(h,Ts.HEADER_SIZE);let p=this.getGeneralDecoder().extractNumericValueFromBitArray(Ts.HEADER_SIZE+Hn.GTIN_SIZE,Ts.LAST_DIGIT_SIZE);h.append("(393"),h.append(p),h.append(")");let _=this.getGeneralDecoder().extractNumericValueFromBitArray(Ts.HEADER_SIZE+Hn.GTIN_SIZE+Ts.LAST_DIGIT_SIZE,Ts.FIRST_THREE_DIGITS_SIZE);_/100==0&&h.append("0"),_/10==0&&h.append("0"),h.append(_);let y=this.getGeneralDecoder().decodeGeneralPurposeField(Ts.HEADER_SIZE+Hn.GTIN_SIZE+Ts.LAST_DIGIT_SIZE+Ts.FIRST_THREE_DIGITS_SIZE,null);return h.append(y.getNewString()),h.toString()}}Ts.HEADER_SIZE=8,Ts.LAST_DIGIT_SIZE=2,Ts.FIRST_THREE_DIGITS_SIZE=10;class Gs extends Js{constructor(h,p,_){super(h),this.dateCode=_,this.firstAIdigits=p}parseInformation(){if(this.getInformation().getSize()!=Gs.HEADER_SIZE+Gs.GTIN_SIZE+Gs.WEIGHT_SIZE+Gs.DATE_SIZE)throw new V;let h=new te;return this.encodeCompressedGtin(h,Gs.HEADER_SIZE),this.encodeCompressedWeight(h,Gs.HEADER_SIZE+Gs.GTIN_SIZE,Gs.WEIGHT_SIZE),this.encodeCompressedDate(h,Gs.HEADER_SIZE+Gs.GTIN_SIZE+Gs.WEIGHT_SIZE),h.toString()}encodeCompressedDate(h,p){let _=this.getGeneralDecoder().extractNumericValueFromBitArray(p,Gs.DATE_SIZE);if(_==38400)return;h.append("("),h.append(this.dateCode),h.append(")");let y=_%32;_/=32;let C=_%12+1;_/=12;let k=_;k/10==0&&h.append("0"),h.append(k),C/10==0&&h.append("0"),h.append(C),y/10==0&&h.append("0"),h.append(y)}addWeightCode(h,p){h.append("("),h.append(this.firstAIdigits),h.append(p/1e5),h.append(")")}checkWeight(h){return h%1e5}}Gs.HEADER_SIZE=8,Gs.WEIGHT_SIZE=20,Gs.DATE_SIZE=16;function xr(we){try{if(we.get(1))return new ya(we);if(!we.get(2))return new Ys(we);switch(ra.extractNumericValueFromBitArray(we,1,4)){case 4:return new Pa(we);case 5:return new ar(we)}switch(ra.extractNumericValueFromBitArray(we,1,5)){case 12:return new Vs(we);case 13:return new Ts(we)}switch(ra.extractNumericValueFromBitArray(we,1,7)){case 56:return new Gs(we,"310","11");case 57:return new Gs(we,"320","11");case 58:return new Gs(we,"310","13");case 59:return new Gs(we,"320","13");case 60:return new Gs(we,"310","15");case 61:return new Gs(we,"320","15");case 62:return new Gs(we,"310","17");case 63:return new Gs(we,"320","17")}}catch(h){throw console.log(h),new de("unknown decoder: "+we)}}class Fa{constructor(h,p,_,y){this.leftchar=h,this.rightchar=p,this.finderpattern=_,this.maybeLast=y}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(h,p){return h instanceof Fa?Fa.equalsOrNull(h.leftchar,p.leftchar)&&Fa.equalsOrNull(h.rightchar,p.rightchar)&&Fa.equalsOrNull(h.finderpattern,p.finderpattern):!1}static equalsOrNull(h,p){return h===null?p===null:Fa.equals(h,p)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class qa{constructor(h,p,_){this.pairs=h,this.rowNumber=p,this.wasReversed=_}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(h){return this.checkEqualitity(this,h)}toString(){return"{ "+this.pairs+" }"}equals(h,p){return h instanceof qa?this.checkEqualitity(h,p)&&h.wasReversed===p.wasReversed:!1}checkEqualitity(h,p){if(!h||!p)return;let _;return h.forEach((y,C)=>{p.forEach(k=>{y.getLeftChar().getValue()===k.getLeftChar().getValue()&&y.getRightChar().getValue()===k.getRightChar().getValue()&&y.getFinderPatter().getValue()===k.getFinderPatter().getValue()&&(_=!0)})}),_}}class zt extends nt{constructor(h){super(...arguments),this.pairs=new Array(zt.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=h===!0}decodeRow(h,p,_){this.pairs.length=0,this.startFromEven=!1;try{return zt.constructResult(this.decodeRow2pairs(h,p))}catch(y){this.verbose&&console.log(y)}return this.pairs.length=0,this.startFromEven=!0,zt.constructResult(this.decodeRow2pairs(h,p))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(h,p){let _=!1;for(;!_;)try{this.pairs.push(this.retrieveNextPair(p,this.pairs,h))}catch(C){if(C instanceof V){if(!this.pairs.length)throw new V;_=!0}}if(this.checkChecksum())return this.pairs;let y;if(this.rows.length?y=!0:y=!1,this.storeRow(h,!1),y){let C=this.checkRowsBoolean(!1);if(C!=null||(C=this.checkRowsBoolean(!0),C!=null))return C}throw new V}checkRowsBoolean(h){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,h&&(this.rows=this.rows.reverse());let p=null;try{p=this.checkRows(new Array,0)}catch(_){this.verbose&&console.log(_)}return h&&(this.rows=this.rows.reverse()),p}checkRows(h,p){for(let _=p;_<this.rows.length;_++){let y=this.rows[_];this.pairs.length=0;for(let k of h)this.pairs.push(k.getPairs());if(this.pairs.push(y.getPairs()),!zt.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let C=new Array(h);C.push(y);try{return this.checkRows(C,_+1)}catch(k){this.verbose&&console.log(k)}}throw new V}static isValidSequence(h){for(let p of zt.FINDER_PATTERN_SEQUENCES){if(h.length>p.length)continue;let _=!0;for(let y=0;y<h.length;y++)if(h[y].getFinderPattern().getValue()!=p[y]){_=!1;break}if(_)return!0}return!1}storeRow(h,p){let _=0,y=!1,C=!1;for(;_<this.rows.length;){let k=this.rows[_];if(k.getRowNumber()>h){C=k.isEquivalent(this.pairs);break}y=k.isEquivalent(this.pairs),_++}C||y||zt.isPartialRow(this.pairs,this.rows)||(this.rows.push(_,new qa(this.pairs,h,p)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(h,p){for(let _ of p)if(_.getPairs().length!==h.length){for(let y of _.getPairs())for(let C of h)if(Fa.equals(y,C))break}}static isPartialRow(h,p){for(let _ of p){let y=!0;for(let C of h){let k=!1;for(let D of _.getPairs())if(C.equals(D)){k=!0;break}if(!k){y=!1;break}}if(y)return!0}return!1}getRows(){return this.rows}static constructResult(h){let p=vn.buildBitArray(h),y=xr(p).parseInformation(),C=h[0].getFinderPattern().getResultPoints(),k=h[h.length-1].getFinderPattern().getResultPoints(),D=[C[0],C[1],k[0],k[1]];return new oe(y,null,null,D,ae.RSS_EXPANDED,null)}checkChecksum(){let h=this.pairs.get(0),p=h.getLeftChar(),_=h.getRightChar();if(_==null)return!1;let y=_.getChecksumPortion(),C=2;for(let D=1;D<this.pairs.size();++D){let z=this.pairs.get(D);y+=z.getLeftChar().getChecksumPortion(),C++;let Q=z.getRightChar();Q!=null&&(y+=Q.getChecksumPortion(),C++)}return y%=211,211*(C-4)+y==p.getValue()}static getNextSecondBar(h,p){let _;return h.get(p)?(_=h.getNextUnset(p),_=h.getNextSet(_)):(_=h.getNextSet(p),_=h.getNextUnset(_)),_}retrieveNextPair(h,p,_){let y=p.length%2==0;this.startFromEven&&(y=!y);let C,k=!0,D=-1;do this.findNextPair(h,p,D),C=this.parseFoundFinderPattern(h,_,y),C==null?D=zt.getNextSecondBar(h,this.startEnd[0]):k=!1;while(k);let z=this.decodeDataCharacter(h,C,y,!0);if(!this.isEmptyPair(p)&&p[p.length-1].mustBeLast())throw new V;let Q;try{Q=this.decodeDataCharacter(h,C,y,!1)}catch(ce){Q=null,this.verbose&&console.log(ce)}return new Fa(z,Q,C,!0)}isEmptyPair(h){return h.length===0}findNextPair(h,p,_){let y=this.getDecodeFinderCounters();y[0]=0,y[1]=0,y[2]=0,y[3]=0;let C=h.getSize(),k;_>=0?k=_:this.isEmptyPair(p)?k=0:k=p[p.length-1].getFinderPattern().getStartEnd()[1];let D=p.length%2!=0;this.startFromEven&&(D=!D);let z=!1;for(;k<C&&(z=!h.get(k),!!z);)k++;let Q=0,ce=k;for(let Ce=k;Ce<C;Ce++)if(h.get(Ce)!=z)y[Q]++;else{if(Q==3){if(D&&zt.reverseCounters(y),zt.isFinderPattern(y)){this.startEnd[0]=ce,this.startEnd[1]=Ce;return}D&&zt.reverseCounters(y),ce+=y[0]+y[1],y[0]=y[2],y[1]=y[3],y[2]=0,y[3]=0,Q--}else Q++;y[Q]=1,z=!z}throw new V}static reverseCounters(h){let p=h.length;for(let _=0;_<p/2;++_){let y=h[_];h[_]=h[p-_-1],h[p-_-1]=y}}parseFoundFinderPattern(h,p,_){let y,C,k;if(_){let Q=this.startEnd[0]-1;for(;Q>=0&&!h.get(Q);)Q--;Q++,y=this.startEnd[0]-Q,C=Q,k=this.startEnd[1]}else C=this.startEnd[0],k=h.getNextUnset(this.startEnd[1]+1),y=k-this.startEnd[1];let D=this.getDecodeFinderCounters();j.arraycopy(D,0,D,1,D.length-1),D[0]=y;let z;try{z=this.parseFinderValue(D,zt.FINDER_PATTERNS)}catch{return null}return new Lt(z,[C,k],C,k,p)}decodeDataCharacter(h,p,_,y){let C=this.getDataCharacterCounters();for(let ir=0;ir<C.length;ir++)C[ir]=0;if(y)zt.recordPatternInReverse(h,p.getStartEnd()[0],C);else{zt.recordPattern(h,p.getStartEnd()[1],C);for(let ir=0,Ni=C.length-1;ir<Ni;ir++,Ni--){let no=C[ir];C[ir]=C[Ni],C[Ni]=no}}let k=17,D=Se.sum(new Int32Array(C))/k,z=(p.getStartEnd()[1]-p.getStartEnd()[0])/15;if(Math.abs(D-z)/z>.3)throw new V;let Q=this.getOddCounts(),ce=this.getEvenCounts(),Ce=this.getOddRoundingErrors(),ke=this.getEvenRoundingErrors();for(let ir=0;ir<C.length;ir++){let Ni=1*C[ir]/D,no=Ni+.5;if(no<1){if(Ni<.3)throw new V;no=1}else if(no>8){if(Ni>8.7)throw new V;no=8}let $l=ir/2;(ir&1)==0?(Q[$l]=no,Ce[$l]=Ni-no):(ce[$l]=no,ke[$l]=Ni-no)}this.adjustOddEvenCounts(k);let qe=4*p.getValue()+(_?0:2)+(y?0:1)-1,ot=0,lt=0;for(let ir=Q.length-1;ir>=0;ir--){if(zt.isNotA1left(p,_,y)){let Ni=zt.WEIGHTS[qe][2*ir];lt+=Q[ir]*Ni}ot+=Q[ir]}let Ct=0;for(let ir=ce.length-1;ir>=0;ir--)if(zt.isNotA1left(p,_,y)){let Ni=zt.WEIGHTS[qe][2*ir+1];Ct+=ce[ir]*Ni}let Bt=lt+Ct;if((ot&1)!=0||ot>13||ot<4)throw new V;let Cn=(13-ot)/2,In=zt.SYMBOL_WIDEST[Cn],xn=9-In,ea=on.getRSSvalue(Q,In,!0),Ks=on.getRSSvalue(ce,xn,!1),qi=zt.EVEN_TOTAL_SUBSET[Cn],wo=zt.GSUM[Cn],to=ea*qi+Ks+wo;return new Rt(to,Bt)}static isNotA1left(h,p,_){return!(h.getValue()==0&&p&&_)}adjustOddEvenCounts(h){let p=Se.sum(new Int32Array(this.getOddCounts())),_=Se.sum(new Int32Array(this.getEvenCounts())),y=!1,C=!1;p>13?C=!0:p<4&&(y=!0);let k=!1,D=!1;_>13?D=!0:_<4&&(k=!0);let z=p+_-h,Q=(p&1)==1,ce=(_&1)==0;if(z==1)if(Q){if(ce)throw new V;C=!0}else{if(!ce)throw new V;D=!0}else if(z==-1)if(Q){if(ce)throw new V;y=!0}else{if(!ce)throw new V;k=!0}else if(z==0){if(Q){if(!ce)throw new V;p<_?(y=!0,D=!0):(C=!0,k=!0)}else if(ce)throw new V}else throw new V;if(y){if(C)throw new V;zt.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(C&&zt.decrement(this.getOddCounts(),this.getOddRoundingErrors()),k){if(D)throw new V;zt.increment(this.getEvenCounts(),this.getOddRoundingErrors())}D&&zt.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}zt.SYMBOL_WIDEST=[7,5,4,3,1],zt.EVEN_TOTAL_SUBSET=[4,20,52,104,204],zt.GSUM=[0,348,1388,2948,3988],zt.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],zt.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],zt.FINDER_PAT_A=0,zt.FINDER_PAT_B=1,zt.FINDER_PAT_C=2,zt.FINDER_PAT_D=3,zt.FINDER_PAT_E=4,zt.FINDER_PAT_F=5,zt.FINDER_PATTERN_SEQUENCES=[[zt.FINDER_PAT_A,zt.FINDER_PAT_A],[zt.FINDER_PAT_A,zt.FINDER_PAT_B,zt.FINDER_PAT_B],[zt.FINDER_PAT_A,zt.FINDER_PAT_C,zt.FINDER_PAT_B,zt.FINDER_PAT_D],[zt.FINDER_PAT_A,zt.FINDER_PAT_E,zt.FINDER_PAT_B,zt.FINDER_PAT_D,zt.FINDER_PAT_C],[zt.FINDER_PAT_A,zt.FINDER_PAT_E,zt.FINDER_PAT_B,zt.FINDER_PAT_D,zt.FINDER_PAT_D,zt.FINDER_PAT_F],[zt.FINDER_PAT_A,zt.FINDER_PAT_E,zt.FINDER_PAT_B,zt.FINDER_PAT_D,zt.FINDER_PAT_E,zt.FINDER_PAT_F,zt.FINDER_PAT_F],[zt.FINDER_PAT_A,zt.FINDER_PAT_A,zt.FINDER_PAT_B,zt.FINDER_PAT_B,zt.FINDER_PAT_C,zt.FINDER_PAT_C,zt.FINDER_PAT_D,zt.FINDER_PAT_D],[zt.FINDER_PAT_A,zt.FINDER_PAT_A,zt.FINDER_PAT_B,zt.FINDER_PAT_B,zt.FINDER_PAT_C,zt.FINDER_PAT_C,zt.FINDER_PAT_D,zt.FINDER_PAT_E,zt.FINDER_PAT_E],[zt.FINDER_PAT_A,zt.FINDER_PAT_A,zt.FINDER_PAT_B,zt.FINDER_PAT_B,zt.FINDER_PAT_C,zt.FINDER_PAT_C,zt.FINDER_PAT_D,zt.FINDER_PAT_E,zt.FINDER_PAT_F,zt.FINDER_PAT_F],[zt.FINDER_PAT_A,zt.FINDER_PAT_A,zt.FINDER_PAT_B,zt.FINDER_PAT_B,zt.FINDER_PAT_C,zt.FINDER_PAT_D,zt.FINDER_PAT_D,zt.FINDER_PAT_E,zt.FINDER_PAT_E,zt.FINDER_PAT_F,zt.FINDER_PAT_F]],zt.MAX_PAIRS=11;class Kn extends Rt{constructor(h,p,_){super(h,p),this.count=0,this.finderPattern=_}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class Es extends nt{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(h,p,_){const y=this.decodePair(p,!1,h,_);Es.addOrTally(this.possibleLeftPairs,y),p.reverse();let C=this.decodePair(p,!0,h,_);Es.addOrTally(this.possibleRightPairs,C),p.reverse();for(let k of this.possibleLeftPairs)if(k.getCount()>1){for(let D of this.possibleRightPairs)if(D.getCount()>1&&Es.checkChecksum(k,D))return Es.constructResult(k,D)}throw new V}static addOrTally(h,p){if(p==null)return;let _=!1;for(let y of h)if(y.getValue()===p.getValue()){y.incrementCount(),_=!0;break}_||h.push(p)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(h,p){let _=4537077*h.getValue()+p.getValue(),y=new String(_).toString(),C=new te;for(let Q=13-y.length;Q>0;Q--)C.append("0");C.append(y);let k=0;for(let Q=0;Q<13;Q++){let ce=C.charAt(Q).charCodeAt(0)-48;k+=(Q&1)===0?3*ce:ce}k=10-k%10,k===10&&(k=0),C.append(k.toString());let D=h.getFinderPattern().getResultPoints(),z=p.getFinderPattern().getResultPoints();return new oe(C.toString(),null,0,[D[0],D[1],z[0],z[1]],ae.RSS_14,new Date().getTime())}static checkChecksum(h,p){let _=(h.getChecksumPortion()+16*p.getChecksumPortion())%79,y=9*h.getFinderPattern().getValue()+p.getFinderPattern().getValue();return y>72&&y--,y>8&&y--,_===y}decodePair(h,p,_,y){try{let C=this.findFinderPattern(h,p),k=this.parseFoundFinderPattern(h,_,p,C),D=y==null?null:y.get(R.NEED_RESULT_POINT_CALLBACK);if(D!=null){let ce=(C[0]+C[1])/2;p&&(ce=h.getSize()-1-ce),D.foundPossibleResultPoint(new Ee(ce,_))}let z=this.decodeDataCharacter(h,k,!0),Q=this.decodeDataCharacter(h,k,!1);return new Kn(1597*z.getValue()+Q.getValue(),z.getChecksumPortion()+4*Q.getChecksumPortion(),k)}catch{return null}}decodeDataCharacter(h,p,_){let y=this.getDataCharacterCounters();for(let Ct=0;Ct<y.length;Ct++)y[Ct]=0;if(_)Ae.recordPatternInReverse(h,p.getStartEnd()[0],y);else{Ae.recordPattern(h,p.getStartEnd()[1]+1,y);for(let Ct=0,Bt=y.length-1;Ct<Bt;Ct++,Bt--){let Cn=y[Ct];y[Ct]=y[Bt],y[Bt]=Cn}}let C=_?16:15,k=Se.sum(new Int32Array(y))/C,D=this.getOddCounts(),z=this.getEvenCounts(),Q=this.getOddRoundingErrors(),ce=this.getEvenRoundingErrors();for(let Ct=0;Ct<y.length;Ct++){let Bt=y[Ct]/k,Cn=Math.floor(Bt+.5);Cn<1?Cn=1:Cn>8&&(Cn=8);let In=Math.floor(Ct/2);(Ct&1)===0?(D[In]=Cn,Q[In]=Bt-Cn):(z[In]=Cn,ce[In]=Bt-Cn)}this.adjustOddEvenCounts(_,C);let Ce=0,ke=0;for(let Ct=D.length-1;Ct>=0;Ct--)ke*=9,ke+=D[Ct],Ce+=D[Ct];let qe=0,ot=0;for(let Ct=z.length-1;Ct>=0;Ct--)qe*=9,qe+=z[Ct],ot+=z[Ct];let lt=ke+3*qe;if(_){if((Ce&1)!==0||Ce>12||Ce<4)throw new V;let Ct=(12-Ce)/2,Bt=Es.OUTSIDE_ODD_WIDEST[Ct],Cn=9-Bt,In=on.getRSSvalue(D,Bt,!1),xn=on.getRSSvalue(z,Cn,!0),ea=Es.OUTSIDE_EVEN_TOTAL_SUBSET[Ct],Ks=Es.OUTSIDE_GSUM[Ct];return new Rt(In*ea+xn+Ks,lt)}else{if((ot&1)!==0||ot>10||ot<4)throw new V;let Ct=(10-ot)/2,Bt=Es.INSIDE_ODD_WIDEST[Ct],Cn=9-Bt,In=on.getRSSvalue(D,Bt,!0),xn=on.getRSSvalue(z,Cn,!1),ea=Es.INSIDE_ODD_TOTAL_SUBSET[Ct],Ks=Es.INSIDE_GSUM[Ct];return new Rt(xn*ea+In+Ks,lt)}}findFinderPattern(h,p){let _=this.getDecodeFinderCounters();_[0]=0,_[1]=0,_[2]=0,_[3]=0;let y=h.getSize(),C=!1,k=0;for(;k<y&&(C=!h.get(k),p!==C);)k++;let D=0,z=k;for(let Q=k;Q<y;Q++)if(h.get(Q)!==C)_[D]++;else{if(D===3){if(nt.isFinderPattern(_))return[z,Q];z+=_[0]+_[1],_[0]=_[2],_[1]=_[3],_[2]=0,_[3]=0,D--}else D++;_[D]=1,C=!C}throw new V}parseFoundFinderPattern(h,p,_,y){let C=h.get(y[0]),k=y[0]-1;for(;k>=0&&C!==h.get(k);)k--;k++;const D=y[0]-k,z=this.getDecodeFinderCounters(),Q=new Int32Array(z.length);j.arraycopy(z,0,Q,1,z.length-1),Q[0]=D;const ce=this.parseFinderValue(Q,Es.FINDER_PATTERNS);let Ce=k,ke=y[1];return _&&(Ce=h.getSize()-1-Ce,ke=h.getSize()-1-ke),new Lt(ce,[k,y[1]],Ce,ke,p)}adjustOddEvenCounts(h,p){let _=Se.sum(new Int32Array(this.getOddCounts())),y=Se.sum(new Int32Array(this.getEvenCounts())),C=!1,k=!1,D=!1,z=!1;h?(_>12?k=!0:_<4&&(C=!0),y>12?z=!0:y<4&&(D=!0)):(_>11?k=!0:_<5&&(C=!0),y>10?z=!0:y<4&&(D=!0));let Q=_+y-p,ce=(_&1)===(h?1:0),Ce=(y&1)===1;if(Q===1)if(ce){if(Ce)throw new V;k=!0}else{if(!Ce)throw new V;z=!0}else if(Q===-1)if(ce){if(Ce)throw new V;C=!0}else{if(!Ce)throw new V;D=!0}else if(Q===0){if(ce){if(!Ce)throw new V;_<y?(C=!0,z=!0):(k=!0,D=!0)}else if(Ce)throw new V}else throw new V;if(C){if(k)throw new V;nt.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(k&&nt.decrement(this.getOddCounts(),this.getOddRoundingErrors()),D){if(z)throw new V;nt.increment(this.getEvenCounts(),this.getOddRoundingErrors())}z&&nt.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}Es.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],Es.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],Es.OUTSIDE_GSUM=[0,161,961,2015,2715],Es.INSIDE_GSUM=[0,336,1036,1516],Es.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],Es.INSIDE_ODD_WIDEST=[2,4,6,8],Es.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class er extends Ae{constructor(h,p){super(),this.readers=[],this.verbose=p===!0;const _=h?h.get(R.POSSIBLE_FORMATS):null,y=h&&h.get(R.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;_?((_.includes(ae.EAN_13)||_.includes(ae.UPC_A)||_.includes(ae.EAN_8)||_.includes(ae.UPC_E))&&this.readers.push(new Et(h)),_.includes(ae.CODE_39)&&this.readers.push(new We(y)),_.includes(ae.CODE_128)&&this.readers.push(new be),_.includes(ae.ITF)&&this.readers.push(new st),_.includes(ae.RSS_14)&&this.readers.push(new Es),_.includes(ae.RSS_EXPANDED)&&this.readers.push(new zt(this.verbose))):(this.readers.push(new Et(h)),this.readers.push(new We),this.readers.push(new Et(h)),this.readers.push(new be),this.readers.push(new st),this.readers.push(new Es),this.readers.push(new zt(this.verbose)))}decodeRow(h,p,_){for(let y=0;y<this.readers.length;y++)try{return this.readers[y].decodeRow(h,p,_)}catch{}throw new V}reset(){this.readers.forEach(h=>h.reset())}}class Ia extends G{constructor(h=500,p){super(new er(p),h,p)}}class ys{constructor(h,p,_){this.ecCodewords=h,this.ecBlocks=[p],_&&this.ecBlocks.push(_)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class ks{constructor(h,p){this.count=h,this.dataCodewords=p}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class is{constructor(h,p,_,y,C,k){this.versionNumber=h,this.symbolSizeRows=p,this.symbolSizeColumns=_,this.dataRegionSizeRows=y,this.dataRegionSizeColumns=C,this.ecBlocks=k;let D=0;const z=k.getECCodewords(),Q=k.getECBlocks();for(let ce of Q)D+=ce.getCount()*(ce.getDataCodewords()+z);this.totalCodewords=D}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(h,p){if((h&1)!==0||(p&1)!==0)throw new $;for(let _ of is.VERSIONS)if(_.symbolSizeRows===h&&_.symbolSizeColumns===p)return _;throw new $}toString(){return""+this.versionNumber}static buildVersions(){return[new is(1,10,10,8,8,new ys(5,new ks(1,3))),new is(2,12,12,10,10,new ys(7,new ks(1,5))),new is(3,14,14,12,12,new ys(10,new ks(1,8))),new is(4,16,16,14,14,new ys(12,new ks(1,12))),new is(5,18,18,16,16,new ys(14,new ks(1,18))),new is(6,20,20,18,18,new ys(18,new ks(1,22))),new is(7,22,22,20,20,new ys(20,new ks(1,30))),new is(8,24,24,22,22,new ys(24,new ks(1,36))),new is(9,26,26,24,24,new ys(28,new ks(1,44))),new is(10,32,32,14,14,new ys(36,new ks(1,62))),new is(11,36,36,16,16,new ys(42,new ks(1,86))),new is(12,40,40,18,18,new ys(48,new ks(1,114))),new is(13,44,44,20,20,new ys(56,new ks(1,144))),new is(14,48,48,22,22,new ys(68,new ks(1,174))),new is(15,52,52,24,24,new ys(42,new ks(2,102))),new is(16,64,64,14,14,new ys(56,new ks(2,140))),new is(17,72,72,16,16,new ys(36,new ks(4,92))),new is(18,80,80,18,18,new ys(48,new ks(4,114))),new is(19,88,88,20,20,new ys(56,new ks(4,144))),new is(20,96,96,22,22,new ys(68,new ks(4,174))),new is(21,104,104,24,24,new ys(56,new ks(6,136))),new is(22,120,120,18,18,new ys(68,new ks(6,175))),new is(23,132,132,20,20,new ys(62,new ks(8,163))),new is(24,144,144,22,22,new ys(62,new ks(8,156),new ks(2,155))),new is(25,8,18,6,16,new ys(7,new ks(1,5))),new is(26,8,32,6,14,new ys(11,new ks(1,10))),new is(27,12,26,10,24,new ys(14,new ks(1,16))),new is(28,12,36,10,16,new ys(18,new ks(1,22))),new is(29,16,36,14,16,new ys(24,new ks(1,32))),new is(30,16,48,14,22,new ys(28,new ks(1,49)))]}}is.VERSIONS=is.buildVersions();class La{constructor(h){const p=h.getHeight();if(p<8||p>144||(p&1)!==0)throw new $;this.version=La.readVersion(h),this.mappingBitMatrix=this.extractDataRegion(h),this.readMappingMatrix=new se(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(h){const p=h.getHeight(),_=h.getWidth();return is.getVersionForDimensions(p,_)}readCodewords(){const h=new Int8Array(this.version.getTotalCodewords());let p=0,_=4,y=0;const C=this.mappingBitMatrix.getHeight(),k=this.mappingBitMatrix.getWidth();let D=!1,z=!1,Q=!1,ce=!1;do if(_===C&&y===0&&!D)h[p++]=this.readCorner1(C,k)&255,_-=2,y+=2,D=!0;else if(_===C-2&&y===0&&(k&3)!==0&&!z)h[p++]=this.readCorner2(C,k)&255,_-=2,y+=2,z=!0;else if(_===C+4&&y===2&&(k&7)===0&&!Q)h[p++]=this.readCorner3(C,k)&255,_-=2,y+=2,Q=!0;else if(_===C-2&&y===0&&(k&7)===4&&!ce)h[p++]=this.readCorner4(C,k)&255,_-=2,y+=2,ce=!0;else{do _<C&&y>=0&&!this.readMappingMatrix.get(y,_)&&(h[p++]=this.readUtah(_,y,C,k)&255),_-=2,y+=2;while(_>=0&&y<k);_+=1,y+=3;do _>=0&&y<k&&!this.readMappingMatrix.get(y,_)&&(h[p++]=this.readUtah(_,y,C,k)&255),_+=2,y-=2;while(_<C&&y>=0);_+=3,y+=1}while(_<C||y<k);if(p!==this.version.getTotalCodewords())throw new $;return h}readModule(h,p,_,y){return h<0&&(h+=_,p+=4-(_+4&7)),p<0&&(p+=y,h+=4-(y+4&7)),this.readMappingMatrix.set(p,h),this.mappingBitMatrix.get(p,h)}readUtah(h,p,_,y){let C=0;return this.readModule(h-2,p-2,_,y)&&(C|=1),C<<=1,this.readModule(h-2,p-1,_,y)&&(C|=1),C<<=1,this.readModule(h-1,p-2,_,y)&&(C|=1),C<<=1,this.readModule(h-1,p-1,_,y)&&(C|=1),C<<=1,this.readModule(h-1,p,_,y)&&(C|=1),C<<=1,this.readModule(h,p-2,_,y)&&(C|=1),C<<=1,this.readModule(h,p-1,_,y)&&(C|=1),C<<=1,this.readModule(h,p,_,y)&&(C|=1),C}readCorner1(h,p){let _=0;return this.readModule(h-1,0,h,p)&&(_|=1),_<<=1,this.readModule(h-1,1,h,p)&&(_|=1),_<<=1,this.readModule(h-1,2,h,p)&&(_|=1),_<<=1,this.readModule(0,p-2,h,p)&&(_|=1),_<<=1,this.readModule(0,p-1,h,p)&&(_|=1),_<<=1,this.readModule(1,p-1,h,p)&&(_|=1),_<<=1,this.readModule(2,p-1,h,p)&&(_|=1),_<<=1,this.readModule(3,p-1,h,p)&&(_|=1),_}readCorner2(h,p){let _=0;return this.readModule(h-3,0,h,p)&&(_|=1),_<<=1,this.readModule(h-2,0,h,p)&&(_|=1),_<<=1,this.readModule(h-1,0,h,p)&&(_|=1),_<<=1,this.readModule(0,p-4,h,p)&&(_|=1),_<<=1,this.readModule(0,p-3,h,p)&&(_|=1),_<<=1,this.readModule(0,p-2,h,p)&&(_|=1),_<<=1,this.readModule(0,p-1,h,p)&&(_|=1),_<<=1,this.readModule(1,p-1,h,p)&&(_|=1),_}readCorner3(h,p){let _=0;return this.readModule(h-1,0,h,p)&&(_|=1),_<<=1,this.readModule(h-1,p-1,h,p)&&(_|=1),_<<=1,this.readModule(0,p-3,h,p)&&(_|=1),_<<=1,this.readModule(0,p-2,h,p)&&(_|=1),_<<=1,this.readModule(0,p-1,h,p)&&(_|=1),_<<=1,this.readModule(1,p-3,h,p)&&(_|=1),_<<=1,this.readModule(1,p-2,h,p)&&(_|=1),_<<=1,this.readModule(1,p-1,h,p)&&(_|=1),_}readCorner4(h,p){let _=0;return this.readModule(h-3,0,h,p)&&(_|=1),_<<=1,this.readModule(h-2,0,h,p)&&(_|=1),_<<=1,this.readModule(h-1,0,h,p)&&(_|=1),_<<=1,this.readModule(0,p-2,h,p)&&(_|=1),_<<=1,this.readModule(0,p-1,h,p)&&(_|=1),_<<=1,this.readModule(1,p-1,h,p)&&(_|=1),_<<=1,this.readModule(2,p-1,h,p)&&(_|=1),_<<=1,this.readModule(3,p-1,h,p)&&(_|=1),_}extractDataRegion(h){const p=this.version.getSymbolSizeRows(),_=this.version.getSymbolSizeColumns();if(h.getHeight()!==p)throw new g("Dimension of bitMatrix must match the version size");const y=this.version.getDataRegionSizeRows(),C=this.version.getDataRegionSizeColumns(),k=p/y|0,D=_/C|0,z=k*y,Q=D*C,ce=new se(Q,z);for(let Ce=0;Ce<k;++Ce){const ke=Ce*y;for(let qe=0;qe<D;++qe){const ot=qe*C;for(let lt=0;lt<y;++lt){const Ct=Ce*(y+2)+1+lt,Bt=ke+lt;for(let Cn=0;Cn<C;++Cn){const In=qe*(C+2)+1+Cn;if(h.get(In,Ct)){const xn=ot+Cn;ce.set(xn,Bt)}}}}}return ce}}class os{constructor(h,p){this.numDataCodewords=h,this.codewords=p}static getDataBlocks(h,p){const _=p.getECBlocks();let y=0;const C=_.getECBlocks();for(let lt of C)y+=lt.getCount();const k=new Array(y);let D=0;for(let lt of C)for(let Ct=0;Ct<lt.getCount();Ct++){const Bt=lt.getDataCodewords(),Cn=_.getECCodewords()+Bt;k[D++]=new os(Bt,new Uint8Array(Cn))}const Q=k[0].codewords.length-_.getECCodewords(),ce=Q-1;let Ce=0;for(let lt=0;lt<ce;lt++)for(let Ct=0;Ct<D;Ct++)k[Ct].codewords[lt]=h[Ce++];const ke=p.getVersionNumber()===24,qe=ke?8:D;for(let lt=0;lt<qe;lt++)k[lt].codewords[Q-1]=h[Ce++];const ot=k[0].codewords.length;for(let lt=Q;lt<ot;lt++)for(let Ct=0;Ct<D;Ct++){const Bt=ke?(Ct+8)%D:Ct,Cn=ke&&Bt>7?lt-1:lt;k[Bt].codewords[Cn]=h[Ce++]}if(Ce!==h.length)throw new g;return k}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class ta{constructor(h){this.bytes=h,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(h){if(h<1||h>32||h>this.available())throw new g(""+h);let p=0,_=this.bitOffset,y=this.byteOffset;const C=this.bytes;if(_>0){const k=8-_,D=h<k?h:k,z=k-D,Q=255>>8-D<<z;p=(C[y]&Q)>>z,h-=D,_+=D,_===8&&(_=0,y++)}if(h>0){for(;h>=8;)p=p<<8|C[y]&255,y++,h-=8;if(h>0){const k=8-h,D=255>>k<<k;p=p<<h|(C[y]&D)>>k,_+=h}}return this.bitOffset=_,this.byteOffset=y,p}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var Ws;(function(we){we[we.PAD_ENCODE=0]="PAD_ENCODE",we[we.ASCII_ENCODE=1]="ASCII_ENCODE",we[we.C40_ENCODE=2]="C40_ENCODE",we[we.TEXT_ENCODE=3]="TEXT_ENCODE",we[we.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",we[we.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",we[we.BASE256_ENCODE=6]="BASE256_ENCODE"})(Ws||(Ws={}));class Qs{static decode(h){const p=new ta(h),_=new te,y=new te,C=new Array;let k=Ws.ASCII_ENCODE;do if(k===Ws.ASCII_ENCODE)k=this.decodeAsciiSegment(p,_,y);else{switch(k){case Ws.C40_ENCODE:this.decodeC40Segment(p,_);break;case Ws.TEXT_ENCODE:this.decodeTextSegment(p,_);break;case Ws.ANSIX12_ENCODE:this.decodeAnsiX12Segment(p,_);break;case Ws.EDIFACT_ENCODE:this.decodeEdifactSegment(p,_);break;case Ws.BASE256_ENCODE:this.decodeBase256Segment(p,_,C);break;default:throw new $}k=Ws.ASCII_ENCODE}while(k!==Ws.PAD_ENCODE&&p.available()>0);return y.length()>0&&_.append(y.toString()),new he(h,_.toString(),C.length===0?null:C,null)}static decodeAsciiSegment(h,p,_){let y=!1;do{let C=h.readBits(8);if(C===0)throw new $;if(C<=128)return y&&(C+=128),p.append(String.fromCharCode(C-1)),Ws.ASCII_ENCODE;if(C===129)return Ws.PAD_ENCODE;if(C<=229){const k=C-130;k<10&&p.append("0"),p.append(""+k)}else switch(C){case 230:return Ws.C40_ENCODE;case 231:return Ws.BASE256_ENCODE;case 232:p.append("");break;case 233:case 234:break;case 235:y=!0;break;case 236:p.append("[)>05"),_.insert(0,"");break;case 237:p.append("[)>06"),_.insert(0,"");break;case 238:return Ws.ANSIX12_ENCODE;case 239:return Ws.TEXT_ENCODE;case 240:return Ws.EDIFACT_ENCODE;case 241:break;default:if(C!==254||h.available()!==0)throw new $;break}}while(h.available()>0);return Ws.ASCII_ENCODE}static decodeC40Segment(h,p){let _=!1;const y=[];let C=0;do{if(h.available()===8)return;const k=h.readBits(8);if(k===254)return;this.parseTwoBytes(k,h.readBits(8),y);for(let D=0;D<3;D++){const z=y[D];switch(C){case 0:if(z<3)C=z+1;else if(z<this.C40_BASIC_SET_CHARS.length){const Q=this.C40_BASIC_SET_CHARS[z];_?(p.append(String.fromCharCode(Q.charCodeAt(0)+128)),_=!1):p.append(Q)}else throw new $;break;case 1:_?(p.append(String.fromCharCode(z+128)),_=!1):p.append(String.fromCharCode(z)),C=0;break;case 2:if(z<this.C40_SHIFT2_SET_CHARS.length){const Q=this.C40_SHIFT2_SET_CHARS[z];_?(p.append(String.fromCharCode(Q.charCodeAt(0)+128)),_=!1):p.append(Q)}else switch(z){case 27:p.append("");break;case 30:_=!0;break;default:throw new $}C=0;break;case 3:_?(p.append(String.fromCharCode(z+224)),_=!1):p.append(String.fromCharCode(z+96)),C=0;break;default:throw new $}}}while(h.available()>0)}static decodeTextSegment(h,p){let _=!1,y=[],C=0;do{if(h.available()===8)return;const k=h.readBits(8);if(k===254)return;this.parseTwoBytes(k,h.readBits(8),y);for(let D=0;D<3;D++){const z=y[D];switch(C){case 0:if(z<3)C=z+1;else if(z<this.TEXT_BASIC_SET_CHARS.length){const Q=this.TEXT_BASIC_SET_CHARS[z];_?(p.append(String.fromCharCode(Q.charCodeAt(0)+128)),_=!1):p.append(Q)}else throw new $;break;case 1:_?(p.append(String.fromCharCode(z+128)),_=!1):p.append(String.fromCharCode(z)),C=0;break;case 2:if(z<this.TEXT_SHIFT2_SET_CHARS.length){const Q=this.TEXT_SHIFT2_SET_CHARS[z];_?(p.append(String.fromCharCode(Q.charCodeAt(0)+128)),_=!1):p.append(Q)}else switch(z){case 27:p.append("");break;case 30:_=!0;break;default:throw new $}C=0;break;case 3:if(z<this.TEXT_SHIFT3_SET_CHARS.length){const Q=this.TEXT_SHIFT3_SET_CHARS[z];_?(p.append(String.fromCharCode(Q.charCodeAt(0)+128)),_=!1):p.append(Q),C=0}else throw new $;break;default:throw new $}}}while(h.available()>0)}static decodeAnsiX12Segment(h,p){const _=[];do{if(h.available()===8)return;const y=h.readBits(8);if(y===254)return;this.parseTwoBytes(y,h.readBits(8),_);for(let C=0;C<3;C++){const k=_[C];switch(k){case 0:p.append("\r");break;case 1:p.append("*");break;case 2:p.append(">");break;case 3:p.append(" ");break;default:if(k<14)p.append(String.fromCharCode(k+44));else if(k<40)p.append(String.fromCharCode(k+51));else throw new $;break}}}while(h.available()>0)}static parseTwoBytes(h,p,_){let y=(h<<8)+p-1,C=Math.floor(y/1600);_[0]=C,y-=C*1600,C=Math.floor(y/40),_[1]=C,_[2]=y-C*40}static decodeEdifactSegment(h,p){do{if(h.available()<=16)return;for(let _=0;_<4;_++){let y=h.readBits(6);if(y===31){const C=8-h.getBitOffset();C!==8&&h.readBits(C);return}(y&32)===0&&(y|=64),p.append(String.fromCharCode(y))}}while(h.available()>0)}static decodeBase256Segment(h,p,_){let y=1+h.getByteOffset();const C=this.unrandomize255State(h.readBits(8),y++);let k;if(C===0?k=h.available()/8|0:C<250?k=C:k=250*(C-249)+this.unrandomize255State(h.readBits(8),y++),k<0)throw new $;const D=new Uint8Array(k);for(let z=0;z<k;z++){if(h.available()<8)throw new $;D[z]=this.unrandomize255State(h.readBits(8),y++)}_.push(D);try{p.append(ne.decode(D,X.ISO88591))}catch(z){throw new de("Platform does not support required encoding: "+z.message)}}static unrandomize255State(h,p){const _=149*p%255+1,y=h-_;return y>=0?y:y+256}}Qs.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],Qs.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],Qs.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],Qs.TEXT_SHIFT2_SET_CHARS=Qs.C40_SHIFT2_SET_CHARS,Qs.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class fr{constructor(){this.rsDecoder=new fe(Ie.DATA_MATRIX_FIELD_256)}decode(h){const p=new La(h),_=p.getVersion(),y=p.readCodewords(),C=os.getDataBlocks(y,_);let k=0;for(let Q of C)k+=Q.getNumDataCodewords();const D=new Uint8Array(k),z=C.length;for(let Q=0;Q<z;Q++){const ce=C[Q],Ce=ce.getCodewords(),ke=ce.getNumDataCodewords();this.correctErrors(Ce,ke);for(let qe=0;qe<ke;qe++)D[qe*z+Q]=Ce[qe]}return Qs.decode(D)}correctErrors(h,p){const _=new Int32Array(h);try{this.rsDecoder.decode(_,h.length-p)}catch{throw new w}for(let y=0;y<p;y++)h[y]=_[y]}}class qs{constructor(h){this.image=h,this.rectangleDetector=new Ne(this.image)}detect(){const h=this.rectangleDetector.detect();let p=this.detectSolid1(h);if(p=this.detectSolid2(p),p[3]=this.correctTopRight(p),!p[3])throw new V;p=this.shiftToModuleCenter(p);const _=p[0],y=p[1],C=p[2],k=p[3];let D=this.transitionsBetween(_,k)+1,z=this.transitionsBetween(C,k)+1;(D&1)===1&&(D+=1),(z&1)===1&&(z+=1),4*D<7*z&&4*z<7*D&&(D=z=Math.max(D,z));let Q=qs.sampleGrid(this.image,_,y,C,k,D,z);return new Le(Q,[_,y,C,k])}static shiftPoint(h,p,_){let y=(p.getX()-h.getX())/(_+1),C=(p.getY()-h.getY())/(_+1);return new Ee(h.getX()+y,h.getY()+C)}static moveAway(h,p,_){let y=h.getX(),C=h.getY();return y<p?y-=1:y+=1,C<_?C-=1:C+=1,new Ee(y,C)}detectSolid1(h){let p=h[0],_=h[1],y=h[3],C=h[2],k=this.transitionsBetween(p,_),D=this.transitionsBetween(_,y),z=this.transitionsBetween(y,C),Q=this.transitionsBetween(C,p),ce=k,Ce=[C,p,_,y];return ce>D&&(ce=D,Ce[0]=p,Ce[1]=_,Ce[2]=y,Ce[3]=C),ce>z&&(ce=z,Ce[0]=_,Ce[1]=y,Ce[2]=C,Ce[3]=p),ce>Q&&(Ce[0]=y,Ce[1]=C,Ce[2]=p,Ce[3]=_),Ce}detectSolid2(h){let p=h[0],_=h[1],y=h[2],C=h[3],k=this.transitionsBetween(p,C),D=qs.shiftPoint(_,y,(k+1)*4),z=qs.shiftPoint(y,_,(k+1)*4),Q=this.transitionsBetween(D,p),ce=this.transitionsBetween(z,C);return Q<ce?(h[0]=p,h[1]=_,h[2]=y,h[3]=C):(h[0]=_,h[1]=y,h[2]=C,h[3]=p),h}correctTopRight(h){let p=h[0],_=h[1],y=h[2],C=h[3],k=this.transitionsBetween(p,C),D=this.transitionsBetween(_,C),z=qs.shiftPoint(p,_,(D+1)*4),Q=qs.shiftPoint(y,_,(k+1)*4);k=this.transitionsBetween(z,C),D=this.transitionsBetween(Q,C);let ce=new Ee(C.getX()+(y.getX()-_.getX())/(k+1),C.getY()+(y.getY()-_.getY())/(k+1)),Ce=new Ee(C.getX()+(p.getX()-_.getX())/(D+1),C.getY()+(p.getY()-_.getY())/(D+1));if(!this.isValid(ce))return this.isValid(Ce)?Ce:null;if(!this.isValid(Ce))return ce;let ke=this.transitionsBetween(z,ce)+this.transitionsBetween(Q,ce),qe=this.transitionsBetween(z,Ce)+this.transitionsBetween(Q,Ce);return ke>qe?ce:Ce}shiftToModuleCenter(h){let p=h[0],_=h[1],y=h[2],C=h[3],k=this.transitionsBetween(p,C)+1,D=this.transitionsBetween(y,C)+1,z=qs.shiftPoint(p,_,D*4),Q=qs.shiftPoint(y,_,k*4);k=this.transitionsBetween(z,C)+1,D=this.transitionsBetween(Q,C)+1,(k&1)===1&&(k+=1),(D&1)===1&&(D+=1);let ce=(p.getX()+_.getX()+y.getX()+C.getX())/4,Ce=(p.getY()+_.getY()+y.getY()+C.getY())/4;p=qs.moveAway(p,ce,Ce),_=qs.moveAway(_,ce,Ce),y=qs.moveAway(y,ce,Ce),C=qs.moveAway(C,ce,Ce);let ke,qe;return z=qs.shiftPoint(p,_,D*4),z=qs.shiftPoint(z,C,k*4),ke=qs.shiftPoint(_,p,D*4),ke=qs.shiftPoint(ke,y,k*4),Q=qs.shiftPoint(y,C,D*4),Q=qs.shiftPoint(Q,_,k*4),qe=qs.shiftPoint(C,y,D*4),qe=qs.shiftPoint(qe,p,k*4),[z,ke,Q,qe]}isValid(h){return h.getX()>=0&&h.getX()<this.image.getWidth()&&h.getY()>0&&h.getY()<this.image.getHeight()}static sampleGrid(h,p,_,y,C,k,D){return tt.getInstance().sampleGrid(h,k,D,.5,.5,k-.5,.5,k-.5,D-.5,.5,D-.5,p.getX(),p.getY(),C.getX(),C.getY(),y.getX(),y.getY(),_.getX(),_.getY())}transitionsBetween(h,p){let _=Math.trunc(h.getX()),y=Math.trunc(h.getY()),C=Math.trunc(p.getX()),k=Math.trunc(p.getY()),D=Math.abs(k-y)>Math.abs(C-_);if(D){let lt=_;_=y,y=lt,lt=C,C=k,k=lt}let z=Math.abs(C-_),Q=Math.abs(k-y),ce=-z/2,Ce=y<k?1:-1,ke=_<C?1:-1,qe=0,ot=this.image.get(D?y:_,D?_:y);for(let lt=_,Ct=y;lt!==C;lt+=ke){let Bt=this.image.get(D?Ct:lt,D?lt:Ct);if(Bt!==ot&&(qe++,ot=Bt),ce+=Q,ce>0){if(Ct===k)break;Ct+=Ce,ce-=z}}return qe}}class Ga{constructor(){this.decoder=new fr}decode(h,p=null){let _,y;if(p!=null&&p.has(R.PURE_BARCODE)){const Q=Ga.extractPureBits(h.getBlackMatrix());_=this.decoder.decode(Q),y=Ga.NO_POINTS}else{const Q=new qs(h.getBlackMatrix()).detect();_=this.decoder.decode(Q.getBits()),y=Q.getPoints()}const C=_.getRawBytes(),k=new oe(_.getText(),C,8*C.length,y,ae.DATA_MATRIX,j.currentTimeMillis()),D=_.getByteSegments();D!=null&&k.putMetadata(ue.BYTE_SEGMENTS,D);const z=_.getECLevel();return z!=null&&k.putMetadata(ue.ERROR_CORRECTION_LEVEL,z),k}reset(){}static extractPureBits(h){const p=h.getTopLeftOnBit(),_=h.getBottomRightOnBit();if(p==null||_==null)throw new V;const y=this.moduleSize(p,h);let C=p[1];const k=_[1];let D=p[0];const Q=(_[0]-D+1)/y,ce=(k-C+1)/y;if(Q<=0||ce<=0)throw new V;const Ce=y/2;C+=Ce,D+=Ce;const ke=new se(Q,ce);for(let qe=0;qe<ce;qe++){const ot=C+qe*y;for(let lt=0;lt<Q;lt++)h.get(D+lt*y,ot)&&ke.set(lt,qe)}return ke}static moduleSize(h,p){const _=p.getWidth();let y=h[0];const C=h[1];for(;y<_&&p.get(y,C);)y++;if(y===_)throw new V;const k=y-h[0];if(k===0)throw new V;return k}}Ga.NO_POINTS=[];class _i extends G{constructor(h=500){super(new Ga,h)}}var na;(function(we){we[we.L=0]="L",we[we.M=1]="M",we[we.Q=2]="Q",we[we.H=3]="H"})(na||(na={}));class As{constructor(h,p,_){this.value=h,this.stringValue=p,this.bits=_,As.FOR_BITS.set(_,this),As.FOR_VALUE.set(h,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(h){switch(h){case"L":return As.L;case"M":return As.M;case"Q":return As.Q;case"H":return As.H;default:throw new f(h+"not available")}}toString(){return this.stringValue}equals(h){if(!(h instanceof As))return!1;const p=h;return this.value===p.value}static forBits(h){if(h<0||h>=As.FOR_BITS.size)throw new g;return As.FOR_BITS.get(h)}}As.FOR_BITS=new Map,As.FOR_VALUE=new Map,As.L=new As(na.L,"L",1),As.M=new As(na.M,"M",0),As.Q=new As(na.Q,"Q",3),As.H=new As(na.H,"H",2);class Fn{constructor(h){this.errorCorrectionLevel=As.forBits(h>>3&3),this.dataMask=h&7}static numBitsDiffering(h,p){return B.bitCount(h^p)}static decodeFormatInformation(h,p){const _=Fn.doDecodeFormatInformation(h,p);return _!==null?_:Fn.doDecodeFormatInformation(h^Fn.FORMAT_INFO_MASK_QR,p^Fn.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(h,p){let _=Number.MAX_SAFE_INTEGER,y=0;for(const C of Fn.FORMAT_INFO_DECODE_LOOKUP){const k=C[0];if(k===h||k===p)return new Fn(C[1]);let D=Fn.numBitsDiffering(h,k);D<_&&(y=C[1],_=D),h!==p&&(D=Fn.numBitsDiffering(p,k),D<_&&(y=C[1],_=D))}return _<=3?new Fn(y):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(h){if(!(h instanceof Fn))return!1;const p=h;return this.errorCorrectionLevel===p.errorCorrectionLevel&&this.dataMask===p.dataMask}}Fn.FORMAT_INFO_MASK_QR=21522,Fn.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class rt{constructor(h,...p){this.ecCodewordsPerBlock=h,this.ecBlocks=p}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let h=0;const p=this.ecBlocks;for(const _ of p)h+=_.getCount();return h}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class Be{constructor(h,p){this.count=h,this.dataCodewords=p}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Ye{constructor(h,p,..._){this.versionNumber=h,this.alignmentPatternCenters=p,this.ecBlocks=_;let y=0;const C=_[0].getECCodewordsPerBlock(),k=_[0].getECBlocks();for(const D of k)y+=D.getCount()*(D.getDataCodewords()+C);this.totalCodewords=y}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(h){return this.ecBlocks[h.getValue()]}static getProvisionalVersionForDimension(h){if(h%4!==1)throw new $;try{return this.getVersionForNumber((h-17)/4)}catch{throw new $}}static getVersionForNumber(h){if(h<1||h>40)throw new g;return Ye.VERSIONS[h-1]}static decodeVersionInformation(h){let p=Number.MAX_SAFE_INTEGER,_=0;for(let y=0;y<Ye.VERSION_DECODE_INFO.length;y++){const C=Ye.VERSION_DECODE_INFO[y];if(C===h)return Ye.getVersionForNumber(y+7);const k=Fn.numBitsDiffering(h,C);k<p&&(_=y+7,p=k)}return p<=3?Ye.getVersionForNumber(_):null}buildFunctionPattern(){const h=this.getDimensionForVersion(),p=new se(h);p.setRegion(0,0,9,9),p.setRegion(h-8,0,8,9),p.setRegion(0,h-8,9,8);const _=this.alignmentPatternCenters.length;for(let y=0;y<_;y++){const C=this.alignmentPatternCenters[y]-2;for(let k=0;k<_;k++)y===0&&(k===0||k===_-1)||y===_-1&&k===0||p.setRegion(this.alignmentPatternCenters[k]-2,C,5,5)}return p.setRegion(6,9,1,h-17),p.setRegion(9,6,h-17,1),this.versionNumber>6&&(p.setRegion(h-11,0,3,6),p.setRegion(0,h-11,6,3)),p}toString(){return""+this.versionNumber}}Ye.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),Ye.VERSIONS=[new Ye(1,new Int32Array(0),new rt(7,new Be(1,19)),new rt(10,new Be(1,16)),new rt(13,new Be(1,13)),new rt(17,new Be(1,9))),new Ye(2,Int32Array.from([6,18]),new rt(10,new Be(1,34)),new rt(16,new Be(1,28)),new rt(22,new Be(1,22)),new rt(28,new Be(1,16))),new Ye(3,Int32Array.from([6,22]),new rt(15,new Be(1,55)),new rt(26,new Be(1,44)),new rt(18,new Be(2,17)),new rt(22,new Be(2,13))),new Ye(4,Int32Array.from([6,26]),new rt(20,new Be(1,80)),new rt(18,new Be(2,32)),new rt(26,new Be(2,24)),new rt(16,new Be(4,9))),new Ye(5,Int32Array.from([6,30]),new rt(26,new Be(1,108)),new rt(24,new Be(2,43)),new rt(18,new Be(2,15),new Be(2,16)),new rt(22,new Be(2,11),new Be(2,12))),new Ye(6,Int32Array.from([6,34]),new rt(18,new Be(2,68)),new rt(16,new Be(4,27)),new rt(24,new Be(4,19)),new rt(28,new Be(4,15))),new Ye(7,Int32Array.from([6,22,38]),new rt(20,new Be(2,78)),new rt(18,new Be(4,31)),new rt(18,new Be(2,14),new Be(4,15)),new rt(26,new Be(4,13),new Be(1,14))),new Ye(8,Int32Array.from([6,24,42]),new rt(24,new Be(2,97)),new rt(22,new Be(2,38),new Be(2,39)),new rt(22,new Be(4,18),new Be(2,19)),new rt(26,new Be(4,14),new Be(2,15))),new Ye(9,Int32Array.from([6,26,46]),new rt(30,new Be(2,116)),new rt(22,new Be(3,36),new Be(2,37)),new rt(20,new Be(4,16),new Be(4,17)),new rt(24,new Be(4,12),new Be(4,13))),new Ye(10,Int32Array.from([6,28,50]),new rt(18,new Be(2,68),new Be(2,69)),new rt(26,new Be(4,43),new Be(1,44)),new rt(24,new Be(6,19),new Be(2,20)),new rt(28,new Be(6,15),new Be(2,16))),new Ye(11,Int32Array.from([6,30,54]),new rt(20,new Be(4,81)),new rt(30,new Be(1,50),new Be(4,51)),new rt(28,new Be(4,22),new Be(4,23)),new rt(24,new Be(3,12),new Be(8,13))),new Ye(12,Int32Array.from([6,32,58]),new rt(24,new Be(2,92),new Be(2,93)),new rt(22,new Be(6,36),new Be(2,37)),new rt(26,new Be(4,20),new Be(6,21)),new rt(28,new Be(7,14),new Be(4,15))),new Ye(13,Int32Array.from([6,34,62]),new rt(26,new Be(4,107)),new rt(22,new Be(8,37),new Be(1,38)),new rt(24,new Be(8,20),new Be(4,21)),new rt(22,new Be(12,11),new Be(4,12))),new Ye(14,Int32Array.from([6,26,46,66]),new rt(30,new Be(3,115),new Be(1,116)),new rt(24,new Be(4,40),new Be(5,41)),new rt(20,new Be(11,16),new Be(5,17)),new rt(24,new Be(11,12),new Be(5,13))),new Ye(15,Int32Array.from([6,26,48,70]),new rt(22,new Be(5,87),new Be(1,88)),new rt(24,new Be(5,41),new Be(5,42)),new rt(30,new Be(5,24),new Be(7,25)),new rt(24,new Be(11,12),new Be(7,13))),new Ye(16,Int32Array.from([6,26,50,74]),new rt(24,new Be(5,98),new Be(1,99)),new rt(28,new Be(7,45),new Be(3,46)),new rt(24,new Be(15,19),new Be(2,20)),new rt(30,new Be(3,15),new Be(13,16))),new Ye(17,Int32Array.from([6,30,54,78]),new rt(28,new Be(1,107),new Be(5,108)),new rt(28,new Be(10,46),new Be(1,47)),new rt(28,new Be(1,22),new Be(15,23)),new rt(28,new Be(2,14),new Be(17,15))),new Ye(18,Int32Array.from([6,30,56,82]),new rt(30,new Be(5,120),new Be(1,121)),new rt(26,new Be(9,43),new Be(4,44)),new rt(28,new Be(17,22),new Be(1,23)),new rt(28,new Be(2,14),new Be(19,15))),new Ye(19,Int32Array.from([6,30,58,86]),new rt(28,new Be(3,113),new Be(4,114)),new rt(26,new Be(3,44),new Be(11,45)),new rt(26,new Be(17,21),new Be(4,22)),new rt(26,new Be(9,13),new Be(16,14))),new Ye(20,Int32Array.from([6,34,62,90]),new rt(28,new Be(3,107),new Be(5,108)),new rt(26,new Be(3,41),new Be(13,42)),new rt(30,new Be(15,24),new Be(5,25)),new rt(28,new Be(15,15),new Be(10,16))),new Ye(21,Int32Array.from([6,28,50,72,94]),new rt(28,new Be(4,116),new Be(4,117)),new rt(26,new Be(17,42)),new rt(28,new Be(17,22),new Be(6,23)),new rt(30,new Be(19,16),new Be(6,17))),new Ye(22,Int32Array.from([6,26,50,74,98]),new rt(28,new Be(2,111),new Be(7,112)),new rt(28,new Be(17,46)),new rt(30,new Be(7,24),new Be(16,25)),new rt(24,new Be(34,13))),new Ye(23,Int32Array.from([6,30,54,78,102]),new rt(30,new Be(4,121),new Be(5,122)),new rt(28,new Be(4,47),new Be(14,48)),new rt(30,new Be(11,24),new Be(14,25)),new rt(30,new Be(16,15),new Be(14,16))),new Ye(24,Int32Array.from([6,28,54,80,106]),new rt(30,new Be(6,117),new Be(4,118)),new rt(28,new Be(6,45),new Be(14,46)),new rt(30,new Be(11,24),new Be(16,25)),new rt(30,new Be(30,16),new Be(2,17))),new Ye(25,Int32Array.from([6,32,58,84,110]),new rt(26,new Be(8,106),new Be(4,107)),new rt(28,new Be(8,47),new Be(13,48)),new rt(30,new Be(7,24),new Be(22,25)),new rt(30,new Be(22,15),new Be(13,16))),new Ye(26,Int32Array.from([6,30,58,86,114]),new rt(28,new Be(10,114),new Be(2,115)),new rt(28,new Be(19,46),new Be(4,47)),new rt(28,new Be(28,22),new Be(6,23)),new rt(30,new Be(33,16),new Be(4,17))),new Ye(27,Int32Array.from([6,34,62,90,118]),new rt(30,new Be(8,122),new Be(4,123)),new rt(28,new Be(22,45),new Be(3,46)),new rt(30,new Be(8,23),new Be(26,24)),new rt(30,new Be(12,15),new Be(28,16))),new Ye(28,Int32Array.from([6,26,50,74,98,122]),new rt(30,new Be(3,117),new Be(10,118)),new rt(28,new Be(3,45),new Be(23,46)),new rt(30,new Be(4,24),new Be(31,25)),new rt(30,new Be(11,15),new Be(31,16))),new Ye(29,Int32Array.from([6,30,54,78,102,126]),new rt(30,new Be(7,116),new Be(7,117)),new rt(28,new Be(21,45),new Be(7,46)),new rt(30,new Be(1,23),new Be(37,24)),new rt(30,new Be(19,15),new Be(26,16))),new Ye(30,Int32Array.from([6,26,52,78,104,130]),new rt(30,new Be(5,115),new Be(10,116)),new rt(28,new Be(19,47),new Be(10,48)),new rt(30,new Be(15,24),new Be(25,25)),new rt(30,new Be(23,15),new Be(25,16))),new Ye(31,Int32Array.from([6,30,56,82,108,134]),new rt(30,new Be(13,115),new Be(3,116)),new rt(28,new Be(2,46),new Be(29,47)),new rt(30,new Be(42,24),new Be(1,25)),new rt(30,new Be(23,15),new Be(28,16))),new Ye(32,Int32Array.from([6,34,60,86,112,138]),new rt(30,new Be(17,115)),new rt(28,new Be(10,46),new Be(23,47)),new rt(30,new Be(10,24),new Be(35,25)),new rt(30,new Be(19,15),new Be(35,16))),new Ye(33,Int32Array.from([6,30,58,86,114,142]),new rt(30,new Be(17,115),new Be(1,116)),new rt(28,new Be(14,46),new Be(21,47)),new rt(30,new Be(29,24),new Be(19,25)),new rt(30,new Be(11,15),new Be(46,16))),new Ye(34,Int32Array.from([6,34,62,90,118,146]),new rt(30,new Be(13,115),new Be(6,116)),new rt(28,new Be(14,46),new Be(23,47)),new rt(30,new Be(44,24),new Be(7,25)),new rt(30,new Be(59,16),new Be(1,17))),new Ye(35,Int32Array.from([6,30,54,78,102,126,150]),new rt(30,new Be(12,121),new Be(7,122)),new rt(28,new Be(12,47),new Be(26,48)),new rt(30,new Be(39,24),new Be(14,25)),new rt(30,new Be(22,15),new Be(41,16))),new Ye(36,Int32Array.from([6,24,50,76,102,128,154]),new rt(30,new Be(6,121),new Be(14,122)),new rt(28,new Be(6,47),new Be(34,48)),new rt(30,new Be(46,24),new Be(10,25)),new rt(30,new Be(2,15),new Be(64,16))),new Ye(37,Int32Array.from([6,28,54,80,106,132,158]),new rt(30,new Be(17,122),new Be(4,123)),new rt(28,new Be(29,46),new Be(14,47)),new rt(30,new Be(49,24),new Be(10,25)),new rt(30,new Be(24,15),new Be(46,16))),new Ye(38,Int32Array.from([6,32,58,84,110,136,162]),new rt(30,new Be(4,122),new Be(18,123)),new rt(28,new Be(13,46),new Be(32,47)),new rt(30,new Be(48,24),new Be(14,25)),new rt(30,new Be(42,15),new Be(32,16))),new Ye(39,Int32Array.from([6,26,54,82,110,138,166]),new rt(30,new Be(20,117),new Be(4,118)),new rt(28,new Be(40,47),new Be(7,48)),new rt(30,new Be(43,24),new Be(22,25)),new rt(30,new Be(10,15),new Be(67,16))),new Ye(40,Int32Array.from([6,30,58,86,114,142,170]),new rt(30,new Be(19,118),new Be(6,119)),new rt(28,new Be(18,47),new Be(31,48)),new rt(30,new Be(34,24),new Be(34,25)),new rt(30,new Be(20,15),new Be(61,16)))];var Dt;(function(we){we[we.DATA_MASK_000=0]="DATA_MASK_000",we[we.DATA_MASK_001=1]="DATA_MASK_001",we[we.DATA_MASK_010=2]="DATA_MASK_010",we[we.DATA_MASK_011=3]="DATA_MASK_011",we[we.DATA_MASK_100=4]="DATA_MASK_100",we[we.DATA_MASK_101=5]="DATA_MASK_101",we[we.DATA_MASK_110=6]="DATA_MASK_110",we[we.DATA_MASK_111=7]="DATA_MASK_111"})(Dt||(Dt={}));class Wt{constructor(h,p){this.value=h,this.isMasked=p}unmaskBitMatrix(h,p){for(let _=0;_<p;_++)for(let y=0;y<p;y++)this.isMasked(_,y)&&h.flip(y,_)}}Wt.values=new Map([[Dt.DATA_MASK_000,new Wt(Dt.DATA_MASK_000,(we,h)=>(we+h&1)===0)],[Dt.DATA_MASK_001,new Wt(Dt.DATA_MASK_001,(we,h)=>(we&1)===0)],[Dt.DATA_MASK_010,new Wt(Dt.DATA_MASK_010,(we,h)=>h%3===0)],[Dt.DATA_MASK_011,new Wt(Dt.DATA_MASK_011,(we,h)=>(we+h)%3===0)],[Dt.DATA_MASK_100,new Wt(Dt.DATA_MASK_100,(we,h)=>(Math.floor(we/2)+Math.floor(h/3)&1)===0)],[Dt.DATA_MASK_101,new Wt(Dt.DATA_MASK_101,(we,h)=>we*h%6===0)],[Dt.DATA_MASK_110,new Wt(Dt.DATA_MASK_110,(we,h)=>we*h%6<3)],[Dt.DATA_MASK_111,new Wt(Dt.DATA_MASK_111,(we,h)=>(we+h+we*h%3&1)===0)]]);class qt{constructor(h){const p=h.getHeight();if(p<21||(p&3)!==1)throw new $;this.bitMatrix=h}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let h=0;for(let C=0;C<6;C++)h=this.copyBit(C,8,h);h=this.copyBit(7,8,h),h=this.copyBit(8,8,h),h=this.copyBit(8,7,h);for(let C=5;C>=0;C--)h=this.copyBit(8,C,h);const p=this.bitMatrix.getHeight();let _=0;const y=p-7;for(let C=p-1;C>=y;C--)_=this.copyBit(8,C,_);for(let C=p-8;C<p;C++)_=this.copyBit(C,8,_);if(this.parsedFormatInfo=Fn.decodeFormatInformation(h,_),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new $}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const h=this.bitMatrix.getHeight(),p=Math.floor((h-17)/4);if(p<=6)return Ye.getVersionForNumber(p);let _=0;const y=h-11;for(let k=5;k>=0;k--)for(let D=h-9;D>=y;D--)_=this.copyBit(D,k,_);let C=Ye.decodeVersionInformation(_);if(C!==null&&C.getDimensionForVersion()===h)return this.parsedVersion=C,C;_=0;for(let k=5;k>=0;k--)for(let D=h-9;D>=y;D--)_=this.copyBit(k,D,_);if(C=Ye.decodeVersionInformation(_),C!==null&&C.getDimensionForVersion()===h)return this.parsedVersion=C,C;throw new $}copyBit(h,p,_){return(this.isMirror?this.bitMatrix.get(p,h):this.bitMatrix.get(h,p))?_<<1|1:_<<1}readCodewords(){const h=this.readFormatInformation(),p=this.readVersion(),_=Wt.values.get(h.getDataMask()),y=this.bitMatrix.getHeight();_.unmaskBitMatrix(this.bitMatrix,y);const C=p.buildFunctionPattern();let k=!0;const D=new Uint8Array(p.getTotalCodewords());let z=0,Q=0,ce=0;for(let Ce=y-1;Ce>0;Ce-=2){Ce===6&&Ce--;for(let ke=0;ke<y;ke++){const qe=k?y-1-ke:ke;for(let ot=0;ot<2;ot++)C.get(Ce-ot,qe)||(ce++,Q<<=1,this.bitMatrix.get(Ce-ot,qe)&&(Q|=1),ce===8&&(D[z++]=Q,ce=0,Q=0))}k=!k}if(z!==p.getTotalCodewords())throw new $;return D}remask(){if(this.parsedFormatInfo===null)return;const h=Wt.values[this.parsedFormatInfo.getDataMask()],p=this.bitMatrix.getHeight();h.unmaskBitMatrix(this.bitMatrix,p)}setMirror(h){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=h}mirror(){const h=this.bitMatrix;for(let p=0,_=h.getWidth();p<_;p++)for(let y=p+1,C=h.getHeight();y<C;y++)h.get(p,y)!==h.get(y,p)&&(h.flip(y,p),h.flip(p,y))}}class Ge{constructor(h,p){this.numDataCodewords=h,this.codewords=p}static getDataBlocks(h,p,_){if(h.length!==p.getTotalCodewords())throw new g;const y=p.getECBlocksForLevel(_);let C=0;const k=y.getECBlocks();for(const ot of k)C+=ot.getCount();const D=new Array(C);let z=0;for(const ot of k)for(let lt=0;lt<ot.getCount();lt++){const Ct=ot.getDataCodewords(),Bt=y.getECCodewordsPerBlock()+Ct;D[z++]=new Ge(Ct,new Uint8Array(Bt))}const Q=D[0].codewords.length;let ce=D.length-1;for(;ce>=0&&D[ce].codewords.length!==Q;)ce--;ce++;const Ce=Q-y.getECCodewordsPerBlock();let ke=0;for(let ot=0;ot<Ce;ot++)for(let lt=0;lt<z;lt++)D[lt].codewords[ot]=h[ke++];for(let ot=ce;ot<z;ot++)D[ot].codewords[Ce]=h[ke++];const qe=D[0].codewords.length;for(let ot=Ce;ot<qe;ot++)for(let lt=0;lt<z;lt++){const Ct=lt<ce?ot:ot+1;D[lt].codewords[Ct]=h[ke++]}return D}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var Ze;(function(we){we[we.TERMINATOR=0]="TERMINATOR",we[we.NUMERIC=1]="NUMERIC",we[we.ALPHANUMERIC=2]="ALPHANUMERIC",we[we.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",we[we.BYTE=4]="BYTE",we[we.ECI=5]="ECI",we[we.KANJI=6]="KANJI",we[we.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",we[we.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",we[we.HANZI=9]="HANZI"})(Ze||(Ze={}));class Ke{constructor(h,p,_,y){this.value=h,this.stringValue=p,this.characterCountBitsForVersions=_,this.bits=y,Ke.FOR_BITS.set(y,this),Ke.FOR_VALUE.set(h,this)}static forBits(h){const p=Ke.FOR_BITS.get(h);if(p===void 0)throw new g;return p}getCharacterCountBits(h){const p=h.getVersionNumber();let _;return p<=9?_=0:p<=26?_=1:_=2,this.characterCountBitsForVersions[_]}getValue(){return this.value}getBits(){return this.bits}equals(h){if(!(h instanceof Ke))return!1;const p=h;return this.value===p.value}toString(){return this.stringValue}}Ke.FOR_BITS=new Map,Ke.FOR_VALUE=new Map,Ke.TERMINATOR=new Ke(Ze.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),Ke.NUMERIC=new Ke(Ze.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),Ke.ALPHANUMERIC=new Ke(Ze.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),Ke.STRUCTURED_APPEND=new Ke(Ze.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),Ke.BYTE=new Ke(Ze.BYTE,"BYTE",Int32Array.from([8,16,16]),4),Ke.ECI=new Ke(Ze.ECI,"ECI",Int32Array.from([0,0,0]),7),Ke.KANJI=new Ke(Ze.KANJI,"KANJI",Int32Array.from([8,10,12]),8),Ke.FNC1_FIRST_POSITION=new Ke(Ze.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),Ke.FNC1_SECOND_POSITION=new Ke(Ze.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),Ke.HANZI=new Ke(Ze.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class it{static decode(h,p,_,y){const C=new ta(h);let k=new te;const D=new Array;let z=-1,Q=-1;try{let ce=null,Ce=!1,ke;do{if(C.available()<4)ke=Ke.TERMINATOR;else{const qe=C.readBits(4);ke=Ke.forBits(qe)}switch(ke){case Ke.TERMINATOR:break;case Ke.FNC1_FIRST_POSITION:case Ke.FNC1_SECOND_POSITION:Ce=!0;break;case Ke.STRUCTURED_APPEND:if(C.available()<16)throw new $;z=C.readBits(8),Q=C.readBits(8);break;case Ke.ECI:const qe=it.parseECIValue(C);if(ce=F.getCharacterSetECIByValue(qe),ce===null)throw new $;break;case Ke.HANZI:const ot=C.readBits(4),lt=C.readBits(ke.getCharacterCountBits(p));ot===it.GB2312_SUBSET&&it.decodeHanziSegment(C,k,lt);break;default:const Ct=C.readBits(ke.getCharacterCountBits(p));switch(ke){case Ke.NUMERIC:it.decodeNumericSegment(C,k,Ct);break;case Ke.ALPHANUMERIC:it.decodeAlphanumericSegment(C,k,Ct,Ce);break;case Ke.BYTE:it.decodeByteSegment(C,k,Ct,ce,D,y);break;case Ke.KANJI:it.decodeKanjiSegment(C,k,Ct);break;default:throw new $}break}}while(ke!==Ke.TERMINATOR)}catch{throw new $}return new he(h,k.toString(),D.length===0?null:D,_===null?null:_.toString(),z,Q)}static decodeHanziSegment(h,p,_){if(_*13>h.available())throw new $;const y=new Uint8Array(2*_);let C=0;for(;_>0;){const k=h.readBits(13);let D=k/96<<8&4294967295|k%96;D<959?D+=41377:D+=42657,y[C]=D>>8&255,y[C+1]=D&255,C+=2,_--}try{p.append(ne.decode(y,X.GB2312))}catch(k){throw new $(k)}}static decodeKanjiSegment(h,p,_){if(_*13>h.available())throw new $;const y=new Uint8Array(2*_);let C=0;for(;_>0;){const k=h.readBits(13);let D=k/192<<8&4294967295|k%192;D<7936?D+=33088:D+=49472,y[C]=D>>8,y[C+1]=D,C+=2,_--}try{p.append(ne.decode(y,X.SHIFT_JIS))}catch(k){throw new $(k)}}static decodeByteSegment(h,p,_,y,C,k){if(8*_>h.available())throw new $;const D=new Uint8Array(_);for(let Q=0;Q<_;Q++)D[Q]=h.readBits(8);let z;y===null?z=X.guessEncoding(D,k):z=y.getName();try{p.append(ne.decode(D,z))}catch(Q){throw new $(Q)}C.push(D)}static toAlphaNumericChar(h){if(h>=it.ALPHANUMERIC_CHARS.length)throw new $;return it.ALPHANUMERIC_CHARS[h]}static decodeAlphanumericSegment(h,p,_,y){const C=p.length();for(;_>1;){if(h.available()<11)throw new $;const k=h.readBits(11);p.append(it.toAlphaNumericChar(Math.floor(k/45))),p.append(it.toAlphaNumericChar(k%45)),_-=2}if(_===1){if(h.available()<6)throw new $;p.append(it.toAlphaNumericChar(h.readBits(6)))}if(y)for(let k=C;k<p.length();k++)p.charAt(k)==="%"&&(k<p.length()-1&&p.charAt(k+1)==="%"?p.deleteCharAt(k+1):p.setCharAt(k,""))}static decodeNumericSegment(h,p,_){for(;_>=3;){if(h.available()<10)throw new $;const y=h.readBits(10);if(y>=1e3)throw new $;p.append(it.toAlphaNumericChar(Math.floor(y/100))),p.append(it.toAlphaNumericChar(Math.floor(y/10)%10)),p.append(it.toAlphaNumericChar(y%10)),_-=3}if(_===2){if(h.available()<7)throw new $;const y=h.readBits(7);if(y>=100)throw new $;p.append(it.toAlphaNumericChar(Math.floor(y/10))),p.append(it.toAlphaNumericChar(y%10))}else if(_===1){if(h.available()<4)throw new $;const y=h.readBits(4);if(y>=10)throw new $;p.append(it.toAlphaNumericChar(y))}}static parseECIValue(h){const p=h.readBits(8);if((p&128)===0)return p&127;if((p&192)===128){const _=h.readBits(8);return(p&63)<<8&4294967295|_}if((p&224)===192){const _=h.readBits(16);return(p&31)<<16&4294967295|_}throw new $}}it.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",it.GB2312_SUBSET=1;class Ut{constructor(h){this.mirrored=h}isMirrored(){return this.mirrored}applyMirroredCorrection(h){if(!this.mirrored||h===null||h.length<3)return;const p=h[0];h[0]=h[2],h[2]=p}}class Ft{constructor(){this.rsDecoder=new fe(Ie.QR_CODE_FIELD_256)}decodeBooleanArray(h,p){return this.decodeBitMatrix(se.parseFromBooleanArray(h),p)}decodeBitMatrix(h,p){const _=new qt(h);let y=null;try{return this.decodeBitMatrixParser(_,p)}catch(C){y=C}try{_.remask(),_.setMirror(!0),_.readVersion(),_.readFormatInformation(),_.mirror();const C=this.decodeBitMatrixParser(_,p);return C.setOther(new Ut(!0)),C}catch(C){throw y!==null?y:C}}decodeBitMatrixParser(h,p){const _=h.readVersion(),y=h.readFormatInformation().getErrorCorrectionLevel(),C=h.readCodewords(),k=Ge.getDataBlocks(C,_,y);let D=0;for(const ce of k)D+=ce.getNumDataCodewords();const z=new Uint8Array(D);let Q=0;for(const ce of k){const Ce=ce.getCodewords(),ke=ce.getNumDataCodewords();this.correctErrors(Ce,ke);for(let qe=0;qe<ke;qe++)z[Q++]=Ce[qe]}return it.decode(z,_,y,p)}correctErrors(h,p){const _=new Int32Array(h);try{this.rsDecoder.decode(_,h.length-p)}catch{throw new w}for(let y=0;y<p;y++)h[y]=_[y]}}class En extends Ee{constructor(h,p,_){super(h,p),this.estimatedModuleSize=_}aboutEquals(h,p,_){if(Math.abs(p-this.getY())<=h&&Math.abs(_-this.getX())<=h){const y=Math.abs(h-this.estimatedModuleSize);return y<=1||y<=this.estimatedModuleSize}return!1}combineEstimate(h,p,_){const y=(this.getX()+p)/2,C=(this.getY()+h)/2,k=(this.estimatedModuleSize+_)/2;return new En(y,C,k)}}class gn{constructor(h,p,_,y,C,k,D){this.image=h,this.startX=p,this.startY=_,this.width=y,this.height=C,this.moduleSize=k,this.resultPointCallback=D,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const h=this.startX,p=this.height,_=this.width,y=h+_,C=this.startY+p/2,k=new Int32Array(3),D=this.image;for(let z=0;z<p;z++){const Q=C+((z&1)===0?Math.floor((z+1)/2):-Math.floor((z+1)/2));k[0]=0,k[1]=0,k[2]=0;let ce=h;for(;ce<y&&!D.get(ce,Q);)ce++;let Ce=0;for(;ce<y;){if(D.get(ce,Q))if(Ce===1)k[1]++;else if(Ce===2){if(this.foundPatternCross(k)){const ke=this.handlePossibleCenter(k,Q,ce);if(ke!==null)return ke}k[0]=k[2],k[1]=1,k[2]=0,Ce=1}else k[++Ce]++;else Ce===1&&Ce++,k[Ce]++;ce++}if(this.foundPatternCross(k)){const ke=this.handlePossibleCenter(k,Q,y);if(ke!==null)return ke}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new V}static centerFromEnd(h,p){return p-h[2]-h[1]/2}foundPatternCross(h){const p=this.moduleSize,_=p/2;for(let y=0;y<3;y++)if(Math.abs(p-h[y])>=_)return!1;return!0}crossCheckVertical(h,p,_,y){const C=this.image,k=C.getHeight(),D=this.crossCheckStateCount;D[0]=0,D[1]=0,D[2]=0;let z=h;for(;z>=0&&C.get(p,z)&&D[1]<=_;)D[1]++,z--;if(z<0||D[1]>_)return NaN;for(;z>=0&&!C.get(p,z)&&D[0]<=_;)D[0]++,z--;if(D[0]>_)return NaN;for(z=h+1;z<k&&C.get(p,z)&&D[1]<=_;)D[1]++,z++;if(z===k||D[1]>_)return NaN;for(;z<k&&!C.get(p,z)&&D[2]<=_;)D[2]++,z++;if(D[2]>_)return NaN;const Q=D[0]+D[1]+D[2];return 5*Math.abs(Q-y)>=2*y?NaN:this.foundPatternCross(D)?gn.centerFromEnd(D,z):NaN}handlePossibleCenter(h,p,_){const y=h[0]+h[1]+h[2],C=gn.centerFromEnd(h,_),k=this.crossCheckVertical(p,C,2*h[1],y);if(!isNaN(k)){const D=(h[0]+h[1]+h[2])/3;for(const Q of this.possibleCenters)if(Q.aboutEquals(D,k,C))return Q.combineEstimate(k,C,D);const z=new En(C,k,D);this.possibleCenters.push(z),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(z)}return null}}class Qn extends Ee{constructor(h,p,_,y){super(h,p),this.estimatedModuleSize=_,this.count=y,y===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(h,p,_){if(Math.abs(p-this.getY())<=h&&Math.abs(_-this.getX())<=h){const y=Math.abs(h-this.estimatedModuleSize);return y<=1||y<=this.estimatedModuleSize}return!1}combineEstimate(h,p,_){const y=this.count+1,C=(this.count*this.getX()+p)/y,k=(this.count*this.getY()+h)/y,D=(this.count*this.estimatedModuleSize+_)/y;return new Qn(C,k,D,y)}}class Gt{constructor(h){this.bottomLeft=h[0],this.topLeft=h[1],this.topRight=h[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class Tn{constructor(h,p){this.image=h,this.resultPointCallback=p,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=p}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(h){const p=h!=null&&h.get(R.TRY_HARDER)!==void 0,_=h!=null&&h.get(R.PURE_BARCODE)!==void 0,y=this.image,C=y.getHeight(),k=y.getWidth();let D=Math.floor(3*C/(4*Tn.MAX_MODULES));(D<Tn.MIN_SKIP||p)&&(D=Tn.MIN_SKIP);let z=!1;const Q=new Int32Array(5);for(let Ce=D-1;Ce<C&&!z;Ce+=D){Q[0]=0,Q[1]=0,Q[2]=0,Q[3]=0,Q[4]=0;let ke=0;for(let qe=0;qe<k;qe++)if(y.get(qe,Ce))(ke&1)===1&&ke++,Q[ke]++;else if((ke&1)===0)if(ke===4)if(Tn.foundPatternCross(Q)){if(this.handlePossibleCenter(Q,Ce,qe,_)===!0)if(D=2,this.hasSkipped===!0)z=this.haveMultiplyConfirmedCenters();else{const lt=this.findRowSkip();lt>Q[2]&&(Ce+=lt-Q[2]-D,qe=k-1)}else{Q[0]=Q[2],Q[1]=Q[3],Q[2]=Q[4],Q[3]=1,Q[4]=0,ke=3;continue}ke=0,Q[0]=0,Q[1]=0,Q[2]=0,Q[3]=0,Q[4]=0}else Q[0]=Q[2],Q[1]=Q[3],Q[2]=Q[4],Q[3]=1,Q[4]=0,ke=3;else Q[++ke]++;else Q[ke]++;Tn.foundPatternCross(Q)&&this.handlePossibleCenter(Q,Ce,k,_)===!0&&(D=Q[0],this.hasSkipped&&(z=this.haveMultiplyConfirmedCenters()))}const ce=this.selectBestPatterns();return Ee.orderBestPatterns(ce),new Gt(ce)}static centerFromEnd(h,p){return p-h[4]-h[3]-h[2]/2}static foundPatternCross(h){let p=0;for(let C=0;C<5;C++){const k=h[C];if(k===0)return!1;p+=k}if(p<7)return!1;const _=p/7,y=_/2;return Math.abs(_-h[0])<y&&Math.abs(_-h[1])<y&&Math.abs(3*_-h[2])<3*y&&Math.abs(_-h[3])<y&&Math.abs(_-h[4])<y}getCrossCheckStateCount(){const h=this.crossCheckStateCount;return h[0]=0,h[1]=0,h[2]=0,h[3]=0,h[4]=0,h}crossCheckDiagonal(h,p,_,y){const C=this.getCrossCheckStateCount();let k=0;const D=this.image;for(;h>=k&&p>=k&&D.get(p-k,h-k);)C[2]++,k++;if(h<k||p<k)return!1;for(;h>=k&&p>=k&&!D.get(p-k,h-k)&&C[1]<=_;)C[1]++,k++;if(h<k||p<k||C[1]>_)return!1;for(;h>=k&&p>=k&&D.get(p-k,h-k)&&C[0]<=_;)C[0]++,k++;if(C[0]>_)return!1;const z=D.getHeight(),Q=D.getWidth();for(k=1;h+k<z&&p+k<Q&&D.get(p+k,h+k);)C[2]++,k++;if(h+k>=z||p+k>=Q)return!1;for(;h+k<z&&p+k<Q&&!D.get(p+k,h+k)&&C[3]<_;)C[3]++,k++;if(h+k>=z||p+k>=Q||C[3]>=_)return!1;for(;h+k<z&&p+k<Q&&D.get(p+k,h+k)&&C[4]<_;)C[4]++,k++;if(C[4]>=_)return!1;const ce=C[0]+C[1]+C[2]+C[3]+C[4];return Math.abs(ce-y)<2*y&&Tn.foundPatternCross(C)}crossCheckVertical(h,p,_,y){const C=this.image,k=C.getHeight(),D=this.getCrossCheckStateCount();let z=h;for(;z>=0&&C.get(p,z);)D[2]++,z--;if(z<0)return NaN;for(;z>=0&&!C.get(p,z)&&D[1]<=_;)D[1]++,z--;if(z<0||D[1]>_)return NaN;for(;z>=0&&C.get(p,z)&&D[0]<=_;)D[0]++,z--;if(D[0]>_)return NaN;for(z=h+1;z<k&&C.get(p,z);)D[2]++,z++;if(z===k)return NaN;for(;z<k&&!C.get(p,z)&&D[3]<_;)D[3]++,z++;if(z===k||D[3]>=_)return NaN;for(;z<k&&C.get(p,z)&&D[4]<_;)D[4]++,z++;if(D[4]>=_)return NaN;const Q=D[0]+D[1]+D[2]+D[3]+D[4];return 5*Math.abs(Q-y)>=2*y?NaN:Tn.foundPatternCross(D)?Tn.centerFromEnd(D,z):NaN}crossCheckHorizontal(h,p,_,y){const C=this.image,k=C.getWidth(),D=this.getCrossCheckStateCount();let z=h;for(;z>=0&&C.get(z,p);)D[2]++,z--;if(z<0)return NaN;for(;z>=0&&!C.get(z,p)&&D[1]<=_;)D[1]++,z--;if(z<0||D[1]>_)return NaN;for(;z>=0&&C.get(z,p)&&D[0]<=_;)D[0]++,z--;if(D[0]>_)return NaN;for(z=h+1;z<k&&C.get(z,p);)D[2]++,z++;if(z===k)return NaN;for(;z<k&&!C.get(z,p)&&D[3]<_;)D[3]++,z++;if(z===k||D[3]>=_)return NaN;for(;z<k&&C.get(z,p)&&D[4]<_;)D[4]++,z++;if(D[4]>=_)return NaN;const Q=D[0]+D[1]+D[2]+D[3]+D[4];return 5*Math.abs(Q-y)>=y?NaN:Tn.foundPatternCross(D)?Tn.centerFromEnd(D,z):NaN}handlePossibleCenter(h,p,_,y){const C=h[0]+h[1]+h[2]+h[3]+h[4];let k=Tn.centerFromEnd(h,_),D=this.crossCheckVertical(p,Math.floor(k),h[2],C);if(!isNaN(D)&&(k=this.crossCheckHorizontal(Math.floor(k),Math.floor(D),h[2],C),!isNaN(k)&&(!y||this.crossCheckDiagonal(Math.floor(D),Math.floor(k),h[2],C)))){const z=C/7;let Q=!1;const ce=this.possibleCenters;for(let Ce=0,ke=ce.length;Ce<ke;Ce++){const qe=ce[Ce];if(qe.aboutEquals(z,D,k)){ce[Ce]=qe.combineEstimate(D,k,z),Q=!0;break}}if(!Q){const Ce=new Qn(k,D,z);ce.push(Ce),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(Ce)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let p=null;for(const _ of this.possibleCenters)if(_.getCount()>=Tn.CENTER_QUORUM)if(p==null)p=_;else return this.hasSkipped=!0,Math.floor((Math.abs(p.getX()-_.getX())-Math.abs(p.getY()-_.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let h=0,p=0;const _=this.possibleCenters.length;for(const k of this.possibleCenters)k.getCount()>=Tn.CENTER_QUORUM&&(h++,p+=k.getEstimatedModuleSize());if(h<3)return!1;const y=p/_;let C=0;for(const k of this.possibleCenters)C+=Math.abs(k.getEstimatedModuleSize()-y);return C<=.05*p}selectBestPatterns(){const h=this.possibleCenters.length;if(h<3)throw new V;const p=this.possibleCenters;let _;if(h>3){let y=0,C=0;for(const z of this.possibleCenters){const Q=z.getEstimatedModuleSize();y+=Q,C+=Q*Q}_=y/h;let k=Math.sqrt(C/h-_*_);p.sort((z,Q)=>{const ce=Math.abs(Q.getEstimatedModuleSize()-_),Ce=Math.abs(z.getEstimatedModuleSize()-_);return ce<Ce?-1:ce>Ce?1:0});const D=Math.max(.2*_,k);for(let z=0;z<p.length&&p.length>3;z++){const Q=p[z];Math.abs(Q.getEstimatedModuleSize()-_)>D&&(p.splice(z,1),z--)}}if(p.length>3){let y=0;for(const C of p)y+=C.getEstimatedModuleSize();_=y/p.length,p.sort((C,k)=>{if(k.getCount()===C.getCount()){const D=Math.abs(k.getEstimatedModuleSize()-_),z=Math.abs(C.getEstimatedModuleSize()-_);return D<z?1:D>z?-1:0}else return k.getCount()-C.getCount()}),p.splice(3)}return[p[0],p[1],p[2]]}}Tn.CENTER_QUORUM=2,Tn.MIN_SKIP=3,Tn.MAX_MODULES=57;class hn{constructor(h){this.image=h}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(h){this.resultPointCallback=h==null?null:h.get(R.NEED_RESULT_POINT_CALLBACK);const _=new Tn(this.image,this.resultPointCallback).find(h);return this.processFinderPatternInfo(_)}processFinderPatternInfo(h){const p=h.getTopLeft(),_=h.getTopRight(),y=h.getBottomLeft(),C=this.calculateModuleSize(p,_,y);if(C<1)throw new V("No pattern found in proccess finder.");const k=hn.computeDimension(p,_,y,C),D=Ye.getProvisionalVersionForDimension(k),z=D.getDimensionForVersion()-7;let Q=null;if(D.getAlignmentPatternCenters().length>0){const qe=_.getX()-p.getX()+y.getX(),ot=_.getY()-p.getY()+y.getY(),lt=1-3/z,Ct=Math.floor(p.getX()+lt*(qe-p.getX())),Bt=Math.floor(p.getY()+lt*(ot-p.getY()));for(let Cn=4;Cn<=16;Cn<<=1)try{Q=this.findAlignmentInRegion(C,Ct,Bt,Cn);break}catch(In){if(!(In instanceof V))throw In}}const ce=hn.createTransform(p,_,y,Q,k),Ce=hn.sampleGrid(this.image,ce,k);let ke;return Q===null?ke=[y,p,_]:ke=[y,p,_,Q],new Le(Ce,ke)}static createTransform(h,p,_,y,C){const k=C-3.5;let D,z,Q,ce;return y!==null?(D=y.getX(),z=y.getY(),Q=k-3,ce=Q):(D=p.getX()-h.getX()+_.getX(),z=p.getY()-h.getY()+_.getY(),Q=k,ce=k),dt.quadrilateralToQuadrilateral(3.5,3.5,k,3.5,Q,ce,3.5,k,h.getX(),h.getY(),p.getX(),p.getY(),D,z,_.getX(),_.getY())}static sampleGrid(h,p,_){return tt.getInstance().sampleGridWithTransform(h,_,_,p)}static computeDimension(h,p,_,y){const C=Se.round(Ee.distance(h,p)/y),k=Se.round(Ee.distance(h,_)/y);let D=Math.floor((C+k)/2)+7;switch(D&3){case 0:D++;break;case 2:D--;break;case 3:throw new V("Dimensions could be not found.")}return D}calculateModuleSize(h,p,_){return(this.calculateModuleSizeOneWay(h,p)+this.calculateModuleSizeOneWay(h,_))/2}calculateModuleSizeOneWay(h,p){const _=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(h.getX()),Math.floor(h.getY()),Math.floor(p.getX()),Math.floor(p.getY())),y=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(p.getX()),Math.floor(p.getY()),Math.floor(h.getX()),Math.floor(h.getY()));return isNaN(_)?y/7:isNaN(y)?_/7:(_+y)/14}sizeOfBlackWhiteBlackRunBothWays(h,p,_,y){let C=this.sizeOfBlackWhiteBlackRun(h,p,_,y),k=1,D=h-(_-h);D<0?(k=h/(h-D),D=0):D>=this.image.getWidth()&&(k=(this.image.getWidth()-1-h)/(D-h),D=this.image.getWidth()-1);let z=Math.floor(p-(y-p)*k);return k=1,z<0?(k=p/(p-z),z=0):z>=this.image.getHeight()&&(k=(this.image.getHeight()-1-p)/(z-p),z=this.image.getHeight()-1),D=Math.floor(h+(D-h)*k),C+=this.sizeOfBlackWhiteBlackRun(h,p,D,z),C-1}sizeOfBlackWhiteBlackRun(h,p,_,y){const C=Math.abs(y-p)>Math.abs(_-h);if(C){let qe=h;h=p,p=qe,qe=_,_=y,y=qe}const k=Math.abs(_-h),D=Math.abs(y-p);let z=-k/2;const Q=h<_?1:-1,ce=p<y?1:-1;let Ce=0;const ke=_+Q;for(let qe=h,ot=p;qe!==ke;qe+=Q){const lt=C?ot:qe,Ct=C?qe:ot;if(Ce===1===this.image.get(lt,Ct)){if(Ce===2)return Se.distance(qe,ot,h,p);Ce++}if(z+=D,z>0){if(ot===y)break;ot+=ce,z-=k}}return Ce===2?Se.distance(_+Q,y,h,p):NaN}findAlignmentInRegion(h,p,_,y){const C=Math.floor(y*h),k=Math.max(0,p-C),D=Math.min(this.image.getWidth()-1,p+C);if(D-k<h*3)throw new V("Alignment top exceeds estimated module size.");const z=Math.max(0,_-C),Q=Math.min(this.image.getHeight()-1,_+C);if(Q-z<h*3)throw new V("Alignment bottom exceeds estimated module size.");return new gn(this.image,k,z,D-k,Q-z,h,this.resultPointCallback).find()}}class ss{constructor(){this.decoder=new Ft}getDecoder(){return this.decoder}decode(h,p){let _,y;if(p!=null&&p.get(R.PURE_BARCODE)!==void 0){const z=ss.extractPureBits(h.getBlackMatrix());_=this.decoder.decodeBitMatrix(z,p),y=ss.NO_POINTS}else{const z=new hn(h.getBlackMatrix()).detect(p);_=this.decoder.decodeBitMatrix(z.getBits(),p),y=z.getPoints()}_.getOther()instanceof Ut&&_.getOther().applyMirroredCorrection(y);const C=new oe(_.getText(),_.getRawBytes(),void 0,y,ae.QR_CODE,void 0),k=_.getByteSegments();k!==null&&C.putMetadata(ue.BYTE_SEGMENTS,k);const D=_.getECLevel();return D!==null&&C.putMetadata(ue.ERROR_CORRECTION_LEVEL,D),_.hasStructuredAppend()&&(C.putMetadata(ue.STRUCTURED_APPEND_SEQUENCE,_.getStructuredAppendSequenceNumber()),C.putMetadata(ue.STRUCTURED_APPEND_PARITY,_.getStructuredAppendParity())),C}reset(){}static extractPureBits(h){const p=h.getTopLeftOnBit(),_=h.getBottomRightOnBit();if(p===null||_===null)throw new V;const y=this.moduleSize(p,h);let C=p[1],k=_[1],D=p[0],z=_[0];if(D>=z||C>=k)throw new V;if(k-C!==z-D&&(z=D+(k-C),z>=h.getWidth()))throw new V;const Q=Math.round((z-D+1)/y),ce=Math.round((k-C+1)/y);if(Q<=0||ce<=0)throw new V;if(ce!==Q)throw new V;const Ce=Math.floor(y/2);C+=Ce,D+=Ce;const ke=D+Math.floor((Q-1)*y)-z;if(ke>0){if(ke>Ce)throw new V;D-=ke}const qe=C+Math.floor((ce-1)*y)-k;if(qe>0){if(qe>Ce)throw new V;C-=qe}const ot=new se(Q,ce);for(let lt=0;lt<ce;lt++){const Ct=C+Math.floor(lt*y);for(let Bt=0;Bt<Q;Bt++)h.get(D+Math.floor(Bt*y),Ct)&&ot.set(Bt,lt)}return ot}static moduleSize(h,p){const _=p.getHeight(),y=p.getWidth();let C=h[0],k=h[1],D=!0,z=0;for(;C<y&&k<_;){if(D!==p.get(C,k)){if(++z===5)break;D=!D}C++,k++}if(C===y||k===_)throw new V;return(C-h[0])/7}}ss.NO_POINTS=new Array;class Qt{PDF417Common(){}static getBitCountSum(h){return Se.sum(h)}static toIntArray(h){if(h==null||!h.length)return Qt.EMPTY_INT_ARRAY;const p=new Int32Array(h.length);let _=0;for(const y of h)p[_++]=y;return p}static getCodeword(h){const p=M.binarySearch(Qt.SYMBOL_TABLE,h&262143);return p<0?-1:(Qt.CODEWORD_TABLE[p]-1)%Qt.NUMBER_OF_CODEWORDS}}Qt.NUMBER_OF_CODEWORDS=929,Qt.MAX_CODEWORDS_IN_BARCODE=Qt.NUMBER_OF_CODEWORDS-1,Qt.MIN_ROWS_IN_BARCODE=3,Qt.MAX_ROWS_IN_BARCODE=90,Qt.MODULES_IN_CODEWORD=17,Qt.MODULES_IN_STOP_PATTERN=18,Qt.BARS_IN_MODULE=8,Qt.EMPTY_INT_ARRAY=new Int32Array([]),Qt.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),Qt.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class xs{constructor(h,p){this.bits=h,this.points=p}getBits(){return this.bits}getPoints(){return this.points}}class wt{static detectMultiple(h,p,_){let y=h.getBlackMatrix(),C=wt.detect(_,y);return C.length||(y=y.clone(),y.rotate180(),C=wt.detect(_,y)),new xs(y,C)}static detect(h,p){const _=new Array;let y=0,C=0,k=!1;for(;y<p.getHeight();){const D=wt.findVertices(p,y,C);if(D[0]==null&&D[3]==null){if(!k)break;k=!1,C=0;for(const z of _)z[1]!=null&&(y=Math.trunc(Math.max(y,z[1].getY()))),z[3]!=null&&(y=Math.max(y,Math.trunc(z[3].getY())));y+=wt.ROW_STEP;continue}if(k=!0,_.push(D),!h)break;D[2]!=null?(C=Math.trunc(D[2].getX()),y=Math.trunc(D[2].getY())):(C=Math.trunc(D[4].getX()),y=Math.trunc(D[4].getY()))}return _}static findVertices(h,p,_){const y=h.getHeight(),C=h.getWidth(),k=new Array(8);return wt.copyToResult(k,wt.findRowsWithPattern(h,y,C,p,_,wt.START_PATTERN),wt.INDEXES_START_PATTERN),k[4]!=null&&(_=Math.trunc(k[4].getX()),p=Math.trunc(k[4].getY())),wt.copyToResult(k,wt.findRowsWithPattern(h,y,C,p,_,wt.STOP_PATTERN),wt.INDEXES_STOP_PATTERN),k}static copyToResult(h,p,_){for(let y=0;y<_.length;y++)h[_[y]]=p[y]}static findRowsWithPattern(h,p,_,y,C,k){const D=new Array(4);let z=!1;const Q=new Int32Array(k.length);for(;y<p;y+=wt.ROW_STEP){let Ce=wt.findGuardPattern(h,C,y,_,!1,k,Q);if(Ce!=null){for(;y>0;){const ke=wt.findGuardPattern(h,C,--y,_,!1,k,Q);if(ke!=null)Ce=ke;else{y++;break}}D[0]=new Ee(Ce[0],y),D[1]=new Ee(Ce[1],y),z=!0;break}}let ce=y+1;if(z){let Ce=0,ke=Int32Array.from([Math.trunc(D[0].getX()),Math.trunc(D[1].getX())]);for(;ce<p;ce++){const qe=wt.findGuardPattern(h,ke[0],ce,_,!1,k,Q);if(qe!=null&&Math.abs(ke[0]-qe[0])<wt.MAX_PATTERN_DRIFT&&Math.abs(ke[1]-qe[1])<wt.MAX_PATTERN_DRIFT)ke=qe,Ce=0;else{if(Ce>wt.SKIPPED_ROW_COUNT_MAX)break;Ce++}}ce-=Ce+1,D[2]=new Ee(ke[0],ce),D[3]=new Ee(ke[1],ce)}return ce-y<wt.BARCODE_MIN_HEIGHT&&M.fill(D,null),D}static findGuardPattern(h,p,_,y,C,k,D){M.fillWithin(D,0,D.length,0);let z=p,Q=0;for(;h.get(z,_)&&z>0&&Q++<wt.MAX_PIXEL_DRIFT;)z--;let ce=z,Ce=0,ke=k.length;for(let qe=C;ce<y;ce++)if(h.get(ce,_)!==qe)D[Ce]++;else{if(Ce===ke-1){if(wt.patternMatchVariance(D,k,wt.MAX_INDIVIDUAL_VARIANCE)<wt.MAX_AVG_VARIANCE)return new Int32Array([z,ce]);z+=D[0]+D[1],j.arraycopy(D,2,D,0,Ce-1),D[Ce-1]=0,D[Ce]=0,Ce--}else Ce++;D[Ce]=1,qe=!qe}return Ce===ke-1&&wt.patternMatchVariance(D,k,wt.MAX_INDIVIDUAL_VARIANCE)<wt.MAX_AVG_VARIANCE?new Int32Array([z,ce-1]):null}static patternMatchVariance(h,p,_){let y=h.length,C=0,k=0;for(let Q=0;Q<y;Q++)C+=h[Q],k+=p[Q];if(C<k)return 1/0;let D=C/k;_*=D;let z=0;for(let Q=0;Q<y;Q++){let ce=h[Q],Ce=p[Q]*D,ke=ce>Ce?ce-Ce:Ce-ce;if(ke>_)return 1/0;z+=ke}return z/C}}wt.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),wt.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),wt.MAX_AVG_VARIANCE=.42,wt.MAX_INDIVIDUAL_VARIANCE=.8,wt.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),wt.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),wt.MAX_PIXEL_DRIFT=3,wt.MAX_PATTERN_DRIFT=5,wt.SKIPPED_ROW_COUNT_MAX=25,wt.ROW_STEP=5,wt.BARCODE_MIN_HEIGHT=10;class rn{constructor(h,p){if(p.length===0)throw new g;this.field=h;let _=p.length;if(_>1&&p[0]===0){let y=1;for(;y<_&&p[y]===0;)y++;y===_?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(_-y),j.arraycopy(p,y,this.coefficients,0,this.coefficients.length))}else this.coefficients=p}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(h){return this.coefficients[this.coefficients.length-1-h]}evaluateAt(h){if(h===0)return this.getCoefficient(0);if(h===1){let y=0;for(let C of this.coefficients)y=this.field.add(y,C);return y}let p=this.coefficients[0],_=this.coefficients.length;for(let y=1;y<_;y++)p=this.field.add(this.field.multiply(h,p),this.coefficients[y]);return p}add(h){if(!this.field.equals(h.field))throw new g("ModulusPolys do not have same ModulusGF field");if(this.isZero())return h;if(h.isZero())return this;let p=this.coefficients,_=h.coefficients;if(p.length>_.length){let k=p;p=_,_=k}let y=new Int32Array(_.length),C=_.length-p.length;j.arraycopy(_,0,y,0,C);for(let k=C;k<_.length;k++)y[k]=this.field.add(p[k-C],_[k]);return new rn(this.field,y)}subtract(h){if(!this.field.equals(h.field))throw new g("ModulusPolys do not have same ModulusGF field");return h.isZero()?this:this.add(h.negative())}multiply(h){return h instanceof rn?this.multiplyOther(h):this.multiplyScalar(h)}multiplyOther(h){if(!this.field.equals(h.field))throw new g("ModulusPolys do not have same ModulusGF field");if(this.isZero()||h.isZero())return new rn(this.field,new Int32Array([0]));let p=this.coefficients,_=p.length,y=h.coefficients,C=y.length,k=new Int32Array(_+C-1);for(let D=0;D<_;D++){let z=p[D];for(let Q=0;Q<C;Q++)k[D+Q]=this.field.add(k[D+Q],this.field.multiply(z,y[Q]))}return new rn(this.field,k)}negative(){let h=this.coefficients.length,p=new Int32Array(h);for(let _=0;_<h;_++)p[_]=this.field.subtract(0,this.coefficients[_]);return new rn(this.field,p)}multiplyScalar(h){if(h===0)return new rn(this.field,new Int32Array([0]));if(h===1)return this;let p=this.coefficients.length,_=new Int32Array(p);for(let y=0;y<p;y++)_[y]=this.field.multiply(this.coefficients[y],h);return new rn(this.field,_)}multiplyByMonomial(h,p){if(h<0)throw new g;if(p===0)return new rn(this.field,new Int32Array([0]));let _=this.coefficients.length,y=new Int32Array(_+h);for(let C=0;C<_;C++)y[C]=this.field.multiply(this.coefficients[C],p);return new rn(this.field,y)}toString(){let h=new te;for(let p=this.getDegree();p>=0;p--){let _=this.getCoefficient(p);_!==0&&(_<0?(h.append(" - "),_=-_):h.length()>0&&h.append(" + "),(p===0||_!==1)&&h.append(_),p!==0&&(p===1?h.append("x"):(h.append("x^"),h.append(p))))}return h.toString()}}class Bn{add(h,p){return(h+p)%this.modulus}subtract(h,p){return(this.modulus+h-p)%this.modulus}exp(h){return this.expTable[h]}log(h){if(h===0)throw new g;return this.logTable[h]}inverse(h){if(h===0)throw new je;return this.expTable[this.modulus-this.logTable[h]-1]}multiply(h,p){return h===0||p===0?0:this.expTable[(this.logTable[h]+this.logTable[p])%(this.modulus-1)]}getSize(){return this.modulus}equals(h){return h===this}}class vs extends Bn{constructor(h,p){super(),this.modulus=h,this.expTable=new Int32Array(h),this.logTable=new Int32Array(h);let _=1;for(let y=0;y<h;y++)this.expTable[y]=_,_=_*p%h;for(let y=0;y<h-1;y++)this.logTable[this.expTable[y]]=y;this.zero=new rn(this,new Int32Array([0])),this.one=new rn(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(h,p){if(h<0)throw new g;if(p===0)return this.zero;let _=new Int32Array(h+1);return _[0]=p,new rn(this,_)}}vs.PDF417_GF=new vs(Qt.NUMBER_OF_CODEWORDS,3);class bs{constructor(){this.field=vs.PDF417_GF}decode(h,p,_){let y=new rn(this.field,h),C=new Int32Array(p),k=!1;for(let ot=p;ot>0;ot--){let lt=y.evaluateAt(this.field.exp(ot));C[p-ot]=lt,lt!==0&&(k=!0)}if(!k)return 0;let D=this.field.getOne();if(_!=null)for(const ot of _){let lt=this.field.exp(h.length-1-ot),Ct=new rn(this.field,new Int32Array([this.field.subtract(0,lt),1]));D=D.multiply(Ct)}let z=new rn(this.field,C),Q=this.runEuclideanAlgorithm(this.field.buildMonomial(p,1),z,p),ce=Q[0],Ce=Q[1],ke=this.findErrorLocations(ce),qe=this.findErrorMagnitudes(Ce,ce,ke);for(let ot=0;ot<ke.length;ot++){let lt=h.length-1-this.field.log(ke[ot]);if(lt<0)throw w.getChecksumInstance();h[lt]=this.field.subtract(h[lt],qe[ot])}return ke.length}runEuclideanAlgorithm(h,p,_){if(h.getDegree()<p.getDegree()){let ke=h;h=p,p=ke}let y=h,C=p,k=this.field.getZero(),D=this.field.getOne();for(;C.getDegree()>=Math.round(_/2);){let ke=y,qe=k;if(y=C,k=D,y.isZero())throw w.getChecksumInstance();C=ke;let ot=this.field.getZero(),lt=y.getCoefficient(y.getDegree()),Ct=this.field.inverse(lt);for(;C.getDegree()>=y.getDegree()&&!C.isZero();){let Bt=C.getDegree()-y.getDegree(),Cn=this.field.multiply(C.getCoefficient(C.getDegree()),Ct);ot=ot.add(this.field.buildMonomial(Bt,Cn)),C=C.subtract(y.multiplyByMonomial(Bt,Cn))}D=ot.multiply(k).subtract(qe).negative()}let z=D.getCoefficient(0);if(z===0)throw w.getChecksumInstance();let Q=this.field.inverse(z),ce=D.multiply(Q),Ce=C.multiply(Q);return[ce,Ce]}findErrorLocations(h){let p=h.getDegree(),_=new Int32Array(p),y=0;for(let C=1;C<this.field.getSize()&&y<p;C++)h.evaluateAt(C)===0&&(_[y]=this.field.inverse(C),y++);if(y!==p)throw w.getChecksumInstance();return _}findErrorMagnitudes(h,p,_){let y=p.getDegree(),C=new Int32Array(y);for(let Q=1;Q<=y;Q++)C[y-Q]=this.field.multiply(Q,p.getCoefficient(Q));let k=new rn(this.field,C),D=_.length,z=new Int32Array(D);for(let Q=0;Q<D;Q++){let ce=this.field.inverse(_[Q]),Ce=this.field.subtract(0,h.evaluateAt(ce)),ke=this.field.inverse(k.evaluateAt(ce));z[Q]=this.field.multiply(Ce,ke)}return z}}class ua{constructor(h,p,_,y,C){h instanceof ua?this.constructor_2(h):this.constructor_1(h,p,_,y,C)}constructor_1(h,p,_,y,C){const k=p==null||_==null,D=y==null||C==null;if(k&&D)throw new V;k?(p=new Ee(0,y.getY()),_=new Ee(0,C.getY())):D&&(y=new Ee(h.getWidth()-1,p.getY()),C=new Ee(h.getWidth()-1,_.getY())),this.image=h,this.topLeft=p,this.bottomLeft=_,this.topRight=y,this.bottomRight=C,this.minX=Math.trunc(Math.min(p.getX(),_.getX())),this.maxX=Math.trunc(Math.max(y.getX(),C.getX())),this.minY=Math.trunc(Math.min(p.getY(),y.getY())),this.maxY=Math.trunc(Math.max(_.getY(),C.getY()))}constructor_2(h){this.image=h.image,this.topLeft=h.getTopLeft(),this.bottomLeft=h.getBottomLeft(),this.topRight=h.getTopRight(),this.bottomRight=h.getBottomRight(),this.minX=h.getMinX(),this.maxX=h.getMaxX(),this.minY=h.getMinY(),this.maxY=h.getMaxY()}static merge(h,p){return h==null?p:p==null?h:new ua(h.image,h.topLeft,h.bottomLeft,p.topRight,p.bottomRight)}addMissingRows(h,p,_){let y=this.topLeft,C=this.bottomLeft,k=this.topRight,D=this.bottomRight;if(h>0){let z=_?this.topLeft:this.topRight,Q=Math.trunc(z.getY()-h);Q<0&&(Q=0);let ce=new Ee(z.getX(),Q);_?y=ce:k=ce}if(p>0){let z=_?this.bottomLeft:this.bottomRight,Q=Math.trunc(z.getY()+p);Q>=this.image.getHeight()&&(Q=this.image.getHeight()-1);let ce=new Ee(z.getX(),Q);_?C=ce:D=ce}return new ua(this.image,y,C,k,D)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class tr{constructor(h,p,_,y){this.columnCount=h,this.errorCorrectionLevel=y,this.rowCountUpperPart=p,this.rowCountLowerPart=_,this.rowCount=p+_}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class Xa{constructor(){this.buffer=""}static form(h,p){let _=-1;function y(k,D,z,Q,ce,Ce){if(k==="%%")return"%";if(p[++_]===void 0)return;k=Q?parseInt(Q.substr(1)):void 0;let ke=ce?parseInt(ce.substr(1)):void 0,qe;switch(Ce){case"s":qe=p[_];break;case"c":qe=p[_][0];break;case"f":qe=parseFloat(p[_]).toFixed(k);break;case"p":qe=parseFloat(p[_]).toPrecision(k);break;case"e":qe=parseFloat(p[_]).toExponential(k);break;case"x":qe=parseInt(p[_]).toString(ke||16);break;case"d":qe=parseFloat(parseInt(p[_],ke||10).toPrecision(k)).toFixed(0);break}qe=typeof qe=="object"?JSON.stringify(qe):(+qe).toString(ke);let ot=parseInt(z),lt=z&&z[0]+""=="0"?"0":" ";for(;qe.length<ot;)qe=D!==void 0?qe+lt:lt+qe;return qe}let C=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return h.replace(C,y)}format(h,...p){this.buffer+=Xa.form(h,p)}toString(){return this.buffer}}class ji{constructor(h){this.boundingBox=new ua(h),this.codewords=new Array(h.getMaxY()-h.getMinY()+1)}getCodewordNearby(h){let p=this.getCodeword(h);if(p!=null)return p;for(let _=1;_<ji.MAX_NEARBY_DISTANCE;_++){let y=this.imageRowToCodewordIndex(h)-_;if(y>=0&&(p=this.codewords[y],p!=null)||(y=this.imageRowToCodewordIndex(h)+_,y<this.codewords.length&&(p=this.codewords[y],p!=null)))return p}return null}imageRowToCodewordIndex(h){return h-this.boundingBox.getMinY()}setCodeword(h,p){this.codewords[this.imageRowToCodewordIndex(h)]=p}getCodeword(h){return this.codewords[this.imageRowToCodewordIndex(h)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const h=new Xa;let p=0;for(const _ of this.codewords){if(_==null){h.format("%3d:    |   %n",p++);continue}h.format("%3d: %3d|%3d%n",p++,_.getRowNumber(),_.getValue())}return h.toString()}}ji.MAX_NEARBY_DISTANCE=5;class Sr{constructor(){this.values=new Map}setValue(h){h=Math.trunc(h);let p=this.values.get(h);p==null&&(p=0),p++,this.values.set(h,p)}getValue(){let h=-1,p=new Array;for(const[_,y]of this.values.entries()){const C={getKey:()=>_,getValue:()=>y};C.getValue()>h?(h=C.getValue(),p=[],p.push(C.getKey())):C.getValue()===h&&p.push(C.getKey())}return Qt.toIntArray(p)}getConfidence(h){return this.values.get(h)}}class Zi extends ji{constructor(h,p){super(h),this._isLeft=p}setRowNumbers(){for(let h of this.getCodewords())h!=null&&h.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(h){let p=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(p,h);let _=this.getBoundingBox(),y=this._isLeft?_.getTopLeft():_.getTopRight(),C=this._isLeft?_.getBottomLeft():_.getBottomRight(),k=this.imageRowToCodewordIndex(Math.trunc(y.getY())),D=this.imageRowToCodewordIndex(Math.trunc(C.getY())),z=-1,Q=1,ce=0;for(let Ce=k;Ce<D;Ce++){if(p[Ce]==null)continue;let ke=p[Ce],qe=ke.getRowNumber()-z;if(qe===0)ce++;else if(qe===1)Q=Math.max(Q,ce),ce=1,z=ke.getRowNumber();else if(qe<0||ke.getRowNumber()>=h.getRowCount()||qe>Ce)p[Ce]=null;else{let ot;Q>2?ot=(Q-2)*qe:ot=qe;let lt=ot>=Ce;for(let Ct=1;Ct<=ot&&!lt;Ct++)lt=p[Ce-Ct]!=null;lt?p[Ce]=null:(z=ke.getRowNumber(),ce=1)}}}getRowHeights(){let h=this.getBarcodeMetadata();if(h==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(h);let p=new Int32Array(h.getRowCount());for(let _ of this.getCodewords())if(_!=null){let y=_.getRowNumber();if(y>=p.length)continue;p[y]++}return p}adjustIncompleteIndicatorColumnRowNumbers(h){let p=this.getBoundingBox(),_=this._isLeft?p.getTopLeft():p.getTopRight(),y=this._isLeft?p.getBottomLeft():p.getBottomRight(),C=this.imageRowToCodewordIndex(Math.trunc(_.getY())),k=this.imageRowToCodewordIndex(Math.trunc(y.getY())),D=this.getCodewords(),z=-1;for(let Q=C;Q<k;Q++){if(D[Q]==null)continue;let ce=D[Q];ce.setRowNumberAsRowIndicatorColumn();let Ce=ce.getRowNumber()-z;Ce===0||(Ce===1?z=ce.getRowNumber():ce.getRowNumber()>=h.getRowCount()?D[Q]=null:z=ce.getRowNumber())}}getBarcodeMetadata(){let h=this.getCodewords(),p=new Sr,_=new Sr,y=new Sr,C=new Sr;for(let D of h){if(D==null)continue;D.setRowNumberAsRowIndicatorColumn();let z=D.getValue()%30,Q=D.getRowNumber();switch(this._isLeft||(Q+=2),Q%3){case 0:_.setValue(z*3+1);break;case 1:C.setValue(z/3),y.setValue(z%3);break;case 2:p.setValue(z+1);break}}if(p.getValue().length===0||_.getValue().length===0||y.getValue().length===0||C.getValue().length===0||p.getValue()[0]<1||_.getValue()[0]+y.getValue()[0]<Qt.MIN_ROWS_IN_BARCODE||_.getValue()[0]+y.getValue()[0]>Qt.MAX_ROWS_IN_BARCODE)return null;let k=new tr(p.getValue()[0],_.getValue()[0],y.getValue()[0],C.getValue()[0]);return this.removeIncorrectCodewords(h,k),k}removeIncorrectCodewords(h,p){for(let _=0;_<h.length;_++){let y=h[_];if(h[_]==null)continue;let C=y.getValue()%30,k=y.getRowNumber();if(k>p.getRowCount()){h[_]=null;continue}switch(this._isLeft||(k+=2),k%3){case 0:C*3+1!==p.getRowCountUpperPart()&&(h[_]=null);break;case 1:(Math.trunc(C/3)!==p.getErrorCorrectionLevel()||C%3!==p.getRowCountLowerPart())&&(h[_]=null);break;case 2:C+1!==p.getColumnCount()&&(h[_]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class Pe{constructor(h,p){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=h,this.barcodeColumnCount=h.getColumnCount(),this.boundingBox=p,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let h=Qt.MAX_CODEWORDS_IN_BARCODE,p;do p=h,h=this.adjustRowNumbersAndGetCount();while(h>0&&h<p);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(h){h!=null&&h.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let h=this.adjustRowNumbersByRow();if(h===0)return 0;for(let p=1;p<this.barcodeColumnCount+1;p++){let _=this.detectionResultColumns[p].getCodewords();for(let y=0;y<_.length;y++)_[y]!=null&&(_[y].hasValidRowNumber()||this.adjustRowNumbers(p,y,_))}return h}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let h=this.detectionResultColumns[0].getCodewords(),p=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let _=0;_<h.length;_++)if(h[_]!=null&&p[_]!=null&&h[_].getRowNumber()===p[_].getRowNumber())for(let y=1;y<=this.barcodeColumnCount;y++){let C=this.detectionResultColumns[y].getCodewords()[_];C!=null&&(C.setRowNumber(h[_].getRowNumber()),C.hasValidRowNumber()||(this.detectionResultColumns[y].getCodewords()[_]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let h=0,p=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let _=0;_<p.length;_++){if(p[_]==null)continue;let y=p[_].getRowNumber(),C=0;for(let k=this.barcodeColumnCount+1;k>0&&C<this.ADJUST_ROW_NUMBER_SKIP;k--){let D=this.detectionResultColumns[k].getCodewords()[_];D!=null&&(C=Pe.adjustRowNumberIfValid(y,C,D),D.hasValidRowNumber()||h++)}}return h}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let h=0,p=this.detectionResultColumns[0].getCodewords();for(let _=0;_<p.length;_++){if(p[_]==null)continue;let y=p[_].getRowNumber(),C=0;for(let k=1;k<this.barcodeColumnCount+1&&C<this.ADJUST_ROW_NUMBER_SKIP;k++){let D=this.detectionResultColumns[k].getCodewords()[_];D!=null&&(C=Pe.adjustRowNumberIfValid(y,C,D),D.hasValidRowNumber()||h++)}}return h}static adjustRowNumberIfValid(h,p,_){return _==null||_.hasValidRowNumber()||(_.isValidRowNumber(h)?(_.setRowNumber(h),p=0):++p),p}adjustRowNumbers(h,p,_){if(!this.detectionResultColumns[h-1])return;let y=_[p],C=this.detectionResultColumns[h-1].getCodewords(),k=C;this.detectionResultColumns[h+1]!=null&&(k=this.detectionResultColumns[h+1].getCodewords());let D=new Array(14);D[2]=C[p],D[3]=k[p],p>0&&(D[0]=_[p-1],D[4]=C[p-1],D[5]=k[p-1]),p>1&&(D[8]=_[p-2],D[10]=C[p-2],D[11]=k[p-2]),p<_.length-1&&(D[1]=_[p+1],D[6]=C[p+1],D[7]=k[p+1]),p<_.length-2&&(D[9]=_[p+2],D[12]=C[p+2],D[13]=k[p+2]);for(let z of D)if(Pe.adjustRowNumber(y,z))return}static adjustRowNumber(h,p){return p==null?!1:p.hasValidRowNumber()&&p.getBucket()===h.getBucket()?(h.setRowNumber(p.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(h){this.boundingBox=h}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(h,p){this.detectionResultColumns[h]=p}getDetectionResultColumn(h){return this.detectionResultColumns[h]}toString(){let h=this.detectionResultColumns[0];h==null&&(h=this.detectionResultColumns[this.barcodeColumnCount+1]);let p=new Xa;for(let _=0;_<h.getCodewords().length;_++){p.format("CW %3d:",_);for(let y=0;y<this.barcodeColumnCount+2;y++){if(this.detectionResultColumns[y]==null){p.format("    |   ");continue}let C=this.detectionResultColumns[y].getCodewords()[_];if(C==null){p.format("    |   ");continue}p.format(" %3d|%3d",C.getRowNumber(),C.getValue())}p.format("%n")}return p.toString()}}class Qe{constructor(h,p,_,y){this.rowNumber=Qe.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(h),this.endX=Math.trunc(p),this.bucket=Math.trunc(_),this.value=Math.trunc(y)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(h){return h!==Qe.BARCODE_ROW_UNKNOWN&&this.bucket===h%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(h){this.rowNumber=h}toString(){return this.rowNumber+"|"+this.value}}Qe.BARCODE_ROW_UNKNOWN=-1;class ft{static initialize(){for(let h=0;h<Qt.SYMBOL_TABLE.length;h++){let p=Qt.SYMBOL_TABLE[h],_=p&1;for(let y=0;y<Qt.BARS_IN_MODULE;y++){let C=0;for(;(p&1)===_;)C+=1,p>>=1;_=p&1,ft.RATIOS_TABLE[h]||(ft.RATIOS_TABLE[h]=new Array(Qt.BARS_IN_MODULE)),ft.RATIOS_TABLE[h][Qt.BARS_IN_MODULE-y-1]=Math.fround(C/Qt.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(h){let p=ft.getDecodedCodewordValue(ft.sampleBitCounts(h));return p!==-1?p:ft.getClosestDecodedValue(h)}static sampleBitCounts(h){let p=Se.sum(h),_=new Int32Array(Qt.BARS_IN_MODULE),y=0,C=0;for(let k=0;k<Qt.MODULES_IN_CODEWORD;k++){let D=p/(2*Qt.MODULES_IN_CODEWORD)+k*p/Qt.MODULES_IN_CODEWORD;C+h[y]<=D&&(C+=h[y],y++),_[y]++}return _}static getDecodedCodewordValue(h){let p=ft.getBitValue(h);return Qt.getCodeword(p)===-1?-1:p}static getBitValue(h){let p=0;for(let _=0;_<h.length;_++)for(let y=0;y<h[_];y++)p=p<<1|(_%2===0?1:0);return Math.trunc(p)}static getClosestDecodedValue(h){let p=Se.sum(h),_=new Array(Qt.BARS_IN_MODULE);if(p>1)for(let k=0;k<_.length;k++)_[k]=Math.fround(h[k]/p);let y=pe.MAX_VALUE,C=-1;this.bSymbolTableReady||ft.initialize();for(let k=0;k<ft.RATIOS_TABLE.length;k++){let D=0,z=ft.RATIOS_TABLE[k];for(let Q=0;Q<Qt.BARS_IN_MODULE;Q++){let ce=Math.fround(z[Q]-_[Q]);if(D+=Math.fround(ce*ce),D>=y)break}D<y&&(y=D,C=Qt.SYMBOL_TABLE[k])}return C}}ft.bSymbolTableReady=!1,ft.RATIOS_TABLE=new Array(Qt.SYMBOL_TABLE.length).map(we=>new Array(Qt.BARS_IN_MODULE));class yt{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(h){this.segmentIndex=h}getFileId(){return this.fileId}setFileId(h){this.fileId=h}getOptionalData(){return this.optionalData}setOptionalData(h){this.optionalData=h}isLastSegment(){return this.lastSegment}setLastSegment(h){this.lastSegment=h}getSegmentCount(){return this.segmentCount}setSegmentCount(h){this.segmentCount=h}getSender(){return this.sender||null}setSender(h){this.sender=h}getAddressee(){return this.addressee||null}setAddressee(h){this.addressee=h}getFileName(){return this.fileName}setFileName(h){this.fileName=h}getFileSize(){return this.fileSize}setFileSize(h){this.fileSize=h}getChecksum(){return this.checksum}setChecksum(h){this.checksum=h}getTimestamp(){return this.timestamp}setTimestamp(h){this.timestamp=h}}class kn{static parseLong(h,p=void 0){return parseInt(h,p)}}class Un extends d{}Un.kind="NullPointerException";class Zn{writeBytes(h){this.writeBytesOffset(h,0,h.length)}writeBytesOffset(h,p,_){if(h==null)throw new Un;if(p<0||p>h.length||_<0||p+_>h.length||p+_<0)throw new N;if(_===0)return;for(let y=0;y<_;y++)this.write(h[p+y])}flush(){}close(){}}class Cs extends d{}class Ha extends Zn{constructor(h=32){if(super(),this.count=0,h<0)throw new g("Negative initial size: "+h);this.buf=new Uint8Array(h)}ensureCapacity(h){h-this.buf.length>0&&this.grow(h)}grow(h){let _=this.buf.length<<1;if(_-h<0&&(_=h),_<0){if(h<0)throw new Cs;_=B.MAX_VALUE}this.buf=M.copyOfUint8Array(this.buf,_)}write(h){this.ensureCapacity(this.count+1),this.buf[this.count]=h,this.count+=1}writeBytesOffset(h,p,_){if(p<0||p>h.length||_<0||p+_-h.length>0)throw new N;this.ensureCapacity(this.count+_),j.arraycopy(h,p,this.buf,this.count,_),this.count+=_}writeTo(h){h.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return M.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(h){return h?typeof h=="string"?this.toString_string(h):this.toString_number(h):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(h){return new String(this.buf).toString()}toString_number(h){return new String(this.buf).toString()}close(){}}var jn;(function(we){we[we.ALPHA=0]="ALPHA",we[we.LOWER=1]="LOWER",we[we.MIXED=2]="MIXED",we[we.PUNCT=3]="PUNCT",we[we.ALPHA_SHIFT=4]="ALPHA_SHIFT",we[we.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(jn||(jn={}));function wa(){if(typeof window<"u")return window.BigInt||null;if(typeof ld<"u")return ld.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let Oe;function Ve(we){if(typeof Oe>"u"&&(Oe=wa()),Oe===null)throw new Error("BigInt is not supported!");return Oe(we)}function gt(){let we=[];we[0]=Ve(1);let h=Ve(900);we[1]=h;for(let p=2;p<16;p++)we[p]=we[p-1]*h;return we}class $e{static decode(h,p){let _=new te(""),y=F.ISO8859_1;_.enableDecoding(y);let C=1,k=h[C++],D=new yt;for(;C<h[0];){switch(k){case $e.TEXT_COMPACTION_MODE_LATCH:C=$e.textCompaction(h,C,_);break;case $e.BYTE_COMPACTION_MODE_LATCH:case $e.BYTE_COMPACTION_MODE_LATCH_6:C=$e.byteCompaction(k,h,y,C,_);break;case $e.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:_.append(h[C++]);break;case $e.NUMERIC_COMPACTION_MODE_LATCH:C=$e.numericCompaction(h,C,_);break;case $e.ECI_CHARSET:F.getCharacterSetECIByValue(h[C++]);break;case $e.ECI_GENERAL_PURPOSE:C+=2;break;case $e.ECI_USER_DEFINED:C++;break;case $e.BEGIN_MACRO_PDF417_CONTROL_BLOCK:C=$e.decodeMacroBlock(h,C,D);break;case $e.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case $e.MACRO_PDF417_TERMINATOR:throw new $;default:C--,C=$e.textCompaction(h,C,_);break}if(C<h.length)k=h[C++];else throw $.getFormatInstance()}if(_.length()===0)throw $.getFormatInstance();let z=new he(null,_.toString(),null,p);return z.setOther(D),z}static decodeMacroBlock(h,p,_){if(p+$e.NUMBER_OF_SEQUENCE_CODEWORDS>h[0])throw $.getFormatInstance();let y=new Int32Array($e.NUMBER_OF_SEQUENCE_CODEWORDS);for(let D=0;D<$e.NUMBER_OF_SEQUENCE_CODEWORDS;D++,p++)y[D]=h[p];_.setSegmentIndex(B.parseInt($e.decodeBase900toBase10(y,$e.NUMBER_OF_SEQUENCE_CODEWORDS)));let C=new te;p=$e.textCompaction(h,p,C),_.setFileId(C.toString());let k=-1;for(h[p]===$e.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(k=p+1);p<h[0];)switch(h[p]){case $e.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(p++,h[p]){case $e.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let D=new te;p=$e.textCompaction(h,p+1,D),_.setFileName(D.toString());break;case $e.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let z=new te;p=$e.textCompaction(h,p+1,z),_.setSender(z.toString());break;case $e.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let Q=new te;p=$e.textCompaction(h,p+1,Q),_.setAddressee(Q.toString());break;case $e.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let ce=new te;p=$e.numericCompaction(h,p+1,ce),_.setSegmentCount(B.parseInt(ce.toString()));break;case $e.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let Ce=new te;p=$e.numericCompaction(h,p+1,Ce),_.setTimestamp(kn.parseLong(Ce.toString()));break;case $e.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let ke=new te;p=$e.numericCompaction(h,p+1,ke),_.setChecksum(B.parseInt(ke.toString()));break;case $e.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let qe=new te;p=$e.numericCompaction(h,p+1,qe),_.setFileSize(kn.parseLong(qe.toString()));break;default:throw $.getFormatInstance()}break;case $e.MACRO_PDF417_TERMINATOR:p++,_.setLastSegment(!0);break;default:throw $.getFormatInstance()}if(k!==-1){let D=p-k;_.isLastSegment()&&D--,_.setOptionalData(M.copyOfRange(h,k,k+D))}return p}static textCompaction(h,p,_){let y=new Int32Array((h[0]-p)*2),C=new Int32Array((h[0]-p)*2),k=0,D=!1;for(;p<h[0]&&!D;){let z=h[p++];if(z<$e.TEXT_COMPACTION_MODE_LATCH)y[k]=z/30,y[k+1]=z%30,k+=2;else switch(z){case $e.TEXT_COMPACTION_MODE_LATCH:y[k++]=$e.TEXT_COMPACTION_MODE_LATCH;break;case $e.BYTE_COMPACTION_MODE_LATCH:case $e.BYTE_COMPACTION_MODE_LATCH_6:case $e.NUMERIC_COMPACTION_MODE_LATCH:case $e.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case $e.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case $e.MACRO_PDF417_TERMINATOR:p--,D=!0;break;case $e.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:y[k]=$e.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,z=h[p++],C[k]=z,k++;break}}return $e.decodeTextCompaction(y,C,k,_),p}static decodeTextCompaction(h,p,_,y){let C=jn.ALPHA,k=jn.ALPHA,D=0;for(;D<_;){let z=h[D],Q="";switch(C){case jn.ALPHA:if(z<26)Q=String.fromCharCode(65+z);else switch(z){case 26:Q=" ";break;case $e.LL:C=jn.LOWER;break;case $e.ML:C=jn.MIXED;break;case $e.PS:k=C,C=jn.PUNCT_SHIFT;break;case $e.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:y.append(p[D]);break;case $e.TEXT_COMPACTION_MODE_LATCH:C=jn.ALPHA;break}break;case jn.LOWER:if(z<26)Q=String.fromCharCode(97+z);else switch(z){case 26:Q=" ";break;case $e.AS:k=C,C=jn.ALPHA_SHIFT;break;case $e.ML:C=jn.MIXED;break;case $e.PS:k=C,C=jn.PUNCT_SHIFT;break;case $e.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:y.append(p[D]);break;case $e.TEXT_COMPACTION_MODE_LATCH:C=jn.ALPHA;break}break;case jn.MIXED:if(z<$e.PL)Q=$e.MIXED_CHARS[z];else switch(z){case $e.PL:C=jn.PUNCT;break;case 26:Q=" ";break;case $e.LL:C=jn.LOWER;break;case $e.AL:C=jn.ALPHA;break;case $e.PS:k=C,C=jn.PUNCT_SHIFT;break;case $e.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:y.append(p[D]);break;case $e.TEXT_COMPACTION_MODE_LATCH:C=jn.ALPHA;break}break;case jn.PUNCT:if(z<$e.PAL)Q=$e.PUNCT_CHARS[z];else switch(z){case $e.PAL:C=jn.ALPHA;break;case $e.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:y.append(p[D]);break;case $e.TEXT_COMPACTION_MODE_LATCH:C=jn.ALPHA;break}break;case jn.ALPHA_SHIFT:if(C=k,z<26)Q=String.fromCharCode(65+z);else switch(z){case 26:Q=" ";break;case $e.TEXT_COMPACTION_MODE_LATCH:C=jn.ALPHA;break}break;case jn.PUNCT_SHIFT:if(C=k,z<$e.PAL)Q=$e.PUNCT_CHARS[z];else switch(z){case $e.PAL:C=jn.ALPHA;break;case $e.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:y.append(p[D]);break;case $e.TEXT_COMPACTION_MODE_LATCH:C=jn.ALPHA;break}break}Q!==""&&y.append(Q),D++}}static byteCompaction(h,p,_,y,C){let k=new Ha,D=0,z=0,Q=!1;switch(h){case $e.BYTE_COMPACTION_MODE_LATCH:let ce=new Int32Array(6),Ce=p[y++];for(;y<p[0]&&!Q;)switch(ce[D++]=Ce,z=900*z+Ce,Ce=p[y++],Ce){case $e.TEXT_COMPACTION_MODE_LATCH:case $e.BYTE_COMPACTION_MODE_LATCH:case $e.NUMERIC_COMPACTION_MODE_LATCH:case $e.BYTE_COMPACTION_MODE_LATCH_6:case $e.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case $e.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case $e.MACRO_PDF417_TERMINATOR:y--,Q=!0;break;default:if(D%5===0&&D>0){for(let ke=0;ke<6;++ke)k.write(Number(Ve(z)>>Ve(8*(5-ke))));z=0,D=0}break}y===p[0]&&Ce<$e.TEXT_COMPACTION_MODE_LATCH&&(ce[D++]=Ce);for(let ke=0;ke<D;ke++)k.write(ce[ke]);break;case $e.BYTE_COMPACTION_MODE_LATCH_6:for(;y<p[0]&&!Q;){let ke=p[y++];if(ke<$e.TEXT_COMPACTION_MODE_LATCH)D++,z=900*z+ke;else switch(ke){case $e.TEXT_COMPACTION_MODE_LATCH:case $e.BYTE_COMPACTION_MODE_LATCH:case $e.NUMERIC_COMPACTION_MODE_LATCH:case $e.BYTE_COMPACTION_MODE_LATCH_6:case $e.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case $e.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case $e.MACRO_PDF417_TERMINATOR:y--,Q=!0;break}if(D%5===0&&D>0){for(let qe=0;qe<6;++qe)k.write(Number(Ve(z)>>Ve(8*(5-qe))));z=0,D=0}}break}return C.append(ne.decode(k.toByteArray(),_)),y}static numericCompaction(h,p,_){let y=0,C=!1,k=new Int32Array($e.MAX_NUMERIC_CODEWORDS);for(;p<h[0]&&!C;){let D=h[p++];if(p===h[0]&&(C=!0),D<$e.TEXT_COMPACTION_MODE_LATCH)k[y]=D,y++;else switch(D){case $e.TEXT_COMPACTION_MODE_LATCH:case $e.BYTE_COMPACTION_MODE_LATCH:case $e.BYTE_COMPACTION_MODE_LATCH_6:case $e.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case $e.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case $e.MACRO_PDF417_TERMINATOR:p--,C=!0;break}(y%$e.MAX_NUMERIC_CODEWORDS===0||D===$e.NUMERIC_COMPACTION_MODE_LATCH||C)&&y>0&&(_.append($e.decodeBase900toBase10(k,y)),y=0)}return p}static decodeBase900toBase10(h,p){let _=Ve(0);for(let C=0;C<p;C++)_+=$e.EXP900[p-C-1]*Ve(h[C]);let y=_.toString();if(y.charAt(0)!=="1")throw new $;return y.substring(1)}}$e.TEXT_COMPACTION_MODE_LATCH=900,$e.BYTE_COMPACTION_MODE_LATCH=901,$e.NUMERIC_COMPACTION_MODE_LATCH=902,$e.BYTE_COMPACTION_MODE_LATCH_6=924,$e.ECI_USER_DEFINED=925,$e.ECI_GENERAL_PURPOSE=926,$e.ECI_CHARSET=927,$e.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,$e.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,$e.MACRO_PDF417_TERMINATOR=922,$e.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,$e.MAX_NUMERIC_CODEWORDS=15,$e.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,$e.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,$e.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,$e.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,$e.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,$e.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,$e.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,$e.PL=25,$e.LL=27,$e.AS=27,$e.ML=28,$e.AL=28,$e.PS=29,$e.PAL=29,$e.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,$e.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",$e.EXP900=wa()?gt():[],$e.NUMBER_OF_SEQUENCE_CODEWORDS=2;class Vt{constructor(){}static decode(h,p,_,y,C,k,D){let z=new ua(h,p,_,y,C),Q=null,ce=null,Ce;for(let ot=!0;;ot=!1){if(p!=null&&(Q=Vt.getRowIndicatorColumn(h,z,p,!0,k,D)),y!=null&&(ce=Vt.getRowIndicatorColumn(h,z,y,!1,k,D)),Ce=Vt.merge(Q,ce),Ce==null)throw V.getNotFoundInstance();let lt=Ce.getBoundingBox();if(ot&&lt!=null&&(lt.getMinY()<z.getMinY()||lt.getMaxY()>z.getMaxY()))z=lt;else break}Ce.setBoundingBox(z);let ke=Ce.getBarcodeColumnCount()+1;Ce.setDetectionResultColumn(0,Q),Ce.setDetectionResultColumn(ke,ce);let qe=Q!=null;for(let ot=1;ot<=ke;ot++){let lt=qe?ot:ke-ot;if(Ce.getDetectionResultColumn(lt)!==void 0)continue;let Ct;lt===0||lt===ke?Ct=new Zi(z,lt===0):Ct=new ji(z),Ce.setDetectionResultColumn(lt,Ct);let Bt=-1,Cn=Bt;for(let In=z.getMinY();In<=z.getMaxY();In++){if(Bt=Vt.getStartColumn(Ce,lt,In,qe),Bt<0||Bt>z.getMaxX()){if(Cn===-1)continue;Bt=Cn}let xn=Vt.detectCodeword(h,z.getMinX(),z.getMaxX(),qe,Bt,In,k,D);xn!=null&&(Ct.setCodeword(In,xn),Cn=Bt,k=Math.min(k,xn.getWidth()),D=Math.max(D,xn.getWidth()))}}return Vt.createDecoderResult(Ce)}static merge(h,p){if(h==null&&p==null)return null;let _=Vt.getBarcodeMetadata(h,p);if(_==null)return null;let y=ua.merge(Vt.adjustBoundingBox(h),Vt.adjustBoundingBox(p));return new Pe(_,y)}static adjustBoundingBox(h){if(h==null)return null;let p=h.getRowHeights();if(p==null)return null;let _=Vt.getMax(p),y=0;for(let D of p)if(y+=_-D,D>0)break;let C=h.getCodewords();for(let D=0;y>0&&C[D]==null;D++)y--;let k=0;for(let D=p.length-1;D>=0&&(k+=_-p[D],!(p[D]>0));D--);for(let D=C.length-1;k>0&&C[D]==null;D--)k--;return h.getBoundingBox().addMissingRows(y,k,h.isLeft())}static getMax(h){let p=-1;for(let _ of h)p=Math.max(p,_);return p}static getBarcodeMetadata(h,p){let _;if(h==null||(_=h.getBarcodeMetadata())==null)return p==null?null:p.getBarcodeMetadata();let y;return p==null||(y=p.getBarcodeMetadata())==null?_:_.getColumnCount()!==y.getColumnCount()&&_.getErrorCorrectionLevel()!==y.getErrorCorrectionLevel()&&_.getRowCount()!==y.getRowCount()?null:_}static getRowIndicatorColumn(h,p,_,y,C,k){let D=new Zi(p,y);for(let z=0;z<2;z++){let Q=z===0?1:-1,ce=Math.trunc(Math.trunc(_.getX()));for(let Ce=Math.trunc(Math.trunc(_.getY()));Ce<=p.getMaxY()&&Ce>=p.getMinY();Ce+=Q){let ke=Vt.detectCodeword(h,0,h.getWidth(),y,ce,Ce,C,k);ke!=null&&(D.setCodeword(Ce,ke),y?ce=ke.getStartX():ce=ke.getEndX())}}return D}static adjustCodewordCount(h,p){let _=p[0][1],y=_.getValue(),C=h.getBarcodeColumnCount()*h.getBarcodeRowCount()-Vt.getNumberOfECCodeWords(h.getBarcodeECLevel());if(y.length===0){if(C<1||C>Qt.MAX_CODEWORDS_IN_BARCODE)throw V.getNotFoundInstance();_.setValue(C)}else y[0]!==C&&_.setValue(C)}static createDecoderResult(h){let p=Vt.createBarcodeMatrix(h);Vt.adjustCodewordCount(h,p);let _=new Array,y=new Int32Array(h.getBarcodeRowCount()*h.getBarcodeColumnCount()),C=[],k=new Array;for(let z=0;z<h.getBarcodeRowCount();z++)for(let Q=0;Q<h.getBarcodeColumnCount();Q++){let ce=p[z][Q+1].getValue(),Ce=z*h.getBarcodeColumnCount()+Q;ce.length===0?_.push(Ce):ce.length===1?y[Ce]=ce[0]:(k.push(Ce),C.push(ce))}let D=new Array(C.length);for(let z=0;z<D.length;z++)D[z]=C[z];return Vt.createDecoderResultFromAmbiguousValues(h.getBarcodeECLevel(),y,Qt.toIntArray(_),Qt.toIntArray(k),D)}static createDecoderResultFromAmbiguousValues(h,p,_,y,C){let k=new Int32Array(y.length),D=100;for(;D-- >0;){for(let z=0;z<k.length;z++)p[y[z]]=C[z][k[z]];try{return Vt.decodeCodewords(p,h,_)}catch(z){if(!(z instanceof w))throw z}if(k.length===0)throw w.getChecksumInstance();for(let z=0;z<k.length;z++)if(k[z]<C[z].length-1){k[z]++;break}else if(k[z]=0,z===k.length-1)throw w.getChecksumInstance()}throw w.getChecksumInstance()}static createBarcodeMatrix(h){let p=Array.from({length:h.getBarcodeRowCount()},()=>new Array(h.getBarcodeColumnCount()+2));for(let y=0;y<p.length;y++)for(let C=0;C<p[y].length;C++)p[y][C]=new Sr;let _=0;for(let y of h.getDetectionResultColumns()){if(y!=null){for(let C of y.getCodewords())if(C!=null){let k=C.getRowNumber();if(k>=0){if(k>=p.length)continue;p[k][_].setValue(C.getValue())}}}_++}return p}static isValidBarcodeColumn(h,p){return p>=0&&p<=h.getBarcodeColumnCount()+1}static getStartColumn(h,p,_,y){let C=y?1:-1,k=null;if(Vt.isValidBarcodeColumn(h,p-C)&&(k=h.getDetectionResultColumn(p-C).getCodeword(_)),k!=null)return y?k.getEndX():k.getStartX();if(k=h.getDetectionResultColumn(p).getCodewordNearby(_),k!=null)return y?k.getStartX():k.getEndX();if(Vt.isValidBarcodeColumn(h,p-C)&&(k=h.getDetectionResultColumn(p-C).getCodewordNearby(_)),k!=null)return y?k.getEndX():k.getStartX();let D=0;for(;Vt.isValidBarcodeColumn(h,p-C);){p-=C;for(let z of h.getDetectionResultColumn(p).getCodewords())if(z!=null)return(y?z.getEndX():z.getStartX())+C*D*(z.getEndX()-z.getStartX());D++}return y?h.getBoundingBox().getMinX():h.getBoundingBox().getMaxX()}static detectCodeword(h,p,_,y,C,k,D,z){C=Vt.adjustCodewordStartColumn(h,p,_,y,C,k);let Q=Vt.getModuleBitCount(h,p,_,y,C,k);if(Q==null)return null;let ce,Ce=Se.sum(Q);if(y)ce=C+Ce;else{for(let ot=0;ot<Q.length/2;ot++){let lt=Q[ot];Q[ot]=Q[Q.length-1-ot],Q[Q.length-1-ot]=lt}ce=C,C=ce-Ce}if(!Vt.checkCodewordSkew(Ce,D,z))return null;let ke=ft.getDecodedValue(Q),qe=Qt.getCodeword(ke);return qe===-1?null:new Qe(C,ce,Vt.getCodewordBucketNumber(ke),qe)}static getModuleBitCount(h,p,_,y,C,k){let D=C,z=new Int32Array(8),Q=0,ce=y?1:-1,Ce=y;for(;(y?D<_:D>=p)&&Q<z.length;)h.get(D,k)===Ce?(z[Q]++,D+=ce):(Q++,Ce=!Ce);return Q===z.length||D===(y?_:p)&&Q===z.length-1?z:null}static getNumberOfECCodeWords(h){return 2<<h}static adjustCodewordStartColumn(h,p,_,y,C,k){let D=C,z=y?-1:1;for(let Q=0;Q<2;Q++){for(;(y?D>=p:D<_)&&y===h.get(D,k);){if(Math.abs(C-D)>Vt.CODEWORD_SKEW_SIZE)return C;D+=z}z=-z,y=!y}return D}static checkCodewordSkew(h,p,_){return p-Vt.CODEWORD_SKEW_SIZE<=h&&h<=_+Vt.CODEWORD_SKEW_SIZE}static decodeCodewords(h,p,_){if(h.length===0)throw $.getFormatInstance();let y=1<<p+1,C=Vt.correctErrors(h,_,y);Vt.verifyCodewordCount(h,y);let k=$e.decode(h,""+p);return k.setErrorsCorrected(C),k.setErasures(_.length),k}static correctErrors(h,p,_){if(p!=null&&p.length>_/2+Vt.MAX_ERRORS||_<0||_>Vt.MAX_EC_CODEWORDS)throw w.getChecksumInstance();return Vt.errorCorrection.decode(h,_,p)}static verifyCodewordCount(h,p){if(h.length<4)throw $.getFormatInstance();let _=h[0];if(_>h.length)throw $.getFormatInstance();if(_===0)if(p<h.length)h[0]=h.length-p;else throw $.getFormatInstance()}static getBitCountForCodeword(h){let p=new Int32Array(8),_=0,y=p.length-1;for(;!((h&1)!==_&&(_=h&1,y--,y<0));)p[y]++,h>>=1;return p}static getCodewordBucketNumber(h){return h instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(h):this.getCodewordBucketNumber_number(h)}static getCodewordBucketNumber_number(h){return Vt.getCodewordBucketNumber(Vt.getBitCountForCodeword(h))}static getCodewordBucketNumber_Int32Array(h){return(h[0]-h[2]+h[4]-h[6]+9)%9}static toString(h){let p=new Xa;for(let _=0;_<h.length;_++){p.format("Row %2d: ",_);for(let y=0;y<h[_].length;y++){let C=h[_][y];C.getValue().length===0?p.format("        ",null):p.format("%4d(%2d)",C.getValue()[0],C.getConfidence(C.getValue()[0]))}p.format("%n")}return p.toString()}}Vt.CODEWORD_SKEW_SIZE=2,Vt.MAX_ERRORS=3,Vt.MAX_EC_CODEWORDS=512,Vt.errorCorrection=new bs;class Mn{decode(h,p=null){let _=Mn.decode(h,p,!1);if(_==null||_.length===0||_[0]==null)throw V.getNotFoundInstance();return _[0]}decodeMultiple(h,p=null){try{return Mn.decode(h,p,!0)}catch(_){throw _ instanceof $||_ instanceof w?V.getNotFoundInstance():_}}static decode(h,p,_){const y=new Array,C=wt.detectMultiple(h,p,_);for(const k of C.getPoints()){const D=Vt.decode(C.getBits(),k[4],k[5],k[6],k[7],Mn.getMinCodewordWidth(k),Mn.getMaxCodewordWidth(k)),z=new oe(D.getText(),D.getRawBytes(),void 0,k,ae.PDF_417);z.putMetadata(ue.ERROR_CORRECTION_LEVEL,D.getECLevel());const Q=D.getOther();Q!=null&&z.putMetadata(ue.PDF417_EXTRA_METADATA,Q),y.push(z)}return y.map(k=>k)}static getMaxWidth(h,p){return h==null||p==null?0:Math.trunc(Math.abs(h.getX()-p.getX()))}static getMinWidth(h,p){return h==null||p==null?B.MAX_VALUE:Math.trunc(Math.abs(h.getX()-p.getX()))}static getMaxCodewordWidth(h){return Math.floor(Math.max(Math.max(Mn.getMaxWidth(h[0],h[4]),Mn.getMaxWidth(h[6],h[2])*Qt.MODULES_IN_CODEWORD/Qt.MODULES_IN_STOP_PATTERN),Math.max(Mn.getMaxWidth(h[1],h[5]),Mn.getMaxWidth(h[7],h[3])*Qt.MODULES_IN_CODEWORD/Qt.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(h){return Math.floor(Math.min(Math.min(Mn.getMinWidth(h[0],h[4]),Mn.getMinWidth(h[6],h[2])*Qt.MODULES_IN_CODEWORD/Qt.MODULES_IN_STOP_PATTERN),Math.min(Mn.getMinWidth(h[1],h[5]),Mn.getMinWidth(h[7],h[3])*Qt.MODULES_IN_CODEWORD/Qt.MODULES_IN_STOP_PATTERN)))}reset(){}}class Jn extends d{}Jn.kind="ReaderException";class Ss{constructor(h,p){this.verbose=h===!0,p&&this.setHints(p)}decode(h,p){return p&&this.setHints(p),this.decodeInternal(h)}decodeWithState(h){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(h)}setHints(h){this.hints=h;const p=!a(h)&&h.get(R.TRY_HARDER)===!0,_=a(h)?null:h.get(R.POSSIBLE_FORMATS),y=new Array;if(!a(_)){const C=_.some(k=>k===ae.UPC_A||k===ae.UPC_E||k===ae.EAN_13||k===ae.EAN_8||k===ae.CODABAR||k===ae.CODE_39||k===ae.CODE_93||k===ae.CODE_128||k===ae.ITF||k===ae.RSS_14||k===ae.RSS_EXPANDED);C&&!p&&y.push(new er(h,this.verbose)),_.includes(ae.QR_CODE)&&y.push(new ss),_.includes(ae.DATA_MATRIX)&&y.push(new Ga),_.includes(ae.AZTEC)&&y.push(new Xe),_.includes(ae.PDF_417)&&y.push(new Mn),C&&p&&y.push(new er(h,this.verbose))}y.length===0&&(p||y.push(new er(h,this.verbose)),y.push(new ss),y.push(new Ga),y.push(new Xe),y.push(new Mn),p&&y.push(new er(h,this.verbose))),this.readers=y}reset(){if(this.readers!==null)for(const h of this.readers)h.reset()}decodeInternal(h){if(this.readers===null)throw new Jn("No readers where selected, nothing can be read.");for(const p of this.readers)try{return p.decode(h,this.hints)}catch(_){if(_ instanceof Jn)continue}throw new V("No MultiFormat Readers were able to detect the code.")}}class jr extends G{constructor(h=null,p=500){const _=new Ss;_.setHints(h),super(_,p)}decodeBitmap(h){return this.reader.decodeWithState(h)}}class Vi extends G{constructor(h=500){super(new Mn,h)}}class Wr extends G{constructor(h=500){super(new ss,h)}}var Ji;(function(we){we[we.ERROR_CORRECTION=0]="ERROR_CORRECTION",we[we.CHARACTER_SET=1]="CHARACTER_SET",we[we.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",we[we.MIN_SIZE=3]="MIN_SIZE",we[we.MAX_SIZE=4]="MAX_SIZE",we[we.MARGIN=5]="MARGIN",we[we.PDF417_COMPACT=6]="PDF417_COMPACT",we[we.PDF417_COMPACTION=7]="PDF417_COMPACTION",we[we.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",we[we.AZTEC_LAYERS=9]="AZTEC_LAYERS",we[we.QR_VERSION=10]="QR_VERSION"})(Ji||(Ji={}));var Xs=Ji;class Rl{constructor(h){this.field=h,this.cachedGenerators=[],this.cachedGenerators.push(new ye(h,Int32Array.from([1])))}buildGenerator(h){const p=this.cachedGenerators;if(h>=p.length){let _=p[p.length-1];const y=this.field;for(let C=p.length;C<=h;C++){const k=_.multiply(new ye(y,Int32Array.from([1,y.exp(C-1+y.getGeneratorBase())])));p.push(k),_=k}}return p[h]}encode(h,p){if(p===0)throw new g("No error correction bytes");const _=h.length-p;if(_<=0)throw new g("No data bytes provided");const y=this.buildGenerator(p),C=new Int32Array(_);j.arraycopy(h,0,C,0,_);let k=new ye(this.field,C);k=k.multiplyByMonomial(p,1);const z=k.divide(y)[1].getCoefficients(),Q=p-z.length;for(let ce=0;ce<Q;ce++)h[_+ce]=0;j.arraycopy(z,0,h,_+Q,z.length)}}class Mr{constructor(){}static applyMaskPenaltyRule1(h){return Mr.applyMaskPenaltyRule1Internal(h,!0)+Mr.applyMaskPenaltyRule1Internal(h,!1)}static applyMaskPenaltyRule2(h){let p=0;const _=h.getArray(),y=h.getWidth(),C=h.getHeight();for(let k=0;k<C-1;k++){const D=_[k];for(let z=0;z<y-1;z++){const Q=D[z];Q===D[z+1]&&Q===_[k+1][z]&&Q===_[k+1][z+1]&&p++}}return Mr.N2*p}static applyMaskPenaltyRule3(h){let p=0;const _=h.getArray(),y=h.getWidth(),C=h.getHeight();for(let k=0;k<C;k++)for(let D=0;D<y;D++){const z=_[k];D+6<y&&z[D]===1&&z[D+1]===0&&z[D+2]===1&&z[D+3]===1&&z[D+4]===1&&z[D+5]===0&&z[D+6]===1&&(Mr.isWhiteHorizontal(z,D-4,D)||Mr.isWhiteHorizontal(z,D+7,D+11))&&p++,k+6<C&&_[k][D]===1&&_[k+1][D]===0&&_[k+2][D]===1&&_[k+3][D]===1&&_[k+4][D]===1&&_[k+5][D]===0&&_[k+6][D]===1&&(Mr.isWhiteVertical(_,D,k-4,k)||Mr.isWhiteVertical(_,D,k+7,k+11))&&p++}return p*Mr.N3}static isWhiteHorizontal(h,p,_){p=Math.max(p,0),_=Math.min(_,h.length);for(let y=p;y<_;y++)if(h[y]===1)return!1;return!0}static isWhiteVertical(h,p,_,y){_=Math.max(_,0),y=Math.min(y,h.length);for(let C=_;C<y;C++)if(h[C][p]===1)return!1;return!0}static applyMaskPenaltyRule4(h){let p=0;const _=h.getArray(),y=h.getWidth(),C=h.getHeight();for(let z=0;z<C;z++){const Q=_[z];for(let ce=0;ce<y;ce++)Q[ce]===1&&p++}const k=h.getHeight()*h.getWidth();return Math.floor(Math.abs(p*2-k)*10/k)*Mr.N4}static getDataMaskBit(h,p,_){let y,C;switch(h){case 0:y=_+p&1;break;case 1:y=_&1;break;case 2:y=p%3;break;case 3:y=(_+p)%3;break;case 4:y=Math.floor(_/2)+Math.floor(p/3)&1;break;case 5:C=_*p,y=(C&1)+C%3;break;case 6:C=_*p,y=(C&1)+C%3&1;break;case 7:C=_*p,y=C%3+(_+p&1)&1;break;default:throw new g("Invalid mask pattern: "+h)}return y===0}static applyMaskPenaltyRule1Internal(h,p){let _=0;const y=p?h.getHeight():h.getWidth(),C=p?h.getWidth():h.getHeight(),k=h.getArray();for(let D=0;D<y;D++){let z=0,Q=-1;for(let ce=0;ce<C;ce++){const Ce=p?k[D][ce]:k[ce][D];Ce===Q?z++:(z>=5&&(_+=Mr.N1+(z-5)),z=1,Q=Ce)}z>=5&&(_+=Mr.N1+(z-5))}return _}}Mr.N1=3,Mr.N2=3,Mr.N3=40,Mr.N4=10;class Rd{constructor(h,p){this.width=h,this.height=p;const _=new Array(p);for(let y=0;y!==p;y++)_[y]=new Uint8Array(h);this.bytes=_}getHeight(){return this.height}getWidth(){return this.width}get(h,p){return this.bytes[p][h]}getArray(){return this.bytes}setNumber(h,p,_){this.bytes[p][h]=_}setBoolean(h,p,_){this.bytes[p][h]=_?1:0}clear(h){for(const p of this.bytes)M.fill(p,h)}equals(h){if(!(h instanceof Rd))return!1;const p=h;if(this.width!==p.width||this.height!==p.height)return!1;for(let _=0,y=this.height;_<y;++_){const C=this.bytes[_],k=p.bytes[_];for(let D=0,z=this.width;D<z;++D)if(C[D]!==k[D])return!1}return!0}toString(){const h=new te;for(let p=0,_=this.height;p<_;++p){const y=this.bytes[p];for(let C=0,k=this.width;C<k;++C)switch(y[C]){case 0:h.append(" 0");break;case 1:h.append(" 1");break;default:h.append("  ");break}h.append(`
`)}return h.toString()}}class Ol{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const h=new te;return h.append(`<<
`),h.append(" mode: "),h.append(this.mode?this.mode.toString():"null"),h.append(`
 ecLevel: `),h.append(this.ecLevel?this.ecLevel.toString():"null"),h.append(`
 version: `),h.append(this.version?this.version.toString():"null"),h.append(`
 maskPattern: `),h.append(this.maskPattern.toString()),this.matrix?(h.append(`
 matrix:
`),h.append(this.matrix.toString())):h.append(`
 matrix: null
`),h.append(`>>
`),h.toString()}setMode(h){this.mode=h}setECLevel(h){this.ecLevel=h}setVersion(h){this.version=h}setMaskPattern(h){this.maskPattern=h}setMatrix(h){this.matrix=h}static isValidMaskPattern(h){return h>=0&&h<Ol.NUM_MASK_PATTERNS}}Ol.NUM_MASK_PATTERNS=8;class rr extends d{}rr.kind="WriterException";class Ds{constructor(){}static clearMatrix(h){h.clear(255)}static buildMatrix(h,p,_,y,C){Ds.clearMatrix(C),Ds.embedBasicPatterns(_,C),Ds.embedTypeInfo(p,y,C),Ds.maybeEmbedVersionInfo(_,C),Ds.embedDataBits(h,y,C)}static embedBasicPatterns(h,p){Ds.embedPositionDetectionPatternsAndSeparators(p),Ds.embedDarkDotAtLeftBottomCorner(p),Ds.maybeEmbedPositionAdjustmentPatterns(h,p),Ds.embedTimingPatterns(p)}static embedTypeInfo(h,p,_){const y=new P;Ds.makeTypeInfoBits(h,p,y);for(let C=0,k=y.getSize();C<k;++C){const D=y.get(y.getSize()-1-C),z=Ds.TYPE_INFO_COORDINATES[C],Q=z[0],ce=z[1];if(_.setBoolean(Q,ce,D),C<8){const Ce=_.getWidth()-C-1;_.setBoolean(Ce,8,D)}else{const ke=_.getHeight()-7+(C-8);_.setBoolean(8,ke,D)}}}static maybeEmbedVersionInfo(h,p){if(h.getVersionNumber()<7)return;const _=new P;Ds.makeVersionInfoBits(h,_);let y=6*3-1;for(let C=0;C<6;++C)for(let k=0;k<3;++k){const D=_.get(y);y--,p.setBoolean(C,p.getHeight()-11+k,D),p.setBoolean(p.getHeight()-11+k,C,D)}}static embedDataBits(h,p,_){let y=0,C=-1,k=_.getWidth()-1,D=_.getHeight()-1;for(;k>0;){for(k===6&&(k-=1);D>=0&&D<_.getHeight();){for(let z=0;z<2;++z){const Q=k-z;if(!Ds.isEmpty(_.get(Q,D)))continue;let ce;y<h.getSize()?(ce=h.get(y),++y):ce=!1,p!==255&&Mr.getDataMaskBit(p,Q,D)&&(ce=!ce),_.setBoolean(Q,D,ce)}D+=C}C=-C,D+=C,k-=2}if(y!==h.getSize())throw new rr("Not all bits consumed: "+y+"/"+h.getSize())}static findMSBSet(h){return 32-B.numberOfLeadingZeros(h)}static calculateBCHCode(h,p){if(p===0)throw new g("0 polynomial");const _=Ds.findMSBSet(p);for(h<<=_-1;Ds.findMSBSet(h)>=_;)h^=p<<Ds.findMSBSet(h)-_;return h}static makeTypeInfoBits(h,p,_){if(!Ol.isValidMaskPattern(p))throw new rr("Invalid mask pattern");const y=h.getBits()<<3|p;_.appendBits(y,5);const C=Ds.calculateBCHCode(y,Ds.TYPE_INFO_POLY);_.appendBits(C,10);const k=new P;if(k.appendBits(Ds.TYPE_INFO_MASK_PATTERN,15),_.xor(k),_.getSize()!==15)throw new rr("should not happen but we got: "+_.getSize())}static makeVersionInfoBits(h,p){p.appendBits(h.getVersionNumber(),6);const _=Ds.calculateBCHCode(h.getVersionNumber(),Ds.VERSION_INFO_POLY);if(p.appendBits(_,12),p.getSize()!==18)throw new rr("should not happen but we got: "+p.getSize())}static isEmpty(h){return h===255}static embedTimingPatterns(h){for(let p=8;p<h.getWidth()-8;++p){const _=(p+1)%2;Ds.isEmpty(h.get(p,6))&&h.setNumber(p,6,_),Ds.isEmpty(h.get(6,p))&&h.setNumber(6,p,_)}}static embedDarkDotAtLeftBottomCorner(h){if(h.get(8,h.getHeight()-8)===0)throw new rr;h.setNumber(8,h.getHeight()-8,1)}static embedHorizontalSeparationPattern(h,p,_){for(let y=0;y<8;++y){if(!Ds.isEmpty(_.get(h+y,p)))throw new rr;_.setNumber(h+y,p,0)}}static embedVerticalSeparationPattern(h,p,_){for(let y=0;y<7;++y){if(!Ds.isEmpty(_.get(h,p+y)))throw new rr;_.setNumber(h,p+y,0)}}static embedPositionAdjustmentPattern(h,p,_){for(let y=0;y<5;++y){const C=Ds.POSITION_ADJUSTMENT_PATTERN[y];for(let k=0;k<5;++k)_.setNumber(h+k,p+y,C[k])}}static embedPositionDetectionPattern(h,p,_){for(let y=0;y<7;++y){const C=Ds.POSITION_DETECTION_PATTERN[y];for(let k=0;k<7;++k)_.setNumber(h+k,p+y,C[k])}}static embedPositionDetectionPatternsAndSeparators(h){const p=Ds.POSITION_DETECTION_PATTERN[0].length;Ds.embedPositionDetectionPattern(0,0,h),Ds.embedPositionDetectionPattern(h.getWidth()-p,0,h),Ds.embedPositionDetectionPattern(0,h.getWidth()-p,h);const _=8;Ds.embedHorizontalSeparationPattern(0,_-1,h),Ds.embedHorizontalSeparationPattern(h.getWidth()-_,_-1,h),Ds.embedHorizontalSeparationPattern(0,h.getWidth()-_,h);const y=7;Ds.embedVerticalSeparationPattern(y,0,h),Ds.embedVerticalSeparationPattern(h.getHeight()-y-1,0,h),Ds.embedVerticalSeparationPattern(y,h.getHeight()-y,h)}static maybeEmbedPositionAdjustmentPatterns(h,p){if(h.getVersionNumber()<2)return;const _=h.getVersionNumber()-1,y=Ds.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[_];for(let C=0,k=y.length;C!==k;C++){const D=y[C];if(D>=0)for(let z=0;z!==k;z++){const Q=y[z];Q>=0&&Ds.isEmpty(p.get(Q,D))&&Ds.embedPositionAdjustmentPattern(Q-2,D-2,p)}}}}Ds.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),Ds.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),Ds.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),Ds.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),Ds.VERSION_INFO_POLY=7973,Ds.TYPE_INFO_POLY=1335,Ds.TYPE_INFO_MASK_PATTERN=21522;class Ty{constructor(h,p){this.dataBytes=h,this.errorCorrectionBytes=p}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class br{constructor(){}static calculateMaskPenalty(h){return Mr.applyMaskPenaltyRule1(h)+Mr.applyMaskPenaltyRule2(h)+Mr.applyMaskPenaltyRule3(h)+Mr.applyMaskPenaltyRule4(h)}static encode(h,p,_=null){let y=br.DEFAULT_BYTE_MODE_ENCODING;const C=_!==null&&_.get(Xs.CHARACTER_SET)!==void 0;C&&(y=_.get(Xs.CHARACTER_SET).toString());const k=this.chooseMode(h,y),D=new P;if(k===Ke.BYTE&&(C||br.DEFAULT_BYTE_MODE_ENCODING!==y)){const In=F.getCharacterSetECIByName(y);In!==void 0&&this.appendECI(In,D)}this.appendModeInfo(k,D);const z=new P;this.appendBytes(h,k,z,y);let Q;if(_!==null&&_.get(Xs.QR_VERSION)!==void 0){const In=Number.parseInt(_.get(Xs.QR_VERSION).toString(),10);Q=Ye.getVersionForNumber(In);const xn=this.calculateBitsNeeded(k,D,z,Q);if(!this.willFit(xn,Q,p))throw new rr("Data too big for requested version")}else Q=this.recommendVersion(p,k,D,z);const ce=new P;ce.appendBitArray(D);const Ce=k===Ke.BYTE?z.getSizeInBytes():h.length;this.appendLengthInfo(Ce,Q,k,ce),ce.appendBitArray(z);const ke=Q.getECBlocksForLevel(p),qe=Q.getTotalCodewords()-ke.getTotalECCodewords();this.terminateBits(qe,ce);const ot=this.interleaveWithECBytes(ce,Q.getTotalCodewords(),qe,ke.getNumBlocks()),lt=new Ol;lt.setECLevel(p),lt.setMode(k),lt.setVersion(Q);const Ct=Q.getDimensionForVersion(),Bt=new Rd(Ct,Ct),Cn=this.chooseMaskPattern(ot,p,Q,Bt);return lt.setMaskPattern(Cn),Ds.buildMatrix(ot,p,Q,Cn,Bt),lt.setMatrix(Bt),lt}static recommendVersion(h,p,_,y){const C=this.calculateBitsNeeded(p,_,y,Ye.getVersionForNumber(1)),k=this.chooseVersion(C,h),D=this.calculateBitsNeeded(p,_,y,k);return this.chooseVersion(D,h)}static calculateBitsNeeded(h,p,_,y){return p.getSize()+h.getCharacterCountBits(y)+_.getSize()}static getAlphanumericCode(h){return h<br.ALPHANUMERIC_TABLE.length?br.ALPHANUMERIC_TABLE[h]:-1}static chooseMode(h,p=null){if(F.SJIS.getName()===p&&this.isOnlyDoubleByteKanji(h))return Ke.KANJI;let _=!1,y=!1;for(let C=0,k=h.length;C<k;++C){const D=h.charAt(C);if(br.isDigit(D))_=!0;else if(this.getAlphanumericCode(D.charCodeAt(0))!==-1)y=!0;else return Ke.BYTE}return y?Ke.ALPHANUMERIC:_?Ke.NUMERIC:Ke.BYTE}static isOnlyDoubleByteKanji(h){let p;try{p=ne.encode(h,F.SJIS)}catch{return!1}const _=p.length;if(_%2!==0)return!1;for(let y=0;y<_;y+=2){const C=p[y]&255;if((C<129||C>159)&&(C<224||C>235))return!1}return!0}static chooseMaskPattern(h,p,_,y){let C=Number.MAX_SAFE_INTEGER,k=-1;for(let D=0;D<Ol.NUM_MASK_PATTERNS;D++){Ds.buildMatrix(h,p,_,D,y);let z=this.calculateMaskPenalty(y);z<C&&(C=z,k=D)}return k}static chooseVersion(h,p){for(let _=1;_<=40;_++){const y=Ye.getVersionForNumber(_);if(br.willFit(h,y,p))return y}throw new rr("Data too big")}static willFit(h,p,_){const y=p.getTotalCodewords(),k=p.getECBlocksForLevel(_).getTotalECCodewords(),D=y-k,z=(h+7)/8;return D>=z}static terminateBits(h,p){const _=h*8;if(p.getSize()>_)throw new rr("data bits cannot fit in the QR Code"+p.getSize()+" > "+_);for(let k=0;k<4&&p.getSize()<_;++k)p.appendBit(!1);const y=p.getSize()&7;if(y>0)for(let k=y;k<8;k++)p.appendBit(!1);const C=h-p.getSizeInBytes();for(let k=0;k<C;++k)p.appendBits((k&1)===0?236:17,8);if(p.getSize()!==_)throw new rr("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(h,p,_,y,C,k){if(y>=_)throw new rr("Block ID too large");const D=h%_,z=_-D,Q=Math.floor(h/_),ce=Q+1,Ce=Math.floor(p/_),ke=Ce+1,qe=Q-Ce,ot=ce-ke;if(qe!==ot)throw new rr("EC bytes mismatch");if(_!==z+D)throw new rr("RS blocks mismatch");if(h!==(Ce+qe)*z+(ke+ot)*D)throw new rr("Total bytes mismatch");y<z?(C[0]=Ce,k[0]=qe):(C[0]=ke,k[0]=ot)}static interleaveWithECBytes(h,p,_,y){if(h.getSizeInBytes()!==_)throw new rr("Number of bits and data bytes does not match");let C=0,k=0,D=0;const z=new Array;for(let ce=0;ce<y;++ce){const Ce=new Int32Array(1),ke=new Int32Array(1);br.getNumDataBytesAndNumECBytesForBlockID(p,_,y,ce,Ce,ke);const qe=Ce[0],ot=new Uint8Array(qe);h.toBytes(8*C,ot,0,qe);const lt=br.generateECBytes(ot,ke[0]);z.push(new Ty(ot,lt)),k=Math.max(k,qe),D=Math.max(D,lt.length),C+=Ce[0]}if(_!==C)throw new rr("Data bytes does not match offset");const Q=new P;for(let ce=0;ce<k;++ce)for(const Ce of z){const ke=Ce.getDataBytes();ce<ke.length&&Q.appendBits(ke[ce],8)}for(let ce=0;ce<D;++ce)for(const Ce of z){const ke=Ce.getErrorCorrectionBytes();ce<ke.length&&Q.appendBits(ke[ce],8)}if(p!==Q.getSizeInBytes())throw new rr("Interleaving error: "+p+" and "+Q.getSizeInBytes()+" differ.");return Q}static generateECBytes(h,p){const _=h.length,y=new Int32Array(_+p);for(let k=0;k<_;k++)y[k]=h[k]&255;new Rl(Ie.QR_CODE_FIELD_256).encode(y,p);const C=new Uint8Array(p);for(let k=0;k<p;k++)C[k]=y[_+k];return C}static appendModeInfo(h,p){p.appendBits(h.getBits(),4)}static appendLengthInfo(h,p,_,y){const C=_.getCharacterCountBits(p);if(h>=1<<C)throw new rr(h+" is bigger than "+((1<<C)-1));y.appendBits(h,C)}static appendBytes(h,p,_,y){switch(p){case Ke.NUMERIC:br.appendNumericBytes(h,_);break;case Ke.ALPHANUMERIC:br.appendAlphanumericBytes(h,_);break;case Ke.BYTE:br.append8BitBytes(h,_,y);break;case Ke.KANJI:br.appendKanjiBytes(h,_);break;default:throw new rr("Invalid mode: "+p)}}static getDigit(h){return h.charCodeAt(0)-48}static isDigit(h){const p=br.getDigit(h);return p>=0&&p<=9}static appendNumericBytes(h,p){const _=h.length;let y=0;for(;y<_;){const C=br.getDigit(h.charAt(y));if(y+2<_){const k=br.getDigit(h.charAt(y+1)),D=br.getDigit(h.charAt(y+2));p.appendBits(C*100+k*10+D,10),y+=3}else if(y+1<_){const k=br.getDigit(h.charAt(y+1));p.appendBits(C*10+k,7),y+=2}else p.appendBits(C,4),y++}}static appendAlphanumericBytes(h,p){const _=h.length;let y=0;for(;y<_;){const C=br.getAlphanumericCode(h.charCodeAt(y));if(C===-1)throw new rr;if(y+1<_){const k=br.getAlphanumericCode(h.charCodeAt(y+1));if(k===-1)throw new rr;p.appendBits(C*45+k,11),y+=2}else p.appendBits(C,6),y++}}static append8BitBytes(h,p,_){let y;try{y=ne.encode(h,_)}catch(C){throw new rr(C)}for(let C=0,k=y.length;C!==k;C++){const D=y[C];p.appendBits(D,8)}}static appendKanjiBytes(h,p){let _;try{_=ne.encode(h,F.SJIS)}catch(C){throw new rr(C)}const y=_.length;for(let C=0;C<y;C+=2){const k=_[C]&255,D=_[C+1]&255,z=k<<8&4294967295|D;let Q=-1;if(z>=33088&&z<=40956?Q=z-33088:z>=57408&&z<=60351&&(Q=z-49472),Q===-1)throw new rr("Invalid byte sequence");const ce=(Q>>8)*192+(Q&255);p.appendBits(ce,13)}}static appendECI(h,p){p.appendBits(Ke.ECI.getBits(),4),p.appendBits(h.getValue(),8)}}br.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),br.DEFAULT_BYTE_MODE_ENCODING=F.UTF8.getName();class Bl{write(h,p,_,y=null){if(h.length===0)throw new g("Found empty contents");if(p<0||_<0)throw new g("Requested dimensions are too small: "+p+"x"+_);let C=As.L,k=Bl.QUIET_ZONE_SIZE;y!==null&&(y.get(Xs.ERROR_CORRECTION)!==void 0&&(C=As.fromString(y.get(Xs.ERROR_CORRECTION).toString())),y.get(Xs.MARGIN)!==void 0&&(k=Number.parseInt(y.get(Xs.MARGIN).toString(),10)));const D=br.encode(h,C,y);return this.renderResult(D,p,_,k)}writeToDom(h,p,_,y,C=null){typeof h=="string"&&(h=document.querySelector(h));const k=this.write(p,_,y,C);h&&h.appendChild(k)}renderResult(h,p,_,y){const C=h.getMatrix();if(C===null)throw new de;const k=C.getWidth(),D=C.getHeight(),z=k+y*2,Q=D+y*2,ce=Math.max(p,z),Ce=Math.max(_,Q),ke=Math.min(Math.floor(ce/z),Math.floor(Ce/Q)),qe=Math.floor((ce-k*ke)/2),ot=Math.floor((Ce-D*ke)/2),lt=this.createSVGElement(ce,Ce);for(let Ct=0,Bt=ot;Ct<D;Ct++,Bt+=ke)for(let Cn=0,In=qe;Cn<k;Cn++,In+=ke)if(C.get(Cn,Ct)===1){const xn=this.createSvgRectElement(In,Bt,ke,ke);lt.appendChild(xn)}return lt}createSVGElement(h,p){const _=document.createElementNS(Bl.SVG_NS,"svg");return _.setAttributeNS(null,"height",h.toString()),_.setAttributeNS(null,"width",p.toString()),_}createSvgRectElement(h,p,_,y){const C=document.createElementNS(Bl.SVG_NS,"rect");return C.setAttributeNS(null,"x",h.toString()),C.setAttributeNS(null,"y",p.toString()),C.setAttributeNS(null,"height",_.toString()),C.setAttributeNS(null,"width",y.toString()),C.setAttributeNS(null,"fill","#000000"),C}}Bl.QUIET_ZONE_SIZE=4,Bl.SVG_NS="http://www.w3.org/2000/svg";class Nu{encode(h,p,_,y,C){if(h.length===0)throw new g("Found empty contents");if(p!==ae.QR_CODE)throw new g("Can only encode QR_CODE, but got "+p);if(_<0||y<0)throw new g(`Requested dimensions are too small: ${_}x${y}`);let k=As.L,D=Nu.QUIET_ZONE_SIZE;C!==null&&(C.get(Xs.ERROR_CORRECTION)!==void 0&&(k=As.fromString(C.get(Xs.ERROR_CORRECTION).toString())),C.get(Xs.MARGIN)!==void 0&&(D=Number.parseInt(C.get(Xs.MARGIN).toString(),10)));const z=br.encode(h,k,C);return Nu.renderResult(z,_,y,D)}static renderResult(h,p,_,y){const C=h.getMatrix();if(C===null)throw new de;const k=C.getWidth(),D=C.getHeight(),z=k+y*2,Q=D+y*2,ce=Math.max(p,z),Ce=Math.max(_,Q),ke=Math.min(Math.floor(ce/z),Math.floor(Ce/Q)),qe=Math.floor((ce-k*ke)/2),ot=Math.floor((Ce-D*ke)/2),lt=new se(ce,Ce);for(let Ct=0,Bt=ot;Ct<D;Ct++,Bt+=ke)for(let Cn=0,In=qe;Cn<k;Cn++,In+=ke)C.get(Cn,Ct)===1&&lt.setRegion(In,Bt,ke,ke);return lt}}Nu.QUIET_ZONE_SIZE=4;class Ay{encode(h,p,_,y,C){let k;switch(p){case ae.QR_CODE:k=new Nu;break;default:throw new g("No encoder available for format "+p)}return k.encode(h,p,_,y,C)}}class ac extends J{constructor(h,p,_,y,C,k,D,z){if(super(k,D),this.yuvData=h,this.dataWidth=p,this.dataHeight=_,this.left=y,this.top=C,y+k>p||C+D>_)throw new g("Crop rectangle does not fit within image data.");z&&this.reverseHorizontal(k,D)}getRow(h,p){if(h<0||h>=this.getHeight())throw new g("Requested row is outside the image: "+h);const _=this.getWidth();(p==null||p.length<_)&&(p=new Uint8ClampedArray(_));const y=(h+this.top)*this.dataWidth+this.left;return j.arraycopy(this.yuvData,y,p,0,_),p}getMatrix(){const h=this.getWidth(),p=this.getHeight();if(h===this.dataWidth&&p===this.dataHeight)return this.yuvData;const _=h*p,y=new Uint8ClampedArray(_);let C=this.top*this.dataWidth+this.left;if(h===this.dataWidth)return j.arraycopy(this.yuvData,C,y,0,_),y;for(let k=0;k<p;k++){const D=k*h;j.arraycopy(this.yuvData,C,y,D,h),C+=this.dataWidth}return y}isCropSupported(){return!0}crop(h,p,_,y){return new ac(this.yuvData,this.dataWidth,this.dataHeight,this.left+h,this.top+p,_,y,!1)}renderThumbnail(){const h=this.getWidth()/ac.THUMBNAIL_SCALE_FACTOR,p=this.getHeight()/ac.THUMBNAIL_SCALE_FACTOR,_=new Int32Array(h*p),y=this.yuvData;let C=this.top*this.dataWidth+this.left;for(let k=0;k<p;k++){const D=k*h;for(let z=0;z<h;z++){const Q=y[C+z*ac.THUMBNAIL_SCALE_FACTOR]&255;_[D+z]=4278190080|Q*65793}C+=this.dataWidth*ac.THUMBNAIL_SCALE_FACTOR}return _}getThumbnailWidth(){return this.getWidth()/ac.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/ac.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(h,p){const _=this.yuvData;for(let y=0,C=this.top*this.dataWidth+this.left;y<p;y++,C+=this.dataWidth){const k=C+h/2;for(let D=C,z=C+h-1;D<k;D++,z--){const Q=_[D];_[D]=_[z],_[z]=Q}}}invert(){return new Z(this)}}ac.THUMBNAIL_SCALE_FACTOR=2;class Od extends J{constructor(h,p,_,y,C,k,D){if(super(p,_),this.dataWidth=y,this.dataHeight=C,this.left=k,this.top=D,h.BYTES_PER_ELEMENT===4){const z=p*_,Q=new Uint8ClampedArray(z);for(let ce=0;ce<z;ce++){const Ce=h[ce],ke=Ce>>16&255,qe=Ce>>7&510,ot=Ce&255;Q[ce]=(ke+qe+ot)/4&255}this.luminances=Q}else this.luminances=h;if(y===void 0&&(this.dataWidth=p),C===void 0&&(this.dataHeight=_),k===void 0&&(this.left=0),D===void 0&&(this.top=0),this.left+p>this.dataWidth||this.top+_>this.dataHeight)throw new g("Crop rectangle does not fit within image data.")}getRow(h,p){if(h<0||h>=this.getHeight())throw new g("Requested row is outside the image: "+h);const _=this.getWidth();(p==null||p.length<_)&&(p=new Uint8ClampedArray(_));const y=(h+this.top)*this.dataWidth+this.left;return j.arraycopy(this.luminances,y,p,0,_),p}getMatrix(){const h=this.getWidth(),p=this.getHeight();if(h===this.dataWidth&&p===this.dataHeight)return this.luminances;const _=h*p,y=new Uint8ClampedArray(_);let C=this.top*this.dataWidth+this.left;if(h===this.dataWidth)return j.arraycopy(this.luminances,C,y,0,_),y;for(let k=0;k<p;k++){const D=k*h;j.arraycopy(this.luminances,C,y,D,h),C+=this.dataWidth}return y}isCropSupported(){return!0}crop(h,p,_,y){return new Od(this.luminances,_,y,this.dataWidth,this.dataHeight,this.left+h,this.top+p)}invert(){return new Z(this)}}class Eu extends F{static forName(h){return this.getCharacterSetECIByName(h)}}class sp{}sp.ISO_8859_1=F.ISO8859_1;class ap{isCompact(){return this.compact}setCompact(h){this.compact=h}getSize(){return this.size}setSize(h){this.size=h}getLayers(){return this.layers}setLayers(h){this.layers=h}getCodeWords(){return this.codeWords}setCodeWords(h){this.codeWords=h}getMatrix(){return this.matrix}setMatrix(h){this.matrix=h}}class rp{static singletonList(h){return[h]}static min(h,p){return h.sort(p)[0]}}class k0{constructor(h){this.previous=h}getPrevious(){return this.previous}}class Ll extends k0{constructor(h,p,_){super(h),this.value=p,this.bitCount=_}appendTo(h,p){h.appendBits(this.value,this.bitCount)}add(h,p){return new Ll(this,h,p)}addBinaryShift(h,p){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new Ll(this,h,p)}toString(){let h=this.value&(1<<this.bitCount)-1;return h|=1<<this.bitCount,"<"+B.toBinaryString(h|1<<this.bitCount).substring(1)+">"}}class Kh extends Ll{constructor(h,p,_){super(h,0,0),this.binaryShiftStart=p,this.binaryShiftByteCount=_}appendTo(h,p){for(let _=0;_<this.binaryShiftByteCount;_++)(_===0||_===31&&this.binaryShiftByteCount<=62)&&(h.appendBits(31,5),this.binaryShiftByteCount>62?h.appendBits(this.binaryShiftByteCount-31,16):_===0?h.appendBits(Math.min(this.binaryShiftByteCount,31),5):h.appendBits(this.binaryShiftByteCount-31,5)),h.appendBits(p[this.binaryShiftStart+_],8)}addBinaryShift(h,p){return new Kh(this,h,p)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function ku(we,h,p){return new Kh(we,h,p)}function Bd(we,h,p){return new Ll(we,h,p)}const My=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],Jc=0,Ld=1,po=2,Iu=3,eo=4,Ry=new Ll(null,0,0),Du=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function I0(we){for(let h of we)M.fill(h,-1);return we[Jc][eo]=0,we[Ld][eo]=0,we[Ld][Jc]=28,we[Iu][eo]=0,we[po][eo]=0,we[po][Jc]=15,we}const ip=I0(M.createInt32Array(6,6));class yo{constructor(h,p,_,y){this.token=h,this.mode=p,this.binaryShiftByteCount=_,this.bitCount=y}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(h,p){let _=this.bitCount,y=this.token;if(h!==this.mode){let k=Du[this.mode][h];y=Bd(y,k&65535,k>>16),_+=k>>16}let C=h===po?4:5;return y=Bd(y,p,C),new yo(y,h,0,_+C)}shiftAndAppend(h,p){let _=this.token,y=this.mode===po?4:5;return _=Bd(_,ip[this.mode][h],y),_=Bd(_,p,5),new yo(_,this.mode,0,this.bitCount+y+5)}addBinaryShiftChar(h){let p=this.token,_=this.mode,y=this.bitCount;if(this.mode===eo||this.mode===po){let D=Du[_][Jc];p=Bd(p,D&65535,D>>16),y+=D>>16,_=Jc}let C=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,k=new yo(p,_,this.binaryShiftByteCount+1,y+C);return k.binaryShiftByteCount===2078&&(k=k.endBinaryShift(h+1)),k}endBinaryShift(h){if(this.binaryShiftByteCount===0)return this;let p=this.token;return p=ku(p,h-this.binaryShiftByteCount,this.binaryShiftByteCount),new yo(p,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(h){let p=this.bitCount+(Du[this.mode][h.mode]>>16);return this.binaryShiftByteCount<h.binaryShiftByteCount?p+=yo.calculateBinaryShiftCost(h)-yo.calculateBinaryShiftCost(this):this.binaryShiftByteCount>h.binaryShiftByteCount&&h.binaryShiftByteCount>0&&(p+=10),p<=h.bitCount}toBitArray(h){let p=[];for(let y=this.endBinaryShift(h.length).token;y!==null;y=y.getPrevious())p.unshift(y);let _=new P;for(const y of p)y.appendTo(_,h);return _}toString(){return X.format("%s bits=%d bytes=%d",My[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(h){return h.binaryShiftByteCount>62?21:h.binaryShiftByteCount>31?20:h.binaryShiftByteCount>0?10:0}}yo.INITIAL_STATE=new yo(Ry,Jc,0,0);function op(we){const h=X.getCharCode(" "),p=X.getCharCode("."),_=X.getCharCode(",");we[Jc][h]=1;const y=X.getCharCode("Z"),C=X.getCharCode("A");for(let ke=C;ke<=y;ke++)we[Jc][ke]=ke-C+2;we[Ld][h]=1;const k=X.getCharCode("z"),D=X.getCharCode("a");for(let ke=D;ke<=k;ke++)we[Ld][ke]=ke-D+2;we[po][h]=1;const z=X.getCharCode("9"),Q=X.getCharCode("0");for(let ke=Q;ke<=z;ke++)we[po][ke]=ke-Q+2;we[po][_]=12,we[po][p]=13;const ce=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let ke=0;ke<ce.length;ke++)we[Iu][X.getCharCode(ce[ke])]=ke;const Ce=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let ke=0;ke<Ce.length;ke++)X.getCharCode(Ce[ke])>0&&(we[eo][X.getCharCode(Ce[ke])]=ke);return we}const Zh=op(M.createInt32Array(5,256));class Tu{constructor(h){this.text=h}encode(){const h=X.getCharCode(" "),p=X.getCharCode(`
`);let _=rp.singletonList(yo.INITIAL_STATE);for(let C=0;C<this.text.length;C++){let k,D=C+1<this.text.length?this.text[C+1]:0;switch(this.text[C]){case X.getCharCode("\r"):k=D===p?2:0;break;case X.getCharCode("."):k=D===h?3:0;break;case X.getCharCode(","):k=D===h?4:0;break;case X.getCharCode(":"):k=D===h?5:0;break;default:k=0}k>0?(_=Tu.updateStateListForPair(_,C,k),C++):_=this.updateStateListForChar(_,C)}return rp.min(_,(C,k)=>C.getBitCount()-k.getBitCount()).toBitArray(this.text)}updateStateListForChar(h,p){const _=[];for(let y of h)this.updateStateForChar(y,p,_);return Tu.simplifyStates(_)}updateStateForChar(h,p,_){let y=this.text[p]&255,C=Zh[h.getMode()][y]>0,k=null;for(let D=0;D<=eo;D++){let z=Zh[D][y];if(z>0){if(k==null&&(k=h.endBinaryShift(p)),!C||D===h.getMode()||D===po){const Q=k.latchAndAppend(D,z);_.push(Q)}if(!C&&ip[h.getMode()][D]>=0){const Q=k.shiftAndAppend(D,z);_.push(Q)}}}if(h.getBinaryShiftByteCount()>0||Zh[h.getMode()][y]===0){let D=h.addBinaryShiftChar(p);_.push(D)}}static updateStateListForPair(h,p,_){const y=[];for(let C of h)this.updateStateForPair(C,p,_,y);return this.simplifyStates(y)}static updateStateForPair(h,p,_,y){let C=h.endBinaryShift(p);if(y.push(C.latchAndAppend(eo,_)),h.getMode()!==eo&&y.push(C.shiftAndAppend(eo,_)),_===3||_===4){let k=C.latchAndAppend(po,16-_).latchAndAppend(po,1);y.push(k)}if(h.getBinaryShiftByteCount()>0){let k=h.addBinaryShiftChar(p).addBinaryShiftChar(p+1);y.push(k)}}static simplifyStates(h){let p=[];for(const _ of h){let y=!0;for(const C of p){if(C.isBetterThanOrEqualTo(_)){y=!1;break}_.isBetterThanOrEqualTo(C)&&(p=p.filter(k=>k!==C))}y&&p.push(_)}return p}}class Da{constructor(){}static encodeBytes(h){return Da.encode(h,Da.DEFAULT_EC_PERCENT,Da.DEFAULT_AZTEC_LAYERS)}static encode(h,p,_){let y=new Tu(h).encode(),C=B.truncDivision(y.getSize()*p,100)+11,k=y.getSize()+C,D,z,Q,ce,Ce;if(_!==Da.DEFAULT_AZTEC_LAYERS){if(D=_<0,z=Math.abs(_),z>(D?Da.MAX_NB_BITS_COMPACT:Da.MAX_NB_BITS))throw new g(X.format("Illegal value %s for layers",_));Q=Da.totalBitsInLayer(z,D),ce=Da.WORD_SIZE[z];let xn=Q-Q%ce;if(Ce=Da.stuffBits(y,ce),Ce.getSize()+C>xn)throw new g("Data to large for user specified layer");if(D&&Ce.getSize()>ce*64)throw new g("Data to large for user specified layer")}else{ce=0,Ce=null;for(let xn=0;;xn++){if(xn>Da.MAX_NB_BITS)throw new g("Data too large for an Aztec code");if(D=xn<=3,z=D?xn+1:xn,Q=Da.totalBitsInLayer(z,D),k>Q)continue;(Ce==null||ce!==Da.WORD_SIZE[z])&&(ce=Da.WORD_SIZE[z],Ce=Da.stuffBits(y,ce));let ea=Q-Q%ce;if(!(D&&Ce.getSize()>ce*64)&&Ce.getSize()+C<=ea)break}}let ke=Da.generateCheckWords(Ce,Q,ce),qe=Ce.getSize()/ce,ot=Da.generateModeMessage(D,z,qe),lt=(D?11:14)+z*4,Ct=new Int32Array(lt),Bt;if(D){Bt=lt;for(let xn=0;xn<Ct.length;xn++)Ct[xn]=xn}else{Bt=lt+1+2*B.truncDivision(B.truncDivision(lt,2)-1,15);let xn=B.truncDivision(lt,2),ea=B.truncDivision(Bt,2);for(let Ks=0;Ks<xn;Ks++){let qi=Ks+B.truncDivision(Ks,15);Ct[xn-Ks-1]=ea-qi-1,Ct[xn+Ks]=ea+qi+1}}let Cn=new se(Bt);for(let xn=0,ea=0;xn<z;xn++){let Ks=(z-xn)*4+(D?9:12);for(let qi=0;qi<Ks;qi++){let wo=qi*2;for(let to=0;to<2;to++)ke.get(ea+wo+to)&&Cn.set(Ct[xn*2+to],Ct[xn*2+qi]),ke.get(ea+Ks*2+wo+to)&&Cn.set(Ct[xn*2+qi],Ct[lt-1-xn*2-to]),ke.get(ea+Ks*4+wo+to)&&Cn.set(Ct[lt-1-xn*2-to],Ct[lt-1-xn*2-qi]),ke.get(ea+Ks*6+wo+to)&&Cn.set(Ct[lt-1-xn*2-qi],Ct[xn*2+to])}ea+=Ks*8}if(Da.drawModeMessage(Cn,D,Bt,ot),D)Da.drawBullsEye(Cn,B.truncDivision(Bt,2),5);else{Da.drawBullsEye(Cn,B.truncDivision(Bt,2),7);for(let xn=0,ea=0;xn<B.truncDivision(lt,2)-1;xn+=15,ea+=16)for(let Ks=B.truncDivision(Bt,2)&1;Ks<Bt;Ks+=2)Cn.set(B.truncDivision(Bt,2)-ea,Ks),Cn.set(B.truncDivision(Bt,2)+ea,Ks),Cn.set(Ks,B.truncDivision(Bt,2)-ea),Cn.set(Ks,B.truncDivision(Bt,2)+ea)}let In=new ap;return In.setCompact(D),In.setSize(Bt),In.setLayers(z),In.setCodeWords(qe),In.setMatrix(Cn),In}static drawBullsEye(h,p,_){for(let y=0;y<_;y+=2)for(let C=p-y;C<=p+y;C++)h.set(C,p-y),h.set(C,p+y),h.set(p-y,C),h.set(p+y,C);h.set(p-_,p-_),h.set(p-_+1,p-_),h.set(p-_,p-_+1),h.set(p+_,p-_),h.set(p+_,p-_+1),h.set(p+_,p+_-1)}static generateModeMessage(h,p,_){let y=new P;return h?(y.appendBits(p-1,2),y.appendBits(_-1,6),y=Da.generateCheckWords(y,28,4)):(y.appendBits(p-1,5),y.appendBits(_-1,11),y=Da.generateCheckWords(y,40,4)),y}static drawModeMessage(h,p,_,y){let C=B.truncDivision(_,2);if(p)for(let k=0;k<7;k++){let D=C-3+k;y.get(k)&&h.set(D,C-5),y.get(k+7)&&h.set(C+5,D),y.get(20-k)&&h.set(D,C+5),y.get(27-k)&&h.set(C-5,D)}else for(let k=0;k<10;k++){let D=C-5+k+B.truncDivision(k,5);y.get(k)&&h.set(D,C-7),y.get(k+10)&&h.set(C+7,D),y.get(29-k)&&h.set(D,C+7),y.get(39-k)&&h.set(C-7,D)}}static generateCheckWords(h,p,_){let y=h.getSize()/_,C=new Rl(Da.getGF(_)),k=B.truncDivision(p,_),D=Da.bitsToWords(h,_,k);C.encode(D,k-y);let z=p%_,Q=new P;Q.appendBits(0,z);for(const ce of Array.from(D))Q.appendBits(ce,_);return Q}static bitsToWords(h,p,_){let y=new Int32Array(_),C,k;for(C=0,k=h.getSize()/p;C<k;C++){let D=0;for(let z=0;z<p;z++)D|=h.get(C*p+z)?1<<p-z-1:0;y[C]=D}return y}static getGF(h){switch(h){case 4:return Ie.AZTEC_PARAM;case 6:return Ie.AZTEC_DATA_6;case 8:return Ie.AZTEC_DATA_8;case 10:return Ie.AZTEC_DATA_10;case 12:return Ie.AZTEC_DATA_12;default:throw new g("Unsupported word size "+h)}}static stuffBits(h,p){let _=new P,y=h.getSize(),C=(1<<p)-2;for(let k=0;k<y;k+=p){let D=0;for(let z=0;z<p;z++)(k+z>=y||h.get(k+z))&&(D|=1<<p-1-z);(D&C)===C?(_.appendBits(D&C,p),k--):(D&C)===0?(_.appendBits(D|1,p),k--):_.appendBits(D,p)}return _}static totalBitsInLayer(h,p){return((p?88:112)+16*h)*h}}Da.DEFAULT_EC_PERCENT=33,Da.DEFAULT_AZTEC_LAYERS=0,Da.MAX_NB_BITS=32,Da.MAX_NB_BITS_COMPACT=4,Da.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class Jh{encode(h,p,_,y){return this.encodeWithHints(h,p,_,y,null)}encodeWithHints(h,p,_,y,C){let k=sp.ISO_8859_1,D=Da.DEFAULT_EC_PERCENT,z=Da.DEFAULT_AZTEC_LAYERS;return C!=null&&(C.has(Xs.CHARACTER_SET)&&(k=Eu.forName(C.get(Xs.CHARACTER_SET).toString())),C.has(Xs.ERROR_CORRECTION)&&(D=B.parseInt(C.get(Xs.ERROR_CORRECTION).toString())),C.has(Xs.AZTEC_LAYERS)&&(z=B.parseInt(C.get(Xs.AZTEC_LAYERS).toString()))),Jh.encodeLayers(h,p,_,y,k,D,z)}static encodeLayers(h,p,_,y,C,k,D){if(p!==ae.AZTEC)throw new g("Can only encode AZTEC, but got "+p);let z=Da.encode(X.getBytes(h,C),k,D);return Jh.renderResult(z,_,y)}static renderResult(h,p,_){let y=h.getMatrix();if(y==null)throw new de;let C=y.getWidth(),k=y.getHeight(),D=Math.max(p,C),z=Math.max(_,k),Q=Math.min(D/C,z/k),ce=(D-C*Q)/2,Ce=(z-k*Q)/2,ke=new se(D,z);for(let qe=0,ot=Ce;qe<k;qe++,ot+=Q)for(let lt=0,Ct=ce;lt<C;lt++,Ct+=Q)y.get(lt,qe)&&ke.setRegion(Ct,ot,Q,Q);return ke}}n.AbstractExpandedDecoder=xa,n.ArgumentException=f,n.ArithmeticException=je,n.AztecCode=ap,n.AztecCodeReader=Xe,n.AztecCodeWriter=Jh,n.AztecDecoder=xe,n.AztecDetector=It,n.AztecDetectorResult=Ue,n.AztecEncoder=Da,n.AztecHighLevelEncoder=Tu,n.AztecPoint=Fe,n.BarcodeFormat=ae,n.Binarizer=S,n.BinaryBitmap=b,n.BitArray=P,n.BitMatrix=se,n.BitSource=ta,n.BrowserAztecCodeReader=le,n.BrowserBarcodeReader=Ia,n.BrowserCodeReader=G,n.BrowserDatamatrixCodeReader=_i,n.BrowserMultiFormatReader=jr,n.BrowserPDF417Reader=Vi,n.BrowserQRCodeReader=Wr,n.BrowserQRCodeSvgWriter=Bl,n.CharacterSetECI=F,n.ChecksumException=w,n.Code128Reader=be,n.Code39Reader=We,n.DataMatrixDecodedBitStreamParser=Qs,n.DataMatrixReader=Ga,n.DecodeHintType=R,n.DecoderResult=he,n.DefaultGridSampler=_e,n.DetectorResult=Le,n.EAN13Reader=ln,n.EncodeHintType=Xs,n.Exception=d,n.FormatException=$,n.GenericGF=Ie,n.GenericGFPoly=ye,n.GlobalHistogramBinarizer=q,n.GridSampler=et,n.GridSamplerInstance=tt,n.HTMLCanvasElementLuminanceSource=A,n.HybridBinarizer=T,n.ITFReader=st,n.IllegalArgumentException=g,n.IllegalStateException=de,n.InvertedLuminanceSource=Z,n.LuminanceSource=J,n.MathUtils=Se,n.MultiFormatOneDReader=er,n.MultiFormatReader=Ss,n.MultiFormatWriter=Ay,n.NotFoundException=V,n.OneDReader=Ae,n.PDF417DecodedBitStreamParser=$e,n.PDF417DecoderErrorCorrection=bs,n.PDF417Reader=Mn,n.PDF417ResultMetadata=yt,n.PerspectiveTransform=dt,n.PlanarYUVLuminanceSource=ac,n.QRCodeByteMatrix=Rd,n.QRCodeDataMask=Wt,n.QRCodeDecodedBitStreamParser=it,n.QRCodeDecoderErrorCorrectionLevel=As,n.QRCodeDecoderFormatInformation=Fn,n.QRCodeEncoder=br,n.QRCodeEncoderQRCode=Ol,n.QRCodeMaskUtil=Mr,n.QRCodeMatrixUtil=Ds,n.QRCodeMode=Ke,n.QRCodeReader=ss,n.QRCodeVersion=Ye,n.QRCodeWriter=Nu,n.RGBLuminanceSource=Od,n.RSS14Reader=Es,n.RSSExpandedReader=zt,n.ReaderException=Jn,n.ReedSolomonDecoder=fe,n.ReedSolomonEncoder=Rl,n.ReedSolomonException=me,n.Result=oe,n.ResultMetadataType=ue,n.ResultPoint=Ee,n.StringUtils=X,n.UnsupportedOperationException=H,n.VideoInputDevice=Y,n.WhiteRectangleDetector=Ne,n.WriterException=rr,n.ZXingArrays=M,n.ZXingCharset=Eu,n.ZXingInteger=B,n.ZXingStandardCharsets=sp,n.ZXingStringBuilder=te,n.ZXingStringEncoding=ne,n.ZXingSystem=j,n.createAbstractExpandedDecoder=xr,Object.defineProperty(n,"__esModule",{value:!0})})}(P1,P1.exports)),P1.exports}var Ir=jPe();const NPe=Si(Ir),EPe=LN({__proto__:null,default:NPe},[Ir]);var l7=function(){function e(t,n,a){if(this.formatMap=new Map([[as.QR_CODE,Ir.BarcodeFormat.QR_CODE],[as.AZTEC,Ir.BarcodeFormat.AZTEC],[as.CODABAR,Ir.BarcodeFormat.CODABAR],[as.CODE_39,Ir.BarcodeFormat.CODE_39],[as.CODE_93,Ir.BarcodeFormat.CODE_93],[as.CODE_128,Ir.BarcodeFormat.CODE_128],[as.DATA_MATRIX,Ir.BarcodeFormat.DATA_MATRIX],[as.MAXICODE,Ir.BarcodeFormat.MAXICODE],[as.ITF,Ir.BarcodeFormat.ITF],[as.EAN_13,Ir.BarcodeFormat.EAN_13],[as.EAN_8,Ir.BarcodeFormat.EAN_8],[as.PDF_417,Ir.BarcodeFormat.PDF_417],[as.RSS_14,Ir.BarcodeFormat.RSS_14],[as.RSS_EXPANDED,Ir.BarcodeFormat.RSS_EXPANDED],[as.UPC_A,Ir.BarcodeFormat.UPC_A],[as.UPC_E,Ir.BarcodeFormat.UPC_E],[as.UPC_EAN_EXTENSION,Ir.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!EPe)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=n,this.logger=a;var r=this.createZXingFormats(t),i=new Map;i.set(Ir.DecodeHintType.POSSIBLE_FORMATS,r),i.set(Ir.DecodeHintType.TRY_HARDER,!1),this.hints=i}return e.prototype.decodeAsync=function(t){var n=this;return new Promise(function(a,r){try{a(n.decode(t))}catch(i){r(i)}})},e.prototype.decode=function(t){var n=new Ir.MultiFormatReader(this.verbose,this.hints),a=new Ir.HTMLCanvasElementLuminanceSource(t),r=new Ir.BinaryBitmap(new Ir.HybridBinarizer(a)),i=n.decode(r);return{text:i.text,format:UL.create(this.toHtml5QrcodeSupportedFormats(i.format)),debugData:this.createDebugData()}},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(n,a,r){t.set(n,a)}),t},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createZXingFormats=function(t){for(var n=[],a=0,r=t;a<r.length;a++){var i=r[a];this.formatMap.has(i)?n.push(this.formatMap.get(i)):this.logger.logError("".concat(i," is not supported by")+"ZXingHtml5QrcodeShim")}return n},e.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},e}(),kPe=function(e,t,n,a){function r(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function c(f){try{d(a.next(f))}catch(g){o(g)}}function l(f){try{d(a.throw(f))}catch(g){o(g)}}function d(f){f.done?i(f.value):r(f.value).then(c,l)}d((a=a.apply(e,t||[])).next())})},IPe=function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},a,r,i,o;return o={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function c(d){return function(f){return l([d,f])}}function l(d){if(a)throw new TypeError("Generator is already executing.");for(;o&&(o=0,d[0]&&(n=0)),n;)try{if(a=1,r&&(i=d[0]&2?r.return:d[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,d[1])).done)return i;switch(r=0,i&&(d=[d[0]&2,i.value]),d[0]){case 0:case 1:i=d;break;case 4:return n.label++,{value:d[1],done:!1};case 5:n.label++,r=d[1],d=[0];continue;case 7:d=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(d[0]===6||d[0]===2)){n=0;continue}if(d[0]===3&&(!i||d[1]>i[0]&&d[1]<i[3])){n.label=d[1];break}if(d[0]===6&&n.label<i[1]){n.label=i[1],i=d;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(d);break}i[2]&&n.ops.pop(),n.trys.pop();continue}d=t.call(e,n)}catch(f){d=[6,f],r=0}finally{a=i=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}},u7=function(){function e(t,n,a){if(this.formatMap=new Map([[as.QR_CODE,"qr_code"],[as.AZTEC,"aztec"],[as.CODABAR,"codabar"],[as.CODE_39,"code_39"],[as.CODE_93,"code_93"],[as.CODE_128,"code_128"],[as.DATA_MATRIX,"data_matrix"],[as.ITF,"itf"],[as.EAN_13,"ean_13"],[as.EAN_8,"ean_8"],[as.PDF_417,"pdf417"],[as.UPC_A,"upc_a"],[as.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!e.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=n,this.logger=a;var r=this.createBarcodeDetectorFormats(t);if(this.detector=new BarcodeDetector(r),!this.detector)throw"BarcodeDetector detector not supported"}return e.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var t=new BarcodeDetector({formats:["qr_code"]});return typeof t<"u"},e.prototype.decodeAsync=function(t){return kPe(this,void 0,void 0,function(){var n,a;return IPe(this,function(r){switch(r.label){case 0:return[4,this.detector.detect(t)];case 1:if(n=r.sent(),!n||n.length===0)throw"No barcode or QR code detected.";return a=this.selectLargestBarcode(n),[2,{text:a.rawValue,format:UL.create(this.toHtml5QrcodeSupportedFormats(a.format)),debugData:this.createDebugData()}]}})})},e.prototype.selectLargestBarcode=function(t){for(var n=null,a=0,r=0,i=t;r<i.length;r++){var o=i[r],c=o.boundingBox.width*o.boundingBox.height;c>a&&(a=c,n=o)}if(!n)throw"No largest barcode found";return n},e.prototype.createBarcodeDetectorFormats=function(t){for(var n=[],a=0,r=t;a<r.length;a++){var i=r[a];this.formatMap.has(i)?n.push(this.formatMap.get(i)):this.logger.warn("".concat(i," is not supported by")+"BarcodeDetectorDelegate")}return{formats:n}},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(n,a,r){t.set(n,a)}),t},e.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},e}(),d7=function(e,t,n,a){function r(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function c(f){try{d(a.next(f))}catch(g){o(g)}}function l(f){try{d(a.throw(f))}catch(g){o(g)}}function d(f){f.done?i(f.value):r(f.value).then(c,l)}d((a=a.apply(e,t||[])).next())})},h7=function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},a,r,i,o;return o={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function c(d){return function(f){return l([d,f])}}function l(d){if(a)throw new TypeError("Generator is already executing.");for(;o&&(o=0,d[0]&&(n=0)),n;)try{if(a=1,r&&(i=d[0]&2?r.return:d[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,d[1])).done)return i;switch(r=0,i&&(d=[d[0]&2,i.value]),d[0]){case 0:case 1:i=d;break;case 4:return n.label++,{value:d[1],done:!1};case 5:n.label++,r=d[1],d=[0];continue;case 7:d=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(d[0]===6||d[0]===2)){n=0;continue}if(d[0]===3&&(!i||d[1]>i[0]&&d[1]<i[3])){n.label=d[1];break}if(d[0]===6&&n.label<i[1]){n.label=i[1],i=d;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(d);break}i[2]&&n.ops.pop(),n.trys.pop();continue}d=t.call(e,n)}catch(f){d=[6,f],r=0}finally{a=i=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}},DPe=function(){function e(t,n,a,r){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=a,n&&u7.isSupported()?(this.primaryDecoder=new u7(t,a,r),this.secondaryDecoder=new l7(t,a,r)):this.primaryDecoder=new l7(t,a,r)}return e.prototype.decodeAsync=function(t){return d7(this,void 0,void 0,function(){var n;return h7(this,function(a){switch(a.label){case 0:n=performance.now(),a.label=1;case 1:return a.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(t)];case 2:return[2,a.sent()];case 3:return this.possiblyLogPerformance(n),[7];case 4:return[2]}})})},e.prototype.decodeRobustlyAsync=function(t){return d7(this,void 0,void 0,function(){var n,a;return h7(this,function(r){switch(r.label){case 0:n=performance.now(),r.label=1;case 1:return r.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(t)];case 2:return[2,r.sent()];case 3:if(a=r.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(t)];throw a;case 4:return this.possiblyLogPerformance(n),[7];case 5:return[2]}})})},e.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},e.prototype.possiblyLogPerformance=function(t){if(this.verbose){var n=performance.now()-t;this.executionResults.push(n),this.executions++,this.possiblyFlushPerformanceReport()}},e.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var t=0,n=0,a=this.executionResults;n<a.length;n++){var r=a[n];t+=r}var i=t/this.executionResults.length;console.log("".concat(i," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},e}(),p4=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,r){a.__proto__=r}||function(a,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(a[i]=r[i])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function a(){this.constructor=t}t.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}}(),sb=function(e,t,n,a){function r(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function c(f){try{d(a.next(f))}catch(g){o(g)}}function l(f){try{d(a.throw(f))}catch(g){o(g)}}function d(f){f.done?i(f.value):r(f.value).then(c,l)}d((a=a.apply(e,t||[])).next())})},ab=function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},a,r,i,o;return o={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function c(d){return function(f){return l([d,f])}}function l(d){if(a)throw new TypeError("Generator is already executing.");for(;o&&(o=0,d[0]&&(n=0)),n;)try{if(a=1,r&&(i=d[0]&2?r.return:d[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,d[1])).done)return i;switch(r=0,i&&(d=[d[0]&2,i.value]),d[0]){case 0:case 1:i=d;break;case 4:return n.label++,{value:d[1],done:!1};case 5:n.label++,r=d[1],d=[0];continue;case 7:d=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(d[0]===6||d[0]===2)){n=0;continue}if(d[0]===3&&(!i||d[1]>i[0]&&d[1]<i[3])){n.label=d[1];break}if(d[0]===6&&n.label<i[1]){n.label=i[1],i=d;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(d);break}i[2]&&n.ops.pop(),n.trys.pop();continue}d=t.call(e,n)}catch(f){d=[6,f],r=0}finally{a=i=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}},YL=function(){function e(t,n){this.name=t,this.track=n}return e.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},e.prototype.apply=function(t){var n={};n[this.name]=t;var a={advanced:[n]};return this.track.applyConstraints(a)},e.prototype.value=function(){var t=this.track.getSettings();if(this.name in t){var n=t[this.name];return n}return null},e}(),TPe=function(e){p4(t,e);function t(n,a){return e.call(this,n,a)||this}return t.prototype.min=function(){return this.getCapabilities().min},t.prototype.max=function(){return this.getCapabilities().max},t.prototype.step=function(){return this.getCapabilities().step},t.prototype.apply=function(n){var a={};a[this.name]=n;var r={advanced:[a]};return this.track.applyConstraints(r)},t.prototype.getCapabilities=function(){this.failIfNotSupported();var n=this.track.getCapabilities(),a=n[this.name];return{min:a.min,max:a.max,step:a.step}},t.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},t}(YL),APe=function(e){p4(t,e);function t(n){return e.call(this,"zoom",n)||this}return t}(TPe),MPe=function(e){p4(t,e);function t(n){return e.call(this,"torch",n)||this}return t}(YL),RPe=function(){function e(t){this.track=t}return e.prototype.zoomFeature=function(){return new APe(this.track)},e.prototype.torchFeature=function(){return new MPe(this.track)},e}(),OPe=function(){function e(t,n,a){this.isClosed=!1,this.parentElement=t,this.mediaStream=n,this.callbacks=a,this.surface=this.createVideoElement(this.parentElement.clientWidth),t.append(this.surface)}return e.prototype.createVideoElement=function(t){var n=document.createElement("video");return n.style.width="".concat(t,"px"),n.style.display="block",n.muted=!0,n.setAttribute("muted","true"),n.playsInline=!0,n},e.prototype.setupSurface=function(){var t=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var n=function(){var a=t.surface.clientWidth,r=t.surface.clientHeight;t.callbacks.onRenderSurfaceReady(a,r),t.surface.removeEventListener("playing",n)};this.surface.addEventListener("playing",n),this.surface.srcObject=this.mediaStream,this.surface.play()},e.create=function(t,n,a,r){return sb(this,void 0,void 0,function(){var i,o;return ab(this,function(c){switch(c.label){case 0:return i=new e(t,n,r),a.aspectRatio?(o={aspectRatio:a.aspectRatio},[4,i.getFirstTrackOrFail().applyConstraints(o)]):[3,2];case 1:c.sent(),c.label=2;case 2:return i.setupSurface(),[2,i]}})})},e.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},e.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},e.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},e.prototype.resume=function(t){this.failIfClosed();var n=this,a=function(){setTimeout(t,200),n.surface.removeEventListener("playing",a)};this.surface.addEventListener("playing",a),this.surface.play()},e.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},e.prototype.getSurface=function(){return this.failIfClosed(),this.surface},e.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},e.prototype.applyVideoConstraints=function(t){return sb(this,void 0,void 0,function(){return ab(this,function(n){if("aspectRatio"in t)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(t)]})})},e.prototype.close=function(){if(this.isClosed)return Promise.resolve();var t=this;return new Promise(function(n,a){var r=t.mediaStream.getVideoTracks(),i=r.length,o=0;t.mediaStream.getVideoTracks().forEach(function(c){t.mediaStream.removeTrack(c),c.stop(),++o,o>=i&&(t.isClosed=!0,t.parentElement.removeChild(t.surface),n())})})},e.prototype.getCapabilities=function(){return new RPe(this.getFirstTrackOrFail())},e}(),BPe=function(){function e(t){this.mediaStream=t}return e.prototype.render=function(t,n,a){return sb(this,void 0,void 0,function(){return ab(this,function(r){return[2,OPe.create(t,this.mediaStream,n,a)]})})},e.create=function(t){return sb(this,void 0,void 0,function(){var n,a;return ab(this,function(r){switch(r.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return n={audio:!1,video:t},[4,navigator.mediaDevices.getUserMedia(n)];case 1:return a=r.sent(),[2,new e(a)]}})})},e}(),f7=function(e,t,n,a){function r(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function c(f){try{d(a.next(f))}catch(g){o(g)}}function l(f){try{d(a.throw(f))}catch(g){o(g)}}function d(f){f.done?i(f.value):r(f.value).then(c,l)}d((a=a.apply(e,t||[])).next())})},m7=function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},a,r,i,o;return o={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function c(d){return function(f){return l([d,f])}}function l(d){if(a)throw new TypeError("Generator is already executing.");for(;o&&(o=0,d[0]&&(n=0)),n;)try{if(a=1,r&&(i=d[0]&2?r.return:d[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,d[1])).done)return i;switch(r=0,i&&(d=[d[0]&2,i.value]),d[0]){case 0:case 1:i=d;break;case 4:return n.label++,{value:d[1],done:!1};case 5:n.label++,r=d[1],d=[0];continue;case 7:d=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(d[0]===6||d[0]===2)){n=0;continue}if(d[0]===3&&(!i||d[1]>i[0]&&d[1]<i[3])){n.label=d[1];break}if(d[0]===6&&n.label<i[1]){n.label=i[1],i=d;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(d);break}i[2]&&n.ops.pop(),n.trys.pop();continue}d=t.call(e,n)}catch(f){d=[6,f],r=0}finally{a=i=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}},LPe=function(){function e(){}return e.failIfNotSupported=function(){return f7(this,void 0,void 0,function(){return m7(this,function(t){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new e]})})},e.prototype.create=function(t){return f7(this,void 0,void 0,function(){return m7(this,function(n){return[2,BPe.create(t)]})})},e}(),$Pe=function(e,t,n,a){function r(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function c(f){try{d(a.next(f))}catch(g){o(g)}}function l(f){try{d(a.throw(f))}catch(g){o(g)}}function d(f){f.done?i(f.value):r(f.value).then(c,l)}d((a=a.apply(e,t||[])).next())})},PPe=function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},a,r,i,o;return o={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function c(d){return function(f){return l([d,f])}}function l(d){if(a)throw new TypeError("Generator is already executing.");for(;o&&(o=0,d[0]&&(n=0)),n;)try{if(a=1,r&&(i=d[0]&2?r.return:d[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,d[1])).done)return i;switch(r=0,i&&(d=[d[0]&2,i.value]),d[0]){case 0:case 1:i=d;break;case 4:return n.label++,{value:d[1],done:!1};case 5:n.label++,r=d[1],d=[0];continue;case 7:d=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(d[0]===6||d[0]===2)){n=0;continue}if(d[0]===3&&(!i||d[1]>i[0]&&d[1]<i[3])){n.label=d[1];break}if(d[0]===6&&n.label<i[1]){n.label=i[1],i=d;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(d);break}i[2]&&n.ops.pop(),n.trys.pop();continue}d=t.call(e,n)}catch(f){d=[6,f],r=0}finally{a=i=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}},FPe=function(){function e(){}return e.retrieve=function(){if(navigator.mediaDevices)return e.getCamerasFromMediaDevices();var t=MediaStreamTrack;return MediaStreamTrack&&t.getSources?e.getCamerasFromMediaStreamTrack():e.rejectWithError()},e.rejectWithError=function(){var t=Kf.unableToQuerySupportedDevices();return e.isHttpsOrLocalhost()||(t=Kf.insecureContextCameraQueryError()),Promise.reject(t)},e.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var t=location.host.split(":")[0];return t==="127.0.0.1"||t==="localhost"},e.getCamerasFromMediaDevices=function(){return $Pe(this,void 0,void 0,function(){var t,n,a,r,i,o,c;return PPe(this,function(l){switch(l.label){case 0:return t=function(d){for(var f=d.getVideoTracks(),g=0,b=f;g<b.length;g++){var w=b[g];w.enabled=!1,w.stop(),d.removeTrack(w)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return n=l.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(a=l.sent(),r=[],i=0,o=a;i<o.length;i++)c=o[i],c.kind==="videoinput"&&r.push({id:c.deviceId,label:c.label});return t(n),[2,r]}})})},e.getCamerasFromMediaStreamTrack=function(){return new Promise(function(t,n){var a=function(i){for(var o=[],c=0,l=i;c<l.length;c++){var d=l[c];d.kind==="video"&&o.push({id:d.id,label:d.label})}t(o)},r=MediaStreamTrack;r.getSources(a)})},e}(),ei;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.NOT_STARTED=1]="NOT_STARTED",e[e.SCANNING=2]="SCANNING",e[e.PAUSED=3]="PAUSED"})(ei||(ei={}));var HPe=function(){function e(){this.state=ei.NOT_STARTED,this.onGoingTransactionNewState=ei.UNKNOWN}return e.prototype.directTransition=function(t){this.failIfTransitionOngoing(),this.validateTransition(t),this.state=t},e.prototype.startTransition=function(t){return this.failIfTransitionOngoing(),this.validateTransition(t),this.onGoingTransactionNewState=t,this},e.prototype.execute=function(){if(this.onGoingTransactionNewState===ei.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var t=this.onGoingTransactionNewState;this.onGoingTransactionNewState=ei.UNKNOWN,this.directTransition(t)},e.prototype.cancel=function(){if(this.onGoingTransactionNewState===ei.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=ei.UNKNOWN},e.prototype.getState=function(){return this.state},e.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==ei.UNKNOWN)throw"Cannot transition to a new state, already under transition"},e.prototype.validateTransition=function(t){switch(this.state){case ei.UNKNOWN:throw"Transition from unknown is not allowed";case ei.NOT_STARTED:this.failIfNewStateIs(t,[ei.PAUSED]);break;case ei.SCANNING:break;case ei.PAUSED:break}},e.prototype.failIfNewStateIs=function(t,n){for(var a=0,r=n;a<r.length;a++){var i=r[a];if(t===i)throw"Cannot transition from ".concat(this.state," to ").concat(t)}},e}(),zPe=function(){function e(t){this.stateManager=t}return e.prototype.startTransition=function(t){return this.stateManager.startTransition(t)},e.prototype.directTransition=function(t){this.stateManager.directTransition(t)},e.prototype.getState=function(){return this.stateManager.getState()},e.prototype.canScanFile=function(){return this.stateManager.getState()===ei.NOT_STARTED},e.prototype.isScanning=function(){return this.stateManager.getState()!==ei.NOT_STARTED},e.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===ei.SCANNING},e.prototype.isPaused=function(){return this.stateManager.getState()===ei.PAUSED},e}(),VPe=function(){function e(){}return e.create=function(){return new zPe(new HPe)},e}(),qPe=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,r){a.__proto__=r}||function(a,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(a[i]=r[i])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function a(){this.constructor=t}t.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}}(),Go=function(e){qPe(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.DEFAULT_WIDTH=300,t.DEFAULT_WIDTH_OFFSET=2,t.FILE_SCAN_MIN_HEIGHT=300,t.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,t.MIN_QR_BOX_SIZE=50,t.SHADED_LEFT=1,t.SHADED_RIGHT=2,t.SHADED_TOP=3,t.SHADED_BOTTOM=4,t.SHADED_REGION_ELEMENT_ID="qr-shaded-region",t.VERBOSE=!1,t.BORDER_SHADER_DEFAULT_COLOR="#ffffff",t.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",t}(yPe),UPe=function(){function e(t,n){this.logger=n,this.fps=Go.SCAN_DEFAULT_FPS,t?(t.fps&&(this.fps=t.fps),this.disableFlip=t.disableFlip===!0,this.qrbox=t.qrbox,this.aspectRatio=t.aspectRatio,this.videoConstraints=t.videoConstraints):this.disableFlip=Go.DEFAULT_DISABLE_FLIP}return e.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?WL.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},e.prototype.isShadedBoxEnabled=function(){return!su(this.qrbox)},e.create=function(t,n){return new e(t,n)},e}(),p7=function(){function e(t,n){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(t))throw"HTML Element with id=".concat(t," not found");this.elementId=t,this.verbose=!1;var a;typeof n=="boolean"?this.verbose=n===!0:n&&(a=n,this.verbose=a.verbose===!0,a.experimentalFeatures),this.logger=new CPe(this.verbose),this.qrcode=new DPe(this.getSupportedFormats(n),this.getUseBarCodeDetectorIfSupported(a),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=VPe.create()}return e.prototype.start=function(t,n,a,r){var i=this;if(!t)throw"cameraIdOrConfig is required";if(!a||typeof a!="function")throw"qrCodeSuccessCallback is required and should be a function.";var o;r?o=r:o=this.verbose?this.logger.log:function(){};var c=UPe.create(n,this.logger);this.clearElement();var l=!1;c.videoConstraints&&(c.isMediaStreamConstraintsValid()?l=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var d=l,f=document.getElementById(this.elementId);f.clientWidth?f.clientWidth:Go.DEFAULT_WIDTH,f.style.position="relative",this.shouldScan=!0,this.element=f;var g=this,b=this.stateManagerProxy.startTransition(ei.SCANNING);return new Promise(function(w,S){var j=d?c.videoConstraints:g.createVideoConstraints(t);if(!j){b.cancel(),S("videoConstraints should be defined");return}var N={};(!d||c.aspectRatio)&&(N.aspectRatio=c.aspectRatio);var I={onRenderSurfaceReady:function(M,B){g.setupUi(M,B,c),g.isScanning=!0,g.foreverScan(c,a,o)}};LPe.failIfNotSupported().then(function(M){M.create(j).then(function(B){return B.render(i.element,N,I).then(function(P){g.renderedCamera=P,b.execute(),w(null)}).catch(function(P){b.cancel(),S(P)})}).catch(function(B){b.cancel(),S(Kf.errorGettingUserMedia(B))})}).catch(function(M){b.cancel(),S(Kf.cameraStreamingNotSupported())})})},e.prototype.pause=function(t){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(ei.PAUSED),this.showPausedState(),(su(t)||t!==!0)&&(t=!1),t&&this.renderedCamera&&this.renderedCamera.pause()},e.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var t=this,n=function(){t.stateManagerProxy.directTransition(ei.SCANNING),t.hidePausedState()};if(!this.renderedCamera.isPaused()){n();return}this.renderedCamera.resume(function(){n()})},e.prototype.getState=function(){return this.stateManagerProxy.getState()},e.prototype.stop=function(){var t=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var n=this.stateManagerProxy.startTransition(ei.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var a=function(){if(t.element){var i=document.getElementById(Go.SHADED_REGION_ELEMENT_ID);i&&t.element.removeChild(i)}},r=this;return this.renderedCamera.close().then(function(){return r.renderedCamera=null,r.element&&(r.element.removeChild(r.canvasElement),r.canvasElement=null),a(),r.qrRegion&&(r.qrRegion=null),r.context&&(r.context=null),n.execute(),r.hidePausedState(),r.isScanning=!1,Promise.resolve()})},e.prototype.scanFile=function(t,n){return this.scanFileV2(t,n).then(function(a){return a.decodedText})},e.prototype.scanFileV2=function(t,n){var a=this;if(!t||!(t instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(su(n)&&(n=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(r,i){a.possiblyCloseLastScanImageFile(),a.clearElement(),a.lastScanImageFile=URL.createObjectURL(t);var o=new Image;o.onload=function(){var c=o.width,l=o.height,d=document.getElementById(a.elementId),f=d.clientWidth?d.clientWidth:Go.DEFAULT_WIDTH,g=Math.max(d.clientHeight?d.clientHeight:l,Go.FILE_SCAN_MIN_HEIGHT),b=a.computeCanvasDrawConfig(c,l,f,g);if(n){var w=a.createCanvasElement(f,g,"qr-canvas-visible");w.style.display="inline-block",d.appendChild(w);var S=w.getContext("2d");if(!S)throw"Unable to get 2d context from canvas";S.canvas.width=f,S.canvas.height=g,S.drawImage(o,0,0,c,l,b.x,b.y,b.width,b.height)}var j=Go.FILE_SCAN_HIDDEN_CANVAS_PADDING,N=Math.max(o.width,b.width),I=Math.max(o.height,b.height),M=N+2*j,B=I+2*j,P=a.createCanvasElement(M,B);d.appendChild(P);var O=P.getContext("2d");if(!O)throw"Unable to get 2d context from canvas";O.canvas.width=M,O.canvas.height=B,O.drawImage(o,0,0,c,l,j,j,N,I);try{a.qrcode.decodeRobustlyAsync(P).then(function(R){r(o7.createFromQrcodeResult(R))}).catch(i)}catch(R){i("QR code parse error, error = ".concat(R))}},o.onerror=i,o.onabort=i,o.onstalled=i,o.onsuspend=i,o.src=URL.createObjectURL(t)})},e.prototype.clear=function(){this.clearElement()},e.getCameras=function(){return FPe.retrieve()},e.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},e.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},e.prototype.applyVideoConstraints=function(t){if(t){if(!WL.isMediaStreamConstraintsValid(t,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(t)},e.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},e.prototype.getSupportedFormats=function(t){var n=[as.QR_CODE,as.AZTEC,as.CODABAR,as.CODE_39,as.CODE_93,as.CODE_128,as.DATA_MATRIX,as.MAXICODE,as.ITF,as.EAN_13,as.EAN_8,as.PDF_417,as.RSS_14,as.RSS_EXPANDED,as.UPC_A,as.UPC_E,as.UPC_EAN_EXTENSION];if(!t||typeof t=="boolean"||!t.formatsToSupport)return n;if(!Array.isArray(t.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(t.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var a=[],r=0,i=t.formatsToSupport;r<i.length;r++){var o=i[r];bPe(o)?a.push(o):this.logger.warn("Invalid format: ".concat(o," passed in config, ignoring."))}if(a.length===0)throw"None of formatsToSupport match supported values.";return a},e.prototype.getUseBarCodeDetectorIfSupported=function(t){if(su(t))return!0;if(!su(t.useBarCodeDetectorIfSupported))return t.useBarCodeDetectorIfSupported!==!1;if(su(t.experimentalFeatures))return!0;var n=t.experimentalFeatures;return su(n.useBarCodeDetectorIfSupported)?!0:n.useBarCodeDetectorIfSupported!==!1},e.prototype.validateQrboxSize=function(t,n,a){var r=this,i=a.qrbox;this.validateQrboxConfig(i);var o=this.toQrdimensions(t,n,i),c=function(d){if(d<Go.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(Go.MIN_QR_BOX_SIZE,"px.")},l=function(d){return d>t&&(r.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),d=t),d};c(o.width),c(o.height),o.width=l(o.width)},e.prototype.validateQrboxConfig=function(t){if(typeof t!="number"&&typeof t!="function"&&(t.width===void 0||t.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},e.prototype.toQrdimensions=function(t,n,a){if(typeof a=="number")return{width:a,height:a};if(typeof a=="function")try{return a(t,n)}catch(r){throw new Error("qrbox config was passed as a function but it failed with unknown error"+r)}return a},e.prototype.setupUi=function(t,n,a){a.isShadedBoxEnabled()&&this.validateQrboxSize(t,n,a);var r=su(a.qrbox)?{width:t,height:n}:a.qrbox;this.validateQrboxConfig(r);var i=this.toQrdimensions(t,n,r);i.height>n&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var o=a.isShadedBoxEnabled()&&i.height<=n,c={x:0,y:0,width:t,height:n},l=o?this.getShadedRegionBounds(t,n,i):c,d=this.createCanvasElement(l.width,l.height),f={willReadFrequently:!0},g=d.getContext("2d",f);g.canvas.width=l.width,g.canvas.height=l.height,this.element.append(d),o&&this.possiblyInsertShadingElement(this.element,t,n,i),this.createScannerPausedUiElement(this.element),this.qrRegion=l,this.context=g,this.canvasElement=d},e.prototype.createScannerPausedUiElement=function(t){var n=document.createElement("div");n.innerText=Kf.scannerPaused(),n.style.display="none",n.style.position="absolute",n.style.top="0px",n.style.zIndex="1",n.style.background="rgba(9, 9, 9, 0.46)",n.style.color="#FFECEC",n.style.textAlign="center",n.style.width="100%",t.appendChild(n),this.scannerPausedUiElement=n},e.prototype.scanContext=function(t,n){var a=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(r){return t(r.text,o7.createFromQrcodeResult(r)),a.possiblyUpdateShaders(!0),!0}).catch(function(r){a.possiblyUpdateShaders(!1);var i=Kf.codeParseError(r);return n(i,wPe.createFrom(i)),!1})},e.prototype.foreverScan=function(t,n,a){var r=this;if(this.shouldScan&&this.renderedCamera){var i=this.renderedCamera.getSurface(),o=i.videoWidth/i.clientWidth,c=i.videoHeight/i.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var l=this.qrRegion.width*o,d=this.qrRegion.height*c,f=this.qrRegion.x*o,g=this.qrRegion.y*c;this.context.drawImage(i,f,g,l,d,0,0,this.qrRegion.width,this.qrRegion.height);var b=function(){r.foreverScanTimeout=setTimeout(function(){r.foreverScan(t,n,a)},r.getTimeoutFps(t.fps))};this.scanContext(n,a).then(function(w){!w&&t.disableFlip!==!0?(r.context.translate(r.context.canvas.width,0),r.context.scale(-1,1),r.scanContext(n,a).finally(function(){b()})):b()}).catch(function(w){r.logger.logError("Error happend while scanning context",w),b()})}},e.prototype.createVideoConstraints=function(t){if(typeof t=="string")return{deviceId:{exact:t}};if(typeof t=="object"){var n="facingMode",a="deviceId",r={user:!0,environment:!0},i="exact",o=function(S){if(S in r)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(S,"'")},c=Object.keys(t);if(c.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(c.length," keys");var l=Object.keys(t)[0];if(l!==n&&l!==a)throw"Only '".concat(n,"' and '").concat(a,"' ")+" are supported for 'cameraIdOrConfig'";if(l===n){var d=t.facingMode;if(typeof d=="string"){if(o(d))return{facingMode:d}}else if(typeof d=="object")if(i in d){if(o(d["".concat(i)]))return{facingMode:{exact:d["".concat(i)]}}}else throw"'facingMode' should be string or object with"+" ".concat(i," as key.");else{var f=typeof d;throw"Invalid type of 'facingMode' = ".concat(f)}}else{var g=t.deviceId;if(typeof g=="string")return{deviceId:g};if(typeof g=="object"){if(i in g)return{deviceId:{exact:g["".concat(i)]}};throw"'deviceId' should be string or object with"+" ".concat(i," as key.")}else{var b=typeof g;throw"Invalid type of 'deviceId' = ".concat(b)}}}var w=typeof t;throw"Invalid type of 'cameraIdOrConfig' = ".concat(w)},e.prototype.computeCanvasDrawConfig=function(t,n,a,r){if(t<=a&&n<=r){var i=(a-t)/2,o=(r-n)/2;return{x:i,y:o,width:t,height:n}}else{var c=t,l=n;return t>a&&(n=a/t*n,t=a),n>r&&(t=r/n*t,n=r),this.logger.log("Image downsampled from "+"".concat(c,"X").concat(l)+" to ".concat(t,"X").concat(n,".")),this.computeCanvasDrawConfig(t,n,a,r)}},e.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var t=document.getElementById(this.elementId);t&&(t.innerHTML="")},e.prototype.possiblyUpdateShaders=function(t){this.qrMatch!==t&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(n){n.style.backgroundColor=t?Go.BORDER_SHADER_MATCH_COLOR:Go.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=t)},e.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},e.prototype.createCanvasElement=function(t,n,a){var r=t,i=n,o=document.createElement("canvas");return o.style.width="".concat(r,"px"),o.style.height="".concat(i,"px"),o.style.display="none",o.id=su(a)?"qr-canvas":a,o},e.prototype.getShadedRegionBounds=function(t,n,a){if(a.width>t||a.height>n)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(t-a.width)/2,y:(n-a.height)/2,width:a.width,height:a.height}},e.prototype.possiblyInsertShadingElement=function(t,n,a,r){if(!(n-r.width<1||a-r.height<1)){var i=document.createElement("div");i.style.position="absolute";var o=(n-r.width)/2,c=(a-r.height)/2;if(i.style.borderLeft="".concat(o,"px solid rgba(0, 0, 0, 0.48)"),i.style.borderRight="".concat(o,"px solid rgba(0, 0, 0, 0.48)"),i.style.borderTop="".concat(c,"px solid rgba(0, 0, 0, 0.48)"),i.style.borderBottom="".concat(c,"px solid rgba(0, 0, 0, 0.48)"),i.style.boxSizing="border-box",i.style.top="0px",i.style.bottom="0px",i.style.left="0px",i.style.right="0px",i.id="".concat(Go.SHADED_REGION_ELEMENT_ID),n-r.width<11||a-r.height<11)this.hasBorderShaders=!1;else{var l=5,d=40;this.insertShaderBorders(i,d,l,-l,null,0,!0),this.insertShaderBorders(i,d,l,-l,null,0,!1),this.insertShaderBorders(i,d,l,null,-l,0,!0),this.insertShaderBorders(i,d,l,null,-l,0,!1),this.insertShaderBorders(i,l,d+l,-l,null,-l,!0),this.insertShaderBorders(i,l,d+l,null,-l,-l,!0),this.insertShaderBorders(i,l,d+l,-l,null,-l,!1),this.insertShaderBorders(i,l,d+l,null,-l,-l,!1),this.hasBorderShaders=!0}t.append(i)}},e.prototype.insertShaderBorders=function(t,n,a,r,i,o,c){var l=document.createElement("div");l.style.position="absolute",l.style.backgroundColor=Go.BORDER_SHADER_DEFAULT_COLOR,l.style.width="".concat(n,"px"),l.style.height="".concat(a,"px"),r!==null&&(l.style.top="".concat(r,"px")),i!==null&&(l.style.bottom="".concat(i,"px")),c?l.style.left="".concat(o,"px"):l.style.right="".concat(o,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(l),t.appendChild(l)},e.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},e.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},e.prototype.getTimeoutFps=function(t){return 1e3/t},e}(),g7;(function(e){e[e.STATUS_DEFAULT=0]="STATUS_DEFAULT",e[e.STATUS_SUCCESS=1]="STATUS_SUCCESS",e[e.STATUS_WARNING=2]="STATUS_WARNING",e[e.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(g7||(g7={}));const WPe="_overlay_iwsem_1",YPe="_modal_iwsem_16",GPe="_header_iwsem_44",QPe="_content_iwsem_73",XPe="_inputSection_iwsem_77",KPe="_scanButton_iwsem_97",ZPe="_error_iwsem_118",JPe="_customerInfo_iwsem_126",eFe="_customerHeader_iwsem_132",tFe="_clearButton_iwsem_145",nFe="_balanceSection_iwsem_159",sFe="_balanceCard_iwsem_165",aFe="_balanceLabel_iwsem_182",rFe="_balanceValue_iwsem_187",iFe="_tierCard_iwsem_193",oFe="_tierLabel_iwsem_203",cFe="_tierValue_iwsem_209",lFe="_tierPercent_iwsem_216",uFe="_redemptionSection_iwsem_221",dFe="_redemptionType_iwsem_233",hFe="_redemptionInput_iwsem_247",fFe="_transactions_iwsem_263",mFe="_transactionsList_iwsem_275",pFe="_transactionItem_iwsem_281",gFe="_transactionType_iwsem_291",_Fe="_transactionAmount_iwsem_296",vFe="_positive_iwsem_301",xFe="_negative_iwsem_305",bFe="_transactionDate_iwsem_309",yFe="_footer_iwsem_314",wFe="_applyButton_iwsem_321",CFe="_modeToggle_iwsem_338",SFe="_modeButton_iwsem_347",jFe="_active_iwsem_369",NFe="_cameraSection_iwsem_380",EFe="_qrReader_iwsem_399",kFe="_scanningOverlay_iwsem_423",IFe="_scanningText_iwsem_437",DFe="_cameraPlaceholder_iwsem_453",TFe="_permissionError_iwsem_477",AFe="_scanningHint_iwsem_483",MFe="_cameraInfo_iwsem_501",RFe="_cameraInfoText_iwsem_507",OFe="_switchCameraButton_iwsem_512",BFe="_switchCameraButtonText_iwsem_545",Ls={overlay:WPe,modal:YPe,header:GPe,content:QPe,inputSection:XPe,scanButton:KPe,error:ZPe,customerInfo:JPe,customerHeader:eFe,clearButton:tFe,balanceSection:nFe,balanceCard:sFe,balanceLabel:aFe,balanceValue:rFe,tierCard:iFe,tierLabel:oFe,tierValue:cFe,tierPercent:lFe,redemptionSection:uFe,redemptionType:dFe,redemptionInput:hFe,transactions:fFe,transactionsList:mFe,transactionItem:pFe,transactionType:gFe,transactionAmount:_Fe,positive:vFe,negative:xFe,transactionDate:bFe,footer:yFe,applyButton:wFe,modeToggle:CFe,modeButton:SFe,active:jFe,cameraSection:NFe,qrReader:EFe,scanningOverlay:kFe,scanningText:IFe,cameraPlaceholder:DFe,permissionError:TFe,scanningHint:AFe,cameraInfo:MFe,cameraInfoText:RFe,switchCameraButton:OFe,switchCameraButtonText:BFe},GL=({locationId:e,onCustomerSelected:t,onClose:n})=>{var ie;const{business_slug:a}=fa(),r=r0(768),[i,o]=v.useState(""),[c,l]=v.useState(!1),[d,f]=v.useState(null),[g,b]=v.useState(null),[w,S]=v.useState(0),[j,N]=v.useState(0),[I,M]=v.useState("percent"),[B,P]=v.useState(!0),[O,R]=v.useState(!1),[$,U]=v.useState(null),[F,H]=v.useState("environment"),[ne,X]=v.useState([]),[te,se]=v.useState(0),V=v.useRef(null),q=v.useRef(null),T=v.useRef(null),J=v.useRef(!1),Z=v.useRef(!0);v.useEffect(()=>(Z.current=!0,()=>{Z.current=!1}),[]);const A=async()=>{if(!i.trim()){b(" QR-");return}await K(i)},Y=()=>{o(""),f(null),b(null),S(0),N(0),T.current=null,J.current=!1},K=Je.useCallback(async ue=>{var he,ge,ye,je,Ie,me;if(!ue||!ue.trim()){b("QR-  ");return}if(!(T.current===ue&&J.current)&&!J.current)try{J.current=!0,T.current=ue,l(!0),b(null);const de=await Re.post(`api/business/${a}/scan-qr/`,{qr_token:ue.trim(),location_id:e});if(f(de.data),q.current&&O)try{await q.current.stop(),R(!1)}catch{}t&&t(de.data)}catch(de){const fe=((ge=(he=de.response)==null?void 0:he.data)==null?void 0:ge.error)||((je=(ye=de.response)==null?void 0:ye.data)==null?void 0:je.detail)||((me=(Ie=de.response)==null?void 0:Ie.data)==null?void 0:me.message)||de.message||"   QR-";b(fe),f(null),T.current=null}finally{l(!1),J.current=!1}},[a,e,t,O]),G=Je.useCallback(async()=>{if(q.current){try{await q.current.stop(),q.current.clear()}catch{}q.current=null}R(!1)},[]),oe=Je.useCallback(async(ue=F,he=te)=>{if(!(!V.current||q.current))try{try{(await navigator.mediaDevices.getUserMedia({video:{facingMode:ue}})).getTracks().forEach(de=>de.stop()),U("granted")}catch{if(Z.current){U("denied"),b("   .       ."),P(!1);return}}const ge=new p7(V.current.id);q.current=ge;const ye=r?Math.min(window.innerWidth*.9,window.innerHeight*.5,350):300,je={fps:20,qrbox:{width:ye,height:ye},aspectRatio:1,disableFlip:!1};let Ie;ne.length>1&&he<ne.length?Ie={deviceId:{exact:ne[he].id}}:ne.length===1?Ie={deviceId:{exact:ne[0].id}}:Ie={facingMode:ue},await ge.start(Ie,je,(me,de)=>{!me||!me.trim()||Z.current&&(o(me),Z.current&&K(me))},me=>{}),Z.current&&(R(!0),b(null))}catch(ge){if(Z.current){let ye="   .";ge.name==="NotAllowedError"||ge.name==="PermissionDeniedError"?(ye="   .     .",U("denied")):ge.name==="NotFoundError"||ge.name==="DevicesNotFoundError"?ye="  . ,    .":(ge.name==="NotReadableError"||ge.name==="TrackStartError")&&(ye="    ."),b(ye),P(!1),R(!1)}}},[F,te,r,ne,K]),ee=Je.useCallback(async()=>{if(!O)return;await G();const ue=F==="environment"?"user":"environment";H(ue);let he=te;ne.length>1&&(he=(te+1)%ne.length,se(he)),setTimeout(()=>{Z.current&&oe(ue,he)},400)},[O,r,G,F,te,ne,oe]);v.useEffect(()=>{(async()=>{try{const he=await p7.getCameras();X(he)}catch(he){console.error("   :",he)}})()},[]),v.useEffect(()=>{if(!B||d){G();return}if(O)return;if(!V.current){const he=setTimeout(()=>{},200);return()=>clearTimeout(he)}const ue=setTimeout(()=>{V.current&&!q.current&&!O&&B&&!d&&oe()},r?300:100);return()=>{clearTimeout(ue)}},[B,d,O,r,oe]);const ae=Je.useCallback(async()=>{await G(),n()},[G,n]);return s.jsx("div",{className:Ls.overlay,onClick:ae,children:s.jsxs("div",{className:Ls.modal,onClick:ue=>ue.stopPropagation(),children:[s.jsxs("div",{className:Ls.header,children:[s.jsxs("h3",{children:[s.jsx(tm,{}),"  QR-"]}),s.jsx(Ti,{onClick:ae})]}),s.jsx("div",{className:Ls.content,children:d?s.jsxs("div",{className:Ls.customerInfo,children:[s.jsxs("div",{className:Ls.customerHeader,children:[s.jsxs("h4",{children:[": ",d.user.full_name||d.user.username]}),s.jsx("button",{onClick:Y,className:Ls.clearButton,children:""})]}),s.jsxs("div",{className:Ls.balanceSection,children:[s.jsxs("div",{className:Ls.balanceCard,children:[s.jsx(hi,{}),s.jsxs("div",{children:[s.jsx("div",{className:Ls.balanceLabel,children:" "}),s.jsxs("div",{className:Ls.balanceValue,children:[parseFloat(d.balance).toFixed(2)," "]})]})]}),d.tier&&s.jsxs("div",{className:Ls.tierCard,children:[s.jsx("div",{className:Ls.tierLabel,children:":"}),s.jsx("div",{className:Ls.tierValue,children:d.tier.name}),s.jsxs("div",{className:Ls.tierPercent,children:[": ",d.tier.bonus_percent,"%"]})]})]}),parseFloat(d.balance)>0&&s.jsxs("div",{className:Ls.redemptionSection,children:[s.jsx("h5",{children:" :"}),s.jsxs("div",{className:Ls.redemptionType,children:[s.jsxs("label",{children:[s.jsx("input",{type:"radio",value:"percent",checked:I==="percent",onChange:ue=>M(ue.target.value)}),"  "]}),s.jsxs("label",{children:[s.jsx("input",{type:"radio",value:"amount",checked:I==="amount",onChange:ue=>M(ue.target.value)})," "]})]}),I==="percent"?s.jsxs("div",{className:Ls.redemptionInput,children:[s.jsx(ej,{}),s.jsx("input",{type:"number",min:"0",max:"100",step:"1",value:w,onChange:ue=>S(ue.target.value),placeholder:""}),s.jsx("span",{children:"%"})]}):s.jsxs("div",{className:Ls.redemptionInput,children:[s.jsx(ZS,{}),s.jsx("input",{type:"number",min:"0",max:d.balance,step:"0.01",value:j,onChange:ue=>N(ue.target.value),placeholder:""}),s.jsx("span",{children:""})]})]}),d.recent_transactions&&d.recent_transactions.length>0&&s.jsxs("div",{className:Ls.transactions,children:[s.jsx("h5",{children:" :"}),s.jsx("div",{className:Ls.transactionsList,children:d.recent_transactions.slice(0,5).map(ue=>s.jsxs("div",{className:Ls.transactionItem,children:[s.jsx("div",{className:Ls.transactionType,children:ue.type==="accrual"?"":""}),s.jsxs("div",{className:`${Ls.transactionAmount} ${ue.amount>=0?Ls.positive:Ls.negative}`,children:[ue.amount>=0?"+":"",parseFloat(ue.amount).toFixed(2)]}),s.jsx("div",{className:Ls.transactionDate,children:new Date(ue.created_at).toLocaleString("ru-RU")})]},ue.id))})]})]}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:Ls.modeToggle,children:[s.jsxs("button",{className:`${Ls.modeButton} ${B?Ls.active:""}`,onClick:()=>P(!0),disabled:c,children:[s.jsx(zk,{})," "]}),s.jsxs("button",{className:`${Ls.modeButton} ${B?"":Ls.active}`,onClick:()=>P(!1),disabled:c,children:[s.jsx(ZX,{}),"  "]})]}),B?s.jsxs("div",{className:Ls.cameraSection,children:[s.jsx("div",{id:"qr-reader",ref:V,className:Ls.qrReader}),c&&s.jsx("div",{className:Ls.scanningOverlay,children:s.jsx("div",{className:Ls.scanningText,children:" QR-..."})}),!O&&!c&&s.jsxs("div",{className:Ls.cameraPlaceholder,children:[s.jsx(zk,{}),s.jsx("p",{children:" ..."}),$==="denied"&&s.jsx("p",{className:Ls.permissionError,children:"   .     ."})]}),O&&!c&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:Ls.scanningHint,children:[s.jsx("p",{children:"   QR-"}),ne.length>0&&s.jsxs("div",{className:Ls.cameraInfo,children:[s.jsxs("p",{className:Ls.cameraInfoText,children:[": ",((ie=ne[te])==null?void 0:ie.label)||" "]}),s.jsx("p",{className:Ls.cameraInfoText,children:F==="environment"?" ":" "})]})]}),ne.length>1&&s.jsxs("button",{className:Ls.switchCameraButton,onClick:ee,title:F==="environment"?"   ":"   ",children:[s.jsx(Sg,{}),s.jsx("span",{className:Ls.switchCameraButtonText,children:F==="environment"?" ":" "})]})]})]}):s.jsxs("div",{className:Ls.inputSection,children:[s.jsx("label",{children:"QR-:"}),s.jsx("input",{type:"text",value:i,onChange:ue=>o(ue.target.value),placeholder:" QR-",onKeyPress:ue=>ue.key==="Enter"&&A(),autoFocus:!0}),s.jsx("button",{onClick:A,disabled:c||!i.trim(),className:Ls.scanButton,children:c?"...":""})]}),g&&s.jsx("div",{className:Ls.error,children:g})]})}),d&&s.jsx("div",{className:Ls.footer,children:s.jsx("button",{onClick:()=>{t&&t({...d,bonus_redemption_percent:I==="percent"?w:null,bonus_redemption_amount:I==="amount"?j:null}),ae()},className:Ls.applyButton,children:""})})]})})},_7=({options:e=[],value:t,onChange:n,disabled:a,placeholder:r="    ...",icon:i,label:o,getOptionLabel:c,getOptionSubLabel:l,required:d=!1})=>{const[f,g]=v.useState(!1),[b,w]=v.useState(""),[S,j]=v.useState(0),N=v.useRef(null),I=e.find(R=>String(R.id)===String(t))||null,M=b.trim().toLowerCase(),B=M?e.filter(R=>c(R).toLowerCase().includes(M)||l&&l(R).toLowerCase().includes(M)):e;v.useEffect(()=>{if(!f)return;const R=$=>{N.current&&!N.current.contains($.target)&&(g(!1),w(""))};return document.addEventListener("mousedown",R),()=>document.removeEventListener("mousedown",R)},[f]),v.useEffect(()=>{f&&j(0)},[f,M]);const P=R=>{if(!f&&(R.key==="ArrowDown"||R.key==="Enter")){g(!0);return}if(f)if(R.key==="ArrowDown")R.preventDefault(),j($=>Math.min($+1,B.length-1));else if(R.key==="ArrowUp")R.preventDefault(),j($=>Math.max($-1,0));else if(R.key==="Enter"){R.preventDefault();const $=B[S];$&&(n($.id),w(""),g(!1))}else R.key==="Escape"&&(R.preventDefault(),g(!1),w(""))},O=R=>{n(R.id),w(""),g(!1)};return s.jsxs("div",{className:ze.searchableSelectWrapper,children:[o&&s.jsxs("label",{className:ze.searchableLabel,children:[i&&s.jsx(i,{})," ",o,d&&s.jsx("span",{className:ze.requiredMark,children:" *"})]}),s.jsxs("div",{className:ze.searchableSelect,ref:N,children:[s.jsxs("div",{className:`${ze.searchableControl} ${a?ze.disabled:""}`,onClick:()=>!a&&g(R=>!R),onKeyDown:P,tabIndex:a?-1:0,children:[s.jsx("div",{className:ze.searchableValue,children:I?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:ze.selectedName,children:c(I)}),l&&s.jsx("div",{className:ze.selectedSubLabel,children:l(I)})]}):s.jsx("div",{className:ze.searchablePlaceholder,children:r})}),s.jsx("div",{className:ze.searchableCaret})]}),f&&s.jsxs("div",{className:ze.searchableDropdown,onKeyDown:P,children:[s.jsx("input",{autoFocus:!0,className:ze.searchableSearch,value:b,onChange:R=>w(R.target.value),placeholder:"..."}),s.jsx("div",{className:ze.searchableList,role:"listbox",tabIndex:0,children:B.length===0?s.jsx("div",{className:ze.searchableEmpty,children:"  "}):B.map((R,$)=>s.jsxs("div",{role:"option","aria-selected":String(R.id)===String(t),className:`${ze.searchableItem} ${$===S?ze.searchableItemActive:""}`,onMouseEnter:()=>j($),onClick:()=>O(R),children:[s.jsx("div",{className:ze.searchableItemName,children:c(R)}),l&&s.jsx("div",{className:ze.searchableItemSubLabel,children:l(R)})]},R.id))})]})]})]})},LFe=()=>{var rt,Be;const{business_slug:e}=fa(),t=Rs(),{getFileUrl:n}=Ur(),[a,r]=v.useState([]),[i,o]=v.useState([]),[c,l]=v.useState(null),[d,f]=v.useState(null),[g,b]=v.useState(""),[w,S]=v.useState(""),[j,N]=v.useState(""),[I,M]=v.useState(!0),[B,P]=v.useState(!1),[O,R]=v.useState("cash"),[$,U]=v.useState(""),[F,H]=v.useState(""),[ne,X]=v.useState(!1),[te,se]=v.useState(null),[V,q]=v.useState(null),[T,J]=v.useState(null),[Z,A]=v.useState("tier"),[Y,K]=v.useState(0),[G,oe]=v.useState(0),[ee,ae]=v.useState("percent"),[ie,ue]=v.useState(!1),[he,ge]=v.useState([]),[ye,je]=v.useState([]),[Ie,me]=v.useState(!0),[de,fe]=v.useState(null),[re,xe]=v.useState(0),[Se,pe]=v.useState([]),[Ee,Le]=v.useState(!1),[Ue,Ne]=v.useState(1),[et,dt]=v.useState("percent"),[_e,tt]=v.useState(0),[Fe,It]=v.useState(0),[Xe,le]=v.useState("percent"),[Ae,be]=v.useState(!1),[We,st]=v.useState(null),[ct,Mt]=v.useState(1),[pn,Gn]=v.useState("percent"),[bt,ln]=v.useState(0),[fn,wn]=v.useState(!1),[ut,Et]=v.useState(!1),[nt,Rt]=v.useState(null),[Lt,on]=v.useState(1),[vn,ns]=v.useState(!1),[us,_s]=v.useState(!1),ds=v.useRef(null),Pn=v.useRef(null),Xt=v.useRef(!1),[ra,xa]=v.useState([]),[Hn,ya]=v.useState(null),[Ys,Js]=v.useState(!0),[gs,Pa]=v.useState({}),[ar,Vs]=v.useState(null),[Ts,Gs]=v.useState(new Set),xr=v.useCallback(async()=>{try{Js(!0);const Ye=await Re.get(`/api/business/${e}/locations/`),Dt=Array.isArray(Ye.data)?Ye.data:Ye.data.locations||[];if(xa(Dt),Dt.length>0){const Wt=Dt.find(qt=>qt.is_primary);ya((Wt==null?void 0:Wt.id)||Dt[0].id)}Js(!1)}catch(Ye){console.error("Failed to fetch locations:",Ye),fe("   "),Js(!1)}},[e]),Fa=v.useCallback(async()=>{if(Hn)try{const Ye=await Re.get(`api/business/${e}/bonus-settings/?location=${Hn}`);q(Ye.data)}catch(Ye){console.error("Failed to fetch bonus settings:",Ye),q(null)}},[e,Hn]),qa=v.useCallback(async()=>{var Ye,Dt;if(Hn){if(Xt.current&&vn&&!w){Xt.current=!1;return}Xt.current=!1;try{me(!0),fe(null);const Wt={location:String(Hn)};w&&(Wt.search=w),j&&(Wt.category=j),I&&(Wt.in_stock="true"),console.log("Fetching products with params:",Wt);const qt=await Re.get(`/api/business/${e}/sales-products/`,{params:Wt});console.log("Products response:",qt.data),ge(qt.data.products||[]),me(!1),vn&&(Xt.current=!0,b(""),S(""),_s(!1),setTimeout(()=>{ds.current&&ds.current.focus()},100))}catch(Wt){((Dt=(Ye=Wt.response)==null?void 0:Ye.data)==null?void 0:Dt.error)==="location_required"?fe(",  "):fe(Wt.message),me(!1),vn&&(Xt.current=!0,b(""),S(""),_s(!1),setTimeout(()=>{ds.current&&ds.current.focus()},100))}}},[e,w,j,Hn,vn,I]),zt=async()=>{Xt.current=!1,S(g),vn&&_s(!0)},Kn=Ye=>{const Dt=Ye.target.value,Wt=g.length;if(vn&&Wt>0&&Dt.length<Wt&&Dt.length<5&&(S(""),_s(!1),Pn.current&&(clearTimeout(Pn.current),Pn.current=null)),b(Dt),vn&&Dt.length>=13){Pn.current&&clearTimeout(Pn.current);const qt=Dt;Pn.current=setTimeout(()=>{ds.current&&ds.current.value===qt&&qt.length>=13&&(S(qt),_s(!0))},150)}},Es=Ye=>{Ye.key==="Enter"&&(Ye.preventDefault(),g.trim()&&zt())},er=v.useCallback(async()=>{try{const Ye=await Re.get(`/api/business/${e}/categories/`);je(Ye.data)}catch(Ye){console.error("Failed to fetch categories:",Ye)}},[e]),Ia=Ye=>{let Dt=Ye.originalPrice;return Ye.hasOriginalDiscount&&(Dt=Dt*(1-Ye.discount/100)),Ye.itemDiscountPercent>0?Dt=Dt*(1-Ye.itemDiscountPercent/100):Ye.itemDiscountAmount>0&&(Dt=Dt-Ye.itemDiscountAmount),Math.round(Dt)},ys=v.useCallback(async()=>{try{const Ye=await Re.get("/api/business/payment-methods/");pe(Ye.data),Ye.data.length>0&&R(Ye.data[0].code)}catch(Ye){console.error("Failed to fetch payment methods:",Ye)}},[]);v.useEffect(()=>{xr(),er(),ys()},[xr,er,ys]),v.useEffect(()=>{Hn?(Xt.current=!1,qa()):ge([])},[Hn,w,j,I,qa]),v.useEffect(()=>{Fa()},[Fa]),v.useEffect(()=>{vn?(Xt.current=!0,b(""),S(""),_s(!1),setTimeout(()=>{ds.current&&ds.current.focus()},100)):(Pn.current&&(clearTimeout(Pn.current),Pn.current=null),_s(!1),Xt.current=!1)},[vn]);const ks=(Ye,Dt,Wt=1)=>{const qt=Wt===1?r:o,Ge=Dt.available_quantity_in_location??0;if(Ge<=0){alert("    ");return}if(!Dt.price&&Dt.price!==0){alert("      ");return}qt(Ze=>{var gn,Qn;const Ke=Ze.find(Gt=>Gt.variantId===Dt.id&&Gt.productId===Ye.id),it=Ye.unit_display||".",Ut=it===".",Ft=Ut?1:.1,En=Ut?1:.1;if(Ke){const Gt=Ke.quantity+En;if(Gt<=Ge){const Tn=Ut?Math.floor(Gt):parseFloat(Gt.toFixed(3));return Ze.map(hn=>hn.variantId===Dt.id&&hn.productId===Ye.id?{...hn,quantity:Tn,unitDisplay:it}:hn)}else return alert("    "),Ze}else{const Gt=Dt.discount>0,Tn=parseFloat(Dt.price),hn=Gt?Math.round(Tn*(1-Dt.discount/100)):Tn,ss=ra.find(Qt=>Qt.id===Hn);return Pa(Qt=>({...Qt,[Dt.id]:!0})),[...Ze,{productId:Ye.id,productName:Ye.name,variantId:Dt.id,sku:Dt.sku,attributes:Dt.attributes,price:hn,originalPrice:Tn,discount:Dt.discount||0,quantity:Ft,stock:Ge,unitDisplay:it,image:((gn=Ye.images.find(Qt=>Qt.is_main))==null?void 0:gn.image)||((Qn=Ye.images[0])==null?void 0:Qn.image),itemDiscountAmount:0,itemDiscountPercent:0,location:Hn,locationName:(ss==null?void 0:ss.name)||" ",hasOriginalDiscount:Gt,useFifo:!0,batchId:null,batchInfo:null}]}})},is=Ye=>Ye.reduce((Dt,Wt)=>Dt+Wt.originalPrice*Wt.quantity,0),La=(Ye,Dt=_e,Wt=et)=>{let Ge=Ye.reduce((Ze,Ke)=>Ze+Ia(Ke)*Ke.quantity,0);return Wt==="percent"&&Dt>0?Ge=Ge*(1-Dt/100):Wt==="amount"&&Dt>0&&(Ge=Math.max(0,Ge-Dt)),Math.round(Ge)},os=(Ye,Dt=_e,Wt=et)=>{let qt=La(Ye,Dt,Wt);if(te&&ee&&ie){let Ge=0;const Ze=parseFloat(te.balance||0);ee==="percent"&&Y>0?Ge=Ze*Y/100:ee==="amount"&&G>0&&(Ge=G),Ge=Math.min(Ge,qt),Ge=Math.round(Ge),qt=qt-Ge}return Math.max(0,Math.round(qt))},ta=(Ye,Dt=_e,Wt=et)=>is(Ye)-La(Ye,Dt,Wt),Ws=(Ye,Dt=_e,Wt=et)=>{var Ke;if(!te||!V||!V.is_enabled)return null;const qt=La(Ye,Dt,Wt);if(qt<parseFloat(V.min_purchase_amount||0))return null;let Ge=0;V.is_fixed_percent&&T===null?Ge=parseFloat(V.bonus_percent||0):T!==null?Ge=parseFloat(T):Z==="tier"&&((Ke=te.tier)!=null&&Ke.bonus_percent)?Ge=parseFloat(te.tier.bonus_percent):Ge=parseFloat(V.bonus_percent||0);let Ze=qt*Ge/100;if(V.max_bonus_percent){const it=qt*parseFloat(V.max_bonus_percent)/100;Ze=Math.min(Ze,it)}return V.max_bonus_amount&&(Ze=Math.min(Ze,parseFloat(V.max_bonus_amount))),Math.max(0,Math.round(Ze))},Qs=async()=>{var Ge,Ze,Ke,it,Ut,Ft,En;if(ut)return;const Ye=Lt===1?a:i,Dt=Lt===1?_e:Fe,Wt=Lt===1?et:Xe;if(Ye.filter(gn=>gn.useFifo===!1&&!gn.batchId).length>0){alert("    FIFO   ");return}if(te){const gn=parseFloat(te.balance||0);if(ee==="amount"&&G>gn){alert(`   . : ${gn.toFixed(2)} `);return}if(ee==="percent"&&Y>0&&gn*Y/100>gn){alert(`   . : ${gn.toFixed(2)} `);return}}Et(!0);try{const gn={items:Ye.map(Gt=>{const hn=(Gt.unitDisplay||".")===".";let ss=Gt.quantity;hn?ss=Math.floor(Gt.quantity):ss=parseFloat(Gt.quantity.toFixed(3));const Qt={variant:Gt.variantId,location:Gt.location,quantity:ss,discount_amount:Gt.itemDiscountAmount||0,discount_percent:Gt.itemDiscountPercent||0,use_fifo:Gt.useFifo!==!1};return Gt.useFifo===!1&&Gt.batchId&&(Qt.batch_id=Gt.batchId),Qt}),payment_method:O,customer:((Ge=te==null?void 0:te.user)==null?void 0:Ge.id)||null,customer_name:$||((Ze=te==null?void 0:te.user)==null?void 0:Ze.full_name)||null,customer_phone:F||null,discount_amount:Wt==="amount"?Dt:0,discount_percent:Wt==="percent"?Dt:0,bonus_redemption_percent:ee==="percent"&&Y>0?Y:null,bonus_redemption_amount:ee==="amount"&&G>0?G:null,bonus_percent_override:T||null,bonus_accrual_mode:Z};console.log("  :",gn);const Qn=await Re.post(`/api/business/${e}/create-receipt/`,gn);console.log(" :",Qn.data),console.log("receipt_preview_image:",(Ke=Qn.data)==null?void 0:Ke.receipt_preview_image),console.log("receipt_pdf_file:",(it=Qn.data)==null?void 0:it.receipt_pdf_file),Rt(Qn.data),wn(!0),await qa(),Lt===1?(r([]),tt(0)):(o([]),It(0)),Pa({}),se(null),J(null),A("tier"),K(0),oe(0),ae("percent"),ue(!1),U(""),H("")}catch(gn){console.error("Sale error:",((Ut=gn.response)==null?void 0:Ut.data)||gn.message),alert("   : "+(((En=(Ft=gn.response)==null?void 0:Ft.data)==null?void 0:En.message)||gn.message))}finally{Et(!1)}},fr=()=>{Ue===1||(It(_e),le(et)),Le(!1)},qs=(Ye,Dt)=>{Dt(Wt=>Wt.map(qt=>qt.variantId===We?{...qt,itemDiscountAmount:pn==="amount"?parseFloat(bt):0,itemDiscountPercent:pn==="percent"?parseFloat(bt):0,price:Ia(qt)}:qt)),be(!1),ln(0)},Ga=(Ye,Dt,Wt)=>{const qt=Wt===1?_e:Fe,Ge=Wt===1?et:Xe,Ze=is(Ye),Ke=La(Ye,qt,Ge),it=os(Ye,qt,Ge);return s.jsxs("div",{className:ze.cartFooter,children:[s.jsxs("div",{className:ze.cartTotals,children:[s.jsxs("div",{className:ze.totalRow,children:[s.jsx("span",{children:"  :"}),s.jsxs("span",{children:[Ze.toLocaleString()," "]})]}),Ye.some(Ut=>Ut.hasOriginalDiscount)&&s.jsxs("div",{className:ze.totalRow,children:[s.jsx("span",{children:" :"}),s.jsxs("span",{className:ze.discountValue,children:["-",Ye.reduce((Ut,Ft)=>Ft.hasOriginalDiscount?Ut+(Ft.originalPrice-Math.round(Ft.originalPrice*(1-Ft.discount/100)))*Ft.quantity:Ut,0).toLocaleString()," "]})]}),Ye.some(Ut=>Ut.itemDiscountPercent>0||Ut.itemDiscountAmount>0)&&s.jsxs("div",{className:ze.totalRow,children:[s.jsx("span",{children:" :"}),s.jsxs("span",{className:ze.discountValue,children:["-",Ye.reduce((Ut,Ft)=>{const En=Ft.hasOriginalDiscount?Math.round(Ft.originalPrice*(1-Ft.discount/100)):Ft.originalPrice,gn=Ia(Ft);return Ut+(En-gn)*Ft.quantity},0).toLocaleString()," "]})]}),qt>0&&s.jsxs("div",{className:ze.totalRow,children:[s.jsx("span",{children:"   :"}),s.jsxs("span",{className:ze.discountValue,children:["-",(Ge==="percent"?(Ze-Ye.reduce((Ut,Ft)=>{Ft.hasOriginalDiscount&&(Ut+=(Ft.originalPrice-Math.round(Ft.originalPrice*(1-Ft.discount/100)))*Ft.quantity);const En=Ft.hasOriginalDiscount?Math.round(Ft.originalPrice*(1-Ft.discount/100)):Ft.originalPrice,gn=Ia(Ft);return Ut+=(En-gn)*Ft.quantity,Ut},0))*qt/100:qt).toLocaleString()," "]})]}),s.jsxs("div",{className:`${ze.totalRow} ${ze.grandTotal}`,children:[s.jsx("span",{children:"  :"}),s.jsxs("span",{children:[it.toLocaleString()," "]})]}),te&&ee&&ie&&(()=>{const Ut=parseFloat(te.balance||0);let Ft=0;return ee==="percent"&&Y>0?Ft=Math.min(Ut*Y/100,Ke):ee==="amount"&&G>0&&(Ft=Math.min(G,Ke)),Ft=Math.round(Ft),Ft>0?s.jsxs("div",{className:ze.totalRow,style:{color:"var(--accent-green)",fontSize:"14px",marginTop:"4px"},children:[s.jsx("span",{children:" :"}),s.jsxs("span",{children:["-",Ft," "]})]}):null})()]}),s.jsxs("div",{className:ze.cartActions,children:[s.jsxs("button",{className:ze.discountButton,onClick:()=>{Ne(Wt),Le(!0)},disabled:Ye.length===0,children:[s.jsx(ud,{})," "]}),s.jsxs("button",{className:ze.clearCartButton,onClick:()=>{Dt([]),Wt===1&&Pa({})},disabled:Ye.length===0,children:[s.jsx(Oh,{})," "]}),s.jsxs("button",{className:ze.checkoutButton,onClick:()=>{on(Wt),P(!0)},disabled:Ye.length===0,children:[s.jsx(Cx,{})," "]})]})]})},_i=async()=>{if(!(nt!=null&&nt.receipt_pdf_file)){console.error("PDF    ");return}await km(nt.receipt_pdf_file)},na=async()=>{nt!=null&&nt.receipt_pdf_file&&await v0(nt.receipt_pdf_file)},As=()=>{if(Ie)return s.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"200px"},children:s.jsx(Wn,{size:"medium"})});if(de)return s.jsxs("div",{className:ze.error,children:[": ",de]});if(he.length===0)return s.jsx("div",{className:ze.empty,children:"  "});const Ye=he.flatMap(Dt=>Dt.variants.map(Wt=>({product:Dt,variant:Wt,availableQty:Wt.available_quantity_in_location??0})));return Ye.sort((Dt,Wt)=>Dt.availableQty>0&&Wt.availableQty===0?-1:Dt.availableQty===0&&Wt.availableQty>0?1:Dt.availableQty>0&&Wt.availableQty>0?Wt.availableQty-Dt.availableQty:0),s.jsx("div",{className:ze.productsGrid,children:Ye.map(({product:Dt,variant:Wt})=>{var Gt,Tn;const qt=Wt.available_quantity_in_location??0,Ge=((Gt=Dt.images.find(hn=>hn.is_main))==null?void 0:Gt.image)||((Tn=Dt.images[0])==null?void 0:Tn.image),Ze=Wt.price!==null&&Wt.price!==void 0,Ke=`${Dt.id}-${Wt.id}`,it=Ts.has(Ke),Ut=it?Wt.attributes:Wt.attributes.slice(0,2),Ft=Wt.attributes.length>2,En=Ze&&Wt.discount>0?Math.round(Wt.price*(1-Wt.discount/100)):Ze?parseFloat(Wt.price):null,gn=Ze?parseFloat(Wt.price):null,Qn=hn=>{hn.stopPropagation(),Gs(ss=>{const Qt=new Set(ss);return Qt.has(Ke)?Qt.delete(Ke):Qt.add(Ke),Qt})};return s.jsxs("div",{className:`${ze.productCard} ${(c==null?void 0:c.id)===Dt.id&&(d==null?void 0:d.id)===Wt.id?ze.selected:""}`,onClick:()=>{l(Dt),f(Wt),xe(0)},children:[s.jsxs("div",{className:ze.productImageWrapper,children:[s.jsx("div",{className:ze.productImage,children:s.jsx("img",{src:Ge,alt:Dt.name,onError:hn=>{hn.target.src="https://via.placeholder.com/300x400?text=No+Image"}})}),Wt.discount>0&&Ze&&s.jsxs("div",{className:ze.discountBadgeOverlay,children:["-",Wt.discount,"%"]})]}),s.jsxs("div",{className:ze.productInfo,children:[s.jsxs("div",{className:ze.productHeader,children:[s.jsx("h4",{className:ze.productTitle,title:Dt.name,children:Dt.name}),Wt.sku&&s.jsx("span",{className:ze.productSku,title:`: ${Wt.sku}`,children:Wt.sku})]}),Ut.length>0&&s.jsxs("div",{className:ze.attributesContainer,children:[s.jsx("div",{className:ze.attributes,children:Ut.map(hn=>s.jsx("span",{className:ze.attributeBadge,title:`${hn.category_attribute_name}: ${hn.custom_value||hn.predefined_value_name}`,children:hn.custom_value||hn.predefined_value_name},hn.id))}),Ft&&s.jsx("button",{className:ze.expandAttributesButton,onClick:Qn,title:it?" ":"  ",children:it?s.jsxs(s.Fragment,{children:[s.jsx(Lo,{})," "]}):s.jsxs(s.Fragment,{children:[s.jsx(Bo,{}),"   (",Wt.attributes.length-2,")"]})})]}),s.jsxs("div",{className:ze.productDetails,children:[s.jsx("div",{className:ze.priceSection,children:Ze?Wt.discount>0?s.jsx("div",{className:ze.priceContainer,children:s.jsxs("div",{className:ze.priceRow,children:[s.jsxs("span",{className:ze.discountedPrice,children:[En.toLocaleString()," "]}),s.jsxs("span",{className:ze.originalPrice,children:[gn.toLocaleString()," "]})]})}):s.jsx("div",{className:ze.priceContainer,children:s.jsxs("span",{className:ze.regularPrice,children:[gn.toLocaleString()," "]})}):s.jsx("span",{className:ze.noPrice,children:"  "})}),s.jsx("div",{className:ze.stockInfo,children:s.jsx("span",{className:`${ze.stockBadge} ${qt>0?ze.inStock:ze.outOfStock}`,children:qt>0?s.jsxs(s.Fragment,{children:[s.jsx("span",{className:ze.stockIcon,children:""}),qt," ",(Dt==null?void 0:Dt.unit_display)||"."]}):s.jsxs(s.Fragment,{children:[s.jsx("span",{className:ze.stockIcon,children:""}),"  "]})})})]}),s.jsxs("div",{className:ze.productActions,children:[s.jsxs("button",{className:`${ze.addToCartButton} ${ze.cartButton1}`,onClick:hn=>{hn.stopPropagation(),ks(Dt,Wt,1)},disabled:qt<=0||!Ze,title:"   1",children:[s.jsx($a,{}),"  1"]}),s.jsxs("button",{className:`${ze.addToCartButton} ${ze.cartButton2}`,onClick:hn=>{hn.stopPropagation(),ks(Dt,Wt,2)},disabled:qt<=0||!Ze,title:"   2",children:[s.jsx($a,{}),"  2"]})]})]})]},`${Dt.id}-${Wt.id}`)})})},Fn=(Ye,Dt,Wt)=>Ye.length===0?s.jsxs("div",{className:ze.emptyCart,children:[s.jsx(nm,{size:"2em"}),s.jsx("p",{children:"   "})]}):s.jsx("div",{className:ze.cartItems,children:Ye.map(qt=>{var Ft;const Ge=Ia(qt),Ze=qt.hasOriginalDiscount?Math.round(qt.originalPrice*(1-qt.discount/100)):qt.originalPrice,Ke=qt.itemDiscountPercent>0||qt.itemDiscountAmount>0,it=he.find(En=>En.id===qt.productId),Ut=it==null?void 0:it.variants.find(En=>En.id===qt.variantId);return s.jsxs("div",{className:ze.cartItem,children:[s.jsx("div",{className:ze.cartItemImage,children:s.jsx("img",{src:qt.image,alt:qt.productName,onError:En=>{En.target.src="https://via.placeholder.com/100x100?text=No+Image"}})}),s.jsxs("div",{className:ze.cartItemInfo,children:[s.jsx("h5",{children:qt.productName}),s.jsx("div",{className:ze.cartItemAttributes,children:qt.attributes.map(En=>s.jsx("small",{children:En.custom_value||En.predefined_value_name},En.id))}),s.jsxs("small",{className:ze.cartItemSku,children:[": ",qt.sku]}),((Ft=Ut==null?void 0:Ut.stocks_data)==null?void 0:Ft.stocks)&&s.jsxs("div",{className:ze.itemBatchSelection,children:[s.jsx("div",{className:ze.fifoCheckboxGroup,children:s.jsxs("label",{className:ze.fifoCheckboxLabel,children:[s.jsx("input",{type:"checkbox",checked:qt.useFifo!==!1,onChange:En=>{const gn=En.target.checked;Dt(Qn=>Qn.map(Gt=>Gt.variantId===qt.variantId?{...Gt,useFifo:gn,batchId:gn?null:Gt.batchId,batchInfo:gn?null:Gt.batchInfo}:Gt))},className:ze.fifoCheckbox}),s.jsxs("span",{className:ze.fifoLabel,children:["FIFO",s.jsxs("span",{className:ze.availableQtyBadge,children:["( : ",(Ut==null?void 0:Ut.available_quantity_in_location)??qt.stock??0," ",qt.unitDisplay||(it==null?void 0:it.unit_display)||".",")"]})]}),s.jsxs("div",{className:ze.fifoTooltipIcon,onMouseEnter:()=>Vs(qt.variantId),onMouseLeave:()=>Vs(null),children:["?",ar===qt.variantId&&s.jsx("div",{className:ze.fifoTooltip,children:"FIFO (First In, First Out)    ,           .       ."})]})]})}),qt.useFifo===!1&&s.jsxs("div",{className:ze.batchSelectWrapper,children:[s.jsx("label",{className:ze.batchSelectLabel,children:":"}),s.jsxs("select",{value:qt.batchId||"",onChange:En=>{const gn=En.target.value?parseInt(En.target.value):null,Qn=Ut.stocks_data.stocks.find(Tn=>{var hn;return((hn=Tn.batch_info)==null?void 0:hn.id)===gn}),Gt=Qn!=null&&Qn.batch_info?{id:Qn.batch_info.id,batch_number:Qn.batch_info.batch_number,received_date:Qn.batch_info.received_date}:null;Dt(Tn=>Tn.map(hn=>hn.variantId===qt.variantId?{...hn,batchId:gn,batchInfo:Gt}:hn))},className:ze.batchSelect,children:[s.jsx("option",{value:"",children:"--   --"}),Ut.stocks_data.stocks.filter(En=>En.batch_info&&parseFloat(En.available_quantity||0)>0).map(En=>{const gn=En.batch_info,Gt=new Date(gn.received_date).toLocaleString("ru-RU",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"});return s.jsxs("option",{value:gn.id,children:[gn.batch_number," - ",Gt," (: ",En.available_quantity," ",En.unit_display||qt.unitDisplay||(it==null?void 0:it.unit_display)||".",")"]},gn.id)})]})]})]})]}),s.jsxs("div",{className:ze.cartItemControls,children:[s.jsx("button",{className:ze.removeItemButton,onClick:()=>{Dt(En=>En.filter(gn=>!(gn.variantId===qt.variantId&&(qt.batchId===null||gn.batchId===qt.batchId))))},children:s.jsx(aa,{})}),s.jsx("div",{className:ze.quantityControl,children:(()=>{const En=qt.unitDisplay||".",gn=En===".",Qn=gn?1:.5,Gt=gn?1:.1,Tn=gn?1:.1;return s.jsxs(s.Fragment,{children:[s.jsx("button",{className:ze.quantityButton,onClick:()=>{const hn=qt.quantity-Qn,ss=Ye.find(rn=>rn.variantId===qt.variantId);if(!ss)return;const xs=(ss.unitDisplay||".")===".";let wt;xs?wt=Math.max(1,Math.floor(hn)||1):wt=Math.max(.001,parseFloat(hn)||.001),wt>ss.stock&&(alert("   "),wt=ss.stock),Dt(rn=>rn.map(Bn=>Bn.variantId===qt.variantId?{...Bn,quantity:wt}:Bn))},children:s.jsx(FR,{})}),s.jsxs("div",{className:ze.quantityInputWrapper,children:[s.jsx("input",{type:"number",value:qt.quantity,onChange:hn=>{const ss=hn.target.value;if(ss===""||ss===null){Dt(vs=>vs.map(bs=>bs.variantId===qt.variantId?{...bs,quantity:""}:bs));return}const Qt=parseFloat(ss);if(isNaN(Qt))return;const xs=Ye.find(vs=>vs.variantId===qt.variantId);if(!xs)return;const rn=(xs.unitDisplay||".")===".";let Bn;rn?Bn=Math.max(1,Math.floor(Qt)||1):Bn=Math.max(.001,parseFloat(Qt)||.001),Bn>xs.stock&&(alert("   "),Bn=xs.stock),Dt(vs=>vs.map(bs=>bs.variantId===qt.variantId?{...bs,quantity:Bn}:bs))},onBlur:hn=>{const ss=hn.target.value;if(ss===""||ss===null||parseFloat(ss)<Tn){const Qt=Ye.find(Bn=>Bn.variantId===qt.variantId);if(!Qt)return;const rn=(Qt.unitDisplay||".")==="."?1:.1;Dt(Bn=>Bn.map(vs=>vs.variantId===qt.variantId?{...vs,quantity:rn}:vs))}else{const Qt=parseFloat(ss);if(!isNaN(Qt)){const xs=Ye.find(vs=>vs.variantId===qt.variantId);if(!xs)return;const Bn=(xs.unitDisplay||".")==="."?Math.floor(Qt):parseFloat(Qt.toFixed(3));Dt(vs=>vs.map(bs=>bs.variantId===qt.variantId?{...bs,quantity:Bn}:bs))}}},step:Gt,min:Tn,max:qt.stock,className:ze.quantityInput}),s.jsx("span",{className:ze.quantityUnit,children:En})]}),s.jsx("button",{className:ze.quantityButton,onClick:()=>{const hn=qt.quantity+Qn,ss=Ye.find(Qt=>Qt.variantId===qt.variantId);if(ss&&hn<=ss.stock){const xs=(ss.unitDisplay||".")===".";let wt;xs?wt=Math.floor(hn):wt=parseFloat(hn.toFixed(3)),Dt(rn=>rn.map(Bn=>Bn.variantId===qt.variantId?{...Bn,quantity:wt}:Bn))}},disabled:qt.quantity>=qt.stock,children:s.jsx($a,{})})]})})()}),s.jsxs("div",{className:ze.cartItemPrice,children:[s.jsxs("div",{className:ze.priceContainer,children:[s.jsx("div",{className:ze.priceRow,children:s.jsxs("span",{className:qt.hasOriginalDiscount||Ke?ze.originalPrice:ze.basePrice,children:[(qt.originalPrice*qt.quantity).toLocaleString()," "]})}),qt.hasOriginalDiscount&&s.jsxs("div",{className:ze.priceRow,children:[s.jsxs("span",{className:ze.intermediatePrice,children:[(Ze*qt.quantity).toLocaleString()," "]}),s.jsxs("span",{children:["-",qt.discount,"%"]})]}),(Ke||qt.hasOriginalDiscount)&&s.jsxs("div",{className:ze.priceRow,children:[s.jsxs("span",{className:ze.discountedPrice,children:[(Ge*qt.quantity).toLocaleString()," "]}),Ke&&s.jsx("span",{children:qt.itemDiscountPercent>0?`-${qt.itemDiscountPercent}%`:`-${qt.itemDiscountAmount} `})]})]}),(qt.hasOriginalDiscount||Ke)&&s.jsx("div",{className:ze.discountInfo,children:s.jsxs("small",{children:[" : ",(qt.originalPrice*qt.quantity-Ge*qt.quantity).toLocaleString()," "]})})]}),s.jsx("button",{className:ze.discountButton,onClick:()=>{st(qt.variantId),Mt(Wt),Gn(qt.itemDiscountPercent>0?"percent":"amount"),ln(qt.itemDiscountPercent>0?qt.itemDiscountPercent:qt.itemDiscountAmount),be(!0)},children:s.jsx(ud,{})})]})]},qt.variantId)})});return s.jsxs("div",{className:ze.container,children:[s.jsxs("div",{className:ze.header,children:[s.jsxs("h1",{children:[s.jsx(Cx,{}),"  "]}),s.jsxs("div",{className:ze.businessInfo,children:[s.jsxs("button",{onClick:()=>t(`/business/${e}/bonus-history`),className:ze.bonusHistoryButton,title:" ",children:[s.jsx(hi,{}),"  "]}),s.jsx("span",{children:e})]})]}),s.jsxs("div",{className:ze.content,children:[s.jsx("div",{className:ze.leftColumn,children:s.jsxs("div",{className:ze.searchCard,children:[s.jsxs("div",{className:ze.filtersSection,children:[s.jsx("div",{className:ze.filtersSectionHeader,children:s.jsx("h4",{children:""})}),s.jsxs("div",{className:ze.filterRow,children:[s.jsx(_7,{options:ra,value:Hn,onChange:Ye=>{ya(Ye),r([]),o([]),Pa({}),b(""),S(""),N(""),fe(null)},disabled:Ys,placeholder:Ys?"...":" ...",icon:KS,label:"",required:!0,getOptionLabel:Ye=>Ye.name+(Ye.is_primary?" ":""),getOptionSubLabel:Ye=>{var Dt;return((Dt=Ye.location_type_detail)==null?void 0:Dt.name)||(Ye.address?Ye.address:"")}}),s.jsx(_7,{options:[{id:"",name:" "},...ye],value:j,onChange:N,disabled:!Hn,placeholder:" ...",icon:nm,label:"",getOptionLabel:Ye=>Ye.name,getOptionSubLabel:Ye=>Ye.full_path||""})]})]}),s.jsxs("div",{className:ze.searchSection,children:[s.jsxs("div",{className:ze.searchHeader,children:[s.jsx("h4",{children:" "}),s.jsxs("button",{className:`${ze.scannerButton} ${vn?ze.scannerActive:""}`,onClick:()=>{ns(Ye=>!Ye),setTimeout(()=>{ds.current&&ds.current.focus()},100)},type:"button",children:[vn?s.jsx(qr,{}):s.jsx(AR,{}),"  -"]})]}),s.jsxs("div",{className:ze.searchInputGroup,children:[s.jsx(ri,{className:ze.searchIcon}),s.jsx("input",{ref:ds,type:"text",placeholder:vn?" -...":"  ,   -...",value:g,onChange:vn?Kn:Ye=>b(Ye.target.value),onKeyDown:vn?Es:Ye=>{Ye.key==="Enter"&&zt()},disabled:!Hn,className:ze.searchInput}),s.jsx("button",{className:ze.searchButton,onClick:zt,disabled:!Hn,children:""})]}),s.jsx("div",{className:ze.filterCheckbox,children:s.jsxs("label",{children:[s.jsx("input",{type:"checkbox",checked:I,onChange:Ye=>M(Ye.target.checked),disabled:!Hn}),s.jsx("span",{children:"   "})]})})]}),s.jsx("div",{className:ze.searchResults,children:As()})]})}),s.jsxs("div",{className:ze.rightColumn,children:[s.jsxs("div",{className:ze.cartCard,children:[s.jsx("div",{className:ze.cartHeader,children:s.jsx("h4",{children:" 1"})}),s.jsxs("div",{className:ze.cartBody,children:[Fn(a,r,1),Ga(a,r,1)]})]}),s.jsxs("div",{className:ze.cartCard,children:[s.jsx("div",{className:ze.cartHeader,children:s.jsx("h4",{children:" 2"})}),s.jsxs("div",{className:ze.cartBody,children:[Fn(i,o,2),Ga(i,o,2)]})]})]})]}),Ee&&s.jsx("div",{className:ze.modalOverlay,children:s.jsxs("div",{className:ze.modal,tabIndex:-1,"aria-modal":"true",role:"dialog",children:[s.jsxs("div",{className:ze.modalHeader,children:[s.jsxs("h4",{children:["    ( ",Ue,")"]}),s.jsx(Ti,{onClick:()=>Le(!1)})]}),s.jsx("div",{className:ze.modalBody,children:s.jsxs("div",{className:ze.discountControls,children:[s.jsxs("div",{className:ze.discountType,role:"radiogroup","aria-label":" ",children:[s.jsxs("label",{className:ze.radioLabel,children:[s.jsx("input",{type:"radio",checked:et==="percent",onChange:()=>dt("percent")}),s.jsx("span",{children:""})]}),s.jsxs("label",{className:ze.radioLabel,children:[s.jsx("input",{type:"radio",checked:et==="amount",onChange:()=>dt("amount")}),s.jsx("span",{children:""})]})]}),s.jsx("div",{className:ze.discountInput,children:et==="percent"?s.jsxs(s.Fragment,{children:[s.jsx("input",{type:"number",value:_e,autoFocus:!0,onChange:Ye=>tt(Math.min(100,Math.max(0,Number(Ye.target.value)))),min:"0",max:"100",placeholder:"0"}),s.jsx("span",{className:ze.inputUnit,children:"%"})]}):s.jsxs(s.Fragment,{children:[s.jsx("input",{type:"number",value:_e,autoFocus:!0,onChange:Ye=>tt(Math.max(0,Number(Ye.target.value))),min:"0",placeholder:"0"}),s.jsx("span",{className:ze.inputUnit,children:""})]})})]})}),s.jsxs("div",{className:ze.modalFooter,children:[s.jsx("button",{className:ze.secondaryButton,onClick:()=>Le(!1),children:""}),s.jsx("button",{className:ze.primaryButton,onClick:fr,children:""})]})]})}),Ae&&s.jsx("div",{className:ze.modalOverlay,children:s.jsxs("div",{className:ze.modal,tabIndex:-1,"aria-modal":"true",role:"dialog",children:[s.jsxs("div",{className:ze.modalHeader,children:[s.jsx("h4",{children:"  "}),s.jsx(Ti,{onClick:()=>be(!1)})]}),s.jsx("div",{className:ze.modalBody,children:s.jsxs("div",{className:ze.discountControls,children:[s.jsxs("div",{className:ze.discountType,role:"radiogroup","aria-label":" ",children:[s.jsxs("label",{className:ze.radioLabel,children:[s.jsx("input",{type:"radio",checked:pn==="percent",onChange:()=>Gn("percent")}),s.jsx("span",{children:""})]}),s.jsxs("label",{className:ze.radioLabel,children:[s.jsx("input",{type:"radio",checked:pn==="amount",onChange:()=>Gn("amount")}),s.jsx("span",{children:""})]})]}),s.jsx("div",{className:ze.discountInput,children:pn==="percent"?s.jsxs(s.Fragment,{children:[s.jsx("input",{type:"number",value:bt,autoFocus:!0,onChange:Ye=>ln(Math.min(100,Math.max(0,Number(Ye.target.value)))),min:"0",max:"100",placeholder:"0"}),s.jsx("span",{className:ze.inputUnit,children:"%"})]}):s.jsxs(s.Fragment,{children:[s.jsx("input",{type:"number",value:bt,autoFocus:!0,onChange:Ye=>ln(Math.max(0,Number(Ye.target.value))),min:"0",placeholder:"0"}),s.jsx("span",{className:ze.inputUnit,children:""})]})}),We&&(()=>{const Dt=(ct===1?a:i).find(Wt=>Wt.variantId===We);return Dt?s.jsxs("div",{className:ze.currentDiscountInfo,children:[s.jsxs("p",{children:[s.jsx("span",{children:" :"}),s.jsxs("span",{className:ze.nowPrice,children:[Dt.price.toLocaleString()," "]})]}),s.jsxs("p",{children:[s.jsx("span",{children:" :"}),s.jsxs("span",{className:ze.oldPrice,children:[Dt.originalPrice.toLocaleString()," "]})]}),Dt.hasOriginalDiscount&&s.jsxs("p",{children:[s.jsx("span",{children:" :"}),s.jsxs("span",{className:ze.discountValueAccent,children:[Dt.discount,"%"]})]})]}):null})()]})}),s.jsxs("div",{className:ze.modalFooter,children:[s.jsx("button",{className:ze.secondaryButton,onClick:()=>be(!1),children:""}),s.jsx("button",{className:ze.primaryButton,onClick:()=>{ct===1?qs(a,r):qs(i,o)},children:""})]})]})}),B&&s.jsx("div",{className:ze.modalOverlay,children:s.jsxs("div",{className:ze.modal,children:[s.jsxs("div",{className:ze.modalHeader,children:[s.jsx("h4",{children:fn?" ":" "}),s.jsx(Ti,{onClick:()=>{fn&&(wn(!1),Rt(null),Lt===1?(r([]),tt(0)):(o([]),It(0)),U(""),H(""),se(null),J(null),K(0),oe(0),ae("percent"),ue(!1)),P(!1)}})]}),s.jsx("div",{className:ze.modalBody,children:fn?nt?s.jsxs("div",{className:ze.receiptCompleted,children:[nt.receipt_preview_image?s.jsx("div",{className:ze.receiptImageContainer,children:s.jsx("img",{src:nt.receipt_preview_image||n(nt.receipt_preview_image),alt:` ${nt.number}`,className:ze.receiptImage,onError:Ye=>{console.error("   :",nt.receipt_preview_image);const Dt=nt.receipt_preview_image||n(nt.receipt_preview_image);console.error(" URL:",Dt),Ye.target.src="https://via.placeholder.com/300x400?text=No+Image"},onLoad:()=>{const Ye=nt.receipt_preview_image||n(nt.receipt_preview_image);console.log("   :",Ye)}})}):s.jsx("div",{className:ze.receiptImageContainer,children:s.jsxs("div",{className:ze.receiptImagePlaceholder,children:[s.jsx("p",{children:"  "}),s.jsxs("small",{children:["PDF : ",nt.receipt_pdf_file?"":""]})]})}),s.jsxs("div",{className:ze.receiptInfo,children:[s.jsxs("h5",{children:[" #",nt.number]}),s.jsxs("p",{children:[s.jsx("strong",{children:":"})," ",new Date(nt.created_at).toLocaleString()]}),s.jsxs("p",{children:[s.jsx("strong",{children:":"})," ",parseFloat(nt.total_amount).toLocaleString()," "]}),s.jsxs("p",{children:[s.jsx("strong",{children:" :"})," ",nt.payment_method]}),nt.customer_name&&s.jsxs("p",{children:[s.jsx("strong",{children:":"})," ",nt.customer_name]}),nt.customer_phone&&s.jsxs("p",{children:[s.jsx("strong",{children:":"})," ",nt.customer_phone]}),nt.bonus_info&&s.jsxs("div",{className:ze.receiptBonusInfo,children:[s.jsxs("h6",{children:[s.jsx(hi,{}),"   "]}),nt.bonus_info.tier&&s.jsxs("p",{children:[s.jsx("strong",{children:" :"})," ",nt.bonus_info.tier.name," (",nt.bonus_info.tier.bonus_percent,"%)"]}),s.jsxs("p",{children:[s.jsx("strong",{children:" :"})," ",parseFloat(nt.bonus_info.bonus_percent||0).toFixed(2),"%"]}),parseFloat(nt.bonus_info.accrued||0)>0&&s.jsxs("p",{children:[s.jsx("strong",{children:" :"})," ","+",Math.round(parseFloat(nt.bonus_info.accrued))," "]}),parseFloat(nt.bonus_info.redeemed||0)>0&&s.jsxs("p",{children:[s.jsx("strong",{children:" :"})," ","-",Math.round(parseFloat(nt.bonus_info.redeemed))," "]}),s.jsxs("p",{children:[s.jsx("strong",{children:"  :"})," ",parseFloat(nt.bonus_info.balance_after||0).toFixed(2)," "]})]})]})]}):s.jsx("div",{className:ze.receiptLoading,children:s.jsx("p",{children:" ..."})}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:ze.receiptAndBonusContainer,children:[s.jsxs("div",{className:ze.receiptPreview,children:[s.jsxs("div",{className:ze.receiptHeader,children:[s.jsxs("h5",{children:[" #",new Date().getTime().toString().slice(-6)]}),s.jsx("p",{children:new Date().toLocaleString("ru-RU")})]}),s.jsx("div",{className:ze.receiptItems,children:(Lt===1?a:i).map(Ye=>{const Dt=Ia(Ye),Wt=Ye.originalPrice,qt=Ye.itemDiscountPercent>0||Ye.itemDiscountAmount>0,Ge=Ye.hasOriginalDiscount,Ze=Ge?Math.round(Wt*(1-Ye.discount/100)):Wt;return s.jsx("div",{className:ze.receiptItem,children:s.jsxs("div",{className:ze.receiptItemMain,children:[s.jsxs("div",{className:ze.receiptItemName,children:[Ye.productName,s.jsx("div",{className:ze.receiptItemDetails,children:Ye.attributes.map(Ke=>s.jsxs("span",{className:ze.receiptItemAttribute,children:[s.jsxs("span",{className:ze.attributeName,children:[Ke.category_attribute_name,":"]}),s.jsx("span",{className:ze.attributeValue,children:Ke.custom_value||Ke.predefined_value_name})]},Ke.id))})]}),s.jsxs("div",{className:ze.receiptItemPrices,children:[s.jsxs("div",{className:ze.receiptPriceRow,children:[s.jsxs("span",{className:ze.priceLabel,children:[Ye.quantity,"  ",Wt.toLocaleString()," "]}),s.jsxs("span",{className:ze.priceValue,children:[(Wt*Ye.quantity).toLocaleString()," "]})]}),Ge&&s.jsxs("div",{className:ze.receiptDiscountRow,children:[s.jsxs("span",{className:ze.discountLabel,children:[s.jsx(ud,{size:12}),"  ",Ye.discount,"%"]}),s.jsxs("span",{className:ze.discountValue,children:["-",Math.round(Wt*Ye.discount/100*Ye.quantity).toLocaleString()," "]})]}),qt&&s.jsxs("div",{className:ze.receiptDiscountRow,children:[s.jsxs("span",{className:ze.discountLabel,children:[s.jsx(ud,{size:12})," ",Ye.itemDiscountPercent>0?`.  ${Ye.itemDiscountPercent}%`:` ${Ye.itemDiscountAmount} `]}),s.jsxs("span",{className:ze.discountValue,children:["-",Ye.itemDiscountPercent>0?Math.round(Ze*Ye.itemDiscountPercent/100*Ye.quantity).toLocaleString():(Ye.itemDiscountAmount*Ye.quantity).toLocaleString()," "]})]}),s.jsxs("div",{className:ze.receiptTotalRow,children:[s.jsx("span",{className:ze.totalLabel,children:"  :"}),s.jsxs("span",{className:ze.totalValue,children:[(Dt*Ye.quantity).toLocaleString()," "]})]})]})]})},Ye.variantId)})}),s.jsxs("div",{className:ze.receiptSummary,children:[s.jsx("div",{className:ze.receiptSummarySection,children:(()=>{const Ye=Lt===1?a:i,Dt=Lt===1?_e:Fe,Wt=Lt===1?et:Xe,qt=is(Ye);return La(Ye,Dt,Wt),ta(Ye,Dt,Wt),s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:ze.receiptSummaryRow,children:[s.jsx("span",{children:":"}),s.jsxs("span",{children:[qt.toLocaleString()," "]})]}),Ye.some(Ge=>Ge.hasOriginalDiscount)&&s.jsxs("div",{className:ze.receiptSummaryRow,children:[s.jsx("span",{children:" :"}),s.jsxs("span",{className:ze.summaryDiscount,children:["-",Ye.reduce((Ge,Ze)=>Ze.hasOriginalDiscount?Ge+(Ze.originalPrice-Math.round(Ze.originalPrice*(1-Ze.discount/100)))*Ze.quantity:Ge,0).toLocaleString()," "]})]}),Ye.some(Ge=>Ge.itemDiscountPercent>0||Ge.itemDiscountAmount>0)&&s.jsxs("div",{className:ze.receiptSummaryRow,children:[s.jsx("span",{children:" :"}),s.jsxs("span",{className:ze.summaryDiscount,children:["-",Ye.reduce((Ge,Ze)=>{const Ke=Ze.hasOriginalDiscount?Math.round(Ze.originalPrice*(1-Ze.discount/100)):Ze.originalPrice,it=Ia(Ze);return Ge+(Ke-it)*Ze.quantity},0).toLocaleString()," "]})]}),Dt>0&&s.jsxs("div",{className:ze.receiptSummaryRow,children:[s.jsx("span",{children:"   :"}),s.jsxs("span",{className:ze.summaryDiscount,children:["-",(Wt==="percent"?(qt-Ye.reduce((Ge,Ze)=>{Ze.hasOriginalDiscount&&(Ge+=(Ze.originalPrice-Math.round(Ze.originalPrice*(1-Ze.discount/100)))*Ze.quantity);const Ke=Ze.hasOriginalDiscount?Math.round(Ze.originalPrice*(1-Ze.discount/100)):Ze.originalPrice,it=Ia(Ze);return Ge+=(Ke-it)*Ze.quantity,Ge},0))*Dt/100:Dt).toLocaleString()," "]})]})]})})()}),s.jsxs("div",{className:ze.receiptSummarySaleRow,children:[s.jsx("span",{children:"  :"}),s.jsxs("span",{className:ze.summaryDiscount,children:["-",ta(Lt===1?a:i,Lt===1?_e:Fe,Lt===1?et:Xe).toLocaleString()," "]})]}),s.jsxs("div",{className:ze.receiptTotalSection,children:[s.jsxs("div",{className:ze.receiptTotalRow,children:[s.jsx("span",{children:"  :"}),s.jsxs("span",{className:ze.receiptGrandTotal,children:[os(Lt===1?a:i,Lt===1?_e:Fe,Lt===1?et:Xe).toLocaleString()," "]})]}),te&&ee&&ie&&(()=>{const qt=La(Lt===1?a:i,Lt===1?_e:Fe,Lt===1?et:Xe),Ge=parseFloat(te.balance||0);let Ze=0;return ee==="percent"&&Y>0?Ze=Math.min(Ge*Y/100,qt):ee==="amount"&&G>0&&(Ze=Math.min(G,qt)),Ze=Math.round(Ze),Ze>0?s.jsxs("div",{className:ze.receiptTotalRow,style:{color:"var(--accent-green)",fontSize:"14px",marginTop:"8px"},children:[s.jsx("span",{children:" :"}),s.jsxs("span",{children:["-",Ze," "]})]}):null})()]})]})]}),te&&V&&V.is_enabled&&s.jsxs("div",{className:ze.bonusSection,children:[s.jsx("div",{className:ze.bonusSectionHeader,children:s.jsxs("h5",{children:[s.jsx(hi,{})," "]})}),s.jsxs("div",{className:ze.bonusInfo,children:[s.jsxs("div",{className:ze.bonusBalanceDisplay,children:[s.jsx("div",{className:ze.bonusBalanceLabel,children:" :"}),s.jsxs("div",{className:ze.bonusBalanceValue,children:[parseFloat(te.balance||0).toFixed(2)," ",s.jsx("span",{className:ze.bonusBalanceHint,children:" (1  = 1 )"})]})]}),te.tier&&s.jsxs("div",{className:ze.bonusTierDisplay,children:[s.jsx("div",{className:ze.bonusTierLabel,children:":"}),s.jsxs("div",{className:ze.bonusTierValue,children:[te.tier.name," (",te.tier.bonus_percent,"%)"]})]})]}),s.jsxs("div",{className:ze.bonusAccrualModeSelector,children:[s.jsx("label",{children:"  :"}),s.jsxs("div",{className:ze.bonusAccrualModeOptions,children:[s.jsxs("label",{className:ze.bonusModeOption,children:[s.jsx("input",{type:"radio",name:"bonusAccrualMode",value:"tier",checked:Z==="tier",onChange:Ye=>{A(Ye.target.value),J(null)},disabled:!te.tier||V.is_fixed_percent}),s.jsxs("span",{children:["  (",((rt=te.tier)==null?void 0:rt.bonus_percent)||V.bonus_percent,"%)"]})]}),s.jsxs("label",{className:ze.bonusModeOption,children:[s.jsx("input",{type:"radio",name:"bonusAccrualMode",value:"settings",checked:Z==="settings",onChange:Ye=>{A(Ye.target.value),J(null)},disabled:V.is_fixed_percent}),s.jsxs("span",{children:["   (",V.bonus_percent,"%)"]})]})]}),V.is_fixed_percent&&s.jsx("div",{className:ze.bonusModeHint,children:" ,   "})]}),te.recent_transactions&&te.recent_transactions.length>0&&s.jsxs("div",{className:ze.bonusHistory,children:[s.jsx("div",{className:ze.bonusHistoryTitle,children:" :"}),s.jsx("div",{className:ze.bonusHistoryList,children:te.recent_transactions.slice(0,5).map(Ye=>s.jsxs("div",{className:ze.bonusHistoryItem,children:[s.jsx("div",{className:ze.bonusHistoryType,children:Ye.type==="accrual"?"":""}),s.jsxs("div",{className:`${ze.bonusHistoryAmount} ${parseFloat(Ye.amount)>=0?ze.positive:ze.negative}`,children:[parseFloat(Ye.amount)>=0?"+":"",parseFloat(Ye.amount).toFixed(2)]}),s.jsx("div",{className:ze.bonusHistoryDate,children:new Date(Ye.created_at).toLocaleDateString("ru-RU")})]},Ye.id))})]}),(()=>{var Ze;const qt=Ws(Lt===1?a:i,Lt===1?_e:Fe,Lt===1?et:Xe);let Ge=0;return V.is_fixed_percent&&T===null?Ge=parseFloat(V.bonus_percent||0):T!==null?Ge=T:Z==="tier"&&((Ze=te.tier)!=null&&Ze.bonus_percent)?Ge=parseFloat(te.tier.bonus_percent):Ge=parseFloat(V.bonus_percent||0),qt!==null&&qt>0?s.jsxs("div",{className:ze.bonusPredictionCard,children:[s.jsx("div",{className:ze.bonusPredictionLabel,children:"  :"}),s.jsxs("div",{className:ze.bonusPredictionValue,children:["+",qt," "]}),s.jsxs("div",{className:ze.bonusPredictionHint,children:["( ",qt," )"]}),s.jsxs("div",{className:ze.bonusPercentInfo,children:[" : ",parseFloat(Ge).toFixed(2),"%"]})]}):null})(),!V.is_fixed_percent&&s.jsxs("div",{className:ze.bonusAccrualControl,children:[s.jsx("label",{children:"    (%):"}),s.jsx("input",{type:"number",step:"0.01",min:"0",max:"100",value:T!==null?T:"",onChange:Ye=>J(Ye.target.value?parseFloat(Ye.target.value):null),placeholder:Z==="tier"&&((Be=te.tier)!=null&&Be.bonus_percent)?te.tier.bonus_percent:V.bonus_percent||"5.00",className:ze.bonusPercentInput})]}),parseFloat(te.balance||0)>0&&s.jsxs("div",{className:ze.bonusRedemptionButtonWrapper,children:[s.jsxs("button",{type:"button",onClick:()=>ue(!ie),className:`${ze.bonusRedemptionToggleButton} ${ie?ze.active:""}`,children:[s.jsx(hi,{})," ",ie?"  ":" "]}),ie&&s.jsxs("div",{className:ze.bonusRedemptionControl,children:[s.jsx("label",{className:ze.bonusRedemptionLabel,children:" :"}),s.jsxs("div",{className:ze.bonusRedemptionType,children:[s.jsxs("label",{className:ze.radioOption,children:[s.jsx("input",{type:"radio",value:"percent",checked:ee==="percent",onChange:Ye=>{ae(Ye.target.value),oe(0)}}),s.jsx("span",{children:"  "})]}),s.jsxs("label",{className:ze.radioOption,children:[s.jsx("input",{type:"radio",value:"amount",checked:ee==="amount",onChange:Ye=>{ae(Ye.target.value),K(0)}}),s.jsx("span",{children:" "})]})]}),ee==="percent"?s.jsxs("div",{className:ze.bonusRedemptionInputWrapper,children:[s.jsxs("div",{className:ze.bonusRedemptionInput,children:[s.jsx("input",{type:"number",min:"0",max:"100",step:"1",value:Y||"",onChange:Ye=>{const Dt=Ye.target.value?parseFloat(Ye.target.value):0;K(Math.min(100,Math.max(0,Dt)))},placeholder:"0",className:Y>0?ze.hasValue:""}),s.jsx("span",{className:ze.inputSuffix,children:"%"})]}),Y>0&&s.jsxs("div",{className:ze.bonusRedemptionPreview,children:[" : ",s.jsxs("span",{className:ze.bonusRedemptionPreviewValue,children:[Math.round(parseFloat(te.balance||0)*Y/100)," "]})]})]}):s.jsxs("div",{className:ze.bonusRedemptionInputWrapper,children:[s.jsxs("div",{className:ze.bonusRedemptionInput,children:[s.jsx("input",{type:"number",min:"0",max:parseFloat(te.balance||0),step:"0.01",value:G||"",onChange:Ye=>{const Dt=Ye.target.value;if(Dt===""||Dt===null){oe(0);return}const Wt=parseFloat(Dt);if(isNaN(Wt)){oe(0);return}parseFloat(te.balance||0),oe(Math.max(0,Wt))},placeholder:"0.00",className:`${G>0?ze.hasValue:""} ${G>parseFloat(te.balance||0)?ze.inputError:""}`}),s.jsx("span",{className:ze.inputSuffix,children:""})]}),G>0&&s.jsxs("div",{className:`${ze.bonusRedemptionPreview} ${G>parseFloat(te.balance||0)?ze.bonusRedemptionPreviewError:""}`,children:[" : ",s.jsxs("span",{className:ze.bonusRedemptionPreviewValue,children:[G.toFixed(2)," "]}),G>parseFloat(te.balance||0)&&s.jsx("span",{className:ze.bonusRedemptionError,children:"  "})]}),s.jsxs("div",{className:ze.bonusRedemptionHint,children:[": ",s.jsxs("strong",{children:[parseFloat(te.balance||0).toFixed(2)," "]})]})]})]})]})]})]}),s.jsxs("div",{className:ze.paymentForm,children:[s.jsxs("div",{className:ze.formGroup,children:[s.jsx("label",{children:" "}),s.jsx("select",{value:O,onChange:Ye=>R(Ye.target.value),children:Se.map(Ye=>s.jsx("option",{value:Ye.code,children:Ye.name},Ye.id))})]}),s.jsxs("div",{className:ze.formGroup,children:[s.jsx("label",{children:" QR- "}),s.jsxs("button",{type:"button",onClick:()=>X(!0),className:ze.qrButtonLarge,title:" QR-",children:[s.jsx(tm,{size:32}),s.jsx("span",{className:ze.qrButtonText,children:" QR-"})]}),s.jsx("p",{className:ze.qrButtonDescription,children:" QR-         "})]})]})]})}),s.jsx("div",{className:ze.modalFooter,children:fn?s.jsxs(s.Fragment,{children:[s.jsx("button",{className:ze.primaryButton,onClick:na,children:" PDF"}),s.jsxs("button",{className:ze.primaryButton,onClick:_i,children:[s.jsx(Rh,{}),"  "]}),s.jsx("button",{className:ze.secondaryButton,onClick:()=>{P(!1),wn(!1),r([]),U(""),H(""),se(null),J(null),K(0),oe(0),ae("percent"),tt(0)},children:""})]}):s.jsxs(s.Fragment,{children:[s.jsx("button",{className:ze.secondaryButton,onClick:()=>P(!1),children:""}),s.jsxs("button",{className:ze.successButton,onClick:Qs,disabled:fn||ut,children:[s.jsx(qr,{})," ",ut?"":" "]})]})})]})}),ne&&Hn&&s.jsx(GL,{locationId:Hn,onCustomerSelected:Ye=>{se(Ye),U(Ye.user.full_name||Ye.user.username),Ye.bonus_redemption_percent?(ae("percent"),K(Ye.bonus_redemption_percent)):Ye.bonus_redemption_amount&&(ae("amount"),oe(Ye.bonus_redemption_amount)),X(!1)},onClose:()=>X(!1)})]})},$Fe="_container_1mxdm_3",PFe="_header_1mxdm_14",FFe="_title_1mxdm_54",HFe="_bonusHistoryButton_1mxdm_66",zFe="_tabs_1mxdm_91",VFe="_tab_1mxdm_91",qFe="_active_1mxdm_127",UFe="_tabBadge_1mxdm_132",WFe="_content_1mxdm_144",YFe="_productsTab_1mxdm_150",GFe="_filtersSection_1mxdm_156",QFe="_searchSection_1mxdm_166",XFe="_searchInputGroup_1mxdm_176",KFe="_searchIcon_1mxdm_192",ZFe="_searchInput_1mxdm_176",JFe="_scannerButton_1mxdm_214",eHe="_scannerActive_1mxdm_236",tHe="_searchButton_1mxdm_243",nHe="_filterCheckbox_1mxdm_271",sHe="_searchResults_1mxdm_295",aHe="_productsGrid_1mxdm_300",rHe="_productCard_1mxdm_306",iHe="_selected_1mxdm_325",oHe="_productImageWrapper_1mxdm_330",cHe="_productImage_1mxdm_330",lHe="_discountBadgeOverlay_1mxdm_352",uHe="_productInfo_1mxdm_366",dHe="_productTitle_1mxdm_374",hHe="_productSku_1mxdm_387",fHe="_attributes_1mxdm_393",mHe="_attributeBadge_1mxdm_399",pHe="_priceSection_1mxdm_408",gHe="_priceRow_1mxdm_415",_He="_discountedPrice_1mxdm_421",vHe="_originalPrice_1mxdm_427",xHe="_stockInfo_1mxdm_434",bHe="_addToCartButton_1mxdm_440",yHe="_cartsTab_1mxdm_467",wHe="_cartCard_1mxdm_473",CHe="_cartHeader_1mxdm_483",SHe="_cartCount_1mxdm_499",jHe="_cartBody_1mxdm_508",NHe="_emptyCart_1mxdm_518",EHe="_cartItems_1mxdm_538",kHe="_cartItem_1mxdm_538",IHe="_cartItemImage_1mxdm_571",DHe="_cartItemContent_1mxdm_590",THe="_cartItemTop_1mxdm_602",AHe="_cartItemTitle_1mxdm_609",MHe="_cartItemAttributes_1mxdm_625",RHe="_cartItemAttribute_1mxdm_625",OHe="_attributeName_1mxdm_647",BHe="_attributeValue_1mxdm_652",LHe="_expandAttributesButton_1mxdm_656",$He="_cartItemMeta_1mxdm_681",PHe="_cartItemSku_1mxdm_692",FHe="_cartItemUnit_1mxdm_700",HHe="_itemBatchSelection_1mxdm_707",zHe="_fifoCheckboxGroup_1mxdm_716",VHe="_fifoCheckboxLabel_1mxdm_722",qHe="_fifoCheckbox_1mxdm_716",UHe="_fifoLabel_1mxdm_741",WHe="_availableQtyBadge_1mxdm_748",YHe="_fifoTooltipIcon_1mxdm_753",GHe="_fifoTooltip_1mxdm_753",QHe="_batchSelectWrapper_1mxdm_786",XHe="_batchSelectLabel_1mxdm_792",KHe="_batchSelect_1mxdm_786",ZHe="_removeItemButton_1mxdm_817",JHe="_quantityControl_1mxdm_847",eze="_quantityInputWrapper_1mxdm_859",tze="_cartItemBottom_1mxdm_899",nze="_cartItemBottomLeft_1mxdm_909",sze="_cartItemPrice_1mxdm_917",aze="_priceOriginal_1mxdm_927",rze="_priceFinal_1mxdm_935",ize="_discountButton_1mxdm_943",oze="_quantityButton_1mxdm_998",cze="_quantityInput_1mxdm_859",lze="_cartFooter_1mxdm_1081",uze="_cartTotals_1mxdm_1091",dze="_totalRow_1mxdm_1098",hze="_grandTotal_1mxdm_1106",fze="_discountValue_1mxdm_1115",mze="_cartActions_1mxdm_1119",pze="_clearCartButton_1mxdm_1126",gze="_checkoutButton_1mxdm_1127",_ze="_empty_1mxdm_518",vze="_error_1mxdm_1181",xze="_searchableSelectWrapper_1mxdm_1189",bze="_searchableLabel_1mxdm_1195",yze="_requiredMark_1mxdm_1204",wze="_searchableSelect_1mxdm_1189",Cze="_searchableControl_1mxdm_1212",Sze="_disabled_1mxdm_1234",jze="_searchableValue_1mxdm_1239",Nze="_selectedName_1mxdm_1246",Eze="_selectedSubLabel_1mxdm_1251",kze="_searchablePlaceholder_1mxdm_1257",Ize="_searchableCaret_1mxdm_1262",Dze="_searchableDropdown_1mxdm_1271",Tze="_searchableSearch_1mxdm_1285",Aze="_searchableList_1mxdm_1303",Mze="_searchableItem_1mxdm_1308",Rze="_searchableItemName_1mxdm_1329",Oze="_searchableItemSubLabel_1mxdm_1334",Bze="_searchableEmpty_1mxdm_1340",Lze="_modalOverlay_1mxdm_1348",$ze="_modal_1mxdm_1348",Pze="_modalHeader_1mxdm_1383",Fze="_modalBody_1mxdm_1402",Hze="_modalFooter_1mxdm_1409",zze="_receiptAndBonusContainer_1mxdm_1453",Vze="_receiptPreview_1mxdm_1459",qze="_receiptHeader_1mxdm_1469",Uze="_receiptItems_1mxdm_1482",Wze="_receiptItem_1mxdm_1482",Yze="_receiptItemName_1mxdm_1494",Gze="_receiptItemDetails_1mxdm_1499",Qze="_receiptItemAttribute_1mxdm_1508",Xze="_receiptItemPrices_1mxdm_1517",Kze="_receiptPriceRow_1mxdm_1523",Zze="_receiptDiscountRow_1mxdm_1524",Jze="_receiptTotalRow_1mxdm_1525",eVe="_receiptSummary_1mxdm_1537",tVe="_receiptSummarySection_1mxdm_1543",nVe="_receiptSummaryRow_1mxdm_1550",sVe="_receiptSummarySaleRow_1mxdm_1556",aVe="_receiptTotalSection_1mxdm_1566",rVe="_receiptGrandTotal_1mxdm_1572",iVe="_summaryDiscount_1mxdm_1577",oVe="_bonusSection_1mxdm_1582",cVe="_bonusSectionHeader_1mxdm_1592",lVe="_bonusInfo_1mxdm_1608",uVe="_bonusBalanceDisplay_1mxdm_1614",dVe="_bonusTierDisplay_1mxdm_1615",hVe="_bonusBalanceLabel_1mxdm_1621",fVe="_bonusTierLabel_1mxdm_1622",mVe="_bonusBalanceValue_1mxdm_1627",pVe="_bonusTierValue_1mxdm_1628",gVe="_bonusBalanceHint_1mxdm_1634",_Ve="_discountControls_1mxdm_1642",vVe="_discountType_1mxdm_1648",xVe="_radioLabel_1mxdm_1654",bVe="_discountInput_1mxdm_1698",yVe="_inputUnit_1mxdm_1731",wVe="_primaryButton_1mxdm_1738",CVe="_secondaryButton_1mxdm_1758",SVe="_successButton_1mxdm_1779",jVe="_receiptItemMain_1mxdm_1809",NVe="_totalLabel_1mxdm_1815",EVe="_totalValue_1mxdm_1816",kVe="_priceLabel_1mxdm_1824",IVe="_priceValue_1mxdm_1829",DVe="_paymentForm_1mxdm_1835",TVe="_formGroup_1mxdm_1844",AVe="_qrButtonLarge_1mxdm_1900",MVe="_qrButtonText_1mxdm_1927",RVe="_qrButtonDescription_1mxdm_1932",OVe="_bonusAccrualModeSelector_1mxdm_1942",BVe="_bonusAccrualModeOptions_1mxdm_1959",LVe="_bonusModeOption_1mxdm_1965",$Ve="_bonusModeHint_1mxdm_2012",PVe="_bonusAccrualControl_1mxdm_2024",FVe="_bonusPercentInput_1mxdm_2040",HVe="_bonusPredictionCard_1mxdm_2058",zVe="_bonusPredictionLabel_1mxdm_2067",VVe="_bonusPredictionValue_1mxdm_2073",qVe="_bonusPredictionHint_1mxdm_2080",UVe="_bonusPercentInfo_1mxdm_2087",WVe="_bonusRedemptionButtonWrapper_1mxdm_2095",YVe="_bonusRedemptionToggleButton_1mxdm_2101",GVe="_bonusRedemptionControl_1mxdm_2142",QVe="_bonusRedemptionLabel_1mxdm_2150",XVe="_bonusRedemptionType_1mxdm_2160",KVe="_radioOption_1mxdm_2170",ZVe="_bonusRedemptionInputWrapper_1mxdm_2199",JVe="_bonusRedemptionInput_1mxdm_2199",eqe="_hasValue_1mxdm_2238",tqe="_inputError_1mxdm_2243",nqe="_inputSuffix_1mxdm_2252",sqe="_bonusRedemptionPreview_1mxdm_2259",aqe="_bonusRedemptionPreviewError_1mxdm_2273",rqe="_bonusRedemptionPreviewValue_1mxdm_2278",iqe="_bonusRedemptionError_1mxdm_2288",oqe="_bonusRedemptionHint_1mxdm_2297",cqe="_bonusHistory_1mxdm_66",lqe="_bonusHistoryTitle_1mxdm_2308",uqe="_bonusHistoryList_1mxdm_2315",dqe="_bonusHistoryItem_1mxdm_2323",hqe="_bonusHistoryType_1mxdm_2334",fqe="_bonusHistoryAmount_1mxdm_2339",mqe="_positive_1mxdm_2344",pqe="_negative_1mxdm_2348",gqe="_bonusHistoryDate_1mxdm_2352",_qe="_receiptCompleted_1mxdm_2359",vqe="_receiptImageContainer_1mxdm_2366",xqe="_receiptImage_1mxdm_2366",bqe="_receiptImagePlaceholder_1mxdm_2378",yqe="_receiptInfo_1mxdm_2397",wqe="_receiptBonusInfo_1mxdm_2423",Cqe="_receiptLoading_1mxdm_2451",He={container:$Fe,header:PFe,title:FFe,bonusHistoryButton:HFe,tabs:zFe,tab:VFe,active:qFe,tabBadge:UFe,content:WFe,productsTab:YFe,filtersSection:GFe,searchSection:QFe,searchInputGroup:XFe,searchIcon:KFe,searchInput:ZFe,scannerButton:JFe,scannerActive:eHe,searchButton:tHe,filterCheckbox:nHe,searchResults:sHe,productsGrid:aHe,productCard:rHe,selected:iHe,productImageWrapper:oHe,productImage:cHe,discountBadgeOverlay:lHe,productInfo:uHe,productTitle:dHe,productSku:hHe,attributes:fHe,attributeBadge:mHe,priceSection:pHe,priceRow:gHe,discountedPrice:_He,originalPrice:vHe,stockInfo:xHe,addToCartButton:bHe,cartsTab:yHe,cartCard:wHe,cartHeader:CHe,cartCount:SHe,cartBody:jHe,emptyCart:NHe,cartItems:EHe,cartItem:kHe,cartItemImage:IHe,cartItemContent:DHe,cartItemTop:THe,cartItemTitle:AHe,cartItemAttributes:MHe,cartItemAttribute:RHe,attributeName:OHe,attributeValue:BHe,expandAttributesButton:LHe,cartItemMeta:$He,cartItemSku:PHe,cartItemUnit:FHe,itemBatchSelection:HHe,fifoCheckboxGroup:zHe,fifoCheckboxLabel:VHe,fifoCheckbox:qHe,fifoLabel:UHe,availableQtyBadge:WHe,fifoTooltipIcon:YHe,fifoTooltip:GHe,batchSelectWrapper:QHe,batchSelectLabel:XHe,batchSelect:KHe,removeItemButton:ZHe,quantityControl:JHe,quantityInputWrapper:eze,cartItemBottom:tze,cartItemBottomLeft:nze,cartItemPrice:sze,priceOriginal:aze,priceFinal:rze,discountButton:ize,quantityButton:oze,quantityInput:cze,cartFooter:lze,cartTotals:uze,totalRow:dze,grandTotal:hze,discountValue:fze,cartActions:mze,clearCartButton:pze,checkoutButton:gze,empty:_ze,error:vze,searchableSelectWrapper:xze,searchableLabel:bze,requiredMark:yze,searchableSelect:wze,searchableControl:Cze,disabled:Sze,searchableValue:jze,selectedName:Nze,selectedSubLabel:Eze,searchablePlaceholder:kze,searchableCaret:Ize,searchableDropdown:Dze,searchableSearch:Tze,searchableList:Aze,searchableItem:Mze,searchableItemName:Rze,searchableItemSubLabel:Oze,searchableEmpty:Bze,modalOverlay:Lze,modal:$ze,modalHeader:Pze,modalBody:Fze,modalFooter:Hze,receiptAndBonusContainer:zze,receiptPreview:Vze,receiptHeader:qze,receiptItems:Uze,receiptItem:Wze,receiptItemName:Yze,receiptItemDetails:Gze,receiptItemAttribute:Qze,receiptItemPrices:Xze,receiptPriceRow:Kze,receiptDiscountRow:Zze,receiptTotalRow:Jze,receiptSummary:eVe,receiptSummarySection:tVe,receiptSummaryRow:nVe,receiptSummarySaleRow:sVe,receiptTotalSection:aVe,receiptGrandTotal:rVe,summaryDiscount:iVe,bonusSection:oVe,bonusSectionHeader:cVe,bonusInfo:lVe,bonusBalanceDisplay:uVe,bonusTierDisplay:dVe,bonusBalanceLabel:hVe,bonusTierLabel:fVe,bonusBalanceValue:mVe,bonusTierValue:pVe,bonusBalanceHint:gVe,discountControls:_Ve,discountType:vVe,radioLabel:xVe,discountInput:bVe,inputUnit:yVe,primaryButton:wVe,secondaryButton:CVe,successButton:SVe,receiptItemMain:jVe,totalLabel:NVe,totalValue:EVe,priceLabel:kVe,priceValue:IVe,paymentForm:DVe,formGroup:TVe,qrButtonLarge:AVe,qrButtonText:MVe,qrButtonDescription:RVe,bonusAccrualModeSelector:OVe,bonusAccrualModeOptions:BVe,bonusModeOption:LVe,bonusModeHint:$Ve,bonusAccrualControl:PVe,bonusPercentInput:FVe,bonusPredictionCard:HVe,bonusPredictionLabel:zVe,bonusPredictionValue:VVe,bonusPredictionHint:qVe,bonusPercentInfo:UVe,bonusRedemptionButtonWrapper:WVe,bonusRedemptionToggleButton:YVe,bonusRedemptionControl:GVe,bonusRedemptionLabel:QVe,bonusRedemptionType:XVe,radioOption:KVe,bonusRedemptionInputWrapper:ZVe,bonusRedemptionInput:JVe,hasValue:eqe,inputError:tqe,inputSuffix:nqe,bonusRedemptionPreview:sqe,bonusRedemptionPreviewError:aqe,bonusRedemptionPreviewValue:rqe,bonusRedemptionError:iqe,bonusRedemptionHint:oqe,bonusHistory:cqe,bonusHistoryTitle:lqe,bonusHistoryList:uqe,bonusHistoryItem:dqe,bonusHistoryType:hqe,bonusHistoryAmount:fqe,positive:mqe,negative:pqe,bonusHistoryDate:gqe,receiptCompleted:_qe,receiptImageContainer:vqe,receiptImage:xqe,receiptImagePlaceholder:bqe,receiptInfo:yqe,receiptBonusInfo:wqe,receiptLoading:Cqe},v7=({options:e=[],value:t,onChange:n,disabled:a,placeholder:r="    ...",icon:i,label:o,getOptionLabel:c,getOptionSubLabel:l,required:d=!1})=>{const[f,g]=v.useState(!1),[b,w]=v.useState(""),[S,j]=v.useState(0),N=v.useRef(null),I=e.find(R=>String(R.id)===String(t))||null,M=b.trim().toLowerCase(),B=M?e.filter(R=>c(R).toLowerCase().includes(M)||l&&l(R).toLowerCase().includes(M)):e;v.useEffect(()=>{if(!f)return;const R=$=>{N.current&&!N.current.contains($.target)&&(g(!1),w(""))};return document.addEventListener("mousedown",R),()=>document.removeEventListener("mousedown",R)},[f]),v.useEffect(()=>{f&&j(0)},[f,M]);const P=R=>{if(!f&&(R.key==="ArrowDown"||R.key==="Enter")){g(!0);return}if(f)if(R.key==="ArrowDown")R.preventDefault(),j($=>Math.min($+1,B.length-1));else if(R.key==="ArrowUp")R.preventDefault(),j($=>Math.max($-1,0));else if(R.key==="Enter"){R.preventDefault();const $=B[S];$&&(n($.id),w(""),g(!1))}else R.key==="Escape"&&(R.preventDefault(),g(!1),w(""))},O=R=>{n(R.id),w(""),g(!1)};return s.jsxs("div",{className:He.searchableSelectWrapper,children:[o&&s.jsxs("label",{className:He.searchableLabel,children:[i&&s.jsx(i,{})," ",o,d&&s.jsx("span",{className:He.requiredMark,children:" *"})]}),s.jsxs("div",{className:He.searchableSelect,ref:N,children:[s.jsxs("div",{className:`${He.searchableControl} ${a?He.disabled:""}`,onClick:()=>!a&&g(R=>!R),onKeyDown:P,tabIndex:a?-1:0,children:[s.jsx("div",{className:He.searchableValue,children:I?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:He.selectedName,children:c(I)}),l&&s.jsx("div",{className:He.selectedSubLabel,children:l(I)})]}):s.jsx("div",{className:He.searchablePlaceholder,children:r})}),s.jsx("div",{className:He.searchableCaret})]}),f&&s.jsxs("div",{className:He.searchableDropdown,onKeyDown:P,children:[s.jsx("input",{autoFocus:!0,className:He.searchableSearch,value:b,onChange:R=>w(R.target.value),placeholder:"..."}),s.jsx("div",{className:He.searchableList,role:"listbox",tabIndex:0,children:B.length===0?s.jsx("div",{className:He.searchableEmpty,children:"  "}):B.map((R,$)=>s.jsxs("div",{role:"option","aria-selected":String(R.id)===String(t),className:`${He.searchableItem} ${$===S?He.searchableItemActive:""}`,onMouseEnter:()=>j($),onClick:()=>O(R),children:[s.jsx("div",{className:He.searchableItemName,children:c(R)}),l&&s.jsx("div",{className:He.searchableItemSubLabel,children:l(R)})]},R.id))})]})]})]})},Sqe=()=>{var Wt,qt;const{business_slug:e}=fa(),t=Rs(),{getFileUrl:n}=Ur(),[a,r]=v.useState([]),[i,o]=v.useState([]),[c,l]=v.useState(null),[d,f]=v.useState(null),[g,b]=v.useState(""),[w,S]=v.useState(""),[j,N]=v.useState(""),[I,M]=v.useState(!0),[B,P]=v.useState(!1),[O,R]=v.useState("cash"),[$,U]=v.useState(""),[F,H]=v.useState(""),[ne,X]=v.useState(!1),[te,se]=v.useState(null),[V,q]=v.useState(null),[T,J]=v.useState(null),[Z,A]=v.useState("tier"),[Y,K]=v.useState(0),[G,oe]=v.useState(0),[ee,ae]=v.useState("percent"),[ie,ue]=v.useState(!1),[he,ge]=v.useState([]),[ye,je]=v.useState([]),[Ie,me]=v.useState(!0),[de,fe]=v.useState(null),[re,xe]=v.useState(0),[Se,pe]=v.useState([]),[Ee,Le]=v.useState(!1),[Ue,Ne]=v.useState(1),[et,dt]=v.useState("percent"),[_e,tt]=v.useState(0),[Fe,It]=v.useState(0),[Xe,le]=v.useState("percent"),[Ae,be]=v.useState(!1),[We,st]=v.useState(null),[ct,Mt]=v.useState(1),[pn,Gn]=v.useState("percent"),[bt,ln]=v.useState(0),[fn,wn]=v.useState(!1),[ut,Et]=v.useState(!1),[nt,Rt]=v.useState(null),[Lt,on]=v.useState(1),[vn,ns]=v.useState(!1),[us,_s]=v.useState(!1),ds=v.useRef(null),Pn=v.useRef(null),Xt=v.useRef(!1),[ra,xa]=v.useState([]),[Hn,ya]=v.useState(null),[Ys,Js]=v.useState(!0),[gs,Pa]=v.useState({}),[ar,Vs]=v.useState(null),[Ts,Gs]=v.useState(new Set),[xr,Fa]=v.useState(new Set),[qa,zt]=v.useState("products"),Kn=v.useCallback(async()=>{try{Js(!0);const Ge=await Re.get(`/api/business/${e}/locations/`),Ze=Array.isArray(Ge.data)?Ge.data:Ge.data.locations||[];if(xa(Ze),Ze.length>0){const Ke=Ze.find(it=>it.is_primary);ya((Ke==null?void 0:Ke.id)||Ze[0].id)}Js(!1)}catch(Ge){console.error("Failed to fetch locations:",Ge),fe("   "),Js(!1)}},[e]),Es=v.useCallback(async()=>{if(Hn)try{const Ge=await Re.get(`api/business/${e}/bonus-settings/?location=${Hn}`);q(Ge.data)}catch(Ge){console.error("Failed to fetch bonus settings:",Ge),q(null)}},[e,Hn]),er=v.useCallback(async()=>{var Ge,Ze;if(Hn){if(Xt.current&&vn&&!w){Xt.current=!1;return}Xt.current=!1;try{me(!0),fe(null);const Ke={location:String(Hn)};w&&(Ke.search=w),j&&(Ke.category=j),I&&(Ke.in_stock="true"),console.log("Fetching products with params:",Ke);const it=await Re.get(`/api/business/${e}/sales-products/`,{params:Ke});console.log("Products response:",it.data),ge(it.data.products||[]),me(!1),vn&&(Xt.current=!0,b(""),S(""),_s(!1),setTimeout(()=>{ds.current&&ds.current.focus()},100))}catch(Ke){((Ze=(Ge=Ke.response)==null?void 0:Ge.data)==null?void 0:Ze.error)==="location_required"?fe(",  "):fe(Ke.message),me(!1),vn&&(Xt.current=!0,b(""),S(""),_s(!1),setTimeout(()=>{ds.current&&ds.current.focus()},100))}}},[e,w,j,Hn,vn,I]),Ia=async()=>{Xt.current=!1,S(g),vn&&_s(!0)},ys=Ge=>{const Ze=Ge.target.value,Ke=g.length;if(vn&&Ke>0&&Ze.length<Ke&&Ze.length<5&&(S(""),_s(!1),Pn.current&&(clearTimeout(Pn.current),Pn.current=null)),b(Ze),vn&&Ze.length>=13){Pn.current&&clearTimeout(Pn.current);const it=Ze;Pn.current=setTimeout(()=>{ds.current&&ds.current.value===it&&it.length>=13&&(S(it),_s(!0))},150)}},ks=Ge=>{Ge.key==="Enter"&&(Ge.preventDefault(),g.trim()&&Ia())},is=v.useCallback(async()=>{try{const Ge=await Re.get(`/api/business/${e}/categories/`);je(Ge.data)}catch(Ge){console.error("Failed to fetch categories:",Ge)}},[e]),La=Ge=>{let Ze=Ge.originalPrice;return Ge.hasOriginalDiscount&&(Ze=Ze*(1-Ge.discount/100)),Ge.itemDiscountPercent>0?Ze=Ze*(1-Ge.itemDiscountPercent/100):Ge.itemDiscountAmount>0&&(Ze=Ze-Ge.itemDiscountAmount),Math.round(Ze)},os=v.useCallback(async()=>{try{const Ge=await Re.get("/api/business/payment-methods/");pe(Ge.data),Ge.data.length>0&&R(Ge.data[0].code)}catch(Ge){console.error("Failed to fetch payment methods:",Ge)}},[]);v.useEffect(()=>{Kn(),is(),os()},[Kn,is,os]),v.useEffect(()=>{Hn?(Xt.current=!1,er()):ge([])},[Hn,w,j,I,er]),v.useEffect(()=>{Es()},[Es]),v.useEffect(()=>{vn?(Xt.current=!0,b(""),S(""),_s(!1),setTimeout(()=>{ds.current&&ds.current.focus()},100)):(Pn.current&&(clearTimeout(Pn.current),Pn.current=null),_s(!1),Xt.current=!1)},[vn]);const ta=(Ge,Ze,Ke=1)=>{const it=Ke===1?r:o,Ut=Ze.available_quantity_in_location??0;if(Ut<=0){alert("    ");return}if(!Ze.price&&Ze.price!==0){alert("      ");return}it(Ft=>{var hn,ss;const En=Ft.find(Qt=>Qt.variantId===Ze.id&&Qt.productId===Ge.id),gn=Ge.unit_display||".",Qn=gn===".",Gt=Qn?1:.1,Tn=Qn?1:.1;if(En){const Qt=En.quantity+Tn;if(Qt<=Ut){const xs=Qn?Math.floor(Qt):parseFloat(Qt.toFixed(3));return Ft.map(wt=>wt.variantId===Ze.id&&wt.productId===Ge.id?{...wt,quantity:xs,unitDisplay:gn}:wt)}else return alert("    "),Ft}else{const Qt=Ze.discount>0,xs=parseFloat(Ze.price),wt=Qt?Math.round(xs*(1-Ze.discount/100)):xs,rn=ra.find(Bn=>Bn.id===Hn);return Pa(Bn=>({...Bn,[Ze.id]:!0})),[...Ft,{productId:Ge.id,productName:Ge.name,variantId:Ze.id,sku:Ze.sku,attributes:Ze.attributes,price:wt,originalPrice:xs,discount:Ze.discount||0,quantity:Gt,stock:Ut,unitDisplay:gn,image:((hn=Ge.images.find(Bn=>Bn.is_main))==null?void 0:hn.image)||((ss=Ge.images[0])==null?void 0:ss.image),itemDiscountAmount:0,itemDiscountPercent:0,location:Hn,locationName:(rn==null?void 0:rn.name)||" ",hasOriginalDiscount:Qt,useFifo:!0,batchId:null,batchInfo:null}]}})},Ws=Ge=>Ge.reduce((Ze,Ke)=>Ze+Ke.originalPrice*Ke.quantity,0),Qs=(Ge,Ze=_e,Ke=et)=>{let Ut=Ge.reduce((Ft,En)=>Ft+La(En)*En.quantity,0);return Ke==="percent"&&Ze>0?Ut=Ut*(1-Ze/100):Ke==="amount"&&Ze>0&&(Ut=Math.max(0,Ut-Ze)),Math.round(Ut)},fr=(Ge,Ze=_e,Ke=et)=>{let it=Qs(Ge,Ze,Ke);if(te&&ee&&ie){let Ut=0;const Ft=parseFloat(te.balance||0);ee==="percent"&&Y>0?Ut=Ft*Y/100:ee==="amount"&&G>0&&(Ut=G),Ut=Math.min(Ut,it),Ut=Math.round(Ut),it=it-Ut}return Math.max(0,Math.round(it))},qs=(Ge,Ze=_e,Ke=et)=>Ws(Ge)-Qs(Ge,Ze,Ke),Ga=(Ge,Ze=_e,Ke=et)=>{var En;if(!te||!V||!V.is_enabled)return null;const it=Qs(Ge,Ze,Ke);if(it<parseFloat(V.min_purchase_amount||0))return null;let Ut=0;V.is_fixed_percent&&T===null?Ut=parseFloat(V.bonus_percent||0):T!==null?Ut=parseFloat(T):Z==="tier"&&((En=te.tier)!=null&&En.bonus_percent)?Ut=parseFloat(te.tier.bonus_percent):Ut=parseFloat(V.bonus_percent||0);let Ft=it*Ut/100;if(V.max_bonus_percent){const gn=it*parseFloat(V.max_bonus_percent)/100;Ft=Math.min(Ft,gn)}return V.max_bonus_amount&&(Ft=Math.min(Ft,parseFloat(V.max_bonus_amount))),Math.max(0,Math.round(Ft))},_i=async()=>{var Ut,Ft,En,gn,Qn,Gt,Tn;if(ut)return;const Ge=Lt===1?a:i,Ze=Lt===1?_e:Fe,Ke=Lt===1?et:Xe;if(Ge.filter(hn=>hn.useFifo===!1&&!hn.batchId).length>0){alert("    FIFO   ");return}if(te){const hn=parseFloat(te.balance||0);if(ee==="amount"&&G>hn){alert(`   . : ${hn.toFixed(2)} `);return}if(ee==="percent"&&Y>0&&hn*Y/100>hn){alert(`   . : ${hn.toFixed(2)} `);return}}Et(!0);try{const hn={items:Ge.map(Qt=>{const wt=(Qt.unitDisplay||".")===".";let rn=Qt.quantity;wt?rn=Math.floor(Qt.quantity):rn=parseFloat(Qt.quantity.toFixed(3));const Bn={variant:Qt.variantId,location:Qt.location,quantity:rn,discount_amount:Qt.itemDiscountAmount||0,discount_percent:Qt.itemDiscountPercent||0,use_fifo:Qt.useFifo!==!1};return Qt.useFifo===!1&&Qt.batchId&&(Bn.batch_id=Qt.batchId),Bn}),payment_method:O,customer:((Ut=te==null?void 0:te.user)==null?void 0:Ut.id)||null,customer_name:$||((Ft=te==null?void 0:te.user)==null?void 0:Ft.full_name)||null,customer_phone:F||null,discount_amount:Ke==="amount"?Ze:0,discount_percent:Ke==="percent"?Ze:0,bonus_redemption_percent:ee==="percent"&&Y>0?Y:null,bonus_redemption_amount:ee==="amount"&&G>0?G:null,bonus_percent_override:T||null,bonus_accrual_mode:Z};console.log("  :",hn);const ss=await Re.post(`/api/business/${e}/create-receipt/`,hn);console.log(" :",ss.data),console.log("receipt_preview_image:",(En=ss.data)==null?void 0:En.receipt_preview_image),console.log("receipt_pdf_file:",(gn=ss.data)==null?void 0:gn.receipt_pdf_file),Rt(ss.data),wn(!0),await er(),Lt===1?(r([]),tt(0)):(o([]),It(0)),Pa({}),se(null),J(null),A("tier"),K(0),oe(0),ae("percent"),ue(!1),U(""),H("")}catch(hn){console.error("Sale error:",((Qn=hn.response)==null?void 0:Qn.data)||hn.message),alert("   : "+(((Tn=(Gt=hn.response)==null?void 0:Gt.data)==null?void 0:Tn.message)||hn.message))}finally{Et(!1)}},na=()=>{Ue===1||(It(_e),le(et)),Le(!1)},As=(Ge,Ze)=>{Ze(Ke=>Ke.map(it=>it.variantId===We?{...it,itemDiscountAmount:pn==="amount"?parseFloat(bt):0,itemDiscountPercent:pn==="percent"?parseFloat(bt):0,price:La(it)}:it)),be(!1),ln(0)},Fn=(Ge,Ze,Ke)=>{const it=Ke===1?_e:Fe,Ut=Ke===1?et:Xe,Ft=Ws(Ge),En=Qs(Ge,it,Ut),gn=fr(Ge,it,Ut);return s.jsxs("div",{className:He.cartFooter,children:[s.jsxs("div",{className:He.cartTotals,children:[s.jsxs("div",{className:He.totalRow,children:[s.jsx("span",{children:"  :"}),s.jsxs("span",{children:[Ft.toLocaleString()," "]})]}),Ge.some(Qn=>Qn.hasOriginalDiscount)&&s.jsxs("div",{className:He.totalRow,children:[s.jsx("span",{children:" :"}),s.jsxs("span",{className:He.discountValue,children:["-",Ge.reduce((Qn,Gt)=>Gt.hasOriginalDiscount?Qn+(Gt.originalPrice-Math.round(Gt.originalPrice*(1-Gt.discount/100)))*Gt.quantity:Qn,0).toLocaleString()," "]})]}),Ge.some(Qn=>Qn.itemDiscountPercent>0||Qn.itemDiscountAmount>0)&&s.jsxs("div",{className:He.totalRow,children:[s.jsx("span",{children:" :"}),s.jsxs("span",{className:He.discountValue,children:["-",Ge.reduce((Qn,Gt)=>{const Tn=Gt.hasOriginalDiscount?Math.round(Gt.originalPrice*(1-Gt.discount/100)):Gt.originalPrice,hn=La(Gt);return Qn+(Tn-hn)*Gt.quantity},0).toLocaleString()," "]})]}),it>0&&s.jsxs("div",{className:He.totalRow,children:[s.jsx("span",{children:"   :"}),s.jsxs("span",{className:He.discountValue,children:["-",(Ut==="percent"?(Ft-Ge.reduce((Qn,Gt)=>{Gt.hasOriginalDiscount&&(Qn+=(Gt.originalPrice-Math.round(Gt.originalPrice*(1-Gt.discount/100)))*Gt.quantity);const Tn=Gt.hasOriginalDiscount?Math.round(Gt.originalPrice*(1-Gt.discount/100)):Gt.originalPrice,hn=La(Gt);return Qn+=(Tn-hn)*Gt.quantity,Qn},0))*it/100:it).toLocaleString()," "]})]}),s.jsxs("div",{className:`${He.totalRow} ${He.grandTotal}`,children:[s.jsx("span",{children:"  :"}),s.jsxs("span",{children:[gn.toLocaleString()," "]})]}),te&&ee&&ie&&(()=>{const Qn=parseFloat(te.balance||0);let Gt=0;return ee==="percent"&&Y>0?Gt=Math.min(Qn*Y/100,En):ee==="amount"&&G>0&&(Gt=Math.min(G,En)),Gt=Math.round(Gt),Gt>0?s.jsxs("div",{className:He.totalRow,style:{color:"var(--accent-green)",fontSize:"14px",marginTop:"4px"},children:[s.jsx("span",{children:" :"}),s.jsxs("span",{children:["-",Gt," "]})]}):null})()]}),s.jsxs("div",{className:He.cartActions,children:[s.jsxs("button",{className:He.discountButton,onClick:()=>{Ne(Ke),Le(!0)},disabled:Ge.length===0,children:[s.jsx(ud,{})," "]}),s.jsxs("button",{className:He.clearCartButton,onClick:()=>{Ze([]),Ke===1&&Pa({})},disabled:Ge.length===0,children:[s.jsx(Oh,{})," "]}),s.jsxs("button",{className:He.checkoutButton,onClick:()=>{on(Ke),P(!0)},disabled:Ge.length===0,children:[s.jsx(Cx,{})," "]})]})]})},rt=async()=>{if(!(nt!=null&&nt.receipt_pdf_file)){console.error("PDF    ");return}await km(nt.receipt_pdf_file)},Be=async()=>{nt!=null&&nt.receipt_pdf_file&&await v0(nt.receipt_pdf_file)},Ye=()=>{if(Ie)return s.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"200px"},children:s.jsx(Wn,{size:"medium"})});if(de)return s.jsxs("div",{className:He.error,children:[": ",de]});if(he.length===0)return s.jsx("div",{className:He.empty,children:"  "});const Ge=he.flatMap(Ze=>Ze.variants.map(Ke=>({product:Ze,variant:Ke,availableQty:Ke.available_quantity_in_location??0})));return Ge.sort((Ze,Ke)=>Ze.availableQty>0&&Ke.availableQty===0?-1:Ze.availableQty===0&&Ke.availableQty>0?1:Ze.availableQty>0&&Ke.availableQty>0?Ke.availableQty-Ze.availableQty:0),s.jsx("div",{className:He.productsGrid,children:Ge.map(({product:Ze,variant:Ke})=>{var Qt,xs;const it=Ke.available_quantity_in_location??0,Ut=((Qt=Ze.images.find(wt=>wt.is_main))==null?void 0:Qt.image)||((xs=Ze.images[0])==null?void 0:xs.image),Ft=Ke.price!==null&&Ke.price!==void 0,En=`${Ze.id}-${Ke.id}`,gn=Ts.has(En),Qn=gn?Ke.attributes:Ke.attributes.slice(0,2),Gt=Ke.attributes.length>2,Tn=Ft&&Ke.discount>0?Math.round(Ke.price*(1-Ke.discount/100)):Ft?parseFloat(Ke.price):null,hn=Ft?parseFloat(Ke.price):null,ss=wt=>{wt.stopPropagation(),Gs(rn=>{const Bn=new Set(rn);return Bn.has(En)?Bn.delete(En):Bn.add(En),Bn})};return s.jsxs("div",{className:`${He.productCard} ${(c==null?void 0:c.id)===Ze.id&&(d==null?void 0:d.id)===Ke.id?He.selected:""}`,onClick:()=>{l(Ze),f(Ke),xe(0)},children:[s.jsxs("div",{className:He.productImageWrapper,children:[s.jsx("div",{className:He.productImage,children:s.jsx("img",{src:Ut,alt:Ze.name,onError:wt=>{wt.target.src="https://via.placeholder.com/300x400?text=No+Image"}})}),Ke.discount>0&&Ft&&s.jsxs("div",{className:He.discountBadgeOverlay,children:["-",Ke.discount,"%"]})]}),s.jsxs("div",{className:He.productInfo,children:[s.jsxs("div",{className:He.productHeader,children:[s.jsx("h4",{className:He.productTitle,title:Ze.name,children:Ze.name}),Ke.sku&&s.jsx("span",{className:He.productSku,title:`: ${Ke.sku}`,children:Ke.sku})]}),Qn.length>0&&s.jsxs("div",{className:He.attributesContainer,children:[s.jsx("div",{className:He.attributes,children:Qn.map(wt=>s.jsx("span",{className:He.attributeBadge,title:`${wt.category_attribute_name}: ${wt.custom_value||wt.predefined_value_name}`,children:wt.custom_value||wt.predefined_value_name},wt.id))}),Gt&&s.jsx("button",{className:He.expandAttributesButton,onClick:ss,title:gn?" ":"  ",children:gn?s.jsxs(s.Fragment,{children:[s.jsx(Lo,{})," "]}):s.jsxs(s.Fragment,{children:[s.jsx(Bo,{}),"   (",Ke.attributes.length-2,")"]})})]}),s.jsxs("div",{className:He.productDetails,children:[s.jsx("div",{className:He.priceSection,children:Ft?Ke.discount>0?s.jsx("div",{className:He.priceContainer,children:s.jsxs("div",{className:He.priceRow,children:[s.jsxs("span",{className:He.discountedPrice,children:[Tn.toLocaleString()," "]}),s.jsxs("span",{className:He.originalPrice,children:[hn.toLocaleString()," "]})]})}):s.jsx("div",{className:He.priceContainer,children:s.jsxs("span",{className:He.regularPrice,children:[hn.toLocaleString()," "]})}):s.jsx("span",{className:He.noPrice,children:"  "})}),s.jsx("div",{className:He.stockInfo,children:s.jsx("span",{className:`${He.stockBadge} ${it>0?He.inStock:He.outOfStock}`,children:it>0?s.jsxs(s.Fragment,{children:[s.jsx("span",{className:He.stockIcon,children:""}),it," ",(Ze==null?void 0:Ze.unit_display)||"."]}):s.jsxs(s.Fragment,{children:[s.jsx("span",{className:He.stockIcon,children:""}),"  "]})})})]}),s.jsxs("div",{className:He.productActions,children:[s.jsxs("button",{className:`${He.addToCartButton} ${He.cartButton1}`,onClick:wt=>{wt.stopPropagation(),ta(Ze,Ke,1)},disabled:it<=0||!Ft,title:"   1",children:[s.jsx($a,{}),"  1"]}),s.jsxs("button",{className:`${He.addToCartButton} ${He.cartButton2}`,onClick:wt=>{wt.stopPropagation(),ta(Ze,Ke,2)},disabled:it<=0||!Ft,title:"   2",children:[s.jsx($a,{}),"  2"]})]})]})]},`${Ze.id}-${Ke.id}`)})})},Dt=(Ge,Ze,Ke)=>Ge.length===0?s.jsxs("div",{className:He.emptyCart,children:[s.jsx(nm,{size:"2em"}),s.jsx("p",{children:"   "})]}):s.jsx("div",{className:He.cartItems,children:Ge.map(it=>{var Qn;const Ut=La(it);it.hasOriginalDiscount?Math.round(it.originalPrice*(1-it.discount/100)):it.originalPrice;const Ft=it.itemDiscountPercent>0||it.itemDiscountAmount>0,En=he.find(Gt=>Gt.id===it.productId),gn=En==null?void 0:En.variants.find(Gt=>Gt.id===it.variantId);return s.jsxs("div",{className:He.cartItem,children:[s.jsx("div",{className:He.cartItemImage,children:s.jsx("img",{src:it.image,alt:it.productName,onError:Gt=>{Gt.target.src="https://via.placeholder.com/120x120?text=No+Image"}})}),s.jsxs("div",{className:He.cartItemContent,children:[s.jsxs("div",{className:He.cartItemTop,children:[s.jsx("h5",{className:He.cartItemTitle,children:it.productName}),s.jsx("button",{className:He.removeItemButton,onClick:()=>{Ze(Gt=>Gt.filter(Tn=>!(Tn.variantId===it.variantId&&(it.batchId===null||Tn.batchId===it.batchId))))},title:" ",children:s.jsx(aa,{})})]}),it.attributes&&it.attributes.length>0&&s.jsxs("div",{className:He.cartItemAttributes,children:[(xr.has(it.variantId)?it.attributes:it.attributes.slice(0,3)).map(Gt=>s.jsxs("span",{className:He.cartItemAttribute,children:[s.jsxs("span",{className:He.attributeName,children:[Gt.category_attribute_name,":"]}),s.jsx("span",{className:He.attributeValue,children:Gt.custom_value||Gt.predefined_value_name})]},Gt.id)),it.attributes.length>3&&s.jsx("button",{className:He.expandAttributesButton,onClick:Gt=>{Gt.stopPropagation(),Fa(Tn=>{const hn=new Set(Tn);return hn.has(it.variantId)?hn.delete(it.variantId):hn.add(it.variantId),hn})},children:xr.has(it.variantId)?s.jsxs(s.Fragment,{children:[" ",s.jsx(Lo,{})]}):s.jsxs(s.Fragment,{children:["+",it.attributes.length-3,"  ",s.jsx(Bo,{})]})})]}),s.jsxs("div",{className:He.cartItemMeta,children:[s.jsxs("span",{className:He.cartItemSku,children:[": ",it.sku]}),it.unitDisplay&&s.jsxs("span",{className:He.cartItemUnit,children:[" ",it.unitDisplay]})]}),((Qn=gn==null?void 0:gn.stocks_data)==null?void 0:Qn.stocks)&&s.jsxs("div",{className:He.itemBatchSelection,children:[s.jsx("div",{className:He.fifoCheckboxGroup,children:s.jsxs("label",{className:He.fifoCheckboxLabel,children:[s.jsx("input",{type:"checkbox",checked:it.useFifo!==!1,onChange:Gt=>{const Tn=Gt.target.checked;Ze(hn=>hn.map(ss=>ss.variantId===it.variantId?{...ss,useFifo:Tn,batchId:Tn?null:ss.batchId,batchInfo:Tn?null:ss.batchInfo}:ss))},className:He.fifoCheckbox}),s.jsxs("span",{className:He.fifoLabel,children:["FIFO",s.jsxs("span",{className:He.availableQtyBadge,children:["( : ",(gn==null?void 0:gn.available_quantity_in_location)??it.stock??0," ",it.unitDisplay||(En==null?void 0:En.unit_display)||".",")"]})]}),s.jsxs("div",{className:He.fifoTooltipIcon,onMouseEnter:()=>Vs(it.variantId),onMouseLeave:()=>Vs(null),children:["?",ar===it.variantId&&s.jsx("div",{className:He.fifoTooltip,children:"FIFO (First In, First Out)    ,           .       ."})]})]})}),it.useFifo===!1&&s.jsxs("div",{className:He.batchSelectWrapper,children:[s.jsx("label",{className:He.batchSelectLabel,children:":"}),s.jsxs("select",{value:it.batchId||"",onChange:Gt=>{const Tn=Gt.target.value?parseInt(Gt.target.value):null,hn=gn.stocks_data.stocks.find(Qt=>{var xs;return((xs=Qt.batch_info)==null?void 0:xs.id)===Tn}),ss=hn!=null&&hn.batch_info?{id:hn.batch_info.id,batch_number:hn.batch_info.batch_number,received_date:hn.batch_info.received_date}:null;Ze(Qt=>Qt.map(xs=>xs.variantId===it.variantId?{...xs,batchId:Tn,batchInfo:ss}:xs))},className:He.batchSelect,children:[s.jsx("option",{value:"",children:"--   --"}),gn.stocks_data.stocks.filter(Gt=>Gt.batch_info&&parseFloat(Gt.available_quantity||0)>0).map(Gt=>{const Tn=Gt.batch_info,ss=new Date(Tn.received_date).toLocaleString("ru-RU",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"});return s.jsxs("option",{value:Tn.id,children:[Tn.batch_number," - ",ss," (: ",Gt.available_quantity," ",Gt.unit_display||it.unitDisplay||(En==null?void 0:En.unit_display)||".",")"]},Tn.id)})]})]})]}),s.jsx("div",{className:He.cartItemBottom,children:s.jsxs("div",{className:He.cartItemBottomLeft,children:[s.jsx("div",{className:He.quantityControl,children:(()=>{const Gt=it.unitDisplay||".",Tn=Gt===".",hn=Tn?1:.5,ss=Tn?1:.1,Qt=Tn?1:.1;return s.jsxs(s.Fragment,{children:[s.jsx("button",{className:He.quantityButton,onClick:()=>{const xs=it.quantity-hn,wt=Ge.find(bs=>bs.variantId===it.variantId);if(!wt)return;const Bn=(wt.unitDisplay||".")===".";let vs;Bn?vs=Math.max(1,Math.floor(xs)||1):vs=Math.max(.001,parseFloat(xs)||.001),vs>wt.stock&&(alert("   "),vs=wt.stock),Ze(bs=>bs.map(ua=>ua.variantId===it.variantId?{...ua,quantity:vs}:ua))},children:s.jsx(FR,{})}),s.jsxs("div",{className:He.quantityInputWrapper,children:[s.jsx("input",{type:"number",value:it.quantity,onChange:xs=>{const wt=xs.target.value;if(wt===""||wt===null){Ze(tr=>tr.map(Xa=>Xa.variantId===it.variantId?{...Xa,quantity:""}:Xa));return}const rn=parseFloat(wt);if(isNaN(rn))return;const Bn=Ge.find(tr=>tr.variantId===it.variantId);if(!Bn)return;const bs=(Bn.unitDisplay||".")===".";let ua;bs?ua=Math.max(1,Math.floor(rn)||1):ua=Math.max(.001,parseFloat(rn)||.001),ua>Bn.stock&&(alert("   "),ua=Bn.stock),Ze(tr=>tr.map(Xa=>Xa.variantId===it.variantId?{...Xa,quantity:ua}:Xa))},onBlur:xs=>{const wt=xs.target.value;if(wt===""||wt===null||parseFloat(wt)<Qt){const rn=Ge.find(ua=>ua.variantId===it.variantId);if(!rn)return;const bs=(rn.unitDisplay||".")==="."?1:.1;Ze(ua=>ua.map(tr=>tr.variantId===it.variantId?{...tr,quantity:bs}:tr))}else{const rn=parseFloat(wt);if(!isNaN(rn)){const Bn=Ge.find(tr=>tr.variantId===it.variantId);if(!Bn)return;const ua=(Bn.unitDisplay||".")==="."?Math.floor(rn):parseFloat(rn.toFixed(3));Ze(tr=>tr.map(Xa=>Xa.variantId===it.variantId?{...Xa,quantity:ua}:Xa))}}},step:ss,min:Qt,max:it.stock,className:He.quantityInput}),s.jsx("span",{className:He.quantityUnit,children:Gt})]}),s.jsx("button",{className:He.quantityButton,onClick:()=>{const xs=it.quantity+hn,wt=Ge.find(rn=>rn.variantId===it.variantId);if(wt&&xs<=wt.stock){const Bn=(wt.unitDisplay||".")===".";let vs;Bn?vs=Math.floor(xs):vs=parseFloat(xs.toFixed(3)),Ze(bs=>bs.map(ua=>ua.variantId===it.variantId?{...ua,quantity:vs}:ua))}},disabled:it.quantity>=it.stock,children:s.jsx($a,{})})]})})()}),s.jsxs("button",{className:He.discountButton,onClick:()=>{st(it.variantId),Mt(Ke),Gn(it.itemDiscountPercent>0?"percent":"amount"),ln(it.itemDiscountPercent>0?it.itemDiscountPercent:it.itemDiscountAmount),be(!0)},title:"  ",children:[s.jsx(ud,{})," "]}),s.jsx("div",{className:He.cartItemPrice,children:it.hasOriginalDiscount||Ft?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:He.priceOriginal,children:[(it.originalPrice*it.quantity).toLocaleString()," "]}),s.jsxs("div",{className:He.priceFinal,children:[(Ut*it.quantity).toLocaleString()," "]})]}):s.jsxs("div",{className:He.priceFinal,children:[(Ut*it.quantity).toLocaleString()," "]})})]})})]})]},it.variantId)})});return s.jsxs("div",{className:He.container,children:[s.jsxs("div",{className:He.header,children:[s.jsxs("h1",{className:He.title,children:[s.jsx(Cx,{})," "]}),s.jsx("button",{onClick:()=>t(`/business/${e}/bonus-history`),className:He.bonusHistoryButton,title:" ",children:s.jsx(hi,{})})]}),s.jsxs("div",{className:He.tabs,children:[s.jsxs("button",{className:`${He.tab} ${qa==="products"?He.active:""}`,onClick:()=>zt("products"),children:[s.jsx(nm,{})," ",he.length>0&&s.jsx("span",{className:He.tabBadge,children:he.length})]}),s.jsxs("button",{className:`${He.tab} ${qa==="carts"?He.active:""}`,onClick:()=>zt("carts"),children:[s.jsx(KS,{})," ",(a.length>0||i.length>0)&&s.jsx("span",{className:He.tabBadge,children:a.length+i.length})]})]}),s.jsx("div",{className:He.content,children:qa==="products"?s.jsxs("div",{className:He.productsTab,children:[s.jsxs("div",{className:He.filtersSection,children:[s.jsx(v7,{options:ra,value:Hn,onChange:Ge=>{ya(Ge),r([]),o([]),Pa({}),b(""),S(""),N(""),fe(null)},disabled:Ys,placeholder:Ys?"...":" ...",icon:KS,label:"",required:!0,getOptionLabel:Ge=>Ge.name+(Ge.is_primary?" ":""),getOptionSubLabel:Ge=>{var Ze;return((Ze=Ge.location_type_detail)==null?void 0:Ze.name)||(Ge.address?Ge.address:"")}}),s.jsx(v7,{options:[{id:"",name:" "},...ye],value:j,onChange:N,disabled:!Hn,placeholder:" ...",icon:nm,label:"",getOptionLabel:Ge=>Ge.name,getOptionSubLabel:Ge=>Ge.full_path||""})]}),s.jsxs("div",{className:He.searchSection,children:[s.jsxs("div",{className:He.searchInputGroup,children:[s.jsx(ri,{className:He.searchIcon}),s.jsx("input",{ref:ds,type:"text",placeholder:vn?" -...":"  ,   -...",value:g,onChange:vn?ys:Ge=>b(Ge.target.value),onKeyDown:vn?ks:Ge=>{Ge.key==="Enter"&&Ia()},disabled:!Hn,className:He.searchInput}),s.jsx("button",{className:`${He.scannerButton} ${vn?He.scannerActive:""}`,onClick:()=>{ns(Ge=>!Ge),setTimeout(()=>{ds.current&&ds.current.focus()},100)},type:"button",disabled:!Hn,children:vn?s.jsx(qr,{}):s.jsx(AR,{})}),s.jsx("button",{className:He.searchButton,onClick:Ia,disabled:!Hn,children:s.jsx(ri,{})})]}),s.jsx("div",{className:He.filterCheckbox,children:s.jsxs("label",{children:[s.jsx("input",{type:"checkbox",checked:I,onChange:Ge=>M(Ge.target.checked),disabled:!Hn}),s.jsx("span",{children:"   "})]})})]}),s.jsx("div",{className:He.searchResults,children:Ye()})]}):s.jsxs("div",{className:He.cartsTab,children:[s.jsxs("div",{className:He.cartCard,children:[s.jsxs("div",{className:He.cartHeader,children:[s.jsx("h4",{children:" 1"}),a.length>0&&s.jsx("span",{className:He.cartCount,children:a.length})]}),s.jsxs("div",{className:He.cartBody,children:[Dt(a,r,1),Fn(a,r,1)]})]}),s.jsxs("div",{className:He.cartCard,children:[s.jsxs("div",{className:He.cartHeader,children:[s.jsx("h4",{children:" 2"}),i.length>0&&s.jsx("span",{className:He.cartCount,children:i.length})]}),s.jsxs("div",{className:He.cartBody,children:[Dt(i,o,2),Fn(i,o,2)]})]})]})}),Ee&&s.jsx("div",{className:He.modalOverlay,children:s.jsxs("div",{className:He.modal,tabIndex:-1,"aria-modal":"true",role:"dialog",children:[s.jsxs("div",{className:He.modalHeader,children:[s.jsxs("h4",{children:["    ( ",Ue,")"]}),s.jsx(Ti,{onClick:()=>Le(!1)})]}),s.jsx("div",{className:He.modalBody,children:s.jsxs("div",{className:He.discountControls,children:[s.jsxs("div",{className:He.discountType,role:"radiogroup","aria-label":" ",children:[s.jsxs("label",{className:He.radioLabel,children:[s.jsx("input",{type:"radio",checked:et==="percent",onChange:()=>dt("percent")}),s.jsx("span",{children:""})]}),s.jsxs("label",{className:He.radioLabel,children:[s.jsx("input",{type:"radio",checked:et==="amount",onChange:()=>dt("amount")}),s.jsx("span",{children:""})]})]}),s.jsx("div",{className:He.discountInput,children:et==="percent"?s.jsxs(s.Fragment,{children:[s.jsx("input",{type:"number",value:_e,autoFocus:!0,onChange:Ge=>tt(Math.min(100,Math.max(0,Number(Ge.target.value)))),min:"0",max:"100",placeholder:"0"}),s.jsx("span",{className:He.inputUnit,children:"%"})]}):s.jsxs(s.Fragment,{children:[s.jsx("input",{type:"number",value:_e,autoFocus:!0,onChange:Ge=>tt(Math.max(0,Number(Ge.target.value))),min:"0",placeholder:"0"}),s.jsx("span",{className:He.inputUnit,children:""})]})})]})}),s.jsxs("div",{className:He.modalFooter,children:[s.jsx("button",{className:He.secondaryButton,onClick:()=>Le(!1),children:""}),s.jsx("button",{className:He.primaryButton,onClick:na,children:""})]})]})}),Ae&&s.jsx("div",{className:He.modalOverlay,children:s.jsxs("div",{className:He.modal,tabIndex:-1,"aria-modal":"true",role:"dialog",children:[s.jsxs("div",{className:He.modalHeader,children:[s.jsx("h4",{children:"  "}),s.jsx(Ti,{onClick:()=>be(!1)})]}),s.jsx("div",{className:He.modalBody,children:s.jsxs("div",{className:He.discountControls,children:[s.jsxs("div",{className:He.discountType,role:"radiogroup","aria-label":" ",children:[s.jsxs("label",{className:He.radioLabel,children:[s.jsx("input",{type:"radio",checked:pn==="percent",onChange:()=>Gn("percent")}),s.jsx("span",{children:""})]}),s.jsxs("label",{className:He.radioLabel,children:[s.jsx("input",{type:"radio",checked:pn==="amount",onChange:()=>Gn("amount")}),s.jsx("span",{children:""})]})]}),s.jsx("div",{className:He.discountInput,children:pn==="percent"?s.jsxs(s.Fragment,{children:[s.jsx("input",{type:"number",value:bt,autoFocus:!0,onChange:Ge=>ln(Math.min(100,Math.max(0,Number(Ge.target.value)))),min:"0",max:"100",placeholder:"0"}),s.jsx("span",{className:He.inputUnit,children:"%"})]}):s.jsxs(s.Fragment,{children:[s.jsx("input",{type:"number",value:bt,autoFocus:!0,onChange:Ge=>ln(Math.max(0,Number(Ge.target.value))),min:"0",placeholder:"0"}),s.jsx("span",{className:He.inputUnit,children:""})]})}),We&&(()=>{const Ze=(ct===1?a:i).find(Ke=>Ke.variantId===We);return Ze?s.jsxs("div",{className:He.currentDiscountInfo,children:[s.jsxs("p",{children:[s.jsx("span",{children:" :"}),s.jsxs("span",{className:He.nowPrice,children:[Ze.price.toLocaleString()," "]})]}),s.jsxs("p",{children:[s.jsx("span",{children:" :"}),s.jsxs("span",{className:He.oldPrice,children:[Ze.originalPrice.toLocaleString()," "]})]}),Ze.hasOriginalDiscount&&s.jsxs("p",{children:[s.jsx("span",{children:" :"}),s.jsxs("span",{className:He.discountValueAccent,children:[Ze.discount,"%"]})]})]}):null})()]})}),s.jsxs("div",{className:He.modalFooter,children:[s.jsx("button",{className:He.secondaryButton,onClick:()=>be(!1),children:""}),s.jsx("button",{className:He.primaryButton,onClick:()=>{ct===1?As(a,r):As(i,o)},children:""})]})]})}),B&&s.jsx("div",{className:He.modalOverlay,children:s.jsxs("div",{className:He.modal,children:[s.jsxs("div",{className:He.modalHeader,children:[s.jsx("h4",{children:fn?" ":" "}),s.jsx(Ti,{onClick:()=>{fn&&(wn(!1),Rt(null),Lt===1?(r([]),tt(0)):(o([]),It(0)),U(""),H(""),se(null),J(null),K(0),oe(0),ae("percent"),ue(!1)),P(!1)}})]}),s.jsx("div",{className:He.modalBody,children:fn?nt?s.jsxs("div",{className:He.receiptCompleted,children:[nt.receipt_preview_image?s.jsx("div",{className:He.receiptImageContainer,children:s.jsx("img",{src:nt.receipt_preview_image||n(nt.receipt_preview_image),alt:` ${nt.number}`,className:He.receiptImage,onError:Ge=>{console.error("   :",nt.receipt_preview_image);const Ze=nt.receipt_preview_image||n(nt.receipt_preview_image);console.error(" URL:",Ze),Ge.target.src="https://via.placeholder.com/300x400?text=No+Image"},onLoad:()=>{const Ge=nt.receipt_preview_image||n(nt.receipt_preview_image);console.log("   :",Ge)}})}):s.jsx("div",{className:He.receiptImageContainer,children:s.jsxs("div",{className:He.receiptImagePlaceholder,children:[s.jsx("p",{children:"  "}),s.jsxs("small",{children:["PDF : ",nt.receipt_pdf_file?"":""]})]})}),s.jsxs("div",{className:He.receiptInfo,children:[s.jsxs("h5",{children:[" #",nt.number]}),s.jsxs("p",{children:[s.jsx("strong",{children:":"})," ",new Date(nt.created_at).toLocaleString()]}),s.jsxs("p",{children:[s.jsx("strong",{children:":"})," ",parseFloat(nt.total_amount).toLocaleString()," "]}),s.jsxs("p",{children:[s.jsx("strong",{children:" :"})," ",nt.payment_method]}),nt.customer_name&&s.jsxs("p",{children:[s.jsx("strong",{children:":"})," ",nt.customer_name]}),nt.customer_phone&&s.jsxs("p",{children:[s.jsx("strong",{children:":"})," ",nt.customer_phone]}),nt.bonus_info&&s.jsxs("div",{className:He.receiptBonusInfo,children:[s.jsxs("h6",{children:[s.jsx(hi,{}),"   "]}),nt.bonus_info.tier&&s.jsxs("p",{children:[s.jsx("strong",{children:" :"})," ",nt.bonus_info.tier.name," (",nt.bonus_info.tier.bonus_percent,"%)"]}),s.jsxs("p",{children:[s.jsx("strong",{children:" :"})," ",parseFloat(nt.bonus_info.bonus_percent||0).toFixed(2),"%"]}),parseFloat(nt.bonus_info.accrued||0)>0&&s.jsxs("p",{children:[s.jsx("strong",{children:" :"})," ","+",Math.round(parseFloat(nt.bonus_info.accrued))," "]}),parseFloat(nt.bonus_info.redeemed||0)>0&&s.jsxs("p",{children:[s.jsx("strong",{children:" :"})," ","-",Math.round(parseFloat(nt.bonus_info.redeemed))," "]}),s.jsxs("p",{children:[s.jsx("strong",{children:"  :"})," ",parseFloat(nt.bonus_info.balance_after||0).toFixed(2)," "]})]})]})]}):s.jsx("div",{className:He.receiptLoading,children:s.jsx("p",{children:" ..."})}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:He.receiptAndBonusContainer,children:[s.jsxs("div",{className:He.receiptPreview,children:[s.jsxs("div",{className:He.receiptHeader,children:[s.jsxs("h5",{children:[" #",new Date().getTime().toString().slice(-6)]}),s.jsx("p",{children:new Date().toLocaleString("ru-RU")})]}),s.jsx("div",{className:He.receiptItems,children:(Lt===1?a:i).map(Ge=>{const Ze=La(Ge),Ke=Ge.originalPrice,it=Ge.itemDiscountPercent>0||Ge.itemDiscountAmount>0,Ut=Ge.hasOriginalDiscount,Ft=Ut?Math.round(Ke*(1-Ge.discount/100)):Ke;return s.jsx("div",{className:He.receiptItem,children:s.jsxs("div",{className:He.receiptItemMain,children:[s.jsxs("div",{className:He.receiptItemName,children:[Ge.productName,s.jsx("div",{className:He.receiptItemDetails,children:Ge.attributes.map(En=>s.jsxs("span",{className:He.receiptItemAttribute,children:[s.jsxs("span",{className:He.attributeName,children:[En.category_attribute_name,":"]}),s.jsx("span",{className:He.attributeValue,children:En.custom_value||En.predefined_value_name})]},En.id))})]}),s.jsxs("div",{className:He.receiptItemPrices,children:[s.jsxs("div",{className:He.receiptPriceRow,children:[s.jsxs("span",{className:He.priceLabel,children:[Ge.quantity,"  ",Ke.toLocaleString()," "]}),s.jsxs("span",{className:He.priceValue,children:[(Ke*Ge.quantity).toLocaleString()," "]})]}),Ut&&s.jsxs("div",{className:He.receiptDiscountRow,children:[s.jsxs("span",{className:He.discountLabel,children:[s.jsx(ud,{size:12}),"  ",Ge.discount,"%"]}),s.jsxs("span",{className:He.discountValue,children:["-",Math.round(Ke*Ge.discount/100*Ge.quantity).toLocaleString()," "]})]}),it&&s.jsxs("div",{className:He.receiptDiscountRow,children:[s.jsxs("span",{className:He.discountLabel,children:[s.jsx(ud,{size:12})," ",Ge.itemDiscountPercent>0?`.  ${Ge.itemDiscountPercent}%`:` ${Ge.itemDiscountAmount} `]}),s.jsxs("span",{className:He.discountValue,children:["-",Ge.itemDiscountPercent>0?Math.round(Ft*Ge.itemDiscountPercent/100*Ge.quantity).toLocaleString():(Ge.itemDiscountAmount*Ge.quantity).toLocaleString()," "]})]}),s.jsxs("div",{className:He.receiptTotalRow,children:[s.jsx("span",{className:He.totalLabel,children:"  :"}),s.jsxs("span",{className:He.totalValue,children:[(Ze*Ge.quantity).toLocaleString()," "]})]})]})]})},Ge.variantId)})}),s.jsxs("div",{className:He.receiptSummary,children:[s.jsx("div",{className:He.receiptSummarySection,children:(()=>{const Ge=Lt===1?a:i,Ze=Lt===1?_e:Fe,Ke=Lt===1?et:Xe,it=Ws(Ge);return Qs(Ge,Ze,Ke),qs(Ge,Ze,Ke),s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:He.receiptSummaryRow,children:[s.jsx("span",{children:":"}),s.jsxs("span",{children:[it.toLocaleString()," "]})]}),Ge.some(Ut=>Ut.hasOriginalDiscount)&&s.jsxs("div",{className:He.receiptSummaryRow,children:[s.jsx("span",{children:" :"}),s.jsxs("span",{className:He.summaryDiscount,children:["-",Ge.reduce((Ut,Ft)=>Ft.hasOriginalDiscount?Ut+(Ft.originalPrice-Math.round(Ft.originalPrice*(1-Ft.discount/100)))*Ft.quantity:Ut,0).toLocaleString()," "]})]}),Ge.some(Ut=>Ut.itemDiscountPercent>0||Ut.itemDiscountAmount>0)&&s.jsxs("div",{className:He.receiptSummaryRow,children:[s.jsx("span",{children:" :"}),s.jsxs("span",{className:He.summaryDiscount,children:["-",Ge.reduce((Ut,Ft)=>{const En=Ft.hasOriginalDiscount?Math.round(Ft.originalPrice*(1-Ft.discount/100)):Ft.originalPrice,gn=La(Ft);return Ut+(En-gn)*Ft.quantity},0).toLocaleString()," "]})]}),Ze>0&&s.jsxs("div",{className:He.receiptSummaryRow,children:[s.jsx("span",{children:"   :"}),s.jsxs("span",{className:He.summaryDiscount,children:["-",(Ke==="percent"?(it-Ge.reduce((Ut,Ft)=>{Ft.hasOriginalDiscount&&(Ut+=(Ft.originalPrice-Math.round(Ft.originalPrice*(1-Ft.discount/100)))*Ft.quantity);const En=Ft.hasOriginalDiscount?Math.round(Ft.originalPrice*(1-Ft.discount/100)):Ft.originalPrice,gn=La(Ft);return Ut+=(En-gn)*Ft.quantity,Ut},0))*Ze/100:Ze).toLocaleString()," "]})]})]})})()}),s.jsxs("div",{className:He.receiptSummarySaleRow,children:[s.jsx("span",{children:"  :"}),s.jsxs("span",{className:He.summaryDiscount,children:["-",qs(Lt===1?a:i,Lt===1?_e:Fe,Lt===1?et:Xe).toLocaleString()," "]})]}),s.jsxs("div",{className:He.receiptTotalSection,children:[s.jsxs("div",{className:He.receiptTotalRow,children:[s.jsx("span",{children:"  :"}),s.jsxs("span",{className:He.receiptGrandTotal,children:[fr(Lt===1?a:i,Lt===1?_e:Fe,Lt===1?et:Xe).toLocaleString()," "]})]}),te&&ee&&ie&&(()=>{const it=Qs(Lt===1?a:i,Lt===1?_e:Fe,Lt===1?et:Xe),Ut=parseFloat(te.balance||0);let Ft=0;return ee==="percent"&&Y>0?Ft=Math.min(Ut*Y/100,it):ee==="amount"&&G>0&&(Ft=Math.min(G,it)),Ft=Math.round(Ft),Ft>0?s.jsxs("div",{className:He.receiptTotalRow,style:{color:"var(--accent-green)",fontSize:"14px",marginTop:"8px"},children:[s.jsx("span",{children:" :"}),s.jsxs("span",{children:["-",Ft," "]})]}):null})()]})]})]}),te&&V&&V.is_enabled&&s.jsxs("div",{className:He.bonusSection,children:[s.jsx("div",{className:He.bonusSectionHeader,children:s.jsxs("h5",{children:[s.jsx(hi,{})," "]})}),s.jsxs("div",{className:He.bonusInfo,children:[s.jsxs("div",{className:He.bonusBalanceDisplay,children:[s.jsx("div",{className:He.bonusBalanceLabel,children:" :"}),s.jsxs("div",{className:He.bonusBalanceValue,children:[parseFloat(te.balance||0).toFixed(2)," ",s.jsx("span",{className:He.bonusBalanceHint,children:" (1  = 1 )"})]})]}),te.tier&&s.jsxs("div",{className:He.bonusTierDisplay,children:[s.jsx("div",{className:He.bonusTierLabel,children:":"}),s.jsxs("div",{className:He.bonusTierValue,children:[te.tier.name," (",te.tier.bonus_percent,"%)"]})]})]}),s.jsxs("div",{className:He.bonusAccrualModeSelector,children:[s.jsx("label",{children:"  :"}),s.jsxs("div",{className:He.bonusAccrualModeOptions,children:[s.jsxs("label",{className:He.bonusModeOption,children:[s.jsx("input",{type:"radio",name:"bonusAccrualMode",value:"tier",checked:Z==="tier",onChange:Ge=>{A(Ge.target.value),J(null)},disabled:!te.tier||V.is_fixed_percent}),s.jsxs("span",{children:["  (",((Wt=te.tier)==null?void 0:Wt.bonus_percent)||V.bonus_percent,"%)"]})]}),s.jsxs("label",{className:He.bonusModeOption,children:[s.jsx("input",{type:"radio",name:"bonusAccrualMode",value:"settings",checked:Z==="settings",onChange:Ge=>{A(Ge.target.value),J(null)},disabled:V.is_fixed_percent}),s.jsxs("span",{children:["   (",V.bonus_percent,"%)"]})]})]}),V.is_fixed_percent&&s.jsx("div",{className:He.bonusModeHint,children:" ,   "})]}),te.recent_transactions&&te.recent_transactions.length>0&&s.jsxs("div",{className:He.bonusHistory,children:[s.jsx("div",{className:He.bonusHistoryTitle,children:" :"}),s.jsx("div",{className:He.bonusHistoryList,children:te.recent_transactions.slice(0,5).map(Ge=>s.jsxs("div",{className:He.bonusHistoryItem,children:[s.jsx("div",{className:He.bonusHistoryType,children:Ge.type==="accrual"?"":""}),s.jsxs("div",{className:`${He.bonusHistoryAmount} ${parseFloat(Ge.amount)>=0?He.positive:He.negative}`,children:[parseFloat(Ge.amount)>=0?"+":"",parseFloat(Ge.amount).toFixed(2)]}),s.jsx("div",{className:He.bonusHistoryDate,children:new Date(Ge.created_at).toLocaleDateString("ru-RU")})]},Ge.id))})]}),(()=>{var Ft;const it=Ga(Lt===1?a:i,Lt===1?_e:Fe,Lt===1?et:Xe);let Ut=0;return V.is_fixed_percent&&T===null?Ut=parseFloat(V.bonus_percent||0):T!==null?Ut=T:Z==="tier"&&((Ft=te.tier)!=null&&Ft.bonus_percent)?Ut=parseFloat(te.tier.bonus_percent):Ut=parseFloat(V.bonus_percent||0),it!==null&&it>0?s.jsxs("div",{className:He.bonusPredictionCard,children:[s.jsx("div",{className:He.bonusPredictionLabel,children:"  :"}),s.jsxs("div",{className:He.bonusPredictionValue,children:["+",it," "]}),s.jsxs("div",{className:He.bonusPredictionHint,children:["( ",it," )"]}),s.jsxs("div",{className:He.bonusPercentInfo,children:[" : ",parseFloat(Ut).toFixed(2),"%"]})]}):null})(),!V.is_fixed_percent&&s.jsxs("div",{className:He.bonusAccrualControl,children:[s.jsx("label",{children:"    (%):"}),s.jsx("input",{type:"number",step:"0.01",min:"0",max:"100",value:T!==null?T:"",onChange:Ge=>J(Ge.target.value?parseFloat(Ge.target.value):null),placeholder:Z==="tier"&&((qt=te.tier)!=null&&qt.bonus_percent)?te.tier.bonus_percent:V.bonus_percent||"5.00",className:He.bonusPercentInput})]}),parseFloat(te.balance||0)>0&&s.jsxs("div",{className:He.bonusRedemptionButtonWrapper,children:[s.jsxs("button",{type:"button",onClick:()=>ue(!ie),className:`${He.bonusRedemptionToggleButton} ${ie?He.active:""}`,children:[s.jsx(hi,{})," ",ie?"  ":" "]}),ie&&s.jsxs("div",{className:He.bonusRedemptionControl,children:[s.jsx("label",{className:He.bonusRedemptionLabel,children:" :"}),s.jsxs("div",{className:He.bonusRedemptionType,children:[s.jsxs("label",{className:He.radioOption,children:[s.jsx("input",{type:"radio",value:"percent",checked:ee==="percent",onChange:Ge=>{ae(Ge.target.value),oe(0)}}),s.jsx("span",{children:"  "})]}),s.jsxs("label",{className:He.radioOption,children:[s.jsx("input",{type:"radio",value:"amount",checked:ee==="amount",onChange:Ge=>{ae(Ge.target.value),K(0)}}),s.jsx("span",{children:" "})]})]}),ee==="percent"?s.jsxs("div",{className:He.bonusRedemptionInputWrapper,children:[s.jsxs("div",{className:He.bonusRedemptionInput,children:[s.jsx("input",{type:"number",min:"0",max:"100",step:"1",value:Y||"",onChange:Ge=>{const Ze=Ge.target.value?parseFloat(Ge.target.value):0;K(Math.min(100,Math.max(0,Ze)))},placeholder:"0",className:Y>0?He.hasValue:""}),s.jsx("span",{className:He.inputSuffix,children:"%"})]}),Y>0&&s.jsxs("div",{className:He.bonusRedemptionPreview,children:[" : ",s.jsxs("span",{className:He.bonusRedemptionPreviewValue,children:[Math.round(parseFloat(te.balance||0)*Y/100)," "]})]})]}):s.jsxs("div",{className:He.bonusRedemptionInputWrapper,children:[s.jsxs("div",{className:He.bonusRedemptionInput,children:[s.jsx("input",{type:"number",min:"0",max:parseFloat(te.balance||0),step:"0.01",value:G||"",onChange:Ge=>{const Ze=Ge.target.value;if(Ze===""||Ze===null){oe(0);return}const Ke=parseFloat(Ze);if(isNaN(Ke)){oe(0);return}parseFloat(te.balance||0),oe(Math.max(0,Ke))},placeholder:"0.00",className:`${G>0?He.hasValue:""} ${G>parseFloat(te.balance||0)?He.inputError:""}`}),s.jsx("span",{className:He.inputSuffix,children:""})]}),G>0&&s.jsxs("div",{className:`${He.bonusRedemptionPreview} ${G>parseFloat(te.balance||0)?He.bonusRedemptionPreviewError:""}`,children:[" : ",s.jsxs("span",{className:He.bonusRedemptionPreviewValue,children:[G.toFixed(2)," "]}),G>parseFloat(te.balance||0)&&s.jsx("span",{className:He.bonusRedemptionError,children:"  "})]}),s.jsxs("div",{className:He.bonusRedemptionHint,children:[": ",s.jsxs("strong",{children:[parseFloat(te.balance||0).toFixed(2)," "]})]})]})]})]})]})]}),s.jsxs("div",{className:He.paymentForm,children:[s.jsxs("div",{className:He.formGroup,children:[s.jsx("label",{children:" "}),s.jsx("select",{value:O,onChange:Ge=>R(Ge.target.value),children:Se.map(Ge=>s.jsx("option",{value:Ge.code,children:Ge.name},Ge.id))})]}),s.jsxs("div",{className:He.formGroup,children:[s.jsx("label",{children:" QR- "}),s.jsxs("button",{type:"button",onClick:()=>X(!0),className:He.qrButtonLarge,title:" QR-",children:[s.jsx(tm,{size:32}),s.jsx("span",{className:He.qrButtonText,children:" QR-"})]}),s.jsx("p",{className:He.qrButtonDescription,children:" QR-         "})]})]})]})}),s.jsx("div",{className:He.modalFooter,children:fn?s.jsxs(s.Fragment,{children:[s.jsx("button",{className:He.primaryButton,onClick:Be,children:" PDF"}),s.jsxs("button",{className:He.primaryButton,onClick:rt,children:[s.jsx(Rh,{}),"  "]}),s.jsx("button",{className:He.secondaryButton,onClick:()=>{P(!1),wn(!1),r([]),U(""),H(""),se(null),J(null),K(0),oe(0),ae("percent"),tt(0)},children:""})]}):s.jsxs(s.Fragment,{children:[s.jsx("button",{className:He.secondaryButton,onClick:()=>P(!1),children:""}),s.jsxs("button",{className:He.successButton,onClick:_i,disabled:fn||ut,children:[s.jsx(qr,{})," ",ut?"":" "]})]})})]})}),ne&&Hn&&s.jsx(GL,{locationId:Hn,onCustomerSelected:Ge=>{se(Ge),U(Ge.user.full_name||Ge.user.username),Ge.bonus_redemption_percent?(ae("percent"),K(Ge.bonus_redemption_percent)):Ge.bonus_redemption_amount&&(ae("amount"),oe(Ge.bonus_redemption_amount)),X(!1)},onClose:()=>X(!1)})]})},jqe="_contentWrapper_1rc8s_32",Nqe="_accountContainer_1rc8s_76",Eqe="_accountSidebar_1rc8s_93",kqe="_accountMenu_1rc8s_113",Iqe="_menuButton_1rc8s_122",Dqe="_active_1rc8s_163",Tqe="_accountContent_1rc8s_198",Aqe="_settingsTab_1rc8s_206",Mqe="_sectionHeader_1rc8s_236",Rqe="_formGroup_1rc8s_257",Oqe="_editField_1rc8s_272",Bqe="_saveButton_1rc8s_353 _button_1rc8s_317",Lqe="_editButton_1rc8s_375 _button_1rc8s_317",$qe="_cancelButton_1rc8s_392 _button_1rc8s_317",Pqe="_addButton_1rc8s_407 _button_1rc8s_317",Fqe="_deleteButton_1rc8s_424 _button_1rc8s_317",Hqe="_listContainer_1rc8s_451",zqe="_listItem_1rc8s_457",Vqe="_itemInfo_1rc8s_495",qqe="_itemActions_1rc8s_520",Uqe="_activeBadge_1rc8s_528",Wqe="_defaultBadge_1rc8s_557",Yqe="_settingsGrid_1rc8s_573",Gqe="_settingsItem_1rc8s_580",Qqe="_settingsIcon_1rc8s_621",Xqe="_dialogOverlay_1rc8s_660",Kqe="_dialog_1rc8s_660",Zqe="_dialogHeader_1rc8s_724",Jqe="_closeButton_1rc8s_752",eUe="_dialogContent_1rc8s_773",tUe="_dialogFooter_1rc8s_777",nUe="_checkboxLabel_1rc8s_787",sUe="_fileInput_1rc8s_815",aUe="_fileLabel_1rc8s_830",rUe="_emptyMessage_1rc8s_856",iUe="_infoAlert_1rc8s_868",oUe="_errorContainer_1rc8s_907",cUe="_errorIcon_1rc8s_917",lUe="_photoSection_1rc8s_987",uUe="_logoUploadContainer_1rc8s_995",dUe="_logoPreview_1rc8s_1004",hUe="_logoImage_1rc8s_1024",fUe="_logoPlaceholder_1rc8s_1030",mUe="_uploadControls_1rc8s_1051",pUe="_uploadButton_1rc8s_1058",gUe="_spinning_1rc8s_1084",_Ue="_removeButton_1rc8s_1097",vUe="_uploadInfo_1rc8s_1119",xUe="_templateEditor_1rc8s_1149",bUe="_codeEditor_1rc8s_1153",yUe="_receiptPreviewContainer_1rc8s_1180",wUe="_receiptPreview_1rc8s_1180",CUe="_templateVariables_1rc8s_1206",SUe="_variablesGrid_1rc8s_1234",jUe="_previewButton_1rc8s_1281 _button_1rc8s_317",NUe="_actions_1rc8s_1298",EUe="_businessInfo_1rc8s_1304",nn={contentWrapper:jqe,accountContainer:Nqe,accountSidebar:Eqe,accountMenu:kqe,menuButton:Iqe,active:Dqe,accountContent:Tqe,settingsTab:Aqe,sectionHeader:Mqe,formGroup:Rqe,editField:Oqe,saveButton:Bqe,editButton:Lqe,cancelButton:$qe,addButton:Pqe,deleteButton:Fqe,listContainer:Hqe,listItem:zqe,itemInfo:Vqe,itemActions:qqe,activeBadge:Uqe,defaultBadge:Wqe,settingsGrid:Yqe,settingsItem:Gqe,settingsIcon:Qqe,dialogOverlay:Xqe,dialog:Kqe,dialogHeader:Zqe,closeButton:Jqe,dialogContent:eUe,dialogFooter:tUe,checkboxLabel:nUe,fileInput:sUe,fileLabel:aUe,emptyMessage:rUe,infoAlert:iUe,errorContainer:oUe,errorIcon:cUe,photoSection:lUe,logoUploadContainer:uUe,logoPreview:dUe,logoImage:hUe,logoPlaceholder:fUe,uploadControls:mUe,uploadButton:pUe,spinning:gUe,removeButton:_Ue,uploadInfo:vUe,templateEditor:xUe,codeEditor:bUe,receiptPreviewContainer:yUe,receiptPreview:wUe,templateVariables:CUe,variablesGrid:SUe,previewButton:jUe,actions:NUe,businessInfo:EUe},kUe="_container_195y8_13",IUe="_loading_195y8_17",DUe="_spinner_195y8_27",TUe="_header_195y8_41",AUe="_headerActions_195y8_58",MUe="_createButton_195y8_64",RUe="_refreshButton_195y8_65",OUe="_section_195y8_110",BUe="_sectionHeader_195y8_114",LUe="_deletedCount_195y8_132",$Ue="_toggleDeletedButton_195y8_139",PUe="_filtersPanel_195y8_161",FUe="_searchBox_195y8_169",HUe="_searchIcon_195y8_175",zUe="_searchInput_195y8_185",VUe="_clearSearch_195y8_207",qUe="_filterBox_195y8_231",UUe="_filterIcon_195y8_236",WUe="_filterSelect_195y8_247",YUe="_filterResults_195y8_277",GUe="_invitesGrid_195y8_293",QUe="_inviteCard_195y8_299",XUe="_inviteHeader_195y8_314",KUe="_inviteActions_195y8_327",ZUe="_qrButton_195y8_342",JUe="_copyButton_195y8_348",eWe="_cancelButton_195y8_354",tWe="_inviteDetails_195y8_360",nWe="_inviteLocations_195y8_372",sWe="_employeesGrid_195y8_386",aWe="_employeeCard_195y8_392",rWe="_deletedCard_195y8_407",iWe="_employeeHeader_195y8_418",oWe="_employeeInfo_195y8_425",cWe="_inactiveBadge_195y8_431",lWe="_deletedBadge_195y8_443",uWe="_employeeActions_195y8_456",dWe="_editButton_195y8_461",hWe="_deleteButton_195y8_462",fWe="_restoreButton_195y8_463",mWe="_employeeDetails_195y8_496",pWe="_employeeLocations_195y8_508",gWe="_permissionCount_195y8_531",_We="_emptyState_195y8_543",vWe="_hint_195y8_563",xWe="_modalOverlay_195y8_569",bWe="_modal_195y8_569",yWe="_qrModal_195y8_584",wWe="_largeModal_195y8_596",CWe="_modalHeader_195y8_604",SWe="_closeButton_195y8_621",jWe="_inviteForm_195y8_642",NWe="_formGroup_195y8_646",EWe="_checkboxGroup_195y8_714",kWe="_permissionsGroup_195y8_715",IWe="_checkboxLabel_195y8_726",DWe="_permissionLabel_195y8_752",TWe="_permissionInfo_195y8_776",AWe="_permissionCode_195y8_783",MWe="_permissionDesc_195y8_790",RWe="_modalFooter_195y8_796",OWe="_cancelBtn_195y8_805",BWe="_submitBtn_195y8_806",LWe="_qrContent_195y8_842",$We="_qrCode_195y8_850",PWe="_qrInstruction_195y8_861",FWe="_linkBox_195y8_868",HWe="_linkInput_195y8_874",zWe="_copyLinkButton_195y8_884",VWe="_qrExpiry_195y8_903",qWe="_editTabs_195y8_910",UWe="_editTab_195y8_910",WWe="_activeEditTab_195y8_938",YWe="_locationsManager_195y8_945",GWe="_locationBlock_195y8_951",QWe="_locationBlockHeader_195y8_958",XWe="_removeLocationBtn_195y8_976",KWe="_addLocationBlock_195y8_991",ZWe="_addLocationButton_195y8_1007",tn={container:kUe,loading:IUe,spinner:DUe,header:TUe,headerActions:AUe,createButton:MUe,refreshButton:RUe,section:OUe,sectionHeader:BUe,deletedCount:LUe,toggleDeletedButton:$Ue,filtersPanel:PUe,searchBox:FUe,searchIcon:HUe,searchInput:zUe,clearSearch:VUe,filterBox:qUe,filterIcon:UUe,filterSelect:WUe,filterResults:YUe,invitesGrid:GUe,inviteCard:QUe,inviteHeader:XUe,inviteActions:KUe,qrButton:ZUe,copyButton:JUe,cancelButton:eWe,inviteDetails:tWe,inviteLocations:nWe,employeesGrid:sWe,employeeCard:aWe,deletedCard:rWe,employeeHeader:iWe,employeeInfo:oWe,inactiveBadge:cWe,deletedBadge:lWe,employeeActions:uWe,editButton:dWe,deleteButton:hWe,restoreButton:fWe,employeeDetails:mWe,employeeLocations:pWe,permissionCount:gWe,emptyState:_We,hint:vWe,modalOverlay:xWe,modal:bWe,qrModal:yWe,largeModal:wWe,modalHeader:CWe,closeButton:SWe,inviteForm:jWe,formGroup:NWe,checkboxGroup:EWe,permissionsGroup:kWe,checkboxLabel:IWe,permissionLabel:DWe,permissionInfo:TWe,permissionCode:AWe,permissionDesc:MWe,modalFooter:RWe,cancelBtn:OWe,submitBtn:BWe,qrContent:LWe,qrCode:$We,qrInstruction:PWe,linkBox:FWe,linkInput:HWe,copyLinkButton:zWe,qrExpiry:VWe,editTabs:qWe,editTab:UWe,activeEditTab:WWe,locationsManager:YWe,locationBlock:GWe,locationBlockHeader:QWe,removeLocationBtn:XWe,addLocationBlock:KWe,addLocationButton:ZWe},QL=({businessSlug:e})=>{const[t,n]=v.useState([]),[a,r]=v.useState([]),[i,o]=v.useState([]),[c,l]=v.useState([]),[d,f]=v.useState(!0),[g,b]=v.useState(!1),[w,S]=v.useState(!1),[j,N]=v.useState(null),[I,M]=v.useState(null),[B,P]=v.useState(!1),[O,R]=v.useState({name:"",is_active:!0,notes:"",employee_locations:[]}),[$,U]=v.useState("info"),[F,H]=v.useState({location_id:"",position:"",permission_ids:[]}),[ne,X]=v.useState(""),[te,se]=v.useState("all"),[V,q]=v.useState(!1),T=()=>{const me=new Date;return me.setDate(me.getDate()+7),me.toISOString().slice(0,16)},[J,Z]=v.useState({employee_name:"",position:"",location_ids:[],permission_ids:[],notes:"",expires_at:T()});v.useEffect(()=>{A()},[e,B]);const A=async()=>{try{f(!0);const[me,de,fe,re]=await Promise.all([Re.get(`api/business/${e}/employees/?include_deleted=${B}`),Re.get(`api/business/${e}/invites/`),Re.get(`api/business/${e}/locations/`),Re.get("api/permissions/flat/")]);n(me.data),r(de.data),o(fe.data),l(re.data)}catch(me){console.error("  :",me)}finally{f(!1)}},Y=async me=>{me.preventDefault();try{const de={...J,expires_at:new Date(J.expires_at).toISOString()},fe=await Re.post(`api/business/${e}/invites/create/`,de);N(fe.data),S(!0),b(!1),Z({employee_name:"",position:"",location_ids:[],permission_ids:[],notes:"",expires_at:T()}),A()}catch(de){console.error("  :",de),alert("   ")}},K=async me=>{if(window.confirm("  ?"))try{await Re.delete(`api/business/${e}/invites/${me}/cancel/`),A()}catch(de){console.error("  :",de),alert("   ")}},G=me=>{M(me),R({name:me.name||"",is_active:me.is_active,notes:me.notes||"",employee_locations:me.employee_locations||[]})},oe=async me=>{me.preventDefault();try{await Re.patch(`api/business/${e}/employees/${I.id}/update/`,{name:O.name,is_active:O.is_active,notes:O.notes}),A(),M(null)}catch(de){console.error("  :",de),alert("    ")}},ee=async(me,de)=>{try{await Re.patch(`api/business/${e}/employees/${I.id}/locations/${me}/`,de);const fe=O.employee_locations.map(xe=>xe.id===me?{...xe,...de}:xe);R({...O,employee_locations:fe});const re=await Re.get(`api/business/${e}/employees/${I.id}/`);M(re.data),R({...O,employee_locations:re.data.employee_locations})}catch(fe){console.error("  :",fe),alert("    ")}},ae=async(me,de,fe)=>{try{await Re.post(`api/business/${e}/employees/${I.id}/locations/`,{location_id:me,position:de,permission_ids:fe});const re=await Re.get(`api/business/${e}/employees/${I.id}/`);M(re.data),R({...O,employee_locations:re.data.employee_locations})}catch(re){console.error("  :",re),alert("   ")}},ie=async me=>{if(window.confirm("    ?"))try{await Re.delete(`api/business/${e}/employees/${I.id}/locations/${me}/`),R({...O,employee_locations:O.employee_locations.filter(de=>de.location!==me)})}catch(de){console.error("  :",de),alert("   ")}},ue=async me=>{if(window.confirm("  ?         ."))try{await Re.delete(`api/business/${e}/employees/${me}/delete/`),A()}catch(de){console.error("  :",de),alert("   ")}},he=async me=>{if(window.confirm("  ?"))try{await Re.post(`api/business/${e}/employees/${me}/restore/`),A()}catch(de){console.error("  :",de),alert("   ")}},ge=me=>{const de=`${window.location.origin}/invite/employee/${me.token}/`;navigator.clipboard.writeText(de),alert("    !")},je=(()=>{let me=t;if(ne.trim()){const de=ne.toLowerCase();me=me.filter(fe=>{const re=(fe.name||fe.full_name||"").toLowerCase(),xe=(fe.user_email||"").toLowerCase(),Se=(fe.user_phone||"").toLowerCase();return re.includes(de)||xe.includes(de)||Se.includes(de)})}return te!=="all"&&(me=me.filter(de=>{var fe;return(fe=de.employee_locations)==null?void 0:fe.some(re=>re.location===parseInt(te))})),me})(),Ie=async()=>{q(!0),await A(),setTimeout(()=>q(!1),500)};return d?s.jsxs("div",{className:tn.loading,children:[s.jsx("div",{className:tn.spinner}),s.jsx("p",{children:" ..."})]}):s.jsxs("div",{className:tn.container,children:[s.jsxs("div",{className:tn.header,children:[s.jsxs("h2",{children:[s.jsx(Qf,{}),"  "]}),s.jsxs("div",{className:tn.headerActions,children:[s.jsxs(rs.button,{className:tn.refreshButton,onClick:Ie,disabled:V,whileHover:{scale:1.05},whileTap:{scale:.95},animate:{rotate:V?360:0},transition:{duration:.5,repeat:V?1/0:0,ease:"linear"},children:[s.jsx(sK,{})," "]}),s.jsxs(rs.button,{className:tn.createButton,onClick:()=>b(!0),whileHover:{scale:1.05},whileTap:{scale:.95},children:[s.jsx(Uk,{}),"  "]})]})]}),a.length>0&&s.jsxs("div",{className:tn.section,children:[s.jsxs("h3",{children:[s.jsx(tm,{}),"   (",a.length,")"]}),s.jsx("div",{className:tn.invitesGrid,children:a.map(me=>s.jsxs(rs.div,{className:tn.inviteCard,initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:[s.jsxs("div",{className:tn.inviteHeader,children:[s.jsx("h4",{children:me.employee_name||" "}),s.jsxs("div",{className:tn.inviteActions,children:[s.jsx("button",{className:tn.qrButton,onClick:()=>{N(me),S(!0)},title:" QR-",children:s.jsx(tm,{})}),s.jsx("button",{className:tn.copyButton,onClick:()=>ge(me),title:" ",children:s.jsx(Sd,{})}),s.jsx("button",{className:tn.cancelButton,onClick:()=>K(me.id),title:" ",children:s.jsx(aa,{})})]})]}),s.jsxs("div",{className:tn.inviteDetails,children:[me.position&&s.jsxs("p",{children:[s.jsx(Qf,{})," ",me.position]}),s.jsxs("p",{children:[s.jsx(fm,{})," : ",new Date(me.created_at).toLocaleDateString("ru-RU")]}),s.jsxs("p",{children:[s.jsx(lu,{})," :"," ",new Date(me.expires_at).toLocaleDateString("ru-RU")]}),me.locations_details.length>0&&s.jsxs("div",{className:tn.inviteLocations,children:[s.jsx(dr,{})," :",s.jsx("ul",{children:me.locations_details.map(de=>s.jsx("li",{children:de.name},de.id))})]})]})]},me.id))})]}),s.jsxs("div",{className:tn.section,children:[s.jsxs("div",{className:tn.sectionHeader,children:[s.jsxs("h3",{children:[s.jsx(Qf,{}),"  (",t.filter(me=>!me.is_deleted).length,")",B&&t.filter(me=>me.is_deleted).length>0&&s.jsxs("span",{className:tn.deletedCount,children:["+",t.filter(me=>me.is_deleted).length," "]})]}),s.jsxs(rs.button,{className:tn.toggleDeletedButton,onClick:()=>P(!B),whileHover:{scale:1.05},whileTap:{scale:.95},children:[B?s.jsx(QX,{}):s.jsx(Cu,{}),B?" ":" "]})]}),s.jsxs("div",{className:tn.filtersPanel,children:[s.jsxs("div",{className:tn.searchBox,children:[s.jsx(ri,{className:tn.searchIcon}),s.jsx("input",{type:"text",placeholder:"  , email  ...",value:ne,onChange:me=>X(me.target.value),className:tn.searchInput}),ne&&s.jsx("button",{className:tn.clearSearch,onClick:()=>X(""),children:s.jsx(aa,{})})]}),s.jsxs("div",{className:tn.filterBox,children:[s.jsx(Gm,{className:tn.filterIcon}),s.jsxs("select",{value:te,onChange:me=>se(me.target.value),className:tn.filterSelect,children:[s.jsx("option",{value:"all",children:" "}),i.map(me=>s.jsx("option",{value:me.id,children:me.name},me.id))]})]}),(ne||te!=="all")&&s.jsxs("div",{className:tn.filterResults,children:[": ",s.jsx("strong",{children:je.length}),"  ",t.length]})]}),s.jsx("div",{className:tn.employeesGrid,children:je.length===0?s.jsxs("div",{className:tn.emptyState,children:[s.jsx(Qf,{size:64}),t.length===0?s.jsxs(s.Fragment,{children:[s.jsx("p",{children:"  "}),s.jsx("p",{className:tn.hint,children:' " "    '})]}):s.jsxs(s.Fragment,{children:[s.jsx("p",{children:"    "}),s.jsx("p",{className:tn.hint,children:"   "})]})]}):je.map(me=>s.jsxs(rs.div,{className:`${tn.employeeCard} ${me.is_deleted?tn.deletedCard:""}`,initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:[s.jsxs("div",{className:tn.employeeHeader,children:[s.jsxs("div",{className:tn.employeeInfo,children:[s.jsx("h4",{children:me.name||me.full_name||" "}),me.is_deleted&&s.jsx("span",{className:tn.deletedBadge,children:" "}),!me.is_active&&!me.is_deleted&&s.jsx("span",{className:tn.inactiveBadge,children:""})]}),s.jsx("div",{className:tn.employeeActions,children:me.is_deleted?s.jsx("button",{className:tn.restoreButton,onClick:()=>he(me.id),title:"",children:s.jsx(k3,{})}):s.jsxs(s.Fragment,{children:[s.jsx("button",{className:tn.editButton,onClick:()=>G(me),title:"",children:s.jsx(Yc,{})}),s.jsx("button",{className:tn.deleteButton,onClick:()=>ue(me.id),title:"",children:s.jsx(Cr,{})})]})})]}),s.jsxs("div",{className:tn.employeeDetails,children:[me.user_email&&s.jsxs("p",{children:[" ",me.user_email]}),me.user_phone&&s.jsxs("p",{children:[" ",me.user_phone]}),me.hired_date&&s.jsxs("p",{children:[s.jsx(fm,{})," :"," ",new Date(me.hired_date).toLocaleDateString("ru-RU")]}),me.employee_locations&&me.employee_locations.length>0&&s.jsxs("div",{className:tn.employeeLocations,children:[s.jsx(dr,{})," :",s.jsx("ul",{children:me.employee_locations.map(de=>s.jsxs("li",{children:[de.location_name,de.position&&` (${de.position})`,de.permissions.length>0&&s.jsxs("span",{className:tn.permissionCount,children:[s.jsx(PR,{})," ",de.permissions.length]})]},de.id))})]})]})]},me.id))})]}),s.jsx(Fc,{children:g&&s.jsx(rs.div,{className:tn.modalOverlay,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>b(!1),children:s.jsxs(rs.div,{className:tn.modal,initial:{opacity:0,scale:.8,y:50},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.8,y:50},onClick:me=>me.stopPropagation(),children:[s.jsxs("div",{className:tn.modalHeader,children:[s.jsxs("h3",{children:[s.jsx(Uk,{}),"    "]}),s.jsx("button",{className:tn.closeButton,onClick:()=>b(!1),children:s.jsx(aa,{})})]}),s.jsxs("form",{onSubmit:Y,className:tn.inviteForm,children:[s.jsxs("div",{className:tn.formGroup,children:[s.jsx("label",{children:"   "}),s.jsx("input",{type:"text",value:J.employee_name,onChange:me=>Z({...J,employee_name:me.target.value}),placeholder:" ",required:!0})]}),s.jsxs("div",{className:tn.formGroup,children:[s.jsx("label",{children:""}),s.jsx("input",{type:"text",value:J.position,onChange:me=>Z({...J,position:me.target.value}),placeholder:",   .."})]}),s.jsxs("div",{className:tn.formGroup,children:[s.jsx("label",{children:"  "}),s.jsx("input",{type:"datetime-local",value:J.expires_at,onChange:me=>Z({...J,expires_at:me.target.value}),required:!0}),s.jsx("small",{children:"     "})]}),s.jsxs("div",{className:tn.formGroup,children:[s.jsx("label",{children:" (   )"}),s.jsx("div",{className:tn.checkboxGroup,children:i.map(me=>s.jsxs("label",{className:tn.checkboxLabel,children:[s.jsx("input",{type:"checkbox",checked:J.location_ids.includes(me.id),onChange:de=>{de.target.checked?Z({...J,location_ids:[...J.location_ids,me.id]}):Z({...J,location_ids:J.location_ids.filter(fe=>fe!==me.id)})}}),s.jsx("span",{children:me.name})]},me.id))})]}),s.jsxs("div",{className:tn.formGroup,children:[s.jsx("label",{children:" "}),s.jsx("div",{className:tn.permissionsGroup,children:c.map(me=>s.jsxs("label",{className:tn.permissionLabel,children:[s.jsx("input",{type:"checkbox",checked:J.permission_ids.includes(me.id),onChange:de=>{de.target.checked?Z({...J,permission_ids:[...J.permission_ids,me.id]}):Z({...J,permission_ids:J.permission_ids.filter(fe=>fe!==me.id)})}}),s.jsxs("div",{className:tn.permissionInfo,children:[s.jsx("span",{className:tn.permissionCode,children:me.code}),me.description&&s.jsx("span",{className:tn.permissionDesc,children:me.description})]})]},me.id))})]}),s.jsxs("div",{className:tn.formGroup,children:[s.jsx("label",{children:" ()"}),s.jsx("textarea",{value:J.notes,onChange:me=>Z({...J,notes:me.target.value}),rows:3,placeholder:" ..."})]}),s.jsxs("div",{className:tn.modalFooter,children:[s.jsx("button",{type:"button",className:tn.cancelBtn,onClick:()=>b(!1),children:""}),s.jsxs("button",{type:"submit",className:tn.submitBtn,children:[s.jsx(qr,{}),"  "]})]})]})]})})}),s.jsx(Fc,{children:w&&j&&s.jsx(rs.div,{className:tn.modalOverlay,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>S(!1),children:s.jsxs(rs.div,{className:tn.qrModal,initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},onClick:me=>me.stopPropagation(),children:[s.jsxs("div",{className:tn.modalHeader,children:[s.jsxs("h3",{children:[s.jsx(tm,{}),"   ",j.employee_name]}),s.jsx("button",{className:tn.closeButton,onClick:()=>S(!1),children:s.jsx(aa,{})})]}),s.jsxs("div",{className:tn.qrContent,children:[s.jsx("div",{className:tn.qrCode,children:s.jsx(_m,{value:`${window.location.origin}/invite/employee/${j.token}/`,size:256,level:"H",includeMargin:!0})}),s.jsx("p",{className:tn.qrInstruction,children:" QR-    "}),s.jsxs("div",{className:tn.linkBox,children:[s.jsx("input",{type:"text",value:`${window.location.origin}/invite/employee/${j.token}/`,readOnly:!0,className:tn.linkInput}),s.jsxs("button",{className:tn.copyLinkButton,onClick:()=>ge(j),children:[s.jsx(Sd,{})," "]})]}),s.jsxs("p",{className:tn.qrExpiry,children:["  :"," ",new Date(j.expires_at).toLocaleDateString("ru-RU")]})]})]})})}),s.jsx(Fc,{children:I&&s.jsx(rs.div,{className:tn.modalOverlay,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>{M(null),U("info")},children:s.jsxs(rs.div,{className:`${tn.modal} ${tn.largeModal}`,initial:{opacity:0,scale:.8,y:50},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.8,y:50},onClick:me=>me.stopPropagation(),children:[s.jsxs("div",{className:tn.modalHeader,children:[s.jsxs("h3",{children:[s.jsx(Yc,{}),"  : ",I.name||I.full_name]}),s.jsx("button",{className:tn.closeButton,onClick:()=>{M(null),U("info")},children:s.jsx(aa,{})})]}),s.jsxs("div",{className:tn.editTabs,children:[s.jsxs("button",{className:`${tn.editTab} ${$==="info"?tn.activeEditTab:""}`,onClick:()=>U("info"),type:"button",children:[s.jsx(ec,{}),"  "]}),s.jsxs("button",{className:`${tn.editTab} ${$==="locations"?tn.activeEditTab:""}`,onClick:()=>U("locations"),type:"button",children:[s.jsx(dr,{}),"  (",O.employee_locations.length,")"]})]}),$==="info"&&s.jsxs("form",{onSubmit:oe,className:tn.inviteForm,children:[s.jsxs("div",{className:tn.formGroup,children:[s.jsx("label",{children:"  "}),s.jsx("input",{type:"text",value:O.name,onChange:me=>R({...O,name:me.target.value}),required:!0})]}),s.jsx("div",{className:tn.formGroup,children:s.jsxs("label",{className:tn.checkboxLabel,children:[s.jsx("input",{type:"checkbox",checked:O.is_active,onChange:me=>R({...O,is_active:me.target.checked})}),s.jsx("span",{children:""})]})}),s.jsxs("div",{className:tn.formGroup,children:[s.jsx("label",{children:""}),s.jsx("textarea",{value:O.notes,onChange:me=>R({...O,notes:me.target.value}),rows:3})]}),s.jsxs("div",{className:tn.modalFooter,children:[s.jsx("button",{type:"button",className:tn.cancelBtn,onClick:()=>{M(null),U("info")},children:""}),s.jsxs("button",{type:"submit",className:tn.submitBtn,children:[s.jsx(qr,{})," "]})]})]}),$==="locations"&&s.jsxs("div",{className:tn.inviteForm,children:[s.jsxs("div",{className:tn.locationsManager,children:[O.employee_locations.map(me=>{var de;return s.jsxs("div",{className:tn.locationBlock,children:[s.jsxs("div",{className:tn.locationBlockHeader,children:[s.jsxs("h4",{children:[s.jsx(dr,{})," ",me.location_name]}),s.jsx("button",{className:tn.removeLocationBtn,onClick:()=>ie(me.location),type:"button",children:s.jsx(Cr,{})})]}),s.jsxs("div",{className:tn.formGroup,children:[s.jsx("label",{children:""}),s.jsx("input",{type:"text",value:me.position||"",onChange:fe=>{ee(me.id,{position:fe.target.value})},placeholder:", ..."})]}),s.jsxs("div",{className:tn.formGroup,children:[s.jsxs("label",{children:["  (",((de=me.permissions)==null?void 0:de.length)||0,")"]}),s.jsx("div",{className:tn.permissionsGroup,children:c.map(fe=>{var xe;const re=(xe=me.permissions)==null?void 0:xe.some(Se=>Se.permission.id===fe.id);return s.jsxs("label",{className:tn.permissionLabel,children:[s.jsx("input",{type:"checkbox",checked:re,onChange:Se=>{var Le;const pe=((Le=me.permissions)==null?void 0:Le.map(Ue=>Ue.permission.id))||[],Ee=Se.target.checked?[...pe,fe.id]:pe.filter(Ue=>Ue!==fe.id);ee(me.id,{permission_ids:Ee})}}),s.jsxs("div",{className:tn.permissionInfo,children:[s.jsx("span",{className:tn.permissionCode,children:fe.code}),fe.description&&s.jsx("span",{className:tn.permissionDesc,children:fe.description})]})]},fe.id)})})]})]},me.id)}),s.jsxs("div",{className:tn.addLocationBlock,children:[s.jsxs("h4",{children:[s.jsx(dr,{}),"   "]}),s.jsxs("div",{className:tn.formGroup,children:[s.jsx("label",{children:" "}),s.jsxs("select",{value:F.location_id,onChange:me=>H({...F,location_id:me.target.value}),children:[s.jsx("option",{value:"",children:" "}),i.filter(me=>!O.employee_locations.some(de=>de.location===me.id)).map(me=>s.jsx("option",{value:me.id,children:me.name},me.id))]})]}),s.jsxs("div",{className:tn.formGroup,children:[s.jsx("label",{children:""}),s.jsx("input",{type:"text",value:F.position,onChange:me=>H({...F,position:me.target.value}),placeholder:", ..."})]}),s.jsxs("div",{className:tn.formGroup,children:[s.jsx("label",{children:" "}),s.jsx("div",{className:tn.permissionsGroup,children:c.map(me=>s.jsxs("label",{className:tn.permissionLabel,children:[s.jsx("input",{type:"checkbox",checked:F.permission_ids.includes(me.id),onChange:de=>{de.target.checked?H({...F,permission_ids:[...F.permission_ids,me.id]}):H({...F,permission_ids:F.permission_ids.filter(fe=>fe!==me.id)})}}),s.jsxs("div",{className:tn.permissionInfo,children:[s.jsx("span",{className:tn.permissionCode,children:me.code}),me.description&&s.jsx("span",{className:tn.permissionDesc,children:me.description})]})]},me.id))})]}),s.jsxs("button",{type:"button",className:tn.addLocationButton,onClick:()=>{F.location_id&&(ae(parseInt(F.location_id),F.position,F.permission_ids),H({location_id:"",position:"",permission_ids:[]}))},disabled:!F.location_id,children:[s.jsx(qr,{}),"  "]})]})]}),s.jsx("div",{className:tn.modalFooter,children:s.jsx("button",{type:"button",className:tn.cancelBtn,onClick:()=>{M(null),U("info")},children:""})})]})]})})})]})},JWe="_container_9jyou_30",eYe="_header_9jyou_38",tYe="_locationSelector_9jyou_74",nYe="_error_9jyou_117",sYe="_loading_9jyou_128",aYe="_settingsForm_9jyou_135",rYe="_section_9jyou_145",iYe="_settingRow_9jyou_151",oYe="_toggle_9jyou_231",cYe="_active_9jyou_253",lYe="_hint_9jyou_264",uYe="_actions_9jyou_282",dYe="_saveButton_9jyou_288",hYe="_tiersSection_9jyou_316",fYe="_sectionHeader_9jyou_325",mYe="_addButton_9jyou_356",pYe="_tiersList_9jyou_378",gYe="_tierCard_9jyou_384",_Ye="_tierInfo_9jyou_419",vYe="_tierDetails_9jyou_426",xYe="_badge_9jyou_434",bYe="_tierActions_9jyou_447",yYe="_editButton_9jyou_452",wYe="_deleteButton_9jyou_453",CYe="_modalOverlay_9jyou_491",SYe="_modal_9jyou_491",jYe="_formGroup_9jyou_529",NYe="_modalActions_9jyou_581",EYe="_cancelButton_9jyou_590",Us={container:JWe,header:eYe,locationSelector:tYe,error:nYe,loading:sYe,settingsForm:aYe,section:rYe,settingRow:iYe,toggle:oYe,active:cYe,hint:lYe,actions:uYe,saveButton:dYe,tiersSection:hYe,sectionHeader:fYe,addButton:mYe,tiersList:pYe,tierCard:gYe,tierInfo:_Ye,tierDetails:vYe,badge:xYe,tierActions:bYe,editButton:yYe,deleteButton:wYe,modalOverlay:CYe,modal:SYe,formGroup:jYe,modalActions:NYe,cancelButton:EYe},XL=()=>{const{business_slug:e}=fa(),[t,n]=v.useState(null),[a,r]=v.useState("all"),[i,o]=v.useState([]),[c,l]=v.useState(!0),[d,f]=v.useState(!1),[g,b]=v.useState(null),[w,S]=v.useState([]),[j,N]=v.useState(!1),[I,M]=v.useState(null);v.useEffect(()=>{B()},[e,a]);const B=async()=>{var $,U;try{l(!0);const[F,H]=await Promise.all([Re.get(`api/business/${e}/locations/`),Re.get(`api/business/${e}/user-tiers/`)]);o(F.data),S(H.data);const ne=a==="all"?"":`?location=${a}`,X=await Re.get(`api/business/${e}/bonus-settings/${ne}`),{bonus_scope:te,...se}=X.data;n(se)}catch(F){console.error(" :",F),b(((U=($=F.response)==null?void 0:$.data)==null?void 0:U.error)||"  ")}finally{l(!1)}},P=async()=>{var $,U;if(!(a==="all"&&!window.confirm(` ,     ?

           .

           .`)))try{f(!0),b(null);const{bonus_scope:F,...H}=t,ne={...H,location:a==="all"?null:parseInt(a)};let X;t!=null&&t.id?X=await Re.patch(`api/business/${e}/bonus-settings/`,ne):X=await Re.post(`api/business/${e}/bonus-settings/`,ne),n(X.data),alert(" !")}catch(F){console.error(" :",F),b(((U=($=F.response)==null?void 0:$.data)==null?void 0:U.error)||" ")}finally{f(!1)}},O=async $=>{try{I?await Re.patch(`api/business/${e}/user-tiers/`,{...$,id:I.id}):await Re.post(`api/business/${e}/user-tiers/`,$),await B(),N(!1),M(null)}catch(U){console.error("  :",U),alert("  ")}},R=async $=>{if(window.confirm("  ?"))try{await Re.delete(`api/business/${e}/user-tiers/`,{data:{id:$}}),await B()}catch(U){console.error("  :",U),alert("  ")}};return c?s.jsx("div",{className:Us.loading,children:"..."}):t?s.jsxs("div",{className:Us.container,children:[s.jsxs("div",{className:Us.header,children:[s.jsxs("h2",{children:[s.jsx(hi,{}),"   "]}),s.jsxs("div",{className:Us.locationSelector,children:[s.jsx("label",{children:":"}),s.jsxs("select",{value:a,onChange:$=>r($.target.value),children:[s.jsx("option",{value:"all",children:"  ()"}),i.map($=>s.jsx("option",{value:$.id,children:$.name},$.id))]})]})]}),g&&s.jsx("div",{className:Us.error,children:g}),s.jsxs("div",{className:Us.settingsForm,children:[s.jsxs("div",{className:Us.section,children:[s.jsxs("div",{className:Us.settingRow,children:[s.jsxs("label",{children:[s.jsx(Ef,{}),"   "]}),s.jsxs("button",{className:`${Us.toggle} ${t.is_enabled?Us.active:""}`,onClick:()=>n({...t,is_enabled:!t.is_enabled}),children:[t.is_enabled?s.jsx(Ef,{}):s.jsx(zw,{}),t.is_enabled?"":""]})]}),s.jsxs("div",{className:Us.settingRow,children:[s.jsxs("label",{children:[s.jsx(ej,{}),"    (%)"]}),s.jsx("input",{type:"number",step:"0.01",min:"0",max:"100",value:t.bonus_percent||"",onChange:$=>n({...t,bonus_percent:$.target.value})})]}),s.jsxs("div",{className:Us.settingRow,children:[s.jsxs("label",{children:[s.jsx(Ef,{}),"  "]}),s.jsxs("button",{className:`${Us.toggle} ${t.is_fixed_percent?Us.active:""}`,onClick:()=>n({...t,is_fixed_percent:!t.is_fixed_percent}),children:[t.is_fixed_percent?s.jsx(Ef,{}):s.jsx(zw,{}),t.is_fixed_percent?"":""]}),s.jsxs("span",{className:Us.hint,children:[s.jsx(ni,{}),"  ,       "]})]}),s.jsxs("div",{className:Us.settingRow,children:[s.jsxs("label",{children:[s.jsx(ZS,{}),"     "]}),s.jsx("input",{type:"number",step:"0.01",min:"0",value:t.min_purchase_amount||"",onChange:$=>n({...t,min_purchase_amount:$.target.value})})]}),s.jsxs("div",{className:Us.settingRow,children:[s.jsxs("label",{children:[s.jsx(ej,{}),"      (%)"]}),s.jsx("input",{type:"number",step:"0.01",min:"0",max:"100",value:t.max_bonus_percent||"",onChange:$=>n({...t,max_bonus_percent:$.target.value||null}),placeholder:" "})]}),s.jsxs("div",{className:Us.settingRow,children:[s.jsxs("label",{children:[s.jsx(ZS,{}),"     "]}),s.jsx("input",{type:"number",step:"0.01",min:"0",value:t.max_bonus_amount||"",onChange:$=>n({...t,max_bonus_amount:$.target.value||null}),placeholder:" "})]}),s.jsxs("div",{className:Us.settingRow,children:[s.jsxs("label",{children:[s.jsx(Oo,{}),"    ()"]}),s.jsx("input",{type:"number",min:"1",value:t.bonus_expiry_days||"",onChange:$=>n({...t,bonus_expiry_days:parseInt($.target.value)})})]}),s.jsxs("div",{className:Us.settingRow,children:[s.jsxs("label",{children:[s.jsx(Ef,{}),"   "]}),s.jsxs("button",{className:`${Us.toggle} ${t.auto_upgrade_enabled?Us.active:""}`,onClick:()=>n({...t,auto_upgrade_enabled:!t.auto_upgrade_enabled}),children:[t.auto_upgrade_enabled?s.jsx(Ef,{}):s.jsx(zw,{}),t.auto_upgrade_enabled?"":""]})]})]}),s.jsx("div",{className:Us.actions,children:s.jsxs("button",{className:Us.saveButton,onClick:P,disabled:d,children:[s.jsx(Jo,{})," ",d?"...":" "]})})]}),s.jsxs("div",{className:Us.tiersSection,children:[s.jsxs("div",{className:Us.sectionHeader,children:[s.jsx("h3",{children:" "}),s.jsxs("button",{className:Us.addButton,onClick:()=>{M(null),N(!0)},children:[s.jsx($a,{}),"  "]})]}),s.jsx("div",{className:Us.tiersList,children:w.map($=>s.jsxs("div",{className:Us.tierCard,children:[s.jsxs("div",{className:Us.tierInfo,children:[s.jsx("h4",{children:$.name}),s.jsxs("div",{className:Us.tierDetails,children:[s.jsxs("span",{children:[": ",$.bonus_percent,"%"]}),s.jsxs("span",{children:[" : ",$.min_purchases_for_upgrade," "]}),$.is_default&&s.jsx("span",{className:Us.badge,children:" "})]})]}),s.jsxs("div",{className:Us.tierActions,children:[s.jsx("button",{className:Us.editButton,onClick:()=>{M($),N(!0)},children:s.jsx(Yc,{})}),s.jsx("button",{className:Us.deleteButton,onClick:()=>R($.id),children:s.jsx(Oh,{})})]})]},$.id))})]}),j&&s.jsx(kYe,{tier:I,onSave:O,onClose:()=>{N(!1),M(null)}})]}):s.jsx("div",{className:Us.error,children:"   "})},kYe=({tier:e,onSave:t,onClose:n})=>{const[a,r]=v.useState({tier_code:(e==null?void 0:e.tier_code)||"novice",name:(e==null?void 0:e.name)||"",bonus_percent:(e==null?void 0:e.bonus_percent)||"5.00",min_purchases_for_upgrade:(e==null?void 0:e.min_purchases_for_upgrade)||0,is_default:(e==null?void 0:e.is_default)||!1,order:(e==null?void 0:e.order)||0}),i=o=>{o.preventDefault(),t(a)};return s.jsx("div",{className:Us.modalOverlay,onClick:n,children:s.jsxs("div",{className:Us.modal,onClick:o=>o.stopPropagation(),children:[s.jsx("h3",{children:e?" ":" "}),s.jsxs("form",{onSubmit:i,children:[s.jsxs("div",{className:Us.formGroup,children:[s.jsx("label",{children:" :"}),s.jsxs("select",{value:a.tier_code,onChange:o=>r({...a,tier_code:o.target.value}),children:[s.jsx("option",{value:"novice",children:""}),s.jsx("option",{value:"regular",children:""}),s.jsx("option",{value:"vip",children:"VIP"})]})]}),s.jsxs("div",{className:Us.formGroup,children:[s.jsx("label",{children:":"}),s.jsx("input",{type:"text",value:a.name,onChange:o=>r({...a,name:o.target.value}),required:!0})]}),s.jsxs("div",{className:Us.formGroup,children:[s.jsx("label",{children:" :"}),s.jsx("input",{type:"number",step:"0.01",min:"0",max:"100",value:a.bonus_percent,onChange:o=>r({...a,bonus_percent:o.target.value}),required:!0})]}),s.jsxs("div",{className:Us.formGroup,children:[s.jsx("label",{children:"   :"}),s.jsx("input",{type:"number",min:"0",value:a.min_purchases_for_upgrade,onChange:o=>r({...a,min_purchases_for_upgrade:parseInt(o.target.value)})})]}),s.jsx("div",{className:Us.formGroup,children:s.jsxs("label",{children:[s.jsx("input",{type:"checkbox",checked:a.is_default,onChange:o=>r({...a,is_default:o.target.checked})}),"  "]})}),s.jsxs("div",{className:Us.formGroup,children:[s.jsx("label",{children:" :"}),s.jsx("input",{type:"number",min:"0",value:a.order,onChange:o=>r({...a,order:parseInt(o.target.value)})})]}),s.jsxs("div",{className:Us.modalActions,children:[s.jsxs("button",{type:"submit",className:Us.saveButton,children:[s.jsx(Jo,{})," "]}),s.jsx("button",{type:"button",onClick:n,className:Us.cancelButton,children:""})]})]})]})})},IYe=()=>{const{business_slug:e}=fa(),[t,n]=v.useState("general"),[a,r]=v.useState({name:"",description:"",phone:"",address:"",business_logo:null,receipt_html_template:"",receipt_css_template:""}),[i,o]=v.useState([]),[c,l]=v.useState([]),[d,f]=v.useState([]),[g,b]=v.useState([]),[w,S]=v.useState(""),[j,N]=v.useState(!0),[I,M]=v.useState(null),[B,P]=v.useState(!1),[O,R]=v.useState(!1),[$,U]=v.useState(null),[F,H]=v.useState({name:"",address:"",location_type:"",city:"",contact_phone:"",is_active:!0,description:"",opening_hours:{}}),[ne,X]=v.useState(!1),[te,se]=v.useState({barcodePrinter:"",receiptPrinter:"",availablePrinters:[]}),[V,q]=v.useState(!1),[T,J]=v.useState(null);v.useEffect(()=>{t==="printers"&&(async()=>{const ae=[" 1"," 2"," 3"],ie=JSON.parse(localStorage.getItem(`${e}_printerSettings`)||"{}");se({availablePrinters:ae,barcodePrinter:ie.barcodePrinter||"",receiptPrinter:ie.receiptPrinter||""})})()},[t,e]),v.useEffect(()=>{(async()=>{try{N(!0);const[ae,ie,ue,he]=await Promise.all([Re.get(`api/business/${e}/settings/`),Re.get(`api/business/${e}/locations/`),Re.get("api/location-types/"),Re.get("api/countries/")]);r(ae.data),ae.data.business_logo?J(ae.data.business_logo):J(null),o(ie.data),l(ue.data),f(he.data),N(!1)}catch(ae){M(ae.message),N(!1)}})()},[e]),v.useEffect(()=>{(async()=>{if(w)try{const ae=await Re.get(`api/cities/?country=${w}`);b(ae.data)}catch(ae){console.error("  :",ae),b([])}else b([])})()},[w]);const Z=async()=>{var ee;try{const ae=await Re.patch(`api/business/${e}/settings/`,a);r(ae.data),P(!1)}catch(ae){M(((ee=ae.response)==null?void 0:ee.data)||ae.message)}},A=async ee=>{var ie,ue;const ae=ee.target.files[0];if(ae){if(!ae.type.startsWith("image/")){M("   ");return}if(ae.size>5*1024*1024){M("     5MB");return}try{q(!0),M(null);const he=new FileReader;he.onloadend=()=>{J(he.result)},he.readAsDataURL(ae);const ge=new FormData;ge.append("logo",ae);const ye=await Re.post(`api/business/${e}/upload-logo/`,ge,{headers:{"Content-Type":"multipart/form-data"}}),je=await Re.get(`api/business/${e}/settings/`);r(je.data),J(ye.data.logo_url||je.data.business_logo),alert("  !")}catch(he){console.error("  :",he),M(((ue=(ie=he.response)==null?void 0:ie.data)==null?void 0:ue.detail)||"   "),J(null)}finally{q(!1)}}},Y=async()=>{var ee;try{if($){const ae=await Re.patch(`api/business/${e}/locations/${$.id}/`,F);o(i.map(ie=>ie.id===$.id?ae.data:ie))}else{const ae=await Re.post(`api/business/${e}/locations/`,F);o([...i,ae.data])}R(!1),U(null),S(""),b([]),H({name:"",address:"",location_type:"",city:"",contact_phone:"",is_active:!0,description:"",opening_hours:{}})}catch(ae){M(((ee=ae.response)==null?void 0:ee.data)||ae.message)}},K=async ee=>{var ae;try{await Re.delete(`api/business/${e}/locations/${ee}/`),o(i.filter(ie=>ie.id!==ee))}catch(ie){M(((ae=ie.response)==null?void 0:ae.data)||ie.message)}},G=async ee=>{var ae;if(U(ee),ee.city_detail){const ie=(ae=ee.city_detail.country_detail)==null?void 0:ae.id;if(ie){S(ie);try{const ue=await Re.get(`api/cities/?country=${ie}`);b(ue.data)}catch(ue){console.error("  :",ue)}}}H({name:ee.name,address:ee.address,location_type:ee.location_type,city:ee.city||"",contact_phone:ee.contact_phone,is_active:ee.is_active,description:ee.description,opening_hours:ee.opening_hours||{}}),R(!0)},oe=()=>a.receipt_html_template.replace(/{{ business\.name }}/g,a.name||" ").replace(/{{ business\.address }}/g,a.address||" ").replace(/{{ receipt\.number }}/g,"000001").replace(/{{ receipt\.created_at\.strftime\("%d\.%m\.%Y %H:%M"\) }}/g,new Date().toLocaleString("ru-RU")).replace(/{{ cashier or "" }}/g," ").replace(/{% for sale in sales %}([\s\S]*?){% endfor %}/g,(ae,ie)=>[{variant:{name:" 1"},quantity:2,price_per_unit:1500,total_price:3e3},{variant:{name:" 2   "},quantity:1,price_per_unit:4500,total_price:4500}].map(he=>ie.replace(/{{ sale\.variant\.name\|truncate\(18,true\) }}/g,he.variant.name.substring(0,18)).replace(/{{ sale\.quantity }}/g,he.quantity).replace(/{{ "%.2f"\|format\(sale\.price_per_unit\) }}/g,he.price_per_unit.toFixed(2)).replace(/{{ "%.2f"\|format\(sale\.total_price\) }}/g,he.total_price.toFixed(2))).join("")).replace(/{{ "%.2f"\|format\(receipt\.total_amount\) }}/g,"7500.00").replace(/{{ receipt\.discount_percent }}/g,"10").replace(/{{ receipt\.discount_amount }}/g,"750").replace(/{{ now\.strftime\("%d\.%m\.%Y %H:%M:%S"\) }}/g,new Date().toLocaleString("ru-RU"));return j?s.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh"},children:s.jsx(Wn,{size:"large"})}):I?s.jsxs(rs.div,{className:nn.errorContainer,initial:{opacity:0},animate:{opacity:1},children:[s.jsx(ni,{className:nn.errorIcon}),s.jsx("span",{children:I})]}):s.jsxs("div",{className:nn.contentWrapper,children:[s.jsxs("div",{className:nn.accountContainer,children:[s.jsx("div",{className:nn.accountSidebar,children:s.jsxs("div",{className:nn.accountMenu,children:[s.jsxs("button",{className:`${nn.menuButton} ${t==="general"?nn.active:""}`,onClick:()=>n("general"),children:[s.jsx(mm,{})," "]}),s.jsxs("button",{className:`${nn.menuButton} ${t==="locations"?nn.active:""}`,onClick:()=>n("locations"),children:[s.jsx(dr,{}),"   "]}),s.jsxs("button",{className:`${nn.menuButton} ${t==="receipts"?nn.active:""}`,onClick:()=>n("receipts"),children:[s.jsx(Do,{}),"  "]}),s.jsxs("button",{className:`${nn.menuButton} ${t==="printers"?nn.active:""}`,onClick:()=>n("printers"),children:[s.jsx(Z1,{})," "]}),s.jsxs("button",{className:`${nn.menuButton} ${t==="employees"?nn.active:""}`,onClick:()=>n("employees"),children:[s.jsx(Z1,{})," "]}),s.jsxs("button",{className:`${nn.menuButton} ${t==="bonus"?nn.active:""}`,onClick:()=>n("bonus"),children:[s.jsx(K1,{})," "]}),s.jsxs("button",{className:`${nn.menuButton} ${t==="products"?nn.active:""}`,onClick:()=>n("products"),children:[s.jsx(K1,{})," "]}),s.jsxs("button",{className:`${nn.menuButton} ${t==="photos"?nn.active:""}`,onClick:()=>n("photos"),children:[s.jsx(gl,{})," "]})]})}),s.jsx("div",{className:nn.accountContent,children:s.jsxs(rs.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},children:[t==="general"&&s.jsxs(rs.div,{className:nn.settingsTab,initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4},children:[s.jsxs("h1",{children:[s.jsx(Cc,{}),"  "]}),s.jsxs("div",{className:nn.businessInfo,children:[s.jsxs("div",{className:nn.sectionHeader,children:[s.jsx("h2",{children:"  "}),B?s.jsxs("div",{className:nn.actions,children:[s.jsxs("button",{className:nn.saveButton,onClick:Z,children:[s.jsx(Jo,{})," "]}),s.jsx("button",{className:nn.cancelButton,onClick:()=>P(!1),children:""})]}):s.jsxs("button",{className:nn.editButton,onClick:()=>P(!0),children:[s.jsx(Yc,{})," "]})]}),B?s.jsxs(rs.div,{className:nn.settingsGrid,initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.3},children:[s.jsxs("div",{className:nn.formGroup,children:[s.jsx("label",{children:" "}),s.jsx("input",{type:"text",value:a.name,onChange:ee=>r({...a,name:ee.target.value}),className:nn.editField})]}),s.jsxs("div",{className:nn.formGroup,children:[s.jsx("label",{children:""}),s.jsx("textarea",{value:a.description,onChange:ee=>r({...a,description:ee.target.value}),className:nn.editField})]}),s.jsxs("div",{className:nn.formGroup,children:[s.jsx("label",{children:""}),s.jsx("input",{type:"text",value:a.phone,onChange:ee=>r({...a,phone:ee.target.value}),className:nn.editField})]}),s.jsxs("div",{className:nn.formGroup,children:[s.jsx("label",{children:""}),s.jsx("input",{type:"text",value:a.address,onChange:ee=>r({...a,address:ee.target.value}),className:nn.editField})]}),s.jsxs("div",{className:nn.formGroup,children:[s.jsx("label",{children:""}),s.jsxs("div",{className:nn.fileInput,children:[s.jsx("input",{type:"file",id:"logo-upload",onChange:ee=>{}}),s.jsxs("label",{htmlFor:"logo-upload",className:nn.fileLabel,children:[s.jsx(gl,{}),"  "]})]})]})]}):s.jsxs(rs.div,{className:nn.settingsGrid,initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.3},children:[s.jsxs("div",{className:nn.settingsItem,children:[s.jsx("div",{className:nn.settingsIcon,children:s.jsx(Cc,{})}),s.jsxs("div",{children:[s.jsx("h3",{children:""}),s.jsx("p",{children:a.name})]})]}),s.jsxs("div",{className:nn.settingsItem,children:[s.jsx("div",{className:nn.settingsIcon,children:s.jsx(ni,{})}),s.jsxs("div",{children:[s.jsx("h3",{children:""}),s.jsx("p",{children:a.description||" "})]})]}),s.jsxs("div",{className:nn.settingsItem,children:[s.jsx("div",{className:nn.settingsIcon,children:s.jsx(Rh,{})}),s.jsxs("div",{children:[s.jsx("h3",{children:""}),s.jsx("p",{children:a.phone||" "})]})]}),s.jsxs("div",{className:nn.settingsItem,children:[s.jsx("div",{className:nn.settingsIcon,children:s.jsx(dr,{})}),s.jsxs("div",{children:[s.jsx("h3",{children:""}),s.jsx("p",{children:a.address||" "})]})]})]})]})]}),t==="locations"&&s.jsxs(rs.div,{className:nn.settingsTab,initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4},children:[s.jsxs("h1",{children:[s.jsx(dr,{}),"   "]}),s.jsxs("div",{className:nn.sectionHeader,children:[s.jsx("h2",{children:" "}),s.jsxs("button",{className:nn.addButton,onClick:()=>R(!0),children:[s.jsx($a,{}),"  "]})]}),s.jsx("div",{className:nn.listContainer,children:i.length===0?s.jsx(rs.div,{className:nn.emptyMessage,initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4},children:"    "}):i.map((ee,ae)=>{var ie;return s.jsxs(rs.div,{className:nn.listItem,initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.4,delay:ae*.1},whileHover:{scale:1.02},children:[s.jsxs("div",{className:nn.itemInfo,children:[s.jsxs("h4",{children:[ee.name,ee.is_active&&s.jsx("span",{className:nn.activeBadge,children:""}),ee.is_primary&&s.jsx("span",{className:nn.defaultBadge,children:""})]}),s.jsxs("p",{children:[s.jsx(dr,{})," ",ee.address]}),s.jsxs("p",{children:[((ie=c.find(ue=>ue.id===ee.location_type))==null?void 0:ie.name)||" "," ",ee.contact_phone&&`  ${ee.contact_phone}`]})]}),s.jsxs("div",{className:nn.itemActions,children:[s.jsx("button",{className:nn.editButton,onClick:()=>G(ee),children:s.jsx(Yc,{})}),s.jsx("button",{className:nn.deleteButton,onClick:()=>K(ee.id),disabled:ee.is_primary,children:s.jsx(Oh,{})})]})]},ee.id)})})]}),t==="receipts"&&s.jsxs(rs.div,{className:nn.settingsTab,initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4},children:[s.jsxs("h1",{children:[s.jsx(Do,{}),"  "]}),s.jsxs("div",{className:nn.sectionHeader,children:[s.jsx("h2",{children:"  "}),s.jsxs("div",{className:nn.actions,children:[s.jsxs("button",{className:nn.previewButton,onClick:()=>X(!ne),children:[ne?s.jsx(RR,{}):s.jsx(Cu,{}),ne?"":""]}),s.jsxs("button",{className:nn.saveButton,onClick:Z,children:[s.jsx(Jo,{})," "]})]})]}),ne?s.jsx("div",{className:nn.receiptPreviewContainer,children:s.jsx("iframe",{title:"receipt-preview",srcDoc:oe(),className:nn.receiptPreview})}):s.jsxs("div",{className:nn.templateEditor,children:[s.jsxs("div",{className:nn.formGroup,children:[s.jsx("label",{children:"HTML  "}),s.jsx("textarea",{value:a.receipt_html_template,onChange:ee=>r({...a,receipt_html_template:ee.target.value}),className:nn.codeEditor,spellCheck:"false",rows:20})]}),s.jsxs("div",{className:nn.formGroup,children:[s.jsx("label",{children:"CSS   ()"}),s.jsx("textarea",{value:a.receipt_css_template,onChange:ee=>r({...a,receipt_css_template:ee.target.value}),className:nn.codeEditor,spellCheck:"false",rows:10})]})]}),s.jsxs("div",{className:nn.templateVariables,children:[s.jsx("h3",{children:" :"}),s.jsxs("div",{className:nn.variablesGrid,children:[s.jsxs("div",{children:[s.jsx("h4",{children:"  :"}),s.jsxs("ul",{children:[s.jsxs("li",{children:[s.jsx("code",{children:"{{ business.name }}"})," -  "]}),s.jsxs("li",{children:[s.jsx("code",{children:"{{ business.address }}"})," -  "]})]})]}),s.jsxs("div",{children:[s.jsx("h4",{children:"  :"}),s.jsxs("ul",{children:[s.jsxs("li",{children:[s.jsx("code",{children:"{{ receipt.number }}"})," -  "]}),s.jsxs("li",{children:[s.jsx("code",{children:'{{ receipt.created_at.strftime("%d.%m.%Y %H:%M") }}'})," -   "]}),s.jsxs("li",{children:[s.jsx("code",{children:"{{ receipt.total_amount }}"})," -  "]})]})]}),s.jsxs("div",{children:[s.jsx("h4",{children:":"}),s.jsxs("ul",{children:[s.jsxs("li",{children:[s.jsx("code",{children:"{% for sale in sales %}"})," -   "]}),s.jsxs("li",{children:[s.jsx("code",{children:"{{ sale.variant.name }}"})," -  "]}),s.jsxs("li",{children:[s.jsx("code",{children:"{{ sale.quantity }}"})," - "]}),s.jsxs("li",{children:[s.jsx("code",{children:"{{ sale.price_per_unit }}"})," -   "]}),s.jsxs("li",{children:[s.jsx("code",{children:"{{ sale.total_price }}"})," -  "]})]})]})]})]})]}),t==="printers"&&s.jsxs(rs.div,{className:nn.settingsTab,initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4},children:[s.jsxs("h1",{children:[s.jsx(Z1,{}),"  "]}),s.jsxs("div",{className:nn.infoAlert,children:[s.jsx(ni,{}),"   "]})]}),t==="employees"&&s.jsx(rs.div,{className:nn.settingsTab,initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4},children:s.jsx(QL,{businessSlug:e})}),t==="bonus"&&s.jsx(rs.div,{className:nn.settingsTab,initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4},children:s.jsx(XL,{})}),t==="photos"&&s.jsxs(rs.div,{className:nn.settingsTab,initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4},children:[s.jsxs("h1",{children:[s.jsx(gl,{}),"  "]}),s.jsxs("div",{className:nn.photoSection,children:[s.jsx("div",{className:nn.sectionHeader,children:s.jsxs("div",{children:[s.jsx("h2",{children:" "}),s.jsx("p",{children:"   .       WebP."})]})}),s.jsxs("div",{className:nn.logoUploadContainer,children:[s.jsx("div",{className:nn.logoPreview,children:T?s.jsx("img",{src:T,alt:" ",className:nn.logoImage}):s.jsxs("div",{className:nn.logoPlaceholder,children:[s.jsx(gl,{}),s.jsx("p",{children:"  "})]})}),s.jsxs("div",{className:nn.uploadControls,children:[s.jsx("label",{htmlFor:"logo-upload",className:nn.uploadButton,children:V?s.jsxs(s.Fragment,{children:[s.jsx(Mo,{className:nn.spinning})," ..."]}):s.jsxs(s.Fragment,{children:[s.jsx(gl,{})," ",T?" ":" "]})}),s.jsx("input",{type:"file",id:"logo-upload",accept:"image/*",onChange:A,disabled:V,style:{display:"none"}}),T&&s.jsxs("button",{className:nn.removeButton,onClick:async()=>{var ee,ae;try{await Re.patch(`api/business/${e}/settings/`,{business_logo:null});const ie=await Re.get(`api/business/${e}/settings/`);r(ie.data),J(null),alert(" ")}catch(ie){M(((ae=(ee=ie.response)==null?void 0:ee.data)==null?void 0:ae.detail)||"   ")}},children:[s.jsx(Oh,{}),"  "]})]}),s.jsxs("div",{className:nn.uploadInfo,children:[s.jsx(ni,{}),s.jsx("p",{children:" : 512x512px.   : 5MB.  : JPG, PNG, GIF, WebP."})]})]})]})]}),t==="products"&&s.jsxs(rs.div,{className:nn.settingsTab,initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4},children:[s.jsxs("h1",{children:[s.jsx(K1,{}),"  "]}),s.jsxs("div",{className:nn.infoAlert,children:[s.jsx(ni,{}),"   "]})]})]})})]}),O&&s.jsx(rs.div,{className:nn.dialogOverlay,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>{R(!1),U(null)},children:s.jsxs(rs.div,{className:nn.dialog,initial:{opacity:0,scale:.8,y:50},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.8,y:50},transition:{type:"spring",duration:.5},onClick:ee=>ee.stopPropagation(),children:[s.jsxs("div",{className:nn.dialogHeader,children:[s.jsx("h3",{children:$?" ":"  "}),s.jsx("button",{className:nn.closeButton,onClick:()=>{R(!1),U(null)},children:""})]}),s.jsxs("div",{className:nn.dialogContent,children:[s.jsxs("div",{className:nn.formGroup,children:[s.jsx("label",{children:" "}),s.jsx("input",{type:"text",value:F.name,onChange:ee=>H({...F,name:ee.target.value}),className:nn.editField})]}),s.jsxs("div",{className:nn.formGroup,children:[s.jsx("label",{children:""}),s.jsx("input",{type:"text",value:F.address,onChange:ee=>H({...F,address:ee.target.value}),className:nn.editField})]}),s.jsxs("div",{className:nn.formGroup,children:[s.jsx("label",{children:""}),s.jsxs("select",{value:w,onChange:ee=>{S(ee.target.value),H({...F,city:""})},className:nn.editField,children:[s.jsx("option",{value:"",children:" "}),d.map(ee=>s.jsx("option",{value:ee.id,children:ee.name},ee.id))]})]}),s.jsxs("div",{className:nn.formGroup,children:[s.jsx("label",{children:""}),s.jsxs("select",{value:F.city,onChange:ee=>H({...F,city:ee.target.value}),className:nn.editField,disabled:!w,children:[s.jsx("option",{value:"",children:" "}),g.map(ee=>s.jsx("option",{value:ee.id,children:ee.name},ee.id))]})]}),s.jsxs("div",{className:nn.formGroup,children:[s.jsx("label",{children:" "}),s.jsxs("select",{value:F.location_type,onChange:ee=>H({...F,location_type:ee.target.value}),className:nn.editField,children:[s.jsx("option",{value:"",children:" "}),c.map(ee=>s.jsx("option",{value:ee.id,children:ee.name},ee.id))]})]}),s.jsxs("div",{className:nn.formGroup,children:[s.jsx("label",{children:" "}),s.jsx("input",{type:"text",value:F.contact_phone,onChange:ee=>H({...F,contact_phone:ee.target.value}),className:nn.editField})]}),s.jsx("div",{className:nn.formGroup,children:s.jsxs("label",{className:nn.checkboxLabel,children:[s.jsx("input",{type:"checkbox",checked:F.is_active,onChange:ee=>H({...F,is_active:ee.target.checked})}),s.jsx("span",{children:""})]})}),s.jsxs("div",{className:nn.formGroup,children:[s.jsx("label",{children:""}),s.jsx("textarea",{value:F.description,onChange:ee=>H({...F,description:ee.target.value}),className:nn.editField})]})]}),s.jsxs("div",{className:nn.dialogFooter,children:[s.jsx("button",{className:nn.cancelButton,onClick:()=>{R(!1),U(null)},children:""}),s.jsxs("button",{className:nn.saveButton,onClick:Y,children:[s.jsx(Jo,{})," "]})]})]})})]})},DYe="_container_17g1q_5",TYe="_loadingContainer_17g1q_25",AYe="_header_17g1q_43",MYe="_title_17g1q_123",RYe="_tabSelector_17g1q_141",OYe="_tabSelectorButton_17g1q_155",BYe="_tabMenu_17g1q_227",LYe="_tabMenuItem_17g1q_257",$Ye="_active_17g1q_311",PYe="_content_17g1q_345",FYe="_tabContent_17g1q_355",HYe="_sectionHeader_17g1q_367",zYe="_actions_17g1q_401",VYe="_editButton_17g1q_413",qYe="_saveButton_17g1q_415",UYe="_cancelButton_17g1q_417",WYe="_addButton_17g1q_419",YYe="_previewButton_17g1q_421",GYe="_formContainer_17g1q_501",QYe="_formGroup_17g1q_513",XYe="_formInput_17g1q_537",KYe="_formTextarea_17g1q_539",ZYe="_formSelect_17g1q_541",JYe="_checkboxLabel_17g1q_591",eGe="_infoContainer_17g1q_625",tGe="_infoItem_17g1q_637",nGe="_listContainer_17g1q_701",sGe="_listItem_17g1q_713",aGe="_itemInfo_17g1q_735",rGe="_activeBadge_17g1q_771",iGe="_defaultBadge_17g1q_773",oGe="_itemActions_17g1q_831",cGe="_deleteButton_17g1q_899",lGe="_emptyMessage_17g1q_929",uGe="_error_17g1q_943",dGe="_templateEditor_17g1q_969",hGe="_codeEditor_17g1q_981",fGe="_receiptPreviewContainer_17g1q_1019",mGe="_receiptPreview_17g1q_1019",pGe="_logoUploadContainer_17g1q_1051",gGe="_logoPreview_17g1q_1063",_Ge="_logoImage_17g1q_1085",vGe="_logoPlaceholder_17g1q_1099",xGe="_uploadControls_17g1q_1125",bGe="_uploadButton_17g1q_1137",yGe="_removeButton_17g1q_1185",wGe="_uploadInfo_17g1q_1233",CGe="_spinning_17g1q_1271",SGe="_infoAlert_17g1q_1297",jGe="_modalOverlay_17g1q_1323",NGe="_modal_17g1q_1323",EGe="_modalHeader_17g1q_1393",kGe="_modalBody_17g1q_1431",IGe="_modalFooter_17g1q_1445",Sn={container:DYe,loadingContainer:TYe,header:AYe,title:MYe,tabSelector:RYe,tabSelectorButton:OYe,tabMenu:BYe,tabMenuItem:LYe,active:$Ye,content:PYe,tabContent:FYe,sectionHeader:HYe,actions:zYe,editButton:VYe,saveButton:qYe,cancelButton:UYe,addButton:WYe,previewButton:YYe,formContainer:GYe,formGroup:QYe,formInput:XYe,formTextarea:KYe,formSelect:ZYe,checkboxLabel:JYe,infoContainer:eGe,infoItem:tGe,listContainer:nGe,listItem:sGe,itemInfo:aGe,activeBadge:rGe,defaultBadge:iGe,itemActions:oGe,deleteButton:cGe,emptyMessage:lGe,error:uGe,templateEditor:dGe,codeEditor:hGe,receiptPreviewContainer:fGe,receiptPreview:mGe,logoUploadContainer:pGe,logoPreview:gGe,logoImage:_Ge,logoPlaceholder:vGe,uploadControls:xGe,uploadButton:bGe,removeButton:yGe,uploadInfo:wGe,spinning:CGe,infoAlert:SGe,modalOverlay:jGe,modal:NGe,modalHeader:EGe,modalBody:kGe,modalFooter:IGe},DGe=()=>{const{business_slug:e}=fa();Rs();const[t,n]=v.useState("general"),[a,r]=v.useState(!1),[i,o]=v.useState({name:"",description:"",phone:"",address:"",business_logo:null,receipt_html_template:"",receipt_css_template:""}),[c,l]=v.useState([]),[d,f]=v.useState([]),[g,b]=v.useState([]),[w,S]=v.useState([]),[j,N]=v.useState(""),[I,M]=v.useState(!0),[B,P]=v.useState(null),[O,R]=v.useState(!1),[$,U]=v.useState(!1),[F,H]=v.useState(null),[ne,X]=v.useState({name:"",address:"",location_type:"",city:"",contact_phone:"",is_active:!0,description:"",opening_hours:{}}),[te,se]=v.useState(!1),[V,q]=v.useState(!1),[T,J]=v.useState(null);v.useEffect(()=>{(async()=>{try{M(!0);const[ue,he,ge,ye]=await Promise.all([Re.get(`api/business/${e}/settings/`),Re.get(`api/business/${e}/locations/`),Re.get("api/location-types/"),Re.get("api/countries/")]);o(ue.data),ue.data.business_logo?J(ue.data.business_logo):J(null),l(he.data),f(ge.data),b(ye.data),M(!1)}catch(ue){P(ue.message),M(!1)}})()},[e]),v.useEffect(()=>{(async()=>{if(j)try{const ue=await Re.get(`api/cities/?country=${j}`);S(ue.data)}catch(ue){console.error("  :",ue),S([])}else S([])})()},[j]);const Z=async()=>{var ie;try{const ue=await Re.patch(`api/business/${e}/settings/`,i);o(ue.data),R(!1)}catch(ue){P(((ie=ue.response)==null?void 0:ie.data)||ue.message)}},A=async ie=>{var he,ge;const ue=ie.target.files[0];if(ue){if(!ue.type.startsWith("image/")){P("   ");return}if(ue.size>5*1024*1024){P("     5MB");return}try{q(!0),P(null);const ye=new FileReader;ye.onloadend=()=>{J(ye.result)},ye.readAsDataURL(ue);const je=new FormData;je.append("logo",ue);const Ie=await Re.post(`api/business/${e}/upload-logo/`,je,{headers:{"Content-Type":"multipart/form-data"}}),me=await Re.get(`api/business/${e}/settings/`);o(me.data),J(Ie.data.logo_url||me.data.business_logo),alert("  !")}catch(ye){console.error("  :",ye),P(((ge=(he=ye.response)==null?void 0:he.data)==null?void 0:ge.detail)||"   "),J(null)}finally{q(!1)}}},Y=async()=>{var ie;try{if(F){const ue=await Re.patch(`api/business/${e}/locations/${F.id}/`,ne);l(c.map(he=>he.id===F.id?ue.data:he))}else{const ue=await Re.post(`api/business/${e}/locations/`,ne);l([...c,ue.data])}U(!1),H(null),N(""),S([]),X({name:"",address:"",location_type:"",city:"",contact_phone:"",is_active:!0,description:"",opening_hours:{}})}catch(ue){P(((ie=ue.response)==null?void 0:ie.data)||ue.message)}},K=async ie=>{var ue;if(window.confirm("  ?"))try{await Re.delete(`api/business/${e}/locations/${ie}/`),l(c.filter(he=>he.id!==ie))}catch(he){P(((ue=he.response)==null?void 0:ue.data)||he.message)}},G=async ie=>{var ue;if(H(ie),ie.city_detail){const he=(ue=ie.city_detail.country_detail)==null?void 0:ue.id;if(he){N(he);try{const ge=await Re.get(`api/cities/?country=${he}`);S(ge.data)}catch(ge){console.error("  :",ge)}}}X({name:ie.name,address:ie.address,location_type:ie.location_type,city:ie.city||"",contact_phone:ie.contact_phone,is_active:ie.is_active,description:ie.description,opening_hours:ie.opening_hours||{}}),U(!0)},oe=()=>i.receipt_html_template.replace(/{{ business\.name }}/g,i.name||" ").replace(/{{ business\.address }}/g,i.address||" ").replace(/{{ receipt\.number }}/g,"000001").replace(/{{ receipt\.created_at\.strftime\("%d\.%m\.%Y %H:%M"\) }}/g,new Date().toLocaleString("ru-RU")).replace(/{{ cashier or "" }}/g," ").replace(/{% for sale in sales %}([\s\S]*?){% endfor %}/g,(ue,he)=>[{variant:{name:" 1"},quantity:2,price_per_unit:1500,total_price:3e3},{variant:{name:" 2   "},quantity:1,price_per_unit:4500,total_price:4500}].map(ye=>he.replace(/{{ sale\.variant\.name\|truncate\(18,true\) }}/g,ye.variant.name.substring(0,18)).replace(/{{ sale\.quantity }}/g,ye.quantity).replace(/{{ "%.2f"\|format\(sale\.price_per_unit\) }}/g,ye.price_per_unit.toFixed(2)).replace(/{{ "%.2f"\|format\(sale\.total_price\) }}/g,ye.total_price.toFixed(2))).join("")).replace(/{{ "%.2f"\|format\(receipt\.total_amount\) }}/g,"7500.00").replace(/{{ receipt\.discount_percent }}/g,"10").replace(/{{ receipt\.discount_amount }}/g,"750").replace(/{{ now\.strftime\("%d\.%m\.%Y %H:%M:%S"\) }}/g,new Date().toLocaleString("ru-RU")),ee=ie=>({general:"",locations:"  ",receipts:" ",printers:"",employees:"",bonus:"",products:"",photos:""})[ie]||ie,ae=ie=>{const he={general:mm,locations:dr,receipts:Do,printers:Z1,employees:Z1,bonus:K1,products:K1,photos:gl}[ie]||mm;return s.jsx(he,{})};return I?s.jsx("div",{className:Sn.loadingContainer,children:s.jsx(Wn,{size:"large"})}):B&&!i.name?s.jsxs("div",{className:Sn.container,children:[s.jsxs("div",{className:Sn.header,children:[s.jsx("h1",{className:Sn.title,children:""}),s.jsx("div",{style:{width:"44px"}})]}),s.jsx("div",{className:Sn.content,children:s.jsxs("div",{className:Sn.error,children:[s.jsx(ni,{})," ",B]})})]}):s.jsxs("div",{className:Sn.container,children:[s.jsxs("div",{className:Sn.header,children:[s.jsx("h1",{className:Sn.title,children:""}),s.jsx("div",{style:{width:"44px"}})]}),s.jsxs("div",{className:Sn.tabSelector,children:[s.jsxs("button",{className:Sn.tabSelectorButton,onClick:()=>r(!a),children:[ae(t),s.jsx("span",{children:ee(t)}),a?s.jsx(Lo,{}):s.jsx(Bo,{})]}),s.jsx(Fc,{children:a&&s.jsx(rs.div,{className:Sn.tabMenu,initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},children:["general","locations","receipts","printers","employees","bonus","products","photos"].map(ie=>s.jsxs("button",{className:`${Sn.tabMenuItem} ${t===ie?Sn.active:""}`,onClick:()=>{n(ie),r(!1)},children:[ae(ie),s.jsx("span",{children:ee(ie)})]},ie))})})]}),s.jsx("div",{className:Sn.content,children:s.jsxs(Fc,{mode:"wait",children:[t==="general"&&s.jsxs(rs.div,{className:Sn.tabContent,initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},children:[s.jsxs("div",{className:Sn.sectionHeader,children:[s.jsx("h2",{children:" "}),O?s.jsxs("div",{className:Sn.actions,children:[s.jsxs("button",{className:Sn.saveButton,onClick:Z,children:[s.jsx(Jo,{})," "]}),s.jsx("button",{className:Sn.cancelButton,onClick:()=>R(!1),children:""})]}):s.jsxs("button",{className:Sn.editButton,onClick:()=>R(!0),children:[s.jsx(Yc,{})," "]})]}),O?s.jsxs("div",{className:Sn.formContainer,children:[s.jsxs("div",{className:Sn.formGroup,children:[s.jsx("label",{children:" "}),s.jsx("input",{type:"text",value:i.name,onChange:ie=>o({...i,name:ie.target.value}),className:Sn.formInput})]}),s.jsxs("div",{className:Sn.formGroup,children:[s.jsx("label",{children:""}),s.jsx("textarea",{value:i.description,onChange:ie=>o({...i,description:ie.target.value}),className:Sn.formTextarea,rows:4})]}),s.jsxs("div",{className:Sn.formGroup,children:[s.jsx("label",{children:""}),s.jsx("input",{type:"text",value:i.phone,onChange:ie=>o({...i,phone:ie.target.value}),className:Sn.formInput})]}),s.jsxs("div",{className:Sn.formGroup,children:[s.jsx("label",{children:""}),s.jsx("input",{type:"text",value:i.address,onChange:ie=>o({...i,address:ie.target.value}),className:Sn.formInput})]})]}):s.jsxs("div",{className:Sn.infoContainer,children:[s.jsxs("div",{className:Sn.infoItem,children:[s.jsx(Cc,{}),s.jsxs("div",{children:[s.jsx("h3",{children:""}),s.jsx("p",{children:i.name})]})]}),s.jsxs("div",{className:Sn.infoItem,children:[s.jsx(ni,{}),s.jsxs("div",{children:[s.jsx("h3",{children:""}),s.jsx("p",{children:i.description||" "})]})]}),s.jsxs("div",{className:Sn.infoItem,children:[s.jsx(Cc,{}),s.jsxs("div",{children:[s.jsx("h3",{children:""}),s.jsx("p",{children:i.phone||" "})]})]}),s.jsxs("div",{className:Sn.infoItem,children:[s.jsx(dr,{}),s.jsxs("div",{children:[s.jsx("h3",{children:""}),s.jsx("p",{children:i.address||" "})]})]})]})]},"general"),t==="locations"&&s.jsxs(rs.div,{className:Sn.tabContent,initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},children:[s.jsxs("div",{className:Sn.sectionHeader,children:[s.jsx("h2",{children:"  "}),s.jsxs("button",{className:Sn.addButton,onClick:()=>U(!0),children:[s.jsx($a,{})," "]})]}),s.jsx("div",{className:Sn.listContainer,children:c.length===0?s.jsx("div",{className:Sn.emptyMessage,children:"    "}):c.map(ie=>{var ue;return s.jsxs("div",{className:Sn.listItem,children:[s.jsxs("div",{className:Sn.itemInfo,children:[s.jsxs("h4",{children:[ie.name,ie.is_active&&s.jsx("span",{className:Sn.activeBadge,children:""}),ie.is_primary&&s.jsx("span",{className:Sn.defaultBadge,children:""})]}),s.jsxs("p",{children:[s.jsx(dr,{})," ",ie.address]}),s.jsxs("p",{children:[((ue=d.find(he=>he.id===ie.location_type))==null?void 0:ue.name)||" ",ie.contact_phone&&`   ${ie.contact_phone}`]})]}),s.jsxs("div",{className:Sn.itemActions,children:[s.jsx("button",{className:Sn.editButton,onClick:()=>G(ie),children:s.jsx(Yc,{})}),s.jsx("button",{className:Sn.deleteButton,onClick:()=>K(ie.id),disabled:ie.is_primary,children:s.jsx(Oh,{})})]})]},ie.id)})})]},"locations"),t==="receipts"&&s.jsxs(rs.div,{className:Sn.tabContent,initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},children:[s.jsxs("div",{className:Sn.sectionHeader,children:[s.jsx("h2",{children:" "}),s.jsxs("div",{className:Sn.actions,children:[s.jsxs("button",{className:Sn.previewButton,onClick:()=>se(!te),children:[te?s.jsx(RR,{}):s.jsx(Cu,{}),te?"":""]}),s.jsxs("button",{className:Sn.saveButton,onClick:Z,children:[s.jsx(Jo,{})," "]})]})]}),te?s.jsx("div",{className:Sn.receiptPreviewContainer,children:s.jsx("iframe",{title:"receipt-preview",srcDoc:oe(),className:Sn.receiptPreview})}):s.jsxs("div",{className:Sn.templateEditor,children:[s.jsxs("div",{className:Sn.formGroup,children:[s.jsx("label",{children:"HTML  "}),s.jsx("textarea",{value:i.receipt_html_template,onChange:ie=>o({...i,receipt_html_template:ie.target.value}),className:Sn.codeEditor,spellCheck:"false",rows:15})]}),s.jsxs("div",{className:Sn.formGroup,children:[s.jsx("label",{children:"CSS   ()"}),s.jsx("textarea",{value:i.receipt_css_template,onChange:ie=>o({...i,receipt_css_template:ie.target.value}),className:Sn.codeEditor,spellCheck:"false",rows:10})]})]})]},"receipts"),t==="printers"&&s.jsx(rs.div,{className:Sn.tabContent,initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},children:s.jsxs("div",{className:Sn.infoAlert,children:[s.jsx(ni,{}),"   "]})},"printers"),t==="employees"&&s.jsx(rs.div,{className:Sn.tabContent,initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},children:s.jsx(QL,{businessSlug:e})},"employees"),t==="bonus"&&s.jsx(rs.div,{className:Sn.tabContent,initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},children:s.jsx(XL,{})},"bonus"),t==="products"&&s.jsx(rs.div,{className:Sn.tabContent,initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},children:s.jsxs("div",{className:Sn.infoAlert,children:[s.jsx(ni,{}),"   "]})},"products"),t==="photos"&&s.jsxs(rs.div,{className:Sn.tabContent,initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},children:[s.jsx("div",{className:Sn.sectionHeader,children:s.jsx("h2",{children:" "})}),s.jsxs("div",{className:Sn.logoUploadContainer,children:[s.jsx("div",{className:Sn.logoPreview,children:T?s.jsx("img",{src:T,alt:" ",className:Sn.logoImage}):s.jsxs("div",{className:Sn.logoPlaceholder,children:[s.jsx(gl,{}),s.jsx("p",{children:"  "})]})}),s.jsxs("div",{className:Sn.uploadControls,children:[s.jsx("label",{htmlFor:"logo-upload",className:Sn.uploadButton,children:V?s.jsxs(s.Fragment,{children:[s.jsx(Mo,{className:Sn.spinning})," ..."]}):s.jsxs(s.Fragment,{children:[s.jsx(gl,{})," ",T?" ":" "]})}),s.jsx("input",{type:"file",id:"logo-upload",accept:"image/*",onChange:A,disabled:V,style:{display:"none"}}),T&&s.jsxs("button",{className:Sn.removeButton,onClick:async()=>{var ie,ue;try{await Re.patch(`api/business/${e}/settings/`,{business_logo:null});const he=await Re.get(`api/business/${e}/settings/`);o(he.data),J(null),alert(" ")}catch(he){P(((ue=(ie=he.response)==null?void 0:ie.data)==null?void 0:ue.detail)||"   ")}},children:[s.jsx(Oh,{}),"  "]})]}),s.jsxs("div",{className:Sn.uploadInfo,children:[s.jsx(ni,{}),s.jsx("p",{children:" : 512x512px.   : 5MB."})]})]})]},"photos")]})}),$&&s.jsx("div",{className:Sn.modalOverlay,onClick:()=>{U(!1),H(null)},children:s.jsxs(rs.div,{className:Sn.modal,initial:{y:"100%"},animate:{y:0},exit:{y:"100%"},onClick:ie=>ie.stopPropagation(),children:[s.jsxs("div",{className:Sn.modalHeader,children:[s.jsx("h2",{children:F?" ":"  "}),s.jsx(Ti,{onClick:()=>{U(!1),H(null)}})]}),s.jsxs("div",{className:Sn.modalBody,children:[s.jsxs("div",{className:Sn.formGroup,children:[s.jsx("label",{children:" "}),s.jsx("input",{type:"text",value:ne.name,onChange:ie=>X({...ne,name:ie.target.value}),className:Sn.formInput})]}),s.jsxs("div",{className:Sn.formGroup,children:[s.jsx("label",{children:""}),s.jsx("input",{type:"text",value:ne.address,onChange:ie=>X({...ne,address:ie.target.value}),className:Sn.formInput})]}),s.jsxs("div",{className:Sn.formGroup,children:[s.jsx("label",{children:""}),s.jsxs("select",{value:j,onChange:ie=>{N(ie.target.value),X({...ne,city:""})},className:Sn.formSelect,children:[s.jsx("option",{value:"",children:" "}),g.map(ie=>s.jsx("option",{value:ie.id,children:ie.name},ie.id))]})]}),s.jsxs("div",{className:Sn.formGroup,children:[s.jsx("label",{children:""}),s.jsxs("select",{value:ne.city,onChange:ie=>X({...ne,city:ie.target.value}),className:Sn.formSelect,disabled:!j,children:[s.jsx("option",{value:"",children:" "}),w.map(ie=>s.jsx("option",{value:ie.id,children:ie.name},ie.id))]})]}),s.jsxs("div",{className:Sn.formGroup,children:[s.jsx("label",{children:" "}),s.jsxs("select",{value:ne.location_type,onChange:ie=>X({...ne,location_type:ie.target.value}),className:Sn.formSelect,children:[s.jsx("option",{value:"",children:" "}),d.map(ie=>s.jsx("option",{value:ie.id,children:ie.name},ie.id))]})]}),s.jsxs("div",{className:Sn.formGroup,children:[s.jsx("label",{children:" "}),s.jsx("input",{type:"text",value:ne.contact_phone,onChange:ie=>X({...ne,contact_phone:ie.target.value}),className:Sn.formInput})]}),s.jsx("div",{className:Sn.formGroup,children:s.jsxs("label",{className:Sn.checkboxLabel,children:[s.jsx("input",{type:"checkbox",checked:ne.is_active,onChange:ie=>X({...ne,is_active:ie.target.checked})}),s.jsx("span",{children:""})]})}),s.jsxs("div",{className:Sn.formGroup,children:[s.jsx("label",{children:""}),s.jsx("textarea",{value:ne.description,onChange:ie=>X({...ne,description:ie.target.value}),className:Sn.formTextarea,rows:4})]})]}),s.jsxs("div",{className:Sn.modalFooter,children:[s.jsx("button",{className:Sn.cancelButton,onClick:()=>{U(!1),H(null)},children:""}),s.jsxs("button",{className:Sn.saveButton,onClick:Y,children:[s.jsx(Jo,{})," "]})]})]})})]})};var TGe=c0();const zs=Si(TGe);function Ns(){return Ns=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Ns.apply(null,arguments)}var AGe=Symbol.for("react.element"),MGe=Symbol.for("react.transitional.element"),RGe=Symbol.for("react.fragment");function KL(e){return e&&Bs(e)==="object"&&(e.$$typeof===AGe||e.$$typeof===MGe)&&e.type===RGe}function rb(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=[];return Je.Children.forEach(e,function(a){a==null&&!t.keepEmpty||(Array.isArray(a)?n=n.concat(rb(a)):KL(a)&&a.props?n=n.concat(rb(a.props.children,t)):n.push(a))}),n}var Fj={},OGe=function(t){};function BGe(e,t){}function LGe(e,t){}function $Ge(){Fj={}}function ZL(e,t,n){!t&&!Fj[n]&&(e(!1,n),Fj[n]=!0)}function Ro(e,t){ZL(BGe,e,t)}function PGe(e,t){ZL(LGe,e,t)}Ro.preMessage=OGe;Ro.resetWarned=$Ge;Ro.noteOnce=PGe;function Bg(e){return e instanceof HTMLElement||e instanceof SVGElement}function FGe(e){return e&&Bs(e)==="object"&&Bg(e.nativeElement)?e.nativeElement:Bg(e)?e:null}function Xv(e){var t=FGe(e);if(t)return t;if(e instanceof Je.Component){var n;return(n=fx.findDOMNode)===null||n===void 0?void 0:n.call(fx,e)}return null}var HC={exports:{}},nr={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var x7;function HGe(){if(x7)return nr;x7=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),o=Symbol.for("react.context"),c=Symbol.for("react.server_context"),l=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),g=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),w=Symbol.for("react.offscreen"),S;S=Symbol.for("react.module.reference");function j(N){if(typeof N=="object"&&N!==null){var I=N.$$typeof;switch(I){case e:switch(N=N.type,N){case n:case r:case a:case d:case f:return N;default:switch(N=N&&N.$$typeof,N){case c:case o:case l:case b:case g:case i:return N;default:return I}}case t:return I}}}return nr.ContextConsumer=o,nr.ContextProvider=i,nr.Element=e,nr.ForwardRef=l,nr.Fragment=n,nr.Lazy=b,nr.Memo=g,nr.Portal=t,nr.Profiler=r,nr.StrictMode=a,nr.Suspense=d,nr.SuspenseList=f,nr.isAsyncMode=function(){return!1},nr.isConcurrentMode=function(){return!1},nr.isContextConsumer=function(N){return j(N)===o},nr.isContextProvider=function(N){return j(N)===i},nr.isElement=function(N){return typeof N=="object"&&N!==null&&N.$$typeof===e},nr.isForwardRef=function(N){return j(N)===l},nr.isFragment=function(N){return j(N)===n},nr.isLazy=function(N){return j(N)===b},nr.isMemo=function(N){return j(N)===g},nr.isPortal=function(N){return j(N)===t},nr.isProfiler=function(N){return j(N)===r},nr.isStrictMode=function(N){return j(N)===a},nr.isSuspense=function(N){return j(N)===d},nr.isSuspenseList=function(N){return j(N)===f},nr.isValidElementType=function(N){return typeof N=="string"||typeof N=="function"||N===n||N===r||N===a||N===d||N===f||N===w||typeof N=="object"&&N!==null&&(N.$$typeof===b||N.$$typeof===g||N.$$typeof===i||N.$$typeof===o||N.$$typeof===l||N.$$typeof===S||N.getModuleId!==void 0)},nr.typeOf=j,nr}var b7;function zGe(){return b7||(b7=1,HC.exports=HGe()),HC.exports}var zC=zGe();function g4(e,t,n){var a=v.useRef({});return(!("value"in a.current)||n(a.current.condition,t))&&(a.current.value=e(),a.current.condition=t),a.current.value}var VGe=Number(v.version.split(".")[0]),_4=function(t,n){typeof t=="function"?t(n):Bs(t)==="object"&&t&&"current"in t&&(t.current=n)},dy=function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];var r=n.filter(Boolean);return r.length<=1?r[0]:function(i){n.forEach(function(o){_4(o,i)})}},hy=function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return g4(function(){return dy.apply(void 0,n)},n,function(r,i){return r.length!==i.length||r.every(function(o,c){return o!==i[c]})})},x0=function(t){var n,a;if(!t)return!1;if(JL(t)&&VGe>=19)return!0;var r=zC.isMemo(t)?t.type.type:t.type;return!(typeof r=="function"&&!((n=r.prototype)!==null&&n!==void 0&&n.render)&&r.$$typeof!==zC.ForwardRef||typeof t=="function"&&!((a=t.prototype)!==null&&a!==void 0&&a.render)&&t.$$typeof!==zC.ForwardRef)};function JL(e){return v.isValidElement(e)&&!KL(e)}var fy=function(t){if(t&&JL(t)){var n=t;return n.props.propertyIsEnumerable("ref")?n.props.ref:n.ref}return null},Hj=v.createContext(null);function qGe(e){var t=e.children,n=e.onBatchResize,a=v.useRef(0),r=v.useRef([]),i=v.useContext(Hj),o=v.useCallback(function(c,l,d){a.current+=1;var f=a.current;r.current.push({size:c,element:l,data:d}),Promise.resolve().then(function(){f===a.current&&(n==null||n(r.current),r.current=[])}),i==null||i(c,l,d)},[n,i]);return v.createElement(Hj.Provider,{value:o},t)}var gd=new Map;function UGe(e){e.forEach(function(t){var n,a=t.target;(n=gd.get(a))===null||n===void 0||n.forEach(function(r){return r(a)})})}var e$=new yO(UGe);function WGe(e,t){gd.has(e)||(gd.set(e,new Set),e$.observe(e)),gd.get(e).add(t)}function YGe(e,t){gd.has(e)&&(gd.get(e).delete(t),gd.get(e).size||(e$.unobserve(e),gd.delete(e)))}function Mi(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y7(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,HO(a.key),a)}}function Ri(e,t,n){return t&&y7(e.prototype,t),n&&y7(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Lg(e,t){return Lg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Lg(e,t)}function Td(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Lg(e,t)}function $g(e){return $g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},$g(e)}function v4(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(v4=function(){return!!e})()}function _a(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function GGe(e,t){if(t&&(Bs(t)=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _a(e)}function Ad(e){var t=v4();return function(){var n,a=$g(e);if(t){var r=$g(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return GGe(this,n)}}var QGe=function(e){Td(n,e);var t=Ad(n);function n(){return Mi(this,n),t.apply(this,arguments)}return Ri(n,[{key:"render",value:function(){return this.props.children}}]),n}(v.Component);function XGe(e,t){var n=e.children,a=e.disabled,r=v.useRef(null),i=v.useRef(null),o=v.useContext(Hj),c=typeof n=="function",l=c?n(r):n,d=v.useRef({width:-1,height:-1,offsetWidth:-1,offsetHeight:-1}),f=!c&&v.isValidElement(l)&&x0(l),g=f?fy(l):null,b=hy(g,r),w=function(){var I;return Xv(r.current)||(r.current&&Bs(r.current)==="object"?Xv((I=r.current)===null||I===void 0?void 0:I.nativeElement):null)||Xv(i.current)};v.useImperativeHandle(t,function(){return w()});var S=v.useRef(e);S.current=e;var j=v.useCallback(function(N){var I=S.current,M=I.onResize,B=I.data,P=N.getBoundingClientRect(),O=P.width,R=P.height,$=N.offsetWidth,U=N.offsetHeight,F=Math.floor(O),H=Math.floor(R);if(d.current.width!==F||d.current.height!==H||d.current.offsetWidth!==$||d.current.offsetHeight!==U){var ne={width:F,height:H,offsetWidth:$,offsetHeight:U};d.current=ne;var X=$===Math.round(O)?O:$,te=U===Math.round(R)?R:U,se=vt(vt({},ne),{},{offsetWidth:X,offsetHeight:te});o==null||o(se,N,B),M&&Promise.resolve().then(function(){M(se,N)})}},[]);return v.useEffect(function(){var N=w();return N&&!a&&WGe(N,j),function(){return YGe(N,j)}},[r.current,a]),v.createElement(QGe,{ref:i},f?v.cloneElement(l,{ref:b}):l)}var KGe=v.forwardRef(XGe),ZGe="rc-observer-key";function JGe(e,t){var n=e.children,a=typeof n=="function"?[n]:rb(n);return a.map(function(r,i){var o=(r==null?void 0:r.key)||"".concat(ZGe,"-").concat(i);return v.createElement(KGe,Ns({},e,{key:o,ref:i===0?t:void 0}),r)})}var Wh=v.forwardRef(JGe);Wh.Collection=qGe;function zj(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,a=Array(t);n<t;n++)a[n]=e[n];return a}function eQe(e){if(Array.isArray(e))return zj(e)}function t$(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function x4(e,t){if(e){if(typeof e=="string")return zj(e,t);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?zj(e,t):void 0}}function tQe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fs(e){return eQe(e)||t$(e)||x4(e)||tQe()}var n$=function(t){return+setTimeout(t,16)},s$=function(t){return clearTimeout(t)};typeof window<"u"&&"requestAnimationFrame"in window&&(n$=function(t){return window.requestAnimationFrame(t)},s$=function(t){return window.cancelAnimationFrame(t)});var w7=0,b4=new Map;function a$(e){b4.delete(e)}var Ki=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;w7+=1;var a=w7;function r(i){if(i===0)a$(a),t();else{var o=n$(function(){r(i-1)});b4.set(a,o)}}return r(n),a};Ki.cancel=function(e){var t=b4.get(e);return a$(e),s$(t)};function r$(e){if(Array.isArray(e))return e}function nQe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var a,r,i,o,c=[],l=!0,d=!1;try{if(i=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(a=i.call(n)).done)&&(c.push(a.value),c.length!==t);l=!0);}catch(f){d=!0,r=f}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw r}}return c}}function i$(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function St(e,t){return r$(e)||nQe(e,t)||x4(e,t)||i$()}function Pg(e){for(var t=0,n,a=0,r=e.length;r>=4;++a,r-=4)n=e.charCodeAt(a)&255|(e.charCodeAt(++a)&255)<<8|(e.charCodeAt(++a)&255)<<16|(e.charCodeAt(++a)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,t=(n&65535)*1540483477+((n>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(r){case 3:t^=(e.charCodeAt(a+2)&255)<<16;case 2:t^=(e.charCodeAt(a+1)&255)<<8;case 1:t^=e.charCodeAt(a)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}function nc(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function sQe(e,t){if(!e)return!1;if(e.contains)return e.contains(t);for(var n=t;n;){if(n===e)return!0;n=n.parentNode}return!1}var C7="data-rc-order",S7="data-rc-priority",aQe="rc-util-key",Vj=new Map;function o$(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=e.mark;return t?t.startsWith("data-")?t:"data-".concat(t):aQe}function my(e){if(e.attachTo)return e.attachTo;var t=document.querySelector("head");return t||document.body}function rQe(e){return e==="queue"?"prependQueue":e?"prepend":"append"}function y4(e){return Array.from((Vj.get(e)||e).children).filter(function(t){return t.tagName==="STYLE"})}function c$(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!nc())return null;var n=t.csp,a=t.prepend,r=t.priority,i=r===void 0?0:r,o=rQe(a),c=o==="prependQueue",l=document.createElement("style");l.setAttribute(C7,o),c&&i&&l.setAttribute(S7,"".concat(i)),n!=null&&n.nonce&&(l.nonce=n==null?void 0:n.nonce),l.innerHTML=e;var d=my(t),f=d.firstChild;if(a){if(c){var g=(t.styles||y4(d)).filter(function(b){if(!["prepend","prependQueue"].includes(b.getAttribute(C7)))return!1;var w=Number(b.getAttribute(S7)||0);return i>=w});if(g.length)return d.insertBefore(l,g[g.length-1].nextSibling),l}d.insertBefore(l,f)}else d.appendChild(l);return l}function l$(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=my(t);return(t.styles||y4(n)).find(function(a){return a.getAttribute(o$(t))===e})}function Fg(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=l$(e,t);if(n){var a=my(t);a.removeChild(n)}}function iQe(e,t){var n=Vj.get(e);if(!n||!sQe(document,n)){var a=c$("",t),r=a.parentNode;Vj.set(e,r),e.removeChild(a)}}function gu(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=my(n),r=y4(a),i=vt(vt({},n),{},{styles:r});iQe(a,i);var o=l$(t,i);if(o){var c,l;if((c=i.csp)!==null&&c!==void 0&&c.nonce&&o.nonce!==((l=i.csp)===null||l===void 0?void 0:l.nonce)){var d;o.nonce=(d=i.csp)===null||d===void 0?void 0:d.nonce}return o.innerHTML!==e&&(o.innerHTML=e),o}var f=c$(e,i);return f.setAttribute(o$(i),t),f}function oQe(e,t){if(e==null)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;n[a]=e[a]}return n}function ai(e,t){if(e==null)return{};var n,a,r=oQe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function qj(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,a=new Set;function r(i,o){var c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,l=a.has(i);if(Ro(!l,"Warning: There may be circular references"),l)return!1;if(i===o)return!0;if(n&&c>1)return!1;a.add(i);var d=c+1;if(Array.isArray(i)){if(!Array.isArray(o)||i.length!==o.length)return!1;for(var f=0;f<i.length;f++)if(!r(i[f],o[f],d))return!1;return!0}if(i&&o&&Bs(i)==="object"&&Bs(o)==="object"){var g=Object.keys(i);return g.length!==Object.keys(o).length?!1:g.every(function(b){return r(i[b],o[b],d)})}return!1}return r(e,t)}var cQe="%";function Uj(e){return e.join(cQe)}var lQe=function(){function e(t){Mi(this,e),pt(this,"instanceId",void 0),pt(this,"cache",new Map),pt(this,"extracted",new Set),this.instanceId=t}return Ri(e,[{key:"get",value:function(n){return this.opGet(Uj(n))}},{key:"opGet",value:function(n){return this.cache.get(n)||null}},{key:"update",value:function(n,a){return this.opUpdate(Uj(n),a)}},{key:"opUpdate",value:function(n,a){var r=this.cache.get(n),i=a(r);i===null?this.cache.delete(n):this.cache.set(n,i)}}]),e}(),Im="data-token-hash",qc="data-css-hash",_d="__cssinjs_instance__";function uQe(){var e=Math.random().toString(12).slice(2);if(typeof document<"u"&&document.head&&document.body){var t=document.body.querySelectorAll("style[".concat(qc,"]"))||[],n=document.head.firstChild;Array.from(t).forEach(function(r){r[_d]=r[_d]||e,r[_d]===e&&document.head.insertBefore(r,n)});var a={};Array.from(document.querySelectorAll("style[".concat(qc,"]"))).forEach(function(r){var i=r.getAttribute(qc);if(a[i]){if(r[_d]===e){var o;(o=r.parentNode)===null||o===void 0||o.removeChild(r)}}else a[i]=!0})}return new lQe(e)}var b0=v.createContext({hashPriority:"low",cache:uQe(),defaultCache:!0});function dQe(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}var w4=function(){function e(){Mi(this,e),pt(this,"cache",void 0),pt(this,"keys",void 0),pt(this,"cacheCallTimes",void 0),this.cache=new Map,this.keys=[],this.cacheCallTimes=0}return Ri(e,[{key:"size",value:function(){return this.keys.length}},{key:"internalGet",value:function(n){var a,r,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,o={map:this.cache};return n.forEach(function(c){if(!o)o=void 0;else{var l;o=(l=o)===null||l===void 0||(l=l.map)===null||l===void 0?void 0:l.get(c)}}),(a=o)!==null&&a!==void 0&&a.value&&i&&(o.value[1]=this.cacheCallTimes++),(r=o)===null||r===void 0?void 0:r.value}},{key:"get",value:function(n){var a;return(a=this.internalGet(n,!0))===null||a===void 0?void 0:a[0]}},{key:"has",value:function(n){return!!this.internalGet(n)}},{key:"set",value:function(n,a){var r=this;if(!this.has(n)){if(this.size()+1>e.MAX_CACHE_SIZE+e.MAX_CACHE_OFFSET){var i=this.keys.reduce(function(d,f){var g=St(d,2),b=g[1];return r.internalGet(f)[1]<b?[f,r.internalGet(f)[1]]:d},[this.keys[0],this.cacheCallTimes]),o=St(i,1),c=o[0];this.delete(c)}this.keys.push(n)}var l=this.cache;n.forEach(function(d,f){if(f===n.length-1)l.set(d,{value:[a,r.cacheCallTimes++]});else{var g=l.get(d);g?g.map||(g.map=new Map):l.set(d,{map:new Map}),l=l.get(d).map}})}},{key:"deleteByPath",value:function(n,a){var r=n.get(a[0]);if(a.length===1){var i;return r.map?n.set(a[0],{map:r.map}):n.delete(a[0]),(i=r.value)===null||i===void 0?void 0:i[0]}var o=this.deleteByPath(r.map,a.slice(1));return(!r.map||r.map.size===0)&&!r.value&&n.delete(a[0]),o}},{key:"delete",value:function(n){if(this.has(n))return this.keys=this.keys.filter(function(a){return!dQe(a,n)}),this.deleteByPath(this.cache,n)}}]),e}();pt(w4,"MAX_CACHE_SIZE",20);pt(w4,"MAX_CACHE_OFFSET",5);var j7=0,u$=function(){function e(t){Mi(this,e),pt(this,"derivatives",void 0),pt(this,"id",void 0),this.derivatives=Array.isArray(t)?t:[t],this.id=j7,t.length===0&&(t.length>0,void 0),j7+=1}return Ri(e,[{key:"getDerivativeToken",value:function(n){return this.derivatives.reduce(function(a,r){return r(n,a)},void 0)}}]),e}(),VC=new w4;function Wj(e){var t=Array.isArray(e)?e:[e];return VC.has(t)||VC.set(t,new u$(t)),VC.get(t)}var hQe=new WeakMap,qC={};function fQe(e,t){for(var n=hQe,a=0;a<t.length;a+=1){var r=t[a];n.has(r)||n.set(r,new WeakMap),n=n.get(r)}return n.has(qC)||n.set(qC,e()),n.get(qC)}var N7=new WeakMap;function og(e){var t=N7.get(e)||"";return t||(Object.keys(e).forEach(function(n){var a=e[n];t+=n,a instanceof u$?t+=a.id:a&&Bs(a)==="object"?t+=og(a):t+=a}),t=Pg(t),N7.set(e,t)),t}function E7(e,t){return Pg("".concat(t,"_").concat(og(e)))}var Yj=nc();function hs(e){return typeof e=="number"?"".concat(e,"px"):e}function ib(e,t,n){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},r=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(r)return e;var i=vt(vt({},a),{},pt(pt({},Im,t),qc,n)),o=Object.keys(i).map(function(c){var l=i[c];return l?"".concat(c,'="').concat(l,'"'):null}).filter(function(c){return c}).join(" ");return"<style ".concat(o,">").concat(e,"</style>")}var Kv=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return"--".concat(n?"".concat(n,"-"):"").concat(t).replace(/([a-z0-9])([A-Z])/g,"$1-$2").replace(/([A-Z]+)([A-Z][a-z0-9]+)/g,"$1-$2").replace(/([a-z])([A-Z0-9])/g,"$1-$2").toLowerCase()},mQe=function(t,n,a){return Object.keys(t).length?".".concat(n).concat(a!=null&&a.scope?".".concat(a.scope):"","{").concat(Object.entries(t).map(function(r){var i=St(r,2),o=i[0],c=i[1];return"".concat(o,":").concat(c,";")}).join(""),"}"):""},d$=function(t,n,a){var r={},i={};return Object.entries(t).forEach(function(o){var c,l,d=St(o,2),f=d[0],g=d[1];if(a!=null&&(c=a.preserve)!==null&&c!==void 0&&c[f])i[f]=g;else if((typeof g=="string"||typeof g=="number")&&!(a!=null&&(l=a.ignore)!==null&&l!==void 0&&l[f])){var b,w=Kv(f,a==null?void 0:a.prefix);r[w]=typeof g=="number"&&!(a!=null&&(b=a.unitless)!==null&&b!==void 0&&b[f])?"".concat(g,"px"):String(g),i[f]="var(".concat(w,")")}}),[i,mQe(r,n,{scope:a==null?void 0:a.scope})]},k7=nc()?v.useLayoutEffect:v.useEffect,Pr=function(t,n){var a=v.useRef(!0);k7(function(){return t(a.current)},n),k7(function(){return a.current=!1,function(){a.current=!0}},[])},Gj=function(t,n){Pr(function(a){if(!a)return t()},n)},pQe=vt({},Bm),I7=pQe.useInsertionEffect,gQe=function(t,n,a){v.useMemo(t,a),Pr(function(){return n(!0)},a)},_Qe=I7?function(e,t,n){return I7(function(){return e(),t()},n)}:gQe,vQe=vt({},Bm),xQe=vQe.useInsertionEffect,bQe=function(t){var n=[],a=!1;function r(i){a||n.push(i)}return v.useEffect(function(){return a=!1,function(){a=!0,n.length&&n.forEach(function(i){return i()})}},t),r},yQe=function(){return function(t){t()}},wQe=typeof xQe<"u"?bQe:yQe;function C4(e,t,n,a,r){var i=v.useContext(b0),o=i.cache,c=[e].concat(fs(t)),l=Uj(c),d=wQe([l]),f=function(S){o.opUpdate(l,function(j){var N=j||[void 0,void 0],I=St(N,2),M=I[0],B=M===void 0?0:M,P=I[1],O=P,R=O||n(),$=[B,R];return S?S($):$})};v.useMemo(function(){f()},[l]);var g=o.opGet(l),b=g[1];return _Qe(function(){r==null||r(b)},function(w){return f(function(S){var j=St(S,2),N=j[0],I=j[1];return w&&N===0&&(r==null||r(b)),[N+1,I]}),function(){o.opUpdate(l,function(S){var j=S||[],N=St(j,2),I=N[0],M=I===void 0?0:I,B=N[1],P=M-1;return P===0?(d(function(){(w||!o.opGet(l))&&(a==null||a(B,!1))}),null):[M-1,B]})}},[l]),b}var CQe={},SQe="css",dh=new Map;function jQe(e){dh.set(e,(dh.get(e)||0)+1)}function NQe(e,t){if(typeof document<"u"){var n=document.querySelectorAll("style[".concat(Im,'="').concat(e,'"]'));n.forEach(function(a){if(a[_d]===t){var r;(r=a.parentNode)===null||r===void 0||r.removeChild(a)}})}}var EQe=0;function kQe(e,t){dh.set(e,(dh.get(e)||0)-1);var n=new Set;dh.forEach(function(a,r){a<=0&&n.add(r)}),dh.size-n.size>EQe&&n.forEach(function(a){NQe(a,t),dh.delete(a)})}var IQe=function(t,n,a,r){var i=a.getDerivativeToken(t),o=vt(vt({},i),n);return r&&(o=r(o)),o},h$="token";function DQe(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=v.useContext(b0),r=a.cache.instanceId,i=a.container,o=n.salt,c=o===void 0?"":o,l=n.override,d=l===void 0?CQe:l,f=n.formatToken,g=n.getComputedToken,b=n.cssVar,w=fQe(function(){return Object.assign.apply(Object,[{}].concat(fs(t)))},t),S=og(w),j=og(d),N=b?og(b):"",I=C4(h$,[c,e.id,S,j,N],function(){var M,B=g?g(w,d,e):IQe(w,d,e,f),P=vt({},B),O="";if(b){var R=d$(B,b.key,{prefix:b.prefix,ignore:b.ignore,unitless:b.unitless,preserve:b.preserve}),$=St(R,2);B=$[0],O=$[1]}var U=E7(B,c);B._tokenKey=U,P._tokenKey=E7(P,c);var F=(M=b==null?void 0:b.key)!==null&&M!==void 0?M:U;B._themeKey=F,jQe(F);var H="".concat(SQe,"-").concat(Pg(U));return B._hashId=H,[B,H,P,O,(b==null?void 0:b.key)||""]},function(M){kQe(M[0]._themeKey,r)},function(M){var B=St(M,4),P=B[0],O=B[3];if(b&&O){var R=gu(O,Pg("css-variables-".concat(P._themeKey)),{mark:qc,prepend:"queue",attachTo:i,priority:-999});R[_d]=r,R.setAttribute(Im,P._themeKey)}});return I}var TQe=function(t,n,a){var r=St(t,5),i=r[2],o=r[3],c=r[4],l=a||{},d=l.plain;if(!o)return null;var f=i._tokenKey,g=-999,b={"data-rc-order":"prependQueue","data-rc-priority":"".concat(g)},w=ib(o,c,f,b,d);return[g,f,w]},AQe={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},f$="comm",m$="rule",p$="decl",MQe="@import",RQe="@namespace",OQe="@keyframes",BQe="@layer",g$=Math.abs,S4=String.fromCharCode;function _$(e){return e.trim()}function Zv(e,t,n){return e.replace(t,n)}function LQe(e,t,n){return e.indexOf(t,n)}function cm(e,t){return e.charCodeAt(t)|0}function Dm(e,t,n){return e.slice(t,n)}function fl(e){return e.length}function $Qe(e){return e.length}function iv(e,t){return t.push(e),e}var py=1,Tm=1,v$=0,kc=0,Ci=0,Jm="";function j4(e,t,n,a,r,i,o,c){return{value:e,root:t,parent:n,type:a,props:r,children:i,line:py,column:Tm,length:o,return:"",siblings:c}}function PQe(){return Ci}function FQe(){return Ci=kc>0?cm(Jm,--kc):0,Tm--,Ci===10&&(Tm=1,py--),Ci}function Uc(){return Ci=kc<v$?cm(Jm,kc++):0,Tm++,Ci===10&&(Tm=1,py++),Ci}function vd(){return cm(Jm,kc)}function Jv(){return kc}function gy(e,t){return Dm(Jm,e,t)}function Hg(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function HQe(e){return py=Tm=1,v$=fl(Jm=e),kc=0,[]}function zQe(e){return Jm="",e}function UC(e){return _$(gy(kc-1,Qj(e===91?e+2:e===40?e+1:e)))}function VQe(e){for(;(Ci=vd())&&Ci<33;)Uc();return Hg(e)>2||Hg(Ci)>3?"":" "}function qQe(e,t){for(;--t&&Uc()&&!(Ci<48||Ci>102||Ci>57&&Ci<65||Ci>70&&Ci<97););return gy(e,Jv()+(t<6&&vd()==32&&Uc()==32))}function Qj(e){for(;Uc();)switch(Ci){case e:return kc;case 34:case 39:e!==34&&e!==39&&Qj(Ci);break;case 40:e===41&&Qj(e);break;case 92:Uc();break}return kc}function UQe(e,t){for(;Uc()&&e+Ci!==57;)if(e+Ci===84&&vd()===47)break;return"/*"+gy(t,kc-1)+"*"+S4(e===47?e:Uc())}function WQe(e){for(;!Hg(vd());)Uc();return gy(e,kc)}function YQe(e){return zQe(ex("",null,null,null,[""],e=HQe(e),0,[0],e))}function ex(e,t,n,a,r,i,o,c,l){for(var d=0,f=0,g=o,b=0,w=0,S=0,j=1,N=1,I=1,M=0,B="",P=r,O=i,R=a,$=B;N;)switch(S=M,M=Uc()){case 40:if(S!=108&&cm($,g-1)==58){LQe($+=Zv(UC(M),"&","&\f"),"&\f",g$(d?c[d-1]:0))!=-1&&(I=-1);break}case 34:case 39:case 91:$+=UC(M);break;case 9:case 10:case 13:case 32:$+=VQe(S);break;case 92:$+=qQe(Jv()-1,7);continue;case 47:switch(vd()){case 42:case 47:iv(GQe(UQe(Uc(),Jv()),t,n,l),l),(Hg(S||1)==5||Hg(vd()||1)==5)&&fl($)&&Dm($,-1,void 0)!==" "&&($+=" ");break;default:$+="/"}break;case 123*j:c[d++]=fl($)*I;case 125*j:case 59:case 0:switch(M){case 0:case 125:N=0;case 59+f:I==-1&&($=Zv($,/\f/g,"")),w>0&&(fl($)-g||j===0&&S===47)&&iv(w>32?T7($+";",a,n,g-1,l):T7(Zv($," ","")+";",a,n,g-2,l),l);break;case 59:$+=";";default:if(iv(R=D7($,t,n,d,f,r,c,B,P=[],O=[],g,i),i),M===123)if(f===0)ex($,t,R,R,P,i,g,c,O);else{switch(b){case 99:if(cm($,3)===110)break;case 108:if(cm($,2)===97)break;default:f=0;case 100:case 109:case 115:}f?ex(e,R,R,a&&iv(D7(e,R,R,0,0,r,c,B,r,P=[],g,O),O),r,O,g,c,a?P:O):ex($,R,R,R,[""],O,0,c,O)}}d=f=w=0,j=I=1,B=$="",g=o;break;case 58:g=1+fl($),w=S;default:if(j<1){if(M==123)--j;else if(M==125&&j++==0&&FQe()==125)continue}switch($+=S4(M),M*j){case 38:I=f>0?1:($+="\f",-1);break;case 44:c[d++]=(fl($)-1)*I,I=1;break;case 64:vd()===45&&($+=UC(Uc())),b=vd(),f=g=fl(B=$+=WQe(Jv())),M++;break;case 45:S===45&&fl($)==2&&(j=0)}}return i}function D7(e,t,n,a,r,i,o,c,l,d,f,g){for(var b=r-1,w=r===0?i:[""],S=$Qe(w),j=0,N=0,I=0;j<a;++j)for(var M=0,B=Dm(e,b+1,b=g$(N=o[j])),P=e;M<S;++M)(P=_$(N>0?w[M]+" "+B:Zv(B,/&\f/g,w[M])))&&(l[I++]=P);return j4(e,t,n,r===0?m$:c,l,d,f,g)}function GQe(e,t,n,a){return j4(e,t,n,f$,S4(PQe()),Dm(e,2,-2),0,a)}function T7(e,t,n,a,r){return j4(e,t,n,p$,Dm(e,0,a),Dm(e,a+1,-1),a,r)}function Xj(e,t){for(var n="",a=0;a<e.length;a++)n+=t(e[a],a,e,t)||"";return n}function QQe(e,t,n,a){switch(e.type){case BQe:if(e.children.length)break;case MQe:case RQe:case p$:return e.return=e.return||e.value;case f$:return"";case OQe:return e.return=e.value+"{"+Xj(e.children,a)+"}";case m$:if(!fl(e.value=e.props.join(",")))return""}return fl(n=Xj(e.children,a))?e.return=e.value+"{"+n+"}":""}var A7="data-ant-cssinjs-cache-path",x$="_FILE_STYLE__",Th,b$=!0;function XQe(){if(!Th&&(Th={},nc())){var e=document.createElement("div");e.className=A7,e.style.position="fixed",e.style.visibility="hidden",e.style.top="-9999px",document.body.appendChild(e);var t=getComputedStyle(e).content||"";t=t.replace(/^"/,"").replace(/"$/,""),t.split(";").forEach(function(r){var i=r.split(":"),o=St(i,2),c=o[0],l=o[1];Th[c]=l});var n=document.querySelector("style[".concat(A7,"]"));if(n){var a;b$=!1,(a=n.parentNode)===null||a===void 0||a.removeChild(n)}document.body.removeChild(e)}}function KQe(e){return XQe(),!!Th[e]}function ZQe(e){var t=Th[e],n=null;if(t&&nc())if(b$)n=x$;else{var a=document.querySelector("style[".concat(qc,'="').concat(Th[e],'"]'));a?n=a.innerHTML:delete Th[e]}return[n,t]}var JQe="_skip_check_",y$="_multi_value_";function tx(e){var t=Xj(YQe(e),QQe);return t.replace(/\{%%%\:[^;];}/g,";")}function eXe(e){return Bs(e)==="object"&&e&&(JQe in e||y$ in e)}function M7(e,t,n){if(!t)return e;var a=".".concat(t),r=n==="low"?":where(".concat(a,")"):a,i=e.split(",").map(function(o){var c,l=o.trim().split(/\s+/),d=l[0]||"",f=((c=d.match(/^\w+/))===null||c===void 0?void 0:c[0])||"";return d="".concat(f).concat(r).concat(d.slice(f.length)),[d].concat(fs(l.slice(1))).join(" ")});return i.join(",")}var tXe=function e(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{root:!0,parentSelectors:[]},r=a.root,i=a.injectHash,o=a.parentSelectors,c=n.hashId,l=n.layer;n.path;var d=n.hashPriority,f=n.transformers,g=f===void 0?[]:f;n.linters;var b="",w={};function S(I){var M=I.getName(c);if(!w[M]){var B=e(I.style,n,{root:!1,parentSelectors:o}),P=St(B,1),O=P[0];w[M]="@keyframes ".concat(I.getName(c)).concat(O)}}function j(I){var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return I.forEach(function(B){Array.isArray(B)?j(B,M):B&&M.push(B)}),M}var N=j(Array.isArray(t)?t:[t]);return N.forEach(function(I){var M=typeof I=="string"&&!r?{}:I;if(typeof M=="string")b+="".concat(M,`
`);else if(M._keyframe)S(M);else{var B=g.reduce(function(P,O){var R;return(O==null||(R=O.visit)===null||R===void 0?void 0:R.call(O,P))||P},M);Object.keys(B).forEach(function(P){var O=B[P];if(Bs(O)==="object"&&O&&(P!=="animationName"||!O._keyframe)&&!eXe(O)){var R=!1,$=P.trim(),U=!1;(r||i)&&c?$.startsWith("@")?R=!0:$==="&"?$=M7("",c,d):$=M7(P,c,d):r&&!c&&($==="&"||$==="")&&($="",U=!0);var F=e(O,n,{root:U,injectHash:R,parentSelectors:[].concat(fs(o),[$])}),H=St(F,2),ne=H[0],X=H[1];w=vt(vt({},w),X),b+="".concat($).concat(ne)}else{let V=function(q,T){var J=q.replace(/[A-Z]/g,function(A){return"-".concat(A.toLowerCase())}),Z=T;!AQe[q]&&typeof Z=="number"&&Z!==0&&(Z="".concat(Z,"px")),q==="animationName"&&T!==null&&T!==void 0&&T._keyframe&&(S(T),Z=T.getName(c)),b+="".concat(J,":").concat(Z,";")};var te,se=(te=O==null?void 0:O.value)!==null&&te!==void 0?te:O;Bs(O)==="object"&&O!==null&&O!==void 0&&O[y$]&&Array.isArray(se)?se.forEach(function(q){V(P,q)}):V(P,se)}})}}),r?l&&(b&&(b="@layer ".concat(l.name," {").concat(b,"}")),l.dependencies&&(w["@layer ".concat(l.name)]=l.dependencies.map(function(I){return"@layer ".concat(I,", ").concat(l.name,";")}).join(`
`))):b="{".concat(b,"}"),[b,w]};function w$(e,t){return Pg("".concat(e.join("%")).concat(t))}function nXe(){return null}var C$="style";function Kj(e,t){var n=e.token,a=e.path,r=e.hashId,i=e.layer,o=e.nonce,c=e.clientOnly,l=e.order,d=l===void 0?0:l,f=v.useContext(b0),g=f.autoClear;f.mock;var b=f.defaultCache,w=f.hashPriority,S=f.container,j=f.ssrInline,N=f.transformers,I=f.linters,M=f.cache,B=f.layer,P=n._tokenKey,O=[P];B&&O.push("layer"),O.push.apply(O,fs(a));var R=Yj,$=C4(C$,O,function(){var X=O.join("|");if(KQe(X)){var te=ZQe(X),se=St(te,2),V=se[0],q=se[1];if(V)return[V,P,q,{},c,d]}var T=t(),J=tXe(T,{hashId:r,hashPriority:w,layer:B?i:void 0,path:a.join("-"),transformers:N,linters:I}),Z=St(J,2),A=Z[0],Y=Z[1],K=tx(A),G=w$(O,K);return[K,P,G,Y,c,d]},function(X,te){var se=St(X,3),V=se[2];(te||g)&&Yj&&Fg(V,{mark:qc,attachTo:S})},function(X){var te=St(X,4),se=te[0];te[1];var V=te[2],q=te[3];if(R&&se!==x$){var T={mark:qc,prepend:B?!1:"queue",attachTo:S,priority:d},J=typeof o=="function"?o():o;J&&(T.csp={nonce:J});var Z=[],A=[];Object.keys(q).forEach(function(K){K.startsWith("@layer")?Z.push(K):A.push(K)}),Z.forEach(function(K){gu(tx(q[K]),"_layer-".concat(K),vt(vt({},T),{},{prepend:!0}))});var Y=gu(se,V,T);Y[_d]=M.instanceId,Y.setAttribute(Im,P),A.forEach(function(K){gu(tx(q[K]),"_effect-".concat(K),T)})}}),U=St($,3),F=U[0],H=U[1],ne=U[2];return function(X){var te;return!j||R||!b?te=v.createElement(nXe,null):te=v.createElement("style",Ns({},pt(pt({},Im,H),qc,ne),{dangerouslySetInnerHTML:{__html:F}})),v.createElement(v.Fragment,null,te,X)}}var sXe=function(t,n,a){var r=St(t,6),i=r[0],o=r[1],c=r[2],l=r[3],d=r[4],f=r[5],g=a||{},b=g.plain;if(d)return null;var w=i,S={"data-rc-order":"prependQueue","data-rc-priority":"".concat(f)};return w=ib(i,o,c,S,b),l&&Object.keys(l).forEach(function(j){if(!n[j]){n[j]=!0;var N=tx(l[j]),I=ib(N,o,"_effect-".concat(j),S,b);j.startsWith("@layer")?w=I+w:w+=I}}),[f,c,w]},S$="cssVar",aXe=function(t,n){var a=t.key,r=t.prefix,i=t.unitless,o=t.ignore,c=t.token,l=t.scope,d=l===void 0?"":l,f=v.useContext(b0),g=f.cache.instanceId,b=f.container,w=c._tokenKey,S=[].concat(fs(t.path),[a,d,w]),j=C4(S$,S,function(){var N=n(),I=d$(N,a,{prefix:r,unitless:i,ignore:o,scope:d}),M=St(I,2),B=M[0],P=M[1],O=w$(S,P);return[B,P,O,a]},function(N){var I=St(N,3),M=I[2];Yj&&Fg(M,{mark:qc,attachTo:b})},function(N){var I=St(N,3),M=I[1],B=I[2];if(M){var P=gu(M,B,{mark:qc,prepend:"queue",attachTo:b,priority:-999});P[_d]=g,P.setAttribute(Im,a)}});return j},rXe=function(t,n,a){var r=St(t,4),i=r[1],o=r[2],c=r[3],l=a||{},d=l.plain;if(!i)return null;var f=-999,g={"data-rc-order":"prependQueue","data-rc-priority":"".concat(f)},b=ib(i,c,o,g,d);return[f,o,b]};pt(pt(pt({},C$,sXe),h$,TQe),S$,rXe);var mo=function(){function e(t,n){Mi(this,e),pt(this,"name",void 0),pt(this,"style",void 0),pt(this,"_keyframe",!0),this.name=t,this.style=n}return Ri(e,[{key:"getName",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return n?"".concat(n,"-").concat(this.name):this.name}}]),e}();function Lf(e){return e.notSplit=!0,e}Lf(["borderTop","borderBottom"]),Lf(["borderTop"]),Lf(["borderBottom"]),Lf(["borderLeft","borderRight"]),Lf(["borderLeft"]),Lf(["borderRight"]);var N4=v.createContext({});function iXe(e){return r$(e)||t$(e)||x4(e)||i$()}function bl(e,t){for(var n=e,a=0;a<t.length;a+=1){if(n==null)return;n=n[t[a]]}return n}function j$(e,t,n,a){if(!t.length)return n;var r=iXe(t),i=r[0],o=r.slice(1),c;return!e&&typeof i=="number"?c=[]:Array.isArray(e)?c=fs(e):c=vt({},e),a&&n===void 0&&o.length===1?delete c[i][o[0]]:c[i]=j$(c[i],o,n,a),c}function Bc(e,t,n){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;return t.length&&a&&n===void 0&&!bl(e,t.slice(0,-1))?e:j$(e,t,n,a)}function oXe(e){return Bs(e)==="object"&&e!==null&&Object.getPrototypeOf(e)===Object.prototype}function R7(e){return Array.isArray(e)?[]:{}}var cXe=typeof Reflect>"u"?Object.keys:Reflect.ownKeys;function Zf(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var a=R7(t[0]);return t.forEach(function(r){function i(o,c){var l=new Set(c),d=bl(r,o),f=Array.isArray(d);if(f||oXe(d)){if(!l.has(d)){l.add(d);var g=bl(a,o);f?a=Bc(a,o,[]):(!g||Bs(g)!=="object")&&(a=Bc(a,o,R7(d))),cXe(d).forEach(function(b){i([].concat(fs(o),[b]),l)})}}else a=Bc(a,o,d)}i([])}),a}const lXe=v.createContext({}),uXe=v.createContext(void 0);var dXe={items_per_page:"/ page",jump_to:"Go to",jump_to_confirm:"confirm",page:"Page",prev_page:"Previous Page",next_page:"Next Page",prev_5:"Previous 5 Pages",next_5:"Next 5 Pages",prev_3:"Previous 3 Pages",next_3:"Next 3 Pages",page_size:"Page Size"},hXe={yearFormat:"YYYY",dayFormat:"D",cellMeridiemFormat:"A",monthBeforeYear:!0},fXe=vt(vt({},hXe),{},{locale:"en_US",today:"Today",now:"Now",backToToday:"Back to today",ok:"OK",clear:"Clear",week:"Week",month:"Month",year:"Year",timeSelect:"select time",dateSelect:"select date",weekSelect:"Choose a week",monthSelect:"Choose a month",yearSelect:"Choose a year",decadeSelect:"Choose a decade",dateFormat:"M/D/YYYY",dateTimeFormat:"M/D/YYYY HH:mm:ss",previousMonth:"Previous month (PageUp)",nextMonth:"Next month (PageDown)",previousYear:"Last year (Control + left)",nextYear:"Next year (Control + right)",previousDecade:"Last decade",nextDecade:"Next decade",previousCentury:"Last century",nextCentury:"Next century"});const N$={placeholder:"Select time",rangePlaceholder:["Start time","End time"]},ob={lang:Object.assign({placeholder:"Select date",yearPlaceholder:"Select year",quarterPlaceholder:"Select quarter",monthPlaceholder:"Select month",weekPlaceholder:"Select week",rangePlaceholder:["Start date","End date"],rangeYearPlaceholder:["Start year","End year"],rangeQuarterPlaceholder:["Start quarter","End quarter"],rangeMonthPlaceholder:["Start month","End month"],rangeWeekPlaceholder:["Start week","End week"]},fXe),timePickerLocale:Object.assign({},N$)},Uo="${label} is not a valid ${type}",Am={locale:"en",Pagination:dXe,DatePicker:ob,TimePicker:N$,Calendar:ob,global:{placeholder:"Please select",close:"Close"},Table:{filterTitle:"Filter menu",filterConfirm:"OK",filterReset:"Reset",filterEmptyText:"No filters",filterCheckAll:"Select all items",filterSearchPlaceholder:"Search in filters",emptyText:"No data",selectAll:"Select current page",selectInvert:"Invert current page",selectNone:"Clear all data",selectionAll:"Select all data",sortTitle:"Sort",expand:"Expand row",collapse:"Collapse row",triggerDesc:"Click to sort descending",triggerAsc:"Click to sort ascending",cancelSort:"Click to cancel sorting"},Tour:{Next:"Next",Previous:"Previous",Finish:"Finish"},Modal:{okText:"OK",cancelText:"Cancel",justOkText:"OK"},Popconfirm:{okText:"OK",cancelText:"Cancel"},Transfer:{titles:["",""],searchPlaceholder:"Search here",itemUnit:"item",itemsUnit:"items",remove:"Remove",selectCurrent:"Select current page",removeCurrent:"Remove current page",selectAll:"Select all data",deselectAll:"Deselect all data",removeAll:"Remove all data",selectInvert:"Invert current page"},Upload:{uploading:"Uploading...",removeFile:"Remove file",uploadError:"Upload error",previewFile:"Preview file",downloadFile:"Download file"},Empty:{description:"No data"},Icon:{icon:"icon"},Text:{edit:"Edit",copy:"Copy",copied:"Copied",expand:"Expand",collapse:"Collapse"},Form:{optional:"(optional)",defaultValidateMessages:{default:"Field validation error for ${label}",required:"Please enter ${label}",enum:"${label} must be one of [${enum}]",whitespace:"${label} cannot be a blank character",date:{format:"${label} date format is invalid",parse:"${label} cannot be converted to a date",invalid:"${label} is an invalid date"},types:{string:Uo,method:Uo,array:Uo,object:Uo,number:Uo,date:Uo,boolean:Uo,integer:Uo,float:Uo,regexp:Uo,email:Uo,url:Uo,hex:Uo},string:{len:"${label} must be ${len} characters",min:"${label} must be at least ${min} characters",max:"${label} must be up to ${max} characters",range:"${label} must be between ${min}-${max} characters"},number:{len:"${label} must be equal to ${len}",min:"${label} must be minimum ${min}",max:"${label} must be maximum ${max}",range:"${label} must be between ${min}-${max}"},array:{len:"Must be ${len} ${label}",min:"At least ${min} ${label}",max:"At most ${max} ${label}",range:"The amount of ${label} must be between ${min}-${max}"},pattern:{mismatch:"${label} does not match the pattern ${pattern}"}}},Image:{preview:"Preview"},QRCode:{expired:"QR code expired",refresh:"Refresh",scanned:"Scanned"},ColorPicker:{presetEmpty:"Empty",transparent:"Transparent",singleColor:"Single",gradientColor:"Gradient"}};Object.assign({},Am.Modal);let nx=[];const O7=()=>nx.reduce((e,t)=>Object.assign(Object.assign({},e),t),Am.Modal);function mXe(e){if(e){const t=Object.assign({},e);return nx.push(t),O7(),()=>{nx=nx.filter(n=>n!==t),O7()}}Object.assign({},Am.Modal)}const E4=v.createContext(void 0),E$=(e,t)=>{const n=v.useContext(E4),a=v.useMemo(()=>{var i;const o=t||Am[e],c=(i=n==null?void 0:n[e])!==null&&i!==void 0?i:{};return Object.assign(Object.assign({},typeof o=="function"?o():o),c||{})},[e,t,n]),r=v.useMemo(()=>{const i=n==null?void 0:n.locale;return n!=null&&n.exist&&!i?Am.locale:i},[n]);return[a,r]},pXe="internalMark",gXe=e=>{const{locale:t={},children:n,_ANT_MARK__:a}=e;v.useEffect(()=>mXe(t==null?void 0:t.Modal),[t]);const r=v.useMemo(()=>Object.assign(Object.assign({},t),{exist:!0}),[t]);return v.createElement(E4.Provider,{value:r},n)},k$={blue:"#1677FF",purple:"#722ED1",cyan:"#13C2C2",green:"#52C41A",magenta:"#EB2F96",pink:"#EB2F96",red:"#F5222D",orange:"#FA8C16",yellow:"#FADB14",volcano:"#FA541C",geekblue:"#2F54EB",gold:"#FAAD14",lime:"#A0D911"},zg=Object.assign(Object.assign({},k$),{colorPrimary:"#1677ff",colorSuccess:"#52c41a",colorWarning:"#faad14",colorError:"#ff4d4f",colorInfo:"#1677ff",colorLink:"",colorTextBase:"",colorBgBase:"",fontFamily:`-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial,
'Noto Sans', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol',
'Noto Color Emoji'`,fontFamilyCode:"'SFMono-Regular', Consolas, 'Liberation Mono', Menlo, Courier, monospace",fontSize:14,lineWidth:1,lineType:"solid",motionUnit:.1,motionBase:0,motionEaseOutCirc:"cubic-bezier(0.08, 0.82, 0.17, 1)",motionEaseInOutCirc:"cubic-bezier(0.78, 0.14, 0.15, 0.86)",motionEaseOut:"cubic-bezier(0.215, 0.61, 0.355, 1)",motionEaseInOut:"cubic-bezier(0.645, 0.045, 0.355, 1)",motionEaseOutBack:"cubic-bezier(0.12, 0.4, 0.29, 1.46)",motionEaseInBack:"cubic-bezier(0.71, -0.46, 0.88, 0.6)",motionEaseInQuint:"cubic-bezier(0.755, 0.05, 0.855, 0.06)",motionEaseOutQuint:"cubic-bezier(0.23, 1, 0.32, 1)",borderRadius:6,sizeUnit:4,sizeStep:4,sizePopupArrow:16,controlHeight:32,zIndexBase:0,zIndexPopupBase:1e3,opacityImage:1,wireframe:!1,motion:!0}),Pi=Math.round;function WC(e,t){const n=e.replace(/^[^(]*\((.*)/,"$1").replace(/\).*/,"").match(/\d*\.?\d+%?/g)||[],a=n.map(r=>parseFloat(r));for(let r=0;r<3;r+=1)a[r]=t(a[r]||0,n[r]||"",r);return n[3]?a[3]=n[3].includes("%")?a[3]/100:a[3]:a[3]=1,a}const B7=(e,t,n)=>n===0?e:e/100;function p1(e,t){const n=t||255;return e>n?n:e<0?0:e}class wr{constructor(t){pt(this,"isValid",!0),pt(this,"r",0),pt(this,"g",0),pt(this,"b",0),pt(this,"a",1),pt(this,"_h",void 0),pt(this,"_s",void 0),pt(this,"_l",void 0),pt(this,"_v",void 0),pt(this,"_max",void 0),pt(this,"_min",void 0),pt(this,"_brightness",void 0);function n(r){return r[0]in t&&r[1]in t&&r[2]in t}if(t)if(typeof t=="string"){let i=function(o){return r.startsWith(o)};var a=i;const r=t.trim();/^#?[A-F\d]{3,8}$/i.test(r)?this.fromHexString(r):i("rgb")?this.fromRgbString(r):i("hsl")?this.fromHslString(r):(i("hsv")||i("hsb"))&&this.fromHsvString(r)}else if(t instanceof wr)this.r=t.r,this.g=t.g,this.b=t.b,this.a=t.a,this._h=t._h,this._s=t._s,this._l=t._l,this._v=t._v;else if(n("rgb"))this.r=p1(t.r),this.g=p1(t.g),this.b=p1(t.b),this.a=typeof t.a=="number"?p1(t.a,1):1;else if(n("hsl"))this.fromHsl(t);else if(n("hsv"))this.fromHsv(t);else throw new Error("@ant-design/fast-color: unsupported input "+JSON.stringify(t))}setR(t){return this._sc("r",t)}setG(t){return this._sc("g",t)}setB(t){return this._sc("b",t)}setA(t){return this._sc("a",t,1)}setHue(t){const n=this.toHsv();return n.h=t,this._c(n)}getLuminance(){function t(i){const o=i/255;return o<=.03928?o/12.92:Math.pow((o+.055)/1.055,2.4)}const n=t(this.r),a=t(this.g),r=t(this.b);return .2126*n+.7152*a+.0722*r}getHue(){if(typeof this._h>"u"){const t=this.getMax()-this.getMin();t===0?this._h=0:this._h=Pi(60*(this.r===this.getMax()?(this.g-this.b)/t+(this.g<this.b?6:0):this.g===this.getMax()?(this.b-this.r)/t+2:(this.r-this.g)/t+4))}return this._h}getSaturation(){if(typeof this._s>"u"){const t=this.getMax()-this.getMin();t===0?this._s=0:this._s=t/this.getMax()}return this._s}getLightness(){return typeof this._l>"u"&&(this._l=(this.getMax()+this.getMin())/510),this._l}getValue(){return typeof this._v>"u"&&(this._v=this.getMax()/255),this._v}getBrightness(){return typeof this._brightness>"u"&&(this._brightness=(this.r*299+this.g*587+this.b*114)/1e3),this._brightness}darken(t=10){const n=this.getHue(),a=this.getSaturation();let r=this.getLightness()-t/100;return r<0&&(r=0),this._c({h:n,s:a,l:r,a:this.a})}lighten(t=10){const n=this.getHue(),a=this.getSaturation();let r=this.getLightness()+t/100;return r>1&&(r=1),this._c({h:n,s:a,l:r,a:this.a})}mix(t,n=50){const a=this._c(t),r=n/100,i=c=>(a[c]-this[c])*r+this[c],o={r:Pi(i("r")),g:Pi(i("g")),b:Pi(i("b")),a:Pi(i("a")*100)/100};return this._c(o)}tint(t=10){return this.mix({r:255,g:255,b:255,a:1},t)}shade(t=10){return this.mix({r:0,g:0,b:0,a:1},t)}onBackground(t){const n=this._c(t),a=this.a+n.a*(1-this.a),r=i=>Pi((this[i]*this.a+n[i]*n.a*(1-this.a))/a);return this._c({r:r("r"),g:r("g"),b:r("b"),a})}isDark(){return this.getBrightness()<128}isLight(){return this.getBrightness()>=128}equals(t){return this.r===t.r&&this.g===t.g&&this.b===t.b&&this.a===t.a}clone(){return this._c(this)}toHexString(){let t="#";const n=(this.r||0).toString(16);t+=n.length===2?n:"0"+n;const a=(this.g||0).toString(16);t+=a.length===2?a:"0"+a;const r=(this.b||0).toString(16);if(t+=r.length===2?r:"0"+r,typeof this.a=="number"&&this.a>=0&&this.a<1){const i=Pi(this.a*255).toString(16);t+=i.length===2?i:"0"+i}return t}toHsl(){return{h:this.getHue(),s:this.getSaturation(),l:this.getLightness(),a:this.a}}toHslString(){const t=this.getHue(),n=Pi(this.getSaturation()*100),a=Pi(this.getLightness()*100);return this.a!==1?`hsla(${t},${n}%,${a}%,${this.a})`:`hsl(${t},${n}%,${a}%)`}toHsv(){return{h:this.getHue(),s:this.getSaturation(),v:this.getValue(),a:this.a}}toRgb(){return{r:this.r,g:this.g,b:this.b,a:this.a}}toRgbString(){return this.a!==1?`rgba(${this.r},${this.g},${this.b},${this.a})`:`rgb(${this.r},${this.g},${this.b})`}toString(){return this.toRgbString()}_sc(t,n,a){const r=this.clone();return r[t]=p1(n,a),r}_c(t){return new this.constructor(t)}getMax(){return typeof this._max>"u"&&(this._max=Math.max(this.r,this.g,this.b)),this._max}getMin(){return typeof this._min>"u"&&(this._min=Math.min(this.r,this.g,this.b)),this._min}fromHexString(t){const n=t.replace("#","");function a(r,i){return parseInt(n[r]+n[i||r],16)}n.length<6?(this.r=a(0),this.g=a(1),this.b=a(2),this.a=n[3]?a(3)/255:1):(this.r=a(0,1),this.g=a(2,3),this.b=a(4,5),this.a=n[6]?a(6,7)/255:1)}fromHsl({h:t,s:n,l:a,a:r}){if(this._h=t%360,this._s=n,this._l=a,this.a=typeof r=="number"?r:1,n<=0){const b=Pi(a*255);this.r=b,this.g=b,this.b=b}let i=0,o=0,c=0;const l=t/60,d=(1-Math.abs(2*a-1))*n,f=d*(1-Math.abs(l%2-1));l>=0&&l<1?(i=d,o=f):l>=1&&l<2?(i=f,o=d):l>=2&&l<3?(o=d,c=f):l>=3&&l<4?(o=f,c=d):l>=4&&l<5?(i=f,c=d):l>=5&&l<6&&(i=d,c=f);const g=a-d/2;this.r=Pi((i+g)*255),this.g=Pi((o+g)*255),this.b=Pi((c+g)*255)}fromHsv({h:t,s:n,v:a,a:r}){this._h=t%360,this._s=n,this._v=a,this.a=typeof r=="number"?r:1;const i=Pi(a*255);if(this.r=i,this.g=i,this.b=i,n<=0)return;const o=t/60,c=Math.floor(o),l=o-c,d=Pi(a*(1-n)*255),f=Pi(a*(1-n*l)*255),g=Pi(a*(1-n*(1-l))*255);switch(c){case 0:this.g=g,this.b=d;break;case 1:this.r=f,this.b=d;break;case 2:this.r=d,this.b=g;break;case 3:this.r=d,this.g=f;break;case 4:this.r=g,this.g=d;break;case 5:default:this.g=d,this.b=f;break}}fromHsvString(t){const n=WC(t,B7);this.fromHsv({h:n[0],s:n[1],v:n[2],a:n[3]})}fromHslString(t){const n=WC(t,B7);this.fromHsl({h:n[0],s:n[1],l:n[2],a:n[3]})}fromRgbString(t){const n=WC(t,(a,r)=>r.includes("%")?Pi(a/100*255):a);this.r=n[0],this.g=n[1],this.b=n[2],this.a=n[3]}}var ov=2,L7=.16,_Xe=.05,vXe=.05,xXe=.15,I$=5,D$=4,bXe=[{index:7,amount:15},{index:6,amount:25},{index:5,amount:30},{index:5,amount:45},{index:5,amount:65},{index:5,amount:85},{index:4,amount:90},{index:3,amount:95},{index:2,amount:97},{index:1,amount:98}];function $7(e,t,n){var a;return Math.round(e.h)>=60&&Math.round(e.h)<=240?a=n?Math.round(e.h)-ov*t:Math.round(e.h)+ov*t:a=n?Math.round(e.h)+ov*t:Math.round(e.h)-ov*t,a<0?a+=360:a>=360&&(a-=360),a}function P7(e,t,n){if(e.h===0&&e.s===0)return e.s;var a;return n?a=e.s-L7*t:t===D$?a=e.s+L7:a=e.s+_Xe*t,a>1&&(a=1),n&&t===I$&&a>.1&&(a=.1),a<.06&&(a=.06),Math.round(a*100)/100}function F7(e,t,n){var a;return n?a=e.v+vXe*t:a=e.v-xXe*t,a=Math.max(0,Math.min(1,a)),Math.round(a*100)/100}function Vg(e){for(var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=[],a=new wr(e),r=a.toHsv(),i=I$;i>0;i-=1){var o=new wr({h:$7(r,i,!0),s:P7(r,i,!0),v:F7(r,i,!0)});n.push(o)}n.push(a);for(var c=1;c<=D$;c+=1){var l=new wr({h:$7(r,c),s:P7(r,c),v:F7(r,c)});n.push(l)}return t.theme==="dark"?bXe.map(function(d){var f=d.index,g=d.amount;return new wr(t.backgroundColor||"#141414").mix(n[f],g).toHexString()}):n.map(function(d){return d.toHexString()})}var YC={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1677FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"},Zj=["#fff1f0","#ffccc7","#ffa39e","#ff7875","#ff4d4f","#f5222d","#cf1322","#a8071a","#820014","#5c0011"];Zj.primary=Zj[5];var Jj=["#fff2e8","#ffd8bf","#ffbb96","#ff9c6e","#ff7a45","#fa541c","#d4380d","#ad2102","#871400","#610b00"];Jj.primary=Jj[5];var eN=["#fff7e6","#ffe7ba","#ffd591","#ffc069","#ffa940","#fa8c16","#d46b08","#ad4e00","#873800","#612500"];eN.primary=eN[5];var tN=["#fffbe6","#fff1b8","#ffe58f","#ffd666","#ffc53d","#faad14","#d48806","#ad6800","#874d00","#613400"];tN.primary=tN[5];var nN=["#feffe6","#ffffb8","#fffb8f","#fff566","#ffec3d","#fadb14","#d4b106","#ad8b00","#876800","#614700"];nN.primary=nN[5];var sN=["#fcffe6","#f4ffb8","#eaff8f","#d3f261","#bae637","#a0d911","#7cb305","#5b8c00","#3f6600","#254000"];sN.primary=sN[5];var aN=["#f6ffed","#d9f7be","#b7eb8f","#95de64","#73d13d","#52c41a","#389e0d","#237804","#135200","#092b00"];aN.primary=aN[5];var rN=["#e6fffb","#b5f5ec","#87e8de","#5cdbd3","#36cfc9","#13c2c2","#08979c","#006d75","#00474f","#002329"];rN.primary=rN[5];var cb=["#e6f4ff","#bae0ff","#91caff","#69b1ff","#4096ff","#1677ff","#0958d9","#003eb3","#002c8c","#001d66"];cb.primary=cb[5];var iN=["#f0f5ff","#d6e4ff","#adc6ff","#85a5ff","#597ef7","#2f54eb","#1d39c4","#10239e","#061178","#030852"];iN.primary=iN[5];var oN=["#f9f0ff","#efdbff","#d3adf7","#b37feb","#9254de","#722ed1","#531dab","#391085","#22075e","#120338"];oN.primary=oN[5];var cN=["#fff0f6","#ffd6e7","#ffadd2","#ff85c0","#f759ab","#eb2f96","#c41d7f","#9e1068","#780650","#520339"];cN.primary=cN[5];var lN=["#a6a6a6","#999999","#8c8c8c","#808080","#737373","#666666","#404040","#1a1a1a","#000000","#000000"];lN.primary=lN[5];var GC={red:Zj,volcano:Jj,orange:eN,gold:tN,yellow:nN,lime:sN,green:aN,cyan:rN,blue:cb,geekblue:iN,purple:oN,magenta:cN,grey:lN};function yXe(e,{generateColorPalettes:t,generateNeutralColorPalettes:n}){const{colorSuccess:a,colorWarning:r,colorError:i,colorInfo:o,colorPrimary:c,colorBgBase:l,colorTextBase:d}=e,f=t(c),g=t(a),b=t(r),w=t(i),S=t(o),j=n(l,d),N=e.colorLink||e.colorInfo,I=t(N),M=new wr(w[1]).mix(new wr(w[3]),50).toHexString();return Object.assign(Object.assign({},j),{colorPrimaryBg:f[1],colorPrimaryBgHover:f[2],colorPrimaryBorder:f[3],colorPrimaryBorderHover:f[4],colorPrimaryHover:f[5],colorPrimary:f[6],colorPrimaryActive:f[7],colorPrimaryTextHover:f[8],colorPrimaryText:f[9],colorPrimaryTextActive:f[10],colorSuccessBg:g[1],colorSuccessBgHover:g[2],colorSuccessBorder:g[3],colorSuccessBorderHover:g[4],colorSuccessHover:g[4],colorSuccess:g[6],colorSuccessActive:g[7],colorSuccessTextHover:g[8],colorSuccessText:g[9],colorSuccessTextActive:g[10],colorErrorBg:w[1],colorErrorBgHover:w[2],colorErrorBgFilledHover:M,colorErrorBgActive:w[3],colorErrorBorder:w[3],colorErrorBorderHover:w[4],colorErrorHover:w[5],colorError:w[6],colorErrorActive:w[7],colorErrorTextHover:w[8],colorErrorText:w[9],colorErrorTextActive:w[10],colorWarningBg:b[1],colorWarningBgHover:b[2],colorWarningBorder:b[3],colorWarningBorderHover:b[4],colorWarningHover:b[4],colorWarning:b[6],colorWarningActive:b[7],colorWarningTextHover:b[8],colorWarningText:b[9],colorWarningTextActive:b[10],colorInfoBg:S[1],colorInfoBgHover:S[2],colorInfoBorder:S[3],colorInfoBorderHover:S[4],colorInfoHover:S[4],colorInfo:S[6],colorInfoActive:S[7],colorInfoTextHover:S[8],colorInfoText:S[9],colorInfoTextActive:S[10],colorLinkHover:I[4],colorLink:I[6],colorLinkActive:I[7],colorBgMask:new wr("#000").setA(.45).toRgbString(),colorWhite:"#fff"})}const wXe=e=>{let t=e,n=e,a=e,r=e;return e<6&&e>=5?t=e+1:e<16&&e>=6?t=e+2:e>=16&&(t=16),e<7&&e>=5?n=4:e<8&&e>=7?n=5:e<14&&e>=8?n=6:e<16&&e>=14?n=7:e>=16&&(n=8),e<6&&e>=2?a=1:e>=6&&(a=2),e>4&&e<8?r=4:e>=8&&(r=6),{borderRadius:e,borderRadiusXS:a,borderRadiusSM:n,borderRadiusLG:t,borderRadiusOuter:r}};function CXe(e){const{motionUnit:t,motionBase:n,borderRadius:a,lineWidth:r}=e;return Object.assign({motionDurationFast:`${(n+t).toFixed(1)}s`,motionDurationMid:`${(n+t*2).toFixed(1)}s`,motionDurationSlow:`${(n+t*3).toFixed(1)}s`,lineWidthBold:r+1},wXe(a))}const SXe=e=>{const{controlHeight:t}=e;return{controlHeightSM:t*.75,controlHeightXS:t*.5,controlHeightLG:t*1.25}};function sx(e){return(e+8)/e}function jXe(e){const t=Array.from({length:10}).map((n,a)=>{const r=a-1,i=e*Math.pow(Math.E,r/5),o=a>1?Math.floor(i):Math.ceil(i);return Math.floor(o/2)*2});return t[1]=e,t.map(n=>({size:n,lineHeight:sx(n)}))}const NXe=e=>{const t=jXe(e),n=t.map(f=>f.size),a=t.map(f=>f.lineHeight),r=n[1],i=n[0],o=n[2],c=a[1],l=a[0],d=a[2];return{fontSizeSM:i,fontSize:r,fontSizeLG:o,fontSizeXL:n[3],fontSizeHeading1:n[6],fontSizeHeading2:n[5],fontSizeHeading3:n[4],fontSizeHeading4:n[3],fontSizeHeading5:n[2],lineHeight:c,lineHeightLG:d,lineHeightSM:l,fontHeight:Math.round(c*r),fontHeightLG:Math.round(d*o),fontHeightSM:Math.round(l*i),lineHeightHeading1:a[6],lineHeightHeading2:a[5],lineHeightHeading3:a[4],lineHeightHeading4:a[3],lineHeightHeading5:a[2]}};function EXe(e){const{sizeUnit:t,sizeStep:n}=e;return{sizeXXL:t*(n+8),sizeXL:t*(n+4),sizeLG:t*(n+2),sizeMD:t*(n+1),sizeMS:t*n,size:t*n,sizeSM:t*(n-1),sizeXS:t*(n-2),sizeXXS:t*(n-3)}}const gc=(e,t)=>new wr(e).setA(t).toRgbString(),g1=(e,t)=>new wr(e).darken(t).toHexString(),kXe=e=>{const t=Vg(e);return{1:t[0],2:t[1],3:t[2],4:t[3],5:t[4],6:t[5],7:t[6],8:t[4],9:t[5],10:t[6]}},IXe=(e,t)=>{const n=e||"#fff",a=t||"#000";return{colorBgBase:n,colorTextBase:a,colorText:gc(a,.88),colorTextSecondary:gc(a,.65),colorTextTertiary:gc(a,.45),colorTextQuaternary:gc(a,.25),colorFill:gc(a,.15),colorFillSecondary:gc(a,.06),colorFillTertiary:gc(a,.04),colorFillQuaternary:gc(a,.02),colorBgSolid:gc(a,1),colorBgSolidHover:gc(a,.75),colorBgSolidActive:gc(a,.95),colorBgLayout:g1(n,4),colorBgContainer:g1(n,0),colorBgElevated:g1(n,0),colorBgSpotlight:gc(a,.85),colorBgBlur:"transparent",colorBorder:g1(n,15),colorBorderSecondary:g1(n,6)}};function DXe(e){YC.pink=YC.magenta,GC.pink=GC.magenta;const t=Object.keys(k$).map(n=>{const a=e[n]===YC[n]?GC[n]:Vg(e[n]);return Array.from({length:10},()=>1).reduce((r,i,o)=>(r[`${n}-${o+1}`]=a[o],r[`${n}${o+1}`]=a[o],r),{})}).reduce((n,a)=>(n=Object.assign(Object.assign({},n),a),n),{});return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},e),t),yXe(e,{generateColorPalettes:kXe,generateNeutralColorPalettes:IXe})),NXe(e.fontSize)),EXe(e)),SXe(e)),CXe(e))}const T$=Wj(DXe),uN={token:zg,override:{override:zg},hashed:!0},A$=Je.createContext(uN),lb="ant",k4="anticon",TXe=["outlined","borderless","filled","underlined"],AXe=(e,t)=>t||(e?`${lb}-${e}`:lb),bo=v.createContext({getPrefixCls:AXe,iconPrefixCls:k4}),{Consumer:_3t}=bo,H7={};function M$(e){const t=v.useContext(bo),{getPrefixCls:n,direction:a,getPopupContainer:r}=t,i=t[e];return Object.assign(Object.assign({classNames:H7,styles:H7},i),{getPrefixCls:n,direction:a,getPopupContainer:r})}const MXe=`-ant-${Date.now()}-${Math.random()}`;function RXe(e,t){const n={},a=(o,c)=>{let l=o.clone();return l=(c==null?void 0:c(l))||l,l.toRgbString()},r=(o,c)=>{const l=new wr(o),d=Vg(l.toRgbString());n[`${c}-color`]=a(l),n[`${c}-color-disabled`]=d[1],n[`${c}-color-hover`]=d[4],n[`${c}-color-active`]=d[6],n[`${c}-color-outline`]=l.clone().setA(.2).toRgbString(),n[`${c}-color-deprecated-bg`]=d[0],n[`${c}-color-deprecated-border`]=d[2]};if(t.primaryColor){r(t.primaryColor,"primary");const o=new wr(t.primaryColor),c=Vg(o.toRgbString());c.forEach((d,f)=>{n[`primary-${f+1}`]=d}),n["primary-color-deprecated-l-35"]=a(o,d=>d.lighten(35)),n["primary-color-deprecated-l-20"]=a(o,d=>d.lighten(20)),n["primary-color-deprecated-t-20"]=a(o,d=>d.tint(20)),n["primary-color-deprecated-t-50"]=a(o,d=>d.tint(50)),n["primary-color-deprecated-f-12"]=a(o,d=>d.setA(d.a*.12));const l=new wr(c[0]);n["primary-color-active-deprecated-f-30"]=a(l,d=>d.setA(d.a*.3)),n["primary-color-active-deprecated-d-02"]=a(l,d=>d.darken(2))}return t.successColor&&r(t.successColor,"success"),t.warningColor&&r(t.warningColor,"warning"),t.errorColor&&r(t.errorColor,"error"),t.infoColor&&r(t.infoColor,"info"),`
  :root {
    ${Object.keys(n).map(o=>`--${e}-${o}: ${n[o]};`).join(`
`)}
  }
  `.trim()}function OXe(e,t){const n=RXe(e,t);nc()&&gu(n,`${MXe}-dynamic-theme`)}const Mm=v.createContext(!1),BXe=({children:e,disabled:t})=>{const n=v.useContext(Mm);return v.createElement(Mm.Provider,{value:t??n},e)},Rm=v.createContext(void 0),LXe=({children:e,size:t})=>{const n=v.useContext(Rm);return v.createElement(Rm.Provider,{value:t||n},e)};function $Xe(){const e=v.useContext(Mm),t=v.useContext(Rm);return{componentDisabled:e,componentSize:t}}var R$=Ri(function e(){Mi(this,e)}),O$="CALC_UNIT",PXe=new RegExp(O$,"g");function QC(e){return typeof e=="number"?"".concat(e).concat(O$):e}var FXe=function(e){Td(n,e);var t=Ad(n);function n(a,r){var i;Mi(this,n),i=t.call(this),pt(_a(i),"result",""),pt(_a(i),"unitlessCssVar",void 0),pt(_a(i),"lowPriority",void 0);var o=Bs(a);return i.unitlessCssVar=r,a instanceof n?i.result="(".concat(a.result,")"):o==="number"?i.result=QC(a):o==="string"&&(i.result=a),i}return Ri(n,[{key:"add",value:function(r){return r instanceof n?this.result="".concat(this.result," + ").concat(r.getResult()):(typeof r=="number"||typeof r=="string")&&(this.result="".concat(this.result," + ").concat(QC(r))),this.lowPriority=!0,this}},{key:"sub",value:function(r){return r instanceof n?this.result="".concat(this.result," - ").concat(r.getResult()):(typeof r=="number"||typeof r=="string")&&(this.result="".concat(this.result," - ").concat(QC(r))),this.lowPriority=!0,this}},{key:"mul",value:function(r){return this.lowPriority&&(this.result="(".concat(this.result,")")),r instanceof n?this.result="".concat(this.result," * ").concat(r.getResult(!0)):(typeof r=="number"||typeof r=="string")&&(this.result="".concat(this.result," * ").concat(r)),this.lowPriority=!1,this}},{key:"div",value:function(r){return this.lowPriority&&(this.result="(".concat(this.result,")")),r instanceof n?this.result="".concat(this.result," / ").concat(r.getResult(!0)):(typeof r=="number"||typeof r=="string")&&(this.result="".concat(this.result," / ").concat(r)),this.lowPriority=!1,this}},{key:"getResult",value:function(r){return this.lowPriority||r?"(".concat(this.result,")"):this.result}},{key:"equal",value:function(r){var i=this,o=r||{},c=o.unit,l=!0;return typeof c=="boolean"?l=c:Array.from(this.unitlessCssVar).some(function(d){return i.result.includes(d)})&&(l=!1),this.result=this.result.replace(PXe,l?"px":""),typeof this.lowPriority<"u"?"calc(".concat(this.result,")"):this.result}}]),n}(R$),HXe=function(e){Td(n,e);var t=Ad(n);function n(a){var r;return Mi(this,n),r=t.call(this),pt(_a(r),"result",0),a instanceof n?r.result=a.result:typeof a=="number"&&(r.result=a),r}return Ri(n,[{key:"add",value:function(r){return r instanceof n?this.result+=r.result:typeof r=="number"&&(this.result+=r),this}},{key:"sub",value:function(r){return r instanceof n?this.result-=r.result:typeof r=="number"&&(this.result-=r),this}},{key:"mul",value:function(r){return r instanceof n?this.result*=r.result:typeof r=="number"&&(this.result*=r),this}},{key:"div",value:function(r){return r instanceof n?this.result/=r.result:typeof r=="number"&&(this.result/=r),this}},{key:"equal",value:function(){return this.result}}]),n}(R$),zXe=function(t,n){var a=t==="css"?FXe:HXe;return function(r){return new a(r,n)}},z7=function(t,n){return"".concat([n,t.replace(/([A-Z]+)([A-Z][a-z]+)/g,"$1-$2").replace(/([a-z])([A-Z])/g,"$1-$2")].filter(Boolean).join("-"))};function Za(e){var t=v.useRef();t.current=e;var n=v.useCallback(function(){for(var a,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(a=t.current)===null||a===void 0?void 0:a.call.apply(a,[t].concat(i))},[]);return n}function qg(e){var t=v.useRef(!1),n=v.useState(e),a=St(n,2),r=a[0],i=a[1];v.useEffect(function(){return t.current=!1,function(){t.current=!0}},[]);function o(c,l){l&&t.current||i(c)}return[r,o]}function XC(e){return e!==void 0}function Il(e,t){var n=t||{},a=n.defaultValue,r=n.value,i=n.onChange,o=n.postState,c=qg(function(){return XC(r)?r:XC(a)?typeof a=="function"?a():a:typeof e=="function"?e():e}),l=St(c,2),d=l[0],f=l[1],g=r!==void 0?r:d,b=o?o(g):g,w=Za(i),S=qg([g]),j=St(S,2),N=j[0],I=j[1];Gj(function(){var B=N[0];d!==B&&w(d,B)},[N]),Gj(function(){XC(r)||f(r)},[r]);var M=Za(function(B,P){f(B,P),I([g],P)});return[b,M]}function V7(e,t,n,a){var r=vt({},t[e]);if(a!=null&&a.deprecatedTokens){var i=a.deprecatedTokens;i.forEach(function(c){var l=St(c,2),d=l[0],f=l[1];if(r!=null&&r[d]||r!=null&&r[f]){var g;(g=r[f])!==null&&g!==void 0||(r[f]=r==null?void 0:r[d])}})}var o=vt(vt({},n),r);return Object.keys(o).forEach(function(c){o[c]===t[c]&&delete o[c]}),o}var B$=typeof CSSINJS_STATISTIC<"u",dN=!0;function sc(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(!B$)return Object.assign.apply(Object,[{}].concat(t));dN=!1;var a={};return t.forEach(function(r){if(Bs(r)==="object"){var i=Object.keys(r);i.forEach(function(o){Object.defineProperty(a,o,{configurable:!0,enumerable:!0,get:function(){return r[o]}})})}}),dN=!0,a}var q7={};function VXe(){}var qXe=function(t){var n,a=t,r=VXe;return B$&&typeof Proxy<"u"&&(n=new Set,a=new Proxy(t,{get:function(o,c){if(dN){var l;(l=n)===null||l===void 0||l.add(c)}return o[c]}}),r=function(o,c){var l;q7[o]={global:Array.from(n),component:vt(vt({},(l=q7[o])===null||l===void 0?void 0:l.component),c)}}),{token:a,keys:n,flush:r}};function U7(e,t,n){if(typeof n=="function"){var a;return n(sc(t,(a=t[e])!==null&&a!==void 0?a:{}))}return n??{}}function UXe(e){return e==="js"?{max:Math.max,min:Math.min}:{max:function(){for(var n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return"max(".concat(a.map(function(i){return hs(i)}).join(","),")")},min:function(){for(var n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return"min(".concat(a.map(function(i){return hs(i)}).join(","),")")}}}var WXe=1e3*60*10,YXe=function(){function e(){Mi(this,e),pt(this,"map",new Map),pt(this,"objectIDMap",new WeakMap),pt(this,"nextID",0),pt(this,"lastAccessBeat",new Map),pt(this,"accessBeat",0)}return Ri(e,[{key:"set",value:function(n,a){this.clear();var r=this.getCompositeKey(n);this.map.set(r,a),this.lastAccessBeat.set(r,Date.now())}},{key:"get",value:function(n){var a=this.getCompositeKey(n),r=this.map.get(a);return this.lastAccessBeat.set(a,Date.now()),this.accessBeat+=1,r}},{key:"getCompositeKey",value:function(n){var a=this,r=n.map(function(i){return i&&Bs(i)==="object"?"obj_".concat(a.getObjectID(i)):"".concat(Bs(i),"_").concat(i)});return r.join("|")}},{key:"getObjectID",value:function(n){if(this.objectIDMap.has(n))return this.objectIDMap.get(n);var a=this.nextID;return this.objectIDMap.set(n,a),this.nextID+=1,a}},{key:"clear",value:function(){var n=this;if(this.accessBeat>1e4){var a=Date.now();this.lastAccessBeat.forEach(function(r,i){a-r>WXe&&(n.map.delete(i),n.lastAccessBeat.delete(i))}),this.accessBeat=0}}}]),e}(),W7=new YXe;function GXe(e,t){return Je.useMemo(function(){var n=W7.get(t);if(n)return n;var a=e();return W7.set(t,a),a},t)}var QXe=function(){return{}};function XXe(e){var t=e.useCSP,n=t===void 0?QXe:t,a=e.useToken,r=e.usePrefix,i=e.getResetStyles,o=e.getCommonStyle,c=e.getCompUnitless;function l(b,w,S,j){var N=Array.isArray(b)?b[0]:b;function I(U){return"".concat(String(N)).concat(U.slice(0,1).toUpperCase()).concat(U.slice(1))}var M=(j==null?void 0:j.unitless)||{},B=typeof c=="function"?c(b):{},P=vt(vt({},B),{},pt({},I("zIndexPopup"),!0));Object.keys(M).forEach(function(U){P[I(U)]=M[U]});var O=vt(vt({},j),{},{unitless:P,prefixToken:I}),R=f(b,w,S,O),$=d(N,S,O);return function(U){var F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:U,H=R(U,F),ne=St(H,2),X=ne[1],te=$(F),se=St(te,2),V=se[0],q=se[1];return[V,X,q]}}function d(b,w,S){var j=S.unitless,N=S.injectStyle,I=N===void 0?!0:N,M=S.prefixToken,B=S.ignore,P=function($){var U=$.rootCls,F=$.cssVar,H=F===void 0?{}:F,ne=a(),X=ne.realToken;return aXe({path:[b],prefix:H.prefix,key:H.key,unitless:j,ignore:B,token:X,scope:U},function(){var te=U7(b,X,w),se=V7(b,X,te,{deprecatedTokens:S==null?void 0:S.deprecatedTokens});return Object.keys(te).forEach(function(V){se[M(V)]=se[V],delete se[V]}),se}),null},O=function($){var U=a(),F=U.cssVar;return[function(H){return I&&F?Je.createElement(Je.Fragment,null,Je.createElement(P,{rootCls:$,cssVar:F,component:b}),H):H},F==null?void 0:F.key]};return O}function f(b,w,S){var j=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},N=Array.isArray(b)?b:[b,b],I=St(N,1),M=I[0],B=N.join("-"),P=e.layer||{name:"antd"};return function(O){var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:O,$=a(),U=$.theme,F=$.realToken,H=$.hashId,ne=$.token,X=$.cssVar,te=r(),se=te.rootPrefixCls,V=te.iconPrefixCls,q=n(),T=X?"css":"js",J=GXe(function(){var oe=new Set;return X&&Object.keys(j.unitless||{}).forEach(function(ee){oe.add(Kv(ee,X.prefix)),oe.add(Kv(ee,z7(M,X.prefix)))}),zXe(T,oe)},[T,M,X==null?void 0:X.prefix]),Z=UXe(T),A=Z.max,Y=Z.min,K={theme:U,token:ne,hashId:H,nonce:function(){return q.nonce},clientOnly:j.clientOnly,layer:P,order:j.order||-999};typeof i=="function"&&Kj(vt(vt({},K),{},{clientOnly:!1,path:["Shared",se]}),function(){return i(ne,{prefix:{rootPrefixCls:se,iconPrefixCls:V},csp:q})});var G=Kj(vt(vt({},K),{},{path:[B,O,V]}),function(){if(j.injectStyle===!1)return[];var oe=qXe(ne),ee=oe.token,ae=oe.flush,ie=U7(M,F,S),ue=".".concat(O),he=V7(M,F,ie,{deprecatedTokens:j.deprecatedTokens});X&&ie&&Bs(ie)==="object"&&Object.keys(ie).forEach(function(Ie){ie[Ie]="var(".concat(Kv(Ie,z7(M,X.prefix)),")")});var ge=sc(ee,{componentCls:ue,prefixCls:O,iconCls:".".concat(V),antCls:".".concat(se),calc:J,max:A,min:Y},X?ie:he),ye=w(ge,{hashId:H,prefixCls:O,rootPrefixCls:se,iconPrefixCls:V});ae(M,he);var je=typeof o=="function"?o(ge,O,R,j.resetFont):null;return[j.resetStyle===!1?null:je,ye]});return[G,H]}}function g(b,w,S){var j=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},N=f(b,w,S,vt({resetStyle:!1,order:-998},j)),I=function(B){var P=B.prefixCls,O=B.rootCls,R=O===void 0?P:O;return N(P,R),null};return I}return{genStyleHooks:l,genSubStyleComponent:g,genComponentStyleHook:f}}const I4=["blue","purple","cyan","green","magenta","pink","red","orange","yellow","volcano","geekblue","lime","gold"],KXe="5.26.7";function KC(e){return e>=0&&e<=255}function F1(e,t){const{r:n,g:a,b:r,a:i}=new wr(e).toRgb();if(i<1)return e;const{r:o,g:c,b:l}=new wr(t).toRgb();for(let d=.01;d<=1;d+=.01){const f=Math.round((n-o*(1-d))/d),g=Math.round((a-c*(1-d))/d),b=Math.round((r-l*(1-d))/d);if(KC(f)&&KC(g)&&KC(b))return new wr({r:f,g,b,a:Math.round(d*100)/100}).toRgbString()}return new wr({r:n,g:a,b:r,a:1}).toRgbString()}var ZXe=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]]);return n};function L$(e){const{override:t}=e,n=ZXe(e,["override"]),a=Object.assign({},t);Object.keys(zg).forEach(b=>{delete a[b]});const r=Object.assign(Object.assign({},n),a),i=480,o=576,c=768,l=992,d=1200,f=1600;if(r.motion===!1){const b="0s";r.motionDurationFast=b,r.motionDurationMid=b,r.motionDurationSlow=b}return Object.assign(Object.assign(Object.assign({},r),{colorFillContent:r.colorFillSecondary,colorFillContentHover:r.colorFill,colorFillAlter:r.colorFillQuaternary,colorBgContainerDisabled:r.colorFillTertiary,colorBorderBg:r.colorBgContainer,colorSplit:F1(r.colorBorderSecondary,r.colorBgContainer),colorTextPlaceholder:r.colorTextQuaternary,colorTextDisabled:r.colorTextQuaternary,colorTextHeading:r.colorText,colorTextLabel:r.colorTextSecondary,colorTextDescription:r.colorTextTertiary,colorTextLightSolid:r.colorWhite,colorHighlight:r.colorError,colorBgTextHover:r.colorFillSecondary,colorBgTextActive:r.colorFill,colorIcon:r.colorTextTertiary,colorIconHover:r.colorText,colorErrorOutline:F1(r.colorErrorBg,r.colorBgContainer),colorWarningOutline:F1(r.colorWarningBg,r.colorBgContainer),fontSizeIcon:r.fontSizeSM,lineWidthFocus:r.lineWidth*3,lineWidth:r.lineWidth,controlOutlineWidth:r.lineWidth*2,controlInteractiveSize:r.controlHeight/2,controlItemBgHover:r.colorFillTertiary,controlItemBgActive:r.colorPrimaryBg,controlItemBgActiveHover:r.colorPrimaryBgHover,controlItemBgActiveDisabled:r.colorFill,controlTmpOutline:r.colorFillQuaternary,controlOutline:F1(r.colorPrimaryBg,r.colorBgContainer),lineType:r.lineType,borderRadius:r.borderRadius,borderRadiusXS:r.borderRadiusXS,borderRadiusSM:r.borderRadiusSM,borderRadiusLG:r.borderRadiusLG,fontWeightStrong:600,opacityLoading:.65,linkDecoration:"none",linkHoverDecoration:"none",linkFocusDecoration:"none",controlPaddingHorizontal:12,controlPaddingHorizontalSM:8,paddingXXS:r.sizeXXS,paddingXS:r.sizeXS,paddingSM:r.sizeSM,padding:r.size,paddingMD:r.sizeMD,paddingLG:r.sizeLG,paddingXL:r.sizeXL,paddingContentHorizontalLG:r.sizeLG,paddingContentVerticalLG:r.sizeMS,paddingContentHorizontal:r.sizeMS,paddingContentVertical:r.sizeSM,paddingContentHorizontalSM:r.size,paddingContentVerticalSM:r.sizeXS,marginXXS:r.sizeXXS,marginXS:r.sizeXS,marginSM:r.sizeSM,margin:r.size,marginMD:r.sizeMD,marginLG:r.sizeLG,marginXL:r.sizeXL,marginXXL:r.sizeXXL,boxShadow:`
      0 6px 16px 0 rgba(0, 0, 0, 0.08),
      0 3px 6px -4px rgba(0, 0, 0, 0.12),
      0 9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowSecondary:`
      0 6px 16px 0 rgba(0, 0, 0, 0.08),
      0 3px 6px -4px rgba(0, 0, 0, 0.12),
      0 9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowTertiary:`
      0 1px 2px 0 rgba(0, 0, 0, 0.03),
      0 1px 6px -1px rgba(0, 0, 0, 0.02),
      0 2px 4px 0 rgba(0, 0, 0, 0.02)
    `,screenXS:i,screenXSMin:i,screenXSMax:o-1,screenSM:o,screenSMMin:o,screenSMMax:c-1,screenMD:c,screenMDMin:c,screenMDMax:l-1,screenLG:l,screenLGMin:l,screenLGMax:d-1,screenXL:d,screenXLMin:d,screenXLMax:f-1,screenXXL:f,screenXXLMin:f,boxShadowPopoverArrow:"2px 2px 5px rgba(0, 0, 0, 0.05)",boxShadowCard:`
      0 1px 2px -2px ${new wr("rgba(0, 0, 0, 0.16)").toRgbString()},
      0 3px 6px 0 ${new wr("rgba(0, 0, 0, 0.12)").toRgbString()},
      0 5px 12px 4px ${new wr("rgba(0, 0, 0, 0.09)").toRgbString()}
    `,boxShadowDrawerRight:`
      -6px 0 16px 0 rgba(0, 0, 0, 0.08),
      -3px 0 6px -4px rgba(0, 0, 0, 0.12),
      -9px 0 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowDrawerLeft:`
      6px 0 16px 0 rgba(0, 0, 0, 0.08),
      3px 0 6px -4px rgba(0, 0, 0, 0.12),
      9px 0 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowDrawerUp:`
      0 6px 16px 0 rgba(0, 0, 0, 0.08),
      0 3px 6px -4px rgba(0, 0, 0, 0.12),
      0 9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowDrawerDown:`
      0 -6px 16px 0 rgba(0, 0, 0, 0.08),
      0 -3px 6px -4px rgba(0, 0, 0, 0.12),
      0 -9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowTabsOverflowLeft:"inset 10px 0 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowRight:"inset -10px 0 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowTop:"inset 0 10px 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowBottom:"inset 0 -10px 8px -8px rgba(0, 0, 0, 0.08)"}),a)}var Y7=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]]);return n};const $$={lineHeight:!0,lineHeightSM:!0,lineHeightLG:!0,lineHeightHeading1:!0,lineHeightHeading2:!0,lineHeightHeading3:!0,lineHeightHeading4:!0,lineHeightHeading5:!0,opacityLoading:!0,fontWeightStrong:!0,zIndexPopupBase:!0,zIndexBase:!0,opacityImage:!0},JXe={size:!0,sizeSM:!0,sizeLG:!0,sizeMD:!0,sizeXS:!0,sizeXXS:!0,sizeMS:!0,sizeXL:!0,sizeXXL:!0,sizeUnit:!0,sizeStep:!0,motionBase:!0,motionUnit:!0},eKe={screenXS:!0,screenXSMin:!0,screenXSMax:!0,screenSM:!0,screenSMMin:!0,screenSMMax:!0,screenMD:!0,screenMDMin:!0,screenMDMax:!0,screenLG:!0,screenLGMin:!0,screenLGMax:!0,screenXL:!0,screenXLMin:!0,screenXLMax:!0,screenXXL:!0,screenXXLMin:!0},P$=(e,t,n)=>{const a=n.getDerivativeToken(e),{override:r}=t,i=Y7(t,["override"]);let o=Object.assign(Object.assign({},a),{override:r});return o=L$(o),i&&Object.entries(i).forEach(([c,l])=>{const{theme:d}=l,f=Y7(l,["theme"]);let g=f;d&&(g=P$(Object.assign(Object.assign({},o),f),{override:f},d)),o[c]=g}),o};function Yh(){const{token:e,hashed:t,theme:n,override:a,cssVar:r}=Je.useContext(A$),i=`${KXe}-${t||""}`,o=n||T$,[c,l,d]=DQe(o,[zg,e],{salt:i,override:a,getComputedToken:P$,formatToken:L$,cssVar:r&&{prefix:r.prefix,key:r.key,unitless:$$,ignore:JXe,preserve:eKe}});return[o,d,t?l:"",c,r]}const tKe={overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},ub=(e,t=!1)=>({boxSizing:"border-box",margin:0,padding:0,color:e.colorText,fontSize:e.fontSize,lineHeight:e.lineHeight,listStyle:"none",fontFamily:t?"inherit":e.fontFamily}),D4=()=>({display:"inline-flex",alignItems:"center",color:"inherit",fontStyle:"normal",lineHeight:0,textAlign:"center",textTransform:"none",verticalAlign:"-0.125em",textRendering:"optimizeLegibility","-webkit-font-smoothing":"antialiased","-moz-osx-font-smoothing":"grayscale","> *":{lineHeight:1},svg:{display:"inline-block"}}),nKe=()=>({"&::before":{display:"table",content:'""'},"&::after":{display:"table",clear:"both",content:'""'}}),sKe=e=>({a:{color:e.colorLink,textDecoration:e.linkDecoration,backgroundColor:"transparent",outline:"none",cursor:"pointer",transition:`color ${e.motionDurationSlow}`,"-webkit-text-decoration-skip":"objects","&:hover":{color:e.colorLinkHover},"&:active":{color:e.colorLinkActive},"&:active, &:hover":{textDecoration:e.linkHoverDecoration,outline:0},"&:focus":{textDecoration:e.linkFocusDecoration,outline:0},"&[disabled]":{color:e.colorTextDisabled,cursor:"not-allowed"}}}),aKe=(e,t,n,a)=>{const r=`[class^="${t}"], [class*=" ${t}"]`,i=n?`.${n}`:r,o={boxSizing:"border-box","&::before, &::after":{boxSizing:"border-box"}};let c={};return a!==!1&&(c={fontFamily:e.fontFamily,fontSize:e.fontSize}),{[i]:Object.assign(Object.assign(Object.assign({},c),o),{[r]:o})}},rKe=(e,t)=>({outline:`${hs(e.lineWidthFocus)} solid ${e.colorPrimaryBorder}`,outlineOffset:t??1,transition:"outline-offset 0s, outline 0s"}),iKe=(e,t)=>({"&:focus-visible":Object.assign({},rKe(e,t))}),F$=e=>({[`.${e}`]:Object.assign(Object.assign({},D4()),{[`.${e} .${e}-icon`]:{display:"block"}})}),{genStyleHooks:_y,genComponentStyleHook:oKe,genSubStyleComponent:cKe}=XXe({usePrefix:()=>{const{getPrefixCls:e,iconPrefixCls:t}=v.useContext(bo);return{rootPrefixCls:e(),iconPrefixCls:t}},useToken:()=>{const[e,t,n,a,r]=Yh();return{theme:e,realToken:t,hashId:n,token:a,cssVar:r}},useCSP:()=>{const{csp:e}=v.useContext(bo);return e??{}},getResetStyles:(e,t)=>{var n;const a=sKe(e);return[a,{"&":a},F$((n=t==null?void 0:t.prefix.iconPrefixCls)!==null&&n!==void 0?n:k4)]},getCommonStyle:aKe,getCompUnitless:()=>$$}),lKe=(e,t)=>{const[n,a]=Yh();return Kj({token:a,hashId:"",path:["ant-design-icons",e],nonce:()=>t==null?void 0:t.nonce,layer:{name:"antd"}},()=>[F$(e)])},uKe=Object.assign({},Bm),{useId:G7}=uKe,dKe=()=>"",hKe=typeof G7>"u"?dKe:G7;function fKe(e,t,n){var a;const r=e||{},i=r.inherit===!1||!t?Object.assign(Object.assign({},uN),{hashed:(a=t==null?void 0:t.hashed)!==null&&a!==void 0?a:uN.hashed,cssVar:t==null?void 0:t.cssVar}):t,o=hKe();return g4(()=>{var c,l;if(!e)return t;const d=Object.assign({},i.components);Object.keys(e.components||{}).forEach(b=>{d[b]=Object.assign(Object.assign({},d[b]),e.components[b])});const f=`css-var-${o.replace(/:/g,"")}`,g=((c=r.cssVar)!==null&&c!==void 0?c:i.cssVar)&&Object.assign(Object.assign(Object.assign({prefix:n==null?void 0:n.prefixCls},typeof i.cssVar=="object"?i.cssVar:{}),typeof r.cssVar=="object"?r.cssVar:{}),{key:typeof r.cssVar=="object"&&((l=r.cssVar)===null||l===void 0?void 0:l.key)||f});return Object.assign(Object.assign(Object.assign({},i),r),{token:Object.assign(Object.assign({},i.token),r.token),components:d,cssVar:g})},[r,i],(c,l)=>c.some((d,f)=>{const g=l[f];return!qj(d,g,!0)}))}var mKe=["children"],H$=v.createContext({});function pKe(e){var t=e.children,n=ai(e,mKe);return v.createElement(H$.Provider,{value:n},t)}var gKe=function(e){Td(n,e);var t=Ad(n);function n(){return Mi(this,n),t.apply(this,arguments)}return Ri(n,[{key:"render",value:function(){return this.props.children}}]),n}(v.Component);function _Ke(e){var t=v.useReducer(function(c){return c+1},0),n=St(t,2),a=n[1],r=v.useRef(e),i=Za(function(){return r.current}),o=Za(function(c){r.current=typeof c=="function"?c(r.current):c,a()});return[i,o]}var cd="none",cv="appear",lv="enter",uv="leave",Q7="none",Lc="prepare",Jf="start",em="active",T4="end",z$="prepared";function X7(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit".concat(e)]="webkit".concat(t),n["Moz".concat(e)]="moz".concat(t),n["ms".concat(e)]="MS".concat(t),n["O".concat(e)]="o".concat(t.toLowerCase()),n}function vKe(e,t){var n={animationend:X7("Animation","AnimationEnd"),transitionend:X7("Transition","TransitionEnd")};return e&&("AnimationEvent"in t||delete n.animationend.animation,"TransitionEvent"in t||delete n.transitionend.transition),n}var xKe=vKe(nc(),typeof window<"u"?window:{}),V$={};if(nc()){var bKe=document.createElement("div");V$=bKe.style}var dv={};function q$(e){if(dv[e])return dv[e];var t=xKe[e];if(t)for(var n=Object.keys(t),a=n.length,r=0;r<a;r+=1){var i=n[r];if(Object.prototype.hasOwnProperty.call(t,i)&&i in V$)return dv[e]=t[i],dv[e]}return""}var U$=q$("animationend"),W$=q$("transitionend"),Y$=!!(U$&&W$),K7=U$||"animationend",Z7=W$||"transitionend";function J7(e,t){if(!e)return null;if(Bs(e)==="object"){var n=t.replace(/-\w/g,function(a){return a[1].toUpperCase()});return e[n]}return"".concat(e,"-").concat(t)}const yKe=function(e){var t=v.useRef();function n(r){r&&(r.removeEventListener(Z7,e),r.removeEventListener(K7,e))}function a(r){t.current&&t.current!==r&&n(t.current),r&&r!==t.current&&(r.addEventListener(Z7,e),r.addEventListener(K7,e),t.current=r)}return v.useEffect(function(){return function(){n(t.current)}},[]),[a,n]};var G$=nc()?v.useLayoutEffect:v.useEffect;const wKe=function(){var e=v.useRef(null);function t(){Ki.cancel(e.current)}function n(a){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;t();var i=Ki(function(){r<=1?a({isCanceled:function(){return i!==e.current}}):n(a,r-1)});e.current=i}return v.useEffect(function(){return function(){t()}},[]),[n,t]};var CKe=[Lc,Jf,em,T4],SKe=[Lc,z$],Q$=!1,jKe=!0;function X$(e){return e===em||e===T4}const NKe=function(e,t,n){var a=qg(Q7),r=St(a,2),i=r[0],o=r[1],c=wKe(),l=St(c,2),d=l[0],f=l[1];function g(){o(Lc,!0)}var b=t?SKe:CKe;return G$(function(){if(i!==Q7&&i!==T4){var w=b.indexOf(i),S=b[w+1],j=n(i);j===Q$?o(S,!0):S&&d(function(N){function I(){N.isCanceled()||o(S,!0)}j===!0?I():Promise.resolve(j).then(I)})}},[e,i]),v.useEffect(function(){return function(){f()}},[]),[g,i]};function EKe(e,t,n,a){var r=a.motionEnter,i=r===void 0?!0:r,o=a.motionAppear,c=o===void 0?!0:o,l=a.motionLeave,d=l===void 0?!0:l,f=a.motionDeadline,g=a.motionLeaveImmediately,b=a.onAppearPrepare,w=a.onEnterPrepare,S=a.onLeavePrepare,j=a.onAppearStart,N=a.onEnterStart,I=a.onLeaveStart,M=a.onAppearActive,B=a.onEnterActive,P=a.onLeaveActive,O=a.onAppearEnd,R=a.onEnterEnd,$=a.onLeaveEnd,U=a.onVisibleChanged,F=qg(),H=St(F,2),ne=H[0],X=H[1],te=_Ke(cd),se=St(te,2),V=se[0],q=se[1],T=qg(null),J=St(T,2),Z=J[0],A=J[1],Y=V(),K=v.useRef(!1),G=v.useRef(null);function oe(){return n()}var ee=v.useRef(!1);function ae(){q(cd),A(null,!0)}var ie=Za(function(Ee){var Le=V();if(Le!==cd){var Ue=oe();if(!(Ee&&!Ee.deadline&&Ee.target!==Ue)){var Ne=ee.current,et;Le===cv&&Ne?et=O==null?void 0:O(Ue,Ee):Le===lv&&Ne?et=R==null?void 0:R(Ue,Ee):Le===uv&&Ne&&(et=$==null?void 0:$(Ue,Ee)),Ne&&et!==!1&&ae()}}}),ue=yKe(ie),he=St(ue,1),ge=he[0],ye=function(Le){switch(Le){case cv:return pt(pt(pt({},Lc,b),Jf,j),em,M);case lv:return pt(pt(pt({},Lc,w),Jf,N),em,B);case uv:return pt(pt(pt({},Lc,S),Jf,I),em,P);default:return{}}},je=v.useMemo(function(){return ye(Y)},[Y]),Ie=NKe(Y,!e,function(Ee){if(Ee===Lc){var Le=je[Lc];return Le?Le(oe()):Q$}if(fe in je){var Ue;A(((Ue=je[fe])===null||Ue===void 0?void 0:Ue.call(je,oe(),null))||null)}return fe===em&&Y!==cd&&(ge(oe()),f>0&&(clearTimeout(G.current),G.current=setTimeout(function(){ie({deadline:!0})},f))),fe===z$&&ae(),jKe}),me=St(Ie,2),de=me[0],fe=me[1],re=X$(fe);ee.current=re;var xe=v.useRef(null);G$(function(){if(!(K.current&&xe.current===t)){X(t);var Ee=K.current;K.current=!0;var Le;!Ee&&t&&c&&(Le=cv),Ee&&t&&i&&(Le=lv),(Ee&&!t&&d||!Ee&&g&&!t&&d)&&(Le=uv);var Ue=ye(Le);Le&&(e||Ue[Lc])?(q(Le),de()):q(cd),xe.current=t}},[t]),v.useEffect(function(){(Y===cv&&!c||Y===lv&&!i||Y===uv&&!d)&&q(cd)},[c,i,d]),v.useEffect(function(){return function(){K.current=!1,clearTimeout(G.current)}},[]);var Se=v.useRef(!1);v.useEffect(function(){ne&&(Se.current=!0),ne!==void 0&&Y===cd&&((Se.current||ne)&&(U==null||U(ne)),Se.current=!0)},[ne,Y]);var pe=Z;return je[Lc]&&fe===Jf&&(pe=vt({transition:"none"},pe)),[Y,fe,pe,ne??t]}function kKe(e){var t=e;Bs(e)==="object"&&(t=e.transitionSupport);function n(r,i){return!!(r.motionName&&t&&i!==!1)}var a=v.forwardRef(function(r,i){var o=r.visible,c=o===void 0?!0:o,l=r.removeOnLeave,d=l===void 0?!0:l,f=r.forceRender,g=r.children,b=r.motionName,w=r.leavedClassName,S=r.eventProps,j=v.useContext(H$),N=j.motion,I=n(r,N),M=v.useRef(),B=v.useRef();function P(){try{return M.current instanceof HTMLElement?M.current:Xv(B.current)}catch{return null}}var O=EKe(I,c,P,r),R=St(O,4),$=R[0],U=R[1],F=R[2],H=R[3],ne=v.useRef(H);H&&(ne.current=!0);var X=v.useCallback(function(J){M.current=J,_4(i,J)},[i]),te,se=vt(vt({},S),{},{visible:c});if(!g)te=null;else if($===cd)H?te=g(vt({},se),X):!d&&ne.current&&w?te=g(vt(vt({},se),{},{className:w}),X):f||!d&&!w?te=g(vt(vt({},se),{},{style:{display:"none"}}),X):te=null;else{var V;U===Lc?V="prepare":X$(U)?V="active":U===Jf&&(V="start");var q=J7(b,"".concat($,"-").concat(V));te=g(vt(vt({},se),{},{className:zs(J7(b,$),pt(pt({},q,q&&V),b,typeof b=="string")),style:F}),X)}if(v.isValidElement(te)&&x0(te)){var T=fy(te);T||(te=v.cloneElement(te,{ref:X}))}return v.createElement(gKe,{ref:B},te)});return a.displayName="CSSMotion",a}const y0=kKe(Y$);var hN="add",fN="keep",mN="remove",ZC="removed";function IKe(e){var t;return e&&Bs(e)==="object"&&"key"in e?t=e:t={key:e},vt(vt({},t),{},{key:String(t.key)})}function pN(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return e.map(IKe)}function DKe(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=[],a=0,r=t.length,i=pN(e),o=pN(t);i.forEach(function(d){for(var f=!1,g=a;g<r;g+=1){var b=o[g];if(b.key===d.key){a<g&&(n=n.concat(o.slice(a,g).map(function(w){return vt(vt({},w),{},{status:hN})})),a=g),n.push(vt(vt({},b),{},{status:fN})),a+=1,f=!0;break}}f||n.push(vt(vt({},d),{},{status:mN}))}),a<r&&(n=n.concat(o.slice(a).map(function(d){return vt(vt({},d),{},{status:hN})})));var c={};n.forEach(function(d){var f=d.key;c[f]=(c[f]||0)+1});var l=Object.keys(c).filter(function(d){return c[d]>1});return l.forEach(function(d){n=n.filter(function(f){var g=f.key,b=f.status;return g!==d||b!==mN}),n.forEach(function(f){f.key===d&&(f.status=fN)})}),n}var TKe=["component","children","onVisibleChanged","onAllRemoved"],AKe=["status"],MKe=["eventProps","visible","children","motionName","motionAppear","motionEnter","motionLeave","motionLeaveImmediately","motionDeadline","removeOnLeave","leavedClassName","onAppearPrepare","onAppearStart","onAppearActive","onAppearEnd","onEnterStart","onEnterActive","onEnterEnd","onLeaveStart","onLeaveActive","onLeaveEnd"];function RKe(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:y0,n=function(a){Td(i,a);var r=Ad(i);function i(){var o;Mi(this,i);for(var c=arguments.length,l=new Array(c),d=0;d<c;d++)l[d]=arguments[d];return o=r.call.apply(r,[this].concat(l)),pt(_a(o),"state",{keyEntities:[]}),pt(_a(o),"removeKey",function(f){o.setState(function(g){var b=g.keyEntities.map(function(w){return w.key!==f?w:vt(vt({},w),{},{status:ZC})});return{keyEntities:b}},function(){var g=o.state.keyEntities,b=g.filter(function(w){var S=w.status;return S!==ZC}).length;b===0&&o.props.onAllRemoved&&o.props.onAllRemoved()})}),o}return Ri(i,[{key:"render",value:function(){var c=this,l=this.state.keyEntities,d=this.props,f=d.component,g=d.children,b=d.onVisibleChanged;d.onAllRemoved;var w=ai(d,TKe),S=f||v.Fragment,j={};return MKe.forEach(function(N){j[N]=w[N],delete w[N]}),delete w.keys,v.createElement(S,w,l.map(function(N,I){var M=N.status,B=ai(N,AKe),P=M===hN||M===fN;return v.createElement(t,Ns({},j,{key:B.key,visible:P,eventProps:B,onVisibleChanged:function(R){b==null||b(R,{key:B.key}),R||c.removeKey(B.key)}}),function(O,R){return g(vt(vt({},O),{},{index:I}),R)})}))}}],[{key:"getDerivedStateFromProps",value:function(c,l){var d=c.keys,f=l.keyEntities,g=pN(d),b=DKe(f,g);return{keyEntities:b.filter(function(w){var S=f.find(function(j){var N=j.key;return w.key===N});return!(S&&S.status===ZC&&w.status===mN)})}}}]),i}(v.Component);return pt(n,"defaultProps",{component:"div"}),n}RKe(Y$);const e9=v.createContext(!0);function OKe(e){const t=v.useContext(e9),{children:n}=e,[,a]=Yh(),{motion:r}=a,i=v.useRef(!1);return i.current||(i.current=t!==r),i.current?v.createElement(e9.Provider,{value:r},v.createElement(pKe,{motion:r},n)):n}const BKe=()=>null;var LKe=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]]);return n};const $Ke=["getTargetContainer","getPopupContainer","renderEmpty","input","pagination","form","select","button"];let K$;function PKe(){return K$||lb}function FKe(e){return Object.keys(e).some(t=>t.endsWith("Color"))}const HKe=e=>{const{prefixCls:t,iconPrefixCls:n,theme:a,holderRender:r}=e;t!==void 0&&(K$=t),a&&FKe(a)&&OXe(PKe(),a)},zKe=e=>{const{children:t,csp:n,autoInsertSpaceInButton:a,alert:r,anchor:i,form:o,locale:c,componentSize:l,direction:d,space:f,splitter:g,virtual:b,dropdownMatchSelectWidth:w,popupMatchSelectWidth:S,popupOverflow:j,legacyLocale:N,parentContext:I,iconPrefixCls:M,theme:B,componentDisabled:P,segmented:O,statistic:R,spin:$,calendar:U,carousel:F,cascader:H,collapse:ne,typography:X,checkbox:te,descriptions:se,divider:V,drawer:q,skeleton:T,steps:J,image:Z,layout:A,list:Y,mentions:K,modal:G,progress:oe,result:ee,slider:ae,breadcrumb:ie,menu:ue,pagination:he,input:ge,textArea:ye,empty:je,badge:Ie,radio:me,rate:de,switch:fe,transfer:re,avatar:xe,message:Se,tag:pe,table:Ee,card:Le,tabs:Ue,timeline:Ne,timePicker:et,upload:dt,notification:_e,tree:tt,colorPicker:Fe,datePicker:It,rangePicker:Xe,flex:le,wave:Ae,dropdown:be,warning:We,tour:st,tooltip:ct,popover:Mt,popconfirm:pn,floatButtonGroup:Gn,variant:bt,inputNumber:ln,treeSelect:fn}=e,wn=v.useCallback((Pn,Xt)=>{const{prefixCls:ra}=e;if(Xt)return Xt;const xa=ra||I.getPrefixCls("");return Pn?`${xa}-${Pn}`:xa},[I.getPrefixCls,e.prefixCls]),ut=M||I.iconPrefixCls||k4,Et=n||I.csp;lKe(ut,Et);const nt=fKe(B,I.theme,{prefixCls:wn("")}),Rt={csp:Et,autoInsertSpaceInButton:a,alert:r,anchor:i,locale:c||N,direction:d,space:f,splitter:g,virtual:b,popupMatchSelectWidth:S??w,popupOverflow:j,getPrefixCls:wn,iconPrefixCls:ut,theme:nt,segmented:O,statistic:R,spin:$,calendar:U,carousel:F,cascader:H,collapse:ne,typography:X,checkbox:te,descriptions:se,divider:V,drawer:q,skeleton:T,steps:J,image:Z,input:ge,textArea:ye,layout:A,list:Y,mentions:K,modal:G,progress:oe,result:ee,slider:ae,breadcrumb:ie,menu:ue,pagination:he,empty:je,badge:Ie,radio:me,rate:de,switch:fe,transfer:re,avatar:xe,message:Se,tag:pe,table:Ee,card:Le,tabs:Ue,timeline:Ne,timePicker:et,upload:dt,notification:_e,tree:tt,colorPicker:Fe,datePicker:It,rangePicker:Xe,flex:le,wave:Ae,dropdown:be,warning:We,tour:st,tooltip:ct,popover:Mt,popconfirm:pn,floatButtonGroup:Gn,variant:bt,inputNumber:ln,treeSelect:fn},Lt=Object.assign({},I);Object.keys(Rt).forEach(Pn=>{Rt[Pn]!==void 0&&(Lt[Pn]=Rt[Pn])}),$Ke.forEach(Pn=>{const Xt=e[Pn];Xt&&(Lt[Pn]=Xt)}),typeof a<"u"&&(Lt.button=Object.assign({autoInsertSpace:a},Lt.button));const on=g4(()=>Lt,Lt,(Pn,Xt)=>{const ra=Object.keys(Pn),xa=Object.keys(Xt);return ra.length!==xa.length||ra.some(Hn=>Pn[Hn]!==Xt[Hn])}),{layer:vn}=v.useContext(b0),ns=v.useMemo(()=>({prefixCls:ut,csp:Et,layer:vn?"antd":void 0}),[ut,Et,vn]);let us=v.createElement(v.Fragment,null,v.createElement(BKe,{dropdownMatchSelectWidth:w}),t);const _s=v.useMemo(()=>{var Pn,Xt,ra,xa;return Zf(((Pn=Am.Form)===null||Pn===void 0?void 0:Pn.defaultValidateMessages)||{},((ra=(Xt=on.locale)===null||Xt===void 0?void 0:Xt.Form)===null||ra===void 0?void 0:ra.defaultValidateMessages)||{},((xa=on.form)===null||xa===void 0?void 0:xa.validateMessages)||{},(o==null?void 0:o.validateMessages)||{})},[on,o==null?void 0:o.validateMessages]);Object.keys(_s).length>0&&(us=v.createElement(uXe.Provider,{value:_s},us)),c&&(us=v.createElement(gXe,{locale:c,_ANT_MARK__:pXe},us)),us=v.createElement(N4.Provider,{value:ns},us),l&&(us=v.createElement(LXe,{size:l},us)),us=v.createElement(OKe,null,us);const ds=v.useMemo(()=>{const Pn=nt||{},{algorithm:Xt,token:ra,components:xa,cssVar:Hn}=Pn,ya=LKe(Pn,["algorithm","token","components","cssVar"]),Ys=Xt&&(!Array.isArray(Xt)||Xt.length>0)?Wj(Xt):T$,Js={};Object.entries(xa||{}).forEach(([Pa,ar])=>{const Vs=Object.assign({},ar);"algorithm"in Vs&&(Vs.algorithm===!0?Vs.theme=Ys:(Array.isArray(Vs.algorithm)||typeof Vs.algorithm=="function")&&(Vs.theme=Wj(Vs.algorithm)),delete Vs.algorithm),Js[Pa]=Vs});const gs=Object.assign(Object.assign({},zg),ra);return Object.assign(Object.assign({},ya),{theme:Ys,token:gs,components:Js,override:Object.assign({override:gs},Js),cssVar:Hn})},[nt]);return B&&(us=v.createElement(A$.Provider,{value:ds},us)),on.warning&&(us=v.createElement(lXe.Provider,{value:on.warning},us)),P!==void 0&&(us=v.createElement(BXe,{disabled:P},us)),v.createElement(bo.Provider,{value:on},us)},Tl=e=>{const t=v.useContext(bo),n=v.useContext(E4);return v.createElement(zKe,Object.assign({parentContext:t,legacyLocale:n},e))};Tl.ConfigContext=bo;Tl.SizeContext=Rm;Tl.config=HKe;Tl.useConfig=$Xe;Object.defineProperty(Tl,"SizeContext",{get:()=>Rm});function Z$(e){var t;return e==null||(t=e.getRootNode)===null||t===void 0?void 0:t.call(e)}function VKe(e){return Z$(e)instanceof ShadowRoot}function db(e){return VKe(e)?Z$(e):null}function qKe(e){return e.replace(/-(.)/g,function(t,n){return n.toUpperCase()})}function UKe(e,t){Ro(e,"[@ant-design/icons] ".concat(t))}function t9(e){return Bs(e)==="object"&&typeof e.name=="string"&&typeof e.theme=="string"&&(Bs(e.icon)==="object"||typeof e.icon=="function")}function n9(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Object.keys(e).reduce(function(t,n){var a=e[n];switch(n){case"class":t.className=a,delete t.class;break;default:delete t[n],t[qKe(n)]=a}return t},{})}function gN(e,t,n){return n?Je.createElement(e.tag,vt(vt({key:t},n9(e.attrs)),n),(e.children||[]).map(function(a,r){return gN(a,"".concat(t,"-").concat(e.tag,"-").concat(r))})):Je.createElement(e.tag,vt({key:t},n9(e.attrs)),(e.children||[]).map(function(a,r){return gN(a,"".concat(t,"-").concat(e.tag,"-").concat(r))}))}function J$(e){return Vg(e)[0]}function eP(e){return e?Array.isArray(e)?e:[e]:[]}var WKe=`
.anticon {
  display: inline-flex;
  align-items: center;
  color: inherit;
  font-style: normal;
  line-height: 0;
  text-align: center;
  text-transform: none;
  vertical-align: -0.125em;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

.anticon > * {
  line-height: 1;
}

.anticon svg {
  display: inline-block;
}

.anticon::before {
  display: none;
}

.anticon .anticon-icon {
  display: block;
}

.anticon[tabindex] {
  cursor: pointer;
}

.anticon-spin::before,
.anticon-spin {
  display: inline-block;
  -webkit-animation: loadingCircle 1s infinite linear;
  animation: loadingCircle 1s infinite linear;
}

@-webkit-keyframes loadingCircle {
  100% {
    -webkit-transform: rotate(360deg);
    transform: rotate(360deg);
  }
}

@keyframes loadingCircle {
  100% {
    -webkit-transform: rotate(360deg);
    transform: rotate(360deg);
  }
}
`,YKe=function(t){var n=v.useContext(N4),a=n.csp,r=n.prefixCls,i=n.layer,o=WKe;r&&(o=o.replace(/anticon/g,r)),i&&(o="@layer ".concat(i,` {
`).concat(o,`
}`)),v.useEffect(function(){var c=t.current,l=db(c);gu(o,"@ant-design-icons",{prepend:!i,csp:a,attachTo:l})},[])},GKe=["icon","className","onClick","style","primaryColor","secondaryColor"],cg={primaryColor:"#333",secondaryColor:"#E6E6E6",calculated:!1};function QKe(e){var t=e.primaryColor,n=e.secondaryColor;cg.primaryColor=t,cg.secondaryColor=n||J$(t),cg.calculated=!!n}function XKe(){return vt({},cg)}var ep=function(t){var n=t.icon,a=t.className,r=t.onClick,i=t.style,o=t.primaryColor,c=t.secondaryColor,l=ai(t,GKe),d=v.useRef(),f=cg;if(o&&(f={primaryColor:o,secondaryColor:c||J$(o)}),YKe(d),UKe(t9(n),"icon should be icon definiton, but got ".concat(n)),!t9(n))return null;var g=n;return g&&typeof g.icon=="function"&&(g=vt(vt({},g),{},{icon:g.icon(f.primaryColor,f.secondaryColor)})),gN(g.icon,"svg-".concat(g.name),vt(vt({className:a,onClick:r,style:i,"data-icon":g.name,width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},l),{},{ref:d}))};ep.displayName="IconReact";ep.getTwoToneColors=XKe;ep.setTwoToneColors=QKe;function tP(e){var t=eP(e),n=St(t,2),a=n[0],r=n[1];return ep.setTwoToneColors({primaryColor:a,secondaryColor:r})}function KKe(){var e=ep.getTwoToneColors();return e.calculated?[e.primaryColor,e.secondaryColor]:e.primaryColor}var ZKe=["className","icon","spin","rotate","tabIndex","onClick","twoToneColor"];tP(cb.primary);var Dc=v.forwardRef(function(e,t){var n=e.className,a=e.icon,r=e.spin,i=e.rotate,o=e.tabIndex,c=e.onClick,l=e.twoToneColor,d=ai(e,ZKe),f=v.useContext(N4),g=f.prefixCls,b=g===void 0?"anticon":g,w=f.rootClassName,S=zs(w,b,pt(pt({},"".concat(b,"-").concat(a.name),!!a.name),"".concat(b,"-spin"),!!r||a.name==="loading"),n),j=o;j===void 0&&c&&(j=-1);var N=i?{msTransform:"rotate(".concat(i,"deg)"),transform:"rotate(".concat(i,"deg)")}:void 0,I=eP(l),M=St(I,2),B=M[0],P=M[1];return v.createElement("span",Ns({role:"img","aria-label":a.name},d,{ref:t,tabIndex:j,onClick:c,className:S}),v.createElement(ep,{icon:a,primaryColor:B,secondaryColor:P,style:N}))});Dc.displayName="AntdIcon";Dc.getTwoToneColor=KKe;Dc.setTwoToneColor=tP;var JKe={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64c247.4 0 448 200.6 448 448S759.4 960 512 960 64 759.4 64 512 264.6 64 512 64zm127.98 274.82h-.04l-.08.06L512 466.75 384.14 338.88c-.04-.05-.06-.06-.08-.06a.12.12 0 00-.07 0c-.03 0-.05.01-.09.05l-45.02 45.02a.2.2 0 00-.05.09.12.12 0 000 .07v.02a.27.27 0 00.06.06L466.75 512 338.88 639.86c-.05.04-.06.06-.06.08a.12.12 0 000 .07c0 .03.01.05.05.09l45.02 45.02a.2.2 0 00.09.05.12.12 0 00.07 0c.02 0 .04-.01.08-.05L512 557.25l127.86 127.87c.04.04.06.05.08.05a.12.12 0 00.07 0c.03 0 .05-.01.09-.05l45.02-45.02a.2.2 0 00.05-.09.12.12 0 000-.07v-.02a.27.27 0 00-.05-.06L557.25 512l127.87-127.86c.04-.04.05-.06.05-.08a.12.12 0 000-.07c0-.03-.01-.05-.05-.09l-45.02-45.02a.2.2 0 00-.09-.05.12.12 0 00-.07 0z"}}]},name:"close-circle",theme:"filled"},eZe=function(t,n){return v.createElement(Dc,Ns({},t,{ref:n,icon:JKe}))},tZe=v.forwardRef(eZe),nZe={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M799.86 166.31c.02 0 .04.02.08.06l57.69 57.7c.04.03.05.05.06.08a.12.12 0 010 .06c0 .03-.02.05-.06.09L569.93 512l287.7 287.7c.04.04.05.06.06.09a.12.12 0 010 .07c0 .02-.02.04-.06.08l-57.7 57.69c-.03.04-.05.05-.07.06a.12.12 0 01-.07 0c-.03 0-.05-.02-.09-.06L512 569.93l-287.7 287.7c-.04.04-.06.05-.09.06a.12.12 0 01-.07 0c-.02 0-.04-.02-.08-.06l-57.69-57.7c-.04-.03-.05-.05-.06-.07a.12.12 0 010-.07c0-.03.02-.05.06-.09L454.07 512l-287.7-287.7c-.04-.04-.05-.06-.06-.09a.12.12 0 010-.07c0-.02.02-.04.06-.08l57.7-57.69c.03-.04.05-.05.07-.06a.12.12 0 01.07 0c.03 0 .05.02.09.06L512 454.07l287.7-287.7c.04-.04.06-.05.09-.06a.12.12 0 01.07 0z"}}]},name:"close",theme:"outlined"},sZe=function(t,n){return v.createElement(Dc,Ns({},t,{ref:n,icon:nZe}))},aZe=v.forwardRef(sZe),rZe=`accept acceptCharset accessKey action allowFullScreen allowTransparency
    alt async autoComplete autoFocus autoPlay capture cellPadding cellSpacing challenge
    charSet checked classID className colSpan cols content contentEditable contextMenu
    controls coords crossOrigin data dateTime default defer dir disabled download draggable
    encType form formAction formEncType formMethod formNoValidate formTarget frameBorder
    headers height hidden high href hrefLang htmlFor httpEquiv icon id inputMode integrity
    is keyParams keyType kind label lang list loop low manifest marginHeight marginWidth max maxLength media
    mediaGroup method min minLength multiple muted name noValidate nonce open
    optimum pattern placeholder poster preload radioGroup readOnly rel required
    reversed role rowSpan rows sandbox scope scoped scrolling seamless selected
    shape size sizes span spellCheck src srcDoc srcLang srcSet start step style
    summary tabIndex target title type useMap value width wmode wrap`,iZe=`onCopy onCut onPaste onCompositionEnd onCompositionStart onCompositionUpdate onKeyDown
    onKeyPress onKeyUp onFocus onBlur onChange onInput onSubmit onClick onContextMenu onDoubleClick
    onDrag onDragEnd onDragEnter onDragExit onDragLeave onDragOver onDragStart onDrop onMouseDown
    onMouseEnter onMouseLeave onMouseMove onMouseOut onMouseOver onMouseUp onSelect onTouchCancel
    onTouchEnd onTouchMove onTouchStart onScroll onWheel onAbort onCanPlay onCanPlayThrough
    onDurationChange onEmptied onEncrypted onEnded onError onLoadedData onLoadedMetadata
    onLoadStart onPause onPlay onPlaying onProgress onRateChange onSeeked onSeeking onStalled onSuspend onTimeUpdate onVolumeChange onWaiting onLoad onError`,oZe="".concat(rZe," ").concat(iZe).split(/[\s\n]+/),cZe="aria-",lZe="data-";function s9(e,t){return e.indexOf(t)===0}function A4(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n;t===!1?n={aria:!0,data:!0,attr:!0}:t===!0?n={aria:!0}:n=vt({},t);var a={};return Object.keys(e).forEach(function(r){(n.aria&&(r==="role"||s9(r,cZe))||n.data&&s9(r,lZe)||n.attr&&oZe.includes(r))&&(a[r]=e[r])}),a}function uZe(e){return e&&Je.isValidElement(e)&&e.type===Je.Fragment}const dZe=(e,t,n)=>Je.isValidElement(e)?Je.cloneElement(e,typeof n=="function"?n(e.props||{}):n):t;function nP(e,t){return dZe(e,e,t)}const sP=e=>{const[,,,,t]=Yh();return t?`${e}-css-var`:""};var hZe={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M988 548c-19.9 0-36-16.1-36-36 0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 00-94.3-139.9 437.71 437.71 0 00-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.3C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3.1 19.9-16 36-35.9 36z"}}]},name:"loading",theme:"outlined"},fZe=function(t,n){return v.createElement(Dc,Ns({},t,{ref:n,icon:hZe}))},aP=v.forwardRef(fZe);const mZe=Je.createContext(void 0),sh=100,rP={Modal:sh,Drawer:sh,Popover:sh,Popconfirm:sh,Tooltip:sh,Tour:sh,FloatButton:sh},pZe={SelectLike:50,Dropdown:50,DatePicker:50,Menu:50,ImagePreview:1};function gZe(e){return e in rP}const iP=(e,t)=>{const[,n]=Yh(),a=Je.useContext(mZe),r=gZe(e);let i;if(t!==void 0)i=[t,t];else{let o=a??0;r?o+=(a?0:n.zIndexPopupBase)+rP[e]:o+=pZe[e],i=[a===void 0?t:o,o]}return i};function oP(e,t){this.v=e,this.k=t}function io(e,t,n,a){var r=Object.defineProperty;try{r({},"",{})}catch{r=0}io=function(o,c,l,d){if(c)r?r(o,c,{value:l,enumerable:!d,configurable:!d,writable:!d}):o[c]=l;else{var f=function(b,w){io(o,b,function(S){return this._invoke(b,w,S)})};f("next",0),f("throw",1),f("return",2)}},io(e,t,n,a)}function M4(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var e,t,n=typeof Symbol=="function"?Symbol:{},a=n.iterator||"@@iterator",r=n.toStringTag||"@@toStringTag";function i(w,S,j,N){var I=S&&S.prototype instanceof c?S:c,M=Object.create(I.prototype);return io(M,"_invoke",function(B,P,O){var R,$,U,F=0,H=O||[],ne=!1,X={p:0,n:0,v:e,a:te,f:te.bind(e,4),d:function(V,q){return R=V,$=0,U=e,X.n=q,o}};function te(se,V){for($=se,U=V,t=0;!ne&&F&&!q&&t<H.length;t++){var q,T=H[t],J=X.p,Z=T[2];se>3?(q=Z===V)&&(U=T[($=T[4])?5:($=3,3)],T[4]=T[5]=e):T[0]<=J&&((q=se<2&&J<T[1])?($=0,X.v=V,X.n=T[1]):J<Z&&(q=se<3||T[0]>V||V>Z)&&(T[4]=se,T[5]=V,X.n=Z,$=0))}if(q||se>1)return o;throw ne=!0,V}return function(se,V,q){if(F>1)throw TypeError("Generator is already running");for(ne&&V===1&&te(V,q),$=V,U=q;(t=$<2?e:U)||!ne;){R||($?$<3?($>1&&(X.n=-1),te($,U)):X.n=U:X.v=U);try{if(F=2,R){if($||(se="next"),t=R[se]){if(!(t=t.call(R,U)))throw TypeError("iterator result is not an object");if(!t.done)return t;U=t.value,$<2&&($=0)}else $===1&&(t=R.return)&&t.call(R),$<2&&(U=TypeError("The iterator does not provide a '"+se+"' method"),$=1);R=e}else if((t=(ne=X.n<0)?U:B.call(P,X))!==o)break}catch(T){R=e,$=1,U=T}finally{F=1}}return{value:t,done:ne}}}(w,j,N),!0),M}var o={};function c(){}function l(){}function d(){}t=Object.getPrototypeOf;var f=[][a]?t(t([][a]())):(io(t={},a,function(){return this}),t),g=d.prototype=c.prototype=Object.create(f);function b(w){return Object.setPrototypeOf?Object.setPrototypeOf(w,d):(w.__proto__=d,io(w,r,"GeneratorFunction")),w.prototype=Object.create(g),w}return l.prototype=d,io(g,"constructor",d),io(d,"constructor",l),l.displayName="GeneratorFunction",io(d,r,"GeneratorFunction"),io(g),io(g,r,"Generator"),io(g,a,function(){return this}),io(g,"toString",function(){return"[object Generator]"}),(M4=function(){return{w:i,m:b}})()}function hb(e,t){function n(r,i,o,c){try{var l=e[r](i),d=l.value;return d instanceof oP?t.resolve(d.v).then(function(f){n("next",f,o,c)},function(f){n("throw",f,o,c)}):t.resolve(d).then(function(f){l.value=f,o(l)},function(f){return n("throw",f,o,c)})}catch(f){c(f)}}var a;this.next||(io(hb.prototype),io(hb.prototype,typeof Symbol=="function"&&Symbol.asyncIterator||"@asyncIterator",function(){return this})),io(this,"_invoke",function(r,i,o){function c(){return new t(function(l,d){n(r,o,l,d)})}return a=a?a.then(c,c):c()},!0)}function cP(e,t,n,a,r){return new hb(M4().w(e,t,n,a),r||Promise)}function _Ze(e,t,n,a,r){var i=cP(e,t,n,a,r);return i.next().then(function(o){return o.done?o.value:i.next()})}function vZe(e){var t=Object(e),n=[];for(var a in t)n.unshift(a);return function r(){for(;n.length;)if((a=n.pop())in t)return r.value=a,r.done=!1,r;return r.done=!0,r}}function a9(e){if(e!=null){var t=e[typeof Symbol=="function"&&Symbol.iterator||"@@iterator"],n=0;if(t)return t.call(e);if(typeof e.next=="function")return e;if(!isNaN(e.length))return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}}throw new TypeError(Bs(e)+" is not iterable")}function fo(){var e=M4(),t=e.m(fo),n=(Object.getPrototypeOf?Object.getPrototypeOf(t):t.__proto__).constructor;function a(o){var c=typeof o=="function"&&o.constructor;return!!c&&(c===n||(c.displayName||c.name)==="GeneratorFunction")}var r={throw:1,return:2,break:3,continue:3};function i(o){var c,l;return function(d){c||(c={stop:function(){return l(d.a,2)},catch:function(){return d.v},abrupt:function(g,b){return l(d.a,r[g],b)},delegateYield:function(g,b,w){return c.resultName=b,l(d.d,a9(g),w)},finish:function(g){return l(d.f,g)}},l=function(g,b,w){d.p=c.prev,d.n=c.next;try{return g(b,w)}finally{c.next=d.n}}),c.resultName&&(c[c.resultName]=d.v,c.resultName=void 0),c.sent=d.v,c.next=d.n;try{return o.call(this,c)}finally{d.p=c.prev,d.n=c.next}}}return(fo=function(){return{wrap:function(l,d,f,g){return e.w(i(l),d,f,g&&g.reverse())},isGeneratorFunction:a,mark:e.m,awrap:function(l,d){return new oP(l,d)},AsyncIterator:hb,async:function(l,d,f,g,b){return(a(d)?cP:_Ze)(i(l),d,f,g,b)},keys:vZe,values:a9}})()}function r9(e,t,n,a,r,i,o){try{var c=e[i](o),l=c.value}catch(d){return void n(d)}c.done?t(l):Promise.resolve(l).then(a,r)}function Gh(e){return function(){var t=this,n=arguments;return new Promise(function(a,r){var i=e.apply(t,n);function o(l){r9(i,a,r,o,c,"next",l)}function c(l){r9(i,a,r,o,c,"throw",l)}o(void 0)})}}var w0=vt({},VV),xZe=w0.version,JC=w0.render,bZe=w0.unmountComponentAtNode,vy;try{var yZe=Number((xZe||"").split(".")[0]);yZe>=18&&(vy=w0.createRoot)}catch{}function i9(e){var t=w0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;t&&Bs(t)==="object"&&(t.usingClientEntryPoint=e)}var fb="__rc_react_root__";function wZe(e,t){i9(!0);var n=t[fb]||vy(t);i9(!1),n.render(e),t[fb]=n}function CZe(e,t){JC==null||JC(e,t)}function SZe(e,t){if(vy){wZe(e,t);return}CZe(e,t)}function jZe(e){return _N.apply(this,arguments)}function _N(){return _N=Gh(fo().mark(function e(t){return fo().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",Promise.resolve().then(function(){var r;(r=t[fb])===null||r===void 0||r.unmount(),delete t[fb]}));case 1:case"end":return a.stop()}},e)})),_N.apply(this,arguments)}function NZe(e){bZe(e)}function EZe(e){return vN.apply(this,arguments)}function vN(){return vN=Gh(fo().mark(function e(t){return fo().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(vy===void 0){a.next=2;break}return a.abrupt("return",jZe(t));case 2:NZe(t);case 3:case"end":return a.stop()}},e)})),vN.apply(this,arguments)}const kZe=(e,t)=>(SZe(e,t),()=>EZe(t));let IZe=kZe;function DZe(e){return IZe}function R4(e,t){var n=Object.assign({},e);return Array.isArray(t)&&t.forEach(function(a){delete n[a]}),n}const O4=function(e){if(!e)return!1;if(e instanceof Element){if(e.offsetParent)return!0;if(e.getBBox){var t=e.getBBox(),n=t.width,a=t.height;if(n||a)return!0}if(e.getBoundingClientRect){var r=e.getBoundingClientRect(),i=r.width,o=r.height;if(i||o)return!0}}return!1},TZe=e=>{const{componentCls:t,colorPrimary:n}=e;return{[t]:{position:"absolute",background:"transparent",pointerEvents:"none",boxSizing:"border-box",color:`var(--wave-color, ${n})`,boxShadow:"0 0 0 0 currentcolor",opacity:.2,"&.wave-motion-appear":{transition:[`box-shadow 0.4s ${e.motionEaseOutCirc}`,`opacity 2s ${e.motionEaseOutCirc}`].join(","),"&-active":{boxShadow:"0 0 0 6px currentcolor",opacity:0},"&.wave-quick":{transition:[`box-shadow ${e.motionDurationSlow} ${e.motionEaseInOut}`,`opacity ${e.motionDurationSlow} ${e.motionEaseInOut}`].join(",")}}}}},AZe=oKe("Wave",e=>[TZe(e)]),lP=`${lb}-wave-target`;function eS(e){return e&&e!=="#fff"&&e!=="#ffffff"&&e!=="rgb(255, 255, 255)"&&e!=="rgba(255, 255, 255, 1)"&&!/rgba\((?:\d*, ){3}0\)/.test(e)&&e!=="transparent"}function MZe(e){const{borderTopColor:t,borderColor:n,backgroundColor:a}=getComputedStyle(e);return eS(t)?t:eS(n)?n:eS(a)?a:null}function tS(e){return Number.isNaN(e)?0:e}const RZe=e=>{const{className:t,target:n,component:a,registerUnmount:r}=e,i=v.useRef(null),o=v.useRef(null);v.useEffect(()=>{o.current=r()},[]);const[c,l]=v.useState(null),[d,f]=v.useState([]),[g,b]=v.useState(0),[w,S]=v.useState(0),[j,N]=v.useState(0),[I,M]=v.useState(0),[B,P]=v.useState(!1),O={left:g,top:w,width:j,height:I,borderRadius:d.map(U=>`${U}px`).join(" ")};c&&(O["--wave-color"]=c);function R(){const U=getComputedStyle(n);l(MZe(n));const F=U.position==="static",{borderLeftWidth:H,borderTopWidth:ne}=U;b(F?n.offsetLeft:tS(-parseFloat(H))),S(F?n.offsetTop:tS(-parseFloat(ne))),N(n.offsetWidth),M(n.offsetHeight);const{borderTopLeftRadius:X,borderTopRightRadius:te,borderBottomLeftRadius:se,borderBottomRightRadius:V}=U;f([X,te,V,se].map(q=>tS(parseFloat(q))))}if(v.useEffect(()=>{if(n){const U=Ki(()=>{R(),P(!0)});let F;return typeof ResizeObserver<"u"&&(F=new ResizeObserver(R),F.observe(n)),()=>{Ki.cancel(U),F==null||F.disconnect()}}},[]),!B)return null;const $=(a==="Checkbox"||a==="Radio")&&(n==null?void 0:n.classList.contains(lP));return v.createElement(y0,{visible:!0,motionAppear:!0,motionName:"wave-motion",motionDeadline:5e3,onAppearEnd:(U,F)=>{var H,ne;if(F.deadline||F.propertyName==="opacity"){const X=(H=i.current)===null||H===void 0?void 0:H.parentElement;(ne=o.current)===null||ne===void 0||ne.call(o).then(()=>{X==null||X.remove()})}return!1}},({className:U},F)=>v.createElement("div",{ref:dy(i,F),className:zs(t,U,{"wave-quick":$}),style:O}))},OZe=(e,t)=>{var n;const{component:a}=t;if(a==="Checkbox"&&!(!((n=e.querySelector("input"))===null||n===void 0)&&n.checked))return;const r=document.createElement("div");r.style.position="absolute",r.style.left="0px",r.style.top="0px",e==null||e.insertBefore(r,e==null?void 0:e.firstChild);const i=DZe();let o=null;function c(){return o}o=i(v.createElement(RZe,Object.assign({},t,{target:e,registerUnmount:c})),r)},BZe=(e,t,n)=>{const{wave:a}=v.useContext(bo),[,r,i]=Yh(),o=Za(d=>{const f=e.current;if(a!=null&&a.disabled||!f)return;const g=f.querySelector(`.${lP}`)||f,{showEffect:b}=a||{};(b||OZe)(g,{className:t,token:r,component:n,event:d,hashId:i})}),c=v.useRef(null);return d=>{Ki.cancel(c.current),c.current=Ki(()=>{o(d)})}},LZe=e=>{const{children:t,disabled:n,component:a}=e,{getPrefixCls:r}=v.useContext(bo),i=v.useRef(null),o=r("wave"),[,c]=AZe(o),l=BZe(i,zs(o,c),a);if(Je.useEffect(()=>{const f=i.current;if(!f||f.nodeType!==1||n)return;const g=b=>{!O4(b.target)||!f.getAttribute||f.getAttribute("disabled")||f.disabled||f.className.includes("disabled")||f.className.includes("-leave")||l(b)};return f.addEventListener("click",g,!0),()=>{f.removeEventListener("click",g,!0)}},[n]),!Je.isValidElement(t))return t??null;const d=x0(t)?dy(fy(t),i):i;return nP(t,{ref:d})},B4=e=>{const t=Je.useContext(Rm);return Je.useMemo(()=>e?typeof e=="string"?e??t:typeof e=="function"?e(t):t:t,[e,t])},uP=v.createContext(null),L4=(e,t)=>{const n=v.useContext(uP),a=v.useMemo(()=>{if(!n)return"";const{compactDirection:r,isFirstItem:i,isLastItem:o}=n,c=r==="vertical"?"-vertical-":"-";return zs(`${e}-compact${c}item`,{[`${e}-compact${c}first-item`]:i,[`${e}-compact${c}last-item`]:o,[`${e}-compact${c}item-rtl`]:t==="rtl"})},[e,t,n]);return{compactSize:n==null?void 0:n.compactSize,compactDirection:n==null?void 0:n.compactDirection,compactItemClassnames:a}},$Ze=e=>{const{children:t}=e;return v.createElement(uP.Provider,{value:null},t)};var PZe=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]]);return n};const dP=v.createContext(void 0),FZe=e=>{const{getPrefixCls:t,direction:n}=v.useContext(bo),{prefixCls:a,size:r,className:i}=e,o=PZe(e,["prefixCls","size","className"]),c=t("btn-group",a),[,,l]=Yh(),d=v.useMemo(()=>{switch(r){case"large":return"lg";case"small":return"sm";default:return""}},[r]),f=zs(c,{[`${c}-${d}`]:d,[`${c}-rtl`]:n==="rtl"},i,l);return v.createElement(dP.Provider,{value:r},v.createElement("div",Object.assign({},o,{className:f})))},o9=/^[\u4E00-\u9FA5]{2}$/,xN=o9.test.bind(o9);function c9(e){return typeof e=="string"}function nS(e){return e==="text"||e==="link"}function HZe(e,t){if(e==null)return;const n=t?" ":"";return typeof e!="string"&&typeof e!="number"&&c9(e.type)&&xN(e.props.children)?nP(e,{children:e.props.children.split("").join(n)}):c9(e)?xN(e)?Je.createElement("span",null,e.split("").join(n)):Je.createElement("span",null,e):uZe(e)?Je.createElement("span",null,e):e}function zZe(e,t){let n=!1;const a=[];return Je.Children.forEach(e,r=>{const i=typeof r,o=i==="string"||i==="number";if(n&&o){const c=a.length-1,l=a[c];a[c]=`${l}${r}`}else a.push(r);n=o}),Je.Children.map(a,r=>HZe(r,t))}["default","primary","danger"].concat(fs(I4));const bN=v.forwardRef((e,t)=>{const{className:n,style:a,children:r,prefixCls:i}=e,o=zs(`${i}-icon`,n);return Je.createElement("span",{ref:t,className:o,style:a},r)}),l9=v.forwardRef((e,t)=>{const{prefixCls:n,className:a,style:r,iconClassName:i}=e,o=zs(`${n}-loading-icon`,a);return Je.createElement(bN,{prefixCls:n,className:o,style:r,ref:t},Je.createElement(aP,{className:i}))}),sS=()=>({width:0,opacity:0,transform:"scale(0)"}),aS=e=>({width:e.scrollWidth,opacity:1,transform:"scale(1)"}),VZe=e=>{const{prefixCls:t,loading:n,existIcon:a,className:r,style:i,mount:o}=e,c=!!n;return a?Je.createElement(l9,{prefixCls:t,className:r,style:i}):Je.createElement(y0,{visible:c,motionName:`${t}-loading-icon-motion`,motionAppear:!o,motionEnter:!o,motionLeave:!o,removeOnLeave:!0,onAppearStart:sS,onAppearActive:aS,onEnterStart:sS,onEnterActive:aS,onLeaveStart:aS,onLeaveActive:sS},({className:l,style:d},f)=>{const g=Object.assign(Object.assign({},i),d);return Je.createElement(l9,{prefixCls:t,className:zs(r,l),style:g,ref:f})})},u9=(e,t)=>({[`> span, > ${e}`]:{"&:not(:last-child)":{[`&, & > ${e}`]:{"&:not(:disabled)":{borderInlineEndColor:t}}},"&:not(:first-child)":{[`&, & > ${e}`]:{"&:not(:disabled)":{borderInlineStartColor:t}}}}}),qZe=e=>{const{componentCls:t,fontSize:n,lineWidth:a,groupBorderColor:r,colorErrorHover:i}=e;return{[`${t}-group`]:[{position:"relative",display:"inline-flex",[`> span, > ${t}`]:{"&:not(:last-child)":{[`&, & > ${t}`]:{borderStartEndRadius:0,borderEndEndRadius:0}},"&:not(:first-child)":{marginInlineStart:e.calc(a).mul(-1).equal(),[`&, & > ${t}`]:{borderStartStartRadius:0,borderEndStartRadius:0}}},[t]:{position:"relative",zIndex:1,"&:hover, &:focus, &:active":{zIndex:2},"&[disabled]":{zIndex:0}},[`${t}-icon-only`]:{fontSize:n}},u9(`${t}-primary`,r),u9(`${t}-danger`,i)]}};var UZe=["b"],WZe=["v"],rS=function(t){return Math.round(Number(t||0))},YZe=function(t){if(t instanceof wr)return t;if(t&&Bs(t)==="object"&&"h"in t&&"b"in t){var n=t,a=n.b,r=ai(n,UZe);return vt(vt({},r),{},{v:a})}return typeof t=="string"&&/hsb/.test(t)?t.replace(/hsb/,"hsv"):t},Ug=function(e){Td(n,e);var t=Ad(n);function n(a){return Mi(this,n),t.call(this,YZe(a))}return Ri(n,[{key:"toHsbString",value:function(){var r=this.toHsb(),i=rS(r.s*100),o=rS(r.b*100),c=rS(r.h),l=r.a,d="hsb(".concat(c,", ").concat(i,"%, ").concat(o,"%)"),f="hsba(".concat(c,", ").concat(i,"%, ").concat(o,"%, ").concat(l.toFixed(l===0?0:2),")");return l===1?d:f}},{key:"toHsb",value:function(){var r=this.toHsv(),i=r.v,o=ai(r,WZe);return vt(vt({},o),{},{b:i,a:this.a})}}]),n}(wr),GZe=function(t){return t instanceof Ug?t:new Ug(t)};GZe("#1677ff");const QZe=(e,t)=>(e==null?void 0:e.replace(/[^\w/]/g,"").slice(0,t?8:6))||"",XZe=(e,t)=>e?QZe(e,t):"";let KZe=function(){function e(t){Mi(this,e);var n;if(this.cleared=!1,t instanceof e){this.metaColor=t.metaColor.clone(),this.colors=(n=t.colors)===null||n===void 0?void 0:n.map(r=>({color:new e(r.color),percent:r.percent})),this.cleared=t.cleared;return}const a=Array.isArray(t);a&&t.length?(this.colors=t.map(({color:r,percent:i})=>({color:new e(r),percent:i})),this.metaColor=new Ug(this.colors[0].color.metaColor)):this.metaColor=new Ug(a?"":t),(!t||a&&!this.colors)&&(this.metaColor=this.metaColor.setA(0),this.cleared=!0)}return Ri(e,[{key:"toHsb",value:function(){return this.metaColor.toHsb()}},{key:"toHsbString",value:function(){return this.metaColor.toHsbString()}},{key:"toHex",value:function(){return XZe(this.toHexString(),this.metaColor.a<1)}},{key:"toHexString",value:function(){return this.metaColor.toHexString()}},{key:"toRgb",value:function(){return this.metaColor.toRgb()}},{key:"toRgbString",value:function(){return this.metaColor.toRgbString()}},{key:"isGradient",value:function(){return!!this.colors&&!this.cleared}},{key:"getColors",value:function(){return this.colors||[{color:this,percent:0}]}},{key:"toCssString",value:function(){const{colors:n}=this;return n?`linear-gradient(90deg, ${n.map(r=>`${r.color.toRgbString()} ${r.percent}%`).join(", ")})`:this.metaColor.toRgbString()}},{key:"equals",value:function(n){return!n||this.isGradient()!==n.isGradient()?!1:this.isGradient()?this.colors.length===n.colors.length&&this.colors.every((a,r)=>{const i=n.colors[r];return a.percent===i.percent&&a.color.equals(i.color)}):this.toHexString()===n.toHexString()}}])}();const ZZe=e=>({animationDuration:e,animationFillMode:"both"}),JZe=e=>({animationDuration:e,animationFillMode:"both"}),hP=(e,t,n,a,r=!1)=>{const i=r?"&":"";return{[`
      ${i}${e}-enter,
      ${i}${e}-appear
    `]:Object.assign(Object.assign({},ZZe(a)),{animationPlayState:"paused"}),[`${i}${e}-leave`]:Object.assign(Object.assign({},JZe(a)),{animationPlayState:"paused"}),[`
      ${i}${e}-enter${e}-enter-active,
      ${i}${e}-appear${e}-appear-active
    `]:{animationName:t,animationPlayState:"running"},[`${i}${e}-leave${e}-leave-active`]:{animationName:n,animationPlayState:"running",pointerEvents:"none"}}},eJe=new mo("antMoveDownIn",{"0%":{transform:"translate3d(0, 100%, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),tJe=new mo("antMoveDownOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(0, 100%, 0)",transformOrigin:"0 0",opacity:0}}),nJe=new mo("antMoveLeftIn",{"0%":{transform:"translate3d(-100%, 0, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),sJe=new mo("antMoveLeftOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(-100%, 0, 0)",transformOrigin:"0 0",opacity:0}}),aJe=new mo("antMoveRightIn",{"0%":{transform:"translate3d(100%, 0, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),rJe=new mo("antMoveRightOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(100%, 0, 0)",transformOrigin:"0 0",opacity:0}}),iJe=new mo("antMoveUpIn",{"0%":{transform:"translate3d(0, -100%, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),oJe=new mo("antMoveUpOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(0, -100%, 0)",transformOrigin:"0 0",opacity:0}}),cJe={"move-up":{inKeyframes:iJe,outKeyframes:oJe},"move-down":{inKeyframes:eJe,outKeyframes:tJe},"move-left":{inKeyframes:nJe,outKeyframes:sJe},"move-right":{inKeyframes:aJe,outKeyframes:rJe}},d9=(e,t)=>{const{antCls:n}=e,a=`${n}-${t}`,{inKeyframes:r,outKeyframes:i}=cJe[t];return[hP(a,r,i,e.motionDurationMid),{[`
        ${a}-enter,
        ${a}-appear
      `]:{opacity:0,animationTimingFunction:e.motionEaseOutCirc},[`${a}-leave`]:{animationTimingFunction:e.motionEaseInOutCirc}}]},fP=new mo("antSlideUpIn",{"0%":{transform:"scaleY(0.8)",transformOrigin:"0% 0%",opacity:0},"100%":{transform:"scaleY(1)",transformOrigin:"0% 0%",opacity:1}}),mP=new mo("antSlideUpOut",{"0%":{transform:"scaleY(1)",transformOrigin:"0% 0%",opacity:1},"100%":{transform:"scaleY(0.8)",transformOrigin:"0% 0%",opacity:0}}),pP=new mo("antSlideDownIn",{"0%":{transform:"scaleY(0.8)",transformOrigin:"100% 100%",opacity:0},"100%":{transform:"scaleY(1)",transformOrigin:"100% 100%",opacity:1}}),gP=new mo("antSlideDownOut",{"0%":{transform:"scaleY(1)",transformOrigin:"100% 100%",opacity:1},"100%":{transform:"scaleY(0.8)",transformOrigin:"100% 100%",opacity:0}}),lJe=new mo("antSlideLeftIn",{"0%":{transform:"scaleX(0.8)",transformOrigin:"0% 0%",opacity:0},"100%":{transform:"scaleX(1)",transformOrigin:"0% 0%",opacity:1}}),uJe=new mo("antSlideLeftOut",{"0%":{transform:"scaleX(1)",transformOrigin:"0% 0%",opacity:1},"100%":{transform:"scaleX(0.8)",transformOrigin:"0% 0%",opacity:0}}),dJe=new mo("antSlideRightIn",{"0%":{transform:"scaleX(0.8)",transformOrigin:"100% 0%",opacity:0},"100%":{transform:"scaleX(1)",transformOrigin:"100% 0%",opacity:1}}),hJe=new mo("antSlideRightOut",{"0%":{transform:"scaleX(1)",transformOrigin:"100% 0%",opacity:1},"100%":{transform:"scaleX(0.8)",transformOrigin:"100% 0%",opacity:0}}),fJe={"slide-up":{inKeyframes:fP,outKeyframes:mP},"slide-down":{inKeyframes:pP,outKeyframes:gP},"slide-left":{inKeyframes:lJe,outKeyframes:uJe},"slide-right":{inKeyframes:dJe,outKeyframes:hJe}},h9=(e,t)=>{const{antCls:n}=e,a=`${n}-${t}`,{inKeyframes:r,outKeyframes:i}=fJe[t];return[hP(a,r,i,e.motionDurationMid),{[`
      ${a}-enter,
      ${a}-appear
    `]:{transform:"scale(0)",transformOrigin:"0% 0%",opacity:0,animationTimingFunction:e.motionEaseOutQuint,"&-prepare":{transform:"scale(1)"}},[`${a}-leave`]:{animationTimingFunction:e.motionEaseInQuint}}]},mJe=(e,t)=>{const{r:n,g:a,b:r,a:i}=e.toRgb(),o=new Ug(e.toRgbString()).onBackground(t).toHsv();return i<=.5?o.v>.5:n*.299+a*.587+r*.114>192},_P=e=>{const{paddingInline:t,onlyIconSize:n}=e;return sc(e,{buttonPaddingHorizontal:t,buttonPaddingVertical:0,buttonIconOnlyFontSize:n})},vP=e=>{var t,n,a,r,i,o;const c=(t=e.contentFontSize)!==null&&t!==void 0?t:e.fontSize,l=(n=e.contentFontSizeSM)!==null&&n!==void 0?n:e.fontSize,d=(a=e.contentFontSizeLG)!==null&&a!==void 0?a:e.fontSizeLG,f=(r=e.contentLineHeight)!==null&&r!==void 0?r:sx(c),g=(i=e.contentLineHeightSM)!==null&&i!==void 0?i:sx(l),b=(o=e.contentLineHeightLG)!==null&&o!==void 0?o:sx(d),w=mJe(new KZe(e.colorBgSolid),"#fff")?"#000":"#fff",S=I4.reduce((j,N)=>Object.assign(Object.assign({},j),{[`${N}ShadowColor`]:`0 ${hs(e.controlOutlineWidth)} 0 ${F1(e[`${N}1`],e.colorBgContainer)}`}),{});return Object.assign(Object.assign({},S),{fontWeight:400,defaultShadow:`0 ${e.controlOutlineWidth}px 0 ${e.controlTmpOutline}`,primaryShadow:`0 ${e.controlOutlineWidth}px 0 ${e.controlOutline}`,dangerShadow:`0 ${e.controlOutlineWidth}px 0 ${e.colorErrorOutline}`,primaryColor:e.colorTextLightSolid,dangerColor:e.colorTextLightSolid,borderColorDisabled:e.colorBorder,defaultGhostColor:e.colorBgContainer,ghostBg:"transparent",defaultGhostBorderColor:e.colorBgContainer,paddingInline:e.paddingContentHorizontal-e.lineWidth,paddingInlineLG:e.paddingContentHorizontal-e.lineWidth,paddingInlineSM:8-e.lineWidth,onlyIconSize:"inherit",onlyIconSizeSM:"inherit",onlyIconSizeLG:"inherit",groupBorderColor:e.colorPrimaryHover,linkHoverBg:"transparent",textTextColor:e.colorText,textTextHoverColor:e.colorText,textTextActiveColor:e.colorText,textHoverBg:e.colorFillTertiary,defaultColor:e.colorText,defaultBg:e.colorBgContainer,defaultBorderColor:e.colorBorder,defaultBorderColorDisabled:e.colorBorder,defaultHoverBg:e.colorBgContainer,defaultHoverColor:e.colorPrimaryHover,defaultHoverBorderColor:e.colorPrimaryHover,defaultActiveBg:e.colorBgContainer,defaultActiveColor:e.colorPrimaryActive,defaultActiveBorderColor:e.colorPrimaryActive,solidTextColor:w,contentFontSize:c,contentFontSizeSM:l,contentFontSizeLG:d,contentLineHeight:f,contentLineHeightSM:g,contentLineHeightLG:b,paddingBlock:Math.max((e.controlHeight-c*f)/2-e.lineWidth,0),paddingBlockSM:Math.max((e.controlHeightSM-l*g)/2-e.lineWidth,0),paddingBlockLG:Math.max((e.controlHeightLG-d*b)/2-e.lineWidth,0)})},pJe=e=>{const{componentCls:t,iconCls:n,fontWeight:a,opacityLoading:r,motionDurationSlow:i,motionEaseInOut:o,marginXS:c,calc:l}=e;return{[t]:{outline:"none",position:"relative",display:"inline-flex",gap:e.marginXS,alignItems:"center",justifyContent:"center",fontWeight:a,whiteSpace:"nowrap",textAlign:"center",backgroundImage:"none",background:"transparent",border:`${hs(e.lineWidth)} ${e.lineType} transparent`,cursor:"pointer",transition:`all ${e.motionDurationMid} ${e.motionEaseInOut}`,userSelect:"none",touchAction:"manipulation",color:e.colorText,"&:disabled > *":{pointerEvents:"none"},[`${t}-icon > svg`]:D4(),"> a":{color:"currentColor"},"&:not(:disabled)":iKe(e),[`&${t}-two-chinese-chars::first-letter`]:{letterSpacing:"0.34em"},[`&${t}-two-chinese-chars > *:not(${n})`]:{marginInlineEnd:"-0.34em",letterSpacing:"0.34em"},[`&${t}-icon-only`]:{paddingInline:0,[`&${t}-compact-item`]:{flex:"none"},[`&${t}-round`]:{width:"auto"}},[`&${t}-loading`]:{opacity:r,cursor:"default"},[`${t}-loading-icon`]:{transition:["width","opacity","margin"].map(d=>`${d} ${i} ${o}`).join(",")},[`&:not(${t}-icon-end)`]:{[`${t}-loading-icon-motion`]:{"&-appear-start, &-enter-start":{marginInlineEnd:l(c).mul(-1).equal()},"&-appear-active, &-enter-active":{marginInlineEnd:0},"&-leave-start":{marginInlineEnd:0},"&-leave-active":{marginInlineEnd:l(c).mul(-1).equal()}}},"&-icon-end":{flexDirection:"row-reverse",[`${t}-loading-icon-motion`]:{"&-appear-start, &-enter-start":{marginInlineStart:l(c).mul(-1).equal()},"&-appear-active, &-enter-active":{marginInlineStart:0},"&-leave-start":{marginInlineStart:0},"&-leave-active":{marginInlineStart:l(c).mul(-1).equal()}}}}}},xP=(e,t,n)=>({[`&:not(:disabled):not(${e}-disabled)`]:{"&:hover":t,"&:active":n}}),gJe=e=>({minWidth:e.controlHeight,paddingInlineStart:0,paddingInlineEnd:0,borderRadius:"50%"}),_Je=e=>({borderRadius:e.controlHeight,paddingInlineStart:e.calc(e.controlHeight).div(2).equal(),paddingInlineEnd:e.calc(e.controlHeight).div(2).equal()}),vJe=e=>({cursor:"not-allowed",borderColor:e.borderColorDisabled,color:e.colorTextDisabled,background:e.colorBgContainerDisabled,boxShadow:"none"}),xy=(e,t,n,a,r,i,o,c)=>({[`&${e}-background-ghost`]:Object.assign(Object.assign({color:n||void 0,background:t,borderColor:a||void 0,boxShadow:"none"},xP(e,Object.assign({background:t},o),Object.assign({background:t},c))),{"&:disabled":{cursor:"not-allowed",color:r||void 0,borderColor:i||void 0}})}),xJe=e=>({[`&:disabled, &${e.componentCls}-disabled`]:Object.assign({},vJe(e))}),bJe=e=>({[`&:disabled, &${e.componentCls}-disabled`]:{cursor:"not-allowed",color:e.colorTextDisabled}}),by=(e,t,n,a)=>{const i=a&&["link","text"].includes(a)?bJe:xJe;return Object.assign(Object.assign({},i(e)),xP(e.componentCls,t,n))},yy=(e,t,n,a,r)=>({[`&${e.componentCls}-variant-solid`]:Object.assign({color:t,background:n},by(e,a,r))}),wy=(e,t,n,a,r)=>({[`&${e.componentCls}-variant-outlined, &${e.componentCls}-variant-dashed`]:Object.assign({borderColor:t,background:n},by(e,a,r))}),Cy=e=>({[`&${e.componentCls}-variant-dashed`]:{borderStyle:"dashed"}}),Sy=(e,t,n,a)=>({[`&${e.componentCls}-variant-filled`]:Object.assign({boxShadow:"none",background:t},by(e,n,a))}),Al=(e,t,n,a,r)=>({[`&${e.componentCls}-variant-${n}`]:Object.assign({color:t,boxShadow:"none"},by(e,a,r,n))}),yJe=e=>{const{componentCls:t}=e;return I4.reduce((n,a)=>{const r=e[`${a}6`],i=e[`${a}1`],o=e[`${a}5`],c=e[`${a}2`],l=e[`${a}3`],d=e[`${a}7`];return Object.assign(Object.assign({},n),{[`&${t}-color-${a}`]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({color:r,boxShadow:e[`${a}ShadowColor`]},yy(e,e.colorTextLightSolid,r,{background:o},{background:d})),wy(e,r,e.colorBgContainer,{color:o,borderColor:o,background:e.colorBgContainer},{color:d,borderColor:d,background:e.colorBgContainer})),Cy(e)),Sy(e,i,{background:c},{background:l})),Al(e,r,"link",{color:o},{color:d})),Al(e,r,"text",{color:o,background:i},{color:d,background:l}))})},{})},wJe=e=>Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({color:e.defaultColor,boxShadow:e.defaultShadow},yy(e,e.solidTextColor,e.colorBgSolid,{color:e.solidTextColor,background:e.colorBgSolidHover},{color:e.solidTextColor,background:e.colorBgSolidActive})),Cy(e)),Sy(e,e.colorFillTertiary,{background:e.colorFillSecondary},{background:e.colorFill})),xy(e.componentCls,e.ghostBg,e.defaultGhostColor,e.defaultGhostBorderColor,e.colorTextDisabled,e.colorBorder)),Al(e,e.textTextColor,"link",{color:e.colorLinkHover,background:e.linkHoverBg},{color:e.colorLinkActive})),CJe=e=>Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({color:e.colorPrimary,boxShadow:e.primaryShadow},wy(e,e.colorPrimary,e.colorBgContainer,{color:e.colorPrimaryTextHover,borderColor:e.colorPrimaryHover,background:e.colorBgContainer},{color:e.colorPrimaryTextActive,borderColor:e.colorPrimaryActive,background:e.colorBgContainer})),Cy(e)),Sy(e,e.colorPrimaryBg,{background:e.colorPrimaryBgHover},{background:e.colorPrimaryBorder})),Al(e,e.colorPrimaryText,"text",{color:e.colorPrimaryTextHover,background:e.colorPrimaryBg},{color:e.colorPrimaryTextActive,background:e.colorPrimaryBorder})),Al(e,e.colorPrimaryText,"link",{color:e.colorPrimaryTextHover,background:e.linkHoverBg},{color:e.colorPrimaryTextActive})),xy(e.componentCls,e.ghostBg,e.colorPrimary,e.colorPrimary,e.colorTextDisabled,e.colorBorder,{color:e.colorPrimaryHover,borderColor:e.colorPrimaryHover},{color:e.colorPrimaryActive,borderColor:e.colorPrimaryActive})),SJe=e=>Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({color:e.colorError,boxShadow:e.dangerShadow},yy(e,e.dangerColor,e.colorError,{background:e.colorErrorHover},{background:e.colorErrorActive})),wy(e,e.colorError,e.colorBgContainer,{color:e.colorErrorHover,borderColor:e.colorErrorBorderHover},{color:e.colorErrorActive,borderColor:e.colorErrorActive})),Cy(e)),Sy(e,e.colorErrorBg,{background:e.colorErrorBgFilledHover},{background:e.colorErrorBgActive})),Al(e,e.colorError,"text",{color:e.colorErrorHover,background:e.colorErrorBg},{color:e.colorErrorHover,background:e.colorErrorBgActive})),Al(e,e.colorError,"link",{color:e.colorErrorHover},{color:e.colorErrorActive})),xy(e.componentCls,e.ghostBg,e.colorError,e.colorError,e.colorTextDisabled,e.colorBorder,{color:e.colorErrorHover,borderColor:e.colorErrorHover},{color:e.colorErrorActive,borderColor:e.colorErrorActive})),jJe=e=>Object.assign(Object.assign({},Al(e,e.colorLink,"link",{color:e.colorLinkHover},{color:e.colorLinkActive})),xy(e.componentCls,e.ghostBg,e.colorInfo,e.colorInfo,e.colorTextDisabled,e.colorBorder,{color:e.colorInfoHover,borderColor:e.colorInfoHover},{color:e.colorInfoActive,borderColor:e.colorInfoActive})),NJe=e=>{const{componentCls:t}=e;return Object.assign({[`${t}-color-default`]:wJe(e),[`${t}-color-primary`]:CJe(e),[`${t}-color-dangerous`]:SJe(e),[`${t}-color-link`]:jJe(e)},yJe(e))},EJe=e=>Object.assign(Object.assign(Object.assign(Object.assign({},wy(e,e.defaultBorderColor,e.defaultBg,{color:e.defaultHoverColor,borderColor:e.defaultHoverBorderColor,background:e.defaultHoverBg},{color:e.defaultActiveColor,borderColor:e.defaultActiveBorderColor,background:e.defaultActiveBg})),Al(e,e.textTextColor,"text",{color:e.textTextHoverColor,background:e.textHoverBg},{color:e.textTextActiveColor,background:e.colorBgTextActive})),yy(e,e.primaryColor,e.colorPrimary,{background:e.colorPrimaryHover,color:e.primaryColor},{background:e.colorPrimaryActive,color:e.primaryColor})),Al(e,e.colorLink,"link",{color:e.colorLinkHover,background:e.linkHoverBg},{color:e.colorLinkActive})),$4=(e,t="")=>{const{componentCls:n,controlHeight:a,fontSize:r,borderRadius:i,buttonPaddingHorizontal:o,iconCls:c,buttonPaddingVertical:l,buttonIconOnlyFontSize:d}=e;return[{[t]:{fontSize:r,height:a,padding:`${hs(l)} ${hs(o)}`,borderRadius:i,[`&${n}-icon-only`]:{width:a,[c]:{fontSize:d}}}},{[`${n}${n}-circle${t}`]:gJe(e)},{[`${n}${n}-round${t}`]:_Je(e)}]},kJe=e=>{const t=sc(e,{fontSize:e.contentFontSize});return $4(t,e.componentCls)},IJe=e=>{const t=sc(e,{controlHeight:e.controlHeightSM,fontSize:e.contentFontSizeSM,padding:e.paddingXS,buttonPaddingHorizontal:e.paddingInlineSM,buttonPaddingVertical:0,borderRadius:e.borderRadiusSM,buttonIconOnlyFontSize:e.onlyIconSizeSM});return $4(t,`${e.componentCls}-sm`)},DJe=e=>{const t=sc(e,{controlHeight:e.controlHeightLG,fontSize:e.contentFontSizeLG,buttonPaddingHorizontal:e.paddingInlineLG,buttonPaddingVertical:0,borderRadius:e.borderRadiusLG,buttonIconOnlyFontSize:e.onlyIconSizeLG});return $4(t,`${e.componentCls}-lg`)},TJe=e=>{const{componentCls:t}=e;return{[t]:{[`&${t}-block`]:{width:"100%"}}}},AJe=_y("Button",e=>{const t=_P(e);return[pJe(t),kJe(t),IJe(t),DJe(t),TJe(t),NJe(t),EJe(t),qZe(t)]},vP,{unitless:{fontWeight:!0,contentLineHeight:!0,contentLineHeightSM:!0,contentLineHeightLG:!0}});function MJe(e,t,n){const{focusElCls:a,focus:r,borderElCls:i}=n,o=i?"> *":"",c=["hover",r?"focus":null,"active"].filter(Boolean).map(l=>`&:${l} ${o}`).join(",");return{[`&-item:not(${t}-last-item)`]:{marginInlineEnd:e.calc(e.lineWidth).mul(-1).equal()},"&-item":Object.assign(Object.assign({[c]:{zIndex:2}},a?{[`&${a}`]:{zIndex:2}}:{}),{[`&[disabled] ${o}`]:{zIndex:0}})}}function RJe(e,t,n){const{borderElCls:a}=n,r=a?`> ${a}`:"";return{[`&-item:not(${t}-first-item):not(${t}-last-item) ${r}`]:{borderRadius:0},[`&-item:not(${t}-last-item)${t}-first-item`]:{[`& ${r}, &${e}-sm ${r}, &${e}-lg ${r}`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`&-item:not(${t}-first-item)${t}-last-item`]:{[`& ${r}, &${e}-sm ${r}, &${e}-lg ${r}`]:{borderStartStartRadius:0,borderEndStartRadius:0}}}}function P4(e,t={focus:!0}){const{componentCls:n}=e,a=`${n}-compact`;return{[a]:Object.assign(Object.assign({},MJe(e,a,t)),RJe(n,a,t))}}function OJe(e,t){return{[`&-item:not(${t}-last-item)`]:{marginBottom:e.calc(e.lineWidth).mul(-1).equal()},"&-item":{"&:hover,&:focus,&:active":{zIndex:2},"&[disabled]":{zIndex:0}}}}function BJe(e,t){return{[`&-item:not(${t}-first-item):not(${t}-last-item)`]:{borderRadius:0},[`&-item${t}-first-item:not(${t}-last-item)`]:{[`&, &${e}-sm, &${e}-lg`]:{borderEndEndRadius:0,borderEndStartRadius:0}},[`&-item${t}-last-item:not(${t}-first-item)`]:{[`&, &${e}-sm, &${e}-lg`]:{borderStartStartRadius:0,borderStartEndRadius:0}}}}function LJe(e){const t=`${e.componentCls}-compact-vertical`;return{[t]:Object.assign(Object.assign({},OJe(e,t)),BJe(e.componentCls,t))}}const $Je=e=>{const{componentCls:t,colorPrimaryHover:n,lineWidth:a,calc:r}=e,i=r(a).mul(-1).equal(),o=c=>{const l=`${t}-compact${c?"-vertical":""}-item${t}-primary:not([disabled])`;return{[`${l} + ${l}::before`]:{position:"absolute",top:c?i:0,insetInlineStart:c?0:i,backgroundColor:n,content:'""',width:c?"100%":a,height:c?a:"100%"}}};return Object.assign(Object.assign({},o()),o(!0))},PJe=cKe(["Button","compact"],e=>{const t=_P(e);return[P4(t),LJe(t),$Je(t)]},vP);var FJe=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]]);return n};function HJe(e){if(typeof e=="object"&&e){let t=e==null?void 0:e.delay;return t=!Number.isNaN(t)&&typeof t=="number"?t:0,{loading:t<=0,delay:t}}return{loading:!!e,delay:0}}const zJe={default:["default","outlined"],primary:["primary","solid"],dashed:["default","dashed"],link:["link","link"],text:["default","text"]},VJe=Je.forwardRef((e,t)=>{var n,a;const{loading:r=!1,prefixCls:i,color:o,variant:c,type:l,danger:d=!1,shape:f="default",size:g,styles:b,disabled:w,className:S,rootClassName:j,children:N,icon:I,iconPosition:M="start",ghost:B=!1,block:P=!1,htmlType:O="button",classNames:R,style:$={},autoInsertSpace:U,autoFocus:F}=e,H=FJe(e,["loading","prefixCls","color","variant","type","danger","shape","size","styles","disabled","className","rootClassName","children","icon","iconPosition","ghost","block","htmlType","classNames","style","autoInsertSpace","autoFocus"]),ne=l||"default",{button:X}=Je.useContext(bo),[te,se]=v.useMemo(()=>{if(o&&c)return[o,c];if(l||d){const st=zJe[ne]||[];return d?["danger",st[1]]:st}return X!=null&&X.color&&(X!=null&&X.variant)?[X.color,X.variant]:["default","outlined"]},[l,o,c,d,X==null?void 0:X.variant,X==null?void 0:X.color]),q=te==="danger"?"dangerous":te,{getPrefixCls:T,direction:J,autoInsertSpace:Z,className:A,style:Y,classNames:K,styles:G}=M$("button"),oe=(n=U??Z)!==null&&n!==void 0?n:!0,ee=T("btn",i),[ae,ie,ue]=AJe(ee),he=v.useContext(Mm),ge=w??he,ye=v.useContext(dP),je=v.useMemo(()=>HJe(r),[r]),[Ie,me]=v.useState(je.loading),[de,fe]=v.useState(!1),re=v.useRef(null),xe=hy(t,re),Se=v.Children.count(N)===1&&!I&&!nS(se),pe=v.useRef(!0);Je.useEffect(()=>(pe.current=!1,()=>{pe.current=!0}),[]),v.useLayoutEffect(()=>{let st=null;je.delay>0?st=setTimeout(()=>{st=null,me(!0)},je.delay):me(je.loading);function ct(){st&&(clearTimeout(st),st=null)}return ct},[je.delay,je.loading]),v.useEffect(()=>{if(!re.current||!oe)return;const st=re.current.textContent||"";Se&&xN(st)?de||fe(!0):de&&fe(!1)}),v.useEffect(()=>{F&&re.current&&re.current.focus()},[]);const Ee=Je.useCallback(st=>{var ct;if(Ie||ge){st.preventDefault();return}(ct=e.onClick)===null||ct===void 0||ct.call(e,("href"in e,st))},[e.onClick,Ie,ge]),{compactSize:Le,compactItemClassnames:Ue}=L4(ee,J),Ne={large:"lg",small:"sm",middle:void 0},et=B4(st=>{var ct,Mt;return(Mt=(ct=g??Le)!==null&&ct!==void 0?ct:ye)!==null&&Mt!==void 0?Mt:st}),dt=et&&(a=Ne[et])!==null&&a!==void 0?a:"",_e=Ie?"loading":I,tt=R4(H,["navigate"]),Fe=zs(ee,ie,ue,{[`${ee}-${f}`]:f!=="default"&&f,[`${ee}-${ne}`]:ne,[`${ee}-dangerous`]:d,[`${ee}-color-${q}`]:q,[`${ee}-variant-${se}`]:se,[`${ee}-${dt}`]:dt,[`${ee}-icon-only`]:!N&&N!==0&&!!_e,[`${ee}-background-ghost`]:B&&!nS(se),[`${ee}-loading`]:Ie,[`${ee}-two-chinese-chars`]:de&&oe&&!Ie,[`${ee}-block`]:P,[`${ee}-rtl`]:J==="rtl",[`${ee}-icon-end`]:M==="end"},Ue,S,j,A),It=Object.assign(Object.assign({},Y),$),Xe=zs(R==null?void 0:R.icon,K.icon),le=Object.assign(Object.assign({},(b==null?void 0:b.icon)||{}),G.icon||{}),Ae=I&&!Ie?Je.createElement(bN,{prefixCls:ee,className:Xe,style:le},I):r&&typeof r=="object"&&r.icon?Je.createElement(bN,{prefixCls:ee,className:Xe,style:le},r.icon):Je.createElement(VZe,{existIcon:!!I,prefixCls:ee,loading:Ie,mount:pe.current}),be=N||N===0?zZe(N,Se&&oe):null;if(tt.href!==void 0)return ae(Je.createElement("a",Object.assign({},tt,{className:zs(Fe,{[`${ee}-disabled`]:ge}),href:ge?void 0:tt.href,style:It,onClick:Ee,ref:xe,tabIndex:ge?-1:0}),Ae,be));let We=Je.createElement("button",Object.assign({},H,{type:O,className:Fe,style:It,onClick:Ee,disabled:ge,ref:xe}),Ae,be,Ue&&Je.createElement(PJe,{prefixCls:ee}));return nS(se)||(We=Je.createElement(LZe,{component:"Button",disabled:Ie},We)),ae(We)}),F4=VJe;F4.Group=FZe;F4.__ANT_BUTTON=!0;var bP=v.createContext(null),f9=[];function qJe(e,t){var n=v.useState(function(){if(!nc())return null;var S=document.createElement("div");return S}),a=St(n,1),r=a[0],i=v.useRef(!1),o=v.useContext(bP),c=v.useState(f9),l=St(c,2),d=l[0],f=l[1],g=o||(i.current?void 0:function(S){f(function(j){var N=[S].concat(fs(j));return N})});function b(){r.parentElement||document.body.appendChild(r),i.current=!0}function w(){var S;(S=r.parentElement)===null||S===void 0||S.removeChild(r),i.current=!1}return Pr(function(){return e?o?o(b):b():w(),w},[e]),Pr(function(){d.length&&(d.forEach(function(S){return S()}),f(f9))},[d]),[r,g]}function UJe(e){var t="rc-scrollbar-measure-".concat(Math.random().toString(36).substring(7)),n=document.createElement("div");n.id=t;var a=n.style;a.position="absolute",a.left="0",a.top="0",a.width="100px",a.height="100px",a.overflow="scroll";var r,i;if(e){var o=getComputedStyle(e);a.scrollbarColor=o.scrollbarColor,a.scrollbarWidth=o.scrollbarWidth;var c=getComputedStyle(e,"::-webkit-scrollbar"),l=parseInt(c.width,10),d=parseInt(c.height,10);try{var f=l?"width: ".concat(c.width,";"):"",g=d?"height: ".concat(c.height,";"):"";gu(`
#`.concat(t,`::-webkit-scrollbar {
`).concat(f,`
`).concat(g,`
}`),t)}catch(S){console.error(S),r=l,i=d}}document.body.appendChild(n);var b=e&&r&&!isNaN(r)?r:n.offsetWidth-n.clientWidth,w=e&&i&&!isNaN(i)?i:n.offsetHeight-n.clientHeight;return document.body.removeChild(n),Fg(t),{width:b,height:w}}function WJe(e){return typeof document>"u"||!e||!(e instanceof Element)?{width:0,height:0}:UJe(e)}function YJe(){return document.body.scrollHeight>(window.innerHeight||document.documentElement.clientHeight)&&window.innerWidth>document.body.offsetWidth}var GJe="rc-util-locker-".concat(Date.now()),m9=0;function QJe(e){var t=!!e,n=v.useState(function(){return m9+=1,"".concat(GJe,"_").concat(m9)}),a=St(n,1),r=a[0];Pr(function(){if(t){var i=WJe(document.body).width,o=YJe();gu(`
html body {
  overflow-y: hidden;
  `.concat(o?"width: calc(100% - ".concat(i,"px);"):"",`
}`),r)}else Fg(r);return function(){Fg(r)}},[t,r])}var XJe=!1;function KJe(e){return XJe}var p9=function(t){return t===!1?!1:!nc()||!t?null:typeof t=="string"?document.querySelector(t):typeof t=="function"?t():t},yP=v.forwardRef(function(e,t){var n=e.open,a=e.autoLock,r=e.getContainer;e.debug;var i=e.autoDestroy,o=i===void 0?!0:i,c=e.children,l=v.useState(n),d=St(l,2),f=d[0],g=d[1],b=f||n;v.useEffect(function(){(o||n)&&g(n)},[n,o]);var w=v.useState(function(){return p9(r)}),S=St(w,2),j=S[0],N=S[1];v.useEffect(function(){var ne=p9(r);N(ne??null)});var I=qJe(b&&!j),M=St(I,2),B=M[0],P=M[1],O=j??B;QJe(a&&n&&nc()&&(O===B||O===document.body));var R=null;if(c&&x0(c)&&t){var $=c;R=$.ref}var U=hy(R,t);if(!b||!nc()||j===void 0)return null;var F=O===!1||KJe(),H=c;return t&&(H=v.cloneElement(c,{ref:U})),v.createElement(bP.Provider,{value:P},F?H:Hm.createPortal(H,O))});function ZJe(){var e=vt({},Bm);return e.useId}var g9=0,_9=ZJe();const JJe=_9?function(t){var n=_9();return t||n}:function(t){var n=v.useState("ssr-id"),a=St(n,2),r=a[0],i=a[1];return v.useEffect(function(){var o=g9;g9+=1,i("rc_unique_".concat(o))},[]),t||r};var vh="RC_FORM_INTERNAL_HOOKS",_r=function(){Ro(!1,"Can not find FormContext. Please make sure you wrap Field under Form.")},Om=v.createContext({getFieldValue:_r,getFieldsValue:_r,getFieldError:_r,getFieldWarning:_r,getFieldsError:_r,isFieldsTouched:_r,isFieldTouched:_r,isFieldValidating:_r,isFieldsValidating:_r,resetFields:_r,setFields:_r,setFieldValue:_r,setFieldsValue:_r,validateFields:_r,submit:_r,getInternalHooks:function(){return _r(),{dispatch:_r,initEntityValue:_r,registerField:_r,useSubscribe:_r,setInitialValues:_r,destroyForm:_r,setCallbacks:_r,registerWatch:_r,getFields:_r,setValidateMessages:_r,setPreserve:_r,getInitialValue:_r}}}),mb=v.createContext(null);function yN(e){return e==null?[]:Array.isArray(e)?e:[e]}function eet(e){return e&&!!e._init}function wN(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var t=JSON.parse(JSON.stringify(this));return t.clone=this.clone,t}}}var CN=wN();function tet(e){try{return Function.toString.call(e).indexOf("[native code]")!==-1}catch{return typeof e=="function"}}function net(e,t,n){if(v4())return Reflect.construct.apply(null,arguments);var a=[null];a.push.apply(a,t);var r=new(e.bind.apply(e,a));return n&&Lg(r,n.prototype),r}function SN(e){var t=typeof Map=="function"?new Map:void 0;return SN=function(a){if(a===null||!tet(a))return a;if(typeof a!="function")throw new TypeError("Super expression must either be null or a function");if(t!==void 0){if(t.has(a))return t.get(a);t.set(a,r)}function r(){return net(a,arguments,$g(this).constructor)}return r.prototype=Object.create(a.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),Lg(r,a)},SN(e)}var set=/%[sdj%]/g,aet=function(){};function jN(e){if(!e||!e.length)return null;var t={};return e.forEach(function(n){var a=n.field;t[a]=t[a]||[],t[a].push(n)}),t}function Zo(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];var r=0,i=n.length;if(typeof e=="function")return e.apply(null,n);if(typeof e=="string"){var o=e.replace(set,function(c){if(c==="%%")return"%";if(r>=i)return c;switch(c){case"%s":return String(n[r++]);case"%d":return Number(n[r++]);case"%j":try{return JSON.stringify(n[r++])}catch{return"[Circular]"}break;default:return c}});return o}return e}function ret(e){return e==="string"||e==="url"||e==="hex"||e==="email"||e==="date"||e==="pattern"}function Ai(e,t){return!!(e==null||t==="array"&&Array.isArray(e)&&!e.length||ret(t)&&typeof e=="string"&&!e)}function iet(e,t,n){var a=[],r=0,i=e.length;function o(c){a.push.apply(a,fs(c||[])),r++,r===i&&n(a)}e.forEach(function(c){t(c,o)})}function v9(e,t,n){var a=0,r=e.length;function i(o){if(o&&o.length){n(o);return}var c=a;a=a+1,c<r?t(e[c],i):n([])}i([])}function oet(e){var t=[];return Object.keys(e).forEach(function(n){t.push.apply(t,fs(e[n]||[]))}),t}var x9=function(e){Td(n,e);var t=Ad(n);function n(a,r){var i;return Mi(this,n),i=t.call(this,"Async Validation Error"),pt(_a(i),"errors",void 0),pt(_a(i),"fields",void 0),i.errors=a,i.fields=r,i}return Ri(n)}(SN(Error));function cet(e,t,n,a,r){if(t.first){var i=new Promise(function(b,w){var S=function(I){return a(I),I.length?w(new x9(I,jN(I))):b(r)},j=oet(e);v9(j,n,S)});return i.catch(function(b){return b}),i}var o=t.firstFields===!0?Object.keys(e):t.firstFields||[],c=Object.keys(e),l=c.length,d=0,f=[],g=new Promise(function(b,w){var S=function(N){if(f.push.apply(f,N),d++,d===l)return a(f),f.length?w(new x9(f,jN(f))):b(r)};c.length||(a(f),b(r)),c.forEach(function(j){var N=e[j];o.indexOf(j)!==-1?v9(N,n,S):iet(N,n,S)})});return g.catch(function(b){return b}),g}function uet(e){return!!(e&&e.message!==void 0)}function det(e,t){for(var n=e,a=0;a<t.length;a++){if(n==null)return n;n=n[t[a]]}return n}function b9(e,t){return function(n){var a;return e.fullFields?a=det(t,e.fullFields):a=t[n.field||e.fullField],uet(n)?(n.field=n.field||e.fullField,n.fieldValue=a,n):{message:typeof n=="function"?n():n,fieldValue:a,field:n.field||e.fullField}}}function y9(e,t){if(t){for(var n in t)if(t.hasOwnProperty(n)){var a=t[n];Bs(a)==="object"&&Bs(e[n])==="object"?e[n]=vt(vt({},e[n]),a):e[n]=a}}return e}var $f="enum",het=function(t,n,a,r,i){t[$f]=Array.isArray(t[$f])?t[$f]:[],t[$f].indexOf(n)===-1&&r.push(Zo(i.messages[$f],t.fullField,t[$f].join(", ")))},fet=function(t,n,a,r,i){if(t.pattern){if(t.pattern instanceof RegExp)t.pattern.lastIndex=0,t.pattern.test(n)||r.push(Zo(i.messages.pattern.mismatch,t.fullField,n,t.pattern));else if(typeof t.pattern=="string"){var o=new RegExp(t.pattern);o.test(n)||r.push(Zo(i.messages.pattern.mismatch,t.fullField,n,t.pattern))}}},met=function(t,n,a,r,i){var o=typeof t.len=="number",c=typeof t.min=="number",l=typeof t.max=="number",d=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,f=n,g=null,b=typeof n=="number",w=typeof n=="string",S=Array.isArray(n);if(b?g="number":w?g="string":S&&(g="array"),!g)return!1;S&&(f=n.length),w&&(f=n.replace(d,"_").length),o?f!==t.len&&r.push(Zo(i.messages[g].len,t.fullField,t.len)):c&&!l&&f<t.min?r.push(Zo(i.messages[g].min,t.fullField,t.min)):l&&!c&&f>t.max?r.push(Zo(i.messages[g].max,t.fullField,t.max)):c&&l&&(f<t.min||f>t.max)&&r.push(Zo(i.messages[g].range,t.fullField,t.min,t.max))},wP=function(t,n,a,r,i,o){t.required&&(!a.hasOwnProperty(t.field)||Ai(n,o||t.type))&&r.push(Zo(i.messages.required,t.fullField))},hv;const pet=function(){if(hv)return hv;var e="[a-fA-F\\d:]",t=function(R){return R&&R.includeBoundaries?"(?:(?<=\\s|^)(?=".concat(e,")|(?<=").concat(e,")(?=\\s|$))"):""},n="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",a="[a-fA-F\\d]{1,4}",r=["(?:".concat(a,":){7}(?:").concat(a,"|:)"),"(?:".concat(a,":){6}(?:").concat(n,"|:").concat(a,"|:)"),"(?:".concat(a,":){5}(?::").concat(n,"|(?::").concat(a,"){1,2}|:)"),"(?:".concat(a,":){4}(?:(?::").concat(a,"){0,1}:").concat(n,"|(?::").concat(a,"){1,3}|:)"),"(?:".concat(a,":){3}(?:(?::").concat(a,"){0,2}:").concat(n,"|(?::").concat(a,"){1,4}|:)"),"(?:".concat(a,":){2}(?:(?::").concat(a,"){0,3}:").concat(n,"|(?::").concat(a,"){1,5}|:)"),"(?:".concat(a,":){1}(?:(?::").concat(a,"){0,4}:").concat(n,"|(?::").concat(a,"){1,6}|:)"),"(?::(?:(?::".concat(a,"){0,5}:").concat(n,"|(?::").concat(a,"){1,7}|:))")],i="(?:%[0-9a-zA-Z]{1,})?",o="(?:".concat(r.join("|"),")").concat(i),c=new RegExp("(?:^".concat(n,"$)|(?:^").concat(o,"$)")),l=new RegExp("^".concat(n,"$")),d=new RegExp("^".concat(o,"$")),f=function(R){return R&&R.exact?c:new RegExp("(?:".concat(t(R)).concat(n).concat(t(R),")|(?:").concat(t(R)).concat(o).concat(t(R),")"),"g")};f.v4=function(O){return O&&O.exact?l:new RegExp("".concat(t(O)).concat(n).concat(t(O)),"g")},f.v6=function(O){return O&&O.exact?d:new RegExp("".concat(t(O)).concat(o).concat(t(O)),"g")};var g="(?:(?:[a-z]+:)?//)",b="(?:\\S+(?::\\S*)?@)?",w=f.v4().source,S=f.v6().source,j="(?:(?:[a-z\\u00a1-\\uffff0-9][-_]*)*[a-z\\u00a1-\\uffff0-9]+)",N="(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*",I="(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))",M="(?::\\d{2,5})?",B='(?:[/?#][^\\s"]*)?',P="(?:".concat(g,"|www\\.)").concat(b,"(?:localhost|").concat(w,"|").concat(S,"|").concat(j).concat(N).concat(I,")").concat(M).concat(B);return hv=new RegExp("(?:^".concat(P,"$)"),"i"),hv};var w9={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i},H1={integer:function(t){return H1.number(t)&&parseInt(t,10)===t},float:function(t){return H1.number(t)&&!H1.integer(t)},array:function(t){return Array.isArray(t)},regexp:function(t){if(t instanceof RegExp)return!0;try{return!!new RegExp(t)}catch{return!1}},date:function(t){return typeof t.getTime=="function"&&typeof t.getMonth=="function"&&typeof t.getYear=="function"&&!isNaN(t.getTime())},number:function(t){return isNaN(t)?!1:typeof t=="number"},object:function(t){return Bs(t)==="object"&&!H1.array(t)},method:function(t){return typeof t=="function"},email:function(t){return typeof t=="string"&&t.length<=320&&!!t.match(w9.email)},url:function(t){return typeof t=="string"&&t.length<=2048&&!!t.match(pet())},hex:function(t){return typeof t=="string"&&!!t.match(w9.hex)}},get=function(t,n,a,r,i){if(t.required&&n===void 0){wP(t,n,a,r,i);return}var o=["integer","float","array","regexp","object","method","email","number","date","url","hex"],c=t.type;o.indexOf(c)>-1?H1[c](n)||r.push(Zo(i.messages.types[c],t.fullField,t.type)):c&&Bs(n)!==t.type&&r.push(Zo(i.messages.types[c],t.fullField,t.type))},_et=function(t,n,a,r,i){(/^\s+$/.test(n)||n==="")&&r.push(Zo(i.messages.whitespace,t.fullField))};const Ba={required:wP,whitespace:_et,type:get,range:met,enum:het,pattern:fet};var vet=function(t,n,a,r,i){var o=[],c=t.required||!t.required&&r.hasOwnProperty(t.field);if(c){if(Ai(n)&&!t.required)return a();Ba.required(t,n,r,o,i)}a(o)},xet=function(t,n,a,r,i){var o=[],c=t.required||!t.required&&r.hasOwnProperty(t.field);if(c){if(n==null&&!t.required)return a();Ba.required(t,n,r,o,i,"array"),n!=null&&(Ba.type(t,n,r,o,i),Ba.range(t,n,r,o,i))}a(o)},bet=function(t,n,a,r,i){var o=[],c=t.required||!t.required&&r.hasOwnProperty(t.field);if(c){if(Ai(n)&&!t.required)return a();Ba.required(t,n,r,o,i),n!==void 0&&Ba.type(t,n,r,o,i)}a(o)},yet=function(t,n,a,r,i){var o=[],c=t.required||!t.required&&r.hasOwnProperty(t.field);if(c){if(Ai(n,"date")&&!t.required)return a();if(Ba.required(t,n,r,o,i),!Ai(n,"date")){var l;n instanceof Date?l=n:l=new Date(n),Ba.type(t,l,r,o,i),l&&Ba.range(t,l.getTime(),r,o,i)}}a(o)},wet="enum",Cet=function(t,n,a,r,i){var o=[],c=t.required||!t.required&&r.hasOwnProperty(t.field);if(c){if(Ai(n)&&!t.required)return a();Ba.required(t,n,r,o,i),n!==void 0&&Ba[wet](t,n,r,o,i)}a(o)},jet=function(t,n,a,r,i){var o=[],c=t.required||!t.required&&r.hasOwnProperty(t.field);if(c){if(Ai(n)&&!t.required)return a();Ba.required(t,n,r,o,i),n!==void 0&&(Ba.type(t,n,r,o,i),Ba.range(t,n,r,o,i))}a(o)},Net=function(t,n,a,r,i){var o=[],c=t.required||!t.required&&r.hasOwnProperty(t.field);if(c){if(Ai(n)&&!t.required)return a();Ba.required(t,n,r,o,i),n!==void 0&&(Ba.type(t,n,r,o,i),Ba.range(t,n,r,o,i))}a(o)},Eet=function(t,n,a,r,i){var o=[],c=t.required||!t.required&&r.hasOwnProperty(t.field);if(c){if(Ai(n)&&!t.required)return a();Ba.required(t,n,r,o,i),n!==void 0&&Ba.type(t,n,r,o,i)}a(o)},ket=function(t,n,a,r,i){var o=[],c=t.required||!t.required&&r.hasOwnProperty(t.field);if(c){if(n===""&&(n=void 0),Ai(n)&&!t.required)return a();Ba.required(t,n,r,o,i),n!==void 0&&(Ba.type(t,n,r,o,i),Ba.range(t,n,r,o,i))}a(o)},Iet=function(t,n,a,r,i){var o=[],c=t.required||!t.required&&r.hasOwnProperty(t.field);if(c){if(Ai(n)&&!t.required)return a();Ba.required(t,n,r,o,i),n!==void 0&&Ba.type(t,n,r,o,i)}a(o)},Det=function(t,n,a,r,i){var o=[],c=t.required||!t.required&&r.hasOwnProperty(t.field);if(c){if(Ai(n,"string")&&!t.required)return a();Ba.required(t,n,r,o,i),Ai(n,"string")||Ba.pattern(t,n,r,o,i)}a(o)},Tet=function(t,n,a,r,i){var o=[],c=t.required||!t.required&&r.hasOwnProperty(t.field);if(c){if(Ai(n)&&!t.required)return a();Ba.required(t,n,r,o,i),Ai(n)||Ba.type(t,n,r,o,i)}a(o)},Aet=function(t,n,a,r,i){var o=[],c=Array.isArray(n)?"array":Bs(n);Ba.required(t,n,r,o,i,c),a(o)},Met=function(t,n,a,r,i){var o=[],c=t.required||!t.required&&r.hasOwnProperty(t.field);if(c){if(Ai(n,"string")&&!t.required)return a();Ba.required(t,n,r,o,i,"string"),Ai(n,"string")||(Ba.type(t,n,r,o,i),Ba.range(t,n,r,o,i),Ba.pattern(t,n,r,o,i),t.whitespace===!0&&Ba.whitespace(t,n,r,o,i))}a(o)},iS=function(t,n,a,r,i){var o=t.type,c=[],l=t.required||!t.required&&r.hasOwnProperty(t.field);if(l){if(Ai(n,o)&&!t.required)return a();Ba.required(t,n,r,c,i,o),Ai(n,o)||Ba.type(t,n,r,c,i)}a(c)};const lg={string:Met,method:Eet,number:ket,boolean:bet,regexp:Tet,integer:Net,float:jet,array:xet,object:Iet,enum:Cet,pattern:Det,date:yet,url:iS,hex:iS,email:iS,required:Aet,any:vet};var C0=function(){function e(t){Mi(this,e),pt(this,"rules",null),pt(this,"_messages",CN),this.define(t)}return Ri(e,[{key:"define",value:function(n){var a=this;if(!n)throw new Error("Cannot configure a schema with no rules");if(Bs(n)!=="object"||Array.isArray(n))throw new Error("Rules must be an object");this.rules={},Object.keys(n).forEach(function(r){var i=n[r];a.rules[r]=Array.isArray(i)?i:[i]})}},{key:"messages",value:function(n){return n&&(this._messages=y9(wN(),n)),this._messages}},{key:"validate",value:function(n){var a=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(){},o=n,c=r,l=i;if(typeof c=="function"&&(l=c,c={}),!this.rules||Object.keys(this.rules).length===0)return l&&l(null,o),Promise.resolve(o);function d(S){var j=[],N={};function I(B){if(Array.isArray(B)){var P;j=(P=j).concat.apply(P,fs(B))}else j.push(B)}for(var M=0;M<S.length;M++)I(S[M]);j.length?(N=jN(j),l(j,N)):l(null,o)}if(c.messages){var f=this.messages();f===CN&&(f=wN()),y9(f,c.messages),c.messages=f}else c.messages=this.messages();var g={},b=c.keys||Object.keys(this.rules);b.forEach(function(S){var j=a.rules[S],N=o[S];j.forEach(function(I){var M=I;typeof M.transform=="function"&&(o===n&&(o=vt({},o)),N=o[S]=M.transform(N),N!=null&&(M.type=M.type||(Array.isArray(N)?"array":Bs(N)))),typeof M=="function"?M={validator:M}:M=vt({},M),M.validator=a.getValidationMethod(M),M.validator&&(M.field=S,M.fullField=M.fullField||S,M.type=a.getType(M),g[S]=g[S]||[],g[S].push({rule:M,value:N,source:o,field:S}))})});var w={};return cet(g,c,function(S,j){var N=S.rule,I=(N.type==="object"||N.type==="array")&&(Bs(N.fields)==="object"||Bs(N.defaultField)==="object");I=I&&(N.required||!N.required&&S.value),N.field=S.field;function M($,U){return vt(vt({},U),{},{fullField:"".concat(N.fullField,".").concat($),fullFields:N.fullFields?[].concat(fs(N.fullFields),[$]):[$]})}function B(){var $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],U=Array.isArray($)?$:[$];!c.suppressWarning&&U.length&&e.warning("async-validator:",U),U.length&&N.message!==void 0&&(U=[].concat(N.message));var F=U.map(b9(N,o));if(c.first&&F.length)return w[N.field]=1,j(F);if(!I)j(F);else{if(N.required&&!S.value)return N.message!==void 0?F=[].concat(N.message).map(b9(N,o)):c.error&&(F=[c.error(N,Zo(c.messages.required,N.field))]),j(F);var H={};N.defaultField&&Object.keys(S.value).map(function(te){H[te]=N.defaultField}),H=vt(vt({},H),S.rule.fields);var ne={};Object.keys(H).forEach(function(te){var se=H[te],V=Array.isArray(se)?se:[se];ne[te]=V.map(M.bind(null,te))});var X=new e(ne);X.messages(c.messages),S.rule.options&&(S.rule.options.messages=c.messages,S.rule.options.error=c.error),X.validate(S.value,S.rule.options||c,function(te){var se=[];F&&F.length&&se.push.apply(se,fs(F)),te&&te.length&&se.push.apply(se,fs(te)),j(se.length?se:null)})}}var P;if(N.asyncValidator)P=N.asyncValidator(N,S.value,B,S.source,c);else if(N.validator){try{P=N.validator(N,S.value,B,S.source,c)}catch($){var O,R;(O=(R=console).error)===null||O===void 0||O.call(R,$),c.suppressValidatorError||setTimeout(function(){throw $},0),B($.message)}P===!0?B():P===!1?B(typeof N.message=="function"?N.message(N.fullField||N.field):N.message||"".concat(N.fullField||N.field," fails")):P instanceof Array?B(P):P instanceof Error&&B(P.message)}P&&P.then&&P.then(function(){return B()},function($){return B($)})},function(S){d(S)},o)}},{key:"getType",value:function(n){if(n.type===void 0&&n.pattern instanceof RegExp&&(n.type="pattern"),typeof n.validator!="function"&&n.type&&!lg.hasOwnProperty(n.type))throw new Error(Zo("Unknown rule type %s",n.type));return n.type||"string"}},{key:"getValidationMethod",value:function(n){if(typeof n.validator=="function")return n.validator;var a=Object.keys(n),r=a.indexOf("message");return r!==-1&&a.splice(r,1),a.length===1&&a[0]==="required"?lg.required:lg[this.getType(n)]||void 0}}]),e}();pt(C0,"register",function(t,n){if(typeof n!="function")throw new Error("Cannot register a validator by type, validator is not a function");lg[t]=n});pt(C0,"warning",aet);pt(C0,"messages",CN);pt(C0,"validators",lg);var Wo="'${name}' is not a valid ${type}",CP={default:"Validation error on field '${name}'",required:"'${name}' is required",enum:"'${name}' must be one of [${enum}]",whitespace:"'${name}' cannot be empty",date:{format:"'${name}' is invalid for format date",parse:"'${name}' could not be parsed as date",invalid:"'${name}' is invalid date"},types:{string:Wo,method:Wo,array:Wo,object:Wo,number:Wo,date:Wo,boolean:Wo,integer:Wo,float:Wo,regexp:Wo,email:Wo,url:Wo,hex:Wo},string:{len:"'${name}' must be exactly ${len} characters",min:"'${name}' must be at least ${min} characters",max:"'${name}' cannot be longer than ${max} characters",range:"'${name}' must be between ${min} and ${max} characters"},number:{len:"'${name}' must equal ${len}",min:"'${name}' cannot be less than ${min}",max:"'${name}' cannot be greater than ${max}",range:"'${name}' must be between ${min} and ${max}"},array:{len:"'${name}' must be exactly ${len} in length",min:"'${name}' cannot be less than ${min} in length",max:"'${name}' cannot be greater than ${max} in length",range:"'${name}' must be between ${min} and ${max} in length"},pattern:{mismatch:"'${name}' does not match pattern ${pattern}"}},C9=C0;function Ret(e,t){return e.replace(/\\?\$\{\w+\}/g,function(n){if(n.startsWith("\\"))return n.slice(1);var a=n.slice(2,-1);return t[a]})}var S9="CODE_LOGIC_ERROR";function NN(e,t,n,a,r){return EN.apply(this,arguments)}function EN(){return EN=Gh(fo().mark(function e(t,n,a,r,i){var o,c,l,d,f,g,b,w,S;return fo().wrap(function(N){for(;;)switch(N.prev=N.next){case 0:return o=vt({},a),delete o.ruleIndex,C9.warning=function(){},o.validator&&(c=o.validator,o.validator=function(){try{return c.apply(void 0,arguments)}catch(I){return console.error(I),Promise.reject(S9)}}),l=null,o&&o.type==="array"&&o.defaultField&&(l=o.defaultField,delete o.defaultField),d=new C9(pt({},t,[o])),f=Zf(CP,r.validateMessages),d.messages(f),g=[],N.prev=10,N.next=13,Promise.resolve(d.validate(pt({},t,n),vt({},r)));case 13:N.next=18;break;case 15:N.prev=15,N.t0=N.catch(10),N.t0.errors&&(g=N.t0.errors.map(function(I,M){var B=I.message,P=B===S9?f.default:B;return v.isValidElement(P)?v.cloneElement(P,{key:"error_".concat(M)}):P}));case 18:if(!(!g.length&&l)){N.next=23;break}return N.next=21,Promise.all(n.map(function(I,M){return NN("".concat(t,".").concat(M),I,l,r,i)}));case 21:return b=N.sent,N.abrupt("return",b.reduce(function(I,M){return[].concat(fs(I),fs(M))},[]));case 23:return w=vt(vt({},a),{},{name:t,enum:(a.enum||[]).join(", ")},i),S=g.map(function(I){return typeof I=="string"?Ret(I,w):I}),N.abrupt("return",S);case 26:case"end":return N.stop()}},e,null,[[10,15]])})),EN.apply(this,arguments)}function Oet(e,t,n,a,r,i){var o=e.join("."),c=n.map(function(f,g){var b=f.validator,w=vt(vt({},f),{},{ruleIndex:g});return b&&(w.validator=function(S,j,N){var I=!1,M=function(){for(var O=arguments.length,R=new Array(O),$=0;$<O;$++)R[$]=arguments[$];Promise.resolve().then(function(){Ro(!I,"Your validator function has already return a promise. `callback` will be ignored."),I||N.apply(void 0,R)})},B=b(S,j,M);I=B&&typeof B.then=="function"&&typeof B.catch=="function",Ro(I,"`callback` is deprecated. Please return a promise instead."),I&&B.then(function(){N()}).catch(function(P){N(P||" ")})}),w}).sort(function(f,g){var b=f.warningOnly,w=f.ruleIndex,S=g.warningOnly,j=g.ruleIndex;return!!b==!!S?w-j:b?1:-1}),l;if(r===!0)l=new Promise(function(){var f=Gh(fo().mark(function g(b,w){var S,j,N;return fo().wrap(function(M){for(;;)switch(M.prev=M.next){case 0:S=0;case 1:if(!(S<c.length)){M.next=12;break}return j=c[S],M.next=5,NN(o,t,j,a,i);case 5:if(N=M.sent,!N.length){M.next=9;break}return w([{errors:N,rule:j}]),M.abrupt("return");case 9:S+=1,M.next=1;break;case 12:b([]);case 13:case"end":return M.stop()}},g)}));return function(g,b){return f.apply(this,arguments)}}());else{var d=c.map(function(f){return NN(o,t,f,a,i).then(function(g){return{errors:g,rule:f}})});l=(r?Let(d):Bet(d)).then(function(f){return Promise.reject(f)})}return l.catch(function(f){return f}),l}function Bet(e){return kN.apply(this,arguments)}function kN(){return kN=Gh(fo().mark(function e(t){return fo().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",Promise.all(t).then(function(r){var i,o=(i=[]).concat.apply(i,fs(r));return o}));case 1:case"end":return a.stop()}},e)})),kN.apply(this,arguments)}function Let(e){return IN.apply(this,arguments)}function IN(){return IN=Gh(fo().mark(function e(t){var n;return fo().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return n=0,r.abrupt("return",new Promise(function(i){t.forEach(function(o){o.then(function(c){c.errors.length&&i([c]),n+=1,n===t.length&&i([])})})}));case 2:case"end":return r.stop()}},e)})),IN.apply(this,arguments)}function di(e){return yN(e)}function j9(e,t){var n={};return t.forEach(function(a){var r=bl(e,a);n=Bc(n,a,r)}),n}function lm(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return e&&e.some(function(a){return SP(t,a,n)})}function SP(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return!e||!t||!n&&e.length!==t.length?!1:t.every(function(a,r){return e[r]===a})}function $et(e,t){if(e===t)return!0;if(!e&&t||e&&!t||!e||!t||Bs(e)!=="object"||Bs(t)!=="object")return!1;var n=Object.keys(e),a=Object.keys(t),r=new Set([].concat(n,a));return fs(r).every(function(i){var o=e[i],c=t[i];return typeof o=="function"&&typeof c=="function"?!0:o===c})}function Pet(e){var t=arguments.length<=1?void 0:arguments[1];return t&&t.target&&Bs(t.target)==="object"&&e in t.target?t.target[e]:t}function N9(e,t,n){var a=e.length;if(t<0||t>=a||n<0||n>=a)return e;var r=e[t],i=t-n;return i>0?[].concat(fs(e.slice(0,n)),[r],fs(e.slice(n,t)),fs(e.slice(t+1,a))):i<0?[].concat(fs(e.slice(0,t)),fs(e.slice(t+1,n+1)),[r],fs(e.slice(n+1,a))):e}var Fet=["name"],_c=[];function oS(e,t,n,a,r,i){return typeof e=="function"?e(t,n,"source"in i?{source:i.source}:{}):a!==r}var H4=function(e){Td(n,e);var t=Ad(n);function n(a){var r;if(Mi(this,n),r=t.call(this,a),pt(_a(r),"state",{resetCount:0}),pt(_a(r),"cancelRegisterFunc",null),pt(_a(r),"mounted",!1),pt(_a(r),"touched",!1),pt(_a(r),"dirty",!1),pt(_a(r),"validatePromise",void 0),pt(_a(r),"prevValidating",void 0),pt(_a(r),"errors",_c),pt(_a(r),"warnings",_c),pt(_a(r),"cancelRegister",function(){var l=r.props,d=l.preserve,f=l.isListField,g=l.name;r.cancelRegisterFunc&&r.cancelRegisterFunc(f,d,di(g)),r.cancelRegisterFunc=null}),pt(_a(r),"getNamePath",function(){var l=r.props,d=l.name,f=l.fieldContext,g=f.prefixName,b=g===void 0?[]:g;return d!==void 0?[].concat(fs(b),fs(d)):[]}),pt(_a(r),"getRules",function(){var l=r.props,d=l.rules,f=d===void 0?[]:d,g=l.fieldContext;return f.map(function(b){return typeof b=="function"?b(g):b})}),pt(_a(r),"refresh",function(){r.mounted&&r.setState(function(l){var d=l.resetCount;return{resetCount:d+1}})}),pt(_a(r),"metaCache",null),pt(_a(r),"triggerMetaEvent",function(l){var d=r.props.onMetaChange;if(d){var f=vt(vt({},r.getMeta()),{},{destroy:l});qj(r.metaCache,f)||d(f),r.metaCache=f}else r.metaCache=null}),pt(_a(r),"onStoreChange",function(l,d,f){var g=r.props,b=g.shouldUpdate,w=g.dependencies,S=w===void 0?[]:w,j=g.onReset,N=f.store,I=r.getNamePath(),M=r.getValue(l),B=r.getValue(N),P=d&&lm(d,I);switch(f.type==="valueUpdate"&&f.source==="external"&&!qj(M,B)&&(r.touched=!0,r.dirty=!0,r.validatePromise=null,r.errors=_c,r.warnings=_c,r.triggerMetaEvent()),f.type){case"reset":if(!d||P){r.touched=!1,r.dirty=!1,r.validatePromise=void 0,r.errors=_c,r.warnings=_c,r.triggerMetaEvent(),j==null||j(),r.refresh();return}break;case"remove":{if(b&&oS(b,l,N,M,B,f)){r.reRender();return}break}case"setField":{var O=f.data;if(P){"touched"in O&&(r.touched=O.touched),"validating"in O&&!("originRCField"in O)&&(r.validatePromise=O.validating?Promise.resolve([]):null),"errors"in O&&(r.errors=O.errors||_c),"warnings"in O&&(r.warnings=O.warnings||_c),r.dirty=!0,r.triggerMetaEvent(),r.reRender();return}else if("value"in O&&lm(d,I,!0)){r.reRender();return}if(b&&!I.length&&oS(b,l,N,M,B,f)){r.reRender();return}break}case"dependenciesUpdate":{var R=S.map(di);if(R.some(function($){return lm(f.relatedFields,$)})){r.reRender();return}break}default:if(P||(!S.length||I.length||b)&&oS(b,l,N,M,B,f)){r.reRender();return}break}b===!0&&r.reRender()}),pt(_a(r),"validateRules",function(l){var d=r.getNamePath(),f=r.getValue(),g=l||{},b=g.triggerName,w=g.validateOnly,S=w===void 0?!1:w,j=Promise.resolve().then(Gh(fo().mark(function N(){var I,M,B,P,O,R,$;return fo().wrap(function(F){for(;;)switch(F.prev=F.next){case 0:if(r.mounted){F.next=2;break}return F.abrupt("return",[]);case 2:if(I=r.props,M=I.validateFirst,B=M===void 0?!1:M,P=I.messageVariables,O=I.validateDebounce,R=r.getRules(),b&&(R=R.filter(function(H){return H}).filter(function(H){var ne=H.validateTrigger;if(!ne)return!0;var X=yN(ne);return X.includes(b)})),!(O&&b)){F.next=10;break}return F.next=8,new Promise(function(H){setTimeout(H,O)});case 8:if(r.validatePromise===j){F.next=10;break}return F.abrupt("return",[]);case 10:return $=Oet(d,f,R,l,B,P),$.catch(function(H){return H}).then(function(){var H=arguments.length>0&&arguments[0]!==void 0?arguments[0]:_c;if(r.validatePromise===j){var ne;r.validatePromise=null;var X=[],te=[];(ne=H.forEach)===null||ne===void 0||ne.call(H,function(se){var V=se.rule.warningOnly,q=se.errors,T=q===void 0?_c:q;V?te.push.apply(te,fs(T)):X.push.apply(X,fs(T))}),r.errors=X,r.warnings=te,r.triggerMetaEvent(),r.reRender()}}),F.abrupt("return",$);case 13:case"end":return F.stop()}},N)})));return S||(r.validatePromise=j,r.dirty=!0,r.errors=_c,r.warnings=_c,r.triggerMetaEvent(),r.reRender()),j}),pt(_a(r),"isFieldValidating",function(){return!!r.validatePromise}),pt(_a(r),"isFieldTouched",function(){return r.touched}),pt(_a(r),"isFieldDirty",function(){if(r.dirty||r.props.initialValue!==void 0)return!0;var l=r.props.fieldContext,d=l.getInternalHooks(vh),f=d.getInitialValue;return f(r.getNamePath())!==void 0}),pt(_a(r),"getErrors",function(){return r.errors}),pt(_a(r),"getWarnings",function(){return r.warnings}),pt(_a(r),"isListField",function(){return r.props.isListField}),pt(_a(r),"isList",function(){return r.props.isList}),pt(_a(r),"isPreserve",function(){return r.props.preserve}),pt(_a(r),"getMeta",function(){r.prevValidating=r.isFieldValidating();var l={touched:r.isFieldTouched(),validating:r.prevValidating,errors:r.errors,warnings:r.warnings,name:r.getNamePath(),validated:r.validatePromise===null};return l}),pt(_a(r),"getOnlyChild",function(l){if(typeof l=="function"){var d=r.getMeta();return vt(vt({},r.getOnlyChild(l(r.getControlled(),d,r.props.fieldContext))),{},{isFunction:!0})}var f=rb(l);return f.length!==1||!v.isValidElement(f[0])?{child:f,isFunction:!1}:{child:f[0],isFunction:!1}}),pt(_a(r),"getValue",function(l){var d=r.props.fieldContext.getFieldsValue,f=r.getNamePath();return bl(l||d(!0),f)}),pt(_a(r),"getControlled",function(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},d=r.props,f=d.name,g=d.trigger,b=d.validateTrigger,w=d.getValueFromEvent,S=d.normalize,j=d.valuePropName,N=d.getValueProps,I=d.fieldContext,M=b!==void 0?b:I.validateTrigger,B=r.getNamePath(),P=I.getInternalHooks,O=I.getFieldsValue,R=P(vh),$=R.dispatch,U=r.getValue(),F=N||function(se){return pt({},j,se)},H=l[g],ne=f!==void 0?F(U):{},X=vt(vt({},l),ne);X[g]=function(){r.touched=!0,r.dirty=!0,r.triggerMetaEvent();for(var se,V=arguments.length,q=new Array(V),T=0;T<V;T++)q[T]=arguments[T];w?se=w.apply(void 0,q):se=Pet.apply(void 0,[j].concat(q)),S&&(se=S(se,U,O(!0))),se!==U&&$({type:"updateValue",namePath:B,value:se}),H&&H.apply(void 0,q)};var te=yN(M||[]);return te.forEach(function(se){var V=X[se];X[se]=function(){V&&V.apply(void 0,arguments);var q=r.props.rules;q&&q.length&&$({type:"validateField",namePath:B,triggerName:se})}}),X}),a.fieldContext){var i=a.fieldContext.getInternalHooks,o=i(vh),c=o.initEntityValue;c(_a(r))}return r}return Ri(n,[{key:"componentDidMount",value:function(){var r=this.props,i=r.shouldUpdate,o=r.fieldContext;if(this.mounted=!0,o){var c=o.getInternalHooks,l=c(vh),d=l.registerField;this.cancelRegisterFunc=d(this)}i===!0&&this.reRender()}},{key:"componentWillUnmount",value:function(){this.cancelRegister(),this.triggerMetaEvent(!0),this.mounted=!1}},{key:"reRender",value:function(){this.mounted&&this.forceUpdate()}},{key:"render",value:function(){var r=this.state.resetCount,i=this.props.children,o=this.getOnlyChild(i),c=o.child,l=o.isFunction,d;return l?d=c:v.isValidElement(c)?d=v.cloneElement(c,this.getControlled(c.props)):(Ro(!c,"`children` of Field is not validate ReactElement."),d=c),v.createElement(v.Fragment,{key:r},d)}}]),n}(v.Component);pt(H4,"contextType",Om);pt(H4,"defaultProps",{trigger:"onChange",valuePropName:"value"});function jP(e){var t,n=e.name,a=ai(e,Fet),r=v.useContext(Om),i=v.useContext(mb),o=n!==void 0?di(n):void 0,c=(t=a.isListField)!==null&&t!==void 0?t:!!i,l="keep";return c||(l="_".concat((o||[]).join("_"))),v.createElement(H4,Ns({key:l,name:o,isListField:c},a,{fieldContext:r}))}function Het(e){var t=e.name,n=e.initialValue,a=e.children,r=e.rules,i=e.validateTrigger,o=e.isListField,c=v.useContext(Om),l=v.useContext(mb),d=v.useRef({keys:[],id:0}),f=d.current,g=v.useMemo(function(){var j=di(c.prefixName)||[];return[].concat(fs(j),fs(di(t)))},[c.prefixName,t]),b=v.useMemo(function(){return vt(vt({},c),{},{prefixName:g})},[c,g]),w=v.useMemo(function(){return{getKey:function(N){var I=g.length,M=N[I];return[f.keys[M],N.slice(I+1)]}}},[g]);if(typeof a!="function")return Ro(!1,"Form.List only accepts function as children."),null;var S=function(N,I,M){var B=M.source;return B==="internal"?!1:N!==I};return v.createElement(mb.Provider,{value:w},v.createElement(Om.Provider,{value:b},v.createElement(jP,{name:[],shouldUpdate:S,rules:r,validateTrigger:i,initialValue:n,isList:!0,isListField:o??!!l},function(j,N){var I=j.value,M=I===void 0?[]:I,B=j.onChange,P=c.getFieldValue,O=function(){var F=P(g||[]);return F||[]},R={add:function(F,H){var ne=O();H>=0&&H<=ne.length?(f.keys=[].concat(fs(f.keys.slice(0,H)),[f.id],fs(f.keys.slice(H))),B([].concat(fs(ne.slice(0,H)),[F],fs(ne.slice(H))))):(f.keys=[].concat(fs(f.keys),[f.id]),B([].concat(fs(ne),[F]))),f.id+=1},remove:function(F){var H=O(),ne=new Set(Array.isArray(F)?F:[F]);ne.size<=0||(f.keys=f.keys.filter(function(X,te){return!ne.has(te)}),B(H.filter(function(X,te){return!ne.has(te)})))},move:function(F,H){if(F!==H){var ne=O();F<0||F>=ne.length||H<0||H>=ne.length||(f.keys=N9(f.keys,F,H),B(N9(ne,F,H)))}}},$=M||[];return Array.isArray($)||($=[]),a($.map(function(U,F){var H=f.keys[F];return H===void 0&&(f.keys[F]=f.id,H=f.keys[F],f.id+=1),{name:F,key:H,isListField:!0}}),R,N)})))}function zet(e){var t=!1,n=e.length,a=[];return e.length?new Promise(function(r,i){e.forEach(function(o,c){o.catch(function(l){return t=!0,l}).then(function(l){n-=1,a[c]=l,!(n>0)&&(t&&i(a),r(a))})})}):Promise.resolve([])}var NP="__@field_split__";function cS(e){return e.map(function(t){return"".concat(Bs(t),":").concat(t)}).join(NP)}var Pf=function(){function e(){Mi(this,e),pt(this,"kvs",new Map)}return Ri(e,[{key:"set",value:function(n,a){this.kvs.set(cS(n),a)}},{key:"get",value:function(n){return this.kvs.get(cS(n))}},{key:"update",value:function(n,a){var r=this.get(n),i=a(r);i?this.set(n,i):this.delete(n)}},{key:"delete",value:function(n){this.kvs.delete(cS(n))}},{key:"map",value:function(n){return fs(this.kvs.entries()).map(function(a){var r=St(a,2),i=r[0],o=r[1],c=i.split(NP);return n({key:c.map(function(l){var d=l.match(/^([^:]*):(.*)$/),f=St(d,3),g=f[1],b=f[2];return g==="number"?Number(b):b}),value:o})})}},{key:"toJSON",value:function(){var n={};return this.map(function(a){var r=a.key,i=a.value;return n[r.join(".")]=i,null}),n}}]),e}(),Vet=["name"],qet=Ri(function e(t){var n=this;Mi(this,e),pt(this,"formHooked",!1),pt(this,"forceRootUpdate",void 0),pt(this,"subscribable",!0),pt(this,"store",{}),pt(this,"fieldEntities",[]),pt(this,"initialValues",{}),pt(this,"callbacks",{}),pt(this,"validateMessages",null),pt(this,"preserve",null),pt(this,"lastValidatePromise",null),pt(this,"getForm",function(){return{getFieldValue:n.getFieldValue,getFieldsValue:n.getFieldsValue,getFieldError:n.getFieldError,getFieldWarning:n.getFieldWarning,getFieldsError:n.getFieldsError,isFieldsTouched:n.isFieldsTouched,isFieldTouched:n.isFieldTouched,isFieldValidating:n.isFieldValidating,isFieldsValidating:n.isFieldsValidating,resetFields:n.resetFields,setFields:n.setFields,setFieldValue:n.setFieldValue,setFieldsValue:n.setFieldsValue,validateFields:n.validateFields,submit:n.submit,_init:!0,getInternalHooks:n.getInternalHooks}}),pt(this,"getInternalHooks",function(a){return a===vh?(n.formHooked=!0,{dispatch:n.dispatch,initEntityValue:n.initEntityValue,registerField:n.registerField,useSubscribe:n.useSubscribe,setInitialValues:n.setInitialValues,destroyForm:n.destroyForm,setCallbacks:n.setCallbacks,setValidateMessages:n.setValidateMessages,getFields:n.getFields,setPreserve:n.setPreserve,getInitialValue:n.getInitialValue,registerWatch:n.registerWatch}):(Ro(!1,"`getInternalHooks` is internal usage. Should not call directly."),null)}),pt(this,"useSubscribe",function(a){n.subscribable=a}),pt(this,"prevWithoutPreserves",null),pt(this,"setInitialValues",function(a,r){if(n.initialValues=a||{},r){var i,o=Zf(a,n.store);(i=n.prevWithoutPreserves)===null||i===void 0||i.map(function(c){var l=c.key;o=Bc(o,l,bl(a,l))}),n.prevWithoutPreserves=null,n.updateStore(o)}}),pt(this,"destroyForm",function(a){if(a)n.updateStore({});else{var r=new Pf;n.getFieldEntities(!0).forEach(function(i){n.isMergedPreserve(i.isPreserve())||r.set(i.getNamePath(),!0)}),n.prevWithoutPreserves=r}}),pt(this,"getInitialValue",function(a){var r=bl(n.initialValues,a);return a.length?Zf(r):r}),pt(this,"setCallbacks",function(a){n.callbacks=a}),pt(this,"setValidateMessages",function(a){n.validateMessages=a}),pt(this,"setPreserve",function(a){n.preserve=a}),pt(this,"watchList",[]),pt(this,"registerWatch",function(a){return n.watchList.push(a),function(){n.watchList=n.watchList.filter(function(r){return r!==a})}}),pt(this,"notifyWatch",function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];if(n.watchList.length){var r=n.getFieldsValue(),i=n.getFieldsValue(!0);n.watchList.forEach(function(o){o(r,i,a)})}}),pt(this,"timeoutId",null),pt(this,"warningUnhooked",function(){}),pt(this,"updateStore",function(a){n.store=a}),pt(this,"getFieldEntities",function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return a?n.fieldEntities.filter(function(r){return r.getNamePath().length}):n.fieldEntities}),pt(this,"getFieldsMap",function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,r=new Pf;return n.getFieldEntities(a).forEach(function(i){var o=i.getNamePath();r.set(o,i)}),r}),pt(this,"getFieldEntitiesForNamePathList",function(a){if(!a)return n.getFieldEntities(!0);var r=n.getFieldsMap(!0);return a.map(function(i){var o=di(i);return r.get(o)||{INVALIDATE_NAME_PATH:di(i)}})}),pt(this,"getFieldsValue",function(a,r){n.warningUnhooked();var i,o,c;if(a===!0||Array.isArray(a)?(i=a,o=r):a&&Bs(a)==="object"&&(c=a.strict,o=a.filter),i===!0&&!o)return n.store;var l=n.getFieldEntitiesForNamePathList(Array.isArray(i)?i:null),d=[];return l.forEach(function(f){var g,b,w="INVALIDATE_NAME_PATH"in f?f.INVALIDATE_NAME_PATH:f.getNamePath();if(c){var S,j;if((S=(j=f).isList)!==null&&S!==void 0&&S.call(j))return}else if(!i&&(g=(b=f).isListField)!==null&&g!==void 0&&g.call(b))return;if(!o)d.push(w);else{var N="getMeta"in f?f.getMeta():null;o(N)&&d.push(w)}}),j9(n.store,d.map(di))}),pt(this,"getFieldValue",function(a){n.warningUnhooked();var r=di(a);return bl(n.store,r)}),pt(this,"getFieldsError",function(a){n.warningUnhooked();var r=n.getFieldEntitiesForNamePathList(a);return r.map(function(i,o){return i&&!("INVALIDATE_NAME_PATH"in i)?{name:i.getNamePath(),errors:i.getErrors(),warnings:i.getWarnings()}:{name:di(a[o]),errors:[],warnings:[]}})}),pt(this,"getFieldError",function(a){n.warningUnhooked();var r=di(a),i=n.getFieldsError([r])[0];return i.errors}),pt(this,"getFieldWarning",function(a){n.warningUnhooked();var r=di(a),i=n.getFieldsError([r])[0];return i.warnings}),pt(this,"isFieldsTouched",function(){n.warningUnhooked();for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];var o=r[0],c=r[1],l,d=!1;r.length===0?l=null:r.length===1?Array.isArray(o)?(l=o.map(di),d=!1):(l=null,d=o):(l=o.map(di),d=c);var f=n.getFieldEntities(!0),g=function(N){return N.isFieldTouched()};if(!l)return d?f.every(function(j){return g(j)||j.isList()}):f.some(g);var b=new Pf;l.forEach(function(j){b.set(j,[])}),f.forEach(function(j){var N=j.getNamePath();l.forEach(function(I){I.every(function(M,B){return N[B]===M})&&b.update(I,function(M){return[].concat(fs(M),[j])})})});var w=function(N){return N.some(g)},S=b.map(function(j){var N=j.value;return N});return d?S.every(w):S.some(w)}),pt(this,"isFieldTouched",function(a){return n.warningUnhooked(),n.isFieldsTouched([a])}),pt(this,"isFieldsValidating",function(a){n.warningUnhooked();var r=n.getFieldEntities();if(!a)return r.some(function(o){return o.isFieldValidating()});var i=a.map(di);return r.some(function(o){var c=o.getNamePath();return lm(i,c)&&o.isFieldValidating()})}),pt(this,"isFieldValidating",function(a){return n.warningUnhooked(),n.isFieldsValidating([a])}),pt(this,"resetWithFieldInitialValue",function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=new Pf,i=n.getFieldEntities(!0);i.forEach(function(l){var d=l.props.initialValue,f=l.getNamePath();if(d!==void 0){var g=r.get(f)||new Set;g.add({entity:l,value:d}),r.set(f,g)}});var o=function(d){d.forEach(function(f){var g=f.props.initialValue;if(g!==void 0){var b=f.getNamePath(),w=n.getInitialValue(b);if(w!==void 0)Ro(!1,"Form already set 'initialValues' with path '".concat(b.join("."),"'. Field can not overwrite it."));else{var S=r.get(b);if(S&&S.size>1)Ro(!1,"Multiple Field with path '".concat(b.join("."),"' set 'initialValue'. Can not decide which one to pick."));else if(S){var j=n.getFieldValue(b),N=f.isListField();!N&&(!a.skipExist||j===void 0)&&n.updateStore(Bc(n.store,b,fs(S)[0].value))}}}})},c;a.entities?c=a.entities:a.namePathList?(c=[],a.namePathList.forEach(function(l){var d=r.get(l);if(d){var f;(f=c).push.apply(f,fs(fs(d).map(function(g){return g.entity})))}})):c=i,o(c)}),pt(this,"resetFields",function(a){n.warningUnhooked();var r=n.store;if(!a){n.updateStore(Zf(n.initialValues)),n.resetWithFieldInitialValue(),n.notifyObservers(r,null,{type:"reset"}),n.notifyWatch();return}var i=a.map(di);i.forEach(function(o){var c=n.getInitialValue(o);n.updateStore(Bc(n.store,o,c))}),n.resetWithFieldInitialValue({namePathList:i}),n.notifyObservers(r,i,{type:"reset"}),n.notifyWatch(i)}),pt(this,"setFields",function(a){n.warningUnhooked();var r=n.store,i=[];a.forEach(function(o){var c=o.name,l=ai(o,Vet),d=di(c);i.push(d),"value"in l&&n.updateStore(Bc(n.store,d,l.value)),n.notifyObservers(r,[d],{type:"setField",data:o})}),n.notifyWatch(i)}),pt(this,"getFields",function(){var a=n.getFieldEntities(!0),r=a.map(function(i){var o=i.getNamePath(),c=i.getMeta(),l=vt(vt({},c),{},{name:o,value:n.getFieldValue(o)});return Object.defineProperty(l,"originRCField",{value:!0}),l});return r}),pt(this,"initEntityValue",function(a){var r=a.props.initialValue;if(r!==void 0){var i=a.getNamePath(),o=bl(n.store,i);o===void 0&&n.updateStore(Bc(n.store,i,r))}}),pt(this,"isMergedPreserve",function(a){var r=a!==void 0?a:n.preserve;return r??!0}),pt(this,"registerField",function(a){n.fieldEntities.push(a);var r=a.getNamePath();if(n.notifyWatch([r]),a.props.initialValue!==void 0){var i=n.store;n.resetWithFieldInitialValue({entities:[a],skipExist:!0}),n.notifyObservers(i,[a.getNamePath()],{type:"valueUpdate",source:"internal"})}return function(o,c){var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];if(n.fieldEntities=n.fieldEntities.filter(function(g){return g!==a}),!n.isMergedPreserve(c)&&(!o||l.length>1)){var d=o?void 0:n.getInitialValue(r);if(r.length&&n.getFieldValue(r)!==d&&n.fieldEntities.every(function(g){return!SP(g.getNamePath(),r)})){var f=n.store;n.updateStore(Bc(f,r,d,!0)),n.notifyObservers(f,[r],{type:"remove"}),n.triggerDependenciesUpdate(f,r)}}n.notifyWatch([r])}}),pt(this,"dispatch",function(a){switch(a.type){case"updateValue":{var r=a.namePath,i=a.value;n.updateValue(r,i);break}case"validateField":{var o=a.namePath,c=a.triggerName;n.validateFields([o],{triggerName:c});break}}}),pt(this,"notifyObservers",function(a,r,i){if(n.subscribable){var o=vt(vt({},i),{},{store:n.getFieldsValue(!0)});n.getFieldEntities().forEach(function(c){var l=c.onStoreChange;l(a,r,o)})}else n.forceRootUpdate()}),pt(this,"triggerDependenciesUpdate",function(a,r){var i=n.getDependencyChildrenFields(r);return i.length&&n.validateFields(i),n.notifyObservers(a,i,{type:"dependenciesUpdate",relatedFields:[r].concat(fs(i))}),i}),pt(this,"updateValue",function(a,r){var i=di(a),o=n.store;n.updateStore(Bc(n.store,i,r)),n.notifyObservers(o,[i],{type:"valueUpdate",source:"internal"}),n.notifyWatch([i]);var c=n.triggerDependenciesUpdate(o,i),l=n.callbacks.onValuesChange;if(l){var d=j9(n.store,[i]);l(d,n.getFieldsValue())}n.triggerOnFieldsChange([i].concat(fs(c)))}),pt(this,"setFieldsValue",function(a){n.warningUnhooked();var r=n.store;if(a){var i=Zf(n.store,a);n.updateStore(i)}n.notifyObservers(r,null,{type:"valueUpdate",source:"external"}),n.notifyWatch()}),pt(this,"setFieldValue",function(a,r){n.setFields([{name:a,value:r,errors:[],warnings:[]}])}),pt(this,"getDependencyChildrenFields",function(a){var r=new Set,i=[],o=new Pf;n.getFieldEntities().forEach(function(l){var d=l.props.dependencies;(d||[]).forEach(function(f){var g=di(f);o.update(g,function(){var b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:new Set;return b.add(l),b})})});var c=function l(d){var f=o.get(d)||new Set;f.forEach(function(g){if(!r.has(g)){r.add(g);var b=g.getNamePath();g.isFieldDirty()&&b.length&&(i.push(b),l(b))}})};return c(a),i}),pt(this,"triggerOnFieldsChange",function(a,r){var i=n.callbacks.onFieldsChange;if(i){var o=n.getFields();if(r){var c=new Pf;r.forEach(function(d){var f=d.name,g=d.errors;c.set(f,g)}),o.forEach(function(d){d.errors=c.get(d.name)||d.errors})}var l=o.filter(function(d){var f=d.name;return lm(a,f)});l.length&&i(l,o)}}),pt(this,"validateFields",function(a,r){n.warningUnhooked();var i,o;Array.isArray(a)||typeof a=="string"||typeof r=="string"?(i=a,o=r):o=a;var c=!!i,l=c?i.map(di):[],d=[],f=String(Date.now()),g=new Set,b=o||{},w=b.recursive,S=b.dirty;n.getFieldEntities(!0).forEach(function(M){if(c||l.push(M.getNamePath()),!(!M.props.rules||!M.props.rules.length)&&!(S&&!M.isFieldDirty())){var B=M.getNamePath();if(g.add(B.join(f)),!c||lm(l,B,w)){var P=M.validateRules(vt({validateMessages:vt(vt({},CP),n.validateMessages)},o));d.push(P.then(function(){return{name:B,errors:[],warnings:[]}}).catch(function(O){var R,$=[],U=[];return(R=O.forEach)===null||R===void 0||R.call(O,function(F){var H=F.rule.warningOnly,ne=F.errors;H?U.push.apply(U,fs(ne)):$.push.apply($,fs(ne))}),$.length?Promise.reject({name:B,errors:$,warnings:U}):{name:B,errors:$,warnings:U}}))}}});var j=zet(d);n.lastValidatePromise=j,j.catch(function(M){return M}).then(function(M){var B=M.map(function(P){var O=P.name;return O});n.notifyObservers(n.store,B,{type:"validateFinish"}),n.triggerOnFieldsChange(B,M)});var N=j.then(function(){return n.lastValidatePromise===j?Promise.resolve(n.getFieldsValue(l)):Promise.reject([])}).catch(function(M){var B=M.filter(function(P){return P&&P.errors.length});return Promise.reject({values:n.getFieldsValue(l),errorFields:B,outOfDate:n.lastValidatePromise!==j})});N.catch(function(M){return M});var I=l.filter(function(M){return g.has(M.join(f))});return n.triggerOnFieldsChange(I),N}),pt(this,"submit",function(){n.warningUnhooked(),n.validateFields().then(function(a){var r=n.callbacks.onFinish;if(r)try{r(a)}catch(i){console.error(i)}}).catch(function(a){var r=n.callbacks.onFinishFailed;r&&r(a)})}),this.forceRootUpdate=t});function EP(e){var t=v.useRef(),n=v.useState({}),a=St(n,2),r=a[1];if(!t.current)if(e)t.current=e;else{var i=function(){r({})},o=new qet(i);t.current=o.getForm()}return[t.current]}var DN=v.createContext({triggerFormChange:function(){},triggerFormFinish:function(){},registerForm:function(){},unregisterForm:function(){}}),Uet=function(t){var n=t.validateMessages,a=t.onFormChange,r=t.onFormFinish,i=t.children,o=v.useContext(DN),c=v.useRef({});return v.createElement(DN.Provider,{value:vt(vt({},o),{},{validateMessages:vt(vt({},o.validateMessages),n),triggerFormChange:function(d,f){a&&a(d,{changedFields:f,forms:c.current}),o.triggerFormChange(d,f)},triggerFormFinish:function(d,f){r&&r(d,{values:f,forms:c.current}),o.triggerFormFinish(d,f)},registerForm:function(d,f){d&&(c.current=vt(vt({},c.current),{},pt({},d,f))),o.registerForm(d,f)},unregisterForm:function(d){var f=vt({},c.current);delete f[d],c.current=f,o.unregisterForm(d)}})},i)},Wet=["name","initialValues","fields","form","preserve","children","component","validateMessages","validateTrigger","onValuesChange","onFieldsChange","onFinish","onFinishFailed","clearOnDestroy"],Yet=function(t,n){var a=t.name,r=t.initialValues,i=t.fields,o=t.form,c=t.preserve,l=t.children,d=t.component,f=d===void 0?"form":d,g=t.validateMessages,b=t.validateTrigger,w=b===void 0?"onChange":b,S=t.onValuesChange,j=t.onFieldsChange,N=t.onFinish,I=t.onFinishFailed,M=t.clearOnDestroy,B=ai(t,Wet),P=v.useRef(null),O=v.useContext(DN),R=EP(o),$=St(R,1),U=$[0],F=U.getInternalHooks(vh),H=F.useSubscribe,ne=F.setInitialValues,X=F.setCallbacks,te=F.setValidateMessages,se=F.setPreserve,V=F.destroyForm;v.useImperativeHandle(n,function(){return vt(vt({},U),{},{nativeElement:P.current})}),v.useEffect(function(){return O.registerForm(a,U),function(){O.unregisterForm(a)}},[O,U,a]),te(vt(vt({},O.validateMessages),g)),X({onValuesChange:S,onFieldsChange:function(oe){if(O.triggerFormChange(a,oe),j){for(var ee=arguments.length,ae=new Array(ee>1?ee-1:0),ie=1;ie<ee;ie++)ae[ie-1]=arguments[ie];j.apply(void 0,[oe].concat(ae))}},onFinish:function(oe){O.triggerFormFinish(a,oe),N&&N(oe)},onFinishFailed:I}),se(c);var q=v.useRef(null);ne(r,!q.current),q.current||(q.current=!0),v.useEffect(function(){return function(){return V(M)}},[]);var T,J=typeof l=="function";if(J){var Z=U.getFieldsValue(!0);T=l(Z,U)}else T=l;H(!J);var A=v.useRef();v.useEffect(function(){$et(A.current||[],i||[])||U.setFields(i||[]),A.current=i},[i,U]);var Y=v.useMemo(function(){return vt(vt({},U),{},{validateTrigger:w})},[U,w]),K=v.createElement(mb.Provider,{value:null},v.createElement(Om.Provider,{value:Y},T));return f===!1?K:v.createElement(f,Ns({},B,{ref:P,onSubmit:function(oe){oe.preventDefault(),oe.stopPropagation(),U.submit()},onReset:function(oe){var ee;oe.preventDefault(),U.resetFields(),(ee=B.onReset)===null||ee===void 0||ee.call(B,oe)}}),K)};function E9(e){try{return JSON.stringify(e)}catch{return Math.random()}}function Get(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var a=t[0],r=t[1],i=r===void 0?{}:r,o=eet(i)?{form:i}:i,c=o.form,l=v.useState(),d=St(l,2),f=d[0],g=d[1],b=v.useMemo(function(){return E9(f)},[f]),w=v.useRef(b);w.current=b;var S=v.useContext(Om),j=c||S,N=j&&j._init,I=di(a),M=v.useRef(I);return M.current=I,v.useEffect(function(){if(N){var B=j.getFieldsValue,P=j.getInternalHooks,O=P(vh),R=O.registerWatch,$=function(ne,X){var te=o.preserve?X:ne;return typeof a=="function"?a(te):bl(te,M.current)},U=R(function(H,ne){var X=$(H,ne),te=E9(X);w.current!==te&&(w.current=te,g(X))}),F=$(B(),B(!0));return f!==F&&g(F),U}},[N]),f}var Qet=v.forwardRef(Yet),S0=Qet;S0.FormProvider=Uet;S0.Field=jP;S0.List=Het;S0.useForm=EP;S0.useWatch=Get;const pb=v.createContext({}),Xet=({children:e,status:t,override:n})=>{const a=v.useContext(pb),r=v.useMemo(()=>{const i=Object.assign({},a);return n&&delete i.isFormItemInput,t&&(delete i.status,delete i.hasFeedback,delete i.feedbackIcon),i},[t,n,a]);return v.createElement(pb.Provider,{value:r},e)},Ket=v.createContext(void 0),kP=e=>{const{space:t,form:n,children:a}=e;if(a==null)return null;let r=a;return n&&(r=Je.createElement(Xet,{override:!0,status:!0},r)),t&&(r=Je.createElement($Ze,null,r)),r};function Zet(e){return t=>v.createElement(Tl,{theme:{token:{motion:!1,zIndexPopupBase:0}}},v.createElement(e,Object.assign({},t)))}const IP=(e,t,n,a,r)=>Zet(o=>{const{prefixCls:c,style:l}=o,d=v.useRef(null),[f,g]=v.useState(0),[b,w]=v.useState(0),[S,j]=Il(!1,{value:o.open}),{getPrefixCls:N}=v.useContext(bo),I=N(a,c);v.useEffect(()=>{if(j(!0),typeof ResizeObserver<"u"){const P=new ResizeObserver(R=>{const $=R[0].target;g($.offsetHeight+8),w($.offsetWidth)}),O=setInterval(()=>{var R;const $=`.${I}-dropdown`,U=(R=d.current)===null||R===void 0?void 0:R.querySelector($);U&&(clearInterval(O),P.observe(U))},10);return()=>{clearInterval(O),P.disconnect()}}},[]);let M=Object.assign(Object.assign({},o),{style:Object.assign(Object.assign({},l),{margin:0}),open:S,visible:S,getPopupContainer:()=>d.current});Object.assign(M,{[t]:{overflow:{adjustX:!1,adjustY:!1}}});const B={paddingBottom:f,position:"relative",minWidth:b};return v.createElement("div",{ref:d,style:B},v.createElement(e,Object.assign({},M)))}),Jet=function(){if(typeof navigator>"u"||typeof window>"u")return!1;var e=navigator.userAgent||navigator.vendor||window.opera;return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(e==null?void 0:e.substr(0,4))};var ett=["prefixCls","invalidate","item","renderItem","responsive","responsiveDisabled","registerSize","itemKey","className","style","children","display","order","component"],Ff=void 0;function ttt(e,t){var n=e.prefixCls,a=e.invalidate,r=e.item,i=e.renderItem,o=e.responsive,c=e.responsiveDisabled,l=e.registerSize,d=e.itemKey,f=e.className,g=e.style,b=e.children,w=e.display,S=e.order,j=e.component,N=j===void 0?"div":j,I=ai(e,ett),M=o&&!w;function B(U){l(d,U)}v.useEffect(function(){return function(){B(null)}},[]);var P=i&&r!==Ff?i(r,{index:S}):b,O;a||(O={opacity:M?0:1,height:M?0:Ff,overflowY:M?"hidden":Ff,order:o?S:Ff,pointerEvents:M?"none":Ff,position:M?"absolute":Ff});var R={};M&&(R["aria-hidden"]=!0);var $=v.createElement(N,Ns({className:zs(!a&&n,f),style:vt(vt({},O),g)},R,I,{ref:t}),P);return o&&($=v.createElement(Wh,{onResize:function(F){var H=F.offsetWidth;B(H)},disabled:c},$)),$}var ug=v.forwardRef(ttt);ug.displayName="Item";function ntt(e){if(typeof MessageChannel>"u")Ki(e);else{var t=new MessageChannel;t.port1.onmessage=function(){return e()},t.port2.postMessage(void 0)}}function stt(){var e=v.useRef(null),t=function(a){e.current||(e.current=[],ntt(function(){Hm.unstable_batchedUpdates(function(){e.current.forEach(function(r){r()}),e.current=null})})),e.current.push(a)};return t}function _1(e,t){var n=v.useState(t),a=St(n,2),r=a[0],i=a[1],o=Za(function(c){e(function(){i(c)})});return[r,o]}var gb=Je.createContext(null),att=["component"],rtt=["className"],itt=["className"],ott=function(t,n){var a=v.useContext(gb);if(!a){var r=t.component,i=r===void 0?"div":r,o=ai(t,att);return v.createElement(i,Ns({},o,{ref:n}))}var c=a.className,l=ai(a,rtt),d=t.className,f=ai(t,itt);return v.createElement(gb.Provider,{value:null},v.createElement(ug,Ns({ref:n,className:zs(c,d)},l,f)))},DP=v.forwardRef(ott);DP.displayName="RawItem";var ctt=["prefixCls","data","renderItem","renderRawItem","itemKey","itemWidth","ssr","style","className","maxCount","renderRest","renderRawRest","suffix","component","itemComponent","onVisibleChange"],TP="responsive",AP="invalidate";function ltt(e){return"+ ".concat(e.length," ...")}function utt(e,t){var n=e.prefixCls,a=n===void 0?"rc-overflow":n,r=e.data,i=r===void 0?[]:r,o=e.renderItem,c=e.renderRawItem,l=e.itemKey,d=e.itemWidth,f=d===void 0?10:d,g=e.ssr,b=e.style,w=e.className,S=e.maxCount,j=e.renderRest,N=e.renderRawRest,I=e.suffix,M=e.component,B=M===void 0?"div":M,P=e.itemComponent,O=e.onVisibleChange,R=ai(e,ctt),$=g==="full",U=stt(),F=_1(U,null),H=St(F,2),ne=H[0],X=H[1],te=ne||0,se=_1(U,new Map),V=St(se,2),q=V[0],T=V[1],J=_1(U,0),Z=St(J,2),A=Z[0],Y=Z[1],K=_1(U,0),G=St(K,2),oe=G[0],ee=G[1],ae=_1(U,0),ie=St(ae,2),ue=ie[0],he=ie[1],ge=v.useState(null),ye=St(ge,2),je=ye[0],Ie=ye[1],me=v.useState(null),de=St(me,2),fe=de[0],re=de[1],xe=v.useMemo(function(){return fe===null&&$?Number.MAX_SAFE_INTEGER:fe||0},[fe,ne]),Se=v.useState(!1),pe=St(Se,2),Ee=pe[0],Le=pe[1],Ue="".concat(a,"-item"),Ne=Math.max(A,oe),et=S===TP,dt=i.length&&et,_e=S===AP,tt=dt||typeof S=="number"&&i.length>S,Fe=v.useMemo(function(){var nt=i;return dt?ne===null&&$?nt=i:nt=i.slice(0,Math.min(i.length,te/f)):typeof S=="number"&&(nt=i.slice(0,S)),nt},[i,f,ne,S,dt]),It=v.useMemo(function(){return dt?i.slice(xe+1):i.slice(Fe.length)},[i,Fe,dt,xe]),Xe=v.useCallback(function(nt,Rt){var Lt;return typeof l=="function"?l(nt):(Lt=l&&(nt==null?void 0:nt[l]))!==null&&Lt!==void 0?Lt:Rt},[l]),le=v.useCallback(o||function(nt){return nt},[o]);function Ae(nt,Rt,Lt){fe===nt&&(Rt===void 0||Rt===je)||(re(nt),Lt||(Le(nt<i.length-1),O==null||O(nt)),Rt!==void 0&&Ie(Rt))}function be(nt,Rt){X(Rt.clientWidth)}function We(nt,Rt){T(function(Lt){var on=new Map(Lt);return Rt===null?on.delete(nt):on.set(nt,Rt),on})}function st(nt,Rt){ee(Rt),Y(oe)}function ct(nt,Rt){he(Rt)}function Mt(nt){return q.get(Xe(Fe[nt],nt))}Pr(function(){if(te&&typeof Ne=="number"&&Fe){var nt=ue,Rt=Fe.length,Lt=Rt-1;if(!Rt){Ae(0,null);return}for(var on=0;on<Rt;on+=1){var vn=Mt(on);if($&&(vn=vn||0),vn===void 0){Ae(on-1,void 0,!0);break}if(nt+=vn,Lt===0&&nt<=te||on===Lt-1&&nt+Mt(Lt)<=te){Ae(Lt,null);break}else if(nt+Ne>te){Ae(on-1,nt-vn-ue+oe);break}}I&&Mt(0)+ue>te&&Ie(null)}},[te,q,oe,ue,Xe,Fe]);var pn=Ee&&!!It.length,Gn={};je!==null&&dt&&(Gn={position:"absolute",left:je,top:0});var bt={prefixCls:Ue,responsive:dt,component:P,invalidate:_e},ln=c?function(nt,Rt){var Lt=Xe(nt,Rt);return v.createElement(gb.Provider,{key:Lt,value:vt(vt({},bt),{},{order:Rt,item:nt,itemKey:Lt,registerSize:We,display:Rt<=xe})},c(nt,Rt))}:function(nt,Rt){var Lt=Xe(nt,Rt);return v.createElement(ug,Ns({},bt,{order:Rt,key:Lt,item:nt,renderItem:le,itemKey:Lt,registerSize:We,display:Rt<=xe}))},fn={order:pn?xe:Number.MAX_SAFE_INTEGER,className:"".concat(Ue,"-rest"),registerSize:st,display:pn},wn=j||ltt,ut=N?v.createElement(gb.Provider,{value:vt(vt({},bt),fn)},N(It)):v.createElement(ug,Ns({},bt,fn),typeof wn=="function"?wn(It):wn),Et=v.createElement(B,Ns({className:zs(!_e&&a,w),style:b,ref:t},R),Fe.map(ln),tt?ut:null,I&&v.createElement(ug,Ns({},bt,{responsive:et,responsiveDisabled:!dt,order:xe,className:"".concat(Ue,"-suffix"),registerSize:ct,display:!0,style:Gn}),I));return et?v.createElement(Wh,{onResize:be,disabled:!dt},Et):Et}var j0=v.forwardRef(utt);j0.displayName="Overflow";j0.Item=DP;j0.RESPONSIVE=TP;j0.INVALIDATE=AP;function dtt(e){var t=e.prefixCls,n=e.align,a=e.arrow,r=e.arrowPos,i=a||{},o=i.className,c=i.content,l=r.x,d=l===void 0?0:l,f=r.y,g=f===void 0?0:f,b=v.useRef();if(!n||!n.points)return null;var w={position:"absolute"};if(n.autoArrow!==!1){var S=n.points[0],j=n.points[1],N=S[0],I=S[1],M=j[0],B=j[1];N===M||!["t","b"].includes(N)?w.top=g:N==="t"?w.top=0:w.bottom=0,I===B||!["l","r"].includes(I)?w.left=d:I==="l"?w.left=0:w.right=0}return v.createElement("div",{ref:b,className:zs("".concat(t,"-arrow"),o),style:w},c)}function htt(e){var t=e.prefixCls,n=e.open,a=e.zIndex,r=e.mask,i=e.motion;return r?v.createElement(y0,Ns({},i,{motionAppear:!0,visible:n,removeOnLeave:!0}),function(o){var c=o.className;return v.createElement("div",{style:{zIndex:a},className:zs("".concat(t,"-mask"),c)})}):null}var ftt=v.memo(function(e){var t=e.children;return t},function(e,t){return t.cache}),mtt=v.forwardRef(function(e,t){var n=e.popup,a=e.className,r=e.prefixCls,i=e.style,o=e.target,c=e.onVisibleChanged,l=e.open,d=e.keepDom,f=e.fresh,g=e.onClick,b=e.mask,w=e.arrow,S=e.arrowPos,j=e.align,N=e.motion,I=e.maskMotion,M=e.forceRender,B=e.getPopupContainer,P=e.autoDestroy,O=e.portal,R=e.zIndex,$=e.onMouseEnter,U=e.onMouseLeave,F=e.onPointerEnter,H=e.onPointerDownCapture,ne=e.ready,X=e.offsetX,te=e.offsetY,se=e.offsetR,V=e.offsetB,q=e.onAlign,T=e.onPrepare,J=e.stretch,Z=e.targetWidth,A=e.targetHeight,Y=typeof n=="function"?n():n,K=l||d,G=(B==null?void 0:B.length)>0,oe=v.useState(!B||!G),ee=St(oe,2),ae=ee[0],ie=ee[1];if(Pr(function(){!ae&&G&&o&&ie(!0)},[ae,G,o]),!ae)return null;var ue="auto",he={left:"-1000vw",top:"-1000vh",right:ue,bottom:ue};if(ne||!l){var ge,ye=j.points,je=j.dynamicInset||((ge=j._experimental)===null||ge===void 0?void 0:ge.dynamicInset),Ie=je&&ye[0][1]==="r",me=je&&ye[0][0]==="b";Ie?(he.right=se,he.left=ue):(he.left=X,he.right=ue),me?(he.bottom=V,he.top=ue):(he.top=te,he.bottom=ue)}var de={};return J&&(J.includes("height")&&A?de.height=A:J.includes("minHeight")&&A&&(de.minHeight=A),J.includes("width")&&Z?de.width=Z:J.includes("minWidth")&&Z&&(de.minWidth=Z)),l||(de.pointerEvents="none"),v.createElement(O,{open:M||K,getContainer:B&&function(){return B(o)},autoDestroy:P},v.createElement(htt,{prefixCls:r,open:l,zIndex:R,mask:b,motion:I}),v.createElement(Wh,{onResize:q,disabled:!l},function(fe){return v.createElement(y0,Ns({motionAppear:!0,motionEnter:!0,motionLeave:!0,removeOnLeave:!1,forceRender:M,leavedClassName:"".concat(r,"-hidden")},N,{onAppearPrepare:T,onEnterPrepare:T,visible:l,onVisibleChanged:function(xe){var Se;N==null||(Se=N.onVisibleChanged)===null||Se===void 0||Se.call(N,xe),c(xe)}}),function(re,xe){var Se=re.className,pe=re.style,Ee=zs(r,Se,a);return v.createElement("div",{ref:dy(fe,t,xe),className:Ee,style:vt(vt(vt(vt({"--arrow-x":"".concat(S.x||0,"px"),"--arrow-y":"".concat(S.y||0,"px")},he),de),pe),{},{boxSizing:"border-box",zIndex:R},i),onMouseEnter:$,onMouseLeave:U,onPointerEnter:F,onClick:g,onPointerDownCapture:H},w&&v.createElement(dtt,{prefixCls:r,arrow:w,arrowPos:S,align:j}),v.createElement(ftt,{cache:!l&&!f},Y))})}))}),ptt=v.forwardRef(function(e,t){var n=e.children,a=e.getTriggerDOMNode,r=x0(n),i=v.useCallback(function(c){_4(t,a?a(c):c)},[a]),o=hy(i,fy(n));return r?v.cloneElement(n,{ref:o}):n}),k9=v.createContext(null);function I9(e){return e?Array.isArray(e)?e:[e]:[]}function gtt(e,t,n,a){return v.useMemo(function(){var r=I9(n??t),i=I9(a??t),o=new Set(r),c=new Set(i);return e&&(o.has("hover")&&(o.delete("hover"),o.add("click")),c.has("hover")&&(c.delete("hover"),c.add("click"))),[o,c]},[e,t,n,a])}function _tt(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0;return n?e[0]===t[0]:e[0]===t[0]&&e[1]===t[1]}function vtt(e,t,n,a){for(var r=n.points,i=Object.keys(e),o=0;o<i.length;o+=1){var c,l=i[o];if(_tt((c=e[l])===null||c===void 0?void 0:c.points,r,a))return"".concat(t,"-placement-").concat(l)}return""}function D9(e,t,n,a){return t||(n?{motionName:"".concat(e,"-").concat(n)}:a?{motionName:a}:null)}function N0(e){return e.ownerDocument.defaultView}function TN(e){for(var t=[],n=e==null?void 0:e.parentElement,a=["hidden","scroll","clip","auto"];n;){var r=N0(n).getComputedStyle(n),i=r.overflowX,o=r.overflowY,c=r.overflow;[i,o,c].some(function(l){return a.includes(l)})&&t.push(n),n=n.parentElement}return t}function Wg(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return Number.isNaN(e)?t:e}function v1(e){return Wg(parseFloat(e),0)}function T9(e,t){var n=vt({},e);return(t||[]).forEach(function(a){if(!(a instanceof HTMLBodyElement||a instanceof HTMLHtmlElement)){var r=N0(a).getComputedStyle(a),i=r.overflow,o=r.overflowClipMargin,c=r.borderTopWidth,l=r.borderBottomWidth,d=r.borderLeftWidth,f=r.borderRightWidth,g=a.getBoundingClientRect(),b=a.offsetHeight,w=a.clientHeight,S=a.offsetWidth,j=a.clientWidth,N=v1(c),I=v1(l),M=v1(d),B=v1(f),P=Wg(Math.round(g.width/S*1e3)/1e3),O=Wg(Math.round(g.height/b*1e3)/1e3),R=(S-j-M-B)*P,$=(b-w-N-I)*O,U=N*O,F=I*O,H=M*P,ne=B*P,X=0,te=0;if(i==="clip"){var se=v1(o);X=se*P,te=se*O}var V=g.x+H-X,q=g.y+U-te,T=V+g.width+2*X-H-ne-R,J=q+g.height+2*te-U-F-$;n.left=Math.max(n.left,V),n.top=Math.max(n.top,q),n.right=Math.min(n.right,T),n.bottom=Math.min(n.bottom,J)}}),n}function A9(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n="".concat(t),a=n.match(/^(.*)\%$/);return a?e*(parseFloat(a[1])/100):parseFloat(n)}function M9(e,t){var n=t||[],a=St(n,2),r=a[0],i=a[1];return[A9(e.width,r),A9(e.height,i)]}function R9(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return[e[0],e[1]]}function Hf(e,t){var n=t[0],a=t[1],r,i;return n==="t"?i=e.y:n==="b"?i=e.y+e.height:i=e.y+e.height/2,a==="l"?r=e.x:a==="r"?r=e.x+e.width:r=e.x+e.width/2,{x:r,y:i}}function sd(e,t){var n={t:"b",b:"t",l:"r",r:"l"};return e.map(function(a,r){return r===t?n[a]||"c":a}).join("")}function xtt(e,t,n,a,r,i,o){var c=v.useState({ready:!1,offsetX:0,offsetY:0,offsetR:0,offsetB:0,arrowX:0,arrowY:0,scaleX:1,scaleY:1,align:r[a]||{}}),l=St(c,2),d=l[0],f=l[1],g=v.useRef(0),b=v.useMemo(function(){return t?TN(t):[]},[t]),w=v.useRef({}),S=function(){w.current={}};e||S();var j=Za(function(){if(t&&n&&e){let gn=function(Gt,Tn){var hn=arguments.length>2&&arguments[2]!==void 0?arguments[2]:et,ss=K.x+Gt,Qt=K.y+Tn,xs=ss+me,wt=Qt+Ie,rn=Math.max(ss,hn.left),Bn=Math.max(Qt,hn.top),vs=Math.min(xs,hn.right),bs=Math.min(wt,hn.bottom);return Math.max(0,(vs-rn)*(bs-Bn))},Qn=function(){Js=K.y+on,gs=Js+Ie,Pa=K.x+Lt,ar=Pa+me};var Ft=gn,En=Qn,M,B,P,O,R=t,$=R.ownerDocument,U=N0(R),F=U.getComputedStyle(R),H=F.position,ne=R.style.left,X=R.style.top,te=R.style.right,se=R.style.bottom,V=R.style.overflow,q=vt(vt({},r[a]),i),T=$.createElement("div");(M=R.parentElement)===null||M===void 0||M.appendChild(T),T.style.left="".concat(R.offsetLeft,"px"),T.style.top="".concat(R.offsetTop,"px"),T.style.position=H,T.style.height="".concat(R.offsetHeight,"px"),T.style.width="".concat(R.offsetWidth,"px"),R.style.left="0",R.style.top="0",R.style.right="auto",R.style.bottom="auto",R.style.overflow="hidden";var J;if(Array.isArray(n))J={x:n[0],y:n[1],width:0,height:0};else{var Z,A,Y=n.getBoundingClientRect();Y.x=(Z=Y.x)!==null&&Z!==void 0?Z:Y.left,Y.y=(A=Y.y)!==null&&A!==void 0?A:Y.top,J={x:Y.x,y:Y.y,width:Y.width,height:Y.height}}var K=R.getBoundingClientRect(),G=U.getComputedStyle(R),oe=G.height,ee=G.width;K.x=(B=K.x)!==null&&B!==void 0?B:K.left,K.y=(P=K.y)!==null&&P!==void 0?P:K.top;var ae=$.documentElement,ie=ae.clientWidth,ue=ae.clientHeight,he=ae.scrollWidth,ge=ae.scrollHeight,ye=ae.scrollTop,je=ae.scrollLeft,Ie=K.height,me=K.width,de=J.height,fe=J.width,re={left:0,top:0,right:ie,bottom:ue},xe={left:-je,top:-ye,right:he-je,bottom:ge-ye},Se=q.htmlRegion,pe="visible",Ee="visibleFirst";Se!=="scroll"&&Se!==Ee&&(Se=pe);var Le=Se===Ee,Ue=T9(xe,b),Ne=T9(re,b),et=Se===pe?Ne:Ue,dt=Le?Ne:et;R.style.left="auto",R.style.top="auto",R.style.right="0",R.style.bottom="0";var _e=R.getBoundingClientRect();R.style.left=ne,R.style.top=X,R.style.right=te,R.style.bottom=se,R.style.overflow=V,(O=R.parentElement)===null||O===void 0||O.removeChild(T);var tt=Wg(Math.round(me/parseFloat(ee)*1e3)/1e3),Fe=Wg(Math.round(Ie/parseFloat(oe)*1e3)/1e3);if(tt===0||Fe===0||Bg(n)&&!O4(n))return;var It=q.offset,Xe=q.targetOffset,le=M9(K,It),Ae=St(le,2),be=Ae[0],We=Ae[1],st=M9(J,Xe),ct=St(st,2),Mt=ct[0],pn=ct[1];J.x-=Mt,J.y-=pn;var Gn=q.points||[],bt=St(Gn,2),ln=bt[0],fn=bt[1],wn=R9(fn),ut=R9(ln),Et=Hf(J,wn),nt=Hf(K,ut),Rt=vt({},q),Lt=Et.x-nt.x+be,on=Et.y-nt.y+We,vn=gn(Lt,on),ns=gn(Lt,on,Ne),us=Hf(J,["t","l"]),_s=Hf(K,["t","l"]),ds=Hf(J,["b","r"]),Pn=Hf(K,["b","r"]),Xt=q.overflow||{},ra=Xt.adjustX,xa=Xt.adjustY,Hn=Xt.shiftX,ya=Xt.shiftY,Ys=function(Tn){return typeof Tn=="boolean"?Tn:Tn>=0},Js,gs,Pa,ar;Qn();var Vs=Ys(xa),Ts=ut[0]===wn[0];if(Vs&&ut[0]==="t"&&(gs>dt.bottom||w.current.bt)){var Gs=on;Ts?Gs-=Ie-de:Gs=us.y-Pn.y-We;var xr=gn(Lt,Gs),Fa=gn(Lt,Gs,Ne);xr>vn||xr===vn&&(!Le||Fa>=ns)?(w.current.bt=!0,on=Gs,We=-We,Rt.points=[sd(ut,0),sd(wn,0)]):w.current.bt=!1}if(Vs&&ut[0]==="b"&&(Js<dt.top||w.current.tb)){var qa=on;Ts?qa+=Ie-de:qa=ds.y-_s.y-We;var zt=gn(Lt,qa),Kn=gn(Lt,qa,Ne);zt>vn||zt===vn&&(!Le||Kn>=ns)?(w.current.tb=!0,on=qa,We=-We,Rt.points=[sd(ut,0),sd(wn,0)]):w.current.tb=!1}var Es=Ys(ra),er=ut[1]===wn[1];if(Es&&ut[1]==="l"&&(ar>dt.right||w.current.rl)){var Ia=Lt;er?Ia-=me-fe:Ia=us.x-Pn.x-be;var ys=gn(Ia,on),ks=gn(Ia,on,Ne);ys>vn||ys===vn&&(!Le||ks>=ns)?(w.current.rl=!0,Lt=Ia,be=-be,Rt.points=[sd(ut,1),sd(wn,1)]):w.current.rl=!1}if(Es&&ut[1]==="r"&&(Pa<dt.left||w.current.lr)){var is=Lt;er?is+=me-fe:is=ds.x-_s.x-be;var La=gn(is,on),os=gn(is,on,Ne);La>vn||La===vn&&(!Le||os>=ns)?(w.current.lr=!0,Lt=is,be=-be,Rt.points=[sd(ut,1),sd(wn,1)]):w.current.lr=!1}Qn();var ta=Hn===!0?0:Hn;typeof ta=="number"&&(Pa<Ne.left&&(Lt-=Pa-Ne.left-be,J.x+fe<Ne.left+ta&&(Lt+=J.x-Ne.left+fe-ta)),ar>Ne.right&&(Lt-=ar-Ne.right-be,J.x>Ne.right-ta&&(Lt+=J.x-Ne.right+ta)));var Ws=ya===!0?0:ya;typeof Ws=="number"&&(Js<Ne.top&&(on-=Js-Ne.top-We,J.y+de<Ne.top+Ws&&(on+=J.y-Ne.top+de-Ws)),gs>Ne.bottom&&(on-=gs-Ne.bottom-We,J.y>Ne.bottom-Ws&&(on+=J.y-Ne.bottom+Ws)));var Qs=K.x+Lt,fr=Qs+me,qs=K.y+on,Ga=qs+Ie,_i=J.x,na=_i+fe,As=J.y,Fn=As+de,rt=Math.max(Qs,_i),Be=Math.min(fr,na),Ye=(rt+Be)/2,Dt=Ye-Qs,Wt=Math.max(qs,As),qt=Math.min(Ga,Fn),Ge=(Wt+qt)/2,Ze=Ge-qs;o==null||o(t,Rt);var Ke=_e.right-K.x-(Lt+K.width),it=_e.bottom-K.y-(on+K.height);tt===1&&(Lt=Math.round(Lt),Ke=Math.round(Ke)),Fe===1&&(on=Math.round(on),it=Math.round(it));var Ut={ready:!0,offsetX:Lt/tt,offsetY:on/Fe,offsetR:Ke/tt,offsetB:it/Fe,arrowX:Dt/tt,arrowY:Ze/Fe,scaleX:tt,scaleY:Fe,align:Rt};f(Ut)}}),N=function(){g.current+=1;var B=g.current;Promise.resolve().then(function(){g.current===B&&j()})},I=function(){f(function(B){return vt(vt({},B),{},{ready:!1})})};return Pr(I,[a]),Pr(function(){e||I()},[e]),[d.ready,d.offsetX,d.offsetY,d.offsetR,d.offsetB,d.arrowX,d.arrowY,d.scaleX,d.scaleY,d.align,N]}function btt(e,t,n,a,r){Pr(function(){if(e&&t&&n){let b=function(){a(),r()};var g=b,i=t,o=n,c=TN(i),l=TN(o),d=N0(o),f=new Set([d].concat(fs(c),fs(l)));return f.forEach(function(w){w.addEventListener("scroll",b,{passive:!0})}),d.addEventListener("resize",b,{passive:!0}),a(),function(){f.forEach(function(w){w.removeEventListener("scroll",b),d.removeEventListener("resize",b)})}}},[e,t,n])}function ytt(e,t,n,a,r,i,o,c){var l=v.useRef(e);l.current=e;var d=v.useRef(!1);v.useEffect(function(){if(t&&a&&(!r||i)){var g=function(){d.current=!1},b=function(N){var I;l.current&&!o(((I=N.composedPath)===null||I===void 0||(I=I.call(N))===null||I===void 0?void 0:I[0])||N.target)&&!d.current&&c(!1)},w=N0(a);w.addEventListener("pointerdown",g,!0),w.addEventListener("mousedown",b,!0),w.addEventListener("contextmenu",b,!0);var S=db(n);return S&&(S.addEventListener("mousedown",b,!0),S.addEventListener("contextmenu",b,!0)),function(){w.removeEventListener("pointerdown",g,!0),w.removeEventListener("mousedown",b,!0),w.removeEventListener("contextmenu",b,!0),S&&(S.removeEventListener("mousedown",b,!0),S.removeEventListener("contextmenu",b,!0))}}},[t,n,a,r,i]);function f(){d.current=!0}return f}var wtt=["prefixCls","children","action","showAction","hideAction","popupVisible","defaultPopupVisible","onPopupVisibleChange","afterPopupVisibleChange","mouseEnterDelay","mouseLeaveDelay","focusDelay","blurDelay","mask","maskClosable","getPopupContainer","forceRender","autoDestroy","destroyPopupOnHide","popup","popupClassName","popupStyle","popupPlacement","builtinPlacements","popupAlign","zIndex","stretch","getPopupClassNameFromAlign","fresh","alignPoint","onPopupClick","onPopupAlign","arrow","popupMotion","maskMotion","popupTransitionName","popupAnimation","maskTransitionName","maskAnimation","className","getTriggerDOMNode"];function Ctt(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:yP,t=v.forwardRef(function(n,a){var r=n.prefixCls,i=r===void 0?"rc-trigger-popup":r,o=n.children,c=n.action,l=c===void 0?"hover":c,d=n.showAction,f=n.hideAction,g=n.popupVisible,b=n.defaultPopupVisible,w=n.onPopupVisibleChange,S=n.afterPopupVisibleChange,j=n.mouseEnterDelay,N=n.mouseLeaveDelay,I=N===void 0?.1:N,M=n.focusDelay,B=n.blurDelay,P=n.mask,O=n.maskClosable,R=O===void 0?!0:O,$=n.getPopupContainer,U=n.forceRender,F=n.autoDestroy,H=n.destroyPopupOnHide,ne=n.popup,X=n.popupClassName,te=n.popupStyle,se=n.popupPlacement,V=n.builtinPlacements,q=V===void 0?{}:V,T=n.popupAlign,J=n.zIndex,Z=n.stretch,A=n.getPopupClassNameFromAlign,Y=n.fresh,K=n.alignPoint,G=n.onPopupClick,oe=n.onPopupAlign,ee=n.arrow,ae=n.popupMotion,ie=n.maskMotion,ue=n.popupTransitionName,he=n.popupAnimation,ge=n.maskTransitionName,ye=n.maskAnimation,je=n.className,Ie=n.getTriggerDOMNode,me=ai(n,wtt),de=F||H||!1,fe=v.useState(!1),re=St(fe,2),xe=re[0],Se=re[1];Pr(function(){Se(Jet())},[]);var pe=v.useRef({}),Ee=v.useContext(k9),Le=v.useMemo(function(){return{registerSubPopup:function(rn,Bn){pe.current[rn]=Bn,Ee==null||Ee.registerSubPopup(rn,Bn)}}},[Ee]),Ue=JJe(),Ne=v.useState(null),et=St(Ne,2),dt=et[0],_e=et[1],tt=v.useRef(null),Fe=Za(function(wt){tt.current=wt,Bg(wt)&&dt!==wt&&_e(wt),Ee==null||Ee.registerSubPopup(Ue,wt)}),It=v.useState(null),Xe=St(It,2),le=Xe[0],Ae=Xe[1],be=v.useRef(null),We=Za(function(wt){Bg(wt)&&le!==wt&&(Ae(wt),be.current=wt)}),st=v.Children.only(o),ct=(st==null?void 0:st.props)||{},Mt={},pn=Za(function(wt){var rn,Bn,vs=le;return(vs==null?void 0:vs.contains(wt))||((rn=db(vs))===null||rn===void 0?void 0:rn.host)===wt||wt===vs||(dt==null?void 0:dt.contains(wt))||((Bn=db(dt))===null||Bn===void 0?void 0:Bn.host)===wt||wt===dt||Object.values(pe.current).some(function(bs){return(bs==null?void 0:bs.contains(wt))||wt===bs})}),Gn=D9(i,ae,he,ue),bt=D9(i,ie,ye,ge),ln=v.useState(b||!1),fn=St(ln,2),wn=fn[0],ut=fn[1],Et=g??wn,nt=Za(function(wt){g===void 0&&ut(wt)});Pr(function(){ut(g||!1)},[g]);var Rt=v.useRef(Et);Rt.current=Et;var Lt=v.useRef([]);Lt.current=[];var on=Za(function(wt){var rn;nt(wt),((rn=Lt.current[Lt.current.length-1])!==null&&rn!==void 0?rn:Et)!==wt&&(Lt.current.push(wt),w==null||w(wt))}),vn=v.useRef(),ns=function(){clearTimeout(vn.current)},us=function(rn){var Bn=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;ns(),Bn===0?on(rn):vn.current=setTimeout(function(){on(rn)},Bn*1e3)};v.useEffect(function(){return ns},[]);var _s=v.useState(!1),ds=St(_s,2),Pn=ds[0],Xt=ds[1];Pr(function(wt){(!wt||Et)&&Xt(!0)},[Et]);var ra=v.useState(null),xa=St(ra,2),Hn=xa[0],ya=xa[1],Ys=v.useState(null),Js=St(Ys,2),gs=Js[0],Pa=Js[1],ar=function(rn){Pa([rn.clientX,rn.clientY])},Vs=xtt(Et,dt,K&&gs!==null?gs:le,se,q,T,oe),Ts=St(Vs,11),Gs=Ts[0],xr=Ts[1],Fa=Ts[2],qa=Ts[3],zt=Ts[4],Kn=Ts[5],Es=Ts[6],er=Ts[7],Ia=Ts[8],ys=Ts[9],ks=Ts[10],is=gtt(xe,l,d,f),La=St(is,2),os=La[0],ta=La[1],Ws=os.has("click"),Qs=ta.has("click")||ta.has("contextMenu"),fr=Za(function(){Pn||ks()}),qs=function(){Rt.current&&K&&Qs&&us(!1)};btt(Et,le,dt,fr,qs),Pr(function(){fr()},[gs,se]),Pr(function(){Et&&!(q!=null&&q[se])&&fr()},[JSON.stringify(T)]);var Ga=v.useMemo(function(){var wt=vtt(q,i,ys,K);return zs(wt,A==null?void 0:A(ys))},[ys,A,q,i,K]);v.useImperativeHandle(a,function(){return{nativeElement:be.current,popupElement:tt.current,forceAlign:fr}});var _i=v.useState(0),na=St(_i,2),As=na[0],Fn=na[1],rt=v.useState(0),Be=St(rt,2),Ye=Be[0],Dt=Be[1],Wt=function(){if(Z&&le){var rn=le.getBoundingClientRect();Fn(rn.width),Dt(rn.height)}},qt=function(){Wt(),fr()},Ge=function(rn){Xt(!1),ks(),S==null||S(rn)},Ze=function(){return new Promise(function(rn){Wt(),ya(function(){return rn})})};Pr(function(){Hn&&(ks(),Hn(),ya(null))},[Hn]);function Ke(wt,rn,Bn,vs){Mt[wt]=function(bs){var ua;vs==null||vs(bs),us(rn,Bn);for(var tr=arguments.length,Xa=new Array(tr>1?tr-1:0),ji=1;ji<tr;ji++)Xa[ji-1]=arguments[ji];(ua=ct[wt])===null||ua===void 0||ua.call.apply(ua,[ct,bs].concat(Xa))}}(Ws||Qs)&&(Mt.onClick=function(wt){var rn;Rt.current&&Qs?us(!1):!Rt.current&&Ws&&(ar(wt),us(!0));for(var Bn=arguments.length,vs=new Array(Bn>1?Bn-1:0),bs=1;bs<Bn;bs++)vs[bs-1]=arguments[bs];(rn=ct.onClick)===null||rn===void 0||rn.call.apply(rn,[ct,wt].concat(vs))});var it=ytt(Et,Qs,le,dt,P,R,pn,us),Ut=os.has("hover"),Ft=ta.has("hover"),En,gn;Ut&&(Ke("onMouseEnter",!0,j,function(wt){ar(wt)}),Ke("onPointerEnter",!0,j,function(wt){ar(wt)}),En=function(rn){(Et||Pn)&&dt!==null&&dt!==void 0&&dt.contains(rn.target)&&us(!0,j)},K&&(Mt.onMouseMove=function(wt){var rn;(rn=ct.onMouseMove)===null||rn===void 0||rn.call(ct,wt)})),Ft&&(Ke("onMouseLeave",!1,I),Ke("onPointerLeave",!1,I),gn=function(){us(!1,I)}),os.has("focus")&&Ke("onFocus",!0,M),ta.has("focus")&&Ke("onBlur",!1,B),os.has("contextMenu")&&(Mt.onContextMenu=function(wt){var rn;Rt.current&&ta.has("contextMenu")?us(!1):(ar(wt),us(!0)),wt.preventDefault();for(var Bn=arguments.length,vs=new Array(Bn>1?Bn-1:0),bs=1;bs<Bn;bs++)vs[bs-1]=arguments[bs];(rn=ct.onContextMenu)===null||rn===void 0||rn.call.apply(rn,[ct,wt].concat(vs))}),je&&(Mt.className=zs(ct.className,je));var Qn=v.useRef(!1);Qn.current||(Qn.current=U||Et||Pn);var Gt=vt(vt({},ct),Mt),Tn={},hn=["onContextMenu","onClick","onMouseDown","onTouchStart","onMouseEnter","onMouseLeave","onFocus","onBlur"];hn.forEach(function(wt){me[wt]&&(Tn[wt]=function(){for(var rn,Bn=arguments.length,vs=new Array(Bn),bs=0;bs<Bn;bs++)vs[bs]=arguments[bs];(rn=Gt[wt])===null||rn===void 0||rn.call.apply(rn,[Gt].concat(vs)),me[wt].apply(me,vs)})});var ss=v.cloneElement(st,vt(vt({},Gt),Tn)),Qt={x:Kn,y:Es},xs=ee?vt({},ee!==!0?ee:{}):null;return v.createElement(v.Fragment,null,v.createElement(Wh,{disabled:!Et,ref:We,onResize:qt},v.createElement(ptt,{getTriggerDOMNode:Ie},ss)),Qn.current&&v.createElement(k9.Provider,{value:Le},v.createElement(mtt,{portal:e,ref:Fe,prefixCls:i,popup:ne,className:zs(X,Ga),style:te,target:le,onMouseEnter:En,onMouseLeave:gn,onPointerEnter:En,zIndex:J,open:Et,keepDom:Pn,fresh:Y,onClick:G,onPointerDownCapture:it,mask:P,motion:Gn,maskMotion:bt,onVisibleChanged:Ge,onPrepare:Ze,forceRender:U,autoDestroy:de,getPopupContainer:$,align:ys,arrow:xs,arrowPos:Qt,ready:Gs,offsetX:xr,offsetY:Fa,offsetR:qa,offsetB:zt,onAlign:fr,stretch:Z,targetWidth:As/er,targetHeight:Ye/Ia})))});return t}const Stt=Ctt(yP);function MP(e,t,n){return zs({[`${e}-status-success`]:t==="success",[`${e}-status-warning`]:t==="warning",[`${e}-status-error`]:t==="error",[`${e}-status-validating`]:t==="validating",[`${e}-has-feedback`]:n})}const RP=(e,t)=>t||e,OP=(e,t,n=void 0)=>{var a,r;const{variant:i,[e]:o}=v.useContext(bo),c=v.useContext(Ket),l=o==null?void 0:o.variant;let d;typeof t<"u"?d=t:n===!1?d="borderless":d=(r=(a=c??l)!==null&&a!==void 0?a:i)!==null&&r!==void 0?r:"outlined";const f=TXe.includes(d);return[d,f]},jtt=e=>{const{multipleSelectItemHeight:t,paddingXXS:n,lineWidth:a,INTERNAL_FIXED_ITEM_MARGIN:r}=e,i=e.max(e.calc(n).sub(a).equal(),0),o=e.max(e.calc(i).sub(r).equal(),0);return{basePadding:i,containerPadding:o,itemHeight:hs(t),itemLineHeight:hs(e.calc(t).sub(e.calc(e.lineWidth).mul(2)).equal())}},Ntt=e=>{const{componentCls:t,iconCls:n,borderRadiusSM:a,motionDurationSlow:r,paddingXS:i,multipleItemColorDisabled:o,multipleItemBorderColorDisabled:c,colorIcon:l,colorIconHover:d,INTERNAL_FIXED_ITEM_MARGIN:f}=e;return{[`${t}-selection-overflow`]:{position:"relative",display:"flex",flex:"auto",flexWrap:"wrap",maxWidth:"100%","&-item":{flex:"none",alignSelf:"center",maxWidth:"calc(100% - 4px)",display:"inline-flex"},[`${t}-selection-item`]:{display:"flex",alignSelf:"center",flex:"none",boxSizing:"border-box",maxWidth:"100%",marginBlock:f,borderRadius:a,cursor:"default",transition:`font-size ${r}, line-height ${r}, height ${r}`,marginInlineEnd:e.calc(f).mul(2).equal(),paddingInlineStart:i,paddingInlineEnd:e.calc(i).div(2).equal(),[`${t}-disabled&`]:{color:o,borderColor:c,cursor:"not-allowed"},"&-content":{display:"inline-block",marginInlineEnd:e.calc(i).div(2).equal(),overflow:"hidden",whiteSpace:"pre",textOverflow:"ellipsis"},"&-remove":Object.assign(Object.assign({},D4()),{display:"inline-flex",alignItems:"center",color:l,fontWeight:"bold",fontSize:10,lineHeight:"inherit",cursor:"pointer",[`> ${n}`]:{verticalAlign:"-0.2em"},"&:hover":{color:d}})}}}};var Ett={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M912 190h-69.9c-9.8 0-19.1 4.5-25.1 12.2L404.7 724.5 207 474a32 32 0 00-25.1-12.2H112c-6.7 0-10.4 7.7-6.3 12.9l273.9 347c12.8 16.2 37.4 16.2 50.3 0l488.4-618.9c4.1-5.1.4-12.8-6.3-12.8z"}}]},name:"check",theme:"outlined"},ktt=function(t,n){return v.createElement(Dc,Ns({},t,{ref:n,icon:Ett}))},Itt=v.forwardRef(ktt),Dtt={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M884 256h-75c-5.1 0-9.9 2.5-12.9 6.6L512 654.2 227.9 262.6c-3-4.1-7.8-6.6-12.9-6.6h-75c-6.5 0-10.3 7.4-6.5 12.7l352.6 486.1c12.8 17.6 39 17.6 51.7 0l352.6-486.1c3.9-5.3.1-12.7-6.4-12.7z"}}]},name:"down",theme:"outlined"},Ttt=function(t,n){return v.createElement(Dc,Ns({},t,{ref:n,icon:Dtt}))},Att=v.forwardRef(Ttt),Mtt={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M909.6 854.5L649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0011.6 0l43.6-43.5a8.2 8.2 0 000-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z"}}]},name:"search",theme:"outlined"},Rtt=function(t,n){return v.createElement(Dc,Ns({},t,{ref:n,icon:Mtt}))},Ott=v.forwardRef(Rtt);function Btt({suffixIcon:e,clearIcon:t,menuItemSelectedIcon:n,removeIcon:a,loading:r,multiple:i,hasFeedback:o,prefixCls:c,showSuffixIcon:l,feedbackIcon:d,showArrow:f,componentName:g}){const b=t??v.createElement(tZe,null),w=I=>e===null&&!o&&!f?null:v.createElement(v.Fragment,null,l!==!1&&I,o&&d);let S=null;if(e!==void 0)S=w(e);else if(r)S=w(v.createElement(aP,{spin:!0}));else{const I=`${c}-suffix`;S=({open:M,showSearch:B})=>w(M&&B?v.createElement(Ott,{className:I}):v.createElement(Att,{className:I}))}let j=null;n!==void 0?j=n:i?j=v.createElement(Itt,null):j=null;let N=null;return a!==void 0?N=a:N=v.createElement(aZe,null),{clearIcon:b,suffixIcon:S,itemIcon:j,removeIcon:N}}function Ltt(e){const{sizePopupArrow:t,borderRadiusXS:n,borderRadiusOuter:a}=e,r=t/2,i=0,o=r,c=a*1/Math.sqrt(2),l=r-a*(1-1/Math.sqrt(2)),d=r-n*(1/Math.sqrt(2)),f=a*(Math.sqrt(2)-1)+n*(1/Math.sqrt(2)),g=2*r-d,b=f,w=2*r-c,S=l,j=2*r-i,N=o,I=r*Math.sqrt(2)+a*(Math.sqrt(2)-2),M=a*(Math.sqrt(2)-1),B=`polygon(${M}px 100%, 50% ${M}px, ${2*r-M}px 100%, ${M}px 100%)`,P=`path('M ${i} ${o} A ${a} ${a} 0 0 0 ${c} ${l} L ${d} ${f} A ${n} ${n} 0 0 1 ${g} ${b} L ${w} ${S} A ${a} ${a} 0 0 0 ${j} ${N} Z')`;return{arrowShadowWidth:I,arrowPath:P,arrowPolygon:B}}const $tt=(e,t,n)=>{const{sizePopupArrow:a,arrowPolygon:r,arrowPath:i,arrowShadowWidth:o,borderRadiusXS:c,calc:l}=e;return{pointerEvents:"none",width:a,height:a,overflow:"hidden","&::before":{position:"absolute",bottom:0,insetInlineStart:0,width:a,height:l(a).div(2).equal(),background:t,clipPath:{_multi_value_:!0,value:[r,i]},content:'""'},"&::after":{content:'""',position:"absolute",width:o,height:o,bottom:0,insetInline:0,margin:"auto",borderRadius:{_skip_check_:!0,value:`0 0 ${hs(c)} 0`},transform:"translateY(50%) rotate(-135deg)",boxShadow:n,zIndex:0,background:"transparent"}}};var ax={exports:{}},Ptt=ax.exports,O9;function Ftt(){return O9||(O9=1,function(e,t){(function(n,a){e.exports=a()})(Ptt,function(){return function(n,a){a.prototype.weekday=function(r){var i=this.$locale().weekStart||0,o=this.$W,c=(o<i?o+7:o)-i;return this.$utils().u(r)?c:this.subtract(c,"day").add(r,"day")}}})}(ax)),ax.exports}var Htt=Ftt();const ztt=Si(Htt);var rx={exports:{}},Vtt=rx.exports,B9;function qtt(){return B9||(B9=1,function(e,t){(function(n,a){e.exports=a()})(Vtt,function(){return function(n,a,r){var i=a.prototype,o=function(g){return g&&(g.indexOf?g:g.s)},c=function(g,b,w,S,j){var N=g.name?g:g.$locale(),I=o(N[b]),M=o(N[w]),B=I||M.map(function(O){return O.slice(0,S)});if(!j)return B;var P=N.weekStart;return B.map(function(O,R){return B[(R+(P||0))%7]})},l=function(){return r.Ls[r.locale()]},d=function(g,b){return g.formats[b]||function(w){return w.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(S,j,N){return j||N.slice(1)})}(g.formats[b.toUpperCase()])},f=function(){var g=this;return{months:function(b){return b?b.format("MMMM"):c(g,"months")},monthsShort:function(b){return b?b.format("MMM"):c(g,"monthsShort","months",3)},firstDayOfWeek:function(){return g.$locale().weekStart||0},weekdays:function(b){return b?b.format("dddd"):c(g,"weekdays")},weekdaysMin:function(b){return b?b.format("dd"):c(g,"weekdaysMin","weekdays",2)},weekdaysShort:function(b){return b?b.format("ddd"):c(g,"weekdaysShort","weekdays",3)},longDateFormat:function(b){return d(g.$locale(),b)},meridiem:this.$locale().meridiem,ordinal:this.$locale().ordinal}};i.localeData=function(){return f.bind(this)()},r.localeData=function(){var g=l();return{firstDayOfWeek:function(){return g.weekStart||0},weekdays:function(){return r.weekdays()},weekdaysShort:function(){return r.weekdaysShort()},weekdaysMin:function(){return r.weekdaysMin()},months:function(){return r.months()},monthsShort:function(){return r.monthsShort()},longDateFormat:function(b){return d(g,b)},meridiem:g.meridiem,ordinal:g.ordinal}},r.months=function(){return c(l(),"months")},r.monthsShort=function(){return c(l(),"monthsShort","months",3)},r.weekdays=function(g){return c(l(),"weekdays",null,null,g)},r.weekdaysShort=function(g){return c(l(),"weekdaysShort","weekdays",3,g)},r.weekdaysMin=function(g){return c(l(),"weekdaysMin","weekdays",2,g)}}})}(rx)),rx.exports}var Utt=qtt();const Wtt=Si(Utt);var ix={exports:{}},Ytt=ix.exports,L9;function Gtt(){return L9||(L9=1,function(e,t){(function(n,a){e.exports=a()})(Ytt,function(){var n="week",a="year";return function(r,i,o){var c=i.prototype;c.week=function(l){if(l===void 0&&(l=null),l!==null)return this.add(7*(l-this.week()),"day");var d=this.$locale().yearStart||1;if(this.month()===11&&this.date()>25){var f=o(this).startOf(a).add(1,a).date(d),g=o(this).endOf(n);if(f.isBefore(g))return 1}var b=o(this).startOf(a).date(d).startOf(n).subtract(1,"millisecond"),w=this.diff(b,n,!0);return w<0?o(this).startOf("week").week():Math.ceil(w)},c.weeks=function(l){return l===void 0&&(l=null),this.week(l)}}})}(ix)),ix.exports}var Qtt=Gtt();const Xtt=Si(Qtt);var ox={exports:{}},Ktt=ox.exports,$9;function Ztt(){return $9||($9=1,function(e,t){(function(n,a){e.exports=a()})(Ktt,function(){return function(n,a){a.prototype.weekYear=function(){var r=this.month(),i=this.week(),o=this.year();return i===1&&r===11?o+1:r===0&&i>=52?o-1:o}}})}(ox)),ox.exports}var Jtt=Ztt();const ent=Si(Jtt);var cx={exports:{}},tnt=cx.exports,P9;function nnt(){return P9||(P9=1,function(e,t){(function(n,a){e.exports=a()})(tnt,function(){return function(n,a){var r=a.prototype,i=r.format;r.format=function(o){var c=this,l=this.$locale();if(!this.isValid())return i.bind(this)(o);var d=this.$utils(),f=(o||"YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,function(g){switch(g){case"Q":return Math.ceil((c.$M+1)/3);case"Do":return l.ordinal(c.$D);case"gggg":return c.weekYear();case"GGGG":return c.isoWeekYear();case"wo":return l.ordinal(c.week(),"W");case"w":case"ww":return d.s(c.week(),g==="w"?1:2,"0");case"W":case"WW":return d.s(c.isoWeek(),g==="W"?1:2,"0");case"k":case"kk":return d.s(String(c.$H===0?24:c.$H),g==="k"?1:2,"0");case"X":return Math.floor(c.$d.getTime()/1e3);case"x":return c.$d.getTime();case"z":return"["+c.offsetName()+"]";case"zzz":return"["+c.offsetName("long")+"]";default:return g}});return i.bind(this)(f)}}})}(cx)),cx.exports}var snt=nnt();const ant=Si(snt);var lx={exports:{}},rnt=lx.exports,F9;function int(){return F9||(F9=1,function(e,t){(function(n,a){e.exports=a()})(rnt,function(){var n={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},a=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|Q|YYYY|YY?|ww?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,r=/\d/,i=/\d\d/,o=/\d\d?/,c=/\d*[^-_:/,()\s\d]+/,l={},d=function(N){return(N=+N)+(N>68?1900:2e3)},f=function(N){return function(I){this[N]=+I}},g=[/[+-]\d\d:?(\d\d)?|Z/,function(N){(this.zone||(this.zone={})).offset=function(I){if(!I||I==="Z")return 0;var M=I.match(/([+-]|\d\d)/g),B=60*M[1]+(+M[2]||0);return B===0?0:M[0]==="+"?-B:B}(N)}],b=function(N){var I=l[N];return I&&(I.indexOf?I:I.s.concat(I.f))},w=function(N,I){var M,B=l.meridiem;if(B){for(var P=1;P<=24;P+=1)if(N.indexOf(B(P,0,I))>-1){M=P>12;break}}else M=N===(I?"pm":"PM");return M},S={A:[c,function(N){this.afternoon=w(N,!1)}],a:[c,function(N){this.afternoon=w(N,!0)}],Q:[r,function(N){this.month=3*(N-1)+1}],S:[r,function(N){this.milliseconds=100*+N}],SS:[i,function(N){this.milliseconds=10*+N}],SSS:[/\d{3}/,function(N){this.milliseconds=+N}],s:[o,f("seconds")],ss:[o,f("seconds")],m:[o,f("minutes")],mm:[o,f("minutes")],H:[o,f("hours")],h:[o,f("hours")],HH:[o,f("hours")],hh:[o,f("hours")],D:[o,f("day")],DD:[i,f("day")],Do:[c,function(N){var I=l.ordinal,M=N.match(/\d+/);if(this.day=M[0],I)for(var B=1;B<=31;B+=1)I(B).replace(/\[|\]/g,"")===N&&(this.day=B)}],w:[o,f("week")],ww:[i,f("week")],M:[o,f("month")],MM:[i,f("month")],MMM:[c,function(N){var I=b("months"),M=(b("monthsShort")||I.map(function(B){return B.slice(0,3)})).indexOf(N)+1;if(M<1)throw new Error;this.month=M%12||M}],MMMM:[c,function(N){var I=b("months").indexOf(N)+1;if(I<1)throw new Error;this.month=I%12||I}],Y:[/[+-]?\d+/,f("year")],YY:[i,function(N){this.year=d(N)}],YYYY:[/\d{4}/,f("year")],Z:g,ZZ:g};function j(N){var I,M;I=N,M=l&&l.formats;for(var B=(N=I.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(H,ne,X){var te=X&&X.toUpperCase();return ne||M[X]||n[X]||M[te].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(se,V,q){return V||q.slice(1)})})).match(a),P=B.length,O=0;O<P;O+=1){var R=B[O],$=S[R],U=$&&$[0],F=$&&$[1];B[O]=F?{regex:U,parser:F}:R.replace(/^\[|\]$/g,"")}return function(H){for(var ne={},X=0,te=0;X<P;X+=1){var se=B[X];if(typeof se=="string")te+=se.length;else{var V=se.regex,q=se.parser,T=H.slice(te),J=V.exec(T)[0];q.call(ne,J),H=H.replace(J,"")}}return function(Z){var A=Z.afternoon;if(A!==void 0){var Y=Z.hours;A?Y<12&&(Z.hours+=12):Y===12&&(Z.hours=0),delete Z.afternoon}}(ne),ne}}return function(N,I,M){M.p.customParseFormat=!0,N&&N.parseTwoDigitYear&&(d=N.parseTwoDigitYear);var B=I.prototype,P=B.parse;B.parse=function(O){var R=O.date,$=O.utc,U=O.args;this.$u=$;var F=U[1];if(typeof F=="string"){var H=U[2]===!0,ne=U[3]===!0,X=H||ne,te=U[2];ne&&(te=U[2]),l=this.$locale(),!H&&te&&(l=M.Ls[te]),this.$d=function(T,J,Z,A){try{if(["x","X"].indexOf(J)>-1)return new Date((J==="X"?1e3:1)*T);var Y=j(J)(T),K=Y.year,G=Y.month,oe=Y.day,ee=Y.hours,ae=Y.minutes,ie=Y.seconds,ue=Y.milliseconds,he=Y.zone,ge=Y.week,ye=new Date,je=oe||(K||G?1:ye.getDate()),Ie=K||ye.getFullYear(),me=0;K&&!G||(me=G>0?G-1:ye.getMonth());var de,fe=ee||0,re=ae||0,xe=ie||0,Se=ue||0;return he?new Date(Date.UTC(Ie,me,je,fe,re,xe,Se+60*he.offset*1e3)):Z?new Date(Date.UTC(Ie,me,je,fe,re,xe,Se)):(de=new Date(Ie,me,je,fe,re,xe,Se),ge&&(de=A(de).week(ge).toDate()),de)}catch{return new Date("")}}(R,F,$,M),this.init(),te&&te!==!0&&(this.$L=this.locale(te).$L),X&&R!=this.format(F)&&(this.$d=new Date("")),l={}}else if(F instanceof Array)for(var se=F.length,V=1;V<=se;V+=1){U[1]=F[V-1];var q=M.apply(this,U);if(q.isValid()){this.$d=q.$d,this.$L=q.$L,this.init();break}V===se&&(this.$d=new Date(""))}else P.call(this,O)}}})}(lx)),lx.exports}var ont=int();const cnt=Si(ont);Xn.extend(cnt);Xn.extend(ant);Xn.extend(ztt);Xn.extend(Wtt);Xn.extend(Xtt);Xn.extend(ent);Xn.extend(function(e,t){var n=t.prototype,a=n.format;n.format=function(i){var o=(i||"").replace("Wo","wo");return a.bind(this)(o)}});var lnt={bn_BD:"bn-bd",by_BY:"be",en_GB:"en-gb",en_US:"en",fr_BE:"fr",fr_CA:"fr-ca",hy_AM:"hy-am",kmr_IQ:"ku",nl_BE:"nl-be",pt_BR:"pt-br",zh_CN:"zh-cn",zh_HK:"zh-hk",zh_TW:"zh-tw"},ah=function(t){var n=lnt[t];return n||t.split("_")[0]},unt={getNow:function(){var t=Xn();return typeof t.tz=="function"?t.tz():t},getFixedDate:function(t){return Xn(t,["YYYY-M-DD","YYYY-MM-DD"])},getEndDate:function(t){return t.endOf("month")},getWeekDay:function(t){var n=t.locale("en");return n.weekday()+n.localeData().firstDayOfWeek()},getYear:function(t){return t.year()},getMonth:function(t){return t.month()},getDate:function(t){return t.date()},getHour:function(t){return t.hour()},getMinute:function(t){return t.minute()},getSecond:function(t){return t.second()},getMillisecond:function(t){return t.millisecond()},addYear:function(t,n){return t.add(n,"year")},addMonth:function(t,n){return t.add(n,"month")},addDate:function(t,n){return t.add(n,"day")},setYear:function(t,n){return t.year(n)},setMonth:function(t,n){return t.month(n)},setDate:function(t,n){return t.date(n)},setHour:function(t,n){return t.hour(n)},setMinute:function(t,n){return t.minute(n)},setSecond:function(t,n){return t.second(n)},setMillisecond:function(t,n){return t.millisecond(n)},isAfter:function(t,n){return t.isAfter(n)},isValidate:function(t){return t.isValid()},locale:{getWeekFirstDay:function(t){return Xn().locale(ah(t)).localeData().firstDayOfWeek()},getWeekFirstDate:function(t,n){return n.locale(ah(t)).weekday(0)},getWeek:function(t,n){return n.locale(ah(t)).week()},getShortWeekDays:function(t){return Xn().locale(ah(t)).localeData().weekdaysMin()},getShortMonths:function(t){return Xn().locale(ah(t)).localeData().monthsShort()},format:function(t,n,a){return n.locale(ah(t)).format(a)},parse:function(t,n,a){for(var r=ah(t),i=0;i<a.length;i+=1){var o=a[i],c=n;if(o.includes("wo")||o.includes("Wo")){for(var l=c.split("-")[0],d=c.split("-")[1],f=Xn(l,"YYYY").startOf("year").locale(r),g=0;g<=52;g+=1){var b=f.add(g,"week");if(b.format("Wo")===d)return b}return null}var w=Xn(c,o,!0).locale(r);if(w.isValid())return w}return null}}};function dnt(e,t){return e!==void 0?e:t?"bottomRight":"bottomLeft"}var Zc=v.createContext(null),hnt={bottomLeft:{points:["tl","bl"],offset:[0,4],overflow:{adjustX:1,adjustY:1}},bottomRight:{points:["tr","br"],offset:[0,4],overflow:{adjustX:1,adjustY:1}},topLeft:{points:["bl","tl"],offset:[0,-4],overflow:{adjustX:0,adjustY:1}},topRight:{points:["br","tr"],offset:[0,-4],overflow:{adjustX:0,adjustY:1}}};function BP(e){var t=e.popupElement,n=e.popupStyle,a=e.popupClassName,r=e.popupAlign,i=e.transitionName,o=e.getPopupContainer,c=e.children,l=e.range,d=e.placement,f=e.builtinPlacements,g=f===void 0?hnt:f,b=e.direction,w=e.visible,S=e.onClose,j=v.useContext(Zc),N=j.prefixCls,I="".concat(N,"-dropdown"),M=dnt(d,b==="rtl");return v.createElement(Stt,{showAction:[],hideAction:["click"],popupPlacement:M,builtinPlacements:g,prefixCls:I,popupTransitionName:i,popup:t,popupAlign:r,popupVisible:w,popupClassName:zs(a,pt(pt({},"".concat(I,"-range"),l),"".concat(I,"-rtl"),b==="rtl")),popupStyle:n,stretch:"minWidth",getPopupContainer:o,onPopupVisibleChange:function(P){P||S()}},c)}function z4(e,t){for(var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"0",a=String(e);a.length<t;)a="".concat(n).concat(a);return a}function Qh(e){return e==null?[]:Array.isArray(e)?e:[e]}function dg(e,t,n){var a=fs(e);return a[t]=n,a}function jy(e,t){var n={},a=t||Object.keys(e);return a.forEach(function(r){e[r]!==void 0&&(n[r]=e[r])}),n}function LP(e,t,n){if(n)return n;switch(e){case"time":return t.fieldTimeFormat;case"datetime":return t.fieldDateTimeFormat;case"month":return t.fieldMonthFormat;case"year":return t.fieldYearFormat;case"quarter":return t.fieldQuarterFormat;case"week":return t.fieldWeekFormat;default:return t.fieldDateFormat}}function $P(e,t,n){var a=n!==void 0?n:t[t.length-1],r=t.find(function(i){return e[i]});return a!==r?e[r]:void 0}function PP(e){return jy(e,["placement","builtinPlacements","popupAlign","getPopupContainer","transitionName","direction"])}function V4(e,t,n,a){var r=v.useMemo(function(){return e||function(o,c){var l=o;return t&&c.type==="date"?t(l,c.today):n&&c.type==="month"?n(l,c.locale):c.originNode}},[e,n,t]),i=v.useCallback(function(o,c){return r(o,vt(vt({},c),{},{range:a}))},[r,a]);return i}function FP(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],a=v.useState([!1,!1]),r=St(a,2),i=r[0],o=r[1],c=function(f,g){o(function(b){return dg(b,g,f)})},l=v.useMemo(function(){return i.map(function(d,f){if(d)return!0;var g=e[f];return g?!!(!n[f]&&!g||g&&t(g,{activeIndex:f})):!1})},[e,i,t,n]);return[l,c]}function HP(e,t,n,a,r){var i="",o=[];return e&&o.push(r?"hh":"HH"),t&&o.push("mm"),n&&o.push("ss"),i=o.join(":"),a&&(i+=".SSS"),r&&(i+=" A"),i}function fnt(e,t,n,a,r,i){var o=e.fieldDateTimeFormat,c=e.fieldDateFormat,l=e.fieldTimeFormat,d=e.fieldMonthFormat,f=e.fieldYearFormat,g=e.fieldWeekFormat,b=e.fieldQuarterFormat,w=e.yearFormat,S=e.cellYearFormat,j=e.cellQuarterFormat,N=e.dayFormat,I=e.cellDateFormat,M=HP(t,n,a,r,i);return vt(vt({},e),{},{fieldDateTimeFormat:o||"YYYY-MM-DD ".concat(M),fieldDateFormat:c||"YYYY-MM-DD",fieldTimeFormat:l||M,fieldMonthFormat:d||"YYYY-MM",fieldYearFormat:f||"YYYY",fieldWeekFormat:g||"gggg-wo",fieldQuarterFormat:b||"YYYY-[Q]Q",yearFormat:w||"YYYY",cellYearFormat:S||"YYYY",cellQuarterFormat:j||"[Q]Q",cellDateFormat:I||N||"D"})}function zP(e,t){var n=t.showHour,a=t.showMinute,r=t.showSecond,i=t.showMillisecond,o=t.use12Hours;return Je.useMemo(function(){return fnt(e,n,a,r,i,o)},[e,n,a,r,i,o])}function x1(e,t,n){return n??t.some(function(a){return e.includes(a)})}var mnt=["showNow","showHour","showMinute","showSecond","showMillisecond","use12Hours","hourStep","minuteStep","secondStep","millisecondStep","hideDisabledOptions","defaultValue","disabledHours","disabledMinutes","disabledSeconds","disabledMilliseconds","disabledTime","changeOnScroll","defaultOpenValue"];function pnt(e){var t=jy(e,mnt),n=e.format,a=e.picker,r=null;return n&&(r=n,Array.isArray(r)&&(r=r[0]),r=Bs(r)==="object"?r.format:r),a==="time"&&(t.format=r),[t,r]}function gnt(e){return e&&typeof e=="string"}function VP(e,t,n,a){return[e,t,n,a].some(function(r){return r!==void 0})}function qP(e,t,n,a,r){var i=t,o=n,c=a;if(!e&&!i&&!o&&!c&&!r)i=!0,o=!0,c=!0;else if(e){var l,d,f,g=[i,o,c].some(function(S){return S===!1}),b=[i,o,c].some(function(S){return S===!0}),w=g?!0:!b;i=(l=i)!==null&&l!==void 0?l:w,o=(d=o)!==null&&d!==void 0?d:w,c=(f=c)!==null&&f!==void 0?f:w}return[i,o,c,r]}function UP(e){var t=e.showTime,n=pnt(e),a=St(n,2),r=a[0],i=a[1],o=t&&Bs(t)==="object"?t:{},c=vt(vt({defaultOpenValue:o.defaultOpenValue||o.defaultValue},r),o),l=c.showMillisecond,d=c.showHour,f=c.showMinute,g=c.showSecond,b=VP(d,f,g,l),w=qP(b,d,f,g,l),S=St(w,3);return d=S[0],f=S[1],g=S[2],[c,vt(vt({},c),{},{showHour:d,showMinute:f,showSecond:g,showMillisecond:l}),c.format,i]}function WP(e,t,n,a,r){var i=e==="time";if(e==="datetime"||i){for(var o=a,c=LP(e,r,null),l=c,d=[t,n],f=0;f<d.length;f+=1){var g=Qh(d[f])[0];if(gnt(g)){l=g;break}}var b=o.showHour,w=o.showMinute,S=o.showSecond,j=o.showMillisecond,N=o.use12Hours,I=x1(l,["a","A","LT","LLL","LTS"],N),M=VP(b,w,S,j);M||(b=x1(l,["H","h","k","LT","LLL"]),w=x1(l,["m","LT","LLL"]),S=x1(l,["s","LTS"]),j=x1(l,["SSS"]));var B=qP(M,b,w,S,j),P=St(B,3);b=P[0],w=P[1],S=P[2];var O=t||HP(b,w,S,j,I);return vt(vt({},o),{},{format:O,showHour:b,showMinute:w,showSecond:S,showMillisecond:j,use12Hours:I})}return null}function _nt(e,t,n){if(t===!1)return null;var a=t&&Bs(t)==="object"?t:{};return a.clearIcon||n||v.createElement("span",{className:"".concat(e,"-clear-btn")})}var lS=7;function Md(e,t,n){return!e&&!t||e===t?!0:!e||!t?!1:n()}function AN(e,t,n){return Md(t,n,function(){var a=Math.floor(e.getYear(t)/10),r=Math.floor(e.getYear(n)/10);return a===r})}function Vh(e,t,n){return Md(t,n,function(){return e.getYear(t)===e.getYear(n)})}function H9(e,t){var n=Math.floor(e.getMonth(t)/3);return n+1}function vnt(e,t,n){return Md(t,n,function(){return Vh(e,t,n)&&H9(e,t)===H9(e,n)})}function q4(e,t,n){return Md(t,n,function(){return Vh(e,t,n)&&e.getMonth(t)===e.getMonth(n)})}function U4(e,t,n){return Md(t,n,function(){return Vh(e,t,n)&&q4(e,t,n)&&e.getDate(t)===e.getDate(n)})}function YP(e,t,n){return Md(t,n,function(){return e.getHour(t)===e.getHour(n)&&e.getMinute(t)===e.getMinute(n)&&e.getSecond(t)===e.getSecond(n)})}function GP(e,t,n){return Md(t,n,function(){return U4(e,t,n)&&YP(e,t,n)&&e.getMillisecond(t)===e.getMillisecond(n)})}function z1(e,t,n,a){return Md(n,a,function(){var r=e.locale.getWeekFirstDate(t,n),i=e.locale.getWeekFirstDate(t,a);return Vh(e,r,i)&&e.locale.getWeek(t,n)===e.locale.getWeek(t,a)})}function uo(e,t,n,a,r){switch(r){case"date":return U4(e,n,a);case"week":return z1(e,t.locale,n,a);case"month":return q4(e,n,a);case"quarter":return vnt(e,n,a);case"year":return Vh(e,n,a);case"decade":return AN(e,n,a);case"time":return YP(e,n,a);default:return GP(e,n,a)}}function Ny(e,t,n,a){return!t||!n||!a?!1:e.isAfter(a,t)&&e.isAfter(n,a)}function fv(e,t,n,a,r){return uo(e,t,n,a,r)?!0:e.isAfter(n,a)}function xnt(e,t,n){var a=t.locale.getWeekFirstDay(e),r=t.setDate(n,1),i=t.getWeekDay(r),o=t.addDate(r,a-i);return t.getMonth(o)===t.getMonth(n)&&t.getDate(o)>1&&(o=t.addDate(o,-7)),o}function Di(e,t){var n=t.generateConfig,a=t.locale,r=t.format;return e?typeof r=="function"?r(e):n.locale.format(a.locale,e,r):""}function _b(e,t,n){var a=t,r=["getHour","getMinute","getSecond","getMillisecond"],i=["setHour","setMinute","setSecond","setMillisecond"];return i.forEach(function(o,c){n?a=e[o](a,e[r[c]](n)):a=e[o](a,0)}),a}function bnt(e,t,n,a,r){var i=Za(function(o,c){return!!(n&&n(o,c)||a&&e.isAfter(a,o)&&!uo(e,t,a,o,c.type)||r&&e.isAfter(o,r)&&!uo(e,t,r,o,c.type))});return i}function ynt(e,t,n){return v.useMemo(function(){var a=LP(e,t,n),r=Qh(a),i=r[0],o=Bs(i)==="object"&&i.type==="mask"?i.format:null;return[r.map(function(c){return typeof c=="string"||typeof c=="function"?c:c.format}),o]},[e,t,n])}function wnt(e,t,n){return typeof e[0]=="function"||n?!0:t}function Cnt(e,t,n,a){var r=Za(function(i,o){var c=vt({type:t},o);if(delete c.activeIndex,!e.isValidate(i)||n&&n(i,c))return!0;if((t==="date"||t==="time")&&a){var l,d=o&&o.activeIndex===1?"end":"start",f=((l=a.disabledTime)===null||l===void 0?void 0:l.call(a,i,d,{from:c.from}))||{},g=f.disabledHours,b=f.disabledMinutes,w=f.disabledSeconds,S=f.disabledMilliseconds,j=a.disabledHours,N=a.disabledMinutes,I=a.disabledSeconds,M=g||j,B=b||N,P=w||I,O=e.getHour(i),R=e.getMinute(i),$=e.getSecond(i),U=e.getMillisecond(i);if(M&&M().includes(O)||B&&B(O).includes(R)||P&&P(O,R).includes($)||S&&S(O,R,$).includes(U))return!0}return!1});return r}function mv(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=v.useMemo(function(){var a=e&&Qh(e);return t&&a&&(a[1]=a[1]||a[0]),a},[e,t]);return n}function QP(e,t){var n=e.generateConfig,a=e.locale,r=e.picker,i=r===void 0?"date":r,o=e.prefixCls,c=o===void 0?"rc-picker":o,l=e.styles,d=l===void 0?{}:l,f=e.classNames,g=f===void 0?{}:f,b=e.order,w=b===void 0?!0:b,S=e.components,j=S===void 0?{}:S,N=e.inputRender,I=e.allowClear,M=e.clearIcon,B=e.needConfirm,P=e.multiple,O=e.format,R=e.inputReadOnly,$=e.disabledDate,U=e.minDate,F=e.maxDate,H=e.showTime,ne=e.value,X=e.defaultValue,te=e.pickerValue,se=e.defaultPickerValue,V=mv(ne),q=mv(X),T=mv(te),J=mv(se),Z=i==="date"&&H?"datetime":i,A=Z==="time"||Z==="datetime",Y=A||P,K=B??A,G=UP(e),oe=St(G,4),ee=oe[0],ae=oe[1],ie=oe[2],ue=oe[3],he=zP(a,ae),ge=v.useMemo(function(){return WP(Z,ie,ue,ee,he)},[Z,ie,ue,ee,he]),ye=v.useMemo(function(){return vt(vt({},e),{},{prefixCls:c,locale:he,picker:i,styles:d,classNames:g,order:w,components:vt({input:N},j),clearIcon:_nt(c,I,M),showTime:ge,value:V,defaultValue:q,pickerValue:T,defaultPickerValue:J},t==null?void 0:t())},[e]),je=ynt(Z,he,O),Ie=St(je,2),me=Ie[0],de=Ie[1],fe=wnt(me,R,P),re=bnt(n,a,$,U,F),xe=Cnt(n,i,re,ge),Se=v.useMemo(function(){return vt(vt({},ye),{},{needConfirm:K,inputReadOnly:fe,disabledDate:re})},[ye,K,fe,re]);return[Se,Z,Y,me,de,xe]}function Snt(e,t,n){var a=Il(t,{value:e}),r=St(a,2),i=r[0],o=r[1],c=Je.useRef(e),l=Je.useRef(),d=function(){Ki.cancel(l.current)},f=Za(function(){o(c.current),n&&i!==c.current&&n(c.current)}),g=Za(function(b,w){d(),c.current=b,b||w?f():l.current=Ki(f)});return Je.useEffect(function(){return d},[]),[i,g]}function XP(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],a=arguments.length>3?arguments[3]:void 0,r=n.every(function(f){return f})?!1:e,i=Snt(r,t||!1,a),o=St(i,2),c=o[0],l=o[1];function d(f){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};(!g.inherit||c)&&l(f,g.force)}return[c,d]}function KP(e){var t=v.useRef();return v.useImperativeHandle(e,function(){var n;return{nativeElement:(n=t.current)===null||n===void 0?void 0:n.nativeElement,focus:function(r){var i;(i=t.current)===null||i===void 0||i.focus(r)},blur:function(){var r;(r=t.current)===null||r===void 0||r.blur()}}}),t}function ZP(e,t){return v.useMemo(function(){return e||(t?(Ro(!1,"`ranges` is deprecated. Please use `presets` instead."),Object.entries(t).map(function(n){var a=St(n,2),r=a[0],i=a[1];return{label:r,value:i}})):[])},[e,t])}function W4(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,a=v.useRef(t);a.current=t,Gj(function(){if(e)a.current(e);else{var r=Ki(function(){a.current(e)},n);return function(){Ki.cancel(r)}}},[e])}function JP(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,a=v.useState(0),r=St(a,2),i=r[0],o=r[1],c=v.useState(!1),l=St(c,2),d=l[0],f=l[1],g=v.useRef([]),b=v.useRef(null),w=v.useRef(null),S=function(P){b.current=P},j=function(P){return b.current===P},N=function(P){f(P)},I=function(P){return P&&(w.current=P),w.current},M=function(P){var O=g.current,R=new Set(O.filter(function(U){return P[U]||t[U]})),$=O[O.length-1]===0?1:0;return R.size>=2||e[$]?null:$};return W4(d||n,function(){d||(g.current=[],S(null))}),v.useEffect(function(){d&&g.current.push(i)},[d,i]),[d,N,I,i,o,M,g.current,S,j]}function jnt(e,t,n,a,r,i){var o=n[n.length-1],c=function(d,f){var g=St(e,2),b=g[0],w=g[1],S=vt(vt({},f),{},{from:$P(e,n)});return o===1&&t[0]&&b&&!uo(a,r,b,d,S.type)&&a.isAfter(b,d)||o===0&&t[1]&&w&&!uo(a,r,w,d,S.type)&&a.isAfter(d,w)?!0:i==null?void 0:i(d,S)};return c}function V1(e,t,n,a){switch(t){case"date":case"week":return e.addMonth(n,a);case"month":case"quarter":return e.addYear(n,a);case"year":return e.addYear(n,a*10);case"decade":return e.addYear(n,a*100);default:return n}}var uS=[];function eF(e,t,n,a,r,i,o,c){var l=arguments.length>8&&arguments[8]!==void 0?arguments[8]:uS,d=arguments.length>9&&arguments[9]!==void 0?arguments[9]:uS,f=arguments.length>10&&arguments[10]!==void 0?arguments[10]:uS,g=arguments.length>11?arguments[11]:void 0,b=arguments.length>12?arguments[12]:void 0,w=arguments.length>13?arguments[13]:void 0,S=o==="time",j=i||0,N=function(T){var J=e.getNow();return S&&(J=_b(e,J)),l[T]||n[T]||J},I=St(d,2),M=I[0],B=I[1],P=Il(function(){return N(0)},{value:M}),O=St(P,2),R=O[0],$=O[1],U=Il(function(){return N(1)},{value:B}),F=St(U,2),H=F[0],ne=F[1],X=v.useMemo(function(){var q=[R,H][j];return S?q:_b(e,q,f[j])},[S,R,H,j,e,f]),te=function(T){var J=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"panel",Z=[$,ne][j];Z(T);var A=[R,H];A[j]=T,g&&(!uo(e,t,R,A[0],o)||!uo(e,t,H,A[1],o))&&g(A,{source:J,range:j===1?"end":"start",mode:a})},se=function(T,J){if(c){var Z={date:"month",week:"month",month:"year",quarter:"year"},A=Z[o];if(A&&!uo(e,t,T,J,A))return V1(e,o,J,-1);if(o==="year"&&T){var Y=Math.floor(e.getYear(T)/10),K=Math.floor(e.getYear(J)/10);if(Y!==K)return V1(e,o,J,-1)}}return J},V=v.useRef(null);return Pr(function(){if(r&&!l[j]){var q=S?null:e.getNow();if(V.current!==null&&V.current!==j?q=[R,H][j^1]:n[j]?q=j===0?n[0]:se(n[0],n[1]):n[j^1]&&(q=n[j^1]),q){b&&e.isAfter(b,q)&&(q=b);var T=c?V1(e,o,q,1):q;w&&e.isAfter(T,w)&&(q=c?V1(e,o,w,-1):w),te(q,"reset")}}},[r,j,n[j]]),v.useEffect(function(){r?V.current=j:V.current=null},[r,j]),Pr(function(){r&&l&&l[j]&&te(l[j],"reset")},[r,j]),[X,te]}function tF(e,t){var n=v.useRef(e),a=v.useState({}),r=St(a,2),i=r[1],o=function(d){return d&&t!==void 0?t:n.current},c=function(d){n.current=d,i({})};return[o,c,o(!0)]}var Nnt=[];function nF(e,t,n){var a=function(o){return o.map(function(c){return Di(c,{generateConfig:e,locale:t,format:n[0]})})},r=function(o,c){for(var l=Math.max(o.length,c.length),d=-1,f=0;f<l;f+=1){var g=o[f]||null,b=c[f]||null;if(g!==b&&!GP(e,g,b)){d=f;break}}return[d<0,d!==0]};return[a,r]}function sF(e,t){return fs(e).sort(function(n,a){return t.isAfter(n,a)?1:-1})}function Ent(e){var t=tF(e),n=St(t,2),a=n[0],r=n[1],i=Za(function(){r(e)});return v.useEffect(function(){i()},[e]),[a,r]}function aF(e,t,n,a,r,i,o,c,l){var d=Il(i,{value:o}),f=St(d,2),g=f[0],b=f[1],w=g||Nnt,S=Ent(w),j=St(S,2),N=j[0],I=j[1],M=nF(e,t,n),B=St(M,2),P=B[0],O=B[1],R=Za(function(U){var F=fs(U);if(a)for(var H=0;H<2;H+=1)F[H]=F[H]||null;else r&&(F=sF(F.filter(function(q){return q}),e));var ne=O(N(),F),X=St(ne,2),te=X[0],se=X[1];if(!te&&(I(F),c)){var V=P(F);c(F,V,{range:se?"end":"start"})}}),$=function(){l&&l(N())};return[w,b,N,R,$]}function rF(e,t,n,a,r,i,o,c,l,d){var f=e.generateConfig,g=e.locale,b=e.picker,w=e.onChange,S=e.allowEmpty,j=e.order,N=i.some(function(te){return te})?!1:j,I=nF(f,g,o),M=St(I,2),B=M[0],P=M[1],O=tF(t),R=St(O,2),$=R[0],U=R[1],F=Za(function(){U(t)});v.useEffect(function(){F()},[t]);var H=Za(function(te){var se=te===null,V=fs(te||$());if(se)for(var q=Math.max(i.length,V.length),T=0;T<q;T+=1)i[T]||(V[T]=null);N&&V[0]&&V[1]&&(V=sF(V,f)),r(V);var J=V,Z=St(J,2),A=Z[0],Y=Z[1],K=!A,G=!Y,oe=S?(!K||S[0])&&(!G||S[1]):!0,ee=!j||K||G||uo(f,g,A,Y,b)||f.isAfter(Y,A),ae=(i[0]||!A||!d(A,{activeIndex:0}))&&(i[1]||!Y||!d(Y,{from:A,activeIndex:1})),ie=se||oe&&ee&&ae;if(ie){n(V);var ue=P(V,t),he=St(ue,1),ge=he[0];w&&!ge&&w(se&&V.every(function(ye){return!ye})?null:V,B(V))}return ie}),ne=Za(function(te,se){var V=dg($(),te,a()[te]);U(V),se&&H()}),X=!c&&!l;return W4(!X,function(){X&&(H(),r(t),F())},2),[ne,H]}function iF(e,t,n,a,r){return t!=="date"&&t!=="time"?!1:n!==void 0?n:a!==void 0?a:!r&&(e==="date"||e==="time")}function knt(e,t,n,a,r,i){var o=e;function c(g,b,w){var S=i[g](o),j=w.find(function(B){return B.value===S});if(!j||j.disabled){var N=w.filter(function(B){return!B.disabled}),I=fs(N).reverse(),M=I.find(function(B){return B.value<=S})||N[0];M&&(S=M.value,o=i[b](o,S))}return S}var l=c("getHour","setHour",t()),d=c("getMinute","setMinute",n(l)),f=c("getSecond","setSecond",a(l,d));return c("getMillisecond","setMillisecond",r(l,d,f)),o}function pv(){return[]}function gv(e,t){for(var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,r=arguments.length>4&&arguments[4]!==void 0?arguments[4]:[],i=arguments.length>5&&arguments[5]!==void 0?arguments[5]:2,o=[],c=n>=1?n|0:1,l=e;l<=t;l+=c){var d=r.includes(l);(!d||!a)&&o.push({label:z4(l,i),value:l,disabled:d})}return o}function Y4(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,a=t||{},r=a.use12Hours,i=a.hourStep,o=i===void 0?1:i,c=a.minuteStep,l=c===void 0?1:c,d=a.secondStep,f=d===void 0?1:d,g=a.millisecondStep,b=g===void 0?100:g,w=a.hideDisabledOptions,S=a.disabledTime,j=a.disabledHours,N=a.disabledMinutes,I=a.disabledSeconds,M=v.useMemo(function(){return n||e.getNow()},[n,e]),B=v.useCallback(function(J){var Z=(S==null?void 0:S(J))||{};return[Z.disabledHours||j||pv,Z.disabledMinutes||N||pv,Z.disabledSeconds||I||pv,Z.disabledMilliseconds||pv]},[S,j,N,I]),P=v.useMemo(function(){return B(M)},[M,B]),O=St(P,4),R=O[0],$=O[1],U=O[2],F=O[3],H=v.useCallback(function(J,Z,A,Y){var K=gv(0,23,o,w,J()),G=r?K.map(function(ie){return vt(vt({},ie),{},{label:z4(ie.value%12||12,2)})}):K,oe=function(ue){return gv(0,59,l,w,Z(ue))},ee=function(ue,he){return gv(0,59,f,w,A(ue,he))},ae=function(ue,he,ge){return gv(0,999,b,w,Y(ue,he,ge),3)};return[G,oe,ee,ae]},[w,o,r,b,l,f]),ne=v.useMemo(function(){return H(R,$,U,F)},[H,R,$,U,F]),X=St(ne,4),te=X[0],se=X[1],V=X[2],q=X[3],T=function(Z,A){var Y=function(){return te},K=se,G=V,oe=q;if(A){var ee=B(A),ae=St(ee,4),ie=ae[0],ue=ae[1],he=ae[2],ge=ae[3],ye=H(ie,ue,he,ge),je=St(ye,4),Ie=je[0],me=je[1],de=je[2],fe=je[3];Y=function(){return Ie},K=me,G=de,oe=fe}var re=knt(Z,Y,K,G,oe,e);return re};return[T,te,se,V,q]}function Int(e){var t=e.mode,n=e.internalMode,a=e.renderExtraFooter,r=e.showNow,i=e.showTime,o=e.onSubmit,c=e.onNow,l=e.invalid,d=e.needConfirm,f=e.generateConfig,g=e.disabledDate,b=v.useContext(Zc),w=b.prefixCls,S=b.locale,j=b.button,N=j===void 0?"button":j,I=f.getNow(),M=Y4(f,i,I),B=St(M,1),P=B[0],O=a==null?void 0:a(t),R=g(I,{type:t}),$=function(){if(!R){var se=P(I);c(se)}},U="".concat(w,"-now"),F="".concat(U,"-btn"),H=r&&v.createElement("li",{className:U},v.createElement("a",{className:zs(F,R&&"".concat(F,"-disabled")),"aria-disabled":R,onClick:$},n==="date"?S.today:S.now)),ne=d&&v.createElement("li",{className:"".concat(w,"-ok")},v.createElement(N,{disabled:l,onClick:o},S.ok)),X=(H||ne)&&v.createElement("ul",{className:"".concat(w,"-ranges")},H,ne);return!O&&!X?null:v.createElement("div",{className:"".concat(w,"-footer")},O&&v.createElement("div",{className:"".concat(w,"-footer-extra")},O),X)}function oF(e,t,n){function a(r,i){var o=r.findIndex(function(l){return uo(e,t,l,i,n)});if(o===-1)return[].concat(fs(r),[i]);var c=fs(r);return c.splice(o,1),c}return a}var Xh=v.createContext(null);function Ey(){return v.useContext(Xh)}function tp(e,t){var n=e.prefixCls,a=e.generateConfig,r=e.locale,i=e.disabledDate,o=e.minDate,c=e.maxDate,l=e.cellRender,d=e.hoverValue,f=e.hoverRangeValue,g=e.onHover,b=e.values,w=e.pickerValue,S=e.onSelect,j=e.prevIcon,N=e.nextIcon,I=e.superPrevIcon,M=e.superNextIcon,B=a.getNow(),P={now:B,values:b,pickerValue:w,prefixCls:n,disabledDate:i,minDate:o,maxDate:c,cellRender:l,hoverValue:d,hoverRangeValue:f,onHover:g,locale:r,generateConfig:a,onSelect:S,panelType:t,prevIcon:j,nextIcon:N,superPrevIcon:I,superNextIcon:M};return[P,B]}var wd=v.createContext({});function E0(e){for(var t=e.rowNum,n=e.colNum,a=e.baseDate,r=e.getCellDate,i=e.prefixColumn,o=e.rowClassName,c=e.titleFormat,l=e.getCellText,d=e.getCellClassName,f=e.headerCells,g=e.cellSelection,b=g===void 0?!0:g,w=e.disabledDate,S=Ey(),j=S.prefixCls,N=S.panelType,I=S.now,M=S.disabledDate,B=S.cellRender,P=S.onHover,O=S.hoverValue,R=S.hoverRangeValue,$=S.generateConfig,U=S.values,F=S.locale,H=S.onSelect,ne=w||M,X="".concat(j,"-cell"),te=v.useContext(wd),se=te.onCellDblClick,V=function(G){return U.some(function(oe){return oe&&uo($,F,G,oe,N)})},q=[],T=0;T<t;T+=1){for(var J=[],Z=void 0,A=function(){var G=T*n+Y,oe=r(a,G),ee=ne==null?void 0:ne(oe,{type:N});Y===0&&(Z=oe,i&&J.push(i(Z)));var ae=!1,ie=!1,ue=!1;if(b&&R){var he=St(R,2),ge=he[0],ye=he[1];ae=Ny($,ge,ye,oe),ie=uo($,F,oe,ge,N),ue=uo($,F,oe,ye,N)}var je=c?Di(oe,{locale:F,format:c,generateConfig:$}):void 0,Ie=v.createElement("div",{className:"".concat(X,"-inner")},l(oe));J.push(v.createElement("td",{key:Y,title:je,className:zs(X,vt(pt(pt(pt(pt(pt(pt({},"".concat(X,"-disabled"),ee),"".concat(X,"-hover"),(O||[]).some(function(me){return uo($,F,oe,me,N)})),"".concat(X,"-in-range"),ae&&!ie&&!ue),"".concat(X,"-range-start"),ie),"".concat(X,"-range-end"),ue),"".concat(j,"-cell-selected"),!R&&N!=="week"&&V(oe)),d(oe))),onClick:function(){ee||H(oe)},onDoubleClick:function(){!ee&&se&&se()},onMouseEnter:function(){ee||P==null||P(oe)},onMouseLeave:function(){ee||P==null||P(null)}},B?B(oe,{prefixCls:j,originNode:Ie,today:I,type:N,locale:F}):Ie))},Y=0;Y<n;Y+=1)A();q.push(v.createElement("tr",{key:T,className:o==null?void 0:o(Z)},J))}return v.createElement("div",{className:"".concat(j,"-body")},v.createElement("table",{className:"".concat(j,"-content")},f&&v.createElement("thead",null,v.createElement("tr",null,f)),v.createElement("tbody",null,q)))}var _v={visibility:"hidden"};function np(e){var t=e.offset,n=e.superOffset,a=e.onChange,r=e.getStart,i=e.getEnd,o=e.children,c=Ey(),l=c.prefixCls,d=c.prevIcon,f=d===void 0?"":d,g=c.nextIcon,b=g===void 0?"":g,w=c.superPrevIcon,S=w===void 0?"":w,j=c.superNextIcon,N=j===void 0?"":j,I=c.minDate,M=c.maxDate,B=c.generateConfig,P=c.locale,O=c.pickerValue,R=c.panelType,$="".concat(l,"-header"),U=v.useContext(wd),F=U.hidePrev,H=U.hideNext,ne=U.hideHeader,X=v.useMemo(function(){if(!I||!t||!i)return!1;var K=i(t(-1,O));return!fv(B,P,K,I,R)},[I,t,O,i,B,P,R]),te=v.useMemo(function(){if(!I||!n||!i)return!1;var K=i(n(-1,O));return!fv(B,P,K,I,R)},[I,n,O,i,B,P,R]),se=v.useMemo(function(){if(!M||!t||!r)return!1;var K=r(t(1,O));return!fv(B,P,M,K,R)},[M,t,O,r,B,P,R]),V=v.useMemo(function(){if(!M||!n||!r)return!1;var K=r(n(1,O));return!fv(B,P,M,K,R)},[M,n,O,r,B,P,R]),q=function(G){t&&a(t(G,O))},T=function(G){n&&a(n(G,O))};if(ne)return null;var J="".concat($,"-prev-btn"),Z="".concat($,"-next-btn"),A="".concat($,"-super-prev-btn"),Y="".concat($,"-super-next-btn");return v.createElement("div",{className:$},n&&v.createElement("button",{type:"button","aria-label":P.previousYear,onClick:function(){return T(-1)},tabIndex:-1,className:zs(A,te&&"".concat(A,"-disabled")),disabled:te,style:F?_v:{}},S),t&&v.createElement("button",{type:"button","aria-label":P.previousMonth,onClick:function(){return q(-1)},tabIndex:-1,className:zs(J,X&&"".concat(J,"-disabled")),disabled:X,style:F?_v:{}},f),v.createElement("div",{className:"".concat($,"-view")},o),t&&v.createElement("button",{type:"button","aria-label":P.nextMonth,onClick:function(){return q(1)},tabIndex:-1,className:zs(Z,se&&"".concat(Z,"-disabled")),disabled:se,style:H?_v:{}},b),n&&v.createElement("button",{type:"button","aria-label":P.nextYear,onClick:function(){return T(1)},tabIndex:-1,className:zs(Y,V&&"".concat(Y,"-disabled")),disabled:V,style:H?_v:{}},N))}function ky(e){var t=e.prefixCls,n=e.panelName,a=n===void 0?"date":n,r=e.locale,i=e.generateConfig,o=e.pickerValue,c=e.onPickerValueChange,l=e.onModeChange,d=e.mode,f=d===void 0?"date":d,g=e.disabledDate,b=e.onSelect,w=e.onHover,S=e.showWeek,j="".concat(t,"-").concat(a,"-panel"),N="".concat(t,"-cell"),I=f==="week",M=tp(e,f),B=St(M,2),P=B[0],O=B[1],R=i.locale.getWeekFirstDay(r.locale),$=i.setDate(o,1),U=xnt(r.locale,i,$),F=i.getMonth(o),H=S===void 0?I:S,ne=H?function(K){var G=g==null?void 0:g(K,{type:"week"});return v.createElement("td",{key:"week",className:zs(N,"".concat(N,"-week"),pt({},"".concat(N,"-disabled"),G)),onClick:function(){G||b(K)},onMouseEnter:function(){G||w==null||w(K)},onMouseLeave:function(){G||w==null||w(null)}},v.createElement("div",{className:"".concat(N,"-inner")},i.locale.getWeek(r.locale,K)))}:null,X=[],te=r.shortWeekDays||(i.locale.getShortWeekDays?i.locale.getShortWeekDays(r.locale):[]);ne&&X.push(v.createElement("th",{key:"empty"},v.createElement("span",{style:{width:0,height:0,position:"absolute",overflow:"hidden",opacity:0}},r.week)));for(var se=0;se<lS;se+=1)X.push(v.createElement("th",{key:se},te[(se+R)%lS]));var V=function(G,oe){return i.addDate(G,oe)},q=function(G){return Di(G,{locale:r,format:r.cellDateFormat,generateConfig:i})},T=function(G){var oe=pt(pt({},"".concat(t,"-cell-in-view"),q4(i,G,o)),"".concat(t,"-cell-today"),U4(i,G,O));return oe},J=r.shortMonths||(i.locale.getShortMonths?i.locale.getShortMonths(r.locale):[]),Z=v.createElement("button",{type:"button","aria-label":r.yearSelect,key:"year",onClick:function(){l("year",o)},tabIndex:-1,className:"".concat(t,"-year-btn")},Di(o,{locale:r,format:r.yearFormat,generateConfig:i})),A=v.createElement("button",{type:"button","aria-label":r.monthSelect,key:"month",onClick:function(){l("month",o)},tabIndex:-1,className:"".concat(t,"-month-btn")},r.monthFormat?Di(o,{locale:r,format:r.monthFormat,generateConfig:i}):J[F]),Y=r.monthBeforeYear?[A,Z]:[Z,A];return v.createElement(Xh.Provider,{value:P},v.createElement("div",{className:zs(j,S&&"".concat(j,"-show-week"))},v.createElement(np,{offset:function(G){return i.addMonth(o,G)},superOffset:function(G){return i.addYear(o,G)},onChange:c,getStart:function(G){return i.setDate(G,1)},getEnd:function(G){var oe=i.setDate(G,1);return oe=i.addMonth(oe,1),i.addDate(oe,-1)}},Y),v.createElement(E0,Ns({titleFormat:r.fieldDateFormat},e,{colNum:lS,rowNum:6,baseDate:U,headerCells:X,getCellDate:V,getCellText:q,getCellClassName:T,prefixColumn:ne,cellSelection:!I}))))}var Dnt=1/3;function Tnt(e,t){var n=v.useRef(!1),a=v.useRef(null),r=v.useRef(null),i=function(){return n.current},o=function(){Ki.cancel(a.current),n.current=!1},c=v.useRef(),l=function(){var g=e.current;if(r.current=null,c.current=0,g){var b=g.querySelector('[data-value="'.concat(t,'"]')),w=g.querySelector("li"),S=function j(){o(),n.current=!0,c.current+=1;var N=g.scrollTop,I=w.offsetTop,M=b.offsetTop,B=M-I;if(M===0&&b!==w||!O4(g)){c.current<=5&&(a.current=Ki(j));return}var P=N+(B-N)*Dnt,O=Math.abs(B-P);if(r.current!==null&&r.current<O){o();return}if(r.current=O,O<=1){g.scrollTop=B,o();return}g.scrollTop=P,a.current=Ki(j)};b&&w&&S()}},d=Za(l);return[d,o,i]}var Ant=300;function Mnt(e){return e.map(function(t){var n=t.value,a=t.label,r=t.disabled;return[n,a,r].join(",")}).join(";")}function b1(e){var t=e.units,n=e.value,a=e.optionalValue,r=e.type,i=e.onChange,o=e.onHover,c=e.onDblClick,l=e.changeOnScroll,d=Ey(),f=d.prefixCls,g=d.cellRender,b=d.now,w=d.locale,S="".concat(f,"-time-panel"),j="".concat(f,"-time-panel-cell"),N=v.useRef(null),I=v.useRef(),M=function(){clearTimeout(I.current)},B=Tnt(N,n??a),P=St(B,3),O=P[0],R=P[1],$=P[2];Pr(function(){return O(),M(),function(){R(),M()}},[n,a,Mnt(t)]);var U=function(ne){M();var X=ne.target;!$()&&l&&(I.current=setTimeout(function(){var te=N.current,se=te.querySelector("li").offsetTop,V=Array.from(te.querySelectorAll("li")),q=V.map(function(Y){return Y.offsetTop-se}),T=q.map(function(Y,K){return t[K].disabled?Number.MAX_SAFE_INTEGER:Math.abs(Y-X.scrollTop)}),J=Math.min.apply(Math,fs(T)),Z=T.findIndex(function(Y){return Y===J}),A=t[Z];A&&!A.disabled&&i(A.value)},Ant))},F="".concat(S,"-column");return v.createElement("ul",{className:F,ref:N,"data-type":r,onScroll:U},t.map(function(H){var ne=H.label,X=H.value,te=H.disabled,se=v.createElement("div",{className:"".concat(j,"-inner")},ne);return v.createElement("li",{key:X,className:zs(j,pt(pt({},"".concat(j,"-selected"),n===X),"".concat(j,"-disabled"),te)),onClick:function(){te||i(X)},onDoubleClick:function(){!te&&c&&c()},onMouseEnter:function(){o(X)},onMouseLeave:function(){o(null)},"data-value":X},g?g(X,{prefixCls:f,originNode:se,today:b,type:"time",subType:r,locale:w}):se)}))}function ad(e){return e<12}function Rnt(e){var t=e.showHour,n=e.showMinute,a=e.showSecond,r=e.showMillisecond,i=e.use12Hours,o=e.changeOnScroll,c=Ey(),l=c.prefixCls,d=c.values,f=c.generateConfig,g=c.locale,b=c.onSelect,w=c.onHover,S=w===void 0?function(){}:w,j=c.pickerValue,N=(d==null?void 0:d[0])||null,I=v.useContext(wd),M=I.onCellDblClick,B=Y4(f,e,N),P=St(B,5),O=P[0],R=P[1],$=P[2],U=P[3],F=P[4],H=function(Mt){var pn=N&&f[Mt](N),Gn=j&&f[Mt](j);return[pn,Gn]},ne=H("getHour"),X=St(ne,2),te=X[0],se=X[1],V=H("getMinute"),q=St(V,2),T=q[0],J=q[1],Z=H("getSecond"),A=St(Z,2),Y=A[0],K=A[1],G=H("getMillisecond"),oe=St(G,2),ee=oe[0],ae=oe[1],ie=te===null?null:ad(te)?"am":"pm",ue=v.useMemo(function(){return i?ad(te)?R.filter(function(ct){return ad(ct.value)}):R.filter(function(ct){return!ad(ct.value)}):R},[te,R,i]),he=function(Mt,pn){var Gn,bt=Mt.filter(function(ln){return!ln.disabled});return pn??(bt==null||(Gn=bt[0])===null||Gn===void 0?void 0:Gn.value)},ge=he(R,te),ye=v.useMemo(function(){return $(ge)},[$,ge]),je=he(ye,T),Ie=v.useMemo(function(){return U(ge,je)},[U,ge,je]),me=he(Ie,Y),de=v.useMemo(function(){return F(ge,je,me)},[F,ge,je,me]),fe=he(de,ee),re=v.useMemo(function(){if(!i)return[];var ct=f.getNow(),Mt=f.setHour(ct,6),pn=f.setHour(ct,18),Gn=function(ln,fn){var wn=g.cellMeridiemFormat;return wn?Di(ln,{generateConfig:f,locale:g,format:wn}):fn};return[{label:Gn(Mt,"AM"),value:"am",disabled:R.every(function(bt){return bt.disabled||!ad(bt.value)})},{label:Gn(pn,"PM"),value:"pm",disabled:R.every(function(bt){return bt.disabled||ad(bt.value)})}]},[R,i,f,g]),xe=function(Mt){var pn=O(Mt);b(pn)},Se=v.useMemo(function(){var ct=N||j||f.getNow(),Mt=function(Gn){return Gn!=null};return Mt(te)?(ct=f.setHour(ct,te),ct=f.setMinute(ct,T),ct=f.setSecond(ct,Y),ct=f.setMillisecond(ct,ee)):Mt(se)?(ct=f.setHour(ct,se),ct=f.setMinute(ct,J),ct=f.setSecond(ct,K),ct=f.setMillisecond(ct,ae)):Mt(ge)&&(ct=f.setHour(ct,ge),ct=f.setMinute(ct,je),ct=f.setSecond(ct,me),ct=f.setMillisecond(ct,fe)),ct},[N,j,te,T,Y,ee,ge,je,me,fe,se,J,K,ae,f]),pe=function(Mt,pn){return Mt===null?null:f[pn](Se,Mt)},Ee=function(Mt){return pe(Mt,"setHour")},Le=function(Mt){return pe(Mt,"setMinute")},Ue=function(Mt){return pe(Mt,"setSecond")},Ne=function(Mt){return pe(Mt,"setMillisecond")},et=function(Mt){return Mt===null?null:Mt==="am"&&!ad(te)?f.setHour(Se,te-12):Mt==="pm"&&ad(te)?f.setHour(Se,te+12):Se},dt=function(Mt){xe(Ee(Mt))},_e=function(Mt){xe(Le(Mt))},tt=function(Mt){xe(Ue(Mt))},Fe=function(Mt){xe(Ne(Mt))},It=function(Mt){xe(et(Mt))},Xe=function(Mt){S(Ee(Mt))},le=function(Mt){S(Le(Mt))},Ae=function(Mt){S(Ue(Mt))},be=function(Mt){S(Ne(Mt))},We=function(Mt){S(et(Mt))},st={onDblClick:M,changeOnScroll:o};return v.createElement("div",{className:"".concat(l,"-content")},t&&v.createElement(b1,Ns({units:ue,value:te,optionalValue:se,type:"hour",onChange:dt,onHover:Xe},st)),n&&v.createElement(b1,Ns({units:ye,value:T,optionalValue:J,type:"minute",onChange:_e,onHover:le},st)),a&&v.createElement(b1,Ns({units:Ie,value:Y,optionalValue:K,type:"second",onChange:tt,onHover:Ae},st)),r&&v.createElement(b1,Ns({units:de,value:ee,optionalValue:ae,type:"millisecond",onChange:Fe,onHover:be},st)),i&&v.createElement(b1,Ns({units:re,value:ie,type:"meridiem",onChange:It,onHover:We},st)))}function cF(e){var t=e.prefixCls,n=e.value,a=e.locale,r=e.generateConfig,i=e.showTime,o=i||{},c=o.format,l="".concat(t,"-time-panel"),d=tp(e,"time"),f=St(d,1),g=f[0];return v.createElement(Xh.Provider,{value:g},v.createElement("div",{className:zs(l)},v.createElement(np,null,n?Di(n,{locale:a,format:c,generateConfig:r}):""),v.createElement(Rnt,i)))}function Ont(e){var t=e.prefixCls,n=e.generateConfig,a=e.showTime,r=e.onSelect,i=e.value,o=e.pickerValue,c=e.onHover,l="".concat(t,"-datetime-panel"),d=Y4(n,a),f=St(d,1),g=f[0],b=function(N){return i?_b(n,N,i):_b(n,N,o)},w=function(N){c==null||c(N&&b(N))},S=function(N){var I=b(N);r(g(I,I))};return v.createElement("div",{className:l},v.createElement(ky,Ns({},e,{onSelect:S,onHover:w})),v.createElement(cF,e))}function Bnt(e){var t=e.prefixCls,n=e.locale,a=e.generateConfig,r=e.pickerValue,i=e.disabledDate,o=e.onPickerValueChange,c="".concat(t,"-decade-panel"),l=tp(e,"decade"),d=St(l,1),f=d[0],g=function(R){var $=Math.floor(a.getYear(R)/100)*100;return a.setYear(R,$)},b=function(R){var $=g(R);return a.addYear($,99)},w=g(r),S=b(r),j=a.addYear(w,-10),N=function(R,$){return a.addYear(R,$*10)},I=function(R){var $=n.cellYearFormat,U=Di(R,{locale:n,format:$,generateConfig:a}),F=Di(a.addYear(R,9),{locale:n,format:$,generateConfig:a});return"".concat(U,"-").concat(F)},M=function(R){return pt({},"".concat(t,"-cell-in-view"),AN(a,R,w)||AN(a,R,S)||Ny(a,w,S,R))},B=i?function(O,R){var $=a.setDate(O,1),U=a.setMonth($,0),F=a.setYear(U,Math.floor(a.getYear(U)/10)*10),H=a.addYear(F,10),ne=a.addDate(H,-1);return i(F,R)&&i(ne,R)}:null,P="".concat(Di(w,{locale:n,format:n.yearFormat,generateConfig:a}),"-").concat(Di(S,{locale:n,format:n.yearFormat,generateConfig:a}));return v.createElement(Xh.Provider,{value:f},v.createElement("div",{className:c},v.createElement(np,{superOffset:function(R){return a.addYear(r,R*100)},onChange:o,getStart:g,getEnd:b},P),v.createElement(E0,Ns({},e,{disabledDate:B,colNum:3,rowNum:4,baseDate:j,getCellDate:N,getCellText:I,getCellClassName:M}))))}function Lnt(e){var t=e.prefixCls,n=e.locale,a=e.generateConfig,r=e.pickerValue,i=e.disabledDate,o=e.onPickerValueChange,c=e.onModeChange,l="".concat(t,"-month-panel"),d=tp(e,"month"),f=St(d,1),g=f[0],b=a.setMonth(r,0),w=n.shortMonths||(a.locale.getShortMonths?a.locale.getShortMonths(n.locale):[]),S=function(P,O){return a.addMonth(P,O)},j=function(P){var O=a.getMonth(P);return n.monthFormat?Di(P,{locale:n,format:n.monthFormat,generateConfig:a}):w[O]},N=function(){return pt({},"".concat(t,"-cell-in-view"),!0)},I=i?function(B,P){var O=a.setDate(B,1),R=a.setMonth(O,a.getMonth(O)+1),$=a.addDate(R,-1);return i(O,P)&&i($,P)}:null,M=v.createElement("button",{type:"button",key:"year","aria-label":n.yearSelect,onClick:function(){c("year")},tabIndex:-1,className:"".concat(t,"-year-btn")},Di(r,{locale:n,format:n.yearFormat,generateConfig:a}));return v.createElement(Xh.Provider,{value:g},v.createElement("div",{className:l},v.createElement(np,{superOffset:function(P){return a.addYear(r,P)},onChange:o,getStart:function(P){return a.setMonth(P,0)},getEnd:function(P){return a.setMonth(P,11)}},M),v.createElement(E0,Ns({},e,{disabledDate:I,titleFormat:n.fieldMonthFormat,colNum:3,rowNum:4,baseDate:b,getCellDate:S,getCellText:j,getCellClassName:N}))))}function $nt(e){var t=e.prefixCls,n=e.locale,a=e.generateConfig,r=e.pickerValue,i=e.onPickerValueChange,o=e.onModeChange,c="".concat(t,"-quarter-panel"),l=tp(e,"quarter"),d=St(l,1),f=d[0],g=a.setMonth(r,0),b=function(I,M){return a.addMonth(I,M*3)},w=function(I){return Di(I,{locale:n,format:n.cellQuarterFormat,generateConfig:a})},S=function(){return pt({},"".concat(t,"-cell-in-view"),!0)},j=v.createElement("button",{type:"button",key:"year","aria-label":n.yearSelect,onClick:function(){o("year")},tabIndex:-1,className:"".concat(t,"-year-btn")},Di(r,{locale:n,format:n.yearFormat,generateConfig:a}));return v.createElement(Xh.Provider,{value:f},v.createElement("div",{className:c},v.createElement(np,{superOffset:function(I){return a.addYear(r,I)},onChange:i,getStart:function(I){return a.setMonth(I,0)},getEnd:function(I){return a.setMonth(I,11)}},j),v.createElement(E0,Ns({},e,{titleFormat:n.fieldQuarterFormat,colNum:4,rowNum:1,baseDate:g,getCellDate:b,getCellText:w,getCellClassName:S}))))}function Pnt(e){var t=e.prefixCls,n=e.generateConfig,a=e.locale,r=e.value,i=e.hoverValue,o=e.hoverRangeValue,c=a.locale,l="".concat(t,"-week-panel-row"),d=function(g){var b={};if(o){var w=St(o,2),S=w[0],j=w[1],N=z1(n,c,S,g),I=z1(n,c,j,g);b["".concat(l,"-range-start")]=N,b["".concat(l,"-range-end")]=I,b["".concat(l,"-range-hover")]=!N&&!I&&Ny(n,S,j,g)}return i&&(b["".concat(l,"-hover")]=i.some(function(M){return z1(n,c,g,M)})),zs(l,pt({},"".concat(l,"-selected"),!o&&z1(n,c,r,g)),b)};return v.createElement(ky,Ns({},e,{mode:"week",panelName:"week",rowClassName:d}))}function Fnt(e){var t=e.prefixCls,n=e.locale,a=e.generateConfig,r=e.pickerValue,i=e.disabledDate,o=e.onPickerValueChange,c=e.onModeChange,l="".concat(t,"-year-panel"),d=tp(e,"year"),f=St(d,1),g=f[0],b=function($){var U=Math.floor(a.getYear($)/10)*10;return a.setYear($,U)},w=function($){var U=b($);return a.addYear(U,9)},S=b(r),j=w(r),N=a.addYear(S,-1),I=function($,U){return a.addYear($,U)},M=function($){return Di($,{locale:n,format:n.cellYearFormat,generateConfig:a})},B=function($){return pt({},"".concat(t,"-cell-in-view"),Vh(a,$,S)||Vh(a,$,j)||Ny(a,S,j,$))},P=i?function(R,$){var U=a.setMonth(R,0),F=a.setDate(U,1),H=a.addYear(F,1),ne=a.addDate(H,-1);return i(F,$)&&i(ne,$)}:null,O=v.createElement("button",{type:"button",key:"decade","aria-label":n.decadeSelect,onClick:function(){c("decade")},tabIndex:-1,className:"".concat(t,"-decade-btn")},Di(S,{locale:n,format:n.yearFormat,generateConfig:a}),"-",Di(j,{locale:n,format:n.yearFormat,generateConfig:a}));return v.createElement(Xh.Provider,{value:g},v.createElement("div",{className:l},v.createElement(np,{superOffset:function($){return a.addYear(r,$*10)},onChange:o,getStart:b,getEnd:w},O),v.createElement(E0,Ns({},e,{disabledDate:P,titleFormat:n.fieldYearFormat,colNum:3,rowNum:4,baseDate:N,getCellDate:I,getCellText:M,getCellClassName:B}))))}var Hnt={date:ky,datetime:Ont,week:Pnt,month:Lnt,quarter:$nt,year:Fnt,decade:Bnt,time:cF};function znt(e,t){var n,a=e.locale,r=e.generateConfig,i=e.direction,o=e.prefixCls,c=e.tabIndex,l=c===void 0?0:c,d=e.multiple,f=e.defaultValue,g=e.value,b=e.onChange,w=e.onSelect,S=e.defaultPickerValue,j=e.pickerValue,N=e.onPickerValueChange,I=e.mode,M=e.onPanelChange,B=e.picker,P=B===void 0?"date":B,O=e.showTime,R=e.hoverValue,$=e.hoverRangeValue,U=e.cellRender,F=e.dateRender,H=e.monthCellRender,ne=e.components,X=ne===void 0?{}:ne,te=e.hideHeader,se=((n=v.useContext(Zc))===null||n===void 0?void 0:n.prefixCls)||o||"rc-picker",V=v.useRef();v.useImperativeHandle(t,function(){return{nativeElement:V.current}});var q=UP(e),T=St(q,4),J=T[0],Z=T[1],A=T[2],Y=T[3],K=zP(a,Z),G=P==="date"&&O?"datetime":P,oe=v.useMemo(function(){return WP(G,A,Y,J,K)},[G,A,Y,J,K]),ee=r.getNow(),ae=Il(P,{value:I,postState:function(We){return We||"date"}}),ie=St(ae,2),ue=ie[0],he=ie[1],ge=ue==="date"&&oe?"datetime":ue,ye=oF(r,a,G),je=Il(f,{value:g}),Ie=St(je,2),me=Ie[0],de=Ie[1],fe=v.useMemo(function(){var be=Qh(me).filter(function(We){return We});return d?be:be.slice(0,1)},[me,d]),re=Za(function(be){de(be),b&&(be===null||fe.length!==be.length||fe.some(function(We,st){return!uo(r,a,We,be[st],G)}))&&(b==null||b(d?be:be[0]))}),xe=Za(function(be){if(w==null||w(be),ue===P){var We=d?ye(fe,be):[be];re(We)}}),Se=Il(S||fe[0]||ee,{value:j}),pe=St(Se,2),Ee=pe[0],Le=pe[1];v.useEffect(function(){fe[0]&&!j&&Le(fe[0])},[fe[0]]);var Ue=function(We,st){M==null||M(We||j,st||ue)},Ne=function(We){var st=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;Le(We),N==null||N(We),st&&Ue(We)},et=function(We,st){he(We),st&&Ne(st),Ue(st,We)},dt=function(We){if(xe(We),Ne(We),ue!==P){var st=["decade","year"],ct=[].concat(st,["month"]),Mt={quarter:[].concat(st,["quarter"]),week:[].concat(fs(ct),["week"]),date:[].concat(fs(ct),["date"])},pn=Mt[P]||ct,Gn=pn.indexOf(ue),bt=pn[Gn+1];bt&&et(bt,We)}},_e=v.useMemo(function(){var be,We;if(Array.isArray($)){var st=St($,2);be=st[0],We=st[1]}else be=$;return!be&&!We?null:(be=be||We,We=We||be,r.isAfter(be,We)?[We,be]:[be,We])},[$,r]),tt=V4(U,F,H),Fe=X[ge]||Hnt[ge]||ky,It=v.useContext(wd),Xe=v.useMemo(function(){return vt(vt({},It),{},{hideHeader:te})},[It,te]),le="".concat(se,"-panel"),Ae=jy(e,["showWeek","prevIcon","nextIcon","superPrevIcon","superNextIcon","disabledDate","minDate","maxDate","onHover"]);return v.createElement(wd.Provider,{value:Xe},v.createElement("div",{ref:V,tabIndex:l,className:zs(le,pt({},"".concat(le,"-rtl"),i==="rtl"))},v.createElement(Fe,Ns({},Ae,{showTime:oe,prefixCls:se,locale:K,generateConfig:r,onModeChange:et,pickerValue:Ee,onPickerValueChange:function(We){Ne(We,!0)},value:fe[0],onSelect:dt,values:fe,cellRender:tt,hoverRangeValue:_e,hoverValue:R}))))}var dS=v.memo(v.forwardRef(znt));function Vnt(e){var t=e.picker,n=e.multiplePanel,a=e.pickerValue,r=e.onPickerValueChange,i=e.needConfirm,o=e.onSubmit,c=e.range,l=e.hoverValue,d=v.useContext(Zc),f=d.prefixCls,g=d.generateConfig,b=v.useCallback(function(M,B){return V1(g,t,M,B)},[g,t]),w=v.useMemo(function(){return b(a,1)},[a,b]),S=function(B){r(b(B,-1))},j={onCellDblClick:function(){i&&o()}},N=t==="time",I=vt(vt({},e),{},{hoverValue:null,hoverRangeValue:null,hideHeader:N});return c?I.hoverRangeValue=l:I.hoverValue=l,n?v.createElement("div",{className:"".concat(f,"-panels")},v.createElement(wd.Provider,{value:vt(vt({},j),{},{hideNext:!0})},v.createElement(dS,I)),v.createElement(wd.Provider,{value:vt(vt({},j),{},{hidePrev:!0})},v.createElement(dS,Ns({},I,{pickerValue:w,onPickerValueChange:S})))):v.createElement(wd.Provider,{value:vt({},j)},v.createElement(dS,I))}function z9(e){return typeof e=="function"?e():e}function qnt(e){var t=e.prefixCls,n=e.presets,a=e.onClick,r=e.onHover;return n.length?v.createElement("div",{className:"".concat(t,"-presets")},v.createElement("ul",null,n.map(function(i,o){var c=i.label,l=i.value;return v.createElement("li",{key:o,onClick:function(){a(z9(l))},onMouseEnter:function(){r(z9(l))},onMouseLeave:function(){r(null)}},c)}))):null}function lF(e){var t=e.panelRender,n=e.internalMode,a=e.picker,r=e.showNow,i=e.range,o=e.multiple,c=e.activeInfo,l=c===void 0?[0,0,0]:c,d=e.presets,f=e.onPresetHover,g=e.onPresetSubmit,b=e.onFocus,w=e.onBlur,S=e.onPanelMouseDown,j=e.direction,N=e.value,I=e.onSelect,M=e.isInvalid,B=e.defaultOpenValue,P=e.onOk,O=e.onSubmit,R=v.useContext(Zc),$=R.prefixCls,U="".concat($,"-panel"),F=j==="rtl",H=v.useRef(null),ne=v.useRef(null),X=v.useState(0),te=St(X,2),se=te[0],V=te[1],q=v.useState(0),T=St(q,2),J=T[0],Z=T[1],A=v.useState(0),Y=St(A,2),K=Y[0],G=Y[1],oe=function(dt){dt.width&&V(dt.width)},ee=St(l,3),ae=ee[0],ie=ee[1],ue=ee[2],he=v.useState(0),ge=St(he,2),ye=ge[0],je=ge[1];v.useEffect(function(){je(10)},[ae]),v.useEffect(function(){if(i&&ne.current){var et,dt=((et=H.current)===null||et===void 0?void 0:et.offsetWidth)||0,_e=ne.current.getBoundingClientRect();if(!_e.height||_e.right<0){je(function(Xe){return Math.max(0,Xe-1)});return}var tt=(F?ie-dt:ae)-_e.left;if(G(tt),se&&se<ue){var Fe=F?_e.right-(ie-dt+se):ae+dt-_e.left-se,It=Math.max(0,Fe);Z(It)}else Z(0)}},[ye,F,se,ae,ie,ue,i]);function Ie(et){return et.filter(function(dt){return dt})}var me=v.useMemo(function(){return Ie(Qh(N))},[N]),de=a==="time"&&!me.length,fe=v.useMemo(function(){return de?Ie([B]):me},[de,me,B]),re=de?B:me,xe=v.useMemo(function(){return fe.length?fe.some(function(et){return M(et)}):!0},[fe,M]),Se=function(){de&&I(B),P(),O()},pe=v.createElement("div",{className:"".concat($,"-panel-layout")},v.createElement(qnt,{prefixCls:$,presets:d,onClick:g,onHover:f}),v.createElement("div",null,v.createElement(Vnt,Ns({},e,{value:re})),v.createElement(Int,Ns({},e,{showNow:o?!1:r,invalid:xe,onSubmit:Se}))));t&&(pe=t(pe));var Ee="".concat(U,"-container"),Le="marginLeft",Ue="marginRight",Ne=v.createElement("div",{onMouseDown:S,tabIndex:-1,className:zs(Ee,"".concat($,"-").concat(n,"-panel-container")),style:pt(pt({},F?Ue:Le,J),F?Le:Ue,"auto"),onFocus:b,onBlur:w},pe);return i&&(Ne=v.createElement("div",{onMouseDown:S,ref:ne,className:zs("".concat($,"-range-wrapper"),"".concat($,"-").concat(a,"-range-wrapper"))},v.createElement("div",{ref:H,className:"".concat($,"-range-arrow"),style:{left:K}}),v.createElement(Wh,{onResize:oe},Ne))),Ne}function uF(e,t){var n=e.format,a=e.maskFormat,r=e.generateConfig,i=e.locale,o=e.preserveInvalidOnBlur,c=e.inputReadOnly,l=e.required,d=e["aria-required"],f=e.onSubmit,g=e.onFocus,b=e.onBlur,w=e.onInputChange,S=e.onInvalid,j=e.open,N=e.onOpenChange,I=e.onKeyDown,M=e.onChange,B=e.activeHelp,P=e.name,O=e.autoComplete,R=e.id,$=e.value,U=e.invalid,F=e.placeholder,H=e.disabled,ne=e.activeIndex,X=e.allHelp,te=e.picker,se=function(K,G){var oe=r.locale.parse(i.locale,K,[G]);return oe&&r.isValidate(oe)?oe:null},V=n[0],q=v.useCallback(function(Y){return Di(Y,{locale:i,format:V,generateConfig:r})},[i,r,V]),T=v.useMemo(function(){return $.map(q)},[$,q]),J=v.useMemo(function(){var Y=te==="time"?8:10,K=typeof V=="function"?V(r.getNow()).length:V.length;return Math.max(Y,K)+2},[V,te,r]),Z=function(K){for(var G=0;G<n.length;G+=1){var oe=n[G];if(typeof oe=="string"){var ee=se(K,oe);if(ee)return ee}}return!1},A=function(K){function G(ae){return K!==void 0?ae[K]:ae}var oe=A4(e,{aria:!0,data:!0}),ee=vt(vt({},oe),{},{format:a,validateFormat:function(ie){return!!Z(ie)},preserveInvalidOnBlur:o,readOnly:c,required:l,"aria-required":d,name:P,autoComplete:O,size:J,id:G(R),value:G(T)||"",invalid:G(U),placeholder:G(F),active:ne===K,helped:X||B&&ne===K,disabled:G(H),onFocus:function(ie){g(ie,K)},onBlur:function(ie){b(ie,K)},onSubmit:f,onChange:function(ie){w();var ue=Z(ie);if(ue){S(!1,K),M(ue,K);return}S(!!ie,K)},onHelp:function(){N(!0,{index:K})},onKeyDown:function(ie){var ue=!1;if(I==null||I(ie,function(){ue=!0}),!ie.defaultPrevented&&!ue)switch(ie.key){case"Escape":N(!1,{index:K});break;case"Enter":j||N(!0);break}}},t==null?void 0:t({valueTexts:T}));return Object.keys(ee).forEach(function(ae){ee[ae]===void 0&&delete ee[ae]}),ee};return[A,q]}var Unt=["onMouseEnter","onMouseLeave"];function dF(e){return v.useMemo(function(){return jy(e,Unt)},[e])}var Wnt=["icon","type"],Ynt=["onClear"];function Iy(e){var t=e.icon,n=e.type,a=ai(e,Wnt),r=v.useContext(Zc),i=r.prefixCls;return t?v.createElement("span",Ns({className:"".concat(i,"-").concat(n)},a),t):null}function MN(e){var t=e.onClear,n=ai(e,Ynt);return v.createElement(Iy,Ns({},n,{type:"clear",role:"button",onMouseDown:function(r){r.preventDefault()},onClick:function(r){r.stopPropagation(),t()}}))}var hS=["YYYY","MM","DD","HH","mm","ss","SSS"],V9="",Gnt=function(){function e(t){Mi(this,e),pt(this,"format",void 0),pt(this,"maskFormat",void 0),pt(this,"cells",void 0),pt(this,"maskCells",void 0),this.format=t;var n=hS.map(function(c){return"(".concat(c,")")}).join("|"),a=new RegExp(n,"g");this.maskFormat=t.replace(a,function(c){return V9.repeat(c.length)});var r=new RegExp("(".concat(hS.join("|"),")")),i=(t.split(r)||[]).filter(function(c){return c}),o=0;this.cells=i.map(function(c){var l=hS.includes(c),d=o,f=o+c.length;return o=f,{text:c,mask:l,start:d,end:f}}),this.maskCells=this.cells.filter(function(c){return c.mask})}return Ri(e,[{key:"getSelection",value:function(n){var a=this.maskCells[n]||{},r=a.start,i=a.end;return[r||0,i||0]}},{key:"match",value:function(n){for(var a=0;a<this.maskFormat.length;a+=1){var r=this.maskFormat[a],i=n[a];if(!i||r!==V9&&r!==i)return!1}return!0}},{key:"size",value:function(){return this.maskCells.length}},{key:"getMaskCellIndex",value:function(n){for(var a=Number.MAX_SAFE_INTEGER,r=0,i=0;i<this.maskCells.length;i+=1){var o=this.maskCells[i],c=o.start,l=o.end;if(n>=c&&n<=l)return i;var d=Math.min(Math.abs(n-c),Math.abs(n-l));d<a&&(a=d,r=i)}return r}}]),e}();function Qnt(e){var t={YYYY:[0,9999,new Date().getFullYear()],MM:[1,12],DD:[1,31],HH:[0,23],mm:[0,59],ss:[0,59],SSS:[0,999]};return t[e]}var Xnt=["active","showActiveCls","suffixIcon","format","validateFormat","onChange","onInput","helped","onHelp","onSubmit","onKeyDown","preserveInvalidOnBlur","invalid","clearIcon"],RN=v.forwardRef(function(e,t){var n=e.active,a=e.showActiveCls,r=a===void 0?!0:a,i=e.suffixIcon,o=e.format,c=e.validateFormat,l=e.onChange;e.onInput;var d=e.helped,f=e.onHelp,g=e.onSubmit,b=e.onKeyDown,w=e.preserveInvalidOnBlur,S=w===void 0?!1:w,j=e.invalid,N=e.clearIcon,I=ai(e,Xnt),M=e.value,B=e.onFocus,P=e.onBlur,O=e.onMouseUp,R=v.useContext(Zc),$=R.prefixCls,U=R.input,F=U===void 0?"input":U,H="".concat($,"-input"),ne=v.useState(!1),X=St(ne,2),te=X[0],se=X[1],V=v.useState(M),q=St(V,2),T=q[0],J=q[1],Z=v.useState(""),A=St(Z,2),Y=A[0],K=A[1],G=v.useState(null),oe=St(G,2),ee=oe[0],ae=oe[1],ie=v.useState(null),ue=St(ie,2),he=ue[0],ge=ue[1],ye=T||"";v.useEffect(function(){J(M)},[M]);var je=v.useRef(),Ie=v.useRef();v.useImperativeHandle(t,function(){return{nativeElement:je.current,inputElement:Ie.current,focus:function(be){Ie.current.focus(be)},blur:function(){Ie.current.blur()}}});var me=v.useMemo(function(){return new Gnt(o||"")},[o]),de=v.useMemo(function(){return d?[0,0]:me.getSelection(ee)},[me,ee,d]),fe=St(de,2),re=fe[0],xe=fe[1],Se=function(be){be&&be!==o&&be!==M&&f()},pe=Za(function(Ae){c(Ae)&&l(Ae),J(Ae),Se(Ae)}),Ee=function(be){if(!o){var We=be.target.value;Se(We),J(We),l(We)}},Le=function(be){var We=be.clipboardData.getData("text");c(We)&&pe(We)},Ue=v.useRef(!1),Ne=function(){Ue.current=!0},et=function(be){var We=be.target,st=We.selectionStart,ct=me.getMaskCellIndex(st);ae(ct),ge({}),O==null||O(be),Ue.current=!1},dt=function(be){se(!0),ae(0),K(""),B(be)},_e=function(be){P(be)},tt=function(be){se(!1),_e(be)};W4(n,function(){!n&&!S&&J(M)});var Fe=function(be){be.key==="Enter"&&c(ye)&&g(),b==null||b(be)},It=function(be){Fe(be);var We=be.key,st=null,ct=null,Mt=xe-re,pn=o.slice(re,xe),Gn=function(wn){ae(function(ut){var Et=ut+wn;return Et=Math.max(Et,0),Et=Math.min(Et,me.size()-1),Et})},bt=function(wn){var ut=Qnt(pn),Et=St(ut,3),nt=Et[0],Rt=Et[1],Lt=Et[2],on=ye.slice(re,xe),vn=Number(on);if(isNaN(vn))return String(Lt||(wn>0?nt:Rt));var ns=vn+wn,us=Rt-nt+1;return String(nt+(us+ns-nt)%us)};switch(We){case"Backspace":case"Delete":st="",ct=pn;break;case"ArrowLeft":st="",Gn(-1);break;case"ArrowRight":st="",Gn(1);break;case"ArrowUp":st="",ct=bt(1);break;case"ArrowDown":st="",ct=bt(-1);break;default:isNaN(Number(We))||(st=Y+We,ct=st);break}if(st!==null&&(K(st),st.length>=Mt&&(Gn(1),K(""))),ct!==null){var ln=ye.slice(0,re)+z4(ct,Mt)+ye.slice(xe);pe(ln.slice(0,o.length))}ge({})},Xe=v.useRef();Pr(function(){if(!(!te||!o||Ue.current)){if(!me.match(ye)){pe(o);return}return Ie.current.setSelectionRange(re,xe),Xe.current=Ki(function(){Ie.current.setSelectionRange(re,xe)}),function(){Ki.cancel(Xe.current)}}},[me,o,te,ye,ee,re,xe,he,pe]);var le=o?{onFocus:dt,onBlur:tt,onKeyDown:It,onMouseDown:Ne,onMouseUp:et,onPaste:Le}:{};return v.createElement("div",{ref:je,className:zs(H,pt(pt({},"".concat(H,"-active"),n&&r),"".concat(H,"-placeholder"),d))},v.createElement(F,Ns({ref:Ie,"aria-invalid":j,autoComplete:"off"},I,{onKeyDown:Fe,onBlur:_e},le,{value:ye,onChange:Ee})),v.createElement(Iy,{type:"suffix",icon:i}),N)}),Knt=["id","prefix","clearIcon","suffixIcon","separator","activeIndex","activeHelp","allHelp","focused","onFocus","onBlur","onKeyDown","locale","generateConfig","placeholder","className","style","onClick","onClear","value","onChange","onSubmit","onInputChange","format","maskFormat","preserveInvalidOnBlur","onInvalid","disabled","invalid","inputReadOnly","direction","onOpenChange","onActiveInfo","placement","onMouseDown","required","aria-required","autoFocus","tabIndex"],Znt=["index"];function Jnt(e,t){var n=e.id,a=e.prefix,r=e.clearIcon,i=e.suffixIcon,o=e.separator,c=o===void 0?"~":o,l=e.activeIndex;e.activeHelp,e.allHelp;var d=e.focused;e.onFocus,e.onBlur,e.onKeyDown,e.locale,e.generateConfig;var f=e.placeholder,g=e.className,b=e.style,w=e.onClick,S=e.onClear,j=e.value;e.onChange,e.onSubmit,e.onInputChange,e.format,e.maskFormat,e.preserveInvalidOnBlur,e.onInvalid;var N=e.disabled,I=e.invalid;e.inputReadOnly;var M=e.direction;e.onOpenChange;var B=e.onActiveInfo;e.placement;var P=e.onMouseDown;e.required,e["aria-required"];var O=e.autoFocus,R=e.tabIndex,$=ai(e,Knt),U=M==="rtl",F=v.useContext(Zc),H=F.prefixCls,ne=v.useMemo(function(){if(typeof n=="string")return[n];var he=n||{};return[he.start,he.end]},[n]),X=v.useRef(),te=v.useRef(),se=v.useRef(),V=function(ge){var ye;return(ye=[te,se][ge])===null||ye===void 0?void 0:ye.current};v.useImperativeHandle(t,function(){return{nativeElement:X.current,focus:function(ge){if(Bs(ge)==="object"){var ye,je=ge||{},Ie=je.index,me=Ie===void 0?0:Ie,de=ai(je,Znt);(ye=V(me))===null||ye===void 0||ye.focus(de)}else{var fe;(fe=V(ge??0))===null||fe===void 0||fe.focus()}},blur:function(){var ge,ye;(ge=V(0))===null||ge===void 0||ge.blur(),(ye=V(1))===null||ye===void 0||ye.blur()}}});var q=dF($),T=v.useMemo(function(){return Array.isArray(f)?f:[f,f]},[f]),J=uF(vt(vt({},e),{},{id:ne,placeholder:T})),Z=St(J,1),A=Z[0],Y=v.useState({position:"absolute",width:0}),K=St(Y,2),G=K[0],oe=K[1],ee=Za(function(){var he=V(l);if(he){var ge=he.nativeElement.getBoundingClientRect(),ye=X.current.getBoundingClientRect(),je=ge.left-ye.left;oe(function(Ie){return vt(vt({},Ie),{},{width:ge.width,left:je})}),B([ge.left,ge.right,ye.width])}});v.useEffect(function(){ee()},[l]);var ae=r&&(j[0]&&!N[0]||j[1]&&!N[1]),ie=O&&!N[0],ue=O&&!ie&&!N[1];return v.createElement(Wh,{onResize:ee},v.createElement("div",Ns({},q,{className:zs(H,"".concat(H,"-range"),pt(pt(pt(pt({},"".concat(H,"-focused"),d),"".concat(H,"-disabled"),N.every(function(he){return he})),"".concat(H,"-invalid"),I.some(function(he){return he})),"".concat(H,"-rtl"),U),g),style:b,ref:X,onClick:w,onMouseDown:function(ge){var ye=ge.target;ye!==te.current.inputElement&&ye!==se.current.inputElement&&ge.preventDefault(),P==null||P(ge)}}),a&&v.createElement("div",{className:"".concat(H,"-prefix")},a),v.createElement(RN,Ns({ref:te},A(0),{autoFocus:ie,tabIndex:R,"date-range":"start"})),v.createElement("div",{className:"".concat(H,"-range-separator")},c),v.createElement(RN,Ns({ref:se},A(1),{autoFocus:ue,tabIndex:R,"date-range":"end"})),v.createElement("div",{className:"".concat(H,"-active-bar"),style:G}),v.createElement(Iy,{type:"suffix",icon:i}),ae&&v.createElement(MN,{icon:r,onClear:S})))}var est=v.forwardRef(Jnt);function q9(e,t){var n=e??t;return Array.isArray(n)?n:[n,n]}function vv(e){return e===1?"end":"start"}function tst(e,t){var n=QP(e,function(){var Ze=e.disabled,Ke=e.allowEmpty,it=q9(Ze,!1),Ut=q9(Ke,!1);return{disabled:it,allowEmpty:Ut}}),a=St(n,6),r=a[0],i=a[1],o=a[2],c=a[3],l=a[4],d=a[5],f=r.prefixCls,g=r.styles,b=r.classNames,w=r.defaultValue,S=r.value,j=r.needConfirm,N=r.onKeyDown,I=r.disabled,M=r.allowEmpty,B=r.disabledDate,P=r.minDate,O=r.maxDate,R=r.defaultOpen,$=r.open,U=r.onOpenChange,F=r.locale,H=r.generateConfig,ne=r.picker,X=r.showNow,te=r.showToday,se=r.showTime,V=r.mode,q=r.onPanelChange,T=r.onCalendarChange,J=r.onOk,Z=r.defaultPickerValue,A=r.pickerValue,Y=r.onPickerValueChange,K=r.inputReadOnly,G=r.suffixIcon,oe=r.onFocus,ee=r.onBlur,ae=r.presets,ie=r.ranges,ue=r.components,he=r.cellRender,ge=r.dateRender,ye=r.monthCellRender,je=r.onClick,Ie=KP(t),me=XP($,R,I,U),de=St(me,2),fe=de[0],re=de[1],xe=function(Ke,it){(I.some(function(Ut){return!Ut})||!Ke)&&re(Ke,it)},Se=aF(H,F,c,!0,!1,w,S,T,J),pe=St(Se,5),Ee=pe[0],Le=pe[1],Ue=pe[2],Ne=pe[3],et=pe[4],dt=Ue(),_e=JP(I,M,fe),tt=St(_e,9),Fe=tt[0],It=tt[1],Xe=tt[2],le=tt[3],Ae=tt[4],be=tt[5],We=tt[6],st=tt[7],ct=tt[8],Mt=function(Ke,it){It(!0),oe==null||oe(Ke,{range:vv(it??le)})},pn=function(Ke,it){It(!1),ee==null||ee(Ke,{range:vv(it??le)})},Gn=v.useMemo(function(){if(!se)return null;var Ze=se.disabledTime,Ke=Ze?function(it){var Ut=vv(le),Ft=$P(dt,We,le);return Ze(it,Ut,{from:Ft})}:void 0;return vt(vt({},se),{},{disabledTime:Ke})},[se,le,dt,We]),bt=Il([ne,ne],{value:V}),ln=St(bt,2),fn=ln[0],wn=ln[1],ut=fn[le]||ne,Et=ut==="date"&&Gn?"datetime":ut,nt=Et===ne&&Et!=="time",Rt=iF(ne,ut,X,te,!0),Lt=rF(r,Ee,Le,Ue,Ne,I,c,Fe,fe,d),on=St(Lt,2),vn=on[0],ns=on[1],us=jnt(dt,I,We,H,F,B),_s=FP(dt,d,M),ds=St(_s,2),Pn=ds[0],Xt=ds[1],ra=eF(H,F,dt,fn,fe,le,i,nt,Z,A,Gn==null?void 0:Gn.defaultOpenValue,Y,P,O),xa=St(ra,2),Hn=xa[0],ya=xa[1],Ys=Za(function(Ze,Ke,it){var Ut=dg(fn,le,Ke);if((Ut[0]!==fn[0]||Ut[1]!==fn[1])&&wn(Ut),q&&it!==!1){var Ft=fs(dt);Ze&&(Ft[le]=Ze),q(Ft,Ut)}}),Js=function(Ke,it){return dg(dt,it,Ke)},gs=function(Ke,it){var Ut=dt;Ke&&(Ut=Js(Ke,le)),st(le);var Ft=be(Ut);Ne(Ut),vn(le,Ft===null),Ft===null?xe(!1,{force:!0}):it||Ie.current.focus({index:Ft})},Pa=function(Ke){var it,Ut=Ke.target.getRootNode();if(!Ie.current.nativeElement.contains((it=Ut.activeElement)!==null&&it!==void 0?it:document.activeElement)){var Ft=I.findIndex(function(En){return!En});Ft>=0&&Ie.current.focus({index:Ft})}xe(!0),je==null||je(Ke)},ar=function(){ns(null),xe(!1,{force:!0})},Vs=v.useState(null),Ts=St(Vs,2),Gs=Ts[0],xr=Ts[1],Fa=v.useState(null),qa=St(Fa,2),zt=qa[0],Kn=qa[1],Es=v.useMemo(function(){return zt||dt},[dt,zt]);v.useEffect(function(){fe||Kn(null)},[fe]);var er=v.useState([0,0,0]),Ia=St(er,2),ys=Ia[0],ks=Ia[1],is=ZP(ae,ie),La=function(Ke){Kn(Ke),xr("preset")},os=function(Ke){var it=ns(Ke);it&&xe(!1,{force:!0})},ta=function(Ke){gs(Ke)},Ws=function(Ke){Kn(Ke?Js(Ke,le):null),xr("cell")},Qs=function(Ke){xe(!0),Mt(Ke)},fr=function(){Xe("panel")},qs=function(Ke){var it=dg(dt,le,Ke);Ne(it),!j&&!o&&i===Et&&gs(Ke)},Ga=function(){xe(!1)},_i=V4(he,ge,ye,vv(le)),na=dt[le]||null,As=Za(function(Ze){return d(Ze,{activeIndex:le})}),Fn=v.useMemo(function(){var Ze=A4(r,!1),Ke=R4(r,[].concat(fs(Object.keys(Ze)),["onChange","onCalendarChange","style","className","onPanelChange","disabledTime"]));return Ke},[r]),rt=v.createElement(lF,Ns({},Fn,{showNow:Rt,showTime:Gn,range:!0,multiplePanel:nt,activeInfo:ys,disabledDate:us,onFocus:Qs,onBlur:pn,onPanelMouseDown:fr,picker:ne,mode:ut,internalMode:Et,onPanelChange:Ys,format:l,value:na,isInvalid:As,onChange:null,onSelect:qs,pickerValue:Hn,defaultOpenValue:Qh(se==null?void 0:se.defaultOpenValue)[le],onPickerValueChange:ya,hoverValue:Es,onHover:Ws,needConfirm:j,onSubmit:gs,onOk:et,presets:is,onPresetHover:La,onPresetSubmit:os,onNow:ta,cellRender:_i})),Be=function(Ke,it){var Ut=Js(Ke,it);Ne(Ut)},Ye=function(){Xe("input")},Dt=function(Ke,it){var Ut=We.length,Ft=We[Ut-1];if(Ut&&Ft!==it&&j&&!M[Ft]&&!ct(Ft)&&dt[Ft]){Ie.current.focus({index:Ft});return}Xe("input"),xe(!0,{inherit:!0}),le!==it&&fe&&!j&&o&&gs(null,!0),Ae(it),Mt(Ke,it)},Wt=function(Ke,it){if(xe(!1),!j&&Xe()==="input"){var Ut=be(dt);vn(le,Ut===null)}pn(Ke,it)},qt=function(Ke,it){Ke.key==="Tab"&&gs(null,!0),N==null||N(Ke,it)},Ge=v.useMemo(function(){return{prefixCls:f,locale:F,generateConfig:H,button:ue.button,input:ue.input}},[f,F,H,ue.button,ue.input]);return Pr(function(){fe&&le!==void 0&&Ys(null,ne,!1)},[fe,le,ne]),Pr(function(){var Ze=Xe();!fe&&Ze==="input"&&(xe(!1),gs(null,!0)),!fe&&o&&!j&&Ze==="panel"&&(xe(!0),gs())},[fe]),v.createElement(Zc.Provider,{value:Ge},v.createElement(BP,Ns({},PP(r),{popupElement:rt,popupStyle:g.popup,popupClassName:b.popup,visible:fe,onClose:Ga,range:!0}),v.createElement(est,Ns({},r,{ref:Ie,suffixIcon:G,activeIndex:Fe||fe?le:null,activeHelp:!!zt,allHelp:!!zt&&Gs==="preset",focused:Fe,onFocus:Dt,onBlur:Wt,onKeyDown:qt,onSubmit:gs,value:Es,maskFormat:l,onChange:Be,onInputChange:Ye,format:c,inputReadOnly:K,disabled:I,open:fe,onOpenChange:xe,onClick:Pa,onClear:ar,invalid:Pn,onInvalid:Xt,onActiveInfo:ks}))))}var nst=v.forwardRef(tst);function sst(e){var t=e.prefixCls,n=e.value,a=e.onRemove,r=e.removeIcon,i=r===void 0?"":r,o=e.formatDate,c=e.disabled,l=e.maxTagCount,d=e.placeholder,f="".concat(t,"-selector"),g="".concat(t,"-selection"),b="".concat(g,"-overflow");function w(N,I){return v.createElement("span",{className:zs("".concat(g,"-item")),title:typeof N=="string"?N:null},v.createElement("span",{className:"".concat(g,"-item-content")},N),!c&&I&&v.createElement("span",{onMouseDown:function(B){B.preventDefault()},onClick:I,className:"".concat(g,"-item-remove")},i))}function S(N){var I=o(N),M=function(P){P&&P.stopPropagation(),a(N)};return w(I,M)}function j(N){var I="+ ".concat(N.length," ...");return w(I)}return v.createElement("div",{className:f},v.createElement(j0,{prefixCls:b,data:n,renderItem:S,renderRest:j,itemKey:function(I){return o(I)},maxCount:l}),!n.length&&v.createElement("span",{className:"".concat(t,"-selection-placeholder")},d))}var ast=["id","open","prefix","clearIcon","suffixIcon","activeHelp","allHelp","focused","onFocus","onBlur","onKeyDown","locale","generateConfig","placeholder","className","style","onClick","onClear","internalPicker","value","onChange","onSubmit","onInputChange","multiple","maxTagCount","format","maskFormat","preserveInvalidOnBlur","onInvalid","disabled","invalid","inputReadOnly","direction","onOpenChange","onMouseDown","required","aria-required","autoFocus","tabIndex","removeIcon"];function rst(e,t){e.id;var n=e.open,a=e.prefix,r=e.clearIcon,i=e.suffixIcon;e.activeHelp,e.allHelp;var o=e.focused;e.onFocus,e.onBlur,e.onKeyDown;var c=e.locale,l=e.generateConfig,d=e.placeholder,f=e.className,g=e.style,b=e.onClick,w=e.onClear,S=e.internalPicker,j=e.value,N=e.onChange,I=e.onSubmit;e.onInputChange;var M=e.multiple,B=e.maxTagCount;e.format,e.maskFormat,e.preserveInvalidOnBlur,e.onInvalid;var P=e.disabled,O=e.invalid;e.inputReadOnly;var R=e.direction;e.onOpenChange;var $=e.onMouseDown;e.required,e["aria-required"];var U=e.autoFocus,F=e.tabIndex,H=e.removeIcon,ne=ai(e,ast),X=R==="rtl",te=v.useContext(Zc),se=te.prefixCls,V=v.useRef(),q=v.useRef();v.useImperativeHandle(t,function(){return{nativeElement:V.current,focus:function(ie){var ue;(ue=q.current)===null||ue===void 0||ue.focus(ie)},blur:function(){var ie;(ie=q.current)===null||ie===void 0||ie.blur()}}});var T=dF(ne),J=function(ie){N([ie])},Z=function(ie){var ue=j.filter(function(he){return he&&!uo(l,c,he,ie,S)});N(ue),n||I()},A=uF(vt(vt({},e),{},{onChange:J}),function(ae){var ie=ae.valueTexts;return{value:ie[0]||"",active:o}}),Y=St(A,2),K=Y[0],G=Y[1],oe=!!(r&&j.length&&!P),ee=M?v.createElement(v.Fragment,null,v.createElement(sst,{prefixCls:se,value:j,onRemove:Z,formatDate:G,maxTagCount:B,disabled:P,removeIcon:H,placeholder:d}),v.createElement("input",{className:"".concat(se,"-multiple-input"),value:j.map(G).join(","),ref:q,readOnly:!0,autoFocus:U,tabIndex:F}),v.createElement(Iy,{type:"suffix",icon:i}),oe&&v.createElement(MN,{icon:r,onClear:w})):v.createElement(RN,Ns({ref:q},K(),{autoFocus:U,tabIndex:F,suffixIcon:i,clearIcon:oe&&v.createElement(MN,{icon:r,onClear:w}),showActiveCls:!1}));return v.createElement("div",Ns({},T,{className:zs(se,pt(pt(pt(pt(pt({},"".concat(se,"-multiple"),M),"".concat(se,"-focused"),o),"".concat(se,"-disabled"),P),"".concat(se,"-invalid"),O),"".concat(se,"-rtl"),X),f),style:g,ref:V,onClick:b,onMouseDown:function(ie){var ue,he=ie.target;he!==((ue=q.current)===null||ue===void 0?void 0:ue.inputElement)&&ie.preventDefault(),$==null||$(ie)}}),a&&v.createElement("div",{className:"".concat(se,"-prefix")},a),ee)}var ist=v.forwardRef(rst);function ost(e,t){var n=QP(e),a=St(n,6),r=a[0],i=a[1],o=a[2],c=a[3],l=a[4],d=a[5],f=r,g=f.prefixCls,b=f.styles,w=f.classNames,S=f.order,j=f.defaultValue,N=f.value,I=f.needConfirm,M=f.onChange,B=f.onKeyDown,P=f.disabled,O=f.disabledDate,R=f.minDate,$=f.maxDate,U=f.defaultOpen,F=f.open,H=f.onOpenChange,ne=f.locale,X=f.generateConfig,te=f.picker,se=f.showNow,V=f.showToday,q=f.showTime,T=f.mode,J=f.onPanelChange,Z=f.onCalendarChange,A=f.onOk,Y=f.multiple,K=f.defaultPickerValue,G=f.pickerValue,oe=f.onPickerValueChange,ee=f.inputReadOnly,ae=f.suffixIcon,ie=f.removeIcon,ue=f.onFocus,he=f.onBlur,ge=f.presets,ye=f.components,je=f.cellRender,Ie=f.dateRender,me=f.monthCellRender,de=f.onClick,fe=KP(t);function re(Fn){return Fn===null?null:Y?Fn:Fn[0]}var xe=oF(X,ne,i),Se=XP(F,U,[P],H),pe=St(Se,2),Ee=pe[0],Le=pe[1],Ue=function(rt,Be,Ye){if(Z){var Dt=vt({},Ye);delete Dt.range,Z(re(rt),re(Be),Dt)}},Ne=function(rt){A==null||A(re(rt))},et=aF(X,ne,c,!1,S,j,N,Ue,Ne),dt=St(et,5),_e=dt[0],tt=dt[1],Fe=dt[2],It=dt[3],Xe=dt[4],le=Fe(),Ae=JP([P]),be=St(Ae,4),We=be[0],st=be[1],ct=be[2],Mt=be[3],pn=function(rt){st(!0),ue==null||ue(rt,{})},Gn=function(rt){st(!1),he==null||he(rt,{})},bt=Il(te,{value:T}),ln=St(bt,2),fn=ln[0],wn=ln[1],ut=fn==="date"&&q?"datetime":fn,Et=iF(te,fn,se,V),nt=M&&function(Fn,rt){M(re(Fn),re(rt))},Rt=rF(vt(vt({},r),{},{onChange:nt}),_e,tt,Fe,It,[],c,We,Ee,d),Lt=St(Rt,2),on=Lt[1],vn=FP(le,d),ns=St(vn,2),us=ns[0],_s=ns[1],ds=v.useMemo(function(){return us.some(function(Fn){return Fn})},[us]),Pn=function(rt,Be){if(oe){var Ye=vt(vt({},Be),{},{mode:Be.mode[0]});delete Ye.range,oe(rt[0],Ye)}},Xt=eF(X,ne,le,[fn],Ee,Mt,i,!1,K,G,Qh(q==null?void 0:q.defaultOpenValue),Pn,R,$),ra=St(Xt,2),xa=ra[0],Hn=ra[1],ya=Za(function(Fn,rt,Be){if(wn(rt),J&&Be!==!1){var Ye=Fn||le[le.length-1];J(Ye,rt)}}),Ys=function(){on(Fe()),Le(!1,{force:!0})},Js=function(rt){!P&&!fe.current.nativeElement.contains(document.activeElement)&&fe.current.focus(),Le(!0),de==null||de(rt)},gs=function(){on(null),Le(!1,{force:!0})},Pa=v.useState(null),ar=St(Pa,2),Vs=ar[0],Ts=ar[1],Gs=v.useState(null),xr=St(Gs,2),Fa=xr[0],qa=xr[1],zt=v.useMemo(function(){var Fn=[Fa].concat(fs(le)).filter(function(rt){return rt});return Y?Fn:Fn.slice(0,1)},[le,Fa,Y]),Kn=v.useMemo(function(){return!Y&&Fa?[Fa]:le.filter(function(Fn){return Fn})},[le,Fa,Y]);v.useEffect(function(){Ee||qa(null)},[Ee]);var Es=ZP(ge),er=function(rt){qa(rt),Ts("preset")},Ia=function(rt){var Be=Y?xe(Fe(),rt):[rt],Ye=on(Be);Ye&&!Y&&Le(!1,{force:!0})},ys=function(rt){Ia(rt)},ks=function(rt){qa(rt),Ts("cell")},is=function(rt){Le(!0),pn(rt)},La=function(rt){if(ct("panel"),!(Y&&ut!==te)){var Be=Y?xe(Fe(),rt):[rt];It(Be),!I&&!o&&i===ut&&Ys()}},os=function(){Le(!1)},ta=V4(je,Ie,me),Ws=v.useMemo(function(){var Fn=A4(r,!1),rt=R4(r,[].concat(fs(Object.keys(Fn)),["onChange","onCalendarChange","style","className","onPanelChange"]));return vt(vt({},rt),{},{multiple:r.multiple})},[r]),Qs=v.createElement(lF,Ns({},Ws,{showNow:Et,showTime:q,disabledDate:O,onFocus:is,onBlur:Gn,picker:te,mode:fn,internalMode:ut,onPanelChange:ya,format:l,value:le,isInvalid:d,onChange:null,onSelect:La,pickerValue:xa,defaultOpenValue:q==null?void 0:q.defaultOpenValue,onPickerValueChange:Hn,hoverValue:zt,onHover:ks,needConfirm:I,onSubmit:Ys,onOk:Xe,presets:Es,onPresetHover:er,onPresetSubmit:Ia,onNow:ys,cellRender:ta})),fr=function(rt){It(rt)},qs=function(){ct("input")},Ga=function(rt){ct("input"),Le(!0,{inherit:!0}),pn(rt)},_i=function(rt){Le(!1),Gn(rt)},na=function(rt,Be){rt.key==="Tab"&&Ys(),B==null||B(rt,Be)},As=v.useMemo(function(){return{prefixCls:g,locale:ne,generateConfig:X,button:ye.button,input:ye.input}},[g,ne,X,ye.button,ye.input]);return Pr(function(){Ee&&Mt!==void 0&&ya(null,te,!1)},[Ee,Mt,te]),Pr(function(){var Fn=ct();!Ee&&Fn==="input"&&(Le(!1),Ys()),!Ee&&o&&!I&&Fn==="panel"&&Ys()},[Ee]),v.createElement(Zc.Provider,{value:As},v.createElement(BP,Ns({},PP(r),{popupElement:Qs,popupStyle:b.popup,popupClassName:w.popup,visible:Ee,onClose:os}),v.createElement(ist,Ns({},r,{ref:fe,suffixIcon:ae,removeIcon:ie,activeHelp:!!Fa,allHelp:!!Fa&&Vs==="preset",focused:We,onFocus:Ga,onBlur:_i,onKeyDown:na,onSubmit:Ys,value:Kn,maskFormat:l,onChange:fr,onInputChange:qs,internalPicker:i,format:c,inputReadOnly:ee,disabled:P,open:Ee,onOpenChange:Le,onClick:Js,onClear:gs,invalid:ds,onInvalid:function(rt){_s(rt,0)}}))))}var cst=v.forwardRef(ost);function G4(e){return sc(e,{inputAffixPadding:e.paddingXXS})}const Q4=e=>{const{controlHeight:t,fontSize:n,lineHeight:a,lineWidth:r,controlHeightSM:i,controlHeightLG:o,fontSizeLG:c,lineHeightLG:l,paddingSM:d,controlPaddingHorizontalSM:f,controlPaddingHorizontal:g,colorFillAlter:b,colorPrimaryHover:w,colorPrimary:S,controlOutlineWidth:j,controlOutline:N,colorErrorOutline:I,colorWarningOutline:M,colorBgContainer:B,inputFontSize:P,inputFontSizeLG:O,inputFontSizeSM:R}=e,$=P||n,U=R||$,F=O||c,H=Math.round((t-$*a)/2*10)/10-r,ne=Math.round((i-U*a)/2*10)/10-r,X=Math.ceil((o-F*l)/2*10)/10-r;return{paddingBlock:Math.max(H,0),paddingBlockSM:Math.max(ne,0),paddingBlockLG:Math.max(X,0),paddingInline:d-r,paddingInlineSM:f-r,paddingInlineLG:g-r,addonBg:b,activeBorderColor:S,hoverBorderColor:w,activeShadow:`0 0 0 ${j}px ${N}`,errorActiveShadow:`0 0 0 ${j}px ${I}`,warningActiveShadow:`0 0 0 ${j}px ${M}`,hoverBg:B,activeBg:B,inputFontSize:$,inputFontSizeLG:F,inputFontSizeSM:U}},lst=e=>({borderColor:e.hoverBorderColor,backgroundColor:e.hoverBg}),X4=e=>({color:e.colorTextDisabled,backgroundColor:e.colorBgContainerDisabled,borderColor:e.colorBorder,boxShadow:"none",cursor:"not-allowed",opacity:1,"input[disabled], textarea[disabled]":{cursor:"not-allowed"},"&:hover:not([disabled])":Object.assign({},lst(sc(e,{hoverBorderColor:e.colorBorder,hoverBg:e.colorBgContainerDisabled})))}),hF=(e,t)=>({background:e.colorBgContainer,borderWidth:e.lineWidth,borderStyle:e.lineType,borderColor:t.borderColor,"&:hover":{borderColor:t.hoverBorderColor,backgroundColor:e.hoverBg},"&:focus, &:focus-within":{borderColor:t.activeBorderColor,boxShadow:t.activeShadow,outline:0,backgroundColor:e.activeBg}}),U9=(e,t)=>({[`&${e.componentCls}-status-${t.status}:not(${e.componentCls}-disabled)`]:Object.assign(Object.assign({},hF(e,t)),{[`${e.componentCls}-prefix, ${e.componentCls}-suffix`]:{color:t.affixColor}}),[`&${e.componentCls}-status-${t.status}${e.componentCls}-disabled`]:{borderColor:t.borderColor}}),fF=(e,t)=>({"&-outlined":Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},hF(e,{borderColor:e.colorBorder,hoverBorderColor:e.hoverBorderColor,activeBorderColor:e.activeBorderColor,activeShadow:e.activeShadow})),{[`&${e.componentCls}-disabled, &[disabled]`]:Object.assign({},X4(e))}),U9(e,{status:"error",borderColor:e.colorError,hoverBorderColor:e.colorErrorBorderHover,activeBorderColor:e.colorError,activeShadow:e.errorActiveShadow,affixColor:e.colorError})),U9(e,{status:"warning",borderColor:e.colorWarning,hoverBorderColor:e.colorWarningBorderHover,activeBorderColor:e.colorWarning,activeShadow:e.warningActiveShadow,affixColor:e.colorWarning})),t)}),W9=(e,t)=>({[`&${e.componentCls}-group-wrapper-status-${t.status}`]:{[`${e.componentCls}-group-addon`]:{borderColor:t.addonBorderColor,color:t.addonColor}}}),ust=e=>({"&-outlined":Object.assign(Object.assign(Object.assign({[`${e.componentCls}-group`]:{"&-addon":{background:e.addonBg,border:`${hs(e.lineWidth)} ${e.lineType} ${e.colorBorder}`},"&-addon:first-child":{borderInlineEnd:0},"&-addon:last-child":{borderInlineStart:0}}},W9(e,{status:"error",addonBorderColor:e.colorError,addonColor:e.colorErrorText})),W9(e,{status:"warning",addonBorderColor:e.colorWarning,addonColor:e.colorWarningText})),{[`&${e.componentCls}-group-wrapper-disabled`]:{[`${e.componentCls}-group-addon`]:Object.assign({},X4(e))}})}),mF=(e,t)=>{const{componentCls:n}=e;return{"&-borderless":Object.assign({background:"transparent",border:"none","&:focus, &:focus-within":{outline:"none"},[`&${n}-disabled, &[disabled]`]:{color:e.colorTextDisabled,cursor:"not-allowed"},[`&${n}-status-error`]:{"&, & input, & textarea":{color:e.colorError}},[`&${n}-status-warning`]:{"&, & input, & textarea":{color:e.colorWarning}}},t)}},pF=(e,t)=>{var n;return{background:t.bg,borderWidth:e.lineWidth,borderStyle:e.lineType,borderColor:"transparent","input&, & input, textarea&, & textarea":{color:(n=t==null?void 0:t.inputColor)!==null&&n!==void 0?n:"unset"},"&:hover":{background:t.hoverBg},"&:focus, &:focus-within":{outline:0,borderColor:t.activeBorderColor,backgroundColor:e.activeBg}}},Y9=(e,t)=>({[`&${e.componentCls}-status-${t.status}:not(${e.componentCls}-disabled)`]:Object.assign(Object.assign({},pF(e,t)),{[`${e.componentCls}-prefix, ${e.componentCls}-suffix`]:{color:t.affixColor}})}),gF=(e,t)=>({"&-filled":Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},pF(e,{bg:e.colorFillTertiary,hoverBg:e.colorFillSecondary,activeBorderColor:e.activeBorderColor})),{[`&${e.componentCls}-disabled, &[disabled]`]:Object.assign({},X4(e))}),Y9(e,{status:"error",bg:e.colorErrorBg,hoverBg:e.colorErrorBgHover,activeBorderColor:e.colorError,inputColor:e.colorErrorText,affixColor:e.colorError})),Y9(e,{status:"warning",bg:e.colorWarningBg,hoverBg:e.colorWarningBgHover,activeBorderColor:e.colorWarning,inputColor:e.colorWarningText,affixColor:e.colorWarning})),t)}),G9=(e,t)=>({[`&${e.componentCls}-group-wrapper-status-${t.status}`]:{[`${e.componentCls}-group-addon`]:{background:t.addonBg,color:t.addonColor}}}),dst=e=>({"&-filled":Object.assign(Object.assign(Object.assign({[`${e.componentCls}-group-addon`]:{background:e.colorFillTertiary,"&:last-child":{position:"static"}}},G9(e,{status:"error",addonBg:e.colorErrorBg,addonColor:e.colorErrorText})),G9(e,{status:"warning",addonBg:e.colorWarningBg,addonColor:e.colorWarningText})),{[`&${e.componentCls}-group-wrapper-disabled`]:{[`${e.componentCls}-group`]:{"&-addon":{background:e.colorFillTertiary,color:e.colorTextDisabled},"&-addon:first-child":{borderInlineStart:`${hs(e.lineWidth)} ${e.lineType} ${e.colorBorder}`,borderTop:`${hs(e.lineWidth)} ${e.lineType} ${e.colorBorder}`,borderBottom:`${hs(e.lineWidth)} ${e.lineType} ${e.colorBorder}`},"&-addon:last-child":{borderInlineEnd:`${hs(e.lineWidth)} ${e.lineType} ${e.colorBorder}`,borderTop:`${hs(e.lineWidth)} ${e.lineType} ${e.colorBorder}`,borderBottom:`${hs(e.lineWidth)} ${e.lineType} ${e.colorBorder}`}}}})}),_F=(e,t)=>({background:e.colorBgContainer,borderWidth:`${hs(e.lineWidth)} 0`,borderStyle:`${e.lineType} none`,borderColor:`transparent transparent ${t.borderColor} transparent`,borderRadius:0,"&:hover":{borderColor:`transparent transparent ${t.borderColor} transparent`,backgroundColor:e.hoverBg},"&:focus, &:focus-within":{borderColor:`transparent transparent ${t.activeBorderColor} transparent`,outline:0,backgroundColor:e.activeBg}}),Q9=(e,t)=>({[`&${e.componentCls}-status-${t.status}:not(${e.componentCls}-disabled)`]:Object.assign(Object.assign({},_F(e,t)),{[`${e.componentCls}-prefix, ${e.componentCls}-suffix`]:{color:t.affixColor}}),[`&${e.componentCls}-status-${t.status}${e.componentCls}-disabled`]:{borderColor:`transparent transparent ${t.borderColor} transparent`}}),vF=(e,t)=>({"&-underlined":Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},_F(e,{borderColor:e.colorBorder,hoverBorderColor:e.hoverBorderColor,activeBorderColor:e.activeBorderColor,activeShadow:e.activeShadow})),{[`&${e.componentCls}-disabled, &[disabled]`]:{color:e.colorTextDisabled,boxShadow:"none",cursor:"not-allowed","&:hover":{borderColor:`transparent transparent ${e.colorBorder} transparent`}},"input[disabled], textarea[disabled]":{cursor:"not-allowed"}}),Q9(e,{status:"error",borderColor:e.colorError,hoverBorderColor:e.colorErrorBorderHover,activeBorderColor:e.colorError,activeShadow:e.errorActiveShadow,affixColor:e.colorError})),Q9(e,{status:"warning",borderColor:e.colorWarning,hoverBorderColor:e.colorWarningBorderHover,activeBorderColor:e.colorWarning,activeShadow:e.warningActiveShadow,affixColor:e.colorWarning})),t)}),xF=e=>({"&::-moz-placeholder":{opacity:1},"&::placeholder":{color:e,userSelect:"none"},"&:placeholder-shown":{textOverflow:"ellipsis"}}),bF=e=>{const{paddingBlockLG:t,lineHeightLG:n,borderRadiusLG:a,paddingInlineLG:r}=e;return{padding:`${hs(t)} ${hs(r)}`,fontSize:e.inputFontSizeLG,lineHeight:n,borderRadius:a}},yF=e=>({padding:`${hs(e.paddingBlockSM)} ${hs(e.paddingInlineSM)}`,fontSize:e.inputFontSizeSM,borderRadius:e.borderRadiusSM}),wF=e=>Object.assign(Object.assign({position:"relative",display:"inline-block",width:"100%",minWidth:0,padding:`${hs(e.paddingBlock)} ${hs(e.paddingInline)}`,color:e.colorText,fontSize:e.inputFontSize,lineHeight:e.lineHeight,borderRadius:e.borderRadius,transition:`all ${e.motionDurationMid}`},xF(e.colorTextPlaceholder)),{"&-lg":Object.assign({},bF(e)),"&-sm":Object.assign({},yF(e)),"&-rtl, &-textarea-rtl":{direction:"rtl"}}),hst=e=>{const{componentCls:t,antCls:n}=e;return{position:"relative",display:"table",width:"100%",borderCollapse:"separate",borderSpacing:0,"&[class*='col-']":{paddingInlineEnd:e.paddingXS,"&:last-child":{paddingInlineEnd:0}},[`&-lg ${t}, &-lg > ${t}-group-addon`]:Object.assign({},bF(e)),[`&-sm ${t}, &-sm > ${t}-group-addon`]:Object.assign({},yF(e)),[`&-lg ${n}-select-single ${n}-select-selector`]:{height:e.controlHeightLG},[`&-sm ${n}-select-single ${n}-select-selector`]:{height:e.controlHeightSM},[`> ${t}`]:{display:"table-cell","&:not(:first-child):not(:last-child)":{borderRadius:0}},[`${t}-group`]:{"&-addon, &-wrap":{display:"table-cell",width:1,whiteSpace:"nowrap",verticalAlign:"middle","&:not(:first-child):not(:last-child)":{borderRadius:0}},"&-wrap > *":{display:"block !important"},"&-addon":{position:"relative",padding:`0 ${hs(e.paddingInline)}`,color:e.colorText,fontWeight:"normal",fontSize:e.inputFontSize,textAlign:"center",borderRadius:e.borderRadius,transition:`all ${e.motionDurationSlow}`,lineHeight:1,[`${n}-select`]:{margin:`${hs(e.calc(e.paddingBlock).add(1).mul(-1).equal())} ${hs(e.calc(e.paddingInline).mul(-1).equal())}`,[`&${n}-select-single:not(${n}-select-customize-input):not(${n}-pagination-size-changer)`]:{[`${n}-select-selector`]:{backgroundColor:"inherit",border:`${hs(e.lineWidth)} ${e.lineType} transparent`,boxShadow:"none"}}},[`${n}-cascader-picker`]:{margin:`-9px ${hs(e.calc(e.paddingInline).mul(-1).equal())}`,backgroundColor:"transparent",[`${n}-cascader-input`]:{textAlign:"start",border:0,boxShadow:"none"}}}},[t]:{width:"100%",marginBottom:0,textAlign:"inherit","&:focus":{zIndex:1,borderInlineEndWidth:1},"&:hover":{zIndex:1,borderInlineEndWidth:1,[`${t}-search-with-button &`]:{zIndex:0}}},[`> ${t}:first-child, ${t}-group-addon:first-child`]:{borderStartEndRadius:0,borderEndEndRadius:0,[`${n}-select ${n}-select-selector`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`> ${t}-affix-wrapper`]:{[`&:not(:first-child) ${t}`]:{borderStartStartRadius:0,borderEndStartRadius:0},[`&:not(:last-child) ${t}`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`> ${t}:last-child, ${t}-group-addon:last-child`]:{borderStartStartRadius:0,borderEndStartRadius:0,[`${n}-select ${n}-select-selector`]:{borderStartStartRadius:0,borderEndStartRadius:0}},[`${t}-affix-wrapper`]:{"&:not(:last-child)":{borderStartEndRadius:0,borderEndEndRadius:0,[`${t}-search &`]:{borderStartStartRadius:e.borderRadius,borderEndStartRadius:e.borderRadius}},[`&:not(:first-child), ${t}-search &:not(:first-child)`]:{borderStartStartRadius:0,borderEndStartRadius:0}},[`&${t}-group-compact`]:Object.assign(Object.assign({display:"block"},nKe()),{[`${t}-group-addon, ${t}-group-wrap, > ${t}`]:{"&:not(:first-child):not(:last-child)":{borderInlineEndWidth:e.lineWidth,"&:hover, &:focus":{zIndex:1}}},"& > *":{display:"inline-flex",float:"none",verticalAlign:"top",borderRadius:0},[`
        & > ${t}-affix-wrapper,
        & > ${t}-number-affix-wrapper,
        & > ${n}-picker-range
      `]:{display:"inline-flex"},"& > *:not(:last-child)":{marginInlineEnd:e.calc(e.lineWidth).mul(-1).equal(),borderInlineEndWidth:e.lineWidth},[t]:{float:"none"},[`& > ${n}-select > ${n}-select-selector,
      & > ${n}-select-auto-complete ${t},
      & > ${n}-cascader-picker ${t},
      & > ${t}-group-wrapper ${t}`]:{borderInlineEndWidth:e.lineWidth,borderRadius:0,"&:hover, &:focus":{zIndex:1}},[`& > ${n}-select-focused`]:{zIndex:1},[`& > ${n}-select > ${n}-select-arrow`]:{zIndex:1},[`& > *:first-child,
      & > ${n}-select:first-child > ${n}-select-selector,
      & > ${n}-select-auto-complete:first-child ${t},
      & > ${n}-cascader-picker:first-child ${t}`]:{borderStartStartRadius:e.borderRadius,borderEndStartRadius:e.borderRadius},[`& > *:last-child,
      & > ${n}-select:last-child > ${n}-select-selector,
      & > ${n}-cascader-picker:last-child ${t},
      & > ${n}-cascader-picker-focused:last-child ${t}`]:{borderInlineEndWidth:e.lineWidth,borderStartEndRadius:e.borderRadius,borderEndEndRadius:e.borderRadius},[`& > ${n}-select-auto-complete ${t}`]:{verticalAlign:"top"},[`${t}-group-wrapper + ${t}-group-wrapper`]:{marginInlineStart:e.calc(e.lineWidth).mul(-1).equal(),[`${t}-affix-wrapper`]:{borderRadius:0}},[`${t}-group-wrapper:not(:last-child)`]:{[`&${t}-search > ${t}-group`]:{[`& > ${t}-group-addon > ${t}-search-button`]:{borderRadius:0},[`& > ${t}`]:{borderStartStartRadius:e.borderRadius,borderStartEndRadius:0,borderEndEndRadius:0,borderEndStartRadius:e.borderRadius}}}})}},fst=e=>{const{componentCls:t,controlHeightSM:n,lineWidth:a,calc:r}=e,o=r(n).sub(r(a).mul(2)).sub(16).div(2).equal();return{[t]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},ub(e)),wF(e)),fF(e)),gF(e)),mF(e)),vF(e)),{'&[type="color"]':{height:e.controlHeight,[`&${t}-lg`]:{height:e.controlHeightLG},[`&${t}-sm`]:{height:n,paddingTop:o,paddingBottom:o}},'&[type="search"]::-webkit-search-cancel-button, &[type="search"]::-webkit-search-decoration':{appearance:"none"}})}},mst=e=>{const{componentCls:t}=e;return{[`${t}-clear-icon`]:{margin:0,padding:0,lineHeight:0,color:e.colorTextQuaternary,fontSize:e.fontSizeIcon,verticalAlign:-1,cursor:"pointer",transition:`color ${e.motionDurationSlow}`,border:"none",outline:"none",backgroundColor:"transparent","&:hover":{color:e.colorIcon},"&:active":{color:e.colorText},"&-hidden":{visibility:"hidden"},"&-has-suffix":{margin:`0 ${hs(e.inputAffixPadding)}`}}}},pst=e=>{const{componentCls:t,inputAffixPadding:n,colorTextDescription:a,motionDurationSlow:r,colorIcon:i,colorIconHover:o,iconCls:c}=e,l=`${t}-affix-wrapper`,d=`${t}-affix-wrapper-disabled`;return{[l]:Object.assign(Object.assign(Object.assign(Object.assign({},wF(e)),{display:"inline-flex",[`&:not(${t}-disabled):hover`]:{zIndex:1,[`${t}-search-with-button &`]:{zIndex:0}},"&-focused, &:focus":{zIndex:1},[`> input${t}`]:{padding:0},[`> input${t}, > textarea${t}`]:{fontSize:"inherit",border:"none",borderRadius:0,outline:"none",background:"transparent",color:"inherit","&::-ms-reveal":{display:"none"},"&:focus":{boxShadow:"none !important"}},"&::before":{display:"inline-block",width:0,visibility:"hidden",content:'"\\a0"'},[t]:{"&-prefix, &-suffix":{display:"flex",flex:"none",alignItems:"center","> *:not(:last-child)":{marginInlineEnd:e.paddingXS}},"&-show-count-suffix":{color:a,direction:"ltr"},"&-show-count-has-suffix":{marginInlineEnd:e.paddingXXS},"&-prefix":{marginInlineEnd:n},"&-suffix":{marginInlineStart:n}}}),mst(e)),{[`${c}${t}-password-icon`]:{color:i,cursor:"pointer",transition:`all ${r}`,"&:hover":{color:o}}}),[`${t}-underlined`]:{borderRadius:0},[d]:{[`${c}${t}-password-icon`]:{color:i,cursor:"not-allowed","&:hover":{color:i}}}}},gst=e=>{const{componentCls:t,borderRadiusLG:n,borderRadiusSM:a}=e;return{[`${t}-group`]:Object.assign(Object.assign(Object.assign({},ub(e)),hst(e)),{"&-rtl":{direction:"rtl"},"&-wrapper":Object.assign(Object.assign(Object.assign({display:"inline-block",width:"100%",textAlign:"start",verticalAlign:"top","&-rtl":{direction:"rtl"},"&-lg":{[`${t}-group-addon`]:{borderRadius:n,fontSize:e.inputFontSizeLG}},"&-sm":{[`${t}-group-addon`]:{borderRadius:a}}},ust(e)),dst(e)),{[`&:not(${t}-compact-first-item):not(${t}-compact-last-item)${t}-compact-item`]:{[`${t}, ${t}-group-addon`]:{borderRadius:0}},[`&:not(${t}-compact-last-item)${t}-compact-first-item`]:{[`${t}, ${t}-group-addon`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`&:not(${t}-compact-first-item)${t}-compact-last-item`]:{[`${t}, ${t}-group-addon`]:{borderStartStartRadius:0,borderEndStartRadius:0}},[`&:not(${t}-compact-last-item)${t}-compact-item`]:{[`${t}-affix-wrapper`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`&:not(${t}-compact-first-item)${t}-compact-item`]:{[`${t}-affix-wrapper`]:{borderStartStartRadius:0,borderEndStartRadius:0}}})})}},_st=e=>{const{componentCls:t,antCls:n}=e,a=`${t}-search`;return{[a]:{[t]:{"&:hover, &:focus":{[`+ ${t}-group-addon ${a}-button:not(${n}-btn-color-primary):not(${n}-btn-variant-text)`]:{borderInlineStartColor:e.colorPrimaryHover}}},[`${t}-affix-wrapper`]:{height:e.controlHeight,borderRadius:0},[`${t}-lg`]:{lineHeight:e.calc(e.lineHeightLG).sub(2e-4).equal()},[`> ${t}-group`]:{[`> ${t}-group-addon:last-child`]:{insetInlineStart:-1,padding:0,border:0,[`${a}-button`]:{marginInlineEnd:-1,borderStartStartRadius:0,borderEndStartRadius:0,boxShadow:"none"},[`${a}-button:not(${n}-btn-color-primary)`]:{color:e.colorTextDescription,"&:hover":{color:e.colorPrimaryHover},"&:active":{color:e.colorPrimaryActive},[`&${n}-btn-loading::before`]:{inset:0}}}},[`${a}-button`]:{height:e.controlHeight,"&:hover, &:focus":{zIndex:1}},"&-large":{[`${t}-affix-wrapper, ${a}-button`]:{height:e.controlHeightLG}},"&-small":{[`${t}-affix-wrapper, ${a}-button`]:{height:e.controlHeightSM}},"&-rtl":{direction:"rtl"},[`&${t}-compact-item`]:{[`&:not(${t}-compact-last-item)`]:{[`${t}-group-addon`]:{[`${t}-search-button`]:{marginInlineEnd:e.calc(e.lineWidth).mul(-1).equal(),borderRadius:0}}},[`&:not(${t}-compact-first-item)`]:{[`${t},${t}-affix-wrapper`]:{borderRadius:0}},[`> ${t}-group-addon ${t}-search-button,
        > ${t},
        ${t}-affix-wrapper`]:{"&:hover, &:focus, &:active":{zIndex:2}},[`> ${t}-affix-wrapper-focused`]:{zIndex:2}}}}},vst=e=>{const{componentCls:t}=e;return{[`${t}-out-of-range`]:{[`&, & input, & textarea, ${t}-show-count-suffix, ${t}-data-count`]:{color:e.colorError}}}};_y(["Input","Shared"],e=>{const t=sc(e,G4(e));return[fst(t),pst(t)]},Q4,{resetFont:!1});_y(["Input","Component"],e=>{const t=sc(e,G4(e));return[gst(t),_st(t),vst(t),P4(t)]},Q4,{resetFont:!1});const fS=(e,t)=>{const{componentCls:n,controlHeight:a}=e,r=t?`${n}-${t}`:"",i=jtt(e);return[{[`${n}-multiple${r}`]:{paddingBlock:i.containerPadding,paddingInlineStart:i.basePadding,minHeight:a,[`${n}-selection-item`]:{height:i.itemHeight,lineHeight:hs(i.itemLineHeight)}}}]},xst=e=>{const{componentCls:t,calc:n,lineWidth:a}=e,r=sc(e,{fontHeight:e.fontSize,selectHeight:e.controlHeightSM,multipleSelectItemHeight:e.multipleItemHeightSM,borderRadius:e.borderRadiusSM,borderRadiusSM:e.borderRadiusXS,controlHeight:e.controlHeightSM}),i=sc(e,{fontHeight:n(e.multipleItemHeightLG).sub(n(a).mul(2).equal()).equal(),fontSize:e.fontSizeLG,selectHeight:e.controlHeightLG,multipleSelectItemHeight:e.multipleItemHeightLG,borderRadius:e.borderRadiusLG,borderRadiusSM:e.borderRadius,controlHeight:e.controlHeightLG});return[fS(r,"small"),fS(e),fS(i,"large"),{[`${t}${t}-multiple`]:Object.assign(Object.assign({width:"100%",cursor:"text",[`${t}-selector`]:{flex:"auto",padding:0,position:"relative","&:after":{margin:0},[`${t}-selection-placeholder`]:{position:"absolute",top:"50%",insetInlineStart:e.inputPaddingHorizontalBase,insetInlineEnd:0,transform:"translateY(-50%)",transition:`all ${e.motionDurationSlow}`,overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",flex:1,color:e.colorTextPlaceholder,pointerEvents:"none"}}},Ntt(e)),{[`${t}-multiple-input`]:{width:0,height:0,border:0,visibility:"hidden",position:"absolute",zIndex:-1}})}]},bst=e=>{const{pickerCellCls:t,pickerCellInnerCls:n,cellHeight:a,borderRadiusSM:r,motionDurationMid:i,cellHoverBg:o,lineWidth:c,lineType:l,colorPrimary:d,cellActiveWithRangeBg:f,colorTextLightSolid:g,colorTextDisabled:b,cellBgDisabled:w,colorFillSecondary:S}=e;return{"&::before":{position:"absolute",top:"50%",insetInlineStart:0,insetInlineEnd:0,zIndex:1,height:a,transform:"translateY(-50%)",content:'""',pointerEvents:"none"},[n]:{position:"relative",zIndex:2,display:"inline-block",minWidth:a,height:a,lineHeight:hs(a),borderRadius:r,transition:`background ${i}`},[`&:hover:not(${t}-in-view):not(${t}-disabled),
    &:hover:not(${t}-selected):not(${t}-range-start):not(${t}-range-end):not(${t}-disabled)`]:{[n]:{background:o}},[`&-in-view${t}-today ${n}`]:{"&::before":{position:"absolute",top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,zIndex:1,border:`${hs(c)} ${l} ${d}`,borderRadius:r,content:'""'}},[`&-in-view${t}-in-range,
      &-in-view${t}-range-start,
      &-in-view${t}-range-end`]:{position:"relative",[`&:not(${t}-disabled):before`]:{background:f}},[`&-in-view${t}-selected,
      &-in-view${t}-range-start,
      &-in-view${t}-range-end`]:{[`&:not(${t}-disabled) ${n}`]:{color:g,background:d},[`&${t}-disabled ${n}`]:{background:S}},[`&-in-view${t}-range-start:not(${t}-disabled):before`]:{insetInlineStart:"50%"},[`&-in-view${t}-range-end:not(${t}-disabled):before`]:{insetInlineEnd:"50%"},[`&-in-view${t}-range-start:not(${t}-range-end) ${n}`]:{borderStartStartRadius:r,borderEndStartRadius:r,borderStartEndRadius:0,borderEndEndRadius:0},[`&-in-view${t}-range-end:not(${t}-range-start) ${n}`]:{borderStartStartRadius:0,borderEndStartRadius:0,borderStartEndRadius:r,borderEndEndRadius:r},"&-disabled":{color:b,cursor:"not-allowed",[n]:{background:"transparent"},"&::before":{background:w}},[`&-disabled${t}-today ${n}::before`]:{borderColor:b}}},yst=e=>{const{componentCls:t,pickerCellCls:n,pickerCellInnerCls:a,pickerYearMonthCellWidth:r,pickerControlIconSize:i,cellWidth:o,paddingSM:c,paddingXS:l,paddingXXS:d,colorBgContainer:f,lineWidth:g,lineType:b,borderRadiusLG:w,colorPrimary:S,colorTextHeading:j,colorSplit:N,pickerControlIconBorderWidth:I,colorIcon:M,textHeight:B,motionDurationMid:P,colorIconHover:O,fontWeightStrong:R,cellHeight:$,pickerCellPaddingVertical:U,colorTextDisabled:F,colorText:H,fontSize:ne,motionDurationSlow:X,withoutTimeCellHeight:te,pickerQuarterPanelContentHeight:se,borderRadiusSM:V,colorTextLightSolid:q,cellHoverBg:T,timeColumnHeight:J,timeColumnWidth:Z,timeCellHeight:A,controlItemBgActive:Y,marginXXS:K,pickerDatePanelPaddingHorizontal:G,pickerControlIconMargin:oe}=e,ee=e.calc(o).mul(7).add(e.calc(G).mul(2)).equal();return{[t]:{"&-panel":{display:"inline-flex",flexDirection:"column",textAlign:"center",background:f,borderRadius:w,outline:"none","&-focused":{borderColor:S},"&-rtl":{[`${t}-prev-icon,
              ${t}-super-prev-icon`]:{transform:"rotate(45deg)"},[`${t}-next-icon,
              ${t}-super-next-icon`]:{transform:"rotate(-135deg)"},[`${t}-time-panel`]:{[`${t}-content`]:{direction:"ltr","> *":{direction:"rtl"}}}}},"&-decade-panel,\n        &-year-panel,\n        &-quarter-panel,\n        &-month-panel,\n        &-week-panel,\n        &-date-panel,\n        &-time-panel":{display:"flex",flexDirection:"column",width:ee},"&-header":{display:"flex",padding:`0 ${hs(l)}`,color:j,borderBottom:`${hs(g)} ${b} ${N}`,"> *":{flex:"none"},button:{padding:0,color:M,lineHeight:hs(B),background:"transparent",border:0,cursor:"pointer",transition:`color ${P}`,fontSize:"inherit",display:"inline-flex",alignItems:"center",justifyContent:"center","&:empty":{display:"none"}},"> button":{minWidth:"1.6em",fontSize:ne,"&:hover":{color:O},"&:disabled":{opacity:.25,pointerEvents:"none"}},"&-view":{flex:"auto",fontWeight:R,lineHeight:hs(B),"> button":{color:"inherit",fontWeight:"inherit",verticalAlign:"top","&:not(:first-child)":{marginInlineStart:l},"&:hover":{color:S}}}},"&-prev-icon,\n        &-next-icon,\n        &-super-prev-icon,\n        &-super-next-icon":{position:"relative",width:i,height:i,"&::before":{position:"absolute",top:0,insetInlineStart:0,width:i,height:i,border:"0 solid currentcolor",borderBlockStartWidth:I,borderInlineStartWidth:I,content:'""'}},"&-super-prev-icon,\n        &-super-next-icon":{"&::after":{position:"absolute",top:oe,insetInlineStart:oe,display:"inline-block",width:i,height:i,border:"0 solid currentcolor",borderBlockStartWidth:I,borderInlineStartWidth:I,content:'""'}},"&-prev-icon, &-super-prev-icon":{transform:"rotate(-45deg)"},"&-next-icon, &-super-next-icon":{transform:"rotate(135deg)"},"&-content":{width:"100%",tableLayout:"fixed",borderCollapse:"collapse","th, td":{position:"relative",minWidth:$,fontWeight:"normal"},th:{height:e.calc($).add(e.calc(U).mul(2)).equal(),color:H,verticalAlign:"middle"}},"&-cell":Object.assign({padding:`${hs(U)} 0`,color:F,cursor:"pointer","&-in-view":{color:H}},bst(e)),"&-decade-panel,\n        &-year-panel,\n        &-quarter-panel,\n        &-month-panel":{[`${t}-content`]:{height:e.calc(te).mul(4).equal()},[a]:{padding:`0 ${hs(l)}`}},"&-quarter-panel":{[`${t}-content`]:{height:se}},"&-decade-panel":{[a]:{padding:`0 ${hs(e.calc(l).div(2).equal())}`},[`${t}-cell::before`]:{display:"none"}},"&-year-panel,\n        &-quarter-panel,\n        &-month-panel":{[`${t}-body`]:{padding:`0 ${hs(l)}`},[a]:{width:r}},"&-date-panel":{[`${t}-body`]:{padding:`${hs(l)} ${hs(G)}`},[`${t}-content th`]:{boxSizing:"border-box",padding:0}},"&-week-panel":{[`${t}-cell`]:{[`&:hover ${a},
            &-selected ${a},
            ${a}`]:{background:"transparent !important"}},"&-row":{td:{"&:before":{transition:`background ${P}`},"&:first-child:before":{borderStartStartRadius:V,borderEndStartRadius:V},"&:last-child:before":{borderStartEndRadius:V,borderEndEndRadius:V}},"&:hover td:before":{background:T},"&-range-start td, &-range-end td, &-selected td, &-hover td":{[`&${n}`]:{"&:before":{background:S},[`&${t}-cell-week`]:{color:new wr(q).setA(.5).toHexString()},[a]:{color:q}}},"&-range-hover td:before":{background:Y}}},"&-week-panel, &-date-panel-show-week":{[`${t}-body`]:{padding:`${hs(l)} ${hs(c)}`},[`${t}-content th`]:{width:"auto"}},"&-datetime-panel":{display:"flex",[`${t}-time-panel`]:{borderInlineStart:`${hs(g)} ${b} ${N}`},[`${t}-date-panel,
          ${t}-time-panel`]:{transition:`opacity ${X}`},"&-active":{[`${t}-date-panel,
            ${t}-time-panel`]:{opacity:.3,"&-active":{opacity:1}}}},"&-time-panel":{width:"auto",minWidth:"auto",[`${t}-content`]:{display:"flex",flex:"auto",height:J},"&-column":{flex:"1 0 auto",width:Z,margin:`${hs(d)} 0`,padding:0,overflowY:"hidden",textAlign:"start",listStyle:"none",transition:`background ${P}`,overflowX:"hidden","&::-webkit-scrollbar":{width:8,backgroundColor:"transparent"},"&::-webkit-scrollbar-thumb":{backgroundColor:e.colorTextTertiary,borderRadius:e.borderRadiusSM},"&":{scrollbarWidth:"thin",scrollbarColor:`${e.colorTextTertiary} transparent`},"&::after":{display:"block",height:`calc(100% - ${hs(A)})`,content:'""'},"&:not(:first-child)":{borderInlineStart:`${hs(g)} ${b} ${N}`},"&-active":{background:new wr(Y).setA(.2).toHexString()},"&:hover":{overflowY:"auto"},"> li":{margin:0,padding:0,[`&${t}-time-panel-cell`]:{marginInline:K,[`${t}-time-panel-cell-inner`]:{display:"block",width:e.calc(Z).sub(e.calc(K).mul(2)).equal(),height:A,margin:0,paddingBlock:0,paddingInlineEnd:0,paddingInlineStart:e.calc(Z).sub(A).div(2).equal(),color:H,lineHeight:hs(A),borderRadius:V,cursor:"pointer",transition:`background ${P}`,"&:hover":{background:T}},"&-selected":{[`${t}-time-panel-cell-inner`]:{background:Y}},"&-disabled":{[`${t}-time-panel-cell-inner`]:{color:F,background:"transparent",cursor:"not-allowed"}}}}}}}}},wst=e=>{const{componentCls:t,textHeight:n,lineWidth:a,paddingSM:r,antCls:i,colorPrimary:o,cellActiveWithRangeBg:c,colorPrimaryBorder:l,lineType:d,colorSplit:f}=e;return{[`${t}-dropdown`]:{[`${t}-footer`]:{borderTop:`${hs(a)} ${d} ${f}`,"&-extra":{padding:`0 ${hs(r)}`,lineHeight:hs(e.calc(n).sub(e.calc(a).mul(2)).equal()),textAlign:"start","&:not(:last-child)":{borderBottom:`${hs(a)} ${d} ${f}`}}},[`${t}-panels + ${t}-footer ${t}-ranges`]:{justifyContent:"space-between"},[`${t}-ranges`]:{marginBlock:0,paddingInline:hs(r),overflow:"hidden",textAlign:"start",listStyle:"none",display:"flex",justifyContent:"center",alignItems:"center","> li":{lineHeight:hs(e.calc(n).sub(e.calc(a).mul(2)).equal()),display:"inline-block"},[`${t}-now-btn-disabled`]:{pointerEvents:"none",color:e.colorTextDisabled},[`${t}-preset > ${i}-tag-blue`]:{color:o,background:c,borderColor:l,cursor:"pointer"},[`${t}-ok`]:{paddingBlock:e.calc(a).mul(2).equal(),marginInlineStart:"auto"}}}}},Cst=e=>{const{componentCls:t,controlHeightLG:n,paddingXXS:a,padding:r}=e;return{pickerCellCls:`${t}-cell`,pickerCellInnerCls:`${t}-cell-inner`,pickerYearMonthCellWidth:e.calc(n).mul(1.5).equal(),pickerQuarterPanelContentHeight:e.calc(n).mul(1.4).equal(),pickerCellPaddingVertical:e.calc(a).add(e.calc(a).div(2)).equal(),pickerCellBorderGap:2,pickerControlIconSize:7,pickerControlIconMargin:4,pickerControlIconBorderWidth:1.5,pickerDatePanelPaddingHorizontal:e.calc(r).add(e.calc(a).div(2)).equal()}},Sst=e=>{const{colorBgContainerDisabled:t,controlHeight:n,controlHeightSM:a,controlHeightLG:r,paddingXXS:i,lineWidth:o}=e,c=i*2,l=o*2,d=Math.min(n-c,n-l),f=Math.min(a-c,a-l),g=Math.min(r-c,r-l);return{INTERNAL_FIXED_ITEM_MARGIN:Math.floor(i/2),cellHoverBg:e.controlItemBgHover,cellActiveWithRangeBg:e.controlItemBgActive,cellHoverWithRangeBg:new wr(e.colorPrimary).lighten(35).toHexString(),cellRangeBorderColor:new wr(e.colorPrimary).lighten(20).toHexString(),cellBgDisabled:t,timeColumnWidth:r*1.4,timeColumnHeight:28*8,timeCellHeight:28,cellWidth:a*1.5,cellHeight:a,textHeight:r,withoutTimeCellHeight:r*1.65,multipleItemBg:e.colorFillSecondary,multipleItemBorderColor:"transparent",multipleItemHeight:d,multipleItemHeightSM:f,multipleItemHeightLG:g,multipleSelectorBgDisabled:t,multipleItemColorDisabled:e.colorTextDisabled,multipleItemBorderColorDisabled:"transparent"}},jst=e=>Object.assign(Object.assign(Object.assign(Object.assign({},Q4(e)),Sst(e)),Ltt(e)),{presetsWidth:120,presetsMaxWidth:200,zIndexPopup:e.zIndexPopupBase+50}),Nst=e=>{const{componentCls:t}=e;return{[t]:[Object.assign(Object.assign(Object.assign(Object.assign({},fF(e)),vF(e)),gF(e)),mF(e)),{"&-outlined":{[`&${t}-multiple ${t}-selection-item`]:{background:e.multipleItemBg,border:`${hs(e.lineWidth)} ${e.lineType} ${e.multipleItemBorderColor}`}},"&-filled":{[`&${t}-multiple ${t}-selection-item`]:{background:e.colorBgContainer,border:`${hs(e.lineWidth)} ${e.lineType} ${e.colorSplit}`}},"&-borderless":{[`&${t}-multiple ${t}-selection-item`]:{background:e.multipleItemBg,border:`${hs(e.lineWidth)} ${e.lineType} ${e.multipleItemBorderColor}`}},"&-underlined":{[`&${t}-multiple ${t}-selection-item`]:{background:e.multipleItemBg,border:`${hs(e.lineWidth)} ${e.lineType} ${e.multipleItemBorderColor}`}}}]}},mS=(e,t)=>({padding:`${hs(e)} ${hs(t)}`}),Est=e=>{const{componentCls:t,colorError:n,colorWarning:a}=e;return{[`${t}:not(${t}-disabled):not([disabled])`]:{[`&${t}-status-error`]:{[`${t}-active-bar`]:{background:n}},[`&${t}-status-warning`]:{[`${t}-active-bar`]:{background:a}}}}},kst=e=>{var t;const{componentCls:n,antCls:a,paddingInline:r,lineWidth:i,lineType:o,colorBorder:c,borderRadius:l,motionDurationMid:d,colorTextDisabled:f,colorTextPlaceholder:g,fontSizeLG:b,inputFontSizeLG:w,fontSizeSM:S,inputFontSizeSM:j,controlHeightSM:N,paddingInlineSM:I,paddingXS:M,marginXS:B,colorIcon:P,lineWidthBold:O,colorPrimary:R,motionDurationSlow:$,zIndexPopup:U,paddingXXS:F,sizePopupArrow:H,colorBgElevated:ne,borderRadiusLG:X,boxShadowSecondary:te,borderRadiusSM:se,colorSplit:V,cellHoverBg:q,presetsWidth:T,presetsMaxWidth:J,boxShadowPopoverArrow:Z,fontHeight:A,lineHeightLG:Y}=e;return[{[n]:Object.assign(Object.assign(Object.assign({},ub(e)),mS(e.paddingBlock,e.paddingInline)),{position:"relative",display:"inline-flex",alignItems:"center",lineHeight:1,borderRadius:l,transition:`border ${d}, box-shadow ${d}, background ${d}`,[`${n}-prefix`]:{flex:"0 0 auto",marginInlineEnd:e.inputAffixPadding},[`${n}-input`]:{position:"relative",display:"inline-flex",alignItems:"center",width:"100%","> input":Object.assign(Object.assign({position:"relative",display:"inline-block",width:"100%",color:"inherit",fontSize:(t=e.inputFontSize)!==null&&t!==void 0?t:e.fontSize,lineHeight:e.lineHeight,transition:`all ${d}`},xF(g)),{flex:"auto",minWidth:1,height:"auto",padding:0,background:"transparent",border:0,fontFamily:"inherit","&:focus":{boxShadow:"none",outline:0},"&[disabled]":{background:"transparent",color:f,cursor:"not-allowed"}}),"&-placeholder":{"> input":{color:g}}},"&-large":Object.assign(Object.assign({},mS(e.paddingBlockLG,e.paddingInlineLG)),{[`${n}-input > input`]:{fontSize:w??b,lineHeight:Y}}),"&-small":Object.assign(Object.assign({},mS(e.paddingBlockSM,e.paddingInlineSM)),{[`${n}-input > input`]:{fontSize:j??S}}),[`${n}-suffix`]:{display:"flex",flex:"none",alignSelf:"center",marginInlineStart:e.calc(M).div(2).equal(),color:f,lineHeight:1,pointerEvents:"none",transition:`opacity ${d}, color ${d}`,"> *":{verticalAlign:"top","&:not(:last-child)":{marginInlineEnd:B}}},[`${n}-clear`]:{position:"absolute",top:"50%",insetInlineEnd:0,color:f,lineHeight:1,transform:"translateY(-50%)",cursor:"pointer",opacity:0,transition:`opacity ${d}, color ${d}`,"> *":{verticalAlign:"top"},"&:hover":{color:P}},"&:hover":{[`${n}-clear`]:{opacity:1},[`${n}-suffix:not(:last-child)`]:{opacity:0}},[`${n}-separator`]:{position:"relative",display:"inline-block",width:"1em",height:b,color:f,fontSize:b,verticalAlign:"top",cursor:"default",[`${n}-focused &`]:{color:P},[`${n}-range-separator &`]:{[`${n}-disabled &`]:{cursor:"not-allowed"}}},"&-range":{position:"relative",display:"inline-flex",[`${n}-active-bar`]:{bottom:e.calc(i).mul(-1).equal(),height:O,background:R,opacity:0,transition:`all ${$} ease-out`,pointerEvents:"none"},[`&${n}-focused`]:{[`${n}-active-bar`]:{opacity:1}},[`${n}-range-separator`]:{alignItems:"center",padding:`0 ${hs(M)}`,lineHeight:1}},"&-range, &-multiple":{[`${n}-clear`]:{insetInlineEnd:r},[`&${n}-small`]:{[`${n}-clear`]:{insetInlineEnd:I}}},"&-dropdown":Object.assign(Object.assign(Object.assign({},ub(e)),yst(e)),{pointerEvents:"none",position:"absolute",top:-9999,left:{_skip_check_:!0,value:-9999},zIndex:U,[`&${n}-dropdown-hidden`]:{display:"none"},"&-rtl":{direction:"rtl"},[`&${n}-dropdown-placement-bottomLeft,
            &${n}-dropdown-placement-bottomRight`]:{[`${n}-range-arrow`]:{top:0,display:"block",transform:"translateY(-100%)"}},[`&${n}-dropdown-placement-topLeft,
            &${n}-dropdown-placement-topRight`]:{[`${n}-range-arrow`]:{bottom:0,display:"block",transform:"translateY(100%) rotate(180deg)"}},[`&${a}-slide-up-appear, &${a}-slide-up-enter`]:{[`${n}-range-arrow${n}-range-arrow`]:{transition:"none"}},[`&${a}-slide-up-enter${a}-slide-up-enter-active${n}-dropdown-placement-topLeft,
          &${a}-slide-up-enter${a}-slide-up-enter-active${n}-dropdown-placement-topRight,
          &${a}-slide-up-appear${a}-slide-up-appear-active${n}-dropdown-placement-topLeft,
          &${a}-slide-up-appear${a}-slide-up-appear-active${n}-dropdown-placement-topRight`]:{animationName:pP},[`&${a}-slide-up-enter${a}-slide-up-enter-active${n}-dropdown-placement-bottomLeft,
          &${a}-slide-up-enter${a}-slide-up-enter-active${n}-dropdown-placement-bottomRight,
          &${a}-slide-up-appear${a}-slide-up-appear-active${n}-dropdown-placement-bottomLeft,
          &${a}-slide-up-appear${a}-slide-up-appear-active${n}-dropdown-placement-bottomRight`]:{animationName:fP},[`&${a}-slide-up-leave ${n}-panel-container`]:{pointerEvents:"none"},[`&${a}-slide-up-leave${a}-slide-up-leave-active${n}-dropdown-placement-topLeft,
          &${a}-slide-up-leave${a}-slide-up-leave-active${n}-dropdown-placement-topRight`]:{animationName:gP},[`&${a}-slide-up-leave${a}-slide-up-leave-active${n}-dropdown-placement-bottomLeft,
          &${a}-slide-up-leave${a}-slide-up-leave-active${n}-dropdown-placement-bottomRight`]:{animationName:mP},[`${n}-panel > ${n}-time-panel`]:{paddingTop:F},[`${n}-range-wrapper`]:{display:"flex",position:"relative"},[`${n}-range-arrow`]:Object.assign(Object.assign({position:"absolute",zIndex:1,display:"none",paddingInline:e.calc(r).mul(1.5).equal(),boxSizing:"content-box",transition:`all ${$} ease-out`},$tt(e,ne,Z)),{"&:before":{insetInlineStart:e.calc(r).mul(1.5).equal()}}),[`${n}-panel-container`]:{overflow:"hidden",verticalAlign:"top",background:ne,borderRadius:X,boxShadow:te,transition:`margin ${$}`,display:"inline-block",pointerEvents:"auto",[`${n}-panel-layout`]:{display:"flex",flexWrap:"nowrap",alignItems:"stretch"},[`${n}-presets`]:{display:"flex",flexDirection:"column",minWidth:T,maxWidth:J,ul:{height:0,flex:"auto",listStyle:"none",overflow:"auto",margin:0,padding:M,borderInlineEnd:`${hs(i)} ${o} ${V}`,li:Object.assign(Object.assign({},tKe),{borderRadius:se,paddingInline:M,paddingBlock:e.calc(N).sub(A).div(2).equal(),cursor:"pointer",transition:`all ${$}`,"+ li":{marginTop:B},"&:hover":{background:q}})}},[`${n}-panels`]:{display:"inline-flex",flexWrap:"nowrap","&:last-child":{[`${n}-panel`]:{borderWidth:0}}},[`${n}-panel`]:{verticalAlign:"top",background:"transparent",borderRadius:0,borderWidth:0,[`${n}-content, table`]:{textAlign:"center"},"&-focused":{borderColor:c}}}}),"&-dropdown-range":{padding:`${hs(e.calc(H).mul(2).div(3).equal())} 0`,"&-hidden":{display:"none"}},"&-rtl":{direction:"rtl",[`${n}-separator`]:{transform:"scale(-1, 1)"},[`${n}-footer`]:{"&-extra":{direction:"rtl"}}}})},h9(e,"slide-up"),h9(e,"slide-down"),d9(e,"move-up"),d9(e,"move-down")]},CF=_y("DatePicker",e=>{const t=sc(G4(e),Cst(e),{inputPaddingHorizontalBase:e.calc(e.paddingSM).sub(1).equal(),multipleSelectItemHeight:e.multipleItemHeight,selectHeight:e.controlHeight});return[wst(t),kst(t),Nst(t),Est(t),xst(t),P4(e,{focusElCls:`${e.componentCls}-focused`})]},jst);var Ist={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 184H712v-64c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v64H384v-64c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v64H144c-17.7 0-32 14.3-32 32v664c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V216c0-17.7-14.3-32-32-32zm-40 656H184V460h656v380zM184 392V256h128v48c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-48h256v48c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-48h128v136H184z"}}]},name:"calendar",theme:"outlined"},Dst=function(t,n){return v.createElement(Dc,Ns({},t,{ref:n,icon:Ist}))},SF=v.forwardRef(Dst),Tst={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M686.7 638.6L544.1 535.5V288c0-4.4-3.6-8-8-8H488c-4.4 0-8 3.6-8 8v275.4c0 2.6 1.2 5 3.3 6.5l165.4 120.6c3.6 2.6 8.6 1.8 11.2-1.7l28.6-39c2.6-3.7 1.8-8.7-1.8-11.2z"}}]},name:"clock-circle",theme:"outlined"},Ast=function(t,n){return v.createElement(Dc,Ns({},t,{ref:n,icon:Tst}))},jF=v.forwardRef(Ast),Mst={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M873.1 596.2l-164-208A32 32 0 00684 376h-64.8c-6.7 0-10.4 7.7-6.3 13l144.3 183H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h695.9c26.8 0 41.7-30.8 25.2-51.8z"}}]},name:"swap-right",theme:"outlined"},Rst=function(t,n){return v.createElement(Dc,Ns({},t,{ref:n,icon:Mst}))},Ost=v.forwardRef(Rst);function Bst(e,t,n){return n!==void 0?n:t==="year"&&e.lang.yearPlaceholder?e.lang.yearPlaceholder:t==="quarter"&&e.lang.quarterPlaceholder?e.lang.quarterPlaceholder:t==="month"&&e.lang.monthPlaceholder?e.lang.monthPlaceholder:t==="week"&&e.lang.weekPlaceholder?e.lang.weekPlaceholder:t==="time"&&e.timePickerLocale.placeholder?e.timePickerLocale.placeholder:e.lang.placeholder}function Lst(e,t,n){return n!==void 0?n:t==="year"&&e.lang.yearPlaceholder?e.lang.rangeYearPlaceholder:t==="quarter"&&e.lang.quarterPlaceholder?e.lang.rangeQuarterPlaceholder:t==="month"&&e.lang.monthPlaceholder?e.lang.rangeMonthPlaceholder:t==="week"&&e.lang.weekPlaceholder?e.lang.rangeWeekPlaceholder:t==="time"&&e.timePickerLocale.placeholder?e.timePickerLocale.rangePlaceholder:e.lang.rangePlaceholder}function NF(e,t){const{allowClear:n=!0}=e,{clearIcon:a,removeIcon:r}=Btt(Object.assign(Object.assign({},e),{prefixCls:t,componentName:"DatePicker"}));return[v.useMemo(()=>n===!1?!1:Object.assign({clearIcon:a},n===!0?{}:n),[n,a]),r]}const[$st,Pst]=["week","WeekPicker"],[Fst,Hst]=["month","MonthPicker"],[zst,Vst]=["year","YearPicker"],[qst,Ust]=["quarter","QuarterPicker"],[ON,X9]=["time","TimePicker"],Wst=e=>v.createElement(F4,Object.assign({size:"small",type:"primary"},e));function EF(e){return v.useMemo(()=>Object.assign({button:Wst},e),[e])}function kF(e,...t){const n=e||{};return t.reduce((a,r)=>(Object.keys(r||{}).forEach(i=>{const o=n[i],c=r[i];if(o&&typeof o=="object")if(c&&typeof c=="object")a[i]=kF(o,a[i],c);else{const{_default:l}=o;a[i]=a[i]||{},a[i][l]=zs(a[i][l],c)}else a[i]=zs(a[i],c)}),a),{})}function Yst(e,...t){return v.useMemo(()=>kF.apply(void 0,[e].concat(t)),[t])}function Gst(...e){return v.useMemo(()=>e.reduce((t,n={})=>(Object.keys(n).forEach(a=>{t[a]=Object.assign(Object.assign({},t[a]),n[a])}),t),{}),[e])}function BN(e,t){const n=Object.assign({},e);return Object.keys(t).forEach(a=>{if(a!=="_default"){const r=t[a],i=n[a]||{};n[a]=r?BN(i,r):i}}),n}function Qst(e,t,n){const a=Yst.apply(void 0,[n].concat(fs(e))),r=Gst.apply(void 0,fs(t));return v.useMemo(()=>[BN(a,n),BN(r,n)],[a,r])}const IF=(e,t,n,a,r)=>{const{classNames:i,styles:o}=M$(e),[c,l]=Qst([i,t],[o,n],{popup:{_default:"root"}});return v.useMemo(()=>{var d,f;const g=Object.assign(Object.assign({},c),{popup:Object.assign(Object.assign({},c.popup),{root:zs((d=c.popup)===null||d===void 0?void 0:d.root,a)})}),b=Object.assign(Object.assign({},l),{popup:Object.assign(Object.assign({},l.popup),{root:Object.assign(Object.assign({},(f=l.popup)===null||f===void 0?void 0:f.root),r)})});return[g,b]},[c,l,a,r])};var Xst=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]]);return n};const Kst=e=>v.forwardRef((n,a)=>{var r;const{prefixCls:i,getPopupContainer:o,components:c,className:l,style:d,placement:f,size:g,disabled:b,bordered:w=!0,placeholder:S,popupStyle:j,popupClassName:N,dropdownClassName:I,status:M,rootClassName:B,variant:P,picker:O,styles:R,classNames:$}=n,U=Xst(n,["prefixCls","getPopupContainer","components","className","style","placement","size","disabled","bordered","placeholder","popupStyle","popupClassName","dropdownClassName","status","rootClassName","variant","picker","styles","classNames"]),F=O===ON?"timePicker":"datePicker",H=v.useRef(null),{getPrefixCls:ne,direction:X,getPopupContainer:te,rangePicker:se}=v.useContext(bo),V=ne("picker",i),{compactSize:q,compactItemClassnames:T}=L4(V,X),J=ne(),[Z,A]=OP("rangePicker",P,w),Y=sP(V),[K,G,oe]=CF(V,Y),[ee,ae]=IF(F,$,R,N||I,j),[ie]=NF(n,V),ue=EF(c),he=B4(pe=>{var Ee;return(Ee=g??q)!==null&&Ee!==void 0?Ee:pe}),ge=v.useContext(Mm),ye=b??ge,je=v.useContext(pb),{hasFeedback:Ie,status:me,feedbackIcon:de}=je,fe=v.createElement(v.Fragment,null,O===ON?v.createElement(jF,null):v.createElement(SF,null),Ie&&de);v.useImperativeHandle(a,()=>H.current);const[re]=E$("Calendar",ob),xe=Object.assign(Object.assign({},re),n.locale),[Se]=iP("DatePicker",(r=ae.popup.root)===null||r===void 0?void 0:r.zIndex);return K(v.createElement(kP,{space:!0},v.createElement(nst,Object.assign({separator:v.createElement("span",{"aria-label":"to",className:`${V}-separator`},v.createElement(Ost,null)),disabled:ye,ref:H,placement:f,placeholder:Lst(xe,O,S),suffixIcon:fe,prevIcon:v.createElement("span",{className:`${V}-prev-icon`}),nextIcon:v.createElement("span",{className:`${V}-next-icon`}),superPrevIcon:v.createElement("span",{className:`${V}-super-prev-icon`}),superNextIcon:v.createElement("span",{className:`${V}-super-next-icon`}),transitionName:`${J}-slide-up`,picker:O},U,{className:zs({[`${V}-${he}`]:he,[`${V}-${Z}`]:A},MP(V,RP(me,M),Ie),G,T,l,se==null?void 0:se.className,oe,Y,B,ee.root),style:Object.assign(Object.assign(Object.assign({},se==null?void 0:se.style),d),ae.root),locale:xe.lang,prefixCls:V,getPopupContainer:o||te,generateConfig:e,components:ue,direction:X,classNames:{popup:zs(G,oe,Y,B,ee.popup.root)},styles:{popup:Object.assign(Object.assign({},ae.popup.root),{zIndex:Se})},allowClear:ie}))))});var Zst=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]]);return n};const Jst=e=>{const t=(l,d)=>{const f=d===X9?"timePicker":"datePicker";return v.forwardRef((b,w)=>{var S;const{prefixCls:j,getPopupContainer:N,components:I,style:M,className:B,rootClassName:P,size:O,bordered:R,placement:$,placeholder:U,popupStyle:F,popupClassName:H,dropdownClassName:ne,disabled:X,status:te,variant:se,onCalendarChange:V,styles:q,classNames:T}=b,J=Zst(b,["prefixCls","getPopupContainer","components","style","className","rootClassName","size","bordered","placement","placeholder","popupStyle","popupClassName","dropdownClassName","disabled","status","variant","onCalendarChange","styles","classNames"]),{getPrefixCls:Z,direction:A,getPopupContainer:Y,[f]:K}=v.useContext(bo),G=Z("picker",j),{compactSize:oe,compactItemClassnames:ee}=L4(G,A),ae=v.useRef(null),[ie,ue]=OP("datePicker",se,R),he=sP(G),[ge,ye,je]=CF(G,he);v.useImperativeHandle(w,()=>ae.current);const Ie={showToday:!0},me=l||b.picker,de=Z(),{onSelect:fe,multiple:re}=J,xe=fe&&l==="time"&&!re,Se=(st,ct,Mt)=>{V==null||V(st,ct,Mt),xe&&fe(st)},[pe,Ee]=IF(f,T,q,H||ne,F),[Le,Ue]=NF(b,G),Ne=EF(I),et=B4(st=>{var ct;return(ct=O??oe)!==null&&ct!==void 0?ct:st}),dt=v.useContext(Mm),_e=X??dt,tt=v.useContext(pb),{hasFeedback:Fe,status:It,feedbackIcon:Xe}=tt,le=v.createElement(v.Fragment,null,me==="time"?v.createElement(jF,null):v.createElement(SF,null),Fe&&Xe),[Ae]=E$("DatePicker",ob),be=Object.assign(Object.assign({},Ae),b.locale),[We]=iP("DatePicker",(S=Ee.popup.root)===null||S===void 0?void 0:S.zIndex);return ge(v.createElement(kP,{space:!0},v.createElement(cst,Object.assign({ref:ae,placeholder:Bst(be,me,U),suffixIcon:le,placement:$,prevIcon:v.createElement("span",{className:`${G}-prev-icon`}),nextIcon:v.createElement("span",{className:`${G}-next-icon`}),superPrevIcon:v.createElement("span",{className:`${G}-super-prev-icon`}),superNextIcon:v.createElement("span",{className:`${G}-super-next-icon`}),transitionName:`${de}-slide-up`,picker:l,onCalendarChange:Se},Ie,J,{locale:be.lang,className:zs({[`${G}-${et}`]:et,[`${G}-${ie}`]:ue},MP(G,RP(It,te),Fe),ye,ee,K==null?void 0:K.className,B,je,he,P,pe.root),style:Object.assign(Object.assign(Object.assign({},K==null?void 0:K.style),M),Ee.root),prefixCls:G,getPopupContainer:N||Y,generateConfig:e,components:Ne,direction:A,disabled:_e,classNames:{popup:zs(ye,je,he,P,pe.popup.root)},styles:{popup:Object.assign(Object.assign({},Ee.popup.root),{zIndex:We})},allowClear:Le,removeIcon:Ue}))))})},n=t(),a=t($st,Pst),r=t(Fst,Hst),i=t(zst,Vst),o=t(qst,Ust),c=t(ON,X9);return{DatePicker:n,WeekPicker:a,MonthPicker:r,YearPicker:i,TimePicker:c,QuarterPicker:o}},DF=e=>{const{DatePicker:t,WeekPicker:n,MonthPicker:a,YearPicker:r,TimePicker:i,QuarterPicker:o}=Jst(e),c=Kst(e),l=t;return l.WeekPicker=n,l.MonthPicker=a,l.YearPicker=r,l.RangePicker=c,l.TimePicker=i,l.QuarterPicker=o,l},wu=DF(unt),eat=IP(wu,"popupAlign",void 0,"picker");wu._InternalPanelDoNotUseOrYouWillBeFired=eat;const tat=IP(wu.RangePicker,"popupAlign",void 0,"picker");wu._InternalRangePanelDoNotUseOrYouWillBeFired=tat;wu.generatePicker=DF;var y1={},pS={exports:{}},K9;function Dy(){return K9||(K9=1,function(e){function t(n){return n&&n.__esModule?n:{default:n}}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}(pS)),pS.exports}var w1={},Z9;function nat(){if(Z9)return w1;Z9=1,Object.defineProperty(w1,"__esModule",{value:!0}),w1.default=void 0;var e={items_per_page:"/ .",jump_to:"",jump_to_confirm:"",page:"",prev_page:"",next_page:"",prev_5:" 5",next_5:" 5",prev_3:" 3",next_3:" 3",page_size:" "};return w1.default=e,w1}var C1={},S1={},j1={},gS={exports:{}},_S={exports:{}},vS={exports:{}},xS={exports:{}},J9;function TF(){return J9||(J9=1,function(e){function t(n){"@babel/helpers - typeof";return e.exports=t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}(xS)),xS.exports}var bS={exports:{}},eA;function sat(){return eA||(eA=1,function(e){var t=TF().default;function n(a,r){if(t(a)!="object"||!a)return a;var i=a[Symbol.toPrimitive];if(i!==void 0){var o=i.call(a,r||"default");if(t(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(a)}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports}(bS)),bS.exports}var tA;function aat(){return tA||(tA=1,function(e){var t=TF().default,n=sat();function a(r){var i=n(r,"string");return t(i)=="symbol"?i:i+""}e.exports=a,e.exports.__esModule=!0,e.exports.default=e.exports}(vS)),vS.exports}var nA;function rat(){return nA||(nA=1,function(e){var t=aat();function n(a,r,i){return(r=t(r))in a?Object.defineProperty(a,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):a[r]=i,a}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports}(_S)),_S.exports}var sA;function iat(){return sA||(sA=1,function(e){var t=rat();function n(r,i){var o=Object.keys(r);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(r);i&&(c=c.filter(function(l){return Object.getOwnPropertyDescriptor(r,l).enumerable})),o.push.apply(o,c)}return o}function a(r){for(var i=1;i<arguments.length;i++){var o=arguments[i]!=null?arguments[i]:{};i%2?n(Object(o),!0).forEach(function(c){t(r,c,o[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(o)):n(Object(o)).forEach(function(c){Object.defineProperty(r,c,Object.getOwnPropertyDescriptor(o,c))})}return r}e.exports=a,e.exports.__esModule=!0,e.exports.default=e.exports}(gS)),gS.exports}var N1={},aA;function oat(){return aA||(aA=1,Object.defineProperty(N1,"__esModule",{value:!0}),N1.commonLocale=void 0,N1.commonLocale={yearFormat:"YYYY",dayFormat:"D",cellMeridiemFormat:"A",monthBeforeYear:!0}),N1}var rA;function cat(){if(rA)return j1;rA=1;var e=Dy().default;Object.defineProperty(j1,"__esModule",{value:!0}),j1.default=void 0;var t=e(iat()),n=oat(),a=(0,t.default)((0,t.default)({},n.commonLocale),{},{locale:"ru_RU",today:"",now:"",backToToday:" ",ok:"",clear:"",week:"",month:"",year:"",timeSelect:" ",dateSelect:" ",monthSelect:" ",yearSelect:" ",decadeSelect:" ",dateFormat:"D-M-YYYY",dateTimeFormat:"D-M-YYYY HH:mm:ss",previousMonth:"  (PageUp)",nextMonth:"  (PageDown)",previousYear:"  (Control + left)",nextYear:"  (Control + right)",previousDecade:" ",nextDecade:" ",previousCentury:" ",nextCentury:" "});return j1.default=a,j1}var E1={},iA;function AF(){if(iA)return E1;iA=1,Object.defineProperty(E1,"__esModule",{value:!0}),E1.default=void 0;const e={placeholder:" ",rangePlaceholder:[" "," "]};return E1.default=e,E1}var oA;function MF(){if(oA)return S1;oA=1;var e=Dy().default;Object.defineProperty(S1,"__esModule",{value:!0}),S1.default=void 0;var t=e(cat()),n=e(AF());const a={lang:Object.assign({placeholder:" ",yearPlaceholder:" ",quarterPlaceholder:" ",monthPlaceholder:" ",weekPlaceholder:" ",rangePlaceholder:[" "," "],rangeYearPlaceholder:[" "," "],rangeMonthPlaceholder:[" "," "],rangeWeekPlaceholder:[" "," "],shortWeekDays:["","","","","","",""],shortMonths:["","","","","","","","","","","",""]},t.default),timePickerLocale:Object.assign({},n.default)};return S1.default=a,S1}var cA;function lat(){if(cA)return C1;cA=1;var e=Dy().default;Object.defineProperty(C1,"__esModule",{value:!0}),C1.default=void 0;var t=e(MF());return C1.default=t.default,C1}var lA;function uat(){if(lA)return y1;lA=1;var e=Dy().default;Object.defineProperty(y1,"__esModule",{value:!0}),y1.default=void 0;var t=e(nat()),n=e(lat()),a=e(MF()),r=e(AF());const i="${label}    ${type}",o={locale:"ru",Pagination:t.default,DatePicker:a.default,TimePicker:r.default,Calendar:n.default,global:{placeholder:" ",close:""},Table:{filterTitle:"",filterConfirm:"OK",filterReset:"",filterEmptyText:" ",filterCheckAll:"  ",filterSearchPlaceholder:"  ",emptyText:" ",selectAll:" ",selectInvert:" ",selectNone:"  ",selectionAll:"  ",sortTitle:"",expand:" ",collapse:" ",triggerDesc:"    ",triggerAsc:"    ",cancelSort:",   "},Tour:{Next:"",Previous:"",Finish:""},Modal:{okText:"OK",cancelText:"",justOkText:"OK"},Popconfirm:{okText:"OK",cancelText:""},Transfer:{titles:["",""],searchPlaceholder:"",itemUnit:".",itemsUnit:".",remove:"",selectAll:"  ",deselectAll:"  ",selectCurrent:"  ",selectInvert:" ",removeAll:"  ",removeCurrent:"  "},Upload:{uploading:"...",removeFile:" ",uploadError:"   ",previewFile:" ",downloadFile:" "},Empty:{description:" "},Icon:{icon:""},Text:{edit:"",copy:"",copied:"",expand:"",collapse:""},Form:{optional:"()",defaultValidateMessages:{default:"   ${label}",required:",  ${label}",enum:"${label}     [${enum}]",whitespace:"${label}    ",date:{format:"${label}    ",parse:"${label}      ",invalid:"${label}    "},types:{string:i,method:i,array:i,object:i,number:i,date:i,boolean:i,integer:i,float:i,regexp:i,email:i,url:i,hex:i},string:{len:"${label}   ${len} ",min:"${label}      ${min} ",max:"${label}      ${max} ",range:" ${label}    ${min}-${max} "},number:{len:"${label}    ${len}",min:"${label}      ${min}",max:"${label}      ${max}",range:"${label}    ${min}-${max}"},array:{len:"  ${label}    ${len}",min:"  ${label}      ${min}",max:"  ${label}      ${max}",range:"  ${label}    ${min}  ${max}"},pattern:{mismatch:"${label}    ${pattern}"}}},Image:{preview:""},QRCode:{expired:"QR- ",refresh:""},ColorPicker:{presetEmpty:"",transparent:"",singleColor:" ",gradientColor:""}};return y1.default=o,y1}var yS,uA;function dat(){return uA||(uA=1,yS=uat()),yS}var hat=dat();const vb=Si(hat),fat="_container_1u6v9_30",mat="_header_1u6v9_51",pat="_businessInfo_1u6v9_80",gat="_tabs_1u6v9_90",_at="_tabButton_1u6v9_104",vat="_active_1u6v9_143",xat="_content_1u6v9_160",bat="_exportButton_1u6v9_164",yat="_filters_1u6v9_195",wat="_searchBar_1u6v9_211",Cat="_dateFilter_1u6v9_277",Sat="_dateRangePicker_1u6v9_285",jat="_calendarIcon_1u6v9_293",Nat="_dateInput_1u6v9_302",Eat="_datePickerActions_1u6v9_319",kat="_applyButton_1u6v9_326",Iat="_resetButton_1u6v9_327",Dat="_dateRangeDisplay_1u6v9_362",Tat="_error_1u6v9_375",Aat="_empty_1u6v9_376",Mat="_receiptsList_1u6v9_397",Rat="_returnsList_1u6v9_398",Oat="_receiptsTable_1u6v9_408",Bat="_returnsTable_1u6v9_409",Lat="_itemsTable_1u6v9_410",$at="_status_1u6v9_474",Pat="_paid_1u6v9_487",Fat="_unpaid_1u6v9_493",Hat="_actions_1u6v9_499",zat="_viewButton_1u6v9_505",Vat="_printButton_1u6v9_506",qat="_pdfButton_1u6v9_507",Uat="_returnButton_1u6v9_508",Wat="_pagination_1u6v9_575",Yat="_modalOverlay_1u6v9_626",Gat="_modalContent_1u6v9_651",Qat="_modalBody_1u6v9_666",Xat="_exportForm_1u6v9_672",Kat="_formGroup_1u6v9_678",Zat="_searchableSelect_1u6v9_712",Jat="_searchableSelectTrigger_1u6v9_716",ert="_searchableSelectValue_1u6v9_735",trt="_searchableSelectArrow_1u6v9_740",nrt="_searchableSelectDropdown_1u6v9_747",srt="_searchableSelectSearch_1u6v9_761",art="_searchableSelectOptions_1u6v9_791",rrt="_searchableSelectOption_1u6v9_791",irt="_searchableSelectOptionSelected_1u6v9_808",ort="_searchableSelectNoResults_1u6v9_814",crt="_modalActions_1u6v9_822",lrt="_exportSubmitButton_1u6v9_829",urt="_cancelButton_1u6v9_853",drt="_modalHeader_1u6v9_886",hrt="_receiptDetails_1u6v9_948",frt="_receiptMeta_1u6v9_957",mrt="_receiptActions_1u6v9_983",prt="_receiptItems_1u6v9_989",grt="_returnsHistory_1u6v9_990",_rt="_customerInfo_1u6v9_1000",vrt="_productInfo_1u6v9_1012",xrt="_productImage_1u6v9_1019",brt="_productDetails_1u6v9_1036",yrt="_productName_1u6v9_1044",wrt="_productSku_1u6v9_1052",Crt="_attributesContainer_1u6v9_1058",Srt="_attributesToggle_1u6v9_1065",jrt="_productAttributes_1u6v9_1093",Nrt="_attributeItem_1u6v9_1116",Ert="_attributeName_1u6v9_1124",krt="_attributeValue_1u6v9_1130",Irt="_variantName_1u6v9_1135",Drt="_defectYes_1u6v9_1141",Trt="_defectNo_1u6v9_1150",Art="_returnForm_1u6v9_1159",Mrt="_formRow_1u6v9_1166",Rrt="_formRowCheckbox_1u6v9_1210",Ort="_checkboxLabel_1u6v9_1220",Brt="_readonlyValue_1u6v9_1237",Lrt="_modalActionsRight_1u6v9_1247",$rt="_submitReturnButton_1u6v9_1257",Prt="_datePickerPopper_1u6v9_1312",Frt="_bonusInfo_1u6v9_1504",Hrt="_bonusAccrued_1u6v9_1511",zrt="_bonusRedeemed_1u6v9_1512",Vrt="_bonusLabel_1u6v9_1529",qrt="_bonusValue_1u6v9_1535",an={container:fat,header:mat,businessInfo:pat,tabs:gat,tabButton:_at,active:vat,content:xat,exportButton:bat,filters:yat,searchBar:wat,dateFilter:Cat,dateRangePicker:Sat,calendarIcon:jat,dateInput:Nat,datePickerActions:Eat,applyButton:kat,resetButton:Iat,dateRangeDisplay:Dat,error:Tat,empty:Aat,receiptsList:Mat,returnsList:Rat,receiptsTable:Oat,returnsTable:Bat,itemsTable:Lat,status:$at,paid:Pat,unpaid:Fat,actions:Hat,viewButton:zat,printButton:Vat,pdfButton:qat,returnButton:Uat,pagination:Wat,modalOverlay:Yat,modalContent:Gat,modalBody:Qat,exportForm:Xat,formGroup:Kat,searchableSelect:Zat,searchableSelectTrigger:Jat,searchableSelectValue:ert,searchableSelectArrow:trt,searchableSelectDropdown:nrt,searchableSelectSearch:srt,searchableSelectOptions:art,searchableSelectOption:rrt,searchableSelectOptionSelected:irt,searchableSelectNoResults:ort,modalActions:crt,exportSubmitButton:lrt,cancelButton:urt,modalHeader:drt,receiptDetails:hrt,receiptMeta:frt,receiptActions:mrt,receiptItems:prt,returnsHistory:grt,customerInfo:_rt,productInfo:vrt,productImage:xrt,productDetails:brt,productName:yrt,productSku:wrt,attributesContainer:Crt,attributesToggle:Srt,productAttributes:jrt,attributeItem:Nrt,attributeName:Ert,attributeValue:krt,variantName:Irt,defectYes:Drt,defectNo:Trt,returnForm:Art,formRow:Mrt,formRowCheckbox:Rrt,checkboxLabel:Ort,readonlyValue:Brt,modalActionsRight:Lrt,submitReturnButton:$rt,datePickerPopper:Prt,bonusInfo:Frt,bonusAccrued:Hrt,bonusRedeemed:zrt,bonusLabel:Vrt,bonusValue:qrt};var ux={exports:{}},Urt=ux.exports,dA;function Wrt(){return dA||(dA=1,function(e,t){(function(n,a){e.exports=a(zL())})(Urt,function(n){function a(S){return S&&typeof S=="object"&&"default"in S?S:{default:S}}var r=a(n),i="___________".split("_"),o="___________".split("_"),c="._._._.____._._._._.".split("_"),l="._.__.____._._._._.".split("_"),d=/D[oD]?(\[[^[\]]*\]|\s)+MMMM?/;function f(S,j,N){var I,M;return N==="m"?j?"":"":S+" "+(I=+S,M={mm:j?"__":"__",hh:"__",dd:"__",MM:"__",yy:"__"}[N].split("_"),I%10==1&&I%100!=11?M[0]:I%10>=2&&I%10<=4&&(I%100<10||I%100>=20)?M[1]:M[2])}var g=function(S,j){return d.test(j)?i[S.month()]:o[S.month()]};g.s=o,g.f=i;var b=function(S,j){return d.test(j)?c[S.month()]:l[S.month()]};b.s=l,b.f=c;var w={name:"ru",weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),months:g,monthsShort:b,weekStart:1,yearStart:4,formats:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY .",LLL:"D MMMM YYYY ., H:mm",LLLL:"dddd, D MMMM YYYY ., H:mm"},relativeTime:{future:" %s",past:"%s ",s:" ",m:f,mm:f,h:"",hh:f,d:"",dd:f,M:"",MM:f,y:"",yy:f},ordinal:function(S){return S},meridiem:function(S){return S<4?"":S<12?"":S<17?"":""}};return r.default.locale(w,null,!0),w})}(ux)),ux.exports}Wrt();Xn.extend(g0);Xn.extend(_0);Xn.locale("ru");const Yrt=()=>{var Le,Ue,Ne,et,dt;const{business_slug:e}=fa(),[t,n]=Fm();Ur();const[a,r]=v.useState("receipts"),[i,o]=v.useState([]),[c,l]=v.useState([]),[d,f]=v.useState(!0),[g,b]=v.useState(null),[w,S]=v.useState({current_page:1,total_pages:1,has_next:!1,has_previous:!1}),[j,N]=v.useState(null),[I,M]=v.useState(""),[B,P]=v.useState([null,null]),[O,R]=B,$=Intl.DateTimeFormat().resolvedOptions().timeZone,[U,F]=v.useState({open:!1,sale:null,maxQty:1}),[H,ne]=v.useState({quantity:1,reason:"",is_defect:!1}),[X,te]=v.useState(!1),[se,V]=v.useState(new Set),[q,T]=v.useState(!1),[J,Z]=v.useState([]),[A,Y]=v.useState({location:"",startDate:null,endDate:null}),[K,G]=v.useState(!1),oe=_e=>{r(_e),_e==="receipts"?ee(1):_e==="returns"&&ae(1)},ee=async(_e=1)=>{try{f(!0);const tt={page:_e};I&&(tt.search=I),O&&(tt.start=Xn(O).tz($).startOf("day").utc().format()),R&&(tt.end=Xn(R).tz($).endOf("day").utc().format());const Fe=await Re.get(`/api/business/${e}/receipts/`,{params:tt});o(Fe.data.results),S(Fe.data.pagination),b(null)}catch(tt){b(tt.message)}finally{f(!1)}},ae=async(_e=1)=>{try{f(!0);const tt={page:_e};I&&(tt.search=I),O&&(tt.start=Xn(O).tz($).startOf("day").utc().format()),R&&(tt.end=Xn(R).tz($).endOf("day").utc().format());const Fe=await Re.get(`/api/business/${e}/returns/`,{params:tt});l(Fe.data.results),S(Fe.data.pagination),b(null)}catch(tt){b(tt.message)}finally{f(!1)}},ie=async _e=>{try{f(!0);const tt=await Re.get(`/api/business/${e}/receipts/${_e}/`);N(tt.data),b(null)}catch(tt){b(tt.message)}finally{f(!1)}},ue=async _e=>{ne({quantity:1,reason:"",is_defect:!1}),F({open:!0,sale:_e,maxQty:_e.available_to_return||1})},he=()=>{F({open:!1,sale:null,maxQty:1}),b(null)},ge=async()=>{var tt,Fe;if(!((tt=U.sale)!=null&&tt.id)){b("    .");return}const _e=Number(H.quantity);if(!_e||_e<1){b("     1.");return}if(_e>(U.maxQty||1)){b(`   : ${U.maxQty}.`);return}te(!0);try{const It={sale:U.sale.id,quantity:_e,reason:H.reason||"",is_defect:!!H.is_defect};await Re.post(`/api/business/${e}/returns/create/`,It),a!=="returns"&&r("returns"),await ae(1),j&&await ie(j.id),he(),b(null),alert("  .")}catch(It){const Xe=(Fe=It==null?void 0:It.response)!=null&&Fe.data?JSON.stringify(It.response.data):It.message;b(`   : ${Xe}`)}finally{te(!1)}},ye=_e=>{var tt,Fe;_e&&_e.length===2?P([((tt=_e[0])==null?void 0:tt.toDate())||null,((Fe=_e[1])==null?void 0:Fe.toDate())||null]):P([null,null])},je=()=>{a==="receipts"?ee(1):a==="returns"&&ae(1)},Ie=()=>{P([null,null]),a==="receipts"?ee(1):a==="returns"&&ae(1)},me=()=>{T(!0),Y({location:"",startDate:null,endDate:null})},de=()=>{T(!1)},fe=_e=>{_e&&_e.length===2?Y(tt=>{var Fe,It;return{...tt,startDate:((Fe=_e[0])==null?void 0:Fe.toDate())||null,endDate:((It=_e[1])==null?void 0:It.toDate())||null}}):Y(tt=>({...tt,startDate:null,endDate:null}))},re=async()=>{var _e,tt;try{G(!0);const Fe={};A.location&&(Fe.location=A.location),A.startDate&&(Fe.start=Xn(A.startDate).tz($).startOf("day").utc().format()),A.endDate&&(Fe.end=Xn(A.endDate).tz($).endOf("day").utc().format());const It=await Re.get(`/api/business/${e}/receipts/export-excel/`,{params:Fe,responseType:"blob"}),Xe=window.URL.createObjectURL(new Blob([It.data])),le=document.createElement("a");le.href=Xe;const Ae=It.headers["content-disposition"];let be=`_${new Date().toISOString().split("T")[0]}.xlsx`;if(Ae){const We=Ae.match(/filename="(.+)"/);We&&(be=We[1])}le.setAttribute("download",be),document.body.appendChild(le),le.click(),le.remove(),window.URL.revokeObjectURL(Xe),de()}catch(Fe){console.error("   Excel:",Fe),alert("   Excel: "+(((tt=(_e=Fe.response)==null?void 0:_e.data)==null?void 0:tt.detail)||Fe.message))}finally{G(!1)}},xe=_e=>_e?Xn(_e).tz($).format("DD.MM.YYYY HH:mm"):" ",Se=({locations:_e,value:tt,onChange:Fe})=>{const[It,Xe]=v.useState(!1),[le,Ae]=v.useState(""),be=v.useRef(null),We=_e.filter(Mt=>Mt.name.toLowerCase().includes(le.toLowerCase())),st=_e.find(Mt=>String(Mt.id)===String(tt));v.useEffect(()=>{const Mt=pn=>{be.current&&!be.current.contains(pn.target)&&(Xe(!1),Ae(""))};return document.addEventListener("mousedown",Mt),()=>document.removeEventListener("mousedown",Mt)},[]);const ct=Mt=>{Fe(Mt),Xe(!1),Ae("")};return s.jsxs("div",{className:an.searchableSelect,ref:be,children:[s.jsxs("div",{className:an.searchableSelectTrigger,onClick:()=>Xe(!It),children:[s.jsx("span",{className:an.searchableSelectValue,children:st?st.name:" "}),s.jsx(Wc,{className:an.searchableSelectArrow,style:{transform:It?"rotate(180deg)":"none",transition:"transform 0.3s ease"}})]}),It&&s.jsxs("div",{className:an.searchableSelectDropdown,children:[s.jsxs("div",{className:an.searchableSelectSearch,children:[s.jsx(ri,{}),s.jsx("input",{type:"text",placeholder:" ...",value:le,onChange:Mt=>Ae(Mt.target.value),onClick:Mt=>Mt.stopPropagation(),autoFocus:!0})]}),s.jsxs("div",{className:an.searchableSelectOptions,children:[s.jsx("div",{className:`${an.searchableSelectOption} ${tt?"":an.searchableSelectOptionSelected}`,onClick:()=>ct(""),children:" "}),We.length===0?s.jsx("div",{className:an.searchableSelectNoResults,children:"  "}):We.map(Mt=>s.jsx("div",{className:`${an.searchableSelectOption} ${String(Mt.id)===String(tt)?an.searchableSelectOptionSelected:""}`,onClick:()=>ct(Mt.id),children:Mt.name},Mt.id))]})]})]})},pe=_e=>{_e.preventDefault(),a==="receipts"?ee(1):a==="returns"&&ae(1)},Ee=_e=>{a==="receipts"?ee(_e):a==="returns"&&ae(_e)};return v.useEffect(()=>{a==="receipts"?ee():a==="returns"&&ae()},[e,a]),v.useEffect(()=>{e&&(async()=>{try{const tt=await Re.get(`/api/business/${e}/locations/`);Z(tt.data)}catch(tt){console.error("  :",tt)}})()},[e]),v.useEffect(()=>{const _e=t.get("receipt");_e&&!j&&(ie(parseInt(_e)),t.delete("receipt"),n(t,{replace:!0}))},[t]),d&&!j?s.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh"},children:s.jsx(Wn,{size:"large"})}):g&&!j?s.jsxs("div",{className:an.error,children:[": ",g]}):s.jsxs("div",{className:an.container,children:[s.jsxs("div",{className:an.header,children:[s.jsx("h1",{children:" "}),s.jsx("div",{className:an.businessInfo,children:s.jsxs("span",{children:[": ",e]})})]}),s.jsxs("div",{className:an.tabs,children:[s.jsxs("button",{className:`${an.tabButton} ${a==="receipts"?an.active:""}`,onClick:()=>oe("receipts"),children:[s.jsx(Do,{}),"  "]}),s.jsxs("button",{className:`${an.tabButton} ${a==="returns"?an.active:""}`,onClick:()=>oe("returns"),children:[s.jsx(wh,{})," "]})]}),s.jsxs("div",{className:an.content,children:[s.jsxs("div",{className:an.filters,children:[s.jsx("div",{className:an.searchBar,children:s.jsxs("form",{onSubmit:pe,children:[s.jsx("input",{type:"text",placeholder:a==="returns"?"     ...":"   ...",value:I,onChange:_e=>M(_e.target.value)}),s.jsx("button",{type:"submit",children:s.jsx(ri,{})})]})}),s.jsxs("div",{className:an.dateFilter,children:[s.jsxs("div",{className:an.dateRangePicker,children:[s.jsx(Oo,{className:an.calendarIcon}),s.jsx(Tl,{locale:vb,children:s.jsx(wu.RangePicker,{value:O&&R?[Xn(O),Xn(R)]:null,onChange:ye,format:"DD.MM.YYYY",className:an.dateInput,disabledDate:_e=>_e&&_e>Xn().endOf("day"),placeholder:["",""],getPopupContainer:_e=>_e.parentElement,popupClassName:an.datePickerPopper})}),(O||R)&&s.jsxs("div",{className:an.datePickerActions,children:[s.jsx("button",{className:an.applyButton,onClick:je,children:""}),s.jsx("button",{className:an.resetButton,onClick:Ie,children:""})]})]}),s.jsx("div",{className:an.dateRangeDisplay,children:O&&R?`${xe(O)} - ${xe(R)}`:" "})]}),s.jsxs("button",{onClick:me,className:an.exportButton,children:[s.jsx(Ch,{}),"   Excel"]})]}),a==="receipts"?s.jsx("div",{className:an.receiptsList,children:i.length===0?s.jsx("div",{className:an.empty,children:"  "}):s.jsxs("table",{className:an.receiptsTable,children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:""}),s.jsx("th",{children:""}),s.jsx("th",{children:""}),s.jsx("th",{children:" "}),s.jsx("th",{children:""}),s.jsx("th",{children:""})]})}),s.jsx("tbody",{children:i.map(_e=>s.jsxs("tr",{children:[s.jsx("td",{children:s.jsxs("strong",{children:["#",_e.number]})}),s.jsx("td",{children:new Date(_e.created_at).toLocaleString("ru-RU",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})}),s.jsx("td",{children:s.jsxs("strong",{children:[parseFloat(_e.total_amount).toLocaleString("ru-RU")," "]})}),s.jsx("td",{children:_e.payment_method||" "}),s.jsx("td",{children:s.jsx("span",{className:`${an.status} ${_e.is_paid?an.paid:an.unpaid}`,children:_e.is_paid?"":" "})}),s.jsx("td",{children:s.jsxs("div",{className:an.actions,children:[s.jsxs("button",{onClick:()=>ie(_e.id),className:an.viewButton,children:[s.jsx(Cu,{})," "]}),s.jsxs("button",{onClick:()=>km(_e.receipt_pdf_file),className:an.printButton,children:[s.jsx(Rh,{})," "]})]})})]},_e.id))})]})}):s.jsx("div",{className:an.returnsList,children:c.length===0?s.jsx("div",{className:an.empty,children:"  "}):s.jsxs("table",{className:an.returnsTable,children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:""}),s.jsx("th",{children:""}),s.jsx("th",{children:""}),s.jsx("th",{children:" "}),s.jsx("th",{children:""}),s.jsx("th",{children:" "}),s.jsx("th",{children:""}),s.jsx("th",{children:""})]})}),s.jsx("tbody",{children:c.map(_e=>s.jsxs("tr",{children:[s.jsx("td",{children:s.jsxs("strong",{children:["#",_e.receipt_number]})}),s.jsx("td",{children:s.jsxs("div",{className:an.productInfo,children:[s.jsx("div",{className:an.productName,children:_e.product_name}),s.jsx("div",{className:an.variantName,children:_e.variant_name})]})}),s.jsx("td",{children:s.jsx("strong",{children:_e.quantity})}),s.jsx("td",{children:new Date(_e.return_date).toLocaleString("ru-RU",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})}),s.jsx("td",{children:_e.reason||""}),s.jsx("td",{children:s.jsxs("strong",{children:[parseFloat(_e.refund_amount).toLocaleString("ru-RU")," "]})}),s.jsx("td",{children:_e.is_defect?s.jsx("span",{className:an.defectYes,children:""}):s.jsx("span",{className:an.defectNo,children:""})}),s.jsx("td",{children:_e.location_name})]},_e.id))})]})}),w.total_pages>1&&s.jsxs("div",{className:an.pagination,children:[s.jsx("button",{disabled:!w.has_previous,onClick:()=>Ee(w.current_page-1),children:s.jsx(jl,{})}),Array.from({length:Math.min(5,w.total_pages)},(_e,tt)=>{let Fe;return w.total_pages<=5||w.current_page<=3?Fe=tt+1:w.current_page>=w.total_pages-2?Fe=w.total_pages-4+tt:Fe=w.current_page-2+tt,s.jsx("button",{className:w.current_page===Fe?an.active:"",onClick:()=>Ee(Fe),children:Fe},Fe)}),s.jsx("button",{disabled:!w.has_next,onClick:()=>Ee(w.current_page+1),children:s.jsx(Nl,{})})]})]}),j&&s.jsx("div",{className:an.modalOverlay,children:s.jsxs("div",{className:an.modalContent,children:[s.jsxs("div",{className:an.modalHeader,children:[s.jsxs("h2",{children:["  ",j.number]}),s.jsx(Ti,{onClick:()=>N(null)})]}),s.jsxs("div",{className:an.receiptDetails,children:[s.jsxs("div",{className:an.receiptMeta,children:[s.jsxs("div",{children:[s.jsx("strong",{children:":"})," ",new Date(j.created_at).toLocaleString("ru-RU",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})]}),s.jsxs("div",{children:[s.jsx("strong",{children:":"})," ",parseFloat(j.total_amount).toLocaleString("ru-RU")," "]}),s.jsxs("div",{children:[s.jsx("strong",{children:"  :"})," ",parseFloat(j.total_returns_amount||0).toLocaleString("ru-RU")," "]}),s.jsxs("div",{children:[s.jsx("strong",{children:"  ( - ):"})," ",parseFloat(j.profit_with_returns||0).toLocaleString("ru-RU")," "]}),s.jsxs("div",{children:[s.jsx("strong",{children:":"})," ",j.payment_method||" "]}),j.discount_amount>0&&s.jsxs("div",{children:[s.jsx("strong",{children:" ():"})," ",parseFloat(j.discount_amount).toLocaleString("ru-RU")," "]}),j.discount_percent>0&&s.jsxs("div",{children:[s.jsx("strong",{children:" ():"})," ",j.discount_percent,"%"]})]}),s.jsxs("div",{className:an.receiptActions,children:[s.jsxs("button",{onClick:()=>km(j.receipt_pdf_file),className:an.printButton,children:[s.jsx(Rh,{}),"  "]}),s.jsxs("button",{onClick:()=>v0(j.receipt_pdf_file),className:an.pdfButton,children:[s.jsx(Rb,{}),"  PDF"]})]}),s.jsxs("div",{className:an.receiptItems,children:[s.jsx("h3",{children:" :"}),s.jsxs("table",{className:an.itemsTable,children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:""}),s.jsx("th",{children:""}),s.jsx("th",{children:""}),s.jsx("th",{children:""}),s.jsx("th",{children:""}),s.jsx("th",{children:""}),s.jsx("th",{children:""}),s.jsx("th",{children:""}),s.jsx("th",{children:""})]})}),s.jsx("tbody",{children:(Le=j==null?void 0:j.sales)==null?void 0:Le.map(_e=>{var tt,Fe,It,Xe,le;return s.jsxs("tr",{children:[s.jsx("td",{children:s.jsxs("div",{className:an.productInfo,children:[((Fe=(tt=_e.variant)==null?void 0:tt.product_main_image)==null?void 0:Fe.image)&&s.jsx("img",{src:_e.variant.product_main_image.image,alt:_e.variant.product_name,className:an.productImage}),s.jsxs("div",{className:an.productDetails,children:[s.jsx("div",{className:an.productName,children:((It=_e.variant)==null?void 0:It.product_name)||""}),s.jsxs("div",{className:an.productSku,children:[": ",((Xe=_e.variant)==null?void 0:Xe.sku)||""]}),((le=_e.variant)==null?void 0:le.attributes)&&_e.variant.attributes.length>0&&s.jsxs("div",{className:an.attributesContainer,children:[s.jsx("button",{type:"button",className:an.attributesToggle,onClick:()=>{const Ae=new Set(se);Ae.has(_e.id)?Ae.delete(_e.id):Ae.add(_e.id),V(Ae)},children:se.has(_e.id)?s.jsxs(s.Fragment,{children:[s.jsx(Lo,{}),"  "]}):s.jsxs(s.Fragment,{children:[s.jsx(Bo,{}),"   (",_e.variant.attributes.length,")"]})}),se.has(_e.id)&&s.jsx("div",{className:an.productAttributes,children:_e.variant.attributes.map(Ae=>s.jsxs("div",{className:an.attributeItem,children:[s.jsxs("span",{className:an.attributeName,children:[Ae.category_attribute_name,":"]}),s.jsx("span",{className:an.attributeValue,children:Ae.predefined_value_name||Ae.custom_value})]},Ae.id))})]})]})]})}),s.jsxs("td",{children:[parseFloat(_e.final_price_per_unit||_e.price_per_unit).toLocaleString("ru-RU")," "]}),s.jsx("td",{children:s.jsx("strong",{children:_e.quantity})}),s.jsx("td",{children:_e.returned_quantity||0}),s.jsx("td",{children:s.jsx("strong",{children:_e.quantity-(_e.returned_quantity||0)})}),s.jsx("td",{children:s.jsxs("strong",{children:[parseFloat(_e.total_price).toLocaleString("ru-RU")," "]})}),s.jsxs("td",{children:[(_e.discount_amount>0||_e.discount_percent>0)&&s.jsxs("div",{children:[_e.discount_amount>0&&`${_e.discount_amount} `,_e.discount_amount>0&&_e.discount_percent>0&&", ",_e.discount_percent>0&&`${_e.discount_percent}%`,j.discount_percent>0&&` (+${j.discount_percent}%  )`]}),!(_e.discount_amount>0||_e.discount_percent>0||j.discount_percent>0)&&"-"]}),s.jsx("td",{children:_e.bonus_accrued&&parseFloat(_e.bonus_accrued)>0||_e.bonus_redeemed&&parseFloat(_e.bonus_redeemed)>0?s.jsxs("div",{className:an.bonusInfo,children:[_e.bonus_accrued&&parseFloat(_e.bonus_accrued)>0&&s.jsxs("div",{className:an.bonusAccrued,children:[s.jsx("span",{className:an.bonusLabel,children:":"}),s.jsxs("span",{className:an.bonusValue,children:["+",parseFloat(_e.bonus_accrued).toFixed(2)]})]}),_e.bonus_redeemed&&parseFloat(_e.bonus_redeemed)>0&&s.jsxs("div",{className:an.bonusRedeemed,children:[s.jsx("span",{className:an.bonusLabel,children:":"}),s.jsxs("span",{className:an.bonusValue,children:["-",parseFloat(_e.bonus_redeemed).toFixed(2)]})]})]}):s.jsx("span",{children:"-"})}),s.jsx("td",{children:s.jsxs("button",{type:"button",className:an.returnButton,onClick:()=>ue(_e),title:" ",disabled:_e.available_to_return===0,children:[s.jsx(wh,{})," "]})})]},_e.id)})})]})]}),((Ue=j==null?void 0:j.sales)==null?void 0:Ue.some(_e=>{var tt;return((tt=_e.returns)==null?void 0:tt.length)>0}))&&s.jsxs("div",{className:an.returnsHistory,children:[s.jsx("h3",{children:" :"}),s.jsxs("table",{className:an.returnsTable,children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:""}),s.jsx("th",{children:""}),s.jsx("th",{children:" "}),s.jsx("th",{children:""}),s.jsx("th",{children:" "}),s.jsx("th",{children:""}),s.jsx("th",{children:""}),s.jsx("th",{children:""})]})}),s.jsx("tbody",{children:j.sales.flatMap(_e=>_e.returns.map(tt=>s.jsxs("tr",{children:[s.jsx("td",{children:s.jsxs("div",{className:an.productInfo,children:[s.jsx("div",{className:an.productName,children:_e.variant.product_name}),s.jsx("div",{className:an.variantName,children:_e.variant.name})]})}),s.jsx("td",{children:tt.quantity}),s.jsx("td",{children:new Date(tt.return_date).toLocaleString("ru-RU",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})}),s.jsx("td",{children:tt.reason||""}),s.jsx("td",{children:s.jsxs("strong",{children:[parseFloat(tt.refund_amount).toLocaleString("ru-RU")," "]})}),s.jsx("td",{children:tt.is_defect?s.jsx("span",{className:an.defectYes,children:""}):s.jsx("span",{className:an.defectNo,children:""})}),s.jsx("td",{children:tt.location_name||""}),s.jsx("td",{children:tt.created_by_name||""})]},tt.id)))})]})]}),(j.customer_name||j.customer_phone)&&s.jsxs("div",{className:an.customerInfo,children:[s.jsx("h3",{children:"  :"}),j.customer_name&&s.jsxs("div",{children:[s.jsx("strong",{children:":"})," ",j.customer_name]}),j.customer_phone&&s.jsxs("div",{children:[s.jsx("strong",{children:":"})," ",j.customer_phone]})]})]})]})}),q&&s.jsx("div",{className:an.modalOverlay,onClick:de,children:s.jsxs("div",{className:an.modalContent,onClick:_e=>_e.stopPropagation(),children:[s.jsxs("div",{className:an.modalHeader,children:[s.jsx("h2",{children:"   Excel"}),s.jsx(Ti,{onClick:de})]}),s.jsx("div",{className:an.modalBody,children:s.jsxs("div",{className:an.exportForm,children:[s.jsxs("div",{className:an.formGroup,children:[s.jsx("label",{children:":"}),s.jsx(Se,{locations:J,value:A.location,onChange:_e=>Y(tt=>({...tt,location:_e}))})]}),s.jsxs("div",{className:an.formGroup,children:[s.jsx("label",{children:":"}),s.jsx(Tl,{locale:vb,children:s.jsx(wu.RangePicker,{value:A.startDate&&A.endDate?[Xn(A.startDate),Xn(A.endDate)]:null,onChange:fe,format:"DD.MM.YYYY",className:an.dateInput,disabledDate:_e=>_e&&_e>Xn().endOf("day"),placeholder:["",""],getPopupContainer:_e=>_e.parentElement})})]}),s.jsxs("div",{className:an.modalActions,children:[s.jsx("button",{onClick:re,disabled:K,className:an.exportSubmitButton,children:K?"...":""}),s.jsx("button",{onClick:de,className:an.cancelButton,disabled:K,children:""})]})]})})]})}),U.open&&s.jsx("div",{className:an.modalOverlay,children:s.jsxs("div",{className:an.modalContent,children:[s.jsxs("div",{className:an.modalHeader,children:[s.jsxs("h2",{children:["  ",((et=(Ne=U.sale)==null?void 0:Ne.variant)==null?void 0:et.product_name)||""," ( #",(dt=U.sale)==null?void 0:dt.id,")"]}),s.jsx(Ti,{onClick:he})]}),s.jsxs("div",{className:an.returnForm,children:[g&&s.jsx("div",{className:an.error,children:g}),s.jsxs("div",{className:an.formRow,children:[s.jsx("label",{children:"  "}),s.jsx("div",{className:an.readonlyValue,children:U.maxQty})]}),s.jsxs("div",{className:an.formRow,children:[s.jsx("label",{children:""}),s.jsx("input",{type:"number",min:1,max:U.maxQty||1,value:H.quantity,onChange:_e=>ne(tt=>({...tt,quantity:_e.target.value}))})]}),s.jsxs("div",{className:an.formRow,children:[s.jsx("label",{children:""}),s.jsx("textarea",{placeholder:"  ,    ..",value:H.reason,onChange:_e=>ne(tt=>({...tt,reason:_e.target.value}))})]}),s.jsx("div",{className:an.formRowCheckbox,children:s.jsxs("label",{className:an.checkboxLabel,children:[s.jsx("input",{type:"checkbox",checked:H.is_defect,onChange:_e=>ne(tt=>({...tt,is_defect:_e.target.checked}))}),""]})}),s.jsxs("div",{className:an.modalActionsRight,children:[s.jsx("button",{className:an.cancelButton,type:"button",onClick:he,disabled:X,children:""}),s.jsx("button",{className:an.submitReturnButton,type:"button",onClick:ge,disabled:X,children:X?"...":" "})]})]})]})})]})},Grt="_container_xz9cs_5",Qrt="_header_xz9cs_27",Xrt="_title_xz9cs_105",Krt="_tabs_xz9cs_131",Zrt="_tab_xz9cs_131",Jrt="_active_xz9cs_203",eit="_filtersSection_xz9cs_215",tit="_searchForm_xz9cs_227",nit="_searchInputGroup_xz9cs_235",sit="_searchIcon_xz9cs_267",ait="_searchInput_xz9cs_235",rit="_searchButton_xz9cs_311",iit="_filterToggle_xz9cs_353",oit="_dateFilterPanel_xz9cs_405",cit="_dateInput_xz9cs_427",lit="_dateFilterActions_xz9cs_471",uit="_applyButton_xz9cs_481",dit="_resetButton_xz9cs_483",hit="_dateRangeDisplay_xz9cs_555",fit="_content_xz9cs_575",mit="_loadingContainer_xz9cs_585",pit="_error_xz9cs_601",git="_empty_xz9cs_621",_it="_emptyIcon_xz9cs_643",vit="_receiptsList_xz9cs_665",xit="_receiptCard_xz9cs_677",bit="_receiptCardHeader_xz9cs_711",yit="_receiptNumber_xz9cs_725",wit="_receiptAmount_xz9cs_743",Cit="_receiptCardMeta_xz9cs_755",Sit="_receiptDate_xz9cs_773",jit="_receiptPayment_xz9cs_785",Nit="_receiptCardFooter_xz9cs_793",Eit="_status_xz9cs_809",kit="_paid_xz9cs_823",Iit="_unpaid_xz9cs_835",Dit="_receiptActions_xz9cs_847",Tit="_actionButton_xz9cs_857",Ait="_returnsList_xz9cs_907",Mit="_returnCard_xz9cs_919",Rit="_returnCardHeader_xz9cs_935",Oit="_returnReceiptNumber_xz9cs_949",Bit="_returnAmount_xz9cs_967",Lit="_returnProductInfo_xz9cs_979",$it="_returnProductName_xz9cs_991",Pit="_returnVariantName_xz9cs_1005",Fit="_returnCardMeta_xz9cs_1017",Hit="_returnMetaRow_xz9cs_1029",zit="_returnMetaLabel_xz9cs_1043",Vit="_returnMetaValue_xz9cs_1053",qit="_defectBadge_xz9cs_1063",Uit="_defectYes_xz9cs_1077",Wit="_defectNo_xz9cs_1089",Yit="_pagination_xz9cs_1103",Git="_paginationButton_xz9cs_1121",Qit="_paginationInfo_xz9cs_1179",Xit="_modalOverlay_xz9cs_1193",Kit="_modal_xz9cs_1193",Zit="_modalHeader_xz9cs_1263",Jit="_modalBody_xz9cs_1301",eot="_receiptDetails_xz9cs_1317",tot="_receiptMeta_xz9cs_1329",not="_metaRow_xz9cs_1349",sot="_metaLabel_xz9cs_1363",aot="_metaValue_xz9cs_1373",rot="_actionButtonLarge_xz9cs_1395",iot="_sectionTitle_xz9cs_1469",oot="_receiptItems_xz9cs_1483",cot="_saleItem_xz9cs_1495",lot="_saleItemHeader_xz9cs_1515",uot="_saleProductInfo_xz9cs_1529",dot="_saleProductImage_xz9cs_1543",hot="_saleProductDetails_xz9cs_1561",fot="_saleProductName_xz9cs_1571",mot="_saleProductSku_xz9cs_1587",pot="_saleItemPrice_xz9cs_1599",got="_saleItemDetails_xz9cs_1613",_ot="_saleDetailRow_xz9cs_1629",vot="_bonusInfo_xz9cs_1661",xot="_bonusAccrued_xz9cs_1673",bot="_bonusRedeemed_xz9cs_1683",yot="_attributesSection_xz9cs_1693",wot="_attributesToggle_xz9cs_1701",Cot="_productAttributes_xz9cs_1751",Sot="_attributeItem_xz9cs_1771",jot="_attributeName_xz9cs_1783",Not="_attributeValue_xz9cs_1793",Eot="_returnButton_xz9cs_1801",kot="_returnsHistory_xz9cs_1851",Iot="_returnHistoryItem_xz9cs_1863",Dot="_returnHistoryHeader_xz9cs_1877",Tot="_returnHistoryProduct_xz9cs_1895",Aot="_returnHistoryAmount_xz9cs_1907",Mot="_returnHistoryDetails_xz9cs_1919",Rot="_returnHistoryRow_xz9cs_1931",Oot="_customerInfo_xz9cs_1963",Bot="_customerRow_xz9cs_1977",Lot="_returnForm_xz9cs_2023",$ot="_formRow_xz9cs_2035",Pot="_readonlyValue_xz9cs_2109",Fot="_formRowCheckbox_xz9cs_2135",Hot="_checkboxLabel_xz9cs_2145",zot="_modalActions_xz9cs_2181",Vot="_cancelButton_xz9cs_2197",qot="_submitButton_xz9cs_2199",Nt={container:Grt,header:Qrt,title:Xrt,tabs:Krt,tab:Zrt,active:Jrt,filtersSection:eit,searchForm:tit,searchInputGroup:nit,searchIcon:sit,searchInput:ait,searchButton:rit,filterToggle:iit,dateFilterPanel:oit,dateInput:cit,dateFilterActions:lit,applyButton:uit,resetButton:dit,dateRangeDisplay:hit,content:fit,loadingContainer:mit,error:pit,empty:git,emptyIcon:_it,receiptsList:vit,receiptCard:xit,receiptCardHeader:bit,receiptNumber:yit,receiptAmount:wit,receiptCardMeta:Cit,receiptDate:Sit,receiptPayment:jit,receiptCardFooter:Nit,status:Eit,paid:kit,unpaid:Iit,receiptActions:Dit,actionButton:Tit,returnsList:Ait,returnCard:Mit,returnCardHeader:Rit,returnReceiptNumber:Oit,returnAmount:Bit,returnProductInfo:Lit,returnProductName:$it,returnVariantName:Pit,returnCardMeta:Fit,returnMetaRow:Hit,returnMetaLabel:zit,returnMetaValue:Vit,defectBadge:qit,defectYes:Uit,defectNo:Wit,pagination:Yit,paginationButton:Git,paginationInfo:Qit,modalOverlay:Xit,modal:Kit,modalHeader:Zit,modalBody:Jit,receiptDetails:eot,receiptMeta:tot,metaRow:not,metaLabel:sot,metaValue:aot,actionButtonLarge:rot,sectionTitle:iot,receiptItems:oot,saleItem:cot,saleItemHeader:lot,saleProductInfo:uot,saleProductImage:dot,saleProductDetails:hot,saleProductName:fot,saleProductSku:mot,saleItemPrice:pot,saleItemDetails:got,saleDetailRow:_ot,bonusInfo:vot,bonusAccrued:xot,bonusRedeemed:bot,attributesSection:yot,attributesToggle:wot,productAttributes:Cot,attributeItem:Sot,attributeName:jot,attributeValue:Not,returnButton:Eot,returnsHistory:kot,returnHistoryItem:Iot,returnHistoryHeader:Dot,returnHistoryProduct:Tot,returnHistoryAmount:Aot,returnHistoryDetails:Mot,returnHistoryRow:Rot,customerInfo:Oot,customerRow:Bot,returnForm:Lot,formRow:$ot,readonlyValue:Pot,formRowCheckbox:Fot,checkboxLabel:Hot,modalActions:zot,cancelButton:Vot,submitButton:qot};Xn.extend(g0);Xn.extend(_0);Xn.locale("ru");const Uot=()=>{var ye,je,Ie,me;const{business_slug:e}=fa();Rs();const[t,n]=Fm();Ur();const[a,r]=v.useState("receipts"),[i,o]=v.useState([]),[c,l]=v.useState([]),[d,f]=v.useState(!0),[g,b]=v.useState(null),[w,S]=v.useState({current_page:1,total_pages:1,has_next:!1,has_previous:!1}),[j,N]=v.useState(null),[I,M]=v.useState(""),[B,P]=v.useState([null,null]),[O,R]=B,$=Intl.DateTimeFormat().resolvedOptions().timeZone,[U,F]=v.useState({open:!1,sale:null,maxQty:1}),[H,ne]=v.useState({quantity:1,reason:"",is_defect:!1}),[X,te]=v.useState(!1),[se,V]=v.useState(new Set),[q,T]=v.useState(!1),J=de=>{r(de),de==="receipts"?Z(1):de==="returns"&&A(1)},Z=async(de=1)=>{try{f(!0);const fe={page:de};I&&(fe.search=I),O&&(fe.start=Xn(O).tz($).startOf("day").utc().format()),R&&(fe.end=Xn(R).tz($).endOf("day").utc().format());const re=await Re.get(`/api/business/${e}/receipts/`,{params:fe});o(re.data.results),S(re.data.pagination),b(null)}catch(fe){b(fe.message)}finally{f(!1)}},A=async(de=1)=>{try{f(!0);const fe={page:de};I&&(fe.search=I),O&&(fe.start=Xn(O).tz($).startOf("day").utc().format()),R&&(fe.end=Xn(R).tz($).endOf("day").utc().format());const re=await Re.get(`/api/business/${e}/returns/`,{params:fe});l(re.data.results),S(re.data.pagination),b(null)}catch(fe){b(fe.message)}finally{f(!1)}},Y=async de=>{try{f(!0);const fe=await Re.get(`/api/business/${e}/receipts/${de}/`);N(fe.data),b(null)}catch(fe){b(fe.message)}finally{f(!1)}},K=async de=>{ne({quantity:1,reason:"",is_defect:!1}),F({open:!0,sale:de,maxQty:de.available_to_return||1})},G=()=>{F({open:!1,sale:null,maxQty:1}),b(null)},oe=async()=>{var fe,re;if(!((fe=U.sale)!=null&&fe.id)){b("    .");return}const de=Number(H.quantity);if(!de||de<1){b("     1.");return}if(de>(U.maxQty||1)){b(`   : ${U.maxQty}.`);return}te(!0);try{const xe={sale:U.sale.id,quantity:de,reason:H.reason||"",is_defect:!!H.is_defect};await Re.post(`/api/business/${e}/returns/create/`,xe),a!=="returns"&&r("returns"),await A(1),j&&await Y(j.id),G(),b(null),alert("  .")}catch(xe){const Se=(re=xe==null?void 0:xe.response)!=null&&re.data?JSON.stringify(xe.response.data):xe.message;b(`   : ${Se}`)}finally{te(!1)}},ee=de=>{var fe,re;de&&de.length===2?P([((fe=de[0])==null?void 0:fe.toDate())||null,((re=de[1])==null?void 0:re.toDate())||null]):P([null,null])},ae=()=>{a==="receipts"?Z(1):a==="returns"&&A(1),T(!1)},ie=()=>{P([null,null]),a==="receipts"?Z(1):a==="returns"&&A(1),T(!1)},ue=de=>de?Xn(de).tz($).format("DD.MM.YYYY HH:mm"):" ",he=de=>{de.preventDefault(),a==="receipts"?Z(1):a==="returns"&&A(1)},ge=de=>{a==="receipts"?Z(de):a==="returns"&&A(de)};return v.useEffect(()=>{a==="receipts"?Z():a==="returns"&&A()},[e,a]),v.useEffect(()=>{const de=t.get("receipt");de&&!j&&(Y(parseInt(de)),t.delete("receipt"),n(t,{replace:!0}))},[t]),d&&!j&&i.length===0&&c.length===0?s.jsx("div",{className:Nt.loadingContainer,children:s.jsx(Wn,{size:"large"})}):s.jsxs("div",{className:Nt.container,children:[s.jsx("div",{className:Nt.header,children:s.jsx("h1",{className:Nt.title,children:""})}),s.jsxs("div",{className:Nt.tabs,children:[s.jsxs("button",{className:`${Nt.tab} ${a==="receipts"?Nt.active:""}`,onClick:()=>J("receipts"),children:[s.jsx(Do,{})," "]}),s.jsxs("button",{className:`${Nt.tab} ${a==="returns"?Nt.active:""}`,onClick:()=>J("returns"),children:[s.jsx(wh,{})," "]})]}),s.jsxs("div",{className:Nt.filtersSection,children:[s.jsx("form",{onSubmit:he,className:Nt.searchForm,children:s.jsxs("div",{className:Nt.searchInputGroup,children:[s.jsx(ri,{className:Nt.searchIcon}),s.jsx("input",{type:"text",placeholder:a==="returns"?"     ...":"   ...",value:I,onChange:de=>M(de.target.value),className:Nt.searchInput}),s.jsx("button",{type:"submit",className:Nt.searchButton,children:""})]})}),s.jsxs("button",{className:Nt.filterToggle,onClick:()=>T(!q),children:[s.jsx(Oo,{})," ",O&&R?" ":" "]}),q&&s.jsxs("div",{className:Nt.dateFilterPanel,children:[s.jsx(Tl,{locale:vb,children:s.jsx(wu.RangePicker,{value:O&&R?[Xn(O),Xn(R)]:null,onChange:ee,format:"DD.MM.YYYY",className:Nt.dateInput,disabledDate:de=>de&&de>Xn().endOf("day"),placeholder:["",""],getPopupContainer:de=>de.parentElement})}),s.jsxs("div",{className:Nt.dateFilterActions,children:[s.jsx("button",{className:Nt.applyButton,onClick:ae,children:""}),s.jsx("button",{className:Nt.resetButton,onClick:ie,children:""})]}),O&&R&&s.jsxs("div",{className:Nt.dateRangeDisplay,children:[ue(O)," - ",ue(R)]})]})]}),s.jsxs("div",{className:Nt.content,children:[g&&!j&&s.jsxs("div",{className:Nt.error,children:[": ",g]}),a==="receipts"?s.jsx("div",{className:Nt.receiptsList,children:d&&i.length===0?s.jsx("div",{className:Nt.loadingContainer,children:s.jsx(Wn,{})}):i.length===0?s.jsxs("div",{className:Nt.empty,children:[s.jsx(Do,{className:Nt.emptyIcon}),s.jsx("p",{children:"  "})]}):s.jsx(s.Fragment,{children:i.map(de=>s.jsxs("div",{className:Nt.receiptCard,onClick:()=>Y(de.id),children:[s.jsxs("div",{className:Nt.receiptCardHeader,children:[s.jsxs("div",{className:Nt.receiptNumber,children:[s.jsx(Do,{})," #",de.number]}),s.jsxs("div",{className:Nt.receiptAmount,children:[parseFloat(de.total_amount).toLocaleString("ru-RU")," "]})]}),s.jsxs("div",{className:Nt.receiptCardMeta,children:[s.jsx("div",{className:Nt.receiptDate,children:new Date(de.created_at).toLocaleString("ru-RU",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})}),s.jsx("div",{className:Nt.receiptPayment,children:de.payment_method||" "})]}),s.jsxs("div",{className:Nt.receiptCardFooter,children:[s.jsx("span",{className:`${Nt.status} ${de.is_paid?Nt.paid:Nt.unpaid}`,children:de.is_paid?"":" "}),s.jsx("div",{className:Nt.receiptActions,children:s.jsx("button",{onClick:fe=>{fe.stopPropagation(),km(de.receipt_pdf_file)},className:Nt.actionButton,children:s.jsx(Rh,{})})})]})]},de.id))})}):s.jsx("div",{className:Nt.returnsList,children:d&&c.length===0?s.jsx("div",{className:Nt.loadingContainer,children:s.jsx(Wn,{})}):c.length===0?s.jsxs("div",{className:Nt.empty,children:[s.jsx(wh,{className:Nt.emptyIcon}),s.jsx("p",{children:"  "})]}):s.jsx(s.Fragment,{children:c.map(de=>s.jsxs("div",{className:Nt.returnCard,children:[s.jsxs("div",{className:Nt.returnCardHeader,children:[s.jsxs("div",{className:Nt.returnReceiptNumber,children:[s.jsx(Do,{}),"  #",de.receipt_number]}),s.jsxs("div",{className:Nt.returnAmount,children:["-",parseFloat(de.refund_amount).toLocaleString("ru-RU")," "]})]}),s.jsxs("div",{className:Nt.returnProductInfo,children:[s.jsx("div",{className:Nt.returnProductName,children:de.product_name}),s.jsx("div",{className:Nt.returnVariantName,children:de.variant_name})]}),s.jsxs("div",{className:Nt.returnCardMeta,children:[s.jsxs("div",{className:Nt.returnMetaRow,children:[s.jsx("span",{className:Nt.returnMetaLabel,children:":"}),s.jsx("span",{className:Nt.returnMetaValue,children:de.quantity})]}),s.jsxs("div",{className:Nt.returnMetaRow,children:[s.jsx("span",{className:Nt.returnMetaLabel,children:":"}),s.jsx("span",{className:Nt.returnMetaValue,children:new Date(de.return_date).toLocaleString("ru-RU",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})})]}),de.reason&&s.jsxs("div",{className:Nt.returnMetaRow,children:[s.jsx("span",{className:Nt.returnMetaLabel,children:":"}),s.jsx("span",{className:Nt.returnMetaValue,children:de.reason})]}),s.jsxs("div",{className:Nt.returnMetaRow,children:[s.jsx("span",{className:Nt.returnMetaLabel,children:":"}),s.jsx("span",{className:`${Nt.defectBadge} ${de.is_defect?Nt.defectYes:Nt.defectNo}`,children:de.is_defect?"":""})]}),s.jsxs("div",{className:Nt.returnMetaRow,children:[s.jsx("span",{className:Nt.returnMetaLabel,children:":"}),s.jsx("span",{className:Nt.returnMetaValue,children:de.location_name})]})]})]},de.id))})}),w.total_pages>1&&s.jsxs("div",{className:Nt.pagination,children:[s.jsx("button",{className:Nt.paginationButton,disabled:!w.has_previous,onClick:()=>ge(w.current_page-1),children:s.jsx(jl,{})}),s.jsxs("div",{className:Nt.paginationInfo,children:[" ",w.current_page,"  ",w.total_pages]}),s.jsx("button",{className:Nt.paginationButton,disabled:!w.has_next,onClick:()=>ge(w.current_page+1),children:s.jsx(Nl,{})})]})]}),j&&s.jsx("div",{className:Nt.modalOverlay,onClick:()=>N(null),children:s.jsxs("div",{className:Nt.modal,onClick:de=>de.stopPropagation(),children:[s.jsxs("div",{className:Nt.modalHeader,children:[s.jsxs("h2",{children:["  ",j.number]}),s.jsx(Ti,{onClick:()=>N(null)})]}),s.jsx("div",{className:Nt.modalBody,children:s.jsxs("div",{className:Nt.receiptDetails,children:[s.jsxs("div",{className:Nt.receiptMeta,children:[s.jsxs("div",{className:Nt.metaRow,children:[s.jsx("span",{className:Nt.metaLabel,children:":"}),s.jsx("span",{className:Nt.metaValue,children:new Date(j.created_at).toLocaleString("ru-RU",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})})]}),s.jsxs("div",{className:Nt.metaRow,children:[s.jsx("span",{className:Nt.metaLabel,children:":"}),s.jsxs("span",{className:Nt.metaValue,children:[parseFloat(j.total_amount).toLocaleString("ru-RU")," "]})]}),s.jsxs("div",{className:Nt.metaRow,children:[s.jsx("span",{className:Nt.metaLabel,children:":"}),s.jsx("span",{className:Nt.metaValue,children:j.payment_method||" "})]}),j.total_returns_amount>0&&s.jsxs("div",{className:Nt.metaRow,children:[s.jsx("span",{className:Nt.metaLabel,children:":"}),s.jsxs("span",{className:Nt.metaValue,children:[parseFloat(j.total_returns_amount||0).toLocaleString("ru-RU")," "]})]}),j.profit_with_returns!==void 0&&s.jsxs("div",{className:Nt.metaRow,children:[s.jsx("span",{className:Nt.metaLabel,children:":"}),s.jsxs("span",{className:Nt.metaValue,children:[parseFloat(j.profit_with_returns||0).toLocaleString("ru-RU")," "]})]}),(j.discount_amount>0||j.discount_percent>0)&&s.jsxs("div",{className:Nt.metaRow,children:[s.jsx("span",{className:Nt.metaLabel,children:":"}),s.jsxs("span",{className:Nt.metaValue,children:[j.discount_amount>0&&`${parseFloat(j.discount_amount).toLocaleString("ru-RU")} `,j.discount_amount>0&&j.discount_percent>0&&", ",j.discount_percent>0&&`${j.discount_percent}%`]})]})]}),s.jsxs("div",{className:Nt.receiptActions,children:[s.jsxs("button",{onClick:()=>km(j.receipt_pdf_file),className:Nt.actionButtonLarge,children:[s.jsx(Rh,{}),"  "]}),s.jsxs("button",{onClick:()=>v0(j.receipt_pdf_file),className:Nt.actionButtonLarge,children:[s.jsx(Rb,{}),"  PDF"]})]}),s.jsxs("div",{className:Nt.receiptItems,children:[s.jsx("h3",{className:Nt.sectionTitle,children:" :"}),(ye=j==null?void 0:j.sales)==null?void 0:ye.map(de=>{var fe,re,xe,Se,pe;return s.jsxs("div",{className:Nt.saleItem,children:[s.jsxs("div",{className:Nt.saleItemHeader,children:[s.jsxs("div",{className:Nt.saleProductInfo,children:[((re=(fe=de.variant)==null?void 0:fe.product_main_image)==null?void 0:re.image)&&s.jsx("img",{src:de.variant.product_main_image.image,alt:de.variant.product_name,className:Nt.saleProductImage}),s.jsxs("div",{className:Nt.saleProductDetails,children:[s.jsx("div",{className:Nt.saleProductName,children:((xe=de.variant)==null?void 0:xe.product_name)||""}),s.jsxs("div",{className:Nt.saleProductSku,children:[": ",((Se=de.variant)==null?void 0:Se.sku)||""]})]})]}),s.jsxs("div",{className:Nt.saleItemPrice,children:[parseFloat(de.total_price).toLocaleString("ru-RU")," "]})]}),s.jsxs("div",{className:Nt.saleItemDetails,children:[s.jsxs("div",{className:Nt.saleDetailRow,children:[s.jsx("span",{children:"  :"}),s.jsxs("span",{children:[parseFloat(de.final_price_per_unit||de.price_per_unit).toLocaleString("ru-RU")," "]})]}),s.jsxs("div",{className:Nt.saleDetailRow,children:[s.jsx("span",{children:":"}),s.jsx("span",{children:s.jsx("strong",{children:de.quantity})})]}),de.returned_quantity>0&&s.jsxs("div",{className:Nt.saleDetailRow,children:[s.jsx("span",{children:":"}),s.jsx("span",{children:de.returned_quantity})]}),s.jsxs("div",{className:Nt.saleDetailRow,children:[s.jsx("span",{children:":"}),s.jsx("span",{children:s.jsx("strong",{children:de.quantity-(de.returned_quantity||0)})})]}),(de.discount_amount>0||de.discount_percent>0)&&s.jsxs("div",{className:Nt.saleDetailRow,children:[s.jsx("span",{children:":"}),s.jsxs("span",{children:[de.discount_amount>0&&`${de.discount_amount} `,de.discount_amount>0&&de.discount_percent>0&&", ",de.discount_percent>0&&`${de.discount_percent}%`,j.discount_percent>0&&` (+${j.discount_percent}%  )`]})]}),(de.bonus_accrued&&parseFloat(de.bonus_accrued)>0||de.bonus_redeemed&&parseFloat(de.bonus_redeemed)>0)&&s.jsxs("div",{className:Nt.saleDetailRow,children:[s.jsx("span",{children:":"}),s.jsxs("div",{className:Nt.bonusInfo,children:[de.bonus_accrued&&parseFloat(de.bonus_accrued)>0&&s.jsxs("span",{className:Nt.bonusAccrued,children:["+",parseFloat(de.bonus_accrued).toFixed(2)]}),de.bonus_redeemed&&parseFloat(de.bonus_redeemed)>0&&s.jsxs("span",{className:Nt.bonusRedeemed,children:["-",parseFloat(de.bonus_redeemed).toFixed(2)]})]})]}),((pe=de.variant)==null?void 0:pe.attributes)&&de.variant.attributes.length>0&&s.jsxs("div",{className:Nt.attributesSection,children:[s.jsx("button",{type:"button",className:Nt.attributesToggle,onClick:()=>{const Ee=new Set(se);Ee.has(de.id)?Ee.delete(de.id):Ee.add(de.id),V(Ee)},children:se.has(de.id)?s.jsxs(s.Fragment,{children:[s.jsx(Lo,{}),"  "]}):s.jsxs(s.Fragment,{children:[s.jsx(Bo,{}),"   (",de.variant.attributes.length,")"]})}),se.has(de.id)&&s.jsx("div",{className:Nt.productAttributes,children:de.variant.attributes.map(Ee=>s.jsxs("div",{className:Nt.attributeItem,children:[s.jsxs("span",{className:Nt.attributeName,children:[Ee.category_attribute_name,":"]}),s.jsx("span",{className:Nt.attributeValue,children:Ee.predefined_value_name||Ee.custom_value})]},Ee.id))})]})]}),de.available_to_return>0&&s.jsxs("button",{type:"button",className:Nt.returnButton,onClick:()=>K(de),children:[s.jsx(wh,{}),"   (",de.available_to_return," .)"]})]},de.id)})]}),((je=j==null?void 0:j.sales)==null?void 0:je.some(de=>{var fe;return((fe=de.returns)==null?void 0:fe.length)>0}))&&s.jsxs("div",{className:Nt.returnsHistory,children:[s.jsx("h3",{className:Nt.sectionTitle,children:" :"}),j.sales.flatMap(de=>de.returns.map(fe=>s.jsxs("div",{className:Nt.returnHistoryItem,children:[s.jsxs("div",{className:Nt.returnHistoryHeader,children:[s.jsx("div",{className:Nt.returnHistoryProduct,children:de.variant.product_name}),s.jsxs("div",{className:Nt.returnHistoryAmount,children:["-",parseFloat(fe.refund_amount).toLocaleString("ru-RU")," "]})]}),s.jsxs("div",{className:Nt.returnHistoryDetails,children:[s.jsxs("div",{className:Nt.returnHistoryRow,children:[s.jsx("span",{children:":"}),s.jsx("span",{children:fe.quantity})]}),s.jsxs("div",{className:Nt.returnHistoryRow,children:[s.jsx("span",{children:":"}),s.jsx("span",{children:new Date(fe.return_date).toLocaleString("ru-RU",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})})]}),fe.reason&&s.jsxs("div",{className:Nt.returnHistoryRow,children:[s.jsx("span",{children:":"}),s.jsx("span",{children:fe.reason})]}),s.jsxs("div",{className:Nt.returnHistoryRow,children:[s.jsx("span",{children:":"}),s.jsx("span",{className:`${Nt.defectBadge} ${fe.is_defect?Nt.defectYes:Nt.defectNo}`,children:fe.is_defect?"":""})]}),s.jsxs("div",{className:Nt.returnHistoryRow,children:[s.jsx("span",{children:":"}),s.jsx("span",{children:fe.location_name||""})]}),fe.created_by_name&&s.jsxs("div",{className:Nt.returnHistoryRow,children:[s.jsx("span",{children:":"}),s.jsx("span",{children:fe.created_by_name})]})]})]},fe.id)))]}),(j.customer_name||j.customer_phone)&&s.jsxs("div",{className:Nt.customerInfo,children:[s.jsx("h3",{className:Nt.sectionTitle,children:"  :"}),j.customer_name&&s.jsxs("div",{className:Nt.customerRow,children:[s.jsx("span",{children:":"}),s.jsx("span",{children:j.customer_name})]}),j.customer_phone&&s.jsxs("div",{className:Nt.customerRow,children:[s.jsx("span",{children:":"}),s.jsx("span",{children:j.customer_phone})]})]})]})})]})}),U.open&&s.jsx("div",{className:Nt.modalOverlay,onClick:G,children:s.jsxs("div",{className:Nt.modal,onClick:de=>de.stopPropagation(),children:[s.jsxs("div",{className:Nt.modalHeader,children:[s.jsxs("h2",{children:["  ",((me=(Ie=U.sale)==null?void 0:Ie.variant)==null?void 0:me.product_name)||""]}),s.jsx(Ti,{onClick:G})]}),s.jsx("div",{className:Nt.modalBody,children:s.jsxs("div",{className:Nt.returnForm,children:[g&&s.jsx("div",{className:Nt.error,children:g}),s.jsxs("div",{className:Nt.formRow,children:[s.jsx("label",{children:"  "}),s.jsx("div",{className:Nt.readonlyValue,children:U.maxQty})]}),s.jsxs("div",{className:Nt.formRow,children:[s.jsx("label",{children:""}),s.jsx("input",{type:"number",min:1,max:U.maxQty||1,value:H.quantity,onChange:de=>ne(fe=>({...fe,quantity:de.target.value}))})]}),s.jsxs("div",{className:Nt.formRow,children:[s.jsx("label",{children:""}),s.jsx("textarea",{placeholder:"  ,    ..",value:H.reason,onChange:de=>ne(fe=>({...fe,reason:de.target.value})),rows:4})]}),s.jsx("div",{className:Nt.formRowCheckbox,children:s.jsxs("label",{className:Nt.checkboxLabel,children:[s.jsx("input",{type:"checkbox",checked:H.is_defect,onChange:de=>ne(fe=>({...fe,is_defect:de.target.checked}))}),""]})}),s.jsxs("div",{className:Nt.modalActions,children:[s.jsx("button",{className:Nt.cancelButton,type:"button",onClick:G,disabled:X,children:""}),s.jsx("button",{className:Nt.submitButton,type:"button",onClick:oe,disabled:X,children:X?"...":" "})]})]})})]})})]})},Wot="_container_bt5ro_1",Yot="_loadingBox_bt5ro_17",Got="_errorBox_bt5ro_19",Qot="_spinner_bt5ro_47",Xot="_buttonSpinner_bt5ro_61",Kot="_errorIcon_bt5ro_89",Zot="_backButton_bt5ro_121",Jot="_inviteBox_bt5ro_153",ect="_header_bt5ro_175",tct="_headerIcon_bt5ro_189",nct="_content_bt5ro_215",sct="_businessInfo_bt5ro_223",act="_invitedBy_bt5ro_249",rct="_infoBlock_bt5ro_259",ict="_permissionsList_bt5ro_343",oct="_permCode_bt5ro_367",cct="_permDesc_bt5ro_391",lct="_expiryWarning_bt5ro_401",uct="_authNotice_bt5ro_447",dct="_userInfo_bt5ro_475",hct="_actions_bt5ro_515",fct="_declineButton_bt5ro_531",mct="_acceptButton_bt5ro_533",vr={container:Wot,loadingBox:Yot,errorBox:Got,spinner:Qot,buttonSpinner:Xot,errorIcon:Kot,backButton:Zot,inviteBox:Jot,header:ect,headerIcon:tct,content:nct,businessInfo:sct,invitedBy:act,infoBlock:rct,permissionsList:ict,permCode:oct,permDesc:cct,expiryWarning:lct,authNotice:uct,userInfo:dct,actions:hct,declineButton:fct,acceptButton:mct},pct=()=>{const{token:e}=fa(),t=Rs(),[n,a]=v.useState(null),[r,i]=v.useState(!0),[o,c]=v.useState(null),[l,d]=v.useState(!1),[f,g]=v.useState(null);v.useEffect(()=>{b()},[e]);const b=async()=>{var S,j;try{i(!0);const N=await Re.get(`api/invite/${e}/`);a(N.data),g(N.data.current_user||{is_authenticated:!1})}catch(N){c(((j=(S=N.response)==null?void 0:S.data)==null?void 0:j.error)||"  ")}finally{i(!1)}},w=async()=>{var S,j;if(!(f!=null&&f.is_authenticated)){sessionStorage.setItem("pending_invite_token",e),t("/registration-login?redirect="+encodeURIComponent(`/invite/employee/${e}`));return}try{d(!0),await Re.post("api/invite/accept/",{token:e}),t(`/business/${n.business_slug}/main`,{state:{message:"    !"}})}catch(N){c(((j=(S=N.response)==null?void 0:S.data)==null?void 0:j.error)||"   "),d(!1)}};return r?s.jsx("div",{className:vr.container,children:s.jsxs("div",{className:vr.loadingBox,children:[s.jsx(Mo,{className:vr.spinner}),s.jsx("p",{children:" ..."})]})}):o?s.jsx("div",{className:vr.container,children:s.jsxs(rs.div,{className:vr.errorBox,initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},children:[s.jsx(aK,{className:vr.errorIcon}),s.jsx("h2",{children:""}),s.jsx("p",{children:o}),s.jsx("button",{className:vr.backButton,onClick:()=>t("/"),children:"  "})]})}):s.jsx("div",{className:vr.container,children:s.jsxs(rs.div,{className:vr.inviteBox,initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:.5},children:[s.jsxs("div",{className:vr.header,children:[s.jsx(Cc,{className:vr.headerIcon}),s.jsx("h1",{children:"  "})]}),s.jsxs("div",{className:vr.content,children:[s.jsxs("div",{className:vr.businessInfo,children:[s.jsx("h2",{children:n.business_name}),s.jsxs("p",{className:vr.invitedBy,children:[" : ",n.invited_by_name]})]}),n.employee_name&&s.jsxs("div",{className:vr.infoBlock,children:[s.jsx(Qf,{}),s.jsxs("div",{children:[s.jsx("strong",{children:" :"}),s.jsx("p",{children:n.employee_name})]})]}),n.position&&s.jsxs("div",{className:vr.infoBlock,children:[s.jsx(Qf,{}),s.jsxs("div",{children:[s.jsx("strong",{children:":"}),s.jsx("p",{children:n.position})]})]}),n.locations_details&&n.locations_details.length>0&&s.jsxs("div",{className:vr.infoBlock,children:[s.jsx(dr,{}),s.jsxs("div",{children:[s.jsx("strong",{children:":"}),s.jsx("ul",{children:n.locations_details.map(S=>s.jsxs("li",{children:[S.name,S.address&&` - ${S.address}`]},S.id))})]})]}),n.permissions_details&&n.permissions_details.length>0&&s.jsxs("div",{className:vr.infoBlock,children:[s.jsx(PR,{}),s.jsxs("div",{children:[s.jsx("strong",{children:" :"}),s.jsx("ul",{className:vr.permissionsList,children:n.permissions_details.map(S=>s.jsxs("li",{children:[s.jsx("span",{className:vr.permCode,children:S.code}),S.description&&s.jsx("span",{className:vr.permDesc,children:S.description})]},S.id))})]})]}),s.jsxs("div",{className:vr.expiryWarning,children:[s.jsx(lu,{}),s.jsxs("p",{children:["  :"," ",new Date(n.expires_at).toLocaleDateString("ru-RU",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})]})]}),f!=null&&f.is_authenticated?s.jsx("div",{className:vr.userInfo,children:s.jsxs("p",{children:["  : ",s.jsx("strong",{children:f.full_name||f.username})]})}):s.jsx("div",{className:vr.authNotice,children:s.jsx("p",{children:"      .       ."})})]}),s.jsxs("div",{className:vr.actions,children:[s.jsx("button",{className:vr.declineButton,onClick:()=>t("/"),disabled:l,children:""}),s.jsx("button",{className:vr.acceptButton,onClick:w,disabled:l,children:l?s.jsxs(s.Fragment,{children:[s.jsx(Mo,{className:vr.buttonSpinner}),"..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Sl,{}),f!=null&&f.is_authenticated?`  ${f.full_name||f.username}`:"  "]})})]})]})})},gct="_container_1gtnn_1",_ct="_header_1gtnn_9",vct="_backButton_1gtnn_16",xct="_filters_1gtnn_37",bct="_filterGroup_1gtnn_47",yct="_locationSelect_1gtnn_58",wct="_saveButton_1gtnn_68",Cct="_loading_1gtnn_90",Sct="_emptyState_1gtnn_91",jct="_productsList_1gtnn_98",Nct="_productCard_1gtnn_103",Ect="_productHeader_1gtnn_117",kct="_productImage_1gtnn_129",Ict="_productInfo_1gtnn_137",Dct="_category_1gtnn_142",Tct="_variantsList_1gtnn_148",Act="_variantRow_1gtnn_159",Mct="_variantInfo_1gtnn_175",Rct="_variantSku_1gtnn_179",Oct="_priceRange_1gtnn_186",Bct="_priceRangeText_1gtnn_194",Lct="_variantAttributes_1gtnn_205",$ct="_attributeTag_1gtnn_211",Pct="_priceInput_1gtnn_220",Fct="_priceField_1gtnn_226",Hct="_currency_1gtnn_242",zct="_viewModeToggle_1gtnn_247",Vct="_toggleButton_1gtnn_255",qct="_toggleButtonActive_1gtnn_272",Uct="_boundVariantActions_1gtnn_283",Wct="_boundPrice_1gtnn_289",Yct="_boundPriceValue_1gtnn_294",Gct="_unbindButton_1gtnn_304",Ta={container:gct,header:_ct,backButton:vct,filters:xct,filterGroup:bct,locationSelect:yct,saveButton:wct,loading:Cct,emptyState:Sct,productsList:jct,productCard:Nct,productHeader:Ect,productImage:kct,productInfo:Ict,category:Dct,variantsList:Tct,variantRow:Act,variantInfo:Mct,variantSku:Rct,priceRange:Oct,priceRangeText:Bct,variantAttributes:Lct,attributeTag:$ct,priceInput:Pct,priceField:Fct,currency:Hct,viewModeToggle:zct,toggleButton:Vct,toggleButtonActive:qct,boundVariantActions:Uct,boundPrice:Wct,boundPriceValue:Yct,unbindButton:Gct},Qct=()=>{const{business_slug:e}=fa(),t=Rs(),{getFileUrl:n}=Ur(),[a,r]=v.useState([]),[i,o]=v.useState(null),[c,l]=v.useState([]),[d,f]=v.useState(!0),[g,b]=v.useState(!1),[w,S]=v.useState({}),[j,N]=v.useState("unbound"),[I,M]=v.useState({});v.useEffect(()=>{(async()=>{try{const H=await Re.get(`/api/business/${e}/locations/`);r(H.data.results||H.data),H.data.results&&H.data.results.length>0?o(H.data.results[0]):H.data.length>0&&o(H.data[0])}catch(H){console.error("  :",H)}})()},[e]),v.useEffect(()=>{i&&(j==="unbound"?B():P())},[i,e,j]);const B=async()=>{f(!0);try{const F=await Re.get(`/api/business/${e}/variants-without-location-price/${i.id}/`);l(F.data.products||[]),f(!1)}catch(F){console.error("  :",F),f(!1)}},P=async()=>{f(!0);try{const F=await Re.get(`/api/business/${e}/location-prices/${i.id}/`);l(F.data.products||[]),f(!1)}catch(F){console.error("   :",F),f(!1)}},O=(F,H)=>{S(ne=>({...ne,[F]:H}))},R=async()=>{var F,H;if(i){b(!0);try{const ne=Object.entries(w).map(([X,te])=>({variant_id:X,selling_price:te,is_active:!0})).filter(X=>X.selling_price>0);if(ne.length===0){alert("   "),b(!1);return}await Re.post(`/api/business/${e}/location-price/bulk-create/`,{location_id:i.id,prices:ne}),alert(`  ${ne.length} `),S({}),B()}catch(ne){console.error(" :",ne),alert("  : "+(((H=(F=ne.response)==null?void 0:F.data)==null?void 0:H.detail)||ne.message))}finally{b(!1)}}},$=F=>{const H=a.find(ne=>ne.id===parseInt(F));o(H),S({})},U=async(F,H)=>{var ne,X;if(window.confirm(" ,       ?")){M(te=>({...te,[F]:!0}));try{await Re.delete(`/api/business/${e}/location-price/${F}/delete/`),P()}catch(te){console.error("  :",te),alert("  : "+(((X=(ne=te.response)==null?void 0:ne.data)==null?void 0:X.detail)||te.message))}finally{M(te=>{const se={...te};return delete se[F],se})}}};return s.jsxs("div",{className:Ta.container,children:[s.jsxs("div",{className:Ta.header,children:[s.jsx("button",{className:Ta.backButton,onClick:()=>t(`/business/${e}/products/`),children:"   "}),s.jsx("h2",{children:"   "})]}),s.jsxs("div",{className:Ta.filters,children:[s.jsxs("div",{className:Ta.filterGroup,children:[s.jsx("label",{children:" :"}),s.jsx("select",{value:(i==null?void 0:i.id)||"",onChange:F=>$(F.target.value),className:Ta.locationSelect,children:a.map(F=>s.jsx("option",{value:F.id,children:F.name},F.id))})]}),s.jsxs("div",{className:Ta.viewModeToggle,children:[s.jsx("button",{className:`${Ta.toggleButton} ${j==="unbound"?Ta.toggleButtonActive:""}`,onClick:()=>N("unbound"),children:""}),s.jsx("button",{className:`${Ta.toggleButton} ${j==="bound"?Ta.toggleButtonActive:""}`,onClick:()=>N("bound"),children:""})]}),i&&j==="unbound"&&s.jsx("button",{className:Ta.saveButton,onClick:R,disabled:g||Object.keys(w).length===0,children:g?"...":` (${Object.keys(w).length})`})]}),d?s.jsx("div",{className:Ta.loading,children:"..."}):c.length===0?s.jsx("div",{className:Ta.emptyState,children:s.jsx("p",{children:j==="unbound"?"      ":"     "})}):s.jsx("div",{className:Ta.productsList,children:c.map(F=>s.jsxs("div",{className:Ta.productCard,children:[s.jsxs("div",{className:Ta.productHeader,children:[F.main_image&&s.jsx("img",{src:n(F.main_image.image),alt:F.name,className:Ta.productImage}),s.jsxs("div",{className:Ta.productInfo,children:[s.jsx("h3",{children:F.name}),s.jsx("p",{className:Ta.category,children:F.category_name})]})]}),s.jsxs("div",{className:Ta.variantsList,children:[s.jsx("h4",{children:":"}),F.variants.map(H=>s.jsxs("div",{className:Ta.variantRow,children:[s.jsxs("div",{className:Ta.variantInfo,children:[s.jsxs("span",{className:Ta.variantSku,children:[": ",H.sku]}),H.attributes.length>0&&s.jsx("div",{className:Ta.variantAttributes,children:H.attributes.map((ne,X)=>s.jsxs("span",{className:Ta.attributeTag,children:[ne.name,": ",ne.value]},X))}),(H.min_price||H.max_price)&&s.jsx("div",{className:Ta.priceRange,children:H.min_price&&H.max_price&&H.min_price===H.max_price?s.jsxs("span",{className:Ta.priceRangeText,children:["   : ",s.jsxs("strong",{children:[H.min_price.toLocaleString("ru-RU")," "]})]}):s.jsxs("span",{className:Ta.priceRangeText,children:["   :",H.min_price&&s.jsxs("strong",{children:[" ",H.min_price.toLocaleString("ru-RU")," "]}),H.min_price&&H.max_price&&H.min_price!==H.max_price&&s.jsxs(s.Fragment,{children:[" - ",s.jsxs("strong",{children:[H.max_price.toLocaleString("ru-RU")," "]})]})]})})]}),j==="unbound"?s.jsxs("div",{className:Ta.priceInput,children:[s.jsx("input",{type:"number",placeholder:H.min_price?` ${H.min_price.toLocaleString("ru-RU")}`:"",value:w[H.id]||"",onChange:ne=>O(H.id,ne.target.value),min:"0",step:"0.01",className:Ta.priceField}),s.jsx("span",{className:Ta.currency,children:""})]}):s.jsxs("div",{className:Ta.boundVariantActions,children:[s.jsx("div",{className:Ta.boundPrice,children:s.jsxs("span",{className:Ta.boundPriceValue,children:[H.selling_price!==void 0&&H.selling_price!==null?Number(H.selling_price).toLocaleString("ru-RU"):"0"," "]})}),s.jsx("button",{className:Ta.unbindButton,onClick:()=>U(H.price_id,H.id),disabled:I[H.price_id]||!H.price_id,children:I[H.price_id]?"...":""})]})]},H.id))]})]},F.id))})]})},Xct="_container_znuil_1",Kct="_header_znuil_9",Zct="_titleSection_znuil_18",Jct="_titleIcon_znuil_24",elt="_title_znuil_18",tlt="_createButton_znuil_36",nlt="_loadingContainer_znuil_60",slt="_errorContainer_znuil_61",alt="_emptyState_znuil_89",rlt="_emptyIcon_znuil_99",ilt="_tabs_znuil_117",olt="_tab_znuil_117",clt="_tabActive_znuil_145",llt="_batchesGrid_znuil_150",Zr={container:Xct,header:Kct,titleSection:Zct,titleIcon:Jct,title:elt,createButton:tlt,loadingContainer:nlt,errorContainer:slt,emptyState:alt,emptyIcon:rlt,tabs:ilt,tab:olt,tabActive:clt,batchesGrid:llt},ult="_card_mbpc5_1",dlt="_header_mbpc5_27",hlt="_batchNumber_mbpc5_34",flt="_statusBadge_mbpc5_43",mlt="_status_draft_mbpc5_51",plt="_status_completed_mbpc5_57",glt="_actions_mbpc5_63",_lt="_viewButton_mbpc5_68",vlt="_deleteButton_mbpc5_69",xlt="_content_mbpc5_92",blt="_infoRow_mbpc5_98",ylt="_icon_mbpc5_105",wlt="_label_mbpc5_110",Clt="_value_mbpc5_114",Slt="_stats_mbpc5_120",jlt="_statItem_mbpc5_129",Nlt="_statIcon_mbpc5_135",Elt="_statContent_mbpc5_140",klt="_statValue_mbpc5_145",Ilt="_unitsList_mbpc5_152",Dlt="_unitBadge_mbpc5_161",Tlt="_unitQuantity_mbpc5_181",Alt="_unitName_mbpc5_189",Mlt="_statLabel_mbpc5_196",Rlt="_footer_mbpc5_203",Olt="_createdAt_mbpc5_209",pa={card:ult,header:dlt,batchNumber:hlt,statusBadge:flt,status_draft:mlt,status_completed:plt,actions:glt,viewButton:_lt,deleteButton:vlt,content:xlt,infoRow:blt,icon:ylt,label:wlt,value:Clt,stats:Slt,statItem:jlt,statIcon:Nlt,statContent:Elt,statValue:klt,unitsList:Ilt,unitBadge:Dlt,unitQuantity:Tlt,unitName:Alt,statLabel:Mlt,footer:Rlt,createdAt:Olt},RF=({batch:e,onView:t,onDelete:n})=>{const a=i=>new Date(i).toLocaleDateString("ru-RU",{year:"numeric",month:"long",day:"numeric"}),r=e.status==="completed";return s.jsxs("div",{className:pa.card,children:[s.jsxs("div",{className:pa.header,children:[s.jsxs("div",{className:pa.batchNumber,children:[e.batch_number,s.jsx("span",{className:`${pa.statusBadge} ${pa[`status_${e.status}`]}`,children:e.status==="completed"?" ":" "})]}),s.jsxs("div",{className:pa.actions,children:[s.jsx("button",{className:pa.viewButton,onClick:t,title:"",children:s.jsx(Cu,{})}),s.jsx("button",{className:pa.deleteButton,onClick:n,title:r?" (   )":"",children:s.jsx(Cr,{})})]})]}),s.jsxs("div",{className:pa.content,children:[s.jsxs("div",{className:pa.infoRow,children:[s.jsx(Oo,{className:pa.icon}),s.jsx("span",{className:pa.label,children:" :"}),s.jsx("span",{className:pa.value,children:a(e.received_date)})]}),e.received_by_name&&s.jsxs("div",{className:pa.infoRow,children:[s.jsx("span",{className:pa.label,children:":"}),s.jsx("span",{className:pa.value,children:e.received_by_name})]}),e.supplier&&s.jsxs("div",{className:pa.infoRow,children:[s.jsx("span",{className:pa.label,children:":"}),s.jsx("span",{className:pa.value,children:e.supplier})]}),s.jsxs("div",{className:pa.stats,children:[e.total_items_by_unit&&e.total_items_by_unit.length>0?s.jsxs("div",{className:pa.statItem,children:[s.jsx(jc,{className:pa.statIcon}),s.jsxs("div",{className:pa.statContent,children:[s.jsx("div",{className:pa.unitsList,children:e.total_items_by_unit.map((i,o)=>{const c=i.formatted_quantity!==void 0?i.formatted_quantity:i.quantity===Math.floor(i.quantity)?Math.floor(i.quantity):parseFloat(i.quantity.toFixed(3));return s.jsxs("div",{className:pa.unitBadge,children:[s.jsx("span",{className:pa.unitQuantity,children:typeof c=="number"?c.toLocaleString("ru-RU",{maximumFractionDigits:3,minimumFractionDigits:0}):c}),s.jsx("span",{className:pa.unitName,children:i.unit})]},o)})}),s.jsx("div",{className:pa.statLabel,children:""})]})]}):s.jsxs("div",{className:pa.statItem,children:[s.jsx(jc,{className:pa.statIcon}),s.jsxs("div",{className:pa.statContent,children:[s.jsx("div",{className:pa.statValue,children:e.total_items||0}),s.jsx("div",{className:pa.statLabel,children:""})]})]}),s.jsxs("div",{className:pa.statItem,children:[s.jsx(dr,{className:pa.statIcon}),s.jsxs("div",{className:pa.statContent,children:[s.jsx("div",{className:pa.statValue,children:e.total_locations||0}),s.jsx("div",{className:pa.statLabel,children:""})]})]})]})]}),s.jsx("div",{className:pa.footer,children:s.jsxs("span",{className:pa.createdAt,children:[": ",a(e.created_at)]})})]})},Blt="_card_1owts_1",Llt="_header_1owts_73",$lt="_transferNumber_1owts_87",Plt="_statusBadge_1owts_107",Flt="_status_draft_1owts_125",Hlt="_status_completed_1owts_137",zlt="_status_cancelled_1owts_149",Vlt="_actions_1owts_161",qlt="_viewButton_1owts_173",Ult="_deleteButton_1owts_175",Wlt="_content_1owts_229",Ylt="_locations_1owts_241",Glt="_locationRow_1owts_261",Qlt="_arrow_1owts_273",Xlt="_locationLabel_1owts_291",Klt="_locationValue_1owts_305",Zlt="_icon_1owts_319",Jlt="_stats_1owts_331",eut="_statItem_1owts_345",tut="_statIcon_1owts_359",nut="_statContent_1owts_371",sut="_statValue_1owts_383",aut="_statLabel_1owts_395",rut="_infoRow_1owts_405",iut="_label_1owts_419",out="_value_1owts_429",cut="_footer_1owts_437",lut="_createdAt_1owts_449",Aa={card:Blt,header:Llt,transferNumber:$lt,statusBadge:Plt,status_draft:Flt,status_completed:Hlt,status_cancelled:zlt,actions:Vlt,viewButton:qlt,deleteButton:Ult,content:Wlt,locations:Ylt,locationRow:Glt,arrow:Qlt,locationLabel:Xlt,locationValue:Klt,icon:Zlt,stats:Jlt,statItem:eut,statIcon:tut,statContent:nut,statValue:sut,statLabel:aut,infoRow:rut,label:iut,value:out,footer:cut,createdAt:lut},OF=({transfer:e,onView:t,onDelete:n})=>{const a=c=>c?new Date(c).toLocaleDateString("ru-RU",{year:"numeric",month:"long",day:"numeric"}):" ",i=(()=>{switch(e.status){case"completed":return{text:" ",className:Aa.status_completed};case"cancelled":return{text:" ",className:Aa.status_cancelled};default:return{text:" ",className:Aa.status_draft}}})(),o=e.status==="draft";return s.jsxs("div",{className:Aa.card,onClick:t,children:[s.jsxs("div",{className:Aa.header,children:[s.jsxs("div",{className:Aa.transferNumber,children:[e.transfer_number,s.jsx("span",{className:`${Aa.statusBadge} ${i.className}`,children:i.text})]}),s.jsxs("div",{className:Aa.actions,onClick:c=>c.stopPropagation(),children:[s.jsx("button",{className:Aa.viewButton,onClick:t,title:"",children:s.jsx(Cu,{})}),o&&s.jsx("button",{className:Aa.deleteButton,onClick:n,title:"",children:s.jsx(Cr,{})})]})]}),s.jsxs("div",{className:Aa.content,children:[s.jsxs("div",{className:Aa.locations,children:[s.jsxs("div",{className:Aa.locationRow,children:[s.jsx(dr,{className:Aa.icon}),s.jsx("span",{className:Aa.locationLabel,children:":"}),s.jsx("span",{className:Aa.locationValue,children:e.from_location_name})]}),s.jsx("div",{className:Aa.arrow,children:s.jsx(Tb,{})}),s.jsxs("div",{className:Aa.locationRow,children:[s.jsx(dr,{className:Aa.icon}),s.jsx("span",{className:Aa.locationLabel,children:":"}),s.jsx("span",{className:Aa.locationValue,children:e.to_location_name})]})]}),s.jsx("div",{className:Aa.stats,children:s.jsxs("div",{className:Aa.statItem,children:[s.jsx(Hc,{className:Aa.statIcon}),s.jsxs("div",{className:Aa.statContent,children:[s.jsx("div",{className:Aa.statValue,children:e.total_quantity?parseFloat(e.total_quantity).toLocaleString("ru-RU"):"0"}),s.jsx("div",{className:Aa.statLabel,children:""})]})]})}),e.created_by_name&&s.jsxs("div",{className:Aa.infoRow,children:[s.jsx("span",{className:Aa.label,children:":"}),s.jsx("span",{className:Aa.value,children:e.created_by_name})]}),e.completed_at&&s.jsxs("div",{className:Aa.infoRow,children:[s.jsx(Oo,{className:Aa.icon}),s.jsx("span",{className:Aa.label,children:":"}),s.jsx("span",{className:Aa.value,children:a(e.completed_at)})]})]}),s.jsx("div",{className:Aa.footer,children:s.jsxs("span",{className:Aa.createdAt,children:[": ",a(e.created_at)]})})]})},uut="_overlay_k2joq_1",dut="_modal_k2joq_15",hut="_header_k2joq_26",fut="_title_k2joq_34",mut="_closeButton_k2joq_44",put="_form_k2joq_60",gut="_formGroup_k2joq_67",_ut="_helpText_k2joq_99",vut="_stocksSection_k2joq_105",xut="_stocksHeader_k2joq_110",but="_addButton_k2joq_123",yut="_stocksList_k2joq_141",wut="_stockRow_k2joq_147",Cut="_selectedProductCard_k2joq_270",Sut="_selectedProductImage_k2joq_281",jut="_selectedNoImage_k2joq_289",Nut="_selectedProductInfo_k2joq_301",Eut="_selectedProductName_k2joq_308",kut="_selectedProductVariant_k2joq_314",Iut="_selectedAttributes_k2joq_319",Dut="_attributeBadge_k2joq_325",Tut="_stockControls_k2joq_351",Aut="_locationDisplay_k2joq_358",Mut="_priceDisplay_k2joq_372",Rut="_inputWithLabel_k2joq_388",Out="_quantityInput_k2joq_395",But="_currencyLabel_k2joq_399",Lut="_fieldLabel_k2joq_403",$ut="_unitLabel_k2joq_423",Put="_checkboxLabel_k2joq_441",Fut="_removeButton_k2joq_457",Hut="_emptyStocks_k2joq_472",zut="_actions_k2joq_478",Vut="_cancelButton_k2joq_486",qut="_submitButton_k2joq_487",Uut="_documentsSection_k2joq_521",Wut="_sectionHeader_k2joq_527",Yut="_addDocumentButton_k2joq_534",Gut="_documentUploadForm_k2joq_554",Qut="_documentUploadActions_k2joq_581",Xut="_documentsList_k2joq_624",Kut="_documentCard_k2joq_631",Zut="_documentIcon_k2joq_641",Jut="_documentInfo_k2joq_646",edt="_documentName_k2joq_653",tdt="_documentDescription_k2joq_658",ndt="_defectSection_k2joq_663",sdt="_addDefectButton_k2joq_674",adt="_defectForm_k2joq_694",rdt="_defectFormRow_k2joq_704",idt="_defectFormActions_k2joq_710",odt="_addDefectBtn_k2joq_715",cdt="_cancelDefectBtn_k2joq_731",ldt="_defectsList_k2joq_747",udt="_defectItem_k2joq_753",ddt="_defectQuantity_k2joq_763",hdt="_defectReason_k2joq_769",fdt="_removeDefectBtn_k2joq_775",mdt="_textInput_k2joq_790",pdt="_activeFlagsSection_k2joq_800",gdt="_activeFlagsTitle_k2joq_809",_dt="_activeFlagsList_k2joq_818",vdt="_activeFlagItem_k2joq_824",xdt="_flagLabel_k2joq_855",$n={overlay:uut,modal:dut,header:hut,title:fut,closeButton:mut,form:put,formGroup:gut,helpText:_ut,stocksSection:vut,stocksHeader:xut,addButton:but,stocksList:yut,stockRow:wut,selectedProductCard:Cut,selectedProductImage:Sut,selectedNoImage:jut,selectedProductInfo:Nut,selectedProductName:Eut,selectedProductVariant:kut,selectedAttributes:Iut,attributeBadge:Dut,stockControls:Tut,locationDisplay:Aut,priceDisplay:Mut,inputWithLabel:Rut,quantityInput:Out,currencyLabel:But,fieldLabel:Lut,unitLabel:$ut,checkboxLabel:Put,removeButton:Fut,emptyStocks:Hut,actions:zut,cancelButton:Vut,submitButton:qut,documentsSection:Uut,sectionHeader:Wut,addDocumentButton:Yut,documentUploadForm:Gut,documentUploadActions:Qut,documentsList:Xut,documentCard:Kut,documentIcon:Zut,documentInfo:Jut,documentName:edt,documentDescription:tdt,defectSection:ndt,addDefectButton:sdt,defectForm:adt,defectFormRow:rdt,defectFormActions:idt,addDefectBtn:odt,cancelDefectBtn:cdt,defectsList:ldt,defectItem:udt,defectQuantity:ddt,defectReason:hdt,removeDefectBtn:fdt,textInput:mdt,activeFlagsSection:pdt,activeFlagsTitle:gdt,activeFlagsList:_dt,activeFlagItem:vdt,flagLabel:xdt},bdt="_overlay_csyx2_1",ydt="_modal_csyx2_15",wdt="_header_csyx2_27",Cdt="_title_csyx2_35",Sdt="_closeButton_csyx2_42",jdt="_searchSection_csyx2_58",Ndt="_searchBox_csyx2_65",Edt="_searchIcon_csyx2_72",kdt="_searchButton_csyx2_97",Idt="_spinner_csyx2_121",Ddt="_filterSection_csyx2_134",Tdt="_locationFilter_csyx2_139",Adt="_sortControl_csyx2_167",Mdt="_sortButton_csyx2_172",Rdt="_active_csyx2_192",Odt="_content_csyx2_220",Bdt="_loading_csyx2_226",Ldt="_emptyState_csyx2_232",$dt="_productGrid_csyx2_238",Pdt="_productCard_csyx2_244",Fdt="_selected_csyx2_263",Hdt="_checkbox_csyx2_269",zdt="_productImage_csyx2_291",Vdt="_noImagePlaceholder_csyx2_298",qdt="_productInfo_csyx2_310",Udt="_productName_csyx2_316",Wdt="_productVariant_csyx2_327",Ydt="_attributes_csyx2_332",Gdt="_attribute_csyx2_332",Qdt="_attributeMore_csyx2_347",Xdt="_locationInfo_csyx2_357",Kdt="_locationName_csyx2_366",Zdt="_price_csyx2_381",Jdt="_quantity_csyx2_396",eht="_productCategory_csyx2_410",tht="_footer_csyx2_418",nht="_selectedCount_csyx2_426",sht="_actions_csyx2_431",aht="_cancelButton_csyx2_436",rht="_confirmButton_csyx2_437",ia={overlay:bdt,modal:ydt,header:wdt,title:Cdt,closeButton:Sdt,searchSection:jdt,searchBox:Ndt,searchIcon:Edt,searchButton:kdt,spinner:Idt,filterSection:Ddt,locationFilter:Tdt,sortControl:Adt,sortButton:Mdt,active:Rdt,content:Odt,loading:Bdt,emptyState:Ldt,productGrid:$dt,productCard:Pdt,selected:Fdt,checkbox:Hdt,productImage:zdt,noImagePlaceholder:Vdt,productInfo:qdt,productName:Udt,productVariant:Wdt,attributes:Ydt,attribute:Gdt,attributeMore:Qdt,locationInfo:Xdt,locationName:Kdt,price:Zdt,quantity:Jdt,productCategory:eht,footer:tht,selectedCount:nht,actions:sht,cancelButton:aht,confirmButton:rht},BF=({businessSlug:e,onSelect:t,onClose:n,selectedVariants:a=[]})=>{const{getFileUrl:r}=Ur(),[i,o]=v.useState([]),[c,l]=v.useState([]),[d,f]=v.useState([]),[g,b]=v.useState(null),[w,S]=v.useState(!1),[j,N]=v.useState(""),[I,M]=v.useState(""),[B,P]=v.useState("newest"),[O,R]=v.useState(a),[$,U]=v.useState({has_next:!1,current_page:1}),F=v.useCallback(async()=>{try{const J=await Re.get(`/api/business/${e}/locations/`);f(J.data.results||J.data||[])}catch(J){console.error("  :",J)}},[e]),H=v.useCallback(async(J=1,Z=!1)=>{var A;S(!0);try{const Y=B==="newest"?"-created_at":"created_at",K=g?`&location=${g}`:"",oe=`&page=${J}&page_size=20`,ee=await Re.get(`/api/v1/business/${e}/products/?sort=${Y}${K}${oe}`),ae=[];(A=ee.data.products)==null||A.forEach(ie=>{var ge;const ue=ie.main_image,he=ie.unit_display||".";(ge=ie.variants)==null||ge.forEach(ye=>{var je;(je=ye.locations)==null||je.forEach(Ie=>{ae.push({id:`${ye.id}-${Ie.id}`,variant_id:ye.id,variant_name:ye.name,product_name:ie.name,product_id:ie.id,full_name:`${ie.name} ${ye.name||""}`.trim(),main_image:ue,category_name:ie.category_name,attributes:ye.attributes||[],location_id:Ie.location_id,location_name:Ie.location_name,location_price_id:Ie.id,price:Ie.price,quantity:Ie.quantity,variant_on_location_id:Ie.id,unit_display:Ie.unit_display||he,is_active_on_marketplace:Ie.is_active_on_marketplace||!1,is_active_for_offline_sale:Ie.is_active_for_offline_sale||!1,is_active_on_own_site:Ie.is_active_on_own_site||!1})})})}),Z?(o(ie=>[...ie,...ae]),l(ie=>[...ie,...ae])):(o(ae),l(ae)),ee.data.pagination&&U(ee.data.pagination)}catch(Y){console.error("  :",Y)}finally{S(!1)}},[e,B,g]);v.useEffect(()=>{F()},[F]),v.useEffect(()=>{o([]),l([]),U({has_next:!1,current_page:1}),H(1,!1)},[B,g]);const ne=v.useCallback(async()=>{if(!$.has_next||w)return;const J=$.current_page+1;await H(J,!0)},[$,w,H]),X=J=>{R(Z=>Z.some(Y=>Y.id===J.id)?Z.filter(Y=>Y.id!==J.id):[...Z,J])},te=()=>{t(O),n()},se=J=>O.some(Z=>Z.id===J),V=()=>{N(I)},q=J=>{J.key==="Enter"&&V()},T=j?c.filter(J=>{var Z,A;return J.full_name.toLowerCase().includes(j.toLowerCase())||J.product_name.toLowerCase().includes(j.toLowerCase())||((Z=J.category_name)==null?void 0:Z.toLowerCase().includes(j.toLowerCase()))||((A=J.location_name)==null?void 0:A.toLowerCase().includes(j.toLowerCase()))}):c;return s.jsx("div",{className:ia.overlay,onClick:n,children:s.jsxs("div",{className:ia.modal,onClick:J=>J.stopPropagation(),children:[s.jsxs("div",{className:ia.header,children:[s.jsx("h2",{className:ia.title,children:" "}),s.jsx("button",{className:ia.closeButton,onClick:n,children:s.jsx(aa,{})})]}),s.jsxs("div",{className:ia.searchSection,children:[s.jsxs("div",{className:ia.searchBox,children:[s.jsx(ri,{className:ia.searchIcon}),s.jsx("input",{type:"text",placeholder:" ...",value:I,onChange:J=>M(J.target.value),onKeyPress:q}),s.jsx("button",{type:"button",className:ia.searchButton,onClick:V,disabled:w,children:w?s.jsx(Mo,{className:ia.spinner}):""})]}),s.jsx("div",{className:ia.filterSection,children:s.jsxs("select",{className:ia.locationFilter,value:g||"",onChange:J=>b(J.target.value||null),children:[s.jsx("option",{value:"",children:" "}),d.map(J=>s.jsx("option",{value:J.id,children:J.name},J.id))]})}),s.jsxs("div",{className:ia.sortControl,children:[s.jsxs("button",{className:`${ia.sortButton} ${B==="newest"?ia.active:""}`,onClick:()=>P("newest"),children:[s.jsx(tK,{}),""]}),s.jsxs("button",{className:`${ia.sortButton} ${B==="oldest"?ia.active:""}`,onClick:()=>P("oldest"),children:[s.jsx(nK,{}),""]})]})]}),s.jsx("div",{className:ia.content,id:"product-selector-scrollable",children:w&&i.length===0?s.jsx("div",{className:ia.loading,children:"..."}):T.length===0?s.jsx("div",{className:ia.emptyState,children:s.jsx("p",{children:"  "})}):s.jsx(T3,{dataLength:i.length,next:ne,hasMore:$.has_next&&!j,loader:s.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",padding:"20px"},children:s.jsx(Wn,{size:"small"})}),scrollableTarget:"product-selector-scrollable",className:ia.productGrid,children:T.map(J=>{var Z,A;return s.jsxs("div",{className:`${ia.productCard} ${se(J.id)?ia.selected:""}`,onClick:()=>X(J),children:[s.jsx("div",{className:ia.checkbox,children:se(J.id)&&s.jsx(qr,{})}),(Z=J.main_image)!=null&&Z.image?s.jsx("img",{src:r(J.main_image.image),alt:J.full_name,className:ia.productImage,onError:Y=>{Y.target.onerror=null,Y.target.src="https://via.placeholder.com/200x280?text=No+Image"}}):s.jsx("div",{className:ia.noImagePlaceholder,children:""}),s.jsxs("div",{className:ia.productInfo,children:[s.jsx("div",{className:ia.productName,children:J.product_name}),s.jsx("div",{className:ia.productVariant,children:J.variant_name||" "}),J.attributes&&J.attributes.length>0&&s.jsxs("div",{className:ia.attributes,children:[J.attributes.slice(0,3).map((Y,K)=>s.jsxs("span",{className:ia.attribute,children:[Y.attribute_name,": ",Y.display_value||Y.custom_value]},K)),J.attributes.length>3&&s.jsxs("span",{className:ia.attributeMore,children:["+",J.attributes.length-3," "]})]}),s.jsxs("div",{className:ia.locationInfo,children:[s.jsx("div",{className:ia.locationName,children:J.location_name}),s.jsxs("div",{className:ia.price,children:[(A=J.price)==null?void 0:A.toLocaleString("ru-RU")," "]}),J.quantity!==null&&s.jsxs("div",{className:ia.quantity,children:[J.quantity," ."]})]}),s.jsx("div",{className:ia.productCategory,children:J.category_name})]})]},J.id)})})}),s.jsxs("div",{className:ia.footer,children:[s.jsxs("div",{className:ia.selectedCount,children:[": ",O.length]}),s.jsxs("div",{className:ia.actions,children:[s.jsx("button",{className:ia.cancelButton,onClick:n,children:""}),s.jsx("button",{className:ia.confirmButton,onClick:te,disabled:O.length===0,children:" "})]})]})]})})},LF=({businessSlug:e,onClose:t,onSuccess:n})=>{const{getFileUrl:a}=Ur(),[r,i]=v.useState(!1),[o,c]=v.useState([]),[l,d]=v.useState([]),[f,g]=v.useState(!1),[b,w]=v.useState({batch_number:"",received_date:new Date().toISOString().slice(0,16),supplier:"",notes:"",received_by:""}),[S,j]=v.useState([]),[N,I]=v.useState([]),[M,B]=v.useState({document:null,name:"",description:""}),[P,O]=v.useState(null),[R,$]=v.useState(0),[U,F]=v.useState("");v.useEffect(()=>{H(),ne()},[]);const H=async()=>{try{const G=await Re.get(`/api/business/${e}/locations/`);c(G.data.results||G.data)}catch(G){console.error("  :",G)}},ne=async()=>{try{const G=await Re.get(`/api/business/${e}/employees/`);d(G.data)}catch(G){console.error("  :",G)}},X=(G,oe)=>{w(ee=>({...ee,[G]:oe}))},te=()=>{g(!0)},se=G=>{if(G.length===0)return;const oe=G.map(ee=>({variant_on_location_id:ee.variant_on_location_id,variant_id:ee.variant_id,location_id:ee.location_id,location_name:ee.location_name,quantity:1,cost_price:"",reserved_quantity:0,defects:[],is_available_for_sale:!0,is_active_on_marketplace:ee.is_active_on_marketplace||!1,is_active_for_offline_sale:ee.is_active_for_offline_sale||!1,is_active_on_own_site:ee.is_active_on_own_site||!1,variant_name:`${ee.product_name} ${ee.variant_name||""}`.trim(),variant_data:{name:ee.variant_name,main_image:ee.main_image,attributes:ee.attributes},price:ee.price,unit_display:ee.unit_display||"."}));j([...S,...oe]),g(!1)},V=G=>{j(S.filter((oe,ee)=>ee!==G))},q=(G,oe,ee)=>{const ae=[...S];ae[G]={...ae[G],[oe]:ee},j(ae)},T=G=>{const oe=typeof R=="number"?R:parseFloat(R)||0;if(!oe||oe<=0){alert("  ");return}if(!U.trim()){alert("  ");return}const ee=S[G],ae=ee.defects||[],ie=ae.reduce((ye,je)=>{const Ie=typeof je.quantity=="number"?je.quantity:parseFloat(je.quantity)||0;return ye+Ie},0),ue=typeof ee.quantity=="number"?ee.quantity:parseFloat(ee.quantity)||0;if(ie+oe>ue){alert(`   (${ie+oe})      (${ue})`);return}const he={quantity:oe,reason:U,created_at:new Date().toISOString()},ge=[...S];ge[G]={...ge[G],defects:[...ae,he]},j(ge),O(null),$(0),F("")},J=(G,oe)=>{const ee=[...S];ee[G].defects=ee[G].defects.filter((ae,ie)=>ie!==oe),j(ee)},Z=G=>{B(oe=>({...oe,document:G.target.files[0]}))},A=()=>{if(!M.document||!M.name){alert("     ");return}const G={document:M.document,name:M.name,description:M.description,file_url:URL.createObjectURL(M.document)};I([...N,G]),B({document:null,name:"",description:""})},Y=G=>{I(N.filter((oe,ee)=>ee!==G))},K=async G=>{var oe,ee;if(G.preventDefault(),S.length===0){alert("      ");return}i(!0);try{const ae={...b,stocks:S.filter(ie=>ie.variant_on_location_id).map(ie=>{let ue=ie.quantity;ue===""||ue===null||ue===void 0?ue=ie.unit_display==="."?1:.001:(ue=typeof ue=="number"?ue:parseFloat(ue),isNaN(ue)?ue=ie.unit_display==="."?1:.001:ue=ie.unit_display==="."?Math.max(1,Math.floor(ue)):Math.max(.001,ue));let he=ie.reserved_quantity;return he===""||he===null||he===void 0?he=0:(he=typeof he=="number"?he:parseFloat(he),isNaN(he)?he=0:(he=ie.unit_display==="."?Math.max(0,Math.floor(he)):Math.max(0,he),he=Math.min(he,ue))),{variant_on_location_id:ie.variant_on_location_id,quantity:ue,cost_price:ie.cost_price||null,reserved_quantity:he,defects:ie.defects||[],is_available_for_sale:ie.is_available_for_sale,is_active_on_marketplace:ie.is_active_on_marketplace||!1,is_active_for_offline_sale:ie.is_active_for_offline_sale||!1,is_active_on_own_site:ie.is_active_on_own_site||!1}})};ae.received_by||delete ae.received_by,(!ae.batch_number||ae.batch_number.trim()==="")&&delete ae.batch_number,await n(ae,N)}catch(ae){console.error("  :",ae),alert(((ee=(oe=ae.response)==null?void 0:oe.data)==null?void 0:ee.detail)||"   ")}finally{i(!1)}};return r?s.jsx("div",{className:$n.overlay,children:s.jsx("div",{className:$n.modal,children:s.jsx(Wn,{})})}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:$n.overlay,onClick:t,children:s.jsxs("div",{className:$n.modal,onClick:G=>G.stopPropagation(),children:[s.jsxs("div",{className:$n.header,children:[s.jsxs("h2",{className:$n.title,children:[s.jsx(jc,{}),"  "]}),s.jsx("button",{className:$n.closeButton,onClick:t,children:s.jsx(aa,{})})]}),s.jsxs("form",{onSubmit:K,className:$n.form,children:[s.jsxs("div",{className:$n.formGroup,children:[s.jsx("label",{children:"  ()"}),s.jsx("input",{type:"text",value:b.batch_number,onChange:G=>X("batch_number",G.target.value),placeholder:"  ,   "}),s.jsx("small",{className:$n.helpText,children:"    "})]}),s.jsxs("div",{className:$n.formGroup,children:[s.jsx("label",{children:"  *"}),s.jsx("input",{type:"datetime-local",required:!0,value:b.received_date,onChange:G=>X("received_date",G.target.value)})]}),s.jsxs("div",{className:$n.formGroup,children:[s.jsx("label",{children:""}),s.jsx("input",{type:"text",value:b.supplier,onChange:G=>X("supplier",G.target.value),placeholder:" "})]}),s.jsxs("div",{className:$n.formGroup,children:[s.jsx("label",{children:" "}),s.jsxs("select",{value:b.received_by,onChange:G=>X("received_by",G.target.value),children:[s.jsx("option",{value:"",children:" "}),l.map(G=>s.jsx("option",{value:G.user||"",children:G.name||G.full_name||` #${G.id}`},G.id))]})]}),s.jsxs("div",{className:$n.formGroup,children:[s.jsx("label",{children:""}),s.jsx("textarea",{value:b.notes,onChange:G=>X("notes",G.target.value),rows:"3",placeholder:" "})]}),s.jsxs("div",{className:$n.stocksSection,children:[s.jsxs("div",{className:$n.stocksHeader,children:[s.jsxs("h3",{children:["   (",S.length,")"]}),s.jsxs("button",{type:"button",className:$n.addButton,onClick:te,children:[s.jsx($a,{})," "]})]}),s.jsxs("div",{className:$n.stocksList,children:[S.map((G,oe)=>{var ee;return s.jsxs("div",{className:$n.stockRow,children:[G.variant_data&&s.jsxs("div",{className:$n.selectedProductCard,children:[(ee=G.variant_data.main_image)!=null&&ee.image?s.jsx("img",{src:a(G.variant_data.main_image.image),alt:G.variant_name,className:$n.selectedProductImage,onError:ae=>{ae.target.onerror=null,ae.target.src="https://via.placeholder.com/70x98?text=No+Image"}}):s.jsx("div",{className:$n.selectedNoImage,children:s.jsx(jc,{size:40})}),s.jsxs("div",{className:$n.selectedProductInfo,children:[s.jsx("div",{className:$n.selectedProductName,children:G.variant_name}),s.jsx("div",{className:$n.selectedProductVariant,children:G.variant_data.name||" "}),G.variant_data.attributes&&G.variant_data.attributes.length>0&&s.jsx("div",{className:$n.selectedAttributes,children:G.variant_data.attributes.map((ae,ie)=>s.jsxs("span",{className:$n.attributeBadge,children:[ae.attribute_name,": ",ae.display_value||ae.custom_value]},ie))})]})]}),s.jsxs("div",{className:$n.stockControls,children:[G.location_name&&s.jsxs("div",{className:$n.locationDisplay,children:[s.jsx("strong",{children:":"})," ",G.location_name,G.price&&s.jsxs("span",{className:$n.priceDisplay,children:[": ",G.price.toLocaleString("ru-RU")," "]})]}),s.jsxs("div",{className:$n.inputWithLabel,children:[s.jsx("label",{className:$n.fieldLabel,children:""}),s.jsx("input",{type:"number",min:G.unit_display==="."?"1":"0.001",step:G.unit_display==="."?"1":"0.001",value:G.quantity===null||G.quantity===void 0?"":G.quantity,onChange:ae=>{const ie=ae.target.value;if(ie===""){q(oe,"quantity","");return}const ue=G.unit_display==="."?ie.includes(".")?Math.floor(parseFloat(ie)):parseInt(ie):parseFloat(ie);isNaN(ue)||q(oe,"quantity",ue)},onBlur:ae=>{const ie=ae.target.value;if(ie===""||ie===null||ie===void 0){const ue=G.unit_display==="."?1:.001;q(oe,"quantity",ue)}else{const ue=G.unit_display==="."?Math.max(1,parseInt(ie)||1):Math.max(.001,parseFloat(ie)||.001);q(oe,"quantity",ue)}},required:!0,className:$n.quantityInput,placeholder:"-"}),s.jsx("span",{className:$n.unitLabel,children:G.unit_display||"."})]}),s.jsxs("div",{className:$n.inputWithLabel,children:[s.jsx("label",{className:$n.fieldLabel,children:""}),s.jsx("input",{type:"number",step:"0.01",min:"0",value:G.cost_price,onChange:ae=>q(oe,"cost_price",parseFloat(ae.target.value)||""),className:$n.quantityInput,placeholder:"0.00",title:"  "}),s.jsx("span",{className:$n.currencyLabel,children:""})]}),s.jsxs("div",{className:$n.inputWithLabel,children:[s.jsx("label",{className:$n.fieldLabel,children:" "}),s.jsx("input",{type:"number",min:"0",step:G.unit_display==="."?"1":"0.001",max:G.quantity||0,value:G.reserved_quantity===null||G.reserved_quantity===void 0?"":G.reserved_quantity,onChange:ae=>{const ie=ae.target.value;if(ie===""){q(oe,"reserved_quantity","");return}const ue=G.unit_display==="."?ie.includes(".")?Math.floor(parseFloat(ie)):parseInt(ie):parseFloat(ie);if(!isNaN(ue)){const he=typeof G.quantity=="number"?G.quantity:parseFloat(G.quantity)||0;q(oe,"reserved_quantity",Math.min(Math.max(0,ue),he))}},onBlur:ae=>{const ie=ae.target.value;if(ie===""||ie===null||ie===void 0)q(oe,"reserved_quantity",0);else{const ue=G.unit_display==="."?Math.max(0,parseInt(ie)||0):Math.max(0,parseFloat(ie)||0),he=typeof G.quantity=="number"?G.quantity:parseFloat(G.quantity)||0;q(oe,"reserved_quantity",Math.min(ue,he))}},className:$n.quantityInput,placeholder:"0",title:`  (  ,  ${G.quantity||0})`}),s.jsx("span",{className:$n.unitLabel,children:G.unit_display||"."})]}),s.jsxs("label",{className:$n.checkboxLabel,children:[s.jsx("input",{type:"checkbox",checked:G.is_available_for_sale,onChange:ae=>q(oe,"is_available_for_sale",ae.target.checked)}),""]}),s.jsxs("div",{className:$n.activeFlagsSection,children:[s.jsx("div",{className:$n.activeFlagsTitle,children:" :"}),s.jsxs("div",{className:$n.activeFlagsList,children:[s.jsxs("label",{className:$n.activeFlagItem,children:[s.jsx("input",{type:"checkbox",checked:G.is_active_on_marketplace||!1,onChange:ae=>q(oe,"is_active_on_marketplace",ae.target.checked),disabled:!G.quantity||G.quantity===0,title:!G.quantity||G.quantity===0?"  ":""}),s.jsx("span",{className:$n.flagLabel,children:" "})]}),s.jsxs("label",{className:$n.activeFlagItem,children:[s.jsx("input",{type:"checkbox",checked:G.is_active_for_offline_sale||!1,onChange:ae=>q(oe,"is_active_for_offline_sale",ae.target.checked),disabled:!G.quantity||G.quantity===0,title:!G.quantity||G.quantity===0?"  ":""}),s.jsx("span",{className:$n.flagLabel,children:" "})]}),s.jsxs("label",{className:$n.activeFlagItem,children:[s.jsx("input",{type:"checkbox",checked:G.is_active_on_own_site||!1,onChange:ae=>q(oe,"is_active_on_own_site",ae.target.checked),disabled:!G.quantity||G.quantity===0,title:!G.quantity||G.quantity===0?"  ":""}),s.jsx("span",{className:$n.flagLabel,children:"  "})]})]})]}),s.jsx("button",{type:"button",className:$n.removeButton,onClick:()=>V(oe),children:s.jsx(Cr,{})})]}),P===oe?s.jsxs("div",{className:$n.defectForm,children:[s.jsxs("div",{className:$n.defectFormRow,children:[s.jsxs("div",{className:$n.inputWithLabel,children:[s.jsx("label",{className:$n.fieldLabel,children:" "}),s.jsx("input",{type:"number",min:"1",value:R,onChange:ae=>$(parseInt(ae.target.value)||0),className:$n.quantityInput,placeholder:"0"})]}),s.jsxs("div",{className:$n.inputWithLabel,children:[s.jsx("label",{className:$n.fieldLabel,children:" "}),s.jsx("input",{type:"text",value:U,onChange:ae=>F(ae.target.value),className:$n.textInput,placeholder:":  "})]})]}),s.jsxs("div",{className:$n.defectFormActions,children:[s.jsx("button",{type:"button",className:$n.addDefectBtn,onClick:()=>T(oe),children:""}),s.jsx("button",{type:"button",className:$n.cancelDefectBtn,onClick:()=>{O(null),$(0),F("")},children:""})]})]}):s.jsxs("div",{className:$n.defectSection,children:[s.jsx("button",{type:"button",className:$n.addDefectButton,onClick:()=>{O(oe),$(0),F("")},children:"  "}),G.defects&&G.defects.length>0&&s.jsx("div",{className:$n.defectsList,children:G.defects.map((ae,ie)=>s.jsxs("div",{className:$n.defectItem,children:[s.jsxs("span",{className:$n.defectQuantity,children:[ae.quantity," ",G.unit_display||"."]}),s.jsxs("span",{className:$n.defectReason,children:[" ",ae.reason]}),s.jsx("button",{type:"button",className:$n.removeDefectBtn,onClick:()=>J(oe,ie),children:s.jsx(Cr,{size:12})})]},ie))})]})]},oe)}),S.length===0&&s.jsx("div",{className:$n.emptyStocks,children:s.jsx("p",{children:"   "})})]})]}),s.jsxs("div",{className:$n.documentsSection,children:[s.jsx("div",{className:$n.sectionHeader,children:s.jsxs("h3",{children:[" (",N.length,")"]})}),s.jsx("input",{type:"file",id:"documentUploadCreate",style:{display:"none"},onChange:Z}),M.document?s.jsxs("div",{className:$n.documentUploadForm,children:[s.jsx("input",{type:"text",placeholder:"  ()",value:M.name,onChange:G=>B(oe=>({...oe,name:G.target.value}))}),s.jsx("textarea",{placeholder:" ()",value:M.description,onChange:G=>B(oe=>({...oe,description:G.target.value})),rows:"2"}),s.jsxs("div",{className:$n.documentUploadActions,children:[s.jsxs("button",{type:"button",onClick:A,disabled:!M.name,children:[s.jsx($a,{}),""]}),s.jsx("button",{type:"button",onClick:()=>B({document:null,name:"",description:""}),children:""})]})]}):s.jsxs("button",{type:"button",className:$n.addDocumentButton,onClick:()=>document.getElementById("documentUploadCreate").click(),children:[s.jsx($a,{})," "]}),N.length>0&&s.jsx("div",{className:$n.documentsList,children:N.map((G,oe)=>s.jsxs("div",{className:$n.documentCard,children:[s.jsx(uu,{className:$n.documentIcon}),s.jsxs("div",{className:$n.documentInfo,children:[s.jsx("div",{className:$n.documentName,children:G.name}),G.description&&s.jsx("div",{className:$n.documentDescription,children:G.description})]}),s.jsx("button",{type:"button",className:$n.deleteButton,onClick:()=>Y(oe),children:s.jsx(Cr,{})})]},oe))})]}),s.jsxs("div",{className:$n.actions,children:[s.jsx("button",{type:"button",className:$n.cancelButton,onClick:t,children:""}),s.jsx("button",{type:"submit",className:$n.submitButton,disabled:r,children:" "})]})]})]})}),f&&s.jsx(BF,{businessSlug:e,onSelect:se,onClose:()=>g(!1)})]})},iht="_overlay_eeswu_1",oht="_modal_eeswu_15",cht="_header_eeswu_26",lht="_title_eeswu_38",uht="_closeButton_eeswu_48",dht="_content_eeswu_64",hht="_statusBadge_eeswu_68",fht="_status_eeswu_68",mht="_status_draft_eeswu_87",pht="_status_completed_eeswu_93",ght="_completedInfo_eeswu_99",_ht="_infoSection_eeswu_104",vht="_stocksSection_eeswu_105",xht="_stocksList_eeswu_109",bht="_stockRow_eeswu_115",yht="_selectedProductCard_eeswu_125",wht="_selectedProductImage_eeswu_136",Cht="_selectedNoImage_eeswu_144",Sht="_selectedProductInfo_eeswu_156",jht="_selectedProductName_eeswu_163",Nht="_selectedProductVariant_eeswu_169",Eht="_selectedAttributes_eeswu_174",kht="_attributeBadge_eeswu_180",Iht="_stockControls_eeswu_190",Dht="_locationDisplay_eeswu_197",Tht="_priceDisplay_eeswu_211",Aht="_inputWithLabel_eeswu_217",Mht="_quantityInput_eeswu_224",Rht="_currencyLabel_eeswu_228",Oht="_fieldLabel_eeswu_232",Bht="_stockInfoReadonly_eeswu_239",Lht="_infoRow_eeswu_249",$ht="_infoLabel_eeswu_258",Pht="_infoValue_eeswu_264",Fht="_select_eeswu_125",Hht="_unitLabel_eeswu_292",zht="_checkboxLabel_eeswu_310",Vht="_removeButton_eeswu_326",qht="_emptyStocks_eeswu_341",Uht="_addButton_eeswu_347",Wht="_sectionHeader_eeswu_365",Yht="_editButton_eeswu_378",Ght="_infoGrid_eeswu_401",Qht="_infoItem_eeswu_407",Xht="_infoItemFull_eeswu_413",Kht="_summarySection_eeswu_457",Zht="_summaryItem_eeswu_466",Jht="_summaryLabel_eeswu_476",eft="_summaryValue_eeswu_481",tft="_stocksTable_eeswu_493",nft="_tableHeader_eeswu_499",sft="_tableRow_eeswu_512",aft="_colProduct_eeswu_525",rft="_colLocation_eeswu_530",ift="_colQuantity_eeswu_534",oft="_colReserved_eeswu_535",cft="_colDefect_eeswu_536",lft="_colAvailable_eeswu_537",uft="_statusActive_eeswu_543",dft="_statusInactive_eeswu_544",hft="_emptyState_eeswu_562",fft="_footer_eeswu_577",mft="_deleteBatchButton_eeswu_585",pft="_completeButton_eeswu_609",gft="_closeBtn_eeswu_633",_ft="_documentsSection_eeswu_648",vft="_documentUploadForm_eeswu_653",xft="_documentUploadActions_eeswu_680",bft="_documentsList_eeswu_723",yft="_documentCard_eeswu_730",wft="_documentIcon_eeswu_740",Cft="_documentInfo_eeswu_745",Sft="_documentName_eeswu_752",jft="_documentDescription_eeswu_757",Nft="_documentMeta_eeswu_762",Eft="_documentActions_eeswu_767",kft="_viewButton_eeswu_772",Ift="_downloadButton_eeswu_773",Dft="_deleteButton_eeswu_774",Tft="_addDocumentButton_eeswu_806",Aft="_slideUp_eeswu_1",Mft="_activeFlagsSection_eeswu_975",Rft="_activeFlagItem_eeswu_979",Oft="_actions_eeswu_1022",Bft="_defectFormRow_eeswu_1139",Lft="_defectFormActions_eeswu_1144",$ft="_addDefectBtn_eeswu_1149",Pft="_cancelDefectBtn_eeswu_1150",Fft="_addDefectButton_eeswu_1157",Hft="_textInput_eeswu_1166",zft="_deleteStockButton_eeswu_1267",Vft="_colStatus_eeswu_1276",qft="_colActions_eeswu_1280",Uft="_addStockButton_eeswu_1301",Wft="_actionButton_eeswu_1321",Yft="_editControls_eeswu_1338",Gft="_smallInput_eeswu_1344",Qft="_editableValue_eeswu_1354",Xft="_saveBtn_eeswu_1366",Kft="_cancelBtn_eeswu_1381",Zft="_defectSection_eeswu_1396",Jft="_defectForm_eeswu_1139",emt="_defectsList_eeswu_1480",tmt="_defectItem_eeswu_1486",nmt="_defectQuantity_eeswu_1496",smt="_defectReason_eeswu_1502",amt="_removeDefectBtn_eeswu_1508",rmt="_activeFlagsTitle_eeswu_1542",imt="_activeFlagsList_eeswu_1551",omt="_flagLabel_eeswu_1588",Kt={overlay:iht,modal:oht,header:cht,title:lht,closeButton:uht,content:dht,statusBadge:hht,status:fht,status_draft:mht,status_completed:pht,completedInfo:ght,infoSection:_ht,stocksSection:vht,stocksList:xht,stockRow:bht,selectedProductCard:yht,selectedProductImage:wht,selectedNoImage:Cht,selectedProductInfo:Sht,selectedProductName:jht,selectedProductVariant:Nht,selectedAttributes:Eht,attributeBadge:kht,stockControls:Iht,locationDisplay:Dht,priceDisplay:Tht,inputWithLabel:Aht,quantityInput:Mht,currencyLabel:Rht,fieldLabel:Oht,stockInfoReadonly:Bht,infoRow:Lht,infoLabel:$ht,infoValue:Pht,select:Fht,unitLabel:Hht,checkboxLabel:zht,removeButton:Vht,emptyStocks:qht,addButton:Uht,sectionHeader:Wht,editButton:Yht,infoGrid:Ght,infoItem:Qht,infoItemFull:Xht,summarySection:Kht,summaryItem:Zht,summaryLabel:Jht,summaryValue:eft,stocksTable:tft,tableHeader:nft,tableRow:sft,colProduct:aft,colLocation:rft,colQuantity:ift,colReserved:oft,colDefect:cft,colAvailable:lft,statusActive:uft,statusInactive:dft,emptyState:hft,footer:fft,deleteBatchButton:mft,completeButton:pft,closeBtn:gft,documentsSection:_ft,documentUploadForm:vft,documentUploadActions:xft,documentsList:bft,documentCard:yft,documentIcon:wft,documentInfo:Cft,documentName:Sft,documentDescription:jft,documentMeta:Nft,documentActions:Eft,viewButton:kft,downloadButton:Ift,deleteButton:Dft,addDocumentButton:Tft,slideUp:Aft,activeFlagsSection:Mft,activeFlagItem:Rft,actions:Oft,defectFormRow:Bft,defectFormActions:Lft,addDefectBtn:$ft,cancelDefectBtn:Pft,addDefectButton:Fft,textInput:Hft,deleteStockButton:zft,colStatus:Vft,colActions:qft,addStockButton:Uft,actionButton:Wft,editControls:Yft,smallInput:Gft,editableValue:Qft,saveBtn:Xft,cancelBtn:Kft,defectSection:Zft,defectForm:Jft,defectsList:emt,defectItem:tmt,defectQuantity:nmt,defectReason:smt,removeDefectBtn:amt,activeFlagsTitle:rmt,activeFlagsList:imt,flagLabel:omt},$F=({businessSlug:e,batch:t,onClose:n,onUpdate:a,onDelete:r})=>{var fe;const{getFileUrl:i}=Ur(),[o,c]=v.useState(!1),[l,d]=v.useState(!t.status||t.status==="draft"),[f,g]=v.useState(!1),[b,w]=v.useState(!1),[S,j]=v.useState([]),[N,I]=v.useState([]),[M,B]=v.useState({batch_number:t.batch_number,received_date:(fe=t.received_date)==null?void 0:fe.slice(0,16),supplier:t.supplier||"",notes:t.notes||"",received_by:t.received_by?String(t.received_by):""}),[P,O]=v.useState(t.documents||[]),[R,$]=v.useState({document:null,name:"",description:""}),[U,F]=v.useState([]),[H,ne]=v.useState(null),[X,te]=v.useState(null),[se,V]=v.useState(0),[q,T]=v.useState(0),[J,Z]=v.useState("");v.useEffect(()=>{A(),Y()},[]),v.useEffect(()=>{t.stocks&&F(t.stocks.map(re=>({...re,variant_on_location_id:re.variant_on_location_id,location_name:re.location_name||"",unit_display:re.unit_display||".",price:re.selling_price||re.price||null,is_active_on_marketplace:re.is_active_on_marketplace||!1,is_active_for_offline_sale:re.is_active_for_offline_sale||!1,is_active_on_own_site:re.is_active_on_own_site||!1,variant_data:re.variant_data||{product_name:re.variant_name,main_image:re.main_image||null,attributes:[]}})))},[t]);const A=async()=>{try{const re=await Re.get(`/api/business/${e}/locations/`);j(re.data.results||re.data)}catch(re){console.error("  :",re)}},Y=async()=>{try{const re=await Re.get(`/api/business/${e}/employees/`);I(re.data)}catch(re){console.error("  :",re)}},K=(re,xe)=>{B(Se=>({...Se,[re]:xe}))},G=re=>{if(re.length===0)return;const xe=re.map(Se=>({variant_on_location_id:Se.variant_on_location_id,variant_id:Se.variant_id,location_id:Se.location_id,location_name:Se.location_name,quantity:1,cost_price:"",reserved_quantity:0,defects:[],is_available_for_sale:!0,is_active_on_marketplace:Se.is_active_on_marketplace||!1,is_active_for_offline_sale:Se.is_active_for_offline_sale||!1,is_active_on_own_site:Se.is_active_on_own_site||!1,variant_name:`${Se.product_name} ${Se.variant_name||""}`.trim(),variant_data:{name:Se.variant_name,main_image:Se.main_image,attributes:Se.attributes},price:Se.price,unit_display:Se.unit_display||"."}));F([...U,...xe]),w(!1)},oe=re=>{if(!q||q<=0){alert("  ");return}if(!J.trim()){alert("  ");return}const xe=U[re],Se=xe.defects||[],pe=Se.reduce((Ue,Ne)=>Ue+Ne.quantity,0);if(pe+q>xe.quantity){alert(`   (${pe+q})      (${xe.quantity})`);return}const Ee={quantity:q,reason:J,created_at:new Date().toISOString()},Le=[...U];Le[re]={...Le[re],defects:[...Se,Ee]},F(Le),te(null),T(0),Z("")},ee=(re,xe)=>{const Se=[...U];Se[re].defects=Se[re].defects.filter((pe,Ee)=>Ee!==xe),F(Se)},ae=re=>{F(U.filter((xe,Se)=>Se!==re))},ie=(re,xe,Se)=>{const pe=[...U];pe[re]={...pe[re],[xe]:Se},F(pe)},ue=async()=>{var re,xe;c(!0);try{const Se={...M,stocks:U.filter(pe=>pe.variant_on_location_id).map(pe=>{let Ee=pe.quantity;Ee===""||Ee===null||Ee===void 0?Ee=pe.unit_display==="."?1:.001:(Ee=typeof Ee=="number"?Ee:parseFloat(Ee),isNaN(Ee)?Ee=pe.unit_display==="."?1:.001:Ee=pe.unit_display==="."?Math.max(1,Math.floor(Ee)):Math.max(.001,Ee));let Le=pe.reserved_quantity;Le===""||Le===null||Le===void 0?Le=0:(Le=typeof Le=="number"?Le:parseFloat(Le),isNaN(Le)?Le=0:(Le=pe.unit_display==="."?Math.max(0,Math.floor(Le)):Math.max(0,Le),Le=Math.min(Le,Ee)));const Ue=parseInt(pe.variant_on_location_id);if(isNaN(Ue))throw console.error("Invalid variant_on_location_id:",pe.variant_on_location_id),new Error(` ID     : ${pe.variant_name||" "}`);return{variant_on_location_id:Ue,quantity:Ee,cost_price:pe.cost_price||null,reserved_quantity:Le,defects:pe.defects||[],is_available_for_sale:pe.is_available_for_sale,is_active_on_marketplace:pe.is_active_on_marketplace||!1,is_active_for_offline_sale:pe.is_active_for_offline_sale||!1,is_active_on_own_site:pe.is_active_on_own_site||!1}})};Se.received_by?Se.received_by=parseInt(Se.received_by)||null:delete Se.received_by,console.log("Updating batch with data:",Se),await Re.patch(`/api/business/${e}/batches/${t.id}/update/`,Se),d(!1),a()}catch(Se){console.error("  :",Se),alert(((xe=(re=Se.response)==null?void 0:re.data)==null?void 0:xe.detail)||"   ")}finally{c(!1)}},he=async()=>{var re,xe;if(confirm(" ,    ?      .")){c(!0);try{await Re.post(`/api/business/${e}/batches/${t.id}/complete/`),a()}catch(Se){console.error("  :",Se),alert(((xe=(re=Se.response)==null?void 0:re.data)==null?void 0:xe.detail)||"   ")}finally{c(!1)}}},ge=async()=>{var xe,Se;const re=t.status==="completed"?" ,     ?           .":" ,    ?    .";if(confirm(re)){c(!0);try{await r(t.id),n()}catch(pe){console.error("  :",pe);const Ee=((Se=(xe=pe.response)==null?void 0:xe.data)==null?void 0:Se.detail)||"   ";alert(Ee)}finally{c(!1)}}},ye=re=>{$(xe=>({...xe,document:re.target.files[0]}))},je=()=>{if(!R.document||!R.name){alert("     ");return}g(!0);const re=new FormData;re.append("document",R.document),re.append("name",R.name),R.description&&re.append("description",R.description),Re.post(`/api/business/${e}/batches/${t.id}/documents/`,re).then(()=>{a(),$({document:null,name:"",description:""})}).catch(xe=>{console.error("  :",xe),alert("   ")}).finally(()=>g(!1))},Ie=re=>{confirm(" ?")&&Re.delete(`/api/business/${e}/batches/${t.id}/documents/${re}/`).then(()=>a()).catch(xe=>{console.error("  :",xe),alert("   ")})},me=re=>new Date(re).toLocaleDateString("ru-RU",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}),de=t.status==="completed";return s.jsxs("div",{className:Kt.overlay,onClick:n,children:[s.jsxs("div",{className:Kt.modal,onClick:re=>re.stopPropagation(),children:[s.jsxs("div",{className:Kt.header,children:[s.jsxs("h2",{className:Kt.title,children:[s.jsx(jc,{})," ",t.batch_number]}),s.jsx("button",{className:Kt.closeButton,onClick:n,children:s.jsx(aa,{})})]}),s.jsxs("div",{className:Kt.content,children:[s.jsxs("div",{className:Kt.statusBadge,children:[s.jsx("span",{className:`${Kt.status} ${Kt[`status_${t.status}`]}`,children:t.status==="completed"?" ":" "}),t.status==="completed"&&t.completed_at&&s.jsxs("div",{className:Kt.completedInfo,children:[" ",me(t.completed_at),t.completed_by_name&&`  ${t.completed_by_name}`]})]}),s.jsxs("div",{className:Kt.infoSection,children:[s.jsxs("div",{className:Kt.sectionHeader,children:[s.jsx("h3",{children:"  "}),!de&&s.jsx("button",{className:Kt.editButton,onClick:()=>l?ue():d(!0),disabled:o,children:l?s.jsx(Jo,{}):""})]}),s.jsxs("div",{className:Kt.infoGrid,children:[s.jsxs("div",{className:Kt.infoItem,children:[s.jsxs("label",{children:[s.jsx(Oo,{}),"  "]}),l&&!de?s.jsx("input",{type:"datetime-local",value:M.received_date,onChange:re=>K("received_date",re.target.value)}):s.jsx("span",{children:me(t.received_date)})]}),s.jsxs("div",{className:Kt.infoItem,children:[s.jsxs("label",{children:[s.jsx(ec,{}),"  "]}),l&&!de?s.jsxs("select",{value:M.received_by,onChange:re=>K("received_by",re.target.value),children:[s.jsx("option",{value:"",children:" "}),N.map(re=>s.jsx("option",{value:re.user||"",children:re.name||re.full_name||` #${re.id}`},re.id))]}):s.jsx("span",{children:t.received_by_name||"-"})]}),s.jsxs("div",{className:Kt.infoItem,children:[s.jsxs("label",{children:[s.jsx(dr,{})," "]}),l&&!de?s.jsx("input",{type:"text",value:M.supplier,onChange:re=>K("supplier",re.target.value),placeholder:" "}):s.jsx("span",{children:t.supplier||"-"})]}),s.jsxs("div",{className:Kt.infoItemFull,children:[s.jsx("label",{children:" "}),l&&!de?s.jsx("textarea",{value:M.notes,onChange:re=>K("notes",re.target.value),rows:"3",placeholder:" "}):s.jsx("span",{children:t.notes||"-"})]})]}),s.jsxs("div",{className:Kt.summarySection,children:[s.jsxs("div",{className:Kt.summaryItem,children:[s.jsx("span",{className:Kt.summaryLabel,children:" :"}),s.jsxs("span",{className:Kt.summaryValue,children:[t.total_cost||0," "]})]}),s.jsxs("div",{className:Kt.summaryItem,children:[s.jsx("span",{className:Kt.summaryLabel,children:" :"}),s.jsxs("span",{className:Kt.summaryValue,children:[t.total_selling_price||0," "]})]})]})]}),s.jsxs("div",{className:Kt.stocksSection,children:[s.jsxs("div",{className:Kt.sectionHeader,children:[s.jsxs("h3",{children:["   (",U.length,")"]}),!de&&s.jsxs("button",{className:Kt.addButton,onClick:()=>w(!0),children:[s.jsx($a,{}),"  "]})]}),U.length>0?s.jsx("div",{className:Kt.stocksList,children:U.map((re,xe)=>{var Se,pe,Ee;return s.jsxs("div",{className:Kt.stockRow,children:[re.variant_data&&s.jsxs("div",{className:Kt.selectedProductCard,children:[(Se=re.variant_data.main_image)!=null&&Se.image?s.jsx("img",{src:i(re.variant_data.main_image.image),alt:re.variant_name,className:Kt.selectedProductImage,onError:Le=>{Le.target.onerror=null,Le.target.src="https://via.placeholder.com/70x98?text=No+Image"}}):s.jsx("div",{className:Kt.selectedNoImage,children:s.jsx(jc,{size:40})}),s.jsxs("div",{className:Kt.selectedProductInfo,children:[s.jsx("div",{className:Kt.selectedProductName,children:re.variant_name}),s.jsx("div",{className:Kt.selectedProductVariant,children:re.variant_data.name||" "}),re.variant_data.attributes&&re.variant_data.attributes.length>0&&s.jsx("div",{className:Kt.selectedAttributes,children:re.variant_data.attributes.map((Le,Ue)=>s.jsxs("span",{className:Kt.attributeBadge,children:[Le.attribute_name,": ",Le.display_value||Le.custom_value]},Ue))})]})]}),de?s.jsxs("div",{className:Kt.stockInfoReadonly,children:[s.jsxs("div",{className:Kt.infoRow,children:[s.jsx("span",{className:Kt.infoLabel,children:":"}),s.jsx("span",{className:Kt.infoValue,children:re.location_name})]}),s.jsxs("div",{className:Kt.infoRow,children:[s.jsx("span",{className:Kt.infoLabel,children:":"}),s.jsxs("span",{className:Kt.infoValue,children:[re.quantity," ",re.unit_display||"."]})]}),s.jsxs("div",{className:Kt.infoRow,children:[s.jsx("span",{className:Kt.infoLabel,children:":"}),s.jsxs("span",{className:Kt.infoValue,children:[re.reserved_quantity||0," ",re.unit_display||"."]})]}),s.jsxs("div",{className:Kt.infoRow,children:[s.jsx("span",{className:Kt.infoLabel,children:":"}),s.jsxs("span",{className:Kt.infoValue,children:[re.defect_quantity||0," ",re.unit_display||"."]})]}),s.jsxs("div",{className:Kt.infoRow,children:[s.jsx("span",{className:Kt.infoLabel,children:":"}),s.jsxs("span",{className:Kt.infoValue,children:[re.available_quantity||0," ",re.unit_display||"."]})]}),s.jsxs("div",{className:Kt.infoRow,children:[s.jsx("span",{className:Kt.infoLabel,children:":"}),s.jsx("span",{className:re.is_available_for_sale?Kt.statusActive:Kt.statusInactive,children:re.is_available_for_sale?"":""})]})]}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:Kt.stockControls,children:[re.location_name&&s.jsxs("div",{className:Kt.locationDisplay,children:[s.jsx("strong",{children:":"})," ",re.location_name,re.price&&s.jsxs("span",{className:Kt.priceDisplay,children:[": ",re.price.toLocaleString("ru-RU")," "]})]}),s.jsxs("div",{className:Kt.inputWithLabel,children:[s.jsx("label",{className:Kt.fieldLabel,children:""}),s.jsx("input",{type:"number",min:"0.001",step:re.unit_display==="."?"1":"0.001",value:re.quantity===null||re.quantity===void 0?"":re.quantity,onChange:Le=>{const Ue=Le.target.value;if(Ue===""){ie(xe,"quantity","");return}const Ne=re.unit_display==="."?Ue.includes(".")?Math.floor(parseFloat(Ue)):parseInt(Ue):parseFloat(Ue);isNaN(Ne)||ie(xe,"quantity",Ne)},onBlur:Le=>{const Ue=Le.target.value;if(Ue===""||Ue===null||Ue===void 0){const Ne=re.unit_display==="."?1:.001;ie(xe,"quantity",Ne)}else{const Ne=re.unit_display==="."?Math.max(1,parseInt(Ue)||1):Math.max(.001,parseFloat(Ue)||.001);ie(xe,"quantity",Ne)}},required:!0,className:Kt.quantityInput,placeholder:"-"}),s.jsx("span",{className:Kt.unitLabel,children:re.unit_display||"."})]}),s.jsxs("div",{className:Kt.inputWithLabel,children:[s.jsx("label",{className:Kt.fieldLabel,children:""}),s.jsx("input",{type:"number",step:"0.01",min:"0",value:re.cost_price,onChange:Le=>ie(xe,"cost_price",parseFloat(Le.target.value)||""),className:Kt.quantityInput,placeholder:"0.00",title:"  "}),s.jsx("span",{className:Kt.currencyLabel,children:""})]}),s.jsxs("div",{className:Kt.inputWithLabel,children:[s.jsx("label",{className:Kt.fieldLabel,children:" "}),s.jsx("input",{type:"number",min:"0",step:re.unit_display==="."?"1":"0.001",max:re.quantity||0,value:re.reserved_quantity===null||re.reserved_quantity===void 0?"":re.reserved_quantity,onChange:Le=>{const Ue=Le.target.value;if(Ue===""){ie(xe,"reserved_quantity","");return}const Ne=re.unit_display==="."?Ue.includes(".")?Math.floor(parseFloat(Ue)):parseInt(Ue):parseFloat(Ue);if(!isNaN(Ne)){const et=typeof re.quantity=="number"?re.quantity:parseFloat(re.quantity)||0;ie(xe,"reserved_quantity",Math.min(Math.max(0,Ne),et))}},onBlur:Le=>{const Ue=Le.target.value;if(Ue===""||Ue===null||Ue===void 0)ie(xe,"reserved_quantity",0);else{const Ne=re.unit_display==="."?Math.max(0,parseInt(Ue)||0):Math.max(0,parseFloat(Ue)||0),et=typeof re.quantity=="number"?re.quantity:parseFloat(re.quantity)||0;ie(xe,"reserved_quantity",Math.min(Ne,et))}},className:Kt.quantityInput,placeholder:"0",title:`  (  ,  ${re.quantity||0})`}),s.jsx("span",{className:Kt.unitLabel,children:re.unit_display||"."})]}),s.jsxs("label",{className:Kt.checkboxLabel,children:[s.jsx("input",{type:"checkbox",checked:re.is_available_for_sale,onChange:Le=>ie(xe,"is_available_for_sale",Le.target.checked)})," "]}),s.jsxs("div",{className:Kt.activeFlagsSection,children:[s.jsx("div",{className:Kt.activeFlagsTitle,children:" :"}),s.jsxs("div",{className:Kt.activeFlagsList,children:[s.jsxs("label",{className:Kt.activeFlagItem,children:[s.jsx("input",{type:"checkbox",checked:re.is_active_on_marketplace||!1,onChange:Le=>ie(xe,"is_active_on_marketplace",Le.target.checked),disabled:!re.quantity||re.quantity===0,title:!re.quantity||re.quantity===0?"  ":""}),s.jsx("span",{className:Kt.flagLabel,children:" "})]}),s.jsxs("label",{className:Kt.activeFlagItem,children:[s.jsx("input",{type:"checkbox",checked:re.is_active_for_offline_sale||!1,onChange:Le=>ie(xe,"is_active_for_offline_sale",Le.target.checked),disabled:!re.quantity||re.quantity===0,title:!re.quantity||re.quantity===0?"  ":""}),s.jsx("span",{className:Kt.flagLabel,children:" "})]}),s.jsxs("label",{className:Kt.activeFlagItem,children:[s.jsx("input",{type:"checkbox",checked:re.is_active_on_own_site||!1,onChange:Le=>ie(xe,"is_active_on_own_site",Le.target.checked),disabled:!re.quantity||re.quantity===0,title:!re.quantity||re.quantity===0?"  ":""}),s.jsx("span",{className:Kt.flagLabel,children:"  "})]})]})]}),s.jsx("button",{type:"button",className:Kt.removeButton,onClick:()=>ae(xe),children:s.jsx(Cr,{})})]}),X===xe?s.jsxs("div",{className:Kt.defectForm,children:[s.jsxs("div",{className:Kt.defectFormRow,children:[s.jsxs("div",{className:Kt.inputWithLabel,children:[s.jsx("label",{className:Kt.fieldLabel,children:" "}),s.jsx("input",{type:"number",min:"0.001",step:((pe=U[X])==null?void 0:pe.unit_display)==="."?"1":"0.001",value:q,onChange:Le=>{var et;const Ne=(((et=U[X])==null?void 0:et.unit_display)||".")==="."?parseInt(Le.target.value)||0:parseFloat(Le.target.value)||0;T(Ne)},className:Kt.quantityInput,placeholder:"0"}),s.jsx("span",{className:Kt.unitLabel,children:((Ee=U[X])==null?void 0:Ee.unit_display)||"."})]}),s.jsxs("div",{className:Kt.inputWithLabel,children:[s.jsx("label",{className:Kt.fieldLabel,children:" "}),s.jsx("input",{type:"text",value:J,onChange:Le=>Z(Le.target.value),className:Kt.textInput,placeholder:":  "})]})]}),s.jsxs("div",{className:Kt.defectFormActions,children:[s.jsx("button",{type:"button",className:Kt.addDefectBtn,onClick:()=>oe(xe),children:""}),s.jsx("button",{type:"button",className:Kt.cancelDefectBtn,onClick:()=>{te(null),T(0),Z("")},children:""})]})]}):s.jsxs("div",{className:Kt.defectSection,children:[s.jsx("button",{type:"button",className:Kt.addDefectButton,onClick:()=>{te(xe),T(0),Z("")},children:"  "}),re.defects&&re.defects.length>0&&s.jsx("div",{className:Kt.defectsList,children:re.defects.map((Le,Ue)=>s.jsxs("div",{className:Kt.defectItem,children:[s.jsxs("span",{className:Kt.defectQuantity,children:[Le.quantity," ",re.unit_display||"."]}),s.jsxs("span",{className:Kt.defectReason,children:[" ",Le.reason]}),s.jsx("button",{type:"button",className:Kt.removeDefectBtn,onClick:()=>ee(xe,Ue),children:s.jsx(Cr,{size:12})})]},Ue))})]})]})]},xe)})}):s.jsxs("div",{className:Kt.emptyState,children:[s.jsx(jc,{}),s.jsx("p",{children:"   "})]})]}),s.jsxs("div",{className:Kt.documentsSection,children:[s.jsxs("div",{className:Kt.sectionHeader,children:[s.jsxs("h3",{children:[" (",P.length,")"]}),!de&&s.jsxs("button",{className:Kt.addDocumentButton,onClick:()=>document.getElementById("documentUpload").click(),children:[s.jsx($a,{}),"  "]})]}),s.jsx("input",{type:"file",id:"documentUpload",style:{display:"none"},onChange:ye}),R.document&&s.jsxs("div",{className:Kt.documentUploadForm,children:[s.jsx("input",{type:"text",placeholder:"  *",value:R.name,onChange:re=>$(xe=>({...xe,name:re.target.value}))}),s.jsx("textarea",{placeholder:" ()",value:R.description,onChange:re=>$(xe=>({...xe,description:re.target.value})),rows:"2"}),s.jsxs("div",{className:Kt.documentUploadActions,children:[s.jsx("button",{type:"button",onClick:je,disabled:f||!R.name,children:f?"...":""}),s.jsx("button",{type:"button",onClick:()=>$({document:null,name:"",description:""}),children:""})]})]}),P&&P.length>0?s.jsx("div",{className:Kt.documentsList,children:P.map(re=>s.jsxs("div",{className:Kt.documentCard,children:[s.jsx(uu,{className:Kt.documentIcon}),s.jsxs("div",{className:Kt.documentInfo,children:[s.jsx("div",{className:Kt.documentName,children:re.name}),re.description&&s.jsx("div",{className:Kt.documentDescription,children:re.description}),s.jsxs("div",{className:Kt.documentMeta,children:[re.uploaded_by_name&&s.jsxs("span",{children:[": ",re.uploaded_by_name]}),re.uploaded_at&&s.jsxs("span",{children:[": ",me(re.uploaded_at)]})]})]}),s.jsxs("div",{className:Kt.documentActions,children:[re.file_url&&s.jsxs(s.Fragment,{children:[s.jsx("a",{href:re.file_url,target:"_blank",rel:"noopener noreferrer",className:Kt.viewButton,children:s.jsx(Cu,{})}),s.jsx("a",{href:re.file_url,download:!0,className:Kt.downloadButton,children:s.jsx(Mb,{})})]}),!de&&s.jsx("button",{className:Kt.deleteButton,onClick:()=>Ie(re.id),children:s.jsx(Cr,{})})]})]},re.id))}):s.jsxs("div",{className:Kt.emptyState,children:[s.jsx(uu,{}),s.jsx("p",{children:" "})]})]})]}),s.jsxs("div",{className:Kt.footer,children:[!de&&s.jsxs(s.Fragment,{children:[s.jsxs("button",{className:Kt.deleteBatchButton,onClick:ge,disabled:o,children:[s.jsx(lu,{}),"  "]}),s.jsx("button",{className:Kt.completeButton,onClick:he,disabled:o,children:"  "})]}),s.jsx("button",{className:Kt.closeBtn,onClick:n,children:""})]})]}),b&&s.jsx(BF,{businessSlug:e,onSelect:G,onClose:()=>w(!1)})]})},cmt="_overlay_ksc5b_1",lmt="_modal_ksc5b_15",umt="_header_ksc5b_26",dmt="_title_ksc5b_38",hmt="_closeButton_ksc5b_48",fmt="_content_ksc5b_64",mmt="_statusBadge_ksc5b_68",pmt="_status_ksc5b_68",gmt="_status_draft_ksc5b_88",_mt="_status_completed_ksc5b_94",vmt="_status_cancelled_ksc5b_100",xmt="_completedInfo_ksc5b_106",bmt="_infoSection_ksc5b_111",ymt="_itemsSection_ksc5b_112",wmt="_documentsSection_ksc5b_113",Cmt="_locationsInfo_ksc5b_126",Smt="_locationCard_ksc5b_137",jmt="_locationIcon_ksc5b_148",Nmt="_locationLabel_ksc5b_154",Emt="_locationName_ksc5b_162",kmt="_arrow_ksc5b_168",Imt="_infoRow_ksc5b_177",Dmt="_icon_ksc5b_185",Tmt="_label_ksc5b_191",Amt="_value_ksc5b_197",Mmt="_formGroup_ksc5b_202",Rmt="_itemsList_ksc5b_239",Omt="_itemCard_ksc5b_245",Bmt="_itemHeader_ksc5b_257",Lmt="_itemInfo_ksc5b_264",$mt="_itemImage_ksc5b_270",Pmt="_noImage_ksc5b_278",Fmt="_itemMeta_ksc5b_299",Hmt="_itemDetails_ksc5b_305",zmt="_quantityInfo_ksc5b_313",Vmt="_quantityLabel_ksc5b_319",qmt="_quantityValue_ksc5b_324",Umt="_itemNotes_ksc5b_330",Wmt="_notesLabel_ksc5b_337",Ymt="_notesValue_ksc5b_341",Gmt="_removeButton_ksc5b_345",Qmt="_sectionHeader_ksc5b_360",Xmt="_emptyState_ksc5b_367",Kmt="_documentsList_ksc5b_382",Zmt="_documentCard_ksc5b_389",Jmt="_documentIcon_ksc5b_399",ept="_documentInfo_ksc5b_405",tpt="_documentName_ksc5b_412",npt="_documentDescription_ksc5b_418",spt="_documentMeta_ksc5b_423",apt="_documentActions_ksc5b_428",rpt="_downloadButton_ksc5b_434",ipt="_deleteButton_ksc5b_435",opt="_addDocumentSection_ksc5b_462",cpt="_addDocumentButton_ksc5b_470",lpt="_footer_ksc5b_495",upt="_editButton_ksc5b_505",dpt="_saveButton_ksc5b_506",hpt="_completeButton_ksc5b_507",fpt="_cancelButton_ksc5b_508",mpt="_cancelEditButton_ksc5b_509",ppt="_deleteBatchButton_ksc5b_510",gpt="_closeBtn_ksc5b_511",zn={overlay:cmt,modal:lmt,header:umt,title:dmt,closeButton:hmt,content:fmt,statusBadge:mmt,status:pmt,status_draft:gmt,status_completed:_mt,status_cancelled:vmt,completedInfo:xmt,infoSection:bmt,itemsSection:ymt,documentsSection:wmt,locationsInfo:Cmt,locationCard:Smt,locationIcon:jmt,locationLabel:Nmt,locationName:Emt,arrow:kmt,infoRow:Imt,icon:Dmt,label:Tmt,value:Amt,formGroup:Mmt,itemsList:Rmt,itemCard:Omt,itemHeader:Bmt,itemInfo:Lmt,itemImage:$mt,noImage:Pmt,itemMeta:Fmt,itemDetails:Hmt,quantityInfo:zmt,quantityLabel:Vmt,quantityValue:qmt,itemNotes:Umt,notesLabel:Wmt,notesValue:Ymt,removeButton:Gmt,sectionHeader:Qmt,emptyState:Xmt,documentsList:Kmt,documentCard:Zmt,documentIcon:Jmt,documentInfo:ept,documentName:tpt,documentDescription:npt,documentMeta:spt,documentActions:apt,downloadButton:rpt,deleteButton:ipt,addDocumentSection:opt,addDocumentButton:cpt,footer:lpt,editButton:upt,saveButton:dpt,completeButton:hpt,cancelButton:fpt,cancelEditButton:mpt,deleteBatchButton:ppt,closeBtn:gpt},PF=({businessSlug:e,transfer:t,onClose:n,onUpdate:a,onDelete:r})=>{const{getFileUrl:i}=Ur(),[o,c]=v.useState(!1),[l,d]=v.useState(t.status==="draft"),[f,g]=v.useState(!1),[b,w]=v.useState({notes:t.notes||""}),[S,j]=v.useState(t.documents||[]),[N,I]=v.useState({document:null,name:"",description:""}),[M,B]=v.useState(t.items||[]);v.useEffect(()=>{w({notes:t.notes||""}),j(t.documents||[]),B(t.items||[]),d(t.status==="draft")},[t]);const P=Z=>Z?new Date(Z).toLocaleDateString("ru-RU",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}):" ",R=(()=>{switch(t.status){case"completed":return{text:" ",className:zn.status_completed};case"cancelled":return{text:" ",className:zn.status_cancelled};default:return{text:" ",className:zn.status_draft}}})(),$=t.status==="draft",U=t.status==="draft"&&M.length>0,F=t.status==="completed",H=(Z,A)=>{w(Y=>({...Y,[Z]:A}))},ne=async()=>{var Z,A;c(!0);try{await Re.patch(`/api/business/${e}/transfers/${t.id}/update/`,b),d(!1),a()}catch(Y){console.error("  :",Y),alert(((A=(Z=Y.response)==null?void 0:Z.data)==null?void 0:A.detail)||"   ")}finally{c(!1)}},X=async()=>{var Z,A;if(confirm(" ,    ?      .")){c(!0);try{await Re.post(`/api/business/${e}/transfers/${t.id}/complete/`),a()}catch(Y){console.error("  :",Y),alert(((A=(Z=Y.response)==null?void 0:Z.data)==null?void 0:A.detail)||"   ")}finally{c(!1)}}},te=async()=>{var Z,A;if(confirm(" ,    ?      .")){c(!0);try{await Re.post(`/api/business/${e}/transfers/${t.id}/cancel/`),a()}catch(Y){console.error("  :",Y),alert(((A=(Z=Y.response)==null?void 0:Z.data)==null?void 0:A.detail)||"   ")}finally{c(!1)}}},se=async()=>{var A,Y;const Z=t.status==="completed"?" ,     ?     .":" ,    ?    .";if(confirm(Z)){c(!0);try{await r(t.id),n()}catch(K){console.error("  :",K);const G=((Y=(A=K.response)==null?void 0:A.data)==null?void 0:Y.detail)||"   ";alert(G)}finally{c(!1)}}},V=Z=>{I(A=>({...A,document:Z.target.files[0]}))},q=async()=>{var Z,A;if(!N.document||!N.name){alert("     ");return}g(!0);try{const Y=new FormData;Y.append("document",N.document),Y.append("name",N.name),N.description&&Y.append("description",N.description);const K=await Re.post(`/api/business/${e}/transfers/${t.id}/add-document/`,Y,{headers:{"Content-Type":"multipart/form-data"}});j([...S,K.data]),I({document:null,name:"",description:""}),a()}catch(Y){console.error("  :",Y),alert(((A=(Z=Y.response)==null?void 0:Z.data)==null?void 0:A.detail)||"   ")}finally{g(!1)}},T=async Z=>{var A,Y;if(confirm(" ,     ?"))try{await Re.delete(`/api/business/${e}/transfers/${t.id}/delete-document/${Z}/`),j(S.filter(K=>K.id!==Z)),a()}catch(K){console.error("  :",K),alert(((Y=(A=K.response)==null?void 0:A.data)==null?void 0:Y.detail)||"   ")}},J=async Z=>{var A,Y;if(confirm(" ,       ?"))try{await Re.delete(`/api/business/${e}/transfers/${t.id}/remove-item/${Z}/`),B(M.filter(K=>K.id!==Z)),a()}catch(K){console.error("  :",K),alert(((Y=(A=K.response)==null?void 0:A.data)==null?void 0:Y.detail)||"   ")}};return s.jsx("div",{className:zn.overlay,onClick:n,children:s.jsxs("div",{className:zn.modal,onClick:Z=>Z.stopPropagation(),children:[s.jsxs("div",{className:zn.header,children:[s.jsxs("div",{className:zn.title,children:[s.jsx(Hc,{}),s.jsxs("span",{children:[" ",t.transfer_number]})]}),s.jsx("button",{className:zn.closeButton,onClick:n,children:s.jsx(aa,{})})]}),s.jsxs("div",{className:zn.content,children:[s.jsxs("div",{className:zn.statusBadge,children:[s.jsx("span",{className:`${zn.status} ${R.className}`,children:R.text}),t.completed_at&&s.jsxs("div",{className:zn.completedInfo,children:[": ",P(t.completed_at),t.completed_by_name&&`  ${t.completed_by_name}`]})]}),s.jsxs("div",{className:zn.infoSection,children:[s.jsx("h3",{children:"  "}),s.jsxs("div",{className:zn.locationsInfo,children:[s.jsxs("div",{className:zn.locationCard,children:[s.jsx(dr,{className:zn.locationIcon}),s.jsxs("div",{children:[s.jsx("div",{className:zn.locationLabel,children:" "}),s.jsx("div",{className:zn.locationName,children:t.from_location_name})]})]}),s.jsx("div",{className:zn.arrow,children:s.jsx(Tb,{})}),s.jsxs("div",{className:zn.locationCard,children:[s.jsx(dr,{className:zn.locationIcon}),s.jsxs("div",{children:[s.jsx("div",{className:zn.locationLabel,children:" "}),s.jsx("div",{className:zn.locationName,children:t.to_location_name})]})]})]}),s.jsxs("div",{className:zn.infoRow,children:[s.jsx(Oo,{className:zn.icon}),s.jsx("span",{className:zn.label,children:":"}),s.jsx("span",{className:zn.value,children:P(t.created_at)})]}),t.created_by_name&&s.jsxs("div",{className:zn.infoRow,children:[s.jsx(ec,{className:zn.icon}),s.jsx("span",{className:zn.label,children:":"}),s.jsx("span",{className:zn.value,children:t.created_by_name})]}),l?s.jsxs("div",{className:zn.formGroup,children:[s.jsx("label",{children:""}),s.jsx("textarea",{value:b.notes,onChange:Z=>H("notes",Z.target.value),rows:3,disabled:o})]}):t.notes&&s.jsxs("div",{className:zn.infoRow,children:[s.jsx("span",{className:zn.label,children:":"}),s.jsx("span",{className:zn.value,children:t.notes})]})]}),s.jsxs("div",{className:zn.itemsSection,children:[s.jsx("div",{className:zn.sectionHeader,children:s.jsxs("h3",{children:["   (",M.length,")"]})}),M.length===0?s.jsxs("div",{className:zn.emptyState,children:[s.jsx(Hc,{}),s.jsx("p",{children:"   "})]}):s.jsx("div",{className:zn.itemsList,children:M.map(Z=>{var A,Y,K;return s.jsxs("div",{className:zn.itemCard,children:[s.jsxs("div",{className:zn.itemHeader,children:[s.jsxs("div",{className:zn.itemInfo,children:[(Y=(A=Z.variant_data)==null?void 0:A.main_image)!=null&&Y.image?s.jsx("img",{src:i(Z.variant_data.main_image.image),alt:Z.variant_name,className:zn.itemImage,onError:G=>{G.target.onerror=null,G.target.src="https://via.placeholder.com/70x98?text=No+Image"}}):s.jsx("div",{className:zn.noImage,children:" "}),s.jsxs("div",{children:[s.jsx("h4",{children:Z.variant_name}),s.jsxs("p",{className:zn.itemMeta,children:[": ",Z.batch_number||" "]}),s.jsxs("p",{className:zn.itemMeta,children:[": ",Z.location_name]})]})]}),$&&s.jsx("button",{className:zn.removeButton,onClick:()=>J(Z.id),title:" ",children:s.jsx(Cr,{})})]}),s.jsxs("div",{className:zn.itemDetails,children:[s.jsxs("div",{className:zn.quantityInfo,children:[s.jsx("span",{className:zn.quantityLabel,children:":"}),s.jsxs("span",{className:zn.quantityValue,children:[parseFloat(Z.quantity).toLocaleString("ru-RU")," ",((K=Z.variant_data)==null?void 0:K.unit_display)||"."]})]}),Z.notes&&s.jsxs("div",{className:zn.itemNotes,children:[s.jsx("span",{className:zn.notesLabel,children:":"}),s.jsx("span",{className:zn.notesValue,children:Z.notes})]})]})]},Z.id)})})]}),s.jsxs("div",{className:zn.documentsSection,children:[s.jsx("div",{className:zn.sectionHeader,children:s.jsxs("h3",{children:[" (",S.length,")"]})}),S.length===0?s.jsxs("div",{className:zn.emptyState,children:[s.jsx(uu,{}),s.jsx("p",{children:" "})]}):s.jsx("div",{className:zn.documentsList,children:S.map(Z=>s.jsxs("div",{className:zn.documentCard,children:[s.jsx(uu,{className:zn.documentIcon}),s.jsxs("div",{className:zn.documentInfo,children:[s.jsx("div",{className:zn.documentName,children:Z.name}),Z.description&&s.jsx("div",{className:zn.documentDescription,children:Z.description}),Z.uploaded_by_name&&s.jsxs("div",{className:zn.documentMeta,children:[": ",Z.uploaded_by_name,"  ",P(Z.uploaded_at)]})]}),s.jsxs("div",{className:zn.documentActions,children:[Z.file_url&&s.jsx("a",{href:Z.file_url,target:"_blank",rel:"noopener noreferrer",className:zn.downloadButton,title:"",children:s.jsx(uu,{})}),$&&s.jsx("button",{className:zn.deleteButton,onClick:()=>T(Z.id),title:"",children:s.jsx(Cr,{})})]})]},Z.id))}),$&&s.jsxs("div",{className:zn.addDocumentSection,children:[s.jsxs("div",{className:zn.formGroup,children:[s.jsx("label",{children:" "}),s.jsx("input",{type:"text",value:N.name,onChange:Z=>I(A=>({...A,name:Z.target.value})),placeholder:": ,  ",disabled:f})]}),s.jsxs("div",{className:zn.formGroup,children:[s.jsx("label",{children:" ()"}),s.jsx("input",{type:"text",value:N.description,onChange:Z=>I(A=>({...A,description:Z.target.value})),placeholder:" ",disabled:f})]}),s.jsxs("div",{className:zn.formGroup,children:[s.jsx("label",{children:""}),s.jsx("input",{type:"file",onChange:V,disabled:f,accept:".pdf,.doc,.docx,.jpg,.jpeg,.png"})]}),s.jsx("button",{className:zn.addDocumentButton,onClick:q,disabled:f||!N.document||!N.name,children:f?s.jsx(Wn,{}):s.jsxs(s.Fragment,{children:[s.jsx($a,{}),"  "]})})]})]})]}),s.jsxs("div",{className:zn.footer,children:[l?s.jsxs(s.Fragment,{children:[s.jsx("button",{className:zn.saveButton,onClick:ne,disabled:o,children:o?s.jsx(Wn,{}):s.jsxs(s.Fragment,{children:[s.jsx(Jo,{})," "]})}),s.jsx("button",{className:zn.cancelEditButton,onClick:()=>{d(!1),w({notes:t.notes||""})},disabled:o,children:""})]}):s.jsxs(s.Fragment,{children:[$&&s.jsx("button",{className:zn.editButton,onClick:()=>d(!0),disabled:o,children:""}),U&&s.jsx("button",{className:zn.completeButton,onClick:X,disabled:o,children:o?s.jsx(Wn,{}):s.jsxs(s.Fragment,{children:[s.jsx(qr,{}),"  "]})}),F&&s.jsx("button",{className:zn.cancelButton,onClick:te,disabled:o,children:o?s.jsx(Wn,{}):s.jsxs(s.Fragment,{children:[s.jsx(GX,{}),"  "]})}),$&&s.jsx("button",{className:zn.deleteBatchButton,onClick:se,disabled:o,children:o?s.jsx(Wn,{}):s.jsxs(s.Fragment,{children:[s.jsx(Cr,{})," "]})})]}),s.jsx("button",{className:zn.closeBtn,onClick:n,disabled:o,children:""})]})]})})},_pt=()=>{const{business_slug:e}=fa(),t=Rs(),[n,a]=Fm(),[r,i]=v.useState(()=>n.get("tab")==="transfers"?"transfers":"batches"),[o,c]=v.useState([]),[l,d]=v.useState([]),[f,g]=v.useState(!0),[b,w]=v.useState(null),[S,j]=v.useState(!1),[N,I]=v.useState(null),[M,B]=v.useState(!1),[P,O]=v.useState(null),[R,$]=v.useState(!1);v.useEffect(()=>{const A=n.get("tab");A==="transfers"?(r!=="transfers"&&i("transfers"),r==="transfers"&&U(!1)):A!=="transfers"&&r==="transfers"&&A!==null&&i("batches")},[n]),v.useEffect(()=>{r==="batches"?H():r==="transfers"&&U()},[e,r]);const U=async(A=!0)=>{try{A&&g(!0);const Y=await Re.get(`/api/business/${e}/transfers/`);d(Y.data)}catch(Y){console.error("  :",Y),w("   ")}finally{A&&g(!1)}};v.useEffect(()=>{const A=n.get("batch");A&&!N&&!f&&(F(parseInt(A)),n.delete("batch"),a(n,{replace:!0}))},[n,f]);const F=async(A,Y=!0)=>{try{Y&&g(!0);const K=await Re.get(`/api/business/${e}/batches/${A}/`);I(K.data),Y&&B(!0)}catch(K){console.error("   :",K),Y&&alert("    ")}finally{Y&&g(!1)}},H=async(A=!0)=>{try{A&&g(!0);const Y=await Re.get(`/api/business/${e}/batches/`);c(Y.data)}catch(Y){console.error("  :",Y),w("   ")}finally{A&&g(!1)}},ne=async(A,Y)=>{try{const G=(await Re.post(`/api/business/${e}/batches/create/`,A)).data.id;if(Y&&Y.length>0)for(const oe of Y){const ee=new FormData;ee.append("document",oe.document),ee.append("name",oe.name),oe.description&&ee.append("description",oe.description),await Re.post(`/api/business/${e}/batches/${G}/add-document/`,ee,{headers:{"Content-Type":"multipart/form-data"}})}return await H(),j(!1),!0}catch(K){throw console.error("  :",K),K}},X=async A=>{var G,oe;const Y=o.find(ee=>ee.id===A),K=Y&&Y.status==="completed"?" ,     ?           .":" ,     ?    .";if(window.confirm(K))try{await Re.delete(`/api/business/${e}/batches/${A}/delete/`),c(o.filter(ee=>ee.id!==A)),await H(!1)}catch(ee){console.error("  :",ee);const ae=((oe=(G=ee.response)==null?void 0:G.data)==null?void 0:oe.detail)||"   ";alert(ae)}},te=async A=>{try{const Y=await Re.get(`/api/business/${e}/batches/${A}/`);I(Y.data),B(!0)}catch(Y){console.error("   :",Y)}},se=()=>{B(!1),I(null),H()},V=async()=>{await H(!1),N&&N.id&&await F(N.id,!1)},q=async A=>{try{const K=(await Re.get(`/api/business/${e}/transfers/${A}/`)).data;K.status==="draft"?t(`/business/${e}/transfers/create?transfer_id=${A}`):(O(K),$(!0))}catch(Y){console.error("   :",Y),alert("    ")}},T=async A=>{var Y,K;if(A){const G=l.find(ee=>ee.id===A);if(!G)return;const oe=G.status==="completed"?" ,     ?     .":" ,     ?    .";if(!window.confirm(oe))return;try{await Re.delete(`/api/business/${e}/transfers/${A}/delete/`),d(l.filter(ee=>ee.id!==A)),await U(!1)}catch(ee){console.error("  :",ee);const ae=((K=(Y=ee.response)==null?void 0:Y.data)==null?void 0:K.detail)||"   ";alert(ae)}}else await U(!1)},J=()=>{$(!1),O(null),U(!1)},Z=async()=>{if(await U(!1),P&&P.id)try{const A=await Re.get(`/api/business/${e}/transfers/${P.id}/`);O(A.data)}catch(A){console.error("   :",A)}};return f?s.jsx("div",{className:Zr.loadingContainer,children:s.jsx(Wn,{})}):b?s.jsxs("div",{className:Zr.errorContainer,children:[s.jsx("p",{children:b}),s.jsx("button",{onClick:H,children:" "})]}):s.jsxs("div",{className:Zr.container,children:[s.jsxs("div",{className:Zr.header,children:[s.jsxs("div",{className:Zr.titleSection,children:[r==="batches"?s.jsx(jc,{className:Zr.titleIcon}):s.jsx(Hc,{className:Zr.titleIcon}),s.jsx("h1",{className:Zr.title,children:r==="batches"?" ":" "})]}),s.jsxs("button",{className:Zr.createButton,onClick:()=>{r==="batches"?j(!0):t(`/business/${e}/transfers/create`)},children:[s.jsx($a,{}),s.jsx("span",{children:r==="batches"?" ":" "})]})]}),s.jsxs("div",{className:Zr.tabs,children:[s.jsxs("button",{className:`${Zr.tab} ${r==="batches"?Zr.tabActive:""}`,onClick:()=>{i("batches"),n.delete("tab"),a(n)},children:[s.jsx(jc,{}),s.jsx("span",{children:""})]}),s.jsxs("button",{className:`${Zr.tab} ${r==="transfers"?Zr.tabActive:""}`,onClick:()=>{i("transfers"),n.set("tab","transfers"),a(n)},children:[s.jsx(Hc,{}),s.jsx("span",{children:""})]})]}),r==="batches"?o.length===0?s.jsxs("div",{className:Zr.emptyState,children:[s.jsx(jc,{className:Zr.emptyIcon}),s.jsx("h2",{children:" "}),s.jsx("p",{children:"   "}),s.jsxs("button",{className:Zr.createButton,onClick:()=>j(!0),children:[s.jsx($a,{}),s.jsx("span",{children:" "})]})]}):s.jsx("div",{className:Zr.batchesGrid,children:o.map(A=>s.jsx(RF,{batch:A,onView:()=>te(A.id),onDelete:()=>X(A.id)},A.id))}):l.length===0?s.jsxs("div",{className:Zr.emptyState,children:[s.jsx(Hc,{className:Zr.emptyIcon}),s.jsx("h2",{children:" "}),s.jsx("p",{children:"   "}),s.jsxs("button",{className:Zr.createButton,onClick:()=>t(`/business/${e}/transfers/create`),children:[s.jsx($a,{}),s.jsx("span",{children:" "})]})]}):s.jsx("div",{className:Zr.batchesGrid,children:l.map(A=>s.jsx(OF,{transfer:A,onView:()=>q(A.id),onDelete:()=>T(A.id)},A.id))}),S&&s.jsx(LF,{businessSlug:e,onClose:()=>j(!1),onSuccess:ne}),M&&N&&s.jsx($F,{businessSlug:e,batch:N,onClose:se,onUpdate:V,onDelete:X}),R&&P&&s.jsx(PF,{businessSlug:e,transfer:P,onClose:J,onUpdate:Z,onDelete:T})]})},vpt="_container_1twde_3",xpt="_header_1twde_16",bpt="_title_1twde_59",ypt="_createButton_1twde_68",wpt="_tabs_1twde_93",Cpt="_tab_1twde_93",Spt="_tabActive_1twde_145",jpt="_content_1twde_168",Npt="_loadingContainer_1twde_176",Ept="_errorContainer_1twde_177",kpt="_emptyState_1twde_211",Ipt="_emptyIcon_1twde_222",Dpt="_emptyCreateButton_1twde_241",Tpt="_batchesList_1twde_265",yi={container:vpt,header:xpt,title:bpt,createButton:ypt,tabs:wpt,tab:Cpt,tabActive:Spt,content:jpt,loadingContainer:Npt,errorContainer:Ept,emptyState:kpt,emptyIcon:Ipt,emptyCreateButton:Dpt,batchesList:Tpt},Apt=()=>{const{business_slug:e}=fa(),t=Rs(),[n,a]=Fm(),[r,i]=v.useState(()=>n.get("tab")==="transfers"?"transfers":"batches"),[o,c]=v.useState([]),[l,d]=v.useState([]),[f,g]=v.useState(!0),[b,w]=v.useState(null),[S,j]=v.useState(!1),[N,I]=v.useState(null),[M,B]=v.useState(!1),[P,O]=v.useState(null),[R,$]=v.useState(!1);v.useEffect(()=>{const A=n.get("tab");A==="transfers"?(r!=="transfers"&&i("transfers"),r==="transfers"&&H(!1)):A!=="transfers"&&r==="transfers"&&A!==null&&i("batches")},[n]),v.useEffect(()=>{r==="batches"?F():r==="transfers"&&H()},[e,r]),v.useEffect(()=>{const A=n.get("batch");A&&!N&&!f&&(U(parseInt(A)),n.delete("batch"),a(n,{replace:!0}))},[n,f]);const U=async(A,Y=!0)=>{try{Y&&g(!0);const K=await Re.get(`/api/business/${e}/batches/${A}/`);I(K.data),Y&&B(!0)}catch(K){console.error("   :",K),Y&&alert("    ")}finally{Y&&g(!1)}},F=async(A=!0)=>{try{A&&g(!0);const Y=await Re.get(`/api/business/${e}/batches/`);c(Y.data)}catch(Y){console.error("  :",Y),w("   ")}finally{A&&g(!1)}},H=async(A=!0)=>{try{A&&g(!0);const Y=await Re.get(`/api/business/${e}/transfers/`);d(Y.data)}catch(Y){console.error("  :",Y),w("   ")}finally{A&&g(!1)}},ne=async(A,Y)=>{try{const G=(await Re.post(`/api/business/${e}/batches/create/`,A)).data.id;if(Y&&Y.length>0)for(const oe of Y){const ee=new FormData;ee.append("document",oe.document),ee.append("name",oe.name),oe.description&&ee.append("description",oe.description),await Re.post(`/api/business/${e}/batches/${G}/add-document/`,ee,{headers:{"Content-Type":"multipart/form-data"}})}return await F(),j(!1),!0}catch(K){throw console.error("  :",K),K}},X=async A=>{var G,oe;const Y=o.find(ee=>ee.id===A),K=Y&&Y.status==="completed"?" ,     ?           .":" ,     ?    .";if(window.confirm(K))try{await Re.delete(`/api/business/${e}/batches/${A}/delete/`),c(o.filter(ee=>ee.id!==A)),await F(!1)}catch(ee){console.error("  :",ee);const ae=((oe=(G=ee.response)==null?void 0:G.data)==null?void 0:oe.detail)||"   ";alert(ae)}},te=async A=>{try{const Y=await Re.get(`/api/business/${e}/batches/${A}/`);I(Y.data),B(!0)}catch(Y){console.error("   :",Y)}},se=()=>{B(!1),I(null),F()},V=async()=>{await F(!1),N&&N.id&&await U(N.id,!1)},q=async A=>{try{const K=(await Re.get(`/api/business/${e}/transfers/${A}/`)).data;K.status==="draft"?t(`/business/${e}/transfers/create?transfer_id=${A}`):(O(K),$(!0))}catch(Y){console.error("   :",Y),alert("    ")}},T=async A=>{var Y,K;if(A){const G=l.find(ee=>ee.id===A);if(!G)return;const oe=G.status==="completed"?" ,     ?     .":" ,     ?    .";if(!window.confirm(oe))return;try{await Re.delete(`/api/business/${e}/transfers/${A}/delete/`),d(l.filter(ee=>ee.id!==A)),await H(!1)}catch(ee){console.error("  :",ee);const ae=((K=(Y=ee.response)==null?void 0:Y.data)==null?void 0:K.detail)||"   ";alert(ae)}}else await H(!1)},J=()=>{$(!1),O(null),H(!1)},Z=async()=>{if(await H(!1),P&&P.id)try{const A=await Re.get(`/api/business/${e}/transfers/${P.id}/`);O(A.data)}catch(A){console.error("   :",A)}};return f?s.jsx("div",{className:yi.loadingContainer,children:s.jsx(Wn,{})}):b?s.jsxs("div",{className:yi.errorContainer,children:[s.jsx("p",{children:b}),s.jsx("button",{onClick:F,children:" "})]}):s.jsxs("div",{className:yi.container,children:[s.jsxs("div",{className:yi.header,children:[s.jsx("h1",{className:yi.title,children:r==="batches"?"":""}),s.jsx("button",{type:"button",className:yi.createButton,onClick:()=>{r==="batches"?j(!0):t(`/business/${e}/transfers/create`)},"aria-label":r==="batches"?" ":" ",children:s.jsx($a,{})})]}),s.jsxs("div",{className:yi.tabs,children:[s.jsxs("button",{className:`${yi.tab} ${r==="batches"?yi.tabActive:""}`,onClick:()=>{i("batches"),n.delete("tab"),a(n)},children:[s.jsx(jc,{}),s.jsx("span",{children:""})]}),s.jsxs("button",{className:`${yi.tab} ${r==="transfers"?yi.tabActive:""}`,onClick:()=>{i("transfers"),n.set("tab","transfers"),a(n)},children:[s.jsx(Hc,{}),s.jsx("span",{children:""})]})]}),s.jsx("div",{className:yi.content,children:r==="batches"?o.length===0?s.jsxs("div",{className:yi.emptyState,children:[s.jsx(jc,{className:yi.emptyIcon}),s.jsx("h2",{children:" "}),s.jsx("p",{children:"   "}),s.jsxs("button",{className:yi.emptyCreateButton,onClick:()=>j(!0),children:[s.jsx($a,{}),s.jsx("span",{children:" "})]})]}):s.jsx("div",{className:yi.batchesList,children:o.map(A=>s.jsx(RF,{batch:A,onView:()=>te(A.id),onDelete:()=>X(A.id)},A.id))}):l.length===0?s.jsxs("div",{className:yi.emptyState,children:[s.jsx(Hc,{className:yi.emptyIcon}),s.jsx("h2",{children:" "}),s.jsx("p",{children:"   "}),s.jsxs("button",{className:yi.emptyCreateButton,onClick:()=>t(`/business/${e}/transfers/create`),children:[s.jsx($a,{}),s.jsx("span",{children:" "})]})]}):s.jsx("div",{className:yi.batchesList,children:l.map(A=>s.jsx(OF,{transfer:A,onView:()=>q(A.id),onDelete:()=>T(A.id)},A.id))})}),S&&s.jsx(LF,{businessSlug:e,onClose:()=>j(!1),onSuccess:ne}),M&&N&&s.jsx($F,{businessSlug:e,batch:N,onClose:se,onUpdate:V,onDelete:X}),R&&P&&s.jsx(PF,{businessSlug:e,transfer:P,onClose:J,onUpdate:Z,onDelete:T})]})},Mpt="_container_jyjm1_1",Rpt="_header_jyjm1_9",Opt="_backButton_jyjm1_16",Bpt="_title_jyjm1_35",Lpt="_titleIcon_jyjm1_45",$pt="_form_jyjm1_50",Ppt="_formSection_jyjm1_56",Fpt="_sectionHeader_jyjm1_63",Hpt="_sectionTitle_jyjm1_70",zpt="_toggleButton_jyjm1_77",Vpt="_collapsedMessage_jyjm1_98",qpt="_collapsedCount_jyjm1_111",Upt="_formRow_jyjm1_117",Wpt="_formGroup_jyjm1_124",Ypt="_itemsList_jyjm1_203",Gpt="_itemCard_jyjm1_209",Qpt="_itemHeader_jyjm1_216",Xpt="_itemInfo_jyjm1_223",Kpt="_itemImage_jyjm1_229",Zpt="_noImage_jyjm1_237",Jpt="_itemMeta_jyjm1_257",e1t="_removeButton_jyjm1_263",t1t="_itemControls_jyjm1_277",n1t="_emptyItems_jyjm1_283",s1t="_emptySubtext_jyjm1_289",a1t="_emptyMessage_jyjm1_295",r1t="_stocksGrid_jyjm1_309",i1t="_stockCard_jyjm1_316",o1t="_stockImage_jyjm1_335",c1t="_stockNoImage_jyjm1_342",l1t="_stockInfo_jyjm1_353",u1t="_stockName_jyjm1_359",d1t="_stockBatch_jyjm1_371",h1t="_stockQuantities_jyjm1_377",f1t="_quantityRow_jyjm1_386",m1t="_quantityLabel_jyjm1_393",p1t="_quantityValue_jyjm1_397",g1t="_quantityValueAvailable_jyjm1_402",_1t="_quantityValueReserved_jyjm1_407",v1t="_quantityValueDefect_jyjm1_412",x1t="_stockAction_jyjm1_417",b1t="_addIcon_jyjm1_432",y1t="_modalOverlay_jyjm1_437",w1t="_quantityModal_jyjm1_451",C1t="_modalHeader_jyjm1_462",S1t="_modalCloseButton_jyjm1_477",j1t="_modalContent_jyjm1_493",N1t="_modalStockInfo_jyjm1_500",E1t="_modalStockImage_jyjm1_506",k1t="_modalStockNoImage_jyjm1_514",I1t="_modalQuantities_jyjm1_538",D1t="_quantityInfo_jyjm1_548",T1t="_availableText_jyjm1_564",A1t="_reservedText_jyjm1_568",M1t="_defectText_jyjm1_572",R1t="_modalFormGroup_jyjm1_576",O1t="_quantityInputWrapper_jyjm1_588",B1t="_quantityInput_jyjm1_588",L1t="_unitLabel_jyjm1_612",$1t="_helpText_jyjm1_620",P1t="_modalActions_jyjm1_626",F1t="_modalCancelButton_jyjm1_634",H1t="_modalAddButton_jyjm1_635",z1t="_itemQuantities_jyjm1_673",V1t="_availableBadge_jyjm1_681",q1t="_reservedBadge_jyjm1_682",U1t="_defectBadge_jyjm1_683",W1t="_actions_jyjm1_708",Y1t="_cancelButton_jyjm1_716",G1t="_submitButton_jyjm1_717",Q1t="_completeButton_jyjm1_718",X1t="_documentsList_jyjm1_771",K1t="_documentCard_jyjm1_778",Z1t="_documentIcon_jyjm1_788",J1t="_documentInfo_jyjm1_794",egt="_documentName_jyjm1_801",tgt="_documentDescription_jyjm1_807",ngt="_documentMeta_jyjm1_812",sgt="_documentActions_jyjm1_817",agt="_downloadButton_jyjm1_823",rgt="_deleteDocumentButton_jyjm1_824",igt="_addDocumentSection_jyjm1_851",ogt="_addDocumentButton_jyjm1_859",cn={container:Mpt,header:Rpt,backButton:Opt,title:Bpt,titleIcon:Lpt,form:$pt,formSection:Ppt,sectionHeader:Fpt,sectionTitle:Hpt,toggleButton:zpt,collapsedMessage:Vpt,collapsedCount:qpt,formRow:Upt,formGroup:Wpt,itemsList:Ypt,itemCard:Gpt,itemHeader:Qpt,itemInfo:Xpt,itemImage:Kpt,noImage:Zpt,itemMeta:Jpt,removeButton:e1t,itemControls:t1t,emptyItems:n1t,emptySubtext:s1t,emptyMessage:a1t,stocksGrid:r1t,stockCard:i1t,stockImage:o1t,stockNoImage:c1t,stockInfo:l1t,stockName:u1t,stockBatch:d1t,stockQuantities:h1t,quantityRow:f1t,quantityLabel:m1t,quantityValue:p1t,quantityValueAvailable:g1t,quantityValueReserved:_1t,quantityValueDefect:v1t,stockAction:x1t,addIcon:b1t,modalOverlay:y1t,quantityModal:w1t,modalHeader:C1t,modalCloseButton:S1t,modalContent:j1t,modalStockInfo:N1t,modalStockImage:E1t,modalStockNoImage:k1t,modalQuantities:I1t,quantityInfo:D1t,availableText:T1t,reservedText:A1t,defectText:M1t,modalFormGroup:R1t,quantityInputWrapper:O1t,quantityInput:B1t,unitLabel:L1t,helpText:$1t,modalActions:P1t,modalCancelButton:F1t,modalAddButton:H1t,itemQuantities:z1t,availableBadge:V1t,reservedBadge:q1t,defectBadge:U1t,actions:W1t,cancelButton:Y1t,submitButton:G1t,completeButton:Q1t,documentsList:X1t,documentCard:K1t,documentIcon:Z1t,documentInfo:J1t,documentName:egt,documentDescription:tgt,documentMeta:ngt,documentActions:sgt,downloadButton:agt,deleteDocumentButton:rgt,addDocumentSection:igt,addDocumentButton:ogt},FF=()=>{var ge,ye;const{business_slug:e}=fa(),t=Rs(),[n]=Fm(),a=n.get("transfer_id"),r=!!a,{getFileUrl:i}=Ur(),[o,c]=v.useState(!1),[l,d]=v.useState(!1),[f,g]=v.useState([]),[b,w]=v.useState([]),[S,j]=v.useState(null),[N,I]=v.useState({from_location:"",to_location:"",notes:""}),[M,B]=v.useState([]),[P,O]=v.useState([]),[R,$]=v.useState({document:null,name:"",description:""}),[U,F]=v.useState(null),[H,ne]=v.useState(""),[X,te]=v.useState(!1),[se,V]=v.useState(!0);v.useEffect(()=>{q(),r&&a&&T(a)},[]),v.useEffect(()=>{N.from_location?J(N.from_location):(w([]),B([]))},[N.from_location]);const q=async()=>{try{const je=await Re.get(`/api/business/${e}/locations/?warehouses_only=true`),Ie=je.data.results||je.data||[];g(Ie),Ie.length===0&&console.warn("    ")}catch(je){console.error("  :",je),alert("   ")}},T=async je=>{try{c(!0);const me=(await Re.get(`/api/business/${e}/transfers/${je}/`)).data;if(j(me),I({from_location:me.from_location.toString(),to_location:me.to_location.toString(),notes:me.notes||""}),me.items&&me.items.length>0){const de=me.items.map(fe=>{var Ee,Le,Ue;const re=parseFloat(fe.available_quantity||0),xe=parseFloat(fe.reserved_quantity||0),Se=parseFloat(fe.defect_quantity||0),pe=re+xe+Se;return{id:fe.id,stock_id:fe.stock_id,stock:fe.stock,quantity:parseFloat(fe.quantity),notes:fe.notes||"",variant_name:fe.variant_name,variant_data:fe.variant_data||((Ee=fe.stock)==null?void 0:Ee.variant_data),available_quantity:re,reserved_quantity:xe,defect_quantity:Se,total_quantity:parseFloat(((Le=fe.stock)==null?void 0:Le.quantity)||0),max_transferable:pe,batch_number:fe.batch_number||" ",location_name:fe.location_name,unit_display:fe.unit_display||((Ue=fe.variant_data)==null?void 0:Ue.unit_display)||"."}});B(de)}me.documents&&O(me.documents),me.from_location&&await J(me.from_location)}catch(Ie){console.error("  :",Ie),alert("   "),t(`/business/${e}/batches?tab=transfers`)}finally{c(!1)}},J=async je=>{try{const Ie=await Re.get(`/api/business/${e}/transfers/available-stocks/${je}/`);w(Ie.data)}catch(Ie){console.error("   :",Ie),alert("    "),w([])}},Z=(je,Ie)=>{I(me=>({...me,[je]:Ie}))},A=je=>{if(M.some(Ie=>Ie.stock_id===je.id)){alert("     ");return}F(je),ne(""),te(!0)},Y=()=>{if(!U)return;const je=parseFloat(H),Ie=U.unit_display===".",me=Ie?1:.001;if(!je||je<me){alert(`  (: ${me} ${U.unit_display||"."})`);return}if(Ie&&!Number.isInteger(je)){alert("        ");return}const de=parseFloat(U.available_quantity||0),fe=parseFloat(U.reserved_quantity||0),re=parseFloat(U.defect_quantity||0),xe=de+fe+re,Se=parseFloat(U.quantity||0);if(je>xe){alert(`   .   : ${xe} ${U.unit_display||"."} (: ${de}, : ${fe}, : ${re})`);return}const pe={stock_id:U.id,stock:U,quantity:je,notes:"",variant_name:U.variant_name,variant_data:U.variant_data,available_quantity:de,reserved_quantity:fe,defect_quantity:re,total_quantity:Se,max_transferable:xe,batch_number:U.batch_number||" ",location_name:U.location_name,unit_display:U.unit_display||"."};B([...M,pe]),F(null),ne(""),te(!1)},K=()=>{te(!1),F(null),ne("")},G=(je,Ie,me)=>{const de=[...M],fe=de[je];if(Ie==="quantity"){const re=fe.unit_display===".";if(me!==""){const xe=parseFloat(me);if(re&&!isNaN(xe)&&!Number.isInteger(xe)){const Se=Math.floor(xe);me=Se>0?Se.toString():"1"}if(!isNaN(xe)){const Se=parseFloat(fe.max_transferable||0);if(xe>Se){const pe=parseFloat(fe.available_quantity||0),Ee=parseFloat(fe.reserved_quantity||0),Le=parseFloat(fe.defect_quantity||0);alert(`   .   : ${Se} ${fe.unit_display||"."} (: ${pe}, : ${Ee}, : ${Le})`);return}}}}de[je]={...fe,[Ie]:me},B(de)},oe=async je=>{var Ie,me,de,fe;if(je.preventDefault(),!N.from_location||!N.to_location){alert(" -  -");return}if(N.from_location===N.to_location){alert("-  -   ");return}if(M.length===0){alert("      ");return}c(!0);try{const re={from_location:parseInt(N.from_location),to_location:parseInt(N.to_location),notes:N.notes||"",items:M.map(xe=>({stock_id:xe.stock_id,quantity:parseFloat(xe.quantity),notes:xe.notes||""}))};r?await Re.patch(`/api/business/${e}/transfers/${a}/update/`,re):await Re.post(`/api/business/${e}/transfers/create/`,re),t(`/business/${e}/batches?tab=transfers`)}catch(re){console.error(` ${r?"":""} :`,re);const xe=((me=(Ie=re.response)==null?void 0:Ie.data)==null?void 0:me.detail)||((fe=(de=re.response)==null?void 0:de.data)==null?void 0:fe.items)||`  ${r?"":""} `;alert(typeof xe=="string"?xe:JSON.stringify(xe))}finally{c(!1)}},ee=async()=>{var je,Ie;if(confirm(" ,    ?      .")){c(!0);try{await Re.post(`/api/business/${e}/transfers/${a}/complete/`),t(`/business/${e}/batches?tab=transfers`)}catch(me){console.error("  :",me),alert(((Ie=(je=me.response)==null?void 0:je.data)==null?void 0:Ie.detail)||"   ")}finally{c(!1)}}},ae=je=>{$(Ie=>({...Ie,document:je.target.files[0]}))},ie=async()=>{var je,Ie;if(!R.document||!R.name){alert("     ");return}d(!0);try{const me=new FormData;me.append("document",R.document),me.append("name",R.name),R.description&&me.append("description",R.description);const de=await Re.post(`/api/business/${e}/transfers/${a}/add-document/`,me,{headers:{"Content-Type":"multipart/form-data"}});O([...P,de.data]),$({document:null,name:"",description:""}),document.getElementById("documentUpload").value=""}catch(me){console.error("  :",me),alert(((Ie=(je=me.response)==null?void 0:je.data)==null?void 0:Ie.detail)||"   ")}finally{d(!1)}},ue=async je=>{var Ie,me;if(confirm(" ,     ?"))try{await Re.delete(`/api/business/${e}/transfers/${a}/delete-document/${je}/`),O(P.filter(de=>de.id!==je))}catch(de){console.error("  :",de),alert(((me=(Ie=de.response)==null?void 0:Ie.data)==null?void 0:me.detail)||"   ")}},he=async je=>{var me,de;const Ie=M[je];if(r&&Ie.id){if(!confirm(" ,       ?"))return;try{await Re.delete(`/api/business/${e}/transfers/${a}/remove-item/${Ie.id}/`),B(M.filter((fe,re)=>re!==je))}catch(fe){console.error("  :",fe),alert(((de=(me=fe.response)==null?void 0:me.data)==null?void 0:de.detail)||"   ")}}else B(M.filter((fe,re)=>re!==je))};return s.jsxs("div",{className:cn.container,children:[s.jsxs("div",{className:cn.header,children:[s.jsxs("button",{className:cn.backButton,onClick:()=>t(`/business/${e}/batches?tab=transfers`),children:[s.jsx(hm,{}),s.jsx("span",{children:""})]}),s.jsxs("h1",{className:cn.title,children:[s.jsx(Hc,{className:cn.titleIcon}),r?`  ${(S==null?void 0:S.transfer_number)||""}`:" "]})]}),s.jsxs("form",{onSubmit:oe,className:cn.form,children:[s.jsxs("div",{className:cn.formSection,children:[s.jsx("h2",{className:cn.sectionTitle,children:"  "}),f.length===0?s.jsxs("div",{className:cn.emptyMessage,children:[s.jsx("p",{children:"    ."}),s.jsx("p",{children:"    ,  is_warehouse = true."})]}):s.jsx(s.Fragment,{children:s.jsxs("div",{className:cn.formRow,children:[s.jsxs("div",{className:cn.formGroup,children:[s.jsx("label",{children:"- *"}),s.jsxs("select",{value:N.from_location,onChange:je=>Z("from_location",je.target.value),required:!0,disabled:o||r,children:[s.jsx("option",{value:"",children:" "}),f.map(je=>s.jsxs("option",{value:je.id,children:[je.name," ",je.city_detail?`(${je.city_detail.name})`:""]},je.id))]})]}),s.jsxs("div",{className:cn.formGroup,children:[s.jsx("label",{children:"- *"}),s.jsxs("select",{value:N.to_location,onChange:je=>Z("to_location",je.target.value),required:!0,disabled:o||!N.from_location||r,children:[s.jsx("option",{value:"",children:" "}),f.filter(je=>{const Ie=N.from_location?parseInt(N.from_location):null;return Ie?je.id!==Ie:!0}).map(je=>s.jsxs("option",{value:je.id,children:[je.name," ",je.city_detail?`(${je.city_detail.name})`:""]},je.id))]})]})]})}),s.jsxs("div",{className:cn.formGroup,children:[s.jsx("label",{children:""}),s.jsx("textarea",{value:N.notes,onChange:je=>Z("notes",je.target.value),placeholder:"   ...",rows:3,disabled:o})]})]}),N.from_location&&s.jsxs("div",{className:cn.formSection,children:[s.jsxs("div",{className:cn.sectionHeader,children:[s.jsx("h2",{className:cn.sectionTitle,children:"  "}),b.length>0&&s.jsx("button",{type:"button",className:cn.toggleButton,onClick:()=>V(!se),title:se?" ":" ",children:se?s.jsxs(s.Fragment,{children:[s.jsx(Lo,{}),s.jsx("span",{children:""})]}):s.jsxs(s.Fragment,{children:[s.jsx(Bo,{}),s.jsx("span",{children:""})]})})]}),b.length===0?s.jsxs("div",{className:cn.emptyItems,children:[s.jsx("p",{children:"       "}),s.jsx("p",{className:cn.emptySubtext,children:"    available_quantity > 0   /"})]}):s.jsxs(s.Fragment,{children:[se&&s.jsx("div",{className:cn.stocksGrid,children:b.filter(je=>!M.some(Ie=>Ie.stock_id===je.id)).map(je=>{var Se,pe;const Ie=parseFloat(je.available_quantity||0),me=parseFloat(je.reserved_quantity||0),de=parseFloat(je.defect_quantity||0),fe=parseFloat(je.quantity||0),re=Ie+me+de,xe=je.unit_display||".";return s.jsxs("div",{className:cn.stockCard,onClick:()=>A(je),children:[(pe=(Se=je.variant_data)==null?void 0:Se.main_image)!=null&&pe.image?s.jsx("img",{src:i(je.variant_data.main_image.image),alt:je.variant_name,className:cn.stockImage,onError:Ee=>{Ee.target.onerror=null,Ee.target.src="https://via.placeholder.com/200x280?text=No+Image"}}):s.jsx("div",{className:cn.stockNoImage,children:s.jsx(Hc,{size:24})}),s.jsxs("div",{className:cn.stockInfo,children:[s.jsx("h4",{className:cn.stockName,children:je.variant_name}),s.jsxs("p",{className:cn.stockBatch,children:[": ",je.batch_number||" "]}),s.jsxs("div",{className:cn.stockQuantities,children:[s.jsxs("div",{className:cn.quantityRow,children:[s.jsx("span",{className:cn.quantityLabel,children:":"}),s.jsxs("span",{className:cn.quantityValue,children:[fe," ",xe]})]}),re>0&&s.jsxs("div",{className:cn.quantityRow,children:[s.jsx("span",{className:cn.quantityLabel,children:" :"}),s.jsxs("span",{className:cn.quantityValueAvailable,style:{fontWeight:700},children:[re," ",xe]})]}),Ie>0&&s.jsxs("div",{className:cn.quantityRow,children:[s.jsx("span",{className:cn.quantityLabel,children:":"}),s.jsxs("span",{className:cn.quantityValueAvailable,children:[Ie," ",xe]})]}),me>0&&s.jsxs("div",{className:cn.quantityRow,children:[s.jsx("span",{className:cn.quantityLabel,children:":"}),s.jsxs("span",{className:cn.quantityValueReserved,children:[me," ",xe]})]}),de>0&&s.jsxs("div",{className:cn.quantityRow,children:[s.jsx("span",{className:cn.quantityLabel,children:":"}),s.jsxs("span",{className:cn.quantityValueDefect,children:[de," ",xe]})]})]})]}),s.jsx("div",{className:cn.stockAction,children:s.jsx($a,{className:cn.addIcon})})]},je.id)})}),!se&&s.jsxs("div",{className:cn.collapsedMessage,children:[s.jsx("p",{children:'  .  ""    .'}),s.jsxs("p",{className:cn.collapsedCount,children:[" : ",b.filter(je=>!M.some(Ie=>Ie.stock_id===je.id)).length]})]})]}),M.length>0&&s.jsx("div",{className:cn.itemsList,children:M.map((je,Ie)=>{var me,de;return s.jsxs("div",{className:cn.itemCard,children:[s.jsxs("div",{className:cn.itemHeader,children:[s.jsxs("div",{className:cn.itemInfo,children:[(de=(me=je.variant_data)==null?void 0:me.main_image)!=null&&de.image?s.jsx("img",{src:i(je.variant_data.main_image.image),alt:je.variant_name,className:cn.itemImage,onError:fe=>{fe.target.onerror=null,fe.target.src="https://via.placeholder.com/70x98?text=No+Image"}}):s.jsx("div",{className:cn.noImage,children:" "}),s.jsxs("div",{children:[s.jsx("h4",{children:je.variant_name}),s.jsxs("p",{className:cn.itemMeta,children:[": ",je.batch_number]}),s.jsxs("div",{className:cn.itemQuantities,children:[s.jsxs("span",{children:[": ",je.total_quantity," ",je.unit_display||"."]}),je.available_quantity>0&&s.jsxs("span",{className:cn.availableBadge,children:[": ",je.available_quantity]}),je.reserved_quantity>0&&s.jsxs("span",{className:cn.reservedBadge,children:[": ",je.reserved_quantity]}),je.defect_quantity>0&&s.jsxs("span",{className:cn.defectBadge,children:[": ",je.defect_quantity]})]})]})]}),s.jsx("button",{type:"button",className:cn.removeButton,onClick:()=>he(Ie),disabled:o,children:s.jsx(Cr,{})})]}),s.jsxs("div",{className:cn.itemControls,children:[s.jsxs("div",{className:cn.formGroup,children:[s.jsxs("label",{children:["   (: ",je.max_transferable," ",je.unit_display||".",")"]}),s.jsxs("div",{className:cn.quantityInputWrapper,children:[s.jsx("input",{type:"number",step:je.unit_display==="."?"1":"0.001",min:je.unit_display==="."?"1":"0.001",max:je.max_transferable,value:je.quantity,onChange:fe=>{const re=fe.target.value,xe=je.unit_display===".";if(re===""){G(Ie,"quantity",re);return}xe?/^\d+$/.test(re)&&G(Ie,"quantity",re):/^\d*\.?\d*$/.test(re)&&G(Ie,"quantity",re)},onBlur:fe=>{const re=parseFloat(fe.target.value),xe=je.unit_display===".",Se=xe?1:.001;if(isNaN(re)||re<Se)G(Ie,"quantity",Se.toString());else{const pe=parseFloat(je.max_transferable||0),Ee=Math.min(re,pe);if(xe){const Le=Math.floor(Ee);G(Ie,"quantity",Math.max(1,Le).toString())}else{const Le=Math.round(Ee/.001)*.001;G(Ie,"quantity",Math.max(.001,Le).toFixed(3).replace(/\.?0+$/,""))}}},disabled:o,className:cn.quantityInput}),s.jsx("span",{className:cn.unitLabel,children:je.unit_display||"."})]}),s.jsx("small",{className:cn.helpText,children:je.unit_display==="."?"        .        .":"       "})]}),s.jsxs("div",{className:cn.formGroup,children:[s.jsx("label",{children:"  "}),s.jsx("input",{type:"text",value:je.notes,onChange:fe=>G(Ie,"notes",fe.target.value),placeholder:"",disabled:o})]})]})]},Ie)})}),M.length===0&&N.from_location&&s.jsx("div",{className:cn.emptyItems,children:s.jsx("p",{children:"   "})})]}),r&&s.jsxs("div",{className:cn.formSection,children:[s.jsx("h2",{className:cn.sectionTitle,children:""}),P.length>0&&s.jsx("div",{className:cn.documentsList,children:P.map(je=>s.jsxs("div",{className:cn.documentCard,children:[s.jsx(uu,{className:cn.documentIcon}),s.jsxs("div",{className:cn.documentInfo,children:[s.jsx("div",{className:cn.documentName,children:je.name}),je.description&&s.jsx("div",{className:cn.documentDescription,children:je.description}),je.uploaded_by_name&&s.jsxs("div",{className:cn.documentMeta,children:[": ",je.uploaded_by_name,"  ",new Date(je.uploaded_at).toLocaleDateString("ru-RU")]})]}),s.jsxs("div",{className:cn.documentActions,children:[je.file_url&&s.jsx("a",{href:je.file_url,target:"_blank",rel:"noopener noreferrer",className:cn.downloadButton,title:"",children:s.jsx(Mb,{})}),s.jsx("button",{className:cn.deleteDocumentButton,onClick:()=>ue(je.id),title:"",children:s.jsx(Cr,{})})]})]},je.id))}),s.jsxs("div",{className:cn.addDocumentSection,children:[s.jsxs("div",{className:cn.formGroup,children:[s.jsx("label",{children:"  *"}),s.jsx("input",{type:"text",value:R.name,onChange:je=>$(Ie=>({...Ie,name:je.target.value})),placeholder:": ,  ",disabled:l})]}),s.jsxs("div",{className:cn.formGroup,children:[s.jsx("label",{children:" ()"}),s.jsx("input",{type:"text",value:R.description,onChange:je=>$(Ie=>({...Ie,description:je.target.value})),placeholder:" ",disabled:l})]}),s.jsxs("div",{className:cn.formGroup,children:[s.jsx("label",{children:" *"}),s.jsx("input",{type:"file",id:"documentUpload",onChange:ae,disabled:l,accept:".pdf,.doc,.docx,.jpg,.jpeg,.png"})]}),s.jsx("button",{type:"button",className:cn.addDocumentButton,onClick:ie,disabled:l||!R.document||!R.name,children:l?s.jsx(Wn,{}):s.jsxs(s.Fragment,{children:[s.jsx($a,{}),"  "]})})]})]}),s.jsxs("div",{className:cn.actions,children:[s.jsx("button",{type:"button",className:cn.cancelButton,onClick:()=>t(`/business/${e}/batches?tab=transfers`),disabled:o,children:""}),r&&(S==null?void 0:S.status)==="draft"&&s.jsx("button",{type:"button",className:cn.completeButton,onClick:ee,disabled:o||M.length===0,children:o?s.jsx(Wn,{}):s.jsxs(s.Fragment,{children:[s.jsx(qr,{}),"  "]})}),s.jsx("button",{type:"submit",className:cn.submitButton,disabled:o||M.length===0||!N.from_location||!N.to_location,children:o?s.jsx(Wn,{}):r?" ":" "})]})]}),X&&U&&s.jsx("div",{className:cn.modalOverlay,onClick:K,children:s.jsxs("div",{className:cn.quantityModal,onClick:je=>je.stopPropagation(),children:[s.jsxs("div",{className:cn.modalHeader,children:[s.jsx("h3",{children:"   "}),s.jsx("button",{type:"button",className:cn.modalCloseButton,onClick:K,children:s.jsx(aa,{})})]}),s.jsxs("div",{className:cn.modalContent,children:[s.jsxs("div",{className:cn.modalStockInfo,children:[(ye=(ge=U.variant_data)==null?void 0:ge.main_image)!=null&&ye.image?s.jsx("img",{src:i(U.variant_data.main_image.image),alt:U.variant_name,className:cn.modalStockImage,onError:je=>{je.target.onerror=null,je.target.src="https://via.placeholder.com/80x112?text=No+Image"}}):s.jsx("div",{className:cn.modalStockNoImage,children:s.jsx(Hc,{size:32})}),s.jsxs("div",{children:[s.jsx("h4",{children:U.variant_name}),s.jsxs("p",{children:[": ",U.batch_number||" "]})]})]}),s.jsxs("div",{className:cn.modalQuantities,children:[s.jsxs("div",{className:cn.quantityInfo,children:[s.jsx("span",{children:"  :"}),s.jsxs("strong",{children:[parseFloat(U.quantity||0)," ",U.unit_display||"."]})]}),(()=>{const je=parseFloat(U.available_quantity||0),Ie=parseFloat(U.reserved_quantity||0),me=parseFloat(U.defect_quantity||0),de=je+Ie+me;return de>0?s.jsxs("div",{className:cn.quantityInfo,style:{borderTop:"2px solid var(--royal-emerald)",paddingTop:"0.75rem",marginTop:"0.5rem"},children:[s.jsx("span",{children:" :"}),s.jsxs("strong",{className:cn.availableText,style:{fontSize:"1.1rem"},children:[de," ",U.unit_display||"."]})]}):null})(),parseFloat(U.available_quantity||0)>0&&s.jsxs("div",{className:cn.quantityInfo,children:[s.jsx("span",{children:":"}),s.jsxs("strong",{className:cn.availableText,children:[parseFloat(U.available_quantity||0)," ",U.unit_display||"."]})]}),parseFloat(U.reserved_quantity||0)>0&&s.jsxs("div",{className:cn.quantityInfo,children:[s.jsx("span",{children:" :"}),s.jsxs("strong",{className:cn.reservedText,children:[parseFloat(U.reserved_quantity||0)," ",U.unit_display||"."]})]}),parseFloat(U.defect_quantity||0)>0&&s.jsxs("div",{className:cn.quantityInfo,children:[s.jsx("span",{children:":"}),s.jsxs("strong",{className:cn.defectText,children:[parseFloat(U.defect_quantity||0)," ",U.unit_display||"."]})]})]}),s.jsxs("div",{className:cn.modalFormGroup,children:[s.jsxs("label",{children:["   (: ",parseFloat(U.available_quantity||0)+parseFloat(U.reserved_quantity||0)+parseFloat(U.defect_quantity||0)," ",U.unit_display||".",")"]}),s.jsxs("div",{className:cn.quantityInputWrapper,children:[s.jsx("input",{type:"number",step:U.unit_display==="."?"1":"0.001",min:U.unit_display==="."?"1":"0.001",max:parseFloat(U.available_quantity||0)+parseFloat(U.reserved_quantity||0)+parseFloat(U.defect_quantity||0),value:H,onChange:je=>{const Ie=je.target.value,me=U.unit_display===".";if(Ie===""){ne(Ie);return}me?/^\d+$/.test(Ie)&&ne(Ie):/^\d*\.?\d*$/.test(Ie)&&ne(Ie)},onBlur:je=>{const Ie=parseFloat(je.target.value),me=U.unit_display===".",de=me?1:.001;if(isNaN(Ie)||Ie<de)ne("");else{const fe=parseFloat(U.available_quantity||0)+parseFloat(U.reserved_quantity||0)+parseFloat(U.defect_quantity||0),re=Math.min(Ie,fe);if(me){const xe=Math.floor(re);ne(Math.max(1,xe).toString())}else{const xe=Math.round(re/.001)*.001;ne(Math.max(.001,xe).toFixed(3).replace(/\.?0+$/,""))}}},autoFocus:!0,placeholder:"0",className:cn.quantityInput}),s.jsx("span",{className:cn.unitLabel,children:U.unit_display||"."})]}),s.jsx("small",{className:cn.helpText,children:U.unit_display==="."?"        .         .":"        "})]})]}),s.jsxs("div",{className:cn.modalActions,children:[s.jsx("button",{type:"button",className:cn.modalCancelButton,onClick:K,children:""}),s.jsxs("button",{type:"button",className:cn.modalAddButton,onClick:Y,disabled:!H||parseFloat(H)<=0,children:[s.jsx($a,{}),s.jsx("span",{children:""})]})]})]})})]})},cgt=FF,lgt="_container_ul63z_30",ugt="_header_ul63z_40",dgt="_createButton_ul63z_69",hgt="_content_ul63z_97",fgt="_filters_ul63z_102",mgt="_searchBar_ul63z_118",pgt="_filterSelect_ul63z_184",ggt="_checkboxLabel_ul63z_218",_gt="_error_ul63z_247",vgt="_tasksList_ul63z_258",xgt="_taskCard_ul63z_266",bgt="_subtask_ul63z_281",ygt="_taskHeader_ul63z_287",wgt="_taskTitleRow_ul63z_291",Cgt="_taskTitleLink_ul63z_308",Sgt="_taskBadges_ul63z_318",jgt="_badgeWrapper_ul63z_324",Ngt="_badge_ul63z_324",Egt="_clickableBadge_ul63z_341",kgt="_quickEditDropdown_ul63z_351",Igt="_quickEditOption_ul63z_376",Dgt="_active_ul63z_396",Tgt="_priorityLow_ul63z_413",Agt="_priorityMedium_ul63z_419",Mgt="_priorityHigh_ul63z_425",Rgt="_priorityCritical_ul63z_431",Ogt="_statusTodo_ul63z_437",Bgt="_statusInProgress_ul63z_443",Lgt="_statusReview_ul63z_449",$gt="_statusDone_ul63z_455",Pgt="_statusCancelled_ul63z_461",Fgt="_taskMeta_ul63z_467",Hgt="_metaItem_ul63z_476",zgt="_taskBody_ul63z_482",Vgt="_taskDescription_ul63z_488",qgt="_taskFiles_ul63z_496",Ugt="_fileItem_ul63z_509",Wgt="_deleteFileButton_ul63z_540",Ygt="_taskActions_ul63z_558",Ggt="_actionButton_ul63z_565",Qgt="_actionButtonDanger_ul63z_590",Xgt="_subtasks_ul63z_613",Kgt="_emptyState_ul63z_628",Zgt="_modalOverlay_ul63z_640",Jgt="_modalContent_ul63z_653",e0t="_modalHeader_ul63z_677",t0t="_closeButton_ul63z_696",n0t="_modalBody_ul63z_726",s0t="_employeeList_ul63z_829",a0t="_inputError_ul63z_842",r0t="_employeeButton_ul63z_865",i0t="_employeeButtonSelected_ul63z_891",o0t="_employeeInfo_ul63z_901",c0t="_employeeNameRow_ul63z_908",l0t="_employeeIcon_ul63z_915",u0t="_employeeName_ul63z_908",d0t="_employeeEmail_ul63z_929",h0t="_checkIcon_ul63z_939",f0t="_emptyEmployees_ul63z_947",m0t="_formError_ul63z_962",p0t="_fieldError_ul63z_974",g0t="_formRow_ul63z_991",_0t="_modalFooter_ul63z_997",v0t="_cancelButton_ul63z_1006",x0t="_saveButton_ul63z_1031",b0t="_searchableSelect_ul63z_1061",y0t="_searchableSelectTrigger_ul63z_1070",w0t="_searchableSelectValue_ul63z_1095",C0t="_searchableSelectArrow_ul63z_1101",S0t="_searchableSelectDropdown_ul63z_1108",j0t="_searchableSelectSearch_ul63z_1124",N0t="_searchableSelectOptions_ul63z_1147",E0t="_searchableSelectOption_ul63z_1147",k0t="_searchableSelectOptionSelected_ul63z_1186",I0t="_searchableSelectNoResults_ul63z_1192",yn={container:lgt,header:ugt,createButton:dgt,content:hgt,filters:fgt,searchBar:mgt,filterSelect:pgt,checkboxLabel:ggt,error:_gt,tasksList:vgt,taskCard:xgt,subtask:bgt,taskHeader:ygt,taskTitleRow:wgt,taskTitleLink:Cgt,taskBadges:Sgt,badgeWrapper:jgt,badge:Ngt,clickableBadge:Egt,quickEditDropdown:kgt,quickEditOption:Igt,active:Dgt,priorityLow:Tgt,priorityMedium:Agt,priorityHigh:Mgt,priorityCritical:Rgt,statusTodo:Ogt,statusInProgress:Bgt,statusReview:Lgt,statusDone:$gt,statusCancelled:Pgt,taskMeta:Fgt,metaItem:Hgt,taskBody:zgt,taskDescription:Vgt,taskFiles:qgt,fileItem:Ugt,deleteFileButton:Wgt,taskActions:Ygt,actionButton:Ggt,actionButtonDanger:Qgt,subtasks:Xgt,emptyState:Kgt,modalOverlay:Zgt,modalContent:Jgt,modalHeader:e0t,closeButton:t0t,modalBody:n0t,employeeList:s0t,inputError:a0t,employeeButton:r0t,employeeButtonSelected:i0t,employeeInfo:o0t,employeeNameRow:c0t,employeeIcon:l0t,employeeName:u0t,employeeEmail:d0t,checkIcon:h0t,emptyEmployees:f0t,formError:m0t,fieldError:p0t,formRow:g0t,modalFooter:_0t,cancelButton:v0t,saveButton:x0t,searchableSelect:b0t,searchableSelectTrigger:y0t,searchableSelectValue:w0t,searchableSelectArrow:C0t,searchableSelectDropdown:S0t,searchableSelectSearch:j0t,searchableSelectOptions:N0t,searchableSelectOption:E0t,searchableSelectOptionSelected:k0t,searchableSelectNoResults:I0t},D0t=()=>{const{business_slug:e}=fa();Rs();const[t,n]=v.useState([]),[a,r]=v.useState(!0),[i,o]=v.useState(null),[c,l]=v.useState(null),[d,f]=v.useState(""),[g,b]=v.useState(""),[w,S]=v.useState(""),[j,N]=v.useState(""),[I,M]=v.useState(!0),[B,P]=v.useState(!1),[O,R]=v.useState(null),[$,U]=v.useState({title:"",description:"",priority:"medium",status:"todo",due_date:"",location:"",parent_task:"",assignee_ids:[]}),[F,H]=v.useState([]),[ne,X]=v.useState([]),[te,se]=v.useState(!1),[V,q]=v.useState(null),[T,J]=v.useState({}),[Z,A]=v.useState(null),[Y,K]=v.useState(null);v.useEffect(()=>{G(),oe(),ee()},[e,d,g,w,j,I]),v.useEffect(()=>{const pe=Ee=>{Z&&!Ee.target.closest(`.${yn.badgeWrapper}`)&&(A(null),K(null))};return document.addEventListener("mousedown",pe),()=>{document.removeEventListener("mousedown",pe)}},[Z]);const G=async()=>{var pe,Ee;try{r(!0);const Le={page:1,page_size:50};d&&(Le.status=d),g&&(Le.priority=g),w&&(Le.location=w),j&&(Le.search=j),Le.show_subtasks=I;const Ue=await Re.get(`/api/business/${e}/tasks/`,{params:Le});n(Ue.data.results||[]),l(Ue.data.pagination)}catch(Le){console.error("  :",Le),o(((Ee=(pe=Le.response)==null?void 0:pe.data)==null?void 0:Ee.detail)||"  ")}finally{r(!1)}},oe=async()=>{try{const pe=await Re.get(`/api/business/${e}/locations/`);H(pe.data||[])}catch(pe){console.error("  :",pe)}},ee=async()=>{try{const Ee=((await Re.get(`/api/business/${e}/employees/`)).data||[]).map(Le=>({id:Le.user,name:Le.name||Le.full_name||" ",email:Le.user_email||""}));X(Ee)}catch(pe){console.error("  :",pe),X([])}},ae=()=>{R(null),U({title:"",description:"",priority:"medium",status:"todo",due_date:"",location:"",parent_task:"",assignee_ids:[]}),J({}),P(!0)},ie=pe=>{R(pe),U({title:pe.title,description:pe.description||"",priority:pe.priority,status:pe.status,due_date:pe.due_date?pe.due_date.split("T")[0]:"",location:pe.location_id||"",parent_task:pe.parent_task_id||"",assignee_ids:pe.assignees.map(Ee=>Ee.id)}),J({}),P(!0)},ue=async()=>{var pe;try{se(!0),J({});const Ee={...$,location:$.location||null,parent_task:$.parent_task||null,due_date:$.due_date?$.due_date:null};O?await Re.patch(`/api/business/${e}/tasks/${O.id}/`,Ee):await Re.post(`/api/business/${e}/tasks/`,Ee),P(!1),J({}),G()}catch(Ee){if(console.error("  :",Ee),(pe=Ee.response)!=null&&pe.data){const Le=Ee.response.data;if(typeof Le=="object"&&!Le.detail){const Ue={};Object.keys(Le).forEach(Ne=>{const et=Le[Ne];Array.isArray(et)?Ue[Ne]=et.join(", "):typeof et=="string"?Ue[Ne]=et:typeof et=="object"&&et.length&&(Ue[Ne]=et[0])}),J(Ue)}else J({non_field_errors:Le.detail||"  "})}else J({non_field_errors:"  .    ."})}finally{se(!1)}},he=async pe=>{var Ee,Le;if(window.confirm(" ?"))try{await Re.delete(`/api/business/${e}/tasks/${pe}/`),G()}catch(Ue){console.error("  :",Ue),alert(((Le=(Ee=Ue.response)==null?void 0:Ee.data)==null?void 0:Le.detail)||"  ")}},ge=async(pe,Ee)=>{var Le,Ue;try{await Re.patch(`/api/business/${e}/tasks/${pe}/`,{status:Ee}),A(null),K(null),G()}catch(Ne){console.error("  :",Ne),alert(((Ue=(Le=Ne.response)==null?void 0:Le.data)==null?void 0:Ue.detail)||"  ")}},ye=async(pe,Ee)=>{var Le,Ue;try{await Re.patch(`/api/business/${e}/tasks/${pe}/`,{priority:Ee}),A(null),K(null),G()}catch(Ne){console.error("  :",Ne),alert(((Ue=(Le=Ne.response)==null?void 0:Le.data)==null?void 0:Ue.detail)||"  ")}},je=()=>[{value:"todo",label:" ",color:"#969696"},{value:"in_progress",label:" ",color:"#6496ff"},{value:"review",label:" ",color:"#ffc864"},{value:"done",label:"",color:"#64c864"},{value:"cancelled",label:"",color:"#ff4757"}],Ie=()=>[{value:"low",label:"",color:"#64c864"},{value:"medium",label:"",color:"#d4af37"},{value:"high",label:"",color:"#ffa500"},{value:"critical",label:"",color:"#ff4757"}],me=async(pe,Ee)=>{var Le,Ue;try{q(pe);const Ne=new FormData;Ne.append("file",Ee),Ne.append("name",Ee.name),await Re.post(`/api/business/${e}/tasks/${pe}/files/`,Ne,{headers:{"Content-Type":"multipart/form-data"}}),G()}catch(Ne){console.error("  :",Ne),alert(((Ue=(Le=Ne.response)==null?void 0:Le.data)==null?void 0:Ue.detail)||"  ")}finally{q(null)}},de=async(pe,Ee)=>{var Le,Ue;if(window.confirm(" ?"))try{await Re.delete(`/api/business/${e}/tasks/${pe}/files/${Ee}/`),G()}catch(Ne){console.error("  :",Ne),alert(((Ue=(Le=Ne.response)==null?void 0:Le.data)==null?void 0:Ue.detail)||"  ")}},fe=pe=>pe?new Date(pe).toLocaleDateString("ru-RU"):"",re=pe=>({low:yn.priorityLow,medium:yn.priorityMedium,high:yn.priorityHigh,critical:yn.priorityCritical})[pe]||yn.priorityMedium,xe=pe=>({todo:yn.statusTodo,in_progress:yn.statusInProgress,review:yn.statusReview,done:yn.statusDone,cancelled:yn.statusCancelled})[pe]||yn.statusTodo;if(a&&t.length===0)return s.jsx(Wn,{});const Se=pe=>{pe.preventDefault(),G()};return a&&t.length===0?s.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh"},children:s.jsx(Wn,{size:"large"})}):s.jsxs("div",{className:yn.container,children:[s.jsxs("div",{className:yn.header,children:[s.jsx("h1",{children:""}),s.jsx("div",{className:yn.businessInfo,children:s.jsxs("span",{children:[": ",e]})}),s.jsxs("button",{className:yn.createButton,onClick:ae,children:[s.jsx($a,{}),"  "]})]}),s.jsxs("div",{className:yn.filters,children:[s.jsx("div",{className:yn.searchBar,children:s.jsxs("form",{onSubmit:Se,children:[s.jsx("input",{type:"text",placeholder:"    ...",value:j,onChange:pe=>N(pe.target.value)}),s.jsx("button",{type:"submit",children:s.jsx(ri,{})})]})}),s.jsxs("select",{value:d,onChange:pe=>f(pe.target.value),className:yn.filterSelect,children:[s.jsx("option",{value:"",children:" "}),s.jsx("option",{value:"todo",children:" "}),s.jsx("option",{value:"in_progress",children:" "}),s.jsx("option",{value:"review",children:" "}),s.jsx("option",{value:"done",children:""}),s.jsx("option",{value:"cancelled",children:""})]}),s.jsxs("select",{value:g,onChange:pe=>b(pe.target.value),className:yn.filterSelect,children:[s.jsx("option",{value:"",children:" "}),s.jsx("option",{value:"low",children:""}),s.jsx("option",{value:"medium",children:""}),s.jsx("option",{value:"high",children:""}),s.jsx("option",{value:"critical",children:""})]}),s.jsx(zF,{options:F,value:w,onChange:pe=>S(pe),placeholder:" ...",emptyOption:" "}),s.jsxs("label",{className:yn.checkboxLabel,children:[s.jsx("input",{type:"checkbox",checked:I,onChange:pe=>M(pe.target.checked)})," "]})]}),s.jsxs("div",{className:yn.content,children:[i&&s.jsx("div",{className:yn.error,children:i}),s.jsx("div",{className:yn.tasksList,children:t.length===0?s.jsx("div",{className:yn.emptyState,children:" .   !"}):t.map(pe=>s.jsx(HF,{task:pe,onEdit:ie,onDelete:he,onFileUpload:me,onFileDelete:de,uploadingFile:V,getPriorityColor:re,getStatusColor:xe,formatDate:fe,business_slug:e,quickEditTaskId:Z,setQuickEditTaskId:A,quickEditType:Y,setQuickEditType:K,onQuickStatusChange:ge,onQuickPriorityChange:ye,getStatusOptions:je,getPriorityOptions:Ie},pe.id))})]}),B&&s.jsx(T0t,{taskForm:$,setTaskForm:U,editingTask:O,locations:F,employees:ne,tasks:t,onSave:ue,onClose:()=>{P(!1),J({})},saving:te,formErrors:T,setFormErrors:J})]})},HF=({task:e,onEdit:t,onDelete:n,onFileUpload:a,onFileDelete:r,uploadingFile:i,getPriorityColor:o,getStatusColor:c,formatDate:l,business_slug:d,quickEditTaskId:f,setQuickEditTaskId:g,quickEditType:b,setQuickEditType:w,onQuickStatusChange:S,onQuickPriorityChange:j,getStatusOptions:N,getPriorityOptions:I})=>{const[M,B]=v.useState(!1),P=Je.useRef(null);return s.jsxs("div",{className:`${yn.taskCard} ${e.parent_task_id?yn.subtask:""}`,children:[s.jsxs("div",{className:yn.taskHeader,onClick:()=>B(!M),children:[s.jsxs("div",{className:yn.taskTitleRow,children:[s.jsx("h3",{children:s.jsx(Ea,{to:`/business/${d}/tasks/${e.id}`,onClick:O=>O.stopPropagation(),className:yn.taskTitleLink,children:e.title})}),s.jsxs("div",{className:yn.taskBadges,children:[s.jsxs("div",{className:yn.badgeWrapper,style:{position:"relative"},children:[s.jsxs("span",{className:`${yn.badge} ${o(e.priority)} ${yn.clickableBadge}`,onClick:O=>{O.stopPropagation(),g(f===e.id&&b==="priority"?null:e.id),w(f===e.id&&b==="priority"?null:"priority")},children:[e.priority_display,s.jsx(Wc,{style:{marginLeft:"6px",fontSize:"12px"}})]}),f===e.id&&b==="priority"&&s.jsx("div",{className:yn.quickEditDropdown,onClick:O=>O.stopPropagation(),children:I().map(O=>s.jsx("div",{className:`${yn.quickEditOption} ${e.priority===O.value?yn.active:""}`,onClick:()=>j(e.id,O.value),style:{borderLeftColor:O.color},children:O.label},O.value))})]}),s.jsxs("div",{className:yn.badgeWrapper,style:{position:"relative"},children:[s.jsxs("span",{className:`${yn.badge} ${c(e.status)} ${yn.clickableBadge}`,onClick:O=>{O.stopPropagation(),g(f===e.id&&b==="status"?null:e.id),w(f===e.id&&b==="status"?null:"status")},children:[e.status_display,s.jsx(Wc,{style:{marginLeft:"6px",fontSize:"12px"}})]}),f===e.id&&b==="status"&&s.jsx("div",{className:yn.quickEditDropdown,onClick:O=>O.stopPropagation(),children:N().map(O=>s.jsx("div",{className:`${yn.quickEditOption} ${e.status===O.value?yn.active:""}`,onClick:()=>S(e.id,O.value),style:{borderLeftColor:O.color},children:O.label},O.value))})]})]})]}),s.jsxs("div",{className:yn.taskMeta,children:[e.location_name&&s.jsxs("span",{className:yn.metaItem,children:[s.jsx(dr,{})," ",e.location_name]}),e.due_date&&s.jsxs("span",{className:yn.metaItem,children:[s.jsx(fm,{})," ",l(e.due_date)]}),e.assignees.length>0&&s.jsxs("span",{className:yn.metaItem,children:[s.jsx(jg,{})," ",e.assignees.map(O=>O.name||O.full_name).join(", ")]})]})]}),M&&s.jsxs("div",{className:yn.taskBody,children:[e.description&&s.jsx("div",{className:yn.taskDescription,children:e.description}),e.files&&e.files.length>0&&s.jsxs("div",{className:yn.taskFiles,children:[s.jsx("h4",{children:":"}),e.files.map(O=>s.jsxs("div",{className:yn.fileItem,children:[s.jsxs("a",{href:O.file_url,target:"_blank",rel:"noopener noreferrer",children:[s.jsx(Ob,{})," ",O.name]}),s.jsx("button",{className:yn.deleteFileButton,onClick:()=>r(e.id,O.id),children:s.jsx(aa,{})})]},O.id))]}),s.jsxs("div",{className:yn.taskActions,children:[s.jsx("input",{type:"file",ref:P,style:{display:"none"},onChange:O=>{O.target.files[0]&&a(e.id,O.target.files[0])}}),s.jsxs(Ea,{to:`/business/${d}/tasks/${e.id}`,className:yn.actionButton,children:[s.jsx(Cu,{})," "]}),s.jsxs("button",{className:yn.actionButton,onClick:()=>{var O;return(O=P.current)==null?void 0:O.click()},disabled:i===e.id,children:[s.jsx(pm,{}),"  "]}),s.jsxs("button",{className:yn.actionButton,onClick:()=>t(e),children:[s.jsx(Yc,{})," "]}),s.jsxs("button",{className:yn.actionButtonDanger,onClick:()=>n(e.id),children:[s.jsx(Cr,{})," "]})]}),e.subtasks&&e.subtasks.length>0&&s.jsxs("div",{className:yn.subtasks,children:[s.jsx("h4",{children:":"}),e.subtasks.map(O=>s.jsx(HF,{task:O,onEdit:t,onDelete:n,onFileUpload:a,onFileDelete:r,uploadingFile:i,getPriorityColor:o,getStatusColor:c,formatDate:l,business_slug:d},O.id))]})]})]})},T0t=({taskForm:e,setTaskForm:t,editingTask:n,locations:a,employees:r,tasks:i,onSave:o,onClose:c,saving:l,formErrors:d,setFormErrors:f})=>{const g=b=>{if(d[b]){const w={...d};delete w[b],f(w)}};return s.jsx("div",{className:yn.modalOverlay,onClick:c,children:s.jsxs("div",{className:yn.modalContent,onClick:b=>b.stopPropagation(),children:[s.jsxs("div",{className:yn.modalHeader,children:[s.jsx("h2",{children:n?" ":" "}),s.jsx("button",{className:yn.closeButton,onClick:c,children:s.jsx(aa,{})})]}),s.jsxs("div",{className:yn.modalBody,children:[d.non_field_errors&&s.jsx("div",{className:yn.formError,children:d.non_field_errors}),s.jsxs("label",{children:[" *",s.jsx("input",{type:"text",value:e.title,onChange:b=>{t({...e,title:b.target.value}),g("title")},required:!0,className:d.title?yn.inputError:""}),d.title&&s.jsx("span",{className:yn.fieldError,children:d.title})]}),s.jsxs("label",{children:["",s.jsx("textarea",{value:e.description,onChange:b=>{t({...e,description:b.target.value}),g("description")},rows:4,className:d.description?yn.inputError:""}),d.description&&s.jsx("span",{className:yn.fieldError,children:d.description})]}),s.jsxs("div",{className:yn.formRow,children:[s.jsxs("label",{children:["",s.jsxs("select",{value:e.priority,onChange:b=>t({...e,priority:b.target.value}),children:[s.jsx("option",{value:"low",children:""}),s.jsx("option",{value:"medium",children:""}),s.jsx("option",{value:"high",children:""}),s.jsx("option",{value:"critical",children:""})]})]}),s.jsxs("label",{children:["",s.jsxs("select",{value:e.status,onChange:b=>t({...e,status:b.target.value}),children:[s.jsx("option",{value:"todo",children:" "}),s.jsx("option",{value:"in_progress",children:" "}),s.jsx("option",{value:"review",children:" "}),s.jsx("option",{value:"done",children:""}),s.jsx("option",{value:"cancelled",children:""})]})]})]}),s.jsxs("label",{children:[" ",s.jsx("input",{type:"date",value:e.due_date,onChange:b=>{t({...e,due_date:b.target.value}),g("due_date")},className:d.due_date?yn.inputError:""}),d.due_date&&s.jsx("span",{className:yn.fieldError,children:d.due_date})]}),s.jsxs("label",{children:["",s.jsx(zF,{options:a,value:e.location,onChange:b=>{t({...e,location:b}),g("location")},placeholder:" ...",emptyOption:" ",error:!!d.location}),d.location&&s.jsx("span",{className:yn.fieldError,children:d.location})]}),!n&&s.jsxs("label",{children:[" ",s.jsxs("select",{value:e.parent_task,onChange:b=>{t({...e,parent_task:b.target.value}),g("parent_task")},className:d.parent_task?yn.inputError:"",children:[s.jsx("option",{value:"",children:" ( )"}),i.filter(b=>!b.parent_task_id).map(b=>s.jsx("option",{value:b.id,children:b.title},b.id))]}),d.parent_task&&s.jsx("span",{className:yn.fieldError,children:d.parent_task})]}),s.jsxs("label",{children:["",s.jsx("div",{className:`${yn.employeeList} ${d.assignee_ids?yn.inputError:""}`,children:r.length===0?s.jsx("div",{className:yn.emptyEmployees,children:"  "}):r.map(b=>{const w=e.assignee_ids.includes(b.id);return s.jsx("button",{type:"button",className:`${yn.employeeButton} ${w?yn.employeeButtonSelected:""}`,onClick:()=>{let S;w?S=e.assignee_ids.filter(j=>j!==b.id):S=[...e.assignee_ids,b.id],t({...e,assignee_ids:S}),g("assignee_ids")},children:s.jsxs("div",{className:yn.employeeInfo,children:[s.jsxs("div",{className:yn.employeeNameRow,children:[s.jsx(ec,{className:yn.employeeIcon}),s.jsx("span",{className:yn.employeeName,children:b.name}),w&&s.jsx(qr,{className:yn.checkIcon})]}),b.email&&s.jsxs("span",{className:yn.employeeEmail,children:[s.jsx(pl,{})," ",b.email]})]})},b.id)})}),d.assignee_ids&&s.jsx("span",{className:yn.fieldError,children:d.assignee_ids})]})]}),s.jsxs("div",{className:yn.modalFooter,children:[s.jsx("button",{className:yn.cancelButton,onClick:c,disabled:l,children:""}),s.jsx("button",{className:yn.saveButton,onClick:o,disabled:l||!e.title,children:l?"...":""})]})]})})},zF=({options:e,value:t,onChange:n,placeholder:a="...",emptyOption:r=" ",className:i="",error:o=!1})=>{const[c,l]=v.useState(!1),[d,f]=v.useState(""),g=Je.useRef(null),b=e.filter(j=>j.name.toLowerCase().includes(d.toLowerCase())),w=e.find(j=>String(j.id)===String(t));v.useEffect(()=>{const j=N=>{g.current&&!g.current.contains(N.target)&&(l(!1),f(""))};return document.addEventListener("mousedown",j),()=>document.removeEventListener("mousedown",j)},[]);const S=j=>{n(j),l(!1),f("")};return s.jsxs("div",{className:`${yn.searchableSelect} ${i} ${o?yn.inputError:""}`,ref:g,children:[s.jsxs("div",{className:yn.searchableSelectTrigger,onClick:()=>l(!c),children:[s.jsx("span",{className:yn.searchableSelectValue,children:w?w.name:r}),s.jsx(Wc,{className:yn.searchableSelectArrow,style:{transform:c?"rotate(180deg)":"none",transition:"transform 0.3s ease"}})]}),c&&s.jsxs("div",{className:yn.searchableSelectDropdown,children:[s.jsxs("div",{className:yn.searchableSelectSearch,children:[s.jsx(ri,{}),s.jsx("input",{type:"text",placeholder:a,value:d,onChange:j=>f(j.target.value),onClick:j=>j.stopPropagation(),autoFocus:!0})]}),s.jsxs("div",{className:yn.searchableSelectOptions,children:[s.jsx("div",{className:`${yn.searchableSelectOption} ${t?"":yn.searchableSelectOptionSelected}`,onClick:()=>S(""),children:r}),b.length===0?s.jsx("div",{className:yn.searchableSelectNoResults,children:"  "}):b.map(j=>s.jsx("div",{className:`${yn.searchableSelectOption} ${String(j.id)===String(t)?yn.searchableSelectOptionSelected:""}`,onClick:()=>S(j.id),children:j.name},j.id))]})]})]})},A0t="_container_suntx_5",M0t="_header_suntx_27",R0t="_title_suntx_107",O0t="_createButton_suntx_129",B0t="_filtersSection_suntx_179",L0t="_searchForm_suntx_191",$0t="_searchInputGroup_suntx_199",P0t="_searchIcon_suntx_231",F0t="_searchInput_suntx_199",H0t="_searchButton_suntx_275",z0t="_filterToggle_suntx_317",V0t="_filtersPanel_suntx_369",q0t="_filterRow_suntx_391",U0t="_filterLabel_suntx_403",W0t="_filterSelect_suntx_415",Y0t="_checkboxLabel_suntx_453",G0t="_content_suntx_491",Q0t="_loadingContainer_suntx_501",X0t="_error_suntx_517",K0t="_emptyState_suntx_537",Z0t="_emptyIcon_suntx_559",J0t="_tasksList_suntx_583",e_t="_taskCard_suntx_595",t_t="_subtask_suntx_611",n_t="_taskHeader_suntx_621",s_t="_taskTitleRow_suntx_643",a_t="_taskTitle_suntx_643",r_t="_taskBadges_suntx_681",i_t="_badgeWrapper_suntx_695",o_t="_badge_suntx_695",c_t="_clickableBadge_suntx_725",l_t="_quickEditDropdown_suntx_747",u_t="_quickEditOption_suntx_773",d_t="_active_suntx_803",h_t="_priorityLow_suntx_815",f_t="_priorityMedium_suntx_827",m_t="_priorityHigh_suntx_839",p_t="_priorityCritical_suntx_851",g_t="_statusTodo_suntx_865",__t="_statusInProgress_suntx_877",v_t="_statusReview_suntx_889",x_t="_statusDone_suntx_901",b_t="_statusCancelled_suntx_913",y_t="_taskMeta_suntx_925",w_t="_metaItem_suntx_941",C_t="_taskBody_suntx_955",S_t="_taskDescription_suntx_969",j_t="_taskFiles_suntx_987",N_t="_fileItem_suntx_1009",E_t="_fileLink_suntx_1031",k_t="_deleteFileButton_suntx_1059",I_t="_taskActions_suntx_1105",D_t="_actionButton_suntx_1119",T_t="_actionButtonDanger_suntx_1121",A_t="_subtasks_suntx_1195",M_t="_modalOverlay_suntx_1223",R_t="_modal_suntx_1223",O_t="_modalHeader_suntx_1293",B_t="_modalBody_suntx_1331",L_t="_formRow_suntx_1345",$_t="_inputError_suntx_1425",P_t="_fieldError_suntx_1435",F_t="_formError_suntx_1447",H_t="_employeeList_suntx_1467",z_t="_emptyEmployees_suntx_1491",V_t="_employeeButton_suntx_1507",q_t="_employeeButtonSelected_suntx_1541",U_t="_employeeInfo_suntx_1551",W_t="_employeeNameRow_suntx_1563",Y_t="_employeeIcon_suntx_1575",G_t="_employeeName_suntx_1563",Q_t="_checkIcon_suntx_1599",X_t="_employeeEmail_suntx_1609",K_t="_modalFooter_suntx_1627",Z_t="_cancelButton_suntx_1647",J_t="_saveButton_suntx_1649",evt="_searchableSelect_suntx_1735",tvt="_searchableSelectTrigger_suntx_1743",nvt="_searchableSelectValue_suntx_1785",svt="_searchableSelectArrow_suntx_1795",avt="_searchableSelectDropdown_suntx_1807",rvt="_searchableSelectSearch_suntx_1835",ivt="_searchableSelectOptions_suntx_1891",ovt="_searchableSelectOption_suntx_1891",cvt="_searchableSelectOptionSelected_suntx_1929",lvt="_searchableSelectNoResults_suntx_1941",Zt={container:A0t,header:M0t,title:R0t,createButton:O0t,filtersSection:B0t,searchForm:L0t,searchInputGroup:$0t,searchIcon:P0t,searchInput:F0t,searchButton:H0t,filterToggle:z0t,filtersPanel:V0t,filterRow:q0t,filterLabel:U0t,filterSelect:W0t,checkboxLabel:Y0t,content:G0t,loadingContainer:Q0t,error:X0t,emptyState:K0t,emptyIcon:Z0t,tasksList:J0t,taskCard:e_t,subtask:t_t,taskHeader:n_t,taskTitleRow:s_t,taskTitle:a_t,taskBadges:r_t,badgeWrapper:i_t,badge:o_t,clickableBadge:c_t,quickEditDropdown:l_t,quickEditOption:u_t,active:d_t,priorityLow:h_t,priorityMedium:f_t,priorityHigh:m_t,priorityCritical:p_t,statusTodo:g_t,statusInProgress:__t,statusReview:v_t,statusDone:x_t,statusCancelled:b_t,taskMeta:y_t,metaItem:w_t,taskBody:C_t,taskDescription:S_t,taskFiles:j_t,fileItem:N_t,fileLink:E_t,deleteFileButton:k_t,taskActions:I_t,actionButton:D_t,actionButtonDanger:T_t,subtasks:A_t,modalOverlay:M_t,modal:R_t,modalHeader:O_t,modalBody:B_t,formRow:L_t,inputError:$_t,fieldError:P_t,formError:F_t,employeeList:H_t,emptyEmployees:z_t,employeeButton:V_t,employeeButtonSelected:q_t,employeeInfo:U_t,employeeNameRow:W_t,employeeIcon:Y_t,employeeName:G_t,checkIcon:Q_t,employeeEmail:X_t,modalFooter:K_t,cancelButton:Z_t,saveButton:J_t,searchableSelect:evt,searchableSelectTrigger:tvt,searchableSelectValue:nvt,searchableSelectArrow:svt,searchableSelectDropdown:avt,searchableSelectSearch:rvt,searchableSelectOptions:ivt,searchableSelectOption:ovt,searchableSelectOptionSelected:cvt,searchableSelectNoResults:lvt},uvt=()=>{const{business_slug:e}=fa();Rs();const[t,n]=v.useState([]),[a,r]=v.useState(!0),[i,o]=v.useState(null),[c,l]=v.useState(null),[d,f]=v.useState(""),[g,b]=v.useState(""),[w,S]=v.useState(""),[j,N]=v.useState(""),[I,M]=v.useState(!0),[B,P]=v.useState(!1),[O,R]=v.useState(!1),[$,U]=v.useState(null),[F,H]=v.useState({title:"",description:"",priority:"medium",status:"todo",due_date:"",location:"",parent_task:"",assignee_ids:[]}),[ne,X]=v.useState([]),[te,se]=v.useState([]),[V,q]=v.useState(!1),[T,J]=v.useState(null),[Z,A]=v.useState({}),[Y,K]=v.useState(null),[G,oe]=v.useState(null);v.useEffect(()=>{ee(),ae(),ie()},[e,d,g,w,j,I]),v.useEffect(()=>{const Le=Ue=>{Y&&!Ue.target.closest(`.${Zt.badgeWrapper}`)&&(K(null),oe(null))};return document.addEventListener("mousedown",Le),()=>{document.removeEventListener("mousedown",Le)}},[Y]);const ee=async()=>{var Le,Ue;try{r(!0);const Ne={page:1,page_size:50};d&&(Ne.status=d),g&&(Ne.priority=g),w&&(Ne.location=w),j&&(Ne.search=j),Ne.show_subtasks=I;const et=await Re.get(`/api/business/${e}/tasks/`,{params:Ne});n(et.data.results||[]),l(et.data.pagination)}catch(Ne){console.error("  :",Ne),o(((Ue=(Le=Ne.response)==null?void 0:Le.data)==null?void 0:Ue.detail)||"  ")}finally{r(!1)}},ae=async()=>{try{const Le=await Re.get(`/api/business/${e}/locations/`);X(Le.data||[])}catch(Le){console.error("  :",Le)}},ie=async()=>{try{const Ue=((await Re.get(`/api/business/${e}/employees/`)).data||[]).map(Ne=>({id:Ne.user,name:Ne.name||Ne.full_name||" ",email:Ne.user_email||""}));se(Ue)}catch(Le){console.error("  :",Le),se([])}},ue=()=>{U(null),H({title:"",description:"",priority:"medium",status:"todo",due_date:"",location:"",parent_task:"",assignee_ids:[]}),A({}),R(!0)},he=Le=>{U(Le),H({title:Le.title,description:Le.description||"",priority:Le.priority,status:Le.status,due_date:Le.due_date?Le.due_date.split("T")[0]:"",location:Le.location_id||"",parent_task:Le.parent_task_id||"",assignee_ids:Le.assignees.map(Ue=>Ue.id)}),A({}),R(!0)},ge=async()=>{var Le;try{q(!0),A({});const Ue={...F,location:F.location||null,parent_task:F.parent_task||null,due_date:F.due_date?F.due_date:null};$?await Re.patch(`/api/business/${e}/tasks/${$.id}/`,Ue):await Re.post(`/api/business/${e}/tasks/`,Ue),R(!1),A({}),ee()}catch(Ue){if(console.error("  :",Ue),(Le=Ue.response)!=null&&Le.data){const Ne=Ue.response.data;if(typeof Ne=="object"&&!Ne.detail){const et={};Object.keys(Ne).forEach(dt=>{const _e=Ne[dt];Array.isArray(_e)?et[dt]=_e.join(", "):typeof _e=="string"?et[dt]=_e:typeof _e=="object"&&_e.length&&(et[dt]=_e[0])}),A(et)}else A({non_field_errors:Ne.detail||"  "})}else A({non_field_errors:"  .    ."})}finally{q(!1)}},ye=async Le=>{var Ue,Ne;if(window.confirm(" ?"))try{await Re.delete(`/api/business/${e}/tasks/${Le}/`),ee()}catch(et){console.error("  :",et),alert(((Ne=(Ue=et.response)==null?void 0:Ue.data)==null?void 0:Ne.detail)||"  ")}},je=async(Le,Ue)=>{var Ne,et;try{await Re.patch(`/api/business/${e}/tasks/${Le}/`,{status:Ue}),K(null),oe(null),ee()}catch(dt){console.error("  :",dt),alert(((et=(Ne=dt.response)==null?void 0:Ne.data)==null?void 0:et.detail)||"  ")}},Ie=async(Le,Ue)=>{var Ne,et;try{await Re.patch(`/api/business/${e}/tasks/${Le}/`,{priority:Ue}),K(null),oe(null),ee()}catch(dt){console.error("  :",dt),alert(((et=(Ne=dt.response)==null?void 0:Ne.data)==null?void 0:et.detail)||"  ")}},me=()=>[{value:"todo",label:" ",color:"#969696"},{value:"in_progress",label:" ",color:"#6496ff"},{value:"review",label:" ",color:"#ffc864"},{value:"done",label:"",color:"#64c864"},{value:"cancelled",label:"",color:"#ff4757"}],de=()=>[{value:"low",label:"",color:"#64c864"},{value:"medium",label:"",color:"#d4af37"},{value:"high",label:"",color:"#ffa500"},{value:"critical",label:"",color:"#ff4757"}],fe=async(Le,Ue)=>{var Ne,et;try{J(Le);const dt=new FormData;dt.append("file",Ue),dt.append("name",Ue.name),await Re.post(`/api/business/${e}/tasks/${Le}/files/`,dt,{headers:{"Content-Type":"multipart/form-data"}}),ee()}catch(dt){console.error("  :",dt),alert(((et=(Ne=dt.response)==null?void 0:Ne.data)==null?void 0:et.detail)||"  ")}finally{J(null)}},re=async(Le,Ue)=>{var Ne,et;if(window.confirm(" ?"))try{await Re.delete(`/api/business/${e}/tasks/${Le}/files/${Ue}/`),ee()}catch(dt){console.error("  :",dt),alert(((et=(Ne=dt.response)==null?void 0:Ne.data)==null?void 0:et.detail)||"  ")}},xe=Le=>Le?new Date(Le).toLocaleDateString("ru-RU"):"",Se=Le=>({low:Zt.priorityLow,medium:Zt.priorityMedium,high:Zt.priorityHigh,critical:Zt.priorityCritical})[Le]||Zt.priorityMedium,pe=Le=>({todo:Zt.statusTodo,in_progress:Zt.statusInProgress,review:Zt.statusReview,done:Zt.statusDone,cancelled:Zt.statusCancelled})[Le]||Zt.statusTodo,Ee=Le=>{Le.preventDefault(),ee()};return a&&t.length===0?s.jsx("div",{className:Zt.loadingContainer,children:s.jsx(Wn,{size:"large"})}):s.jsxs("div",{className:Zt.container,children:[s.jsxs("div",{className:Zt.header,children:[s.jsx("h1",{className:Zt.title,children:""}),s.jsx("button",{className:Zt.createButton,onClick:ue,children:s.jsx($a,{})})]}),s.jsxs("div",{className:Zt.filtersSection,children:[s.jsx("form",{onSubmit:Ee,className:Zt.searchForm,children:s.jsxs("div",{className:Zt.searchInputGroup,children:[s.jsx(ri,{className:Zt.searchIcon}),s.jsx("input",{type:"text",placeholder:"    ...",value:j,onChange:Le=>N(Le.target.value),className:Zt.searchInput}),s.jsx("button",{type:"submit",className:Zt.searchButton,children:""})]})}),s.jsxs("button",{className:Zt.filterToggle,onClick:()=>P(!B),children:[s.jsx(Gm,{})," ",B?" ":" ",B?s.jsx(Lo,{}):s.jsx(Bo,{})]}),B&&s.jsxs("div",{className:Zt.filtersPanel,children:[s.jsxs("div",{className:Zt.filterRow,children:[s.jsx("label",{className:Zt.filterLabel,children:""}),s.jsxs("select",{value:d,onChange:Le=>f(Le.target.value),className:Zt.filterSelect,children:[s.jsx("option",{value:"",children:" "}),s.jsx("option",{value:"todo",children:" "}),s.jsx("option",{value:"in_progress",children:" "}),s.jsx("option",{value:"review",children:" "}),s.jsx("option",{value:"done",children:""}),s.jsx("option",{value:"cancelled",children:""})]})]}),s.jsxs("div",{className:Zt.filterRow,children:[s.jsx("label",{className:Zt.filterLabel,children:""}),s.jsxs("select",{value:g,onChange:Le=>b(Le.target.value),className:Zt.filterSelect,children:[s.jsx("option",{value:"",children:" "}),s.jsx("option",{value:"low",children:""}),s.jsx("option",{value:"medium",children:""}),s.jsx("option",{value:"high",children:""}),s.jsx("option",{value:"critical",children:""})]})]}),s.jsxs("div",{className:Zt.filterRow,children:[s.jsx("label",{className:Zt.filterLabel,children:""}),s.jsx(qF,{options:ne,value:w,onChange:Le=>S(Le),placeholder:" ...",emptyOption:" "})]}),s.jsx("div",{className:Zt.filterRow,children:s.jsxs("label",{className:Zt.checkboxLabel,children:[s.jsx("input",{type:"checkbox",checked:I,onChange:Le=>M(Le.target.checked)})," "]})})]})]}),s.jsxs("div",{className:Zt.content,children:[i&&s.jsx("div",{className:Zt.error,children:i}),s.jsx("div",{className:Zt.tasksList,children:t.length===0?s.jsxs("div",{className:Zt.emptyState,children:[s.jsx(FaTasks,{className:Zt.emptyIcon}),s.jsx("p",{children:" .   !"})]}):t.map(Le=>s.jsx(VF,{task:Le,onEdit:he,onDelete:ye,onFileUpload:fe,onFileDelete:re,uploadingFile:T,getPriorityColor:Se,getStatusColor:pe,formatDate:xe,business_slug:e,quickEditTaskId:Y,setQuickEditTaskId:K,quickEditType:G,setQuickEditType:oe,onQuickStatusChange:je,onQuickPriorityChange:Ie,getStatusOptions:me,getPriorityOptions:de},Le.id))})]}),O&&s.jsx(dvt,{taskForm:F,setTaskForm:H,editingTask:$,locations:ne,employees:te,tasks:t,onSave:ge,onClose:()=>{R(!1),A({})},saving:V,formErrors:Z,setFormErrors:A})]})},VF=({task:e,onEdit:t,onDelete:n,onFileUpload:a,onFileDelete:r,uploadingFile:i,getPriorityColor:o,getStatusColor:c,formatDate:l,business_slug:d,quickEditTaskId:f,setQuickEditTaskId:g,quickEditType:b,setQuickEditType:w,onQuickStatusChange:S,onQuickPriorityChange:j,getStatusOptions:N,getPriorityOptions:I})=>{const[M,B]=v.useState(!1),P=Je.useRef(null),O=Rs();return s.jsxs("div",{className:`${Zt.taskCard} ${e.parent_task_id?Zt.subtask:""}`,children:[s.jsxs("div",{className:Zt.taskHeader,onClick:()=>B(!M),children:[s.jsxs("div",{className:Zt.taskTitleRow,children:[s.jsx("h3",{className:Zt.taskTitle,onClick:R=>{R.stopPropagation(),O(`/business/${d}/tasks/${e.id}`)},children:e.title}),s.jsxs("div",{className:Zt.taskBadges,children:[s.jsxs("div",{className:Zt.badgeWrapper,children:[s.jsxs("span",{className:`${Zt.badge} ${o(e.priority)} ${Zt.clickableBadge}`,onClick:R=>{R.stopPropagation(),g(f===e.id&&b==="priority"?null:e.id),w(f===e.id&&b==="priority"?null:"priority")},children:[e.priority_display,s.jsx(Wc,{})]}),f===e.id&&b==="priority"&&s.jsx("div",{className:Zt.quickEditDropdown,onClick:R=>R.stopPropagation(),children:I().map(R=>s.jsx("div",{className:`${Zt.quickEditOption} ${e.priority===R.value?Zt.active:""}`,onClick:()=>j(e.id,R.value),style:{borderLeftColor:R.color},children:R.label},R.value))})]}),s.jsxs("div",{className:Zt.badgeWrapper,children:[s.jsxs("span",{className:`${Zt.badge} ${c(e.status)} ${Zt.clickableBadge}`,onClick:R=>{R.stopPropagation(),g(f===e.id&&b==="status"?null:e.id),w(f===e.id&&b==="status"?null:"status")},children:[e.status_display,s.jsx(Wc,{})]}),f===e.id&&b==="status"&&s.jsx("div",{className:Zt.quickEditDropdown,onClick:R=>R.stopPropagation(),children:N().map(R=>s.jsx("div",{className:`${Zt.quickEditOption} ${e.status===R.value?Zt.active:""}`,onClick:()=>S(e.id,R.value),style:{borderLeftColor:R.color},children:R.label},R.value))})]})]})]}),s.jsxs("div",{className:Zt.taskMeta,children:[e.location_name&&s.jsxs("span",{className:Zt.metaItem,children:[s.jsx(dr,{})," ",e.location_name]}),e.due_date&&s.jsxs("span",{className:Zt.metaItem,children:[s.jsx(fm,{})," ",l(e.due_date)]}),e.assignees.length>0&&s.jsxs("span",{className:Zt.metaItem,children:[s.jsx(jg,{})," ",e.assignees.map(R=>R.name||R.full_name).join(", ")]})]})]}),M&&s.jsxs("div",{className:Zt.taskBody,children:[e.description&&s.jsx("div",{className:Zt.taskDescription,children:e.description}),e.files&&e.files.length>0&&s.jsxs("div",{className:Zt.taskFiles,children:[s.jsx("h4",{children:":"}),e.files.map(R=>s.jsxs("div",{className:Zt.fileItem,children:[s.jsxs("a",{href:R.file_url,target:"_blank",rel:"noopener noreferrer",className:Zt.fileLink,children:[s.jsx(Ob,{})," ",R.name]}),s.jsx("button",{className:Zt.deleteFileButton,onClick:()=>r(e.id,R.id),children:s.jsx(aa,{})})]},R.id))]}),s.jsxs("div",{className:Zt.taskActions,children:[s.jsx("input",{type:"file",ref:P,style:{display:"none"},onChange:R=>{R.target.files[0]&&a(e.id,R.target.files[0])}}),s.jsxs("button",{className:Zt.actionButton,onClick:()=>O(`/business/${d}/tasks/${e.id}`),children:[s.jsx(Cu,{})," "]}),s.jsxs("button",{className:Zt.actionButton,onClick:()=>{var R;return(R=P.current)==null?void 0:R.click()},disabled:i===e.id,children:[s.jsx(pm,{})," ",i===e.id?"...":""]}),s.jsxs("button",{className:Zt.actionButton,onClick:()=>t(e),children:[s.jsx(Yc,{})," "]}),s.jsxs("button",{className:Zt.actionButtonDanger,onClick:()=>n(e.id),children:[s.jsx(Cr,{})," "]})]}),e.subtasks&&e.subtasks.length>0&&s.jsxs("div",{className:Zt.subtasks,children:[s.jsx("h4",{children:":"}),e.subtasks.map(R=>s.jsx(VF,{task:R,onEdit:t,onDelete:n,onFileUpload:a,onFileDelete:r,uploadingFile:i,getPriorityColor:o,getStatusColor:c,formatDate:l,business_slug:d},R.id))]})]})]})},dvt=({taskForm:e,setTaskForm:t,editingTask:n,locations:a,employees:r,tasks:i,onSave:o,onClose:c,saving:l,formErrors:d,setFormErrors:f})=>{const g=b=>{if(d[b]){const w={...d};delete w[b],f(w)}};return s.jsx("div",{className:Zt.modalOverlay,onClick:c,children:s.jsxs("div",{className:Zt.modal,onClick:b=>b.stopPropagation(),children:[s.jsxs("div",{className:Zt.modalHeader,children:[s.jsx("h2",{children:n?" ":" "}),s.jsx(Ti,{onClick:c})]}),s.jsxs("div",{className:Zt.modalBody,children:[d.non_field_errors&&s.jsx("div",{className:Zt.formError,children:d.non_field_errors}),s.jsx("div",{className:Zt.formRow,children:s.jsxs("label",{children:[" *",s.jsx("input",{type:"text",value:e.title,onChange:b=>{t({...e,title:b.target.value}),g("title")},required:!0,className:d.title?Zt.inputError:""}),d.title&&s.jsx("span",{className:Zt.fieldError,children:d.title})]})}),s.jsx("div",{className:Zt.formRow,children:s.jsxs("label",{children:["",s.jsx("textarea",{value:e.description,onChange:b=>{t({...e,description:b.target.value}),g("description")},rows:4,className:d.description?Zt.inputError:""}),d.description&&s.jsx("span",{className:Zt.fieldError,children:d.description})]})}),s.jsx("div",{className:Zt.formRow,children:s.jsxs("label",{children:["",s.jsxs("select",{value:e.priority,onChange:b=>t({...e,priority:b.target.value}),children:[s.jsx("option",{value:"low",children:""}),s.jsx("option",{value:"medium",children:""}),s.jsx("option",{value:"high",children:""}),s.jsx("option",{value:"critical",children:""})]})]})}),s.jsx("div",{className:Zt.formRow,children:s.jsxs("label",{children:["",s.jsxs("select",{value:e.status,onChange:b=>t({...e,status:b.target.value}),children:[s.jsx("option",{value:"todo",children:" "}),s.jsx("option",{value:"in_progress",children:" "}),s.jsx("option",{value:"review",children:" "}),s.jsx("option",{value:"done",children:""}),s.jsx("option",{value:"cancelled",children:""})]})]})}),s.jsx("div",{className:Zt.formRow,children:s.jsxs("label",{children:[" ",s.jsx("input",{type:"date",value:e.due_date,onChange:b=>{t({...e,due_date:b.target.value}),g("due_date")},className:d.due_date?Zt.inputError:""}),d.due_date&&s.jsx("span",{className:Zt.fieldError,children:d.due_date})]})}),s.jsx("div",{className:Zt.formRow,children:s.jsxs("label",{children:["",s.jsx(qF,{options:a,value:e.location,onChange:b=>{t({...e,location:b}),g("location")},placeholder:" ...",emptyOption:" ",error:!!d.location}),d.location&&s.jsx("span",{className:Zt.fieldError,children:d.location})]})}),!n&&s.jsx("div",{className:Zt.formRow,children:s.jsxs("label",{children:[" ",s.jsxs("select",{value:e.parent_task,onChange:b=>{t({...e,parent_task:b.target.value}),g("parent_task")},className:d.parent_task?Zt.inputError:"",children:[s.jsx("option",{value:"",children:" ( )"}),i.filter(b=>!b.parent_task_id).map(b=>s.jsx("option",{value:b.id,children:b.title},b.id))]}),d.parent_task&&s.jsx("span",{className:Zt.fieldError,children:d.parent_task})]})}),s.jsx("div",{className:Zt.formRow,children:s.jsxs("label",{children:["",s.jsx("div",{className:`${Zt.employeeList} ${d.assignee_ids?Zt.inputError:""}`,children:r.length===0?s.jsx("div",{className:Zt.emptyEmployees,children:"  "}):r.map(b=>{const w=e.assignee_ids.includes(b.id);return s.jsx("button",{type:"button",className:`${Zt.employeeButton} ${w?Zt.employeeButtonSelected:""}`,onClick:()=>{let S;w?S=e.assignee_ids.filter(j=>j!==b.id):S=[...e.assignee_ids,b.id],t({...e,assignee_ids:S}),g("assignee_ids")},children:s.jsxs("div",{className:Zt.employeeInfo,children:[s.jsxs("div",{className:Zt.employeeNameRow,children:[s.jsx(ec,{className:Zt.employeeIcon}),s.jsx("span",{className:Zt.employeeName,children:b.name}),w&&s.jsx(qr,{className:Zt.checkIcon})]}),b.email&&s.jsxs("span",{className:Zt.employeeEmail,children:[s.jsx(pl,{})," ",b.email]})]})},b.id)})}),d.assignee_ids&&s.jsx("span",{className:Zt.fieldError,children:d.assignee_ids})]})})]}),s.jsxs("div",{className:Zt.modalFooter,children:[s.jsx("button",{className:Zt.cancelButton,onClick:c,disabled:l,children:""}),s.jsx("button",{className:Zt.saveButton,onClick:o,disabled:l||!e.title,children:l?"...":""})]})]})})},qF=({options:e,value:t,onChange:n,placeholder:a="...",emptyOption:r=" ",className:i="",error:o=!1})=>{const[c,l]=v.useState(!1),[d,f]=v.useState(""),g=Je.useRef(null),b=e.filter(j=>j.name.toLowerCase().includes(d.toLowerCase())),w=e.find(j=>String(j.id)===String(t));v.useEffect(()=>{const j=N=>{g.current&&!g.current.contains(N.target)&&(l(!1),f(""))};return document.addEventListener("mousedown",j),()=>document.removeEventListener("mousedown",j)},[]);const S=j=>{n(j),l(!1),f("")};return s.jsxs("div",{className:`${Zt.searchableSelect} ${i} ${o?Zt.inputError:""}`,ref:g,children:[s.jsxs("div",{className:Zt.searchableSelectTrigger,onClick:()=>l(!c),children:[s.jsx("span",{className:Zt.searchableSelectValue,children:w?w.name:r}),s.jsx(Wc,{className:Zt.searchableSelectArrow,style:{transform:c?"rotate(180deg)":"none",transition:"transform 0.3s ease"}})]}),c&&s.jsxs("div",{className:Zt.searchableSelectDropdown,children:[s.jsxs("div",{className:Zt.searchableSelectSearch,children:[s.jsx(ri,{}),s.jsx("input",{type:"text",placeholder:a,value:d,onChange:j=>f(j.target.value),onClick:j=>j.stopPropagation(),autoFocus:!0})]}),s.jsxs("div",{className:Zt.searchableSelectOptions,children:[s.jsx("div",{className:`${Zt.searchableSelectOption} ${t?"":Zt.searchableSelectOptionSelected}`,onClick:()=>S(""),children:r}),b.length===0?s.jsx("div",{className:Zt.searchableSelectNoResults,children:"  "}):b.map(j=>s.jsx("div",{className:`${Zt.searchableSelectOption} ${String(j.id)===String(t)?Zt.searchableSelectOptionSelected:""}`,onClick:()=>S(j.id),children:j.name},j.id))]})]})]})},hvt="_container_3ii76_30",fvt="_taskHeader_3ii76_41",mvt="_backButtonHeader_3ii76_52",pvt="_taskHeaderContent_3ii76_77",gvt="_taskHeaderLeft_3ii76_85",_vt="_taskHeaderBadges_3ii76_103",vvt="_badgeWrapper_3ii76_109",xvt="_taskHeaderRight_3ii76_113",bvt="_taskHeaderMeta_3ii76_120",yvt="_content_3ii76_135",wvt="_mainColumn_3ii76_142",Cvt="_sidebar_3ii76_148",Svt="_card_3ii76_155",jvt="_cardHeader_3ii76_164",Nvt="_cardBody_3ii76_189",Evt="_badge_3ii76_109",kvt="_clickableBadge_3ii76_208",Ivt="_quickEditDropdown_3ii76_218",Dvt="_quickEditOption_3ii76_243",Tvt="_active_3ii76_263",Avt="_priorityLow_3ii76_280",Mvt="_priorityMedium_3ii76_286",Rvt="_priorityHigh_3ii76_292",Ovt="_priorityCritical_3ii76_298",Bvt="_statusTodo_3ii76_304",Lvt="_statusInProgress_3ii76_310",$vt="_statusReview_3ii76_316",Pvt="_statusDone_3ii76_322",Fvt="_statusCancelled_3ii76_328",Hvt="_descriptionText_3ii76_335",zvt="_progressSection_3ii76_350",Vvt="_progressInfo_3ii76_356",qvt="_progressPercentage_3ii76_365",Uvt="_progressBar_3ii76_371",Wvt="_progressBarFill_3ii76_381",Yvt="_progressStats_3ii76_389",Gvt="_checklistList_3ii76_397",Qvt="_checklistItem_3ii76_404",Xvt="_checklistLabel_3ii76_422",Kvt="_checklistCheckbox_3ii76_431",Zvt="_checklistText_3ii76_439",Jvt="_checklistTextCompleted_3ii76_447",ext="_checklistDelete_3ii76_453",txt="_checklistForm_3ii76_475",nxt="_checklistInput_3ii76_482",sxt="_checklistAddButton_3ii76_504",axt="_emptyChecklist_3ii76_536",rxt="_filesList_3ii76_547",ixt="_fileItem_3ii76_553",oxt="_commentsList_3ii76_596",cxt="_comment_3ii76_596",lxt="_commentAvatar_3ii76_641",uxt="_commentContent_3ii76_656",dxt="_commentHeader_3ii76_663",hxt="_commentAuthor_3ii76_671",fxt="_commentDate_3ii76_677",mxt="_commentText_3ii76_683",pxt="_noComments_3ii76_690",gxt="_commentForm_3ii76_700",_xt="_commentInput_3ii76_705",vxt="_commentFormActions_3ii76_731",xxt="_commentButton_3ii76_736",bxt="_infoItem_3ii76_769",yxt="_infoValue_3ii76_787",wxt="_assigneesList_3ii76_802",Cxt="_assigneeItem_3ii76_808",Sxt="_assigneeAvatar_3ii76_824",jxt="_actionsList_3ii76_846",Nxt="_actionButton_3ii76_852",Ext="_actionButtonSuccess_3ii76_853",kxt="_actionButtonWarning_3ii76_854",Ixt="_actionButtonDanger_3ii76_855",Dxt="_error_3ii76_916",Txt="_backButton_3ii76_52",Axt="_modalOverlay_3ii76_953",Mxt="_modalContent_3ii76_966",Rxt="_modalHeader_3ii76_991",Oxt="_modalClose_3ii76_1010",Bxt="_modalBody_3ii76_1042",Lxt="_modalFooter_3ii76_1049",$xt="_modalButtonCancel_3ii76_1058",Pxt="_modalButtonSave_3ii76_1059",Fxt="_formGroup_3ii76_1107",Hxt="_formInput_3ii76_1123",zxt="_formTextarea_3ii76_1124",Vxt="_formSelect_3ii76_1125",qxt="_formRow_3ii76_1157",Uxt="_assigneesSelector_3ii76_1163",Wxt="_employeeSelectButton_3ii76_1175",Yxt="_selected_3ii76_1196",Ot={container:hvt,taskHeader:fvt,backButtonHeader:mvt,taskHeaderContent:pvt,taskHeaderLeft:gvt,taskHeaderBadges:_vt,badgeWrapper:vvt,taskHeaderRight:xvt,taskHeaderMeta:bvt,content:yvt,mainColumn:wvt,sidebar:Cvt,card:Svt,cardHeader:jvt,cardBody:Nvt,badge:Evt,clickableBadge:kvt,quickEditDropdown:Ivt,quickEditOption:Dvt,active:Tvt,priorityLow:Avt,priorityMedium:Mvt,priorityHigh:Rvt,priorityCritical:Ovt,statusTodo:Bvt,statusInProgress:Lvt,statusReview:$vt,statusDone:Pvt,statusCancelled:Fvt,descriptionText:Hvt,progressSection:zvt,progressInfo:Vvt,progressPercentage:qvt,progressBar:Uvt,progressBarFill:Wvt,progressStats:Yvt,checklistList:Gvt,checklistItem:Qvt,checklistLabel:Xvt,checklistCheckbox:Kvt,checklistText:Zvt,checklistTextCompleted:Jvt,checklistDelete:ext,checklistForm:txt,checklistInput:nxt,checklistAddButton:sxt,emptyChecklist:axt,filesList:rxt,fileItem:ixt,commentsList:oxt,comment:cxt,commentAvatar:lxt,commentContent:uxt,commentHeader:dxt,commentAuthor:hxt,commentDate:fxt,commentText:mxt,noComments:pxt,commentForm:gxt,commentInput:_xt,commentFormActions:vxt,commentButton:xxt,infoItem:bxt,infoValue:yxt,assigneesList:wxt,assigneeItem:Cxt,assigneeAvatar:Sxt,actionsList:jxt,actionButton:Nxt,actionButtonSuccess:Ext,actionButtonWarning:kxt,actionButtonDanger:Ixt,error:Dxt,backButton:Txt,modalOverlay:Axt,modalContent:Mxt,modalHeader:Rxt,modalClose:Oxt,modalBody:Bxt,modalFooter:Lxt,modalButtonCancel:$xt,modalButtonSave:Pxt,formGroup:Fxt,formInput:Hxt,formTextarea:zxt,formSelect:Vxt,formRow:qxt,assigneesSelector:Uxt,employeeSelectButton:Wxt,selected:Yxt},Gxt=()=>{const{business_slug:e,task_id:t}=fa(),n=Rs(),[a,r]=v.useState(null),[i,o]=v.useState(!0),[c,l]=v.useState(null),[d,f]=v.useState([]),[g,b]=v.useState([]),[w,S]=v.useState(""),[j,N]=v.useState(""),[I,M]=v.useState(!1),[B,P]=v.useState(!1),[O,R]=v.useState([]),[$,U]=v.useState([]),[F,H]=v.useState(!1),[ne,X]=v.useState(!1),[te,se]=v.useState(!1),[V,q]=v.useState({title:"",description:"",priority:"medium",status:"todo",due_date:"",location:"",assignee_ids:[]}),[T,J]=v.useState([]),[Z,A]=v.useState(null);v.useEffect(()=>{Y(),K(),G(),oe(),ee()},[e,t]),v.useEffect(()=>{const _e=tt=>{Z&&!tt.target.closest(`.${Ot.badgeWrapper}`)&&A(null)};return document.addEventListener("mousedown",_e),()=>{document.removeEventListener("mousedown",_e)}},[Z]);const Y=async()=>{var _e,tt;try{o(!0);const Fe=await Re.get(`/api/business/${e}/tasks/${t}/`);r(Fe.data)}catch(Fe){console.error("  :",Fe),l(((tt=(_e=Fe.response)==null?void 0:_e.data)==null?void 0:tt.detail)||"  ")}finally{o(!1)}},K=async()=>{try{const _e=await Re.get(`/api/business/${e}/tasks/${t}/comments/`);f(_e.data||[])}catch(_e){console.error("  :",_e)}},G=async()=>{try{const _e=await Re.get(`/api/business/${e}/tasks/${t}/checklist/`);b(_e.data||[])}catch(_e){console.error("  -:",_e)}},oe=async()=>{try{const _e=await Re.get(`/api/business/${e}/locations/`);R(_e.data||[])}catch(_e){console.error("  :",_e)}},ee=async()=>{try{const tt=((await Re.get(`/api/business/${e}/employees/`)).data||[]).map(Fe=>({id:Fe.user,name:Fe.name||Fe.full_name||" ",email:Fe.user_email||""}));U(tt)}catch(_e){console.error("  :",_e)}},ae=async()=>{var _e,tt;if(w.trim())try{M(!0);const Fe=await Re.post(`/api/business/${e}/tasks/${t}/comments/`,{text:w});f([...d,Fe.data]),S("")}catch(Fe){console.error("  :",Fe),alert(((tt=(_e=Fe.response)==null?void 0:_e.data)==null?void 0:tt.detail)||"  ")}finally{M(!1)}},ie=async()=>{var _e,tt;if(j.trim())try{P(!0);const Fe=await Re.post(`/api/business/${e}/tasks/${t}/checklist/`,{text:j,order:g.length});b([...g,Fe.data]),N(""),Y()}catch(Fe){console.error("  :",Fe),alert(((tt=(_e=Fe.response)==null?void 0:_e.data)==null?void 0:tt.detail)||"  ")}finally{P(!1)}},ue=async _e=>{var tt,Fe;try{const It=await Re.patch(`/api/business/${e}/tasks/${t}/checklist/${_e.id}/`,{is_completed:!_e.is_completed});b(g.map(Xe=>Xe.id===_e.id?It.data:Xe)),Y()}catch(It){console.error("  :",It),alert(((Fe=(tt=It.response)==null?void 0:tt.data)==null?void 0:Fe.detail)||"  ")}},he=async _e=>{var tt,Fe;if(window.confirm(" ?"))try{await Re.delete(`/api/business/${e}/tasks/${t}/checklist/${_e}/`),b(g.filter(It=>It.id!==_e)),Y()}catch(It){console.error("  :",It),alert(((Fe=(tt=It.response)==null?void 0:tt.data)==null?void 0:Fe.detail)||"  ")}},ge=()=>{a&&(q({title:a.title,description:a.description||"",priority:a.priority,status:a.status,due_date:a.due_date?a.due_date.split("T")[0]:"",location:a.location_id||"",assignee_ids:a.assignees.map(_e=>_e.id)}),H(!0))},ye=async()=>{var _e,tt;try{se(!0);const Fe={...V,location:V.location||null,due_date:V.due_date?V.due_date:null};await Re.patch(`/api/business/${e}/tasks/${t}/`,Fe),H(!1),Y()}catch(Fe){console.error("  :",Fe),alert(((tt=(_e=Fe.response)==null?void 0:_e.data)==null?void 0:tt.detail)||"  ")}finally{se(!1)}},je=async()=>{var _e,tt;if(window.confirm(" ?"))try{await Re.patch(`/api/business/${e}/tasks/${t}/`,{status:"done"}),Y()}catch(Fe){console.error("  :",Fe),alert(((tt=(_e=Fe.response)==null?void 0:_e.data)==null?void 0:tt.detail)||"  ")}},Ie=()=>{a&&(J(a.assignees.map(_e=>_e.id)),X(!0))},me=async()=>{var _e,tt;try{se(!0),await Re.patch(`/api/business/${e}/tasks/${t}/`,{assignee_ids:T}),X(!1),Y()}catch(Fe){console.error("  :",Fe),alert(((tt=(_e=Fe.response)==null?void 0:_e.data)==null?void 0:tt.detail)||"  ")}finally{se(!1)}},de=async()=>{var _e,tt;if(window.confirm(" ,     ?    ."))try{await Re.delete(`/api/business/${e}/tasks/${t}/`),n(`/business/${e}/tasks`)}catch(Fe){console.error("  :",Fe),alert(((tt=(_e=Fe.response)==null?void 0:_e.data)==null?void 0:tt.detail)||"  ")}},fe=_e=>{J(tt=>tt.includes(_e)?tt.filter(Fe=>Fe!==_e):[...tt,_e])},re=async _e=>{var tt,Fe;try{await Re.patch(`/api/business/${e}/tasks/${t}/`,{status:_e}),A(null),Y()}catch(It){console.error("  :",It),alert(((Fe=(tt=It.response)==null?void 0:tt.data)==null?void 0:Fe.detail)||"  ")}},xe=async _e=>{var tt,Fe;try{await Re.patch(`/api/business/${e}/tasks/${t}/`,{priority:_e}),A(null),Y()}catch(It){console.error("  :",It),alert(((Fe=(tt=It.response)==null?void 0:tt.data)==null?void 0:Fe.detail)||"  ")}},Se=()=>[{value:"todo",label:" ",color:"#969696"},{value:"in_progress",label:" ",color:"#6496ff"},{value:"review",label:" ",color:"#ffc864"},{value:"done",label:"",color:"#64c864"},{value:"cancelled",label:"",color:"#ff4757"}],pe=()=>[{value:"low",label:"",color:"#64c864"},{value:"medium",label:"",color:"#d4af37"},{value:"high",label:"",color:"#ffa500"},{value:"critical",label:"",color:"#ff4757"}],Ee=_e=>_e?Xn(_e).format("DD.MM.YYYY HH:mm"):"",Le=_e=>({low:Ot.priorityLow,medium:Ot.priorityMedium,high:Ot.priorityHigh,critical:Ot.priorityCritical})[_e]||Ot.priorityMedium,Ue=_e=>({todo:Ot.statusTodo,in_progress:Ot.statusInProgress,review:Ot.statusReview,done:Ot.statusDone,cancelled:Ot.statusCancelled})[_e]||Ot.statusTodo,Ne=_e=>{if(!_e)return"?";const tt=_e.split(" ");return tt.length>=2?(tt[0][0]+tt[1][0]).toUpperCase():_e.substring(0,2).toUpperCase()};if(i)return s.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh"},children:s.jsx(Wn,{size:"large"})});if(c||!a)return s.jsxs("div",{className:Ot.container,children:[s.jsx("div",{className:Ot.error,children:c||"  "}),s.jsxs("button",{className:Ot.backButton,onClick:()=>n(`/business/${e}/tasks`),children:[s.jsx(hm,{}),"    "]})]});const et=O.find(_e=>_e.id===a.location_id),dt=a.progress||{completed:0,total:0,percentage:0};return s.jsxs("div",{className:Ot.container,children:[s.jsxs("div",{className:Ot.taskHeader,children:[s.jsxs("button",{className:Ot.backButtonHeader,onClick:()=>n(`/business/${e}/tasks`),children:[s.jsx(hm,{})," "]}),s.jsxs("div",{className:Ot.taskHeaderContent,children:[s.jsxs("div",{className:Ot.taskHeaderLeft,children:[s.jsx("h1",{children:a.title}),s.jsxs("div",{className:Ot.taskHeaderBadges,children:[s.jsx("span",{className:`${Ot.badge} ${Ue(a.status)}`,children:a.status_display}),s.jsx("span",{className:`${Ot.badge} ${Le(a.priority)}`,children:a.priority_display})]})]}),s.jsxs("div",{className:Ot.taskHeaderRight,children:[a.created_at&&s.jsxs("div",{className:Ot.taskHeaderMeta,children:[s.jsx(fm,{}),s.jsxs("span",{children:[": ",Ee(a.created_at)]})]}),a.due_date&&s.jsxs("div",{className:Ot.taskHeaderMeta,children:[s.jsx(Cg,{}),s.jsxs("span",{children:[": ",Ee(a.due_date)]})]})]})]})]}),s.jsxs("div",{className:Ot.content,children:[s.jsxs("div",{className:Ot.mainColumn,children:[a.description&&s.jsxs("div",{className:Ot.card,children:[s.jsxs("div",{className:Ot.cardHeader,children:[s.jsx(uu,{}),s.jsx("h3",{children:" "})]}),s.jsx("div",{className:Ot.cardBody,children:s.jsx("div",{className:Ot.descriptionText,children:a.description.split(`
`).map((_e,tt)=>s.jsx("p",{children:_e||""},tt))})})]}),dt.total>0&&s.jsxs("div",{className:Ot.card,children:[s.jsxs("div",{className:Ot.cardHeader,children:[s.jsx($b,{}),s.jsx("h3",{children:" "})]}),s.jsx("div",{className:Ot.cardBody,children:s.jsxs("div",{className:Ot.progressSection,children:[s.jsxs("div",{className:Ot.progressInfo,children:[s.jsx("span",{children:" "}),s.jsxs("span",{className:Ot.progressPercentage,children:[dt.percentage,"%"]})]}),s.jsx("div",{className:Ot.progressBar,children:s.jsx("div",{className:Ot.progressBarFill,style:{width:`${dt.percentage}%`}})}),s.jsxs("div",{className:Ot.progressStats,children:[dt.completed,"  ",dt.total,"  "]})]})})]}),s.jsxs("div",{className:Ot.card,children:[s.jsxs("div",{className:Ot.cardHeader,children:[s.jsx(MR,{}),s.jsx("h3",{children:"-"})]}),s.jsxs("div",{className:Ot.cardBody,children:[s.jsxs("div",{className:Ot.checklistList,children:[g.map(_e=>s.jsxs("div",{className:Ot.checklistItem,children:[s.jsxs("label",{className:Ot.checklistLabel,children:[s.jsx("input",{type:"checkbox",checked:_e.is_completed,onChange:()=>ue(_e),className:Ot.checklistCheckbox}),s.jsx("span",{className:`${Ot.checklistText} ${_e.is_completed?Ot.checklistTextCompleted:""}`,children:_e.text})]}),s.jsx("button",{className:Ot.checklistDelete,onClick:()=>he(_e.id),title:"",children:s.jsx(aa,{})})]},_e.id)),g.length===0&&s.jsx("div",{className:Ot.emptyChecklist,children:"    -"})]}),s.jsxs("div",{className:Ot.checklistForm,children:[s.jsx("input",{type:"text",value:j,onChange:_e=>N(_e.target.value),onKeyPress:_e=>{_e.key==="Enter"&&ie()},placeholder:" ...",className:Ot.checklistInput}),s.jsx("button",{onClick:ie,disabled:!j.trim()||B,className:Ot.checklistAddButton,children:B?"...":s.jsx($a,{})})]})]})]}),a.files&&a.files.length>0&&s.jsxs("div",{className:Ot.card,children:[s.jsxs("div",{className:Ot.cardHeader,children:[s.jsx(zR,{}),s.jsx("h3",{children:""})]}),s.jsx("div",{className:Ot.cardBody,children:s.jsx("div",{className:Ot.filesList,children:a.files.map(_e=>s.jsxs("a",{href:_e.file_url,target:"_blank",rel:"noopener noreferrer",className:Ot.fileItem,children:[s.jsx(Ob,{}),s.jsx("span",{children:_e.name}),s.jsx($R,{})]},_e.id))})})]}),s.jsxs("div",{className:Ot.card,children:[s.jsxs("div",{className:Ot.cardHeader,children:[s.jsx(BR,{}),s.jsxs("h3",{children:[" (",d.length,")"]})]}),s.jsxs("div",{className:Ot.cardBody,children:[s.jsxs("div",{className:Ot.commentsList,children:[d.map(_e=>s.jsxs("div",{className:Ot.comment,children:[s.jsx("div",{className:Ot.commentAvatar,children:Ne(_e.author_name)}),s.jsxs("div",{className:Ot.commentContent,children:[s.jsxs("div",{className:Ot.commentHeader,children:[s.jsx("span",{className:Ot.commentAuthor,children:_e.author_name}),s.jsx("span",{className:Ot.commentDate,children:Ee(_e.created_at)})]}),s.jsx("div",{className:Ot.commentText,children:_e.text})]})]},_e.id)),d.length===0&&s.jsx("div",{className:Ot.noComments,children:"  "})]}),s.jsxs("div",{className:Ot.commentForm,children:[s.jsx("textarea",{value:w,onChange:_e=>S(_e.target.value),placeholder:"  ...",rows:4,className:Ot.commentInput}),s.jsx("div",{className:Ot.commentFormActions,children:s.jsxs("button",{onClick:ae,disabled:!w.trim()||I,className:Ot.commentButton,children:[s.jsx(HR,{})," "]})})]})]})]})]}),s.jsxs("div",{className:Ot.sidebar,children:[s.jsxs("div",{className:Ot.card,children:[s.jsxs("div",{className:Ot.cardHeader,children:[s.jsx(ni,{}),s.jsx("h3",{children:""})]}),s.jsxs("div",{className:Ot.cardBody,children:[a.assignees&&a.assignees.length>0&&s.jsxs("div",{className:Ot.infoItem,children:[s.jsx("label",{children:":"}),s.jsx("div",{className:Ot.assigneesList,children:a.assignees.map(_e=>s.jsxs("div",{className:Ot.assigneeItem,children:[s.jsx("div",{className:Ot.assigneeAvatar,children:Ne(_e.name)}),s.jsx("span",{children:_e.name})]},_e.id))})]}),a.created_by_name&&s.jsxs("div",{className:Ot.infoItem,children:[s.jsx("label",{children:":"}),s.jsxs("div",{className:Ot.assigneeItem,children:[s.jsx("div",{className:Ot.assigneeAvatar,children:Ne(a.created_by_name)}),s.jsx("span",{children:a.created_by_name})]})]}),s.jsxs("div",{className:Ot.infoItem,children:[s.jsx("label",{children:":"}),s.jsxs("div",{className:Ot.badgeWrapper,style:{position:"relative"},children:[s.jsxs("span",{className:`${Ot.badge} ${Le(a.priority)} ${Ot.clickableBadge}`,onClick:()=>A(Z==="priority"?null:"priority"),children:[a.priority_display,s.jsx(Wc,{style:{marginLeft:"8px",fontSize:"12px"}})]}),Z==="priority"&&s.jsx("div",{className:Ot.quickEditDropdown,onClick:_e=>_e.stopPropagation(),children:pe().map(_e=>s.jsx("div",{className:`${Ot.quickEditOption} ${a.priority===_e.value?Ot.active:""}`,onClick:()=>xe(_e.value),style:{borderLeftColor:_e.color},children:_e.label},_e.value))})]})]}),s.jsxs("div",{className:Ot.infoItem,children:[s.jsx("label",{children:":"}),s.jsxs("div",{className:Ot.badgeWrapper,style:{position:"relative"},children:[s.jsxs("span",{className:`${Ot.badge} ${Ue(a.status)} ${Ot.clickableBadge}`,onClick:()=>A(Z==="status"?null:"status"),children:[a.status_display,s.jsx(Wc,{style:{marginLeft:"8px",fontSize:"12px"}})]}),Z==="status"&&s.jsx("div",{className:Ot.quickEditDropdown,onClick:_e=>_e.stopPropagation(),children:Se().map(_e=>s.jsx("div",{className:`${Ot.quickEditOption} ${a.status===_e.value?Ot.active:""}`,onClick:()=>re(_e.value),style:{borderLeftColor:_e.color},children:_e.label},_e.value))})]})]}),et&&s.jsxs("div",{className:Ot.infoItem,children:[s.jsx("label",{children:":"}),s.jsxs("span",{className:Ot.infoValue,children:[s.jsx(dr,{})," ",et.name]})]}),a.due_date&&s.jsxs("div",{className:Ot.infoItem,children:[s.jsx("label",{children:" :"}),s.jsx("span",{className:Ot.infoValue,children:Ee(a.due_date)})]})]})]}),s.jsxs("div",{className:Ot.card,children:[s.jsxs("div",{className:Ot.cardHeader,children:[s.jsx(mm,{}),s.jsx("h3",{children:""})]}),s.jsx("div",{className:Ot.cardBody,children:s.jsxs("div",{className:Ot.actionsList,children:[s.jsxs("button",{className:Ot.actionButton,onClick:ge,children:[s.jsx(Yc,{}),"  "]}),a.status!=="done"&&s.jsxs("button",{className:Ot.actionButtonSuccess,onClick:je,children:[s.jsx(qr,{}),"  "]}),s.jsxs("button",{className:Ot.actionButtonWarning,onClick:Ie,children:[s.jsx(wh,{}),"  "]}),s.jsxs("button",{className:Ot.actionButtonDanger,onClick:de,children:[s.jsx(Cr,{}),"  "]})]})})]})]})]}),F&&s.jsx("div",{className:Ot.modalOverlay,onClick:()=>H(!1),children:s.jsxs("div",{className:Ot.modalContent,onClick:_e=>_e.stopPropagation(),children:[s.jsxs("div",{className:Ot.modalHeader,children:[s.jsx("h2",{children:" "}),s.jsx("button",{className:Ot.modalClose,onClick:()=>H(!1),children:s.jsx(aa,{})})]}),s.jsxs("div",{className:Ot.modalBody,children:[s.jsxs("div",{className:Ot.formGroup,children:[s.jsx("label",{children:"  *"}),s.jsx("input",{type:"text",value:V.title,onChange:_e=>q({...V,title:_e.target.value}),className:Ot.formInput})]}),s.jsxs("div",{className:Ot.formGroup,children:[s.jsx("label",{children:""}),s.jsx("textarea",{value:V.description,onChange:_e=>q({...V,description:_e.target.value}),rows:5,className:Ot.formTextarea})]}),s.jsxs("div",{className:Ot.formRow,children:[s.jsxs("div",{className:Ot.formGroup,children:[s.jsx("label",{children:""}),s.jsxs("select",{value:V.priority,onChange:_e=>q({...V,priority:_e.target.value}),className:Ot.formSelect,children:[s.jsx("option",{value:"low",children:""}),s.jsx("option",{value:"medium",children:""}),s.jsx("option",{value:"high",children:""}),s.jsx("option",{value:"critical",children:""})]})]}),s.jsxs("div",{className:Ot.formGroup,children:[s.jsx("label",{children:""}),s.jsxs("select",{value:V.status,onChange:_e=>q({...V,status:_e.target.value}),className:Ot.formSelect,children:[s.jsx("option",{value:"todo",children:" "}),s.jsx("option",{value:"in_progress",children:" "}),s.jsx("option",{value:"review",children:" "}),s.jsx("option",{value:"done",children:""}),s.jsx("option",{value:"cancelled",children:""})]})]})]}),s.jsxs("div",{className:Ot.formRow,children:[s.jsxs("div",{className:Ot.formGroup,children:[s.jsx("label",{children:" "}),s.jsx("input",{type:"date",value:V.due_date,onChange:_e=>q({...V,due_date:_e.target.value}),className:Ot.formInput})]}),s.jsxs("div",{className:Ot.formGroup,children:[s.jsx("label",{children:""}),s.jsxs("select",{value:V.location,onChange:_e=>q({...V,location:_e.target.value}),className:Ot.formSelect,children:[s.jsx("option",{value:"",children:" "}),O.map(_e=>s.jsx("option",{value:_e.id,children:_e.name},_e.id))]})]})]}),s.jsxs("div",{className:Ot.formGroup,children:[s.jsx("label",{children:""}),s.jsx("div",{className:Ot.assigneesSelector,children:$.map(_e=>s.jsx("button",{type:"button",className:`${Ot.employeeSelectButton} ${V.assignee_ids.includes(_e.id)?Ot.selected:""}`,onClick:()=>{const tt=V.assignee_ids.includes(_e.id)?V.assignee_ids.filter(Fe=>Fe!==_e.id):[...V.assignee_ids,_e.id];q({...V,assignee_ids:tt})},children:_e.name},_e.id))})]})]}),s.jsxs("div",{className:Ot.modalFooter,children:[s.jsx("button",{className:Ot.modalButtonCancel,onClick:()=>H(!1),children:""}),s.jsx("button",{className:Ot.modalButtonSave,onClick:ye,disabled:te||!V.title.trim(),children:te?"...":""})]})]})}),ne&&s.jsx("div",{className:Ot.modalOverlay,onClick:()=>X(!1),children:s.jsxs("div",{className:Ot.modalContent,onClick:_e=>_e.stopPropagation(),children:[s.jsxs("div",{className:Ot.modalHeader,children:[s.jsx("h2",{children:" "}),s.jsx("button",{className:Ot.modalClose,onClick:()=>X(!1),children:s.jsx(aa,{})})]}),s.jsx("div",{className:Ot.modalBody,children:s.jsxs("div",{className:Ot.formGroup,children:[s.jsx("label",{children:" "}),s.jsx("div",{className:Ot.assigneesSelector,children:$.map(_e=>s.jsx("button",{type:"button",className:`${Ot.employeeSelectButton} ${T.includes(_e.id)?Ot.selected:""}`,onClick:()=>fe(_e.id),children:_e.name},_e.id))})]})}),s.jsxs("div",{className:Ot.modalFooter,children:[s.jsx("button",{className:Ot.modalButtonCancel,onClick:()=>X(!1),children:""}),s.jsx("button",{className:Ot.modalButtonSave,onClick:me,disabled:te,children:te?"...":""})]})]})})]})},Qxt="_container_4ohx2_5",Xxt="_loadingContainer_4ohx2_25",Kxt="_header_4ohx2_43",Zxt="_backButton_4ohx2_75",Jxt="_title_4ohx2_125",ebt="_menuButton_4ohx2_157",tbt="_content_4ohx2_209",nbt="_error_4ohx2_225",sbt="_taskBadgesSection_4ohx2_247",abt="_badgesRow_4ohx2_263",rbt="_badgeWrapper_4ohx2_277",ibt="_badge_4ohx2_263",obt="_clickableBadge_4ohx2_307",cbt="_quickEditDropdown_4ohx2_329",lbt="_quickEditOption_4ohx2_355",ubt="_active_4ohx2_385",dbt="_taskMeta_4ohx2_395",hbt="_metaItem_4ohx2_411",fbt="_priorityLow_4ohx2_427",mbt="_priorityMedium_4ohx2_439",pbt="_priorityHigh_4ohx2_451",gbt="_priorityCritical_4ohx2_463",_bt="_statusTodo_4ohx2_477",vbt="_statusInProgress_4ohx2_489",xbt="_statusReview_4ohx2_501",bbt="_statusDone_4ohx2_513",ybt="_statusCancelled_4ohx2_525",wbt="_card_4ohx2_539",Cbt="_cardHeader_4ohx2_555",Sbt="_cardBody_4ohx2_597",jbt="_descriptionText_4ohx2_605",Nbt="_progressSection_4ohx2_631",Ebt="_progressInfo_4ohx2_643",kbt="_progressPercentage_4ohx2_659",Ibt="_progressBar_4ohx2_671",Dbt="_progressBarFill_4ohx2_687",Tbt="_progressStats_4ohx2_701",Abt="_checklistList_4ohx2_715",Mbt="_checklistItem_4ohx2_729",Rbt="_checklistLabel_4ohx2_751",Obt="_checklistCheckbox_4ohx2_771",Bbt="_checklistText_4ohx2_787",Lbt="_checklistTextCompleted_4ohx2_801",$bt="_checklistDelete_4ohx2_811",Pbt="_emptyChecklist_4ohx2_859",Fbt="_checklistForm_4ohx2_875",Hbt="_checklistInput_4ohx2_887",zbt="_checklistAddButton_4ohx2_923",Vbt="_filesList_4ohx2_981",qbt="_fileItem_4ohx2_995",Ubt="_emptyFiles_4ohx2_1073",Wbt="_uploadButton_4ohx2_1091",Ybt="_assigneesList_4ohx2_1157",Gbt="_assigneeItem_4ohx2_1169",Qbt="_assigneeAvatar_4ohx2_1189",Xbt="_assigneeInfo_4ohx2_1217",Kbt="_assigneeName_4ohx2_1231",Zbt="_assigneeEmail_4ohx2_1243",Jbt="_commentsList_4ohx2_1257",eyt="_comment_4ohx2_1257",tyt="_commentAvatar_4ohx2_1281",nyt="_commentContent_4ohx2_1309",syt="_commentHeader_4ohx2_1323",ayt="_commentAuthor_4ohx2_1339",ryt="_commentDate_4ohx2_1351",iyt="_commentText_4ohx2_1363",oyt="_noComments_4ohx2_1379",cyt="_commentForm_4ohx2_1395",lyt="_commentInput_4ohx2_1407",uyt="_commentButton_4ohx2_1445",dyt="_actionsList_4ohx2_1505",hyt="_actionButton_4ohx2_1517",fyt="_actionButtonSuccess_4ohx2_1519",myt="_actionButtonWarning_4ohx2_1521",pyt="_actionButtonDanger_4ohx2_1523",gyt="_modalOverlay_4ohx2_1633",_yt="_modal_4ohx2_1633",vyt="_slideUp_4ohx2_1",xyt="_modalHeader_4ohx2_1703",byt="_modalBody_4ohx2_1741",yyt="_formRow_4ohx2_1755",wyt="_formInput_4ohx2_1781",Cyt="_formTextarea_4ohx2_1783",Syt="_formSelect_4ohx2_1785",jyt="_assigneesSelector_4ohx2_1835",Nyt="_employeeSelectButton_4ohx2_1859",Eyt="_selected_4ohx2_1905",kyt="_checkIcon_4ohx2_1915",Iyt="_modalFooter_4ohx2_1925",Dyt="_cancelButton_4ohx2_1945",Tyt="_saveButton_4ohx2_1947",At={container:Qxt,loadingContainer:Xxt,header:Kxt,backButton:Zxt,title:Jxt,menuButton:ebt,content:tbt,error:nbt,taskBadgesSection:sbt,badgesRow:abt,badgeWrapper:rbt,badge:ibt,clickableBadge:obt,quickEditDropdown:cbt,quickEditOption:lbt,active:ubt,taskMeta:dbt,metaItem:hbt,priorityLow:fbt,priorityMedium:mbt,priorityHigh:pbt,priorityCritical:gbt,statusTodo:_bt,statusInProgress:vbt,statusReview:xbt,statusDone:bbt,statusCancelled:ybt,card:wbt,cardHeader:Cbt,cardBody:Sbt,descriptionText:jbt,progressSection:Nbt,progressInfo:Ebt,progressPercentage:kbt,progressBar:Ibt,progressBarFill:Dbt,progressStats:Tbt,checklistList:Abt,checklistItem:Mbt,checklistLabel:Rbt,checklistCheckbox:Obt,checklistText:Bbt,checklistTextCompleted:Lbt,checklistDelete:$bt,emptyChecklist:Pbt,checklistForm:Fbt,checklistInput:Hbt,checklistAddButton:zbt,filesList:Vbt,fileItem:qbt,emptyFiles:Ubt,uploadButton:Wbt,assigneesList:Ybt,assigneeItem:Gbt,assigneeAvatar:Qbt,assigneeInfo:Xbt,assigneeName:Kbt,assigneeEmail:Zbt,commentsList:Jbt,comment:eyt,commentAvatar:tyt,commentContent:nyt,commentHeader:syt,commentAuthor:ayt,commentDate:ryt,commentText:iyt,noComments:oyt,commentForm:cyt,commentInput:lyt,commentButton:uyt,actionsList:dyt,actionButton:hyt,actionButtonSuccess:fyt,actionButtonWarning:myt,actionButtonDanger:pyt,modalOverlay:gyt,modal:_yt,slideUp:vyt,modalHeader:xyt,modalBody:byt,formRow:yyt,formInput:wyt,formTextarea:Cyt,formSelect:Syt,assigneesSelector:jyt,employeeSelectButton:Nyt,selected:Eyt,checkIcon:kyt,modalFooter:Iyt,cancelButton:Dyt,saveButton:Tyt},Ayt=()=>{const{business_slug:e,task_id:t}=fa(),n=Rs(),[a,r]=v.useState(null),[i,o]=v.useState(!0),[c,l]=v.useState(null),[d,f]=v.useState([]),[g,b]=v.useState([]),[w,S]=v.useState(""),[j,N]=v.useState(""),[I,M]=v.useState(!1),[B,P]=v.useState(!1),[O,R]=v.useState([]),[$,U]=v.useState([]),[F,H]=v.useState(!1),[ne,X]=v.useState(!1),[te,se]=v.useState(!1),[V,q]=v.useState({title:"",description:"",priority:"medium",status:"todo",due_date:"",location:"",assignee_ids:[]}),[T,J]=v.useState([]),[Z,A]=v.useState(null),[Y,K]=v.useState(null),[G,oe]=v.useState(!1);v.useEffect(()=>{ee(),ae(),ie(),ue(),he()},[e,t]),v.useEffect(()=>{const le=Ae=>{Z&&!Ae.target.closest(`.${At.badgeWrapper}`)&&A(null)};return document.addEventListener("mousedown",le),()=>{document.removeEventListener("mousedown",le)}},[Z]);const ee=async()=>{var le,Ae;try{o(!0);const be=await Re.get(`/api/business/${e}/tasks/${t}/`);r(be.data)}catch(be){console.error("  :",be),l(((Ae=(le=be.response)==null?void 0:le.data)==null?void 0:Ae.detail)||"  ")}finally{o(!1)}},ae=async()=>{try{const le=await Re.get(`/api/business/${e}/tasks/${t}/comments/`);f(le.data||[])}catch(le){console.error("  :",le)}},ie=async()=>{try{const le=await Re.get(`/api/business/${e}/tasks/${t}/checklist/`);b(le.data||[])}catch(le){console.error("  -:",le)}},ue=async()=>{try{const le=await Re.get(`/api/business/${e}/locations/`);R(le.data||[])}catch(le){console.error("  :",le)}},he=async()=>{try{const Ae=((await Re.get(`/api/business/${e}/employees/`)).data||[]).map(be=>({id:be.user,name:be.name||be.full_name||" ",email:be.user_email||""}));U(Ae)}catch(le){console.error("  :",le)}},ge=async()=>{var le,Ae;if(w.trim())try{M(!0);const be=await Re.post(`/api/business/${e}/tasks/${t}/comments/`,{text:w});f([...d,be.data]),S("")}catch(be){console.error("  :",be),alert(((Ae=(le=be.response)==null?void 0:le.data)==null?void 0:Ae.detail)||"  ")}finally{M(!1)}},ye=async()=>{var le,Ae;if(j.trim())try{P(!0);const be=await Re.post(`/api/business/${e}/tasks/${t}/checklist/`,{text:j,order:g.length});b([...g,be.data]),N(""),ee()}catch(be){console.error("  :",be),alert(((Ae=(le=be.response)==null?void 0:le.data)==null?void 0:Ae.detail)||"  ")}finally{P(!1)}},je=async le=>{var Ae,be;try{const We=await Re.patch(`/api/business/${e}/tasks/${t}/checklist/${le.id}/`,{is_completed:!le.is_completed});b(g.map(st=>st.id===le.id?We.data:st)),ee()}catch(We){console.error("  :",We),alert(((be=(Ae=We.response)==null?void 0:Ae.data)==null?void 0:be.detail)||"  ")}},Ie=async le=>{var Ae,be;if(window.confirm(" ?"))try{await Re.delete(`/api/business/${e}/tasks/${t}/checklist/${le}/`),b(g.filter(We=>We.id!==le)),ee()}catch(We){console.error("  :",We),alert(((be=(Ae=We.response)==null?void 0:Ae.data)==null?void 0:be.detail)||"  ")}},me=async le=>{var Ae,be;try{oe(!0);const We=new FormData;We.append("file",le),We.append("name",le.name),await Re.post(`/api/business/${e}/tasks/${t}/files/`,We,{headers:{"Content-Type":"multipart/form-data"}}),ee()}catch(We){console.error("  :",We),alert(((be=(Ae=We.response)==null?void 0:Ae.data)==null?void 0:be.detail)||"  ")}finally{oe(!1)}},de=()=>{a&&(q({title:a.title,description:a.description||"",priority:a.priority,status:a.status,due_date:a.due_date?a.due_date.split("T")[0]:"",location:a.location_id||"",assignee_ids:a.assignees.map(le=>le.id)}),H(!0))},fe=async()=>{var le,Ae;try{se(!0);const be={...V,location:V.location||null,due_date:V.due_date?V.due_date:null};await Re.patch(`/api/business/${e}/tasks/${t}/`,be),H(!1),ee()}catch(be){console.error("  :",be),alert(((Ae=(le=be.response)==null?void 0:le.data)==null?void 0:Ae.detail)||"  ")}finally{se(!1)}},re=async()=>{var le,Ae;if(window.confirm(" ?"))try{await Re.patch(`/api/business/${e}/tasks/${t}/`,{status:"done"}),ee()}catch(be){console.error("  :",be),alert(((Ae=(le=be.response)==null?void 0:le.data)==null?void 0:Ae.detail)||"  ")}},xe=()=>{a&&(J(a.assignees.map(le=>le.id)),X(!0))},Se=async()=>{var le,Ae;try{se(!0),await Re.patch(`/api/business/${e}/tasks/${t}/`,{assignee_ids:T}),X(!1),ee()}catch(be){console.error("  :",be),alert(((Ae=(le=be.response)==null?void 0:le.data)==null?void 0:Ae.detail)||"  ")}finally{se(!1)}},pe=async()=>{var le,Ae;if(window.confirm(" ,     ?    ."))try{await Re.delete(`/api/business/${e}/tasks/${t}/`),n(`/business/${e}/tasks`)}catch(be){console.error("  :",be),alert(((Ae=(le=be.response)==null?void 0:le.data)==null?void 0:Ae.detail)||"  ")}},Ee=le=>{J(Ae=>Ae.includes(le)?Ae.filter(be=>be!==le):[...Ae,le])},Le=async le=>{var Ae,be;try{await Re.patch(`/api/business/${e}/tasks/${t}/`,{status:le}),A(null),ee()}catch(We){console.error("  :",We),alert(((be=(Ae=We.response)==null?void 0:Ae.data)==null?void 0:be.detail)||"  ")}},Ue=async le=>{var Ae,be;try{await Re.patch(`/api/business/${e}/tasks/${t}/`,{priority:le}),A(null),ee()}catch(We){console.error("  :",We),alert(((be=(Ae=We.response)==null?void 0:Ae.data)==null?void 0:be.detail)||"  ")}},Ne=()=>[{value:"todo",label:" ",color:"#969696"},{value:"in_progress",label:" ",color:"#6496ff"},{value:"review",label:" ",color:"#ffc864"},{value:"done",label:"",color:"#64c864"},{value:"cancelled",label:"",color:"#ff4757"}],et=()=>[{value:"low",label:"",color:"#64c864"},{value:"medium",label:"",color:"#d4af37"},{value:"high",label:"",color:"#ffa500"},{value:"critical",label:"",color:"#ff4757"}],dt=le=>le?Xn(le).format("DD.MM.YYYY HH:mm"):"",_e=le=>({low:At.priorityLow,medium:At.priorityMedium,high:At.priorityHigh,critical:At.priorityCritical})[le]||At.priorityMedium,tt=le=>({todo:At.statusTodo,in_progress:At.statusInProgress,review:At.statusReview,done:At.statusDone,cancelled:At.statusCancelled})[le]||At.statusTodo,Fe=le=>{if(!le)return"?";const Ae=le.split(" ");return Ae.length>=2?(Ae[0][0]+Ae[1][0]).toUpperCase():le.substring(0,2).toUpperCase()};if(i)return s.jsx("div",{className:At.loadingContainer,children:s.jsx(Wn,{size:"large"})});if(c||!a)return s.jsxs("div",{className:At.container,children:[s.jsxs("div",{className:At.header,children:[s.jsx("h1",{className:At.title,children:""}),s.jsx("div",{style:{width:"44px"}})]}),s.jsx("div",{className:At.content,children:s.jsx("div",{className:At.error,children:c||"  "})})]});const It=O.find(le=>le.id===a.location_id),Xe=a.progress||{completed:0,total:0,percentage:0};return s.jsxs("div",{className:At.container,children:[s.jsxs("div",{className:At.header,children:[s.jsxs("div",{className:At.headerContent,children:[s.jsx("h1",{className:At.title,children:a.title}),s.jsx("span",{className:`${At.badge} ${At[`status${a.status.charAt(0).toUpperCase()+a.status.slice(1)}`]}`,children:a.status_display})]}),s.jsx("button",{className:At.menuButton,onClick:()=>{},children:s.jsx(mm,{})})]}),s.jsxs("div",{className:At.content,children:[s.jsxs("div",{className:At.taskBadgesSection,children:[s.jsxs("div",{className:At.badgesRow,children:[s.jsxs("div",{className:At.badgeWrapper,children:[s.jsxs("span",{className:`${At.badge} ${tt(a.status)} ${At.clickableBadge}`,onClick:()=>A(Z==="status"?null:"status"),children:[a.status_display,s.jsx(Wc,{})]}),Z==="status"&&s.jsx("div",{className:At.quickEditDropdown,onClick:le=>le.stopPropagation(),children:Ne().map(le=>s.jsx("div",{className:`${At.quickEditOption} ${a.status===le.value?At.active:""}`,onClick:()=>Le(le.value),style:{borderLeftColor:le.color},children:le.label},le.value))})]}),s.jsxs("div",{className:At.badgeWrapper,children:[s.jsxs("span",{className:`${At.badge} ${_e(a.priority)} ${At.clickableBadge}`,onClick:()=>A(Z==="priority"?null:"priority"),children:[a.priority_display,s.jsx(Wc,{})]}),Z==="priority"&&s.jsx("div",{className:At.quickEditDropdown,onClick:le=>le.stopPropagation(),children:et().map(le=>s.jsx("div",{className:`${At.quickEditOption} ${a.priority===le.value?At.active:""}`,onClick:()=>Ue(le.value),style:{borderLeftColor:le.color},children:le.label},le.value))})]})]}),s.jsxs("div",{className:At.taskMeta,children:[a.created_at&&s.jsxs("div",{className:At.metaItem,children:[s.jsx(fm,{})," : ",dt(a.created_at)]}),a.due_date&&s.jsxs("div",{className:At.metaItem,children:[s.jsx(Cg,{})," : ",dt(a.due_date)]}),It&&s.jsxs("div",{className:At.metaItem,children:[s.jsx(dr,{})," ",It.name]})]})]}),a.description&&s.jsxs("div",{className:At.card,children:[s.jsxs("div",{className:At.cardHeader,children:[s.jsx(uu,{}),s.jsx("h3",{children:""})]}),s.jsx("div",{className:At.cardBody,children:s.jsx("div",{className:At.descriptionText,children:a.description.split(`
`).map((le,Ae)=>s.jsx("p",{children:le||""},Ae))})})]}),Xe.total>0&&s.jsxs("div",{className:At.card,children:[s.jsxs("div",{className:At.cardHeader,children:[s.jsx($b,{}),s.jsx("h3",{children:""})]}),s.jsx("div",{className:At.cardBody,children:s.jsxs("div",{className:At.progressSection,children:[s.jsxs("div",{className:At.progressInfo,children:[s.jsx("span",{children:" "}),s.jsxs("span",{className:At.progressPercentage,children:[Xe.percentage,"%"]})]}),s.jsx("div",{className:At.progressBar,children:s.jsx("div",{className:At.progressBarFill,style:{width:`${Xe.percentage}%`}})}),s.jsxs("div",{className:At.progressStats,children:[Xe.completed,"  ",Xe.total,"  "]})]})})]}),s.jsxs("div",{className:At.card,children:[s.jsxs("div",{className:At.cardHeader,children:[s.jsx(MR,{}),s.jsx("h3",{children:"-"})]}),s.jsxs("div",{className:At.cardBody,children:[s.jsxs("div",{className:At.checklistList,children:[g.map(le=>s.jsxs("div",{className:At.checklistItem,children:[s.jsxs("label",{className:At.checklistLabel,children:[s.jsx("input",{type:"checkbox",checked:le.is_completed,onChange:()=>je(le),className:At.checklistCheckbox}),s.jsx("span",{className:`${At.checklistText} ${le.is_completed?At.checklistTextCompleted:""}`,children:le.text})]}),s.jsx("button",{className:At.checklistDelete,onClick:()=>Ie(le.id),children:s.jsx(aa,{})})]},le.id)),g.length===0&&s.jsx("div",{className:At.emptyChecklist,children:"    -"})]}),s.jsxs("div",{className:At.checklistForm,children:[s.jsx("input",{type:"text",value:j,onChange:le=>N(le.target.value),onKeyPress:le=>{le.key==="Enter"&&ye()},placeholder:" ...",className:At.checklistInput}),s.jsx("button",{onClick:ye,disabled:!j.trim()||B,className:At.checklistAddButton,children:B?"...":s.jsx($a,{})})]})]})]}),s.jsxs("div",{className:At.card,children:[s.jsxs("div",{className:At.cardHeader,children:[s.jsx(zR,{}),s.jsx("h3",{children:""})]}),s.jsxs("div",{className:At.cardBody,children:[a.files&&a.files.length>0?s.jsx("div",{className:At.filesList,children:a.files.map(le=>s.jsxs("a",{href:le.file_url,target:"_blank",rel:"noopener noreferrer",className:At.fileItem,children:[s.jsx(Ob,{}),s.jsx("span",{children:le.name}),s.jsx($R,{})]},le.id))}):s.jsx("div",{className:At.emptyFiles,children:" "}),s.jsx("input",{type:"file",ref:le=>K(le),style:{display:"none"},onChange:le=>{le.target.files[0]&&me(le.target.files[0])}}),s.jsxs("button",{className:At.uploadButton,onClick:()=>Y==null?void 0:Y.click(),disabled:G,children:[s.jsx(pm,{})," ",G?"...":" "]})]})]}),a.assignees&&a.assignees.length>0&&s.jsxs("div",{className:At.card,children:[s.jsxs("div",{className:At.cardHeader,children:[s.jsx(ec,{}),s.jsx("h3",{children:""})]}),s.jsx("div",{className:At.cardBody,children:s.jsx("div",{className:At.assigneesList,children:a.assignees.map(le=>s.jsxs("div",{className:At.assigneeItem,children:[s.jsx("div",{className:At.assigneeAvatar,children:Fe(le.name)}),s.jsxs("div",{className:At.assigneeInfo,children:[s.jsx("span",{className:At.assigneeName,children:le.name}),le.email&&s.jsx("span",{className:At.assigneeEmail,children:le.email})]})]},le.id))})})]}),a.created_by_name&&s.jsxs("div",{className:At.card,children:[s.jsxs("div",{className:At.cardHeader,children:[s.jsx(ni,{}),s.jsx("h3",{children:""})]}),s.jsx("div",{className:At.cardBody,children:s.jsxs("div",{className:At.assigneeItem,children:[s.jsx("div",{className:At.assigneeAvatar,children:Fe(a.created_by_name)}),s.jsx("span",{className:At.assigneeName,children:a.created_by_name})]})})]}),s.jsxs("div",{className:At.card,children:[s.jsxs("div",{className:At.cardHeader,children:[s.jsx(BR,{}),s.jsxs("h3",{children:[" (",d.length,")"]})]}),s.jsxs("div",{className:At.cardBody,children:[s.jsxs("div",{className:At.commentsList,children:[d.map(le=>s.jsxs("div",{className:At.comment,children:[s.jsx("div",{className:At.commentAvatar,children:Fe(le.author_name)}),s.jsxs("div",{className:At.commentContent,children:[s.jsxs("div",{className:At.commentHeader,children:[s.jsx("span",{className:At.commentAuthor,children:le.author_name}),s.jsx("span",{className:At.commentDate,children:dt(le.created_at)})]}),s.jsx("div",{className:At.commentText,children:le.text})]})]},le.id)),d.length===0&&s.jsx("div",{className:At.noComments,children:"  "})]}),s.jsxs("div",{className:At.commentForm,children:[s.jsx("textarea",{value:w,onChange:le=>S(le.target.value),placeholder:"  ...",rows:4,className:At.commentInput}),s.jsxs("button",{onClick:ge,disabled:!w.trim()||I,className:At.commentButton,children:[s.jsx(HR,{})," ",I?"...":""]})]})]})]}),s.jsxs("div",{className:At.card,children:[s.jsxs("div",{className:At.cardHeader,children:[s.jsx(mm,{}),s.jsx("h3",{children:""})]}),s.jsx("div",{className:At.cardBody,children:s.jsxs("div",{className:At.actionsList,children:[s.jsxs("button",{className:At.actionButton,onClick:de,children:[s.jsx(Yc,{}),"  "]}),a.status!=="done"&&s.jsxs("button",{className:At.actionButtonSuccess,onClick:re,children:[s.jsx(qr,{}),"  "]}),s.jsxs("button",{className:At.actionButtonWarning,onClick:xe,children:[s.jsx(wh,{}),"  "]}),s.jsxs("button",{className:At.actionButtonDanger,onClick:pe,children:[s.jsx(Cr,{}),"  "]})]})})]})]}),F&&s.jsx("div",{className:At.modalOverlay,onClick:()=>H(!1),children:s.jsxs("div",{className:At.modal,onClick:le=>le.stopPropagation(),children:[s.jsxs("div",{className:At.modalHeader,children:[s.jsx("h2",{children:" "}),s.jsx(Ti,{onClick:()=>H(!1)})]}),s.jsxs("div",{className:At.modalBody,children:[s.jsx("div",{className:At.formRow,children:s.jsxs("label",{children:["  *",s.jsx("input",{type:"text",value:V.title,onChange:le=>q({...V,title:le.target.value}),className:At.formInput})]})}),s.jsx("div",{className:At.formRow,children:s.jsxs("label",{children:["",s.jsx("textarea",{value:V.description,onChange:le=>q({...V,description:le.target.value}),rows:5,className:At.formTextarea})]})}),s.jsx("div",{className:At.formRow,children:s.jsxs("label",{children:["",s.jsxs("select",{value:V.priority,onChange:le=>q({...V,priority:le.target.value}),className:At.formSelect,children:[s.jsx("option",{value:"low",children:""}),s.jsx("option",{value:"medium",children:""}),s.jsx("option",{value:"high",children:""}),s.jsx("option",{value:"critical",children:""})]})]})}),s.jsx("div",{className:At.formRow,children:s.jsxs("label",{children:["",s.jsxs("select",{value:V.status,onChange:le=>q({...V,status:le.target.value}),className:At.formSelect,children:[s.jsx("option",{value:"todo",children:" "}),s.jsx("option",{value:"in_progress",children:" "}),s.jsx("option",{value:"review",children:" "}),s.jsx("option",{value:"done",children:""}),s.jsx("option",{value:"cancelled",children:""})]})]})}),s.jsx("div",{className:At.formRow,children:s.jsxs("label",{children:[" ",s.jsx("input",{type:"date",value:V.due_date,onChange:le=>q({...V,due_date:le.target.value}),className:At.formInput})]})}),s.jsx("div",{className:At.formRow,children:s.jsxs("label",{children:["",s.jsxs("select",{value:V.location,onChange:le=>q({...V,location:le.target.value}),className:At.formSelect,children:[s.jsx("option",{value:"",children:" "}),O.map(le=>s.jsx("option",{value:le.id,children:le.name},le.id))]})]})}),s.jsx("div",{className:At.formRow,children:s.jsxs("label",{children:["",s.jsx("div",{className:At.assigneesSelector,children:$.map(le=>s.jsxs("button",{type:"button",className:`${At.employeeSelectButton} ${V.assignee_ids.includes(le.id)?At.selected:""}`,onClick:()=>{const Ae=V.assignee_ids.includes(le.id)?V.assignee_ids.filter(be=>be!==le.id):[...V.assignee_ids,le.id];q({...V,assignee_ids:Ae})},children:[s.jsx(ec,{})," ",le.name,V.assignee_ids.includes(le.id)&&s.jsx(qr,{className:At.checkIcon})]},le.id))})]})})]}),s.jsxs("div",{className:At.modalFooter,children:[s.jsx("button",{className:At.cancelButton,onClick:()=>H(!1),children:""}),s.jsx("button",{className:At.saveButton,onClick:fe,disabled:te||!V.title.trim(),children:te?"...":""})]})]})}),ne&&s.jsx("div",{className:At.modalOverlay,onClick:()=>X(!1),children:s.jsxs("div",{className:At.modal,onClick:le=>le.stopPropagation(),children:[s.jsxs("div",{className:At.modalHeader,children:[s.jsx("h2",{children:" "}),s.jsx(Ti,{onClick:()=>X(!1)})]}),s.jsx("div",{className:At.modalBody,children:s.jsx("div",{className:At.formRow,children:s.jsxs("label",{children:[" ",s.jsx("div",{className:At.assigneesSelector,children:$.map(le=>s.jsxs("button",{type:"button",className:`${At.employeeSelectButton} ${T.includes(le.id)?At.selected:""}`,onClick:()=>Ee(le.id),children:[s.jsx(ec,{})," ",le.name,T.includes(le.id)&&s.jsx(qr,{className:At.checkIcon})]},le.id))})]})})}),s.jsxs("div",{className:At.modalFooter,children:[s.jsx("button",{className:At.cancelButton,onClick:()=>X(!1),children:""}),s.jsx("button",{className:At.saveButton,onClick:Se,disabled:te,children:te?"...":""})]})]})})]})},Myt="_container_yynb4_30",Ryt="_header_yynb4_51",Oyt="_businessInfo_yynb4_80",Byt="_createButton_yynb4_90",Lyt="_content_yynb4_116",$yt="_filters_yynb4_120",Pyt="_searchBar_yynb4_136",Fyt="_searchInput_yynb4_159",Hyt="_filterSelect_yynb4_202",zyt="_inventoryList_yynb4_231",Vyt="_inventoryCard_yynb4_238",qyt="_cardHeader_yynb4_271",Uyt="_cardHeaderLeft_yynb4_280",Wyt="_cardHeaderRight_yynb4_294",Yyt="_badge_yynb4_300",Gyt="_statusDraft_yynb4_311",Qyt="_statusInProgress_yynb4_317",Xyt="_statusCompleted_yynb4_323",Kyt="_statusCancelled_yynb4_329",Zyt="_date_yynb4_335",Jyt="_deleteButton_yynb4_341",e2t="_notes_yynb4_370",t2t="_stats_yynb4_381",n2t="_statItem_yynb4_388",s2t="_statLabel_yynb4_398",a2t="_statValue_yynb4_406",r2t="_statMatch_yynb4_412",i2t="_statShortage_yynb4_416",o2t="_statSurplus_yynb4_420",c2t="_meta_yynb4_424",l2t="_emptyState_yynb4_442",u2t="_pagination_yynb4_453",d2t="_pageButton_yynb4_466",h2t="_pageInfo_yynb4_496",f2t="_modalOverlay_yynb4_503",m2t="_modalContent_yynb4_515",p2t="_modalHeader_yynb4_527",g2t="_closeButton_yynb4_546",_2t="_modalBody_yynb4_570",v2t="_formGroup_yynb4_578",x2t="_formSelect_yynb4_592",b2t="_formTextarea_yynb4_593",y2t="_modalFooter_yynb4_618",w2t="_cancelButton_yynb4_626",C2t="_saveButton_yynb4_627",ps={container:Myt,header:Ryt,businessInfo:Oyt,createButton:Byt,content:Lyt,filters:$yt,searchBar:Pyt,searchInput:Fyt,filterSelect:Hyt,inventoryList:zyt,inventoryCard:Vyt,cardHeader:qyt,cardHeaderLeft:Uyt,cardHeaderRight:Wyt,badge:Yyt,statusDraft:Gyt,statusInProgress:Qyt,statusCompleted:Xyt,statusCancelled:Kyt,date:Zyt,deleteButton:Jyt,notes:e2t,stats:t2t,statItem:n2t,statLabel:s2t,statValue:a2t,statMatch:r2t,statShortage:i2t,statSurplus:o2t,meta:c2t,emptyState:l2t,pagination:u2t,pageButton:d2t,pageInfo:h2t,modalOverlay:f2t,modalContent:m2t,modalHeader:p2t,closeButton:g2t,modalBody:_2t,formGroup:v2t,formSelect:x2t,formTextarea:b2t,modalFooter:y2t,cancelButton:w2t,saveButton:C2t},S2t=()=>{const{business_slug:e}=fa(),t=Rs(),[n,a]=v.useState([]),[r,i]=v.useState(!0),[o,c]=v.useState([]),[l,d]=v.useState({status:"",location:"",search:""}),[f,g]=v.useState({page:1,page_size:20,total_pages:1,count:0}),[b,w]=v.useState(!1),[S,j]=v.useState({location:"",notes:""}),[N,I]=v.useState(!1),[M,B]=v.useState(null);v.useEffect(()=>{P(),O()},[e,l,f.page]);const P=async()=>{try{i(!0);const H={page:f.page,page_size:f.page_size,...l},ne=await Re.get(`/api/business/${e}/inventory/`,{params:H});a(ne.data.results||[]),g(X=>({...X,total_pages:ne.data.total_pages||1,count:ne.data.count||0}))}catch(H){console.error("  :",H)}finally{i(!1)}},O=async()=>{try{const H=await Re.get(`/api/business/${e}/locations/`);c(H.data||[])}catch(H){console.error("  :",H)}},R=async()=>{var H,ne;if(!S.location){alert(" ");return}try{I(!0);const X=await Re.post(`/api/business/${e}/inventory/`,S);w(!1),j({location:"",notes:""}),t(`/business/${e}/inventory/${X.data.id}`)}catch(X){console.error("  :",X),alert(((ne=(H=X.response)==null?void 0:H.data)==null?void 0:ne.detail)||"  ")}finally{I(!1)}},$=H=>({draft:ps.statusDraft,in_progress:ps.statusInProgress,completed:ps.statusCompleted,cancelled:ps.statusCancelled})[H]||ps.statusDraft,U=H=>H?Xn(H).format("DD.MM.YYYY HH:mm"):"",F=async(H,ne,X)=>{var te,se;if(H.stopPropagation(),!!window.confirm(" ,     ?"))try{B(ne),await Re.delete(`/api/business/${e}/inventory/${ne}/`),P()}catch(V){console.error("  :",V),alert(((se=(te=V.response)==null?void 0:te.data)==null?void 0:se.detail)||"  ")}finally{B(null)}};return r&&n.length===0?s.jsx(Wn,{}):s.jsxs("div",{className:ps.container,children:[s.jsxs("div",{className:ps.header,children:[s.jsx("h1",{children:""}),s.jsx("div",{className:ps.businessInfo,children:s.jsxs("span",{children:[": ",e]})}),s.jsxs("button",{className:ps.createButton,onClick:()=>w(!0),children:[s.jsx($a,{}),"  "]})]}),s.jsxs("div",{className:ps.content,children:[s.jsxs("div",{className:ps.filters,children:[s.jsx("div",{className:ps.searchBar,children:s.jsxs("form",{onSubmit:H=>{H.preventDefault()},children:[s.jsx("input",{type:"text",placeholder:"    ...",value:l.search,onChange:H=>d({...l,search:H.target.value}),className:ps.searchInput}),s.jsx("button",{type:"submit",children:s.jsx(ri,{})})]})}),s.jsxs("select",{value:l.status,onChange:H=>d({...l,status:H.target.value}),className:ps.filterSelect,children:[s.jsx("option",{value:"",children:" "}),s.jsx("option",{value:"draft",children:""}),s.jsx("option",{value:"in_progress",children:" "}),s.jsx("option",{value:"completed",children:""}),s.jsx("option",{value:"cancelled",children:""})]}),s.jsxs("select",{value:l.location,onChange:H=>d({...l,location:H.target.value}),className:ps.filterSelect,children:[s.jsx("option",{value:"",children:" "}),o.map(H=>s.jsx("option",{value:H.id,children:H.name},H.id))]})]}),s.jsxs("div",{className:ps.inventoryList,children:[n.map(H=>s.jsxs("div",{className:ps.inventoryCard,onClick:()=>t(`/business/${e}/inventory/${H.id}`),children:[s.jsxs("div",{className:ps.cardHeader,children:[s.jsxs("div",{className:ps.cardHeaderLeft,children:[s.jsx("h3",{children:H.location_name}),s.jsx("span",{className:`${ps.badge} ${$(H.status)}`,children:H.status_display})]}),s.jsxs("div",{className:ps.cardHeaderRight,children:[s.jsx("span",{className:ps.date,children:U(H.created_at)}),s.jsx("button",{className:ps.deleteButton,onClick:ne=>F(ne,H.id,H.status),disabled:M===H.id,title:" ",children:M===H.id?s.jsx(Mo,{style:{animation:"spin 1s linear infinite"}}):s.jsx(Cr,{})})]})]}),H.notes&&s.jsx("div",{className:ps.notes,children:H.notes}),s.jsxs("div",{className:ps.stats,children:[s.jsxs("div",{className:ps.statItem,children:[s.jsx("span",{className:ps.statLabel,children:" :"}),s.jsx("span",{className:ps.statValue,children:H.total_items||0})]}),s.jsxs("div",{className:ps.statItem,children:[s.jsx("span",{className:ps.statLabel,children:":"}),s.jsx("span",{className:`${ps.statValue} ${ps.statMatch}`,children:H.matched_items||0})]}),s.jsxs("div",{className:ps.statItem,children:[s.jsx("span",{className:ps.statLabel,children:":"}),s.jsx("span",{className:`${ps.statValue} ${ps.statShortage}`,children:H.shortage_items||0})]}),s.jsxs("div",{className:ps.statItem,children:[s.jsx("span",{className:ps.statLabel,children:":"}),s.jsx("span",{className:`${ps.statValue} ${ps.statSurplus}`,children:H.surplus_items||0})]}),H.total_difference!==0&&s.jsxs("div",{className:ps.statItem,children:[s.jsx("span",{className:ps.statLabel,children:":"}),s.jsxs("span",{className:`${ps.statValue} ${H.total_difference>0?ps.statSurplus:ps.statShortage}`,children:[H.total_difference>0?"+":"",H.total_difference]})]})]}),H.started_at&&s.jsxs("div",{className:ps.meta,children:[s.jsx(Cg,{}),": ",U(H.started_at)]}),H.completed_at&&s.jsxs("div",{className:ps.meta,children:[s.jsx(qr,{}),": ",U(H.completed_at)]})]},H.id)),n.length===0&&!r&&s.jsx("div",{className:ps.emptyState,children:" "})]}),f.total_pages>1&&s.jsxs("div",{className:ps.pagination,children:[s.jsx("button",{onClick:()=>g({...f,page:f.page-1}),disabled:f.page===1,className:ps.pageButton,children:s.jsx(jl,{})}),s.jsxs("span",{className:ps.pageInfo,children:[" ",f.page,"  ",f.total_pages]}),s.jsx("button",{onClick:()=>g({...f,page:f.page+1}),disabled:f.page>=f.total_pages,className:ps.pageButton,children:s.jsx(Nl,{})})]})]}),b&&s.jsx("div",{className:ps.modalOverlay,onClick:()=>w(!1),children:s.jsxs("div",{className:ps.modalContent,onClick:H=>H.stopPropagation(),children:[s.jsxs("div",{className:ps.modalHeader,children:[s.jsx("h2",{children:" "}),s.jsx("button",{className:ps.closeButton,onClick:()=>w(!1),children:s.jsx(aa,{})})]}),s.jsxs("div",{className:ps.modalBody,children:[s.jsxs("div",{className:ps.formGroup,children:[s.jsx("label",{children:"/ *"}),s.jsxs("select",{value:S.location,onChange:H=>j({...S,location:H.target.value}),className:ps.formSelect,children:[s.jsx("option",{value:"",children:" "}),o.map(H=>s.jsx("option",{value:H.id,children:H.name},H.id))]})]}),s.jsxs("div",{className:ps.formGroup,children:[s.jsx("label",{children:""}),s.jsx("textarea",{value:S.notes,onChange:H=>j({...S,notes:H.target.value}),rows:4,className:ps.formTextarea,placeholder:" ..."})]})]}),s.jsxs("div",{className:ps.modalFooter,children:[s.jsx("button",{className:ps.cancelButton,onClick:()=>w(!1),children:""}),s.jsx("button",{className:ps.saveButton,onClick:R,disabled:N||!S.location,children:N?"...":""})]})]})})]})},j2t="_container_rmqw9_5",N2t="_loadingContainer_rmqw9_25",E2t="_header_rmqw9_43",k2t="_title_rmqw9_125",I2t="_createButton_rmqw9_141",D2t="_filtersSection_rmqw9_193",T2t="_searchForm_rmqw9_205",A2t="_searchInputGroup_rmqw9_213",M2t="_searchIcon_rmqw9_245",R2t="_searchInput_rmqw9_213",O2t="_filterToggle_rmqw9_289",B2t="_filtersPanel_rmqw9_341",L2t="_filterRow_rmqw9_363",$2t="_filterLabel_rmqw9_375",P2t="_filterSelect_rmqw9_387",F2t="_content_rmqw9_427",H2t="_inventoryList_rmqw9_437",z2t="_inventoryCard_rmqw9_449",V2t="_cardHeader_rmqw9_481",q2t="_cardHeaderLeft_rmqw9_497",U2t="_locationName_rmqw9_511",W2t="_locationIcon_rmqw9_523",Y2t="_badge_rmqw9_551",G2t="_statusDraft_rmqw9_571",Q2t="_statusInProgress_rmqw9_583",X2t="_statusCompleted_rmqw9_595",K2t="_statusCancelled_rmqw9_607",Z2t="_deleteButton_rmqw9_619",J2t="_spinner_rmqw9_677",ewt="_notes_rmqw9_703",twt="_stats_rmqw9_725",nwt="_statRow_rmqw9_745",swt="_statItem_rmqw9_755",awt="_statLabel_rmqw9_769",rwt="_statValue_rmqw9_781",iwt="_statMatch_rmqw9_793",owt="_statShortage_rmqw9_801",cwt="_statSurplus_rmqw9_809",lwt="_meta_rmqw9_817",uwt="_metaItem_rmqw9_833",dwt="_emptyState_rmqw9_861",hwt="_emptyIcon_rmqw9_883",fwt="_emptyButton_rmqw9_905",mwt="_pagination_rmqw9_955",pwt="_pageButton_rmqw9_975",gwt="_pageInfo_rmqw9_1033",_wt="_modalOverlay_rmqw9_1047",vwt="_modal_rmqw9_1047",xwt="_modalHeader_rmqw9_1117",bwt="_modalBody_rmqw9_1155",ywt="_formRow_rmqw9_1169",wwt="_formSelect_rmqw9_1195",Cwt="_formTextarea_rmqw9_1197",Swt="_modalFooter_rmqw9_1245",jwt="_cancelButton_rmqw9_1265",Nwt="_saveButton_rmqw9_1267",Vn={container:j2t,loadingContainer:N2t,header:E2t,title:k2t,createButton:I2t,filtersSection:D2t,searchForm:T2t,searchInputGroup:A2t,searchIcon:M2t,searchInput:R2t,filterToggle:O2t,filtersPanel:B2t,filterRow:L2t,filterLabel:$2t,filterSelect:P2t,content:F2t,inventoryList:H2t,inventoryCard:z2t,cardHeader:V2t,cardHeaderLeft:q2t,locationName:U2t,locationIcon:W2t,badge:Y2t,statusDraft:G2t,statusInProgress:Q2t,statusCompleted:X2t,statusCancelled:K2t,deleteButton:Z2t,spinner:J2t,notes:ewt,stats:twt,statRow:nwt,statItem:swt,statLabel:awt,statValue:rwt,statMatch:iwt,statShortage:owt,statSurplus:cwt,meta:lwt,metaItem:uwt,emptyState:dwt,emptyIcon:hwt,emptyButton:fwt,pagination:mwt,pageButton:pwt,pageInfo:gwt,modalOverlay:_wt,modal:vwt,modalHeader:xwt,modalBody:bwt,formRow:ywt,formSelect:wwt,formTextarea:Cwt,modalFooter:Swt,cancelButton:jwt,saveButton:Nwt},Ewt=()=>{const{business_slug:e}=fa(),t=Rs(),[n,a]=v.useState([]),[r,i]=v.useState(!0),[o,c]=v.useState([]),[l,d]=v.useState({status:"",location:"",search:""}),[f,g]=v.useState({page:1,page_size:20,total_pages:1,count:0}),[b,w]=v.useState(!1),[S,j]=v.useState({location:"",notes:""}),[N,I]=v.useState(!1),[M,B]=v.useState(null),[P,O]=v.useState(!1);v.useEffect(()=>{R(),$()},[e,l,f.page]);const R=async()=>{try{i(!0);const X={page:f.page,page_size:f.page_size,...l},te=await Re.get(`/api/business/${e}/inventory/`,{params:X});a(te.data.results||[]),g(se=>({...se,total_pages:te.data.total_pages||1,count:te.data.count||0}))}catch(X){console.error("  :",X)}finally{i(!1)}},$=async()=>{try{const X=await Re.get(`/api/business/${e}/locations/`);c(X.data||[])}catch(X){console.error("  :",X)}},U=async()=>{var X,te;if(!S.location){alert(" ");return}try{I(!0);const se=await Re.post(`/api/business/${e}/inventory/`,S);w(!1),j({location:"",notes:""}),t(`/business/${e}/inventory/${se.data.id}`)}catch(se){console.error("  :",se),alert(((te=(X=se.response)==null?void 0:X.data)==null?void 0:te.detail)||"  ")}finally{I(!1)}},F=X=>({draft:Vn.statusDraft,in_progress:Vn.statusInProgress,completed:Vn.statusCompleted,cancelled:Vn.statusCancelled})[X]||Vn.statusDraft,H=X=>X?Xn(X).format("DD.MM.YYYY HH:mm"):"",ne=async(X,te,se)=>{var V,q;if(X.stopPropagation(),!!window.confirm(" ,     ?"))try{B(te),await Re.delete(`/api/business/${e}/inventory/${te}/`),R()}catch(T){console.error("  :",T),alert(((q=(V=T.response)==null?void 0:V.data)==null?void 0:q.detail)||"  ")}finally{B(null)}};return r&&n.length===0?s.jsx("div",{className:Vn.loadingContainer,children:s.jsx(Wn,{size:"large"})}):s.jsxs("div",{className:Vn.container,children:[s.jsxs("div",{className:Vn.header,children:[s.jsx("h1",{className:Vn.title,children:""}),s.jsx("button",{className:Vn.createButton,onClick:()=>w(!0),children:s.jsx($a,{})})]}),s.jsxs("div",{className:Vn.filtersSection,children:[s.jsx("form",{onSubmit:X=>{X.preventDefault()},className:Vn.searchForm,children:s.jsxs("div",{className:Vn.searchInputGroup,children:[s.jsx(ri,{className:Vn.searchIcon}),s.jsx("input",{type:"text",placeholder:"    ...",value:l.search,onChange:X=>d({...l,search:X.target.value}),className:Vn.searchInput})]})}),s.jsxs("button",{className:Vn.filterToggle,onClick:()=>O(!P),children:[s.jsx(Gm,{})," ",P?" ":" ",P?s.jsx(Lo,{}):s.jsx(Bo,{})]}),P&&s.jsxs("div",{className:Vn.filtersPanel,children:[s.jsxs("div",{className:Vn.filterRow,children:[s.jsx("label",{className:Vn.filterLabel,children:""}),s.jsxs("select",{value:l.status,onChange:X=>d({...l,status:X.target.value}),className:Vn.filterSelect,children:[s.jsx("option",{value:"",children:" "}),s.jsx("option",{value:"draft",children:""}),s.jsx("option",{value:"in_progress",children:" "}),s.jsx("option",{value:"completed",children:""}),s.jsx("option",{value:"cancelled",children:""})]})]}),s.jsxs("div",{className:Vn.filterRow,children:[s.jsx("label",{className:Vn.filterLabel,children:""}),s.jsxs("select",{value:l.location,onChange:X=>d({...l,location:X.target.value}),className:Vn.filterSelect,children:[s.jsx("option",{value:"",children:" "}),o.map(X=>s.jsx("option",{value:X.id,children:X.name},X.id))]})]})]})]}),s.jsxs("div",{className:Vn.content,children:[s.jsxs("div",{className:Vn.inventoryList,children:[n.map(X=>s.jsxs("div",{className:Vn.inventoryCard,onClick:()=>t(`/business/${e}/inventory/${X.id}`),children:[s.jsxs("div",{className:Vn.cardHeader,children:[s.jsxs("div",{className:Vn.cardHeaderLeft,children:[s.jsxs("div",{className:Vn.locationName,children:[s.jsx(tj,{className:Vn.locationIcon}),s.jsx("h3",{children:X.location_name})]}),s.jsx("span",{className:`${Vn.badge} ${F(X.status)}`,children:X.status_display})]}),s.jsx("button",{className:Vn.deleteButton,onClick:te=>ne(te,X.id,X.status),disabled:M===X.id,title:" ",children:M===X.id?s.jsx(Mo,{className:Vn.spinner}):s.jsx(Cr,{})})]}),X.notes&&s.jsx("div",{className:Vn.notes,children:X.notes}),s.jsxs("div",{className:Vn.stats,children:[s.jsxs("div",{className:Vn.statRow,children:[s.jsxs("div",{className:Vn.statItem,children:[s.jsx("span",{className:Vn.statLabel,children:":"}),s.jsx("span",{className:Vn.statValue,children:X.total_items||0})]}),s.jsxs("div",{className:Vn.statItem,children:[s.jsx("span",{className:Vn.statLabel,children:":"}),s.jsx("span",{className:`${Vn.statValue} ${Vn.statMatch}`,children:X.matched_items||0})]})]}),s.jsxs("div",{className:Vn.statRow,children:[s.jsxs("div",{className:Vn.statItem,children:[s.jsx("span",{className:Vn.statLabel,children:":"}),s.jsx("span",{className:`${Vn.statValue} ${Vn.statShortage}`,children:X.shortage_items||0})]}),s.jsxs("div",{className:Vn.statItem,children:[s.jsx("span",{className:Vn.statLabel,children:":"}),s.jsx("span",{className:`${Vn.statValue} ${Vn.statSurplus}`,children:X.surplus_items||0})]})]}),X.total_difference!==0&&s.jsx("div",{className:Vn.statRow,children:s.jsxs("div",{className:Vn.statItem,children:[s.jsx("span",{className:Vn.statLabel,children:":"}),s.jsxs("span",{className:`${Vn.statValue} ${X.total_difference>0?Vn.statSurplus:Vn.statShortage}`,children:[X.total_difference>0?"+":"",X.total_difference]})]})})]}),s.jsxs("div",{className:Vn.meta,children:[s.jsxs("div",{className:Vn.metaItem,children:[s.jsx(Cg,{}),s.jsxs("span",{children:[": ",H(X.created_at)]})]}),X.started_at&&s.jsxs("div",{className:Vn.metaItem,children:[s.jsx(Cg,{}),s.jsxs("span",{children:[": ",H(X.started_at)]})]}),X.completed_at&&s.jsxs("div",{className:Vn.metaItem,children:[s.jsx(qr,{}),s.jsxs("span",{children:[": ",H(X.completed_at)]})]})]})]},X.id)),n.length===0&&!r&&s.jsxs("div",{className:Vn.emptyState,children:[s.jsx(tj,{className:Vn.emptyIcon}),s.jsx("p",{children:" "}),s.jsxs("button",{className:Vn.emptyButton,onClick:()=>w(!0),children:[s.jsx($a,{}),"  "]})]})]}),f.total_pages>1&&s.jsxs("div",{className:Vn.pagination,children:[s.jsx("button",{onClick:()=>g({...f,page:f.page-1}),disabled:f.page===1,className:Vn.pageButton,children:s.jsx(jl,{})}),s.jsxs("span",{className:Vn.pageInfo,children:[f.page," / ",f.total_pages]}),s.jsx("button",{onClick:()=>g({...f,page:f.page+1}),disabled:f.page>=f.total_pages,className:Vn.pageButton,children:s.jsx(Nl,{})})]})]}),b&&s.jsx("div",{className:Vn.modalOverlay,onClick:()=>w(!1),children:s.jsxs("div",{className:Vn.modal,onClick:X=>X.stopPropagation(),children:[s.jsxs("div",{className:Vn.modalHeader,children:[s.jsx("h2",{children:" "}),s.jsx(Ti,{onClick:()=>w(!1)})]}),s.jsxs("div",{className:Vn.modalBody,children:[s.jsx("div",{className:Vn.formRow,children:s.jsxs("label",{children:["/ *",s.jsxs("select",{value:S.location,onChange:X=>j({...S,location:X.target.value}),className:Vn.formSelect,children:[s.jsx("option",{value:"",children:" "}),o.map(X=>s.jsx("option",{value:X.id,children:X.name},X.id))]})]})}),s.jsx("div",{className:Vn.formRow,children:s.jsxs("label",{children:["",s.jsx("textarea",{value:S.notes,onChange:X=>j({...S,notes:X.target.value}),rows:4,className:Vn.formTextarea,placeholder:" ..."})]})})]}),s.jsxs("div",{className:Vn.modalFooter,children:[s.jsx("button",{className:Vn.cancelButton,onClick:()=>w(!1),children:""}),s.jsx("button",{className:Vn.saveButton,onClick:U,disabled:N||!S.location,children:N?"...":""})]})]})})]})},kwt="_container_x6jsn_30",Iwt="_header_x6jsn_51",Dwt="_backButton_x6jsn_67",Twt="_headerContent_x6jsn_92",Awt="_badge_x6jsn_112",Mwt="_statusDraft_x6jsn_123",Rwt="_statusIn_progress_x6jsn_129",Owt="_statusCompleted_x6jsn_135",Bwt="_statusCancelled_x6jsn_141",Lwt="_stats_x6jsn_147",$wt="_statCard_x6jsn_156",Pwt="_statLabel_x6jsn_189",Fwt="_statValue_x6jsn_198",Hwt="_statMatch_x6jsn_204",zwt="_statShortage_x6jsn_208",Vwt="_statSurplus_x6jsn_212",qwt="_actions_x6jsn_216",Uwt="_actionButton_x6jsn_225",Wwt="_actionButtonSuccess_x6jsn_226",Ywt="_scanSection_x6jsn_262",Gwt="_scanForm_x6jsn_273",Qwt="_scanInput_x6jsn_278",Xwt="_scanButton_x6jsn_301",Kwt="_filters_x6jsn_327",Zwt="_searchBar_x6jsn_343",Jwt="_searchInput_x6jsn_366",eCt="_filterSelect_x6jsn_409",tCt="_itemsList_x6jsn_438",nCt="_itemCard_x6jsn_445",sCt="_statusMatch_x6jsn_477",aCt="_statusShortage_x6jsn_481",rCt="_statusSurplus_x6jsn_485",iCt="_itemHeader_x6jsn_489",oCt="_itemImage_x6jsn_498",cCt="_itemInfo_x6jsn_509",lCt="_sku_x6jsn_520",uCt="_itemBody_x6jsn_526",dCt="_quantityRow_x6jsn_532",hCt="_quantityItem_x6jsn_538",fCt="_expectedQty_x6jsn_556",mCt="_countedQty_x6jsn_557",pCt="_quantityInput_x6jsn_563",gCt="_differenceQty_x6jsn_587",_Ct="_differenceShortage_x6jsn_593",vCt="_differenceSurplus_x6jsn_597",xCt="_itemNotes_x6jsn_619",bCt="_emptyState_x6jsn_629",yCt="_error_x6jsn_640",ls={container:kwt,header:Iwt,backButton:Dwt,headerContent:Twt,badge:Awt,statusDraft:Mwt,statusIn_progress:Rwt,statusCompleted:Owt,statusCancelled:Bwt,stats:Lwt,statCard:$wt,statLabel:Pwt,statValue:Fwt,statMatch:Hwt,statShortage:zwt,statSurplus:Vwt,actions:qwt,actionButton:Uwt,actionButtonSuccess:Wwt,scanSection:Ywt,scanForm:Gwt,scanInput:Qwt,scanButton:Xwt,filters:Kwt,searchBar:Zwt,searchInput:Jwt,filterSelect:eCt,itemsList:tCt,itemCard:nCt,statusMatch:sCt,statusShortage:aCt,statusSurplus:rCt,itemHeader:iCt,itemImage:oCt,itemInfo:cCt,sku:lCt,itemBody:uCt,quantityRow:dCt,quantityItem:hCt,expectedQty:fCt,countedQty:mCt,quantityInput:pCt,differenceQty:gCt,differenceShortage:_Ct,differenceSurplus:vCt,itemNotes:xCt,emptyState:bCt,error:yCt},wCt=()=>{const{business_slug:e,session_id:t}=fa(),n=Rs(),[a,r]=v.useState(null),[i,o]=v.useState([]),[c,l]=v.useState(!0),[d,f]=v.useState(""),[g,b]=v.useState(""),[w,S]=v.useState(""),[j,N]=v.useState(null),[I,M]=v.useState({}),B=v.useRef(null),{getFileUrl:P}=Ur();v.useEffect(()=>{O(),R()},[e,t]),v.useEffect(()=>{(a==null?void 0:a.status)==="in_progress"&&B.current&&B.current.focus()},[a==null?void 0:a.status]);const O=async()=>{var q,T;try{l(!0);const J=await Re.get(`/api/business/${e}/inventory/${t}/`);r(J.data)}catch(J){console.error("  :",J),alert(((T=(q=J.response)==null?void 0:q.data)==null?void 0:T.detail)||"  ")}finally{l(!1)}},R=async()=>{try{const q={};w&&(q.status=w),g&&(q.search=g);const T=await Re.get(`/api/business/${e}/inventory/${t}/items/`,{params:q});o(T.data||[])}catch(q){console.error("  :",q)}};v.useEffect(()=>{R()},[w,g]);const $=async()=>{var q,T;if(window.confirm(" ?        ."))try{await Re.post(`/api/business/${e}/inventory/${t}/start/`),O(),R(),B.current&&B.current.focus()}catch(J){console.error("  :",J),alert(((T=(q=J.response)==null?void 0:q.data)==null?void 0:T.detail)||"  ")}},U=async()=>{var q,T;if(window.confirm(" ?    ."))try{await Re.post(`/api/business/${e}/inventory/${t}/complete/`),O(),alert(" !  .")}catch(J){console.error("  :",J),alert(((T=(q=J.response)==null?void 0:q.data)==null?void 0:T.detail)||"  ")}},F=async q=>{var T,J;if(q.trim())try{const Z=await Re.get(`/api/business/${e}/locations/${a.location}/variants/`,{params:{sku:q.trim()}});if(Z.data.length===0){alert("   SKU     ");return}const A=Z.data[0];let Y=i.find(G=>G.variant_on_location===A.id);Y||(Y=(await Re.post(`/api/business/${e}/inventory/${t}/items/`,{variant_on_location:A.id,counted_quantity:0})).data,o([...i,Y]));const K=document.getElementById(`quantity-${Y.id}`);K&&(K.focus(),K.select())}catch(Z){console.error("  :",Z),alert(((J=(T=Z.response)==null?void 0:T.data)==null?void 0:J.detail)||"  ")}},H=q=>{q.preventDefault(),d.trim()&&(F(d),f(""))},ne=(q,T)=>{const J=i.find(K=>K.id===q),A=((J==null?void 0:J.unit_display)||".")===".";if(T===""||T===null){M(K=>({...K,[q]:""}));return}if(A&&T.includes(".")){const K=Math.floor(parseFloat(T)||0);M(G=>({...G,[q]:K.toString()}));return}const Y=parseFloat(T);!isNaN(Y)&&Y>=0&&M(K=>({...K,[q]:T}))},X=async q=>{var G,oe;const T=I[q],J=i.find(ee=>ee.id===q),A=((J==null?void 0:J.unit_display)||".")===".";let Y;if(T===""||T===null||T===void 0)Y=0;else if(A)Y=Math.max(0,Math.floor(parseFloat(T)||0));else{const ee=parseFloat(T)||0;ee<0?Y=0:Y=parseFloat(ee.toFixed(3))}M(ee=>{const ae={...ee};return delete ae[q],ae});const K=parseFloat((J==null?void 0:J.counted_quantity)||0);if(!(J&&Math.abs(K-Y)<.001)){N(q);try{let ee;if(A)ee=Y;else if(T!==""&&T!==null&&T!==void 0){const ie=parseFloat(T);!isNaN(ie)&&ie>=0?ee=ie.toFixed(3):ee=Y.toFixed(3)}else ee=Y.toFixed(3);const ae=await Re.patch(`/api/business/${e}/inventory/${t}/items/${q}/`,{counted_quantity:ee});o(i.map(ie=>ie.id===q?ae.data:ie)),B.current&&setTimeout(()=>B.current.focus(),100)}catch(ee){console.error("  :",ee),alert(((oe=(G=ee.response)==null?void 0:G.data)==null?void 0:oe.detail)||"  ")}finally{N(null)}}},te=q=>({match:ls.statusMatch,shortage:ls.statusShortage,surplus:ls.statusSurplus})[q]||ls.statusMatch;if(c)return s.jsx(Wn,{});if(!a)return s.jsxs("div",{className:ls.container,children:[s.jsx("div",{className:ls.error,children:"   "}),s.jsx("button",{className:ls.backButton,onClick:()=>n(`/business/${e}/inventory`),children:"  "})]});const se=a.status==="draft"||a.status==="in_progress",V=a.status==="in_progress";return s.jsxs("div",{className:ls.container,children:[s.jsxs("div",{className:ls.header,children:[s.jsxs("button",{className:ls.backButton,onClick:()=>n(`/business/${e}/inventory`),children:[s.jsx(hm,{})," "]}),s.jsxs("div",{className:ls.headerContent,children:[s.jsx("h1",{children:a.location_name}),s.jsx("span",{className:`${ls.badge} ${ls[`status${a.status.charAt(0).toUpperCase()+a.status.slice(1)}`]}`,children:a.status_display})]})]}),s.jsxs("div",{className:ls.stats,children:[s.jsxs("div",{className:ls.statCard,children:[s.jsx("div",{className:ls.statLabel,children:" "}),s.jsx("div",{className:ls.statValue,children:a.total_items||0})]}),s.jsxs("div",{className:ls.statCard,children:[s.jsx("div",{className:ls.statLabel,children:""}),s.jsx("div",{className:`${ls.statValue} ${ls.statMatch}`,children:a.matched_items||0})]}),s.jsxs("div",{className:ls.statCard,children:[s.jsx("div",{className:ls.statLabel,children:""}),s.jsx("div",{className:`${ls.statValue} ${ls.statShortage}`,children:a.shortage_items||0})]}),s.jsxs("div",{className:ls.statCard,children:[s.jsx("div",{className:ls.statLabel,children:""}),s.jsx("div",{className:`${ls.statValue} ${ls.statSurplus}`,children:a.surplus_items||0})]}),a.total_difference!==0&&s.jsxs("div",{className:ls.statCard,children:[s.jsx("div",{className:ls.statLabel,children:" "}),s.jsxs("div",{className:`${ls.statValue} ${a.total_difference>0?ls.statSurplus:ls.statShortage}`,children:[a.total_difference>0?"+":"",a.total_difference]})]})]}),a.status==="draft"&&s.jsx("div",{className:ls.actions,children:s.jsxs("button",{className:ls.actionButton,onClick:$,children:[s.jsx(VR,{}),"  "]})}),V&&s.jsx("div",{className:ls.actions,children:s.jsxs("button",{className:ls.actionButtonSuccess,onClick:U,children:[s.jsx(qr,{}),"  "]})}),V&&s.jsx("div",{className:ls.scanSection,children:s.jsxs("form",{onSubmit:H,className:ls.scanForm,children:[s.jsx("input",{ref:B,type:"text",value:d,onChange:q=>f(q.target.value),placeholder:"    SKU...",className:ls.scanInput,autoFocus:!0}),s.jsxs("button",{type:"submit",className:ls.scanButton,children:[s.jsx(ri,{})," "]})]})}),s.jsxs("div",{className:ls.filters,children:[s.jsx("div",{className:ls.searchBar,children:s.jsxs("form",{onSubmit:q=>{q.preventDefault()},children:[s.jsx("input",{type:"text",placeholder:"    SKU...",value:g,onChange:q=>b(q.target.value),className:ls.searchInput}),s.jsx("button",{type:"submit",children:s.jsx(ri,{})})]})}),s.jsxs("select",{value:w,onChange:q=>S(q.target.value),className:ls.filterSelect,children:[s.jsx("option",{value:"",children:" "}),s.jsx("option",{value:"match",children:""}),s.jsx("option",{value:"shortage",children:""}),s.jsx("option",{value:"surplus",children:""})]})]}),s.jsxs("div",{className:ls.itemsList,children:[i.map(q=>{var T;return s.jsxs("div",{className:`${ls.itemCard} ${te(q.status)}`,children:[s.jsxs("div",{className:ls.itemHeader,children:[((T=q.main_image)==null?void 0:T.image)&&s.jsx("img",{src:P(q.main_image.image),alt:q.variant_name||q.product_name,className:ls.itemImage,onError:J=>{J.target.style.display="none"}}),s.jsxs("div",{className:ls.itemInfo,children:[s.jsx("h3",{children:q.variant_name||q.product_name}),q.variant_sku&&s.jsxs("span",{className:ls.sku,children:["SKU: ",q.variant_sku]})]}),s.jsx("span",{className:`${ls.badge} ${te(q.status)}`,children:q.status_display})]}),s.jsxs("div",{className:ls.itemBody,children:[s.jsxs("div",{className:ls.quantityRow,children:[s.jsxs("div",{className:ls.quantityItem,children:[s.jsx("label",{children:":"}),s.jsxs("span",{className:ls.expectedQty,children:[q.expected_quantity," ",q.unit_display||"."]})]}),s.jsxs("div",{className:ls.quantityItem,children:[s.jsx("label",{children:":"}),se?(()=>{const J=q.unit_display||".",Z=J===".",A=Z?1:.5;return s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"4px"},children:[s.jsx("input",{id:`quantity-${q.id}`,type:"number",min:0,step:A,value:I[q.id]!==void 0?I[q.id]:q.counted_quantity!==null&&q.counted_quantity!==void 0?Z?Math.floor(parseFloat(q.counted_quantity)):parseFloat(q.counted_quantity):0,onChange:K=>ne(q.id,K.target.value),onBlur:()=>X(q.id),className:ls.quantityInput,disabled:j===q.id}),s.jsx("span",{style:{fontSize:"0.9em",color:"var(--silver-whisper)"},children:J})]})})():s.jsxs("span",{className:ls.countedQty,children:[q.counted_quantity||0," ",q.unit_display||"."]})]}),s.jsxs("div",{className:ls.quantityItem,children:[s.jsx("label",{children:":"}),s.jsxs("span",{className:`${ls.differenceQty} ${q.difference>0?ls.differenceSurplus:q.difference<0?ls.differenceShortage:""}`,children:[q.difference>0?"+":"",q.difference," ",q.unit_display||"."]})]})]}),q.notes&&s.jsxs("div",{className:ls.itemNotes,children:[s.jsx("strong",{children:":"})," ",q.notes]})]})]},q.id)}),i.length===0&&s.jsx("div",{className:ls.emptyState,children:a.status==="draft"?' " "   ':"   "})]})]})},CCt="_container_demt1_3",SCt="_loadingContainer_demt1_13",jCt="_header_demt1_22",NCt="_backButton_demt1_38",ECt="_headerContent_demt1_63",kCt="_title_demt1_70",ICt="_badge_demt1_79",DCt="_statusDraft_demt1_89",TCt="_statusIn_progress_demt1_95",ACt="_statusCompleted_demt1_101",MCt="_statusCancelled_demt1_107",RCt="_stats_demt1_114",OCt="_statCard_demt1_123",BCt="_statLabel_demt1_134",LCt="_statValue_demt1_141",$Ct="_statMatch_demt1_147",PCt="_statShortage_demt1_151",FCt="_statSurplus_demt1_155",HCt="_actions_demt1_160",zCt="_actionButton_demt1_166",VCt="_actionButtonSuccess_demt1_167",qCt="_scanSection_demt1_199",UCt="_scanForm_demt1_205",WCt="_scanInput_demt1_211",YCt="_scanButton_demt1_234",GCt="_filtersSection_demt1_258",QCt="_searchForm_demt1_264",XCt="_searchInputGroup_demt1_268",KCt="_searchIcon_demt1_284",ZCt="_searchInput_demt1_268",JCt="_filterToggle_demt1_306",eSt="_filtersPanel_demt1_332",tSt="_filterRow_demt1_343",nSt="_filterLabel_demt1_349",sSt="_filterSelect_demt1_355",aSt="_content_demt1_375",rSt="_itemsList_demt1_380",iSt="_itemCard_demt1_386",oSt="_statusMatch_demt1_394",cSt="_statusShortage_demt1_398",lSt="_statusSurplus_demt1_402",uSt="_itemHeader_demt1_406",dSt="_itemImage_demt1_414",hSt="_itemInfo_demt1_425",fSt="_sku_demt1_440",mSt="_itemBody_demt1_446",pSt="_quantityRow_demt1_452",gSt="_quantityItem_demt1_461",_St="_expectedQty_demt1_475",vSt="_countedQty_demt1_476",xSt="_quantityInputWrapper_demt1_482",bSt="_quantityInput_demt1_482",ySt="_unitDisplay_demt1_516",wSt="_updateSpinner_demt1_522",CSt="_spin_demt1_1",SSt="_differenceQty_demt1_537",jSt="_differenceSurplus_demt1_542",NSt="_differenceShortage_demt1_546",ESt="_itemNotes_demt1_550",kSt="_emptyState_demt1_582",ISt="_emptyIcon_demt1_593",DSt="_error_demt1_604",qn={container:CCt,loadingContainer:SCt,header:jCt,backButton:NCt,headerContent:ECt,title:kCt,badge:ICt,statusDraft:DCt,statusIn_progress:TCt,statusCompleted:ACt,statusCancelled:MCt,stats:RCt,statCard:OCt,statLabel:BCt,statValue:LCt,statMatch:$Ct,statShortage:PCt,statSurplus:FCt,actions:HCt,actionButton:zCt,actionButtonSuccess:VCt,scanSection:qCt,scanForm:UCt,scanInput:WCt,scanButton:YCt,filtersSection:GCt,searchForm:QCt,searchInputGroup:XCt,searchIcon:KCt,searchInput:ZCt,filterToggle:JCt,filtersPanel:eSt,filterRow:tSt,filterLabel:nSt,filterSelect:sSt,content:aSt,itemsList:rSt,itemCard:iSt,statusMatch:oSt,statusShortage:cSt,statusSurplus:lSt,itemHeader:uSt,itemImage:dSt,itemInfo:hSt,sku:fSt,itemBody:mSt,quantityRow:pSt,quantityItem:gSt,expectedQty:_St,countedQty:vSt,quantityInputWrapper:xSt,quantityInput:bSt,unitDisplay:ySt,updateSpinner:wSt,spin:CSt,differenceQty:SSt,differenceSurplus:jSt,differenceShortage:NSt,itemNotes:ESt,emptyState:kSt,emptyIcon:ISt,error:DSt},TSt=()=>{const{business_slug:e,session_id:t}=fa();Rs();const[n,a]=v.useState(null),[r,i]=v.useState([]),[o,c]=v.useState(!0),[l,d]=v.useState(""),[f,g]=v.useState(""),[b,w]=v.useState(""),[S,j]=v.useState(null),[N,I]=v.useState({}),[M,B]=v.useState(!1),P=v.useRef(null),{getFileUrl:O}=Ur();v.useEffect(()=>{R(),$()},[e,t]),v.useEffect(()=>{(n==null?void 0:n.status)==="in_progress"&&P.current&&P.current.focus()},[n==null?void 0:n.status]),v.useEffect(()=>{$()},[b,f]);const R=async()=>{var T,J;try{c(!0);const Z=await Re.get(`/api/business/${e}/inventory/${t}/`);a(Z.data)}catch(Z){console.error("  :",Z),alert(((J=(T=Z.response)==null?void 0:T.data)==null?void 0:J.detail)||"  ")}finally{c(!1)}},$=async()=>{try{const T={};b&&(T.status=b),f&&(T.search=f);const J=await Re.get(`/api/business/${e}/inventory/${t}/items/`,{params:T});i(J.data||[])}catch(T){console.error("  :",T)}},U=async()=>{var T,J;if(window.confirm(" ?        ."))try{await Re.post(`/api/business/${e}/inventory/${t}/start/`),R(),$(),P.current&&P.current.focus()}catch(Z){console.error("  :",Z),alert(((J=(T=Z.response)==null?void 0:T.data)==null?void 0:J.detail)||"  ")}},F=async()=>{var T,J;if(window.confirm(" ?    ."))try{await Re.post(`/api/business/${e}/inventory/${t}/complete/`),R(),alert(" !  .")}catch(Z){console.error("  :",Z),alert(((J=(T=Z.response)==null?void 0:T.data)==null?void 0:J.detail)||"  ")}},H=async T=>{var J,Z;if(T.trim())try{const A=await Re.get(`/api/business/${e}/locations/${n.location}/variants/`,{params:{sku:T.trim()}});if(A.data.length===0){alert("   SKU     ");return}const Y=A.data[0];let K=r.find(oe=>oe.variant_on_location===Y.id);K||(K=(await Re.post(`/api/business/${e}/inventory/${t}/items/`,{variant_on_location:Y.id,counted_quantity:0})).data,i([...r,K]));const G=document.getElementById(`quantity-${K.id}`);G&&(G.focus(),G.select())}catch(A){console.error("  :",A),alert(((Z=(J=A.response)==null?void 0:J.data)==null?void 0:Z.detail)||"  ")}},ne=T=>{T.preventDefault(),l.trim()&&(H(l),d(""))},X=(T,J)=>{const Z=r.find(G=>G.id===T),Y=((Z==null?void 0:Z.unit_display)||".")===".";if(J===""||J===null){I(G=>({...G,[T]:""}));return}if(Y&&J.includes(".")){const G=Math.floor(parseFloat(J)||0);I(oe=>({...oe,[T]:G.toString()}));return}const K=parseFloat(J);!isNaN(K)&&K>=0&&I(G=>({...G,[T]:J}))},te=async T=>{var oe,ee;const J=N[T],Z=r.find(ae=>ae.id===T),Y=((Z==null?void 0:Z.unit_display)||".")===".";let K;if(J===""||J===null||J===void 0)K=0;else if(Y)K=Math.max(0,Math.floor(parseFloat(J)||0));else{const ae=parseFloat(J)||0;ae<0?K=0:K=parseFloat(ae.toFixed(3))}I(ae=>{const ie={...ae};return delete ie[T],ie});const G=parseFloat((Z==null?void 0:Z.counted_quantity)||0);if(!(Z&&Math.abs(G-K)<.001)){j(T);try{let ae;if(Y)ae=K;else if(J!==""&&J!==null&&J!==void 0){const ue=parseFloat(J);!isNaN(ue)&&ue>=0?ae=ue.toFixed(3):ae=K.toFixed(3)}else ae=K.toFixed(3);const ie=await Re.patch(`/api/business/${e}/inventory/${t}/items/${T}/`,{counted_quantity:ae});i(r.map(ue=>ue.id===T?ie.data:ue)),P.current&&setTimeout(()=>P.current.focus(),100)}catch(ae){console.error("  :",ae),alert(((ee=(oe=ae.response)==null?void 0:oe.data)==null?void 0:ee.detail)||"  ")}finally{j(null)}}},se=T=>({match:qn.statusMatch,shortage:qn.statusShortage,surplus:qn.statusSurplus})[T]||qn.statusMatch;if(o)return s.jsx("div",{className:qn.loadingContainer,children:s.jsx(Wn,{size:"large"})});if(!n)return s.jsxs("div",{className:qn.container,children:[s.jsxs("div",{className:qn.header,children:[s.jsx("h1",{className:qn.title,children:""}),s.jsx("div",{style:{width:"44px"}})]}),s.jsx("div",{className:qn.content,children:s.jsx("div",{className:qn.error,children:"   "})})]});const V=n.status==="draft"||n.status==="in_progress",q=n.status==="in_progress";return s.jsxs("div",{className:qn.container,children:[s.jsxs("div",{className:qn.header,children:[s.jsxs("div",{className:qn.headerContent,children:[s.jsx("h1",{className:qn.title,children:n.location_name}),s.jsx("span",{className:`${qn.badge} ${qn[`status${n.status.charAt(0).toUpperCase()+n.status.slice(1)}`]}`,children:n.status_display})]}),s.jsx("div",{style:{width:"44px"}})]}),s.jsxs("div",{className:qn.stats,children:[s.jsxs("div",{className:qn.statCard,children:[s.jsx("div",{className:qn.statLabel,children:""}),s.jsx("div",{className:qn.statValue,children:n.total_items||0})]}),s.jsxs("div",{className:qn.statCard,children:[s.jsx("div",{className:qn.statLabel,children:""}),s.jsx("div",{className:`${qn.statValue} ${qn.statMatch}`,children:n.matched_items||0})]}),s.jsxs("div",{className:qn.statCard,children:[s.jsx("div",{className:qn.statLabel,children:""}),s.jsx("div",{className:`${qn.statValue} ${qn.statShortage}`,children:n.shortage_items||0})]}),s.jsxs("div",{className:qn.statCard,children:[s.jsx("div",{className:qn.statLabel,children:""}),s.jsx("div",{className:`${qn.statValue} ${qn.statSurplus}`,children:n.surplus_items||0})]}),n.total_difference!==0&&s.jsxs("div",{className:qn.statCard,children:[s.jsx("div",{className:qn.statLabel,children:""}),s.jsxs("div",{className:`${qn.statValue} ${n.total_difference>0?qn.statSurplus:qn.statShortage}`,children:[n.total_difference>0?"+":"",n.total_difference]})]})]}),n.status==="draft"&&s.jsx("div",{className:qn.actions,children:s.jsxs("button",{className:qn.actionButton,onClick:U,children:[s.jsx(VR,{}),"  "]})}),q&&s.jsx("div",{className:qn.actions,children:s.jsxs("button",{className:qn.actionButtonSuccess,onClick:F,children:[s.jsx(qr,{}),"  "]})}),q&&s.jsx("div",{className:qn.scanSection,children:s.jsxs("form",{onSubmit:ne,className:qn.scanForm,children:[s.jsx("input",{ref:P,type:"text",value:l,onChange:T=>d(T.target.value),placeholder:"    SKU...",className:qn.scanInput,autoFocus:!0}),s.jsx("button",{type:"submit",className:qn.scanButton,children:s.jsx(ri,{})})]})}),s.jsxs("div",{className:qn.filtersSection,children:[s.jsx("form",{onSubmit:T=>{T.preventDefault()},className:qn.searchForm,children:s.jsxs("div",{className:qn.searchInputGroup,children:[s.jsx(ri,{className:qn.searchIcon}),s.jsx("input",{type:"text",placeholder:"    SKU...",value:f,onChange:T=>g(T.target.value),className:qn.searchInput})]})}),s.jsxs("button",{className:qn.filterToggle,onClick:()=>B(!M),children:[s.jsx(Gm,{})," ",M?" ":" ",M?s.jsx(Lo,{}):s.jsx(Bo,{})]}),M&&s.jsx("div",{className:qn.filtersPanel,children:s.jsxs("div",{className:qn.filterRow,children:[s.jsx("label",{className:qn.filterLabel,children:""}),s.jsxs("select",{value:b,onChange:T=>w(T.target.value),className:qn.filterSelect,children:[s.jsx("option",{value:"",children:" "}),s.jsx("option",{value:"match",children:""}),s.jsx("option",{value:"shortage",children:""}),s.jsx("option",{value:"surplus",children:""})]})]})})]}),s.jsx("div",{className:qn.content,children:s.jsxs("div",{className:qn.itemsList,children:[r.map(T=>{var J;return s.jsxs("div",{className:`${qn.itemCard} ${se(T.status)}`,children:[s.jsxs("div",{className:qn.itemHeader,children:[((J=T.main_image)==null?void 0:J.image)&&s.jsx("img",{src:O(T.main_image.image),alt:T.variant_name||T.product_name,className:qn.itemImage,onError:Z=>{Z.target.style.display="none"}}),s.jsxs("div",{className:qn.itemInfo,children:[s.jsx("h3",{children:T.variant_name||T.product_name}),T.variant_sku&&s.jsxs("span",{className:qn.sku,children:["SKU: ",T.variant_sku]})]}),s.jsx("span",{className:`${qn.badge} ${se(T.status)}`,children:T.status_display})]}),s.jsxs("div",{className:qn.itemBody,children:[s.jsxs("div",{className:qn.quantityRow,children:[s.jsxs("div",{className:qn.quantityItem,children:[s.jsx("label",{children:":"}),s.jsxs("span",{className:qn.expectedQty,children:[T.expected_quantity," ",T.unit_display||"."]})]}),s.jsxs("div",{className:qn.quantityItem,children:[s.jsx("label",{children:":"}),V?(()=>{const Z=T.unit_display||".",A=Z===".",Y=A?1:.5;return s.jsxs("div",{className:qn.quantityInputWrapper,children:[s.jsx("input",{id:`quantity-${T.id}`,type:"number",min:0,step:Y,value:N[T.id]!==void 0?N[T.id]:T.counted_quantity!==null&&T.counted_quantity!==void 0?A?Math.floor(parseFloat(T.counted_quantity)):parseFloat(T.counted_quantity):0,onChange:K=>X(T.id,K.target.value),onBlur:()=>te(T.id),className:qn.quantityInput,disabled:S===T.id}),s.jsx("span",{className:qn.unitDisplay,children:Z}),S===T.id&&s.jsx(Mo,{className:qn.updateSpinner})]})})():s.jsxs("span",{className:qn.countedQty,children:[T.counted_quantity||0," ",T.unit_display||"."]})]}),s.jsxs("div",{className:qn.quantityItem,children:[s.jsx("label",{children:":"}),s.jsxs("span",{className:`${qn.differenceQty} ${T.difference>0?qn.differenceSurplus:T.difference<0?qn.differenceShortage:""}`,children:[T.difference>0?"+":"",T.difference," ",T.unit_display||"."]})]})]}),T.notes&&s.jsxs("div",{className:qn.itemNotes,children:[s.jsx("strong",{children:":"})," ",T.notes]})]})]},T.id)}),r.length===0&&s.jsxs("div",{className:qn.emptyState,children:[s.jsx(tj,{className:qn.emptyIcon}),s.jsx("p",{children:n.status==="draft"?' " "   ':"   "})]})]})})]})},ASt="_container_riy4f_1",MSt="_content_riy4f_15",RSt="_title_riy4f_35",OSt="_lastUpdated_riy4f_51",BSt="_section_riy4f_65",LSt="_sectionTitle_riy4f_73",$St="_list_riy4f_103",PSt="_link_riy4f_149",FSt="_backLink_riy4f_171",HSt="_linkButton_riy4f_185",Ma={container:ASt,content:MSt,title:RSt,lastUpdated:OSt,section:BSt,sectionTitle:LSt,list:$St,link:PSt,backLink:FSt,linkButton:HSt},zSt=()=>s.jsx("div",{className:Ma.container,children:s.jsxs("div",{className:Ma.content,children:[s.jsx("h1",{className:Ma.title,children:" "}),s.jsxs("p",{className:Ma.lastUpdated,children:[" : ",new Date().toLocaleDateString("ru-RU")]}),s.jsxs("section",{className:Ma.section,children:[s.jsx("h2",{className:Ma.sectionTitle,children:"1.  "}),s.jsx("p",{children:"           - VendorVillage (  ).  ,       ."})]}),s.jsxs("section",{className:Ma.section,children:[s.jsx("h2",{className:Ma.sectionTitle,children:"2.   "}),s.jsx("p",{children:"     :"}),s.jsxs("ul",{className:Ma.list,children:[s.jsx("li",{children:"    (email, )"}),s.jsx("li",{children:"   (,    )"}),s.jsx("li",{children:"    "}),s.jsx("li",{children:"  (IP-,  ,  )"}),s.jsx("li",{children:"   (  )"})]})]}),s.jsxs("section",{className:Ma.section,children:[s.jsx("h2",{className:Ma.sectionTitle,children:"3.    "}),s.jsx("p",{children:"     :"}),s.jsxs("ul",{className:Ma.list,children:[s.jsx("li",{children:"    "}),s.jsx("li",{children:"   "}),s.jsx("li",{children:"      "}),s.jsx("li",{children:"      "}),s.jsx("li",{children:"  "}),s.jsx("li",{children:"  (  )"})]})]}),s.jsxs("section",{className:Ma.section,children:[s.jsx("h2",{className:Ma.sectionTitle,children:"4.   "}),s.jsx("p",{children:"     :"}),s.jsxs("ul",{className:Ma.list,children:[s.jsx("li",{children:"   "}),s.jsx("li",{children:" ,      "}),s.jsx("li",{children:"    "})]})]}),s.jsxs("section",{className:Ma.section,children:[s.jsx("h2",{className:Ma.sectionTitle,children:"5.    "}),s.jsx("p",{children:"     ,     ,    ,    .          ."})]}),s.jsxs("section",{className:Ma.section,children:[s.jsx("h2",{className:Ma.sectionTitle,children:"6.    "}),s.jsx("p",{children:"            , , , , , , ,      :"}),s.jsxs("ul",{className:Ma.list,children:[s.jsx("li",{children:"   "}),s.jsx("li",{children:"   "}),s.jsx("li",{children:"    "}),s.jsx("li",{children:"   "}),s.jsx("li",{children:"     "})]})]}),s.jsxs("section",{className:Ma.section,children:[s.jsx("h2",{className:Ma.sectionTitle,children:"7.     "}),s.jsx("p",{children:"      ,   :"}),s.jsxs("ul",{className:Ma.list,children:[s.jsx("li",{children:"      (,  )"}),s.jsx("li",{children:"    "}),s.jsx("li",{children:"   "})]})]}),s.jsxs("section",{className:Ma.section,children:[s.jsx("h2",{className:Ma.sectionTitle,children:"8.   cookie"}),s.jsxs("p",{children:["   cookie    ,     .     cookie   ",s.jsx(Ea,{to:"/privacy#cookies",className:Ma.link,children:"   cookie"}),"."]})]}),s.jsxs("section",{className:Ma.section,children:[s.jsx("h2",{className:Ma.sectionTitle,children:"9.    "}),s.jsx("p",{children:"  :"}),s.jsxs("ul",{className:Ma.list,children:[s.jsx("li",{children:"     "}),s.jsx("li",{children:" ,     "}),s.jsx("li",{children:"     "}),s.jsx("li",{children:"           "})]})]}),s.jsxs("section",{className:Ma.section,children:[s.jsx("h2",{className:Ma.sectionTitle,children:"10.  "}),s.jsxs("p",{children:["  ,     ,       : ",s.jsx("a",{href:"mailto:privacy@vendorvillage.ru",className:Ma.link,children:"privacy@vendorvillage.ru"})]})]}),s.jsxs("section",{className:Ma.section,children:[s.jsx("h2",{className:Ma.sectionTitle,children:"11.    "}),s.jsx("p",{children:"          .           .          ."})]}),s.jsx("div",{className:Ma.backLink,children:s.jsx(Ea,{to:"/",className:Ma.linkButton,children:"  "})})]})}),VSt="_cookieBanner_9cw1s_1",qSt="_cookieContent_9cw1s_25",USt="_cookieIcon_9cw1s_34",WSt="_cookieText_9cw1s_59",YSt="_cookieTitle_9cw1s_64",GSt="_cookieDescription_9cw1s_71",QSt="_cookieLink_9cw1s_78",XSt="_cookieActions_9cw1s_90",KSt="_cookieButton_9cw1s_97",ZSt="_acceptButton_9cw1s_108",JSt="_declineButton_9cw1s_118",ejt="_closeButton_9cw1s_129",Yo={cookieBanner:VSt,cookieContent:qSt,cookieIcon:USt,cookieText:WSt,cookieTitle:YSt,cookieDescription:GSt,cookieLink:QSt,cookieActions:XSt,cookieButton:KSt,acceptButton:ZSt,declineButton:JSt,closeButton:ejt},tjt=()=>{const[e,t]=v.useState(!1);v.useEffect(()=>{const i=localStorage.getItem("cookieConsent"),o=localStorage.getItem("cookieConsentDismissed");if(i==="accepted"||i==="declined")return;if(o){const l=new Date(o);if((new Date-l)/(1e3*60*60)<24)return}const c=setTimeout(()=>{t(!0)},1e3);return()=>clearTimeout(c)},[]);const n=()=>{localStorage.setItem("cookieConsent","accepted"),localStorage.setItem("cookieConsentDate",new Date().toISOString()),localStorage.removeItem("cookieConsentDismissed"),t(!1)},a=()=>{localStorage.setItem("cookieConsent","declined"),localStorage.setItem("cookieConsentDate",new Date().toISOString()),localStorage.removeItem("cookieConsentDismissed"),t(!1)},r=()=>{t(!1),localStorage.setItem("cookieConsentDismissed",new Date().toISOString())};return e?s.jsx("div",{className:Yo.cookieBanner,children:s.jsxs("div",{className:Yo.cookieContent,children:[s.jsx("div",{className:Yo.cookieIcon,children:""}),s.jsxs("div",{className:Yo.cookieText,children:[s.jsx("h3",{className:Yo.cookieTitle,children:"   cookie"}),s.jsxs("p",{className:Yo.cookieDescription,children:["   cookie    ,     .    ,     cookie.   "," ",s.jsx(Ea,{to:"/privacy",className:Yo.cookieLink,children:" "}),"."]})]}),s.jsxs("div",{className:Yo.cookieActions,children:[s.jsx("button",{onClick:n,className:`${Yo.cookieButton} ${Yo.acceptButton}`,children:""}),s.jsx("button",{onClick:a,className:`${Yo.cookieButton} ${Yo.declineButton}`,children:""}),s.jsx("button",{onClick:r,className:Yo.closeButton,"aria-label":"",children:s.jsx(aa,{})})]})]})}):null},njt="_container_1wg1j_1",sjt="_header_1wg1j_8",ajt="_exportButton_1wg1j_25",rjt="_error_1wg1j_43",ijt="_filters_1wg1j_52",ojt="_filterGroup_1wg1j_64",cjt="_tableContainer_1wg1j_89",ljt="_table_1wg1j_89",ujt="_empty_1wg1j_125",djt="_userCell_1wg1j_131",hjt="_typeCell_1wg1j_138",fjt="_accrual_1wg1j_148",mjt="_redemption_1wg1j_153",pjt="_expiry_1wg1j_158",gjt="_adjustment_1wg1j_163",_jt="_amountCell_1wg1j_168",vjt="_positive_1wg1j_173",xjt="_negative_1wg1j_177",bjt="_descriptionCell_1wg1j_181",yjt="_receiptLink_1wg1j_188",wjt="_pagination_1wg1j_202",Cjt="_paginationButton_1wg1j_213",Sjt="_paginationInfo_1wg1j_240",jjt="_paginationCount_1wg1j_249",Njt="_tabs_1wg1j_256",Ejt="_tab_1wg1j_89",kjt="_activeTab_1wg1j_285",Ijt="_userSearch_1wg1j_292",Djt="_searchInputWrapper_1wg1j_296",Tjt="_searchIcon_1wg1j_301",Ajt="_searchInput_1wg1j_296",Mjt="_balanceCell_1wg1j_328",Rjt="_tierBadge_1wg1j_334",Ojt="_noTier_1wg1j_344",Bjt="_bonusPercent_1wg1j_354",$s={container:njt,header:sjt,exportButton:ajt,error:rjt,filters:ijt,filterGroup:ojt,tableContainer:cjt,table:ljt,empty:ujt,userCell:djt,typeCell:hjt,accrual:fjt,redemption:mjt,expiry:pjt,adjustment:gjt,amountCell:_jt,positive:vjt,negative:xjt,descriptionCell:bjt,receiptLink:yjt,pagination:wjt,paginationButton:Cjt,paginationInfo:Sjt,paginationCount:jjt,tabs:Njt,tab:Ejt,activeTab:kjt,userSearch:Ijt,searchInputWrapper:Djt,searchIcon:Tjt,searchInput:Ajt,balanceCell:Mjt,tierBadge:Rjt,noTier:Ojt,bonusPercent:Bjt},Ljt=()=>{const{business_slug:e}=fa(),t=Rs(),[n,a]=v.useState("transactions"),[r,i]=v.useState([]),[o,c]=v.useState([]),[l,d]=v.useState(!0),[f,g]=v.useState(null),[b,w]=v.useState([]),[S,j]=v.useState({location:"",transaction_type:"",start_date:"",end_date:"",user_id:""}),[N,I]=v.useState(""),[M,B]=v.useState({page:1,page_size:20,total_pages:1,count:0,has_next:!1,has_previous:!1}),[P,O]=v.useState({page:1,page_size:20,total_pages:1,count:0,has_next:!1,has_previous:!1});v.useEffect(()=>{R()},[e]),v.useEffect(()=>{n==="transactions"?(B(V=>({...V,page:1})),$(1)):n==="users"&&(O(V=>({...V,page:1})),U(1))},[e,S,n]),v.useEffect(()=>{if(n==="users"){const V=setTimeout(()=>{O(q=>({...q,page:1})),U(1)},500);return()=>clearTimeout(V)}},[N]);const R=async()=>{try{const V=await Re.get(`api/business/${e}/locations/`);w(V.data)}catch(V){console.error("  :",V)}},$=async(V=1)=>{var q,T;try{d(!0);const J={page:V,page_size:M.page_size};S.location&&(J.location=S.location),S.transaction_type&&(J.transaction_type=S.transaction_type),S.start_date&&(J.start_date=S.start_date),S.end_date&&(J.end_date=S.end_date),S.user_id&&(J.user_id=S.user_id);const Z=await Re.get(`api/business/${e}/bonus-history/`,{params:J});i(Z.data.results||[]),B({page:Z.data.page||V,page_size:Z.data.page_size||M.page_size,total_pages:Z.data.total_pages||1,count:Z.data.count||0,has_next:Z.data.has_next||!1,has_previous:Z.data.has_previous||!1}),g(null)}catch(J){console.error("  :",J),g(((T=(q=J.response)==null?void 0:q.data)==null?void 0:T.error)||"   ")}finally{d(!1)}},U=async(V=1)=>{var q,T;try{d(!0);const J={page:V,page_size:P.page_size};N&&(J.search=N);const Z=await Re.get(`api/business/${e}/bonus-users/`,{params:J});c(Z.data.results||[]),O({page:Z.data.page||V,page_size:Z.data.page_size||P.page_size,total_pages:Z.data.total_pages||1,count:Z.data.count||0,has_next:Z.data.has_next||!1,has_previous:Z.data.has_previous||!1}),g(null)}catch(J){console.error("  :",J),g(((T=(q=J.response)==null?void 0:q.data)==null?void 0:T.error)||"  ")}finally{d(!1)}},F=V=>{V>=1&&V<=M.total_pages&&($(V),window.scrollTo({top:0,behavior:"smooth"}))},H=V=>{V>=1&&V<=P.total_pages&&(U(V),window.scrollTo({top:0,behavior:"smooth"}))},ne=(V,q)=>{j(T=>({...T,[V]:q}))},X=V=>({accrual:"",redemption:"",expiry:"",adjustment:""})[V]||V,te=V=>V==="accrual"?s.jsx(o0,{}):s.jsx(i0,{}),se=()=>{const V=["","","","",""," ",""],q=r.map(A=>[new Date(A.created_at).toLocaleString("ru-RU"),A.user.full_name||A.user.username,A.location.name,X(A.transaction_type),parseFloat(A.amount).toFixed(2),parseFloat(A.balance_after).toFixed(2),A.description||""]),T=[V,...q].map(A=>A.map(Y=>`"${Y}"`).join(",")).join(`
`),J=new Blob(["\uFEFF"+T],{type:"text/csv;charset=utf-8;"}),Z=document.createElement("a");Z.href=URL.createObjectURL(J),Z.download=`bonus_history_${new Date().toISOString().split("T")[0]}.csv`,Z.click()};return l?s.jsx("div",{className:$s.container,children:s.jsx(Wn,{size:"large"})}):s.jsxs("div",{className:$s.container,children:[s.jsxs("div",{className:$s.header,children:[s.jsxs("h1",{children:[s.jsx(hi,{}),"  "]}),n==="transactions"&&s.jsxs("button",{onClick:se,className:$s.exportButton,children:[s.jsx(Mb,{}),"   CSV"]})]}),s.jsxs("div",{className:$s.tabs,children:[s.jsxs("button",{className:`${$s.tab} ${n==="transactions"?$s.activeTab:""}`,onClick:()=>a("transactions"),children:[s.jsx(JS,{})," "]}),s.jsxs("button",{className:`${$s.tab} ${n==="users"?$s.activeTab:""}`,onClick:()=>a("users"),children:[s.jsx(jg,{})," "]})]}),f&&s.jsx("div",{className:$s.error,children:f}),n==="transactions"?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:$s.filters,children:[s.jsxs("div",{className:$s.filterGroup,children:[s.jsxs("label",{children:[s.jsx(dr,{})," :"]}),s.jsxs("select",{value:S.location,onChange:V=>ne("location",V.target.value),children:[s.jsx("option",{value:"",children:" "}),b.map(V=>s.jsx("option",{value:V.id,children:V.name},V.id))]})]}),s.jsxs("div",{className:$s.filterGroup,children:[s.jsxs("label",{children:[s.jsx(Gm,{}),"  :"]}),s.jsxs("select",{value:S.transaction_type,onChange:V=>ne("transaction_type",V.target.value),children:[s.jsx("option",{value:"",children:" "}),s.jsx("option",{value:"accrual",children:""}),s.jsx("option",{value:"redemption",children:""}),s.jsx("option",{value:"expiry",children:""}),s.jsx("option",{value:"adjustment",children:""})]})]}),s.jsxs("div",{className:$s.filterGroup,children:[s.jsxs("label",{children:[s.jsx(Oo,{}),"  :"]}),s.jsx("input",{type:"date",value:S.start_date,onChange:V=>ne("start_date",V.target.value)})]}),s.jsxs("div",{className:$s.filterGroup,children:[s.jsxs("label",{children:[s.jsx(Oo,{}),"  :"]}),s.jsx("input",{type:"date",value:S.end_date,onChange:V=>ne("end_date",V.target.value)})]})]}),s.jsx("div",{className:$s.tableContainer,children:s.jsxs("table",{className:$s.table,children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:""}),s.jsx("th",{children:""}),s.jsx("th",{children:""}),s.jsx("th",{children:""}),s.jsx("th",{children:""}),s.jsx("th",{children:" "}),s.jsx("th",{children:""}),s.jsx("th",{children:""})]})}),s.jsx("tbody",{children:r.length===0?s.jsx("tr",{children:s.jsx("td",{colSpan:"8",className:$s.empty,children:" "})}):r.map(V=>s.jsxs("tr",{children:[s.jsx("td",{children:new Date(V.created_at).toLocaleString("ru-RU")}),s.jsx("td",{children:s.jsxs("div",{className:$s.userCell,children:[s.jsx(ec,{}),V.user.full_name||V.user.username]})}),s.jsx("td",{children:V.location.name}),s.jsx("td",{children:s.jsxs("div",{className:`${$s.typeCell} ${$s[V.transaction_type]}`,children:[te(V.transaction_type),X(V.transaction_type)]})}),s.jsxs("td",{className:`${$s.amountCell} ${parseFloat(V.amount)>=0?$s.positive:$s.negative}`,children:[parseFloat(V.amount)>=0?"+":"",parseFloat(V.amount).toFixed(2)]}),s.jsx("td",{children:parseFloat(V.balance_after).toFixed(2)}),s.jsx("td",{className:$s.descriptionCell,children:V.description||"-"}),s.jsx("td",{children:V.receipt?s.jsx("button",{className:$s.receiptLink,onClick:()=>t(`/business/${e}/transactions?receipt=${V.receipt.id}`),children:V.receipt.number}):"-"})]},V.id))})]})}),M.total_pages>1&&s.jsxs("div",{className:$s.pagination,children:[s.jsx("button",{className:$s.paginationButton,onClick:()=>F(M.page-1),disabled:!M.has_previous||l,children:""}),s.jsxs("div",{className:$s.paginationInfo,children:[" ",M.page,"  ",M.total_pages,M.count>0&&s.jsxs("span",{className:$s.paginationCount,children:["(",M.count," )"]})]}),s.jsx("button",{className:$s.paginationButton,onClick:()=>F(M.page+1),disabled:!M.has_next||l,children:""})]})]}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:$s.userSearch,children:s.jsxs("div",{className:$s.searchInputWrapper,children:[s.jsx(ri,{className:$s.searchIcon}),s.jsx("input",{type:"text",placeholder:"    email...",value:N,onChange:V=>I(V.target.value),className:$s.searchInput})]})}),s.jsx("div",{className:$s.tableContainer,children:s.jsxs("table",{className:$s.table,children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:""}),s.jsx("th",{children:"Email"}),s.jsx("th",{children:" "}),s.jsx("th",{children:""}),s.jsx("th",{children:" "}),s.jsx("th",{children:" "})]})}),s.jsx("tbody",{children:l?s.jsx("tr",{children:s.jsx("td",{colSpan:"6",className:$s.empty,children:s.jsx(Wn,{size:"medium"})})}):o.length===0?s.jsx("tr",{children:s.jsx("td",{colSpan:"6",className:$s.empty,children:"  "})}):o.map(V=>s.jsxs("tr",{children:[s.jsx("td",{children:s.jsxs("div",{className:$s.userCell,children:[s.jsx(ec,{}),V.user.full_name||V.user.username]})}),s.jsx("td",{children:V.user.email||"-"}),s.jsxs("td",{className:$s.balanceCell,children:[parseFloat(V.balance||0).toLocaleString("ru-RU",{maximumFractionDigits:2})," "]}),s.jsx("td",{children:V.tier?s.jsx("span",{className:$s.tierBadge,children:V.tier.name}):s.jsx("span",{className:$s.noTier,children:" "})}),s.jsx("td",{children:V.tier?s.jsxs("span",{className:$s.bonusPercent,children:[parseFloat(V.tier.bonus_percent).toFixed(2),"%"]}):"-"}),s.jsx("td",{children:V.total_purchases||0})]},V.user.id))})]})}),P.total_pages>1&&s.jsxs("div",{className:$s.pagination,children:[s.jsx("button",{className:$s.paginationButton,onClick:()=>H(P.page-1),disabled:!P.has_previous||l,children:""}),s.jsxs("div",{className:$s.paginationInfo,children:[" ",P.page,"  ",P.total_pages,P.count>0&&s.jsxs("span",{className:$s.paginationCount,children:["(",P.count," )"]})]}),s.jsx("button",{className:$s.paginationButton,onClick:()=>H(P.page+1),disabled:!P.has_next||l,children:""})]})]})]})},$jt="_container_c0zff_5",Pjt="_header_c0zff_27",Fjt="_title_c0zff_59",Hjt="_exportButton_c0zff_83",zjt="_tabs_c0zff_133",Vjt="_tab_c0zff_133",qjt="_active_c0zff_205",Ujt="_content_c0zff_217",Wjt="_error_c0zff_227",Yjt="_filtersSection_c0zff_251",Gjt="_filterToggle_c0zff_259",Qjt="_filtersPanel_c0zff_307",Xjt="_filterRow_c0zff_329",Kjt="_filterLabel_c0zff_341",Zjt="_filterSelect_c0zff_359",Jjt="_dateRangePicker_c0zff_393",eNt="_datePickerPopper_c0zff_433",tNt="_transactionsList_c0zff_483",nNt="_transactionCard_c0zff_495",sNt="_transactionHeader_c0zff_521",aNt="_transactionType_c0zff_539",rNt="_typeIcon_c0zff_553",iNt="_accrual_c0zff_575",oNt="_redemption_c0zff_585",cNt="_expiry_c0zff_587",lNt="_adjustment_c0zff_597",uNt="_typeLabel_c0zff_607",dNt="_transactionAmount_c0zff_619",hNt="_positive_c0zff_633",fNt="_negative_c0zff_643",mNt="_transactionBody_c0zff_653",pNt="_transactionRow_c0zff_665",gNt="_transactionLabel_c0zff_679",_Nt="_transactionValue_c0zff_693",vNt="_receiptLink_c0zff_711",xNt="_searchSection_c0zff_757",bNt="_searchInputGroup_c0zff_765",yNt="_searchIcon_c0zff_797",wNt="_searchInput_c0zff_765",CNt="_usersList_c0zff_843",SNt="_userCard_c0zff_855",jNt="_userHeader_c0zff_881",NNt="_userInfo_c0zff_901",ENt="_userAvatar_c0zff_915",kNt="_userDetails_c0zff_941",INt="_userName_c0zff_951",DNt="_userEmail_c0zff_971",TNt="_userBalance_c0zff_989",ANt="_userBody_c0zff_1005",MNt="_userRow_c0zff_1017",RNt="_userLabel_c0zff_1031",ONt="_tierBadge_c0zff_1041",BNt="_noTier_c0zff_1059",LNt="_bonusPercent_c0zff_1071",$Nt="_pagination_c0zff_1085",PNt="_paginationButton_c0zff_1103",FNt="_paginationInfo_c0zff_1163",HNt="_emptyState_c0zff_1181",zNt="_emptyIcon_c0zff_1201",VNt="_loadingContainer_c0zff_1227",On={container:$jt,header:Pjt,title:Fjt,exportButton:Hjt,tabs:zjt,tab:Vjt,active:qjt,content:Ujt,error:Wjt,filtersSection:Yjt,filterToggle:Gjt,filtersPanel:Qjt,filterRow:Xjt,filterLabel:Kjt,filterSelect:Zjt,dateRangePicker:Jjt,datePickerPopper:eNt,transactionsList:tNt,transactionCard:nNt,transactionHeader:sNt,transactionType:aNt,typeIcon:rNt,accrual:iNt,redemption:oNt,expiry:cNt,adjustment:lNt,typeLabel:uNt,transactionAmount:dNt,positive:hNt,negative:fNt,transactionBody:mNt,transactionRow:pNt,transactionLabel:gNt,transactionValue:_Nt,receiptLink:vNt,searchSection:xNt,searchInputGroup:bNt,searchIcon:yNt,searchInput:wNt,usersList:CNt,userCard:SNt,userHeader:jNt,userInfo:NNt,userAvatar:ENt,userDetails:kNt,userName:INt,userEmail:DNt,userBalance:TNt,userBody:ANt,userRow:MNt,userLabel:RNt,tierBadge:ONt,noTier:BNt,bonusPercent:LNt,pagination:$Nt,paginationButton:PNt,paginationInfo:FNt,emptyState:HNt,emptyIcon:zNt,loadingContainer:VNt};Xn.extend(g0);Xn.extend(_0);Xn.locale("ru");const qNt=()=>{const{business_slug:e}=fa(),t=Rs(),[n,a]=v.useState("transactions"),[r,i]=v.useState([]),[o,c]=v.useState([]),[l,d]=v.useState(!0),[f,g]=v.useState(null),[b,w]=v.useState([]),[S,j]=v.useState({location:"",transaction_type:"",start_date:"",end_date:"",user_id:""}),[N,I]=v.useState(""),[M,B]=v.useState(!1),[P,O]=v.useState({page:1,page_size:20,total_pages:1,count:0,has_next:!1,has_previous:!1}),[R,$]=v.useState({page:1,page_size:20,total_pages:1,count:0,has_next:!1,has_previous:!1}),[U,F]=v.useState([null,null]),[H,ne]=U,X=Intl.DateTimeFormat().resolvedOptions().timeZone;v.useEffect(()=>{te()},[e]),v.useEffect(()=>{n==="transactions"?(O(G=>({...G,page:1})),se(1)):n==="users"&&($(G=>({...G,page:1})),V(1))},[e,S,n]),v.useEffect(()=>{if(n==="users"){const G=setTimeout(()=>{$(oe=>({...oe,page:1})),V(1)},500);return()=>clearTimeout(G)}},[N]);const te=async()=>{try{const G=await Re.get(`api/business/${e}/locations/`);w(G.data)}catch(G){console.error("  :",G)}},se=async(G=1)=>{var oe,ee;try{d(!0);const ae={page:G,page_size:P.page_size};S.location&&(ae.location=S.location),S.transaction_type&&(ae.transaction_type=S.transaction_type),S.start_date&&(ae.start_date=S.start_date),S.end_date&&(ae.end_date=S.end_date),S.user_id&&(ae.user_id=S.user_id);const ie=await Re.get(`api/business/${e}/bonus-history/`,{params:ae});i(ie.data.results||[]),O({page:ie.data.page||G,page_size:ie.data.page_size||P.page_size,total_pages:ie.data.total_pages||1,count:ie.data.count||0,has_next:ie.data.has_next||!1,has_previous:ie.data.has_previous||!1}),g(null)}catch(ae){console.error("  :",ae),g(((ee=(oe=ae.response)==null?void 0:oe.data)==null?void 0:ee.error)||"   ")}finally{d(!1)}},V=async(G=1)=>{var oe,ee;try{d(!0);const ae={page:G,page_size:R.page_size};N&&(ae.search=N);const ie=await Re.get(`api/business/${e}/bonus-users/`,{params:ae});c(ie.data.results||[]),$({page:ie.data.page||G,page_size:ie.data.page_size||R.page_size,total_pages:ie.data.total_pages||1,count:ie.data.count||0,has_next:ie.data.has_next||!1,has_previous:ie.data.has_previous||!1}),g(null)}catch(ae){console.error("  :",ae),g(((ee=(oe=ae.response)==null?void 0:oe.data)==null?void 0:ee.error)||"  ")}finally{d(!1)}},q=G=>{G>=1&&G<=P.total_pages&&se(G)},T=G=>{G>=1&&G<=R.total_pages&&V(G)},J=(G,oe)=>{j(ee=>({...ee,[G]:oe}))},Z=G=>{var oe,ee;G&&G.length===2?(F([((oe=G[0])==null?void 0:oe.toDate())||null,((ee=G[1])==null?void 0:ee.toDate())||null]),J("start_date",G[0]?Xn(G[0]).tz(X).startOf("day").utc().format():""),J("end_date",G[1]?Xn(G[1]).tz(X).endOf("day").utc().format():"")):(F([null,null]),J("start_date",""),J("end_date",""))},A=G=>({accrual:"",redemption:"",expiry:"",adjustment:""})[G]||G,Y=G=>G==="accrual"?s.jsx(o0,{}):s.jsx(i0,{}),K=()=>{const G=["","","","",""," ",""],oe=r.map(ue=>[new Date(ue.created_at).toLocaleString("ru-RU"),ue.user.full_name||ue.user.username,ue.location.name,A(ue.transaction_type),parseFloat(ue.amount).toFixed(2),parseFloat(ue.balance_after).toFixed(2),ue.description||""]),ee=[G,...oe].map(ue=>ue.map(he=>`"${he}"`).join(",")).join(`
`),ae=new Blob(["\uFEFF"+ee],{type:"text/csv;charset=utf-8;"}),ie=document.createElement("a");ie.href=URL.createObjectURL(ae),ie.download=`bonus_history_${new Date().toISOString().split("T")[0]}.csv`,ie.click()};return l&&r.length===0&&o.length===0?s.jsx("div",{className:On.loadingContainer,children:s.jsx(Wn,{size:"large"})}):s.jsxs("div",{className:On.container,children:[s.jsxs("div",{className:On.header,children:[s.jsxs("h1",{className:On.title,children:[s.jsx(hi,{}),"  "]}),n==="transactions"&&s.jsx("button",{onClick:K,className:On.exportButton,children:s.jsx(Mb,{})})]}),s.jsxs("div",{className:On.tabs,children:[s.jsxs("button",{className:`${On.tab} ${n==="transactions"?On.active:""}`,onClick:()=>a("transactions"),children:[s.jsx(JS,{})," "]}),s.jsxs("button",{className:`${On.tab} ${n==="users"?On.active:""}`,onClick:()=>a("users"),children:[s.jsx(jg,{})," "]})]}),s.jsxs("div",{className:On.content,children:[f&&s.jsx("div",{className:On.error,children:f}),n==="transactions"?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:On.filtersSection,children:[s.jsxs("button",{className:On.filterToggle,onClick:()=>B(!M),children:[s.jsx(Gm,{})," ",M?" ":" ",M?s.jsx(Lo,{}):s.jsx(Bo,{})]}),M&&s.jsxs("div",{className:On.filtersPanel,children:[s.jsxs("div",{className:On.filterRow,children:[s.jsx("label",{className:On.filterLabel,children:""}),s.jsxs("select",{value:S.location,onChange:G=>J("location",G.target.value),className:On.filterSelect,children:[s.jsx("option",{value:"",children:" "}),b.map(G=>s.jsx("option",{value:G.id,children:G.name},G.id))]})]}),s.jsxs("div",{className:On.filterRow,children:[s.jsx("label",{className:On.filterLabel,children:" "}),s.jsxs("select",{value:S.transaction_type,onChange:G=>J("transaction_type",G.target.value),className:On.filterSelect,children:[s.jsx("option",{value:"",children:" "}),s.jsx("option",{value:"accrual",children:""}),s.jsx("option",{value:"redemption",children:""}),s.jsx("option",{value:"expiry",children:""}),s.jsx("option",{value:"adjustment",children:""})]})]}),s.jsxs("div",{className:On.filterRow,children:[s.jsx("label",{className:On.filterLabel,children:""}),s.jsx(Tl,{locale:vb,children:s.jsx(wu.RangePicker,{value:H&&ne?[Xn(H),Xn(ne)]:null,onChange:Z,format:"DD.MM.YYYY",className:On.dateRangePicker,disabledDate:G=>G&&G>Xn().endOf("day"),placeholder:["",""],getPopupContainer:G=>G.parentElement,popupClassName:On.datePickerPopper,suffixIcon:s.jsx(Oo,{})})})]})]})]}),s.jsx("div",{className:On.transactionsList,children:r.length===0?s.jsxs("div",{className:On.emptyState,children:[s.jsx(JS,{className:On.emptyIcon}),s.jsx("p",{children:" "})]}):r.map(G=>s.jsxs("div",{className:On.transactionCard,children:[s.jsxs("div",{className:On.transactionHeader,children:[s.jsxs("div",{className:On.transactionType,children:[s.jsx("span",{className:`${On.typeIcon} ${On[G.transaction_type]}`,children:Y(G.transaction_type)}),s.jsx("span",{className:On.typeLabel,children:A(G.transaction_type)})]}),s.jsxs("div",{className:`${On.transactionAmount} ${parseFloat(G.amount)>=0?On.positive:On.negative}`,children:[parseFloat(G.amount)>=0?"+":"",parseFloat(G.amount).toFixed(2)]})]}),s.jsxs("div",{className:On.transactionBody,children:[s.jsxs("div",{className:On.transactionRow,children:[s.jsx("span",{className:On.transactionLabel,children:":"}),s.jsxs("span",{className:On.transactionValue,children:[s.jsx(ec,{})," ",G.user.full_name||G.user.username]})]}),s.jsxs("div",{className:On.transactionRow,children:[s.jsx("span",{className:On.transactionLabel,children:":"}),s.jsxs("span",{className:On.transactionValue,children:[s.jsx(dr,{})," ",G.location.name]})]}),s.jsxs("div",{className:On.transactionRow,children:[s.jsx("span",{className:On.transactionLabel,children:":"}),s.jsxs("span",{className:On.transactionValue,children:[s.jsx(Oo,{})," ",new Date(G.created_at).toLocaleString("ru-RU")]})]}),s.jsxs("div",{className:On.transactionRow,children:[s.jsx("span",{className:On.transactionLabel,children:" :"}),s.jsxs("span",{className:On.transactionValue,children:[parseFloat(G.balance_after).toFixed(2)," "]})]}),G.description&&s.jsxs("div",{className:On.transactionRow,children:[s.jsx("span",{className:On.transactionLabel,children:":"}),s.jsx("span",{className:On.transactionValue,children:G.description})]}),G.receipt&&s.jsx("div",{className:On.transactionRow,children:s.jsxs("button",{className:On.receiptLink,onClick:()=>t(`/business/${e}/transactions?receipt=${G.receipt.id}`),children:[s.jsx(Do,{}),"  ",G.receipt.number]})})]})]},G.id))}),P.total_pages>1&&s.jsxs("div",{className:On.pagination,children:[s.jsx("button",{className:On.paginationButton,onClick:()=>q(P.page-1),disabled:!P.has_previous||l,children:s.jsx(jl,{})}),s.jsxs("span",{className:On.paginationInfo,children:[P.page," / ",P.total_pages]}),s.jsx("button",{className:On.paginationButton,onClick:()=>q(P.page+1),disabled:!P.has_next||l,children:s.jsx(Nl,{})})]})]}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:On.searchSection,children:s.jsxs("div",{className:On.searchInputGroup,children:[s.jsx(ri,{className:On.searchIcon}),s.jsx("input",{type:"text",placeholder:"    email...",value:N,onChange:G=>I(G.target.value),className:On.searchInput})]})}),s.jsx("div",{className:On.usersList,children:l?s.jsx("div",{className:On.loadingContainer,children:s.jsx(Wn,{size:"medium"})}):o.length===0?s.jsxs("div",{className:On.emptyState,children:[s.jsx(jg,{className:On.emptyIcon}),s.jsx("p",{children:"  "})]}):o.map(G=>s.jsxs("div",{className:On.userCard,children:[s.jsxs("div",{className:On.userHeader,children:[s.jsxs("div",{className:On.userInfo,children:[s.jsx("div",{className:On.userAvatar,children:s.jsx(ec,{})}),s.jsxs("div",{className:On.userDetails,children:[s.jsx("h3",{className:On.userName,children:G.user.full_name||G.user.username}),G.user.email&&s.jsx("p",{className:On.userEmail,children:G.user.email})]})]}),s.jsxs("div",{className:On.userBalance,children:[parseFloat(G.balance||0).toLocaleString("ru-RU",{maximumFractionDigits:2})," "]})]}),s.jsxs("div",{className:On.userBody,children:[s.jsxs("div",{className:On.userRow,children:[s.jsx("span",{className:On.userLabel,children:":"}),G.tier?s.jsx("span",{className:On.tierBadge,children:G.tier.name}):s.jsx("span",{className:On.noTier,children:" "})]}),s.jsxs("div",{className:On.userRow,children:[s.jsx("span",{className:On.userLabel,children:" :"}),G.tier?s.jsxs("span",{className:On.bonusPercent,children:[parseFloat(G.tier.bonus_percent).toFixed(2),"%"]}):s.jsx("span",{children:"-"})]}),s.jsxs("div",{className:On.userRow,children:[s.jsx("span",{className:On.userLabel,children:":"}),s.jsx("span",{children:G.total_purchases||0})]})]})]},G.user.id))}),R.total_pages>1&&s.jsxs("div",{className:On.pagination,children:[s.jsx("button",{className:On.paginationButton,onClick:()=>T(R.page-1),disabled:!R.has_previous||l,children:s.jsx(jl,{})}),s.jsxs("span",{className:On.paginationInfo,children:[R.page," / ",R.total_pages]}),s.jsx("button",{className:On.paginationButton,onClick:()=>T(R.page+1),disabled:!R.has_next||l,children:s.jsx(Nl,{})})]})]})]})]})};function UNt(){const e=oi(),t=e.pathname.startsWith("/business/"),n=!t;return v.useEffect(()=>(t?(document.body.classList.add("business-theme"),document.body.classList.remove("marketplace-theme")):(document.body.classList.add("marketplace-theme"),document.body.classList.remove("business-theme")),()=>{document.body.classList.remove("business-theme"),document.body.classList.remove("marketplace-theme")}),[t,n]),t?s.jsxs(s.Fragment,{children:[s.jsx(Qk,{}),s.jsx(eI,{}),s.jsx(NZ,{}),s.jsx("div",{className:"content-wrapper-business",children:s.jsx(Fc,{mode:"wait",children:s.jsx(rs.main,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.3},className:"page-content-business",children:s.jsx(rE,{location:e,children:s.jsx(Ra,{element:s.jsx(kI,{}),children:s.jsx(Ra,{element:s.jsx(I6e,{}),children:s.jsxs(Ra,{element:s.jsx(z6e,{}),children:[s.jsx(Ra,{path:"/business/:business_slug/location-select",element:s.jsx(m8e,{})}),s.jsx(Ra,{path:"/business/:business_slug/main",element:s.jsx($i,{desktopComponent:bNe,mobileComponent:k6e})}),s.jsx(Ra,{path:"/business/:business_slug/products",element:s.jsx($i,{desktopComponent:zde,mobileComponent:zhe})}),s.jsx(Ra,{path:"/business/:business_slug/products/create",element:s.jsx($i,{desktopComponent:b5e,mobileComponent:EEe})}),s.jsx(Ra,{path:"/business/:business_slug/products/excel-import",element:s.jsx($i,{desktopComponent:Lke,mobileComponent:zIe})}),s.jsx(Ra,{path:"/business/:business_slug/products/:product_id",element:s.jsx($i,{desktopComponent:tAe,mobileComponent:SOe})}),s.jsx(Ra,{path:"/business/:business_slug/products/:product_id/edit",element:s.jsx($i,{desktopComponent:d1e,mobileComponent:dge})}),s.jsx(Ra,{path:"/business/:business_slug/variants-location-price",element:s.jsx(Qct,{})}),s.jsx(Ra,{path:"/business/:business_slug/sale-products",element:s.jsx($i,{desktopComponent:LFe,mobileComponent:Sqe})}),s.jsx(Ra,{path:"/business/:business_slug/transactions",element:s.jsx($i,{desktopComponent:Yrt,mobileComponent:Uot})}),s.jsx(Ra,{path:"/business/:business_slug/bonus-history",element:s.jsx($i,{desktopComponent:Ljt,mobileComponent:qNt})}),s.jsx(Ra,{path:"/business/:business_slug/settings",element:s.jsx($i,{desktopComponent:IYe,mobileComponent:DGe})}),s.jsx(Ra,{path:"/business/:business_slug/batches",element:s.jsx($i,{desktopComponent:_pt,mobileComponent:Apt})}),s.jsx(Ra,{path:"/business/:business_slug/transfers/create",element:s.jsx($i,{desktopComponent:FF,mobileComponent:cgt})}),s.jsx(Ra,{path:"/business/:business_slug/tasks",element:s.jsx($i,{desktopComponent:D0t,mobileComponent:uvt})}),s.jsx(Ra,{path:"/business/:business_slug/tasks/:task_id",element:s.jsx($i,{desktopComponent:Gxt,mobileComponent:Ayt})}),s.jsx(Ra,{path:"/business/:business_slug/inventory",element:s.jsx($i,{desktopComponent:S2t,mobileComponent:Ewt})}),s.jsx(Ra,{path:"/business/:business_slug/inventory/:session_id",element:s.jsx($i,{desktopComponent:wCt,mobileComponent:TSt})})]})})})})},e.pathname)})}),s.jsx(zZ,{})]}):s.jsxs(s.Fragment,{children:[s.jsx(Qk,{}),s.jsx(eI,{}),s.jsx(qK,{}),s.jsx("div",{className:"content-wrapper",children:s.jsx(UZ,{children:s.jsx(Fc,{mode:"wait",children:s.jsx(rs.main,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.3},className:"page-content",children:s.jsxs(rE,{location:e,children:[s.jsxs(Ra,{element:s.jsx(Lle,{}),children:[s.jsx(Ra,{path:"/",element:s.jsx($i,{desktopComponent:hte,mobileComponent:nne})}),s.jsx(Ra,{path:"/registration-login",element:s.jsx(mle,{})}),s.jsx(Ra,{path:"/password-reset",element:s.jsx(Ble,{})}),s.jsx(Ra,{path:"/marketplace",element:s.jsx(sne,{})}),s.jsx(Ra,{path:"/marketplace/categories",element:s.jsx(rne,{})}),s.jsx(Ra,{path:"/marketplace/categories/:pk",element:s.jsx(ine,{})}),s.jsx(Ra,{path:"/marketplace/categories/:pk/products",element:s.jsx(Sne,{})}),s.jsx(Ra,{path:"/marketplace/products/:pk",element:s.jsx(cse,{})}),s.jsx(Ra,{path:"/business-categories",element:s.jsx(ane,{})}),s.jsx(Ra,{path:"/invite/employee/:token",element:s.jsx(pct,{})}),s.jsx(Ra,{path:"/privacy",element:s.jsx(zSt,{})})]}),s.jsx(Ra,{element:s.jsx(kI,{}),children:s.jsx(Ra,{path:"/account",element:s.jsx($i,{desktopComponent:Kre,mobileComponent:Ece})})})]})},e.pathname)})})}),s.jsx(vZ,{}),s.jsx(tjt,{})]})}const WNt=document.getElementById("root"),YNt=_z.createRoot(WNt);YNt.render(s.jsx(MV,{children:s.jsx(zK,{children:s.jsx(VK,{children:s.jsx(UNt,{})})})}));
