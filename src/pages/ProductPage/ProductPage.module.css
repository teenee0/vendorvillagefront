/* ===========================
   ProductPage.module.css
   =========================== */

:root {
    --onyx-midnight: #121212;
    /* Основной глубокий фон */
    --obsidian-elite: #1a1a1a;
    /* Вторичный фон (карточки) */
    --phantom-noir: #222222;
    /* Акцентные панели / hover */
    --gilded-shadow: #2b2b2b;
    /* Границы, линии */

    --platinum-gleam: #e0e0e0;
    /* Основной текст */
    --silver-whisper: #b0b0b0;
    /* Вторичный текст */
    --palladium-mist: #808080;
    /* Неактивные элементы */

    --royal-emerald: #2daf9f;
    /* Акцентный зеленовато‑бирюзовый */
    --imperial-gold: #d4af37;
    /* Золотой акцент */
    --velvet-ruby: #a83a3a;
    /* Опасные действия */
    --luminous-sapphire: #3a5da8;
    /* Инфо‑акцент */

    --bg-bs-dark-primary: #060010;
    /* Бизнес‑фон */

    --radius-sm: 10px;
    --radius-md: 14px;
    --radius-lg: 18px;

    --shadow-soft: 0 8px 24px rgba(0, 0, 0, .35);
    --shadow-hard: 0 10px 30px rgba(0, 0, 0, .55);

    --gap-xxs: 6px;
    --gap-xs: 10px;
    --gap-sm: 14px;
    --gap-md: 18px;
    --gap-lg: 24px;
    --gap-xl: 32px;
}

/* ---------- Base ---------- */
.pageWrapper {
    background: radial-gradient(1200px 800px at 20% -20%, #1a1a1a 0%, transparent 60%),
        radial-gradient(1100px 700px at 110% 10%, #161616 0%, transparent 50%),
        var(--onyx-midnight);
    min-height: 100vh;
    color: var(--platinum-gleam);
    padding: 24px;
}

.container {
    max-width: 1200px;
    margin: 0 auto;
}

/* ---------- States ---------- */
.loading,
.error,
.noItems {
    background: var(--obsidian-elite);
    border: 1px solid var(--gilded-shadow);
    border-radius: var(--radius-md);
    padding: 18px 16px;
    text-align: center;
    color: var(--platinum-gleam);
    box-shadow: var(--shadow-soft);
}

.error {
    border-color: rgba(168, 58, 58, .5);
    color: #ffd6d6;
}

/* ---------- Header ---------- */
.productHeader {
    display: flex;
    flex-direction: column;
    gap: var(--gap-xs);
    margin-bottom: var(--gap-lg);
}

.headerRow {
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: var(--gap-sm);
}

.title {
    font-size: clamp(22px, 2.2vw, 30px);
    letter-spacing: .2px;
    margin: 0;
}

.category {
    color: var(--silver-whisper);
    margin: 0;
}

.editButton {
    background: linear-gradient(180deg, #e6c663, var(--imperial-gold));
    color: #111;
    border: none;
    padding: 10px 14px;
    font-weight: 700;
    border-radius: 10px;
    cursor: pointer;
    transition: transform .15s ease, box-shadow .2s ease, filter .2s ease;
    box-shadow: 0 6px 16px rgba(212, 175, 55, .25);
}

.editButton:hover {
    transform: translateY(-1px);
    filter: brightness(1.05);
}

.editButton:active {
    transform: translateY(0);
    filter: brightness(.96);
}

/* ---------- Top layout ---------- */
.productContent {
    display: grid;
    grid-template-columns: 1.2fr 1fr;
    gap: var(--gap-lg);
    margin-bottom: var(--gap-xl);
}

.gallerySection,
.productInfo {
    background: linear-gradient(180deg, var(--obsidian-elite), var(--phantom-noir));
    border: 1px solid var(--gilded-shadow);
    border-radius: var(--radius-lg);
    box-shadow: var(--shadow-soft);
}

.gallerySection {
    padding: var(--gap-md);
}

.productInfo {
    padding: var(--gap-lg);
}

.mainImage {
    overflow: hidden;
    border-radius: var(--radius-md);
    background: #0f0f0f;
    border: 1px solid var(--gilded-shadow);
}

.mainImage img {
    width: 100%;
    height: auto;
    display: block;
    transform: scale(1.0001);
}

.thumbnailList {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(86px, 1fr));
    gap: var(--gap-sm);
    margin-top: var(--gap-md);
}

.thumbnail {
    width: 100%;
    aspect-ratio: 1 / 1;
    object-fit: cover;
    border-radius: 12px;
    border: 1px solid var(--gilded-shadow);
    background: #0d0d0d;
    transition: transform .15s ease, box-shadow .2s ease, border-color .2s ease;
    cursor: pointer;
}

.thumbnail:hover {
    transform: translateY(-2px);
    border-color: #3a3a3a;
    box-shadow: 0 8px 18px rgba(0, 0, 0, .35);
}

/* ---------- Product info ---------- */
.description {
    color: var(--silver-whisper);
    line-height: 1.6;
    margin-top: 0;
    margin-bottom: var(--gap-md);
}

.variantSelector {
    display: flex;
    align-items: center;
    gap: var(--gap-sm);
    margin-bottom: var(--gap-md);
}

.variantSelector label {
    color: var(--silver-whisper);
}

.variantSelector select,
.stockSelector select,
.input {
    background: #141414;
    border: 1px solid var(--gilded-shadow);
    color: var(--platinum-gleam);
    border-radius: 10px;
    padding: 10px 12px;
    outline: none;
    transition: border-color .2s ease, box-shadow .2s ease;
}

.variantSelector select:focus,
.stockSelector select:focus,
.input:focus {
    border-color: #3a3a3a;
    box-shadow: 0 0 0 4px rgba(45, 175, 159, .12);
}

.variantDetails h3 {
    margin-top: 0;
    margin-bottom: var(--gap-sm);
}

.variantDetails ul {
    list-style: none;
    padding: 0;
    margin: 0 0 var(--gap-lg);
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 8px 18px;
}

.variantDetails li {
    color: var(--platinum-gleam);
}

.variantDetails li strong {
    color: var(--silver-whisper);
}

/* ---------- Pricing ---------- */
.priceSection {
    display: grid;
    grid-template-columns: repeat(3, minmax(120px, 1fr));
    gap: var(--gap-sm);
    margin-bottom: var(--gap-lg);
}

.priceBlock {
    background: #161616;
    border: 1px solid var(--gilded-shadow);
    border-radius: 12px;
    padding: 12px;
}

.priceLabel {
    color: var(--silver-whisper);
    font-size: 13px;
}

.priceValue {
    font-weight: 800;
    font-size: clamp(18px, 2.2vw, 22px);
}

.oldPrice {
    color: #ffdddd;
    opacity: .7;
    text-decoration: line-through;
}

.discountValue {
    color: var(--royal-emerald);
    font-weight: 700;
}

/* ---------- Stock block ---------- */
.stockInfo {
    background: #151515;
    border: 1px solid var(--gilded-shadow);
    border-radius: 12px;
    padding: 14px;
    margin-bottom: var(--gap-lg);
}

.stockSelector {
    display: flex;
    align-items: center;
    gap: var(--gap-sm);
    margin-bottom: var(--gap-sm);
}

.stockSelector label {
    color: var(--silver-whisper);
}

.stockStats {
    display: grid;
    gap: var(--gap-sm);
}

.stockStat {
    background: #121212;
    border: 1px solid var(--gilded-shadow);
    border-radius: 10px;
    padding: 12px;
}

.statLabel {
    color: var(--silver-whisper);
}

/* ---------- Barcode ---------- */
.barcodeSection {
    background: #141414;
    border: 1px solid var(--gilded-shadow);
    border-radius: 12px;
    padding: 14px;
    align-items: center;
    display: grid;
    justify-content: center;
}

.barcodeImg {
    width: 100%;
    max-width: 320px;
    height: auto;
    background: #0e0e0e;
    border: 1px dashed #333;
    border-radius: 8px;
    display: block;
    margin-bottom: 10px;
}

.barcodeNumber {
    color: var(--silver-whisper);
    margin: 6px 0 12px;
}

.printButton,
.actionButton,
.refreshButton,
.smallBtn,
.smallBtnGhost {
    border: none;
    border-radius: 10px;
    padding: 10px 14px;
    font-weight: 700;
    cursor: pointer;
    transition: transform .15s ease, box-shadow .2s ease, filter .2s ease, background .2s ease;
}

.printButton {
    background: linear-gradient(180deg, #36c8b4, var(--royal-emerald));
    color: #0b0b0b;
    box-shadow: 0 8px 18px rgba(45, 175, 159, .3);
}

.printButton:hover {
    transform: translateY(-1px);
    filter: brightness(1.05);
}

.actionButton {
    background: linear-gradient(180deg, #e6c663, var(--imperial-gold));
    color: #111;
    box-shadow: 0 8px 18px rgba(212, 175, 55, .3);
}

.actionButton:hover {
    transform: translateY(-1px);
    filter: brightness(1.05);
}

.refreshButton {
    background: #233455;
    color: #e9f2ff;
    box-shadow: 0 8px 18px rgba(58, 93, 168, .25);
}

.refreshButton:hover {
    filter: brightness(1.05);
}

.smallBtn {
    background: #184e46;
    color: #d9fff6;
}

.smallBtn:hover {
    filter: brightness(1.1);
}

.smallBtnGhost {
    background: transparent;
    border: 1px solid #2f6b63;
    color: #a6fff0;
}

.smallBtnGhost:hover {
    background: rgba(45, 175, 159, .08);
}

/* ---------- Main tabs ---------- */
.mainTabs {
    display: flex;
    gap: 6px;
    margin: var(--gap-lg) 0 var(--gap-md);
    flex-wrap: wrap;
}

.mainTabButton {
    background: #141414;
    border: 1px solid var(--gilded-shadow);
    color: var(--silver-whisper);
    padding: 10px 14px;
    border-radius: 999px;
    cursor: pointer;
}

.activeMainTab {
    background: #1f3531;
    color: #d7fff9;
    border-color: #2e6b62;
    box-shadow: inset 0 0 0 1px rgba(45, 175, 159, .35);
}

.mainTabContent {
    background: linear-gradient(180deg, var(--obsidian-elite), var(--phantom-noir));
    border: 1px solid var(--gilded-shadow);
    border-radius: var(--radius-lg);
    box-shadow: var(--shadow-soft);
    padding: var(--gap-lg);
}

/* ---------- Sub tabs (stock) ---------- */
.stockManagementSection {}

.subTabs {
    display: flex;
    gap: 6px;
    margin-bottom: var(--gap-md);
    flex-wrap: wrap;
}

.subTabButton {
    background: #141414;
    border: 1px solid var(--gilded-shadow);
    color: var(--silver-whisper);
    padding: 8px 12px;
    border-radius: 999px;
    cursor: pointer;
}

.activeSubTab {
    background: #252525;
    color: var(--platinum-gleam);
    border-color: #3a3a3a;
}

/* ---------- Forms ---------- */
.formRow {
    display: grid;
    grid-template-columns: 1fr 2fr;
    gap: var(--gap-sm);
    margin-bottom: var(--gap-sm);
}

.formGroup {
    display: flex;
    flex-direction: column;
    gap: 6px;
}

.formGroup label {
    color: var(--silver-whisper);
}

.input {
    width: 100%;
}

.removeButton {
    background: linear-gradient(180deg, #c14e4e, var(--velvet-ruby));
    color: #fff3f3;
    border: none;
    border-radius: 10px;
    padding: 8px 12px;
    cursor: pointer;
    transition: transform .15s ease, filter .2s ease, box-shadow .2s ease;
}

.removeButton:hover {
    transform: translateY(-1px);
    filter: brightness(1.03);
}

/* ---------- Defects list ---------- */
.defectsSection h3,
.reservesSection h3 {
    margin-bottom: 10px;
}

.defectsList {
    display: flex;
    flex-direction: column;
    gap: 10px;
    margin-top: 12px;
}

.defectItem {
    background: #151515;
    border: 1px solid var(--gilded-shadow);
    border-radius: 12px;
    padding: 10px;
}

.defectHeader {
    display: flex;
    align-items: center;
    gap: 10px;
    margin-bottom: 6px;
    flex-wrap: wrap;
}

.defectQuantity {
    background: #2a3a2f;
    color: #c8ffe9;
    border-radius: 999px;
    padding: 4px 10px;
    font-weight: 700;
}

.defectDate {
    color: var(--palladium-mist);
    margin-left: auto;
}

.defectReason {
    color: var(--platinum-gleam);
}

.showMoreButton {
    display: inline-flex;
    margin-top: 8px;
    background: transparent;
    color: var(--luminous-sapphire);
    border: 1px dashed #2b3f6f;
    padding: 8px 10px;
    border-radius: 10px;
    cursor: pointer;
}

.showMoreButton:hover {
    background: rgba(58, 93, 168, .1);
}

/* ---------- Reserves ---------- */
.currentReserve {
    background: #141414;
    border: 1px solid var(--gilded-shadow);
    border-radius: 12px;
    padding: 12px;
    margin-top: 10px;
}

/* ---------- Analytics ---------- */
.analyticsSection {}

.analyticsGrid {
    display: grid;
    grid-template-columns: 0.9fr 1.1fr;
    gap: var(--gap-lg);
}

.analyticsCard {
    background: #141414;
    border: 1px solid var(--gilded-shadow);
    border-radius: 14px;
    padding: var(--gap-md);
    box-shadow: var(--shadow-soft);
}

.chartCard {
    grid-column: span 2;
}

.chartContainer {
    height: clamp(260px, 40vw, 420px);
}

/* ---------- History ---------- */
.historySection {}

.historyControls {
    display: flex;
    justify-content: flex-end;
    margin-bottom: var(--gap-sm);
}

.historyList {
    display: grid;
    gap: var(--gap-sm);
}

.historyItem {
    background: #151515;
    border: 1px solid var(--gilded-shadow);
    border-radius: 12px;
    padding: 12px;
}

.historyHeader {
    display: grid;
    grid-template-columns: 1fr auto;
    gap: var(--gap-sm);
    align-items: center;
}

.historyMeta {
    display: flex;
    gap: 8px;
    align-items: center;
    flex-wrap: wrap;
}

.historyType {
    background: #1e2b3f;
    color: #dbe9ff;
    border-radius: 999px;
    padding: 4px 10px;
    font-weight: 700;
}

.historyAction {
    color: var(--platinum-gleam);
    font-weight: 700;
}

.historyInfo {
    display: flex;
    gap: 10px;
    align-items: center;
    color: var(--palladium-mist);
    flex-wrap: wrap;
}

.historyDate,
.historyUser {
    white-space: nowrap;
}

.historyChanges {
    margin-top: 10px;
    display: grid;
    gap: 8px;
}

.changeItem {
    display: grid;
    grid-template-columns: 160px 18px 1fr;
    align-items: center;
    gap: 8px;
    background: #121212;
    border: 1px solid var(--gilded-shadow);
    border-radius: 10px;
    padding: 8px 10px;
}

.changeField {
    color: var(--silver-whisper);
}

.changeValues {
    display: flex;
    gap: 8px;
    flex-wrap: wrap;
}

.oldValue {
    color: #ffcccc;
    opacity: .8;
}

.changeArrow {
    text-align: center;
    color: var(--palladium-mist);
}

.newValue {
    color: #c8ffe9;
}

/* ---------- Sales Tab ---------- */
.salesSection {
    display: flex;
    flex-direction: column;
    gap: var(--gap-md);
}

.salesSection h3 {
    margin: 0 0 var(--gap-sm);
    font-size: clamp(18px, 2vw, 22px);
    font-weight: 700;
    color: var(--platinum-gleam);
}

.filterSection {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: var(--gap-sm);
    margin-bottom: var(--gap-md);
}

.filterGroup {
    display: flex;
    flex-direction: column;
    gap: 6px;
}

.filterGroup label {
    color: var(--silver-whisper);
    font-size: 13px;
}

.filterInput {
    background: #141414;
    border: 1px solid var(--gilded-shadow);
    color: var(--platinum-gleam);
    border-radius: 10px;
    padding: 10px 12px;
    outline: none;
    transition: border-color .2s ease, box-shadow .2s ease;
    width: 100%;
}

.filterInput:focus {
    border-color: #3a3a3a;
    box-shadow: 0 0 0 4px rgba(45, 175, 159, .12);
}

.dateRangePicker {
    position: relative;
    display: flex;
    align-items: center;
    gap: var(--gap-xs);
}

.calendarIcon {
    color: var(--imperial-gold);
    font-size: 18px;
    position: absolute;
    left: 12px;
    top: 50%;
    transform: translateY(-50%);
    pointer-events: none;
}

.dateRangePicker .filterInput {
    padding-left: 36px;
}

.statsCard {
    background: #141414;
    border: 1px solid var(--gilded-shadow);
    border-radius: 14px;
    padding: var(--gap-md);
    box-shadow: var(--shadow-soft);
}

.statsCard h4 {
    margin: 0 0 var(--gap-sm);
    font-size: clamp(16px, 1.8vw, 20px);
    font-weight: 700;
    color: var(--platinum-gleam);
}

.statsGrid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
    gap: var(--gap-sm);
}

.statItem {
    background: #121212;
    border: 1px solid var(--gilded-shadow);
    border-radius: 10px;
    padding: 12px;
    display: flex;
    justify-content: space-between;
    align-items: center;
    font-size: 13px;
    color: var(--silver-whisper);
}

.statItem span:last-child {
    font-weight: 700;
    color: var(--platinum-gleam);
}

.salesList {
    display: flex;
    flex-direction: column;
    gap: var(--gap-sm);
}

.saleItem {
    background: #151515;
    border: 1px solid var(--gilded-shadow);
    border-radius: 12px;
    padding: 12px;
    transition: transform .15s ease, box-shadow .2s ease;
}

.saleItem:hover {
    transform: translateY(-2px);
    box-shadow: 0 8px 18px rgba(0, 0, 0, .35);
}

.saleHeader {
    display: flex;
    justify-content: space-between;
    align-items: center;
    gap: var(--gap-sm);
    margin-bottom: var(--gap-xs);
}

.saleHeader span:first-child {
    font-weight: 700;
    color: var(--platinum-gleam);
}

.saleHeader span:last-child {
    font-weight: 600;
}

.success {
    color: #c8ffe9;
}

.danger {
    color: #ffcccc;
}

.refundedBadge {
    background: #2a1f1f;
    color: #ffcccc;
    border: 1px solid var(--velvet-ruby);
    border-radius: 999px;
    padding: 4px 10px;
    font-size: 12px;
    font-weight: 600;
    margin:5px;
}

.saleDetails {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
    gap: var(--gap-xs);
    color: var(--silver-whisper);
    font-size: 13px;
}

.saleDetails span {
    display: block;
}

.returnsInfo {
    margin-top: var(--gap-sm);
    background: #141414;
    border: 1px solid rgba(168, 58, 58, .5);
    border-radius: 10px;
    padding: 12px;
}

.returnsInfo h5 {
    margin: 0 0 var(--gap-xs);
    font-size: 14px;
    font-weight: 700;
    color: #ffcccc;
}

.returnItem {
    font-size: 13px;
    color: var(--silver-whisper);
    margin-bottom: var(--gap-xs);
}

.returnItem span {
    display: block;
}

.pagination {
    display: flex;
    justify-content: center;
    align-items: center;
    gap: var(--gap-sm);
    margin-top: var(--gap-md);
}

.pageButton {
    background: linear-gradient(180deg, #36c8b4, var(--royal-emerald));
    color: #0b0b0b;
    border: none;
    border-radius: 10px;
    padding: 10px 14px;
    font-weight: 700;
    cursor: pointer;
    transition: transform .15s ease, box-shadow .2s ease, filter .2s ease;
}

.pageButton:hover {
    transform: translateY(-1px);
    filter: brightness(1.05);
}

.pageButton:disabled {
    background: #2a2a2a;
    color: var(--palladium-mist);
    cursor: not-allowed;
}

.pagination span {
    color: var(--silver-whisper);
    font-size: 14px;
}

/* ---------- Responsive ---------- */
@media (max-width: 1200px) {
    .productContent {
        grid-template-columns: 1fr;
    }

    .analyticsGrid {
        grid-template-columns: 1fr;
    }

    .chartCard {
        grid-column: auto;
    }
}

@media (max-width: 900px) {
    .priceSection {
        grid-template-columns: 1fr 1fr;
    }

    .variantDetails ul {
        grid-template-columns: 1fr;
    }

    .stockStats {
        grid-template-columns: 1fr 1fr;
    }

    .filterSection {
        grid-template-columns: 1fr;
    }
}

@media (max-width: 680px) {
    .pageWrapper {
        padding: 16px;
    }

    .headerRow {
        flex-direction: column;
        align-items: flex-start;
        gap: 10px;
    }

    .formRow {
        grid-template-columns: 1fr;
    }

    .mainTabButton,
    .subTabButton {
        padding: 8px 12px;
    }

    .priceSection {
        grid-template-columns: 1fr;
    }

    .analyticsGrid {
        gap: var(--gap-md);
    }

    .historyHeader {
        grid-template-columns: 1fr;
    }

    .changeItem {
        grid-template-columns: 1fr;
        row-gap: 6px;
    }

    .saleDetails {
        grid-template-columns: 1fr;
    }

    .statsGrid {
        grid-template-columns: 1fr;
    }
}